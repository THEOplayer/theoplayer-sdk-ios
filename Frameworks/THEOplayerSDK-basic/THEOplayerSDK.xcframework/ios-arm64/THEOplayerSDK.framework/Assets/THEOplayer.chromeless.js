/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.1 (4.3.0)
 Created: 2022-11-15T10:18:27.103Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,c=t.clearTimeout,h=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,b=(t.WorkerGlobalScope,t.XMLHttpRequest);function p(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&p(t.prototype,n),i&&p(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=E.match(/Android ([0-9\.]+)/i),N=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=E.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),L=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=N?g(N[1]):0,this.Y=/Android/i.test(E),this.j=D?g(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.K=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=x?g(x[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(E),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=R?_(R[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.At=I?_(I[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(E),this.St=O?g(O[1]):0,this.Et=/webos|web0s/i.test(E),this.It=/Edge\/\d+/i.test(E),this.Rt=/Trident/i.test(E),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(E),this.Ct=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Pt=P?g(P[1]):0,this.Bt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.Tt,this.Ot=C?g(C[2]):0,this.xt=Boolean(B),this.Lt=B?g(B[1]):0,this.Mt=/CrKey/.test(E),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Xt="ios"===e.I,this.Ft="ios"===e.g,this.Ht=this.Ft||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return A(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"cn",get:function(){return this.ft}},{key:"hn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Fn",get:function(){return this.Xt}},{key:"Hn",get:function(){return this.Ft}},{key:"zn",get:function(){return this.Ht}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();L.Yn=new L;var M=L.Yn,U={}.hasOwnProperty,X={}.toString;function F(t){return null!=t}function H(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===X.call(t)};function V(t){return W(t)&&U.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function G(t){return W(t)&&t.constructor&&t.constructor===d}function q(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===X.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,c=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),c&&t.apply(a,u)}}var tt=!(M.Rn&&!M.Dn),nt=t.console;function it(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function et(t){return t.map(it).join(" ")}function rt(t){var n=nt&&nt[t];return n?n.bind&&tt?n.bind(nt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];nt[t](et(i))}:void 0}var st,ut=rt("log")||K,ot=rt("warn")||ut.bind(void 0,"WARNING:"),at=rt("error")||ut.bind(void 0,"ERROR:"),ct=(st=nt&&nt.assert)?st.bind&&tt?st.bind(nt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];nt.assert(t,et(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,["Assertion failed:"].concat(i))}},ht=null;try{ht=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ft(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Zn)}function lt(t){var n=w.clz32(t&-t);return t?31-n:n}ft.prototype.Zn,d.defineProperty(ft.prototype,"Zn",{value:!0}),ft.isLong=vt;var dt={},wt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=wt[t])?e:(i=mt(t,0,!0),r&&(wt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=mt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?It:Et;if(n){if(t<0)return It;if(t>=At)return Pt}else{if(t<=-Tt)return Bt;if(t+1>=Tt)return Ct}return t<0?gt(-t,n).neg():mt(t%pt|0,t/pt|0,n)}function mt(t,n,i){return new ft(t,n,i)}ft.fromInt=_t,ft.fromNumber=gt,ft.fromBits=mt;var yt=w.pow;function kt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?It:Et;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=gt(yt(i,8)),s=Et,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var c=gt(yt(i,o));s=s.mul(c).add(gt(a))}else s=(s=s.mul(r)).add(gt(a))}return s.unsigned=n,s}function bt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?kt(t,n):mt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ft.fromString=kt,ft.fromValue=bt;var pt=4294967296,At=pt*pt,Tt=At/2,St=_t(1<<24),Et=_t(0);ft.ZERO=Et;var It=_t(0,!0);ft.UZERO=It;var Rt=_t(1);ft.ONE=Rt;var Dt=_t(1,!0);ft.UONE=Dt;var Nt=_t(-1);ft.NEG_ONE=Nt;var Ct=mt(-1,2147483647,!1);ft.MAX_VALUE=Ct;var Pt=mt(-1,-1,!0);ft.MAX_UNSIGNED_VALUE=Pt;var Bt=mt(0,-2147483648,!1);ft.MIN_VALUE=Bt;var Ot=ft.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*pt+(this.low>>>0):this.high*pt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(yt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return vt(t)||(t=bt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(vt(t)||(t=bt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){vt(t)||(t=bt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=r+(65535&t.low))>>>16,c+=(h+=e+o)>>>16,a+=(c+=i+u)>>>16,a+=n+s,mt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ot.subtract=function(t){return vt(t)||(t=bt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=bt(t)),ht)return mt(ht.mul(this.low,this.high,t.low,t.high),ht.get_high(),this.unsigned);if(t.isZero())return this.unsigned?It:Et;if(this.eq(Bt))return t.isOdd()?Bt:Et;if(t.eq(Bt))return this.isOdd()?Bt:Et;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(St)&&t.lt(St))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=r*a)>>>16,h+=(f+=e*a)>>>16,f&=65535,h+=(f+=r*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=e*o)>>>16,h&=65535,c+=(h+=r*u)>>>16,c+=n*a+i*o+e*u+r*s,mt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(vt(t)||(t=bt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ht)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mt((this.unsigned?ht.div_u:ht.div_s)(this.low,this.high,t.low,t.high),ht.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?It:Et;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return It;if(t.gt(this.shru(1)))return Dt;e=It}else{if(this.eq(Bt))return t.eq(Rt)||t.eq(Nt)?Bt:t.eq(Bt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(Et)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Bt))return this.unsigned?It:Et;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Et}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:yt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return vt(t)||(t=bt(t)),ht?mt((this.unsigned?ht.rem_u:ht.rem_s)(this.low,this.high,t.low,t.high),ht.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return mt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?lt(this.low):lt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return vt(t)||(t=bt(t)),mt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return vt(t)||(t=bt(t)),mt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return vt(t)||(t=bt(t)),mt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?mt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:mt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ft.fromBytes=function(t,n,i){return i?ft.fromBytesLE(t,n):ft.fromBytesBE(t,n)},ft.fromBytesLE=function(t,n){return new ft(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ft.fromBytesBE=function(t,n){return new ft(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xt=9007199254740991,Lt=w.pow(2,-52);function Mt(t,n,i){return w.min(w.max(t,n),i)}function Ut(t,n,i){return t===n||w.abs(t-n)<=i}function Xt(t){return t!=t}function Ft(t,n){return t===n||Xt(t)&&Xt(n)}function Ht(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!m(t.getTime())}function Vt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function Gt(t){return 1e3*t}var qt,Yt=ft.fromNumber(xt);function jt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Qt(t){return t.Kn===qt.Jn}function Zt(t){return t.Kn===qt.$n}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}(qt||(qt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Jt.prototype=d.create(v.prototype)).constructor=Jt;var $t=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Kt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),tn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}($t),nn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new tn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new tn;return new cn(n)},t}(),en=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:vn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),rn=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return hn(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return hn(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},A(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=fn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(hn)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:vn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new en(t.item(i)));return n}(this.Ti.attributes)}},{key:"Fi",get:function(){return this.Ti.textContent}}]),n}(rn),un=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Hi===t.Hi},A(t,[{key:"Hi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(un),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(un),cn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return new sn(this.Ti.documentElement)}}]),n}(rn);function hn(t){return Qt(t)}function fn(t){switch(t.nodeType){case qt.Jn:return new sn(t);case qt.$n:return new on(t);case qt.ei:return new an(t)}}function vn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function ln(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function dn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){wn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&wn(i,null,t.length,t),t}function wn(t,n,i,e){var r,s,u,o,a,c=t.length,h=0,f=2*i;for(r=0;r<c;r+=f)for(u=(s=r+i)+i,s>c&&(s=c),u>c&&(u=c),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<s)e[h++]=t[o++];else{if(!(a<u))break;e[h++]=t[a++]}}var _n=/[a-zA-Z]/,gn=/[0-9]/,mn=/[0-9a-fA-F]/,yn=/^0x/i,kn=/^[0-9]+$/,bn=/^[0-9a-fA-F]+$/,pn=/^[0-7]+$/,An=d.prototype.toString,Tn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Sn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function En(t){return Tn(t)?t:Array.from(t)}function In(t){return t>=65&&t<=90}function Rn(t){return In(t)||function(t){return t>=97&&t<=122}(t)}function Dn(t){return t>=48&&t<=57}function Nn(t){return Dn(t)||Rn(t)}function Cn(t){return Dn(t)||t>=65&&t<=70||t>=97&&t<=102}function Pn(t){return In(t)?t+32:t}function Bn(t){return Dn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function On(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=w.min,Ln=String.fromCharCode,Mn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Mn){var r=xn(e+Mn,n);i.push(Ln.apply(null,t.slice(e,r)))}return i.join("")}var Xn=/[^\0-\x7E]/,Fn=/[\x2E\u3002\uFF0E\uFF61]/g,Hn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=w.floor,Vn=String.fromCharCode;function Wn(t){throw new RangeError(Hn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var qn,Yn,jn,Qn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Fn,".")).split("."),n).join(".");return e+r}(t,function(t){return Xn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Vn(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=h+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Wn("overflow"),m==e){for(var y=r,k=36;;k+=36){var b=k<=s?1:k>=s+26?26:k-s;if(y<b)break;var p=y-b,A=36-b;n.push(Vn(Qn(b+p%A,0))),y=zn(p/A)}n.push(Vn(Qn(y,0))),s=Zn(r,w,h==c),r=0,++h}}++r,++e}return n.join("")}(t):t})};function Jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function $n(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ti(t,n){return t>>n&63|128}function ni(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($n(t),n.push(t>>12&15|224),n.push(ti(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ti(t,12)),n.push(ti(t,6))),n.push(63&t|128)):n.push(t)}function ii(t){for(var n=[],i=0;i<t.length;i++){ni(t[i],n)}return n}function ei(){if(jn>=Yn)throw new v("Invalid byte index");var t=255&qn[jn];if(jn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ri(){var t,n;if(jn>Yn)throw new v("Invalid byte index");if(jn===Yn)return!1;if(t=255&qn[jn],jn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ei())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ei()<<6|ei())>=2048)return $n(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ei()<<12|ei()<<6|ei())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function si(t){return[37,On(t>>4),On(15&t)]}function ui(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oi(t){return ui(t)||32===t||34===t||60===t||62===t||96===t}function ai(t){return oi(t)||35===t||63===t||123===t||125===t}function ci(t){return ai(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function hi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function fi(t){return hi(t)||39===t}function vi(t,n){if(!n(t))return[t];for(var i=ii([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,si(s))}return e}function li(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,vi(s,n))}return Jn(i)}function di(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Cn(t[e+1])&&Cn(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ii(t))}function wi(t){return Jn(function(t){qn=t.slice(),Yn=qn.length,jn=0;for(var n,i=[];!1!==(n=ri());)i.push(n);return i}(di(Gn(t))))}function _i(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<s&&":"===t[c]){if(!(c+1<s&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<s;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<s&&mn.test(t[c]);)h=h<<4|_(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<s;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!gn.test(t[c]))throw new l;for(;c<s&&gn.test(t[c]);){var w=_(t[c],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}c+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===s)throw new l}else if(c<s)throw new l;u[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function gi(t){var n=10,i=kn;return yn.test(t)?(t=t.slice(2),n=16,i=bn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=pn),""===t?0:i.test(t)?_(t,n):void 0}var mi={Vi:4},yi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function bi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Vi:2,Wi:_i(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new l("Invalid code point in opaque host");var n=li(t,ui);return""===n?mi:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(wi(t));if(yi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=gi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?mi:{Vi:0,qi:i}}function pi(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Ai=/\+/g;function Ti(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ai," "),o=o.replace(Ai," ");var a=wi(u),c=wi(o);i.push([a,c])}}return i}function Si(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ei(ii(Gn(e[0])))+"="+Ei(ii(Gn(e[1])))}return n}function Ei(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,si(r))}return Un(i)}var Ii=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ri(t){var n=""+t,i=Ii.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Ci(s)||r===i-1)e.push(Di);else{var u=t.charCodeAt(r+1);Ci(u)?(e.push(s,u),r++):e.push(Di)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Di=65533,Ni=function(t){return 55296==(63488&t)},Ci=function(t){return 0!=(1024&t)};function Pi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.Yi.length=0}function Oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ti(n))}function xi(t){if(t.ji){var n=Si(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var Li=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Li&&Tn(s.Yi)&&(!Sn||s[Symbol.iterator]===Mi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!Tn(t)||!!Sn&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=En(t);n<i.length;n++){var e=En(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Yi.push([Ri(e[0]),Ri(e[1])])}}else for(var r in this.Yi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Ri(r),Ri(t[r])]);else(t=Ri(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ti(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ri(t),n=Ri(n),this.Yi.push([t,n]),xi(this)},n.delete=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ri(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ri(t),n=Ri(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){dn(this.Yi,Pi),xi(this)},n.toString=function(){return Si(this.Yi)},n.entries=function(){return new Hi(this.Yi,Ui)},n.keys=function(){return new Hi(this.Yi,Xi)},n.values=function(){return new Hi(this.Yi,Fi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Mi=Li.prototype.entries;Sn&&(Li.prototype[Symbol.iterator]=Mi);var Ui=function(t){return[t[0],t[1]]},Xi=function(t){return t[0]},Fi=function(t){return t[1]},Hi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),zi="null";var Vi=d.create(null);Vi.ftp=21,Vi.file=0,Vi.gopher=70,Vi.http=80,Vi.https=443,Vi.ws=80,Vi.wss=443;var Wi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function qi(t){return Wi.test(t)}function Yi(t){return Gi.test(t)}function ji(t){return void 0!==Vi[t]}function Qi(t){return ji(t.Ji)}function Zi(t){return""!==t.$i||""!==t.re}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!$i(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ji(t){return 2===t.length&&_n.test(t[0])&&(":"===t[1]||"|"===t[1])}function $i(t){return 2===t.length&&Ji(Un(t))}function te(t){return Ji(t)&&":"===t[1]}function ne(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&te(n[0])||n.pop())}function ie(t){return null===t.oe||mi===t.oe||t.fe||"file"===t.Ji}var ee=-1,re=/\t|\n|\r/g,se=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ue(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ae,t=t.replace(se,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,c=Gn(t=t.replace(re,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:ee;switch(r){case 0:if(!Rn(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Pn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Pn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Jn(s);if(null!==e){if(ji(i.Ji)&&!ji(d))return;if(!ji(i.Ji)&&ji(d))return;if((Zi(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===mi||null===i.oe))return}if(i.Ji=d,null!==e)return void(Qi(i)&&i.we===Vi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Qi(i)&&n&&n.Ji===i.Ji?r=3:Qi(i)?r=7:47===c[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==v)throw new l("Invalid scheme");n.fe&&35===v?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===c[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,ee===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===v?r=6:63===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===v&&Qi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Qi(i)||47!==v&&92!==v?47===v?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==c[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Jn(vi(g,ci));a?i.re+=m:i.$i+=m}else a=!0}s.length=0}else if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==v||o)if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(f-=1,Qi(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i.we))return;var y=bi(Jn(s),Qi(i));if(i.oe=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=bi(Jn(s),Qi(i));if(i.oe=k,s.length=0,r=12,11===e)return}break;case 12:if(Dn(v))s.push(v);else{if(!(ee===v||47===v||63===v||35===v||Qi(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var b=_(Jn(s),10);if(b>65535)throw new l("Invalid port");i.we=b===Vi[i.Ji]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===v||92===v?r=14:n&&"file"===n.Ji?ee===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ki(c.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ne(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Ji&&!Ki(c.slice(f))&&(te(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(ee===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&$i(s))r=17;else if(0===s.length){if(i.oe=mi,null!==e)return;r=16}else{var p=bi(Jn(s),Qi(i));if(0===p.Vi&&"localhost"===p.qi&&(p=mi),i.oe=p,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Qi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Qi="",r=19):null===e&&35===v?(i._e="",r=20):ee!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ee===v||47===v||Qi(i)&&92===v||null===e&&(63===v||35===v)){var A=Jn(s);if(Yi(A)?(ne(i),47===v||Qi(i)&&92===v||i.ue.push("")):!qi(A)||47===v||Qi(i)&&92===v?qi(A)||("file"===i.Ji&&0===i.ue.length&&$i(s)&&(mi!==i.oe&&null!==i.oe&&(i.oe=mi),s[1]=58,A=Jn(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(ee===v||63===v||35===v))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===v?(i.Qi="",r=19):35===v&&(i._e="",r=20)}else s.push.apply(s,vi(v,ai));break;case 18:63===v?(i.Qi="",r=19):35===v?(i._e="",r=20):ee!==v&&(i.ue[0]+=Jn(vi(v,ui)));break;case 19:null===e&&35===v?(i._e="",r=20):ee!==v&&(i.Qi+=Jn(vi(v,Qi(i)?fi:hi)));break;case 20:ee===v||0===v||(i._e+=Jn(vi(v,oi)))}f++}return i}function oe(t,n,i,e){try{ue(t,n,i,e)}catch(t){}}var ae=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function ce(t){switch(t.Ji){case"blob":var n;try{n=ue(t.ue[0],null)}catch(t){return zi}return ce(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+pi(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var he,fe,ve,le,de,we,_e=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof _e&&"object"==typeof i.ji)r=n.ji;else try{r=ue(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=ue(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new Li;return null!==t&&Oi(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Zi(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=pi(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ue(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.ji=n,Bi(this.Qi);var i=this.ji.Qi;null!==i&&Oi(this.Qi,i)}},{key:"origin",get:function(){return ce(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){oe(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){ie(this.ji)||(this.ji.$i=li(t,ci))}},{key:"password",get:function(){return this.ji.re},set:function(t){ie(this.ji)||(this.ji.re=li(t,ci))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=pi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||oe(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":pi(t)},set:function(t){this.ji.fe||oe(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){ie(this.ji)||(""===t?this.ji.we=null:oe(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,oe(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Ri(t);var n=this.ji;if(""===t)return n.Qi=null,void Bi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",oe(t,null,n,19),Oi(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",oe(t,null,this.ji,20)):this.ji._e=null}}])&&ln(n.prototype,i),e&&ln(n,e),t}();function ge(t){return t.document&&t.document.baseURI||t.location.href||""}var me=a;function ye(t){return Boolean(t&&void 0!==t.length)}function ke(){}function be(t){if(!(this instanceof be))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ie(t,this)}function pe(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,be.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Te(n.promise,t)}Ae(n.promise,e)}else(1===t.me?Ae:Te)(n.promise,t.ke)})):t.pe.push(n)}function Ae(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof be)return t.me=3,t.ke=n,void Se(t);if("function"==typeof i)return void Ie((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Se(t)}catch(n){Te(t,n)}var e,r}function Te(t,n){t.me=2,t.ke=n,Se(t)}function Se(t){2===t.me&&0===t.pe.length&&be.Ae(function(){t.ye||be.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)pe(t,t.pe[n]);t.pe=null}function Ee(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ie(t,n){var i=!1;try{t(function(t){i||(i=!0,Ae(n,t))},function(t){i||(i=!0,Te(n,t))})}catch(t){if(i)return;i=!0,Te(n,t)}}be.prototype.catch=function(t){return this.then(null,t)},be.prototype.then=function(t,n){var i=new this.constructor(ke);return pe(this,new Ee(t,n,i)),i},be.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},be.all=function(t){return new be(function(n,i){if(!ye(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},be.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},be.resolve=function(t){return t&&"object"==typeof t&&t.constructor===be?t:new be(function(n){n(t)})},be.reject=function(t){return new be(function(n,i){i(t)})},be.race=function(t){return new be(function(n,i){if(!ye(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)be.resolve(t[e]).then(n,i)})},be.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){me(t,0)},be.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Re=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),De=o?o.userAgent:"",Ne=De.match(/Firefox\/([0-9]+)/i),Ce=null!=Ne,Pe=Ne?Number(Ne[1]):0,Be=De.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oe=null!=Be,xe=Be?Number(Be[3]):0,Le=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Me="unhandledrejection",Ue=t.PromiseRejectionEvent,Xe=t.CustomEvent;function Fe(t){return new Ue(Me,{reason:t,promise:Re.reject(t).catch(function(){}),cancelable:!0})}function He(t){var n=new Xe(Me,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Me,!1,!0,{reason:t}),n}var Ve,We,Ge,qe,Ye,je,Qe,Ze=function(t){return(Ze=function(){try{var t=Re.resolve(),n=new Ue(Me,{reason:"error",promise:t});return Me===n.type&&"error"===n.reason}catch(t){}return!1}()?Fe:function(){try{var t=new Xe(Me,{detail:{reason:"error"}});return Me===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?He:ze)(t)};if(Re&&!(Ce&&Pe<60||Oe&&xe<15))We=Re;else{We=be;var Ke=null!==(Ve=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Re;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ve?Ve:be.Ae,Je=(Ge=Ke,qe=new Le(16),Ye=!1,{Ce:function(t){qe.push(t),Ye||(Ye=!0,Ge(je))},Pe:je=function(){for(;qe.length()>0;)qe.shift()();Ye=!1}});be.Ae=Je.Ce,be.Te=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function nr(t,n){M.Tn&&M.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function ir(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function er(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function rr(t){t.removeAttribute("title")}function sr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function ur(t){t.src&&(t.removeAttribute("src"),t.load())}function or(){return void 0!==s?s.createElement("video"):void 0}function ar(){return Qe||(Qe=or()),Qe}var cr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),hr=ar(),fr=!(!hr||!hr.webkitShowPlaybackTargetPicker),vr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=cr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},A(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"Fe",get:function(){return!M.Un}},{key:"He",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return fr}},{key:"Ve",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return M.Bn||M.cn}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),lr=function(){var t=or();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(M.in)return!1;var t=or();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var dr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.Oe=i.Je.Oe,i.Gt=i.Je.Gt,i.xe=lr&&i.Je.xe),i}S(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.Je?this.Je.Ue(n):t.prototype.Ue.call(this,n)},A(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ze)||t}}]),n}(vr),wr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return S(n,t),A(n,[{key:"je",get:function(){return M.cn}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(){return le.MediaSource?t.prototype.Le.call(this):1},A(n,[{key:"je",get:function(){return!0}}]),n}(wr),gr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},A(n,[{key:"Ve",get:function(){return M.Sn<3}},{key:"We",get:function(){return M.Sn>=3}},{key:"Ke",get:function(){return M.Sn<3}}]),n}(dr),mr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(vr),yr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(t,n){if(t&&t.$e&&n&&n.$e){var i=kr(t.$e,"mp4a.40.2")&&kr(n.$e,"mp4a.40.5"),e=kr(t.$e,"mp4a.40.5")&&kr(n.$e,"mp4a.40.2"),r=kr(t.$e,"mp4a.40.2")&&kr(n.$e,"mp4a.40.34"),s=kr(t.$e,"mp4a.40.34")&&kr(n.$e,"mp4a.40.2"),u=kr(t.$e,"mp4a.40.5")&&kr(n.$e,"mp4a.40.34"),o=kr(t.$e,"mp4a.40.34")&&kr(n.$e,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"Qe",get:function(){if(M.qt)return 4096}}]),n}(mr);function kr(t,n){return t.indexOf(n)>-1}var br=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(t){return t>=2},n}(mr),pr=function(t){function n(){var n;return(n=t.call(this)||this).Oe=M.On>=11,n.xe=M.Bn&&!(M.cn&&M.On<10),n}return S(n,t),n}(mr),Ar=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"qe",get:function(){return!1}}]),n}(dr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ze",get:function(){return!M.Yt||(M.pn?92!==M.An:M.yn>=100)}}]),n}(mr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"je",get:function(){return!0}}]),n}(dr),Er=function(){function n(){var n;this.ir=void 0,this.er=new nn,this.rr=new Ir,this.dr=(n=function(){if(M.Cn)return new yr;if(M.In||M.Rn)return new br;if(M.Bn)return new pr;if(M._n)return new Tr;return new mr}(),M.cn?new _r(n):M.dn?new wr(n):M.Tn?new gr(n):M.En?new Ar(n):M.qt?new Sr(n):new dr(n)),this.wr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ir=function(){return t.performance.now()}:this.ir=Vt}var i=n.prototype;return i._r=function(){ut.apply(void 0,arguments)},i.gr=function(){ot.apply(void 0,arguments)},i.yr=function(){at.apply(void 0,arguments)},i.pr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Ar=function(t,n){return h(t,n)},i.jn=function(t){c(t)},i.Tr=function(t){f(t)},i.ui=function(t){return this.er.ui(t)},i.Sr=function(){return this.Er.Sr()},i.Ir=function(){return this.Er.Ir()},i.Rr=function(){return this.Er.Rr()},i.Dr=function(){return this.Er.Dr()},i.Nr=function(){return this.Er.Nr()},i.Cr=function(t,n){return this.Er.Cr(t,n)},i.Pr=function(t){return this.Er.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=ge(le)),i="object"!=typeof n||n instanceof _e?n:n.href,new _e(t,i)},i.Or=function(n,i){if(void 0===i&&(i=ge(le)),this.wr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},A(n,[{key:"xr",get:function(){return this.rr}},{key:"Lr",get:function(){return this.dr}},{key:"Mr",get:function(){return{Ur:o&&o.userAgent.match(/Android /i)?"Android":"other",Xr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Fr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Hr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ir=function(){function t(){}return A(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Lr",get:function(){return o.platform}},{key:"Vr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Rr={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.Gr=function(t,n,i){var e=h;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.qr=i.arg;else if("throw"===i.method){if(e===h)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=c(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function b(){}var p={};p[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(p=T);var S=b.prototype=y.prototype=d.create(p);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=c(t[i],t,r);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&e.call(h,"Yr")?We.resolve(h.Yr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(h).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=c(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=b,b.constructor=k,b[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Yr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),c=e.call(u,"finallyLoc");if(a&&c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!c)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Rr.exports);var Dr=Rr.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Cr(){var t=d.create(null);return t.jr=void 0,delete t.jr,t}function Pr(){return new Ur}function Br(){return new Hr}function Or(t){var n=Pr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function xr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Lr,Mr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ur=Mr||(Lr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Cr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Cr(),this.size=0},n.keys=function(){return new Lr(this.data,function(t,n){return n})},n.values=function(){return new Lr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Lr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Xr,Fr,Hr=Mr||(Xr=function(){function t(t,n){this.Qr=void 0,this.Zr=void 0,this.Qr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Qr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Pr()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Xr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Xr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.Jr="9a04f079-9840-4286-ab92-e65be0885f95",t.$r="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Fr||(Fr={}));var zr,Vr="urn:mpeg:dash:mp4protection:2011",Wr="cenc",Gr="sinf",qr="skd",Yr=Fr.Jr,jr="urn:uuid:"+Yr,Qr="com.microsoft.playready",Zr=Fr.$r,Kr="urn:uuid:"+Zr,Jr=Fr.rs,$r="urn:uuid:"+Jr,ts=Fr.us,ns="urn:uuid:"+ts,is="com.apple.fps.1_0",es="com.apple.streamingkeydelivery";!function(t){t.Jr="playready",t.$r="widevine",t.us="fairplay",t.rs="clearkey",t.hs="aes128"}(zr||(zr={}));var rs={fs:zr.Jr,vs:Qr,ls:"cenc",ds:Yr,_s:jr,gs:"PlayReady"},ss={fs:zr.$r,vs:"com.widevine.alpha",ls:"cenc",ds:Zr,_s:Kr,gs:"Widevine"},us={fs:zr.us,vs:is,ls:"skd",ds:ts,_s:ns,gs:"FairPlay"},os={fs:zr.us,vs:"com.apple.fps",ls:"sinf",ds:ts,_s:ns,gs:"FairPlay"},as={fs:zr.rs,vs:"org.w3.clearkey",ls:"cenc",ds:Jr,_s:$r,gs:"ClearKey"},cs=[rs,ss,us,as];function hs(t){return cs.filter(function(n){return n._s===t.toLowerCase()})}function fs(t,n,i){return t.split(n).join(i)}function vs(t,n){return null!=t&&-1!==t.indexOf(n)}function ls(t,n){return null!=t&&t.substr(0,n.length)===n}function ds(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ws(t,n){return t.toUpperCase()===n.toUpperCase()}function _s(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function gs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=_s(e,r/e.length)),e.slice(0,r)+t)}function ms(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ks(n)}var ys=16384;function ks(t){var n=t.length;if(n<=ys)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ys)i.push(String.fromCharCode.apply(String,t.slice(e,e+ys)));return i.join("")}var bs=M._n&&M.yn>=42||M.Cn&&M.Pn>=38||M.In||M.Dn||M.xn&&M.Ln>=29;function ps(t,n){return vs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function As(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ts(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ss,Es=function(){function t(t){this.ys=void 0,this.As=Pr(),this.Ts=void 0,this.ys=t}var n=t.prototype;return n.Nr=function(){return this.Pr(ss)},n.Ir=function(){return this.Pr(as)},n.Dr=function(){return this.Pr(rs)},n.Rr=function(){return this.Pr(us)},n.Pr=function(t){var n=t._s,i=this.As.get(n);if(i)return i;var e=this.Cr(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,e),e},n.Cr=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.ys.Ss(t.vs,[ps(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Dr.awrap(this.ys.Ss(t.vs,[ps(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Sr=function(){return this.Ts||(this.Ts=this.Es()),this.Ts},n.Es=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==de.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(bs){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Dr.awrap(this.Ir());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Is(t,n){return Ds(t.slice(),n)}function Rs(t,n){var i=Ds(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Ds(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,c=t.length,h=0,f=2*i;for(s=0;s<c;s+=f)for(r=(u=s+i)+i,u>c&&(u=c),r>c&&(r=c),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<u)e[h++]=t[o++];else{if(!(a<r))break;e[h++]=t[a++]}}!function(t){t[t.Is=0]="Is",t[t.Rs=1]="Rs",t[t.Ds=-1]="Ds"}(Ss||(Ss={}));var Cs=function(t,n){return(0|t)-(0|n)},Ps=function(t,n){return t===n?Ss.Is:t<n?Ss.Ds:t>n?Ss.Rs:m(t)?m(n)?Ss.Is:Ss.Rs:Ss.Ds};function Bs(t,n,i){return Ut(t,n,i)?Ss.Is:Ps(t,n)}var Os=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Lt||i<w.max(w.abs(t),w.abs(n))*Lt}(t,n)?Ss.Is:Ps(t,n)};function xs(t,n,i){var e=Ms(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ms(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Us(t,n){var i=t.indexOf(n);return-1!==i&&(Xs(t,i),!0)}function Xs(t,n){t.splice(n,1)}function Fs(t,n){return-1!==t.indexOf(n)}function Hs(t,n){for(var i=0;i<n.length;i++){if(!Fs(t,n[i]))return!1}return!0}function zs(t){t.length=0}function Vs(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Fs(n,t[i]))return!1}return!0}function Ws(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Gs(t,n){return Ys(t,function(t,i){return Ps(n(t),n(i))})}function qs(t,n){return function(t,n){return Ys(t,function(t,i){return n(i,t)})}(t,function(t,i){return Ps(n(t),n(i))})}function Ys(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function js(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function Qs(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Dr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function Zs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Ks=function(){function t(){this.Ns=!1,this.Cs=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ns&&!this.Cs){this.Ns=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Cs){this.Cs=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}zs(this.Ps),zs(this.Bs)}},n.Ls=function(t){this.Cs||this.Ps.push(t)},n.Ms=function(t){this.Cs||Us(this.Ps,t)},n.Us=function(t){this.Cs||this.Bs.push(t)},n.Xs=function(t){this.Cs||Us(this.Bs,t)},t}(),Js=function(){function t(){this.Fs=new Ks}var n=t.prototype;return n.Hs=function(){this.Fs.Os()},n.xs=function(){this.Fs.xs()},n.zs=function(t){var n=this.Fs;if(!n.Ns)if(t.Ns)n.Os();else if(!n.Cs&&!t.Cs){var i=function(){e(),n.Os()},e=function e(){t.Ms(i),t.Xs(e),n.Ms(i),n.Xs(e)};t.Ls(i),t.Us(e),n.Ls(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Fs,u=function(){e.Ns&&r.Cs||r.Ns&&e.Cs?s.Os():e.Cs&&r.Cs&&s.xs()};e.Ls(u),r.Ls(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Ms(u),r.Ms(u),e.Xs(u),r.Xs(u)}),[n,i]},A(t,[{key:"Ws",get:function(){return this.Fs}}]),t}(),$s=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}($t);function tu(t){return t instanceof v&&"AbortError"===t.name}function nu(t){if(t&&t.Ns)throw new $s}function iu(t){if(tu(t))throw t}function eu(t){if(!tu(t))throw t}function ru(t,n){return n?new We(function(i,e){if(n.Ns)return t.catch(K),e(new $s);var r=function t(){n.Ms(t),e(new $s)};n.Ls(r),t.then(function(t){n.Ms(r),i(t)},function(t){n.Ms(r),e(t)})}):t}function su(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function uu(t,n){var i=new Js;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Hs(),t},function(t){throw i.Hs(),t})}var ou=We.resolve();function au(t){ou.then(t)}function cu(t){t.then(K,K)}function hu(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function fu(t,n){return new We(function(e,r){if(void 0!==n&&n.Ns)r(new $s);else{var s=i.Qn(function(){void 0!==n&&n.Ms(u),e()},t),u=function(){i.jn(s),r(new $s)};void 0!==n&&n.Ls(u)}})}function vu(t){return t&&"function"!=typeof t?t.slice():t}function lu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var du,wu=function(){function t(t){var n=this;this.Gs=Cr(),this.qs=void 0,this.Ys=void 0,this.js=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.Gs[t];i?"function"==typeof i?this.Gs[t]=[i,n]:i.push(n):this.Gs[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.$s=function(){this.Gs=Cr(),this.qs=void 0},n.Qs=function(t){var n=vu(this.Gs[t.type]),i=vu(this.qs);lu(this.Ys,t,n),lu(this.Ys,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Gs[t];i&&("function"==typeof i?i===n&&(this.Gs[t]=void 0):Us(i,n))},n.uu=function(t){if("string"==typeof t)this.Gs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Gs[i]=void 0}},n.ou=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):Us(n,t))},n.au=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Ns)return r(new $s);var s=function(t){o(),e(t)},u=function(){o(),r(new $s)},o=function(){i.tu(t,s),n&&n.Ms(u)};i.Zs(t,s),n&&n.Ls(u)})},t}(),_u=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qs=function(n){var i=this;au(function(){t.prototype.Qs.call(i,n)})},n}(wu),gu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},mu=["cenc"],yu=["cbcs","cbcs-1-9"],ku=function(t){function n(n){var i;return(i=t.call(this,"vu")||this).fu=n,i}return S(n,t),n}(gu),bu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"du")||this).fu=n,s.wu=i,s.du=e,s._u=r,s}return S(n,t),n}(gu),pu=function(t){function n(){return t.call(this,"mu")||this}return S(n,t),n}(gu);!function(t){t.yu="bu",t.pu="Au"}(du||(du={}));var Au=function(t){function n(n,i){var e;return(e=t.call(this,du.yu)||this).ls=n,e.Tu=i,e}return S(n,t),n}(gu),Tu=function(t){function n(){return t.call(this,du.pu)||this}return S(n,t),n}(gu),Su=new y([0]).buffer,Eu=function(){function t(){this.Su=void 0,this.Su=[]}var n=t.prototype;return n.Eu=function(t){for(var n=0,i=this.Su;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Iu=function(t){for(var n=0,i=this.Su;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ru=function(t,n){this.Su.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Su.push([t,n])},n.Nu=function(){zs(this.Su)},A(t,[{key:"Cu",get:function(){return this.Su.length}}]),t}(),Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ru=16383,Du=/[\t\n\f\r ]/g;function Nu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Cu()}function Cu(){throw new v("Invalid base64 input")}function Pu(t){var n=t;Du.test(n)&&(n=n.replace(Du,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Cu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,c=0;a<o;a+=4)r=Nu(n.charCodeAt(a))<<18|Nu(n.charCodeAt(a+1))<<12|Nu(n.charCodeAt(a+2))<<6|Nu(n.charCodeAt(a+3)),u[c++]=r>>16&255,u[c++]=r>>8&255,u[c++]=255&r;return 2===s?(r=Nu(n.charCodeAt(a))<<2|Nu(n.charCodeAt(a+1))>>4,u[c++]=255&r):1===s&&(r=Nu(n.charCodeAt(a))<<10|Nu(n.charCodeAt(a+1))<<4|Nu(n.charCodeAt(a+2))>>2,u[c++]=r>>8&255,u[c++]=255&r),u}function Bu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Iu[e>>2]+Iu[(3&e)<<4|r>>4]+Iu[(15&r)<<2|s>>6]+Iu[63&s]));return u.join("")}function Ou(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Ru)e.push(Bu(t,s,w.min(r,s+Ru)));if(1===i){var u=t[n-1];e.push(Iu[u>>2]+Iu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Iu[o>>2]+Iu[(3&o)<<4|a>>4]+Iu[(15&a)<<2]+"=")}return e.join("")}var xu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Lu=ArrayBuffer.isView||function(t){return t&&Fs(xu,X.call(t))};function Mu(t,n){return t===n||t.byteLength===n.byteLength&&Uu(new y(t),new y(n))}function Uu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Xu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Fu(t,n)}function Fu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Hu(t){return Pu(t).buffer}function zu(t){return Ou(new y(t))}function Vu(t){return Ou(Eo(t))}function Wu(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function Gu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Wu(t,n);return e}var qu=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},A(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function Yu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ju(t,n){return t>>n&63|128}function Qu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Yu(t),n.push(t>>12&15|224),n.push(ju(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ju(t,12)),n.push(ju(t,6))),n.push(63&t|128)):n.push(t)}function Zu(t,n){if(n.Pu>=t.length)throw new v("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Ku(t,n){var i=n.Pu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Zu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Zu(t,n)<<6|Zu(t,n);if(s>=2048)return Yu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Zu(t,n)<<12|Zu(t,n)<<6|Zu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Ju=65279;var $u=[128,64,32,16,8,4,2,1],to=function(){function t(t){this.Mu=t}return t.prototype.Uu=function(t){return no(this.Mu,t)},t}();function no(t,n){return(t&n)===n}function io(t,n){return no(t,$u[n])}function eo(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function ro(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function so(t,n,i){var e=Oo(Mo(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function uo(t,n,i){Mo(t).set(Mo(i),n.Pu),n.Bu(i.byteLength)}function oo(t,n,i){return n.Pu+i<=t.byteLength}function ao(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=eo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+eo(t,n);return e}(t,n,i)}function co(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function ho(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function fo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function vo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function lo(t,n,i){void 0===i&&(i=!1);var e=fo(t,n,i),r=fo(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function wo(t,n){return mo(t,n)}function _o(t,n,i){return ks(zo(so(t,n,i)))}function go(t,n){var i,e=eo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&eo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&eo(t,n))+(63&eo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&eo(t,n))+64*(63&eo(t,n))+(63&eo(t,n))),i}function mo(t,n){return yo(t,n,!0)}function yo(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=eo(t,n);if(i&&!r)break;e.push(r)}return ks(e)}function ko(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function bo(t,n){var i=ko(t,n);return void 0!==i&&n.Bu(2),po(t,n,!0===i)}function po(t,n,i){return void 0===i&&(i=!1),Ao(t,n,i,!0)}function Ao(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=co(t,n,i);if(e&&!s)break;r.push(s)}return ks(r)}function To(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ho(t,n,i.charCodeAt(s),e)}}function So(t){return yo(Lo(t),new Vo,!1)}function Eo(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)ro(t,n,i.charCodeAt(r))}(Lo(n),new Vo,t),n}function Io(t,n){return void 0===n&&(n=!1),Ao(Lo(t),new Vo,n,!1)}function Ro(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return To(Lo(i),new Vo,t,n),i}function Do(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function No(t,n){return function(t,n,i){var e=[];Do(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=go(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ms(e)}(t,n,!0)}function Co(t){return ms(function(t,n){var i,e=[],r=new Vo;if(!n){if(!1===(i=Ku(t,r)))return e;i===Ju||e.push(i)}for(;!1!==(i=Ku(t,r));)e.push(i);return e}(Mo(t)))}function Po(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Qu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Bo(t,n){if(Do(t,n))return No(t,n);if(void 0!==ko(t,n))return bo(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return po(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return po(t,n,!0)}return No(t,n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Lo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Uo(t){return t instanceof ArrayBuffer||Lu(t)}function Xo(t){return t instanceof ArrayBuffer?new y(t):Mo(t)}function Fo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Ho(Oo(t,n,i))}function Ho(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function zo(t){return[].slice.call(t)}var Vo=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},n.Xu=function(){return new qu(this.Pu<<3)},A(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function Wo(t){var n=t.toLowerCase(),i=0,e=0;ls(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Go=function(){function t(){var t=this;this.Fu=void 0,this.Hu=void 0,this.Vu=void 0,this.Fu=new We(function(n,i){t.Hu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Hu&&(this.Hu(t),this.xs())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Hs=function(){this.Fu.catch(K),this.Gu(new $s)},n.xs=function(){this.Hu=void 0,this.Vu=void 0},t}();function qo(){return new y([8,4]).buffer}function Yo(t){return Mu(t,qo())}function jo(t,n){return t===Qr?function(t){if(t.byteLength<2*Qo.length)return t;if(Io(new DataView(t,0,2*Qo.length),!0)===Qo)return t;return n=t,Ro('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Qo="<PlayReady";var Zo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.ju=void 0,s.Yu=i,s.ju=e,s}return S(n,t),n}($t),Ko=function(t,n){return(Ko=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Jo(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Ko(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function $o(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ta(t,n,i){return w.min(w.max(t,n),i)}function na(t,n){return t>>8-n}function ia(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Zu=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Zu||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Zu)-1,r=i>>8-this.Zu;return(e<<this.Zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(w.floor((t+this.Zu)/8));if(void 0!==n)return(n&1<<7-this.Zu-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Zu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var ea=function(){function t(t){this.Ku=t,this.Ju=0,this.$u=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Ku.length&&0===this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.Ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.$u<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.Ju+t<=this.Ku.length:this.Ju+t<this.Ku.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.Ju++,this.$u=0)},t.prototype.seek=function(t,n){this.Ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ku.get(this.Ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.$u)return this.Ku.get(this.Ju++);var t=ia(this.Ku.get(this.Ju),8-this.$u),n=na(this.Ku.get(this.Ju+1),this.$u);return this.Ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.Ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ra=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},sa=function(){function t(){this.uo=[],this.oo=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.oo.length)this.oo.push(0);else{var e=this.oo[this.oo.length-1]+this.uo[this.uo.length-1].length;this.oo.push(e)}this.uo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.uo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.uo=[],this.oo=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.oo[n];return this.uo[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.uo.length<1)return-1;if(this.uo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.uo[0];return"number"==typeof t?$o(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=$o(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.oo,t,ra)},t.prototype.join=function(){if(1===this.uo.length)return this.uo[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ta(n,0,this.length),r=ta(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.uo[u],a=e,c=a-this.oo[u];a+o.length-c<r;)s.pushRange(o,c,o.length-c),u+=1,c=(a+=o.length-c)-this.oo[u],o=this.uo[u];var h=r-a;return s.pushRange(o,c,h),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.uo.length-1,e=this.uo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.uo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ua=function(){function t(n){this.ao=n||t.BUFFER_CHUNK_SIZE,this.do=!1,this._o=new sa,this.Ku=new y(this.ao),this.mo=0,this.po=0,this.$u=7}return t.prototype.closeByte=function(){this.Ku[this.mo++]=this.po,this.mo>=this.ao&&this.closeBuffer(),this.po=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mo&&(this._o.pushRange(this.Ku,0,this.mo),t&&(this.Ku=new y(this.ao)),this.mo=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.do)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.do=!0,this._o},t.prototype.writeBit=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.po|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.po=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.po|=na(t,n+1),this.closeByte(),this.po=ia(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mo+t.length<=this.ao?(this.Ku.set(t,this.mo),this.mo+=t.length,this.mo===this.ao&&this.closeBuffer()):(this.closeBuffer(),this._o.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.po|=na(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=ia(t[i-1],8-n),r=na(t[i],n+1);this.po=e<<n+1|r,this.closeByte()}this.po=ia(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),oa=function(){function t(t){this.rb=new sa,this.Ao=t}return t.prototype.closeWriter=function(){void 0!==this.Ao&&(this.rb=this.rb.concat(this.Ao.close()),this.Ao=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ao&&(this.Ao=new ua),this.Ao},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),aa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new oa;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function ca(t,n){return t instanceof ft?64===n:t<w.pow(2,n)}function ha(t,n){return w.round(t*w.pow(2,n))}function fa(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function va(t,n){return t/w.pow(2,n)}var la=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ca(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Jo(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(aa),da=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Jo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(sa.from(this.data))},n}(aa),wa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var _a=16384;function ga(t){var n=t.length;if(n<=_a)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=_a)i.push(String.fromCharCode.apply(String,t.slice(e,e+_a)));return i.join("")}var ma=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ya(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ka(t,n,i){var e=Ia(Da(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function ba(t,n,i){return n.offset+i<=t.byteLength}function pa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Aa(t,n,i){void 0===i&&(i=!1);var e=pa(t,n,i),r=pa(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Ta(t,n,i){var e,r=ka(t,n,i);return ga((e=r,[].slice.call(e)))}function Sa(t,n){var i,e=ya(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ya(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ya(t,n))+(63&ya(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ya(t,n))+64*(63&ya(t,n))+(63&ya(t,n))),i}function Ea(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Sa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ga(n)}(e)}(t,n,!0)}function Ia(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ra(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Da(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Na=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new wa(this.offset<<3)},t}(),Ca=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ya(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return pa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=pa(t,n,i),r=pa(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Aa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ka(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(pa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ta(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ea(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Pa(t,n){return t.type===n}var Ba=8;function Oa(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=xa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function xa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ba(t,n,Ba)){var e=n.offset+Ba;return{complete:!1,neededOffset:e}}var r=pa(t,n),s=Ta(t,n,4);if(1===r){if(!ba(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Aa(t,n).toNumber()}if("uuid"===s){if(!ba(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ta(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,c,h,f={type:r.type,offset:i,data:new Ca((a=t,c=i,h=u,void 0===c&&(c=0),void 0===h&&(h=a.byteLength),new DataView(a.buffer,a.byteOffset+c,h-c)),new Na(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function La(t){return{version:t>>24,flags:new ma(16777215&t)}}function Ma(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ua(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Xa(t){var n=t.nextUint32Array(9);return{a:va(n[0],16),b:va(n[1],16),u:va(n[2],30),c:va(n[3],16),d:va(n[4],16),v:va(n[5],30),x:va(n[6],16),y:va(n[7],16),w:va(n[8],30)}}function Fa(t){return new da(t.type,Ia(Da(t.data.data),t.data.cursor.offset))}var Ha=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Jo(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(la);function za(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Ha(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Jo(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Ha);var Va=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.Eo},set:function(t){if(!ca(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Eo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Jo(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Io},set:function(t){if(!ca(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Ro},set:function(t){if(!ca(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!ca(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.No},set:function(t){if(!ca(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Co},set:function(t){if(!ca(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Va),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Jo(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(sa.from(this.data))}}(Va);var Wa=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Jo(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Va);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Wa(r.fixed28BitMode),s}Jo(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!ca(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!ca(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!ca(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!ca(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Va);var Ga=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Jo(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(aa),qa=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ga),Ya=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Jo(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Lo},set:function(t){if(!ca(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qa),ja=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Jo(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.Mo},set:function(t){if(!ca(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!ca(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Xo},set:function(t){if(!ca(ha(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ha(this.sampleRate,16),32),this.extra&&fa(n.writer,this.extra)},n}(Ya);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!ca(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ca(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Jo(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ho},set:function(t){if(!ca(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!ca(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!ca(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!ca(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Go},set:function(t){if(!ca(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.qo},set:function(t){if(!ca(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!ca(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.jo},set:function(t){if(!ca(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(aa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!ca(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ca(t.sampleCount,32)||!ca(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(la),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Jo(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(la),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Jo(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(la),function(t){function n(){return t.call(this,"dinf")||this}Jo(n,t)}(qa);var Qa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ca(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Jo(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ga);!function(t){function n(){return t.call(this,"dref",0,0)||this}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qa);var Za=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ca(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ca(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ca(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ca(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(la),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Za),Ja=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Za);function $a(t){for(var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,c=void 0;0===e?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===e?new Ka(u,r.raw):new Ja(u,r.raw)}var tc=function(t){function n(){return t.call(this,"edts")||this}return Jo(n,t),n}(qa);function nc(t){for(var n=new tc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"elst")?n.boxes.push($a(r)):n.boxes.push(Fa(r))}return n}var ic=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Jo(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Zo},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!ca(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(aa),ec=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Jo(n,t),n}(ic);function rc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ec(i,e,r)}var sc=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Jo(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(sa.from(this.data))},n}(aa),uc=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Jo(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ca(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.oa},set:function(t){if(!hc(t))throw new v("Expected an ISO-639-2/T language code");this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(la),oc=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Jo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(uc),ac=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Jo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(uc);function cc(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=Ma(n,e),u=new ea(sa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var c=o.map(function(t){return String.fromCharCode(t+96)}).join("");return hc(c)||(c="und"),n.skip(2),0===e?new oc(s,c,r.raw):new ac(s,c,r.raw)}function hc(t){return/^[a-z]{3}$/.test(t)}var fc=function(t){function n(){return t.call(this,"mdia")||this}return Jo(n,t),n}(qa);function vc(t){for(var n=new fc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mdhd")?n.boxes.push(cc(r)):Pa(r,"hdlr")?n.boxes.push(za(r)):n.boxes.push(Fa(r))}return n}var lc,dc=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new sa,n}return Jo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(aa);function wc(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new dc;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Jo(n,t)}(qa),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Qa),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(lc||(lc={}));var _c,gc,mc={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function yc(t,n){n.writer.writeUInt(ha(t.a,16),32),n.writer.writeUInt(ha(t.b,16),32),n.writer.writeUInt(ha(0,30),32),n.writer.writeUInt(ha(t.c,16),32),n.writer.writeUInt(ha(t.d,16),32),n.writer.writeUInt(ha(0,30),32),n.writer.writeUInt(ha(t.x,16),32),n.writer.writeUInt(ha(t.y,16),32),n.writer.writeUInt(ha(1,30),32)}function kc(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:_c.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:gc.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:gc.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:gc.UNKNOWN,2)}function bc(t,n){var i,e,r;n.writer.writeUInt(0,4),kc(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(_c||(_c={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(gc||(gc={}));var pc=function(){return function(){}}(),Ac=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Jo(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.va},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!ca(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(sa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(sa.from(this.data))},n}(la),Tc=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Jo(n,t),n}(Ac),Sc=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Jo(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this._a},set:function(t){if(!ca(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(sa.from(e))}},n}(Ac);function Ec(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Sc(i,o,e):new Tc(i,o)}var Ic=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!ca(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(la),Rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ic),Dc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ic);function Nc(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Rc(n.nextUint32(),r.raw):new Dc(n.nextUint64(),r.raw)}var Cc=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ca(t,32))throw new v("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!ca(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(!ca(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!ca(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ca(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ca(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),bc(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(la);function Pc(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Ua(new ea(sa.from(n.nextUint8Array(4))));return new Cc(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:c},e,r.raw)}var Bc=function(t){function n(){return t.call(this,"mvex")||this}return Jo(n,t),n}(qa);function Oc(t){for(var n=new Bc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mehd")?n.boxes.push(Nc(r)):Pa(r,"trex")?n.boxes.push(Pc(r)):n.boxes.push(Fa(r))}return n}var xc=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=r.matrix)&&void 0!==c?c:mc,h.Ia=e,h}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ca(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Ra},set:function(t){if(!ca(ha(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!ca(ha(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ia},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!ca(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ha(this.rate,16),32),n.writer.writeUInt(ha(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),yc(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(la),Lc=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Jo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(xc),Mc=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Jo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(xc);function Uc(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=Ma(n,e),u=va(n.nextUint32(),16),o=va(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Xa(n);n.skip(24);var c=n.nextUint32();return 0===e?new Lc(s,c,{rate:u,volume:o,matrix:a},r.raw):new Mc(s,c,{rate:u,volume:o,matrix:a},r.raw)}var Xc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,c,h,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:mc,f}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!ca(t,32))throw new v("trackId cannot exceed 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!ca(ha(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!ca(ha(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!ca(ha(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!ca(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!ca(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ha(this.volume,8),16),n.writer.writeUInt(0,16),yc(this.matrix,n),n.writer.writeUInt(ha(this.width,16),32),n.writer.writeUInt(ha(this.height,16),32)},n}(la),Fc=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Xc),Hc=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xc);function zc(t){var n,i,e,r,s=t.data,u=La(s.nextUint32()),o=u.version,a=u.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=va(s.nextInt16(),8);s.skip(2);var _=Xa(s),g=va(s.nextUint32(),16),m=va(s.nextUint32(),16);return 0===o?new Fc({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Hc({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Vc=function(t){function n(){return t.call(this,"trak")||this}return Jo(n,t),n}(qa);function Wc(t){for(var n=new Vc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"tkhd")?n.boxes.push(zc(r)):Pa(r,"mdia")?n.boxes.push(vc(r)):Pa(r,"edts")?n.boxes.push(nc(r)):n.boxes.push(Fa(r))}return n}var Gc=function(t){function n(){return t.call(this,"moov")||this}return Jo(n,t),n}(qa);function qc(t){for(var n=new Gc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mvhd")?n.boxes.push(Uc(r)):Pa(r,"trak")?n.boxes.push(Wc(r)):Pa(r,"mvex")?n.boxes.push(Oc(r)):Pa(r,"pssh")?n.boxes.push(Ec(r)):n.boxes.push(Fa(r))}return n}var Yc=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(la),jc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Yc),Qc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Yc);function Zc(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jc(n.nextUint32(),r.raw):new Qc(n.nextUint64(),r.raw)}var Kc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ca(t,32))throw new v("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.La},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!ca(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!ca(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!ca(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!ca(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ca(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ca(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&bc(this.defaultSampleFlags,n)},n}(la);function Jc(t){var n=t.data,i=n.nextUint8(),e=new ea(sa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=Boolean(e.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,l=c?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ua(new ea(sa.from(n.nextUint8Array(4)))):void 0;return new Kc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var $c=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Jo(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!ca(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ca(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ca(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){var n,i;if(!ca(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!ca(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!ca(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ca(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ca(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ca(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&bc(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&bc(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(la);function th(t){var n=t.data,i=n.nextUint8(),e=new ea(sa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ua(new ea(sa.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<h;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ua(new ea(sa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new $c(i,f,v)}var nh=function(t){function n(){return t.call(this,"traf")||this}return Jo(n,t),n}(qa);function ih(t){for(var n=new nh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"tfhd")?n.boxes.push(Jc(r)):Pa(r,"tfdt")?n.boxes.push(Zc(r)):Pa(r,"trun")?n.boxes.push(th(r)):n.boxes.push(Fa(r))}return n}var eh=function(t){function n(){return t.call(this,"moof")||this}return Jo(n,t),n}(qa);function rh(t){for(var n=new eh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"traf")?n.boxes.push(ih(r)):Pa(r,"pssh")?n.boxes.push(Ec(r)):n.boxes.push(Fa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Jo(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Ha},set:function(t){if(!ca(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(la);var sh=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Jo(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.Va},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(aa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Jo(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!ca(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!ca(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(aa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Jo(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qa),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new sh(n),r}Jo(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(aa);var uh=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){var n=this;if(!ca(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ca(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!ca(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ca(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(la);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Jo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(uh),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Jo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(uh),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ya},set:function(t){if(!ca(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!ca(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ca(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!ca(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ca(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(la),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){kc(e[i],n)}}}(la),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qa);var oh=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Jo(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.Za},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(la);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Jo(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(oh),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Jo(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!ca(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(oh),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!ca(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(oh),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Jo(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!ca(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ca(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!ca(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){if(!ca(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(la),function(t){function n(){return t.call(this,"stbl")||this}Jo(n,t)}(qa),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!ca(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ca(t.firstChunk,32)||!ca(t.sampleDescriptionIndex,32)||!ca(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(la),function(t){function n(){return t.call(this,"schi")||this}Jo(n,t)}(qa),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Jo(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.$a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.tc},set:function(t){if(!ca(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.tc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.nc},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(la);var ah=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.ic},set:function(t){if(!ca(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.ic=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ca(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ec},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ec=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.rc},set:function(t){if(!ca(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.rc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.uc},set:function(t){if(!ca(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ca(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!ca(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!ca(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!ca(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.uc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(la),ch=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(ah),hh=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(ah);var fh=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Jo(n,t),n}(ic);function vh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new fh(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Jo(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.ac},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!ca(ha(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ha(this.balance,8),16),n.writer.writeUInt(0,16)}}(la),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!ca(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ca(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!ca(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ca(t.sampleCount,32)||!ca(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(la),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ca(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Qa),function(t){function n(){return t.call(this,"udta")||this}Jo(n,t)}(qa);var lh={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=lh);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Jo(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.cc},set:function(t){if(!ca(t.red,16)||!ca(t.green,16)||!ca(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(la);var dh=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=r.depth)&&void 0!==h?h:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Jo(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!ca(t,16))throw new v("Provided width does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!ca(t,16))throw new v("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hc},set:function(t){if(!ca(ha(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fc},set:function(t){if(!ca(ha(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.vc},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.vc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.lc},set:function(t){if(!ca(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.lc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.dc},set:function(t){if(!ca(t,16))throw new v("Provided depth does not fit in 16 bits.");this.dc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ha(this.horizontalResolution,16),32),n.writer.writeUInt(ha(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&fa(n.writer,this.extra)},n}(Ya);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(sa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(la),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(ja),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(dh),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ya),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(aa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.wc},set:function(t){if(!ca(t,8))throw new v("Provided version does not fit in 8 bits.");this.wc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this._c},set:function(t){if(!ca(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this._c=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.gc},set:function(t){if(!ca(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.gc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.mc},set:function(t){if(!ca(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.mc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.yc},set:function(t){if(!ca(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.yc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.kc},set:function(t){if(!ca(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.kc=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(sa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(sa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Jo(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(dh),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Jo(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!ca(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.bc},set:function(t){if(!ca(t,32))throw new v("Provided max does not fit in 32 bits.");this.bc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.pc},set:function(t){if(!ca(t,32))throw new v("Provided avg does not fit in 32 bits.");this.pc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(aa);var wh=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Jo(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.Ac},set:function(t){if(!ca(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Ac=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Tc},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Tc=t,this.Sc=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Ec},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Ec=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Sc},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Sc=t,this.Tc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),fa(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),fa(t.writer,this.constantIv))},n}(la);!function(t){function n(n){return t.call(this,0,n)||this}Jo(n,t)}(wh);var _h=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Jo(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Ic},set:function(t){if(!ca(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Ic=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Rc},set:function(t){if(!ca(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Rc=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(wh);function gh(t){return void 0!==t.iv}function mh(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new _h(n),i}Jo(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(pc),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Jo(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){var n;if(!ca(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(gh(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=mh(r)),!0===n&&!mh(r)||!1===n&&mh(r))throw new v("Mix of samples with and without subsamples detected.");if(mh(r)){if(!ca(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ca(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ca(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];gh(r)&&(n+=r.iv.length),mh(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(gh(r)&&fa(n.writer,r.iv),mh(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(la),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Jo(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ca(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Dc},set:function(t){if(!ca(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Dc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Nc},set:function(t){if(!ca(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Nc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Cc},set:function(t){if(!ca(t,32))throw new v("The provided id does not fit in 32 bits.");this.Cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(sa.from(this.data))}}(la);var yh=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new oa,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function kh(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=xa(i,e);if(!r.complete)return;if(Pa(r.box,n))return r.box}}(new Ca(Ra(i),new Na),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var bh=kh("moov",qc),ph=kh("sidx",function(t){var n,i,e=t.data,r=La(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var c=e.nextUint16(),h=[],f=0;f<c;f++){var v=new ea(sa.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);h.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new ch(o,a,n,i,h,u.raw):new hh(o,a,n,i,h,u.raw)}),Ah=kh("moof",rh),Th=kh("pssh",Ec);function Sh(t){return function(t){for(var n=new yh,i=0,e=Oa(t);i<e.length;i++){var r=e[i];Pa(r,"ftyp")?n.boxes.push(rc(r)):Pa(r,"styp")?n.boxes.push(vh(r)):Pa(r,"moov")?n.boxes.push(qc(r)):Pa(r,"moof")?n.boxes.push(rh(r)):Pa(r,"mdat")?n.boxes.push(wc(r)):n.boxes.push(Fa(r))}return n}(new Ca(Ra(t),new Na))}var Eh=function(t){function n(n,i){var e;(e=t.call(this)||this).Pc=void 0,e.Bc=!1,e.Oc=void 0,e.xc=void 0,e.Lc=function(){e.Mc()},e.Uc=function(t){e.Qs(new bu(Kt(e),t.messageType,jo(e.Xc,t.message)))},e.Fc=function(){e.Bc=!0,e.Pc.Cu>0&&(e.Pc.Nu(),e.Qs(new ku(Kt(e)))),e.Hc.removeEventListener("keystatuseschange",e.Lc),e.Hc.removeEventListener("message",e.Uc)},e.Hc=n,e.Xc=i,e.Hc.addEventListener("keystatuseschange",e.Lc),e.Hc.addEventListener("message",e.Uc),e.Pc=new Eu;var r=[];return e.Hc.closed&&r.push(We.resolve(e.Hc.closed)),e.xc=new Go,r.push(e.xc.Fu),e.Oc=We.race(r).then(e.Fc,e.Fc),e.Mc(),e}S(n,t);var i=n.prototype;return i.zc=function(){if(this.Bc)return this.Oc;var t=[];return t.push(We.resolve(this.Hc.close())),t.push(fu(1e3)),this.xc.Wu(We.race(t).catch(Ih)),this.Bc=!0,this.Oc},i.Vc=function(t,n,i){if(M.fn){var e=Th(Xo(n));if(1===e.version)n=new Tc(e.systemId,e.data).serialize().join()}return We.resolve(this.Hc.generateRequest(t,n)).catch(Ih)},i.Wc=function(t){return We.resolve(this.Hc.load(t)).catch(Ih)},i.Gc=function(){return We.resolve(this.Hc.remove()).catch(Ih)},i.qc=function(t){return We.resolve(this.Hc.update(t)).catch(Ih)},i.Mc=function(){var t=this;this.Pc.Nu(),this.Hc.keyStatuses.forEach(function(n,i){t.Yc(i,n)}),this.Qs(new ku(this))},i.Yc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Xo(t);if(this.Xc===Qr&&16===e.byteLength){var r=Lo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Xc===Qr&&"status-pending"===n&&(n="usable"),this.Pc.Du(e,n)},A(n,[{key:"jc",get:function(){return this.Oc}},{key:"Qc",get:function(){return this.Hc.expiration}},{key:"Zc",get:function(){return this.Pc}},{key:"Kc",get:function(){return this.Hc.sessionId}}]),n}(wu);function Ih(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Zo(t.message,void 0,n,t)}var Rh=function(){function t(t,n,i){this.Jc=t,this.$c=n,this.nh=i}var n=t.prototype;return n.ih=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Eh(this.Jc.createSession(t),this.$c));case 1:case"end":return n.stop()}},null,this,null,We)},n.eh=function(t){return We.resolve(this.Jc.setServerCertificate(t))},n.rh=function(t){return We.resolve(t.setMediaKeys(this.Jc))},n.sh=function(t){return We.resolve(t.setMediaKeys(null))},t}(),Dh=function(){function t(t,n,i){this.uh=t,this.Xc=n,this.oh=i}var n=t.prototype;return n.ah=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.uh.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Rh(t,this.Xc,this.oh));case 4:case"end":return n.stop()}},null,this,null,We)},n.hh=function(){return this.oh},A(t,[{key:"$c",get:function(){return this.uh.keySystem}}]),t}(),Nh={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Ch(t){return vs(t,Nh.APPLICATION_MP4)||vs(t,Nh.VIDEO_MP4)||vs(t,Nh.AUDIO_MP4)}var Ph=function(){function t(t,n){this.fs=void 0,this.fh=void 0,this.fs=t,this.fh=n}return t.prototype.vh=function(t){for(var n=0,i=this.fh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Bh(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ph(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var c=r[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Oh(r.substr(u,a));h&&s.push(h),u=a+1}}if(u!==r.length){var f=Oh(r.substr(u));f&&s.push(f)}return new Ph(e,s)}function Oh(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function xh(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Lh(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+gs((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Mh(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,lh:e.lh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Uh(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Uh(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Uh(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Fs(n,e.encryptionScheme))&&(!e.robustness&&t(i,xh(e.contentType))))}function Xh(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Fh(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Hh(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(zh))||!(!t.videoCapabilities||!t.videoCapabilities.some(zh))}function zh(t){return!t.robustness}function Vh(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Wh=function(){function t(){}return t.prototype.Ss=function(t,n){var i,e,r,s,u,a,c,h;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.lh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Fh(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Fh(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Hh)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?Vh(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Vh(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Dr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Dh(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Dr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return c=f.sent,h=c.getConfiguration(),f.abrupt("return",new Dh(c,t,h));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.dh=function(){return As()},t}(),Gh=function(t){function n(n,i){var e;return(e=t.call(this)||this).Bc=!1,e.wh=void 0,e._h=void 0,e.gh=void 0,e.yh=void 0,e.kh=void 0,e.Fc=function(){e.Bc=!0,e.wh.Wu(void 0),e.kh&&(e.kh.removeEventListener("mskeyclose",e.Fc),e.kh.removeEventListener("mskeymessage",e.ph),e.kh.removeEventListener("mskeyerror",e.Ah),e.kh.removeEventListener("mskeyadded",e.Th))},e.ph=function(t){e.gh&&(e.gh.Wu(void 0),e.gh=void 0),e.Qs(new bu(Kt(e),"license-request",Ho(t.message).buffer,t.destinationURL||void 0))},e.Ah=function(){var t=e.kh&&e.kh.error;if(t){var n=new Zo("Unknown CDM error",t.code,t.systemCode);if(e.gh)e.gh.Gu(n),e.gh=void 0;else if(e._h)e._h.Gu(n),e._h=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Sh("output-not-allowed");break;default:e.Sh("internal-error")}}},e.Th=function(){e.gh&&(e.Sh("usable"),e.gh.Wu(void 0),e.gh=void 0),e._h&&(e.Sh("usable"),e._h.Wu(void 0),e._h=void 0)},e.Eh=n,e.Ih=i,e.wh=new Go,e.yh=new Eu,e}S(n,t);var i=n.prototype;return i.Vc=function(t,n,i){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),this.gh=new Go,this.ih(Xo(n),i),t.next=5,Dr.awrap(this.gh.Fu);case 5:case"end":return t.stop()}},null,this,null,We)},i.ih=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Dh;return(i=n?this.Eh.createSession(this.Ih,t,e):this.Eh.createSession(this.Ih,t)).addEventListener("mskeyclose",this.Fc),i.addEventListener("mskeymessage",this.ph),i.addEventListener("mskeyerror",this.Ah),i.addEventListener("mskeyadded",this.Th),this.kh=i,this.Sh("status-pending"),i},i.Wc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.qc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this._h=new Go,this.Rh(),this.kh){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=Xo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.kh.update(n),i.next=10,Dr.awrap(this._h.Fu);case 10:case"end":return i.stop()}},null,this,null,We)},i.zc=function(){return!this.Bc&&this.kh&&(this.Bc=!0,this.kh.close()),this.wh.Fu},i.Gc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.Rh=function(){if(this.Bc)throw new l("Already closing or closed.")},i.Sh=function(t){this.yh.Nu(),this.yh.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"Kc",get:function(){return this.kh&&this.kh.sessionId||""}},{key:"Qc",get:function(){return NaN}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Zc",get:function(){return this.yh}}]),n}(wu),qh=function(){function t(t,n,i){this.Ih=void 0,this.Eh=t,this.$c=n,this.nh=i;var e=Xh(i)||"video/mp4";this.Ih=xh(e)}var n=t.prototype;return n.ih=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Gh(this.Eh,this.Ih));case 1:case"end":return t.stop()}},null,this,null,We)},n.eh=function(t){return We.resolve(!1)},n.rh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Eh):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Eh),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.sh=function(t){return We.resolve()},t}(),Yh=function(){function t(t,n){this.Xc=t,this.Nh=n}var n=t.prototype;return n.hh=function(){return this.Nh},n.ah=function(){var t=new le.MSMediaKeys(this.Xc);return We.resolve(new qh(t,this.Xc,this.Nh))},A(t,[{key:"$c",get:function(){return this.Xc}}]),t}(),jh=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(function(t,n){if(!Qh())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mh(Zh,mu,t,e);if(r)return new Yh(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.dh=function(){return Qh()},t}();function Qh(){return void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported}function Zh(t,n){return le.MSMediaKeys.isTypeSupported(t,n)}var Kh,Jh,$h=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wh=new Go,r.Ch=void 0,r.yh=new Eu,r.Ph=void 0,r.Bh=new Go,r.Ah=function(){var t=r.Ph&&r.Ph.error;if(t){var n=new Zo("Unknown CDM error",t.code,t.systemCode);r.Ch?(r.Ch.Gu(n),r.Ch=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Sh("output-not-allowed"):r.Sh("internal-error"),r.Qs(new pu)}},r.ph=function(t){r.Qs(new bu(Kt(r),"license-request",Ho(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Th=function(){r.Ch&&(r.Ch.Wu(void 0),r.Ch=void 0),r.Sh("usable")},r.Oh=n,r.Ih=i,r.Lh=e,r}S(n,t);var i=n.prototype;return i.Vc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Mh;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=tf(Xo(n),e,this.Lh);return this.Ph=this.Oh.createSession(this.Ih,r),this.Ph.addEventListener("webkitkeymessage",this.ph,!1),this.Ph.addEventListener("webkitkeyadded",this.Th,!1),this.Ph.addEventListener("webkitkeyerror",this.Ah,!1),this.Sh("status-pending"),this.Bh.Wu(this.Ph),this.Bh=new Go,We.resolve()},i.Wc=function(t){return We.resolve(!0)},i.qc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Xo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Ch=new Go,i.t0=this.Ph,i.t0){i.next=9;break}return i.next=8,Dr.awrap(this.Bh.Fu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Dr.awrap(this.Ch.Fu);case 13:case"end":return i.stop()}},null,this,null,We)},i.zc=function(){var t,n=this.Ph;return n&&(n.removeEventListener("webkitkeymessage",this.ph,!1),n.removeEventListener("webkitkeyadded",this.Th,!1),n.removeEventListener("webkitkeyerror",this.Ah,!1),n.close()),this.Bh.Hs(),null==(t=this.Ch)||t.Hs(),this.wh.Wu(void 0),this.wh.Fu},i.Gc=function(){return We.resolve(void 0)},i.Sh=function(t){this.yh.Nu(),this.yh.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"Kc",get:function(){return this.Ph?this.Ph.sessionId:""}},{key:"Qc",get:function(){return NaN}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Zc",get:function(){return this.yh}}]),n}(wu);function tf(t,n,i){var e=Co(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Vo;return vo(o,a,r,!0),To(o,a,e,!0),vo(o,a,s,!0),To(o,a,n,!0),vo(o,a,i.byteLength,!0),uo(o,a,i),new y(u)}n.ErrorCode=void 0,(Kh=n.ErrorCode||(n.ErrorCode={}))[Kh.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Kh[Kh.LICENSE_ERROR=2e3]="LICENSE_ERROR",Kh[Kh.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Kh[Kh.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Kh[Kh.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Kh[Kh.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Kh[Kh.SOURCE_INVALID=3e3]="SOURCE_INVALID",Kh[Kh.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Kh[Kh.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Kh[Kh.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Kh[Kh.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Kh[Kh.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Kh[Kh.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Kh[Kh.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Kh[Kh.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Kh[Kh.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Kh[Kh.NETWORK_ERROR=6e3]="NETWORK_ERROR",Kh[Kh.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Kh[Kh.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Kh[Kh.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Kh[Kh.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Kh[Kh.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Kh[Kh.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Kh[Kh.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Kh[Kh.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Kh[Kh.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Kh[Kh.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Kh[Kh.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Kh[Kh.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Kh[Kh.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Kh[Kh.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Kh[Kh.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Kh[Kh.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Kh[Kh.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Kh[Kh.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Kh[Kh.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Kh[Kh.AD_ERROR=1e4]="AD_ERROR",Kh[Kh.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Kh[Kh.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Jh=n.ErrorCategory||(n.ErrorCategory={}))[Jh.CONFIGURATION=1]="CONFIGURATION",Jh[Jh.LICENSE=2]="LICENSE",Jh[Jh.SOURCE=3]="SOURCE",Jh[Jh.MANIFEST=4]="MANIFEST",Jh[Jh.MEDIA=5]="MEDIA",Jh[Jh.NETWORK=6]="NETWORK",Jh[Jh.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Jh[Jh.SUBTITLE=8]="SUBTITLE",Jh[Jh.VR=9]="VR",Jh[Jh.AD=10]="AD",Jh[Jh.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var nf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}($t);var ef=function(){function t(t,n,i){this.Ih=void 0,this.Lh=void 0,this.Oh=t,this.$c=n,this.nh=i;var e=Xh(i)||"video/mp4";this.Ih=xh(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Oh},i.ih=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new $h(this.Oh,this.Ih,this.Lh));case 3:case"end":return t.stop()}},null,this,null,We)},i.eh=function(t){return this.Lh=Xo(t),We.resolve(!0)},i.rh=function(t){return t.webkitSetMediaKeys(this.Oh),We.resolve()},i.sh=function(t){return t.webkitSetMediaKeys(null),We.resolve()},t}(),rf=function(){function t(t,n){this.Xc=t,this.Nh=n}var n=t.prototype;return n.hh=function(){return this.Nh},n.ah=function(){var t=new le.WebKitMediaKeys(this.Xc);return We.resolve(new ef(t,this.Xc,this.Nh))},A(t,[{key:"$c",get:function(){return this.Xc}}]),t}(),sf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(function(t,n){if(t!==is)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!uf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mh(of,yu,t,e);if(r)return new rf(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.dh=function(){return uf()},t}();function uf(){return void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported}function of(t,n){return le.WebKitMediaKeys.isTypeSupported(t,n)}var af,cf=function(){function t(t){this.Uh=t}return t.prototype.Ss=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Uh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Dr.awrap(r.Ss(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),hf=function(t){function n(n){var i;return(i=t.call(this)||this).gh=void 0,i.Ch=void 0,i.wh=void 0,i.do=!1,i.Xh=void 0,i.Fh=void 0,i.Hh=void 0,i.Vh=void 0,i.Wh=void 0,i.Xc=n,i.wh=new Go,i.Fh="",i.Wh=new Go,i.Hh=new Eu,i}S(n,t);var i=n.prototype;return i.Gh=function(){this.Ch&&(this.Sh("usable"),this.Ch.Wu(void 0),this.Ch=void 0)},i.qh=function(t){var n=new Zo("Unknown CDM error",t.errorCode,t.systemCode);this.Ch?(this.Ch.Gu(n),this.Ch=void 0):this.gh?(this.gh.Gu(n),this.gh=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Sh("output-restricted"):1===n.ju?this.Sh("expired"):this.Sh("internal-error")},i.Yh=function(t){0!==t.message.byteLength&&(this.gh&&(this.gh.Wu(void 0),this.gh=void 0),this.Qs(new bu(this,"license-request",jo(this.Xc,Ho(t.message).buffer),t.defaultURL||void 0)))},i.jh=function(t){this.Vh||(this.Vh=t,this.Wh.Wu(t))},i.zc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.do=!0,this.wh.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,We)},i.Vc=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.gh=new Go,this.Xh=Xo(n),t.t0=this.Vh,t.t0){t.next=8;break}return t.next=7,Dr.awrap(this.Wh.Fu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Xc,this.Xh),t.next=12,Dr.awrap(this.gh.Fu);case 12:case"end":return t.stop()}},null,this,null,We)},i.Wc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.Gc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.qc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Ch=new Go,n.t0=this.Vh,n.t0){n.next=7;break}return n.next=6,Dr.awrap(this.Wh.Fu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Xc,Xo(t),this.Xh,this.Kc),n.next=11,Dr.awrap(this.Ch.Fu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this.do)throw new l("Already closing or closed.")},i.Sh=function(t){this.Hh.Nu(),this.Hh.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"Zc",get:function(){return this.Hh}},{key:"Kc",get:function(){return this.Fh},set:function(t){this.Fh=t}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Qc",get:function(){return NaN}}]),n}(wu),ff=function(){function t(t,n){var i=this;this.Vh=void 0,this.Qh=Pr(),this.Zh=[],this.Th=function(t){var n=i.Kh(t.sessionId);n&&n.Gh()},this.Jh=function(t){var n=i.Kh(t.sessionId);n&&n.qh(t)},this.$h=function(t){var n=i.Kh(t.sessionId);n&&n.Yh(t)},this.$c=t,this.nh=n}var n=t.prototype;return n.rh=function(t){return this.Vh=t,this.Vh.addEventListener("webkitkeyadded",this.Th),this.Vh.addEventListener("webkitkeyerror",this.Jh),this.Vh.addEventListener("webkitkeymessage",this.$h),this.Qh.forEach(function(n,i){return n.jh(t)}),this.Zh.forEach(function(n){return n.jh(t)}),We.resolve()},n.sh=function(t){return t.removeEventListener("webkitkeyadded",this.Th),t.removeEventListener("webkitkeyerror",this.Jh),t.removeEventListener("webkitkeymessage",this.$h),this.Vh=void 0,We.resolve()},n.ih=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new hf(this.$c),this.Vh&&e.jh(this.Vh),this.Zh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.eh=function(t){return We.resolve(!1)},n.Kh=function(t){if(t){var n=this.Qh.get(t);return n||((n=this.Zh.shift())?(n.Kc=t,this.Qh.set(t,n),n):void 0)}},t}(),vf=function(){function t(t,n){this.$c=t,this.tf=n}var n=t.prototype;return n.ah=function(){return We.resolve(new ff(this.$c,this.tf))},n.hh=function(){return this.tf},t}(),lf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(df(t,n))}catch(t){return We.reject(t)}},t.dh=function(){return Ts()},t}();function df(t,n){if(!lf.dh())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mh(wf,mu,t,e);if(r)return new vf(t,r)}throw new l("Unsupported key system configuration for "+t)}function wf(t,n){var i=ar();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function _f(){return af||(af=function(){var t=[];sf.dh()&&t.push(new sf);Wh.dh()&&t.push(new Wh);jh.dh()&&t.push(new jh);lf.dh()&&t.push(new lf);return new cf(t)}()),af}var gf=function(){function t(){this.nf=Pr()}var n=t.prototype;return n.Nu=function(t){this.nf.delete(t)},n.if=function(){this.nf.clear()},n.Iu=function(t){return this.nf.get(t)},n.ef=function(t,n){this.nf.set(t,n)},t}(),mf=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=yf.dh()?new yf:new gf),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t}();mf.Yn=void 0;var yf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.dh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Nu=function(n){t.sessionStorage.removeItem(n)},e.if=function(){t.sessionStorage.clear()},e.Iu=function(n){return t.sessionStorage[n]},e.ef=function(n,i){t.sessionStorage[n]=i},i}(mf);var kf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function bf(t,n,i){var e=kf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var pf,Af;!function(t){t.sf="uf",t.cf="hf",t.vf="contentprotectionerror",t.lf="contentprotectionsuccess",t.df="currentsourcechange",t.wf="destroy",t._f="durationchange",t.gf="emptied",t.yu="encrypted",t.mf="ended",t.yf="kf",t.bf="loadstart",t.pf="manifestupdate",t.Af="nosupportedrepresentationfound",t.Tf="offline",t.Sf="online",t.Ef="pause",t.If="play",t.Rf="progress",t.Df="ratechange",t.Nf="representationchange",t.Cf="resize",t.Pf="seeked",t.Bf="seeking",t.Of="segmentnotfound",t.xf="Lf",t.Mf="Uf",t.Xf="sourcechange",t.Ff="timeupdate",t.Hf="volumechange",t.zf="Vf",t.Wf="metricschange"}(pf||(pf={})),function(t){t.Gf="arraybuffer",t.qf="json",t.Yf="stream",t.$n="text"}(Af||(Af={}));var Tf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Sf(i),e=Ef(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Sf(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Sf(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Sf(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Sf(i)).toLowerCase();this.Kr[e]=[i,Ef(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Sf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Ef(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Rf(){}var Df=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Nf(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Cf=Rf,Pf=We,Bf=We.prototype.then,Of=We.resolve.bind(Pf),xf=We.reject.bind(Pf);function Lf(t){return new Pf(t)}function Mf(t){return Of(t)}function Uf(t){return xf(t)}function Xf(t,n,i){return Bf.call(t,n,i)}function Ff(t,n,i){Xf(Xf(t,n,i),void 0,Cf)}function Hf(t,n){Ff(t,n)}function zf(t,n){Ff(t,void 0,n)}function Vf(t,n,i){return Xf(t,n,i)}function Wf(t){Xf(t,void 0,Cf)}var Gf=function(){var t=Df&&Df.queueMicrotask;if("function"==typeof t)return t;var n=Mf(void 0);return function(t){return Xf(n,t)}}();function qf(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Yf(t,n,i){try{return Mf(qf(t,n,i))}catch(t){return Uf(t)}}var jf=function(){function t(){this.Kf=0,this.Jf=0,this.Ee={$f:[],tv:void 0},this.ev=this.Ee,this.Kf=0,this.Jf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.ev,i=n;16383===n.$f.length&&(i={$f:[],tv:void 0}),n.$f.push(t),i!==n&&(this.ev=i,n.tv=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Kf,e=i+1,r=t.$f,s=r[i];return 16384===e&&(n=t.tv,e=0),--this.Jf,this.Kf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ee,e=i.$f;!(n===e.length&&void 0===i.tv||n===e.length&&(n=0,0===(e=(i=i.tv).$f).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Kf;return t.$f[n]},t}();function Qf(t,n){t.rv=n,n.uv=t,"readable"===n.me?$f(t):"closed"===n.me?function(t){$f(t),iv(t)}(t):tv(t,n.ov)}function Zf(t,n){return Kd(t.rv,n)}function Kf(t){"readable"===t.rv.me?nv(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){tv(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.rv.uv=void 0,t.rv=void 0}function Jf(t){return new l("Cannot "+t+" a stream using a released reader")}function $f(t){t.Oc=Lf(function(n,i){t.hv=n,t.fv=i})}function tv(t,n){$f(t),nv(t,n)}function nv(t,n){void 0!==t.fv&&(Wf(t.Oc),t.fv(n),t.hv=void 0,t.fv=void 0)}function iv(t){void 0!==t.hv&&(t.hv(void 0),t.hv=void 0,t.fv=void 0)}var ev=If("[[AbortSteps]]"),rv=If("[[ErrorSteps]]"),sv=If("[[CancelSteps]]"),uv=If("[[PullSteps]]"),ov=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},av=w.trunc||function(t){return t<0?w.ceil(t):w.floor(t)};function cv(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new l(n+" is not an object.");var i}function hv(t,n){if("function"!=typeof t)throw new l(n+" is not a function.")}function fv(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new l(n+" is not an object.")}function vv(t,n,i){if(void 0===t)throw new l("Parameter "+n+" is required in '"+i+"'.")}function lv(t,n,i){if(void 0===t)throw new l(n+" is required in '"+i+"'.")}function dv(t){return Number(t)}function wv(t){return 0===t?0:t}function _v(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=wv(e),!ov(e))throw new l(n+" is not a finite number");if((e=function(t){return wv(av(t))}(e))<0||e>i)throw new l(n+" is outside the accepted range of 0 to "+i+", inclusive");return ov(e)&&0!==e?e:0}function gv(t,n){if(!Qd(t))throw new l(n+" is not a ReadableStream.")}function mv(t){return new Sv(t)}function yv(t,n){t.uv.vv.push(n)}function kv(t,n,i){var e=t.uv.vv.shift();i?e.wv():e._v(n)}function bv(t){return t.uv.vv.length}function pv(t){var n=t.uv;return void 0!==n&&!!Ev(n)}var Av,Tv,Sv=function(){function t(t){if(vv(t,1,"ReadableStreamDefaultReader"),gv(t,"First parameter"),Zd(t))throw new l("This stream has already been locked for exclusive reading by another reader");Qf(this,t),this.vv=new jf}return d.defineProperty(t.prototype,"closed",{get:function(){return Ev(this)?this.Oc:Uf(Rv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Ev(this)?void 0===this.rv?Uf(Jf("cancel")):Zf(this,t):Uf(Rv("cancel"))},t.prototype.read=function(){if(!Ev(this))return Uf(Rv("read"));if(void 0===this.rv)return Uf(Jf("read from"));var t,n,i=Lf(function(i,e){t=i,n=e});return Iv(this,{_v:function(n){return t({value:n,done:!1})},wv:function(){return t({value:void 0,done:!0})},mv:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Ev(this))throw Rv("releaseLock");if(void 0!==this.rv){if(this.vv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Kf(this)}},t}();function Ev(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"vv")&&t instanceof Sv)}function Iv(t,n){var i=t.rv;i.yv=!0,"closed"===i.me?n.wv():"errored"===i.me?n.mv(i.ov):i.bv[uv](n)}function Rv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}d.defineProperties(Sv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(Sv.prototype,If.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof If.asyncIterator&&((Av={})[If.asyncIterator]=function(){return this},Tv=Av,d.defineProperty(Tv,If.asyncIterator,{enumerable:!1}));var Dv=function(){function t(t,n){this.pv=void 0,this.Av=!1,this.uv=t,this.Tv=n}return t.prototype.next=function(){var t=this,n=function(){return t.Sv()};return this.pv=this.pv?Vf(this.pv,n,n):n(),this.pv},t.prototype.return=function(t){var n=this,i=function(){return n.Ev(t)};return this.pv?Vf(this.pv,i,i):i()},t.prototype.Sv=function(){var t=this;if(this.Av)return We.resolve({value:void 0,done:!0});var n,i,e=this.uv;if(void 0===e.rv)return Uf(Jf("iterate"));var r=Lf(function(t,e){n=t,i=e});return Iv(e,{_v:function(i){t.pv=void 0,Gf(function(){return n({value:i,done:!1})})},wv:function(){t.pv=void 0,t.Av=!0,Kf(e),n({value:void 0,done:!0})},mv:function(n){t.pv=void 0,t.Av=!0,Kf(e),i(n)}}),r},t.prototype.Ev=function(t){if(this.Av)return We.resolve({value:t,done:!0});this.Av=!0;var n=this.uv;if(void 0===n.rv)return Uf(Jf("finish iterating"));if(!this.Tv){var i=Zf(n,t);return Kf(n),Vf(i,function(){return{value:t,done:!0}})}return Kf(n),Mf({value:t,done:!0})},t}(),Nv={next:function(){return Cv(this)?this.Iv.next():Uf(Pv("next"))},return:function(t){return Cv(this)?this.Iv.return(t):Uf(Pv("return"))}};function Cv(t){if(!Nf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Iv"))return!1;try{return t.Iv instanceof Dv}catch(t){return!1}}function Pv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Tv&&d.setPrototypeOf(Nv,Tv);var Bv=Number.isNaN||function(t){return t!=t};function Ov(t){return t.slice()}function xv(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function Lv(t){return t}function Mv(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return xv(r,0,t,n,e),r}function Uv(t){var n=Mv(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function Xv(t){var n=t.Rv.shift();return t.Dv-=n.size,t.Dv<0&&(t.Dv=0),n.value}function Fv(t,n,i){if("number"!=typeof(e=i)||Bv(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Rv.push({value:n,size:i}),t.Dv+=i}function Hv(t){t.Rv=new jf,t.Dv=0}var zv=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"view",{get:function(){if(!Gv(this))throw ll("view");return this.Nv},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Gv(this))throw ll("respond");if(vv(t,1,"respond"),t=_v(t,"First parameter"),void 0===this.Cv)throw new l("This BYOB request has been invalidated");this.Nv.buffer,hl(this.Cv,t)},t.prototype.respondWithNewView=function(t){if(!Gv(this))throw ll("respondWithNewView");if(vv(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");if(void 0===this.Cv)throw new l("This BYOB request has been invalidated");t.buffer,fl(this.Cv,t)},t}();d.defineProperties(zv.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(zv.prototype,If.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Vv=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Wv(this))throw dl("byobRequest");return al(this)},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Wv(this))throw dl("desiredSize");return cl(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Wv(this))throw dl("close");if(this.Pv)throw new l("The stream has already been closed; do not close it again!");var t=this.Bv.me;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");sl(this)},t.prototype.enqueue=function(t){if(!Wv(this))throw dl("enqueue");if(vv(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new l("chunk must be an array buffer view");if(0===t.byteLength)throw new l("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new l("chunk's buffer must have non-zero byteLength");if(this.Pv)throw new l("stream is closed or draining");var n=this.Bv.me;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");ul(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Wv(this))throw dl("error");ol(this,t)},t.prototype[sv]=function(t){Yv(this),Hv(this);var n=this.Ov(t);return rl(this),n},t.prototype[uv]=function(t){var n=this.Bv;if(this.Dv>0){var i=this.Rv.shift();this.Dv-=i.byteLength,$v(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t._v(e)}else{var r=this.xv;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.mv(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Lv.push(u)}yv(n,t),qv(this)}},t}();function Wv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Bv")&&t instanceof Vv)}function Gv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Cv")&&t instanceof zv)}function qv(t){(function(t){var n=t.Bv;if("readable"!==n.me)return!1;if(t.Pv)return!1;if(!t.Mv)return!1;if(pv(n)&&bv(n)>0)return!0;if(ml(n)&&gl(n)>0)return!0;if(cl(t)>0)return!0;return!1})(t)&&(t.Uv?t.Xv=!0:(t.Uv=!0,Ff(t.Fv(),function(){t.Uv=!1,t.Xv&&(t.Xv=!1,qv(t))},function(n){ol(t,n)})))}function Yv(t){tl(t),t.Lv=new jf}function jv(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=Qv(n);"default"===n.readerType?kv(t,e,i):function(t,n,i){var e=t.uv.Hv.shift();i?e.wv(n):e._v(n)}(t,e,i)}function Qv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Zv(t,n,i,e){t.Rv.push({buffer:n,byteOffset:i,byteLength:e}),t.Dv+=e}function Kv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Dv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var c=t.Rv;o>0;){var h=c.peek(),f=w.min(o,h.byteLength),v=n.byteOffset+n.bytesFilled;xv(n.buffer,v,h.buffer,h.byteOffset,f),h.byteLength===f?c.shift():(h.byteOffset+=f,h.byteLength-=f),t.Dv-=f,Jv(t,f,n),o-=f}return a}function Jv(t,n,i){i.bytesFilled+=n}function $v(t){0===t.Dv&&t.Pv?(rl(t),Jd(t.Bv)):qv(t)}function tl(t){null!==t.zv&&(t.zv.Cv=void 0,t.zv.Nv=null,t.zv=null)}function nl(t){for(;t.Lv.length>0;){if(0===t.Dv)return;var n=t.Lv.peek();Kv(t,n)&&(el(t),jv(t.Bv,n))}}function il(t,n){var i=t.Lv.peek();tl(t),"closed"===t.Bv.me?function(t,n){var i=t.Bv;if(ml(i))for(;gl(i)>0;)jv(i,el(t))}(t):function(t,n,i){if(Jv(0,n,i),!(i.bytesFilled<i.elementSize)){el(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Mv(i.buffer,r-e,r);Zv(t,s,0,s.byteLength)}i.bytesFilled-=e,jv(t.Bv,i),nl(t)}}(t,n,i),qv(t)}function el(t){return t.Lv.shift()}function rl(t){t.Fv=void 0,t.Ov=void 0}function sl(t){var n=t.Bv;if(!t.Pv&&"readable"===n.me)if(t.Dv>0)t.Pv=!0;else{if(t.Lv.length>0)if(t.Lv.peek().bytesFilled>0){var i=new l("Insufficient bytes to fill elements in the given buffer");throw ol(t,i),i}rl(t),Jd(n)}}function ul(t,n){var i=t.Bv;if(!t.Pv&&"readable"===i.me){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Lv(e);if(t.Lv.length>0){var o=t.Lv.peek();o.buffer,0,o.buffer=Lv(o.buffer)}if(tl(t),pv(i))if(0===bv(i))Zv(t,u,r,s);else t.Lv.length>0&&el(t),kv(i,new y(u,r,s),!1);else ml(i)?(Zv(t,u,r,s),nl(t)):Zv(t,u,r,s);qv(t)}}function ol(t,n){var i=t.Bv;"readable"===i.me&&(Yv(t),Hv(t),rl(t),$d(i,n))}function al(t){if(null===t.zv&&t.Lv.length>0){var n=t.Lv.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=d.create(zv.prototype);!function(t,n,i){t.Cv=n,t.Nv=i}(e,t,i),t.zv=e}return t.zv}function cl(t){var n=t.Bv.me;return"errored"===n?null:"closed"===n?0:t.Vv-t.Dv}function hl(t,n){var i=t.Lv.peek();if("closed"===t.Bv.me){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new l("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=Lv(i.buffer),il(t,n)}function fl(t,n){var i=t.Lv.peek();if("closed"===t.Bv.me){if(0!==n.byteLength)throw new l("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new l("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=Lv(n.buffer),il(t,e)}function vl(t,n,i,e,r,s,u){n.Bv=t,n.Xv=!1,n.Uv=!1,n.zv=null,n.Rv=n.Dv=void 0,Hv(n),n.Pv=!1,n.Mv=!1,n.Vv=s,n.Fv=e,n.Ov=r,n.xv=u,n.Lv=new jf,t.bv=n,Ff(Mf(i()),function(){n.Mv=!0,qv(n)},function(t){ol(n,t)})}function ll(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function dl(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function wl(t){return new yl(t)}function _l(t,n){t.uv.Hv.push(n)}function gl(t){return t.uv.Hv.length}function ml(t){var n=t.uv;return void 0!==n&&!!kl(n)}d.defineProperties(Vv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(Vv.prototype,If.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var yl=function(){function t(t){if(vv(t,1,"ReadableStreamBYOBReader"),gv(t,"First parameter"),Zd(t))throw new l("This stream has already been locked for exclusive reading by another reader");if(!Wv(t.bv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Qf(this,t),this.Hv=new jf}return d.defineProperty(t.prototype,"closed",{get:function(){return kl(this)?this.Oc:Uf(pl("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),kl(this)?void 0===this.rv?Uf(Jf("cancel")):Zf(this,t):Uf(pl("cancel"))},t.prototype.read=function(t){if(!kl(this))return Uf(pl("read"));if(!ArrayBuffer.isView(t))return Uf(new l("view must be an array buffer view"));if(0===t.byteLength)return Uf(new l("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Uf(new l("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.rv)return Uf(Jf("read from"));var n,i,e=Lf(function(t,e){n=t,i=e});return bl(this,t,{_v:function(t){return n({value:t,done:!1})},wv:function(t){return n({value:t,done:!0})},mv:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!kl(this))throw pl("releaseLock");if(void 0!==this.rv){if(this.Hv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Kf(this)}},t}();function kl(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Hv")&&t instanceof yl)}function bl(t,n,i){var e=t.rv;e.yv=!0,"errored"===e.me?i.mv(e.ov):function(t,n,i){var e=t.Bv,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=Lv(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Lv.length>0)return t.Lv.push(o),void _l(e,i);if("closed"!==e.me){if(t.Dv>0){if(Kv(t,o)){var a=Qv(o);return $v(t),void i._v(a)}if(t.Pv){var c=new l("Insufficient bytes to fill elements in the given buffer");return ol(t,c),void i.mv(c)}}t.Lv.push(o),_l(e,i),qv(t)}else{var h=new s(o.buffer,o.byteOffset,0);i.wv(h)}}(e.bv,n,i)}function pl(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Al(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Bv(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Tl(t){var n=t.size;return n||function(){return 1}}function Sl(t,n){cv(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:dv(i),size:void 0===e?void 0:El(e,n+" has member 'size' that")}}function El(t,n){return hv(t,n),function(n){return dv(t(n))}}function Il(t,n,i){return hv(t,i),function(i){return Yf(t,n,[i])}}function Rl(t,n,i){return hv(t,i),function(){return Yf(t,n,[])}}function Dl(t,n,i){return hv(t,i),function(i){return qf(t,n,[i])}}function Nl(t,n,i){return hv(t,i),function(i,e){return Yf(t,n,[i,e])}}function Cl(t,n){if(!Ll(t))throw new l(n+" is not a WritableStream.")}d.defineProperties(yl.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(yl.prototype,If.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Pl="function"==typeof AbortController;var Bl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:fv(t,"First parameter");var i=Sl(n,"Second parameter"),e=function(t,n){cv(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Il(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Rl(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Dl(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Nl(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(xl(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Tl(i);!function(t,n,i,e){var r=d.create(td.prototype),s=function(){},u=function(){return Mf(void 0)},o=function(){return Mf(void 0)},a=function(){return Mf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(a=function(t){return n.abort(t)});id(t,r,s,u,o,a,i,e)}(this,e,Al(i,1),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!Ll(this))throw cd("locked");return Ml(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Ll(this)?Ml(this)?Uf(new l("Cannot abort a stream that already has a writer")):Ul(this,t):Uf(cd("abort"))},t.prototype.close=function(){return Ll(this)?Ml(this)?Uf(new l("Cannot close a stream that already has a writer")):Vl(this)?Uf(new l("Cannot close an already-closing stream")):Xl(this):Uf(cd("close"))},t.prototype.getWriter=function(){if(!Ll(this))throw cd("getWriter");return Ol(this)},t}();function Ol(t){return new ql(t)}function xl(t){t.me="writable",t.ov=void 0,t.Ao=void 0,t.Wv=void 0,t.Gv=new jf,t.qv=void 0,t.Yv=void 0,t.Qv=void 0,t.Zv=void 0,t.Kv=!1}function Ll(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Wv")&&t instanceof Bl)}function Ml(t){return void 0!==t.Ao}function Ul(t,n){var i;if("closed"===t.me||"errored"===t.me)return Mf(void 0);t.Wv.Jv=n,null===(i=t.Wv.$v)||void 0===i||i.abort();var e=t.me;if("closed"===e||"errored"===e)return Mf(void 0);if(void 0!==t.Zv)return t.Zv.il;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=Lf(function(i,e){t.Zv={il:void 0,Hu:i,Vu:e,ul:n,ol:r}});return t.Zv.il=s,r||Hl(t,n),s}function Xl(t){var n=t.me;if("closed"===n||"errored"===n)return Uf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Lf(function(n,i){var e={Hu:n,Vu:i};t.Yv=e}),r=t.Ao;return void 0!==r&&t.Kv&&"writable"===n&&bd(r),Fv(i=t.Wv,$l,0),sd(i),e}function Fl(t,n){"writable"!==t.me?zl(t):Hl(t,n)}function Hl(t,n){var i=t.Wv;t.me="erroring",t.ov=n;var e=t.Ao;void 0!==e&&Zl(e,n),!function(t){if(void 0===t.qv&&void 0===t.Qv)return!1;return!0}(t)&&i.Mv&&zl(t)}function zl(t){t.me="errored",t.Wv[rv]();var n=t.ov;if(t.Gv.forEach(function(t){t.Vu(n)}),t.Gv=new jf,void 0!==t.Zv){var i=t.Zv;if(t.Zv=void 0,i.ol)return i.Vu(n),void Wl(t);Ff(t.Wv[ev](i.ul),function(){i.Hu(),Wl(t)},function(n){i.Vu(n),Wl(t)})}else Wl(t)}function Vl(t){return void 0!==t.Yv||void 0!==t.Qv}function Wl(t){void 0!==t.Yv&&(t.Yv.Vu(t.ov),t.Yv=void 0);var n=t.Ao;void 0!==n&&wd(n,t.ov)}function Gl(t,n){var i=t.Ao;void 0!==i&&n!==t.Kv&&(n?function(t){gd(t)}(i):bd(i)),t.Kv=n}d.defineProperties(Bl.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(Bl.prototype,If.toStringTag,{value:"WritableStream",configurable:!0});var ql=function(){function t(t){if(vv(t,1,"WritableStreamDefaultWriter"),Cl(t,"First parameter"),Ml(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.al=t,t.Ao=this;var n,i=t.me;if("writable"===i)!Vl(t)&&t.Kv?gd(this):yd(this),ld(this);else if("erroring"===i)md(this,t.ov),ld(this);else if("closed"===i)yd(this),ld(n=this),_d(n);else{var e=t.ov;md(this,e),dd(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return Yl(this)?this.Oc:Uf(fd("closed"))},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Yl(this))throw fd("desiredSize");if(void 0===this.al)throw vd("desiredSize");return function(t){var n=t.al,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return rd(n.Wv)}(this)},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return Yl(this)?this.cl:Uf(fd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Yl(this)?void 0===this.al?Uf(vd("abort")):function(t,n){return Ul(t.al,n)}(this,t):Uf(fd("abort"))},t.prototype.close=function(){if(!Yl(this))return Uf(fd("close"));var t=this.al;return void 0===t?Uf(vd("close")):Vl(t)?Uf(new l("Cannot close an already-closing stream")):jl(this)},t.prototype.releaseLock=function(){if(!Yl(this))throw fd("releaseLock");void 0!==this.al&&Kl(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Yl(this)?void 0===this.al?Uf(vd("write to")):Jl(this,t):Uf(fd("write"))},t}();function Yl(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"al")&&t instanceof ql)}function jl(t){return Xl(t.al)}function Ql(t,n){"pending"===t.hl?wd(t,n):function(t,n){dd(t,n)}(t,n)}function Zl(t,n){"pending"===t.fl?kd(t,n):function(t,n){md(t,n)}(t,n)}function Kl(t){var n=t.al,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Zl(t,i),Ql(t,i),n.Ao=void 0,t.al=void 0}function Jl(t,n){var i=t.al,e=i.Wv,r=function(t,n){try{return t.vl(n)}catch(n){return ud(t,n),1}}(e,n);if(i!==t.al)return Uf(vd("write to"));var s=i.me;if("errored"===s)return Uf(i.ov);if(Vl(i)||"closed"===s)return Uf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Uf(i.ov);var u=function(t){return Lf(function(n,i){var e={Hu:n,Vu:i};t.Gv.push(e)})}(i);return function(t,n,i){try{Fv(t,n,i)}catch(n){return void ud(t,n)}var e=t.ll;if(!Vl(e)&&"writable"===e.me){var r=od(t);Gl(e,r)}sd(t)}(e,n,r),u}d.defineProperties(ql.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(ql.prototype,If.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var $l={},td=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"abortReason",{get:function(){if(!nd(this))throw hd("abortReason");return this.Jv},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"signal",{get:function(){if(!nd(this))throw hd("signal");if(void 0===this.$v)throw new l("WritableStreamDefaultController.prototype.signal is not supported");return this.$v.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!nd(this))throw hd("error");"writable"===this.ll.me&&ad(this,t)},t.prototype[ev]=function(t){var n=this.dl(t);return ed(this),n},t.prototype[rv]=function(){Hv(this)},t}();function nd(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"ll")&&t instanceof td)}function id(t,n,i,e,r,s,u,o){n.ll=t,t.Wv=n,n.Rv=void 0,n.Dv=void 0,Hv(n),n.Jv=void 0,n.$v=function(){if(Pl)return new AbortController}(),n.Mv=!1,n.vl=o,n.Vv=u,n.wl=e,n._l=r,n.dl=s;var a=od(n);Gl(t,a),Ff(Mf(i()),function(){n.Mv=!0,sd(n)},function(i){n.Mv=!0,Fl(t,i)})}function ed(t){t.wl=void 0,t._l=void 0,t.dl=void 0,t.vl=void 0}function rd(t){return t.Vv-t.Dv}function sd(t){var n=t.ll;if(t.Mv&&void 0===n.qv)if("erroring"!==n.me){if(0!==t.Rv.length){var i=t.Rv.peek().value;i===$l?function(t){var n=t.ll;(function(t){t.Qv=t.Yv,t.Yv=void 0})(n),Xv(t);var i=t._l();ed(t),Ff(i,function(){!function(t){t.Qv.Hu(void 0),t.Qv=void 0,"erroring"===t.me&&(t.ov=void 0,void 0!==t.Zv&&(t.Zv.Hu(),t.Zv=void 0)),t.me="closed";var n=t.Ao;void 0!==n&&_d(n)}(n)},function(t){!function(t,n){t.Qv.Vu(n),t.Qv=void 0,void 0!==t.Zv&&(t.Zv.Vu(n),t.Zv=void 0),Fl(t,n)}(n,t)})}(t):function(t,n){var i=t.ll;(function(t){t.qv=t.Gv.shift()})(i),Ff(t.wl(n),function(){!function(t){t.qv.Hu(void 0),t.qv=void 0}(i);var n=i.me;if(Xv(t),!Vl(i)&&"writable"===n){var e=od(t);Gl(i,e)}sd(t)},function(n){"writable"===i.me&&ed(t),function(t,n){t.qv.Vu(n),t.qv=void 0,Fl(t,n)}(i,n)})}(t,i)}}else zl(n)}function ud(t,n){"writable"===t.ll.me&&ad(t,n)}function od(t){return rd(t)<=0}function ad(t,n){var i=t.ll;ed(t),Hl(i,n)}function cd(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function hd(t){return new l("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function fd(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function vd(t){return new l("Cannot "+t+" a stream using a released writer")}function ld(t){t.Oc=Lf(function(n,i){t.hv=n,t.fv=i,t.hl="pending"})}function dd(t,n){ld(t),wd(t,n)}function wd(t,n){void 0!==t.fv&&(Wf(t.Oc),t.fv(n),t.hv=void 0,t.fv=void 0,t.hl="rejected")}function _d(t){void 0!==t.hv&&(t.hv(void 0),t.hv=void 0,t.fv=void 0,t.hl="resolved")}function gd(t){t.cl=Lf(function(n,i){t.yl=n,t.bl=i}),t.fl="pending"}function md(t,n){gd(t),kd(t,n)}function yd(t){gd(t),bd(t)}function kd(t,n){void 0!==t.bl&&(Wf(t.cl),t.bl(n),t.yl=void 0,t.bl=void 0,t.fl="rejected")}function bd(t){void 0!==t.yl&&(t.yl(void 0),t.yl=void 0,t.bl=void 0,t.fl="fulfilled")}d.defineProperties(td.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(td.prototype,If.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var pd="undefined"!=typeof DOMException?DOMException:void 0;var Ad,Td=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(pd)?pd:((Ad=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(Ad.prototype,"constructor",{value:Ad,writable:!0,configurable:!0}),Ad);function Sd(t,n,i,e,r,s){var u=mv(t),o=Ol(n);t.yv=!0;var a=!1,c=Mf(void 0);return Lf(function(h,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new Td("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.me?Ul(n,i):Mf(void 0)}),r||s.push(function(){return"readable"===t.me?Kd(t,i):Mf(void 0)}),k(function(){return We.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Oc,function(t){e?b(!0,t):k(function(){return Ul(n,t)},!0,t)}),y(n,o.Oc,function(n){r?b(!0,n):k(function(){return Kd(t,n)},!0,n)}),d=t,w=u.Oc,_=function(){i?b():k(function(){return function(t){var n=t.al,i=n.me;return Vl(n)||"closed"===i?Mf(void 0):"errored"===i?Uf(n.ov):jl(t)}(o)})},"closed"===d.me?_():Hf(w,_),Vl(n)||"closed"===n.me){var g=new l("the destination writable stream closed before all data could be piped to it");r?b(!0,g):k(function(){return Kd(t,g)},!0,g)}function m(){var t=c;return Xf(c,function(){return t!==c?m():void 0})}function y(t,n,i){"errored"===t.me?i(t.ov):zf(n,i)}function k(t,i,e){function r(){Ff(t(),function(){return p(i,e)},function(t){return p(!0,t)})}a||(a=!0,"writable"!==n.me||Vl(n)?r():Hf(m(),r))}function b(t,i){a||(a=!0,"writable"!==n.me||Vl(n)?p(t,i):Hf(m(),function(){return p(t,i)}))}function p(t,n){Kl(o),Kf(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):h(void 0)}Wf(Lf(function(t,n){!function i(e){e?t():Xf(a?Mf(!0):Xf(o.cl,function(){return Lf(function(t,n){Iv(u,{_v:function(n){c=Xf(Jl(o,n),void 0,Rf),t(!1)},wv:function(){return t(!0)},mv:n})})}),i,n)}(!1)}))})}var Ed=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Id(this))throw Md("desiredSize");return Od(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Id(this))throw Md("close");if(!xd(this))throw new l("The stream is not in a state that permits close");Cd(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Id(this))throw Md("enqueue");if(!xd(this))throw new l("The stream is not in a state that permits enqueue");return Pd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Id(this))throw Md("error");Bd(this,t)},t.prototype[sv]=function(t){Hv(this);var n=this.Ov(t);return Nd(this),n},t.prototype[uv]=function(t){var n=this.Al;if(this.Rv.length>0){var i=Xv(this);this.Pv&&0===this.Rv.length?(Nd(this),Jd(n)):Rd(this),t._v(i)}else yv(n,t),Rd(this)},t}();function Id(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Al")&&t instanceof Ed)}function Rd(t){Dd(t)&&(t.Uv?t.Xv=!0:(t.Uv=!0,Ff(t.Fv(),function(){t.Uv=!1,t.Xv&&(t.Xv=!1,Rd(t))},function(n){Bd(t,n)})))}function Dd(t){var n=t.Al;return!!xd(t)&&(!!t.Mv&&(!!(Zd(n)&&bv(n)>0)||Od(t)>0))}function Nd(t){t.Fv=void 0,t.Ov=void 0,t.vl=void 0}function Cd(t){if(xd(t)){var n=t.Al;t.Pv=!0,0===t.Rv.length&&(Nd(t),Jd(n))}}function Pd(t,n){if(xd(t)){var i=t.Al;if(Zd(i)&&bv(i)>0)kv(i,n,!1);else{var e=void 0;try{e=t.vl(n)}catch(n){throw Bd(t,n),n}try{Fv(t,n,e)}catch(n){throw Bd(t,n),n}}Rd(t)}}function Bd(t,n){var i=t.Al;"readable"===i.me&&(Hv(t),Nd(t),$d(i,n))}function Od(t){var n=t.Al.me;return"errored"===n?null:"closed"===n?0:t.Vv-t.Dv}function xd(t){var n=t.Al.me;return!t.Pv&&"readable"===n}function Ld(t,n,i,e,r,s,u){n.Al=t,n.Rv=void 0,n.Dv=void 0,Hv(n),n.Mv=!1,n.Pv=!1,n.Xv=!1,n.Uv=!1,n.vl=u,n.Vv=s,n.Fv=e,n.Ov=r,t.bv=n,Ff(Mf(i()),function(){n.Mv=!0,Rd(n)},function(t){Bd(n,t)})}function Md(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ud(t,n){return Wv(t.bv)?function(t){var n,i,e,r,s,u=mv(t),o=!1,a=!1,c=!1,h=!1,f=!1,v=Lf(function(t){s=t});function l(t){zf(t.Oc,function(n){t===u&&(ol(e.bv,n),ol(r.bv,n),h&&f||s(void 0))})}function d(){kl(u)&&(Kf(u),l(u=mv(t)));var n={_v:function(n){Gf(function(){a=!1,c=!1;var i=n,u=n;if(!h&&!f)try{u=Uv(n)}catch(n){return ol(e.bv,n),ol(r.bv,n),void s(Kd(t,n))}h||ul(e.bv,i),f||ul(r.bv,u),o=!1,a?_():c&&g()})},wv:function(){o=!1,h||sl(e.bv),f||sl(r.bv),e.bv.Lv.length>0&&hl(e.bv,0),r.bv.Lv.length>0&&hl(r.bv,0),h&&f||s(void 0)},mv:function(){o=!1}};Iv(u,n)}function w(n,i){Ev(u)&&(Kf(u),l(u=wl(t)));var v=i?r:e,d=i?e:r,w={_v:function(n){Gf(function(){a=!1,c=!1;var e=i?f:h,r=i?h:f;if(r)e||fl(v.bv,n);else{var u=void 0;try{u=Uv(n)}catch(n){return ol(v.bv,n),ol(d.bv,n),void s(Kd(t,n))}e||fl(v.bv,n),ul(d.bv,u)}o=!1,a?_():c&&g()})},wv:function(t){o=!1;var n=i?f:h,e=i?h:f;n||sl(v.bv),e||sl(d.bv),void 0!==t&&(n||fl(v.bv,t),!e&&d.bv.Lv.length>0&&hl(d.bv,0)),n&&e||s(void 0)},mv:function(){o=!1}};bl(u,n,w)}function _(){if(o)return a=!0,Mf(void 0);o=!0;var t=al(e.bv);return null===t?d():w(t.Nv,!1),Mf(void 0)}function g(){if(o)return c=!0,Mf(void 0);o=!0;var t=al(r.bv);return null===t?d():w(t.Nv,!0),Mf(void 0)}function m(){}return e=Yd(m,_,function(e){if(h=!0,n=e,f){var r=Ov([n,i]),u=Kd(t,r);s(u)}return v}),r=Yd(m,g,function(e){if(f=!0,i=e,h){var r=Ov([n,i]),u=Kd(t,r);s(u)}return v}),l(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=mv(t),a=!1,c=!1,h=!1,f=!1,v=Lf(function(t){u=t});function l(){if(a)return c=!0,Mf(void 0);a=!0;var t={_v:function(t){Gf(function(){c=!1;var n=t,i=t;h||Pd(r.bv,n),f||Pd(s.bv,i),a=!1,c&&l()})},wv:function(){a=!1,h||Cd(r.bv),f||Cd(s.bv),h&&f||u(void 0)},mv:function(){a=!1}};return Iv(o,t),Mf(void 0)}function d(){}return r=qd(d,l,function(n){if(h=!0,i=n,f){var r=Ov([i,e]),s=Kd(t,r);u(s)}return v}),s=qd(d,l,function(n){if(f=!0,e=n,h){var r=Ov([i,e]),s=Kd(t,r);u(s)}return v}),zf(o.Oc,function(t){Bd(r.bv,t),Bd(s.bv,t),h&&f||u(void 0)}),[r,s]}(t)}function Xd(t,n,i){return hv(t,i),function(i){return Yf(t,n,[i])}}function Fd(t,n,i){return hv(t,i),function(i){return Yf(t,n,[i])}}function Hd(t,n,i){return hv(t,i),function(i){return qf(t,n,[i])}}function zd(t,n){if("bytes"!==(t=""+t))throw new l(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function Vd(t,n){if("byob"!==(t=""+t))throw new l(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Wd(t,n){cv(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new l(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}d.defineProperties(Ed.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(Ed.prototype,If.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Gd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:fv(t,"First parameter");var i=Sl(n,"Second parameter"),e=function(t,n){cv(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:_v(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Xd(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Fd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Hd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:zd(o,n+" has member 'type' that")}}(t,"First parameter");if(jd(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=d.create(Vv.prototype),r=function(){},s=function(){return Mf(void 0)},u=function(){return Mf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new l("autoAllocateChunkSize must be greater than 0");vl(t,e,r,s,u,i,o)}(this,e,Al(i,0))}else{var r=Tl(i);!function(t,n,i,e){var r=d.create(Ed.prototype),s=function(){},u=function(){return Mf(void 0)},o=function(){return Mf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),Ld(t,r,s,u,o,i,e)}(this,e,Al(i,1),r)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!Qd(this))throw tw("locked");return Zd(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Qd(this)?Zd(this)?Uf(new l("Cannot cancel a stream that already has a reader")):Kd(this,t):Uf(tw("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Qd(this))throw tw("getReader");return void 0===function(t,n){cv(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Vd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?mv(this):wl(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Qd(this))throw tw("pipeThrough");vv(t,1,"pipeThrough");var i=function(t,n){cv(t,n);var i=null==t?void 0:t.readable;lv(i,"readable","ReadableWritablePair"),gv(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return lv(e,"writable","ReadableWritablePair"),Cl(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Wd(n,"Second parameter");if(Zd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ml(i.writable))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Wf(Sd(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Qd(this))return Uf(tw("pipeTo"));if(void 0===t)return Uf("Parameter 1 is required in 'pipeTo'.");if(!Ll(t))return Uf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Wd(n,"Second parameter")}catch(t){return Uf(t)}return Zd(this)?Uf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ml(t)?Uf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Sd(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Qd(this))throw tw("tee");return Ov(Ud(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Qd(this))throw tw("values");var n,i,e,r,s,u=function(t,n){cv(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=mv(n),r=new Dv(e,i),(s=d.create(Nv)).Iv=r,s},t}();function qd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(Gd.prototype);return jd(s),Ld(s,d.create(Ed.prototype),t,n,i,e,r),s}function Yd(t,n,i){var e=d.create(Gd.prototype);return jd(e),vl(e,d.create(Vv.prototype),t,n,i,0,void 0),e}function jd(t){t.me="readable",t.uv=void 0,t.ov=void 0,t.yv=!1}function Qd(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"bv")&&t instanceof Gd)}function Zd(t){return void 0!==t.uv}function Kd(t,n){if(t.yv=!0,"closed"===t.me)return Mf(void 0);if("errored"===t.me)return Uf(t.ov);Jd(t);var i=t.uv;return void 0!==i&&kl(i)&&(i.Hv.forEach(function(t){t.wv(void 0)}),i.Hv=new jf),Vf(t.bv[sv](n),Rf)}function Jd(t){t.me="closed";var n=t.uv;void 0!==n&&(iv(n),Ev(n)&&(n.vv.forEach(function(t){t.wv()}),n.vv=new jf))}function $d(t,n){t.me="errored",t.ov=n;var i=t.uv;void 0!==i&&(nv(i,n),Ev(i)?(i.vv.forEach(function(t){t.mv(n)}),i.vv=new jf):(i.Hv.forEach(function(t){t.mv(n)}),i.Hv=new jf))}function tw(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function nw(t,n){cv(t,n);var i=null==t?void 0:t.highWaterMark;return lv(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:dv(i)}}d.defineProperties(Gd.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(Gd.prototype,If.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof If.asyncIterator&&d.defineProperty(Gd.prototype,If.asyncIterator,{value:Gd.prototype.values,writable:!0,configurable:!0});var iw=function(t){return t.byteLength};try{d.defineProperty(iw,"name",{value:"size",configurable:!0})}catch(Av){}var ew=function(){function t(t){vv(t,1,"ByteLengthQueuingStrategy"),t=nw(t,"First parameter"),this.Tl=t.highWaterMark}return d.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!sw(this))throw rw("highWaterMark");return this.Tl},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"size",{get:function(){if(!sw(this))throw rw("size");return iw},enumerable:!1,configurable:!0}),t}();function rw(t){return new l("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function sw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Tl")&&t instanceof ew)}d.defineProperties(ew.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(ew.prototype,If.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var uw=function(){return 1};try{d.defineProperty(uw,"name",{value:"size",configurable:!0})}catch(Av){}var ow=function(){function t(t){vv(t,1,"CountQueuingStrategy"),t=nw(t,"First parameter"),this.Sl=t.highWaterMark}return d.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!cw(this))throw aw("highWaterMark");return this.Sl},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"size",{get:function(){if(!cw(this))throw aw("size");return uw},enumerable:!1,configurable:!0}),t}();function aw(t){return new l("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function cw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Sl")&&t instanceof ow)}function hw(t,n,i){return hv(t,i),function(i){return Yf(t,n,[i])}}function fw(t,n,i){return hv(t,i),function(i){return qf(t,n,[i])}}function vw(t,n,i){return hv(t,i),function(i,e){return Yf(t,n,[i,e])}}d.defineProperties(ow.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(ow.prototype,If.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var lw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Sl(n,"Second parameter"),r=Sl(i,"Third parameter"),s=function(t,n){cv(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:hw(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:fw(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:vw(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=Al(r,0),a=Tl(r),c=Al(e,1),h=Tl(e);!function(t,n,i,e,r,s){function u(){return n}t.El=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Bl.prototype);return xl(u),id(u,d.create(td.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Il;if(t.Kv){var e=t.Rl;return Vf(e,function(){var e=t.El,r=e.me;if("erroring"===r)throw e.ov;return pw(i,n)})}return pw(i,n)}(t,n)},function(){return function(t){var n=t.Dl,i=t.Il,e=i.Nl();return kw(i),Vf(e,function(){if("errored"===n.me)throw n.ov;Cd(n.bv)},function(i){throw ww(t,i),n.ov})}(t)},function(n){return function(t,n){return ww(t,n),Mf(void 0)}(t,n)},i,e),t.Dl=qd(u,function(){return function(t){return gw(t,!1),t.Rl}(t)},function(n){return _w(t,n),Mf(void 0)},r,s),t.Kv=void 0,t.Rl=void 0,t.Cl=void 0,gw(t,!0),t.Il=void 0}(this,Lf(function(t){u=t}),c,h,o,a),function(t,n){var i=d.create(mw.prototype),e=function(t){try{return bw(i,t),Mf(void 0)}catch(t){return Uf(t)}},r=function(){return Mf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.Pl=t,t.Il=n,n.Bl=i,n.Nl=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.Il)):u(void 0)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!dw(this))throw Tw("readable");return this.Dl},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!dw(this))throw Tw("writable");return this.El},enumerable:!1,configurable:!0}),t}();function dw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Il")&&t instanceof lw)}function ww(t,n){Bd(t.Dl.bv,n),_w(t,n)}function _w(t,n){kw(t.Il),ud(t.El.Wv,n),t.Kv&&gw(t,!1)}function gw(t,n){void 0!==t.Rl&&t.Cl(),t.Rl=Lf(function(n){t.Cl=n}),t.Kv=n}d.defineProperties(lw.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(lw.prototype,If.toStringTag,{value:"TransformStream",configurable:!0});var mw=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!yw(this))throw Aw("desiredSize");return Od(this.Pl.Dl.bv)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!yw(this))throw Aw("enqueue");bw(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!yw(this))throw Aw("error");var n;n=t,ww(this.Pl,n)},t.prototype.terminate=function(){if(!yw(this))throw Aw("terminate");!function(t){var n=t.Pl;Cd(n.Dl.bv);var i=new l("TransformStream terminated");_w(n,i)}(this)},t}();function yw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Pl")&&t instanceof mw)}function kw(t){t.Bl=void 0,t.Nl=void 0}function bw(t,n){var i=t.Pl,e=i.Dl.bv;if(!xd(e))throw new l("Readable side is not in a state that permits enqueue");try{Pd(e,n)}catch(t){throw _w(i,t),i.Dl.ov}(function(t){return!Dd(t)})(e)!==i.Kv&&gw(i,!0)}function pw(t,n){return Vf(t.Bl(n),void 0,function(n){throw ww(t.Pl,n),n})}function Aw(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Tw(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}d.defineProperties(mw.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof If.toStringTag&&d.defineProperty(mw.prototype,If.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Sw,Ew=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}($t);function Iw(t){return n=[t],new Gd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Rw(t){return Iw(new y(t))}function Dw(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Go,s=function(){u();var t=new $s;e.cancel(t).catch(K),r.Gu(t)},u=function(){i&&(i.Ms(s),i=void 0)};i&&(i.Ns?s():i.Ls(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Fu}(t,n).then(function(t){return Xu(t).buffer})}function Nw(t,n){var i=n,e=new lw,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Hs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Cw(t){var n=new lw,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||tu(n[0])&&tu(n[1])?n[0]:new Ew(n):n,t.cancel(i).catch(K)}),i.tee()}function Pw(t){return Co(new y(t))}function Bw(t){return Po(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.Ol=1]="Ol"}(Sw||(Sw={}));var Ow="content-type",xw="text/plain;charset=UTF-8",Lw=function(){function t(){}var n=t.prototype;return n.xl=function(t){return this.Ll(t).then(JSON.parse)},n.Ml=function(t,n){switch(t){case Af.Gf:return this.Ul(n);case Af.qf:return this.xl(n);case Af.Yf:return this.Xl();case Af.$n:return this.Ll(n);default:throw new l}},t}();function Mw(t,n,i){if(t instanceof Lw)return t;if(t instanceof Gd)return function(t,n){return new Xw({fs:Sw.Yf,Xl:t,Fl:Uw(n)})}(t,i);var e=Uw(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{fs:Af.$n,Hl:t,Fl:n||xw};if(t instanceof ArrayBuffer||Lu(t))return{fs:Af.Gf,Hl:qw(t),Fl:n};if(G(t)||z(t))return{fs:Af.qf,Hl:t,Fl:n};throw new l("Unsupported BodyInit type")}return{fs:Af.$n,Hl:null,Fl:n}}(t,e)});return new Xw({fs:Sw.Ol,Fu:r,zl:n})}function Uw(t){return(t.get(Ow)||"").toLowerCase()}var Xw=function(t){function n(n){var i;return(i=t.call(this)||this).Vl=!1,i.Wl=void 0,i.Gl=new Go,i.Gl.Fu.catch(K),i.ql(n),i}S(n,t);var i=n.prototype;return i.Yl=function(){return this.Gl.Fu},i.Ll=function(t){return this.jl(Fw,t)},i.xl=function(t){return this.jl(zw,t)},i.Ul=function(t){return this.jl(Ww,t)},i.Xl=function(){return this.Ql((t=this.Wl).fs===Sw.Yf?t.Xl:Nw(t.Fu.then(Gw).then(Rw),t.zl));var t},i.jl=function(t,n){if(this.Vl)return We.reject(new l("Already used"));this.Vl=!0;var i=t(this.Wl,n);return this.Gl.Wu(i.then(K)),i},i.Ql=function(t){if(this.Vl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.Vl=!0;var n=new lw,i=We.resolve(t.pipeTo(n.writable));return this.Gl.Wu(i),n.readable},i.ql=function(t){this.Wl=t,t.fs===Sw.Ol&&t.Fu.catch(K)},i.Zl=function(){if(this.Vl)throw new l("Already used");var t=function(t){if(t.fs===Sw.Yf){var n=t.Xl.tee(),i=n[0],e=n[1];return[{fs:t.fs,Xl:i,Fl:t.Fl},{fs:t.fs,Xl:e,Fl:t.Fl}]}var r=t.zl.Vs(),s=r[0],u=r[1];return[{fs:t.fs,Fu:t.Fu,zl:s},{fs:t.fs,Fu:t.Fu,zl:u}]}(this.Wl),i=t[0],e=t[1];return this.ql(i),new n(e)},A(n,[{key:"Kl",get:function(){return this.Vl}}]),n}(Lw);function Fw(t,n){return t.fs===Sw.Yf?Dw(t.Xl,n).then(Pw):(n&&t.zl.zs(n),su(t.Fu.then(Hw),t.zl))}function Hw(t){switch(t.fs){case Af.$n:return We.resolve(t.Hl||"");case Af.Gf:return We.resolve(t.Hl).then(Pw);case Af.qf:return We.resolve(t.Hl).then(JSON.stringify)}}function zw(t,n){return t.fs===Sw.Yf?Fw(t,n).then(JSON.parse):(n&&t.zl.zs(n),su(t.Fu.then(Vw),t.zl))}function Vw(t){return t.fs===Af.qf?We.resolve(t.Hl):Hw(t).then(JSON.parse)}function Ww(t,n){return t.fs===Sw.Yf?Dw(t.Xl,n):(n&&t.zl.zs(n),su(t.Fu.then(Gw),t.zl))}function Gw(t){switch(t.fs){case Af.Gf:return We.resolve(t.Hl);case Af.$n:case Af.qf:return Hw(t).then(Bw)}}function qw(t){return t instanceof ArrayBuffer?t:Ho(Mo(t)).buffer}function Yw(t){return t.Jl>=200&&t.Jl<=299||304===t.Jl}var jw,Qw,Zw,Kw,Jw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.$l,s=i.td,u=i.Jl,o=i.ed,a=i.rd):(r=[],s=Af.$n,u=200,o="OK",a=!1);var c=n.ud,h=new Tf(n.$l||r),f=n.td||s,v=n.od||(i&&i.ud===c?i.od:c.hd),l=i?i.fd:null,d=Mw(void 0!==n.Hi?n.Hi:l,n.zl||new Js,h);return(e=t.call(this,d)||this).$l=void 0,e.ud=void 0,e.od=void 0,e.td=void 0,e.Jl=void 0,e.ed=void 0,e.rd=void 0,e.$l=h,e.ud=c,e.od=v,e.td=f,e.Jl=void 0!==n.Jl?n.Jl:u,e.ed=void 0!==n.ed?String(n.ed):o,e.rd=n.rd||a,e}S(n,t);var i=n.prototype;return i.Hi=function(t){return this.Ml(this.td,t)},i.Lu=function(){return new n({Hi:this.Zl(),ud:this.ud},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).fd=void 0,i.fd=n,i}S(n,t);var i=n.prototype;return i.Yl=function(){return this.fd.Yl()},i.Ll=function(t){return this.fd.Ll(t)},i.xl=function(t){return this.fd.xl(t)},i.Ul=function(t){return this.fd.Ul(t)},i.Xl=function(){return this.fd.Xl()},i.Zl=function(){return this.fd.Zl()},A(n,[{key:"Kl",get:function(){return this.fd.Kl}}]),n}(Lw));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(jw||(jw={})),function(t){t.vd="",t.ld="manifest",t.dd="segment",t.wd="content-protection"}(Qw||(Qw={})),function(t){t.vd="",t._d="initialization-segment",t.md="fairplay-license",t.yd="fairplay-certificate",t.kd="widevine-license",t.bd="widevine-certificate",t.pd="playready-license",t.Ad="clearkey-license",t.Td="aes128-key"}(Zw||(Zw={})),function(t){t.vd="",t.Sd="audio",t.Ed="video",t.$n="text",t.Id="image"}(Kw||(Kw={}));var $w=function(t,n){this.Hl=void 0,this.$l=void 0,this.Rd=void 0,this.td=void 0,this.Dd=void 0,this.Ws=void 0,this.fs=void 0,this.Nd=void 0,this.Cd=void 0,this.hd=void 0,this.Pd=void 0,this.Bd=void 0;var i,e,r,s,u,o,a,c,h,f,v,l=t.hd;n?(i=n.Hl,e=n.$l,r=n.Rd,s=n.td,u=n.Dd,o=n.Ws,a=n.fs,c=n.Nd,h=n.Cd,f=n.Pd,v=n.Bd):(i=null,e={},r=jw.GET,s=Af.$n,u=0,a=Qw.vd,c=Zw.vd,h=Kw.vd,f=!1),this.hd=l,this.Hl=t.Hl||i,this.$l=new Tf(t.$l||e),this.Rd=t.Rd||r,this.td=t.td||s,this.Dd=void 0!==t.Dd?Number(t.Dd)||0:u,this.Ws=t.Ws||o||(new Js).Ws,this.fs=t.fs||a,this.Nd=t.Nd||c,this.Cd=t.Cd||h,this.Pd=void 0!==t.Pd?Boolean(t.Pd):f,this.Bd=t.Bd||v},t_=function(){function t(){}var n=t.prototype;return n.ud=function(t){var n=function(t){return new Jw({Hi:null,$l:{},ud:t,od:t.hd,td:t.td,Jl:0,ed:pf.Tf})}(new $w(t));return We.resolve(n)},n.Od=function(t){},n.xd=function(){},t}();var n_=function(){function t(t,n){void 0===n&&(n=!0),this.Ld=void 0,this.Md=void 0,this.Ld=t,this.Md=n}var n=t.prototype;return n.ud=function(t){var n=this.Ud(t);return this.Ld.ud(n)},n.Od=function(t){return this.Ld.Od(this.Xd(t))},n.Ud=function(n){var i=new $w(n);if(!this.Md){var e=t.Fd(i.hd);i=new $w({hd:e},i)}return i},n.Xd=function(n){var i=n.hd;return this.Md||(i=t.Fd(i)),{hd:i,Hl:n.Hl}},t.Fd=function(t){return i.Fr&&ls(t,"http://")?t.replace(":","s:"):t},n.xd=function(){this.Ld.xd()},A(t,null,[{key:"Hd",get:function(){return t.zd||(t.zd=new t(new t_)),t.zd}}]),t}();function i_(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function e_(t,n){var e=i.Or(t);return n&&!ds(e,"/")&&(e+="/"),e}n_.zd=void 0;var r_,s_=/cache:(.+)?(?=&|$)/,u_="http://webcache.googleusercontent.com/search?q=cache:";function o_(t){if(!ls(t,u_))return"";var n=i.Br(t).search.match(s_);return n&&n.length>1?n[1]:""}!function(t){t.Vd="HttpOpenError",t.Wd="HttpResponseError",t.Gd="HttpTimeoutError"}(r_||(r_={}));var a_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).qd=void 0,r.qd=n,r}return S(n,t),A(n,[{key:"ud",get:function(){return this.qd}}]),n}($t);var c_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.hd+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return r_.Vd}}]),n}(a_);var h_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ud,null!=e?e:function(t){return"Error while loading "+t.ud.hd+", status code "+t.Jl}(n),i)||this).Yd=void 0,r.Yd=n,r}return S(n,t),A(n,[{key:"name",get:function(){return r_.Wd}},{key:"jd",get:function(){return this.Yd}}]),n}(a_);var f_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.hd+" timed out after "+t.Dd+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return r_.Gd}}]),n}(a_),v_=function(t,n){return(v_=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function l_(t,n){function i(){this.constructor=t}v_(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var d_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var w_=function(){var t=d_.Blob;if(t)try{return new t,function(t,n){return new d_.Blob(t,n)}}catch(t){}var n,i=d_.BlobBuilder||d_.WebKitBlobBuilder||d_.MozBlobBuilder||d_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),__="function"==typeof Gd?Gd:void 0;function g_(t){return t&&"function"==typeof t.getReader}function m_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&g_(i)}catch(t){return!1}}var y_=function(){function t(t,n){this.uv=t,this.Qd=n}return t.prototype.pull=function(t){var n=this;return this.uv.read().then(function(i){n.Qd&&n.Qd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.uv.cancel(t)},t}();function k_(t,n){return n.constructor===t?n:new t(new y_(n.getReader()),{highWaterMark:0})}var b_=function(){function t(t,n){this.Zd=t,this.Kd=n}return t.prototype.pull=function(t){return this.Zd().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Kd&&this.Kd(t)},t}();function p_(t,n,i){return new t(new b_(n,i),{highWaterMark:0})}var A_={searchParams:"URLSearchParams"in d_,iterable:"Symbol"in d_&&"iterator"in Symbol,blob:"FileReader"in d_&&!!w_,formData:"FormData"in d_,arrayBuffer:"ArrayBuffer"in d_,stream:m_(__),streamRequest:"Request"in d_&&"body"in d_.Request.prototype,streamResponse:"Response"in d_&&"body"in d_.Response.prototype,abort:"AbortController"in d_&&"Request"in d_&&"signal"in d_.Request.prototype,encoding:"TextEncoder"in d_&&"TextDecoder"in d_,url:"URL"in d_&&function(t){try{return new d_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in d_&&/Firefox\//.test(d_.navigator.userAgent)};function T_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function S_(t){return"string"!=typeof t&&(t=String(t)),t}function E_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return A_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var I_=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return A_.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=T_(t),n=S_(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=T_(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=T_(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=T_(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=T_(t)).toLowerCase();this.Kr[i]=[t,S_(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),E_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),E_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),E_(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function R_(){}A_.iterable&&(I_.prototype[Symbol.iterator]=I_.prototype.entries);var D_,N_,C_,P_=w.min,B_=String.fromCharCode,O_=16384;function x_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=O_){var r=P_(e+O_,n);i.push(B_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function L_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function M_(t,n){return t>>n&63|128}function U_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(L_(t),n.push(t>>12&15|224),n.push(M_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(M_(t,12)),n.push(M_(t,6))),n.push(63&t|128)):n.push(t)}function X_(){if(C_>=N_)throw new v("Invalid byte index");var t=255&D_[C_];if(C_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function F_(){var t,n;if(C_>N_)throw new v("Invalid byte index");if(C_===N_)return!1;if(t=255&D_[C_],C_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|X_())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|X_()<<6|X_())>=2048)return L_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|X_()<<12|X_()<<6|X_())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var H_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function z_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function V_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function W_(t){return t&&DataView.prototype.isPrototypeOf(t)}var G_,q_=ArrayBuffer.isView||function(t){return t&&(H_.indexOf(d.prototype.toString.call(t))>-1||W_(t))};function Y_(t){if(t.bodyUsed)return We.reject(new l("Already used"));t.bodyUsed=!0}function j_(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Q_(t){return A_.encoding?new d_.TextDecoder("utf-8").decode(new y(t)):x_(function(t){N_=(D_=t).length,C_=0;for(var n,i=[];!1!==(n=F_());)i.push(n);return i}(new y(t)))}function Z_(t){return A_.encoding?(new d_.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)U_(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function K_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function J_(t){return K_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function $_(t){return t.slice?t.slice(0):tg(new y(t))}function tg(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function ng(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function ig(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.Jd===G_.$d){if(!n.nw.tee)throw new v("could not clone ReadableStream body");var i=n.nw.tee(),e=i[0],r=i[1];return n.body=e,n.nw=e,n.iw=e,r}return n.Jd===G_.Gf?$_(n.nw):n.Jd===G_.Ol?n.nw.then(ig):n.iw}!function(t){t[t.$n=0]="$n",t[t.ew=1]="ew",t[t.uw=2]="uw",t[t.Gf=3]="Gf",t[t.$d=4]="$d",t[t.Ol=5]="Ol"}(G_||(G_={}));var eg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.iw=n||null,n)if("string"==typeof n)this.Jd=G_.$n,this.nw=n;else if((s=n)&&"function"==typeof s.then)this.Jd=G_.Ol,this.nw=We.resolve(n).then(function(n){return new t(n,i)}),this.nw.catch(R_);else if(A_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Jd=G_.ew,this.nw=n;else if(A_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Jd=G_.uw,this.nw=n;else if(A_.searchParams&&z_(n))this.Jd=G_.$n,this.nw=n.toString();else if(A_.arrayBuffer&&(V_(n)||q_(n)))W_(n)&&(this.iw=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Jd=G_.Gf,this.nw=V_(e=n)?$_(e):tg(e);else{if(!A_.stream||!g_(n))throw new v("unsupported BodyInit type");n=k_(__,n),this.Jd=G_.$d,this.nw=n,this.iw=n}else this.Jd=G_.$n,this.nw="";this.ow="",i.has("content-type")?this.ow=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.ow="text/plain;charset=UTF-8":u.Jd===G_.ew&&u.nw.type?this.ow=u.nw.type:A_.searchParams&&z_(n)&&(this.ow="application/x-www-form-urlencoded;charset=UTF-8"),this.ow&&i.set("content-type",this.ow)),A_.stream&&(null==n?this.body=null:u.Jd===G_.$d?this.body=u.nw:this.body=p_(__,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Y_(this);return e||(this.Jd===G_.ew?(t=this.nw,n=new FileReader,i=j_(n),n.readAsText(t),i):this.Jd===G_.Gf?We.resolve(this.nw).then(Q_):this.Jd===G_.$d?J_(this.nw).then(Q_):this.Jd===G_.Ol?this.nw.then(function(t){return t.text()}):this.Jd===G_.uw?We.reject(new v("could not read FormData body as text")):We.resolve(this.nw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();A_.blob&&(eg.prototype.blob=function(){var t,n,i=Y_(this);return i||(this.Jd===G_.ew?We.resolve(this.nw):this.Jd===G_.Gf?We.resolve(w_([this.nw],{type:this.ow})):this.Jd===G_.$d?(t=this.nw,n=this.ow,K_(t).then(function(t){return w_(t,{type:n||""})})):this.Jd===G_.Ol?this.nw.then(function(t){return t.blob()}):this.Jd===G_.uw?We.reject(new v("could not read FormData body as Blob")):We.resolve(w_([this.nw],{type:this.ow})))}),A_.arrayBuffer&&(eg.prototype.arrayBuffer=function(){var t,n,i;return this.Jd===G_.Gf?Y_(this)||We.resolve(this.nw):this.Jd===G_.ew?Y_(this)||(t=this.nw,n=new FileReader,i=j_(n),n.readAsArrayBuffer(t),i):this.Jd===G_.$d?J_(this.nw):this.Jd===G_.Ol?Y_(this)||this.nw.then(function(t){return t.arrayBuffer()}):this.Jd===G_.uw?We.reject(new v("could not read FormData body as ArrayBuffer")):We.resolve(this.nw).then(Z_)}),A_.formData&&(eg.prototype.formData=function(){return this.Jd===G_.uw?Y_(this)||We.resolve(this.nw):this.text().then(ng)});var rg=[301,302,303,307,308],sg=function(t){function n(n,i){var e=this,r=new I_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return l_(n,t),n.prototype.clone=function(){return new n(ig(this),{status:this.status,statusText:this.statusText,headers:new I_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===rg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(eg);var ug,og=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(e):r).listeners||f.call(c(t)),d.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(ug=og)&&ug.__esModule&&d.prototype.hasOwnProperty.call(ug,"default")&&ug.default,og.AbortSignal;var ag=og.AbortController,cg=d_.DOMException;try{new cg}catch(t){(cg=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),cg.prototype.constructor=cg}var hg=ag;function fg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function vg(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(R_),r(lg());var s=function(){n.signal.removeEventListener("abort",s),r(lg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function lg(){return new cg("Aborted","AbortError")}var dg,wg="moz-chunked-arraybuffer";function _g(t){try{var n=new b;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(dg||(dg={}));var gg=function(){function t(t,n){var i=this;this.aw=!1,this.qd=t,this.cw=n,this.hw=new b,this.fw=new We(function(t,n){i.vw=t,i.lw=n})}return t.prototype.send=function(){var t=this;return this.dw().then(function(n){return t.ww(n,t.cw),t.fw})},t.prototype.dw=function(){var t=this.qd;return t.Jd===G_.$d?t.arrayBuffer():We.resolve(t.iw)},t.prototype._w=function(t){this.qd.onprogress&&this.qd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.gw=function(t){this.lw(t)},t.prototype.mw=function(){this.gw(new l("Network request failed"))},t.prototype.yw=function(){this.gw(new l("Network request failed"))},t.prototype.bw=function(){this.gw(lg())},t.prototype.ww=function(t,n){var i=this,e=this.qd,r=this.hw,s=function(){return i.pw()};if(e.signal.aborted)return this.bw();r.onreadystatechange=function(){if(r.readyState>=dg.HEADERS_RECEIVED&&!i.aw){var t=function(t){var n=new I_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.aw=!0,i.Aw(n)}},r.onprogress=function(t){return i._w(t)},r.onload=function(){return i.Tw()},r.onerror=function(){return i.mw()},r.ontimeout=function(){return i.yw()},r.onabort=function(){return i.bw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.pw=function(){this.bw(),this.hw.abort()},t}(),mg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Sw=void 0,e.Ew=void 0,e}return l_(n,t),n.prototype.Aw=function(t){var n=this;this.Sw=new We(function(t,i){n.Ew=t,n.Iw=i}),this.vw(new sg(this.Sw,t))},n.prototype.Tw=function(){var t=this.hw.response;if(null==t){var n=this.cw;""===n||"text"===n?t=this.hw.responseText:"document"===n?t=this.hw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=w_([]))}this.Ew(t)},n.prototype.gw=function(n){t.prototype.gw.call(this,n),this.Iw&&this.Iw(n)},n}(gg),yg=function(t){function n(n){var i=t.call(this,n,wg)||this;return i.Rw=void 0,i.Dw=void 0,i.Nw=!1,i}return l_(n,t),n.prototype.Aw=function(t){var n=this;this.Rw=new __({start:function(t){n.Dw=t},cancel:function(){n.Nw=!0,n.pw()}}),this.vw(new sg(this.Rw,t))},n.prototype._w=function(n){this.Nw||this.Dw.enqueue(new y(this.hw.response)),t.prototype._w.call(this,n)},n.prototype.Tw=function(){this.Dw.close()},n.prototype.gw=function(n){t.prototype.gw.call(this,n),this.Dw&&!this.Nw&&(this.Nw=!0,this.Dw.error(n))},n}(gg),kg=function(){var t=A_.firefox&&_g(wg);return kg=function(){return t},t},bg=function(){var t;return t=A_.arrayBuffer&&_g("arraybuffer")?"arraybuffer":A_.blob&&_g("blob")?"blob":"",bg=function(){return t},t};function pg(t){return(A_.stream&&kg()?new yg(t):new mg(t,bg())).send()}var Ag=d_.fetch,Tg=d_.Request;d_.Response;var Sg=d_.AbortController;var Eg=["http:","https:"];var Ig=function(){try{if(A_.streamRequest){var t=new Tg("about:blank",{body:"",method:"POST"}).body;if(t&&m_(t.constructor))return t.constructor}}catch(t){}}();function Rg(t,n,i){var e;if(A_.stream){var r=void 0;if(A_.streamResponse){var s=t.body;r=s&&k_(__,s)}else r=p_(__,function(){return vg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new y_(n.getReader(),i),{highWaterMark:0})}(__,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Dg(t.headers))),e=r}else{var u=vg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Dg(t.headers))),e=u}return new sg(e,t)}function Dg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Ng(t){var n=new hg;return t.signal&&fg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Jd===G_.$d?A_.streamRequest&&Ig?We.resolve(k_(Ig,r.nw)):vg(t.arrayBuffer(),n,!1):vg(We.resolve(t.iw),n,!1),A_.abort){var s=new Sg;fg(s,n.signal),e=s.signal}return i.then(function(n){return new Tg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof I_?i:new I_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Ag(i).then(function(i){return Rg(i,n,t.onprogress)})})}var Cg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Pg=function(t){function n(i,e){var r,s,u,o,a,c,h,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new I_(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.iw||(w=i.iw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!e.headers&&u||(u=new I_(e.headers)),e&&(c="about:client",h=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Cg.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new hg).signal,d.referrer=void 0!==e.referrer?e.referrer:c,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return l_(n,t),n.prototype.clone=function(){return new n(this,{body:ig(this)})},n}(eg),Bg="function"==typeof Ag&&A_.stream&&A_.streamResponse&&A_.url;function Og(t,n){return new We(function(i){var e=new Pg(t,n);i((Bg&&function(t){try{return Eg.indexOf(new d_.URL(t,d_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Ng:pg)(e))})}Og.polyfill=!0;var xg=function(){function t(t){this.jd=void 0,this.qd=void 0,this.$v=new Js,this.Yd=void 0,this.Cw=!1,this.qd=t,this.$v.zs(t.Ws),this.jd=this.Pw()}var n=t.prototype;return n.Pw=function(){var t,n,e,r,s,u,o,c,h=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.qd).Dd&&a(function(){h.Cw=!0,h.$v.Hs()},t.Dd),f.prev=2,n=Og(t.hd,{method:t.Rd,headers:t.$l.jf(),body:t.Hl,credentials:t.Pd?"include":"same-origin",signal:Ug(this.$v.Ws),onprogress:t.Bd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new c_(t,f.t0);case 9:return f.prev=9,f.next=12,Dr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),tu(r=this.Bw(f.t1))&&this.$v.Hs(),r;case 20:if(s=e.url||t.hd,u=0===e.status&&"file:"===(v=s,i.Br(v).protocol)?200:e.status,o=new Lg(this,e,this.$v),c=new Jw({Hi:o,ud:t,td:t.td,$l:new Tf(e.headers.asList()),Jl:u,ed:e.statusText,od:s}),this.Yd=c,!Yw(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new h_(c);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],We)},n.Bw=function(t){return tu(t)?this.Cw?new f_(this.qd):new $s(t.message,t):this.Yd?new h_(this.Yd,t):new c_(this.qd,t)},t}(),Lg=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ow=void 0,r.xw=void 0,r.$v=void 0,r.Gl=new Go,r.Ow=n,r.xw=i,r.$v=e,r.Gl.Fu.catch(K),r}S(n,t);var i=n.prototype;return i.Yl=function(){return this.Gl.Fu},i.Ll=function(t){return this.jl(this.xw.text(),t)},i.Ul=function(t){return this.jl(this.xw.arrayBuffer(),t)},i.Xl=function(){var t=this.xw.body;return t?this.Ql(t):Nw(this.Ul().then(Rw),this.$v)},i.Zl=function(){var t=this.xw.clone(),i=this.$v.Vs(),e=i[0],r=i[1];return this.$v=e,new n(this.Ow,t,r)},i.jl=function(t,n){var i=this;n&&this.$v.zs(n);var e=We.resolve(t).catch(function(t){throw i.Ow.Bw(t)});return e=su(e,this.$v),this.Gl.Wu(e.then(K)),e},i.Ql=function(t){var n=this,i=new lw,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Ow.Bw(t);throw i.writable.abort(e).catch(K),e});return e=su(e,this.$v),this.Gl.Wu(e.then(K)),i.readable},A(n,[{key:"Kl",get:function(){return this.xw.bodyUsed}}]),n}(Lw),Mg="abort";function Ug(t){var n=new hg;if(t.Ns)n.abort();else if(!t.Cs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Mg,i),t.Ms(i),t.Xs(e)};n.signal.addEventListener(Mg,i),t.Ls(i),t.Us(e)}return n.signal}function Xg(t,n,i){return new We(function(e,r){if(i&&i.Ns)return r(new $s);var s=function(t){o(),e(t)},u=function(){o(),r(new $s)},o=function(){t.removeEventListener(n,s),i&&i.Ms(u)};t.addEventListener(n,s),i&&i.Ls(u)})}var Fg,Hg,zg=function(){function t(){}var n=t.prototype;return n.ud=function(t){return new xg(t).jd},n.Od=function(t){if(we&&we.sendBeacon)we.sendBeacon(t.hd,kf([t.Hl],{type:t.Fl}));else{var n=t.Fl?{"Content-type":t.Fl}:void 0;cu(this.ud(new $w({Rd:jw.POST,hd:t.hd,Hl:t.Hl,$l:n})))}},n.xd=function(){},t}();Fg=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Lw=void 0,i.Mw=function(){if(M.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Uw=M.Xn||M.fn,i.Xw=void 0,i}return S(i,n),A(i,[{key:"Er",get:function(){return this.Lw||(this.Lw=new Es(_f())),this.Lw}},{key:"Fw",get:function(){return this.Mw}},{key:"Hw",get:function(){return this.Uw}},{key:"zw",get:function(){return!1}},{key:"Vw",get:function(){return mf.rf()}},{key:"Ww",get:function(){return{Gw:bf}}},{key:"qw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Yw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"jw",get:function(){return this.Xw||(this.Xw=new n_(new zg)),this.Xw}}]),i}(Er)),i=Fg,function(t){t.Qw="Zw",t.Kw="Jw"}(Hg||(Hg={})),Hg.Qw,Hg.Kw;var Vg=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return S(n,t),A(n,[{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(gu);function Wg(t){return Boolean(t&&t.t_)}var Gg,qg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Vg),Yg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(gu),jg=function(t){function n(n){var i;return(i=t.call(this,Hg.Qw)||this).i_=n,i}return S(n,t),n.prototype.n_=function(){return new Qg(this.i_.t_)},n}(qg),Qg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(Yg),Zg=function(t){function n(n){var i;return(i=t.call(this,Hg.Kw)||this).i_=n,i}return S(n,t),n.prototype.n_=function(){return new Kg(this.i_.t_)},n}(qg),Kg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(Yg);!function(t){t.e_="r_",t.s_="u_",t.o_="a_",t.c_="h_",t.f_="v_",t.l_="d_",t.w_="__",t.g_="m_",t.y_="qc",t.k_="b_",t.p_="A_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Gg||(Gg={}));var Jg=function(t){function n(){var n;return(n=t.call(this)||this).T_=[],n.$w=void 0,n}S(n,t);var i=n.prototype;return i.S_=function(t){return this.T_[t]},i.E_=function(t){return!(!t||Fs(this.T_,t))&&(this.T_.push(t),this.$w&&this.$w.push(t.t_),t.Zs(Gg.l_,this.js),this.Qs(new jg(t)),!0)},i.I_=function(t){if(!t)return!1;var n=this.T_.indexOf(t);return!(n<0)&&(Xs(this.T_,n),this.$w&&Xs(this.$w,n),t.tu(Gg.l_,this.js),this.Qs(new Zg(t)),!0)},i.R_=function(t){return Fs(this.T_,t)},i.D_=function(){for(var t=this.T_,n=t.length-1;n>=0;n-=1)this.I_(t[n])},i.xd=function(){this.D_(),this.$s()},A(n,[{key:"N_",get:function(){return this.T_}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"C_",get:function(){return this.T_.length}}]),n}(wu),$g=function(t){function n(n){var i;return(i=t.call(this,Gg.l_)||this).i_=n,i}return S(n,t),n.prototype.n_=function(){return new tm(this.i_.t_)},n}(qg),tm=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(Yg),nm=function(t){function n(){var n;return(n=t.call(this)||this).P_=void 0,n.B_=function(t){var i=t.i_;n.E_(i)},n.O_=function(t){var i=t.i_;n.I_(i)},n}S(n,t);var i=n.prototype;return i.x_=function(t){t.Zs(Hg.Qw,this.B_),t.Zs(Hg.Kw,this.O_)},i.L_=function(t){t.tu(Hg.Qw,this.B_),t.tu(Hg.Kw,this.O_)},i.xd=function(){this.P_&&this.P_.xd(),t.prototype.xd.call(this)},A(n,[{key:"M_",get:function(){return this.P_},set:function(t){var n=this.P_;if(t!==n){if(n){this.L_(n);for(var i=0,e=n.N_;i<e.length;i++){var r=e[i];t&&t.R_(r)||this.I_(r)}}if(this.P_=t,t){for(var s=[],u=0,o=t.N_;u<o.length;u++){var a=o[u];this.E_(a),this.U_(a)&&s.push(a)}this.x_(t);for(var c=0;c<s.length;c++){var h=s[c];h.Qs(new $g(h))}}}}}]),n}(Jg),im=d.freeze||J;function em(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function rm(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function sm(t){if(G(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=sm(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=sm(t[r]));return e}return t}function um(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!um(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!um(t[s],n[s]))return!1}return!0}(t,n)))}function om(t,n){return t.constructor===n.constructor}function am(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function cm(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function hm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function fm(t){var n=hm(t);if(m(n))throw new v("Expected a valid number.");return n}function vm(t){return"string"==typeof t?t:""}function lm(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function dm(t,n){return V(t)?lm(t,n):n(t)}var wm=[Hg.Qw,Hg.Kw,Gg.l_];function _m(t){var n,i=t.N_.map(function(t){return t.t_});return i.item=function(n){var i=0|n,e=t.S_(i);return e&&e.t_||void 0},i.addEventListener=function(t,i){n.Zs(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new _u(i),t.Zs(wm,function(t){return n.Qs(t.t_)}),i}function gm(){}function mm(t){var n,i=[Gg.y_,Gg.l_,Gg.k_,Gg.p_,Gg.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.X_&&t.X_.t_},get enabled(){return t.F_},set enabled(n){t.F_=cm(n)},get id(){return t.H_},get uid(){return t.z_},get kind(){return t.V_},get label(){return t.W_},set label(n){t.W_=vm(n)},get language(){return t.G_},get qualities(){return t.q_.t_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.q_.N_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.t_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.Y_=i:t.Y_=void 0},get targetQuality(){if(t.Y_)return 1===t.Y_.length?t.Y_[0].t_:t.Y_.map(function(t){return t.t_})},addEventListener:function(t,i){var e=dm(t,vm);n.Zs(e,i)},removeEventListener:function(t,i){var e=dm(t,vm);n.tu(e,i)}};return n=new _u(e),t.Zs(i,function(t){return n.Qs(t.t_)}),d.defineProperty(e,"constructor",{value:gm}),e}function ym(){}function km(t){var n=_m(t);return d.defineProperty(n,"constructor",{value:ym}),n}var bm,pm,Am=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.n_=function(){return km(this)},i.U_=function(t){return t.F_},n}(nm);function Tm(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case bm.j_:case bm.Q_:case bm.Z_:return n}}else if("number"==typeof t)switch(t){case 0:return bm.j_;case 1:return bm.Q_;case 2:return bm.Z_}return bm.j_}function Sm(){}function Em(t){var n,i=[Gg.l_,Gg.y_,Gg.e_,Gg.s_,Gg.o_,Gg.c_,Gg.f_,Gg.w_,Gg.g_],e=[pm.K_],r={get kind(){return t.V_},get label(){return t.W_},set label(n){t.W_=vm(n)},get language(){return t.G_},get id(){return t.H_},get uid(){return t.z_},get inBandMetadataTrackDispatchType(){return t.J_},get mode(){return t.eg},set mode(n){n!==bm.Z_&&n!==bm.Q_&&n!==bm.j_||t.rg(n)},get forced(){return Boolean(t.og)},get type(){return t.fs},get readyState(){return Dm(t.ag)},get cues(){return t.eg===bm.j_?null:t.cg.t_},get activeCues(){return t.eg===bm.j_?null:t.hg.t_},get src(){return t.fg||""},addEventListener:function(t,i){var e=dm(t,vm);n.Zs(e,i)},removeEventListener:function(t,i){var e=dm(t,vm);n.tu(e,i)}};return n=new _u(t),t.Zs(i,function(t){return n.Qs(t.t_)}),t.Zs(e,function(t){return n.Qs(t)}),d.defineProperty(r,"constructor",{value:Sm}),r}function Im(){}function Rm(t){var n=_m(t);return d.defineProperty(n,"constructor",{value:Im}),n}function Dm(t){return t}!function(t){t.j_="disabled",t.Q_="hidden",t.Z_="showing"}(bm||(bm={})),function(t){t.K_="error"}(pm||(pm={}));var Nm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.n_=function(){return Rm(this)},i.U_=function(t){return t.eg===bm.Z_},n}(nm),Cm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(wu),Pm=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Cm),Bm=function(t){function n(){return t.call(this,pf.yf)||this}return S(n,t),n}(gu),Om=function(t){function n(n){var i;return(i=t.call(this,pf.df)||this).currentSource=n,i}return S(n,t),n}(gu),xm=function(){function t(){}return t.vg=function(n,i){var e=t.dg(n,i);return e?t.wg(e):0},t._g=function(){return i.qw||"default"},t.gg=function(){return i.Yw||"unknown"},t.dg=function(n,e){var r,s=null==(r=i.Vw)?void 0:r.Iu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.yg(u,n,e)},t.wg=function(t){var n=t.availableBandwidth;return n||0},t.yg=function(n,i,e){if(!t.pg(n,i))return n[i];t.Ag(n,i,e)},t.Ag=function(t,n,e){var r;delete t[n],null==(r=i.Vw)||r.ef(e,JSON.stringify(t))},t.pg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Tg=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Sg=function(n){var i=t._g();t.Eg(i,"theoplayer-stored-network-info",n,Vt())},t.Eg=function(n,e,r,s){var u,o,a=null==(u=i.Vw)?void 0:u.Iu(e),c=a?JSON.parse(a):void 0,h=t.Tg(c,n,r,s);null==(o=i.Vw)||o.ef(e,JSON.stringify(h))},t.Ig=function(){var n=t._g();return t.vg(n,"theoplayer-stored-network-info")},t}();var Lm,Mm,Um,Xm,Fm,Hm,zm="1ADD53F3";function Vm(t){return{chromecast:function(t){return{appID:t&&t.appID?vm(t.appID):zm}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Lm.AUTO;case"manual":return Lm.MANUAL;case"disabled":return Lm.DISABLED;default:return Lm.MANUAL}}(t?t.strategy:void 0)}}function Wm(t){var n,i=Um.Rg;return(n=t)&&vs(n,"mpd")&&(i=Um.Dg),function(t){return!!t&&vs(t,"m3u8")}(t)&&(i=Um.Ng),i}function Gm(t){return!!t&&ls(t.toLowerCase(),Um.Dg)}function qm(t){if(!t)return!1;var n=t.toLowerCase();return ls(n,Um.Ng)||ls(n,Um.Cg)}function Ym(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function jm(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function Qm(t){if(q(t))return!t;if(jm(t))return!t.id;if(Ym(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Zm(t){return Boolean(W(t)&&q(t.src))}function Km(t){return q(t)||Zm(t)||Ym(t)||jm(t)}function Jm(t){if(t){if(Km(t))return Qm(t);for(var n=0;n<t.length;n++){if(!Qm(t[n]))return!1}return!0}return!0}function $m(){return{crossOrigin:Mm.Pg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function ty(){return Nr({},$m(),{src:void 0,type:Um.Rg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function ny(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Xm.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Fm.NONE;case"midroll-and-postroll":default:return Fm.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=cm(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Xm.INSECURE;case"disabled":return Xm.DISABLED;case"enabled":default:return Xm.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:cm(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function iy(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];G(r)&&n.push(r)}return n}function ey(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Lm||(Lm={})),function(t){t.Pg="",t.Bg="anonymous",t.Og="use-credentials"}(Mm||(Mm={})),function(t){t.Dg="application/dash+xml",t.Ng="application/vnd.apple.mpegurl",t.Cg="application/x-mpegurl",t.Rg="video/mp4",t.xg="application/vnd.theoplayer.hesp+json",t.Lg="application/vnd.theo.hesp+json"}(Um||(Um={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Xm||(Xm={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Fm||(Fm={})),function(t){t[t.Mg=0]="Mg",t[t.Ug=1]="Ug",t[t.Xg=2]="Xg",t[t.Fg=3]="Fg",t[t.Hg=4]="Hg"}(Hm||(Hm={}));var ry,sy=function(t){function n(n,i){var e;return void 0===i&&(i=Hm.Mg),(e=t.call(this,pf.gf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),uy=function(t){function n(n){var i;return(i=t.call(this,pf.Ef)||this).currentTime=n,i}return S(n,t),n}(gu),oy=function(t){function n(n){var i;return(i=t.call(this,pf.If)||this).currentTime=n,i}return S(n,t),n}(gu);!function(t){t.zg="canplay",t.Vg="canplaythrough",t.Wg="loadeddata",t.Gg="loadedmetadata",t.w_="readystatechange",t.qg="waiting",t.Yg="playing"}(ry||(ry={}));var ay,cy,hy=[ry.zg,ry.Vg,ry.Wg,ry.Gg,ry.w_,ry.qg,ry.Yg],fy=function(t){function n(n,i){var e;return void 0===i&&(i=Hm.Ug),(e=t.call(this,ry.Gg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),vy=function(t){function n(n){var i;return(i=t.call(this,pf._f)||this).duration=n,i}return S(n,t),n}(gu),ly=function(t){function n(n,i){var e;return(e=t.call(this,pf.Df)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(gu),dy=function(t){function n(n,i){var e;return(e=t.call(this,pf.Ff)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(gu),wy=function(t){function n(n){var i;return(i=t.call(this,pf.mf)||this).currentTime=n,i}return S(n,t),n}(gu),_y=function(t){function n(n,i){var e;return void 0===i&&(i=Hm.Xg),(e=t.call(this,ry.Wg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),gy=function(t){function n(n){var i;return(i=t.call(this,pf.Bf)||this).currentTime=n,i}return S(n,t),n}(gu),my=function(t){function n(n){var i;return(i=t.call(this,pf.Pf)||this).currentTime=n,i}return S(n,t),n}(gu),yy=function(t){function n(n,i){var e;return(e=t.call(this,pf.Hf)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(gu),ky=function(t){function n(n,i){var e;return void 0===i&&(i=Hm.Fg),(e=t.call(this,ry.zg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),by=function(t){function n(n,i){var e;return void 0===i&&(i=Hm.Hg),(e=t.call(this,ry.Vg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),py=function(t){function n(n,i){var e;return(e=t.call(this,ry.w_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Ay=function(t){function n(n){var i;return(i=t.call(this,pm.K_)||this).errorObject=n,i}return S(n,t),n.prototype.n_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Vg);function Ty(t){switch(t){case ay.ALL:case ay.CONTENT:return t;default:return ay.NONE}}function Sy(t){var n,e,r,s=sm(t||{});return s.libraryLocation&&(s.libraryLocation=e_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Vm(s.cast),s.ads=ny(s.ads),s.analytics=iy(s.analytics),s.mutedAutoplay=Ty(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return e_(t)}catch(t){return void i.gr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Ey(t){return{jg:t.jg,Qg:t.Qg,Zg:t.Zg,mu:t.mu,Kg:t.Kg,Jg:t.Jg,$g:t.$g,tm:t.tm,ag:t.ag,nm:t.nm,im:t.im,um:t.um,cm:t.cm}}function Iy(t,n,i){if(n!==i){var e=n.jg,r=n.Qg,s=n.Jg,u=n.$g,o=n.tm,a=n.ag,c=n.nm;n.um,n.im;var h=n.cm,f=i.jg,v=i.Qg,l=i.Zg,d=i.Kg,w=i.Jg,_=i.$g,g=i.tm,y=i.ag,k=i.nm;i.um,i.im;var b=i.cm;a!==Hm.Mg&&t.Qs(new sy(f,y)),_&&!u?t.Qs(new uy(f)):!_&&u&&t.Qs(new oy(f)),y>=Hm.Ug&&t.Qs(new fy(f,y)),v===r||m(v)&&m(r)||t.Qs(new vy(v)),g!==o&&t.Qs(new ly(f,g)),f!==e&&t.Qs(new dy(f,void 0)),l&&t.Qs(new wy(f)),y>=Hm.Xg&&t.Qs(new _y(f,y)),k&&!c?t.Qs(new gy(f)):!k&&c&&t.Qs(new my(f)),b===h&&w===s||t.Qs(new yy(f,b)),y>=Hm.Fg&&t.Qs(new ky(f,y)),y>=Hm.Hg&&t.Qs(new by(f,y)),y!==a&&t.Qs(new py(f,y)),d&&t.Qs(new Ay(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ay||(ay={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(cy||(cy={}));var Ry=400,Dy=.25,Ny={hm:.2,fm:.45,vm:.7,lm:3,dm:My,wm:Uy},Cy={hm:.4,fm:.65,vm:1,lm:3,dm:My,wm:Uy},Py={hm:.4,fm:.7,vm:.9,lm:3,dm:My,wm:Uy},By={hm:.4,fm:.65,vm:1,lm:3,dm:My,wm:Uy},Oy={hm:.5,fm:1.125,vm:1.75,lm:2.55,dm:My,wm:Uy};function xy(){var t;return t=i.Lr.Ge?By:i.Lr.je?Cy:i.Lr.Ye?"Android"===i.Mr.Ur?Py:Ny:Oy,i.Mr.Xr?function(t){if(i.Mr.Xr){var n=(Ry+250)/1e3,e=w.max(n,t.hm),r=w.max(e+Dy,t.fm),s=w.max(r+Dy,t.vm);return{hm:e,fm:r,vm:s,lm:w.max(s+Dy,t.lm),dm:My,wm:Uy}}return t}(t):t}var Ly,My=.92,Uy=1.08;function Xy(t){return{goLive:function(){return t._m()},get isLive(){return t.gm},get currentServerLiveTime(){return t.mm},get currentLatency(){return t.ym},get latency(){return t.pm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=F(n.target)&&"number"==typeof n.target&&F(n.windowEnd)&&"number"==typeof n.windowEnd&&F(n.windowStart)&&"number"==typeof n.windowStart&&F(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.pm=n},get manifest(){return t.Am},get metrics(){return t.Tm},addEventListener:function(n,i){t.Zs(Hy(n),i)},removeEventListener:function(n,i){t.tu(Hy(n),i)}}}!function(t){t[t.j_=0]="j_",t[t.Sm=1]="Sm",t[t.Em=2]="Em"}(Ly||(Ly={}));var Fy=["analytic","golive","nogolive","bufferedchange"];function Hy(t){var n=dm(t,vm);return(q(n)?[n]:n).filter(function(t){return Fs(Fy,t)})}var zy,Vy=function(t){function n(){var n,i;return(n=t.call(this)||this).P_=void 0,n.$w=void 0,n.Im={windowStart:(i=xy()).hm,windowEnd:i.vm,target:i.fm,maxOffset:i.lm},n.P_=void 0,n}S(n,t);var i=n.prototype;return i.x_=function(t){t.Zs(Fy,this.js)},i.L_=function(t){t.tu(Fy,this.js)},i._m=function(){var t;null==(t=this.P_)||t._m()},i.xd=function(){this.$s(),this.P_&&this.L_(this.P_),this.P_=void 0},A(n,[{key:"M_",get:function(){return this.P_},set:function(t){var n=this.P_;t!==n&&(n&&this.L_(n),t&&this.x_(t),this.P_=t,this.P_&&(this.P_.pm=this.Im))}},{key:"t_",get:function(){return this.$w||(this.$w=Xy(this)),this.$w}},{key:"mm",get:function(){var t;return null==(t=this.P_)?void 0:t.mm}},{key:"ym",get:function(){var t;return null==(t=this.P_)?void 0:t.ym}},{key:"gm",get:function(){return!!this.P_&&this.P_.gm}},{key:"pm",get:function(){return this.P_?this.P_.pm:this.Im},set:function(t){this.P_&&(this.P_.pm=t),this.Im=t}},{key:"Am",get:function(){var t;return null==(t=this.P_)?void 0:t.Am}},{key:"Tm",get:function(){var t;return null==(t=this.P_)?void 0:t.Tm}}]),n}(wu),Wy=function(t){function n(n){var i;return(i=t.call(this)||this).P_=void 0,i.Rm=[],i.Dm=!1,i.Nm=new Am,i.Cm=new Am,i.Pm=new Nm,i.Bm=new Vy,i.Om=!1,i.xm(n),n.Js(i.js),i.P_=n,i.Nm.M_=n.Lm,i.Cm.M_=n.Mm,i.Pm.M_=n.Um,i.Bm.M_=n.Xm,i}S(n,t);var i=n.prototype;return i.Fm=function(){this.P_.Fm()},i.Hm=function(){this.P_.Hm()},i.zm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hu(this.Rm.map(function(t){return t.zm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},i.Vm=function(){return this.P_.Vm()},i.Wm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(this.P_.Wm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Gm=function(){return this.M_.Gm()},i.qm=function(){this.M_.qm()},i.Ym=function(){this.M_.Ym()},i.jm=function(){if(!this.Dm){for(var t=0,n=this.Rm;t<n.length;t++){n[t].jm()}this.Dm=!0}},i.Qm=function(t){this.P_.Qm(t)},i.Zm=function(){this.P_.Zm()},i.Km=function(){this.P_.Km()},i.Jm=function(){this.P_.Jm()},i.$m=function(){return this.P_.$m()},i.iy=function(){return this.P_.iy()},i.ey=function(){for(var t=[],n=0,i=this.Rm;n<i.length;n++){var e=i[n];t.push.apply(t,e.ey())}return t},i.sy=function(t){for(var n=!1,i=0,e=this.Rm;i<e.length;i++){n=e[i].sy(t)||n}return n},i.Qs=function(n){this.sy(n)||t.prototype.Qs.call(this,n)},i.xm=function(t){this.Rm.push(t)},i.uy=function(t){Us(this.Rm,t)},i.oy=function(t){if(t!==this.P_){var n=this.P_;n.Zm(),n.ou(this.js);var i=Ey(this),e=this.vy,r=this.iy();this.P_=t,this.Nm.M_=t.Lm,this.Cm.M_=t.Mm,this.Pm.M_=t.Um,this.Bm.M_=t.Xm,Iy(this,i,this);var s=this.vy;s!==e&&this.Qs(new Om(s)),this.iy()!==r&&this.Qs(new Bm),t.Js(this.js),t.Qm(n)}},i.ly=function(){},i.xd=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.$s(),this.P_.Zm(),t=0,n=this.Rm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Dr.awrap(i.xd());case 7:t++,e.next=3;break;case 10:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.Bm.xd();case 14:case"end":return e.stop()}},null,this,null,We)},i.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hu(this.Rm.map(function(t){return t.D_()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Lm",get:function(){return this.Nm}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"wy",get:function(){return this.P_.wy}},{key:"_y",get:function(){return this.P_._y},set:function(t){this.P_._y=t}},{key:"vy",get:function(){return this.P_.vy}},{key:"jg",get:function(){return this.P_.jg},set:function(t){this.P_.jg=t}},{key:"Qg",get:function(){return this.P_.Qg}},{key:"gy",get:function(){return this.P_.gy}},{key:"Zg",get:function(){return this.P_.Zg}},{key:"mu",get:function(){return this.P_.mu}},{key:"Kg",get:function(){return this.P_.Kg}},{key:"Xm",get:function(){return this.Bm}},{key:"yy",get:function(){return this.P_.yy}},{key:"Tm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.by,i+=a.py,e+=a.Ay,r+=a.Ty,s+=a.Sy,u.amountOfBufferedAudioSegments+=a.Ey.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Ey.amountOfBufferedVideoSegments}return{by:n,py:i,Ay:e,Ty:r,Sy:s,Ey:u}}(this.Rm.map(function(t){return t.Tm}))}},{key:"Jg",get:function(){return this.P_.Jg},set:function(t){this.P_.Jg=t}},{key:"Iy",get:function(){return this.P_.Iy}},{key:"$g",get:function(){return this.P_.$g}},{key:"tm",get:function(){return this.P_.tm},set:function(t){this.P_.tm=t}},{key:"Ry",get:function(){return this.P_.Ry}},{key:"Dy",get:function(){return this.P_.Dy},set:function(t){this.P_.Dy=t}},{key:"ag",get:function(){return this.P_.ag}},{key:"Ny",get:function(){return this.P_.Ny}},{key:"nm",get:function(){return this.P_.nm}},{key:"im",get:function(){return this.P_.im}},{key:"um",get:function(){return this.P_.um}},{key:"cm",get:function(){return this.P_.cm},set:function(t){this.P_.cm=t}},{key:"Cy",get:function(){return this.P_.Cy}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"M_",get:function(){return this.P_},set:function(t){this.oy(t)}}]),n}(Pm),Gy=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this,n,i,e)||this).url=void 0,c.status=void 0,c.statusText=void 0,c.response=void 0,c.systemCode=void 0,c.url=r,c.status=s,c.statusText=u,c.response=o,c.systemCode=a,c}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(nf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(zy||(zy={}));var qy=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Kt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function Yy(t){em(t,"MEDIA_ERR_ABORTED",zy.ABORTED),em(t,"MEDIA_ERR_NETWORK",zy.NETWORK),em(t,"MEDIA_ERR_DECODE",zy.DECODE),em(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",zy.SRC_NOT_SUPPORTED),em(t,"MEDIA_ERR_ENCRYPTED",zy.ENCRYPTED)}function jy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new qy(zy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new qy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return zy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return zy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return zy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return zy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return zy.NETWORK;if(i===n.ErrorCategory.SOURCE)return zy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return zy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return zy.ENCRYPTED;if(i===n.ErrorCategory.AD)return zy.ADVERTISEMENT_ERROR;return zy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Yy(qy),Yy(qy.prototype);var Qy,Zy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.E_=function(n){return t.prototype.E_.call(this,n)},i.n_=function(){return km(this)},n}(Jg);!function(t){t.Sd="audio",t.Ed="video",t.$n="text",t.Id="image",t.vd="unknown"}(Qy||(Qy={}));var Ky=function(){function t(){this.By=[],this.$w=void 0}var n=t.prototype;return n.Oy=function(t){this.By.push(t),this.$w&&this.$w.push(t.t_)},n.Gc=function(t){Us(this.By,t),this.$w&&Us(this.$w,t.t_)},n.S_=function(t){return this.By[t]},n.xy=function(t){return z(t)?Hs(this.By,t):Fs(this.By,t)},n.D_=function(){zs(this.By),this.$w&&zs(this.$w)},A(t,[{key:"N_",get:function(){return this.By}},{key:"C_",get:function(){return this.By.length}},{key:"t_",get:function(){var t,n;return this.$w||(this.$w=((n=(t=this).N_.map(function(t){return t.t_})).item=function(n){var i=0|n,e=t.S_(i);return e&&e.t_||void 0},n)),this.$w}}]),t}(),Jy=function(t){function n(n){var i;return(i=t.call(this,Gg.y_)||this).i_=n,i}return S(n,t),n.prototype.n_=function(){return new $y(this.i_.t_)},n}(qg),$y=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(Yg),tk=0;function nk(){return tk++}var ik=0;var ek=0;function rk(){return ek++}var sk=0;function uk(){return sk++}var ok=0;var ak=function(t){function n(n){var i;return(i=t.call(this)||this).fs=Qy.Sd,i.Ly=void 0,i.Cc=void 0,i.My=void 0,i.Uy=void 0,i.Xy=!1,i.By=void 0,i.$w=void 0,i.Ly=n,i.Uy=nk(),i.Cc=ok+++"",i.My=n.label,i.By=new Ky,i.Fy(),i}S(n,t);var i=n.prototype;return i.Hy=function(t){this.F_=t},i.Fy=function(){this.F_=this.zy},A(n,[{key:"X_",get:function(){}},{key:"F_",get:function(){return this.Xy},set:function(t){this.Xy!==t&&(this.Xy=t,this.zy=t,this.Qs(new $g(this)))}},{key:"zy",get:function(){return this.Ly.enabled},set:function(t){this.Ly.enabled=t}},{key:"t_",get:function(){return this.$w||(this.$w=mm(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"V_",get:function(){return this.Ly.kind}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new Jy(this)))}},{key:"G_",get:function(){return this.Ly.language}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Vy",get:function(){return this.Ly}},{key:"q_",get:function(){return this.By}},{key:"Y_",get:function(){},set:function(t){}}]),n}(wu),ck=0;var hk,fk,vk,lk=function(t){function n(n){var i;return(i=t.call(this)||this).fs=Qy.Ed,i.Ly=void 0,i.Cc=void 0,i.Uy=void 0,i.Xy=!1,i.By=void 0,i.My=void 0,i.$w=void 0,i.Ly=n,i.Uy=nk(),i.Cc=ck+++"",i.By=new Ky,i.My=n.label,i.Fy(),i}S(n,t);var i=n.prototype;return i.Fy=function(){this.F_=this.zy},i.Hy=function(t){this.F_=t},A(n,[{key:"X_",get:function(){}},{key:"F_",get:function(){return this.Xy},set:function(t){this.Xy!==t&&(this.Xy=t,this.zy=t,this.Qs(new $g(this)))}},{key:"zy",get:function(){return!!this.Ly.selected},set:function(t){this.Ly.selected=t}},{key:"t_",get:function(){return this.$w||(this.$w=mm(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"V_",get:function(){return"main"}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new Jy(this)))}},{key:"G_",get:function(){return this.Ly.language}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Vy",get:function(){return this.Ly}},{key:"q_",get:function(){return this.By}},{key:"Y_",get:function(){},set:function(t){}}]),n}(wu),dk=function(t){function n(n){var i;return(i=t.call(this,pf.sf)||this).yy=n,i}return S(n,t),n}(gu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(hk||(hk={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(fk||(fk={})),function(t){t.Wy="cue",t.Gy="region",t.qy="stylesheet"}(vk||(vk={}));var wk,_k={"line-left":"start",center:"middle","line-right":"end"},gk={start:"line-left",middle:"center",end:"line-right"};function mk(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function yk(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.Yy="jy",t.Qy="Zy",t.y_="qc"}(wk||(wk={}));var kk=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Ky=i,e}return S(n,t),n}(qg),bk=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(Yg);function pk(t){var n,i=[wk.Yy,wk.Qy,wk.y_],e={get track(){return t.i_.t_},get id(){return t.H_},get uid(){return t.z_},get startTime(){return t.Jy},get endTime(){return t.$y},get content(){return t.nk},addEventListener:function(t,i){var e=dm(t,vm);n.Zs(e,i)},removeEventListener:function(t,i){var e=dm(t,vm);n.tu(e,i)}};return n=new _u(e),t.Zs(i,function(t){return n.Qs(t.t_)}),e}function Ak(){}function Tk(t){return rm(pk(t),{get align(){return t.ek},get line(){return t.rk},get lineAlign(){return t.ck},get position(){return t.hk},get positionAlign(){return t.fk},get region(){return t.vk?t.vk.t_:null},get size(){return t.Cu},get snapToLines(){return t.lk},get text(){return t.nk},get vertical(){return t.dk}})}var Sk=function(t){function n(n){return t.call(this,wk.y_,n)||this}return S(n,t),n.prototype.n_=function(){return new Ek(this.Ky.t_)},n}(kk),Ek=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(bk),Ik=.02;function Rk(t,n){return Ut(t.Jy,n.Jy,Ik)&&Ut(t.$y,n.$y,Ik)&&t.H_===n.H_}var Dk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Uy=void 0,u.Cc=void 0,u.wk=void 0,u._k=void 0,u.$w=void 0,u.gk=void 0,u.yk=!1,u.bk=void 0,u.pk=void 0,u.Ak=-1,u.Uy=uk(),u.wk=n,u._k=i,u.bk=e,u.pk=Boolean(r),u.Cc=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.n_=function(){return pk(this)},i.Tk=function(t){return this===t||om(this,t)&&Rk(this,t)},i.xd=function(){this.$s()},A(n,[{key:"Jy",get:function(){return this.wk},set:function(t){this.wk!==t&&(this.wk=t,this.Qs(new Sk(this)))}},{key:"$y",get:function(){return this._k},set:function(t){this._k!==t&&(this._k=t,this.Qs(new Sk(this)))}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Sk",get:function(){return this.yk},set:function(t){this.yk=t}},{key:"i_",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"nk",get:function(){return this.bk},set:function(t){this.bk!==t&&(this.bk=t,this.Qs(new Sk(this)))}},{key:"Ek",get:function(){return this.pk},set:function(t){this.pk=t}}]),n}(wu);function Nk(t,n){return t.nk===n.nk&&t.rk===n.rk&&t.ck===n.ck&&t.hk===n.hk&&t.fk===n.fk&&t.vk===n.vk&&t.lk===n.lk&&t.Cu===n.Cu&&t.ek===n.ek&&t.dk===n.dk}var Ck=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).rk="auto",u.ck="start",u.hk="auto",u.fk="auto",u.vk=void 0,u.lk=!0,u.Cu=100,u.ek="center",u.dk="",u}return S(n,t),n.prototype.Tk=function(n){return this===n||om(this,n)&&t.prototype.Tk.call(this,n)&&Nk(this,n)},A(n,[{key:"t_",get:function(){return this.$w||(this.$w=Tk(this)),this.$w}},{key:"fs",get:function(){return vk.Wy}}]),n}(Dk);function Pk(t){var n=Z(t.rk)?t.rk:g(t.rk);return m(n)||t.lk||!(n<0||n>100)?m(n)?t.lk?-1:100:n:100}function Bk(t){return yk(t.hk,t.ek)}function Ok(t){return mk(t.fk,t.ek)}function xk(t){var n,i=Ok(t),e=Bk(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Cu,n)}function Lk(t){return{get id(){return t.H_},get identifier(){return t.H_},get lines(){return t.Ik},get regionAnchorX(){return t.Rk},get regionAnchorY(){return t.Dk},get scrollValue(){return t.Nk},get viewportAnchorX(){return t.Ck},get viewportAnchorY(){return t.Pk},get width(){return t.Bk}}}var Mk=function(){function t(t,n,i,e,r,s,u,o){this.$w=void 0,this.H_=t,this.Bk=n,this.Ik=i,this.Rk=e,this.Dk=r,this.Ck=s,this.Pk=u,this.Nk=o}return A(t,[{key:"t_",get:function(){return this.$w||(this.$w=Lk(this)),this.$w}},{key:"fs",get:function(){return vk.Gy}}]),t}(),Uk=function(){function t(){}var n=t.prototype;return n.Ok=function(t){return this.xk()*t},n.Lk=function(t){return this.Mk(t)>0},n.Uk=function(t){return this.Mk(t)>=0},n.Xk=function(t,n){return this.Hk(t).Fk(n)},n.Tk=function(t){return 0===this.Mk(t)},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.Vk=function(){return this.Wk()?this.Gk():this},n.qk=function(t){return this.Oy(t.Gk())},n.Hk=function(t){return this.qk(t).Vk()},t}();function Xk(t,n){return t.Yk()?n.Yk()?Ss.Is:Ss.Rs:n.Yk()?Ss.Ds:t.jk()?n.jk()&&t.Wk()===n.Wk()?Ss.Is:t.Wk()?Ss.Ds:Ss.Rs:n.Wk()?Ss.Rs:Ss.Ds}var Fk=function(){function t(t,n){this.Qk=void 0,this.Zk=void 0,this.Qk=t,this.Zk=n}t.Kk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Jk=function(n){return n.unsigned?new t(n,ft.UZERO):new t(n,n.isNegative()?ft.NEG_ONE:ft.ZERO)},t.$k=function(n,i){if(m(n))return i?t.ib:t.eb;if(i){if(n<0)return t.ib;if(n>=3.402823669209385e38)return t.sb}else{if(n<=-1.7014118346046923e38)return t.ub;if(n+1>=1.7014118346046923e38)return t.ob}return n<0?t.$k(-n,i).Gk():t.Kk(ft.fromNumber(n%0x10000000000000000),ft.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.cb=function(){return this.Zk.unsigned},n.hb=function(){return this.Qk.isZero()&&this.Zk.isZero()},n.Wk=function(){return this.Zk.isNegative()},n.fb=function(){return this.cb()?t.Kk(this.Qk,this.Zk,!1):this},n.vb=function(){return this.cb()?this:t.Kk(this.Qk,this.Zk,!0)},n.wb=function(){return this.Qk},n.xk=function(){return this.Wk()?-this.Gk().xk():0x10000000000000000*this.Zk.toNumber()+this.Qk.toUnsigned().toNumber()},n._b=function(){return this.Qk.toInt()},n.Tk=function(t){return(this.cb()===t.cb()||this.Zk.getHighBits()>>>31!=1||t.Zk.getHighBits()>>>31!=1)&&(this.Zk.toUnsigned().eq(t.Zk.toUnsigned())&&this.Qk.toUnsigned().eq(t.Qk.toUnsigned()))},n.Mk=function(t){if(this.Tk(t))return Ss.Is;var n=this.Wk(),i=t.Wk();if(n&&!i)return Ss.Ds;if(!n&&i)return Ss.Rs;if(!this.cb())return this.qk(t).Wk()?Ss.Ds:Ss.Rs;var e=this.vb(),r=t.vb(),s=r.Zk.comp(e.Zk);return s>0||0===s&&r.Qk.gt(e.Qk)?Ss.Ds:Ss.Rs},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.gb=function(t){return this.Mk(t)>0},n.mb=function(t){return this.Mk(t)>=0},n.yb=function(){return new t(this.Qk.not(),this.Zk.not())},n.kb=function(n){return new t(this.Qk.and(n.Qk),this.Zk.and(n.Zk))},n.bb=function(n){return new t(this.Qk.or(n.Qk),this.Zk.or(n.Zk))},n.pb=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shl(i),this.Zk.shl(i).or(this.Qk.shru(64-i)),this.cb()):t.Kk(ft.ZERO,this.Qk.shl(i-64),this.cb())},n.Ab=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shru(i).or(this.Zk.shl(64-i)),this.Zk.shr(i),this.cb()):t.Kk(this.Zk.shr(i-64),this.Zk.isNegative()?ft.NEG_ONE:ft.ZERO,this.cb())},n.Tb=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shru(i).or(this.Zk.shl(64-i)),this.Zk.shru(i),this.cb()):64===i?t.Kk(this.Zk,ft.ZERO,this.cb()):t.Kk(this.Zk.shru(i-64),ft.ZERO,this.cb())},n.Oy=function(n){var i=this.Zk.high>>>16,e=65535&this.Zk.high,r=this.Zk.low>>>16,s=65535&this.Zk.low,u=this.Qk.high>>>16,o=65535&this.Qk.high,a=this.Qk.low>>>16,c=65535&this.Qk.low,h=n.Zk.high>>>16,f=65535&n.Zk.high,v=n.Zk.low>>>16,l=65535&n.Zk.low,d=n.Qk.high>>>16,w=65535&n.Qk.high,_=n.Qk.low>>>16,g=0,m=0,y=0,k=0,b=0,p=0,A=0,T=0;A+=(T+=c+(65535&n.Qk.low))>>>16,T&=65535,p+=(A+=a+_)>>>16,A&=65535,b+=(p+=o+w)>>>16,p&=65535,k+=(b+=u+d)>>>16,b&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+h,g&=65535;var S=this.cb(),E=ft.fromBits(y<<16|k,g<<16|m,S),I=ft.fromBits(A<<16|T,b<<16|p,S);return t.Kk(I,E,S)},n.qk=function(t){return this.Oy(t.Gk())},n.Gk=function(){return this.yb().Oy(t.Sb)},n.Eb=function(n){if(this.hb()||n.hb())return this.cb()?t.ib:t.eb;if(this.Wk())return n.Wk()?this.Gk().Eb(n.Gk()):this.Gk().Eb(n).Gk();if(n.Wk())return this.Eb(n.Gk()).Gk();if(this.Zk.isZero()&&0===this.Qk.high&&n.Zk.isZero()&&0===n.Qk.high)return t.Jk(this.Qk.multiply(n.Qk));var i=ft.fromBits(4294967295,0,!0),e=this.Qk.and(i),r=this.Qk.shru(32),s=this.Zk.and(i),u=this.Zk.shru(32),o=n.Qk.and(i),a=n.Qk.shru(32),c=n.Zk.and(i),h=n.Zk.shru(32),f=ft.UZERO,v=ft.UZERO,l=ft.UZERO,d=ft.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(c)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(c)).add(e.mul(h)).and(i);var w=ft.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ft.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Kk(w,_,this.cb())},n.Ib=function(n){var i,e,r=n;if(r.hb())throw new RangeError("division by zero");if(this.hb())return this.cb()?[t.ib,t.ib]:[t.eb,t.eb];if(this.cb()){if(r.cb()||(r=r.vb()),r.gb(this))return[t.ib,this];if(r.gb(this.Tb(1)))return[e=t.Rb,i=this.qk(r)];e=t.ib}else{if(this.Tk(t.ub)){if(r.Tk(t.Sb)||r.Tk(t.Db))return[t.ub,t.eb];if(r.Tk(t.ub))return[t.Sb,t.eb];var s=this.Ab(1).Nb(r).pb(1);return s.Tk(t.eb)?e=r.Wk()?t.Sb:t.Db:(i=this.qk(r.Eb(s)),e=s.Oy(i.Nb(r))),[e,i=this.qk(r.Eb(e))]}if(r.Tk(t.ub))return this.cb()?[t.ib,this]:[t.eb,this];if(this.Wk()){if(r.Wk())return this.Gk().Ib(r.Gk());var u=this.Gk().Ib(r);return e=u[0],i=u[1],[e.Gk(),i.Gk()]}if(r.Wk()){var o=this.Ib(r.Gk());return e=o[0],i=o[1],[e.Gk(),i.Gk()]}e=t.eb}for(i=this;i.mb(r);){for(var a=w.max(1,w.floor(i.xk()/r.xk())),c=w.ceil(w.log(a)/w.LN2),h=c<=48?1:w.pow(2,c-48),f=t.$k(a),v=f.Eb(r);v.Wk()||v.gb(i);)a-=h,v=(f=t.$k(a,this.cb())).Eb(r);f.hb()&&(f=t.Sb),e=e.Oy(f),i=i.qk(v)}return[e,i]},n.Nb=function(t){return this.Ib(t)[0]},n.Cb=function(t){return this.Ib(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.hb())return"0";if(this.Wk()){if(this.Tk(t.ub)){var e=t.$k(i),r=this.Nb(e),s=r.Eb(e).qk(this);return r.toString(i)+s._b().toString(i)}return"-"+this.Gk().toString(i)}for(var u=t.$k(w.pow(i,6),this.cb()),o=this,a="";;){var c=o.Nb(u),h=(o.qk(c.Eb(u))._b()>>>0).toString(i);if((o=c).hb())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();Fk.eb=Fk.Jk(ft.ZERO),Fk.ib=Fk.Jk(ft.UZERO),Fk.Sb=Fk.Jk(ft.ONE),Fk.Rb=Fk.Jk(ft.UONE),Fk.Db=Fk.Jk(ft.NEG_ONE),Fk.ob=Fk.Kk(ft.NEG_ONE,ft.MAX_VALUE,!1),Fk.sb=Fk.Kk(ft.MAX_UNSIGNED_VALUE,ft.MAX_UNSIGNED_VALUE,!0),Fk.ub=Fk.Kk(ft.ZERO,ft.MIN_VALUE,!1);var Hk=function(){function t(t,n){void 0===n&&(n=1),this.Pb=void 0,this.Bb=void 0,this.Pb=t,this.Bb=n}t.Ob=function(n){return new t(w.ceil(n.Pb),n.Bb)},t.xb=function(n){return new t(w.floor(n.Pb),n.Bb)},t.Lb=function(t,n){return t.Uk(n)?t:n},t.Mb=function(t,n){return t.Fk(n)?t:n};var n=t.prototype;return n.Oy=function(n){return this.Bb>=n.Bb?new t(this.Pb+n.Ub(this.Bb).Pb,this.Bb):new t(this.Ub(n.Bb).Pb+n.Pb,n.Bb)},n.Lk=function(t){return t.zk(this)},n.Uk=function(t){return t.Fk(this)},n.Hk=function(n){return this.Bb>=n.Bb?new t(w.abs(this.Pb-n.Ub(this.Bb).Pb),this.Bb):n.Hk(this)},n.Xk=function(t,n){return this.Hk(t).Fk(n)},n.Mk=function(t){return i=t,(n=this).Bb>=i.Bb?Os(n.Pb,i.Ub(n.Bb).Pb):Os(n.Ub(i.Bb).Pb,i.Pb);var n,i},n.Tk=function(t){return 0===this.Mk(t)},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.Ub=function(n){return new t(this.Pb*(n/this.Bb),n)},n.qk=function(n){return this.Bb>=n.Bb?new t(this.Pb-n.Ub(this.Bb).Pb,this.Bb):new t(this.Ub(n.Bb).Pb-n.Pb,n.Bb)},n.Xb=function(n){return new t(this.Pb*n,this.Bb)},A(t,[{key:"jk",get:function(){return!isFinite(this.Pb)}},{key:"Fb",get:function(){return this.Pb/this.Bb}}]),t}();Hk.Hb=new Hk(1/6,1),Hk.eb=new Hk(0),Hk.zb=new Hk(1/0),Hk.Vb=1e6;var zk=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bb=void 0,e.Ai=n.toSigned(),e.Bb=i>>>0,e}S(n,t),n.Wb=function(t,i){return void 0===i&&(i=1e6),n.$k(t*i,i)},n.$k=function(t,i){return m(t)?n.Gb:t===1/0?n.qb:t===-1/0?n.Yb:new n(ft.fromNumber(t),i)},n.Jk=function(t,i){return new n(t,i)},n.jb=function(t){return n.Wb(t.Fb,1e6)},n.Qb=function(t){return new n(ft.fromNumber(t.getTime()),1e3)},n.Lb=function(t,n){return t.Uk(n)?t:n},n.Mb=function(t,n){return t.Fk(n)?t:n},n.Zb=function(t,i,e){return n.Lb(i,n.Mb(e,t))};var i=n.prototype;return i.Wk=function(){return this.Ai.isNegative()},i.hb=function(){return 0!==this.Bb&&this.Ai.isZero()},i.jk=function(){return 0===this.Bb&&!this.Ai.isZero()},i.Yk=function(){return 0===this.Bb&&this.Ai.isZero()},i.xk=function(){if(0===this.Bb)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.Bb),n=this.Ai.subtract(t.multiply(this.Bb));return t.toNumber()+n.toNumber()/this.Bb},i.wb=function(){if(0===this.Bb)throw new v("Failed to convert timestamp");return this.Ai},i.Kb=function(){return new Date(0===this.Bb?NaN:this.Ub(1e3).Ai.toNumber())},i.Jb=function(){return new Hk(0===this.Bb?this.xk():this.Ai.toNumber(),this.Bb)},i.Ub=function(t,i){void 0===i&&(i=Gk.$b);var e=this.Bb;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t.Ib(n),r=e[0],s=e[1];if(s.hb())return r;if(i===Gk.$b)return s.Wk()?r.qk(Fk.Sb):r;if(i===Gk.tp)return s.Wk()?r:r.Oy(Fk.Sb);var u=s.Eb(Fk.$k(2));return u.Wk()?u.Gk().zk(n)?r:r.qk(Fk.Sb):u.zk(n)?r:r.Oy(Fk.Sb)}(Fk.Jk(this.Ai).Eb(Fk.$k(t/r)),Fk.$k(e/r),i).wb(),t)},i.Mk=function(t){if(this===t)return Ss.Is;if(0===this.Bb||0===t.Bb)return Xk(this,t);if(this.hb())return t.hb()?Ss.Is:t.Wk()?Ss.Rs:Ss.Ds;if(t.hb())return this.Wk()?Ss.Ds:Ss.Rs;var n=w.min(this.Bb,t.Bb),i=this.Ub(n,Gk.np).Ai,e=t.Ub(n,Gk.np).Ai;return i.compare(e)},i.Gk=function(){return 0===this.Bb?Vk(this):new n(this.Ai.negate(),this.Bb)},i.Oy=function(t){if(0===this.Bb||0===t.Bb)return Wk(this,t);if(this.hb())return t;if(t.hb())return this;var i=w.max(this.Bb,t.Bb),e=this.Ub(i,Gk.np),r=t.Ub(i,Gk.np);return new n(e.Ai.add(r.Ai),i)},i.Eb=function(t){if(this.Yk()||m(t))return n.Gb;if(this.jk()||!isFinite(t)){if(this.hb()||0===t)return n.Gb;var i=this.Wk()?n.Yb:n.qb;return t<0?i.Gk():i}return this.hb()?this:new n(0===t?ft.ZERO:this.Ai.multiply(t),this.Bb)},i.Nb=function(t){if(this.Yk()||m(t))return n.Gb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Gk():this:t<0?this.Gk():this:n.Gb;if(!isFinite(t))return new n(ft.ZERO,this.Bb);if(this.hb())return 0===t?n.Gb:new n(ft.ZERO,this.Bb);if(0===t){var i=this.Wk()?n.Yb:n.qb;return 1/t<0?i.Gk():i}return new n(this.Ai.divide(t),this.Bb)},i.ip=function(){return[this.Ai.low,this.Ai.high,this.Bb]},n}(Uk);function Vk(t){return t.Yk()?t:t.Wk()?zk.qb:zk.Yb}function Wk(t,n){return t.Yk()||n.Yk()?zk.Gb:t.jk()&&n.jk()?t.Wk()===n.Wk()?t:zk.Gb:t.jk()?t:n}zk.eb=new zk(ft.ZERO,1e6),zk.Gb=new zk(ft.ZERO,0),zk.qb=new zk(ft.ONE,0),zk.Yb=new zk(ft.NEG_ONE,0);var Gk,qk=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bb=void 0,e.Ai=BigInt.asIntN(64,n),e.Bb=i>>>0,e}S(n,t),n.Wb=function(t,i){return void 0===i&&(i=1e6),n.$k(t*i,i)},n.$k=function(t,i){return m(t)?n.Gb:t===1/0?n.qb:t===-1/0?n.Yb:new n(BigInt(w.floor(t)),i)},n.Jk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.jb=function(t){return n.Wb(t.Fb,1e6)},n.Qb=function(t){return n.$k(t.getTime(),1e3)},n.Lb=function(t,n){return t.Uk(n)?t:n},n.Mb=function(t,n){return t.Fk(n)?t:n},n.Zb=function(t,i,e){return n.Lb(i,n.Mb(e,t))};var i=n.prototype;return i.Wk=function(){return this.Ai<BigInt(0)},i.hb=function(){return 0!==this.Bb&&this.Ai===BigInt(0)},i.jk=function(){return 0===this.Bb&&this.Ai!==BigInt(0)},i.Yk=function(){return 0===this.Bb&&this.Ai===BigInt(0)},i.xk=function(){if(0===this.Bb)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.Bb),n=this.Ai-t*BigInt(this.Bb);return Number(t)+Number(n)/this.Bb},i.wb=function(){if(0===this.Bb)throw new v("Failed to convert timestamp");return this.ep()},i.ep=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return ft.fromBits(Number(t),Number(n))},i.Kb=function(){return new Date(0===this.Bb?NaN:Number(this.Ub(1e3).Ai))},i.Jb=function(){return new Hk(0===this.Bb?this.xk():Number(this.Ai),this.Bb)},i.Ub=function(t,i){void 0===i&&(i=Gk.$b);var e=this.Bb;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Gk.$b)return r<BigInt(0)?e-BigInt(1):e;if(i===Gk.tp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.Mk=function(t){if(this===t)return Ss.Is;if(0===this.Bb||0===t.Bb)return Xk(this,t);if(this.hb())return t.hb()?Ss.Is:t.Wk()?Ss.Rs:Ss.Ds;if(t.hb())return this.Wk()?Ss.Ds:Ss.Rs;var n=w.min(this.Bb,t.Bb),i=this.Ub(n,Gk.np).Ai,e=t.Ub(n,Gk.np).Ai;return i>e?Ss.Rs:i<e?Ss.Ds:Ss.Is},i.Gk=function(){return 0===this.Bb?Yk(this):new n(-this.Ai,this.Bb)},i.Oy=function(t){if(0===this.Bb||0===t.Bb)return jk(this,t);if(this.hb())return t;if(t.hb())return this;var i=w.max(this.Bb,t.Bb),e=this.Ub(i,Gk.np),r=t.Ub(i,Gk.np);return new n(e.Ai+r.Ai,i)},i.Eb=function(t){if(this.Yk()||m(t))return n.Gb;if(this.jk()||!isFinite(t)){if(this.hb()||0===t)return n.Gb;var i=this.Wk()?n.Yb:n.qb;return t<0?i.Gk():i}return this.hb()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.Bb)},i.Nb=function(t){if(this.Yk()||m(t))return n.Gb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Gk():this:t<0?this.Gk():this:n.Gb;if(!isFinite(t))return new n(BigInt(0),this.Bb);if(this.hb())return 0===t?n.Gb:new n(BigInt(0),this.Bb);if(0===t){var i=this.Wk()?n.Yb:n.qb;return 1/t<0?i.Gk():i}return new n(this.Ai/BigInt(t),this.Bb)},i.ip=function(){var t=this.ep();return[t.low,t.high,this.Bb]},A(n,null,[{key:"eb",get:function(){return n.rp||(n.rp=new n(BigInt(0),1e6)),n.rp}},{key:"Gb",get:function(){return n.sp||(n.sp=new n(BigInt(0),0)),n.sp}},{key:"qb",get:function(){return n.op||(n.op=new n(BigInt(1),0)),n.op}},{key:"Yb",get:function(){return n.ap||(n.ap=new n(BigInt(-1),0)),n.ap}}]),n}(Uk);function Yk(t){return t.Yk()?t:t.Wk()?qk.qb:qk.Yb}function jk(t,n){return t.Yk()||n.Yk()?qk.Gb:t.jk()&&n.jk()?t.Wk()===n.Wk()?t:qk.Gb:t.jk()?t:n}qk.rp=void 0,qk.sp=void 0,qk.op=void 0,qk.ap=void 0,function(t){t[t.$b=0]="$b",t[t.tp=1]="tp",t[t.np=2]="np"}(Gk||(Gk={}));var Qk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?qk:zk;function Zk(t,n){return t.Mk(n)}var Kk=9e4,Jk=w.pow(2,33),$k=Qk.$k(Jk,Kk),tb=$k.Nb(2);var nb,ib,eb,rb,sb={cp:0,hp:1/0,fp:0},ub=6,ob=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ab=[" ","\t","\n","\f","\r"],cb=/^\d*$/,hb=/.*[0-9]+.*/,fb=/^[\d.-]+$/,vb=/(^\.|\.$)/,lb=/(\D\.|\.\D)/;function db(t,n){void 0===n&&(n=sb);var i={cg:[],vp:[],lp:[]},e=wb(t),r=new Vo;if(Eb(e),_b(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?kb(gb(e,r,!1,!0,i,n),i):r.Bu(1);for(_b(e,function(t){return"\n"===t},r);r.Pu<e.length;){kb(gb(e,r,!1,!1,i,n),i),_b(e,function(t){return"\n"===t},r)}return i}function wb(t){var n=fs(t,"\0"," "),i=fs(n,"\r\n","\n");return fs(i,"\r","\n")}function _b(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function gb(t,n,e,r,s,u){for(var o,a=0,c=n.Pu,h="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=_b(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),vs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.xu(c);break}v=!0,c=n.Pu,l=new Ck(0,0,"",!1,h);try{bb(o,s.vp,l,u),h=""}catch(t){i.gr(t),l=null}}else{if(""===o)break;r&&ls(o,"X-TIMESTAMP-MAP")&&(s.dp=mb(o)),r||2!==a||e||(ws("STYLE",h.replace(/ /g,""))?(d={fs:vk.qy},h=""):ws("REGION",h.replace(/ /g,""))&&(w=new Mk("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.Pu}if(l)return l.nk=h,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&vs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Mb(o,n);break;case"WIDTH":Fb(o,n);break;case"LINES":Xb(o,n);break;case"REGIONANCHOR":var a=Lb(o);a&&(n.Rk=a[0],n.Dk=a[1]);break;case"VIEWPORTANCHOR":var c=Lb(o);c&&(n.Ck=c[0],n.Pk=c[1]);break;case"SCROLL":Ub(o,n)}}}}(h,w),w;return null}function mb(t){var n,i,e=t.split("=")[1].trim().split(","),r=yb(e[0].trim(),"MPEGTS")?e[0]:e[1],s=yb(e[0].trim(),"LOCAL")?e[0]:e[1];return{wp:(i=Number(r.split(/:(.*)/)[1].trim())||0,Qk.$k(i,Kk)),_p:Qk.Wb(null!=(n=Tb(s.split(/:(.*)/)[1].trim(),new Vo))?n:0)}}function yb(t,n){return ls(t,n)}function kb(t,n){t&&function(t){return t.fs===vk.Wy}(t)?n.cg.push(t):t&&function(t){return t.fs===vk.Gy}(t)?n.vp.push(t):t&&function(t){return t.fs===vk.qy}(t)&&n.lp.push(t)}function bb(t,n,i,e){var r=new Vo;if(Ib(t,r),i.Jy=pb(Tb(t,r),e),Ib(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Bu(3),Ib(t,r),i.$y=pb(Tb(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&vs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Pb(a,n,i);break;case"VERTICAL":Ob(a,n);break;case"D":xb(a,n);break;case"LINE":case"L":Nb(a,n);break;case"POSITION":case"T":Cb(a,n);break;case"SIZE":case"S":Bb(a,n);break;case"ALIGN":case"A":Db(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function pb(t,n){return t+n.cp}function Ab(t){return/^[0-9]$/.test(t)}function Tb(t,n){var i,e,r,s=fs(t,",","."),u=!1;if(n.Pu>=s.length||!Ab(s.charAt(n.Pu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=_b(s,Ab,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var c=_b(s,Ab,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var h=_(c,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=_b(s,Ab,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=h,r=_(f,10)}else i=0,e=a,r=h;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var l=_b(s,Ab,n),d=_(l,10);if(h>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Sb(t){return Eb(wb(t))}function Eb(t){if(t.length<ub)return!1;for(var n=0;n<ob.length;n++){if(ls(t,ob[n]))return!0}return!1}function Ib(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Fs(ab,i));)n.Bu(1);var i}function Rb(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Db(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ek=i;break;case"middle":n.ek="center"}}function Nb(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),hb.test(i)){var s,u;if(ds(i,"%")){var o=Rb(i);if(null===o)return;s=o,u=!1}else{if(!fb.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!lb.test(i)||vb.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.rk=s,n.lk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.ck=e;break;case"middle":n.ck="center"}}}function Cb(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Rb(i);if(null!==s)switch(n.hk=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.fk=e;break;case"start":n.fk="line-left";break;case"middle":n.fk="center";break;case"end":n.fk="line-right"}}function Pb(t,n,i){var e=Ls(i,function(n){return n.H_===t});void 0!==e&&(n.vk=e)}function Bb(t,n){var i=Rb(t);null!==i&&(n.Cu=i)}function Ob(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.dk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.dk="lr";break;default:n.dk=""}}function xb(t,n){"VERTICAL"===t.toUpperCase()?n.dk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.dk="lr")}function Lb(t){if(t.indexOf(",")>=0){var n=Rb(t.substring(0,t.indexOf(","))),i=Rb(t.substring(t.indexOf(",")+1,t.length));return[Mt(n||0,0,100),Mt(i||100,0,100)]}return null}function Mb(t,n){n.H_=t}function Ub(t,n){"up"===t.toLowerCase()&&(n.Nk="up")}function Xb(t,n){cb.test(t)&&(n.Ik=_(t))}function Fb(t,n){var i=Rb(t);null!==i&&(n.Bk=i)}!function(t){t.gp="moov",t.mp="mvhd",t.yp="trak",t.kp="tkhd",t.bp="mdia",t.pp="mdhd",t.Ap="hdlr",t.Tp="minf",t.Sp="stbl",t.Ep="stsd",t.Ip="stsc",t.Rp="mvex",t.Dp="trex",t.Np="avc1",t.Cp="avcC",t.Pp="hev1",t.Bp="hvc1",t.Op="hvcC",t.xp="pasp",t.Lp="mp4a",t.Mp="esds",t.Up="wvtt",t.Xp="vttC",t.Fp="vlab",t.Hp="enca",t.zp="encv",t.Vp="moof",t.Wp="mfhd",t.Gp="traf",t.qp="tfhd",t.Yp="trun",t.jp="tfdt",t.Qp="senc",t.Zp="mdat",t.Kp="pssh",t.Jp="emsg",t.$p="sidx",t.tA="styp",t.nA="ftyp",t.iA="sinf",t.eA="frma"}(nb||(nb={})),function(t){t.Ed="vide",t.Sd="soun",t.rA="subt",t.sA="hint",t.uA="meta",t.oA="auxv"}(ib||(ib={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(eb||(eb={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(rb||(rb={}));var Hb=function(){function t(t,n){this.Hi=void 0,this.aA=void 0,this.Hi=t,this.aA=n}var n=t.prototype;return n.cA=function(){return eo(this.Hi,this.aA)},n.hA=function(){return co(this.Hi,this.aA)},n.fA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Hi,this.aA)},n.vA=function(){return fo(this.Hi,this.aA)},n.lA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Hi,this.aA)},n.dA=function(){return lo(this.Hi,this.aA)},n.wA=function(t){return so(this.Hi,this.aA,t)},n._A=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(fo(t,n));return e}(this.Hi,this.aA,t)},n.gA=function(t){return _o(this.Hi,this.aA,t)},n.mA=function(){return No(this.Hi,this.aA)},n.yA=function(t){this.aA.Bu(t)},n.Lu=function(){return new t(this.Hi,this.aA.Lu())},t}();function zb(t,n){return t.fs===n}function Vb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(zb(e,n))return e}}function Wb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];zb(r,n)&&i.push(r)}return i}var Gb=function(t){function n(n,i){var e;return(e=t.call(this)||this).kA=n,e.bA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}($t),qb=function(){function t(){}return t.pA=function(n){var i=n.Hi,e=n.aA,r=t.AA(i,e,!1);if(!r.TA)throw new Gb(e.Pu,r.Pi);return r.Pi},t.AA=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t.SA(n,i,e);if(!s.TA)return{TA:!1,Pi:r};r.push(s.EA)}return{TA:!0,Pi:r}},t.IA=function(n,i){var e=t.SA(n,i,!1);if(!e.TA)throw new Gb(i.Pu);return e.EA},t.RA=function(n,i){for(var e=n.Hi,r=n.aA;r.Pu<e.byteLength;){var s=t.SA(e,r,!1);if(!s.TA)return;if(s.EA.fs===i)return s.EA}},t.SA=function(n,i,e){var r=i.Pu,s=t.DA(n,i);if(!s.TA)return s;var u=s.NA,o=u.Cu;if(0===o){if(e)return i.xu(r),{TA:!1,CA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var c=a;return i.xu(r),{TA:!1,CA:c}}var h={fs:u.fs,Pu:r,Hi:new Hb(xo(n,r,a),new Vo(u.PA))};return i.xu(a),{TA:!0,EA:h}},t.DA=function(t,n){var i=n.Pu;if(!oo(t,n,8))return{TA:!1,CA:n.Pu+8};var e=fo(t,n),r=_o(t,n,4);if(1===e){if(!oo(t,n,8)){var s=n.Pu+8;return n.xu(i),{TA:!1,CA:s}}e=lo(t,n).toNumber()}if("uuid"===r){if(!oo(t,n,16)){var u=n.Pu+16;return n.xu(i),{TA:!1,CA:u}}r=_o(t,n,16)}return{TA:!0,NA:{fs:r,Cu:e,PA:n.Pu-i}}},t.BA=function(t,n,i){var e=t.Hi,r=t.aA,s=Oo(Mo(e),r.Pu,e.byteLength);return i&&(s=Ho(s)),r.Bu(s.byteLength),{fs:n,Hi:s}},t.OA=function(n,i,e){var r=Zb(n.vA());return{fs:i,xA:r.version,LA:r.flags,Hi:t.BA(n,i,e).Hi}},t}();function Yb(t,n){var i=jb(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function jb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fs===n)return e.Hi}}function Qb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.fs===n&&i.push(r.Hi)}return i}function Zb(t){return{version:t>>24,flags:new to(16777215&t)}}var Kb=function(){function t(){}return t.MA=function(n){for(var i=[],e=qb.pA(new Hb(n,new Vo)),r=0;r<e.length;r++){var s=e[r],u=t.UA(s);u&&i.push(u)}return i},t.XA=function(t){return qb.AA(t,new Vo,!1).Pi.some(this.FA)},t.HA=function(n){return Qb(qb.pA(new Hb(n,new Vo)),nb.Kp).map(t.zA)},t.VA=function(n){return Qb(qb.pA(n.Hi),nb.Kp).map(t.zA)},t.FA=function(t){return t.fs===nb.nA||t.fs===nb.tA||t.fs===nb.gp||t.fs===nb.Vp||t.fs===nb.Zp||t.fs===nb.$p||t.fs===nb.Jp},t.UA=function(n){switch(n.fs){case nb.gp:return t.WA(n.Hi);case nb.Vp:return t.GA(n.Hi,n.Pu);case nb.Zp:return t.qA(n.Hi);case nb.$p:return t.YA(n.Hi);case nb.Jp:return t.jA(n.Hi)}},t.WA=function(n){var i=qb.pA(n),e=Yb(i,nb.mp),r=Qb(i,nb.yp),s=jb(i,nb.Rp),u=t.QA(e),o=r.map(t.ZA),a=s?t.KA(s):void 0;return{fs:nb.gp,NA:u,JA:o,$A:a}},t.QA=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA(),o=1===i?t.dA():t.vA(),a=t.vA(),c=t.hA()>>8;t.yA(2),t.yA(8);var h=t._A(9);t.yA(24);var f=t.vA();return{fs:nb.mp,xA:i,LA:e,tT:r,nT:s,Bb:u,Qg:o,iT:a,cm:c,eT:h,rT:f}},t.ZA=function(n){var i=qb.pA(n),e=Yb(i,nb.kp),r=Yb(i,nb.bp),s=t.sT(e),u=t.uT(r);return{fs:nb.yp,NA:s,oT:u}},t.sT=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA();t.yA(4);var o=1===i?t.dA():t.vA();t.yA(8);var a=t.fA(),c=t.fA(),h=t.fA()/w.pow(2,8);t.yA(2);var f=t._A(9),v=t.vA()/w.pow(2,16),l=t.vA()/w.pow(2,16);return{fs:nb.kp,aT:e.Uu(1),cT:e.Uu(2),hT:e.Uu(4),tT:r,nT:s,fT:u,Qg:o,vT:a,lT:c,cm:h,eT:f,Bk:v,dT:l}},t.uT=function(n){var i=qb.pA(n),e=Yb(i,nb.pp),r=Yb(i,nb.Ap),s=Yb(i,nb.Tp),u=t.wT(e),o=t._T(r),a=t.gT(s);return{fs:nb.bp,NA:u,mT:o,yT:a}},t.wT=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA(),o=1===i?t.dA():t.vA();return t.hA(),t.yA(2),{fs:nb.pp,xA:i,LA:e,tT:r,nT:s,Bb:u,Qg:o}},t._T=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags;t.yA(4);var r=t.gA(4);t.yA(12);var s=t.mA();return{fs:nb.Ap,xA:i,LA:e,kT:r,wi:s}},t.gT=function(n){var i=Yb(qb.pA(n),nb.Sp),e=t.bT(i);return{fs:nb.Tp,pT:e}},t.bT=function(n){var i=Yb(qb.pA(n),nb.Ep),e=t.AT(i);return{fs:nb.Sp,TT:e}},t.AT=function(n){var i=Zb(n.vA()),e=i.version,r=i.flags;n.vA();for(var s=[],u=qb.pA(n),o=0;o<u.length;o++){var a=u[o],c=t.ST(a.Hi,a.fs);c&&s.push(c)}return{fs:nb.Ep,xA:e,LA:r,ET:s}},t.ST=function(n,i){var e=t.IT(n,i);return e||((e=t.RT(n,i))||(i===nb.Up?t.DT(n):void 0))},t.IT=function(n,i){return i===nb.Lp?t.NT(n):i===nb.Hp?t.CT(n):void 0},t.RT=function(n,i){return i===nb.Np?t.PT(n):i===nb.Pp||i===nb.Bp?t.BT(n,i):i===nb.zp?t.OT(n):void 0},t.xT=function(t,n){return t.yA(6),{fs:n,LT:t.hA()}},t.MT=function(n,i){var e=t.xT(n,i);n.yA(8);var r=n.hA(),s=n.hA();return n.yA(2),n.yA(2),Nr({},e,{UT:r,XT:s,FT:n.vA()>>>16})},t.HT=function(n,i){var e=t.xT(n,i);n.yA(2),n.yA(2),n.yA(12);var r=n.hA(),s=n.hA(),u=n.vA(),o=n.vA();n.yA(4);var a=n.hA();n.yA(32);var c=n.hA();return n.yA(2),Nr({},e,{Bk:r,dT:s,zT:u,VT:o,WT:a,GT:c})},t.NT=function(n){var i=t.MT(n,nb.Lp),e=Yb(qb.pA(n),nb.Mp);return Nr({},i,{qT:t.YT(e)})},t.DT=function(n){var i=t.xT(n,nb.Up),e=qb.pA(n),r=Yb(e,nb.Xp),s=t.jT(r),u=jb(e,nb.Fp);return Nr({},i,{QT:s,ZT:u?t.KT(u):u})},t.jT=function(t){return{fs:nb.Xp,nh:t.mA()}},t.KT=function(t){return{fs:nb.Fp,W_:t.mA()}},t.YT=function(t){return qb.OA(t,nb.Mp,!0)},t.PT=function(n){var i=t.HT(n,nb.Np),e=qb.pA(n),r=Yb(e,nb.Cp),s=jb(e,nb.xp);return Nr({},i,{JT:t.$T(r),tS:s?t.nS(s):void 0})},t.BT=function(n,i){var e=t.HT(n,i),r=Yb(qb.pA(n),nb.Op);return Nr({},e,{iS:t.eS(r)})},t.OT=function(n){var i=n.Lu(),e=t.HT(n,nb.zp),r=Yb(qb.pA(n),nb.iA),s=t.rS(r);return Nr({},e,{sS:t.RT(i,s.oS.uS),aS:s})},t.CT=function(n){var i=n.Lu(),e=t.MT(n,nb.Hp),r=Yb(qb.pA(n),nb.iA),s=t.rS(r);return Nr({},e,{sS:t.IT(i,s.oS.uS),aS:s})},t.rS=function(n){var i=Yb(qb.pA(n),nb.eA),e=t.cS(i);return{fs:nb.iA,oS:e}},t.cS=function(t){var n=t.gA(4);return{fs:nb.eA,uS:n}},t.$T=function(t){return qb.BA(t,nb.Cp,!0)},t.eS=function(t){return qb.BA(t,nb.Op,!0)},t.nS=function(t){var n=t.vA(),i=t.vA();return{fs:nb.xp,hS:n,fS:i}},t.KA=function(n){var i=Qb(qb.pA(n),nb.Dp).map(t.vS);return{fs:nb.Rp,JA:i}},t.vS=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags,r=t.vA(),s=t.vA(),u=t.vA(),o=t.vA(),a=t.vA();return{fs:nb.Dp,xA:i,LA:e,fT:r,lS:s,dS:u,wS:o,_S:a}},t.GA=function(n,i){var e=qb.pA(n),r=Yb(e,nb.Wp),s=Qb(e,nb.Gp),u=t.gS(r),o=s.map(t.mS);return{fs:nb.Vp,yS:i,NA:u,JA:o}},t.gS=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags,r=t.vA();return{fs:nb.Wp,xA:i,LA:e,kS:r}},t.mS=function(n){var i=qb.pA(n),e=Yb(i,nb.qp),r=Qb(i,nb.Yp),s=jb(i,nb.jp),u=t.bS(e),o=r.map(function(n){return t.pS(n,u)}),a=s?t.AS(s):void 0;return{fs:nb.Gp,NA:u,TS:o,SS:a}},t.bS=function(t){var n=Zb(t.vA()),i=n.version,e=n.flags,r=t.vA(),s=e.Uu(eb.BASE_DATA_OFFSET_PRESENT)?t.dA():void 0,u=e.Uu(eb.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vA():void 0,o=e.Uu(eb.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vA():void 0,a=e.Uu(eb.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vA():void 0,c=e.Uu(eb.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vA():void 0;return{fs:nb.qp,xA:i,LA:e,fT:r,ES:s,IS:u,dS:o,wS:a,_S:c}},t.pS=function(n,i){for(var e=Zb(n.vA()),r=e.version,s=e.flags,u=n.vA(),o=s.Uu(rb.DATA_OFFSET_PRESENT)?n.lA():void 0,a=s.Uu(rb.FIRST_SAMPLE_FLAGS_PRESENT)?n.vA():void 0,c=[],h=0;h<u;h++){var f=t.RS(n,s,r,i);0===h&&void 0!==a&&(f.LA=a),c.push(f)}return{fs:nb.Yp,xA:r,LA:s,DS:u,yS:o,NS:a,CS:c}},t.RS=function(t,n,i,e){return{Qg:n.Uu(rb.SAMPLE_DURATION_PRESENT)?t.vA():e.dS,Cu:n.Uu(rb.SAMPLE_SIZE_PRESENT)?t.vA():e.wS,LA:n.Uu(rb.SAMPLE_FLAGS_PRESENT)?t.vA():e._S,PS:n.Uu(rb.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vA():t.lA():void 0}},t.jA=function(t){var n=t.Hi,i=t.aA,e=Zb(fo(n,i)),r=e.version,s=e.flags;if(1===r){var u=fo(n,i),o=lo(n,i),a=fo(n,i),c=fo(n,i),h=wo(n,i),f=wo(n,i),v=Fo(Mo(n),i.Pu,n.byteLength);return i.Bu(v.byteLength),{fs:nb.Jp,xA:r,LA:s,OS:h,Ai:f,Bb:u,xS:o,LS:a,H_:c,MS:v}}var l=wo(n,i),d=wo(n,i),w=fo(n,i),_=fo(n,i),g=fo(n,i),m=fo(n,i),y=Fo(Mo(n),i.Pu,n.byteLength);return i.Bu(y.byteLength),{fs:nb.Jp,LA:s,xA:r,OS:l,Ai:d,Bb:w,US:_,LS:g,H_:m,MS:y}},t.qA=function(t){return qb.BA(t,nb.Zp,!1)},t.zA=function(n){var i=n.Hi,e=n.aA,r=Ho(Mo(i)).buffer,s=Zb(fo(i,e)),u=s.version,o=s.flags,a=t.XS(i,e),c=[];if(u>0)for(var h=fo(i,e),f=0;f<h;f++){var v=so(i,e,16);c.push(v)}var l=fo(i,e),d=new y(r,e.Pu,l);return e.Bu(i.byteLength),{fs:nb.Kp,xA:u,LA:o,FS:a,HS:c,zS:l,Hi:d,VS:r}},t.XS=function(t,n){for(var i="",e=0;e<4;e++){var r=eo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=eo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=eo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=eo(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=eo(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.YA=function(t){var n,i,e=t.Hi,r=t.aA,s=Zb(fo(e,r)),u=s.version,o=s.flags,a=fo(e,r),c=fo(e,r);0===u?(n=ft.fromBits(fo(e,r),0,!0),i=ft.fromBits(fo(e,r),0,!0)):(n=lo(e,r),i=lo(e,r)),r.Bu(2);for(var h=co(e,r),f=[],v=0;v<h;v+=1){var l=fo(e,r),d=l>>31&1,w=2147483647&l,_=fo(e,r),g=fo(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({WS:d,GS:w,Qg:_,qS:m,YS:y,jS:k})}return{fs:nb.$p,xA:u,LA:o,QS:a,Bb:c,ZS:n,KS:i,JS:h,$S:f}},t.AS=function(t){var n,i=t.Hi,e=t.aA,r=Zb(fo(i,e)),s=r.version,u=r.flags;return n=0===s?ft.fromBits(fo(i,e),0,!0):lo(i,e),{fs:nb.jp,xA:s,LA:u,SS:n}},t}();function Jb(t){return t&&"Ci"in t?t.Ci:t}var $b=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).tE=void 0,a.nE=void 0,a.iE=void 0,a.tE=s,a.nE=u,a.iE=o||void 0,a}return S(n,t),n.prototype.Tk=function(n){return this===n||!!om(this,n)&&(!!t.prototype.Tk.call(this,n)&&(!!um(this.eE,n.eE)&&(!!um(this.vp,n.vp)&&(this.rE&&n.rE?!!this.rE.ai(n.rE)&&(this.nk&&n.nk?this.nk.ai(n.nk):this.nk===n.nk):this.rE===n.rE))))},A(n,[{key:"eE",get:function(){return this.tE}},{key:"vp",get:function(){return this.nE}},{key:"rE",get:function(){return this.iE}},{key:"t_",get:function(){var t;return this.$w||(this.$w=rm(pk(t=this),{get styles(){return t.eE},get regions(){return t.vp},get metadata(){return Jb(t.rE)},get content(){return Jb(t.nk)}})),this.$w}}]),n}(Dk),tp=function(){function t(t,n,i){this.Nv=void 0,this.sE=void 0,this.uE=void 0,this.sE=t,this.uE=n,Qt(i)?this.Nv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.Nv=i}return A(t,[{key:"oE",get:function(){return this.Nv.ci(!0)}},{key:"Jy",get:function(){return this.sE}},{key:"$y",get:function(){return this.uE}}]),t}();var np="http://www.w3.org/XML/1998/namespace";function ip(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function ep(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function rp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function sp(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[rp(i[r].wi,n)]=i[r].Ai;return e}var up=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,op=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ap="http://www.w3.org/ns/ttml";function cp(t,n,i,e){void 0===i&&(i=sb),void 0===e&&(e=Nh.APPLICATION_TTML_XML);var r=[],s=Lo(t);return e===Nh.APPLICATION_MP4?r=function(t,n,i){var e=Vb(Kb.MA(t),nb.Zp);if(!e)return[];return vp(Lo(e.Hi),n,i)}(s,n,i):e===Nh.APPLICATION_TTML_XML&&(r=vp(s,n,i)),r}function hp(t,n,i){return void 0===i&&(i=sb),lp(t,n,i)}function fp(t,n){for(var i=function t(n){var i=[];var e;if(Qt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.oE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function vp(t,n,i){return lp(Bo(t,new Vo),n,i)}function lp(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(ap,"head")[0],a=u&&u.Di(ap,"body")[0],c=["ebutts","tts","xml"];if(!a||!o)return s;for(var h=function(t,n){for(var i={},e=t.Di(ap,"styling")[0],r=e&&e.Di(ap,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(np,"id");i[o]=sp(u,n)}return i}(o,c),f=function(t,n){var i=sm(t),e=_p(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=_p(i[u].extent);if(o){var a=dp(o[0],e[0]),c=dp(o[1],e[1]);i[u].extent=a+" "+c}var h=_p(i[u].origin);if(h){var f=dp(h[0],e[0]),v=dp(h[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Di(ap,"layout")[0],r=e&&e.Di(ap,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(np,"id");if(o){i[o]=sp(u,n);var a=yp(u,n);for(var c in a)U.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),u),v=o.Di(ap,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var c=[];if(Qt(n)){var h,f;s=null!=(h=mp(n.Bi("begin"),r))?h:s,u=mp(n.Bi("dur"),0),o=null!=(f=mp(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ii,l=0;l<v.length;l++)("body"===n.di||"div"===n.di)&&v[l].Kn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Jy,s.$y)}e.sort(Ps);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Xs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=gp(d[w],d[w+1],a);if(_.length<=0&&kp(n)){var g=n.ci(!1);c.push(new tp(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.ci(!1);_.forEach(function(n){return t.Ni(n.oE)}),c.push(new tp(d[w],d[w+1],t))}()}return c}(a,e.cp,e.hp,e.fp),w=0;w<l.length;w++){var _=l[w],g=fp(f,_);s.push(new $b(_.Jy,_.$y,_.oE,!1,h,g,v))}return s}function dp(t,n){var i=wp(t),e=wp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function wp(t){return ds(t,"px")?"px":ds(t,"em")?"em":ds(t,"c")?"c":ds(t,"%")?"%":void 0}function _p(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function gp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Jy,u=i[r].$y;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function mp(t,n){if(t){if(up.test(t)){var i=up.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(op.test(t)){var o=op.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function yp(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=sp(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function kp(t){if(Qt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===qt.$n}function bp(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var pp,Ap=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.E_=function(n){return t.prototype.E_.call(this,n)},i.I_=function(n){var i=t.prototype.I_.call(this,n);return i&&(n.eg=bm.j_),i},i.n_=function(){return Rm(this)},n}(Jg);!function(t){t.rA="subtitles",t.aE="captions",t.cE="descriptions",t.hE="chapters",t.uA="metadata",t.fE="thumbnails"}(pp||(pp={}));var Tp=[pp.rA,pp.aE,pp.cE,pp.hE,pp.uA,pp.fE];function Sp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Fs(Tp,t)}(n)?n:n?pp.uA:pp.rA}var Ep,Ip=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(nf);function Rp(t){return t instanceof a_}function Dp(t){return t instanceof h_}function Np(t){return vs(t,Ep.vE)}function Cp(t){return t.some(Pp)}function Pp(t){return vs(t,Ep.lE)||vs(t,Ep.Up)}function Bp(t,n){return Ch(t)&&Cp(n)}function Op(t,n){return!!t&&(Ch(t)?function(t){return t.some(Np)}(n)||Cp(n):vs(t,Nh.APPLICATION_TTML_XML)||vs(t,Nh.TEXT_VTT)||vs(t,Nh.IMAGE_JPEG))}function xp(t,n){return t===pp.fE||t===pp.uA&&n===pp.fE}function Lp(t,n,i,e){for(var r=0,s=t.cg.N_;r<s.length;r++){var u=s[r];if(u.Jy>i)break;n<=u.$y&&e.push(u)}}function Mp(t,n){return Cs(t.z_,n.z_)}function Up(t,i){var e=i,r=0;if(Rp(t)&&t.name===r_.Vd)e=t.ud.hd;else if(Dp(t)){var s=t.jd;if(e=s.od,0===(r=s.Jl))return new Ip(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Ip(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Xp(t,i,e,r){var s=function(t){switch(t){case fk.WEBVTT:return"WebVTT";case fk.SRT:return"SRT";case fk.TTML:return"TTML";default:return""}}(t);return new Ip(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Fp(t){return Sb(t)?fk.WEBVTT:bp(t)?fk.TTML:fk.SRT}function Hp(t,n){for(var i=[],e=0,r=t.cg.N_;e<r.length;e++){var s=r[e];if(s.$y<=n)i.push(s);else if(s.Jy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.dE(o)}}!function(t){t.lE="vtt",t.Up="wvtt",t.vE="stpp"}(Ep||(Ep={}));var zp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JA=new Ap,n.wE=function(t){var i=t.i_;n._E(i)},n}S(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(Gg.l_,this.wE),this.JA.E_(t),this._E(t)},i.I_=function(t){t.tu(Gg.l_,this.wE),t.eg=bm.j_,this.JA.I_(t)},i.gE=function(t){},i.mE=function(t){},i._E=function(t){t.eg!==bm.j_?this.gE(t):this.mE(t)},i.yE=function(){for(var t=0,n=this.JA.N_;t<n.length;t++){var i=n[t];i.tu(Gg.l_,this.wE),i.xd()}},i.kE=function(t){if(t>0)for(var n=0,i=this.JA.N_;n<i.length;n++){Hp(i[n],t)}},i.D_=function(){return this.yE(),this.JA.D_(),We.resolve()},i.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.D_());case 3:this.JA.xd();case 4:case"end":return t.stop()}},null,this,null,We)},n}(wu),Vp=function(t){function n(n){var i;return(i=t.call(this,pm.K_)||this).errorObject=n,i}return S(n,t),n.prototype.n_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Vg),Wp=function(t){function n(n,i){var e;return(e=t.call(this)||this).bE=void 0,e.pE=void 0,e.AE=new Js,e.bE=n,e.pE=i,e}S(n,t);var i=n.prototype;return i.TE=function(t){if(t.src){var n=t.kind||pp.rA,i=this.bE.SE(n,t.id,t.label,t.srclang,t.default);return i.fg=e_(t.src),this.E_(i),i}},i.EE=function(t,n){var i,e,r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.ag=hk.LOADING,i=new $w({hd:t.fg,td:Af.$n,Rd:jw.GET,Ws:n}),v.prev=2,v.next=5,Dr.awrap(this.pE.ud(i));case 5:return s=v.sent,r=s.Jl,v.next=9,Dr.awrap(s.Ll());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),iu(v.t0),t.ag=hk.ERROR,t.Qs(new Vp(Up(v.t0,t.fg))),v.abrupt("return");case 18:for(v.prev=18,u=Fp(e),t.fs=u,o=[],u===fk.WEBVTT||u===fk.SRT?(a=db(e),o=a.cg):u===fk.TTML&&(o=hp(e,t)),c=0,h=o;c<h.length;c++)f=h[c],t.IE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),iu(v.t1),t.ag=hk.ERROR,t.Qs(new Vp(Xp(t.fs,t.fg,r,v.t1))),v.abrupt("return");case 32:t.ag=hk.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],We)},i.gE=function(t){Fs(this.JA.N_,t)&&t.ag===hk.NONE&&this.EE(t,this.AE.Ws).catch(eu)},i.Wc=function(){},i.D_=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.AE.Hs(),this.AE=new Js,n=0,i=this.JA.N_;n<i.length;n++)e=i[n],this.bE.RE(e);return r.next=5,Dr.awrap(t.prototype.D_.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(zp);function Gp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.V_===n&&e.DE)return e}}function qp(t,n){Yp(Gp(t.N_,n))}function Yp(t){void 0!==t&&(t.eg=bm.Z_)}function jp(t,n){Yp(Gp(t.N_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.V_===n)return e}}(t.N_,n))}function Qp(t){for(var n=0;n<Tp.length;n++){var i=Tp[n];i===pp.hE?jp(t,i):qp(t,i)}}var Zp,Kp=function(t){function n(){return t.call(this,pf.Cf)||this}return S(n,t),n}(gu);!function(t){t[t.NE=0]="NE",t[t.CE=1]="CE"}(Zp||(Zp={}));var Jp=t,$p=Jp.MediaSource,tA=Jp.WebKitMediaSource,nA=Jp.TextTrack,iA=s&&s.createElement("video");s&&s.documentElement.style;var eA=M.qt&&M.xn&&M.Ln<=26;M.dn;var rA=!(!$p&&!tA),sA=!!nA;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.cn,M.Cn&&M.Pn,iA&&iA.canPlayType&&(""!==iA.canPlayType("application/vnd.apple.mpegURL")||M.Qt&&!M.Cn&&M.Zt);iA&&iA.canPlayType&&iA.canPlayType("video/mp4");var uA=rA&&!M.Bn&&!M.Rn&&!M.In&&(($p||tA).isTypeSupported?($p||tA).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):iA&&iA.canPlayType&&""!==iA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));rA&&!M.Bn&&(uA||(($p||tA).isTypeSupported?($p||tA).isTypeSupported("audio/mpeg"):iA&&iA.canPlayType&&iA.canPlayType("audio/mpeg"))),rA&&(!M.Nn||!M.qt)&&($p||tA).isTypeSupported&&($p||tA).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.Bn||M.Rn||M.In,M.Dn,M.Bn,M.Rn&&M.Yt&&M.jt;try{r&&r.top!==r.self}catch(t){!0}var oA=function(t){function n(n){var i;return(i=t.call(this,ry.qg)||this).currentTime=n,i}return S(n,t),n}(gu),aA=function(t){function n(n){var i;return(i=t.call(this,ry.Yg)||this).currentTime=n,i}return S(n,t),n}(gu),cA=[ry.w_,ry.Yg,pf.If,pf.Ef],hA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).PE=Hm.Mg,e.BE=!0,e.OE=!1,e.xE=!1,e.LE=function(t){var n=e.ME.ag;n!==e.PE&&e.Qs(new py(t.currentTime,n)),n===Hm.Mg&&(e.OE=!1,e.xE=!1),e.UE(n),e.XE(n),e.FE(n),e.maybeDispatchCanPlayThroughEvent(n),e.HE(n),e.zE(n),e.PE=n},e.VE=function(){e.zE(e.PE),e.HE(e.PE),e.BE=e.ME.$g},e.WE=function(){e.BE=e.ME.$g},e.GE=function(t){e.Qs(new aA(t.currentTime))},e.ME=n,e.qE=i,e.ME.Zs(ry.w_,e.LE),e.ME.Zs(pf.If,e.VE),e.ME.Zs(pf.Ef,e.WE),e.qE&&e.ME.Zs(ry.Yg,e.GE),e}S(n,t);var i=n.prototype;return i.UE=function(t){!this.xE&&t>=Hm.Ug&&(this.xE=!0,this.Qs(new fy(this.ME.jg,t)))},i.XE=function(t){!this.OE&&t>=Hm.Xg&&(this.OE=!0,this.Qs(new _y(this.ME.jg,t)))},i.HE=function(t){this.qE||(t>=Hm.Fg&&this.PE<Hm.Fg&&!this.ME.$g||this.YE&&t>=Hm.Fg)&&this.Qs(new aA(this.ME.jg))},i.zE=function(t){!this.jE(t)||this.ME.Zg||this.ME.mu||this.Qs(new oA(this.ME.jg))},i.FE=function(t){this.PE<=Hm.Xg&&t>=Hm.Fg&&this.Qs(new ky(this.ME.jg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Hm.Hg&&this.Qs(new by(this.ME.jg,t))},i.jE=function(t){var n=!this.ME.$g&&t<=Hm.Xg,i=!this.BE&&this.PE<=Hm.Xg;return n&&!i},i.D_=function(){this.PE=Hm.Mg,this.BE=!0,this.OE=!1,this.xE=!1},i.xd=function(){this.$s(),this.qE&&this.ME.tu(ry.Yg,this.GE),this.ME.tu(pf.If,this.VE),this.ME.tu(pf.Ef,this.WE),this.ME.tu(ry.w_,this.LE)},A(n,[{key:"YE",get:function(){return!this.ME.$g&&this.BE}}]),n}(wu),fA=function(t){function n(n){var i;return(i=t.call(this)||this).ME=n,i.ME.Zs(cA,i.js),i}return S(n,t),n.prototype.xs=function(){this.$s(),this.ME.tu(cA,this.js)},A(n,[{key:"jg",get:function(){return this.ME.jg}},{key:"Zg",get:function(){return this.ME.Zg}},{key:"mu",get:function(){return this.ME.mu}},{key:"$g",get:function(){return this.ME.$g}},{key:"ag",get:function(){return this.ME.ag}}]),n}(wu),vA="titanium",lA="conax",dA="ezdrm",wA="irdeto",_A="vudrm",gA="verimatrix",mA="keyos",yA="drmtoday",kA="expressplay",bA="azure",pA="xstream",AA="vimond",TA="axinom",SA="uplynk",EA="comcast",IA="custom",RA=function(){function t(t,n,i,e,r){this.$c=void 0,this.QE=void 0,this.ZE=void 0,this.KE=void 0,this.pE=void 0,this.JE=void 0,this.$E=void 0,this.$c=t,this.QE=n,this.ZE=i,this.pE=e,this.$E=r,this.KE=this.tI(n)}var e=t.prototype;return e.nI=function(){return this.JE},e.iI=function(t){this.JE=t},e.eI=function(){return this.KE.licenseAcquisitionURL||this.nI()},e.rI=function(t){return We.resolve()},e.sI=function(t,n){return We.resolve(void 0)},e.uI=function(t,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.oI(t,i,e,r)).hd){o.next=3;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Dr.awrap(this.jw.ud(s));case 6:return u=o.sent,o.next=9,Dr.awrap(u.Ml(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),iu(o.t0),o.next=17,Dr.awrap(this.aI(o.t0,s.hd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.oI=function(t,n,i,e){var r=this.cI().jf(),s=this.Pd,u={hd:this.hI(),td:n,$l:r,Hl:t,Pd:s,Rd:jw.POST,Dd:0,Ws:e,fs:Qw.wd,Nd:i};return new $w(u)},e.fI=function(t,n){return We.resolve(t)},e.vI=function(t,n,i,e){return We.resolve(t)},e.cI=function(){return new Tf(this.KE.headers||{})},e.aI=function(t,i,e){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.hI=function(t,n){var e=n,r=this.KE.queryParameters;if(!e){var s=this.eI();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&i_(u,t),r&&i_(u,r),e=u.href}return e},e.lI=function(t,n){return DA(t)},e.dI=function(t){return new y(t)},e.wI=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.lI(t,i));case 2:return e=u.sent,u.next=5,Dr.awrap(this.uI(e,this.$E,n,i));case 5:return r=u.sent,s=this.dI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.xd=function(){},A(t,[{key:"jw",get:function(){return this.pE}},{key:"_I",get:function(){return!1}},{key:"gI",get:function(){var t=this.KE.certificate;if(t)return q(t)?Pu(t):Xo(t)}},{key:"mI",get:function(){return!1}},{key:"Pd",get:function(){return Boolean(this.KE.useCredentials)}}]),t}();function DA(t){return We.resolve(Ho(t).buffer)}var NA,CA,PA=function(t){function n(n,i,e,r){return t.call(this,ss,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.tI=function(t){return t.widevine||{}},i.yI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.gI){i.next=2;break}return i.abrupt("return",this.gI);case 2:return i.abrupt("return",this.kI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.kI=function(n,i){return t.prototype.wI.call(this,n,Zw.kd,i)},n}(RA);function BA(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function OA(t){return F(t.token&&t.deviceId)}function xA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&F(i.PreAuthorization)}function LA(t){var n=t;return OA(n)&&""!==n.token&&""!==n.deviceId&&!xA(n)}(CA=NA||(NA={})).bI=!1,CA.pI=!1,CA.AI=!1,CA.TI=!1,CA.LOG_ADS_DETAILS=!1,CA.LOG_CHROMECAST_DETAILS=!1,CA.LOG_CUSTOM_DRM=!1,CA.LOG_BUFFERING_VIDEO_MAIN=!1,CA.LOG_BUFFERING_VIDEO_SELECTION=!1,CA.LOG_BUFFERING_AUDIO_MAIN=!1,CA.LOG_BUFFERING_AUDIO_SELECTION=!1,CA.SI=!1,CA.EI=!1,CA.LOG_LCEVC_DETAILS=!1;var MA,UA=function(){function t(t,n,i){this.II=t,this.Xc=n,this.RI=i}return t.prototype.DI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.RI.build(t))},A(t,[{key:"NI",get:function(){return this.II}},{key:"$c",get:function(){return this.Xc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(MA||(MA={}));var XA=function(){function t(){this.CI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.BI(t,e,r)){case MA.FAILED:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case MA.OVERRIDDEN:var s=rT(e);i.gr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case MA.SUCCEEDED:rT(e);0}},e.BI=function(t,n,i){var e=rT(n);if(!e)return MA.FAILED;for(var r=MA.SUCCEEDED,s=0,u=this.CI.slice();s<u.length;s++){var o=u[s];o.NI===t&&o.$c===e&&(r=MA.OVERRIDDEN,Us(this.CI,o))}return this.CI.push(new UA(t,e,i)),r},e.OI=function(t,n){return void 0!==this.xI(t,n)},e.LI=function(t,n,i){var e=this.xI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.DI(i)},e.xI=function(t,n){for(var i=0,e=this.CI;i<e.length;i++){var r=e[i];if(r.NI===t&&(!n||r.$c===n))return r}},t}();XA.MI=new XA;var FA=["customdata"],HA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function zA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function VA(t){return t&&void 0!==t.licenseAcquisitionURL}var WA,GA=VA,qA=VA;function YA(t){if(!t)return!0;if(KA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return zA(n)&&zA(i)&&zA(e)&&zA(r)&&zA(s)}function jA(t){var n=LA(t),i=function(t){var n,i=t;return xA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!OA(i)}(t);return(!n||!i)&&(n||i)}function QA(t){return t.integration===wA}function ZA(t){var n=t;if(!n)return!1;if(YA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(KA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!GA(e))return!1;if(r&&!qA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(XA.MI.OI(n.integration))return!0;switch(n.integration){case vA:if(!function(t){return t.integration===vA&&(JA(t)||$A(t))}(t))return!1;break;case _A:if(!tT(t))return!1;break;case gA:if(!function(t){return t.integration===gA}(t))return!1;break;case wA:if(!QA(t))return!1;break;case lA:if(!jA(t))return!1;break;case dA:if(!function(t){return t.integration===dA}(t))return!1;break;case mA:if(!KA(t))return!1;break;case yA:if(!function(t){var n=t;return n.integration===yA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case kA:if(!function(t){return t.integration===kA}(t))return!1;break;case pA:if(!nT(t))return!1;break;case AA:if(!function(t){return t.integration===AA}(t))return!1;break;case TA:if(!iT(t))return!1;break;case bA:if(!function(t){var n=t;return n.integration===bA&&void 0!==n.token}(t))return!1;break;case SA:if(!function(t){return t.integration===SA}(t))return!1;break;case EA:if(!function(t){var n=t;return n&&F(n.releasePid)&&F(n.accountId)&&F(n.token)}(t))return!1;break;case IA:return!0;default:return!1}}return!0}function KA(t){return t.integration===mA}function JA(t){return void 0!==t.authToken}function $A(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function tT(t){var n=t;return n.integration===_A&&void 0!==n.token}function nT(t){var n=t;return n&&n.integration===pA&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function iT(t){var n=t;return n.integration===TA&&void 0!==n.token}function eT(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:HA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},c=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),h=null!=s?s:{};return h.customdata,Nr({},BA(h,FA),{licenseAcquisitionURL:u,headers:c})}function rT(t){switch(t.toLowerCase()){case"widevine":case Kr:return Kr;case"playready":case jr:return jr;case"fairplay":case ns:return ns}}function sT(t,i){switch(t){case Wr:return function(t){for(var n={},i=Kb.HA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.FS]=r.VS}return n}(i);case Gr:case qr:return function(t){var n;return(n={})[ts]=t,n}(i);default:throw new nf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.$r="Widevine",t.Jr="PlayreadyV2",t.UI="PlayreadyV2",t.XI="PlayreadyV3",t.us="Fairplay"}(WA||(WA={}));var uT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function oT(t,n){var e,r,s,u,o=uT[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Lr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Vr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function aT(t,i){if(!t.accountName)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function cT(t,n,i){var e;if(JA(t))e={AuthToken:t.authToken,Payload:n};else{if(!$A(t))throw aT(t,i);e={LatensRegistration:oT(t,i),Payload:n}}return Vu(JSON.stringify(e))}function hT(t,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.jd){a.next=3;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Dr.awrap(s.xl(e));case 7:u=a.sent,o=fT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ud.hd,s.Jl,s.ed,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function fT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var vT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Af.qf)||this).FI=void 0,r}S(e,t),e.HI=function(){return i.Lr.qe?"required":"optional"};var r=e.prototype;return r.aI=function(t,n,i){return hT(t,n,i)},r.rI=function(t){return this.FI?ru(this.FI.Fu,t):(this.FI=new Go,We.resolve())},r.lI=function(t,i){var e,r;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.QE){i.next=3;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Ou(t),i.abrupt("return",cT(e,r,WA.$r));case 5:case"end":return i.stop()}},null,this,null,We)},r.dI=function(t){if(!t.license)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Pu(t.license)},r.zI=function(t){return We.resolve(new y(t))},r.yI=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.VI(),r.next=3,Dr.awrap(this.lI(t,n));case 3:return i=r.sent,r.next=6,Dr.awrap(this.uI(i,Af.Gf,Zw.bd,n));case 6:return e=r.sent,r.next=9,Dr.awrap(this.zI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.kI=function(n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.kI.call(this,n,i));case 2:return e=r.sent,this.VI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.VI=function(){this.FI||(this.FI=new Go),this.FI.Wu()},r.xd=function(){this.FI&&this.FI.Hs(),t.prototype.xd.call(this)},e}(PA),lT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).iI("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.lI=function(t,i){var e,r,s,u;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(DA(t));case 2:if(e=i.sent,r=this.ZE,s=zo(new y(e)),u=this.WI){i.next=8;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},A(i,[{key:"WI",get:function(){if(tT(this.QE))return this.QE.token}}]),i}(PA);function dT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var wT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).iI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.hI=function(n,i){var e=n;return QA(this.QE)&&(e=dT(this.QE,e)),t.prototype.hI.call(this,e,i)},n}(PA),_T="Conax-Custom-Data";function gT(t,n,i){var e=t&&jA(t)&&t;if(e&&!i.has(_T)){var r=LA(e)?e.token:void 0,s=LA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(_T,u)}return i}var mT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).iI("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this);return gT(this.QE,"Widevine",n)},n}(PA);function yT(t){var n=So(new y(t));return Pu(JSON.parse(n).license)}function kT(t){return"string"==typeof t.token?t.token:Vu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function bT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var pT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).iI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.dI=function(t){return yT(t)},i.cI=function(){return bT(t.prototype.cI.call(this),this.WI,this.QE)},A(n,[{key:"WI",get:function(){return kT(this.QE)}}]),n}(PA),AT=function(t){function n(n,i,e){return t.call(this,n,i,e,Af.Gf)||this}return S(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this),i=this.QE.token;return n.set("Authorization","Bearer "+i),n},n}(PA);function TT(t,i,e,r){var s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(nT(t)){v.next=2;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Tf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",c={drmType:i,licenseType:a,streamId:o},h={hd:t.ticketAcquisitionURL,td:Af.qf,$l:s,Rd:jw.POST,Hl:JSON.stringify(c),Ws:r},v.next=13,Dr.awrap(e.ud(h));case 13:return f=v.sent,v.next=16,Dr.awrap(f.xl());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,We)}var ST=function(t){function n(n,i,e){return t.call(this,n,i,e,Af.qf)||this}S(n,t);var i=n.prototype;return i.cI=function(){var n=t.prototype.cI.call(this);return n.set("Content-Type","application/json"),n},i.lI=function(n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=zu(n.buffer),r=this.QE,o.next=4,Dr.awrap(TT(r,"widevine_modular",this.jw,i));case 4:return s=o.sent,this.iI(s.licenseServerUrl),u=Eo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.lI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.dI=function(t){return Pu(t.license)},n}(PA),ET=function(t){function i(n,i,e){return t.call(this,n,i,e,Af.Gf)||this}return S(i,t),i.prototype.cI=function(){if(!iT(this.QE))throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cI.call(this);return i.set("X-AxDRM-Message",this.QE.token),i},i}(PA);function IT(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var RT=function(t){function n(n,i,e){var r;return(r=t.call(this,rs,n,i,e,Af.Gf)||this).GI=void 0,r}S(n,t);var e=n.prototype;return e.tI=function(t){return t.playready||{}},e.cI=function(){var n=new Tf(this.GI);return n.Zf(t.prototype.cI.call(this)),n},e.qI=function(t){return t.length>=1&&t[0].Ii.length>0},e.sI=function(n){var i=this.QE.playready.customData;if(i){var e=IT(i),r=IT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ou(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{Dh:r}})}return t.prototype.sI.call(this,n)},e.lI=function(t,n){var i;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(DA(t));case 2:return i=n.sent,n.abrupt("return",this.YI(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.YI=function(t){var n,e,r,s,u,o,a,c,h,f,v,l,d,w,_,g;return Dr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=po(o,new Vo,!0),m.prev=3,c=i.ui(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(h=null==(n=c.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==h?void 0:h.Ei("Challenge"))?e:[],this.qI(f)&&(u=Hu(f[0].Fi)),v=new Tf,l=null!=(r=null==h?void 0:null==(s=h.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ei("name")[0].Fi,g=w.Ei("value")[0].Fi,v.append(_,g);return this.GI=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],We)},e.yI=function(t,n){return We.resolve(t)},e.kI=function(n,i){return t.prototype.wI.call(this,n,Zw.pd,i)},n}(RA),DT=function(){function t(n){this.wc=void 0,this.jI=n,this.wc=t.QI(n)}return t.QI=function(t){return"3"===t.version?WA.XI:WA.UI},t.prototype.ZI=function(){var t={};if(this.wc===WA.XI){var n={LatensRegistration:oT(this.jI,WA.XI)};t["X-TITANIUM-DRM-CDATA"]=Vu(JSON.stringify(n))}return t},A(t,[{key:"KI",get:function(){return this.wc}},{key:"lh",get:function(){return this.wc===WA.UI}}]),t}();var NT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JI=void 0,r.JI=new DT(r.QE),r}S(e,t);var r=e.prototype;return r.sI=function(t){var i=this.QE;if(!this.QE)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if($A(i)){var e={};return e.playready={Dh:CT(i,this.JI.KI)},We.resolve(e)}return We.reject(aT(i,WA.Jr))},r.cI=function(){var n=new Tf(this.JI.ZI());return n.Zf(t.prototype.cI.call(this)),n},r.aI=function(t,e,r){var s,u,o,a,c,h,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.jd){l.next=3;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Dr.awrap(s.Ul(r));case 6:a=l.sent,c=So(new y(a)),(h=i.ui(c))&&(f=ep(h,"CustomData")).length>0&&(u=JSON.parse(f[0].Fi),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Jl,s.ed,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],We)},r.qI=function(t){if(1!==t.length)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(RT);function CT(t,n){var i=oT(t,n),e=i.DeviceInfo.FormatVersion,r=Vu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Ro(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ro('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ou(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var PT,BT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.qI=function(t){if(1!==t.length)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.hI=function(n,i){var e=Nr({},n||{},{token:this.WI});return t.prototype.hI.call(this,e,i)},A(i,[{key:"WI",get:function(){if(tT(this.QE))return this.QE.token}}]),i}(RT),OT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.hI=function(n,i){var e=n;return QA(this.QE)&&(e=dT(this.QE,e)),t.prototype.hI.call(this,e,i)},n}(RT),xT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this);return gT(this.QE,"PlayReady",n)},n}(RT),LT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.dI=function(n){return(ls(So(new y(n)),"<?xml")?PT.$I:PT.xl)===PT.xl?yT(n):t.prototype.dI.call(this,new y(n))},i.cI=function(){return bT(t.prototype.cI.call(this),this.WI,this.QE)},A(n,[{key:"WI",get:function(){return kT(this.QE)}}]),n}(RT);!function(t){t[t.$I=0]="$I",t[t.xl=1]="xl"}(PT||(PT={}));var MT,UT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tR=void 0,r}S(n,t);var i=n.prototype;return i.cI=function(){var n=t.prototype.cI.call(this);return this.tR&&n.set("Ticket",this.tR),n.set("Content-Type","text/xml"),n},i.lI=function(n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.QE,s.next=3,Dr.awrap(TT(e,"playready",this.jw,i));case 3:return r=s.sent,this.iI(r.licenseServerUrl),this.tR=r.ticket,s.abrupt("return",t.prototype.lI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(RT),XT=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.cI=function(){if(!iT(this.QE))throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cI.call(this);return i.set("X-AxDRM-Message",this.QE.token),i},i}(RT);!function(t){t.qf="application/json",t.nR="application/x-www-form-urlencoded",t.iR="application/octet-stream",t.$n="text/plain;charset=UTF-8"}(MT||(MT={}));var FT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.$c,i,e,r,s)||this).eR="",u.rR=void 0,u.sR=void 0,u.sR=n.uR,u}S(n,t);var i=n.prototype;return i.oR=function(){return this.KE.certificateURL||this.rR},i.aR=function(t){this.rR=t},i.lI=function(t){return We.resolve(this.cR(t,this.eR))},i.cR=function(t,n){return"spc="+encodeURIComponent(Ou(t))+"&assetId="+encodeURIComponent(n)},i.tI=function(t){return t.fairplay||{}},i.hR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("/");return We.resolve(i[i.length-1])},i.sI=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.sR)?n:Co(new y(t)),s.next=3,Dr.awrap(this.hR(i));case 3:return e=s.sent,this.eR=e,(r={}).fairplay={Mh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.cI=function(){var n=t.prototype.cI.call(this);return n.set("Content-Type",this.fR),n},i.yI=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gI){t.next=2;break}return t.abrupt("return",this.gI);case 2:return t.next=4,Dr.awrap(this.vR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.kI=function(n,i){return t.prototype.wI.call(this,n,Zw.md,i)},i.lR=function(t){var n=this.oR(),i=this.cI(),e={hd:n,td:Af.Gf,$l:i,Rd:jw.GET,Pd:!1,Hl:null,Dd:0,Ws:t,fs:Qw.wd,Nd:Zw.yd};return new $w(e)},i.vR=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.lR(t),r.next=3,Dr.awrap(this.jw.ud(n));case 3:return i=r.sent,r.next=6,Dr.awrap(i.Ul());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.dI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Pu(i)}else n=new y(t);return n},i.hI=function(n,i){var e=t.prototype.hI.call(this,n,i);return ls(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"mI",get:function(){return!0}},{key:"fR",get:function(){return MT.nR}}]),n}(RA),HT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(n,t);var i=n.prototype;return i.hR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.lI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.dI=function(t){return new y(t)},i.hI=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.hI.call(this,e,i)},A(n,[{key:"fR",get:function(){return MT.iR}}]),n}(FT),zT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).iI("https://fairplay-license.drm.technology/license"),s.aR("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.cR=function(t,n){var i={token:this.WI,contentId:n,payload:Ou(t)};return JSON.stringify(i)},e.dI=function(t){return new y(t)},e.cI=function(){var n=t.prototype.cI.call(this);return n.set("x-vudrm-token",this.WI),n},A(i,[{key:"fR",get:function(){return MT.qf}},{key:"WI",get:function(){if(!tT(this.QE))throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.QE.token}}]),i}(FT),VT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",WT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",GT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}return S(i,t),i.prototype.dI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,VT)}if(!i)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,WT);return i}(So(new DataView(i)));return t.prototype.dI.call(this,e)},i}(FT);var qT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.qf)||this}S(i,t);var e=i.prototype;return e.lI=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.QE){r.next=3;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Ou(t),r.abrupt("return",cT(i,e,WA.us));case 5:case"end":return r.stop()}},null,this,null,We)},e.dI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Hu(i.license);return new y(r)}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.aI=function(t,n,i){return hT(t,n,i)},A(i,[{key:"fR",get:function(){return MT.qf}}]),i}(FT),YT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).iI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.aR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.oR=function(){var n=t.prototype.oR.call(this);if(!n)return n;var e=i.Br(n),r=this.QE;return QA(r)&&i_(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.hR=function(n){return QA(this.QE)?We.resolve(this.QE.contentId):t.prototype.hR.call(this,n)},e.lI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.dI=function(t){return new y(t)},e.hI=function(n,i){var e=n;return QA(this.QE)&&(e=function(t,n){return Nr({},dT(t,n),{KeyId:t.keyId})}(this.QE,e)),t.prototype.hI.call(this,e,i)},A(n,[{key:"fR",get:function(){return MT.iR}}]),n}(FT),jT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Af.$n)||this,!jA(e))throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.iI("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.cI=function(){var n=t.prototype.cI.call(this);return gT(this.QE,"FairPlay",n)},e.vR=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.oR(),i={hd:n,td:Af.Gf,$l:{},Rd:jw.GET,Pd:!1,Hl:null,Dd:0,Ws:t,fs:Qw.wd,Nd:Zw.yd},s.next=4,Dr.awrap(this.jw.ud(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Ul());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.lI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.hR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(So(Pu(n)))):We.resolve("unknown")},e.dI=function(t){try{var n=JSON.parse(t);return new y(Hu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(FT),QT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.$n)||this).iI(HA[zr.us]),s}S(i,t);var e=i.prototype;return e.hR=function(t){return ls(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new Gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.cR=function(t,n){return"spc="+Ou(t)+"&assetId="+n},i}(FT),ZT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.$n)||this).iI("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.cR=function(t,n){var i="spc="+encodeURIComponent(Ou(t))+"&"+encodeURI(n);return"persistent"===this.KE.licenseType?i+"&offline=true":i},i.cI=function(){return bT(t.prototype.cI.call(this),this.WI,this.QE)},A(n,[{key:"WI",get:function(){return kT(this.QE)}}]),n}(FT),KT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(n,t);var e=n.prototype;return e.hR=function(t){var n=t;return ls(n,"skd:")&&(n="http:"+n.substring(4)),ls(n,"http:")||ls(n,"https:")?We.resolve(i.Br(n).hostname):We.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.lI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.dI=function(t){return new y(t)},A(n,[{key:"fR",get:function(){return MT.iR}}]),n}(FT),JT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.$n)||this}return S(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this),i=this.QE.token;return n.set("Authorization","Bearer "+i),n},n}(FT),$T=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Af.qf)||this,!nT(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.vR=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.oR(),i=this.cI(),e={hd:n,td:Af.qf,$l:i,Rd:jw.POST,Ws:t,fs:Qw.wd,Nd:Zw.yd},u.next=5,Dr.awrap(this.jw.ud(e));case 5:return r=u.sent,u.next=8,Dr.awrap(r.xl());case 8:return s=u.sent,u.abrupt("return",new y(Pu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.kI=function(t,n,i){var e,r,s,u,o,a,c;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Ou(t),r=this.QE,i.next=5,Dr.awrap(TT(r,"fairplay",this.jw,n));case 5:return s=i.sent,u=Eo(JSON.stringify({spc:e,ticket:s.ticket})),o={hd:this.eI(),td:Af.qf,$l:this.cI(),Rd:jw.POST,Hl:u,Dd:0,Ws:n,fs:Qw.wd,Nd:Zw.md},i.next=10,Dr.awrap(this.jw.ud(o));case 10:return a=i.sent,i.next=13,Dr.awrap(a.xl());case 13:return c=i.sent,i.abrupt("return",Pu(c.licence));case 15:case"end":return i.stop()}},null,this,null,We)},A(n,[{key:"fR",get:function(){return MT.qf}}]),n}(FT),tS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.$n)||this}S(i,t);var e=i.prototype;return e.cR=function(t,n){return Ou(t)},e.dI=function(i){if(0===i.length)throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.dI.call(this,i)},e.cI=function(){var n=t.prototype.cI.call(this);return n.set("Content-Type","text/plain"),n},i}(FT),nS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(i,t);var e=i.prototype;return e.cR=function(t,n){return t},e.dI=function(t){return new y(t)},e.cI=function(){if(!iT(this.QE))throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cI.call(this);return i.set("X-AxDRM-Message",this.QE.token),i},A(i,[{key:"fR",get:function(){return MT.qf}}]),i}(FT),iS=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.qf)||this).dR=void 0,s}S(e,t);var r=e.prototype;return r.cR=function(t,n){var i={spc:Ou(t)};return JSON.stringify(i)},r.hR=function(t){var e=i.Br(t);return this.dR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new Gy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.hI=function(n,i){var e=this.eI();return!e&&this.dR&&(e=this.dR),e&&(e=e.replace("skd://","https://")),t.prototype.hI.call(this,n,i||e)},r.dI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Pu(i.ckc)}catch(t){throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"fR",get:function(){return MT.$n}}]),e}(FT),eS=function(){function t(t,n){this.wR=t,this._R=n}var n=t.prototype;return n.gR=function(t){return this.wR(t)},n.mR=function(t,n){throw new l(n+" must be "+this._R+". (Received: "+t+")")},t}();new eS(function(t){return!0},"any");var rS=new eS(Z,"a number"),sS=new eS(q,"a string"),uS=new eS(Y,"a boolean");new eS(Q,"a date"),new eS(H,"undefined"),new eS(W,"an object"),new eS(function(t){return null===t},"null"),new eS(function(t){return null==t},"null or undefined");var oS,aS=(oS={responseCode:rS,isException:uS,description:sS,title:sS,correlationId:sS},{gR:function(t){if(!W(t))return!1;for(var n=0,i=d.keys(oS);n<i.length;n++){var e=i[n];if(!oS[e].gR(t[e]))return!1}return!0},mR:function(t,n){if(!W(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(oS);i<e.length;i++){var r=e[i],s=oS[r];if(!s.gR(t[r]))return s.mR(t[r],n+"."+String(r))}throw new l}});function cS(t,n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=hS(t,n,i,r),u.next=3,Dr.awrap(fS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function hS(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return i_(e,n),e.toString()}(e,s)),o=new Tf({});o.append("Content-Type","application/json");var a=Ou(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{hd:u,td:Af.$n,$l:o,Rd:jw.POST,Hl:JSON.stringify(c),Ws:r,fs:Qw.wd,Nd:Zw.md}}function fS(t,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(i.ud(t));case 2:return e=s.sent,s.next=5,Dr.awrap(e.xl());case 5:if(r=s.sent,!aS.gR(r)){s.next=8;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.hd,r.responseCode);case 8:return s.abrupt("return",Pu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var vS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).yR=void 0,s.yR=i,s}S(n,t);var i=n.prototype;return i.hR=function(n){var i=n.replace("FairPlay",this.yR.releasePid);return t.prototype.hR.call(this,i)},i.kI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(cS(t,this.yR,this.eI(),this.jw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(FT),lS=function(t){function i(n,i,e){return t.call(this,as,n,i,e,Af.Gf)||this}S(i,t);var e=i.prototype;return e.tI=function(t){return t.clearkey||{}},e.uI=function(i,e,r,s){var u,o;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.KE,!this.eI()){e.next=5;break}return e.abrupt("return",t.prototype.uI.call(this,i,this.$E,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Eo(JSON.stringify(o)).buffer);case 10:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e.yI=function(t,n){return We.resolve(new y(0))},e.kI=function(n,i){return t.prototype.wI.call(this,n,Zw.Ad,i)},i}(RA),dS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(PA),wS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function _S(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=SS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,Dr.awrap(ru(We.resolve(r.call(t,e)),i));case 8:if(!Uo(s=u.sent)){u.next=11;break}return u.abrupt("return",Xo(s));case 11:return u.abrupt("return",TS(Nr({},wS,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function gS(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=AS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(ru(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Xo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function mS(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(kS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",TS(r));case 6:case"end":return s.stop()}},null,null,null,We)}function yS(t,n,i,e,r,s){var u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=pS(i,r),a.next=3,Dr.awrap(bS(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Xo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function kS(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=pS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,Dr.awrap(ru(We.resolve(r.call(t,s)),e));case 8:if(!Uo(u=o.sent)){o.next=11;break}return o.abrupt("return",Xo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},wS,u));case 12:case"end":return o.stop()}},null,null,null,We)}function bS(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=AS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(ru(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Xo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function pS(t,n){return Nr({},SS(t),{fairplaySkdUrl:n})}function AS(t,n,i){return{url:i.od,status:i.Jl,statusText:i.ed,headers:i.$l.jf(),body:t,request:n}}function TS(t){return new $w({hd:t.url,Rd:t.method,$l:t.headers,Hl:t.body,Pd:t.useCredentials})}function SS(t){var n;return{url:t.hd,body:null!=(n=ES(t.Hl))?n:null,headers:t.$l.jf(),method:t.Rd,useCredentials:t.Pd}}function ES(t){if(t)return"string"==typeof t?Po(t):t instanceof ArrayBuffer?new y(t):Lu(t)?Mo(t):void 0}var IS,RS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).kR=void 0,s.kR=r,s}S(i,t);var e=i.prototype;return e.yI=function(t,n){return We.resolve(t)},e.kI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.YI(Ho(t).buffer));case 2:return e=a.sent,r=this.oI(e,Af.Gf,Zw.pd,i),a.next=6,Dr.awrap(mS(this.kR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.hd){a.next=12;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Dr.awrap(this.jw.ud(s));case 15:return u=a.sent,a.next=18,Dr.awrap(u.Ul(i));case 18:return o=a.sent,a.t0=y,a.next=22,Dr.awrap(yS(this.kR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),iu(a.t2),new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(RT),DS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Af.Gf)||this).kR=void 0,s.kR=r,s}S(i,t);var e=i.prototype;return e.yI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.gI){a.next=2;break}return a.abrupt("return",this.gI);case 2:return e=this.oI(t,Af.Gf,Zw.bd,i),a.next=5,Dr.awrap(_S(this.kR,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.hd){a.next=11;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Dr.awrap(this.jw.ud(r));case 14:return s=a.sent,a.next=17,Dr.awrap(s.Ul(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),iu(a.t0),new Gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=pS(e,void 0),a.next=27,Dr.awrap(gS(this.kR,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.kI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.oI(t,Af.Gf,Zw.kd,i),o.next=3,Dr.awrap(mS(this.kR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.hd){o.next=9;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.jw.ud(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Ul(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),iu(o.t0),new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Dr.awrap(yS(this.kR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(dS),NS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Af.Gf)||this).kR=void 0,u.bR=void 0,u.kR=s,u}S(i,t);var e=i.prototype;return e.yI=function(t,i){var e,r,s,u,o;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gI){t.next=2;break}return t.abrupt("return",this.gI);case 2:return e=this.lR(i),t.next=5,Dr.awrap(_S(this.kR,e,i));case 5:if(r=t.sent,!Lu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Dr.awrap(this.jw.ud(r));case 11:return s=t.sent,t.next=14,Dr.awrap(s.Ul());case 14:return u=t.sent,o=pS(e,void 0),t.next=18,Dr.awrap(gS(this.kR,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),iu(t.t0),new Gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.kI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.oI(t,Af.Gf,Zw.md,i),o.next=3,Dr.awrap(mS(this.kR,e,this.bR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.hd){o.next=9;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.jw.ud(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Ul(i));case 15:return u=o.sent,o.t0=y,o.next=19,Dr.awrap(yS(this.kR,u,e,s,this.bR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),iu(o.t2),new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.hR=function(n){var i;return this.bR=n,null!=(i=this.kR)&&i.extractFairplayContentId?We.resolve(this.kR.extractFairplayContentId(n)):t.prototype.hR.call(this,n)},i}(FT),CS=function(){function t(){}var n=t.prototype;return n.pR=function(t,n,i,e){switch(t.$c.fs){case zr.$r:return this.AR(n,i,e);case zr.Jr:return this.SR(n,i,e);case zr.us:return this.ER(t,n,i,e);case zr.rs:default:return this.IR(n,i,e)}},n.AR=function(t,n,i){var e,r=(e=t).integration===IA&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&XA.MI.OI(r,Kr)){var s=XA.MI.LI(r,Kr,t);return new DS(t,n,i,s)}switch(r){case vA:return new vT(t,n,i);case _A:return new lT(t,n,i);case wA:return new wT(t,n,i);case lA:return new mT(t,n,i);case yA:return new pT(t,n,i);case bA:return new AT(t,n,i);case pA:return new ST(t,n,i);case TA:return new ET(t,n,i);case mA:default:return new dS(t,n,i,Af.Gf)}},n.SR=function(t,n,i){var e=t.integration;if(e&&XA.MI.OI(e,jr)){var r=XA.MI.LI(e,jr,t);return new RS(t,n,i,r)}switch(e){case vA:return new NT(t,n,i);case _A:return new BT(t,n,i);case wA:return new OT(t,n,i);case lA:return new xT(t,n,i);case yA:return new LT(t,n,i);case pA:return new UT(t,n,i);case TA:return new XT(t,n,i);case mA:default:return new RT(t,n,i)}},n.ER=function(t,n,i,e){var r=n.integration;if(r&&XA.MI.OI(r,ns)){var s=XA.MI.LI(r,ns,n);return new NS(t,n,i,e,s)}switch(r){case dA:return new HT(t,n,i,e);case _A:return new zT(t,n,i,e);case gA:return new GT(t,n,i,e);case vA:return new qT(t,n,i,e);case wA:return new YT(t,n,i,e);case lA:return new jT(t,n,i,e);case mA:return new QT(t,n,i,e);case yA:return new ZT(t,n,i,e);case kA:return new KT(t,n,i,e);case bA:return new JT(t,n,i,e);case pA:return new $T(t,n,i,e);case AA:return new tS(t,n,i,e);case TA:return new nS(t,n,i,e);case SA:return new iS(t,n,i,e);case EA:return new vS(t,n,i,e);default:return new FT(t,n,i,e,Af.$n)}},n.IR=function(t,n,i){return new lS(t,n,i)},n.RR=function(t){return t.fs===zr.Jr||t.fs===zr.$r||t.fs===zr.us||t.fs===zr.rs},n.lh=function(t,n){var i;if(t.fs!==zr.Jr)return!1;if(F(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!XA.MI.OI(e,ns))&&(e===vA&&new DT(n).lh)},n.HI=function(t,n){if(t.fs===zr.$r){var i=n.integration;if(!i||!XA.MI.OI(i,ns))return i===vA?vT.HI():void 0}},t}();!function(t){t[t.DR=0]="DR",t[t.NR=1]="NR",t[t.PR=2]="PR",t[t.OR=3]="OR",t[t.xR=4]="xR",t[t.Ng=5]="Ng",t[t.LR=6]="LR",t[t.MR=7]="MR",t[t.Lg=8]="Lg",t[t.UR=9]="UR",t[t.XR=10]="XR"}(IS||(IS={}));var PS=function(){function t(){}return t.prototype.FR=function(t){},A(t,[{key:"HR",get:function(){return 0}},{key:"zR",get:function(){return 0}}]),t}(),BS=function(){function t(t,n){void 0===n&&(n=new CS),this.pE=void 0,this.WR=void 0,this.jI=void 0,this.pE=t,this.WR=n}var n=t.prototype;return n.GR=function(t){this.jI=t},n.HI=function(t){var n=this.jI;if(void 0!==n)return this.WR.HI(t,n)},n.lh=function(t){var n=this.jI;return void 0!==n&&this.WR.lh(t,n)},n.qR=function(t){var n={$c:t.$c,YR:t.YR||[],uR:t.uR},i=this.WR.pR(n,this.jI||{},t.ZE,this.pE);return new OS(i)},t}(),OS=function(){function t(t){this.jR=void 0,this.jR=t}var n=t.prototype;return n.rI=function(t){return this.jR.rI(t)},n.sI=function(t,n,i){return this.jR.sI(n,i)},n.mI=function(){return this.jR.mI||void 0!==this.jR.gI},n.yI=function(t,n){return this.jR.yI(t,n)},n.kI=function(t,n,i){return n&&this.jR.iI(n),this.jR.kI(t,i)},n.xs=function(){this.jR.xd()},t}(),xS=function(t){function n(n){var i;(i=t.call(this)||this).QR=[],i.ZR=function(t){i.E_(t.i_)},i.KR=function(t){var n=t.i_;i.JR(n)||i.I_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.$R(r)}return i}S(n,t);var i=n.prototype;return i.$R=function(t){this.QR.push(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.E_(e)}this.tD(t)},i.nD=function(t){Us(this.QR,t),this.iD(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.JR(e)||this.I_(e)}},i.JR=function(t){for(var n=0,i=this.QR;n<i.length;n++){if(i[n].R_(t))return!0}return!1},i.tD=function(t){t.Zs(Hg.Qw,this.ZR),t.Zs(Hg.Kw,this.KR)},i.iD=function(t){t.tu(Hg.Qw,this.ZR),t.tu(Hg.Kw,this.KR)},i.xd=function(){for(;this.QR.length>0;)this.nD(this.QR[0]);t.prototype.xd.call(this)},i.n_=function(){return Rm(this)},n}(Jg);function LS(t){return{get enabled(){return t.F_},set enabled(n){t.F_=cm(n)},get currentLatency(){return t.ym},get streamConfiguration(){if(void 0!==t.eD)return function(t){return{get minimumOffset(){return t.hm},get maximumOffset(){return t.vm},get targetOffset(){return t.fm},get forceSeekOffset(){return t.lm},get minimumPlaybackRate(){return t.dm},get maximumPlaybackRate(){return t.wm}}}(t.eD)},get configuration(){return function(t){return{get minimumOffset(){return t.hm},set minimumOffset(n){t.hm=hm(n)},get maximumOffset(){return t.vm},set maximumOffset(n){t.vm=hm(n)},get targetOffset(){return t.fm},set targetOffset(n){t.fm=hm(n)},get forceSeekOffset(){return t.lm},set forceSeekOffset(n){t.lm=hm(n)},get minimumPlaybackRate(){return t.dm},set minimumPlaybackRate(n){t.dm=hm(n)},get maximumPlaybackRate(){return t.wm},set maximumPlaybackRate(n){t.wm=hm(n)},update:function(n){t.qc(function(t){var n={};void 0!==t.minimumOffset&&(n.hm=hm(t.minimumOffset));void 0!==t.maximumOffset&&(n.vm=hm(t.maximumOffset));void 0!==t.targetOffset&&(n.fm=hm(t.targetOffset));void 0!==t.forceSeekOffset&&(n.lm=hm(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.dm=hm(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.wm=hm(t.maximumPlaybackRate));return n}(n))}}}(t.nh)}}}var MS,US=function(){function t(){this.$w=void 0,this.rD=void 0,this.rD={lm:0,vm:0,wm:0,hm:0,dm:0,fm:0,qc:K}}return A(t,[{key:"t_",get:function(){return null!=this.$w||(this.$w=LS(this)),this.$w}},{key:"F_",get:function(){return!1},set:function(t){}},{key:"ym",get:function(){}},{key:"eD",get:function(){}},{key:"nh",get:function(){return this.rD}}]),t}();function XS(){return MS||(MS=le&&le.document&&le.document.createElement("video")),MS}var FS=function(t){function i(i,e,r,s,u,o,a){var c;return void 0===o&&(o=new CS),void 0===a&&(a=_f()),(c=t.call(this)||this).sD=void 0,c.uD=void 0,c.oD=void 0,c.Nm=void 0,c.Cm=void 0,c.Pm=void 0,c.aD=void 0,c.cD=void 0,c.hD=void 0,c.fD=void 0,c.vD=void 0,c.pE=void 0,c.ys=void 0,c.lD=void 0,c.dD=void 0,c.wD=new PS,c._D=new US,c.gD=function(t){var i=t.mu,e=i.code,r=new nf(function(t){switch(t){case zy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case zy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case zy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case zy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case zy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case zy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case zy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new qy(e,r.message,i.message);c.mD(r,s)},c.yD=function(){c.Qs(new dy(c.jg,c._y))},c.kD=function(t){c.$g||(c.dD=void 0),c.Qs(t)},c.bD=function(t){c.dD=void 0,c.Qs(t)},c.pD=function(){c.Qs(new dk(c.yy))},c.TD=function(){c.um>0&&c.im>0&&c.Qs(new Kp)},c.SD=function(t){c.Nm.E_(new ak(t.track))},c.ED=function(t){var n=zS(c.Nm,t.track);n&&c.Nm.I_(n)},c.RD=function(){c.DD(c.Nm)},c.ND=function(t){c.Cm.E_(new lk(t.track))},c.CD=function(t){var n=zS(c.Cm,t.track);n&&c.Cm.I_(n)},c.PD=function(){c.DD(c.Cm)},c.BD=function(t){c.Qs(t),c.mD(t.errorObject,jy(t.errorObject))},c.sD=e,c.pE=r,c.ys=a,c.uD=c.sD.OD(Qy.Ed),c.hD=c.uD.xD.preload,c.fD=new hA(c.uD,!0),c.fD.Zs(hy,c.js),c.lD=new BS(r,o),c.uD.LD=c.lD,c.MD(),c.Nm=new Zy,c.Cm=new Zy,c.UD(),c.vD=new Wp(c.uD,c.pE),c.Pm=new xS([c.uD.Um]),c.Km(),c}S(i,t);var e=i.prototype;return e.Jm=function(){this.uD.Jm()},e.Km=function(){this.uD.Km()},e.Wm=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return nu(i),e={fs:Zp.NE,fg:t.src,Fl:t.type,XD:this.FD(t),Dy:this.hD,HD:t.crossOrigin,zD:n.metadata&&n.metadata.title},this.lD.GR(t.contentProtection),r.next=5,Dr.awrap(this.uD.Wc(e));case 5:this.oD=r.sent,nu(i),n.textTracks&&this.VD(n.textTracks),Qp(this.Um);case 9:case"end":return r.stop()}},null,this,null,We)},e.VD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.uD.WD()&&M.cn&&sA&&!xp(i.kind,i.label)&&this.GD(i)){var e,r=null!=(e=i.kind)?e:pp.rA;this.uD.qD(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.vD.TE(i)}}},e.GD=function(t){return!t.format||"webvtt"===t.format},e.Fm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.uD.Fm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.YD){t.next=12;break}return t.next=10,Dr.awrap(this.uD.au(pf.Rf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},e.Hm=function(){this.uD.Hm()},e.Gm=function(){return void 0!==this.uD.xD.webkitShowPlaybackTargetPicker},e.qm=function(){this.uD.xD.webkitShowPlaybackTargetPicker&&this.uD.xD.webkitShowPlaybackTargetPicker()},e.Ym=function(){this.uD.xD.webkitShowPlaybackTargetPicker&&this.uD.xD.webkitShowPlaybackTargetPicker()},e.$m=function(){return this.uD.xD},e.iy=function(){return this.uD.jD},e.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aD=void 0,this.cD=void 0,this.oD=void 0,t.next=5,Dr.awrap(this.vD.D_());case 5:return this.uD.QD(),t.next=8,Dr.awrap(this.uD.D_());case 8:this.fD.D_(),this.Dy=this.hD,this.Lm.D_(),this.Mm.D_(),this.dD=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},e.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.D_());case 2:return this.$s(),this.ZD(),this.KD(),this.fD.xd(),this.uD.LD=void 0,t.next=9,Dr.awrap(this.sD.JD(this.uD));case 9:return this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),t.next=14,Dr.awrap(this.vD.xd());case 14:case"end":return t.stop()}},null,this,null,We)},e.MD=function(){this.uD.Zs(pf.If,this.js),this.uD.Zs(pf.Ef,this.js),this.uD.Zs(pf.Ff,this.yD),this.uD.Zs(pf.Rf,this.js),this.uD.Zs(pf.bf,this.js),this.uD.Zs(pf.Bf,this.js),this.uD.Zs(pf.Pf,this.kD),this.uD.Zs(pf.mf,this.js),this.uD.Zs(pf.Df,this.js),this.uD.Zs(pf.Hf,this.js),this.uD.Zs(pf._f,this.js),this.uD.Zs(pf.Cf,this.TD),this.uD.Zs(ry.Yg,this.bD),this.uD.Zs(pm.K_,this.gD),this.uD.Zs(pf.lf,this.js),this.uD.Zs(pf.vf,this.BD),this.uD.xD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.pD)},e.ZD=function(){this.uD.tu(pf.If,this.js),this.uD.tu(pf.Ef,this.js),this.uD.tu(pf.Ff,this.yD),this.uD.tu(pf.Rf,this.js),this.uD.tu(pf.bf,this.js),this.uD.tu(pf.Bf,this.js),this.uD.tu(pf.Pf,this.kD),this.uD.tu(pf.mf,this.js),this.uD.tu(pf.Df,this.js),this.uD.tu(pf.Hf,this.js),this.uD.tu(pf._f,this.js),this.uD.tu(pf.Cf,this.TD),this.uD.tu(ry.Yg,this.bD),this.uD.tu(pm.K_,this.gD),this.uD.tu(pf.lf,this.js),this.uD.tu(pf.vf,this.BD),this.uD.xD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.pD)},e.FD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{$c:us,$D:[{initDataTypes:[us.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.UD=function(){var t=this.uD.xD.audioTracks,n=this.uD.xD.videoTracks;t&&(t.addEventListener("addtrack",this.SD),t.addEventListener("removetrack",this.ED),t.addEventListener("change",this.RD)),n&&(n.addEventListener("addtrack",this.ND),n.addEventListener("removetrack",this.CD),n.addEventListener("change",this.PD))},e.KD=function(){var t=this.uD.xD.audioTracks,n=this.uD.xD.videoTracks;t&&(t.removeEventListener("addtrack",this.SD),t.removeEventListener("removetrack",this.ED),t.removeEventListener("change",this.RD)),n&&(n.removeEventListener("addtrack",this.ND),n.removeEventListener("removetrack",this.CD),n.removeEventListener("change",this.PD))},e.DD=function(t){for(var n=0;n<t.C_;n++){t.S_(n).Fy()}},e.ly=function(){this.uD.ly()},e.mD=function(t,n){this.aD||(this.aD=n,this.cD=t,this.Qs(new Ay(t)))},A(i,[{key:"YD",get:function(){var t=this.uD.wy,n=this.jg;return t.tN(n,.01)}},{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.uD.wy.nN()}},{key:"_y",get:function(){return this.uD._y},set:function(t){t&&this.uD.iN(t)}},{key:"jg",get:function(){return void 0!==this.dD?this.dD:this.uD.jg},set:function(t){this.yy&&(this.dD=t),this.uD.xu(t)}},{key:"Qg",get:function(){return this.uD.Qg}},{key:"Zg",get:function(){return this.uD.Zg}},{key:"mu",get:function(){return this.aD}},{key:"Kg",get:function(){return this.cD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return this.uD.yy}},{key:"Tm",get:function(){return Nr({},{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.uD.eN())}},{key:"Jg",get:function(){return this.uD.Jg},set:function(t){this.uD.Jg=t}},{key:"Iy",get:function(){return!0}},{key:"$g",get:function(){return this.uD.$g}},{key:"tm",get:function(){return this.uD.tm},set:function(t){this.uD.tm=t}},{key:"Ry",get:function(){return this.uD.xD.played}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD=t,this.oD&&(this.oD.Dy=t)}},{key:"ag",get:function(){return this.uD.ag}},{key:"Ny",get:function(){return this.uD.Ny.nN()}},{key:"nm",get:function(){return this.uD.nm}},{key:"rN",get:function(){return this.uD.rN}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"im",get:function(){return this.uD.im}},{key:"um",get:function(){return this.uD.um}},{key:"cm",get:function(){return this.uD.cm},set:function(t){this.uD.cm=t}},{key:"Cy",get:function(){return this._D}},{key:"Py",get:function(){return this.uD.Py},set:function(t){this.uD.Py=t}},{key:"sN",get:function(){return this.wD}}]),i}(Cm);var HS=function(){function t(){this.uN=IS.XR}var n=t.prototype;return n.DI=function(t,n,i,e,r,s){return new FS(t,n,i,e,r)},n.oN=function(t,n){return function(t){return!t.type||!(!XS().canPlayType||!XS().canPlayType(t.type))}(t)},n.aN=function(){return!1},t}();function zS(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.Vy===n)return r}}var VS=function(){function t(){this.cN=new HS,this.hN=[]}t.fN=function(){return this.Yn};var n=t.prototype;return n.vN=function(t){this.hN.push(t)},n.DI=function(t,n,i,e,r,s){for(var u=this.cN.DI(t,n,i,e,r,s),o=0,a=this.hN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.oN=function(t,n){return this.cN.oN(t,n)},n.aN=function(){return!1},A(t,[{key:"uN",get:function(){return this.cN.uN}}]),t}();function WS(t,n){return Cs(t.uN,n.uN)}function GS(t){qS.Yn.lN(t)}VS.Yn=new VS;var qS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dN=VS.fN(),n}S(n,t);var i=n.prototype;return i.wN=function(t){this.dN=t},i._N=function(){return this.dN},i.gN=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Dr.awrap(this.mN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{yN:e,kN:r});case 8:i++,a.next=1;break;case 11:s=this.dN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.oN(o,n)){a.next=17;break}return a.abrupt("return",{yN:o,kN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{yN:t[0],kN:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this.bN=[]}var n=t.prototype;return n.lN=function(t){this.bN.push(t),this.bN.sort(WS)},n.mN=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.bN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.oN(t,n))){u.next=10;break}return u.next=7,Dr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());qS.Yn=new qS;var YS,jS=function(){function t(t){this.pN=void 0,this.pN=le&&le.document&&le.document.createElement("div"),er(this.pN),t.appendChild(this.pN)}return t.prototype.xd=function(){$e(this.pN)},t}();function QS(t){switch(t){case YS.AN:case"":return YS.AN;case YS.uA:return YS.uA;case YS.TN:default:return YS.TN}}!function(t){t.XR="",t.TN="none",t.uA="metadata",t.AN="auto"}(YS||(YS={}));var ZS=[pm.K_,pf.gf,pf.yu,pf.Wf,pf.sf,pf.yf,pf.Tf,pf.Sf,pf.xf,pf.Mf,ry.zg,ry.Vg,ry.Wg,ry.Gg,ry.w_,ry.qg,ry.Yg,pf.vf,pf.lf,pf._f,pf.mf,pf.bf,pf.pf,pf.If,pf.Rf,pf.Ef,pf.Df,pf.Cf,pf.Bf,pf.Pf,pf.Ff,pf.Hf,pf.Nf,pf.Af,pf.Of],KS=function(t){function n(n,i){var e;return(e=t.call(this)||this).SN=void 0,e.EN=void 0,e.IN=void 0,e.RN=void 0,e.hD=YS.TN,e.DN=void 0,e.NN=!0,e.Nm=new Am,e.Cm=new Am,e.Pm=new Nm,e.Bm=new Vy,e.SN=n,e.IN=i,e.IN.Dy=e.Dy,e.CN(),e}S(n,t);var i=n.prototype;return i.Hm=function(){this.IN.Hm()},i.Fm=function(){var t=this.IN.Fm();j(t)&&cu(t)},i.zm=function(){return this.Wm(void 0)},i.jm=function(){},i.sy=function(t){return!1},i.CN=function(){this.Nm.M_=this.IN.Lm,this.Cm.M_=this.IN.Mm,this.Pm.M_=this.IN.Um,this.Bm.M_=this.IN.Xm,this.IN.Zs(ZS,this.js)},i.PN=function(){this.IN.tu(ZS,this.js),this.Nm.M_=void 0,this.Cm.M_=void 0,this.Pm.M_=void 0,this.Bm.M_=void 0},i.Vm=function(){return this.DN},i.Wm=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(nu(n),this.DN=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!Jm(i=t.sources.filter(ey))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Dr.awrap(this.SN.gN(i,t));case 9:if(e=a.sent,nu(n),r=e.yN,s=e.kN,u=this.iy(),o=Ey(this),this.EN===s&&!this.mu){a.next=25;break}return this.PN(),a.next=19,Dr.awrap(this.IN.xd());case 19:nu(n),this.EN=s,this.IN=this.BN(s),JS(this.IN,o),Iy(this,o,this),this.CN();case 25:return this.IN.Dy=this.Dy,this.NN?this.IN.Km():this.IN.Jm(),a.next=29,Dr.awrap(this.IN.Wm(r,t,n));case 29:nu(n),this.ON(r),this.iy()!==u&&this.Qs(new Bm);case 32:case"end":return a.stop()}},null,this,null,We)},i.ON=function(t){this.RN!==t&&(this.RN=t,this.Qs(new Om(t)))},i.Gm=function(){return this.IN.Gm()},i.qm=function(){this.IN.qm()},i.Ym=function(){this.IN.Ym()},i.iy=function(){return this.IN.iy()},i.ly=function(){this.IN.ly()},i.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DN=void 0,this.ON(void 0),t.next=4,Dr.awrap(this.IN.D_());case 4:case"end":return t.stop()}},null,this,null,We)},i.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.D_());case 3:return t.next=5,Dr.awrap(this.IN.xd());case 5:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.Bm.xd();case 9:case"end":return t.stop()}},null,this,null,We)},i.Km=function(){this.NN=!0,this.IN.Km()},i.Jm=function(){this.NN=!1,this.IN.Jm()},A(n,[{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.IN.wy}},{key:"mu",get:function(){return this.IN.mu}},{key:"Kg",get:function(){return this.IN.Kg}},{key:"_y",get:function(){return this.IN._y},set:function(t){this.IN._y=t}},{key:"vy",get:function(){return this.RN}},{key:"jg",get:function(){return this.IN.jg},set:function(t){this.IN.jg=t}},{key:"Qg",get:function(){return this.IN.Qg}},{key:"Zg",get:function(){return this.IN.Zg}},{key:"Xm",get:function(){return this.Bm}},{key:"yy",get:function(){return this.IN.yy}},{key:"Tm",get:function(){return this.IN.Tm}},{key:"Jg",get:function(){return this.IN.Jg},set:function(t){this.IN.Jg=t}},{key:"Iy",get:function(){return this.IN.Iy}},{key:"$g",get:function(){return this.IN.$g}},{key:"tm",get:function(){return this.IN.tm},set:function(t){this.IN.tm=t}},{key:"Ry",get:function(){return this.IN.Ry}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD=t,this.IN&&(this.IN.Dy=this.hD)}},{key:"ag",get:function(){return this.IN.ag}},{key:"Ny",get:function(){return this.IN.Ny}},{key:"nm",get:function(){return this.IN.nm}},{key:"Um",get:function(){return this.Pm}},{key:"im",get:function(){return this.IN.im}},{key:"Mm",get:function(){return this.Cm}},{key:"um",get:function(){return this.IN.um}},{key:"cm",get:function(){return this.IN.cm},set:function(t){this.IN.cm=t}},{key:"Cy",get:function(){return this.IN.Cy}},{key:"sN",get:function(){return this.IN.sN}}]),n}(wu);function JS(t,n){t.Jg!==n.Jg&&(t.Jg=n.Jg),t.cm!==n.cm&&(t.cm=n.cm),t.tm!==n.tm&&(t.tm=n.tm)}var $S,tE=function(t){function n(n,i){var e;return(e=t.call(this)||this).C_=void 0,e.xN=void 0,e.LN=void 0,e.C_=n.length>>1,e.xN=n,e.LN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.C_),e}S(n,t);var i=n.prototype;return i.MN=function(t){return this.xN[2*t]},i.UN=function(t){return this.LN[2*t]},i.XN=function(t){return this.xN[2*t+1]},i.FN=function(t){return this.LN[2*t+1]},A(n,[{key:"HN",get:function(){return this.xN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Tk=function(t,n){return 0===this.Mk(t,n)},n.gb=function(t,n){return this.Mk(t,n)>0},n.mb=function(t,n){return this.Mk(t,n)>=0},n.zk=function(t,n){return this.Mk(t,n)<0},n.Fk=function(t,n){return this.Mk(t,n)<=0},n.Mb=function(t,n){return this.zk(t,n)?t:n},n.Lb=function(t,n){return this.gb(t,n)?t:n},n.zN=function(t,n,i){return i?this.Fk(t,n):this.zk(t,n)},n.nN=function(){var t=this;return{get length(){return t.C_},start:function(n){var i=0|n;return t.VN(i),t.WN(t.MN(i))},end:function(n){var i=0|n;return t.VN(i),t.WN(t.XN(i))}}},n.GN=function(){for(var t=new Array(2*this.C_),n=new Array(2*this.C_),i=0;i<this.C_;i++)t[2*i]=this.MN(i),t[2*i+1]=this.XN(i),n[2*i]=!0,n[2*i+1]=!0;return this.qN(t,n)},n.VN=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.C_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.C_+")")},n.YN=function(t){if(0===this.C_)return this.jN();if(this.tN(t))return t;if(this.Fk(t,this.MN(0)))return this.MN(0);if(this.mb(t,this.XN(this.C_-1)))return this.XN(this.C_-1);for(var n,i=this.QN(),e=0;e<this.C_;e++){var r=this.MN(e),s=this.Hk(r,t);this.zk(s,i)&&(n=r,i=s);var u=this.XN(e),o=this.Hk(this.XN(e),t);this.zk(o,i)&&(n=u,i=o)}return n},n.ZN=function(t){for(var n=0,i=0,e=[],r=[];n<this.C_&&i<t.C_;){var s=this.MN(n),u=this.XN(n),o=this.UN(n),a=this.FN(n),c=t.MN(i),h=t.XN(i),f=t.UN(i),v=t.FN(i),l=this.Lb(s,c),d=this.Mb(u,h),w=void 0;w=this.Tk(s,c)?o&&f:this.Tk(l,s)?o:f;var _=void 0;_=this.Tk(u,h)?a&&v:this.Tk(d,u)?a:v,(this.zk(l,d)||w&&_&&this.Tk(l,d))&&(e.push(l,d),r.push(w,_));var g=this.Mk(this.XN(n),t.XN(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.qN(e,r)},n.KN=function(){var t=this.JN(),n=t.C_;if(0===n)return this.qN([t.$N(),t.QN()],[!1,!1]);var i=[],e=[],r=t.MN(0);t.Tk(r,t.$N())||(i.push(t.$N(),r),e.push(!1,!t.UN(0)));for(var s=0;s<n-1;s++)i.push(t.XN(s),t.MN(s+1)),e.push(!t.FN(s),!t.UN(s+1));var u=t.XN(n-1);return t.Tk(u,t.QN())||(i.push(u,t.QN()),e.push(!t.FN(n-1),!1)),t.qN(i,e)},n.tC=function(t){for(var n=0,i=0,e=this.C_,r=t.C_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.MN(n),c=this.XN(n),h=t.MN(i),f=t.XN(i);this.zk(a,h)||this.Tk(a,h)&&this.zk(c,f)?(s[o]=a,s[o+1]=c,u[o]=this.UN(n),u[o+1]=this.FN(n),n++):(s[o]=h,s[o+1]=f,u[o]=t.UN(i),u[o+1]=t.FN(i),i++),o+=2}for(;n<e;)s[o]=this.MN(n),s[o+1]=this.XN(n),u[o]=this.UN(n),u[o+1]=this.FN(n),n++,o+=2;for(;i<r;)s[o]=t.MN(i),s[o+1]=t.XN(i),u[o]=t.UN(i),u[o+1]=t.FN(i),i++,o+=2;return this.qN(s,u)},n.nC=function(t){void 0===t&&(t=this.jN());var n=this.C_;if(n<2)return this;for(var i=[],e=[],r=this.MN(0),s=this.XN(0),u=this.UN(0),o=this.FN(0),a=1;a<n;a++){var c=this.MN(a),h=this.XN(a),f=this.UN(a),v=this.FN(a);this.zk(r,c)&&this.gb(s,h)||(this.Tk(r,c)&&(u=f=u||f),this.Tk(s,h)&&(o=v=o||v),this.zN(c,this.Oy(s,t),o||f)?(s=h,o=v):(i.push(r,s),e.push(u,o),r=c,s=h,u=f,o=v))}return i.push(r,s),e.push(u,o),this.qN(i,e).JN()},n.JN=function(){for(var t=[],n=[],i=0;i<this.C_;i++){var e=this.MN(i),r=this.XN(i),s=this.UN(i),u=this.FN(i);this.Tk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.qN(t,n)},n.iC=function(t){return this.C_?t.C_?this.tC(t).nC():this:t},n.eC=function(t){var n=this.JN(),i=t.JN(),e=n.KN(),r=i.KN(),s=e.ZN(i),u=r.ZN(n);return s.iC(u)},n.Bu=function(t){if(this.Tk(t,this.jN()))return this;for(var n=[],i=[],e=0;e<this.C_;e++){var r=this.Oy(this.MN(e),t),s=this.Oy(this.XN(e),t);n.push(r,s),i.push(this.UN(e),this.FN(e))}return this.qN(n,i)},n.rC=function(t){return 0===this.C_||0===t.C_?this:this.JN().ZN(t.JN().KN())},n.tN=function(t,n){return this.sC(t,n)>=0},n.uC=function(t,n,i,e,r){return this.oC(t,n,i,e,r)>=0},n.aC=function(t,n,i,e,r){return this.cC(t,n,i,e,r)>=0},n.hC=function(t){if(t.C_!==this.C_)return!1;for(var n=0;n<this.C_;n++)if(!this.Tk(this.MN(n),t.MN(n))||!this.Tk(this.XN(n),t.XN(n))||this.UN(n)!==t.UN(n)||this.FN(n)!==t.FN(n))return!1;return!0},n.fC=function(t){for(var n=[],i=[],e=0;e<this.C_;e++){var r=this.MN(e),s=this.XN(e),u=this.UN(e),o=this.FN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.qN(n,i)},n.cC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.jN());for(var s=this.qk(t,r),u=this.Oy(n,r),o=0;o<this.C_;o+=1)if(this.zN(this.MN(o),u,!e||this.UN(o))&&this.zN(s,this.XN(o),!i||this.FN(o)))return o;return-1},n.oC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.jN());for(var s=this.Oy(t,r),u=this.qk(n,r),o=0;o<this.C_;o+=1)if(this.zN(this.MN(o),s,!i||this.UN(o))&&this.zN(u,this.XN(o),!e||this.FN(o)))return o;return-1},n.sC=function(t,n){return this.oC(t,t,!0,!0,n)},n.vC=function(t,n){void 0===n&&(n=this.jN());for(var i=this.Oy(t,n),e=this.C_-1;e>=0;e-=1)if(this.zN(this.MN(e),i,this.UN(e)))return e;return-1},n.lC=function(t,n){void 0===n&&(n=this.jN());for(var i=this.qk(t,n),e=0;e<this.C_;e+=1)if(this.zN(i,this.XN(e),this.FN(e)))return e;return-1},n.dC=function(t){return this.VN(t),this.qN([this.MN(t),this.XN(t)],[this.UN(t),this.FN(t)])},n.wC=function(t,n){var i=this.sC(t,n);return i<0?void 0:this.dC(i)},A(t,[{key:"_C",get:function(){for(var t=this.jN(),n=0;n<this.C_;n++){var i=this.qk(this.XN(n),this.MN(n));t=this.Oy(t,i)}return t}}]),t}()),nE=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Mk=function(t,n){return t<n?Ss.Ds:t===n?Ss.Is:Ss.Rs},i.Oy=function(t,n){return t+n},i.qk=function(t,n){return t-n},i.Hk=function(t,n){return w.abs(t-n)},i.jN=function(){return 0},i.QN=function(){return 1/0},i.$N=function(){return-1/0},n.gC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.mC=function(t){for(var i=[],e=[],r=0;r<t.C_;r++)i.push(t.MN(r).Fb),i.push(t.XN(r).Fb),e.push(t.UN(r)),e.push(t.FN(r));return new n(i,e)},n.yC=function(t){return new n([t,t],[!0,!0])},i.qN=function(t,i){return new n(t,i)},i.WN=function(t){return t},n.kC=function(){return iE},n}(tE),iE=new nE([]);!function(t){t.l_="fullscreenchange",t.bC="fullscreensupportchange",t.K_="fullscreenerror"}($S||($S={}));var eE=function(t){function n(){return t.call(this,$S.K_)||this}return S(n,t),n}(gu),rE=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.jy=function(){this.Qs(new eE)},i.Zy=function(){},i.xd=function(){this.$s()},A(n,[{key:"pC",get:function(){return!1}},{key:"AC",get:function(){return!1}}]),n}(wu)),sE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sD=void 0,n.uD=void 0,n}S(n,t);var i=n.prototype;return i.$m=function(){var t;return null==(t=this.uD)?void 0:t.xD},i.xd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.xd.call(this));case 2:if(!this.uD){n.next=6;break}return n.next=5,Dr.awrap(this.sD.JD(this.uD));case 5:this.uD=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"TC",set:function(t){this.sD=t,this.uD=t.OD(Qy.Ed)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SC=0,n.EC=!1,n.IC=!0,n.RC=1,n.DC=!1,n.Da=1,n.Lm=new Zy,n.wy=nE.kC().nN(),n.Qg=NaN,n.Zg=!1,n.mu=void 0,n.Kg=void 0,n.Xm=void 0,n.yy=!1,n.Iy=!0,n.Ry=nE.kC().nN(),n.Dy=YS.TN,n.ag=Hm.Mg,n.Ny=nE.kC().nN(),n.rN=void 0,n.Um=new Ap,n.im=0,n.Mm=new Zy,n.um=0,n.Cy=new US,n.wD=new PS,n}S(n,t);var i=n.prototype;return i.Km=function(){},i.Jm=function(){},i.Fm=function(){this.IC&&(this.IC=!1,this.Qs(new oy(this.jg)),this.Qs(new oA(this.jg)))},i.Hm=function(){this.IC||(this.IC=!0,this.Qs(new dy(this.jg,this._y)),this.Qs(new uy(this.jg)))},i.Wm=function(t,n){return We.resolve()},i.Gm=function(){return!1},i.qm=function(){},i.Ym=function(){},i.iy=function(){return rE},i.ly=function(){},i.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.SC=0,this.DC=!1,this.Hm(),this.Qs(new sy(this.SC));case 4:case"end":return t.stop()}},null,this,null,We)},i.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$s(),this.Lm.xd(),this.Um.xd(),this.Mm.xd();case 4:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"_y",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.DC=!0,this.Qs(new gy(this.jg)))}},{key:"Tm",get:function(){return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jg",get:function(){return this.EC},set:function(t){this.EC!==t&&(this.EC=t,this.Qs(new yy(this.jg,this.cm)))}},{key:"$g",get:function(){return this.IC}},{key:"tm",get:function(){return this.RC},set:function(t){this.RC!==t&&(this.RC=t,this.Qs(new ly(this.jg,this.tm)))}},{key:"nm",get:function(){return this.DC}},{key:"cm",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Qs(new yy(this.jg,this.cm)))}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"sN",get:function(){return this.wD}}]),n}(wu)),uE=function(t){function n(n,i,e,r,s,u){var o,a=new sE;return(o=t.call(this,qS.Yn,a)||this).Nh=void 0,o.NC=void 0,o.BC=void 0,o.OC=void 0,o.pE=void 0,o.xC=void 0,o.LC=void 0,o.BC=n,o.Nh=i,o.pE=e,o.xC=r,o.OC=u,o.NC=new he(s,o.OC),o.NC.MC(o.BC),a.TC=o.NC,o.LC=new jS(o.BC),o}S(n,t);var i=n.prototype;return i.jm=function(){t.prototype.jm.call(this),this.NC.UC()},i.Qm=function(t){var n,i,e,r;n=this,e=(i=t).cm,r=i.Jg,n.cm=e,n.Jg=r},i.Zm=function(){},i.BN=function(t){return t.DI(this.BC,this.NC,this.pE,this.Nh,this.xC,this.OC)},i.$m=function(){return this.IN.$m()},i.ey=function(){return this.NC.XC.map(function(t){return t.xD})},i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.xd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.xd.call(this));case 2:this.NC.xd(),this.LC.xd();case 4:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"gy",get:function(){return this.BC}},{key:"Py",get:function(){return this.IN.Py},set:function(t){this.IN.Py=t}}]),n}(KS),oE=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).BC=void 0,r.FC=void 0,r.HC=void 0,r.zC=void 0,r.VC=void 0,r._D=new US,r.BC=n,r.FC=i,r.zC=new Zy,r.VC=new Ap,r.HC=e,r}S(n,t);var i=n.prototype;return i.sy=function(t){return!0},i.Jm=function(){},i.Fm=function(){throw this.Qs(new Ay(this.HC)),this.FC},i.Hm=function(){},i.Vm=function(){},i.Wm=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw nu(n),this.Qs(new Ay(this.HC)),this.FC;case 3:case"end":return t.stop()}},null,this,null,We)},i.Km=function(){},i.zm=function(){return We.resolve()},i.$m=function(){},i.iy=function(){return rE},i.ey=function(){return[]},i.jm=function(){},i.Qm=function(t){},i.Zm=function(){},i.Gm=function(){return!1},i.qm=function(){},i.Ym=function(){},i.ly=function(){},i.D_=function(){return We.resolve()},i.xd=function(){return this.$s(),this.zC.xd(),this.VC.xd(),We.resolve()},A(n,[{key:"Lm",get:function(){return this.zC}},{key:"wy",get:function(){return nE.kC().nN()}},{key:"_y",get:function(){return new Date(NaN)},set:function(t){}},{key:"vy",get:function(){}},{key:"jg",get:function(){return 0},set:function(t){}},{key:"Qg",get:function(){return 0}},{key:"gy",get:function(){return this.BC}},{key:"Zg",get:function(){return!0}},{key:"mu",get:function(){return this.FC}},{key:"Kg",get:function(){return this.HC}},{key:"Xm",get:function(){}},{key:"Tm",get:function(){return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jg",get:function(){return!1},set:function(t){}},{key:"Iy",get:function(){return!0}},{key:"$g",get:function(){return!0}},{key:"tm",get:function(){return 0},set:function(t){}},{key:"Ry",get:function(){return nE.kC().nN()}},{key:"Dy",get:function(){return YS.TN},set:function(t){}},{key:"ag",get:function(){return Hm.Mg}},{key:"Ny",get:function(){return nE.kC().nN()}},{key:"nm",get:function(){return!1}},{key:"Um",get:function(){return this.VC}},{key:"im",get:function(){return 0}},{key:"Mm",get:function(){return this.zC}},{key:"um",get:function(){return 0}},{key:"cm",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this._D}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"yy",get:function(){return!1}}]),n}(Pm);function aE(t){if(t&&W(t))return Nr({},t,{integration:cE(t.integration),fairplay:wE(t.fairplay),widevine:hE(t.widevine),playready:fE(t.playready),clearkey:_E(t.clearkey),aes128:gE(t.aes128),integrationParameters:mE(t.integrationParameters),preferredKeySystems:yE(t.preferredKeySystems)})}function cE(t){if(q(t))return t}function hE(t){if(t&&W(t))return{persistentState:vE(t.persistentState),distinctiveIdentifier:vE(t.distinctiveIdentifier),audioRobustness:lE(t.audioRobustness),videoRobustness:lE(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:dE(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Uo(t.certificate)?t.certificate:void 0}}function fE(t){if(t){var n=hE(t);if(n)return Nr({},n,{customData:q(t.customData)?t.customData:void 0})}}function vE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function lE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function dE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function wE(t){if(t){var n=hE(t);if(n)return Nr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function _E(t){if(t){var n=hE(t);if(n)return Nr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(F):void 0})}}function gE(t){if(W(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function mE(t){if(W(t))return t}function yE(t){return t&&z(t)?t.map(function(t){return rT(t)}).filter(F):[Kr,jr,ns]}var kE,bE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(gu),pE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).WC=[],e.GC=void 0,e.qC=function(t){au(function(){e.js(t)})},e.GC=i?e.qC:e.js,e}S(n,t);var i=n.prototype;return i.YC=function(t){t.Js(this.GC),this.WC.push(t)},i.jC=function(t){t.ou(this.GC),Us(this.WC,t)},i.xd=function(){this.$s();for(var t=0,n=this.WC;t<n.length;t++){n[t].ou(this.GC)}zs(this.WC)},n}(Cm),AE=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(pE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(kE||(kE={}));var TE,SE=function(t){function i(n){var i;return(i=t.call(this)||this).QC=void 0,i.ZC=void 0,i.KC=!1,i.JC=!1,i.$C=void 0,i.tP=void 0,i.nP=void 0,i.$w=void 0,i.iP=function(){return i.eP()},i.rP=function(){return i.sP()},i.nP=n,i.QC=i.ZC=i.$C=i.tP=kE.INLINE,i.nP.Zs($S.l_,i.iP),i.nP.Zs($S.K_,i.rP),i.uP(),i}S(i,t);var e=i.prototype;return e.n_=function(){return t=this,i={get currentMode(){return t.oP()},requestMode:function(n){var i=IE(n);i&&t.aP(i)},supportsMode:function(n){var i=IE(n);return!!i&&t.cP(i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new pE(i,!0)).YC(t),i;var t,n,i},e.aP=function(t){this.hP(t,t)},e.hP=function(t,n){this.ZC!==n&&(this.KC=!0,this.QC=t,this.fP(n,this.ZC),t!==kE.FULLSCREEN&&(this.$C=t),this.KC=!1,this.uP())},e.oP=function(){return this.JC?kE.FULLSCREEN:kE.INLINE},e.cP=function(t){switch(t){case kE.FULLSCREEN:return this.nP.AC;case kE.INLINE:return!0}return!1},e.uP=function(){if(!this.KC){var t=this.ZC,n=this.oP();this.ZC=n,n!==kE.FULLSCREEN&&(this.tP=n),t!==n&&this.Qs(new bE(n))}},e.fP=function(t,n){var i=t===kE.FULLSCREEN;this.JC=i,i!==this.nP.pC&&(i?this.nP.jy():this.nP.Zy())},e.eP=function(){if(!this.KC){var t=this.nP.pC;this.JC=t,t?this.hP(kE.FULLSCREEN,kE.FULLSCREEN):t||this.QC!==kE.FULLSCREEN?this.uP():this.hP(this.$C,this.tP)}},e.sP=function(){this.eP(),this.Qs(new Ay(new nf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.xd=function(){this.nP.xd(),this.$s()},A(i,[{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),i}(Cm),EE={jg:0,Qg:NaN,Zg:!1,mu:void 0,Kg:void 0,Jg:!1,$g:!0,tm:1,ag:Hm.Mg,nm:!1,im:0,um:0,cm:1};function IE(t){switch(t){case kE.INLINE:case kE.FULLSCREEN:case kE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(TE||(TE={}));var RE,DE,NE,CE,PE,BE,OE,xE,LE=function(){function t(){this.vP=[]}var n=t.prototype;return n.lP=function(t){var n=this.dP.filter(function(n){return n.wP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n._P=function(t){this.vP.push(t)},A(t,[{key:"dP",get:function(){return this.vP}}]),t}();LE.Yn=new LE,function(t){t.Yg="PLAYING",t.Em="PAUSED",t.gP="SEEK",t.mP="STALLED",t.yP="FAILED",t.kP="INITIAL_BUFFERING",t.bP="NO_ACCESS"}(RE||(RE={})),function(t){t.pP="HTTP_REQUEST_STATUS_CODE_1XX",t.AP="HTTP_REQUEST_STATUS_CODE_2XX",t.TP="HTTP_REQUEST_STATUS_CODE_3XX",t.SP="HTTP_REQUEST_STATUS_CODE_4XX",t.EP="HTTP_REQUEST_STATUS_CODE_5XX",t.IP="BUFFER_LENGTH",t.RP="BYTES_RECEIVED",t.DP="SEGMENT_READ_BITRATE",t.NP="SEGMENT_PROFILE_BITRATE",t.CP="NUMBER_OF_FRAMES_DROPPED",t.PP="PLAYBACK_POSITION",t.BP="NUMBER_OF_FRAMES_DECODED",t.OP="PLAYBACK_DELTA_TO_ORIGIN",t.xP="STREAM_DELTA_TO_ORIGIN",t.LP="ORIGIN_TIMESTAMP"}(DE||(DE={})),function(t){t.MP="MANIFEST_URI",t.UP="ASSET_DURATION",t.XP="NUMBER_OF_CONTENT_PROFILES",t.FP="CDN",t.HP="CONTENT_TITLE",t.zP="SERVICE_NAME",t.VP="CONTENT_TYPE",t.WP="CONTENT_DESCRIPTION"}(NE||(NE={})),function(t){t.GP="shutdown_normal_shutdown"}(CE||(CE={})),function(t){t.qP="session/",t.YP="internalError/",t.jP="drmError/",t.QP="caError/",t.ZP="networkError/"}(PE||(PE={})),function(t){t.KP="userAction",t.JP="endOfStreamReached"}(BE||(BE={})),function(t){t.PAUSE="$P",t.RESUME="tB"}(OE||(OE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(xE||(xE={}));var ME,UE,XE,FE,HE,zE="agama";function VE(t){return function(t){switch(t){case ME.NONE:case ME.HORIZONTAL:case ME.VERTICAL:return!0;default:return!1}}(t)?t:ME.NONE}function WE(t){switch(t){case"":return ME.NONE;case"horizontal":return ME.HORIZONTAL;case"vertical":return ME.VERTICAL;default:throw new l}}function GE(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return UE.AN;switch(t){case"always":return UE.nB;case"never":return UE.iB;default:return UE.AN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function qE(t){if(!t||!q(t))return XE.AN;switch(t){case"playlist":return XE.eB;case"media":return XE.rB;default:return XE.AN}}function YE(t,n){return t.length>0?t:n.length>0?n:void 0}function jE(t){if(null!==t)return t}function QE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:jE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:jE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.gr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.gr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.gr("A Live DAI configuration was provided without valid assetKey which is required.")}i.gr("A DAI configuration was provided without a valid availabilityType which is required.")}function ZE(t){if(!ZA(t)||!t.integration)return t;switch(t.integration){case mA:return n=t,i=eT(zr.$r,n),e=eT(zr.Jr,n),r=n[zr.us]&&eT(zr.us,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ME||(ME={})),function(t){t.AN="auto",t.nB="always",t.iB="never"}(UE||(UE={})),function(t){t.AN="auto",t.eB="playlist",t.rB="media"}(XE||(XE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(FE||(FE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(HE||(HE={}));var KE="https://content.uplynk.com";function JE(t){if(!t)return!0;var n,i,e=!(Km(n=t.sources)||V(n)&&Km(n[0]))||Jm(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function $E(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(Zm(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function tI(t,n,i){return jm(t)?function(t,n,i){var e=Nr({},$m(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:FE.VERIZON_MEDIA,id:"",prefix:KE,preplayParameters:{},playbackUrlParameters:{},assetType:HE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return HE.CHANNEL;case"event":return HE.EVENT;case"asset":default:return HE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=cm(t.contentProtected));t.assetInfo?e.assetInfo=cm(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=vm(t.prefix)||KE);return e.ping=(u=e.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,c=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=Y(o.linearAdData)?o.linearAdData:u!==HE.ASSET):u!==HE.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),e=iI(e=eI(e=nI(e,t),n,i),t,i);var u,o,a,c,h}(t,n,i):function(t,n,i){var e=ty(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=Wm(t),r){var s=aE(r);e.contentProtection=ZE(s)}}else if(Zm(t)||Ym(t)){e.src=t.src,e.type=t.type||Wm(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Um.xg||t.type===Um.Lg}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(h=t)&&q(h.integration)&&"mediatailor"===h.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,c=aE(a);e.contentProtection=ZE(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return QE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=nI(e,t)}var h;return e=iI(e=eI(e,n,i),t,i)}(t,n,i)}function nI(t,n){var i,e;n.useCredentials?t.crossOrigin=Mm.Og:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Mm.Bg:case Mm.Og:return t;default:return Mm.Pg}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=cm(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=cm(n.useNativePlayback)),n.dash&&(t.dash=GE(n.dash)),n.hls&&(t.hls={discontinuityAlignment:qE(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,F(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=cm(n.lcevc));var r=void 0!==n.experimentalRendering?cm(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?cm(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function iI(t,n,i){return t.abr=function(t,n){var i=lm(null==t?void 0:t.preferredAudioCodecs,vm),e=lm(null==t?void 0:t.preferredVideoCodecs,vm),r=lm(null==n?void 0:n.preferredAudioCodecs,vm),s=lm(null==n?void 0:n.preferredVideoCodecs,vm),u=YE(i,r),o=YE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function eI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!F(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!F(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Mm.Pg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Mm.Bg),t.useCredentials=t.crossOrigin===Mm.Og,q(r)&&!t.timeServer&&(t.timeServer=r),t}function rI(t){var n={src:""};if(t&&t.src){if(n.src=vm(t.src),"default"in t&&(n.default=cm(t.default)),n.kind=Sp(t.kind),function(t){switch(t){case fk.DEFAULT:case fk.SRT:case fk.TTML:case fk.WEBVTT:case fk.EMSG:case fk.EVENT_STREAM:case fk.ID3:case fk.CEA608:case fk.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function sI(t,n){if(G(t))try{return n.lP(t).sB(t)}catch(t){return}}function uI(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function oI(t){return t.integration===TE.SPOTX&&!m(t.id)}function aI(t){return"freewheel"===t.integration}function cI(t,n,i){if(void 0===i&&(i=LE.Yn),JE(t))return{sources:[ty()]};var e=sm(t);if(e.sources=function(t,n,i){if(Km(t))return[tI(t,n,i)];if(V(t)&&Km(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(tI(s,n,i))}return e}return[ty()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=sI(s,n))&&(uI(s)||oI(s)||aI(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!Jm(e.sources),c=e.ads&&e.ads.length>0;if(a&&!c?delete e.ads:c&&!a&&(e.sources=[]),"textTracks"in e){var h=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=rI(r)).src&&n.push(r)}return n}(e.textTracks);0===h.length?delete e.textTracks:e.textTracks=h}if("poster"in e&&(e.poster=vm(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=VE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?WE(u.stereoMode):ME.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=iy(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=sm(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==zE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Ty(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=hm(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var hI=function(){function t(t){this.uB=t}return t.prototype.oB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.uB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.uB.indexOf(t.charAt(n))<<18|this.uB.indexOf(t.charAt(n+1))<<12|(s=this.uB.indexOf(t.charAt(n+2)))<<6|(u=this.uB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.aB=function(t,n){var i,e,r,s,u,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.uB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,c[o/3]=this.uB.charAt(e)+this.uB.charAt(r)+this.uB.charAt(s)+this.uB.charAt(u);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t._p=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.cB=new t(t._p.oB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function fI(t){return"string"==typeof t}function vI(t){return"number"==typeof t}var lI={}.toString;var dI,wI=Array.isArray||function(t){return"[object Array]"===lI.call(t)};function _I(t,n){return wI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(dI||(dI={}));var gI,mI=d.keys(dI).map(function(t){return dI[t]});function yI(t){return-1!==mI.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(gI||(gI={}));var kI,bI=d.keys(gI).map(function(t){return gI[t]});function pI(t){return-1!==bI.indexOf(t)}function AI(t){try{var n=hI.cB.oB(t),i=JSON.parse(n);if(!function(t,n){var i,e=(l=t,"object"==typeof l&&null!==l),r=fI(t.key),s=fI(t.customer_id),u=vI(t.generation_date),o=vI(t.expiration_date),a=_I(t.domains_page,fI),c=_I(t.domains_source,fI),h=_I(t.sdks,n?yI:fI),f=(v=t.send_impression,"boolean"==typeof v);var v;var l;t.features?i=_I(t.features,n?pI:fI):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function TI(){return kI||(kI={hd:de.href,hB:le.parent&&le.parent!==r,fB:II()}),kI}var SI,EI=["http:","https:","ftp:","ws:","wss:"];function II(){try{return le.top.location.href}catch(t){return le&&le.document&&le.document.referrer}}!function(t){t[t.vB=0]="vB",t[t.lB=1]="lB",t[t.dB=2]="dB"}(SI||(SI={}));var RI,DI=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.wB=t,this._B=n,this.gB=i,this.mB=e,this.yB=r,this.kB=s,this.bB=u,this.pB=o,this.AB=a};!function(t){t.lB="expired",t.TB="invaliddomain",t.SB="invalidsource",t.EB="invalidfeature",t.K_="error"}(RI||(RI={}));var NI=function(){function t(t,n,i){this.IB=void 0,this.RB=t,this.DB=n,this.Qo=i,this.IB=LI(this.Qo)}var n=t.prototype;return n.NB=function(t,n){var i=this;if(!JE(t)&&0!==n.gB.length&&!BI(n.gB)){var e=[];if(Km(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.CB(t,n)})){var r=RI.SB,s=UI.PB(r);throw new nf(CI(r),s)}}},n.BB=function(n){return this.OB(n.pB)&&this.xB(n)?t.LB(n.mB)?SI.vB:SI.lB:SI.dB},n.MB=function(t,n){if(!Hs(n.yB,t)){var i=RI.EB,e=UI.PB(i);throw new nf(CI(i),e)}},n.OB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.UB(t)})},n.UB=function(t){return"ios"===function(t){switch(t){case dI.ANDROID:return e.g;case dI.ANDROIDTV:case dI.FIRETV:return e.I;case dI.IOS:return e.R;case dI.TVOS:return e.N;case dI.CHROMECAST:case dI.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.LB=function(t){var n=Number(new Date);return!!t&&n<=t},n.xB=function(t){return!(this.IB&&0!==t._B.length&&!BI(t._B))||!!(this.IB&&this.XB(t._B)&&this.FB(t._B))},n.XB=function(t){return OI(this.Qo.hd,t)},n.FB=function(t){if(!this.Qo.hB)return!0;if(this.RB)return!0;var n=this.HB();return!!n&&OI(n,t)},n.HB=function(){if(this.Qo.hB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.fB?this.Qo.fB:void 0}},n.CB=function(n,i){return!!t.zB(n,i.gB)},t.zB=function(t,n){return OI(this.VB(t),n)},t.VB=function(t){return q(t)?t:Zm(t)&&t.src||""},t}();function CI(t){switch(t){case RI.TB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case RI.SB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case RI.lB:return n.ErrorCode.LICENSE_EXPIRED;case RI.EB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case RI.K_:return n.ErrorCode.LICENSE_ERROR}}function PI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),c=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function BI(t){return t.some(function(t){return"*"===t})}function OI(t,n){var e=i.Br(t);if(!xI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(PI(e.hostname,s))return!0;if(PI(o_(t),s))return!0}return!1}function xI(t){return-1!==EI.indexOf(t.protocol)}function LI(t){var n=i.Br(t.hd);return xI(n)&&!PI(n.hostname,"localhost")&&!function(t){return PI(t.hostname,"theoplayer.doubleclick.net")}(n)}var MI,UI=function(){function t(){}return t.PB=function(t){return t===RI.TB?this.WB:t===RI.SB?this.GB:t===RI.lB?this.qB:t===RI.EB?this.YB:this.jB},t}();function XI(t){var n=[t.kS,t.QB,t.ZB];switch(t.QB){case MI.KB:n.push(t.fg);break;case MI.JB:n.push(t.jg),n.push(t.mu);break;case MI.$B:n.push(t.mu)}return n}UI.jB="The license for this player is invalid.",UI.qB="The usage license for this video player has expired.",UI.WB="The current domain is incompatible with the license for this player.",UI.GB="The provided video source is incompatible with the license for this player.",UI.YB="The requested feature is not available with the license for this player.",function(t){t[t.KB=1]="KB",t[t.JB=4]="JB",t[t.$B=5]="$B"}(MI||(MI={}));for(var FI=new Array(256),HI=0;HI<256;HI+=1)FI[HI]=(HI<16?"0":"")+HI.toString(16);function zI(){var t=Vt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return FI[255&n]+FI[n>>>8&255]+FI[n>>>16&255]+FI[n>>>24&255]+"-"+FI[255&i]+FI[i>>>8&255]+"-"+FI[i>>>16&15|64]+FI[i>>>24&255]+"-"+FI[63&e|128]+FI[e>>>8&255]+"-"+FI[e>>>16&255]+FI[e>>>24&255]+FI[255&r]+FI[r>>>8&255]+FI[r>>>16&255]+FI[r>>>24&255]}var VI=function(){function t(t){this.uB=void 0,this.uB=t}var n=t.prototype;return n.oB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.uB.indexOf(t.charAt(n))<<18|this.uB.indexOf(t.charAt(n+1))<<12|(s=this.uB.indexOf(t.charAt(n+2)))<<6|(u=this.uB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.aB=function(t){var n,i,e,r,s,u,o,a=[],c="";if((u=t.length%3)>0)for(;u++<3;)c+=this.uB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.uB.charAt(i)+this.uB.charAt(e)+this.uB.charAt(r)+this.uB.charAt(s);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function WI(){return i.ir()}VI._p=new VI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),VI.cB=new VI(VI._p.oB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var GI,qI="theoplayer-session-id";function YI(){if(!GI){var t=mf.Iu(qI);t?GI=t:(GI=zI(),mf.ef(qI,GI))}return GI}var jI=/[^\x00-\x7E]/g;function QI(t){return"\\u"+gs(t.charCodeAt(0).toString(16),4,"0")}var ZI=0,KI=1,JI=6e4;function $I(t){var n,i,e,r,s,u=(n=function(t){return[t.tO,t.Kc,t.wB,t.xA,t.nO,t.iO,t.eO.map(XI)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(jI,QI));return VI.cB.aB(u)}var tR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=VI._p),void 0===r&&(r=ZI),void 0===s&&(s=KI),this.rO=[],this.sO=null,this.uO=0,this.oO="unknown",this.Ha=0,this.aO=void 0,this.cO=function(){WI()-u.uO>JI&&u.Pe()},this.hO=function(){u.Pe(!0)},this.wc=t,this.pE=n,this.fO=i,this.vO=e,this.lO=r,this.dO=s,ve.wO(this.hO),this.aO=h(this.cO,JI)}var n=t.prototype;return n._O=function(){return Boolean(this.nO)},n.gO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.fO.mO());case 2:if(i.sent.AB){i.next=5;break}return i.abrupt("return");case 5:return n={QB:MI.KB,ZB:Vt(),fg:t},i.next=8,Dr.awrap(this.yO(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.kO=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={QB:MI.JB,ZB:Vt(),jg:n,mu:t},e.next=3,Dr.awrap(this.yO(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.bO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={QB:MI.$B,ZB:Vt(),mu:t},i.next=3,Dr.awrap(this.yO(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.yO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.fO.mO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.vO.aB(n.wB)){i.next=6;break}if(t.QB===MI.$B){i.next=6;break}return i.abrupt("return");case 6:if(t.QB===MI.KB?this.pO():this._O()||this.pO(),t.kS=this.Ha++,this.rO.push(t),(e=t.QB)!==MI.KB&&e!==MI.$B){i.next=14;break}return i.next=12,Dr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.rO.length>this.lO)){i.next=19;break}return i.next=17,Dr.awrap(this.AO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.Pe=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.rO.length>0)){n.next=6;break}return n.next=4,Dr.awrap(this.AO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.TO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.fO.mO());case 2:return n=i.sent,i.abrupt("return",{tO:Vt(),Kc:YI(),wB:this.vO.aB(n.wB)||"dev",xA:this.wc,nO:this.sO,iO:this.oO,eO:t});case 4:case"end":return i.stop()}},null,this,null,We)},n.AO=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.rO.splice(0,this.dO),e.next=4,Dr.awrap(this.TO(n));case 4:i=e.sent,t?this.Od(i):this.SO(i),this.uO=WI();case 7:case"end":return e.stop()}},null,this,null,We)},n.SO=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=$I(t),i=new $w({hd:"https://license.theoplayer.com",Hl:n,Pd:!1,td:Af.$n,$l:{"Content-Type":MT.nR},Dd:4e3,Rd:jw.POST}),r.prev=2,r.next=5,Dr.awrap(this.pE.ud(i));case 5:return e=r.sent,r.next=8,Dr.awrap(e.Ul());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.Od=function(t){var n=$I(t);this.pE.Od({hd:"https://license.theoplayer.com",Hl:n,Fl:MT.nR})},n.pO=function(){this._O()&&this.Pe(),this.sO=zI(),this.Ha=0},n.xd=function(){ve.EO(this.hO),f(this.aO),this.Pe()},A(t,[{key:"eO",get:function(){return this.rO}},{key:"nO",get:function(){return this.sO}}]),t}();var nR=M.Rn||M.cn&&M.On<13;function iR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var eR=function(){function t(t){this.kN=void 0,this.$w=void 0,this.IO=void 0,this.kN=t}var n=t.prototype;return n.RO=function(t){if(!t||!t.drawImage)return!1;var n=this.kN.$m();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.DO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.kN,a=o.$m();if(!a)return!1;if(nR){this.IO||(this.IO=s.createElement("canvas"));var c=this.IO,h=c.getContext("2d"),f=o.um,l=o.im,d=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),d===f&&w===l||(c.width=f,c.height=l),h.drawImage(a,0,0,f,l);var _=!1;f>0&&iR(h,f-1,0)&&(c.width=d,_=!0),l>0&&iR(h,0,l-1)&&(c.height=w,_=!0),_&&h.drawImage(a,0,0,f,l),a=c}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"t_",get:function(){return this.$w||(this.$w=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.RO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.DO(n,i,e,r,s,u)}}));var t}}]),t}(),rR=function(t){function n(n,i){var e;return(e=t.call(this,"CO")||this).Bk=n,e.dT=i,e}return S(n,t),n.prototype.n_=function(){return new sR(this.Bk,this.dT)},n}(Vg),sR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(gu),uR=function(t,n){this.gy=void 0,this.PO=void 0,this.gy=t,this.PO=n},oR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).BO=void 0,e.OO=0,e.xO=0,e.LO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.xO=n.width,e.OO=n.height,e.PO(e.xO,e.OO)}},e.BO=new le.ResizeObserver(e.LO),e.BO.observe(e.gy),e}return S(n,t),n.prototype.xd=function(){this.BO.disconnect()},A(n,[{key:"MO",get:function(){return this.OO}},{key:"UO",get:function(){return this.xO}}]),n}(uR),aR=0;var cR,hR=c,fR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,vR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function lR(){return cR||(cR=le&&le.document&&le.document.createElement("span")),cR}fR&&vR||(fR=function(t){var n=WI(),i=w.max(0,16-(n-aR)),e=a(function(){return t(n+i)},i);return aR=n+i,e},vR=hR),fR=fR.bind(t),vR=vR.bind(t);var dR=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==le&&"function"==typeof le.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});le.addEventListener("testPassiveEventSupport",K,n),le.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}}();var wR=Pr();function _R(t){return wR.has(t)||wR.set(t,function(t){var n=lR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<dR.length;e++){var r=dR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),wR.get(t)}function gR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function mR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[_R("transition")]="0s"}var yR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).XO=void 0,u.FO=0,u.xO=NaN,u.OO=NaN,u.HO=void 0,u.zO=void 0,u.VO=void 0,u.WO=void 0,u.GO=void 0,u.D_=function(){u.zO.style.width=1e5+"px",u.zO.style.height=1e5+"px",u.HO.scrollLeft=1e5,u.HO.scrollTop=1e5,u.VO.scrollLeft=1e5,u.VO.scrollTop=1e5,0===u.VO.scrollTop&&fR(u.D_)},u.qO=function(){var t=u.UO,n=u.MO;u.PO(t,n),u.xO=t,u.OO=n,u.D_(),u.FO=0},u.YO=function(){if(!u.FO){var t=u.UO,n=u.MO;t===u.xO&&n===u.OO||(u.FO=fR(u.qO))}},u.jO=function(){u.GO||(u.GO=a(u.QO,66))},u.QO=function(){u.GO=void 0,u.ZO()},u.ZO=function(){u.YO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var c,h=s.createElement("div");return u.XO=h,u.HO=s.createElement("div"),u.zO=s.createElement("div"),u.VO=s.createElement("div"),u.WO=s.createElement("div"),gR(u.HO),gR(u.VO),mR(u.zO),mR(c=u.WO),c.style.width="200%",c.style.height="200%",h.appendChild(u.HO),h.appendChild(u.VO),u.HO.appendChild(u.zO),u.VO.appendChild(u.WO),n.appendChild(h),u.HO.addEventListener("scroll",u.YO),u.VO.addEventListener("scroll",u.YO),r&&r.addEventListener("resize",u.jO),u.YO(),u}return S(n,t),n.prototype.xd=function(){vR(this.FO),this.FO=0,this.HO.removeEventListener("scroll",this.YO),this.VO.removeEventListener("scroll",this.YO),$e(this.XO),r&&r.removeEventListener("resize",this.jO)},A(n,[{key:"MO",get:function(){return this.gy.getBoundingClientRect().height||this.OO||0}},{key:"UO",get:function(){return this.gy.getBoundingClientRect().width||this.xO||0}}]),n}(uR),kR=function(t){function n(n){var i;return(i=t.call(this)||this).gy=void 0,i.BO=void 0,i.LO=function(t,n){i.Qs(new rR(t,n))},i.gy=n,i}S(n,t);var i=n.prototype;return i.rh=function(t){this.BO||("function"==typeof le.ResizeObserver?this.BO=new oR(this.gy,this.LO):this.BO=new yR(this.gy,this.LO,t))},i.xd=function(){this.$s(),this.BO&&(this.BO.xd(),this.BO=void 0)},A(n,[{key:"MO",get:function(){return this.BO?this.BO.MO:0}},{key:"UO",get:function(){return this.BO?this.BO.UO:0}}]),n}(wu),bR=function(t){function n(){return t.call(this,$S.l_)||this}return S(n,t),n}(gu);var pR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{KO:i[0],JO:i[1],$O:i[2],tx:i[3],nx:i[4],ix:i[5]}}}(),AR=function(t){function n(){return t.call(this,$S.bC)||this}return S(n,t),n}(gu),TR=function(t){function n(i){var e;return(e=t.call(this)||this).gy=void 0,e.AC=void 0,e.pC=!1,e.ex=function(){return e.iP()},e.sx=function(){return e.rP()},e.gy=i,e.AC=n.ux(i),s.addEventListener(pR.nx,e.ex),e.iP(),e}S(n,t),n.ux=function(t){return Boolean(pR&&s[pR.tx]&&pR.KO in t)};var i=n.prototype;return i.jy=function(){var t=this.gy[pR.KO]();t&&t.then?t.then(this.ex,this.sx):(s.removeEventListener(pR.ix,this.sx),s.addEventListener(pR.ix,this.sx))},i.Zy=function(){var t=s[pR.JO]();t&&t.then?t.then(this.ex,this.sx):(s.removeEventListener(pR.ix,this.sx),s.addEventListener(pR.ix,this.sx))},i.iP=function(){var t=this.pC,n=this.gy===s[pR.$O];this.pC=n,t!==n&&this.Qs(new bR)},i.rP=function(){this.Qs(new eE)},i.xd=function(){this.$s(),s.removeEventListener(pR.nx,this.ex),s.removeEventListener(pR.ix,this.sx)},n}(wu),SR=function(t){function n(i){var e;return(e=t.call(this)||this).gy=void 0,e.AC=void 0,e.pC=!1,e.ex=function(){return e.iP()},e.gy=i,e.AC=n.ux(i),e.gy.addEventListener("webkitbeginfullscreen",e.ex),e.gy.addEventListener("webkitendfullscreen",e.ex),e.gy.addEventListener("webkitpresentationmodechanged",e.ex),e.iP(),e}S(n,t),n.ux=function(t){return M.cn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.jy=function(){var t=this;this.gy.webkitSupportsPresentationMode&&this.gy.webkitSupportsPresentationMode("fullscreen")?M.cn?requestAnimationFrame(function(){return t.gy.webkitSetPresentationMode("fullscreen")}):this.gy.webkitSetPresentationMode("fullscreen"):this.gy.webkitEnterFullscreen()},i.Zy=function(){this.gy.webkitSupportsPresentationMode&&this.gy.webkitSupportsPresentationMode("inline")?this.gy.webkitSetPresentationMode("inline"):this.gy.webkitExitFullscreen()},i.iP=function(){var t,n=this.pC;t=this.gy.webkitPresentationMode?"fullscreen"===this.gy.webkitPresentationMode:!!this.gy.webkitDisplayingFullscreen,this.pC=t,n!==t&&this.Qs(new bR)},i.xd=function(){this.$s(),this.gy.removeEventListener("webkitbeginfullscreen",this.ex),this.gy.removeEventListener("webkitendfullscreen",this.ex),this.gy.removeEventListener("webkitpresentationmodechanged",this.ex)},n}(wu),ER=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ox=[],n.ax=void 0,n.JC=!1,n.iP=function(){var t=n.JC,i=n.hx();t!==i&&(n.JC=i,n.Qs(new bR))},n}S(n,t);var i=n.prototype;return i.jy=function(){this.ax?this.ax.jy():this.Qs(new eE)},i.Zy=function(){for(var t=0,n=this.ox;t<n.length;t++){var i=n[t];i.pC&&i.Zy()}},i.vx=function(t){this.ax=t},i.lx=function(t){this.ox.push(t),t.Zs($S.l_,this.iP),t.Zs($S.K_,this.js),this.iP()},i.wx=function(t){Us(this.ox,t),t.tu($S.l_,this.iP),t.tu($S.K_,this.js)},i.hx=function(){for(var t=0,n=this.ox;t<n.length;t++){if(n[t].pC)return!0}return!1},i.D_=function(){this.ax=void 0,this.JC=!1;for(var t=this.ox.slice(),n=0;n<t.length;n++){var i=t[n];this.wx(i),i.xd()}this.iP()},i.xd=function(){this.$s(),this.D_()},A(n,[{key:"AC",get:function(){return!!this.ax&&this.ax.AC}},{key:"pC",get:function(){return this.JC}}]),n}(wu),IR=function(t){function n(n,i){var e;return(e=t.call(this)||this).kN=void 0,e._x=void 0,e.gx=void 0,e.mx=!1,e.yx=function(){return e.qc()},e.iP=function(t){e.mx||e.Qs(t)},e.kN=n,e._x=i,e.gx=rE,e.kx(),e.kN.Zs(pf.yf,e.yx),e.qc(),e}S(n,t);var i=n.prototype;return i.jy=function(){this._x&&this.gx.jy()},i.Zy=function(){this.gx.Zy()},i.kx=function(){this.gx.Zs($S.l_,this.iP),this.gx.Zs($S.K_,this.js)},i.bx=function(){this.gx.tu($S.l_,this.iP),this.gx.tu($S.K_,this.js)},i.qc=function(){var t=this.gx,n=this.kN.iy();if(t!==n){this.mx=!0;var i=this.pC,e=this.AC;i&&this.Zy(),this.bx(),this.gx=n,this.kx(),i&&!this.pC&&this.AC?this.jy():this.Zy(),this.mx=!1,e!==this.AC&&this.Qs(new AR),i!==this.pC&&this.Qs(new bR)}},i.xd=function(){this.$s(),this.bx(),this.kN.tu(pf.yf,this.yx)},A(n,[{key:"AC",get:function(){return!!this._x&&this.gx.AC}},{key:"pC",get:function(){return this.gx.pC}}]),n}(wu);function RR(t){var n;return{get url(){return t.hd},get method(){return t.Rd},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},get useCredentials(){return t.Pd},get type(){return BR(t.fs)},get subType(){return xR(t.Nd)},get mediaType(){return MR(t.Cd)},get responseType(){return NR(t.td)}}}function DR(t){switch(t.toLowerCase()){case"arraybuffer":return Af.Gf;case"json":return Af.qf;case"stream":return Af.Yf;case"text":default:return Af.$n}}function NR(t){return t}function CR(t){switch(t.toUpperCase()){case"POST":return jw.POST;case"PUT":return jw.PUT;case"DELETE":return jw.DELETE;case"HEAD":return jw.HEAD;case"OPTIONS":return jw.OPTIONS;case"GET":default:return jw.GET}}function PR(t){switch(t.toLowerCase()){case"manifest":return Qw.ld;case"segment":return Qw.dd;case"content-protection":return Qw.wd;default:return Qw.vd}}function BR(t){return t}function OR(t){switch(t.toLowerCase()){case"initialization-segment":return Zw._d;case"fairplay-license":return Zw.md;case"fairplay-certificate":return Zw.yd;case"widevine-license":return Zw.kd;case"widevine-certificate":return Zw.bd;case"playready-license":return Zw.pd;case"clearkey-license":return Zw.Ad;case"aes128-key":return Zw.Td;default:return Zw.vd}}function xR(t){return t}function LR(t){switch(t.toLowerCase()){case"audio":return Kw.Sd;case"video":return Kw.Ed;case"text":return Kw.$n;case"image":return Kw.Id;case"":default:return Kw.vd}}function MR(t){return t}var UR=function(){function t(t,n){this.Ax=new Go,this.Tx=[],this.$w=void 0,this.Sx=!1,this.Yd=void 0,this.Ex=0,this.Ix=t,this.Rx=n}var n=t.prototype;return n.TA=function(){this.Sx=!0,this.Ax.Wu(null)},n.Dx=function(){this.Ax.Gu(new Ew(this.Tx))},n.Nx=function(t){if(!this.Cx)throw new l("Cannot respond more than once");if(!W(t))throw new l("Expected valid response");this.Yd=this.Px(t),this.TA()},n.Bx=function(){try{var t=this.Rx(this.t_);t?this.Ox(t):this.xx||this.Lx||this.TA()}catch(t){this.Tx.push(t),this.Dx()}},n.Ox=function(t){if(this.Lx)throw new v("Request has been redirected or a response already exists");if(j(t))this.Mx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Go;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});j(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.Mx(n.Fu)}},n.Mx=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Ex++,n.next=4,Dr.awrap(t);case 4:this.Ex--,this.xx||this.Lx||(this.Tx.length?this.Dx():this.TA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.Ex--,this.Tx.push(n.t0),this.xx||this.Lx||this.Dx();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},A(t,[{key:"Ux",get:function(){return this.Ax.Fu}},{key:"t_",get:function(){return this.$w||(this.$w=this.Xx()),this.$w}},{key:"Lx",get:function(){return this.Sx}},{key:"Cx",get:function(){return!this.Sx}},{key:"xx",get:function(){return this.Ex>0}},{key:"jd",get:function(){return this.Yd}}]),t}(),XR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Fx=void 0,r.Fx=e,r.Bx(),r}S(n,t),n.Hx=function(t,n,i){var e=void 0===t.body?i:t.body;return new Jw({Hi:e,ud:n.ud,td:n.ud.td,$l:t.headers,Jl:t.status,ed:t.statusText,od:t.url,rd:!0},n)};var i=n.prototype;return i.Xx=function(){return i=RR((t=this).ud),{get closed(){return!t.Cx},get request(){return i},get url(){return t.hd},get status(){return t.Jl},get statusText(){return t.ed},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},respondWith:function(n){return t.Nx(n)},waitUntil:function(n){return t.Ox(n)}};var t,n,i},i.Px=function(t){return n.Hx(t,this.Ix,this.Fx)},A(n,[{key:"Hl",get:function(){return this.Fx}},{key:"$l",get:function(){return this.Ix.$l}},{key:"ud",get:function(){return this.Ix.ud}},{key:"jd",get:function(){return this.Yd}},{key:"Jl",get:function(){return this.Ix.Jl}},{key:"ed",get:function(){return this.Ix.ed}},{key:"hd",get:function(){return this.Ix.od}}]),n}(UR),FR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).zx=void 0,r.Vx=void 0,r.Vx=e,r.Bx(),r}S(n,t);var i=n.prototype;return i.Xx=function(){return t=this,{get url(){return t.hd},get method(){return t.Rd},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},get closed(){return!t.Cx},get useCredentials(){return t.Pd},get type(){return BR(t.fs)},get subType(){return xR(t.Nd)},get mediaType(){return MR(t.Cd)},get responseType(){return NR(t.td)},redirect:function(n){return t.Wx(n)},respondWith:function(n){return t.Nx(n)},waitUntil:function(n){return t.Ox(n)}};var t,n},i.Px=function(t){var n=this.Ix.Hl,i=new Jw({Hi:n,$l:{},ud:this.Ix,od:this.Ix.hd,td:this.Ix.td,Jl:200,ed:"OK"});return XR.Hx(t,i,n)},i.Wx=function(t){if(!this.Cx)throw new l("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.zx=function(t,n){return new $w({hd:void 0===t.url?n.hd:t.url,Rd:void 0!==t.method?CR(t.method):void 0,$l:t.headers,Hl:t.body,Pd:t.useCredentials,fs:void 0!==t.type?PR(t.type):void 0,Nd:void 0!==t.subType?OR(t.subType):void 0,Cd:void 0!==t.mediaType?LR(t.mediaType):void 0,td:void 0!==t.responseType?DR(t.responseType):void 0},n)}(n,this.Ix),this.TA()},A(n,[{key:"Hl",get:function(){return this.Ix.Hl}},{key:"Cx",get:function(){return this.Vx&&!this.Sx}},{key:"$l",get:function(){return this.Ix.$l}},{key:"Rd",get:function(){return this.Ix.Rd}},{key:"Gx",get:function(){return this.zx}},{key:"jd",get:function(){return this.Yd}},{key:"td",get:function(){return this.Ix.td}},{key:"Dd",get:function(){return this.Ix.Dd}},{key:"Ws",get:function(){return this.Ix.Ws}},{key:"fs",get:function(){return this.Ix.fs}},{key:"Nd",get:function(){return this.Ix.Nd}},{key:"Cd",get:function(){return this.Ix.Cd}},{key:"hd",get:function(){return this.Ix.hd}},{key:"Pd",get:function(){return this.Ix.Pd}},{key:"Bd",get:function(){return this.Ix.Bd}}]),n}(UR);var HR,zR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new VR(n);return(e=t.call(this,r,i)||this).qx=void 0,e.qx=r,e}S(n,t);var i=n.prototype;return i.Yx=function(t){this.qx.Yx(t)},i.jx=function(t){this.qx.jx(t)},i.Qx=function(t){this.qx.Qx(t)},i.Zx=function(t){this.qx.Zx(t)},i.Kx=function(t){this.qx.Kx(t)},n}(n_),VR=function(){function t(t){this.Ld=void 0,this.Jx=[],this.$x=[],this.Ld=t}var n=t.prototype;return n.ud=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.tL(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof a_)){i.next=12;break}return i.next=11,Dr.awrap(this.nL(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Dr.awrap(this.iL(n,t.Ws));case 15:if(!Yw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new h_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.Od=function(t){return this.Ld.Od(t)},n.tL=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(n),i=t,r=0,s=this.Jx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],nu(n),(o=new FR(i,u,!e)).Lx){a.next=17;break}return a.prev=8,a.next=11,Dr.awrap(o.Ux);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Gx&&!e?i=o.Gx:o.jd&&!e&&(e=o.jd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Ld.ud(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.nL=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof h_?t.jd:new Jw({Hi:null,ud:t.ud,Jl:0,ed:""}),r.next=3,Dr.awrap(this.iL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Yw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new h_(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.iL=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.$x.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],nu(n),a.next=7,Dr.awrap(We.resolve(i.Lu().Hi(n)));case 7:if(u=a.sent,(o=new XR(i,s,u)).Lx){a.next=19;break}return a.prev=10,a.next=13,Dr.awrap(o.Ux);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.jd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.Yx=function(t){this.Jx.unshift(t)},n.jx=function(t){this.Jx.push(t)},n.Qx=function(t){Us(this.Jx,t)},n.Zx=function(t){this.$x.unshift(t)},n.Kx=function(t){Us(this.$x,t)},n.xd=function(){this.Ld.xd(),zs(this.Jx),zs(this.$x)},t}(),WR=function(){function t(t){this.$w=void 0,this.pE=t}var n=t.prototype;return n.Yx=function(t){this.pE.Yx(t)},n.Qx=function(t){this.pE.Qx(t)},n.Zx=function(t){this.pE.Zx(t)},n.Kx=function(t){this.pE.Kx(t)},A(t,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{addRequestInterceptor:function(n){t.Yx(n)},removeRequestInterceptor:function(n){t.Qx(n)},addResponseInterceptor:function(n){t.Zx(n)},removeResponseInterceptor:function(n){t.Kx(n)}})),this.$w}}]),t}(),GR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).$w=void 0,r.eL=function(t){r.Qs(t)},r.rL=function(t){r.Qs(t)},r.sL=n,r.pE=i,r.xC=e,r.sL.Zs(pf.Sf,r.eL),r.sL.Zs(pf.Tf,r.rL),r}S(n,t);var i=n.prototype;return i.uL=function(t){this.xC.uL(t)},i.Yx=function(t){this.pE.Yx(t)},i.Qx=function(t){this.pE.Qx(t)},i.Zx=function(t){this.pE.Zx(t)},i.Kx=function(t){this.pE.Kx(t)},i.xd=function(){this.$s(),this.sL.tu(pf.Sf,this.eL),this.sL.tu(pf.Tf,this.rL)},A(n,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get online(){return t.Iy},get estimator(){return n=t.oL,{get bandwidth(){return n.HR},get roundTripTime(){return n.zR}};var n},setEstimator:function(n){t.uL(function(t){if(t)return{get HR(){return fm(t.bandwidth)},get zR(){return fm(t.roundTripTime)},FR:function(n){return function(t){if(t)return{aL:function(n){t.markRequestStart(n)},cL:function(n){t.markResponseStart(n)},hL:function(n,i){t.markResponseData(n,i)},fL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(RR(n)))}}}(n))},addRequestInterceptor:function(n){t.Yx(n)},removeRequestInterceptor:function(n){t.Qx(n)},addResponseInterceptor:function(n){t.Zx(n)},removeResponseInterceptor:function(n){t.Kx(n)},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.$w}},{key:"Iy",get:function(){return this.sL.Iy}},{key:"oL",get:function(){return this.xC.oL}}]),n}(wu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(HR||(HR={}));var qR=30,YR=1,jR=5;function QR(t,n,i,e,r,s){var u=[],o=t-w.max(s,YR),a=t+r;if(n&&i){var c=Mt(i,YR,jR),h=n-c;o=w.min(o,h);var f=n+i+c;a=w.max(a,f)}return 0!==o&&e.aC(0,o)&&u.push([0,o]),e.aC(a,1/0)&&u.push([a,1/0]),u}function ZR(t){return t instanceof v&&"QuotaExceededError"===t.name}var KR={type:HR.BANDWIDTH},JR=20;function $R(t){var n,i,e,r=sm(KR);return q(t)?r.type=tD(t):W(t)&&function(t){switch(t){case HR.PERFORMANCE:case HR.QUALITY:case HR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=tD(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=hm(n.bitrate),m(e)||(i.bitrate=e),i)),r}function tD(t){switch(t){case"bandwidth":return HR.BANDWIDTH;case"performance":return HR.PERFORMANCE;case"quality":return HR.QUALITY}}var nD=function(t){function n(n){var i;return(i=t.call(this,"lL")||this).vL=n,i}return S(n,t),n}(gu),iD=function(t){function n(n){var i;return(i=t.call(this,"wL")||this).dL=n,i}return S(n,t),n}(gu),eD=function(t){function n(n){var i;return(i=t.call(this,"gL")||this)._L=n,i}return S(n,t),n}(gu),rD=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).$w=(i=Kt(n),{get strategy(){return{metadata:(t=i.dL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.dL=$R(t)},get targetBuffer(){return i.vL},set targetBuffer(t){var n=hm(t);m(n)||(i.vL=n)},get bufferLookbackWindow(){return i._L},set bufferLookbackWindow(t){var n=hm(t);m(n)||(i._L=n<=0?qR:n)},get maxBufferLength(){return i.mL}}),n.yL=KR,n.kL=JR,n.bL=qR,n.pL=1/0,n.AL=void 0,n.TL=void 0,n}S(n,t);var i=n.prototype;return i.SL=function(t){this.TL=t},i.uL=function(t){this.AL=t},i.EL=function(t){var n=w.min(t,.8*this.pL);if(n=w.max(10,n),this.pL===n)return!1;var i=this.IL;this.pL=n;var e=this.IL;return e!==i&&this.Qs(new nD(e)),!0},A(n,[{key:"RL",get:function(){switch(this.yL.type){case HR.PERFORMANCE:return 0;case HR.QUALITY:return 1/0;case HR.BANDWIDTH:return this.yL.metadata&&void 0!==this.yL.metadata.bitrate?this.yL.metadata.bitrate:8*xm.Ig();default:return 8*xm.Ig()}}},{key:"t_",get:function(){return this.$w}},{key:"dL",get:function(){return this.yL},set:function(t){this.yL=t,this.Qs(new iD(t))}},{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t,this.Qs(new nD(t))}},{key:"IL",get:function(){return w.min(this.kL,this.pL)}},{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t,this.Qs(new eD(t))}},{key:"mL",get:function(){return this.pL}},{key:"oL",get:function(){var t;return null!=(t=this.AL)?t:this.TL.sN}}]),n}(wu),sD=function(t){function n(){return t.call(this,"d_")||this}return S(n,t),n.prototype.n_=function(){return new uD},n}(Vg),uD=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(gu),oD=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).DL=void 0,r.rO=void 0,r.NL=function(t){Wg(t)&&au(function(){r.Qs(t.t_)})},r.DL=n,r.rO=i;for(var s=0,u=r.rO;s<u.length;s++){var o=u[s];r.DL.Zs(o,r.NL)}return r}return S(n,t),n.prototype.xd=function(){this.$s();for(var t=0,n=this.rO;t<n.length;t++){var i=n[t];this.DL.tu(i,this.NL)}},n}(wu),aD=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).DL=void 0,e.NL=function(t){Wg(t)&&au(function(){e.Qs(t.t_)})},e.DL=n,e.DL.Js(e.NL),e}return S(n,t),n.prototype.xd=function(){this.$s(),this.DL.ou(this.NL)},n}(Cm);var cD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).wk=0,n._k=1/0,n.$w=void 0,n}S(n,t);var i=n.prototype;return i.D_=function(){0===this.wk&&this._k===1/0||(this.wk=0,this._k=1/0,this.Qs(new sD))},i.CL=function(){return new nE([this.Jy,this.$y],[!0,!0])},A(n,[{key:"Jy",get:function(){return this.wk},set:function(t){if(this.$y<=t)throw new v("Start time of a clip should be smaller than the end time.");this.wk!==t&&(this.wk=t,this.Qs(new sD))}},{key:"$y",get:function(){return this._k},set:function(t){if(t<=this.Jy)throw new v("End time of a clip should be larger than the start time.");this._k!==t&&(this._k=t,this.Qs(new sD))}},{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get startTime(){return t.Jy},set startTime(n){t.Jy=n},get endTime(){return t.$y},set endTime(n){t.$y=n},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new aD(t=this,i),i)),this.$w}}]),n}(Cm),hD=function(t){function n(n){var i;return(i=t.call(this)||this).PL=function(t){i.BL(t)||i.Qs(t)},i.OL=n,i.OL.Js(i.PL),i}S(n,t);var i=n.prototype;return i.xL=function(){return this.OL.Lm},i.ey=function(){return this.OL.ey()},i.LL=function(){return this.OL.wy},i.ML=function(){return this.OL.vy},i.UL=function(){return this.OL._y},i.XL=function(t){this.OL._y=t},i.FL=function(){return this.OL.jg},i.HL=function(t){this.OL.jg=t},i.zL=function(){return this.OL.Qg},i.VL=function(){return this.OL.gy},i.WL=function(){return this.OL.Zg},i.GL=function(){return this.OL.mu},i.qL=function(){return this.OL.Kg},i.YL=function(){return this.OL.yy},i.jL=function(){return this.OL.Jg},i.QL=function(t){this.OL.Jg=t},i.ZL=function(){return this.OL.Iy},i.KL=function(){return this.OL.$g},i.JL=function(){return this.OL.tm},i.$L=function(t){this.OL.tm=t},i.tM=function(){return this.OL.Ry},i.nM=function(){return this.OL.Dy},i.iM=function(t){this.OL.Dy=t},i.eM=function(){return this.OL.ag},i.rM=function(){return this.OL.Ny},i.sM=function(){return this.OL.nm},i.Vm=function(){return this.OL.Vm()},i.Wm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(this.OL.Wm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.uM=function(){return this.OL.Um},i.oM=function(){return this.OL.im},i.aM=function(){return this.OL.Mm},i.cM=function(){return this.OL.um},i.hM=function(){return this.OL.cm},i.fM=function(t){this.OL.cm=t},i.iy=function(){return this.OL.iy()},i.$m=function(){return this.OL.$m()},i.Qm=function(t){this.OL.Qm(t)},i.Zm=function(){this.OL.Zm()},i.Jm=function(){this.OL.Jm()},i.jm=function(){this.OL.jm()},i.Hm=function(){this.OL.Hm()},i.Fm=function(){this.OL.Fm()},i.Km=function(){this.OL.Km()},i.zm=function(){return this.OL.zm()},i.Gm=function(){return this.OL.Gm()},i.qm=function(){this.OL.qm()},i.Ym=function(){this.OL.Ym()},i.D_=function(){return this.OL.D_()},i.xd=function(){return this.OL.xd()},i.ly=function(){this.OL.ly()},i.sy=function(t){return this.OL.sy(t)},i.BL=function(t){return!1},A(n,[{key:"Lm",get:function(){return this.xL()}},{key:"wy",get:function(){return this.LL()}},{key:"_y",get:function(){return this.UL()},set:function(t){this.XL(t)}},{key:"vy",get:function(){return this.ML()}},{key:"jg",get:function(){return this.FL()},set:function(t){this.HL(t)}},{key:"Qg",get:function(){return this.zL()}},{key:"gy",get:function(){return this.VL()}},{key:"Zg",get:function(){return this.WL()}},{key:"mu",get:function(){return this.GL()}},{key:"Kg",get:function(){return this.qL()}},{key:"Xm",get:function(){return this.OL.Xm}},{key:"yy",get:function(){return this.YL()}},{key:"Tm",get:function(){return this.OL.Tm}},{key:"Jg",get:function(){return this.jL()},set:function(t){this.QL(t)}},{key:"Iy",get:function(){return this.ZL()}},{key:"$g",get:function(){return this.KL()}},{key:"tm",get:function(){return this.JL()},set:function(t){this.$L(t)}},{key:"Ry",get:function(){return this.tM()}},{key:"Dy",get:function(){return this.nM()},set:function(t){this.iM(t)}},{key:"ag",get:function(){return this.eM()}},{key:"Ny",get:function(){return this.rM()}},{key:"nm",get:function(){return this.sM()}},{key:"Um",get:function(){return this.uM()}},{key:"im",get:function(){return this.oM()}},{key:"Mm",get:function(){return this.aM()}},{key:"um",get:function(){return this.cM()}},{key:"cm",get:function(){return this.hM()},set:function(t){this.fM(t)}},{key:"Cy",get:function(){return this.OL.Cy}},{key:"Py",get:function(){return this.OL.Py},set:function(t){this.OL.Py=t}}]),n}(Pm),fD=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).vM=void 0,r.lM=!1,r.dM=void 0,r.wM=!1,r._M=function(){r.gM(),r.mM()},r.yD=function(){r.yM(),r.mM(),r.kM&&r.jg>=r.vM.$y-n.bM&&!r.Zg&&(r.dM=fR(r.yD))},r.pM=function(){r.wM=!0},r.AM=function(){r.wM&&(r.wM=!1,r.mM())},r.vM=e,r.vM.Zs("d_",r._M),r.OL.Zs("timeupdate",r.yD),r}S(n,t);var i=n.prototype;return i.HL=function(n){var i=this.vM.CL().YN(n);t.prototype.HL.call(this,i),this.mM()},i.WL=function(){return t.prototype.WL.call(this)||this.lM},i.rM=function(){return nE.gC(t.prototype.rM.call(this)).ZN(this.vM.CL()).nN()},i.Fm=function(){this.WL()?this.HL(this.TM.start(0)):this.gM(),t.prototype.Fm.call(this),this.mM()},i.Wm=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),this.lM=!1,this.vM.D_(),e.next=5,Dr.awrap(t.prototype.Wm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.xd=function(){return this.vM.tu("d_",this._M),this.OL.tu("timeupdate",this.yD),this.yM(),t.prototype.xd.call(this)},i.BL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.pM(),!0;case"seeked":case"emptied":return this.Qs(n),this.AM(),!0;case"ended":if(this.kM)return!0}return t.prototype.BL.call(this,n)},i.yM=function(){this.dM&&(vR(this.dM),this.dM=void 0)},i.mM=function(){var t=this.jg,i=this.kM&&t>=this.vM.$y-n.Hb;this.lM&&!i?(this.lM=!1,this.$g&&this.Fm()):this.lM||!i||this.nm||this.wM||(this.lM=!0,this.Qs(new wy(t)),this.Hm())},i.gM=function(){if(this.Qg!==1/0){var t=this.TM,i=nE.gC(t).YN(this.jg);Ut(this.jg,i,n.Hb)||this.HL(i)}},A(n,[{key:"TM",get:function(){return this.rM().length?this.rM():this.vM.CL().nN()}},{key:"kM",get:function(){return this.vM.$y<this.Qg}}]),n}(hD);fD.bM=1,fD.Hb=.001;var vD=function(){function t(){this.SM=void 0,this.SM=!1}return A(t,[{key:"EM",get:function(){return this.SM},set:function(t){this.SM=t}}]),t}(),lD=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).SM=void 0,e.IM=!1,e.RM=!1,e.SM=i,e}S(n,t);var i=n.prototype;return i.WL=function(){return!this.SM.EM&&t.prototype.WL.call(this)},i.Hm=function(){this.RM=!0,t.prototype.Hm.call(this)},i.Fm=function(){this.RM=!1,t.prototype.Fm.call(this)},i.BL=function(n){if(this.SM.EM)switch(n.type){case"ended":return this.jg=0,this.RM||(this.nm?this.IM=!0:this.Fm()),!0;case"seeked":this.IM&&(this.IM=!1,this.Fm());break;case"pause":if(this.IM||t.prototype.WL.call(this))return!0}return t.prototype.BL.call(this,n)},n}(hD);var dD=function(){function t(t){var n;this.$w=(n=this,{get currentBandwidthEstimate(){return n.Ty},get corruptedVideoFrames(){return n.py},get droppedVideoFrames(){return n.by},get totalBytesLoaded(){return n.Sy},get bufferedSegments(){return n.Ey}}),this.IN=t}return A(t,[{key:"t_",get:function(){return this.$w}},{key:"py",get:function(){return this.IN.DM.Tm.py}},{key:"Ty",get:function(){return this.IN.DM.Tm.Ty}},{key:"by",get:function(){return this.IN.DM.Tm.by}},{key:"NM",get:function(){throw new v("Not implemented")}},{key:"CM",get:function(){throw new v("Not implemented")}},{key:"Sy",get:function(){return this.IN.DM.Tm.Sy}},{key:"Ay",get:function(){return this.IN.DM.Tm.Ay}},{key:"Ey",get:function(){return this.IN.DM.Tm.Ey}}]),t}();function wD(t){if(!t||!sr(t))return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{by:n.droppedVideoFrames,py:n.corruptedVideoFrames||0,Ay:n.totalVideoFrames}}return{by:t.webkitDroppedFrameCount||0,py:0,Ay:t.webkitDecodedFrameCount||0}}var _D=function(t){function n(){return t.call(this,"PM")||this}return S(n,t),n.prototype.n_=function(){return new gD},n}(Vg),gD=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(gu);var mD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).BM=[],n.OM=!1,n.$w=void 0,n.xM=function(){var t=n.OM,i=n.LM;t!==i&&(n.OM=i,n.Qs(new _D))},n}S(n,t);var i=n.prototype;return i.MM=function(t){this.BM.push(t),t.Zs("statechange",this.xM)},i.xd=function(){for(var t=0,n=this.BM;t<n.length;t++){n[t].tu("statechange",this.xM)}zs(this.BM)},A(n,[{key:"LM",get:function(){return this.BM.some(function(t){return t.LM})}},{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get casting(){return t.LM},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new oD(t=this,["PM"],i),i)),this.$w}}]),n}(wu),yD=function(){function t(){}return t.UM=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new $w({hd:t,td:Af.$n,Rd:jw.GET}),s.next=4,Dr.awrap(n.ud(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Hi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),tu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.XM=function(t){try{var i=AI(t);return new DI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new nf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.FM=function(t){void 0===t&&(t=VI._p),i.gr("The baked-in license is used. Please update the configuration with your license.");var n=t.oB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.oB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.oB(n)}),s=Number(new Date(Number(t.oB("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.oB(n)});return new DI(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new DI(t.wB,t._B,t.gB,864e13,t.yB,t.kB,Date.now(),t.pB,t.AB)},t}(),kD=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=bD.dh()?new bD:new gf),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t.HM=function(n){var i=t.Iu(n);if(void 0!==i)return g(i)},t.zM=function(n){return"true"===t.Iu(n)},t}();kD.Yn=void 0;var bD=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.dh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Nu=function(n){t.localStorage.removeItem(n)},e.if=function(){t.localStorage.clear()},e.Iu=function(n){return t.localStorage[n]},e.ef=function(n,i){t.localStorage[n]=i},i}(kD),pD=w.floor(14399999*w.random()-72e5),AD=function(){function t(t,n,i,e,r,s){this.IB=void 0,this.pE=t,this.VM=n,this.WM=i,this.fO=e,this.GM=r,this.Qo=s,this.IB=LI(s)}var i=t.prototype;return i.qM=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.YM(this.GM.license,this.GM.licenseUrl));case 2:t=n.sent,this.fO.jM(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.YM=function(t,i){var e,r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=yD.XM(t):e||(r=yD.FM()),e||(e="https://validate.theoplayer.com/1/"+r.wB),s=this.QM(),!r){v.next=14;break}if((u=this.VM.BB(r))!==SI.vB){v.next=14;break}if(!this.ZM(r.mB)||!this.ZM(null==s?void 0:s.mB)){v.next=13;break}return v.next=10,Dr.awrap(this.KM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.VM.BB(s)!==SI.vB){v.next=24;break}if(!this.ZM(null==s?void 0:s.mB)){v.next=23;break}return v.next=20,Dr.awrap(this.KM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:kD.Nu("THEOplayer.license");case 25:return v.next=27,Dr.awrap(yD.UM(e,this.pE));case 27:if(!(c=v.sent)){v.next=37;break}if(h=yD.XM(c),this.VM.BB(h)!==SI.vB){v.next=34;break}return kD.ef("THEOplayer.license",c),v.abrupt("return",h);case 34:kD.Nu("THEOplayer.license"),v.next=39;break;case 37:if(this.IB||!r||u!==SI.lB||e!=="https://validate.theoplayer.com/1/"+r.wB){v.next=39;break}return v.abrupt("return",yD.convertLicenseToDummyLicense(r));case 39:if(!r&&!h){v.next=43;break}this.JM(null!=(f=r)?f:h,new nf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new nf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,We)},i.NB=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.fO.mO());case 2:if(n=a.sent,!this.ZM(n.mB)){a.next=9;break}return e=null!=(i=this.GM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.wB,a.next=7,Dr.awrap(this.KM(e));case 7:(r=a.sent)&&(this.fO.jM(r),n=r);case 9:if(a.prev=9,(s=this.VM.BB(n))!==SI.dB){a.next=16;break}throw u=RI.TB,new nf(CI(u),UI.PB(u));case 16:if(s!==SI.lB){a.next=19;break}throw o=RI.lB,new nf(CI(o),UI.PB(o));case 19:this.VM.NB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.$M(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.MB=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.fO.mO());case 2:n=i.sent;try{this.VM.MB(t,n)}catch(t){this.$M(t)}case 4:case"end":return i.stop()}},null,this,null,We)},i.KM=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr.awrap(yD.UM(t,this.pE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=yD.XM(n),this.VM.BB(i)!==SI.vB){e.next=11;break}return kD.ef("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.ZM=function(t){return!t||Number(new Date)+2592e5+pD>=t},i.QM=function(){var t=kD.Iu("THEOplayer.license");if(t)return yD.XM(t)},i.JM=function(t,n){this.fO.jM(t),this.$M(n)},i.$M=function(t){throw at(t.message),this.WM.bO(t.message),t},t}(),TD=function(){function t(){this.tU=void 0,this.nU=new Go}var n=t.prototype;return n.jM=function(t){this.tU=t,this.nU.Wu()},n.mO=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tU){t.next=2;break}return t.abrupt("return",We.resolve(this.tU));case 2:return t.next=4,Dr.awrap(this.nU.Fu);case 4:return t.abrupt("return",this.tU);case 5:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"iU",get:function(){return this.tU}}]),t}(),SD=function(t){function n(){return t.call(this,"d_")||this}return S(n,t),n.prototype.n_=function(){return new ED},n}(Vg),ED=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(gu);function ID(t){var n,i={get fontFamily(){return t.eU},set fontFamily(n){t.eU=n},get fontColor(){return t.rU},set fontColor(n){t.rU=n},get fontSize(){return t.sU},set fontSize(n){t.sU=n},get backgroundColor(){return t.uU},set backgroundColor(n){t.uU=n},get windowColor(){return t.oU},set windowColor(n){t.oU=n},get edgeStyle(){return t.aU},set edgeStyle(n){t.aU=n},get marginTop(){return t.cU},set marginTop(n){t.cU=n},get marginBottom(){return t.hU},set marginBottom(n){t.hU=n},get marginLeft(){return t.fU},set marginLeft(n){t.fU=n},get marginRight(){return t.vU},set marginRight(n){t.vU=n},addEventListener:function(t,i){var e=dm(t,vm);n.Zs(e,i)},removeEventListener:function(t,i){var e=dm(t,vm);n.tu(e,i)}};return n=new _u(i),t.Zs(["d_"],function(t){return n.Qs(t.t_)}),i}var RD={eU:void 0,rU:void 0,sU:void 0,uU:void 0,oU:void 0,aU:void 0,lU:void 0,cU:void 0,hU:void 0,fU:void 0,vU:void 0},DD="THEOplayer.textTrackStyle.",ND=function(t){function n(){var i;return(i=t.call(this)||this).dU=void 0,i.$w=void 0,i.dU=n.wU(),i}return S(n,t),n.prototype.qc=function(t){this.dU=Nr({},this.dU,t),n._U(this.dU),this.Qs(new SD)},n.wU=function(){var t=Nr({},RD);return t.eU=kD.Iu(DD+"fontFamily")||t.eU,t.rU=kD.Iu(DD+"fontColor")||t.rU,t.sU=kD.Iu(DD+"fontSize")||t.sU,t.uU=kD.Iu(DD+"backgroundColor")||t.uU,t.oU=kD.Iu(DD+"windowColor")||t.oU,t.aU=kD.Iu(DD+"edgeStyle")||t.aU,t},n._U=function(t){kD.ef(DD+"fontFamily",t.eU||""),kD.ef(DD+"fontColor",t.rU||""),kD.ef(DD+"fontSize",t.sU||""),kD.ef(DD+"backgroundColor",t.uU||""),kD.ef(DD+"windowColor",t.oU||""),kD.ef(DD+"edgeStyle",t.aU||"")},A(n,[{key:"gU",get:function(){return this.dU}},{key:"eU",get:function(){return this.dU.eU},set:function(t){this.qc({eU:t})}},{key:"rU",get:function(){return this.dU.rU},set:function(t){this.qc({rU:t})}},{key:"sU",get:function(){return this.dU.sU},set:function(t){this.qc({sU:t})}},{key:"uU",get:function(){return this.dU.uU},set:function(t){this.qc({uU:t})}},{key:"oU",get:function(){return this.dU.oU},set:function(t){this.qc({oU:t})}},{key:"aU",get:function(){return this.dU.aU},set:function(t){this.qc({aU:t})}},{key:"lU",get:function(){return this.dU.lU}},{key:"cU",get:function(){return this.dU.cU},set:function(t){this.qc({cU:t})}},{key:"hU",get:function(){return this.dU.hU},set:function(t){this.qc({hU:t})}},{key:"vU",get:function(){return this.dU.vU},set:function(t){this.qc({vU:t})}},{key:"fU",get:function(){return this.dU.fU},set:function(t){this.qc({fU:t})}},{key:"t_",get:function(){return this.$w||(this.$w=ID(this)),this.$w}}]),n}(wu);function CD(t,n){var i,e;t.style.marginLeft=(null!=(i=n.fU)?i:0)+"px",t.style.marginRight=(null!=(e=n.vU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var PD,BD,OD=function(t){function n(n,e){var r;(r=t.call(this)||this).mU=void 0,r.nh=void 0,r.DM=void 0,r.yU=void 0,r.jw=void 0,r.vM=void 0,r.SM=void 0,r.kU=void 0,r.bU=void 0,r.xC=void 0,r.VM=void 0,r.pU=void 0,r.AU=void 0,r.OC=void 0,r.TU=!1,r.Dm=!1,r.Uy=void 0,r.SU=!1,r.EU=void 0,r.IU=void 0,r.RU=void 0,r.DU=void 0,r.NU=void 0,r.CU=function(t){if(!r.SU){r.SU=!0;var n=r.mU,i=jy(t);r.DM.M_=new oE(r.gy,i,t),cu(n.xd())}},r.PU=function(t){r.Qs(t.t_)},r.BU=function(t){t.type!==pf.Sf&&t.type!==pf.Tf&&r.Qs(t)};var s=hm(e.uid);m(s)?r.Uy=ik++:r.Uy=s,r.nh=e;var u=i.jw,o=new TD;r.yU=new tR("4.3.0",u,o),r.jw=new zR(u,e.allowMixedContent),r.xC=new rD,r.VM=new NI(e.isEmbeddable,"4.3.0",TI()),r.NU=new AD(u,r.VM,r.yU,o,e,TI()),r.NU.qM().catch(r.CU),r.pU=new kR(n),r.pU.Zs("CO",r.PU),r.OC=new ND,r.vM=new cD,r.SM=new vD;var a=new uE(n,e,r.jw,r.xC,r.pU,r.OC);r.xC.SL(a);var c=a;c=new fD(c,r.OU),c=new lD(c,r.EM),r.mU=c,r.DM=new Wy(r.mU),r.DM.Js(r.BU),r.DU=new dD(Kt(r)),r.IU=new GR(r.DM,r.jw,r.xC),r.kU=new eR(Kt(r)),r.AU=new IR(r.DM,e.allowNativeFullscreen),r.bU=new SE(r.AU),r.pU.rh();var h=new he(r.pU,r.OC,1,[Qy.Ed]);return r.EU=new fe(h),r.RU=new mD,r}S(n,t);var e=n.prototype;return e.QL=function(t){this.DM.Jg=t,t||this.$g||this.jm()},e.fM=function(t){this.DM.cm=t},e.xU=function(){Iy(this,EE,this)},e.Fm=function(){this.DM.Fm()},e.Hm=function(){this.DM.Hm()},e.Wm=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.NU.NB(t).catch(this.CU),i=xD(t),e.next=5,Dr.awrap(this.DM.Wm(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.jm=function(){this.Dm||(this.DM.jm(),this.EU.jm(),this.Dm=!0)},e.pC=function(){return this.bU.oP()===kE.FULLSCREEN},e.Km=function(){this.DM.Km()},e.Jm=function(){this.DM.Jm()},e.$m=function(){return this.DM.$m()},e.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.DM.zm());case 2:return t.next=4,Dr.awrap(this.DM.D_());case 4:case"end":return t.stop()}},null,this,null,We)},e.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.RU.xd(),this.jw.xd(),this.IU.xd(),this.AU.xd(),this.bU.xd(),this.pU.xd(),this.yU.xd(),this.EU.xd(),t.next=11,Dr.awrap(this.DM.xd());case 11:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"LU",get:function(){return this.xC}},{key:"Om",get:function(){return this.TU},set:function(t){this.TU=t,this.DM.Om=t}},{key:"MU",get:function(){return this.EU}},{key:"Lm",get:function(){return this.DM.Lm}},{key:"UU",get:function(){return this.RU}},{key:"XU",get:function(){return this.pU}},{key:"Xm",get:function(){return this.DM.Xm}},{key:"Tm",get:function(){return this.DU}},{key:"FU",get:function(){return this.IU}},{key:"Um",get:function(){return this.DM.Um}},{key:"HU",get:function(){return this.OC}},{key:"Mm",get:function(){return this.DM.Mm}},{key:"wy",get:function(){return this.DM.wy}},{key:"OU",get:function(){return this.vM}},{key:"EM",get:function(){return this.SM}},{key:"jg",get:function(){return this.DM.jg},set:function(t){this.DM.jg=t}},{key:"_y",get:function(){return this.DM._y},set:function(t){this.DM._y=t}},{key:"vy",get:function(){return this.DM.vy}},{key:"Qg",get:function(){return this.DM.Qg}},{key:"gy",get:function(){return this.DM.gy}},{key:"Zg",get:function(){return this.DM.Zg}},{key:"mu",get:function(){return this.DM.mu}},{key:"Kg",get:function(){return this.DM.Kg}},{key:"Jg",get:function(){return this.DM.Jg},set:function(t){var n=Boolean(t);this.QL(n)}},{key:"$g",get:function(){return this.DM.$g}},{key:"tm",get:function(){return this.DM.tm},set:function(t){this.DM.tm=t}},{key:"Ry",get:function(){return this.DM.Ry}},{key:"Dy",get:function(){return this.DM.Dy},set:function(t){this.DM.Dy=QS(t)}},{key:"ag",get:function(){return this.DM.ag}},{key:"Ny",get:function(){return this.DM.Ny}},{key:"nm",get:function(){return this.DM.nm}},{key:"z_",get:function(){return this.Uy}},{key:"im",get:function(){return this.DM.im}},{key:"um",get:function(){return this.DM.um}},{key:"cm",get:function(){return this.DM.cm},set:function(t){var n=Mt(Number(t),0,1)||0;this.fM(n)}},{key:"Cy",get:function(){return this.DM.Cy}}]),n}(Pm);function xD(t){t.sources;var n=t.sources.filter(function(t){return H(t.integration)});return t.sources=n,t}!function(t){t[t.zU=0]="zU",t[t.VU=1]="VU"}(PD||(PD={})),function(t){t[t.WU=0]="WU"}(BD||(BD={}));var LD={};function MD(t,n){(LD[n]||(LD[n]=[])).push(t)}function UD(t,n){var i=t;if(LD[n])for(var e=0,r=LD[n];e<r.length;e++){i=(0,r[e])(i)}return i}var XD=[];function FD(t){XD.push(t)}var HD=t.CustomEvent;var zD=function(){try{var t=new HD("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},VD=function(){function t(t,n){var i=this;this.IN=void 0,this.GU=void 0,this.qU=!1,this.YU=function(t){i.GU.kO(t.error,i.jg)},this.jU=function(){i.GU.gO(i.QU),i.IN.removeEventListener("playing",i.jU),i.qU=!1},this.ZU=function(){i.qU||(i.IN.addEventListener("playing",i.jU),i.qU=!0)},this.GU=n,this.IN=t,this.IN.addEventListener("error",this.YU),this.IN.addEventListener("sourcechange",this.ZU),this.ZU()}return t.prototype.D_=function(){},A(t,[{key:"jg",get:function(){var t=this.IN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"QU",get:function(){return this.IN.src||""}}]),t}();FD(function(t){new VD(t.t_,t.yU)});var WD="theoplayer-stored-volume",GD="theoplayer-stored-mutedstate";MD(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=kD.HM(WD);(void 0===r||m(r))&&(r=1);var s=kD.zM(GD)||!1;e.cm=r,e.Jg=s}return e}S(n,t);var i=n.prototype;return i.QL=function(n){this.nh.persistVolume&&kD.ef(GD,""+Boolean(n)),t.prototype.QL.call(this,n)},i.fM=function(n){this.nh.persistVolume&&kD.ef(WD,""+Number(n)),t.prototype.fM.call(this,n)},n}(t)},PD.VU);var qD=new(function(){function t(){this.KU=[],this.$w=void 0}var n=t.prototype;return n.S_=function(t){return this.KU[t]},n.JU=function(t){this.KU.push(t),this.t_.push(t.t_)},n.Gc=function(t){var n=this.KU.indexOf(t);n<0||(Xs(this.KU,n),this.$w&&Xs(this.$w,n))},n.$U=function(t){for(var n=0,i=this.KU;n<i.length;n++){var e=i[n];if(e.z_===t)return e}},A(t,[{key:"C_",get:function(){return this.KU.length}},{key:"t_",get:function(){return this.$w||(this.$w=function(t){for(var n=[],i=0;i<t.C_;i++)n[i]=t.S_(i).t_;return n.getPlayerByUID=function(n){var i=t.$U(n);return i&&i.t_},n}(this)),this.$w}}]),t}()),YD=function(){function t(t){var n=this;this.tX=[],this.nX=void 0,this.$v=new Js,this.iX=void 0,this.eX=function(){return 0===n.tX.length?n.iX?jD(n.iX,n.$v.Ws).then(n.rX,n.rX):n.rX():n.tX.shift()().then(n.eX)},this.rX=function(){if(0!==n.tX.length)return n.eX();n.nX=void 0},this.iX=t}var n=t.prototype;return n.sX=function(t,n){var i=this;return new We(function(e){var r=new Js;r.zs(i.$v.Ws),n&&r.zs(n);var s=function(){r.xs()};i.tX.push(function(){var n=jD(t,r.Ws);return e(n),n.then(s,s)}),i.nX||(i.nX=i.eX())})},n.Hs=function(){return this.uX(!0)},n.xd=function(){return this.iX=void 0,this.uX(!1)},n.uX=function(t){var n=this.nX;return this.$v.Hs(),t&&(this.$v=new Js),We.resolve(n)},t}();function jD(t,n){return new We(function(i){return i(t(n))})}var QD,ZD=function(t){function n(n){var i;return(i=t.call(this,pf.Xf)||this).source=n,i}return S(n,t),n}(gu),KD=function(t){function n(){var n;return(n=t.call(this)||this).SC=void 0,n.IC=void 0,n.DC=void 0,n.RC=void 0,n.SC=0,n.IC=!0,n.DC=!1,n.RC=1,n}S(n,t);var i=n.prototype;return i.Fm=function(){this.IC&&(this.IC=!1,this.Qs(new oy(this.jg)),this.Qs(new oA(this.jg)))},i.Hm=function(){this.IC||(this.IC=!0,this.Qs(new dy(this.jg,this._y)),this.Qs(new uy(this.jg)))},i.D_=function(){this.SC=0,this.DC=!1,this.RC=1,this.Hm(),this.Qs(new sy(this.SC))},i.xd=function(){this.$s()},i.Jm=function(){},i.Km=function(){},A(n,[{key:"_y",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.SC},set:function(t){this.DC&&this.SC===t||(this.SC=t,this.DC=!0,this.Qs(new gy(this.jg)))}},{key:"$g",get:function(){return this.IC}},{key:"tm",get:function(){return this.RC},set:function(t){this.RC!==t&&(this.RC=t,this.Qs(new ly(this.jg,this.tm)))}},{key:"ag",get:function(){return Hm.Mg}},{key:"nm",get:function(){return this.DC}}]),n}(Cm),JD=function(t){function n(){return t.call(this,pf.wf)||this}return S(n,t),n}(gu),$D={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},tN={visibility:"hidden"},nN={visibility:"visible"},iN=function(){function t(t){var n,i=this;this.pN=void 0,this.IN=void 0,this.oX=!1,this.aX=void 0,this.cX=void 0,this.hX=function(t){var n;i.oX=!1,i.aX=null==(n=t.source)?void 0:n.poster,i.qc()},this.VE=function(){i.oX=!0,i.Jm()},this.IN=t,this.CN(),this.pN=((n=le&&le.document&&le.document.createElement("div")).className="theoplayer-poster",ir($D,n),n),t.gy.appendChild(this.pN)}var n=t.prototype;return n.qc=function(){var t=this.IN.$g,n=this.oX;this.hd?this.pN.style.backgroundImage='url("'+this.hd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.pN.style.backgroundImage="",t&&this.hd&&!n?this.Km():this.Jm()},n.Km=function(){ir(tN,this.IN.gy),ir(nN,this.pN)},n.Jm=function(){ir(tN,this.pN),ir(nN,this.IN.gy)},n.CN=function(){this.IN.Zs("sourcechange",this.hX),this.IN.Zs("play",this.VE)},n.xd=function(){this.IN.tu("sourcechange",this.hX),this.IN.tu("play",this.VE),$e(this.pN)},A(t,[{key:"hd",get:function(){return void 0!==this.aX?this.aX:void 0!==this.cX?this.cX:void 0}},{key:"fX",set:function(t){this.cX=t,this.qc()}}]),t}();function eN(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).IN=void 0,r.vX=void 0,r.lX=void 0,r.dX=void 0,r.wX=void 0,r._X=void 0,r.gX=void 0,r.mX=void 0,r.NN=void 0,r.DN=void 0,r.aD=void 0,r.FC=void 0,r.$w=void 0,r.yX=function(t){t.type!==pf.Df&&r.mX.push(t)},r.vX=new t(n,e),r.lX=new KD,r.IN=r.vX,r.dX=new iN(Kt(r)),r._X=new YD,r.gX=!1,r.mX=[],r.NN=!0,r.CN(),r}S(e,i);var r=e.prototype;return r.sX=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this._X.sX(t,n).catch(eu));case 1:case"end":return i.stop()}},null,this,null,We)},r.kX=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),this.vX.Js(this.yX),i.next=4,Dr.awrap(this.vX.Wm(t,n));case 4:this.vX.ou(this.yX);case 5:case"end":return i.stop()}},null,this,null,We)},r.bX=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Vm())&&!JE(t)&&this.Om&&this.$g){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.nh.mutedAutoplay,e.next=6,Dr.awrap(this.MU.pX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.AX(),e.abrupt("break",14);case 12:return(this.Jg||n===ay.ALL)&&(this.Jg=!0,this.Fm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.Wm=function(t){var i=this,e=this.DN;e&&!JE(e)&&this.Qs(new sy(0,0)),this.D_(),this.DN=t,cu(this.sX(function(e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return nu(e),r.prev=1,r.next=4,Dr.awrap(i.kX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.DN=void 0,i.mD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof nf?s:s instanceof v?new nf(u,s.message,s):new nf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Dr.awrap(i.TX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],We)}))},r.TX=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SX(this.vX),this.Qs(new ZD(this.Vm())),t.next=4,Dr.awrap(this.bX());case 4:case"end":return t.stop()}},null,this,null,We)},r.HL=function(t){this.IN.jg=t},r.GL=function(){var t;return null!=(t=this.FC)?t:this.vX.mu},r.qL=function(){var t;return null!=(t=this.aD)?t:this.vX.Kg},r.mD=function(t){void 0===this.qL()&&(this.aD=t,this.FC=jy(t),this.Qs(new Ay(t)))},r.Fm=function(){this.IN.Fm()},r.AX=function(){this.Jg||this.jm(),this.Fm()},r.jm=function(){this.vX.jm()},r.Hm=function(){this.IN.Hm()},r.zm=function(){this.Wm(void 0)},r.Km=function(){this.NN=!0,this.IN.Km()},r.Jm=function(){this.NN=!1,this.IN.Jm()},r.xU=function(){this.vX.xU()},r.fM=function(t){this.vX.fM(t)},r.QL=function(t){this.vX.QL(t)},r.EX=function(t){this.wX=t,t.JU(this)},r.pC=function(){return this.vX.pC()},r.Vm=function(){return this.DN},r.$m=function(){return this.vX.$m()},r.FL=function(){return this.vX.jg},r.zL=function(){return this.vX.Qg},r.LL=function(){return this.vX.wy},r.tM=function(){return this.vX.Ry},r.rM=function(){return this.vX.Ny},r.D_=function(){var t=this;this.DN=void 0,this.aD=void 0,this.FC=void 0,zs(this.mX),this.lX.D_(),this.SX(this.lX),this._X.Hs(),cu(this._X.sX(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(t.vX.D_());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.xd=function(){var t=this;this.Qs(new JD),this.dX.xd(),this.PN(),this.D_(),cu(this.sX(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.vX.xd());case 2:t.wX&&(t.wX.Gc(t),t.wX=void 0),t._X.xd();case 4:case"end":return n.stop()}},null,null,null,We)})),this.$s()},r.SX=function(t){if(this.IN!==t){var n=this.IN.$g,i=this.IN.jg,e=this.IN.tm,r=this.IN.nm;this.PN(),t===this.vX?((r||t.jg!==i)&&(t.jg=i),t.tm!==e&&(t.tm=e),n?t.Hm():t.Fm()):this.nh.retainPlaybackRateOnSourceChange?t.tm=e:1!==e&&this.Qs(new ly(this.FL(),1)),this.IN=t,this.CN();for(var s=0,u=this.mX;s<u.length;s++){var o=u[s];this.Qs(o)}zs(this.mX),this.NN?t.Km():t.Jm()}},r.CN=function(){this.IN.Js(this.js)},r.PN=function(){this.IN.ou(this.js)},r.n_=function(){return t=this,e=function(n){i=n;var e=cI(n,t.nh);t.Wm(e)},r={get abr(){return t.LU.t_},get audioTracks(){return t.Lm.t_},get autoplay(){return t.Om},set autoplay(n){t.Om=Boolean(n)},get buffered(){return t.LL()},get canvas(){return t.kU.t_},get clip(){return t.OU.t_},get currentProgramDateTime(){var n;return null!=(n=t._y)?n:null},set currentProgramDateTime(n){t._y=null!=n?n:void 0},get currentTime(){return t.FL()},set currentTime(n){t.HL(Number(n))},get duration(){return t.zL()},get element(){return t.gy},get ended(){return t.Zg},get error(){return t.GL()},get errorObject(){return t.qL()},get loop(){return t.EM.EM},set loop(n){t.EM.EM=Boolean(n)},get metrics(){return t.Tm.t_},get muted(){return t.Jg},set muted(n){t.QL(n)},get network(){return t.FU.t_},get paused(){return t.$g},get playbackRate(){return t.tm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.tm=i},get played(){return t.tM()},get poster(){return t.IX},set poster(n){t.IX=vm(n)},get preload(){return t.Dy},set preload(n){t.Dy=n},get presentation(){return t.bU.t_},get readyState(){return t.ag},get seekable(){return t.rM()},get seeking(){return t.nm},get source(){return i},set source(t){e(t)},get src(){return $E(t.Vm())},set src(t){e({sources:t})},get textTracks(){return t.Um.t_},get textTrackStyle(){return t.HU.t_},get uid(){return t.z_},get videoHeight(){return t.im},get videoTracks(){return t.Mm.t_},get videoWidth(){return t.um},get volume(){return t.cm},set volume(n){t.fM(Number(n))},get latency(){return t.Cy.t_},destroy:function(){t.xd(),t=null,i=void 0},play:function(){t.AX()},pause:function(){t.Hm()},stop:function(){i=void 0,t.zm()},prepareWithUserAction:function(){t.jm()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new AE(r,!0)).YC(t),r;var t,n,i,e,r},A(e,[{key:"yU",get:function(){return this.vX.yU}},{key:"kU",get:function(){return this.vX.kU}},{key:"nh",get:function(){return this.vX.nh}},{key:"mU",get:function(){return this.vX.mU}},{key:"jw",get:function(){return this.vX.jw}},{key:"jD",get:function(){return this.vX.AU}},{key:"bU",get:function(){return this.vX.bU}},{key:"pU",get:function(){return this.vX.pU}},{key:"DM",get:function(){return this.vX.DM}},{key:"LU",get:function(){return this.vX.LU}},{key:"Om",get:function(){return this.vX.Om},set:function(t){this.vX.Om=t,this.bX()}},{key:"MU",get:function(){return this.vX.MU}},{key:"Lm",get:function(){return this.vX.Lm}},{key:"UU",get:function(){return this.vX.UU}},{key:"XU",get:function(){return this.vX.pU}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Xm",get:function(){return this.vX.Xm}},{key:"Tm",get:function(){return this.vX.Tm}},{key:"FU",get:function(){return this.vX.FU}},{key:"Um",get:function(){return this.vX.Um}},{key:"HU",get:function(){return this.vX.HU}},{key:"Mm",get:function(){return this.vX.Mm}},{key:"OU",get:function(){return this.vX.OU}},{key:"EM",get:function(){return this.vX.EM}},{key:"_y",get:function(){return this.IN._y},set:function(t){this.IN._y=t}},{key:"vy",get:function(){return this.vX.vy}},{key:"gy",get:function(){return this.vX.gy}},{key:"Zg",get:function(){return this.vX.Zg}},{key:"Jg",get:function(){return this.vX.Jg},set:function(t){this.vX.Jg=t}},{key:"$g",get:function(){return this.IN.$g}},{key:"IX",get:function(){return this.dX.hd||""},set:function(t){this.dX.fX=t}},{key:"tm",get:function(){return this.vX.tm},set:function(t){this.IN.tm=t}},{key:"Dy",get:function(){return this.vX.Dy},set:function(t){this.vX.Dy=QS(t)}},{key:"ag",get:function(){return this.IN.ag}},{key:"nm",get:function(){return this.IN.nm}},{key:"z_",get:function(){return this.vX.z_}},{key:"im",get:function(){return this.vX.im}},{key:"um",get:function(){return this.vX.um}},{key:"cm",get:function(){return this.vX.cm},set:function(t){this.vX.cm=t}},{key:"Cy",get:function(){return this.vX.Cy}}]),e}(Pm)}function rN(t,n){var i=Sy(n),e=new(QD||(QD=UD(QD=eN(OD),PD.zU),QD=UD(QD,PD.VU)),QD)(t,i),r=e.t_;return e.xU(),e.EX(qD),d.defineProperty(r,"constructor",{value:rN}),r=im(r),function(t){for(var n=0;n<XD.length;n++)(0,XD[n])(t)}(e),r}au(function(){t.dispatchEvent&&t.dispatchEvent(zD("theoplayerready"))});var sN,uN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ou(t)},n.decode=function(t){return Pu(t)},t}())},oN=["hls","airplay"],aN=qD.t_,cN=XA.MI.registerContentProtectionIntegration.bind(XA.MI),hN=[pf.If,pf.Ef,ry.Yg,pf.Ff,pf.Rf,pf.bf,pf.Bf,pf.Pf,pf.mf,pf.Df,pf.Hf,pf._f,ry.w_,pf.Cf,pm.K_,du.yu,du.pu,pf.lf,pf.vf,pf.zf],fN={RX:!1,DX:50},vN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.JP="NX"}(sN||(sN={}));var lN,dN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Nh=void 0,s.uD=void 0,s.Vh=void 0,s.CX=!1,s.PX=new Go,s.BX=!1,s._X=new YD,s.OX=void 0,s.ys=void 0,s.Jc=void 0,s.xX=function(){s.BX=!0},s.LX=function(){s.MX(!0)},s.Nh=n,s.uD=i,s.Vh=i.xD,s.OX=e,s.ys=r,s.Vh.addEventListener("loadedmetadata",s.xX);for(var u=0;u<vN.length;u++){var o=vN[u];s.Vh.addEventListener(o,s.LX)}return s}S(i,t);var e=i.prototype;return e.UX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.ah());case 5:return e=r.sent,r.next=8,Dr.awrap(this.XX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.FX=function(t){var n=this.Jc;return n?0!==t.XD.length&&t.XD.some(function(t){return t.$c.vs===n.$c}):0===t.XD.length||!this.BX},e.HX=function(t){return this.OX.HX(t),this.Nh=t,We.resolve()},e.xs=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.$s(),this.Vh.removeEventListener("loadedmetadata",this.xX),t=0;t<vN.length;t++)n=vN[t],this.Vh.removeEventListener(n,this.LX);return i.next=5,Dr.awrap(this._X.xd());case 5:return i.next=7,Dr.awrap(this.zX());case 7:return i.next=9,Dr.awrap(this.OX.D_());case 9:return i.next=11,Dr.awrap(this.XX(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.MX=function(t){t!==this.CX&&(this.CX=t,t?this.PX.Wu(void 0):this.PX=new Go)},e.XX=function(t){var n=this;return this._X.sX(function(){return n.VX(t)})},e.VX=function(t){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vh.src){e.next=4;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vh.src){e.next=6;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.CX){e.next=9;break}return e.next=9,Dr.awrap(this.PX.Fu);case 9:if(!(i=this.Jc)){e.next=14;break}return e.next=13,Dr.awrap(i.sh(this.Vh));case 13:this.Jc=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Dr.awrap(t.rh(this.Vh));case 17:this.Jc=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.Wm=function(t){var n=this;return this._X.sX(function(){return n.WX(t)})},e.WX=function(t){this.MX(!1);var n=this.uD.tm;this.Vh.src=t,this.uD.tm=n},e.GX=function(t){var n=this;return this._X.sX(function(){return n.qX(t)})},e.qX=function(t){this.WX(t),this.Vh.load()},e.zX=function(){var t=this;return this._X.sX(function(){return t.YX()})},e.YX=function(){this.MX(!1),ur(this.Vh)},A(i,[{key:"Lm",get:function(){throw new v("Not implemented")}},{key:"nh",get:function(){return this.Nh}},{key:"xD",get:function(){return this.Vh}},{key:"Mm",get:function(){throw new v("Not implemented")}}]),i}(wu),wN=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.SL=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.nh,n.t0=t.HD,n.next=n.t0===Mm.Bg?4:n.t0===Mm.Og?4:(n.t0,Mm.Pg,6);break;case 4:return this.Vh.setAttribute("crossorigin",t.HD),n.abrupt("break",8);case 6:return this.Vh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Dy?this.Vh.preload=t.Dy:this.Vh.preload=YS.XR,void 0!==t.zD?this.Vh.title=t.zD:rr(this.Vh),n.next=12,Dr.awrap(this.Wm(t.fg));case 12:this.OX.Wc(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.FX=function(t){return!1},i.HX=function(t){return We.resolve(void 0)},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return rr(this.Vh),n.next=3,Dr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.jX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Fl))},A(n,[{key:"wy",get:function(){return nE.gC(this.Vh.buffered)}},{key:"Qg",get:function(){return this.Vh.duration}},{key:"QX",get:function(){var t=this.Qg;if(!isFinite(t))return!1;var n=this.wy;return 0!==n.C_&&t-n.XN(n.C_-1)<1/6}},{key:"Dy",get:function(){return this.Vh.preload},set:function(t){this.Vh.preload=t}},{key:"Ny",get:function(){return nE.gC(this.Vh.seekable)}},{key:"ZX",get:function(){return this.wy}},{key:"KX",get:function(){if(sr(this.Vh)&&(this.Vh.videoWidth>0||this.Vh.videoHeight>0))return this.wy}}]),n}(dN),_N=function(t){function n(n){var i;return(i=t.call(this,pf.Rf)||this).currentTime=n,i}return S(n,t),n}(gu),gN=function(t){function n(){return t.call(this,pf.bf)||this}return S(n,t),n}(gu);!function(t){t.JX="$X"}(lN||(lN={}));var mN,yN,kN=[lN.JX];!function(t){t[t.tF=0]="tF",t[t.Yf=1]="Yf",t[t.nF=2]="nF"}(mN||(mN={})),function(t){t.iF="eF"}(yN||(yN={}));var bN=function(t){function n(n){var i;return(i=t.call(this,yN.iF)||this).rF=n,i}return S(n,t),n}(gu),pN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sF=nE.kC(),n}S(n,t);var i=n.prototype;return i.uF=function(t,n){var i=new nE([t,n]);this.sF=this.sF.iC(i),this.Qs(new bN(i))},i.oF=function(t,n){this.sF=this.sF.rC(new nE([t,n]))},i.D_=function(){this.sF=nE.kC()},i.xd=function(){this.$s()},A(n,[{key:"aF",get:function(){return this.sF}}]),n}(wu);function AN(t,n){return void 0===n&&(n=new ow({highWaterMark:1/0})),new Gd(new SN(t,n),{highWaterMark:0})}var TN,SN=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.uv=void 0,this.cF=void 0,this.hF=void 0,this.Rv=[],this.Dv=0,this.nU=void 0,this.fF=!1,this.vF=void 0,this.lF=function(t){return t.done?(i.dF(),void i.nU.close()):(i.Rv.push(t.value),i.Dv+=i.cF(t.value),i.fF&&i.dF(),i.wF()?i.uv.read().then(i.lF):void 0)},this.mw=function(t){i.dF(),i.nU.error(t)},this.uv=t.getReader(),this.cF=r,this.hF=u}var n=t.prototype;return n.start=function(t){this.nU=t,this.wF()&&this._F()},n.pull=function(){this.Rv.length>0?this.dF():this.fF=!0,this.wF()&&this._F()},n.cancel=function(t){return zs(this.Rv),this.Dv=0,this.fF=!1,this.uv.cancel(t)},n.dF=function(){if(0!==this.Rv.length){var t=this.Rv;this.Rv=[],this.Dv=0,this.fF=!1,this.nU.enqueue(t)}},n.wF=function(){return!!this.fF||this.hF-this.Dv>0},n._F=function(){var t=this;if(!this.vF){var n=this.uv.read().then(this.lF).catch(this.mw);this.vF=n;var i=function(){t.vF===n&&(t.vF=void 0)};n.then(i,i)}},t}(),EN=function(){function t(){this.gF=[],this.Cu=0}var n=t.prototype;return n.JU=function(t){this.gF.push(t),this.Cu+=t.byteLength},n.mF=function(t){if(this.Cu<=t)return this.yF();for(var n=this.gF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Oo(n[e],0,s)),i+=s}return{gF:r,Cu:i}},n.kF=function(t){var n=this.mF(t);return 1===n.gF.length?n.gF[0]:Fu(n.gF,n.Cu)},n.yF=function(){return{gF:this.gF,Cu:this.Cu}},n.bF=function(t){if(this.Cu<=t)return this.pF();for(var n=this.gF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Oo(n[0],0,s)),n[0]=Oo(n[0],s),i+=s}return this.Cu-=i,{gF:r,Cu:i}},n.AF=function(t){var n=this.bF(t);return 1===n.gF.length?n.gF[0]:Fu(n.gF,n.Cu)},n.pF=function(){var t=this.yF();return this.gF=[],this.Cu=0,t},n.TF=function(){var t=1===this.gF.length?this.gF[0]:Fu(this.gF,this.Cu);return this.gF=[],this.Cu=0,t},t}();!function(t){t[t.SF=0]="SF",t[t.EF=1]="EF",t[t.IF=2]="IF"}(TN||(TN={}));var IN=function(){var t=n.prototype;function n(){this.Rv=new EN,this.me=TN.SF,this.RF=0,this.DF=0,this.NF()}return t.CF=function(t,n){},t.PF=function(){},t.BF=function(t){this.Rv.JU(t),this.OF(!1)},t.xF=function(){this.OF(!0)},t.LF=function(){return this.me!==TN.SF||0!==this.Rv.Cu},t.OF=function(t){for(;0!==this.Rv.Cu;){if(!t&&this.RF>this.Rv.Cu)return;switch(this.me){case TN.SF:this.MF(t);break;case TN.EF:this.UF(t);break;case TN.IF:this.XF(t)}}},t.NF=function(){this.me=TN.SF,this.RF=8},t.MF=function(t){var n=Lo(this.Rv.kF(this.RF)),i=new Vo,e=qb.DA(n,i);if(!e.TA)return this.RF=e.CA,void(t&&this.RF>this.Rv.Cu&&this.FF(this.Rv.Cu));var r=e.NA.fs,s=e.NA.Cu;0===s&&(s=1/0),this.CF(r,s),this.HF(r)?this.zF(s):this.FF(s)},t.zF=function(t){this.me=TN.EF,this.RF=t},t.UF=function(t){var n=Lo(this.Rv.AF(this.RF)),i=new Vo,e=qb.SA(n,i,!t);if(!e.TA)throw new Gb(i.Pu);this.PF(),this.VF(e.EA),this.NF()},t.FF=function(t){this.me=TN.IF,this.RF=0,this.DF=t},t.XF=function(t){var n=this.Rv.bF(this.DF);this.DF-=n.Cu;for(var i=0,e=n.gF;i<e.length;i++){var r=e[i];this.WF(r)}(0===this.DF||t&&this.DF===1/0)&&(this.PF(),this.NF())},n}();function RN(t){return t instanceof Gc}function DN(t){return t instanceof Vc}function NN(t){return t instanceof Fc||t instanceof Hc}function CN(t){return t instanceof fc}function PN(t){return t instanceof Ha}function BN(t){return t instanceof eh}function ON(t){return t instanceof Kc}function xN(t,n){var i=xs(t.boxes,ON);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof $c&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var LN=function(t){function n(n){var i;return(i=t.call(this)||this).nU=void 0,i.GF=void 0,i.qF=void 0,i.YF=Br(),i.GF=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.nU=t},i.transform=function(t){this.BF(t)},i.flush=function(){this.xF()},i.HF=function(t){return t===nb.gp||t===nb.Vp||t===nb.$p},i.VF=function(t){var n=this.jF(t);this.nU.enqueue(n)},i.WF=function(t){this.nU.enqueue(t)},i.jF=function(t){var n=Mo(t.Hi.Hi);switch(t.fs){case"moov":return this.QF(n);case"sidx":return this.ZF(n);case"moof":return this.KF(n)}return n},i.JF=function(t){var n=this.YF.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.QF=function(t){for(var n=bh(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Lc?n.boxes[i]=this.tH(e):e instanceof Mc?n.boxes[i]=this.nH(e):e instanceof Vc&&this.iH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Bc&&this.eH(u)}return n.serialize().join()},i.tH=function(t){this.qF=t.timescale;var n=UN(ft.fromNumber(t.duration,!0),this.rH,this.GF);return 0!==n.getHighBits()?this.nH(function(t){return new Mc({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.GF,t.duration=n.toInt(),t)},i.nH=function(t){return this.qF=t.timescale,t.timescale=this.GF,t.duration=UN(t.duration,this.rH,this.GF),t},i.iH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Fc?(n=e.trackId,t.boxes[i]=this.sH(e)):e instanceof Hc?(n=e.trackId,t.boxes[i]=this.uH(e)):e instanceof fc?this.oH(e,n):e instanceof tc&&this.aH(e)}},i.sH=function(t){var n=UN(ft.fromNumber(t.duration,!0),this.rH,this.GF);return 0!==n.getHighBits()?this.uH(function(t){return new Hc({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),duration:ft.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.uH=function(t){return t.duration=UN(t.duration,this.rH,this.GF),t},i.oH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof oc?t.boxes[i]=this.cH(e,n):e instanceof ac&&(t.boxes[i]=this.hH(e,n))}},i.cH=function(t,n){this.YF.set(n,t.timescale);var i=UN(ft.fromNumber(t.duration,!0),t.timescale,this.GF);return 0!==i.getHighBits()?this.hH(function(t){return new ac({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.GF,t.duration=i.toInt(),t)},i.hH=function(t,n){return this.YF.set(n,t.timescale),t.timescale=this.GF,t.duration=UN(t.duration,t.timescale,this.GF),t},i.aH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Ka?this.fH(e):e instanceof Ja&&this.vH(e)}},i.fH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=MN(e.mediaTime,this.rH,this.GF),e.segmentDuration=MN(e.segmentDuration,this.rH,this.GF)}},i.vH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=UN(e.mediaTime,this.rH,this.GF),e.segmentDuration=UN(e.segmentDuration,this.rH,this.GF)}},i.eH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Cc?this.lH(i):i instanceof Rc?t.boxes[n]=this.dH(i):i instanceof Dc&&(t.boxes[n]=this.wH(i))}},i.lH=function(t){var n=this.JF(t.trackId);t.defaultSampleDuration=MN(t.defaultSampleDuration,n,this.GF)},i.dH=function(t){var n=UN(ft.fromNumber(t.fragmentDuration,!0),this.rH,this.GF);return 0!==n.getHighBits()?this.wH(function(t){return new Dc(ft.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.wH=function(t){return t.fragmentDuration=UN(t.fragmentDuration,this.rH,this.GF),t},i.ZF=function(t){var n=ph(t);return(n=n instanceof ch?this._H(n):this.gH(n)).serialize().join()},i._H=function(t){var n=t.timescale,i=UN(ft.fromNumber(t.earliestPresentationTime,!0),n,this.GF);if(0!==i.getHighBits())return this.gH(function(t){return new hh(t.referenceId,t.timescale,ft.fromNumber(t.earliestPresentationTime,!0),ft.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.GF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=MN(s.subsegmentDuration,n,this.GF)}return t},i.gH=function(t){var n=t.timescale;t.timescale=this.GF,t.earliestPresentationTime=UN(t.earliestPresentationTime,n,this.GF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=MN(r.subsegmentDuration,n,this.GF)}return t},i.KF=function(t){for(var n=Ah(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof nh&&this.mH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof nh&&xN(h,o)}return n.serialize().join()},i.mH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Kc?(n=this.JF(e.trackId),this.yH(e,n)):e instanceof jc?t.boxes[i]=this.kH(e,n):e instanceof Qc?t.boxes[i]=this.bH(e,n):e instanceof $c&&this.pH(e,n)}},i.yH=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=MN(t.defaultSampleDuration,n,this.GF))},i.kH=function(t,n){var i=UN(ft.fromNumber(t.baseMediaDecodeTime,!0),n,this.GF);return 0!==i.getHighBits()?this.bH(function(t){return new Qc(ft.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.bH=function(t,n){return t.baseMediaDecodeTime=UN(t.baseMediaDecodeTime,n,this.GF),t},i.pH=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var c=a[o];if(void 0!==c.duration){var h=MN(u+=c.duration,n,this.GF);c.duration=h-s,s=h}void 0!==c.compositionTimeOffset&&(c.compositionTimeOffset=(i=c.compositionTimeOffset,e=n,r=this.GF,ft.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},A(n,[{key:"rH",get:function(){if(void 0===this.qF)throw new v("Expected to have found a movie header timescale.");return this.qF}}]),n}(IN);function MN(t,n,i){return ft.fromInt(t,!0).multiply(i).divide(n).toNumber()}function UN(t,n,i){return Fk.Jk(t).Eb(Fk.$k(i,!0)).Nb(Fk.$k(n,!0)).wb()}var XN,FN,HN,zN=1e5,VN=function(){function t(t){this.AH=void 0,this.AH=new LN(t)}return t.prototype.TH=function(t){return t.pipeThrough(new lw(this.AH))},t}();function WN(t,n,i){var e=eo(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function GN(t,n){WN(t,n,XN.SH);var i,e,r,s=qN(t,n),u=n.Pu+s,o=co(t,n),a=eo(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=co(t,n)),c)&&(e=_o(t,n,eo(t,n)));h&&(r=_o(t,n,2));var v=function(t,n){WN(t,n,XN.EH);var i,e=qN(t,n),r=n.Pu+e,s=eo(t,n),u=eo(t,n),o=u>>2,a=0!=(2&u),c=ao(t,n,3),h=fo(t,n),f=fo(t,n);if(n.Pu<r){var v=function(t,n){return t.getUint8(n.Pu)}(t,n);v===XN.IH&&(i=function(t,n){WN(t,n,XN.IH);var i=qN(t,n),e=so(t,n,i);return{RH:XN.IH,DH:e}}(t,n))}return n.xu(r),{RH:XN.EH,NH:s,CH:o,PH:a,BH:c,OH:h,xH:f,LH:i}}(t,n);return n.xu(u),{RH:XN.SH,H_:o,MH:i,hd:e,UH:f,XH:r,FH:v}}function qN(t,n){for(var i=0,e=0;e<4;e++){var r=eo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function YN(t,n){for(var i=eo(t,n),e=eo(t,n),r=eo(t,n),s=eo(t,n),u=3&eo(t,n),o=31&eo(t,n),a=[],c=0;c<o;c++){var h=co(t,n);a.push(so(t,n,h))}for(var f=eo(t,n),v=[],l=0;l<f;l++){var d=co(t,n);v.push(so(t,n,d))}return{HH:i,zH:e,VH:r,WH:s,GH:u,qH:a,YH:v}}function jN(t){var n=Vb(Kb.MA(t),nb.gp);if(n){for(var i=n.NA.Bb,e=[],r=0,s=n.JA;r<s.length;r++){for(var u=s[r],o=u.NA.fT,a=u.oT.NA.Bb,c=void 0,h=void 0,f=0,v=u.oT.yT.pT.TT.ET;f<v.length;f++){var l,d,w=QN(v[f]);if(w)c=null!=(l=w.jH)?l:c,h=null!=(d=w.QH)?d:h}e.push({fT:o,Bb:a,ZH:{jH:c,QH:h,KH:void 0}})}return{Bb:i,JA:e}}}function QN(t){var n,i;if(t.fs===nb.Np)n=function(t){return"avc1."+ZN(t.zH,2)+ZN(t.VH,2)+ZN(t.WH,2)}(YN(Lo(t.JT.Hi),new Vo));else if(t.fs===nb.Pp||t.fs===nb.Bp){var e=function(t,n){for(var i=n.Xu(),e=Gu(t,i,8),r=Gu(t,i,2),s=Gu(t,i,1),u=Gu(t,i,5),o=Gu(t,i,32),a=[],c=0;c<6;c++)a.push(Gu(t,i,8));var h=Gu(t,i,8);i.Bu(4);var f=Gu(t,i,12);i.Bu(6);var v=Gu(t,i,2);i.Bu(6);var l=Gu(t,i,2);i.Bu(5);var d=Gu(t,i,3);i.Bu(5);for(var w=Gu(t,i,3),_=Gu(t,i,16),g=Gu(t,i,2),m=Gu(t,i,3),y=Gu(t,i,1),k=Gu(t,i,2),b=Gu(t,i,8),p=[],A=0;A<b;A++){var T=Gu(t,i,1);i.Bu(1);for(var S=Gu(t,i,6),E=Gu(t,i,16),I=[],R=0;R<E;R++){var D=Gu(t,i,16),N=so(t,new Vo(i.Pu>>3),D);i.Bu(8*D),I.push({JH:D,$H:N})}p.push({tz:T,nz:S,iz:E,ez:I})}return{HH:e,rz:r,sz:s,oz:u,cz:a,fz:h,vz:f,lz:v,wz:o,_z:l,gz:d,mz:w,yz:_,kz:m,bz:y,pz:g,GH:k,Az:b,Tz:p}}(Lo(t.iS.Hi),new Vo);n=function(t,n){var i=t.toString()+".";switch(n.rz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.oz.toString()+".",i+=(e=n.wz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.sz){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.fz.toString();for(var s=n.cz.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.cz[u].toString(16).toUpperCase();return i}(t.fs,e)}else{if(t.fs!==nb.Lp)return(t.fs===nb.zp||t.fs===nb.Hp)&&t.sS?QN(t.sS):void 0;i=function(t){var n=t.FH;switch(n.NH){case FN.Sz:return function(t){var n;if(null==(n=t.LH)||!n.DH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Gu(t,n,5);31===i&&(i=32+Gu(t,n,6));var e,r=Gu(t,n,4);return 15===r&&(e=Gu(t,n,24)),{Ez:i,Iz:r,Rz:e,Dz:Gu(t,n,4)}}(Lo(t.LH.DH),new qu).Ez}(n);case FN.Nz:return"mp4a.40.2";case FN.Cz:return"mp4a.40.34"}}(GN(Lo(t.qT.Hi),new Vo))}return{jH:n,QH:i,KH:void 0}}function ZN(t,n){return gs(t.toString(16),n,"0")}function KN(t,n){var i=Kb.MA(Lo(t)),e=function(t,n){for(var i,e=0,r=t.JA;e<r.length;e++){var s,u=r[e],o=null==(s=u.SS)?void 0:s.SS;o&&function(){var t=u.NA.fT,e=xs(n.JA,function(n){return n.fT===t}),r=Qk.Jk(o,e.Bb);i&&!r.zk(i)||(i=r)}()}return i}(Vb(i,nb.Vp),n),r=Vb(i,nb.Zp);return{Jy:e.xk(),Pz:r.Hi}}function JN(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.fs,e.next=e.t0===mN.tF?3:e.t0===mN.Yf?4:e.t0===mN.nF?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Dr.awrap(Dw(t.Hi,n));case 6:return i=e.sent,nu(n),e.abrupt("return",{fs:mN.tF,Hi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.SH=3]="SH",t[t.EH=4]="EH",t[t.IH=5]="IH"}(XN||(XN={})),function(t){t[t.Sz=64]="Sz",t[t.Nz=103]="Nz",t[t.Cz=107]="Cz"}(FN||(FN={})),function(t){t[t.Bz=0]="Bz",t[t.Oz=1]="Oz",t[t.Nz=2]="Nz",t[t.xz=5]="xz",t[t.Lz=34]="Lz"}(HN||(HN={}));var $N=20,tC=M.Bn,nC=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Mz=void 0,o.Uz=void 0,o.Xz=void 0,o.Fz=void 0,o.Hz=void 0,o.kL=$N,o.bL=qR,o.zz=!1,o.Vz=!1,o.Wz=void 0,o.Gz=new Js,o.qz=void 0,o.Yz=!1,o.jz=void 0,o.Qz=!1,o.Zz=void 0,o.Kz=function(){o.zz=!1},o.Mz=i,o.Uz=n,o.Xz=e,o.Xz.addEventListener("updateend",o.Kz),o.Fz=r,o.Hz=s,o.Qz=iC(r.Fl,s),null!=(u=i.nh)&&u.Ke&&(o.qz=new VN(zN)),o}S(n,t);var i=n.prototype;return i.Jz=function(t,n,i){var e=this;switch(t.fs){case mN.tF:case mN.Yf:return this.$z(function(i){return e.tV(t,n,i)},i);case mN.nF:throw new v("Opaque segments are not supported on web.")}},i.nV=function(t,n){var i=this;switch(t.fs){case mN.tF:return this.$z(function(n){return i.iV(t,n)},n);case mN.Yf:throw new v("Streaming initialization segments are not supported on web.");case mN.nF:throw new v("Opaque initialization segments are not supported on web.")}},i.iV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Qz){i.next=3;break}return this.Zz=jN(Lo(t.Hi)),i.abrupt("return");case 3:return i.next=5,Dr.awrap(this.eV(t,void 0,n));case 5:tC&&(this.Yz=!1,this.jz=t);case 6:case"end":return i.stop()}},null,this,null,We)},i.tV=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(tC&&this.Yz&&this.jz)){u.next=3;break}return u.next=3,Dr.awrap(this.iV(this.jz,i));case 3:if(u.prev=3,nu(i),!this.Qz||!this.Zz){u.next=12;break}return u.next=8,Dr.awrap(JN(t,i));case 8:r=u.sent,s=KN(r.Hi,this.Zz),t={fs:mN.tF,Hi:s.Pz},n=Nr({},n,{fp:s.Jy+(null!=(e=n.fp)?e:0)});case 12:return u.next=14,Dr.awrap(this.eV(t,n,i));case 14:this.Qs(new gu(lN.JX));case 15:return u.prev=15,t.fs===mN.Yf&&t.Hi.cancel(new $s).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],We)},i.eV=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:nu(i),n&&this.rV(n),s.t0=t.fs,s.next=s.t0===mN.tF?5:s.t0===mN.Yf?13:21;break;case 5:if(!this.qz){s.next=10;break}return e=this.qz.TH(Iw(t.Hi)),s.next=9,Dr.awrap(this.sV(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Dr.awrap(this.uV(t.Hi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.qz){s.next=18;break}return r=this.qz.TH(t.Hi),s.next=17,Dr.awrap(this.sV(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Dr.awrap(this.sV(t.Hi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,We)},i.sV=function(t,n){var i,e,r,s,u,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=this.Uz.wy,e=AN(t),r=e.getReader(),s=!1,h.prev=4;case 5:return h.next=8,Dr.awrap(ru(r.read(),n));case 8:if(!(u=h.sent).done){h.next=12;break}return s=!1,h.abrupt("break",19);case 12:return nu(n),o=Xu(u.value),s=!0,h.next=17,Dr.awrap(this.uV(o));case 17:h.next=5;break;case 19:h.next=36;break;case 21:if(h.prev=21,h.t0=h.catch(4),r.cancel(h.t0).catch(K),!s){h.next=35;break}return h.next=27,Dr.awrap(this.oV());case 27:a=this.Uz.wy.ZN(i.KN()),c=0;case 29:if(!(c<a.C_)){h.next=35;break}return h.next=32,Dr.awrap(this.aV(a.MN(c),a.XN(c)));case 32:c++,h.next=29;break;case 35:throw h.t0;case 36:case"end":return h.stop()}},null,this,[[4,21]],We)},i.cV=function(t,n){var i=this;return this.$z(function(){return i.hV(t,n)})},i.hV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Xz.appendWindowStart===t&&this.Xz.appendWindowEnd===n){i.next=6;break}return i.next=3,Dr.awrap(this.oV());case 3:this.Xz.appendWindowStart=0,this.Xz.appendWindowEnd=n,this.Xz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},i.rV=function(t){this.Xz.timestampOffset!==t.fp&&(this.Xz.timestampOffset=t.fp)},i.uV=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Xz.appendBuffer(t),this.Vz=!0,n.next=4,Dr.awrap(this.fV());case 4:case"end":return n.stop()}},null,this,null,We)},i.vV=function(t,n,i){var e=this;return this.$z(function(i){return e.aV(t,n,i)},i)},i.aV=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),this.Xz.remove(t,n),e.next=4,Dr.awrap(this.fV());case 4:case"end":return e.stop()}},null,this,null,We)},i.fV=function(){var t=this,n=this.Uz.wy;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},c=function(){h(),s&&!r?(n.hC(t.Uz.wy)||t.Qs(new gu(lN.JX)),i()):e(new v(r))},h=function(){t.Xz.removeEventListener("update",u),t.Xz.removeEventListener("error",o),t.Xz.removeEventListener("abort",a),t.Xz.removeEventListener("updateend",c)};t.Xz.addEventListener("update",u),t.Xz.addEventListener("error",o),t.Xz.addEventListener("abort",a),t.Xz.addEventListener("updateend",c)})},i.lV=function(){var t=this;return this.$z(function(){return t.oV()})},i.oV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mz.ag===kC.Vd){t.next=2;break}return t.abrupt("return");case 2:tC&&(this.Yz=!0),this.Xz.updating&&(this.zz=!0);try{this.Xz.abort()}catch(t){0,this.zz=!1}if(!this.mx){t.next=8;break}return t.next=8,Dr.awrap(this.fV().catch(K));case 8:case"end":return t.stop()}},null,this,null,We)},i.dV=function(){return"function"==typeof this.Xz.changeType},i.HX=function(t){var n;this.wV(),this.Mz.ag!==kC._V&&(this.Fz=t,this.Hz=null!=(n=TC(t.Fl))?n:t.Fl,this.Qz=iC(t.Fl,this.Hz),this.dV()&&this.Xz.changeType(this.Hz))},i.gV=function(){this.Mz.ag!==kC.mf||this.Wz||this.mx||(this.Xz.timestampOffset=this.Xz.timestampOffset,this.Mz.mV())},i.$z=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wV(),(i=new Js).zs(this.Gz.Ws),n&&i.zs(n),e.prev=4,this.Wz=t(i.Ws),e.next=8,Dr.awrap(this.Wz);case 8:if(this.Mz.mV(),!this.mx){e.next=12;break}return e.next=12,Dr.awrap(this.fV());case 12:return e.prev=12,this.Wz=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},i.wV=function(){if(this.Wz)throw new v("Internal error")},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.Gz.Hs(),!this.Wz){t.next=6;break}return t.next=5,Dr.awrap(this.Wz.catch(K));case 5:this.Wz=void 0;case 6:this.Xz.removeEventListener("updateend",this.Kz);case 7:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t}},{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t}},{key:"mx",get:function(){return this.zz||this.Xz.updating}}]),n}(wu);function iC(t,n){return ls(t,"audio/mp4")&&ls(n,"audio/mpeg")}var eC=function(){function t(t,n){this.yV=void 0,this.Xz=void 0,this.kV=void 0,this.yV=n,this.Xz=t}var n=t.prototype;return n.QX=function(){return!!this.kV&&this.wy.GN().tN(this.kV)},n.bV=function(){var t=this.wy;this.kV=t.C_>0?t.XN(t.C_-1):0,this.yV.pV()},n.gV=function(){this.kV=void 0},A(t,[{key:"wy",get:function(){if(this.yV.ag===kC._V)return nE.kC();var t=nE.gC(this.Xz.buffered).ZN(new nE([0,1/0])),n=this.kV;return void 0!==n&&t.C_>0&&t.XN(t.C_-1)===n&&(t=t.iC(nE.yC(n))),t}}]),t}();function rC(t){var n=t.vh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function sC(t,n){var i=uC(t)||oC(t),e=uC(n)||oC(n);return!i&&!e||t===n}function uC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function oC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function aC(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function cC(t,n,i,e,r,s,u){var o=new eC(r,t),a=new nC(o,t,r,i,s);return new hC(t,n,i,e,o,a,u)}var hC=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Mz=void 0,a.Nh=void 0,a.AV=void 0,a.uD=void 0,a.Ih=void 0,a.TV=void 0,a.Uz=void 0,a.SV=void 0,a.EV=Pr(),a.Mz=n,a.Nh=e,a.Ih=e.Fl,a.AV=r,a.uD=i,a.Uz=s,a.SV=u,a.TV=o,a.SV.Zs(lN.JX,a.js),a}S(n,t);var i=n.prototype;return i.QX=function(){return this.Uz.QX()},i.bV=function(){this.Uz.bV()},i.gV=function(){this.Uz.gV(),this.SV.gV()},i.RV=function(t,n){this.TV.uF(t,n)},i.DV=function(t,n){this.TV.oF(t,n)},i.NV=function(){return this.SV.lV()},i.Jz=function(t,n,i){return this.SV.Jz(t,n,i)},i.nV=function(t,n,i){return this.SV.nV(t,i)},i.cV=function(t,n){return this.SV.cV(t,n)},i.Gc=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.DV(t,n),e=this.wy,s.next=4,Dr.awrap(this.SV.vV(t,n,i));case 4:r=0!==e.C_&&0===this.wy.C_,(M.Mn||M.En)&&r&&this.uD.xu(this.uD.jg);case 6:case"end":return s.stop()}},null,this,null,We)},i.FX=function(t){var n=t.Fl;if(this.Ih===n)return!0;var i=this.EV.get(n);if(void 0!==i)return i;var e=this.CV(t);return this.EV.set(n,e),e},i.CV=function(t){var n=TC(t.Fl);if(void 0===n)return!1;var i=Bh(this.Ih),e=Bh(n),r=rC(i),s=rC(e);if(this.SV.dV()){if(!function(t,n){return Zs(t,n,sC)}(r,s))return!1}else{if(i.fs!==e.fs)return!1;if(!function(t,n){return Zs(t,n,aC)}(r,s))return!1}return!0},i.HX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Fl,this.Ih!==n&&(this.EV.clear(),this.SV.HX(t),this.Ih=n),this.Nh=t,this.Mz.PV();case 4:case"end":return i.stop()}},null,this,null,We)},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.EV.clear(),this.$s(),this.TV.xd(),t.prev=3,this.SV.tu(lN.JX,this.js),t.next=7,Dr.awrap(this.SV.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},A(n,[{key:"wy",get:function(){return this.Uz.wy}},{key:"nh",get:function(){return this.Nh}},{key:"Fl",get:function(){return this.Ih}},{key:"BV",get:function(){return this.AV}},{key:"OV",get:function(){return this.TV.aF}},{key:"vL",get:function(){return this.SV.vL},set:function(t){this.SV.vL=t}},{key:"_L",get:function(){return this.SV._L},set:function(t){this.SV._L=t}},{key:"mx",get:function(){return this.SV.mx}}]),n}(wu),fC=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.xV=void 0,this.MN=t,this.XN=n,this.LV=i,this.MV=e,this.xV=WI()}return t.prototype.UV=function(){var t=this.MN,n=this.XN;if(this.LV||this.MV){var i=.001*(WI()-this.xV);this.LV&&(t+=i),this.MV&&(n+=i)}return t>=n?nE.kC():new nE([t,n])},t}(),vC=100,lC=1e3,dC=1e4,wC=.01,_C=1,gC=[pf.If,pf.Ef,pf.Bf,pf.Pf,pf.mf,pf.Df,ry.w_,pm.K_],mC=function(){function t(t,n){var e=this;this.PE=Hm.Mg,this.XV=!1,this.FV=[],this.HV=void 0,this.zV=0,this.VV=0,this.WV=0,this.GV=0,this.qV=0,this.YV=lC,this.jV=function(t){var n=e.uD.jg;t.rF.tN(n)&&e.QV(n)},this.ZV=$(function(){e.KV(ry.w_)},vC),this.JV=$(function(){e.KV(pf.Rf)},vC),this.$V=function(){e.tW()?e.nW():e.iW()},this.eW=function(){var t=e.zV,n=e.WV,r=e.uD.jg,s=i.ir(),u=t!==r;if(u||!e.tW())return e.zV=r,e.WV=s,void(u&&(e.qV=0,e.YV=lC));if(n>0&&s>n+e.YV){var o=e.Uz.wy;if(o.C_>1){var a=e.aF.GN().rC(o),c=a.lC(r);if(-1!==c)if(a.MN(c)-r<_C){var h=a.XN(c);return void e.uD.xu(h)}}var f=r+e.qV*wC;o.tN(f)||(f=e.rW(r,o)),e.zV=f,e.WV=s,e.qV++,e.YV=w.min(2*e.YV,dC),e.uD.xu(f)}},this.Uz=t,this.uD=n,this.uD.Zs(ry.w_,this.ZV),this.uD.Zs(pf.Rf,this.JV),this.uD.Zs(gC,this.$V)}var n=t.prototype;return n.sW=function(t){this.FV.push(t),t.Zs(yN.iF,this.jV)},n.xd=function(){var t=this;this.iW(),this.PE=Hm.Mg,this.uD.tu(ry.w_,this.ZV),this.uD.tu(pf.Rf,this.JV),this.uD.tu(gC,this.$V),this.FV.forEach(function(n){return n.tu(yN.iF,t.jV)}),void 0!==this.HV&&(i.jn(this.HV),this.HV=void 0),this.XV=!0},n.KV=function(t){if(!this.XV){var n=this.uD.ag;if(n<=Hm.Xg){var i=this.uD.jg,e=this.Uz.wy,r=e.sC(i),s=e.XN(r);-1!==r&&(t===ry.w_&&n<this.PE||t===pf.Rf&&n===this.PE)&&s<i+.5&&(i=s),this.QV(i)}t===ry.w_&&(this.PE=n)}},n.QV=function(t){var n=this;if(this.uD.Zg)return!1;var e=this.aF.GN().rC(this.Uz.wy),r=e.sC(t);if(-1!==r&&!(w.abs(e.MN(r)-e.XN(r))<=.001)){if(i.Hw){if(void 0!==this.HV)return!1;this.VV=this.uD.jg,this.HV=i.Qn(function(){n.VV===n.uD.jg&&n.uD.xu(e.XN(r)),n.HV=void 0},1500)}else this.uD.xu(e.XN(r));return!0}return!1},n.nW=function(){0===this.GV&&(this.GV=i.Ar(this.eW,250))},n.iW=function(){0!==this.GV&&(i.Tr(this.GV),this.GV=0),this.uD.nm||(this.WV=0)},n.tW=function(){return!this.uD.$g&&!this.uD.nm&&0!==this.uD.tm&&!this.uD.Zg&&!this.uD.mu&&this.uD.ag>=Hm.Fg},n.rW=function(t,n){var i=n.sC(t);return i>-1?n.XN(i):t},A(t,[{key:"aF",get:function(){return this.FV.reduce(function(t,n){return t.iC(n.aF)},nE.kC())}}]),t}();function yC(t){var n=[];if(t.uW&&n.push(t.uW.wy),t.oW&&n.push(t.oW.wy),0===n.length)return nE.kC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.C_>0&&(i=w.max(i,r.XN(r.C_-1)))}for(var s=t.QX,u=new nE([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.C_>0&&(a=a.iC(new nE([a.XN(a.C_-1),i],[!0,!0]))),u=u.ZN(a)}return u}var kC,bC=M.In||M.Rn;!function(t){t._V="closed",t.Vd="open",t.mf="ended"}(kC||(kC={}));var pC=function(){function t(){}return t.prototype.aW=function(){return new MediaSource},t}(),AC=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new pC),(u=t.call(this,n,i,e,r)||this).cW=void 0,u.hW=void 0,u.fW=void 0,u.vW=new fC(0,1/0),u.oD=void 0,u.lW=void 0,u.dW=void 0,u.wW=!1,u._W=function(){u.gW()},u.mW=function(){u.uD.mW()},u.cW=s,u.oD=u.cW.aW(),u.uD.Zs(pf.Bf,u._W),u.dW=new mC(Kt(u),u.uD),u}S(n,t);var i=n.prototype;return i.yW=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.kW()?this.bW(t):this.lW=t},i.bW=function(t){var n=t===1/0,i=n?xt:t;if(n&&this.oD.setLiveSeekableRange){var e=w.pow(2,39);this.oD.setLiveSeekableRange(0,e)}this.oD.duration=i,this.lW=void 0},i.pW=function(t,n,i,e){this.vW=new fC(t,n,!!i,!!e)},i.SL=function(){var t,n,i,e,r,s,u,o,a,c,h;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Nh,n=xs(t.AW,function(t){return ls(t.Fl,"audio")}),i=xs(t.AW,function(t){return ls(t.Fl,"video")}),f.next=5,Dr.awrap(this.TW());case 5:n&&(r=new pN,this.dW.sW(r),s=null!=(e=TC(n.Fl))?e:n.Fl,u=this.oD.addSourceBuffer(s),this.hW=cC(this,this.uD,n,Qy.Sd,u,s,r),this.hW.Zs(lN.JX,this.mW)),i&&(a=new pN,this.dW.sW(a),c=null!=(o=TC(i.Fl))?o:i.Fl,h=this.oD.addSourceBuffer(c),this.fW=cC(this,this.uD,i,Qy.Ed,h,c,a),this.fW.Zs(lN.JX,this.mW)),this.OX.Wc(this,t);case 8:case"end":return f.stop()}},null,this,null,We)},i.TW=function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.oD),i.next=3,Dr.awrap(t.prototype.GX.call(this,n));case 3:if(this.ag===kC.Vd){i.next=6;break}return i.next=6,Dr.awrap(Xg(this.oD,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i.kW=function(){if(this.ag!==kC.Vd)return!1;var t=this.hW&&this.hW.mx,n=this.fW&&this.fW.mx;return!(t||n)},i.bV=function(){this.wW=!0,this.hW&&this.hW.bV(),this.fW&&this.fW.bV(),this.wW=!1,this.gW()},i.gV=function(){this.hW&&this.hW.gV(),this.fW&&this.fW.gV()},i.FX=function(n){var i=xs(n.AW,function(t){return ls(t.Fl,"audio")}),e=xs(n.AW,function(t){return ls(t.Fl,"video")});if(this.hW){if(!i)return!1;if(!this.hW.FX(i))return!1}else if(i)return!1;if(this.fW){if(!e)return!1;if(!this.fW.FX(e))return!1}else if(e)return!1;return!!t.prototype.FX.call(this,n)},i.HX=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=xs(n.AW,function(t){return ls(t.Fl,"audio")}),e=xs(n.AW,function(t){return ls(t.Fl,"video")}),r=[],this.hW&&r.push(this.hW.HX(i)),this.fW&&r.push(this.fW.HX(e)),s.next=7,Dr.awrap(We.all(r));case 7:return s.next=9,Dr.awrap(t.prototype.HX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.hW){n.next=4;break}return n.next=3,Dr.awrap(this.hW.xs());case 3:this.hW=void 0;case 4:if(!this.fW){n.next=8;break}return n.next=7,Dr.awrap(this.fW.xs());case 7:this.fW=void 0;case 8:return this.Vh.src&&URL.revokeObjectURL(this.Vh.src),this.uD.tu(pf.Bf,this._W),this.dW.xd(),n.next=13,Dr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,We)},i.PV=function(){var t=this,n=this.Nh,i=n.AW.map(function(n){return ls(n.Fl,"audio")&&t.hW?t.hW.nh:ls(n.Fl,"video")&&t.fW?t.fW.nh:n});this.Nh=Nr({},n,{AW:i})},i.pV=function(){this.wW||this.gW()},i.gW=function(){this.SW&&this.kW()&&(this.oD.endOfStream(),this.lW=void 0,this.Qs(new gu(sN.JP)),this.uD.mW())},i.mV=function(){this.kW()&&(this.QX?this.gW():void 0!==this.lW&&this.bW(this.lW))},i.QV=function(t){return this.dW.QV(t)},n.jX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.AW;n<i.length;n++){if(void 0===TC(i[n].Fl))return!1}return!0},A(n,[{key:"uW",get:function(){return this.hW}},{key:"oW",get:function(){return this.fW}},{key:"Qg",get:function(){if(this.lW)return this.lW;var t=this.oD.duration;return t===xt?1/0:t}},{key:"wy",get:function(){return bC?yC(this):(t=this,n=nE.gC(this.Vh.buffered),(i=n).C_>0&&t.QX&&(i=i.iC(nE.yC(i.XN(i.C_-1)))),i);var t,n,i}},{key:"ZX",get:function(){var t;return null==(t=this.hW)?void 0:t.wy}},{key:"KX",get:function(){var t;return null==(t=this.fW)?void 0:t.wy}},{key:"Ny",get:function(){return this.vW.UV().ZN(new nE([0,this.Qg],[!0,!0]))}},{key:"QX",get:function(){return(!this.hW||this.hW.QX())&&(!this.fW||this.fW.QX())}},{key:"ag",get:function(){return this.oD.readyState}},{key:"SW",get:function(){if(!this.QX)return!1;var t=this.wy;return 0!==t.C_&&t.MN(t.C_-1)<=this.uD.jg}}]),n}(dN);function TC(t){var n=Bh(t),i="audio/mp4"===n.fs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(rC(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.Bn))return t;if(i){var e=xs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var SC=[pf.Hf,pf.Df,pf.Bf,pf.If,pf.Ef],EC=function(t){function n(n,i,e,r,s,u,o,a,c){var h;return(h=t.call(this)||this).SC=n,h.ua=i,h.EW=e,h.IC=r,h.DC=s,h.EC=u,h.RC=o,h.Da=a,h.IW=c,h}S(n,t);var i=n.prototype;return i.Hm=function(){this.IC||(this.IC=!0,this.Qs(new uy(this.jg)))},i.Fm=function(){this.IC&&(this.IC=!1,this.Qs(new oy(this.jg)))},i.xs=function(){this.$s()},A(n,[{key:"jg",get:function(){return this.SC},set:function(t){this.jg!==t&&(this.SC=t,this.DC=!0,this.Qs(new gy(this.jg)))}},{key:"Qg",get:function(){return this.ua}},{key:"Zg",get:function(){return this.EW}},{key:"$g",get:function(){return this.IC}},{key:"ag",get:function(){return this.IW}},{key:"nm",get:function(){return this.DC}},{key:"Jg",get:function(){return this.EC},set:function(t){this.Jg!==t&&(this.EC=t,this.Qs(new yy(this.jg,this.cm)))}},{key:"tm",get:function(){return this.RC},set:function(t){this.tm!==t&&(this.RC=t,this.Qs(new ly(this.jg,this.tm)))}},{key:"cm",get:function(){return this.Da},set:function(t){this.cm!==t&&(this.Da=t,this.Qs(new yy(this.jg,this.cm)))}}]),n}(wu);var IC=function(t){function n(n){var i;return(i=t.call(this)||this).uD=void 0,i.PE=Hm.Mg,i.RW=function(){i.DW()},i.uD=n,i}S(n,t);var i=n.prototype;return i.NW=function(t){this.PE!==t&&(this.PE=t,this.Qs(new py(this.uD.jg,t)))},i.DW=function(){this.NW(this.eM())},i.D_=function(){this.NW(Hm.Mg)},i.xs=function(){this.$s()},A(n,[{key:"ag",get:function(){return this.eM()}}]),n}(wu),RC=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],DC=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<RC.length;e++){var r=RC[e];i.uD.xD.addEventListener(r,i.RW)}return i}S(n,t);var i=n.prototype;return i.eM=function(){var t=this.uD.xD.readyState;return t>Hm.Xg&&this.uD.PW?Hm.Xg:(this.uD.xD.seeking&&t>Hm.Ug&&(t=Hm.Ug),t)},i.xs=function(){for(var n=0;n<RC.length;n++){var i=RC[n];this.uD.xD.removeEventListener(i,this.RW)}t.prototype.xs.call(this)},n}(IC),NC=function(t){function n(n){var i;(i=t.call(this,n)||this).uD.Zs(pf.Bf,i.RW);for(var e=0;e<RC.length;e++){var r=RC[e];i.uD.xD.addEventListener(r,i.RW)}return i}S(n,t);var i=n.prototype;return i.eM=function(){if(this.uD.xD.readyState===Hm.Mg)return Hm.Mg;var t=this.BW(),n=t?t.XN-t.MN:0;if(!t)return Hm.Ug;var i=this.uD.tm;return this.OW()||n>=3*i?Hm.Hg:n>=3?Hm.Fg:Hm.Xg},i.BW=function(){var t=this.uD.jg,n=this.uD.wy.nC(.04),i=n.sC(t);if(!(i<0))return{MN:t,XN:n.XN(i)}},i.OW=function(){if(this.uD.Zg)return!0;var t=this.uD.Qg,n=this.BW();return!!n&&t-n.XN<=1/6},i.xs=function(){this.uD.tu(pf.Bf,this.RW);for(var n=0;n<RC.length;n++){var i=RC[n];this.uD.xD.removeEventListener(i,this.RW)}t.prototype.xs.call(this)},n}(IC),CC=[ry.w_,pf.If,pf.Ef,pf.Bf,pf.Pf,pf.mf,pm.K_],PC=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vh=void 0,i.xW=!1,i.GE=function(){i.xW=!0,i.qc()},i.Vh=n.xD,i.Vh.addEventListener(ry.Yg,i.GE),i}S(n,t);var i=n.prototype;return i.LW=function(){return this.xW&&t.prototype.LW.call(this)},i.qc=function(){this.xW&&(this.Vh.paused||this.Vh.ended||this.Vh.error)&&(this.xW=!1),t.prototype.qc.call(this)},i.D_=function(){t.prototype.D_.call(this),this.xW=!1},i.xs=function(){this.Vh.removeEventListener(ry.Yg,this.GE),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).ME=void 0,i.MW=!1,i.yx=function(){i.qc()},i.ME=n,i.ME.Zs(CC,i.yx),i}S(n,t);var i=n.prototype;return i.UW=function(){return this.ME.ag<Hm.Fg},i.LW=function(){return!this.ME.nm&&!(this.ME.$g||this.ME.Zg||this.ME.mu||this.UW())},i.qc=function(){var t=this.MW;this.MW=this.LW(),!t&&this.MW&&this.Qs(new aA(this.ME.jg))},i.D_=function(){this.MW=!1},i.xs=function(){this.$s(),this.ME.tu(CC,this.yx)},n}(wu)),BC=function(t){function n(n){var i;return(i=t.call(this,pm.K_)||this).mu=void 0,i.mu=n,i}return S(n,t),n}(gu);function OC(t,n){return t.Jy<=n&&t.$y>n}function xC(t,n){return function(t,n){return Bs(t.Jy,n.Jy,Ik)}(t,n)||function(t,n){return Bs(t.$y,n.$y,Ik)}(t,n)}function LC(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var c=o+(a-o>>1),h=e(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(r&&c>s&&0===e(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,J,xC,!0);if(i<0)return i;for(;i<t.length&&xC(n,t[i])===Ss.Is;i++)if(t[i].Tk(n))return i;return-(i+1)}function MC(t){var n=t.i_;if(!n)return-1;if(t instanceof Dk)return n.XW(t);var i=n.cg;if(!i)return-1;var e=LC(i.N_,t);return e>=0?e:-1}function UC(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var c=t[s],h=n[u];c===h?(s++,u++):i(h,c)<=0?(o.push(h),u++):(a.push(c),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{FW:o,HW:a}}(t,n,xC);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var XC=function(){function t(t){this.zW=void 0,this.$w=void 0,this.zW=t}var n=t.prototype;return n.n_=function(){return function(t){for(var n=[],i=0;i<t.C_;i++)n[i]=t.Iu(i).t_;return n.item=function(n){var i=0|n,e=t.Iu(i);return e&&e.t_||void 0},d.defineProperty(n,"constructor",{value:Ak}),n}(this)},n.xy=function(t){for(var n=this.zW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Tk(e))return!0}return!1},n.Iu=function(t){return this.zW[t]},A(t,[{key:"N_",get:function(){return this.zW}},{key:"C_",get:function(){return this.zW.length}},{key:"t_",get:function(){if(this.$w){var t=this.zW;this.$w.length=t.length;for(var n=0;n<t.length;n++)this.$w[n]=t[n].t_}else this.$w=this.n_();return this.$w}}]),t}(),FC=function(t){function n(n,i){var e;return(e=t.call(this,Gg.w_)||this).i_=n,e.ag=i,e}return S(n,t),n.prototype.n_=function(){return new HC(this.i_.t_,Dm(this.ag))},n}(qg),HC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(Yg),zC=function(t){function n(n){var i;return(i=t.call(this,Gg.g_)||this).i_=n,i}return S(n,t),n.prototype.n_=function(){return new VC(this.i_.t_)},n}(qg),VC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(Yg),WC=function(t){function n(n){var i;return(i=t.call(this,Gg.e_)||this).Ky=n,i}return S(n,t),n.prototype.n_=function(){return new GC(this.Ky.t_)},n}(qg),GC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(Yg),qC=function(t){function n(n){var i;return(i=t.call(this,Gg.s_)||this).Ky=n,i}return S(n,t),n.prototype.n_=function(){return new YC(this.Ky.t_)},n}(qg),YC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(Yg),jC=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this)||this).$w=void 0,c.Cc=void 0,c.Uy=nk(),c.VW=!1,c.WW=void 0,c.GW=void 0,c.My=void 0,c.oa=void 0,c.QC=bm.j_,c.IW=hk.NONE,c.qW=void 0,c.Vi=void 0,c.YW=void 0,c.zW=[],c.jW=[],c.QW=void 0,c.ZW=void 0,c.KW=0,c.JW=0,c.Cc=i||"",c.WW=a||"",c.GW=n,c.oa=r||"",c.VW=Boolean(s),c.YW=Boolean(o),c.Vi=u||fk.DEFAULT,c.My=e||"",c.QW=new XC(c.zW),c.ZW=new XC(c.jW),c}S(n,t);var i=n.prototype;return i.$W=function(t){return xs(this.QW.N_,function(n){return n.H_===t})},i.n_=function(){return Em(this)},i.hP=function(t){var n=Tm(t);n!==this.eg&&(this.QC=n,n===bm.j_&&(this.jW.forEach(function(t){t.Sk=!1}),zs(this.jW),this.JW=0),this.Qs(new $g(this)))},i.IE=function(t){if(t&&!t.i_){var n=LC(this.cg.N_,t);if(!(n>=0)){t.i_=this;var i=-(n+1);this.zW.splice(i,0,t),this.tG(i),t.Ak=i,i<this.JW&&(this.JW=i),this.Qs(new WC(t))}}},i.dE=function(t){if(t&&t.i_===this){var n=this.XW(t);if(!(n<0)){t.Sk=!1;var i=this.jW,e=LC(i,t);e>=0&&Xs(i,e),Xs(this.zW,n),this.tG(n),t.Ak=-1,this.JW>n&&--this.JW,this.Qs(new qC(t))}}},i.nG=function(t,n){var i=this.jW,e=this.zW,r=this.JW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){OC(i[u],t)||(s=!0,Xs(i,u))}for(;r<e.length&&e[r].Jy<=t;){var o=e[r];if(0===t)break;OC(o,t)&&!Fs(i,o)&&(s=!0,i.push(o)),r++}s&&Rs(i,xC),this.JW=r},i.XW=function(t){return(-1===t.Ak||t.Ak>=this.KW)&&this.iG(),t.Ak},i.iG=function(){for(var t=this.zW,n=this.KW;n<t.length;n++)t[n].Ak=n;this.KW=t.length},i.tG=function(t){t<this.KW&&(this.KW=t)},i.rg=function(t){this.og||(this.eg=t)},i.xd=function(){this.$s();for(var t=this.zW.slice(),n=0;n<t.length;n++){t[n].xd()}zs(this.zW),zs(this.jW)},A(n,[{key:"hg",get:function(){return this.ZW}},{key:"cg",get:function(){return this.QW}},{key:"DE",get:function(){return this.VW},set:function(t){this.VW=t}},{key:"og",get:function(){return this.YW}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"J_",get:function(){return this.WW},set:function(t){this.WW=t}},{key:"V_",get:function(){return this.GW}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new Jy(this)))}},{key:"G_",get:function(){return this.oa}},{key:"eg",get:function(){return this.QC},set:function(t){this.hP(t)}},{key:"ag",get:function(){return this.IW},set:function(t){this.IW!==t&&(this.IW=t,this.Qs(new FC(this,this.IW)))}},{key:"fg",get:function(){return this.qW},set:function(t){this.qW=t}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new zC(this)))}}]),n}(wu),QC=function(t){function n(n,i){var e;return(e=t.call(this,wk.Yy,n)||this).Pb=i,e}return S(n,t),n.prototype.n_=function(){return new ZC(this.Ky.t_)},n}(kk),ZC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(bk),KC=function(t){function n(n,i){var e;return(e=t.call(this,wk.Qy,n)||this).Pb=i,e}return S(n,t),n.prototype.n_=function(){return new JC(this.Ky.t_)},n}(kk),JC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(bk),$C=function(t){function n(n){var i;return(i=t.call(this,Gg.o_)||this).Ky=n,i}return S(n,t),n.prototype.n_=function(){return new tP(this.Ky.t_)},n}(qg),tP=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(Yg),nP=function(t){function n(n){var i;return(i=t.call(this,Gg.c_)||this).Ky=n,i}return S(n,t),n.prototype.n_=function(){return new iP(this.Ky.t_)},n}(qg),iP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(Yg),eP=function(t){function n(n){var i;return(i=t.call(this)||this).eG=void 0,i.bk=void 0,i.Uy=void 0,i.gk=void 0,i.$w=void 0,i.yk=!1,i.rG=function(){i.Sk=!0},i.sG=function(){i.Sk=!1},i.Uy=uk(),i.eG=n,i.eG.addEventListener("enter",i.rG),i.eG.addEventListener("exit",i.sG),i}S(n,t);var i=n.prototype;return i.n_=function(){return pk(this)},i.Tk=function(t){return this===t||om(this,t)&&Rk(this,t)},i.xd=function(){this.$s(),this.eG.removeEventListener("enter",this.rG),this.eG.removeEventListener("exit",this.sG)},A(n,[{key:"z_",get:function(){return this.Uy}},{key:"Jy",get:function(){return this.eG.startTime},set:function(t){this.eG.startTime=t}},{key:"$y",get:function(){return this.eG.endTime},set:function(t){this.eG.endTime=t}},{key:"nk",get:function(){return this.bk},set:function(t){this.bk=t}},{key:"Ek",get:function(){return!!this.eG.pauseOnExit},set:function(t){this.eG.pauseOnExit=!!t}},{key:"i_",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"H_",get:function(){return this.eG.id||""}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Sk",get:function(){return this.yk},set:function(t){this.Sk!==t&&(this.yk=t,t?(this.Qs(new QC(this,this.Jy)),this.gk&&this.gk.Qs(new $C(this))):(this.Qs(new KC(this,this.$y)),this.gk&&this.gk.Qs(new nP(this))))}}]),n}(Cm),rP=function(t){function n(n){var i;return(i=t.call(this,Gg.f_)||this).i_=n,i}return S(n,t),n.prototype.n_=function(){return new sP(this.i_.t_)},n}(qg),sP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(Yg);function uP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new oP(t),t.THEOplayerVTTRegion=n),n}}var oP=function(){function t(t){this.uG=void 0,this.$w=void 0,this.uG=t}return A(t,[{key:"oG",get:function(){return this.uG}},{key:"H_",get:function(){return this.uG.id||""}},{key:"Bk",get:function(){return+this.uG.width||0},set:function(t){this.uG.width=t||0}},{key:"Ik",get:function(){return+this.uG.lines||0},set:function(t){this.uG.lines=t||0}},{key:"Rk",get:function(){return+this.uG.regionAnchorX||0},set:function(t){this.uG.regionAnchorX=t||0}},{key:"Dk",get:function(){return+this.uG.regionAnchorY||0},set:function(t){this.uG.regionAnchorY=t||0}},{key:"Ck",get:function(){return+this.uG.viewportAnchorX||0},set:function(t){this.uG.viewportAnchorX=t||0}},{key:"Pk",get:function(){return+this.uG.viewportAnchorY||0},set:function(t){this.uG.viewportAnchorY=t||0}},{key:"Nk",get:function(){return this.uG.scroll||""}},{key:"t_",get:function(){return this.$w||(this.$w=Lk(this)),this.$w}}]),t}();var aP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"nk",get:function(){return this.eG.text},set:function(t){this.eG.text=t}},{key:"dk",get:function(){return this.eG.vertical||""},set:function(t){this.eG.vertical=t||""}},{key:"lk",get:function(){return this.eG.snapToLines},set:function(t){this.eG.snapToLines=t}},{key:"rk",get:function(){return this.eG.line},set:function(t){this.eG.line=t}},{key:"Cu",get:function(){return+this.eG.size},set:function(t){this.eG.size=Mt(t,0,100)}}]),n}(eP),cP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Tk=function(n){return this===n||om(this,n)&&t.prototype.Tk.call(this,n)&&Nk(this,n)},A(n,[{key:"vk",get:function(){return uP(this.eG.region)}},{key:"ck",get:function(){return this.eG.lineAlign||"start"},set:function(t){this.eG.lineAlign=t||"start"}},{key:"hk",get:function(){return this.eG.position},set:function(t){this.eG.position=t}},{key:"fk",get:function(){return this.eG.positionAlign||"auto"},set:function(t){this.eG.positionAlign=t||"auto"}},{key:"ek",get:function(){return this.eG.align||"center"},set:function(t){this.eG.align=t||"center"}},{key:"t_",get:function(){return this.$w||(this.$w=Tk(this)),this.$w}}]),n}(aP),hP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Tk=function(n){return this===n||om(this,n)&&t.prototype.Tk.call(this,n)&&Nk(this,n)},A(n,[{key:"vk",get:function(){return uP(this.oG)}},{key:"oG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.eG.track,this.eG.regionId)}},{key:"ck",get:function(){return"middle"===(t=this.eG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.eG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"hk",get:function(){return this.eG.position},set:function(t){var n,i;this.eG.position=(n=t,i=this.ek,yk(n,i))}},{key:"fk",get:function(){return t=this.eG.positionAlign||"middle",gk[t];var t},set:function(t){var n,i;this.eG.positionAlign=(n=t||"center",i=this.ek,_k[mk(n,i)])}},{key:"ek",get:function(){return"middle"===(t=this.eG.align||"middle")?"center":t;var t},set:function(t){var n;this.eG.align="center"===(n=t||"center")?"middle":n}},{key:"t_",get:function(){return this.$w||(this.$w=Tk(this)),this.$w}}]),n}(aP);function fP(t,n){return t.nk===n.nk}function vP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Jy<t.Jy)lP(n,i,t.Jy);else{var e=n[0];if(e.Jy>t.Jy)t.$y=e.Jy;else{var r=LC(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Jy<t.Jy&&lP(n,u,t.Jy);if(s<n.length){var o=n[s];t.$y=o.Jy}}}}}}function lP(t,n,i){for(var e=t[n].Jy,r=n;r>=0&&t[r].Jy===e;r--)t[r].$y=i}function dP(t){return pk(t)}var wP,_P,gP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).aG=void 0,e.aG=i,e}return S(n,t),n.prototype.Tk=function(n){return this===n||om(this,n)&&t.prototype.Tk.call(this,n)&&fP(this,n)},A(n,[{key:"nk",get:function(){return this.aG}},{key:"t_",get:function(){return this.$w||(this.$w=dP(this)),this.$w}}]),n}(eP);function mP(t){switch(t){case wP.ISO_8859_1:case wP.UTF16_BOM:case wP.UTF16:case wP.UTF8:return!0}return!1}function yP(t){switch(t){case wP.ISO_8859_1:return mo;case wP.UTF16_BOM:return bo;case wP.UTF16:return po;case wP.UTF8:return No}}function kP(t,n){var i=n.Pu,e=t.byteLength,r=Mo(t);return n.Bu(e-i),Fo(r,i,e).buffer}function bP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function pP(t,n,i){var e=eo(t,n);if(mP(e)){var r=yP(e);return{id:i,language:_o(t,n,3),description:r(t,n),text:r(t,n)}}}function AP(t,n,i){var e=eo(t,n);if(mP(e)){var r=yP(e);return{id:i,mimeType:mo(t,n),fileName:r(t,n),description:r(t,n),data:kP(t,n)}}}function TP(t,n,i){var e=eo(t,n);if(mP(e)){for(var r=yP(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function SP(t,n,i){var e=eo(t,n);if(mP(e)){for(var r=yP(e),s=_o(t,n,3),u=eo(t,n),o=eo(t,n),a=r(t,n),c=!1,h=[];n.Pu<t.byteLength;){var f=void 0;if(e===wP.UTF16_BOM){var v=ko(t,n);void 0===v?v=c:c=v,f=po(t,n,v)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;h.push({text:f,timestamp:fo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:h}}}function EP(t,n,i){return{id:i,ownerIdentifier:mo(t,n),identifier:kP(t,n)}}function IP(t,n,i){var e=eo(t,n);if(mP(e)){var r=yP(e);return{id:i,language:_o(t,n,3),description:r(t,n),text:r(t,n)}}}function RP(t,n,i){var e=eo(t,n);if(mP(e))return{id:i,text:yP(e)(t,n)}}function DP(t,n,i){return{id:i,url:mo(t,n)}}function NP(t,n,i){var e=eo(t,n);if(mP(e)){var r=yP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function CP(t,n,i){var e=eo(t,n);if(mP(e))return{id:i,description:yP(e)(t,n),url:mo(t,n)}}function PP(t,n,i){switch(i){case"COM":return pP(t,n,i);case"GEO":return AP(t,n,i);case"IPL":return TP(t,n,i);case"PIC":return function(t,n,i){var e=eo(t,n);if(mP(e)){var r,s,u=yP(e),o=_o(t,n,3),a=eo(t,n),c=u(t,n);return"--\x3e"===o?(r=o,s=mo(t,n)):(r="image/"+o.toLowerCase(),s=kP(t,n)),{id:i,mimeType:r,pictureType:a,description:c,data:s}}}(t,n,i);case"SLT":return SP(t,n,i);case"TXX":return NP(t,n,i);case"UFI":return EP(t,n,i);case"ULT":return IP(t,n,i);case"WXX":return CP(t,n,i);default:if("T"===i.charAt(0))return RP(t,n,i);if("W"===i.charAt(0))return DP(t,n,i)}}function BP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=eo(t,n);if(mP(e)){var r=yP(e),s=mo(t,n);return{id:i,mimeType:s,pictureType:eo(t,n),description:r(t,n),data:"--\x3e"===s?mo(t,n):kP(t,n)}}}(t,n,i);case"COMM":return pP(t,n,i);case"COMR":return function(t,n,i){var e=eo(t,n);if(mP(e)){var r,s,u=yP(e),o=mo(t,n),a=_o(t,n,8),c=mo(t,n),h=eo(t,n),f=u(t,n),v=u(t,n);return n.Pu<t.byteLength&&(r=mo(t,n)||"image/",s=kP(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return AP(t,n,i);case"IPLS":return TP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:mo(t,n),data:kP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:eo(t,n),position:fo(t,n)}}(t,n,i);case"SYLT":return SP(t,n,i);case"TXXX":return NP(t,n,i);case"UFID":return EP(t,n,i);case"USER":return function(t,n,i){var e=eo(t,n);if(mP(e)){var r=yP(e);return{id:i,language:_o(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return IP(t,n,i);case"WXXX":return CP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return RP(t,n,i);default:var e=i.charAt(0);if("T"===e)return RP(t,n,i);if("W"===e)return DP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(wP||(wP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(_P||(_P={}));var OP=10;function xP(t,n){return(127&eo(t,n))<<21|(127&eo(t,n))<<14|(127&eo(t,n))<<7|127&eo(t,n)}function LP(t,n){switch(t){case _P.V24:return{cG:io(n,0),hG:io(n,1),fG:io(n,2),vG:io(n,3)};case _P.V23:return{cG:io(n,0),hG:io(n,1),fG:io(n,2)};case _P.V22:return{cG:io(n,0),lG:io(n,1)}}}function MP(t,n,i){switch(i.xA){case _P.V23:i.LA.hG&&function(t,n){var i=n.Pu,e=fo(t,n)+4,r=32768&co(t,n);n.xu(i+e),r&&fo(t,n)}(t,n);break;case _P.V24:i.LA.hG&&function(t,n){var i=n.Pu,e=xP(t,n);n.xu(i+e)}(t,n)}}function UP(t,n){if(t.byteLength-n.Pu<OP)return null;if(73!==eo(t,n)||68!==eo(t,n)||51!==eo(t,n))return null;var i=eo(t,n),e=eo(t,n);if(!function(t){switch(t){case _P.V22:case _P.V23:case _P.V24:return!0}return!1}(i))return null;var r=eo(t,n),s=xP(t,n);return{xA:i,dG:e,LA:LP(i,r),wG:s}}function XP(t,n,i){switch(i.xA){case _P.V22:return function(t,n,i){return{H_:_o(t,n,3),Cu:ao(t,n,3)}}(t,n);case _P.V23:return function(t,n,i){var e=_o(t,n,4),r=fo(t,n);eo(t,n);var s=eo(t,n);return{H_:e,Cu:r,LA:{lG:io(s,0),_G:io(s,1),groupingIdentity:io(s,2)}}}(t,n);case _P.V24:return function(t,n,i){var e=_o(t,n,4),r=xP(t,n);eo(t,n);var s=eo(t,n);return{H_:e,Cu:r,LA:{groupingIdentity:io(s,1),lG:io(s,4),_G:io(s,5),cG:io(s,6),gG:io(s,7)}}}(t,n)}}function FP(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function HP(t,n){var i=n||new Vo,e=UP(t,i);return e?{NA:e,mG:function(t,n,i){var e=[],r=n.Pu,s=xo(t,r,r+i.wG),u=new Vo;switch(n.Bu(i.wG),i.xA){case _P.V22:case _P.V23:i.LA.cG&&(s=FP(s))}MP(t,n,i);for(;u.Pu<s.byteLength;)e.push(zP(s,u,i));return e}(t,i,e)}:null}function zP(t,n,i){var e,r,s=XP(t,n,i),u=n.Pu,o=xo(t,u,u+s.Cu);switch(n.Bu(s.Cu),i.xA){case _P.V22:var a=s;e=PP(r=o,new Vo,a.H_);break;case _P.V23:var c=s,h=new Vo;!function(t,n,i){var e,r,s,u=i.LA;u.lG&&(e=fo(t,n)),u._G&&(r=eo(t,n)),u.groupingIdentity&&(s=eo(t,n))}(o,h,c),e=BP(r=xo(o,h.Pu,o.byteLength),new Vo,c.H_);break;case _P.V24:var f=s,v=new Vo;f.LA.cG&&(o=FP(o)),function(t,n,i){var e,r,s,u,o=i.LA;o.groupingIdentity&&(e=eo(t,n)),o.lG&&(r=fo(t,n)),o._G&&(s=eo(t,n)),o.gG&&(u=xP(t,n))}(o,v,f),e=BP(r=xo(o,v.Pu,o.byteLength),new Vo,f.H_)}if(!e){var l=Ho(Mo(r));e=bP(s.H_,l.buffer)}return e}function VP(t){return function(t,n,i){return RP(t,n,i)}(new DataView(t.data),new Vo,t.key)}function WP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return VP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return bP(t.key,t.data)}(t)}var GP="org.id3";var qP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Ly=void 0,r.yG=void 0,r.zW=[],r.jW=[],r.QW=void 0,r.ZW=void 0,r.Uy=void 0,r.My=void 0,r.QC=bm.j_,r.IW=hk.NONE,r.$w=void 0,r.qW=void 0,r.Vi=fk.DEFAULT,r.kG=void 0,r.bG=function(){r.pG(),r.Ly.removeEventListener("cuechange",r.bG)},r.AG=function(){r.eg!==bm.j_&&(r.TG(),r.nG(),r.zW.length&&r.SG(hk.LOADING))},r.EG=function(){r.SG(hk.LOADED)},r.IG=function(){r.SG(hk.ERROR)},r.Ly=n,r.kG=e,r.Ly.addEventListener("cuechange",r.bG),r.Ly.addEventListener("cuechange",r.AG),r.yG=i,r.yG&&(r.qW=e_(r.yG.src),r.yG.addEventListener("load",r.EG),r.yG.addEventListener("error",r.IG)),r.Uy=nk(),r.My=n.label||"",r.QW=new XC(r.zW),r.ZW=new XC(r.jW),r.eg=r.RG,au(function(){r.AG(),r.SG(hk.NONE)}),r}S(n,t);var i=n.prototype;return i.n_=function(){return Em(this)},i.pG=function(){var t=this.eg;this.DG||t!==bm.Z_?this.RG=t:this.RG=bm.Q_},i.NG=function(){var t=this.eg,n=this.RG;t!==n&&(this.DG||t!==bm.Z_||n!==bm.Q_)&&("metadata"===this.V_&&n===bm.j_?this.eg=t:this.eg=n)},i.DW=function(t){this.IW!==t&&(this.IW=t,this.Qs(new FC(this,t)))},i.SG=function(t){var n=w.max(this.IW,this.CG,t);this.DW(n)},n.PG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.BG=function(t){var i=n.PG(t);if(i)return i;if(V(i=this.OG(t)))for(var e=0,r=i;e<r.length;e++){r[e].i_=this}else i.i_=this;return t.THEOplayerTextTrackCue=i,i},i.OG=function(t){return(n=t)&&n.type===GP&&n.value?(this.fs=fk.ID3,function(t){var n;try{n=WP(t.value)}catch(t){n=bP("")}return new gP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.fs=fk.ID3,function(t){var n=[];try{var i=HP(new DataView(t.data));if(i)for(var e=0,r=i.mG;e<r.length;e++){var s=r[e];n.push(new gP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.fs=fk.WEBVTT,function(t){return"regionId"in t}(t)?new hP(t):new cP(t)):new eP(t);var n},i.xG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.BG(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.TG=function(){for(var t=this.xG(this.Ly.cues),n=UC(this.zW,t),i=0,e=n.HW;i<e.length;i++){var r=e[i];r.tu(wk.Qy,this.AG),r.tu(wk.Yy,this.AG),this.Qs(new qC(r))}for(var s=0,u=n.FW;s<u.length;s++){var o=u[s];o.Zs(wk.Yy,this.AG),o.Zs(wk.Qy,this.AG),this.Qs(new WC(o))}},i.nG=function(){for(var t=this.xG(this.Ly.activeCues),n=UC(this.jW,t),i=0,e=n.HW;i<e.length;i++){e[i].Sk=!1}for(var r=0,s=n.FW;r<s.length;r++){s[r].Sk=!0}(n.FW.length||n.HW.length)&&this.Qs(new rP(this))},i.rg=function(t){this.eg=t},i.xd=function(){this.$s();for(var t=this.zW.slice(),n=0;n<t.length;n++){t[n].xd()}zs(this.zW),zs(this.jW),this.Ly.removeEventListener("cuechange",this.AG),this.yG&&(this.Ly.removeEventListener("load",this.EG),this.Ly.removeEventListener("error",this.IG)),this.yG&&$e(this.yG)},A(n,[{key:"hg",get:function(){return this.ZW}},{key:"DE",get:function(){return this.yG?this.yG.default:void 0}},{key:"cg",get:function(){return this.QW}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"H_",get:function(){return this.Ly.id||this.yG&&this.yG.id||""}},{key:"z_",get:function(){return this.Uy}},{key:"J_",get:function(){return this.Ly.inBandMetadataTrackDispatchType||""}},{key:"V_",get:function(){return this.Ly.kind||pp.rA}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.W_&&(this.My=t,this.Qs(new Jy(this)))}},{key:"G_",get:function(){return this.Ly.language||""}},{key:"eg",get:function(){return this.QC},set:function(t){var n=this.eg;this.QC=Tm(t),this.pG();var i=this.eg;n!==i&&this.Qs(new $g(this)),i!==bm.j_&&this.SG(hk.LOADING)}},{key:"RG",get:function(){return Tm(this.Ly.mode)},set:function(t){this.Ly.mode=t}},{key:"Vy",get:function(){return this.Ly}},{key:"ag",get:function(){return this.IW}},{key:"CG",get:function(){return this.yG?+this.yG.readyState||hk.NONE:hk.LOADED}},{key:"fg",get:function(){return this.qW}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new zC(this)))}},{key:"DG",get:function(){return this.kG},set:function(t){this.kG=t,this.pG()}}]),n}(wu);function YP(t,n){return Ps(t.Pb,n.Pb)||function(t,n){return t.i_===n.i_?Cs(MC(t),MC(n)):Mp(t.i_,n.i_)}(t.Ky,n.Ky)||function(t,n){return t===n?Ss.Is:t===wk.Yy?Ss.Ds:Ss.Rs}(t.type,n.type)}var jP=function(){function t(t,n){var i=this;this.IN=void 0,this.LG=void 0,this.Pm=[],this.MG=0,this.UG=0,this.XG=[],this.FG=[],this.HG=!1,this.zG=!1,this.VG=void 0,this.WG=function(){i.MG=0,i.GG(),i.qG()},this.YG=function(){i.GG(),i.qG()},this.jG=function(){i.zG=!0,i.VG=i.IN.jg,i.QG()},this.ZG=function(){i.GG(),i.qG()},this.KG=function(){i.JG(),i.GG(),i.qG()},this.$G=function(t){Fs(i.FG,t.Ky)||i.FG.push(t.Ky),i.tq()},this.nq=function(t){Us(i.XG,t.Ky),Us(i.FG,t.Ky),i.tq()},this.LG=n,this.IN=t,t.Zs(pf.Ff,this.YG),t.Zs(pf.If,this.YG),t.Zs(ry.Yg,this.YG),t.Zs(pf.Ef,this.YG),t.Zs(pf.Bf,this.jG),t.Zs(pf.Pf,this.ZG),this.tq()}var n=t.prototype;return n.D_=function(){zs(this.XG);for(var t=0,n=this.Pm.slice();t<n.length;t++){var i=n[t];this.I_(i)}this.QG(),this.MG=0,this.UG=0,this.HG=!1,this.zG=!1,this.VG=void 0},n.E_=function(t){if(!Fs(this.Pm,t)){if(this.Pm.push(t),t.Zs(Gg.e_,this.$G),t.Zs(Gg.s_,this.nq),t.Zs(Gg.l_,this.KG),t.cg.C_>0){for(var n=0,i=t.cg.N_;n<i.length;n++){var e=i[n];this.FG.push(e)}this.tq()}this.JG()}},n.I_=function(t){if(Us(this.Pm,t)){if(t.tu(Gg.e_,this.$G),t.tu(Gg.s_,this.nq),t.tu(Gg.l_,this.KG),t.cg.C_>0){for(var n=0,i=t.cg.N_;n<i.length;n++){var e=i[n];Us(this.XG,e),Us(this.FG,e)}this.tq()}this.JG()}},n.JG=function(){this.HG=this.Pm.some(function(t){return t.eg!==bm.j_})},n.qG=function(){this.IN.nm||this.IN.$g?this.QG():this.tq()},n.tq=function(){this.HG&&(this.MG||(this.MG=this.LG.Ce(this.WG)))},n.QG=function(){this.MG&&(this.LG.iq(this.MG),this.MG=0)},n.GG=function(){var t;if(this.HG&&!this.IN.nm){var n=this.Pm,i=this.UG,e=null!=(t=this.VG)?t:this.IN.jg,r=e-i<-.1,s=this.zG||r;s&&e>i&&e-i<.1&&(s=!1),this.zG=!1,this.VG=void 0;for(var u,o=[],a=0;a<n.length;a++){var c=n[a];if(c.eg!==bm.j_){c.nG(e,s);for(var h=0,f=c.hg.N_;h<f.length;h++){var v=f[h];o.push(v)}}}if(s)u=this.XG;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.eg!==bm.j_&&Lp(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Fs(o,u[_])&&Xs(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.Jy>i&&y.$y<=e&&(g.push(y),Xs(u,m))}for(var k=0,b=this.FG;k<b.length;k++){Us(g,b[k])}zs(this.FG);for(var p=[],A=[],T=0;T<g.length;T++){var S=g[T];S.Sk||p.push(new QC(S,S.Jy)),p.push(new KC(S,w.max(S.Jy,S.$y))),S.Sk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Sk&&(p.push(new KC(R,w.max(R.Jy,R.$y))),R.Sk=!1)}for(var D=0;D<o.length;D++){var N=o[D];N.Sk||(p.push(new QC(N,N.Jy)),N.Sk=!0)}p.sort(YP);for(var C=0;C<p.length;C++){var P=p[C],B=P.Ky;B.Qs(P);var O=B.i_;O&&(P.type===wk.Yy?O.Qs(new $C(B)):O.Qs(new nP(B)),Fs(A,O)||A.push(O))}A.sort(Mp);for(var x=0;x<A.length;x++){var L=A[x];L.Qs(new rP(L))}this.UG=e,this.XG=o}},n.xd=function(){this.D_(),this.IN.tu(pf.Ff,this.YG),this.IN.tu(pf.If,this.YG),this.IN.tu(ry.Yg,this.YG),this.IN.tu(pf.Ef,this.YG),this.IN.tu(pf.Bf,this.jG),this.IN.tu(pf.Pf,this.ZG)},t}(),QP=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return fR(t)},n.iq=function(t){vR(t)},t}(),ZP=new QP,KP=function(t){function n(n,i){return void 0===i&&(i=ZP),t.call(this,n,i)||this}return S(n,t),n}(jP),JP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.Tk=function(n){return this===n||om(this,n)&&t.prototype.Tk.call(this,n)&&fP(this,n)},A(n,[{key:"t_",get:function(){return this.$w||(this.$w=dP(this)),this.$w}}]),n}(Dk),$P=function(t){function n(n,i,e){return void 0===e&&(e=fk.DEFAULT),t.call(this,pp.uA,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(jC),tB=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fs=fk.ID3,e}S(n,t);var i=n.prototype;return i.IE=function(n){vP(n,this.zW),t.prototype.IE.call(this,n)},i.n_=function(){return Em(this)},n}($P);function nB(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=WP(t.value);return t.THEOplayerTextTrackCue=new JP(i,e),t.THEOplayerTextTrackCue}var iB=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ly=void 0,i.AG=function(){i.eg!==bm.j_&&(i.TG(),i.SG(hk.LOADED))},i.Ly=n,i.Ly.addEventListener("cuechange",i.AG),i.eg=i.RG,au(function(){i.AG()}),i}S(n,t);var i=n.prototype;return i.hP=function(n){t.prototype.hP.call(this,n),this.RG=this.eg},i.SG=function(t){this.ag=w.max(this.ag,t)},i.TG=function(){var t=this.Ly.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(nB(t[e]||t.item(e)));return Rs(i,xC),i}(t),i=UC(this.cg.N_.slice(),n),e=0,r=i.HW;e<r.length;e++){var s=r[e];this.dE(s)}for(var u=0,o=i.FW;u<o.length;u++){var a=o[u];this.IE(a)}}},i.xd=function(){this.Ly.removeEventListener("cuechange",this.AG),t.prototype.xd.call(this)},A(n,[{key:"H_",get:function(){return this.Ly.id||""}},{key:"J_",get:function(){return this.Ly.inBandMetadataTrackDispatchType||""}},{key:"G_",get:function(){return this.Ly.language||""}},{key:"RG",get:function(){return Tm(this.Ly.mode)},set:function(t){this.Ly.mode=t}},{key:"Vy",get:function(){return this.Ly}}]),n}(tB),eB=function(t){function n(n,i){var e;return(e=t.call(this)||this).rq=Br(),e.ZR=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.i_).fs){i.next=4;break}return i.next=4,Dr.awrap(n.au(Gg.g_));case 4:if(n.fs===fk.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.cg.C_){i.next=11;break}return i.next=9,Dr.awrap(n.au(Gg.e_));case 9:i.next=6;break;case 11:e.uq(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.KR=function(t){var n=t.i_;if(n.fs===fk.ID3&&e.rq.has(n.z_)){var i=e.rq.get(n.z_);e.I_(i),e.bE.RE(i),n.tu(Gg.e_,e.oq)}},e.oq=function(t){rB(t.Ky)&&e.aq(t.Ky)},e.bE=n,e.cq=i,e.hq(),e}S(n,t);var i=n.prototype;return i.hq=function(){this.cq.Zs(Hg.Qw,this.ZR),this.cq.Zs(Hg.Kw,this.KR)},i.fq=function(){this.cq.tu(Hg.Qw,this.ZR),this.cq.tu(Hg.Kw,this.KR)},i.uq=function(t){var n=t.cg.N_[0];if(rB(n)){var i=function(t){var n=t.match(sB);if(!n)return;return{i_:n[1],G_:n[2]}}(n.nk.description),e=i.i_,r=i.G_;if(!this.vq(e,r)){var s=this.bE.SE(pp.rA,t.H_,e,r,!1,fk.TTML);this.E_(s),this.rq.set(t.z_,s);for(var u=0,o=t.cg.N_;u<o.length;u++){var a=o[u];rB(a)&&this.aq(a)}t.Zs(Gg.e_,this.oq)}}},i.vq=function(t,n){return this.JA.N_.some(function(i){return i.W_===t&&i.G_===n})},i.aq=function(t){if(t.i_)for(var n=this.rq.get(t.i_.z_),i=hp(t.nk.text,n,{cp:0,hp:1/0,fp:t.Jy}),e=0;e<i.length;e++){var r=i[e];n.IE(r)}},i.D_=function(){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.cq.N_;n<i.length;n++)i[n].tu(Gg.e_,this.oq);for(e=0,r=this.JA.N_;e<r.length;e++)s=r[e],this.bE.RE(s);return this.rq.clear(),u.next=5,Dr.awrap(t.prototype.D_.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.xd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.fq(),n.next=3,Dr.awrap(t.prototype.xd.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(zp);function rB(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.nk)&&sB.test(n.description);var n}var sB=/^Track:(.+),Lang:(.+)$/;var uB=function(t){function n(n){var i;return(i=t.call(this,pf.vf)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(gu),oB=function(t){function n(){return t.call(this,pf.lf)||this}return S(n,t),n}(gu),aB=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).lq=n,i}return S(n,t),n}(gu),cB=new YD,hB=function(t){function n(n){var i;return(i=t.call(this,"zc")||this).session=n,i}return S(n,t),n}(gu),fB=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).dq=!1,u.wq=!1,u.$v=new Js,u._q=void 0,u.Uc=function(t){if(!u.$v.Ws.Ns)switch(t.wu){case"license-request":case"license-renewal":u.fI(t.du,t._u).catch(function(t){return u.Ah(t)});break;default:u.Ah(new Gy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u.gq=function(t){u.mq.Zc.Ru(function(t,n){switch(t){case"usable":i.Qn(function(){u.wq=!0,u.Qs(new oB)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new aB(n))}})},u.yq=function(t){u.Ah(new Gy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.mq=e,u.kq=r,u.bq=s,e.Zs("du",u.Uc),e.Zs("vu",u.gq),e.Zs("mu",u.yq),e.jc.then(function(){return u.pq()}),u}S(e,t);var r=e.prototype;return r.Vc=function(){var t=this;return this.dq=!0,cB.sX(function(n){return t.Aq(n)},this.$v.Ws)},r.Aq=function(t){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,nu(t),s.next=4,Dr.awrap(this.kq.rI(t));case 4:return s.next=6,Dr.awrap(this.kq.sI(this.bq.ls,this.bq.Tu,t));case 6:return i=s.sent,s.next=9,Dr.awrap(this.mq.Vc(this.bq.ls,this.bq.Tu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),iu(s.t0),e=s.t0 instanceof Zo?s.t0.ju:void 0,r=new Gy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Ah(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r.fI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!Yo(t)){o.next=7;break}return o.next=4,Dr.awrap(this.kq.yI(new y(t),this.$v.Ws));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Dr.awrap(this.kq.kI(new y(t),i,this.$v.Ws));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!tu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.$v.Ws.Ns){o.next=19;break}return o.abrupt("return");case 19:return r=this._q,s=new Go,this._q=s,o.prev=22,o.next=25,Dr.awrap(this.mq.qc(e));case 25:return o.next=27,Dr.awrap(fu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof Zo?o.t1.ju:void 0,new Gy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Dr.awrap(r.Fu);case 37:return s.Wu(),this._q===s&&(this._q=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],We)},r.Ah=function(t){var i=t instanceof Gy?t:new Gy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new uB(i)),this.zc()},r.pq=function(){this.mq.tu("du",this.Uc),this.mq.tu("vu",this.gq),this.mq.tu("mu",this.yq),this.wq=!1,this.$v.Hs(),this.Qs(new hB(this))},r.zc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s();case 1:if(void 0===(t=this._q)){n.next=5;break}return n.next=5,Dr.awrap(t.Fu);case 5:if(this._q!==t){n.next=1;break}case 6:return this.pq(),n.next=9,Dr.awrap(this.mq.zc().catch(K));case 9:case"end":return n.stop()}},null,this,null,We)},e}(wu),vB=[pf.lf,pf.vf,pf.zf],lB=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Xc=void 0,r.Jc=void 0,r.Tq=void 0,r.Sq=[],r.Eq=void 0,r.Iq=[],r.Rq=function(t){t.session.tu(vB,r.js),t.session.tu("zc",r.Rq),Us(r.Sq,t.session)},r.Xc=n,r.Jc=i,r.Tq=e,r}S(n,t);var i=n.prototype;return i.mI=function(){return this.Tq.mI()},i.Dq=function(t){return this.Eq||(this.Eq=this.Nq(t)),this.Eq},i.Nq=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(t),i.next=3,Dr.awrap(this.Tq.yI(new y(qo()),t));case 3:if(n=i.sent,nu(t),this.Jc){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Dr.awrap(this.Jc.eh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.Cq=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Jc){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.Iq.push(t),e.next=6,Dr.awrap(this.Jc.ih("temporary"));case 6:return n=e.sent,i=new fB(n,this.Tq,t),this.Sq.push(i),i.Zs(vB,this.js),i.Zs("zc",this.Rq),e.abrupt("return",i);case 12:return e.prev=12,Us(this.Iq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.Pq=function(t){if(t.Bq)return!1;for(var n=0,i=this.Sq;n<i.length;n++){if(dB(i[n].bq,t))return!0}for(var e=0,r=this.Iq;e<r.length;e++){if(dB(r[e],t))return!0}return!1},i.xd=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Jc=void 0,this.$s(),t=this.Sq.slice(),zs(this.Sq),n.next=6,Dr.awrap(We.all(t.map(function(t){return t.zc()})));case 6:this.Tq.xs();case 7:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"$c",get:function(){return this.Xc}}]),n}(wu);function dB(t,n){return!t.Bq&&t.ls===n.ls&&Mu(t.Tu,n.Tu)}var wB=function(t){function e(n){var i;return(i=t.call(this)||this).uD=void 0,i.$v=new Js,i._X=new YD,i.Nh=void 0,i.Tq=void 0,i.oD=void 0,i.Xc=void 0,i.Oq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(i.xq(t.ls,t.Tu,i.$v.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),tu(n.t0)||i.Ah(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.uD=n,i.uD.Zs(du.yu,i.Oq),i}S(e,t);var r=e.prototype;return r.Wc=function(t,n){this.oD=t,this.HX(n)},r.HX=function(t){this.Nh=t,this.Lq(this.$v.Ws).catch(eu)},r.Lq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Lr.We){n.next=5;break}return n.next=3,Dr.awrap(this.Mq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Nh||!this.Nh.Uq){n.next=9;break}return n.next=8,Dr.awrap(this.Xq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.Mq=function(t){var n,i,e,r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Nh)?void 0:n.XD){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Nh)?void 0:u.XD)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,c=null!=(h=o.YR)?h:[];case 8:if(!(a<c.length)){v.next=22;break}return f=c[a],v.prev=10,v.next=13,Dr.awrap(this.xq(o.$c.ls,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),iu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],We)},r.xq=function(t,e,r){var s,u,o,a,c,h,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(nu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Nh&&this.Nh.XD.length){w.next=5;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Wr||t===qr||t===Gr){w.next=8;break}return w.abrupt("return");case 8:s=sT(t,e),u=this.Nh.XD,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(c=u[a],nu(r),(h=s[c.$c.ds])&&c.$c.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Dr.awrap(this.Fq(c,r));case 20:if(!(f=w.sent).mI()){w.next=24;break}return w.next=24,Dr.awrap(f.Dq());case 24:if(v=this.uD.yy,l={ls:c.$c.ls,Tu:h,Bq:v},!this.Hq(f,l)){w.next=32;break}return w.next=29,Dr.awrap(f.Cq(l));case 29:return d=w.sent,w.next=32,Dr.awrap(d.Vc());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),iu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Dr.awrap(i.Sr());case 44:if(!w.sent){w.next=48;break}throw new Gy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.Xq=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Nh)?void 0:n.XD){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],nu(t),u.prev=7,u.next=10,Dr.awrap(this.Fq(r,t));case 10:if(!(s=u.sent).mI()){u.next=14;break}return u.next=14,Dr.awrap(s.Dq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),iu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.Hq=function(t,n){return i.Lr.Ve||!t.Pq(n)},r.Fq=function(t,n){var i=this;return this._X.sX(function(n){return i.zq(t,n)},n)},r.zq=function(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(nu(n),this.Nh&&this.Tq&&this.oD){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Xc){o.next=7;break}if(this.Xc.$c===t.$c){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Xc);case 7:return i=this.Tq,e=Nr({},t,{$D:t.$D.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.HI(t.$c),lh:n.lh||i.lh(t.$c)})})}),o.next=11,Dr.awrap(this.oD.UX(e.$c,e.$D));case 11:return r=o.sent,s=i.qR(e),(u=new lB(e.$c,r,s)).Zs([pf.lf,pf.vf,pf.zf],this.js),this.Xc=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.Ah=function(t){var i=t instanceof Gy?t:new Gy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new uB(i))},r.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oD=void 0,this.Nh=void 0,this.$v.Hs(),this.$v=new Js,t.next=6,Dr.awrap(this.Vq());case 6:case"end":return t.stop()}},null,this,null,We)},r.Vq=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this._X.Hs());case 2:if(!(t=this.Xc)){n.next=8;break}return t.tu(pf.zf,this.js),this.Xc=void 0,n.next=8,Dr.awrap(t.xd());case 8:case"end":return n.stop()}},null,this,null,We)},r.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.uD.tu(du.yu,this.Oq),t.next=4,Dr.awrap(this.D_());case 4:return t.next=6,Dr.awrap(this._X.xd());case 6:case"end":return t.stop()}},null,this,null,We)},A(e,[{key:"Wq",get:function(){var t;return null==(t=this.Xc)?void 0:t.$c}},{key:"LD",get:function(){return this.Tq},set:function(t){this.Tq=t}}]),e}(wu),_B=M.In||M.Rn,gB=M.qn,mB=.5,yB=5,kB=M.Bn,bB=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vh=void 0,s.Gq=void 0,s.aD=void 0,s.NN=!0,s.oD=void 0,s.qq=new YD,s.Yq=void 0,s.jq=void 0,s.Qq=void 0,s.OX=void 0,s.Pm=void 0,s.OC=void 0,s.Zq=[],s.Kq=void 0,s.Jq=void 0,s.$q=void 0,s.tY=void 0,s.nY=void 0,s.iY=void 0,s.eY=NaN,s.rY=void 0,s.sY=void 0,s.DC=!1,s.uY=We.resolve(),s.oY=new Js,s.aY=[],s.cY=nE.kC(),s.hY=void 0,s.fY=1,s.vY=!1,s.lY=!1,s.dY=!1,s.wY=!1,s.ys=void 0,s._Y=!1,s.gY=!1,s.mY=!1,s.yY=!1,s.kY=0,s.bY=function(t){var n=t.track,i=s.pY(n);s.AY(n,i)},s.TY=function(t){var n=SB(s.Kq,t.track);n&&s.Kq.I_(n)},s.SY=function(){for(var t=0;t<s.Pm.C_;t++){var n=s.Pm.S_(t);n instanceof qP&&n.NG()}},s.EY=function(){s.Kq.D_()},s.IY=function(){var t=s.oD,n=t.uW,i=t.oW;if(n&&i)if(t.QX)s.RY();else if(t.ag!==kC._V){var e=n.wy,r=i.wy;if(0!==e.C_&&0!==r.C_){var u=s.jg;if(u<e.MN(0)||u<r.MN(0))s.RY();else if(e.tN(u)!==r.tN(u)){if(t.QV(u))return;s.DY()}else{if(s.RY(),!s.kY&&s.Qq.LW())e.eC(r).aC(u,u+mB)&&(s.kY=fR(s.NY))}}else s.RY()}},s.NY=function(){s.kY=0,s.IY()},s.CY=function(){if(!(s.nm||s.ag>=Hm.Fg)){0;var t=s.oD,n=t.uW,i=t.oW;if(n&&i){var e=s.jg,r=n.wy,u=i.wy;if(r.tN(e)&&u.tN(e))r.eC(u).aC(e-yB,e)&&(s.mY?s.RY():s.PY())}}},s.BY=function(){s.Qs(new oy(s.jg))},s.OY=function(){s.xY(new $s),s.Qs(new uy(s.jg))},s.LY=function(){s.MY(),s.Qs(new aA(s.jg))},s.UY=function(){s.XY(s.tm)},s.FY=function(){s.Qs(new vy(s.Qg))},s.HY=function(){s.Qs(new _N(s.jg))},s.zY=function(){s.Qs(new gN)},s.VY=function(){var t=s.jg,n=s.nm,i=s.ag<Hm.Fg&&!s.Zg,e=void 0!==s.sY,r=e&&s.sY!==t;(n||!e||r&&!i)&&(s.Qs(new dy(s.jg,void 0)),s.sY=t)},s.WY=function(){!s.vY&&s.Zg&&(s.vY=!0,s.Qs(new wy(s.jg)))},s.GY=function(){if(null!==s.Vh.error){var t,n=s.Vh.error;s.mD(new qy(null!=(t=n.code)?t:zy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.qY=function(){s.lY&&(s.YY(),s.dY=!0)},s.jY=function(){s.Qs(new yy(s.jg,s.cm))},s.QY=function(){s.um>0&&s.im>0&&s.Qs(new Kp)},s.ZY=function(t){s.Qs(new Au(t.initDataType,t.initData||new ArrayBuffer(0)))},s.KY=function(){s.Qs(new Tu)},s.JY=function(t){var n=t.initData,i=n?Ho(n).buffer:new ArrayBuffer(0);s.Qs(new Au(Wr,i))},s.$Y=function(t){if(t.initData){var n=pB(t.initData);if(!n)return;s.Qs(new Au(qr,n))}else s.Qs(new Au(qr,new ArrayBuffer(0)))},s.tj=function(t){var n=t.initData,i=n?Ho(n).buffer:new ArrayBuffer(0);s.Qs(new Au(Wr,i))},s.nj=function(){s.MY()},s.ij=function(t){s.xY(t)},s.ej=function(t){s.Qs(t),t.type===pf.vf&&s.mD(jy(t.errorObject))},s.Vh=n,s.ys=i,s.Gq=e,s.OC=r,s.jq=new DC(Kt(s)),s.jq.Zs(ry.w_,s.js),s.Qq=new PC(Kt(s)),s.Qq.Zs(ry.Yg,s.LY),s.OX=new wB(Kt(s)),s.OX.Zs([pf.lf,pf.vf,pf.zf],s.ej),s.Pm=new Ap,s.Kq=new Ap,s.Jq=new xS([s.Pm,s.Kq]),s.$q=new eB(Kt(s),s.Jq),s.tY=new xS([s.Jq,s.$q.JA]),s.nY=new KP(Kt(s)),s.rj(),s.UD(),s}S(n,t);var e=n.prototype;return e.sj=function(){this.xD.ended||this.jg===this.Qg||(this.vY=!1)},e.uj=function(){return void 0!==this.iY&&this.Qg===this.iY},e.XY=function(t){this.fY!==t&&(this.fY=t,this.Qs(new ly(this.jg,t)))},e.eN=function(){return wD(this.Vh)},e.Fm=function(){var t=this.aj();return this.cj(),t},e.cj=function(){this._Y?this.gY&&(this.gY=!1,this.Qs(new oy(this.jg))):this.hj()},e.hj=function(){if(this.Yq)this.Yq.Fm();else{M.Bn&&!M.cn&&this.Vh.preload===YS.TN&&(this.Vh.preload=YS.uA);var t=this.tm,n=this.Vh.play();t!==this.xD.playbackRate&&(this.tm=t),j(n)?n.then(this.nj,this.ij):this.Qq.LW()&&this.MY()}},e.Hm=function(){this._Y?this.gY||(this.gY=!0,this.Qs(new uy(this.jg))):this.vj()},e.vj=function(){this.Yq?this.Yq.Hm():(this.Vh.pause(),this.Qq.qc()),this.lj(new $s)},e.aj=function(){var t=new Go;return this.aY.push(t),t.Fu},e.dj=function(){for(var t=0,n=this.aY;t<n.length;t++){n[t].Wu(void 0)}zs(this.aY)},e.lj=function(t){for(var n=0,i=this.aY;n<i.length;n++){i[n].Gu(t)}zs(this.aY)},e.MY=function(){this._Y||this.Yq||this.dj()},e.xY=function(t){this._Y||this.Yq||this.lj(t)},e.xu=function(t,n){this.Yq?this.Yq.jg=t:(this.oY.Hs(),this.oY=new Js,this.uY=this.wj(t,this.uY,this.oY.Ws).catch(K))},e.iN=function(t){var n=this.rN;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.wj=function(t,n,i){var e,r,s,u,o,a,c,h,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.iY=t,this.eY=t,this.DC=!0,this.vY&&!this.uj()&&(this.vY=!1),this.Qs(new gy(t)),v.next=8,Dr.awrap(n.catch(K));case 8:if(nu(i),this.wY&&this._j(),this.ag!==Hm.Mg){v.next=13;break}return v.next=13,Dr.awrap(this.au(ry.w_,i));case 13:if(0!==this.Vh.seekable.length){v.next=19;break}return v.next=16,Dr.awrap(We.race([Xg(this.Vh,"timeupdate",i),fu(100,i)]));case 16:nu(i),v.next=13;break;case 19:e=this.gj(t),r=this.Ny,s=!0,u=!1;case 23:if((r=this.Ny).C_>0&&!r.tN(e)&&(e=r.YN(e),s=!0),kB&&void 0!==(o=this.mj())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.yj())&&e>a)){v.next=37;break}return u=!0,v.next=33,Dr.awrap(this.bj(a,i));case 33:return v.next=35,Dr.awrap(Xg(this.Vh,"seeked",i));case 35:nu(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Dr.awrap(this.bj(e,i));case 41:nu(i),c=this.jg,r=this.Ny,e=r.YN(e),h=1;case 46:if(!(w.abs(e-c)>=1/6)){v.next=56;break}return r=this.Ny,e=TB(e,r,h),v.next=51,Dr.awrap(this.bj(e,i));case 51:nu(i),c=this.jg,h++,v.next=46;break;case 56:if(this.Vh.seeking||this.ag<Hm.Xg){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Dr.awrap(uu(function(t){var n;return We.race([Xg(f.Vh,"seeked",t),f.au([pf.Rf,pf._f,ry.w_],t),null==(n=f.oD)?void 0:n.au(sN.JP,t)].filter(F))},i));case 60:nu(i),v.next=23;break;case 63:this.pj(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!tu(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],We)},e.bj=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(nu(n),i=this.Ny,t=i.YN(t),!this.wY){s.next=18;break}e=!0;case 5:if(!(e||this.ag<Hm.Fg)){s.next=17;break}if((i=this.Ny).tN(t)||(t=i.YN(t),e=!0),!e){s.next=13;break}return e=!1,this.iY=t,this.Aj(this.jg),s.abrupt("continue",5);case 13:return s.next=15,Dr.awrap(this.au([ry.w_,pf._f],n));case 15:s.next=5;break;case 17:nu(n);case 18:if(r=Xg(this.Vh,"seeking",n),this.Vh.currentTime=t,this.iY=void 0,this.Aj(this.jg),!this.Vh.seeking){s.next=25;break}return s.next=25,Dr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.gj=function(t){var n=this.wy;if(n&&!n.tN(t)){var i=n.sC(t,.05);if(i>-1){var e=n.MN(i);if(t<e)return e}}return t},e.mj=function(){if(this.oD&&this.oD.QX){var t=this.oD.ZX,n=this.oD.KX,i=t&&n?t.ZN(n):t||n;if(i&&0!==i.C_){var e=i.MN(i.C_-1),r=i.XN(i.C_-1);return w.max(e,r-.001)}}},e.yj=function(){if(this.oD&&this.oD.QX){var t=this.oD.KX;if(t&&0!==t.C_){var n=t.MN(t.C_-1),i=t.XN(t.C_-1)-.02;return i-=.001,w.max(n,i)}}},e.Aj=function(t){this.eY!==t&&(this.eY=t,this.Qs(new gy(t)))},e.pj=function(){this.DC=!1,this.eY=NaN,this.wY&&this.Tj(),this.Qs(new my(this.jg))},e._j=function(){this._Y||(this.gY=this.$g,this._Y=!0,this.vj())},e.Tj=function(){this._Y&&(this._Y=!1,this.gY||this.cj())},e.jX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===Zp.NE&&wN.jX(i,this.Vh))return i;if(i.fs===Zp.CE&&AC.jX(i))return i}},e.Jm=function(){this.NN=!1,sr(this.Vh)&&(this.Vh.style.display="none")},e.Km=function(){this.NN=!0,sr(this.Vh)&&(this.Vh.style.display="block")},e.SE=function(t,n,i,e,r,s,u,o){var a=new jC(t,n,i,e,r,s,u,o);return this.Pm.E_(a),this.nY.E_(a),a},e.WD=function(){return!0},e.qD=function(t,n,i,e){var r=s.createElement("track");r.src=e_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=zI(),this.Vh.appendChild(r);var u=this.Vh.textTracks.getTrackById(r.id),o=new qP(u,r);return this.Kq.E_(o),this.Zq.push(o),o},e.RE=function(t){this.Pm.I_(t),this.nY.I_(t)},e.QD=function(){for(var t=0,n=this.Pm.N_.slice();t<n.length;t++){n[t].xd()}this.Pm.D_();for(var i=0,e=this.Zq.slice();i<e.length;i++){var r=e[i];this.Kq.I_(r),r.xd()}zs(this.Zq)},e.UD=function(){var t=this.Vh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.bY),t.addEventListener("removetrack",this.TY),t.addEventListener("change",this.SY)),this.Vh.addEventListener("emptied",this.EY)},e.KD=function(){var t=this.Vh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.bY),t.removeEventListener("removetrack",this.TY),t.removeEventListener("change",this.SY)),this.Vh.removeEventListener("emptied",this.EY)},e.AY=function(t,n){if(M.Bn){if(t.kind===pp.uA)return void this.Sj(t);if(t.kind===pp.aE&&""===t.label&&""===t.language&&!EB(t))return void this.Ej(t,n)}SB(this.Kq,t)||this.Kq.E_(new qP(t,n))},e.Sj=function(t){t.mode=bm.Q_;var n=new iB(t);this.Kq.E_(n),this.nY.E_(n)},e.Ej=function(t,n){var i=this;t.addEventListener("cuechange",function e(){EB(t)&&(t.removeEventListener("cuechange",e),i.Kq.E_(new qP(t,n)))}),t.mode=bm.Q_},e.pY=function(t){for(var n=this.Vh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Wc=function(t){var n=this;return this.qq.sX(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(nu(i),!n.oD){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.fs!==Zp.NE){r.next=9;break}e=new wN(t,n,n.OX,n.ys),n.wY=!1,n.Ij(new DC(n)),r.next=17;break;case 9:if(t.fs!==Zp.CE){r.next=16;break}e=new AC(t,n,n.OX,n.ys),n.wY=_B,n.Ij(n.wY?new NC(n):new DC(n)),gB&&(n.Zs(pf.Ff,n.IY),n.Zs(ry.w_,n.CY)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.oD=e,r.next=20,Dr.awrap(e.SL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.DY=function(){if(!this.mY){var t=this.tm;this.mY=!0,this.tm=t,this.Vh.playbackRate=0,this.jq&&this.jq.DW()}},e.RY=function(){if(this.mY){var t=this.tm;this.mY=!1,this.tm=t,this.PY()}},e.PY=function(){this.Vh.currentTime=this.Vh.currentTime,this.jq&&this.jq.DW()},e.Ij=function(t){var n=this.ag;this.jq.xs(),this.jq=t,this.jq.Zs(ry.w_,this.js);var i=this.ag;n!==i&&this.Qs(new py(this.jg,i))},e.D_=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.DC=!1,this.cY=nE.kC(),this.oY.Hs(),this.iY=void 0,this.eY=NaN,this.rY=void 0,this.wY=!1,this._Y=!1,this.aD=void 0,this.vY=!1,this.sY=void 0,this.lY=!1,this.dY&&(this.rj(),this.dY=!1),this.lj(new $s),this.Ij(new DC(this)),this.Qq.D_(),this.RY(),gB&&(vR(this.kY),this.kY=0,this.tu(pf.Ff,this.IY),this.tu(ry.w_,this.CY)),n.next=20,Dr.awrap(this.qq.Hs());case 20:return n.next=22,Dr.awrap(this.qq.sX(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.oD){n.next=4;break}return n.next=3,Dr.awrap(t.oD.xs());case 3:t.oD=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 22:case"end":return n.stop()}},null,this,null,We)},e.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dY=!1,this.YY(),this.KD(),t.next=5,Dr.awrap(this.D_());case 5:return t.next=7,Dr.awrap(this.qq.xd());case 7:return this.Qq.xs(),this.jq.xs(),t.next=11,Dr.awrap(this.OX.xs());case 11:return this.QD(),this.Pm.xd(),this.Kq.xd(),t.next=16,Dr.awrap(this.$q.xd());case 16:this.Jq.xd(),this.tY.xd(),this.$s();case 19:case"end":return t.stop()}},null,this,null,We)},e.rj=function(){this.xD.addEventListener("play",this.BY),this.xD.addEventListener("pause",this.OY),this.xD.addEventListener("timeupdate",this.VY),this.xD.addEventListener("progress",this.HY),this.xD.addEventListener("loadstart",this.zY),this.xD.addEventListener("ended",this.WY),this.xD.addEventListener("ratechange",this.UY),this.xD.addEventListener("volumechange",this.jY),this.xD.addEventListener("durationchange",this.FY),this.xD.addEventListener("resize",this.QY),this.xD.addEventListener("loadedmetadata",this.QY),this.xD.addEventListener("error",this.GY),this.xD.addEventListener("emptied",this.qY),As()?(this.Vh.addEventListener("encrypted",this.ZY),this.Vh.addEventListener("waitingforkey",this.KY)):void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported?this.Vh.addEventListener("webkitneedkey",this.$Y):Ts()?this.Vh.addEventListener("webkitneedkey",this.tj):void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported&&this.Vh.addEventListener("msneedkey",this.JY)},e.YY=function(){this.xD.removeEventListener("play",this.BY),this.xD.removeEventListener("pause",this.OY),this.xD.removeEventListener("timeupdate",this.VY),this.xD.removeEventListener("progress",this.HY),this.xD.removeEventListener("loadstart",this.zY),this.xD.removeEventListener("ended",this.WY),this.xD.removeEventListener("ratechange",this.UY),this.xD.removeEventListener("volumechange",this.jY),this.xD.removeEventListener("durationchange",this.FY),this.xD.removeEventListener("resize",this.QY),this.xD.removeEventListener("loadedmetadata",this.QY),this.xD.removeEventListener("error",this.GY),this.xD.removeEventListener("encrypted",this.ZY),this.xD.removeEventListener("waitingforkey",this.KY),this.xD.removeEventListener("webkitneedkey",this.$Y),this.xD.removeEventListener("webkitneedkey",this.tj),this.xD.removeEventListener("msneedkey",this.JY),this.xD.removeEventListener("emptied",this.qY)},e.Rj=function(){var t;this.Yq||(this.cY=this.Ry,this.Yq=new EC((t=this).jg,t.Qg,t.Zg,t.$g,t.nm,t.Jg,t.tm,t.cm,t.ag),this.YY(),this.Yq.Zs(SC,this.js))},e.Dj=function(){if(this.Yq){var t,n,i=this.Yq;this.Yq=void 0,this.jq.DW(),t=this,(n=i).Qg===t.Qg||m(n.Qg)&&m(t.Qg)||t.Qs(new vy(t.Qg)),t.Jg=n.Jg,t.cm=n.cm,t.tm=n.tm,n.$g?t.Hm():t.Fm().catch(K),n.jg!==t.jg||n.ag>Hm.Mg&&t.ag===Hm.Mg?t.xu(n.jg):!n.nm&&t.nm?t.Qs(new gy(t.jg)):n.nm&&!t.nm&&t.ag>=Hm.Xg&&t.Qs(new my(t.jg)),!n.Zg&&t.Zg&&t.Qs(new wy(t.jg)),i.xs(),this.rj()}},e.mD=function(t){this.aD=t,this.lj(this.aD),this.Qs(new BC(this.aD))},e.Nj=function(){this.Cj||(ZO(this.Vh,i.Lr),this.yY=!0)},e.Pj=function(t){t.appendChild(this.Vh)},e.mW=function(){gB&&this.IY(),this.jq.DW()},e.ly=function(){this.OX.Vq().catch(K)},A(n,[{key:"PW",get:function(){return this.mY}},{key:"wy",get:function(){return this.oD?this.oD.wy:nE.kC()}},{key:"_y",get:function(){var t=this.rN;if(t&&!m(t.getTime())){var n=1e3*this.jg;return new Date(t.getTime()+n)}}},{key:"rN",get:function(){if(this.xD.getStartDate)return this.DC&&this.rY||(this.rY=this.xD.getStartDate()),this.rY}},{key:"jg",get:function(){return this.Yq?this.Yq.jg:void 0!==this.iY?this.iY:this.Vh.currentTime}},{key:"XU",get:function(){return this.Gq}},{key:"Qg",get:function(){return this.Yq?this.Yq.Qg:this.oD?this.oD.Qg:this.Vh.duration}},{key:"Zg",get:function(){return this.nm?this.uj():this.Yq?this.Yq.Zg:this.Vh.ended||this.vY}},{key:"mu",get:function(){return this.aD}},{key:"xD",get:function(){return this.Vh}},{key:"$g",get:function(){return this._Y?this.gY:this.Yq?this.Yq.$g:this.Vh.paused}},{key:"Ry",get:function(){return this.cY.iC(nE.gC(this.Vh.played))}},{key:"dT",get:function(){return this.Vh.offsetHeight*i.Lr.He}},{key:"Bk",get:function(){return this.Vh.offsetWidth*i.Lr.He}},{key:"jD",get:function(){return rE}},{key:"ag",get:function(){return this.jq.ag}},{key:"Ny",get:function(){return this.oD?this.oD.Ny:nE.kC()}},{key:"nm",get:function(){return this.Yq?this.Yq.nm:this.DC}},{key:"Jg",get:function(){return this.Yq?this.Yq.Jg:this.Vh.muted},set:function(t){this.Yq?this.Yq.Jg=t:this.Vh.muted=t}},{key:"tm",get:function(){return this.Yq?this.Yq.tm:void 0!==this.hY?this.hY:this.Vh.playbackRate},set:function(t){this.Yq?this.Yq.tm=t:this.$g||this.mY?(this.hY=t,this.XY(t)):(this.hY=void 0,this.Vh.playbackRate=t)}},{key:"Bj",get:function(){return this.NN}},{key:"cm",get:function(){return this.Yq?this.Yq.cm:this.Vh.volume},set:function(t){this.Yq?this.Yq.cm=t:this.Vh.volume=t}},{key:"Um",get:function(){return this.tY}},{key:"HU",get:function(){return this.OC}},{key:"yy",get:function(){return!!this.Vh.webkitCurrentPlaybackTargetIsWireless}},{key:"Cj",get:function(){return this.yY}},{key:"Oj",get:function(){return Nr({},fN)}},{key:"LD",get:function(){return this.OX.LD},set:function(t){this.OX.LD=t}},{key:"Wq",get:function(){return this.OX.Wq}},{key:"Py",get:function(){return this.lY},set:function(t){this.lY=t,this.dY&&!this.lY&&(this.dY=!1,this.rj())}}]),n}(wu);function pB(t){try{var n=Lo(t),i=new Vo;return Eo(Io(so(n,i,fo(n,i,!0)),!0))}catch(t){return}}var AB=.01;function TB(t,n,i){if(void 0===i&&(i=0),!n.C_)return 0;var e=n.YN(t),r=AB*i;return e===n.MN(0)?e+=r:e===n.XN(n.C_-1)&&(e-=r),e}function SB(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.Vy===n)return r}}function EB(t){return!!t.cues&&t.cues.length>0}var IB={eU:void 0,rU:void 0,sU:void 0,uU:void 0,oU:void 0,aU:void 0,lU:void 0,cU:void 0,hU:void 0,fU:void 0,vU:void 0},RB=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$w=void 0,n}return S(n,t),A(n,[{key:"t_",get:function(){return this.$w||(this.$w=ID(this)),this.$w}},{key:"eU",get:function(){}},{key:"rU",get:function(){}},{key:"sU",get:function(){}},{key:"uU",get:function(){}},{key:"oU",get:function(){}},{key:"aU",get:function(){}},{key:"lU",get:function(){}},{key:"cU",get:function(){}},{key:"hU",get:function(){}},{key:"fU",get:function(){}},{key:"vU",get:function(){}}]),n}(wu);new RB;var DB=function(t){function n(n,i,e){return t.call(this,n,i,e,new RB)||this}return S(n,t),n.prototype.$m=function(){},A(n,[{key:"im",get:function(){return 0}},{key:"um",get:function(){return 0}}]),n}(bB),NB="theoplayer-texttracks",CB=function(){function t(t){void 0===t&&(t=5),this.xj=void 0;var n=le.document.createElement("div");n.className=NB,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.xj=n,this.Km()}var n=t.prototype;return n.Jm=function(){this.xj.style.display="none"},n.Km=function(){this.xj.style.display="block"},n.Pj=function(t){t.appendChild(this.xj)},n.xd=function(){$e(this.xj)},A(t,[{key:"gy",get:function(){return this.xj}}]),t}();function PB(t,n){return Nr({},n,am({eU:(i=t).eU,rU:i.rU,sU:i.sU,uU:i.uU,oU:i.oU,aU:i.aU,lU:i.lU,cU:i.cU,hU:i.hU,fU:i.fU,vU:i.vU}));var i}function BB(t){return t.sU&&ds(t.sU,"%")?Number(t.sU.replace("%",""))/100:t.sU&&ds(t.sU,"em")?Number(t.sU.replace("em","")):1}var OB,xB,LB=function(){function t(t,n,i,e,r){var s=this;this.Lj=Br(),this.Mj=!0,this.Uj=void 0,this.Xj=Nr({},IB),this.Fj=[],this.gk=void 0,this.Vh=void 0,this.Gq=void 0,this.Hj=void 0,this.zj=function(t){return s.IE(t.Ky)},this.Vj=function(t){return s.removeCue(t.Ky)},this.Wj=function(){return s.Gj()},this.qj=function(t){return s.Yj(t.Ky)},this.jj=function(t){return s.Qj(t.Ky)},this.Zj=function(t){return s.Kj(t.Ky)},this.Jj=function(t){s.$j(t.Bk,t.dT)},this.gk=t,this.Hj=this.Uj=r,this.Vh=this.tQ(i),this.Gq=e,n.appendChild(this.Vh)}var n=t.prototype;return n.nQ=function(t){var n=this.iQ(t);if(!n)return!1;for(var i=0;i<n.length;i++){$e(n[i])}return this.eQ(t),!0},n.SL=function(){var t=this;this.rQ(),this.gk.cg.N_.forEach(function(n){return t.IE(n)}),this.XU.Zs("CO",this.Jj),this.$j(this.XU.UO,this.XU.MO)},n.sQ=function(t){this.Xj=t,this.Uj=PB(this.Xj,this.Hj),this.Uj.eU&&(this.xD.style.fontFamily=this.Uj.eU),this.Uj.lU&&(this.xD.style.visibility=this.Uj.lU),this.$j(this.XU.UO,this.XU.MO),this.uQ(!0)},n.oQ=function(){return this.Uj},n.aQ=function(t){return this.Lj.has(t.z_)},n.rQ=function(){this.gk.Zs(Gg.e_,this.zj),this.gk.Zs(Gg.s_,this.Vj),this.gk.Zs(Gg.l_,this.Wj)},n.cQ=function(){this.gk.tu(Gg.e_,this.zj),this.gk.tu(Gg.s_,this.Vj),this.gk.tu(Gg.l_,this.Wj)},n.hQ=function(t){t.Zs(wk.Yy,this.qj),t.Zs(wk.Qy,this.jj),t.Zs(wk.y_,this.Zj)},n.fQ=function(t){t.tu(wk.Yy,this.qj),t.tu(wk.Qy,this.jj),t.tu(wk.y_,this.Zj)},n.IE=function(t){this.hQ(t),t.Sk&&this.Yj(t)},n.removeCue=function(t){this.fQ(t),this.Qj(t)},n.Gj=function(){this.gk.eg===bm.Z_?this.vQ():this.lQ()},n.vQ=function(){if(this.Mj){this.Mj=!1;var t=this.XU.UO,n=this.XU.MO;this.$j(t,n),this.uQ(!1)}},n.lQ=function(){this.Mj||(this.Mj=!0,this.uQ(!0))},n.Yj=function(t){this.Mj||t.Sk&&!this.aQ(t)&&this.uQ(!1)},n.Qj=function(t){this.aQ(t)&&this.uQ(!1)},n.Kj=function(t){(t.Sk||this.aQ(t))&&this.uQ(!0)},n.uQ=function(t){var n=this.Fj,i=this.Mj?[]:this.gk.hg.N_.slice();this.dQ(i,n,t),this.Fj=i},n.iQ=function(t){var n;return null==(n=this.Lj.get(t.z_))?void 0:n.wQ},n._Q=function(t,n){this.Lj.set(t.z_,{Ky:t,wQ:n})},n.eQ=function(t){this.Lj.delete(t.z_)},n.gQ=function(){return this.Fj.slice()},n.xd=function(){var t=this;$e(this.xD),this.Lj.clear(),this.cQ(),this.gk.cg.N_.forEach(function(n){return t.fQ(n)}),this.XU.tu("CO",this.Jj)},A(t,[{key:"i_",get:function(){return this.gk}},{key:"xD",get:function(){return this.Vh}},{key:"XU",get:function(){return this.Gq}},{key:"mQ",get:function(){return this.Uj}},{key:"yQ",get:function(){return this.Xj}}]),t}();function MB(t){return UB[t||"none"]}!function(t){t.kQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.bQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.pQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.AQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(OB||(OB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(xB||(xB={}));var UB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},XB=Or({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),FB={rU:xB.WHITE,eU:"Arial, Helvetica, Sans-Serif",sU:"100%",uU:xB.TRANSPARENT,oU:xB.TRANSPARENT,aU:"none",lU:"visible",cU:void 0,hU:void 0,fU:void 0,vU:void 0},HB=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,FB)||this}S(n,t);var i=n.prototype;return i.tQ=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",nr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.$j=function(t,n){var i=w.min(t,n)/15;this.xD.style.fontSize=i+"px"},i.dQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Sk||this.nQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.TQ(u)}},i.TQ=function(t){var n=this.iQ(t);n||(n=this.SQ(t),this._Q(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.xD.appendChild(r)}},i.SQ=function(t){var n,i=[],e=t.eE,r=t.vp,u=t.nk;if(0===d.keys(r).length){QB(n=s.createElement("div"));for(var o=zB(u,e,t.rE,void 0),a=0;a<o.length;a++){var c=o[a];n.appendChild(c)}i.push(n)}else for(var h=0,f=d.keys(r);h<f.length;h++){var v=f[h],l=s.createElement("div");l.id=v;var w=zB(u,e,t.rE,l);if(w){QB(l),WB(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.sQ=function(t){var n,i,e,r;n=this.xD,i=t,n.style.marginTop=(null!=(e=i.cU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.hU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",CD(this.xD,t)},n}(LB);function zB(t,n,i,e){var r,u;if(Qt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":VB(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",VB(n,t);break;case"DIV":VB(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");qB(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=rp(s.wi,["ebutts","tts","xml"]);YB(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&GB(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];GB(t,e,n)}(t,n)}(r,t,i));for(var a=[],c=t.Ii,h=0;h<c.length;h++){var f=zB(c[h],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,w=l[v];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.Hi));return r?[r]:[]}function VB(t,n){var i=n.Oi(np,"id");i&&(t.id=i)}function WB(t,n,i,e){qB(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];YB(t,n,u,i[u],t)}}function GB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.Hi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){nr(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function qB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,c=d.keys(e[o]);a<c.length;a++){var h=c[a],f=rp(h,["ebutts","tts","xml"]);"style"===f.toLowerCase()?qB(t,n,e[o][h],e,r):YB(t,n,f,e[o][h],r)}}}function YB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=XB.get(e);t.style.fontFamily=s||e;break;case"fontSize":ds(e,"px")?e=_(e)/24+"em":ds(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,c,h=jB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],c=f[1]):a=c="100%",h&&(h.style.height=c,h.style.width=a);break;case"origin":var v=jB(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ds(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function jB(t){return"div"===t||"p"===t||"span"===t}function QB(t){nr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var ZB,KB,JB=void 0;function $B(t,n){for(var i,e=ZB.EQ,r="",s=[],u=t.charAt(n.Pu),o="",a={fs:KB.IQ,Ri:"",RQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case ZB.EQ:switch(u){case"&":var c=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);c?(r+=(i=c[0],JB||(JB=le.document.createElement("textarea")),JB.innerHTML=i,JB.value),n.Bu(c[0].length-1)):r+="&";break;case"<":if(r)return{fs:KB.DQ,nk:r};e=ZB.NQ;break;case"EOF":return{fs:KB.DQ,nk:r};default:r+=u}break;case ZB.NQ:switch(u){case"\t":case"\n":case"\f":case" ":e=ZB.CQ;break;case".":e=ZB.BQ;break;case"/":e=ZB.OQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=ZB.xQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=ZB.LQ}break;case ZB.LQ:switch(u){case"\t":case"\f":case" ":e=ZB.CQ;break;case"\n":o=u,e=ZB.CQ;break;case".":e=ZB.BQ;break;case">":return n.Bu(1),{fs:KB.IQ,Ri:r,RQ:[]};case"EOF":return{fs:KB.IQ,Ri:r,RQ:[]};default:r+=u}break;case ZB.BQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=ZB.CQ;break;case"\n":s.push(o),o=u,e=ZB.CQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{fs:KB.IQ,Ri:r,RQ:s};case"EOF":return s.push(o),{fs:KB.IQ,Ri:r,RQ:s};default:o+=u}break;case ZB.CQ:switch(u){case"&":e=ZB.MQ;break;case">":n.Bu(1);var h=o.trim();return h=h.replace(/\s/," "),{fs:KB.IQ,Ri:r,RQ:s,UQ:h};default:o+=u}break;case ZB.MQ:for(var f="",v=n.Pu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=ZB.CQ;break;case ZB.OQ:switch(u){case">":return n.Bu(1),{fs:KB.XQ,Ri:r};case"EOF":return{fs:KB.XQ,Ri:r};default:r+=u}break;case ZB.xQ:switch(u){case">":return n.Bu(1),{fs:KB.FQ,HQ:r};case"EOF":return{fs:KB.FQ,HQ:r};default:r+=u}}n.Bu(1)}return a}function tO(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.EQ="Data",t.NQ="Tag",t.LQ="StartTag",t.BQ="StartTagClass",t.CQ="StartTagAnnotation",t.MQ="CharRefInAnnotation",t.OQ="EndTag",t.xQ="TimestampTag"}(ZB||(ZB={})),function(t){t.DQ="string",t.IQ="starttag",t.XQ="endtag",t.FQ="timestamp"}(KB||(KB={}));var nO,iO=function(){function t(t,n,i,e){this.zQ=void 0,this.VQ=void 0,this.Bk=void 0,this.dT=void 0,this.zQ=t,this.VQ=n,this.Bk=i,this.dT=e}var n=t.prototype;return n.WQ=function(t){return this.zQ<t.GQ&&this.GQ>t.zQ&&this.VQ<t.qQ&&this.qQ>t.VQ},n.xy=function(t){return this.zQ<=t.zQ&&t.GQ<=this.GQ&&this.VQ<=t.VQ&&t.qQ<=this.qQ},n.Lu=function(){return new t(this.zQ,this.VQ,this.Bk,this.dT)},A(t,[{key:"GQ",get:function(){return this.zQ+this.Bk},set:function(t){this.zQ=t-this.Bk}},{key:"qQ",get:function(){return this.VQ+this.dT},set:function(t){this.VQ=t-this.dT}}]),t}(),eO={rU:xB.WHITE,eU:"sans-serif",sU:"100%",uU:"rgba(0,0,0,0.8)",oU:xB.TRANSPARENT,aU:"none",lU:"visible",cU:void 0,hU:void 0,fU:void 0,vU:void 0},rO="theoplayer-webvtt-region-",sO="theoplayer-webvtt-styling-",uO="theoplayer-webvtt-voice-",oO="theoplayer-webvtt-default-style",aO=5.23,cO=1.14,hO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,eO)||this).YQ=Pr(),s.jQ=wO(3),s}S(n,t);var i=n.prototype;return i.tQ=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,er(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.mQ.eU;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(oO))return;for(var t=[],n=0;n<AO.length;n++){var i=AO[n],e=i[0],r=i[1];t.push("."+sO+e+" { color: "+r+" !important; }"),t.push("."+sO+"QQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("ZQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=oO,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.SL=function(){this.xD.appendChild(this.jQ),t.prototype.SL.call(this)},i.$j=function(t,n){var i=this,e=w.min(t/100,n/100),r=BB(this.mQ);this.YQ.forEach(function(t){var n=t.vk,s=t.KQ;i.JQ(s,e,r,n)}),this.JQ(this.jQ,e,r)},i.sQ=function(n){CD(this.xD,n),t.prototype.sQ.call(this,n)},i.dQ=function(t,n,i){for(var e=this,r=this.xD,s=this.XU.MO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.vk&&(Fs(u,a.vk)||u.push(a.vk))}this.YQ.forEach(function(t,n){var r=t.vk,s=t.KQ;!i&&Fs(u,r)||($e(s),e.YQ.delete(n))});for(var c=0;c<n.length;c++){var h=n[c];!i&&h.Sk||this.nQ(h)}var f=[],v=yO(this.jQ.getBoundingClientRect());f.push.apply(f,this.$Q(v));for(var l=0;l<u.length;l++){var d=u[l],w=void 0;this.YQ.has(d.H_)?w=this.YQ.get(d.H_).KQ:(w=_O(d,s),r.appendChild(w),this.YQ.set(d.H_,{vk:d,KQ:w})),f.push(yO(w.getBoundingClientRect()))}for(var _=0;_<t.length;_++){var g=t[_],m=this.TQ(g,f,v);void 0!==m&&f.push(m)}},i.$Q=function(t){var n=[],i=this.mQ;if(void 0!==i.cU){var e=t.Lu();e.dT=i.cU,n.push(e)}if(void 0!==i.hU){var r=t.Lu();r.dT=i.hU,r.qQ=t.qQ,n.push(r)}return n},i.TQ=function(t,n,i){var e,r;t.vk?(r=this.YQ.get(t.vk.H_).KQ,"up"===t.vk.Nk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.jQ;var s=null==(e=this.iQ(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.tZ(t),r.appendChild(s),t.vk||(t.lk?function(t,n,i,e){var r=gO(t),s=r?i.dT:i.Bk,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=yO(n.getBoundingClientRect()),a=w.round(Pk(t));"rl"===t.dk&&(a=-(a+1));var c=u*a;"rl"===t.dk&&(c=c-o.Bk+u);a<0&&(c+=s,u=-u);r?o.VQ+=c:o.zQ+=c;var h=o.Lu(),f=!1;for(;!i.xy(o)||mO(o,e);)if(r)if(u<0&&o.VQ<i.VQ||u>0&&o.qQ>i.qQ){if(o.VQ=h.VQ,f)break;u=-u,f=!0}else o.VQ+=u;else if(u<0&&o.zQ<i.zQ||u>0&&o.GQ>i.GQ){if(o.zQ=h.zQ,f)break;u=-u,f=!0}else o.zQ+=u;r?n.style.top=(o.VQ-i.VQ)/i.dT*100+"%":n.style.left=(o.zQ-i.zQ)/i.Bk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=yO(n.getBoundingClientRect());if(0===r.Bk||0===r.dT)return;gO(t)?"center"===t.ck?r.VQ-=r.dT/2:"end"===t.ck&&(r.VQ-=r.dT):"center"===t.ck?r.zQ-=r.Bk/2:"end"===t.ck&&(r.zQ-=r.Bk);var s,u=r.Lu(),o=u,a=1,c=!1;s=""===t.dk?[nO.POS_Y,nO.NEG_Y,nO.POS_X,nO.NEG_X]:"lr"===t.dk?[nO.POS_X,nO.NEG_X,nO.POS_Y,nO.NEG_Y]:[nO.NEG_X,nO.POS_X,nO.POS_Y,nO.NEG_Y];var h=g(getComputedStyle(n).lineHeight)/4;if(h>0){for(var f=0;f<s.length&&!c;f++){for(;!bO(r,i,s[f],.01)&&(!i.xy(r)||mO(r,e));)kO(r,s[f],h);if(i.xy(r)){o=r.Lu(),c=!0;break}var v=(l=r,d=i,_=void 0,m=void 0,void 0,_=w.max(0,w.min(l.GQ,d.GQ)-w.max(l.zQ,d.zQ)),m=w.max(0,w.min(l.qQ,d.qQ)-w.max(l.VQ,d.VQ)),_*m/(l.Bk*l.dT));a>v&&(o=r.Lu(),a=v),r=u.Lu()}i.xy(r)||(o=u.Lu())}var l,d,_,m;n.style.left=(o.zQ-i.zQ)/i.Bk*100+"%",n.style.top=(o.VQ-i.VQ)/i.dT*100+"%"}(t,s,i,n)),this._Q(t,[s])),!t.vk)return yO(s.getBoundingClientRect())},i.tZ=function(t){for(var n=new Vo,i=t.nk,e=this.nZ(t),r={iZ:void 0,gy:e},u=r,o="",a="",c=[r],h=[],f=[];n.Pu<i.length;){var v=$B(i,n);if(v.fs===KB.DQ){var l=s.createElement("span");tO(l,v.nk),fO(l,c),""!==o&&(l.lang=o),this.eZ(l,a),u.gy.appendChild(l)}else if(v.fs===KB.IQ){var d=v.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.gy.appendChild(w),u={iZ:v,gy:w},c.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.iZ)?void 0:_.Ri.toLowerCase())){var g=s.createElement("rt");u.gy.appendChild(g),u={iZ:v,gy:g},c.push(u)}break;case"c":case"v":u={iZ:v,gy:u.gy},c.push(u);break;case"font":var m,y=null==(m=v.UQ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={iZ:v,gy:u.gy},c.push(u));break;case"lang":var k;o=null!=(k=v.UQ)?k:"",h.push(o)}}else if(v.fs===KB.XQ){var b,p=v.Ri.toLowerCase(),A=null==(b=u.iZ)?void 0:b.Ri.toLowerCase();A===p?(c.pop(),u=c[c.length-1],"font"===p&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===p?(c.pop(),c.pop(),u=c[c.length-1]):"lang"===p&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.fs===KB.FQ){var T=v.HQ,S=new Vo;try{Tb(T,S)}catch(t){at("ERROR collecting timestamp",t)}}}return e},i.eZ=function(t,n){var i=this.mQ,e=this.yQ;i.uU&&(t.style.background=i.uU);var r=e.rU||n||i.rU;r&&(t.style.color=r)},i.JQ=function(t,n,i,e){if(e){var r=vO(e,n);t.style.height=r*i+"px",t.style.left=lO(e)+"%",t.style.top=dO(e,n)+"px"}t.style.fontSize=aO*n*i+"px"},i.nZ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.ek,function(t,n){"rl"===n.dk?t.style.writingMode="vertical-rl":"lr"===n.dk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=xk(n);gO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Ok(n),s=Bk(n),u=xk(n);if(gO(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.lk?0:Pk(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.lk?0:Pk(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.mQ.oU;i&&(n.style.background=i);var e=this.mQ.rU;return e&&(n.style.color=e),n.style.textShadow=MB(this.mQ.aU),n},n}(LB);function fO(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.iZ){for(var r=0,s=e.iZ.RQ;r<s.length;r++){var u=s[r];tr(t,sO+u)}"v"===e.iZ.Ri.toLowerCase()&&e.iZ.UQ&&tr(t,uO+e.iZ.UQ)}}}function vO(t,n){return t.Ik*(aO*n)*cO}function lO(t){return t.Ck-t.Rk*t.Bk/100}function dO(t,n){var i=t.Pk,e=t.Dk*vO(t,n)/100;return w.max(0,i-e)}function wO(t){var n=s.createElement("div");return n.className=rO+"default",er(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=aO*t+"px",n.style.lineHeight=cO+"em",n}function _O(t,n){var i=wO(n);i.className=rO+t.H_;var e=t.Bk,r=vO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=lO(t)+"%",i.style.right="",i.style.top=dO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function gO(t){return""===t.dk}function mO(t,n){return n.some(function(n){return t.WQ(n)})}function yO(t){return new iO(t.left,t.top,t.width,t.height)}function kO(t,n,i){switch(n){case nO.POS_X:t.zQ+=i;break;case nO.NEG_X:t.zQ-=i;break;case nO.POS_Y:t.VQ+=i;break;case nO.NEG_Y:t.VQ-=i}}function bO(t,n,i,e){switch(i){case nO.POS_X:return t.GQ>n.GQ+e;case nO.NEG_X:return t.zQ<n.zQ-e;case nO.POS_Y:return t.qQ>n.qQ+e;case nO.NEG_Y:return t.VQ<n.VQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(nO||(nO={}));var pO,AO=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(pO||(pO={}));var TO={rU:xB.WHITE,eU:OB.pQ,sU:"100%",uU:xB.BLACK,oU:"transparent",aU:"none",rZ:pO.FONT_REGULAR,lU:"visible",cU:void 0,hU:void 0,fU:void 0,vU:void 0},SO=[{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.GREEN,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.GREEN,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.BLUE,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.BLUE,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.CYAN,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.CYAN,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.RED,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.RED,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.YELLOW,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.YELLOW,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.MAGENTA,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.MAGENTA,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.WHITE,rZ:pO.FONT_ITALICS,uZ:0},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE_ITALICS,uZ:0},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:0},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:0},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:4},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:4},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:8},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:8},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:12},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:12},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:16},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:16},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:20},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:20},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:24},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:24},{sZ:xB.WHITE,rZ:pO.FONT_REGULAR,uZ:28},{sZ:xB.WHITE,rZ:pO.FONT_UNDERLINE,uZ:28}],EO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function IO(t,n){return Zk(t.oZ,n.oZ)||Cs(t.kS,n.kS)}var RO=32,DO=function(){function t(t,n,i){this.aZ=void 0,this.cZ=t,this.hZ=n,this.Uj=i}var n=t.prototype;return n.fZ=function(){return this.aZ=this.vZ(),this.lZ(),this.dZ(),this.aZ},n.vZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.wZ/RO*this.hZ._Z*100+"%",t.style.height=1.2*this.gZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.hZ.mZ?"calc(1em - 1ch)":"";var n=this.Uj.eU;n&&(t.style.fontFamily=n);var i=this.Uj.oU;return i&&(t.style.backgroundColor=i),t},n.lZ=function(){if(this.aZ){var t=this.kZ.yZ/15*100,n=this.kZ.uZ/RO*100,i=(RO-this.bZ.uZ-1)/RO*100,e=(15-this.bZ.yZ-1)/15*100;this.hZ.pZ||(n=i=1,this.aZ.style.width="98%"),e<t?this.aZ.style.bottom=e*this.hZ._Z+"%":this.aZ.style.top=t*this.hZ._Z+"%",i<n?this.aZ.style.right=i+"%":this.aZ.style.left=n+"%"}},n.dZ=function(){for(var t=this.cZ.AZ.sort(NO),n=0;n<t.length;n++)this.TZ(t[n-1],t[n]),this.SZ(t[n]);this.TZ(t[t.length-1],void 0)},n.SZ=function(n){var i,e=PB(this.Uj,n.EZ),r=t.IZ(e);tO(r,n.RZ),null==(i=this.aZ)||i.appendChild(r)},t.IZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.rZ!==pO.FONT_ITALICS&&t.rZ!==pO.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.rZ!==pO.FONT_UNDERLINE&&t.rZ!==pO.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.rU;i&&(n.style.color=i);var e=t.uU;return e&&(n.style.backgroundColor=e),n.style.textShadow=MB(t.aU),n.style.height="1.2em",n},n.TZ=function(t,n){var i=t?t.DZ.yZ:this.cZ.NZ.yZ,e=n?n.NZ.yZ:this.cZ.DZ.yZ,r=t?t.DZ.uZ:this.cZ.NZ.uZ,s=n?n.NZ.uZ:this.cZ.DZ.uZ;i<e&&(!n||t&&t.NZ.yZ!==n.NZ.yZ?this.CZ():this.PZ(this.cZ.DZ.uZ-r),r=this.cZ.NZ.uZ),r<s&&(n?this.PZ(s-r):this.CZ())},n.CZ=function(){var t,n=s.createElement("br");null==(t=this.aZ)||t.appendChild(n)},n.PZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",tO(i,_s(" ",t)),null==(n=this.aZ)||n.appendChild(i)}},A(t,[{key:"kZ",get:function(){return this.cZ.NZ}},{key:"bZ",get:function(){return this.cZ.DZ}},{key:"wZ",get:function(){return this.cZ.DZ.uZ-this.cZ.NZ.uZ+1}},{key:"gZ",get:function(){return this.cZ.DZ.yZ-this.cZ.NZ.yZ+1}}]),t}();function NO(t,n){return function(t,n){if(t.yZ!==n.yZ)return t.yZ-n.yZ;return t.uZ-n.uZ}(t.NZ,n.NZ)}var CO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,TO)||this).BZ=void 0,s.OZ=void 0,s}S(n,t);var i=n.prototype;return i.tQ=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.mQ.eU&&(n.style.fontFamily=this.mQ.eU),n},i.$j=function(t,n){this.xZ()},i.xZ=function(){var t,n=BB(this.mQ);this.OZ={_Z:(t=100*n)/100,mZ:t<=100,pZ:t<=150};var i=this.LZ/RO;this.BZ=i*n,this.xD.style.fontSize=this.BZ+"px"},i.dQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Sk||this.nQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.TQ(u)}},i.TQ=function(t){this.OZ&&this.OZ.pZ?this.MZ(80):this.MZ(100),this.xZ();var n=this.iQ(t);n||(n=this.SQ(t),this._Q(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.xD.appendChild(r)}},i.SQ=function(t){var n=this;return t.nk.map(function(t){return new DO(t,n.OZ,n.mQ).fZ()})},i.MZ=function(t){var n=(100-t)/2;this.xD.style.left=n+"%",this.xD.style.width=t+"%"},A(n,[{key:"LZ",get:function(){var t=this.xD.offsetWidth;return this.OZ&&this.OZ.pZ||(t*=.8),t}}]),n}(LB),PO=function(){function t(t,n,i,e,r){var s=this;this.UZ=void 0,this.Gq=void 0,this.Pm=void 0,this.XZ=void 0,this.FZ=[],this.OC=void 0,this.HZ=function(t){var n=t.i_;n.Zs(Gg.w_,s.zZ),n.Zs(Gg.g_,s.zZ),n instanceof qP&&(n.DG=s.DG),s.VZ(n)},this.zZ=function(t){var n=t.i_;s.VZ(n)},this.WZ=function(t){var n=t.i_;n.tu(Gg.w_,s.zZ),n.tu(Gg.g_,s.zZ),s.GZ(n)},this.qZ=function(){for(var t=s.DG,n=0,i=s.Pm.N_;n<i.length;n++){var e=i[n];e instanceof qP&&(e.DG=t)}},this.YZ=function(){for(var t=0,n=s.FZ;t<n.length;t++){n[t].sQ(s.OC)}},this.jZ=function(){for(var t=0,n=s.FZ;t<n.length;t++){var i=n[t];i.sQ(Nr({},i.oQ(),{lU:"hidden"}))}},this.QZ=function(){for(var t=0,n=s.FZ;t<n.length;t++){var i=n[t];i.sQ(Nr({},i.oQ(),{lU:"visible"}))}},this.UZ=t,this.Gq=n,this.Pm=i,this.XZ=r,this.OC=e,this.Pm.Zs(Hg.Qw,this.HZ),this.Pm.Zs(Hg.Kw,this.WZ),this.Pm.Zs(Gg.l_,this.zZ),this.XZ.Zs($S.l_,this.qZ),this.OC.Zs("d_",this.YZ),this.qZ()}var n=t.prototype;return n.ZZ=function(t){for(var n=0,i=this.FZ;n<i.length;n++){var e=i[n];if(e.i_===t)return e}},t.KZ=function(t){switch(t.fs){case fk.TTML:case fk.SRT:case fk.WEBVTT:case fk.CEA608:return!0}return!1},n.JZ=function(t){switch(t.fs){case fk.TTML:return new HB(t,this.UZ,t.W_,this.Gq);case fk.SRT:case fk.WEBVTT:return new hO(t,this.UZ,t.W_,this.Gq);case fk.CEA608:return new CO(t,this.UZ,t.W_,this.Gq)}},n.$Z=function(t){var n=this.ZZ(t);n||(n=this.JZ(t))&&(n.SL(),n.sQ(this.OC),this.FZ.push(n),t.eg===bm.Z_&&n.vQ())},n.GZ=function(t){for(var n=this.FZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.i_===t&&(e.xd(),Xs(n,i))}},n.VZ=function(n){var i;(i=n.V_)!==pp.rA&&i!==pp.aE||!t.KZ(n)||(n.ag===hk.ERROR?this.GZ(n):this.$Z(n))},n.D_=function(){for(var t=0,n=this.FZ;t<n.length;t++){var i=n[t];i.i_.tu(Gg.w_,this.zZ),i.i_.tu(Gg.g_,this.zZ),i.xd()}zs(this.FZ)},n.xd=function(){this.D_();for(var t=0,n=this.FZ;t<n.length;t++){n[t].xd()}this.Pm.tu(Hg.Qw,this.HZ),this.Pm.tu(Hg.Kw,this.WZ),this.Pm.tu(Gg.l_,this.zZ),this.XZ.tu($S.l_,this.qZ),this.OC.tu("d_",this.YZ)},A(t,[{key:"DG",get:function(){return this.XZ.pC}}]),t}();function BO(t){var n=new ER,i=function(t){var n=[];return TR.ux(t)&&n.push(new TR(t)),SR.ux(t)&&n.push(new SR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.lx(r)}n.vx(i[0])}return n}var OO,xO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).tK=void 0,s.nK=void 0,s.iK=void 0,s.iK=BO(n),s.tK=new CB,s.nK=new PO(s.tK.gy,s.XU,s.Um,s.HU,s.jD),s}S(n,t);var i=n.prototype;return i.$m=function(){return this.Vh},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.iK.xd(),this.tK.xd(),this.nK.xd(),n.next=5,Dr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.Jm=function(){t.prototype.Jm.call(this),this.tK.Jm()},i.Km=function(){t.prototype.Km.call(this),this.tK.Km()},i.Pj=function(n){t.prototype.Pj.call(this,n),this.tK.Pj(n)},A(n,[{key:"xD",get:function(){return this.Vh}},{key:"im",get:function(){return this.Vh.videoHeight}},{key:"um",get:function(){return this.Vh.videoWidth}},{key:"jD",get:function(){return this.iK}}]),n}(bB);!function(t){t.eK="HELLO",t.rK="HI_THERE",t.sK="INITIALIZE",t.uK="APPEND_INIT",t.oK="APPEND_DATA",t.aK="ACK",t.cK="REMOVE",t.hK="DESTROY_SESSION"}(OO||(OO={}));var LO=function(){function t(){this.we=void 0,this.Fh=void 0,this._X=new YD}var n=t.prototype;return n.fK=function(t){var n=this;return this._X.sX(function(t){var i,e,r,s,u,a;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(nu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){c.next=7;break}return c.next=7,Dr.awrap(Xg(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){c.next=10;break}return c.next=10,Dr.awrap(Xg(o.serviceWorker.controller,"activate",t));case 10:return s={kind:OO.eK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,c.prev=15,c.next=18,Dr.awrap(Xg(e,"message",t));case 18:if(u=c.sent,(a=u.data).kind===OO.rK){c.next=23;break}throw new v("Could not set up message channel");case 23:n.Fh=a.sessionId,c.next=30;break;case 26:throw c.prev=26,c.t0=c.catch(15),tu(c.t0)&&n.vK(),c.t0;case 30:case"end":return c.stop()}},null,null,[[15,26]],We)},t)},n.lK=function(t,n){var i=this;return this.we,this._X.sX(function(){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Dr.awrap(Xg(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.dK=function(){var t=this;return this._X.sX(function(){return t.vK()})},n.vK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:OO.hK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),MO=function(){function t(){this.wK=Hk.zb}var n=t.prototype;return n._K=function(t,n){var i=t.qk(n);this.wK=i.Lk(this.gK)?this.wK:i},n.mK=function(t){this.wK=t},A(t,[{key:"gK",get:function(){return this.wK}}]),t}(),UO=function(t){function n(n,i){var e;return(e=t.call(this)||this).yK=void 0,e.kK=void 0,e.ra=void 0,e._X=new YD,e.bK=!1,e.pK=!1,e.oO=n,e.AK=i,e}S(n,t);var i=n.prototype;return i.RV=function(t,n){},i.DV=function(t,n){},i.QX=function(){return this.pK},i.NV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.cV=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.Jz=function(t,i,e){var r,s,u=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs===mN.tF){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.Hi,s=function(){var t,i,e,s,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=Kb.MA(new DataView(r.buffer)),(i=Wb(t,nb.Vp)).length){h.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.ra,s=n.TK(i,e),o=u.SK(i,e),a=r.buffer,c={kind:OO.oK,mimeType:u.oO,segment:r,startPts:Qk.jb(s).ip(),totalDuration:Qk.jb(o).ip()},h.next=11,Dr.awrap(u.AK.lK(c,[a]));case 11:void 0===u.yK&&(u.yK=s),void 0===u.kK&&(u.kK=s),u.kK=u.kK.Oy(o),u.Qs(new gu(lN.JX));case 15:case"end":return h.stop()}},null,null,null,We)},i.abrupt("return",this._X.sX(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,u.bK=!0,n.next=5,Dr.awrap(s());case 5:return n.prev=5,u.bK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},e));case 5:case"end":return i.stop()}},null,this,null,We)},i.nV=function(t,n,i){var e,r,s=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.fs===mN.tF){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Hi,r=function(){var t,n,i,r;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Kb.MA(new DataView(e.buffer)),n=Vb(t,nb.gp)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.JA.length){u.next=6;break}throw new v("Tracks not found");case 6:return s.ra=n.JA[0].oT.NA.Bb,i=e.buffer,r={kind:OO.uK,mimeType:s.oO,segment:e},u.next=11,Dr.awrap(s.AK.lK(r,[i]));case 11:s.Qs(new gu(lN.JX));case 12:case"end":return u.stop()}},null,null,null,We)},n.abrupt("return",this._X.sX(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,s.bK=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s.bK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.bV=function(){this.pK=!0},i.gV=function(){this.pK=!1},i.Gc=function(t,n,i){var e,r=this;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:OO.cK,mimeType:r.oO,endTime:Qk.Wb(n).ip()},i.next=3,Dr.awrap(r.AK.lK(t));case 3:r.yK=void 0,r.kK=void 0,r.Qs(new gu(lN.JX));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this._X.sX(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,r.bK=!0,n.next=5,Dr.awrap(e());case 5:return n.prev=5,r.bK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.FX=function(t){return this.oO===t.Fl},i.HX=function(t){return this.oO=t.Fl,We.resolve()},n.TK=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.JA.length)throw new v("No tracks");if(!i.JA[0].SS)throw new v("No decode time");return new Hk(i.JA[0].SS.SS.toNumber(),n)},i.SK=function(t,n){var i=0;return t.forEach(function(t){t.JA.forEach(function(t){t.TS.forEach(function(t){t.CS.forEach(function(t){var n;i+=null!=(n=t.Qg)?n:0})})})}),new Hk(i,n)},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this._X.xd());case 3:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"wy",get:function(){return void 0===this.yK||void 0===this.kK?nE.kC():new nE([this.yK.Fb,this.kK.Fb])}},{key:"nh",get:function(){return{Fl:this.oO}}},{key:"BV",get:function(){return Qy.vd}},{key:"iO",get:function(){return this.oO}},{key:"OV",get:function(){return nE.kC()}},{key:"vL",get:function(){return 30},set:function(t){}},{key:"_L",get:function(){return 30},set:function(t){}},{key:"mx",get:function(){return this.bK}},{key:"EK",get:function(){return this.yK}},{key:"$y",get:function(){return this.kK}}]),n}(wu),XO=function(){function t(t,n){this.Nh=void 0,this.hW=void 0,this.fW=void 0,this.Nh=t,this.fW=xs(n,function(t){return Boolean(t.iO.match(/video/))}),this.hW=xs(n,function(t){return Boolean(t.iO.match(/audio/))}),this.IK()}t.RK=function(n,i){for(var e=[],r=0;r<n.AW.length;r++){var s=n.AW[r].Fl;e.push(new UO(s,i))}return new t(n,e)};var n=t.prototype;return n.IK=function(){},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(We.all([this.hW,this.fW].filter(F).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.yW=function(t){},n.pW=function(t,n,i,e){},n.bV=function(){var t,n;null==(t=this.hW)||t.bV(),null==(n=this.fW)||n.bV()},n.gV=function(){var t,n;null==(t=this.hW)||t.gV(),null==(n=this.fW)||n.gV()},n.FX=function(t){return t===this.Nh},n.HX=function(t){return this.Nh=t,We.resolve()},A(t,[{key:"DK",get:function(){return[this.hW,this.fW].filter(F)}},{key:"uW",get:function(){return this.hW}},{key:"wy",get:function(){return yC(this)}},{key:"nh",get:function(){return this.Nh}},{key:"Qg",get:function(){return 0}},{key:"QX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.hW)?void 0:n.QX())||t,s=null==(i=null==(e=this.fW)?void 0:e.QX())||i;return r&&s}},{key:"Ny",get:function(){return new nE([0,1/0])}},{key:"oW",get:function(){return this.fW}},{key:"Mm",get:function(){throw new v("Not implemented")}}]),t}(),FO=Hk.eb,HO=new Hk(-1/0),zO=Hk.zb,VO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Mk=function(t,n){return t.zk(n)?Ss.Ds:t.Tk(n)?Ss.Is:Ss.Rs},i.Oy=function(t,n){return t.Oy(n)},i.qk=function(t,n){return t.qk(n)},i.Hk=function(t,n){return t.Hk(n)},i.jN=function(){return FO},i.QN=function(){return zO},i.$N=function(){return HO},n.gC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Hk(t.start(e)),new Hk(t.end(e)));return new n(i)},n.NK=function(t){for(var i=[],e=[],r=0;r<t.C_;r++)i.push(new Hk(t.MN(r))),i.push(new Hk(t.XN(r))),e.push(t.UN(r)),e.push(t.FN(r));return new n(i,e)},n.yC=function(t){return new n([t,t],[!0,!0])},i.qN=function(t,i){return new n(t,i)},i.WN=function(t){return t.Fb},n.kC=function(){return WO},n}(tE),WO=new VO([]),GO=function(t){function n(n){var i;return(i=t.call(this)||this).CK=!0,i.AK=new LO,i.PK=new MO,i.oD=void 0,i.jq=void 0,i.BK=!0,i.xK=new Go,i.DC=!1,i.uY=We.resolve(),i.oY=new Js,i.LK=!0,i.cY=nE.kC(),i.iK=void 0,i.MK=void 0,i.yY=!1,i.lD=void 0,i.UK=function(){i.$g||i.XK.C_<=0||i.wy.C_<=0||i.PK._K(new Hk(i.wy.XN(i.wy.C_-1)),i.XK.XN(i.XK.C_-1))},i.FK=function(){i.Qs(new wy(i.jg))},i.HK=function(){i.Qs(new dy(i.jg,i._y))},i.zK=function(){i.Qs(new ly(i.jg,i.tm))},i.VK=function(){i.Qs(new yy(i.jg,i.cm))},i.WK=function(){i.Qs(new vy(i.Qg))},i.GK=function(){i.Qs(new aA(i.jg))},i.qK=function(){i.xu(i.jg)},i.YK=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.LK&&i.Qs(new oy(i.jg)),i.BK=!1,i.LK=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.jK=function(){i.BK=!0,i.Qs(new uy(i.jg))},i.MK=n,i.jq=new DC(Kt(i)),i.MK.setAttribute("id","player_video"),i.MK.setAttribute("x-webkit-airplay","deny"),i.MK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.MK.playsInline=!0,i.MK.style.width="100%",i.MK.style.height="100%",i.QK(),i.ZK(),i.iK=BO(i.MK),i}S(n,t);var e=n.prototype;return e.QK=function(){this.MK.addEventListener("timeupdate",this.UK),this.MK.addEventListener("ended",this.FK),this.MK.addEventListener("timeupdate",this.HK),this.MK.addEventListener("ratechange",this.zK),this.MK.addEventListener("volumechange",this.VK),this.MK.addEventListener("durationchange",this.WK),this.MK.addEventListener("playing",this.GK),this.MK.addEventListener("seeking",this.qK),this.MK.addEventListener("play",this.YK),this.MK.addEventListener("pause",this.jK)},e.KK=function(){this.MK.removeEventListener("timeupdate",this.UK),this.MK.removeEventListener("ended",this.FK),this.MK.removeEventListener("timeupdate",this.HK),this.MK.removeEventListener("ratechange",this.zK),this.MK.removeEventListener("volumechange",this.VK),this.MK.removeEventListener("durationchange",this.WK),this.MK.removeEventListener("playing",this.GK),this.MK.removeEventListener("seeking",this.qK),this.MK.removeEventListener("play",this.YK),this.MK.removeEventListener("pause",this.jK)},e.ZK=function(){this.jq.Zs(ry.w_,this.js)},e.JK=function(){this.jq.tu(ry.w_,this.js)},e.xu=function(t,n){this.oY.Hs(),this.oY=new Js,this.uY=this.wj(t,this.uY,this.oY.Ws).catch(K)},e.wj=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.cY=this.Ry,r=null==(e=this.oD)?void 0:e.DK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.EK?t.EK.Fb:1/0})),this.DC=!0,this.Qs(new gy(t)),u.next=9,Dr.awrap(n.catch(K));case 9:if(nu(i),u.prev=10,this.CK||this.$K(),this.MK.load(),this.BK){u.next=17;break}return this.LK=!1,u.next=17,Dr.awrap(ru(this.MK.play(),i));case 17:if(!(this.ag<Hm.Xg)){u.next=22;break}return u.next=20,Dr.awrap(this.jq.au(ry.w_,i));case 20:u.next=17;break;case 22:this.xK.Wu(),this.CK=!1,this.DC=!1,this.Qs(new my(this.jg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.xK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.tJ(),this.PK.mK(new Hk(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.Hm=function(){this.BK=!0,this.MK.pause()},e.Fm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.BK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.MK.src){t.next=9;break}return this.Nj(),t.next=7,Dr.awrap(this.xK.Fu);case 7:t.next=11;break;case 9:return t.next=11,Dr.awrap(this.MK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.BK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],We)},e.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AK&&this.AK.dK().catch(K),this.oY.Hs(),this.KK(),this.JK(),this.jq.xs(),this.$s();case 6:case"end":return t.stop()}},null,this,null,We)},e.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AK&&this.AK.dK().catch(K),this.oY.Hs(),this.MK.removeAttribute("src"),this.MK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.MK.removeAttribute("x-airplay-deny"),this.MK.load(),this.jq.D_(),this.cY=nE.kC();case 8:case"end":return t.stop()}},null,this,null,We)},e.Nj=function(){this.Cj||(ZO(this.MK,i.Lr),this.yY=!0)},e.$K=function(){var t,n=this.MK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.MK.videoWidth/this.MK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.MK.style.width=i+"px",this.MK.style.height=e+"px",this.MK.style.marginLeft=(r-i)/2+"px",this.MK.style.marginTop=(u-e)/2+"px",this.MK.style.backgroundColor="black"}},e.tJ=function(){this.MK.style.width="100%",this.MK.style.height="100%",this.MK.style.marginLeft="",this.MK.style.marginTop="",this.MK.style.backgroundColor=""},e.qD=function(t,n,i,e){},e.SE=function(t,n,i,e,r,s){},e.jX=function(t){},e.eN=function(){return wD(this.MK)},e.Km=function(){this.MK.style.display="block"},e.Jm=function(){this.MK.style.display="none"},e.Rj=function(){},e.Wc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs!==Zp.NE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Dr.awrap(this.AK.fK());case 4:return n={kind:OO.sK,mediaBufferConfigs:t.AW.map(function(t){return t.Fl})},i.next=7,Dr.awrap(this.AK.lK(n));case 7:return this.oD=XO.RK(t,this.AK),this.MK.preload="none",this.MK.src="https://theo.proxy/"+this.AK.Fh+"/master.m3u8",i.abrupt("return",this.oD);case 11:case"end":return i.stop()}},null,this,null,We)},e.Dj=function(){},e.RE=function(t){},e.QD=function(){},e.iN=function(t){},e.WD=function(){return!1},e.Pj=function(t){t.appendChild(this.MK)},e.$m=function(){return this.MK},e.sj=function(){},e.ly=function(){},A(n,[{key:"xD",get:function(){return this.MK}},{key:"PW",get:function(){return!1}},{key:"jg",get:function(){return this.MK.currentTime+this.PK.gK.Fb}},{key:"$g",get:function(){return this.MK.paused}},{key:"cm",get:function(){return this.MK.volume},set:function(t){this.MK.volume=t}},{key:"tm",get:function(){return this.MK.playbackRate},set:function(t){this.MK.playbackRate=t}},{key:"nJ",get:function(){return this.MK.defaultPlaybackRate}},{key:"wy",get:function(){var t,n;return null!=(t=null==(n=this.oD)?void 0:n.wy)?t:nE.kC()}},{key:"XK",get:function(){return VO.gC(this.MK.buffered)}},{key:"Ry",get:function(){var t=nE.mC(this.iJ);return this.cY.iC(t.Bu(this.PK.gK.Fb))}},{key:"iJ",get:function(){return VO.gC(this.MK.played)}},{key:"nm",get:function(){return this.DC}},{key:"Qg",get:function(){return this.MK.duration}},{key:"Jg",get:function(){return this.MK.muted},set:function(t){this.MK.muted=t}},{key:"EZ",get:function(){return this.MK.style}},{key:"Oj",get:function(){return Nr({},fN,{RX:!0,DX:300})}},{key:"ag",get:function(){return this.jq.ag}},{key:"im",get:function(){return this.MK.videoHeight}},{key:"um",get:function(){return this.MK.videoWidth}},{key:"Zg",get:function(){return this.MK.ended}},{key:"dT",get:function(){return this.MK.height||this.MK.clientHeight}},{key:"Bk",get:function(){return this.MK.width||this.MK.clientWidth}},{key:"yy",get:function(){return!1}},{key:"Cj",get:function(){return this.yY}},{key:"_y",get:function(){}},{key:"XU",get:function(){}},{key:"mu",get:function(){}},{key:"jD",get:function(){return this.iK}},{key:"Ny",get:function(){return this.oD?this.oD.Ny:nE.kC()}},{key:"rN",get:function(){}},{key:"Um",get:function(){}},{key:"HU",get:function(){}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"Bj",get:function(){return"block"===this.MK.style.display}},{key:"LD",get:function(){return this.lD},set:function(t){this.lD=t}},{key:"Wq",get:function(){}}]),n}(wu),qO=2,YO=[Qy.Sd,Qy.Ed];function jO(t){var n=s.createElement(t);return sr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),QO(n),n}function QO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),ur(t),t.pause(),t.playbackRate=1,t.preload=YS.AN,t.controls=!1,t.style.display="none",sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function ZO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&cu(e),t.pause()}}var KO,JO,$O;function tx(t){return{get bandwidth(){return t.HR},get codecs(){return t.ZH},get id(){return t.H_},get uid(){return t.z_},get name(){return t.W_},get averageBandwidth(){return t.eJ},get label(){return t.W_},set label(n){t.W_=vm(n)},get height(){return t.dT},get width(){return t.Bk},get frameRate(){return t.rJ},get firstFrame(){return t.sJ},get available(){return t.uJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function nx(t){return{get bandwidth(){return t.HR},get codecs(){return t.ZH},get id(){return t.H_},get uid(){return t.z_},get name(){return t.W_},get averageBandwidth(){return t.eJ},get label(){return t.W_},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.W_=n},get audioSamplingRate(){return t.oJ},get available(){return t.uJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function ix(t,n){return[t,void 0!==n?t+n-1:xt]}function ex(t){return Boolean(t.oT)}function rx(t){return Boolean(t.aJ)}he=(KO={cJ:function(){function t(t,n,i,e,r){void 0===i&&(i=qO),void 0===e&&(e=YO),void 0===r&&(r=_f()),this.hJ=void 0,this.fJ=void 0,this.ys=void 0,this.vJ=void 0,this.Gq=void 0,this.OC=void 0,this.lJ=void 0,this.hJ=i,this.fJ=[].concat(e),this.ys=r,this.Gq=t,this.OC=n,this.vJ=Pr(),this.dJ()}var n=t.prototype;return n.MC=function(t){for(var n=0,i=this.XC;n<i.length;n++){i[n].Pj(t)}},n.OD=function(t){var n=xs(this.vJ.get(t),function(t){return t.uJ});if(n)return n.uJ=!1,n.wJ},n._J=function(t){if(!this.lJ)throw new v("Error creating iOS Safari MediaController");return this.lJ},n.JD=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.xD,i=n.tagName.toLowerCase(),r.next=4,Dr.awrap(t.D_());case 4:QO(n),(e=xs(this.vJ.get(i)||[],function(n){return t===n.wJ}))&&(e.uJ=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.UC=function(){for(var t=0,n=this.XC;t<n.length;t++){n[t].Nj()}},n.xd=function(){for(var t=0,n=this.XC;t<n.length;t++){var i=n[t],e=i.xD;i.xs(),QO(e),$e(e)}},n.dJ=function(){for(var t=0,n=this.fJ;t<n.length;t++){var i=n[t],e=[];this.vJ.set(i,e);for(var r=0;r<this.hJ;r++){var s=jO(i),u=i===Qy.Sd?new DB(s,this.ys,this.Gq):new xO(s,this.ys,this.Gq,this.OC);e.push({wJ:u,uJ:!0})}}if(M.Bn&&M.cn){var o=jO(Qy.Ed);this.lJ=new GO(o)}},A(t,[{key:"XC",get:function(){for(var t=[],n=0,i=this.fJ;n<i.length;n++){var e=i[n],r=this.vJ.get(e).map(function(t){return t.wJ});t.push.apply(t,r)}return this.lJ&&t.push(this.lJ),t}}]),t}(),gJ:function(){function t(n){var i=this;this.mJ=new YD,this.yJ=function(){var n,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.NC.OD(Qy.Ed),e=n.xD,s.next=4,Dr.awrap(t.kJ(e));case 4:return r=s.sent,s.next=7,Dr.awrap(i.NC.JD(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,We)},this.NC=n}var n=t.prototype;return n.pX=function(){return this.mJ.sX(this.yJ)},n.jm=function(){this.NC.UC()},t.kJ=function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!M.En&&!M.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Dr.awrap(t.bJ());case 5:return i.next=7,Dr.awrap(t.pJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Dr.awrap(t.AJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,We)},t.pJ=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,j(n)){e.next=4;break}return e.abrupt("return",!M.dn);case 4:return i=fu(100),e.next=7,Dr.awrap(We.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],We)},t.AJ=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Dr.awrap(t.pJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,We)},t.bJ=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.xd=function(){this.mJ.xd()},t}(),TJ:{wO:function(t){le.addEventListener("beforeunload",t)},EO:function(t){le.removeEventListener("beforeunload",t)}},SJ:r}).cJ,fe=KO.gJ,ve=KO.TJ,le=KO.SJ,de=le&&le.location,we=le&&le.navigator,function(t){t.EJ="currentbufferingrenditionchange",t.IJ="RJ",t.DJ="NJ",t.CJ="PJ"}(JO||(JO={})),function(t){t[t.Sd=0]="Sd",t[t.Ed=1]="Ed",t[t.rA=2]="rA",t[t.BJ=3]="BJ"}($O||($O={}));var sx,ux,ox,ax=[$O.Sd,$O.Ed,$O.rA,$O.BJ];function cx(t){return t?t.OJ?t.Ai+"@"+t.OJ.MN+"-"+(null!=(n=t.OJ.C_)?n:""):""+t.Ai:"";var n}function hx(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.OJ)return!0;if(n.OJ){var i=ix(t.OJ.MN,t.OJ.C_),e=ix(n.OJ.MN,n.OJ.C_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function fx(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.OJ)===Boolean(n.OJ)&&(!t.OJ||!n.OJ||t.OJ.MN===n.OJ.MN&&t.OJ.C_===n.OJ.C_))}function vx(t){var n=!!t.xJ||void 0;return{H_:t.H_,LJ:t.LJ,rN:t.rN,MJ:t.MJ,Qg:t.Qg,UJ:t.UJ,xJ:n,XJ:t.FJ,HJ:t.zJ,VJ:t.VJ,WJ:t.WJ}}!function(t){t[t.GJ=0]="GJ",t[t.qJ=1]="qJ"}(sx||(sx={})),function(t){t[t.TN=0]="TN",t[t.YJ=1]="YJ",t[t.jJ=2]="jJ"}(ux||(ux={})),function(t){t[t.vd=0]="vd",t[t.QJ=1]="QJ",t[t.ZJ=2]="ZJ"}(ox||(ox={}));var lx=function(t,n){this.z_=void 0,this.KJ=void 0,this.fs=void 0,this.JJ=void 0,this.$J=void 0,this.t$=void 0,this.wi=void 0,this.G_=void 0,this.n$=void 0,this.i$=void 0,this.e$=void 0,this.z_=rk(),this.KJ=n,this.fs=t.fs,this.JJ=t.JJ,this.$J=t.$J,this.t$=t.t$,this.wi=t.wi,this.G_=t.G_,this.n$=t.n$,this.i$=t.i$,this.e$=void 0===t.r$};function dx(t,n){return t.fs===n.fs&&(t.wi===n.wi||!(!wx(t)||!wx(n)))}function wx(t){return t.fs===$O.Ed&&t.JJ&&t.e$&&void 0===t.G_}function _x(t,n){return t.KJ===n.KJ}function gx(t,n){for(var i=0;i<t.length;i++){if(_x(t[i],n))return!0}return!1}var mx,yx,kx=function(t){function n(n,i){var e;return(e=t.call(this,Gg.p_)||this).q_=void 0,e.i_=void 0,e.q_=n||[],e.i_=i,e}return S(n,t),n.prototype.n_=function(){return new bx(this.q_.map(function(t){return t.t_}))},n}(Vg),bx=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(gu);!function(t){t.s$="alternative",t.u$="main",t.o$="commentary",t.a$="",t.cE="descriptions",t.c$="main-desc",t.h$="translation"}(mx||(mx={})),function(t){t.s$="alternative",t.u$="main",t.o$="commentary",t.a$="",t.aE="captions",t.f$="sign",t.rA="subtitles"}(yx||(yx={}));var px=function(t){function n(n,i,e){var r;return(r=t.call(this,Gg.k_)||this).v$=n,r.l$=i,r.d$=e,r}return S(n,t),n.prototype.n_=function(){return new Ax(this.v$&&this.v$.t_)},n}(Vg),Ax=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(gu);function Tx(t){return{HR:t.HR,$e:t.ZH,dT:Sx(t)?t.dT:0,fs:Sx(t)?Qy.Ed:Qy.Sd,Bk:Sx(t)?t.Bk:0}}function Sx(t){var n=t;return void 0!==n.dT&&void 0!==n.Bk}var Ex,Ix=function(t){function n(){return t.call(this,Gg.NO_QUALITY)||this}return S(n,t),n}(gu),Rx=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).My=void 0,u.oa=void 0,u.w$=void 0,u._$=void 0,u.g$=void 0,u.$w=void 0,u.Uy=void 0,u.m$=function(){var t=u.X_;t&&u._$!==t&&(u._$=t,u.Qs(new px(t)))},u.y$=function(){var t=u.F_;u.g$!==t&&(u.g$=t,u.k$.Qs(new $g(Kt(u))),u.Qs(new $g(Kt(u))))},u.IN=n,u.k$=i,u.q_=e,u._$=u.X_,u.g$=u.F_;var o=e.S_(0);return u.My=null!=(r=null==o?void 0:o.b$.wi)?r:"",u.oa=null!=(s=null==o?void 0:o.b$.G_)?s:"",u.Uy=nk(),u.IN.Zs(JO.EJ,u.m$),u.IN.Zs(JO.IJ,u.y$),u}S(n,t);var e=n.prototype;return e.Hy=function(t){this.F_=t},e.xd=function(){this.$s(),this.IN.tu(JO.EJ,this.m$),this.IN.tu(JO.IJ,this.y$);for(var t=0,n=this.q_.N_;t<n.length;t++){n[t].xd()}this.q_.D_()},A(n,[{key:"F_",get:function(){var t=this.p$();if(!t)return!1;for(var n=0,i=this.q_.N_;n<i.length;n++){if(i[n].b$===t)return!0}return!1},set:function(t){if(t!==this.F_&&t){for(var n=this.q_.S_(0).b$,i=this.IN.A$,e=0,r=this.q_.N_;e<r.length;e++){var s=r[e];if(s.T$===i){n=s.b$;break}}this.S$(n)}}},{key:"X_",get:function(){if(this.F_)for(var t=this.IN.E$,n=0,i=this.q_.N_;n<i.length;n++){var e=i[n];if(gx(t,e.b$))return e}}},{key:"t_",get:function(){return this.$w||(this.$w=mm(this)),this.$w}},{key:"H_",get:function(){return this.Uy.toString()}},{key:"z_",get:function(){return this.Uy}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new Jy(this)))}},{key:"G_",get:function(){return this.oa}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Y_",get:function(){return this.w$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.X_?Tx(n.X_):void 0;return i.Lr.Me(e,Tx(t))}).filter(function(i){return n.q_.xy(t)&&i.uJ}):e=this.q_.N_.filter(function(t){return t.uJ});0!==e.length?t!==this.w$&&(this.w$&&Vs(this.w$,e)||(this.w$=t?e:void 0,this.IN.I$(e.map(function(t){return t.T$})),1===e.length&&cu(this.IN.R$(e[0].T$,!1)),this.Qs(new kx(e,this)))):this.Qs(new Ix)}}]),n}(wu),Dx=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.p$=function(){return this.IN.D$},i.S$=function(t){cu(this.IN.N$(t))},A(n,[{key:"V_",get:function(){return mx.u$}}]),n}(Rx),Nx=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.p$=function(){return this.IN.C$},i.S$=function(t){cu(this.IN.P$(t))},A(n,[{key:"V_",get:function(){return yx.u$}}]),n}(Rx),Cx=function(t){function n(n,i){var e;return(e=t.call(this)||this).uJ=!0,e.T$=n,e.b$=i,e}S(n,t);var i=n.prototype;return i.mE=function(){},i.xd=function(){this.$s()},A(n,[{key:"H_",get:function(){return String(this.T$.H_)}},{key:"z_",get:function(){return this.T$.H_}},{key:"HR",get:function(){return this.T$.HR}},{key:"eJ",get:function(){return this.T$.eJ}},{key:"W_",get:function(){return this.b$.wi}},{key:"r$",get:function(){return this.b$.KJ.B$()}}]),n}(wu),Px=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return S(n,t),n.prototype.n_=function(){return nx(this)},A(n,[{key:"oJ",get:function(){return 0}},{key:"ZH",get:function(){var t;return(null==(t=this.T$.ZH)?void 0:t.QH)||""}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(Cx),Bx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return S(n,t),n.prototype.n_=function(){return tx(this)},A(n,[{key:"ZH",get:function(){var t;return(null==(t=this.T$.ZH)?void 0:t.jH)||""}},{key:"sJ",get:function(){return 0}},{key:"rJ",get:function(){return 0}},{key:"dT",get:function(){var t,n;return null!=(t=null==(n=this.T$.O$)?void 0:n.dT)?t:0}},{key:"Bk",get:function(){var t,n;return null!=(t=null==(n=this.T$.O$)?void 0:n.Bk)?t:0}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(Cx);!function(t){t.x$="FATAL",t.K_="ERROR",t.L$="WARNING",t.M$="INFO",t.U$="DEBUG"}(Ex||(Ex={}));var Ox,xx=new(function(){function t(){this.F_=function(){return!1}}var n=t.prototype;return n.X$=function(t){if(!this.F_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.F$=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[Ex.U$+" "+t+" -"].concat(e))}},n.yT=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[Ex.M$+" "+t+" -"].concat(e))}},n.H$=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[Ex.L$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[Ex.K_+" "+t+" -"].concat(e))}},n.z$=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[Ex.x$+" "+t+" -"].concat(e))}},t}()),Lx="HLSPlaylistParser",Mx=function(){function t(t,n,i){this.IN=t,this.V$=n,this.W$=i}var n=t.prototype;return n.G$=function(){var t,n,i=null==(t=this.IN.q$)?void 0:t.Y$;if(i&&0!==i.length){for(var e=null!=(n=xs(i,function(t){return 0!==t.j$.length&&0!==t.Q$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.j$;s<u.length;s++){var o=u[s],a=new Ky,c=[];a.Oy(new Px(e,o)),c.push(o);for(var h=0;h<r.length;h++)for(var f=r[h],v=0,l=f.j$;v<l.length;v++){var d=l[v];if(dx(d,o)&&!gx(c,d)){a.Oy(new Px(f,d)),c.push(d);break}}this.V$.E_(new Dx(this.IN,this.V$,a))}for(var w=0,_=e.Q$;w<_.length;w++){var g=_[w],m=new Ky,y=[];m.Oy(new Bx(e,g)),y.push(g);for(var k=0;k<r.length;k++)for(var b=r[k],p=0,A=b.Q$;p<A.length;p++){var T=A[p];if(dx(T,g)&&!gx(y,T)){m.Oy(new Bx(b,T)),y.push(T);break}}this.W$.E_(new Nx(this.IN,this.W$,m))}}else xx.H$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.Z$=function(){this.K$(this.V$),this.K$(this.W$)},n.K$=function(t){for(var n=[],i=0,e=t.N_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.q_.N_;u<o.length;u++){var a=o[u];Fs(a.T$.J$,a.b$)||s.push(a)}for(var c=0;c<s.length;c++){var h=s[c];r.q_.Gc(h),h.xd()}0===r.q_.C_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.I_(v),v.xd()}},t}(),Ux=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).xC=void 0,e.xC=i,e}return S(n,t),n.prototype.ud=function(t){var n,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new $w(t),e=this.xC.oL.FR(n)){o.next=4;break}return o.abrupt("return",this.pE.ud(n));case 4:return e.aL(i.ir()/1e3),o.next=7,Dr.awrap(this.pE.ud(t));case 7:return r=o.sent,e.cL(i.ir()/1e3),s=r.Xl().pipeThrough(new lw(new Xx(e))),u={Hi:s,ud:r.ud},o.abrupt("return",new Jw(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.pE=void 0,this.pE=t}var n=t.prototype;return n.ud=function(t){return this.pE.ud(t)},n.Od=function(t){this.pE.Od(t)},n.xd=function(){this.pE.xd()},t}()),Xx=function(){function t(t){this.nU=void 0,this.n0=t}var n=t.prototype;return n.start=function(t){this.nU=t},n.transform=function(t){this.n0.hL(i.ir()/1e3,t),this.nU.enqueue(t)},n.flush=function(){this.n0.fL(i.ir()/1e3)},t}(),Fx=function(){function t(t){this.i0=void 0,this.e0=0,this.r0=0,this.i0=w.exp(w.log(.5)/t)}var n=t.prototype;return n.s0=function(t,n){var i=w.pow(this.i0,t),e=n*(1-i)+i*this.e0;m(e)||(this.e0=e,this.r0+=t)},n.HX=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.i0)if(0!==this.r0){var i=this._K,e=1-w.pow(n,this.r0);this.e0=i*e,this.i0=n}else this.i0=n},A(t,[{key:"_K",get:function(){var t=1-w.pow(this.i0,this.r0);return this.e0/t}}]),t}();!function(t){t.u0="sample"}(Ox||(Ox={}));var Hx=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.o0),void 0===s&&(s=n.a0),(u=t.call(this)||this).c0=void 0,u.h0=void 0,u.f0=0,u.v0=void 0,u.l0=void 0,u.l0=r,u.c0=new Fx(i),u.h0=new Fx(e),u.v0=s,u}S(n,t);var i=n.prototype;return i.d0=function(t,n,i){if(0!==t){var e=8*n/t;this.c0.s0(i,e),this.h0.s0(i,e),this.f0+=n,this.Qs(new gu(Ox.u0))}},i.w0=function(){return this.f0>=this.l0},A(n,[{key:"_K",get:function(){return this.w0()?w.min(this.c0._K,this.h0._K):this.v0}}]),n}(wu);Hx.o0=128e3,Hx.a0=5e5;var zx=function(){function t(n,i,e,r){void 0===n&&(n=t._0),void 0===i&&(i=t.g0),void 0===e&&(e=t.a0),void 0===r&&(r=!1),this.c0=void 0,this.h0=void 0,this.m0=0,this.y0=[],this.k0=void 0,this.b0=6e4,this.p0=10,this.A0=void 0,this.T0=void 0,this.v0=void 0,this.S0=void 0,this.A0=n,this.T0=i,this.v0=e,this.S0=r,this.c0=new Fx(n),this.h0=new Fx(i)}var n=t.prototype;return n.s0=function(t){var n=i.ir(),e=t;this.S0&&void 0!==this.k0&&n-this.k0>=this.b0&&this.D_(),this.m0+=1,this.c0.s0(1,e),this.h0.s0(1,e),this.y0.push(e),this.y0.length>this.p0&&this.y0.shift(),this.k0=n},n.w0=function(){return void 0!==this.k0&&i.ir()-this.k0<=this.b0},n.D_=function(){this.c0=new Fx(this.A0),this.h0=new Fx(this.T0),this.m0=0,this.y0=[],this.k0=void 0},A(t,[{key:"_K",get:function(){return this.w0()?w.max(this.c0._K,this.h0._K):this.v0}}]),t}();zx._0=2,zx.g0=5,zx.a0=.1;var Vx=function(){function t(t){this.E0=t}var n=t.prototype;return n.aL=function(t){for(var n=0,i=this.E0;n<i.length;n++){i[n].aL(t)}},n.cL=function(t){for(var n=0,i=this.E0;n<i.length;n++){i[n].cL(t)}},n.hL=function(t,n){for(var i=0,e=this.E0;i<e.length;i++){e[i].hL(t,n)}},n.fL=function(t){for(var n=0,i=this.E0;n<i.length;n++){i[n].fL(t)}},t}(),Wx=function(){function t(t){this.I0=void 0,this.R0=void 0,this.I0=t}var n=t.prototype;return n.aL=function(t){this.R0=t},n.cL=function(t){this.I0.s0(t-this.R0)},n.hL=function(t){},n.fL=function(t){},t}(),Gx=function(){function t(t){this.D0=void 0,this.N0=void 0,this.C0=[],this.D0=t}var n=t.prototype;return n.hL=function(t,n){if(void 0!==this.N0){var i=t-this.N0,e=this.C0.length>0?this.C0.reduce(function(t,n){return n+t},0)/this.C0.length:0;i>e/2&&i<e+e/2&&this.D0.s0(i,n.length),this.C0.push(i),this.C0.length>100&&this.C0.shift(),this.N0=t}else this.N0=t},n.aL=function(t){},n.cL=function(t){},n.fL=function(t){},t}(),qx=function(){function t(t,n){void 0===n&&(n=0),this.D0=void 0,this.P0=void 0,this.B0=new Yx,this.UG=0,this.O0=0,this.D0=t,this.P0=n}var n=t.prototype;return n.aL=function(t){},n.hL=function(t,n){var e=n.byteLength,r=this.O0;this.O0=e;var s=t-this.UG;this.UG=t,this.B0.BF(n);var u=!this.B0.x0(),o=e>=this.P0;r!==i.Lr.Qe&&u&&o&&this.D0.s0(s,e)},n.cL=function(t){this.UG=t},n.fL=function(t){},t}(),Yx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).L0=void 0,n.M0=!1,n}S(n,t);var i=n.prototype;return i.x0=function(){return this.M0},i.BF=function(n){this.M0=!1,t.prototype.BF.call(this,n)},i.CF=function(n,i){this.L0&&this.L0!==nb.Zp||(this.M0=!0),t.prototype.CF.call(this,n,i),this.L0=n},i.HF=function(t){return!1},i.VF=function(t){},i.WF=function(t){},n}(IN),jx=function(t){function n(i,e,r,s){return void 0===i&&(i=n._0),void 0===e&&(e=n.g0),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.s0=function(t,n){this.d0(t,n,t)},n}(Hx);jx._0=.5,jx.g0=5;var Qx=function(){function t(t){this.D0=void 0,this.U0=void 0;var n=t.HR>0?t.HR:Hx.a0,i=t.zR>0?t.zR:zx.a0;this.D0=new jx(jx._0,jx.g0,1,n),this.U0=new zx(zx._0,zx.g0,i)}var n=t.prototype;return n.FR=function(t){if("segment"===t.fs)return new Vx([new Wx(this.U0),new Gx(this.D0),new Vx([new Gx(this.D0),new qx(this.D0,1e3)])])},n.X0=function(t){this.D0=new jx(jx._0,jx.g0,1,t)},A(t,[{key:"HR",get:function(){return this.D0._K}},{key:"zR",get:function(){return this.U0._K}}]),t}(),Zx=function(t){function n(n){var i;return(i=t.call(this,JO.CJ)||this).mu=n,i}return S(n,t),n}(gu),Kx=function(){function t(t){this.wJ=t}return t.prototype.jX=function(t){var n={fs:Zp.CE,XD:[],AW:[{Fl:t}]};return We.resolve(void 0!==this.wJ.jX([n]))},t}(),Jx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Fs(r,t)||1.1*t.HR<=i.HR}))},$x=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Fs(r,t))return!0;for(var s=1/0,u=0,o=t.J$;u<o.length;u++){var a,c,h=o[u];s=w.min(s,null!=(a=null!=(c=h.KJ.F0)?c:h.KJ.H0)?a:1/0)}s===1/0&&(s=1);var f=3*i.zR+t.HR*s/i.HR;return t.HR<=n.HR||e>f}))},tL=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){return n.HR-t.HR}))},nL=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.z0&&!m(t.z0)})?Is(t,function(t,n){return n.z0-t.z0}):t)},iL=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){var i=Fs(r,t)?1:0;return(Fs(r,t)?1:0)-i}))},eL=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.ZH||!n.ZH||(t.ZH.jH?!!n.ZH.jH&&(t.ZH.jH.split(".")[0]===n.ZH.jH.split(".")[0]&&(t.ZH.QH?!!n.ZH.QH&&(t.ZH.QH.split(".")[0]===n.ZH.QH.split(".")[0]&&t.ZH.KH===n.ZH.KH):!n.ZH.QH)):!n.ZH.jH)}))},rL=function(){function t(t){this.V0=[eL,Jx,$x,tL,nL,iL],this.xC=t}var n=t.prototype;return n.W0=function(t){this.V0=t},n.G0=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t.length){c.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:xx.F$("AbrEvaluator","Performing optimal variant stream selection."),r=this.q0,s=t,u=0,o=this.V0;case 6:if(!(u<o.length)){c.next=14;break}return a=o[u],c.next=10,Dr.awrap(a(s,n,r,i,e));case 10:s=c.sent;case 11:u++,c.next=6;break;case 14:if(s.length){c.next=17;break}return xx.H$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),c.abrupt("return",Gs(t,function(t){return t.HR}));case 17:return c.abrupt("return",s[0]);case 18:case"end":return c.stop()}},null,this,null,We)},A(t,[{key:"q0",get:function(){return this.xC.oL}}]),t}();function sL(t,n,i,e){var r=[],s=xs(i,function(t){return t.Y0===Vr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.Y0!==Vr)for(var c=0,h=hs(a.Y0);c<h.length;c++){var f=h[c];r.push({$c:f,YR:a.j0?[a.j0]:[],uR:void 0})}}if(r.length)return{QE:t,Q0:{Z0:u,ZE:s.ZE},K0:r,J0:n===Qy.Sd?e.slice():[],$0:n===Qy.Ed?e.slice():[],Uq:!1}}}}function uL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Pr();return oL(e,r,t.K0),oL(e,r,n.K0),{QE:t.QE,Q0:{Z0:t.Q0.Z0,ZE:null!=(i=t.Q0.ZE)?i:n.Q0.ZE},K0:e,J0:aL(t.J0,n.J0,Fs),$0:aL(t.$0,n.$0,Fs),Uq:t.Uq||n.Uq||!1}}function oL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.$c._s,u=void 0;n.has(s)?(u=n.get(s)).YR=aL(u.YR,r.YR,cL):(u=Nr({},r),t.push(u),n.set(s,u))}}function aL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function cL(t,n){for(var i=0;i<t.length;i++){if(Mu(t[i],n))return!0}return!1}function hL(t,n){var i,e=t.n1;if(e){for(var r=t.iO,s=[],u=0,o=t.ZH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=sL(n||{},t.fs,e,s)}for(var c=0,h=t.i1;c<h.length;c++){i=uL(i,fL(h[c],n))}return i}function fL(t,n){return sL(n||{},t.fs,t.n1||[],[t.Fl])}function vL(t,n){switch(n.fs){case zr.$r:return t.widevine;case zr.Jr:return t.playready;case zr.us:return t.fairplay;case zr.rs:return t.clearkey}}function lL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function dL(t,n,i,e){var r,s,u,o,a,c,h,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return",[]);case 2:return r=n.filter(function(t){return vs(t,"audio")}),s=n.filter(function(t){return vs(t,"video")}),u=[],o=i.map(function(t){return wL(t,e)}),l.next=8,Dr.awrap(We.all(o));case 8:for(a=l.sent.filter(F),c=gL(a,t.preferredKeySystems),h=0;h<c.length;h++)f=c[h],v=vL(t,f.$c),"cbcs",u.push({$c:f.$c,YR:f.YR,uR:f.uR,$D:[{initDataTypes:[f.$c.ls],audioCapabilities:lL(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:lL(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return l.abrupt("return",u);case 12:case"end":return l.stop()}},null,null,null,We)}function wL(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.r$){s.next=2;break}return s.abrupt("return");case 2:if(t.e1){s.next=4;break}return s.abrupt("return");case 4:if(t.Rd===ux.jJ){s.next=6;break}return s.abrupt("return");case 6:if(i=_L(t.e1)){s.next=9;break}return s.abrupt("return");case 9:if(i._s!==ns){s.next=13;break}return s.abrupt("return",{$c:i,YR:[],uR:t.r$});case 13:return xx.yT("HLSDrmUtils","Fetching key uri "+t.r$+"."),s.next=16,Dr.awrap(n.ud({hd:t.r$}));case 16:return e=s.sent,s.next=19,Dr.awrap(e.Ul());case 19:return r=s.sent,s.abrupt("return",{$c:i,YR:[r],uR:void 0});case 21:case"end":return s.stop()}},null,null,null,We)}function _L(t){return t===Kr?ss:t===Qr?rs:t===es?os:void 0}function gL(t,n){var i=function(t){var i=n.indexOf(t.$c._s);return i>=0?i:n.length};return Is(t,function(t,n){return i(t)-i(n)})}function mL(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function yL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function kL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function bL(t){var n=EL(kL(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function pL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:xx.H$(Lx,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function AL(t,n){var e,r,s=pL(t);try{e=s.URI?i.Or(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return $O.Sd;case"VIDEO":return $O.Ed;case"SUBTITLES":return $O.rA;case"CLOSED-CAPTIONS":return $O.BJ}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],c=s.NAME,h="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,l="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,_=s.CHANNELS;if(u||xx.H$(Lx,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||xx.H$(Lx,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),c||xx.H$(Lx,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===$O.BJ?(e&&xx.H$(Lx,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||xx.H$(Lx,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):xx.H$(Lx,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&xx.H$(Lx,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),h&&!f&&(f=!0,s.AUTOSELECT&&xx.H$(Lx,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===$O.rA&&s.FORCED&&xx.H$(Lx,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===c)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{s1:a,u1:_,o1:w,n$:u,$J:f,JJ:h,t$:l,i$:d,G_:o,wi:c,fs:r,r$:e}}function TL(t,n,e){var r,s,u,o=pL(t);try{r=i.Or(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Bk:i,dT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ls(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ls(o,"avc")||ls(o,"hvc1")||ls(o,"hev1")||ls(o,"dvh")?i=u:e=e?e+","+o:o}return{QH:n,jH:i,KH:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=EL(o.BANDWIDTH),c=EL(o["AVERAGE-BANDWIDTH"]),h=EL(o.SCORE),f=EL(o["FRAME-RATE"]),l=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=o["VIDEO-RANGE"],g=o.AUDIO,y=o.VIDEO,k=o.SUBTITLES,b=o["CLOSED-CAPTIONS"];if(void 0===a?xx.H$(Lx,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==c&&c>a&&xx.H$(Lx,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||xx.yT(Lx,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.jH&&void 0===u&&xx.yT(Lx,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Fs(["TYPE-0","TYPE-1","NONE"],l)||xx.H$(Lx,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Fs(["SDR","PQ","HLG"],_)||xx.H$(Lx,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{a1:d,c1:g,eJ:c,HR:a,h1:b,ZH:s,rJ:f,f1:l,O$:u,z0:h,v1:k,r$:r,l1:y,d1:_}}function SL(t,n){var i=pL(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return TL(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function EL(t){var n=Number(t);return m(n)?void 0:n}function IL(t,n){var i,e,r=pL(t);try{i=function(t){switch(t){case"NONE":return ux.TN;case"AES-128":return ux.YJ;case"SAMPLE-AES":return ux.jJ;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?xL(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,c,h=r.KEYFORMAT,f=r.IV,l=r.KEYFORMATVERSIONS;if(i!==ux.TN){if(o=h||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(_L(o)!==ss)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=ux.jJ}else s=i;u=e,a=f?Wo(f):void 0,c=l?l.split("/").map(function(t){return Number(t)}):[1]}else s=ux.TN,(e||h||l||f)&&xx.H$(Lx,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Rd:s,r$:u,w1:a,e1:o,_1:c}}function RL(t){var n=kL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[EL(e),r]}function DL(t,n){var i=t.split("@"),e=EL(i[0]),r=i.length>1?EL(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{MN:r,C_:e}}function NL(t){if(void 0!==t)return DL(t,void 0)}function CL(t,n){return DL(kL(t),n)}function PL(t,n){var i=pL(t);try{return{Ai:xL(i.URI,n),OJ:NL(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function BL(t){var n=kL(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function OL(t){var n,i,e,r=pL(t),s=r["START-DATE"],u=r["END-DATE"],o=EL(r["PLANNED-DURATION"]),a=EL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Wo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Wo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Wo(r["SCTE35-OUT"]).buffer);var c,h,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ls(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)xx.H$(Lx,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(c=new Date(s),h=void 0!==u?new Date(u):void 0,zt(c)||xx.H$(Lx,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(xx.H$(Lx,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(r.CLASS||xx.H$(Lx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&xx.H$(Lx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&xx.H$(Lx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&xx.H$(Lx,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===c)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{H_:w,LJ:_,rN:c,MJ:h,Qg:a,UJ:o,zJ:n,WJ:i,VJ:e,xJ:f,FJ:l}}function xL(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Or(t,n)}function LL(t,n){var i=pL(t),e=EL(i.DURATION),r=xL(i.URI,n),s=NL(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Qg:e,r$:{Ai:r,OJ:s},g1:u,m1:o}}function ML(t){var n=pL(t);return{b1:"YES"===n["CAN-BLOCK-RELOAD"],A1:EL(n["CAN-SKIP-UNTIL"]),T1:"YES"===n["CAN-SKIP-DATERANGES"],S1:EL(n["HOLD-BACK"]),E1:EL(n["PART-HOLD-BACK"])}}function UL(t,n){var i=pL(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=xL(i.URI,n),r=EL(i["LAST-MSN"]),s=EL(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{r$:e,I1:r,R1:s}}function XL(t,n){var i,e=pL(t),r=EL(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{D1:r,N1:s,C1:n}}function FL(t){var n=EL(pL(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function HL(t){switch(kL(t)){case"VOD":return ox.QJ;case"EVENT":return ox.ZJ;default:return xx.H$(Lx,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),ox.vd}}function zL(t,n){var i,e,r=pL(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return sx.GJ;if("PART"===t)return sx.qJ;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=xL(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=EL(r["BYTERANGE-START"]),o=EL(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={MN:u||0,C_:o}),{fs:i,r$:{Ai:e,OJ:s}}}var VL=function(){function t(n){this.P1=0,this.B1=void 0,this.B1=t.O1(n)}var n=t.prototype;return n.L1=function(){var t=this.B1[this.P1];return this.P1+=1,t},n.M1=function(){return this.B1[this.P1]},n.Lu=function(){var n=new t("");return n.P1=0,n.B1=this.B1.slice(this.P1),n},t.O1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function WL(t,n,i){var e=t.r$,r=t.xA,s=t.U1,u=t.MN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=bL(t);return m(n)?(xx.H$(Lx,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=pL(t),i=EL(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{X1:i,F1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":xx.H$(Lx,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:xx.yT(Lx,"Ignoring unrecognized line or comment: "+n+".")}return{r$:e,xA:r,U1:s,MN:u}}function GL(t,n){return t.map(function(t){return t.Rd===ux.TN||t.w1?t:Nr({},t,{w1:qL(n)})})}function qL(t){var n=new DataView(new ArrayBuffer(16)),i=new Vo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;vo(t,n,e?s:r,e),vo(t,n,u,e)}(n,i,ft.fromNumber(t)),new y(n.buffer)}function YL(t,n,e){xx.yT(Lx,"Parsing M3U8 playlist at "+t+".");var r=new VL(e);if("#EXTM3U"!==r.L1())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Or(t)}catch(n){throw xx.H$(Lx,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={r$:r,U1:void 0,MN:void 0,xA:void 0},u=[],o=[],a=[],c=[];;){var h=n.L1();if(!h)break;try{var f=mL(h);switch(f){case"#EXT-X-MEDIA":var l=AL(h,r);u.push(l);break;case"#EXT-X-STREAM-INF":var d=TL(h,r,n.L1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=SL(h,r);a.push(w);break;case"#EXT-X-SESSION-DATA":xx.H$(Lx,"Ignoring unsupported #EXT-X-SESSION-DATA: "+h+".");break;case"#EXT-X-SESSION-KEY":var _=IL(h,r);c.push(_);break;default:s=WL(s,h,f)}}catch(t){xx.H$(Lx,"Ignoring unparsable line: "+h,t)}}var g=s.xA,m=null!=(e=s.U1)&&e,y=s.MN;return void 0===g&&(xx.H$(Lx,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.z0})||a.some(function(t){return void 0!==t.z0}))&&(o.some(function(t){return void 0===t.z0})||a.some(function(t){return void 0===t.z0}))&&xx.H$(Lx,"If one master playlist variant stream has a SCORE, all variants should have it."),{r$:r,xA:g,U1:m,MN:y,H1:a,z1:c,oT:u,V1:o}}(t,r):function(t,n,e){var r,s,u,o,a,c,h,f,l,d,w,_,g,m,y,k,b,p,A,T={r$:t,U1:void 0,MN:void 0,xA:void 0},S=[],E=!1,I=!1,R=[],D=Pr(),N=[],C=[],P=!1,B=!1,O=[],x=[],L=0,M=!1,U=ox.vd,X=!1,F=0;try{A=i.Or(t)}catch(n){throw xx.H$(Lx,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.Lu();void 0===k||void 0===b;){var z=H.L1();if(!z)break;try{switch(yL(z)){case"#EXT-X-MEDIA-SEQUENCE":k=bL(z);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":b=bL(z)}}catch(t){xx.H$(Lx,"Ignoring unparsable line: "+z,t)}}void 0===k&&(xx.yT(Lx,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===b&&(xx.yT(Lx,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),b=0);for(var V=k,W=b;;){var G=e.L1();if(!G)break;var q=!1;try{var Y=yL(G);switch(Y){case"#EXTINF":q=!0;var j=RL(G);c=j[0],h=j[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=CL(G,L))&&(L=f.MN+f.C_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,W++;break;case"#EXT-X-KEY":var Q,Z;q=!0;var K=IL(G,A);if(K.Rd===ux.TN){D.clear(),m=void 0;break}var J=null!=(Q=null==(Z=K.e1)?void 0:Z.toString())?Q:"identity";D.set(J,K),K.Rd===ux.YJ&&(m=K);break;case"#EXT-X-MAP":q=!0,d=PL(G,A),w=m;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,_=BL(G);break;case"#EXT-X-GAP":q=!0,B=!0;break;case"#EXT-X-BITRATE":q=!0,g=bL(G);break;case"#EXT-X-TARGETDURATION":s=bL(G);break;case"#EXT-X-DATERANGE":var $=OL(G);S.push($);break;case"#EXT-X-PART":q=!0;var tt=LL(G,A);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=zL(G,A);O.push(nt);break;case"#EXT-X-SKIP":R.length>0&&xx.H$(Lx,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=XL(G,V);F=it.D1,p=it.N1,V+=it.D1;break;case"#EXT-X-SERVER-CONTROL":var et=ML(G);E=et.b1,u=et.A1,I=et.T1,o=et.S1,a=et.E1;break;case"#EXT-X-RENDITION-REPORT":var rt=UL(G,A);x.push(rt);break;case"#EXT-X-PART-INF":y=FL(G);break;case"#EXT-X-MEDIA-SEQUENCE":q&&xx.H$(Lx,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&xx.H$(Lx,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":U=HL(G);break;case"#EXT-X-I-FRAMES-ONLY":X=!0;break;default:if(ls(Y,"#"))T=WL(T,G,Y);else{l=i.Or(G,A);var st=d?{r$:d,W1:w}:void 0,ut={z1:GL(xr(D),V),rE:N,G1:C,Qg:c,zD:h,q1:P,r$:{OJ:f,Ai:l},Y1:st,j1:_,m1:B,Q1:g,C1:V,Z1:W};R.push(ut),V++,N=[],C=[],c=void 0,c=void 0,h=void 0,P=!1,f=void 0,l=void 0,_=void 0,B=!1,g=void 0}}}catch(t){xx.H$(Lx,"Ignoring unparsable line: "+G,t)}}if(C.length){var ot=d?{r$:d,W1:m}:void 0,at={z1:GL(xr(D),V),rE:N,G1:C,Qg:c,zD:h,q1:P,r$:void 0,Y1:ot,j1:_,m1:B,Q1:g,C1:V,Z1:W};R.push(at)}var ct=T.xA,ht=null!=(r=T.U1)&&r,ft=T.MN;void 0===ct&&(xx.H$(Lx,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ct=2),void 0===s&&xx.H$(Lx,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,lt=vt>0;lt||xx.H$(Lx,"The HLS media playlist contains no segments.");var dt=lt&&R[vt-1].G1.length>0;return dt&&void 0===y&&xx.H$(Lx,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&xx.H$(Lx,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{b1:E,A1:u,T1:I,K1:S,Z1:b,J1:M,U1:ht,S1:o,n2:X,C1:k,D1:F,E1:a,F0:y,i2:U,e2:O,N1:p,s2:x,u2:s,aJ:R,MN:ft,r$:A,o2:n,xA:ct}}(t,n,r)}var jL=function(){function t(t,n,i){var e,r,s,u;this.H_=QL++,this.KJ=void 0,this.HR=void 0,this.z0=void 0,this.O$=void 0,this.c1=void 0,this.l1=void 0,this.v1=void 0,this.h1=void 0,this.a2=void 0,this.c2=void 0,this.h2=[],this.KJ=n,this.HR=t.HR,this.a2=t.eJ,this.z0=t.z0,this.c2=t.ZH?ZL(t.ZH):void 0,this.O$=t.O$,this.c1=null!=(e=t.c1)?e:"f2"+this.H_,this.l1=null!=(r=t.l1)?r:"l2"+this.H_,this.v1=null!=(s=t.v1)?s:"d2"+this.H_,this.h1=null!=(u=t.h1)?u:"w2"+this.H_,this.h2=i}var n=t.prototype;return n._2=function(t){for(var n=0,i=this.h2;n<i.length;n++){var e=i[n].KJ._2(t);if(void 0!==e)return e}},n.g2=function(t){for(var n=0,i=this.h2;n<i.length;n++){var e=i[n].KJ.g2(t);if(void 0!==e)return e}},n.m2=function(t){for(var n=0,i=this.h2;n<i.length;n++){var e=i[n];if(e.fs===t&&e.e$)return void Us(this.h2,e)}},A(t,[{key:"r$",get:function(){return this.KJ.r$}},{key:"ZH",get:function(){return this.c2},set:function(t){this.c2=t?ZL(t):void 0}},{key:"eJ",get:function(){return this.a2||this.HR}},{key:"b2",get:function(){var t,n;if(!this.h2.length)return nE.kC();var i=null!=(t=qs(this.h2,function(t){var n;return null!=(n=t.KJ.A2)?n:0}))?t:this.J$[0],e=i.KJ.aJ;if(!e.length||e.length<2)return nE.kC();var r=i.KJ.J1?e[0].Jy:e[1].Jy,s=e[e.length-1],u=s.Jy+(null!=(n=s.Qg)?n:s.T2)-this.J$.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.KJ.E1)?e:n.KJ.S1)?i:0,t)},0);return u<r?nE.kC():new nE([r,u])}},{key:"J$",get:function(){return this.h2}},{key:"j$",get:function(){return this.h2.filter(function(t){return t.fs===$O.Sd})}},{key:"Q$",get:function(){return this.h2.filter(function(t){return t.fs===$O.Ed})}},{key:"S2",get:function(){return this.h2.filter(function(t){return t.fs===$O.rA})}},{key:"E2",get:function(){return this.h2.filter(function(t){return t.fs===$O.BJ})}}]),t}(),QL=0;function ZL(t){return Nr({},t,{jH:t.jH?Lh(t.jH):void 0})}var KL=function(){function t(t,n,i,e,r){this.I2=void 0,this.R2=void 0,this.Qg=void 0,this.r$=void 0,this.g1=void 0,this.m1=void 0,this.D2=void 0,this.wk=void 0,this.N2=void 0,this.C2=void 0,this.I2=t,this.R2=n,this.wk=i,this.D2=e,this.Qg=r.Qg,this.r$=r.r$,this.g1=r.g1,this.m1=r.m1}return t.prototype.P2=function(t,n){this.wk=t,this.D2=n},A(t,[{key:"Jy",get:function(){var t;return this.wk+(null!=(t=this.C2)?t:0)}},{key:"B2",get:function(){return this.D2}},{key:"z1",get:function(){return this.I2.z1}}]),t}();function JL(t){return void 0!==t.G1}var $L,tM=function(){function t(t,n,i,e){this.ua=void 0,this.j1=void 0,this.r$=void 0,this.Y1=void 0,this.m1=void 0,this.D2=void 0,this.C1=void 0,this.q1=void 0,this.Z1=void 0,this.z1=void 0,this.wk=void 0,this.N2=void 0,this.O2=[],this.L2=0,this.M2=void 0,this.wk=t,this.Y1=e.Y1,this.D2=i,this.ua=e.Qg,this.j1=e.j1,this.r$=e.r$,this.m1=e.m1,this.C1=e.C1,this.q1=e.q1,this.Z1=n,this.z1=e.z1,this.U2(e.G1)}var n=t.prototype;return n.X2=function(t){return this.O2[t]},n.F2=function(t){for(var n=0;n<this.O2.length;n++){var i=this.O2[n],e=i.Jy,r=e+i.Qg;if(e<=t&&t<=r)return t===r&&n+1<this.O2.length?this.O2[n+1]:i}},n.H2=function(t){for(var n=this.O2.length-1;n>=0;n--){var i=this.O2[n];if(i.Jy<=t)return i}},n.z2=function(t){for(var n=this.H2(t);n&&!n.g1&&n.R2>0;)n=this.X2(n.R2-1);return n},n.P2=function(t,n){this.D2=n,this.ua=t.Qg,this.U2(t.G1)},n.U2=function(t){this.O2.length>t.length&&(this.O2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.B2&&i===t.length-1,s=this.wk+n;if(i<this.O2.length)this.O2[i].P2(s,r);else{var u=new KL(this,i,s,r,e);this.O2.push(u)}n+=e.Qg}this.L2=n},n.V2=function(){zs(this.O2),this.L2=0},A(t,[{key:"Jy",get:function(){var t;return this.wk+(null!=(t=this.M2)?t:0)}},{key:"W2",get:function(){return this.wk}},{key:"Qg",get:function(){return this.ua}},{key:"B2",get:function(){return this.D2}},{key:"G1",get:function(){return this.O2}},{key:"T2",get:function(){return this.L2}},{key:"C2",get:function(){return this.M2},set:function(t){this.M2=t;for(var n=0,i=this.O2;n<i.length;n++){i[n].C2=t}}}]),t}();!function(t){t.G2="YES",t.q2="v2"}($L||($L={}));var nM=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}($t);var iM=function(t){function n(n,i){var e,r=eM(i,n.Qg,n.rN,n.MJ);return(e=t.call(this,i,r,void 0,!1,n.H_)||this).Y2=void 0,e.j2=void 0,e.Q2=void 0,e.ua=void 0,e.Z2=void 0,e.K2=void 0,e.J2=void 0,e.n3=void 0,e.i3=void 0,e.e3=void 0,e.Y2=n.LJ,e.j2=n.rN,e.Q2=n.MJ,e.ua=n.Qg,e.Z2=n.UJ,e.K2=Boolean(n.xJ),e.J2=n.XJ||{},e.n3=n.HJ,e.i3=n.VJ,e.e3=n.WJ,e.r3(),e.s3(),e}S(n,t);var i=n.prototype;return i.qc=function(t){var n=!1;void 0===this.Y2&&void 0!==t.LJ&&(n=!0,this.Y2=t.LJ),void 0===this.Q2&&void 0!==t.MJ&&(n=!0,this.Q2=t.MJ),void 0===this.ua&&void 0!==t.Qg&&(n=!0,this.ua=t.Qg),void 0===this.Z2&&void 0!==t.UJ&&(n=!0,this.Z2=t.UJ),!this.K2&&t.xJ&&(n=!0,this.K2=t.xJ),n=this.updateCustomAttributes(t,n),void 0===this.n3&&void 0!==t.HJ&&(n=!0,this.n3=t.HJ),void 0===this.i3&&void 0!==t.VJ&&(n=!0,this.i3=t.VJ),void 0===this.e3&&void 0!==t.WJ&&(n=!0,this.e3=t.WJ),this.r3(),this.s3(),this.u3(),n&&this.Qs(new Sk(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.XJ)for(var e=0,r=d.keys(t.XJ);e<r.length;e++){var s=r[e];void 0===this.J2[s]&&(i=!0,this.J2[s]=t.XJ[s])}return i},i.r3=function(){this.ua&&!this.Q2&&(this.Q2=new Date(this.j2.getTime()+Gt(this.ua)))},i.s3=function(){this.Q2&&!this.ua&&(this.ua=Wt(this.Q2.getTime()-this.j2.getTime()))},i.u3=function(){this._k===1/0&&(this.Q2||this.ua)&&(this._k=eM(this.wk,this.ua,this.j2,this.Q2))},A(n,[{key:"t_",get:function(){var t;return this.$w||(this.$w=rm(pk(t=this),{get content(){return t.nk},get class(){return t.LJ},get startDate(){return t.rN},get endDate(){return t.MJ},get duration(){return t.Qg},get plannedDuration(){return t.UJ},get endOnNext(){return t.xJ},get scte35Cmd(){return t.HJ},get scte35Out(){return t.VJ},get scte35In(){return t.WJ},get customAttributes(){return t.XJ}})),this.$w}},{key:"LJ",get:function(){return this.Y2}},{key:"rN",get:function(){return this.j2}},{key:"MJ",get:function(){return this.Q2}},{key:"Qg",get:function(){return this.ua}},{key:"UJ",get:function(){return this.Z2}},{key:"xJ",get:function(){return this.K2}},{key:"HJ",get:function(){return this.n3}},{key:"VJ",get:function(){return this.i3}},{key:"WJ",get:function(){return this.e3}},{key:"XJ",get:function(){return this.J2}}]),n}(Dk);function eM(t,n,i,e){return F(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var rM=function(t){function n(){return t.call(this,void 0,void 0,fk.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.qc=function(t,n){sM(this,uM(t),n)},i.IE=function(n){var i,e,r;i=this.cg.N_,e=n,(r=Ls(i,function(t){return t.LJ===e.LJ}))&&r.xJ&&r.qc({H_:r.H_,MJ:e.rN}),t.prototype.IE.call(this,n)},n}($P);function sM(t,n,i){for(var e=t.cg.N_,r=function(i){var r=e[i],s=xs(n,function(t){return t.H_===r.H_});s?r.qc(s):t.dE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.rN;if(void 0!==a&&!t.$W(o.H_)){var c=i(a);t.IE(new iM(o,c))}}}function uM(t){for(var n=Pr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.H_)){var s=n.get(r.H_),u=Nr({},s,am(r),{XJ:Nr({},s.XJ,r.XJ)});n.set(r.H_,u)}else n.set(r.H_,r),i.push(r.H_)}return i.map(function(t){return n.get(t)})}var oM=String.fromCharCode(95),aM=oM+"HLS_msn",cM=oM+"HLS_part",hM=oM+"HLS_skip",fM=function(){function t(t){this.r$=void 0,this.o3=void 0,this.a3=void 0,this.c3=void 0,this.h3=void 0,this.f3=void 0,this.v3=void 0,this.l3=void 0,this.d3=[],this.w3=[],this.M2=void 0,this._3=!1,this.g3=void 0,this.m3=!1,this.y3=ox.vd,this.vW=nE.kC(),this.b3=nE.kC(),this.ua=void 0,this.A3=-1/0,this.T3=void 0,this.r$=t}var n=t.prototype;return n.B$=function(t){if(!t)return this.r$;var n=i.Br(this.r$);return void 0!==t.C1&&n.searchParams.append(aM,String(t.C1)),void 0!==t.S3&&n.searchParams.append(cM,String(t.S3)),void 0!==t.yA&&n.searchParams.append(hM,t.yA),n.href},n.E3=function(t){return xs(this.d3,function(n){return n.C1===t})},n.I3=function(t){for(var n=0;n<this.d3.length;n++){var i,e=this.d3[n],r=e.Jy,s=r+(null!=(i=e.Qg)?i:e.T2);if(r<=t&&t<=s)return t===s&&n+1<this.d3.length?this.d3[n+1]:e}},n._2=function(t){var n=this.R3();if(void 0!==n)return new Date(1e3*t+n)},n.g2=function(t){var n=this.R3();if(void 0!==n)return(t.getTime()-n)/1e3},n.R3=function(){for(var t=this.aJ,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.j1)return i.j1.getTime()-1e3*i.Jy}},n.D3=function(t){switch(t){case sx.GJ:return this.a3;case sx.qJ:return this.c3;default:return}},n.P2=function(t){var n;void 0===this.h3&&(this.h3=null!=(n=t.u2)?n:this.N3(t));void 0===this.v3&&void 0!==t.S1&&(this.v3=t.S1),void 0===this.f3&&void 0!==t.F0&&(this.f3=t.F0),void 0===this.l3&&void 0!==t.E1&&(this.l3=t.E1),this._3=t.b1,this.g3=t.A1,this.m3=t.T1,this.y3=t.i2,this.C3(t),this.P3(t);var e=xs(t.e2,function(t){return t.fs===sx.GJ}),r=xs(t.e2,function(t){return t.fs===sx.qJ});this.a3=e?{r$:e.r$,fs:e.fs,Z1:t.Z1}:void 0,this.c3=r?{r$:r.r$,fs:r.fs,Z1:t.Z1}:void 0,this.o3=i.ir()/1e3,this.b3=this.B3(),this.vW=this.O3(this.b3),this.ua=this.x3()},n.B3=function(){var t,n=this.aJ;if(0===n.length)return nE.kC();var i=n[0].Jy,e=n[n.length-1],r=e.Jy,s=null!=(t=e.Qg)?t:e.T2;return new nE([i,r+s])},n.O3=function(t){var n,i;if(0===t.C_||this.J1)return t;var e=t.MN(0),r=t.XN(0)-(null!=(n=null!=(i=this.E1)?i:this.S1)?n:0);return r<e?nE.yC(e):new nE([e,r])},n.x3=function(){return 0===this.d3.length?0:this.J1?(t=this.d3,n=function(t){var n;return null!=(n=t.Qg)?n:t.T2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.N3=function(t){for(var n,i=0,e=t.aJ;i<e.length;i++){var r=e[i];if(void 0!==r.Qg){var s=w.max(1,w.round(r.Qg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.C3=function(t){if(0===t.aJ.length)return zs(this.d3),void this.L3();var n=this.M3(t);if(n){var i,e,r;n.U3>0&&this.d3.splice(0,n.U3);var s=t.D1;if(s>0){if(s>this.d3.length)throw new nM("New playlist skips over missing segments.");var u=this.d3[s-1];if(void 0===u.Qg)throw new nM("New playlist skips over an incomplete segment.");i=u.W2+u.Qg,r=u.Z1-t.Z1,e=s;for(var o=0;o<s;o++)this.d3[o].V2()}else i=n.X3,r=0,e=0;for(var a=0;a<t.aJ.length;a++,e++){var c=t.aJ[a],h=t.J1&&a===t.aJ.length-1,f=c.Qg,v=c.Z1+r;if(e<this.d3.length){var l=this.d3[e];0,l.P2(c,h)}else{var d=new tM(i,v,h,c);d.C2=this.M2,this.d3.push(d)}void 0!==f&&(i+=f)}}},n.M3=function(t){if(0===this.d3.length)return{U3:0,X3:0};var n=this.d3[0].C1,i=this.d3[this.d3.length-1].C1,e=t.aJ[0].C1-t.D1,r=t.aJ[t.aJ.length-1].C1,s=0,u=0;if(e<n)xx.H$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=Ls(t,function(t){return void 0!==t.j1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.q1)return;if(r.j1)return[r,n];n+=null!=(e=r.Qg)?e:0}return}(n.aJ);if(void 0===e)return;var r=e[0],s=e[1];if(i.Z1!==r.Z1)return;var u=(r.j1.getTime()-i.j1.getTime())/1e3;return i.W2+u-s}(this.d3,t))?o:(c=this.d3,h=this.h3,v=c[c.length-1],l=null!=(f=v.Qg)?f:w.max(h,v.T2),v.W2+l),xx.F$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.d3.length,this.L3()}else{0;var a=Ms(this.d3,function(t){return t.C1===e});0,u=this.d3[a].W2,a>0&&(s=a)}var c,h,f,v,l;return{U3:s,X3:u}}xx.H$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.P3=function(t){var n=this,i=t.K1.map(vx);if(t.T1&&t.o2.yA===$L.q2&&(i=this.w3.concat(i)),this.w3=uM(i),t.N1)for(var e=function(t,i){var e=i[t],r=Ms(n.w3,function(t){return t.H_===e});r>=0&&Xs(n.w3,r)},r=0,s=t.N1;r<s.length;r++)e(r,s)},n.F3=function(t,n){if(this.M2!==t){this.M2=t;for(var i=0,e=this.d3;i<e.length;i++){e[i].C2=this.M2}}this.T3=n},n.L3=function(){this.M2=void 0,this.T3=void 0},A(t,[{key:"J1",get:function(){return Boolean(xs(this.d3,function(t){return t.B2}))}},{key:"Qg",get:function(){return this.ua}},{key:"Ny",get:function(){return this.vW}},{key:"H3",get:function(){return this.b3}},{key:"H0",get:function(){return this.h3}},{key:"F0",get:function(){return this.f3}},{key:"S1",get:function(){return this.J1?0:this.v3?this.v3:this.h3?3*this.h3:void 0}},{key:"E1",get:function(){var t;return null!=(t=this.l3)?t:this.f3?3*this.f3:void 0}},{key:"z3",get:function(){var t,n,i;if(!this.J1&&0!==this.d3.length){var e=this.d3[this.d3.length-1],r=null!=(t=e.Qg)?t:e.T2,s=null!=(n=null!=(i=this.E1)?i:this.S1)?n:0;return e.Jy+r-s}}},{key:"b1",get:function(){return this._3}},{key:"A1",get:function(){return this.g3}},{key:"T1",get:function(){return this.m3}},{key:"i2",get:function(){return this.y3}},{key:"V3",get:function(){return void 0!==this.F0}},{key:"W3",get:function(){if(this.J1)return!0;var t=i.ir()/1e3,n=this.A2,e=this.G3;return void 0!==n&&t-n<e}},{key:"A2",get:function(){return this.o3}},{key:"C2",get:function(){return this.M2}},{key:"G3",get:function(){var t;return null!=(t=this.h3)?t:1}},{key:"aJ",get:function(){return this.d3}},{key:"K1",get:function(){return this.w3}},{key:"q3",get:function(){return this.A3},set:function(t){this.A3=t}},{key:"Y3",get:function(){return this.T3}}]),t}();var vM=function(){function t(){this.j3=[],this.Q3=Br()}var n=t.prototype;return n.Z3=function(t){var n=this.Q3.get(t);return void 0!==n&&lM(n)},n.K3=function(t){return this.t4(t).J3.Fu},n.n4=function(t){var n=this.Q3.get(t);if(!n||!lM(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.i4=function(t){return this.n4(t).fp},n.e4=function(t,n){var i=JL(n)?n:n.I2,e=this.n4(i.Z1),r=t.Oy(e.fp);if(e.r4){var s=Qk.Wb(n.Jy).qk(r);if(s.Vk().Lk(tb)){var u=w.round(s.xk()/$k.xk());r=r.Oy($k.Eb(u))}}return r},n.s4=function(t,n){return this.e4(t,n).qk(t)},n.u4=function(t,n,i,e,r){var s=this.t4(t);void 0===s.fp&&(s.o4.some(function(t){return t.a4===n})||(s.o4.push({a4:n,c4:i,h4:e.Ub(i.Bb),r4:r}),this.f4(s)))},n.f4=function(t){if(!t.fp&&this.v4(t)){var n=Ys(t.o4,dM);zs(t.o4),t.fp=n.h4.qk(n.c4),t.r4=n.r4,t.J3.Wu()}},n.v4=function(t){return this.j3.length>0&&this.j3.every(function(n){return t.o4.some(function(t){return t.a4===n})})},n.t4=function(t){if(this.Q3.has(t))return this.Q3.get(t);var n={fp:void 0,r4:!1,J3:new Go,o4:[]};return this.Q3.set(t,n),n},n.l4=function(t){var n=this;this.j3=t,this.Q3.forEach(function(t){return n.f4(t)})},n.xs=function(){this.Q3.forEach(function(t){return t.J3.Hs()}),this.Q3.clear()},t}();function lM(t){return void 0!==t.fp}function dM(t,n){return t.r4||n.r4?(i=t.c4,e=n.c4,r=i.qk(e),i.jk()||e.jk()?r:(r.Uk(tb)?r=r.qk($k):r.zk(tb.Gk())&&(r=r.Oy($k)),r)).Mk(Qk.eb):t.c4.Mk(n.c4);var i,e,r}var wM=function(){function t(t){this.d4=[],this.w4=[],this._4=Pr(),this.g4=new vM,this.m4=t}var n=t.prototype;return n.P2=function(t,n){if(rx(t))if(0===this.d4.length)this.y4(t);else{if(!n)return void xx.H$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.KJ.P2(t)}else{if(0!==this.d4.length)return void xx.H$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.b4(t)}},n.y4=function(t){var n=this.A4(t.r$);n.P2(t);var i=this.T4($O.Sd,n),e=this.T4($O.Ed,n),r=new jL({r$:n.r$,HR:0,eJ:0,z0:NaN,ZH:void 0,O$:void 0,rJ:0,a1:[],f1:void 0,d1:void 0,c1:void 0,l1:void 0,v1:void 0,h1:void 0},n,[i,e]);this.d4.push(r)},n.b4=function(t){var n,i=this;(n=this.w4).push.apply(n,t.z1);for(var e=this.S4(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return _M(t.fs,t.n$,n)&&(!t.e$||t.KJ.r$===n.r$)}(t,r)});i.E4(r,s);var u=new jL(r,i.A4(r.r$),s);i.d4.push(u)},s=0,u=t.V1;s<u.length;s++)r(s,u)},n.A4=function(t){var n=this._4.get(t);return void 0===n&&(n=new fM(t),this._4.set(t,n)),n},n.S4=function(t){for(var n=[],i=0,e=t.oT;i<e.length;i++){var r=e[i];if(void 0===r.r$)for(var s=0,u=t.V1;s<u.length;s++){var o=u[s];if(_M(r.fs,r.n$,o)){var a=new lx(r,this.A4(o.r$));n.push(a)}}else{var c=new lx(r,this.A4(r.r$));n.push(c)}}return n},n.T4=function(t,n){return new lx({fs:t,r$:void 0,n$:"",G_:void 0,s1:void 0,wi:"",JJ:!0,$J:!1,t$:!1,o1:void 0,i$:void 0,u1:void 0},n)},n.E4=function(t,n){var i=n.filter(function(t){return t.fs===$O.Sd}),e=n.filter(function(t){return t.fs===$O.Ed}),r=t.ZH&&(t.ZH.jH||t.ZH.QH);if((!r||t.ZH.jH)&&0===e.length){var s=this.T4($O.Ed,this.A4(t.r$));n.push(s)}if((!r||t.ZH.QH)&&0===i.length){var u=this.T4($O.Sd,this.A4(t.r$));n.push(u)}t.ZH&&t.ZH.KH},n.I4=function(t){for(var n=0,i=this.d4;n<i.length;n++)for(var e=0,r=i[n].J$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.R4=function(t){for(var n=0,i=this.d4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.D4=function(t){for(var n=0,i=this.d4;n<i.length;n++){var e=i[n];if(Fs(e.J$,t))return e}},n.xs=function(){zs(this.d4),zs(this.w4),this._4.clear(),this.g4.xs()},A(t,[{key:"N4",get:function(){return this.w4}},{key:"Y$",get:function(){return this.d4}},{key:"$S",get:function(){return this.g4}}]),t}();function _M(t,n,i){switch(t){case $O.Sd:return i.c1===n;case $O.Ed:return i.l1===n;case $O.rA:return i.v1===n;case $O.BJ:return i.h1===n}return!1}var gM=function(t){function n(n){var i;return(i=t.call(this,yM.C4)||this).b$=n,i}return S(n,t),n}(gu);function mM(t,n,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Dr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),iu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Dr.awrap(fu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var yM,kM=function(t){function n(n){var i;return(i=t.call(this,yM.P4)||this).b$=n,i}return S(n,t),n}(gu),bM="HlsModelUpdater";!function(t){t.C4="B4",t.P4="O4"}(yM||(yM={}));var pM=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).x4=void 0,r.L4=!1,r.M4=void 0,r.U4=void 0,r.X4=Br(),r.pE=n,r.F4=i,r.rootURI=e,r.x4=new wM(e),r}S(n,t);var e=n.prototype;return e.H4=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.x4.m4){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Dr.awrap(this.z4(n,{},2,t));case 5:if(ex(i=e.sent)||rx(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return ex(i)||xx.yT(bM,"Detected media playlist only HLS stream."),this.V4(i),e.next=12,Dr.awrap(this.W4(t));case 12:this.L4=!0;case 13:case"end":return e.stop()}},null,this,null,We)},e.G4=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.x4.I4(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={C1:n,S3:i,yA:EM(r)},u=Gt(w.max(1,3*t.KJ.G3)),o.prev=5,o.next=8,Dr.awrap(this.q4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),iu(o.t0),this.Y4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.j4=function(t,n){var i=this.x4.I4(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={C1:void 0,S3:void 0,yA:EM(i)},r=Gt(w.max(1,3*t.KJ.G3));return this.q4(i,e,n,r)},e.Q4=function(t,n){return this.X4.has(t.z_)||this.X4.set(t.z_,new Go),ru(this.X4.get(t.z_).Fu,n)},e.Y4=function(t){this.Qs(new kM(t))},e.q4=function(t,n,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.KJ.B$(n),a.prev=1,a.next=4,Dr.awrap(this.z4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),iu(a.t0),t.KJ.q3=i.ir(),a.t0;case 12:if(rx(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.V4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof nM&&void 0!==n.yA)){a.next=23;break}return o=Nr({},n,{yA:void 0}),a.abrupt("return",this.q4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.M4||t===this.M4||this.M4.KJ.W3){a.next=35;break}return a.prev=25,a.next=28,Dr.awrap(this.j4(this.M4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),iu(a.t2),this.M4=t,this.Z4();case 35:this.K4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],We)},e.z4=function(t,n,i,e,r){var s,u,o,a=this;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return xx.yT(bM,"Loading HLS playlist at "+t+"."),c.prev=1,c.next=4,Dr.awrap(this.F4.J4([t]));case 4:if(s=c.sent,nu(e),void 0===s){c.next=8;break}return c.abrupt("return",YL(s.responseURL,{},s.data));case 8:c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),iu(c.t0);case 14:return u={hd:t,td:Af.$n,Rd:jw.GET,fs:Qw.ld,Ws:e,Dd:r},c.next=17,Dr.awrap(mM(function(){return a.t6(u)},e,i));case 17:return o=c.sent,c.abrupt("return",YL(o.od,n,o.Hi));case 19:case"end":return c.stop()}},null,this,[[1,10]],We)},e.t6=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.pE.ud(t));case 2:return n=e.sent,e.next=5,Dr.awrap(n.Ll());case 5:return i=e.sent,e.abrupt("return",{Hi:i,od:n.od});case 7:case"end":return e.stop()}},null,this,null,We)},e.W4=function(t){var n,i,e,r,s,u,o,a;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:nu(t),n=[],i=0,e=this.x4.Y$;case 3:if(!(i<e.length)){c.next=26;break}r=e[i],s=0,u=r.J$;case 6:if(!(s<u.length)){c.next=23;break}return o=u[s],c.prev=8,c.next=11,Dr.awrap(this.F4.J4([o.KJ.r$]));case 11:a=c.sent,nu(t),void 0===a||o.KJ.W3||n.push(this.j4(o,t)),c.next=20;break;case 16:c.prev=16,c.t0=c.catch(8),iu(c.t0);case 20:s++,c.next=6;break;case 23:i++,c.next=3;break;case 26:return c.next=28,Dr.awrap(We.all(n));case 28:case"end":return c.stop()}},null,this,[[8,16]],We)},e.Z4=function(){for(var t=0,n=this.x4.Y$;t<n.length;t++)for(var i=0,e=n[t].J$;i<e.length;i++){var r=e[i];r!==this.M4&&(void 0!==r.KJ.C2&&(r.KJ.W3?this.K4(r):r.KJ.L3()))}},e.K4=function(t){if(0!==t.KJ.aJ.length){if(!this.M4)return this.M4=t,void this.M4.KJ.F3(0,void 0);if(this.n6(this.M4),!this.n6(t)&&void 0===t.KJ.C2){var n=this.i6(t,this.M4);xx.F$(bM,"Assuming global timeline offset of "+n+"s for rendition "+t.KJ.r$+"."),t.KJ.F3(n,void 0)}}},e.i6=function(t,n){var i;if(AM(t)){var e=t.KJ.aJ[0],r=n.KJ.aJ[0];return xx.F$(bM,"Synchronizing by start of VOD: "+r.Jy+" vs "+e.Jy),r.Jy-e.W2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[i];if(r.Z1>s.Z1)i--;else if(r.Z1<s.Z1)e--;else if(r.q1){if(s.q1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.KJ.aJ,n.KJ.aJ);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return xx.F$(bM,"Synchronizing by start of discontinuity #"+o.Z1+": "+o.Jy+" vs "+u.Jy),o.Jy-u.W2}var a=SM(t.KJ.aJ);if(void 0!==a){var c=SM(n.KJ.aJ);if(void 0!==c)return xx.F$(bM,"Synchronizing by PDT:",c.j1.toISOString()+" vs "+a.j1.getTime()),c.Jy-a.W2-(c.j1.getTime()-a.j1.getTime())/1e3}var h=TM(n),f=TM(t),v=null!=(i=t.KJ.C2)?i:0;return xx.F$(bM,"Synchronizing by last segment:",h+" vs "+f),h-f+v},e.n6=function(t){var n=this.x4.I4(t);if(!n)return!1;if(AM(n))return!1;var i,e,r=(i=n.KJ.aJ,e=this.x4.$S,Ls(i,function(t){return void 0!==t.N2&&e.Z3(t.Z1)}));if(void 0===r)return!1;if(n.KJ.Y3===r.Z1)return!0;var s=this.x4.$S.e4(r.N2,r).xk()-r.W2;return xx.F$(bM,"Synchronize by media timestamp: "+s+"s for rendition "+t.KJ.r$+"."),n.KJ.F3(s,r.Z1),(void 0===this.M4||void 0===this.M4.KJ.Y3||this.M4.KJ.Y3<r.Z1)&&(this.M4=n),!0},e.V4=function(t,n){var i;(this.x4.P2(t,n),rx(t)&&n)&&(this.U4=n,this.Qs(new gM(n)),null==(i=this.X4.get(n.z_))||i.Wu(),this.X4.delete(n.z_))},e.e6=function(t,n){var i=this.x4.R4(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.x4.Y$;e<r.length;e++){var s=r[e];s.ZH||(n.jH||s.m2($O.Ed),n.QH||s.m2($O.Sd))}i.ZH=n},e.xs=function(){this.$s(),this.x4.xs(),this.X4.forEach(function(t){return t.Hs()}),this.X4.clear()},A(n,[{key:"r6",get:function(){return this.L4}},{key:"q$",get:function(){return this.x4}},{key:"s6",get:function(){return this.U4}}]),n}(wu);function AM(t){return t.KJ.J1||t.KJ.i2===ox.ZJ}function TM(t){var n,i=t.KJ.aJ[t.KJ.aJ.length-1];return i.Jy+(null!=(n=i.Qg)?n:i.T2)}function SM(t){return Ls(t,function(t){return void 0!==t.j1})}function EM(t){if(void 0!==t.KJ.A1&&!t.KJ.J1&&!(void 0===t.KJ.A2||i.ir()/1e3-t.KJ.A2>=t.KJ.A1/2))return t.KJ.T1?$L.q2:$L.G2}var IM=function(){function t(t,n,i){var e=this;this.u6=void 0,this.o6=void 0,this.uD=void 0,this.a6=void 0,this.c6=void 0,this.h6=function(t){e.o6.hlsDateRange&&e.P3(t.b$)},this.o6=t,this.u6=n,this.uD=i,this.a6=new Ap,this.u6.Zs(yM.C4,this.h6)}return t.prototype.P3=function(t){if(0!==t.KJ.K1.length){this.c6||(this.c6=this.uD.SE(pp.uA,void 0,void 0,void 0,void 0,fk.DATE_RANGE),this.a6.E_(this.c6));sM(this.c6,t.KJ.K1,function(n){var i;return null!=(i=t.KJ.g2(n))?i:NaN})}},A(t,[{key:"Um",get:function(){return this.a6}}]),t}(),RM=function(t){function n(){return t.call(this,JO.EJ)||this}return S(n,t),n}(gu);var DM,NM=function(){function t(t){this.d3=[],this.jz=void 0,this.f6=void 0,this.v6=t}var n=t.prototype;return n.l6=function(t){var n;return null==(n=this.d6(t))?void 0:n.b$},n.w6=function(t){this.jz=t,this._6()},n.g6=function(t,n,i,e,r,s){this.d3.push({C1:n,b$:t,m6:new nE([r,s]),y6:new nE([i,e])}),this._6()},n.d6=function(t){for(var n=0,i=this.d3;n<i.length;n++){var e=i[n];if(e.y6.tN(t))return e}},n.k6=function(t){for(var n=0,i=this.d3;n<i.length;n++){var e=i[n];if(e.C1===t)return e}},n.bV=function(){var t=this.wy;t.C_>0&&(this.f6=t.XN(t.C_-1))},n._6=function(){var t=this.v6.wy;this.d3=this.d3.filter(function(n){return 0!==t.ZN(n.y6).C_})},A(t,[{key:"b6",get:function(){return this.jz}},{key:"wy",get:function(){return t=this.v6.wy,n=this.v6.OV,i=n.fC(function(n,i){return t.aC(n,i,!1,!1)}),t.iC(i);var t,n,i}},{key:"aJ",get:function(){return this.d3}},{key:"p6",get:function(){return this.f6}}]),t}(),CM=function(){function t(t,n,i,e,r){var s=this;this.v6=void 0,this.A6=void 0,this.T6=void 0,this.Vi=void 0,this.S6=void 0,this.E6=void 0,this.$v=new Js,this.I6=nE.kC(),this.R6=function(t){s.E6&&(t?ZR(t)&&s.D6?s.S6.EL(s.v6.wy._C)?s.E6.Wu():s.E6.Gu(t):tu(t)?s.E6.Wu():s.E6.Gu(t):s.E6.Wu(),s.E6=void 0)},this.Vi=t,this.T6=i,this.v6=n,this.A6=e,this.S6=r}var n=t.prototype;return n.N6=function(){if(this.C6)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.P6=function(t){this.v6!==t&&(this.N6(),this.v6=t,this.A6=new NM(t))},n.B6=function(){return this.E6?this.E6.Fu:We.resolve()},n.O6=function(t){var n,i,e=this.A6.p6,r=this.A6.wy;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.GN().rC(this.x6).wC(s))?void 0:i.tN(e))&&n},n.L6=function(t){return this.A6.l6(t)},n.Hs=function(){this.$v.Hs(),this.$v=new Js},n.nV=function(t){var n=this;this.N6(),this.E6=new Go;var i=function(i){n.T6.M6(t),n.R6(i)};this.iV(t,this.$v.Ws).then(i,i)},n.iV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return xx.F$("Buffering","Appending initializer",cx(t.U6.r$)),i.next=3,Dr.awrap(this.v6.nV(t,n));case 3:xx.F$("Buffering","Appended initializer",cx(t.U6.r$)),this.A6.w6(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.X6=function(t){var n=this;this.N6(),this.E6=new Go;var i=function(i){n.T6.M6(t),n.R6(i)};this.F6(t,this.$v.Ws).then(i,i)},n.F6=function(t,n){var i,e,r,s,u,o,a,c,h,f,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.b$,r=t.C1,void 0!==e.KJ.H0){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.A6.wy.HN,u=this.v6.wy,xx.F$("Buffering","Appending",cx(t.U6.r$)),g.next=9,Dr.awrap(this.v6.Jz(t,n));case 9:xx.F$("Buffering","Appended",cx(t.U6.r$),s,this.A6.wy.HN),o=t.Jy,a=o+t.Qg,c=t.U6,h=c.Jy,f=c.Jy+(null!=(i=c.Qg)?i:0),this.A6.g6(e,r,o,a,h,f),l=this.v6.wy.rC(u),(d=this.A6.k6(r-1))?this.H6(d)?0===l.C_?Boolean(this.z6.k6(r))||(w=this.v6.OV.ZN(new nE([o,a])),this.I6=this.I6.iC(w)):(this.I6=this.I6.rC(new nE([l.MN(0),a])),l.MN(0)>o&&(this.I6=this.I6.iC(new nE([o,l.MN(0)])))):this.I6=this.I6.rC(new nE([o,a])):0===l.C_?(_=this.v6.OV.ZN(new nE([o,a])),this.I6=this.I6.iC(_)):l.MN(0)>o&&(this.I6=this.I6.iC(new nE([o,l.MN(0)]))),t.U6.B2&&this.A6.bV();case 20:case"end":return g.stop()}},null,this,null,We)},n.H6=function(t){var n=t.y6,i=n.MN(0),e=n.XN(n.C_-1),r=n.UN(0),s=n.FN(n.C_-1);return this.I6.uC(i,e,r,s)},A(t,[{key:"fs",get:function(){return this.Vi}},{key:"D6",get:function(){return this.Vi===Qy.Sd||this.Vi===Qy.Ed}},{key:"z6",get:function(){return this.A6}},{key:"x6",get:function(){return this.I6}},{key:"C6",get:function(){return void 0!==this.E6}}]),t}(),PM=function(){function t(t,n){this.V6=void 0,this.W6=t,this.pE=n}var n=t.prototype;return n.G6=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.q6(n,e));case 2:return r=s.sent,s.next=5,Dr.awrap(this.W6.G6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.q6=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.V6)?void 0:i.hd)===t){u.next=10;break}return xx.F$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Dr.awrap(this.pE.ud({hd:t,td:Af.Gf,Rd:jw.GET,Ws:n,fs:Qw.wd,Nd:Zw.Td}));case 4:return e=u.sent,u.next=7,Dr.awrap(e.Ul());case 7:r=u.sent,s=new y(r),this.V6={hd:t,Hi:s};case 10:return u.abrupt("return",this.V6.Hi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),BM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.pE=t,this.F4=n,this.Y6=i,this.j6=e,this.Q6=r}var n=t.prototype;return n.ud=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Z6(t,n,Af.Gf,i));case 2:return e=r.sent,r.t0=y,r.next=6,Dr.awrap(e.Ul(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,We)},n.K6=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Z6(t,n,Af.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Xl(i));case 4:case"end":return r.stop()}},null,this,null,We)},n.Z6=function(t,n,i,e){var r,s,u,o,a=this;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t.OJ&&0===(r=ix(t.OJ.MN,t.OJ.C_))[0]&&r[1]===xt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new $w({hd:t.Ai,td:i,$l:s,Pd:this.j6,Rd:jw.GET,fs:Qw.dd,Nd:n,Cd:this.Y6,Ws:e}),c.prev=3,c.next=6,Dr.awrap(this.F4.J6(t.Ai,r));case 6:if(o=c.sent,nu(e),void 0===o){c.next=10;break}return c.abrupt("return",new Jw({ud:u,Hi:o.buffer}));case 10:c.next=16;break;case 12:c.prev=12,c.t0=c.catch(3),iu(c.t0);case 16:return c.next=18,Dr.awrap(mM(function(){return ru(a.pE.ud(u),u.Ws)},e,this.Q6));case 18:return c.abrupt("return",c.sent);case 19:case"end":return c.stop()}},null,this,[[3,12]],We)},t}(),OM=function(){function t(t,n){this.u6=void 0,this.t5=void 0,this.n5=void 0,this.i5=new Js,this.UG=-1/0,this.e5=!1,this.u6=t,this.t5=n,this.r5()}var n=t.prototype;return n.s5=function(){return this.t5.KJ.b1},n.u5=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.s5()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Dr.awrap(this.o5());case 5:return nu(e),r.next=8,Dr.awrap(this.u6.G4(this.t5,t,n,e));case 8:this.UG=i.ir(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),tu(r.t0)&&this.r5(),r.t0;case 15:this.r5();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.a5=function(t){return this.u6.Q4(this.t5,t)},n.r5=function(){var t=this;if(!this.n5&&!this.e5){var n=function(){t.n5=void 0};this.n5=this.c5(this.i5.Ws).then(n,n)}},n.o5=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.n5){t.next=6;break}return this.i5.Hs(),this.i5=new Js,t.next=5,Dr.awrap(this.n5.catch(K));case 5:this.n5=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n.c5=function(t){var n,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.t5.KJ.J1||!this.t5.KJ.W3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.ir()-this.UG,e=1e3*this.t5.KJ.G3,!(n<e)){r.next=8;break}return r.next=8,Dr.awrap(fu(e-n,t));case 8:return r.prev=8,r.next=11,Dr.awrap(this.u6.j4(this.t5,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),iu(r.t0),this.u6.Y4(this.t5),r.t0;case 18:this.UG=i.ir(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.xs=function(){this.e5=!0,cu(this.o5())},t}();!function(t){t[t.GJ=0]="GJ",t[t.qJ=1]="qJ",t[t.dd=2]="dd",t[t.h5=3]="h5"}(DM||(DM={}));var xM="AssetExtractor",LM=function(){function t(){this.f5=[]}var n=t.prototype;return n.v5=function(t,n,i){for(var e=n,r=0,s=this.f5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.MN)return!1;if(e<u.XN){if(i<=u.XN)return!0;e=u.XN}}return e>=t},n.l5=function(t,n){for(var i=[],e=0;e<this.f5.length;e+=1){var r=this.f5[e],s=t-r.MN,u=r.Hi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),c=Fo(r.Hi,o,a);c.length&&(e=this.d5(e,r,t,o,a),i.push(c))}return i},n.w5=function(t,n){this.f5.push({MN:t,XN:t+n.length,Hi:n})},n.d5=function(t,n,i,e,r){var s=t;this.f5.splice(s,1),s-=1,n.MN<i&&(s+=1,this.f5.splice(s,0,{MN:n.MN,XN:i,Hi:Fo(n.Hi,0,e)}));var u=i+r-e;return u<n.XN&&(s+=1,this.f5.splice(s,0,{MN:u,XN:n.XN,Hi:Fo(n.Hi,r)})),s},t}(),MM=function(){function t(t,n){this.uv=void 0,this._5=n,this.uv=t.getReader()}var n=t.prototype;return n.g5=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.uv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this._5=1/0,new v("No more data can be read from the given stream.");case 6:return this._5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n.m5=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.uv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"y5",get:function(){return this._5}}]),t}(),UM=function(){function t(t,n,i,e){this.k5=void 0,this.uv=void 0,this.b5=void 0,this.p5=void 0,this.A5=void 0,this.T5=void 0,this.S5=new Go,this.k5=t,this.uv=n,this.b5=i,this.p5=e,this.A5=new Go,this.T5=new Go}var n=t.prototype;return n.E5=function(){this.T5.Wu(),this.T5=new Go},n.I5=function(t){var n=FM(this.k5.OJ),i=n.R5,e=n.D5,r=this.b5.l5(i,e-i);xx.F$(xM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,c,h,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Dr.awrap(this.A5.Fu);case 2:n=FM(this.k5.OJ),i=n.R5,e=n.D5,d.prev=3;case 4:return r=this.uv.y5,d.next=8,Dr.awrap(this.uv.g5());case 8:if(s=d.sent,u=s.length,xx.F$(xM,"Read "+u+" at "+r+" for extraction of "+cx(this.k5)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(c=Fo(s,0,a),h=Fo(s,a),xx.F$(xM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+cx(this.k5)),this.b5.w5(r,c),!(h.length>0)){d.next=23;break}return xx.F$(xM,"Extracting "+h.length+" bytes for extraction of "+cx(this.k5)),t.enqueue(h),this.E5(),d.abrupt("return",cu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return xx.F$(xM,"Extracting the read data range for extraction of "+cx(this.k5)),t.enqueue(s),this.E5(),d.abrupt("return",cu(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Fo(s,0,f=e-r),l=Fo(s,f),v.length>0&&(xx.F$(xM,"Extracting "+v.length+" bytes for extraction of "+cx(this.k5)),t.enqueue(v)),xx.F$(xM,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+cx(this.k5)),this.b5.w5(r+f,l),xx.F$(xM,"Extraction of "+cx(this.k5)+" completed as the entire request has been fulfilled."),this.N5(t),!this.p5){d.next=45;break}return xx.F$(xM,"Aborting stream upstream as no more bytes are needed from "+cx(this.k5)+"."),d.next=45,Dr.awrap(this.uv.m5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),xx.F$(xM,"Extraction of "+cx(this.k5)+" completed as the entire source stream has been read."),this.N5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],We)},n.N5=function(t){t.close(),this.E5(),this.S5.Wu()},n.start=function(t){xx.F$(xM,"Preparing to push all collected data to controller for extraction of "+cx(this.k5)),this.I5(t),xx.F$(xM,"Collected data pushed to controller for extraction of "+cx(this.k5));var n=FM(this.k5.OJ).D5;this.uv.y5>=n?(xx.F$(xM,"Extraction of "+cx(this.k5)+" completed as the entire request has been fulfilled."),this.N5(t)):(xx.F$(xM,"Continuing read from original stream for extraction of "+cx(this.k5)),cu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.A5.Wu(),this.A5=new Go,this.T5.Fu},A(t,[{key:"C5",get:function(){return this.S5.Fu}}]),t}(),XM=function(){function t(t,n){this.b5=void 0,this.P5=void 0,this.B5=void 0,this.k5=n;var i=FM(this.k5.OJ).R5;this.P5=new MM(t,i),this.b5=new LM}var n=t.prototype;return n.xy=function(t){if(!hx(this.k5,t))return!1;var n=FM(t.OJ),i=n.R5,e=n.D5;return this.b5.v5(this.P5.y5,i,e)},n.O5=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.P5,e=this.b5,xx.yT(xM,"Extracting data from "+cx(t)+" out of "+cx(this.k5)),!this.B5){s.next=8;break}return xx.F$(xM,"Awaiting previous extraction before extracting "+cx(t)+" out of "+cx(this.k5)),s.next=8,Dr.awrap(this.B5);case 8:if(this.xy(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new UM(t,i,e,n),this.B5=r.C5,s.abrupt("return",new Gd(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function FM(t){if(t){var n=t.MN;return{R5:n,D5:void 0!==t.C_?n+t.C_:xt}}return{R5:0,D5:xt}}var HM,zM=function(){function t(t,n){this.$v=new Js,this.x5=void 0,this.k5=t,this.L5=n,this.x5=this.Wc()}var n=t.prototype;return n.Wc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.L5.K6(this.k5,Zw.vd,this.$v.Ws));case 2:return t=n.sent,n.abrupt("return",new XM(t,this.k5));case 4:case"end":return n.stop()}},null,this,null,We)},n.xy=function(t){return hx(this.k5,t)},n.O5=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Dr.awrap(this.x5);case 3:return i=e.sent,e.next=6,Dr.awrap(ru(i.O5(t,n),this.$v.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Hs=function(){this.x5.catch(K),this.$v.Hs()},t}(),VM=function(t){function n(){return t.call(this,HM.M5)||this}return S(n,t),n}(gu),WM="HlsPlaylistDownloader";!function(t){t.M5="videosegmentdownloaded"}(HM||(HM={}));var GM=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Vi=void 0,a.u6=void 0,a.T6=void 0,a.L5=void 0,a.U5=void 0,a.t5=void 0,a.X5=void 0,a.F5=void 0,a.H5=void 0,a.z5=new Js,a.V5=void 0,a.W5=void 0,a.G5=void 0,a.q5=void 0,a.Y5=function(t){a.F5&&(a.t5=a.F5,a.F5=void 0,a.V5=void 0,a.W5=void 0),a.H5&&(t&&!tu(t)?a.H5.Gu(t):a.H5.Wu(),a.H5=void 0)},a.Vi=n,a.u6=e,a.T6=r,a.t5=i,a.X5=new OM(e,i),a.U5=new PM(o,s),a.L5=new BM(s,u,function(t){switch(t){case $O.Ed:return Kw.Ed;case $O.Sd:return Kw.Sd;case $O.rA:case $O.BJ:return Kw.$n;default:return Kw.vd}}(i.fs),!1),a}S(n,t);var e=n.prototype;return e.j5=function(t){this.X5.xs(),this.X5=new OM(this.u6,t),this.C6?this.F5=t:(this.t5=t,this.V5=void 0,this.W5=void 0)},e.B6=function(){return this.H5?this.H5.Fu:We.resolve()},e.Q5=function(){return this.T6.Q5()},e.Z5=function(t){this.T6.Z5(t)},e.Hs=function(){var t,n;this.z5.Hs(),this.z5=new Js,null==(t=this.q5)||t.Hs(),null==(n=this.G5)||n.Hs(),this.q5=void 0,this.G5=void 0,this.V5=void 0,this.W5=void 0},e.xs=function(){this.X5.xs()},e.K5=function(t){var n=this.t5.KJ.I3(t);if(!n)return!1;if(void 0!==this.V5){var i=n.C1===this.V5;return void 0!==this.W5?n.F2(t)===n.X2(this.W5)&&i:i}return!1},e.J5=function(t){var n;if(void 0===this.V5)n=this.t8(t);else if(n=this.n8(this.V5,this.W5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Jy,u=3*this.b$.KJ.H0;w.abs(s-t)>=u&&(n=this.t8(t))}if(n){var o=n,a=o[0],c=o[1];return 0===(null==c?void 0:c.R2)&&void 0!==a.Qg?[a,void 0]:[a,c]}},e.t8=function(t){var n,i,e,r=this.t5.KJ.aJ;if(0!==r.length){var s=r[r.length-1];if(s.Jy+(null!=(n=s.Qg)?n:s.T2)<=t)i=s,e=s.z2(t);else if(r[0].Jy>t)e=(i=r[0]).X2(0);else{var u;e=null==(u=i=this.t5.KJ.I3(t))?void 0:u.z2(t)}return i?[i,e]:void 0}},e.n8=function(t,n){var i,e,r;if((i=this.t5.KJ.E3(t))&&void 0!==n){if(0===i.G1.length)return[i,void 0];e=i.X2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.t5.KJ.E3(t+1))?void 0:r.X2(0));return i?[i,e]:void 0},e.N6=function(){if(this.C6)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.i8=function(t){this.N6(),this.H5=new Go,this.e8(t,this.z5.Ws).then(this.Y5,this.Y5)},e.r8=function(){this.X5.r5()},e.e8=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.J5(t))||!this.X5.s5()||void 0===this.V5){e.next=5;break}return e.next=4,Dr.awrap(this.X5.u5(void 0===this.W5?this.V5+1:this.V5,void 0!==this.W5?this.W5+1:void 0,n));case 4:i=this.J5(t);case 5:if(i||!this.X5.s5()||void 0===this.V5){e.next=9;break}return e.next=8,Dr.awrap(this.X5.u5(this.V5+1,0,n));case 8:i=this.J5(t);case 9:if(i){e.next=16;break}return xx.yT(WM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Dr.awrap(this.X5.a5(n));case 13:i=this.J5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.s8=function(){return this.T6.u8()},e.o8=function(){this.N6();try{var t=this.t5.KJ.D3(sx.GJ);t&&this.a8(t);var n=this.t5.KJ.D3(sx.qJ);n&&this.c8(n)}catch(t){throw iu(t),this.b$.KJ.q3=i.ir(),this.u6.Y4(this.b$),t}},e.a8=function(t){this.G5&&!this.G5.xy(t.r$)&&(this.G5.Hs(),this.G5=void 0),this.G5||(this.G5=new zM(t.r$,this.L5))},e.c8=function(t){this.q5&&!this.q5.xy(t.r$)&&(this.q5.Hs(),this.q5=void 0),this.q5||(this.q5=new zM(t.r$,this.L5))},e.h8=function(t,n,e){var r=this;this.N6(),xx.yT(WM,"Starting download of segment "+cx(t.r$)+" and part "+(null==n?void 0:n.R2)),this.H5=new Go,this.f8(t,n,e,this.z5.Ws).catch(function(t){throw iu(t),r.b$.KJ.q3=i.ir(),r.u6.Y4(r.b$),t}).then(this.Y5,this.Y5)},e.f8=function(t,n,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.Y1){u.next=5;break}if(i&&fx(i.U6.r$,t.Y1.r$)&&t.Z1===i.Z1){u.next=5;break}return u.next=4,Dr.awrap(this.v8(t.Y1,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,Dr.awrap(this.l8(t,n,e));case 8:s=u.sent;case 9:this.T6.d8(s),"w8"===s.fs&&this.Vi===Qy.Ed&&this.Qs(new VM),xx.F$("Buffering","Download complete",cx(null!=(r=null==n?void 0:n.r$)?r:t.r$));case 12:case"end":return u.stop()}},null,this,null,We)},e.l8=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.q5){o.next=19;break}if(!this.q5.xy(n.r$)){o.next=17;break}return o.next=5,Dr.awrap(this.q5.O5(n.r$));case 5:return r=o.sent,o.t0=y,o.next=9,Dr.awrap(Dw(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Dr.awrap(this.G6(s,n.z1,i));case 13:u=o.sent,e=jM(n,u),o.next=19;break;case 17:this.q5.Hs(),this.q5=void 0;case 19:if(e){o.next=24;break}return xx.F$("Buffering","Start download",cx(n.r$)),o.next=23,Dr.awrap(this._8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return xx.F$("Buffering","Start download",cx(t.r$)),o.next=29,Dr.awrap(this.g8(t,i));case 29:e=o.sent;case 30:return this.V5=t.C1,this.W5=null==n?void 0:n.R2,o.abrupt("return",{fs:"w8",C1:t.C1,w8:e,b$:this.t5,Z1:t.Z1});case 33:case"end":return o.stop()}},null,this,null,We)},e.v8=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.G5){a.next=17;break}if(!this.G5.xy(t.r$)){a.next=14;break}return a.next=4,Dr.awrap(ru(this.G5.O5(t.r$),i));case 4:return s=a.sent,a.t0=y,a.next=8,Dr.awrap(Dw(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Dr.awrap(this.G6(u,t.W1?[t.W1]:[],i));case 12:o=a.sent,e=qM(t,n,o);case 14:xx.yT(WM,"MAP is required for segment, downloading MAP data."),null==(r=this.G5)||r.Hs(),this.G5=void 0;case 17:if(e){a.next=22;break}return xx.F$("Buffering","Start download",cx(t.r$)),a.next=21,Dr.awrap(this.m8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{fs:"Y1",Y1:e,Jy:n.Jy,Z1:n.Z1,z1:n.z1});case 23:case"end":return a.stop()}},null,this,null,We)},e.m8=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.L5.ud(t.r$,Zw._d,i));case 2:return e=u.sent,r=t.W1?[t.W1]:[],u.next=6,Dr.awrap(this.G6(e,r,i));case 6:return s=u.sent,u.abrupt("return",qM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e.g8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.r$){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Dr.awrap(this.L5.ud(t.r$,Zw.vd,n));case 4:return i=r.sent,r.next=7,Dr.awrap(this.G6(i,t.z1,n));case 7:return e=r.sent,r.abrupt("return",YM(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e._8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.L5.ud(t.r$,Zw.vd,n));case 2:return i=r.sent,r.next=5,Dr.awrap(this.G6(i,t.z1,n));case 5:return e=r.sent,r.abrupt("return",jM(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.G6=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=xs(n,function(t){return t.Rd===ux.YJ})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.r$&&e.w1){r.next=6;break}return xx.mu(WM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Dr.awrap(this.U5.G6(t,e.r$,e.w1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},A(n,[{key:"C6",get:function(){return void 0!==this.H5}},{key:"b$",get:function(){var t;return null!=(t=this.F5)?t:this.t5}},{key:"y8",get:function(){if(!this.t5.KJ.J1)return!1;if(void 0===this.V5)return!1;var t=this.t5.KJ.aJ[this.t5.KJ.aJ.length-1];return t.C1===this.V5&&!(this.W5&&this.W5!==t.G1.length-1)}}]),n}(wu);function qM(t,n,i){return{Hi:{Hi:i,fs:mN.tF},fs:DM.GJ,U6:t,Z1:n.Z1}}function YM(t,n){return{Hi:{Hi:n,fs:mN.tF},fs:DM.dd,U6:t,Z1:t.Z1}}function jM(t,n){return{Hi:{Hi:n,fs:mN.tF},fs:DM.qJ,U6:t,Z1:t.I2.Z1}}var QM,ZM=function(){function t(){this.k8=[],this.b8=Pr(),this.p8=void 0,this.A8=void 0}var n=t.prototype;return n.d8=function(t){"Y1"===t.fs&&(this.A8=t.Y1),this.k8.push(t),this.p8&&(this.p8.Wu(),this.p8=void 0)},n.Q5=function(){return this.k8[0]},n.Z5=function(t){Us(this.k8,t)},n.u8=function(){return null!=this.p8||(this.p8=new Go),this.p8.Fu},n.T8=function(t){this.S8(t.a4).T8(t)},n.E8=function(t){return this.S8(t).E8()},n.M6=function(t){this.S8(t.a4).M6(t)},n.I8=function(t){var n;null==(n=this.b8.get(t))||n.xs()},n.R8=function(t){return this.S8(t).R8()},n.S8=function(t){if(this.b8.has(t))return this.b8.get(t);var n=new KM;return this.b8.set(t,n),n},n.Nu=function(){this.D8(),this.N8()},n.D8=function(){this.A8=void 0,zs(this.k8)},n.N8=function(){this.b8.forEach(function(t){return t.Nu()})},n.xs=function(){this.b8.forEach(function(t){return t.xs()}),this.b8.clear(),this.Nu(),this.p8&&(this.p8.Gu(new $s),this.p8=void 0)},A(t,[{key:"b6",get:function(){return this.A8}},{key:"C8",get:function(){for(var t=nE.kC(),n=0,i=this.k8;n<i.length;n++){var e=i[n];if("w8"===e.fs){var r,s=e.w8.U6;t=t.iC(new nE([s.Jy,s.Jy+(null!=(r=s.Qg)?r:0)]))}}return t}},{key:"P8",get:function(){var t=nE.kC();return this.b8.forEach(function(n){t=t.iC(n.P8)}),t}}]),t}(),KM=function(){function t(){this.B8=[],this.O8=void 0}var n=t.prototype;return n.T8=function(t){this.B8.push(t),this.O8&&(this.O8.Wu(),this.O8=void 0)},n.E8=function(){return this.B8[0]},n.M6=function(t){Us(this.B8,t)},n.R8=function(){return null!=this.O8||(this.O8=new Go),this.O8.Fu},n.Nu=function(){zs(this.B8)},n.xs=function(){this.Nu(),this.O8&&(this.O8.Gu(new $s),this.O8=void 0)},A(t,[{key:"P8",get:function(){for(var t=nE.kC(),n=0,i=this.B8;n<i.length;n++){var e=i[n];"w8"===e.fs&&(t=t.iC(new nE([e.Jy,e.Jy+e.Qg])))}return t}}]),t}(),JM=function(){function t(t,n){this.x8=void 0,this.g4=void 0,this.L8=nE.kC(),this.x8=t,this.g4=n}var n=t.prototype;return n.nV=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Hi.Hi,this.M8(i),this.x8.fs!==fk.TTML){u.next=8;break}if(this.g4.Z3(t.Z1)){u.next=6;break}return u.next=6,Dr.awrap(ru(this.g4.K3(t.Z1),n));case 6:for(e=this.U8(i,t.Z1),r=0;r<e.length;r++)s=e[r],this.x8.IE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.Jz=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Hi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Jy,e=i+t.Qg,this.L8=this.L8.iC(new nE([i,e])),this.g4.Z3(t.Z1)){r.next=8;break}return r.next=8,Dr.awrap(ru(this.g4.K3(t.Z1),n));case 8:this.tV(t.Hi.Hi,t.Z1,t.U6);case 9:case"end":return r.stop()}},null,this,null,We)},n.tV=function(t,n,i){this.M8(t);for(var e=0,r=this.x8.fs===fk.WEBVTT?this.X8(t,i):this.U8(t,n);e<r.length;e++){var s=r[e];this.x8.IE(s)}},n.X8=function(t,n){for(var i,e,r=(void 0===e&&(e=sb),db(Bo(Lo(t),new Vo),e)),s=r.cg,u=null!=(i=r.dp)?i:{wp:Qk.eb,_p:Qk.eb},o=0;o<s.length;o++){var a=s[o],c=Qk.Wb(a.Jy).qk(u._p).Oy(u.wp),h=this.g4.e4(c,n).xk(),f=h+(a.$y-a.Jy);a.Jy=h,a.$y=f}return s},n.U8=function(t,n){var i=this.g4.i4(n).xk();return cp(t,this.x8,{cp:0,hp:1/0,fp:i},Nh.APPLICATION_MP4)},n.M8=function(t){this.x8.fs===fk.DEFAULT&&(this.x8.fs=this.F8(t)?fk.WEBVTT:fk.TTML)},n.F8=function(t){return Sb(Bo(xo(Lo(t),0,w.min(t.byteLength,7)),new Vo))},n.RV=function(t,n){},n.DV=function(t,n){},A(t,[{key:"wy",get:function(){return this.L8}},{key:"OV",get:function(){return nE.kC()}}]),t}(),$M=function(t){function n(n,i){var e;return(e=t.call(this,QM.H8)||this).b$=n,e.ZH=i,e}return S(n,t),n}(gu),tU=function(t){function n(n){var i;return(i=t.call(this,QM.z8)||this).b$=n,i}return S(n,t),n}(gu);!function(t){t.H8="V8",t.z8="W8"}(QM||(QM={}));var nU=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).t5=void 0,s.T6=void 0,s.g4=void 0,s.G8=void 0,s.q8=void 0,s.$v=new Js,s.Y8=function(t){s.q8&&(t&&!tu(t)?s.q8.Gu(t):(s.q8.Wu(),s.q8=void 0))},s.t5=n,s.T6=i,s.g4=e,s.G8=r,s}S(n,t);var i=n.prototype;return i.j5=function(t){this.t5!==t&&(this.Hs(),this.t5=t)},i.j8=function(t){for(var n=0,i=this.G8;n<i.length;n++){var e=i[n];Fs(t,e)||this.T6.I8(e)}this.G8=t},i.B6=function(){var t,n;return null!=(t=null==(n=this.q8)?void 0:n.Fu)?t:We.resolve()},i.N6=function(){if(this.C6)throw new v("Cannot perform new operation while transmuxer is still busy")},i.Q8=function(t){var n=this;this.N6(),this.q8=new Go;var i=function(i){n.T6.Z5(t),n.Y8(i)};this.Z8(t,this.$v.Ws).then(i,i)},i.K8=function(t){var n=this;this.N6(),this.q8=new Go;var i=function(i){n.T6.Z5(t),n.Y8(i)};this.J8(t,this.$v.Ws).then(i,i)},i.t9=function(t){this.Qs(new $M(this.t5,t))},i.n9=function(){this.Qs(new tU(this.t5))},i.T8=function(t){Fs(this.G8,t.a4)&&this.T6.T8(t)},i.i9=function(t){return this.T6.E8(t)},i.M6=function(t){this.T6.M6(t)},i.e9=function(t){return this.T6.R8(t)},i.Hs=function(){this.$v.Hs(),this.$v=new Js},A(n,[{key:"b$",get:function(){return this.t5}},{key:"r9",get:function(){return this.G8}},{key:"C6",get:function(){return void 0!==this.q8}}]),n}(wu),iU=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.Z8=function(t,n){nu(n);var i={fs:"s9",Hi:t.Y1.Hi,a4:this.r9[0],Z1:t.Z1,u9:{ZH:"",z1:t.z1},Jy:t.Jy,b$:this.b$,U6:t.Y1.U6};return this.T8(i),We.resolve()},i.J8=function(t,n){var i;nu(n);var e=t.w8.U6,r={fs:"w8",Hi:t.w8.Hi,a4:this.r9[0],C1:t.C1,Jy:e.Jy,Qg:null!=(i=e.Qg)?i:0,fp:0,Z1:t.Z1,b$:t.b$,U6:t.w8.U6};return this.T8(r),We.resolve()},n}(nU),eU=function(){function t(t,n,i,e){this.o9=[],this.a9=t,this.T6=n,this.c9=i,this.xC=e}var n=t.prototype;return n.j5=function(t){this.a9.j5(t)},n.h9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.o9[t];if(!e.D6)throw new v("Invalid state");var r=Ms(i,function(t){return t.fs===e.fs});r>=0?(e.P6(i[r]),Xs(i,r)):Xs(n.o9,t)},r=this.o9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new NM(u);this.o9.push(new CM(u.fs,u,this.T6,o,this))}i.length>0&&this.T6.Nu();var a=t.map(function(t){return t.fs});this.c9.j8(a)},n.EL=function(t){var n,i=(null==(n=this.xC)?void 0:n.EL(t))||!1;return i&&(this.Hs(),this.f9.Nu()),i},n.v9=function(t){for(var n=0,i=this.o9;n<i.length;n++){var e=i[n];if(e.fs!==Qy.$n||e.C6)throw new v("Invalid state")}var r=new NM(t),s=new CM(Qy.$n,t,this.T6,r,this);this.o9=[s]},n.l9=function(){for(var t=0,n=this.o9;t<n.length;t++){n[t].z6._6()}},n.d9=function(t){var n=this.w9.wC(t,.001);return n?n.XN(n.C_-1):t},n.K5=function(t){return!!this.w9.wC(t,.001)||this.a9.K5(t)},n._9=function(t){return this.g9.tN(t,.001)},n.m9=function(t,n,i){for(var e=0,r=this.o9;e<r.length;e++){var s=r[e].z6,u=s.p6;if(void 0!==u&&n>=u)return!s.wy.GN().tN(u)}return n-t<i},n.Hs=function(){this.y9(),this.k9()},n.y9=function(){this.b9.Hs()},n.k9=function(){this.p9.Hs(),this.A9.forEach(function(t){return t.Hs()})},n.xs=function(){this.Hs(),this.b9.xs()},A(t,[{key:"A9",get:function(){return this.o9}},{key:"b9",get:function(){return this.a9}},{key:"p9",get:function(){return this.c9}},{key:"f9",get:function(){return this.T6}},{key:"b$",get:function(){return this.a9.b$}},{key:"b6",get:function(){var t=this.T6.b6;if(t)return t;if(this.o9.length>0){var n=this.o9[0].z6.b6;if(n&&this.o9.every(function(t){return t.z6.b6===n}))return n}}},{key:"w9",get:function(){if(0===this.o9.length)return nE.kC();for(var t=this.T6.C8.iC(this.T6.P8).GN(),n=new nE([0,1/0]),i=0,e=this.o9;i<e.length;i++){for(var r=e[i],s=r.z6.wy,u=r.z6.aJ,o=r.x6,a=0;a<u.length;a++)for(var c=u[a],h=c.m6.rC(c.y6),f=0;f<h.C_;f++)t.aC(h.MN(f),h.XN(f),!0,!0)&&(s=s.iC(h.dC(f)));n=n.ZN(s).rC(o)}return n=n.iC(t)}},{key:"g9",get:function(){if(0===this.o9.length)return nE.kC();for(var t=this.T6.P8.GN(),n=new nE([0,1/0]),i=0,e=this.o9;i<e.length;i++){for(var r=e[i],s=r.z6.wy,u=r.z6.aJ,o=0;o<u.length;o++)for(var a=u[o],c=a.m6.rC(a.y6),h=0;h<c.C_;h++)t.aC(c.MN(h),c.XN(h),!0,!0)&&(s=s.iC(c.dC(h)));n=n.ZN(s)}return n=n.iC(t)}}]),t}();var rU=function(t){function n(){return t.call(this,JO.DJ)||this}return S(n,t),n}(gu),sU=function(t){function n(){return t.call(this,JO.IJ)||this}return S(n,t),n}(gu),uU=function(t){function i(n,i){var e;return(e=t.call(this)||this).Ih=void 0,e.v6=void 0,e.T9=new Go,e.kL=JR,e.S9=!1,e.bL=qR,e.TV=new pN,e.Vi=n,e.E9=i,e}S(i,t);var e=i.prototype;return e.QX=function(){return this.v6?this.v6.QX():this.S9},e.RV=function(t,n){xx.F$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.TV.uF(t,n),this.v6&&this.v6.RV(t,n)},e.DV=function(t,n){xx.F$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.TV.oF(t,n),this.v6&&this.v6.DV(t,n)},e.I9=function(t){this.v6=t,this.v6._L=this.bL,this.v6.vL=this.kL;for(var n,i=this.TV.aF,e=0;e<i.C_;e++)this.v6.RV(i.MN(e),i.XN(e));this.S9&&(xx.F$("LazyMediaBuffer","End of stream"),null==(n=this.v6)||n.bV());this.v6.Zs(lN.JX,this.js),this.T9.Wu(t)},e.R9=function(t){return ru(this.T9.Fu,t)},e.Jz=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Jz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.NV=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.R9());case 2:return t=n.sent,n.next=5,Dr.awrap(t.NV());case 5:case"end":return n.stop()}},null,this,null,We)},e.nV=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.nV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Gc=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Gc(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.cV=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.R9());case 2:return i=e.sent,e.next=5,Dr.awrap(i.cV(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.bV=function(){this.S9=!0,this.v6&&this.v6.bV()},e.FX=function(t){return!!this.v6&&this.v6.FX(t)},e.HX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.R9());case 2:return n=i.sent,i.next=5,Dr.awrap(n.HX(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.xd=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s(),null==(t=this.v6)||t.tu(lN.JX,this.js);case 2:case"end":return n.stop()}},null,this,null,We)},A(i,[{key:"Fl",get:function(){return this.Ih}},{key:"BV",get:function(){return this.Vi}},{key:"nh",get:function(){if(!this.v6)throw new nf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.v6.nh}},{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t,this.v6&&(this.v6.vL=t)}},{key:"wy",get:function(){return this.v6?this.v6.wy:nE.kC()}},{key:"OV",get:function(){return this.v6?this.v6.OV:this.TV.aF}},{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t,this.v6&&(this.v6._L=t)}}]),i}(wu),oU="LazyMediaSource",aU=function(){function t(t,n,i){this.D9=void 0,this.N9=void 0,this.C9=new Go,this.oD=void 0,this.P9=!1,this.ua=NaN,this.pK=!1,this.B9=0,this.O9=1/0,this.x9=!1,this.L9=!1,this.uD=t,n&&(xx.F$(oU,"Created lazy media buffer for audio."),this.D9=new uU(Qy.Sd,this)),i&&(xx.F$(oU,"Created lazy media buffer for video."),this.N9=new uU(Qy.Ed,this))}var n=t.prototype;return n.yW=function(t){this.ua=t,this.oD&&this.oD.yW(t)},n.bV=function(){this.pK=!0,this.oD&&this.oD.bV()},n.gV=function(){this.pK=!1,this.oD&&this.oD.gV()},n.pW=function(t,n,i,e){this.B9=t,this.O9=n,this.x9=Boolean(i),this.L9=Boolean(e),this.oD&&this.oD.pW(t,n,i,e)},n.FX=function(t){return!this.oD||this.oD.FX(t)},n.HX=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.FX(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.oD){r.next=19;break}return this.uD.Rj(),r.next=6,Dr.awrap(this.uD.Wc(t));case 6:e=r.sent,m(this.ua)||e.yW(this.ua),this.pK&&e.bV(),e.pW(this.B9,this.O9,this.x9,this.L9),xx.F$(oU,"The MediaSource has been loaded."),this.P9=!0,this.oD=e,null==(n=this.D9)||n.I9(this.oD.uW),null==(i=this.N9)||i.I9(this.oD.oW),this.C9.Wu(e),this.uD.Dj(),r.next=21;break;case 19:return r.next=21,Dr.awrap(this.oD.HX(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.oD){t.next=3;break}return t.next=3,Dr.awrap(this.oD.xs());case 3:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"nh",get:function(){return{fs:Zp.CE,AW:[],XD:[]}}},{key:"Mm",get:function(){throw new v("Not implemented")}},{key:"uW",get:function(){return this.D9}},{key:"oW",get:function(){return this.N9}},{key:"wy",get:function(){return this.oD?this.oD.wy:nE.kC()}},{key:"Qg",get:function(){return this.oD?this.oD.Qg:this.ua}},{key:"QX",get:function(){return!!this.oD&&this.oD.QX}},{key:"Ny",get:function(){return this.oD?this.oD.Ny:new nE([0,1/0])}}]),t}();function cU(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=fU(i,"tag"),a=fU(null==e?"*":e,"range"),c=[],h=-1;for(;++h<a.length;)if(r=a[h].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];c.push(o[s])}else u.push(o[s]);o=u}return n?c:void 0}}cU(function(t,n){return"*"===n||t===n||vs(t,n+"-")},!0),cU(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var hU=cU(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function fU(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var vU,lU=function(t){function n(){return t.call(this,pf.Sf)||this}return S(n,t),n}(gu),dU=function(t){function n(){return t.call(this,pf.Tf)||this}return S(n,t),n}(gu),wU=16384,_U=71,gU=188;function mU(t){return null!==UP(Lo(t),new Vo)?vU.M9:function(t){return function(t){if(t.length<2*gU)return-1;for(var n=w.min(1e3,t.length-2*gU),i=0;i<=n;i++)if(t[i]===_U&&t[i+gU]===_U)return i;return-1}(t)>=0}(t)?vU.U9:yU(t)?vU.Rg:vU.vd}function yU(t){var n=Oo(t,0,w.min(t.length,wU));return Kb.XA(Lo(n))}!function(t){t[t.vd=0]="vd",t[t.Rg=1]="Rg",t[t.U9=2]="U9",t[t.M9=3]="M9"}(vU||(vU={}));var kU=function(){function t(t,n,i,e){this.Vi=void 0,this.v6=void 0,this.X9=void 0,this.F9=void 0,this.H9=void 0,this.Vi=t,this.v6=n,this.F9=i,this.H9=e}var n=t.prototype;return n.z9=function(t){return this.v6===t},n.nV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Dr.awrap(this.v6.nV(t.Hi,{V9:t.b$.z_},n));case 3:this.Vi===Qy.Ed&&yU(t.Hi.Hi)&&this.H9.W9(t.Hi.Hi);case 4:case"end":return i.stop()}},null,this,null,We)},n.Jz=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(nu(n),xx.yT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+cx(t.U6.r$)),i=t.Jy,e=t.Jy+t.Qg,r={N2:t.Jy,Qg:t.Qg,fp:t.fp,V9:t.b$.z_},void 0===t.Hi){s.next=10;break}return s.next=9,Dr.awrap(this.v6.Jz(t.Hi,r,n));case 9:this.G9(t.Hi,t);case 10:this.q9(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.G9=function(t,n){if(yU(t.Hi)){var i=n.Jy,e=i+n.Qg,r=n.fp;this.F9.g6(t.Hi,i,r),this.Vi===Qy.Ed&&this.H9.g6(t.Hi,i,e,r)}},n.q9=function(t,n){for(var i=this.v6.wy,e=new nE([t,n]).rC(i),r=0;r<e.C_;r++)this.v6.RV(e.MN(r),e.XN(r));for(var s=0;s<i.C_;s++)this.v6.DV(i.MN(s),i.XN(s))},n.RV=function(t,n){this.v6.RV(t,n)},n.DV=function(t,n){this.v6.DV(t,n)},A(t,[{key:"fs",get:function(){return this.Vi}},{key:"wy",get:function(){return this.v6.wy}},{key:"OV",get:function(){return this.v6.OV}}]),t}(),bU=2500;var pU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).Y9=void 0,o.ke=void 0,o.j9=void 0,o.Y9=e,o.ke=r,o.j9=s,o}return S(n,t),n.prototype.Tk=function(n){return this===n||om(this,n)&&t.prototype.Tk.call(this,n)&&um(this.nk,n.nk)},A(n,[{key:"OS",get:function(){return this.Y9}},{key:"Ai",get:function(){return this.ke}},{key:"Q9",get:function(){return this.j9}},{key:"t_",get:function(){var t;return this.$w||(this.$w=rm(pk(t=this),{get schemeIDURI(){return t.OS},get value(){return t.Ai},get emsgID(){return t.Q9}})),this.$w}}]),n}(Dk);function AU(t,n){return t+" "+n}var TU,SU,EU=function(t){function n(n){var i;return(i=t.call(this)||this).bE=void 0,i.bE=n,i}S(n,t);var i=n.prototype;return i.g6=function(t,i,e){var r=Kb.MA(Lo(t));if(r){var s=Wb(r,nb.Jp);if(s.length){var u=n.Z9(r,i,e);this.K9(s,u,e)}}},i.K9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.xA?r.xS.toNumber()/r.Bb+i:n+r.US/r.Bb)+r.LS/r.Bb;"https://aomedia.org/emsg/ID3"===r.OS?this.J9(r,s):this.t7(r,s,u)}},i.t7=function(t,n,i){var e=AU(t.OS,t.Ai),r=this.n7(e);r||(r=this.i7(e),this.e7(r)),r.IE(new pU(n,i,t.OS,t.Ai,t.H_,t.MS))},i.J9=function(t,n){var i=HP(Lo(t.MS));if(i){var e=AU(t.OS,t.Ai),r=this.n7(e);r||(r=this.r7(e),this.e7(r));for(var s=0,u=i.mG;s<u.length;s++){var o=u[s],a=new JP(n,o);vP(a,r.cg.N_),r.IE(a)}}},n.Z9=function(t,n,i){var e=Vb(t,nb.$p);return e?jt(e.ZS,e.Bb)+i:n},i.i7=function(t){var n=this.bE.SE(pp.uA,"","","",void 0,fk.EMSG);return n.J_=t,n.eg=bm.Q_,n},i.r7=function(t){var n=this.bE.SE(pp.uA,"","","",void 0,fk.ID3);return n.J_=t,n.eg=bm.Q_,n},i.D_=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.JA.N_;n<i.length;n++)e=i[n],this.bE.RE(e);return r.next=3,Dr.awrap(t.prototype.D_.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.e7=function(t){return t.ag=hk.LOADED,this.E_(t),t},i.n7=function(t){for(var n=0,i=this.JA.N_;n<i.length;n++){var e=i[n];if(e.J_===t)return e}},n}(zp));function IU(t){return"function"==typeof t.Iu}function RU(t,n,i){if(!(i&&n.byte>=i)){var e=IU(t)?t.Iu(n.byte):t[n.byte];return n.byte+=1,e}}function DU(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+RU(t,n);return e}(t,n,2)}!function(t){t[t.s7=0]="s7",t[t.u7=1]="u7",t[t.o7=2]="o7",t[t.a7=3]="a7",t[t.c7=4]="c7",t[t.h7=5]="h7"}(TU||(TU={})),function(t){t[t.f7=0]="f7",t[t.v7=1]="v7",t[t.l7=2]="l7",t[t.d7=3]="d7"}(SU||(SU={}));var NU,CU=function(){function t(){this.w7=0,this._7=[],this.rE={}}var n=t.prototype;return n.g7=function(t){this._7=this._7.concat(t._7),this.w7+=t.C_},n.m7=function(t,n,i){var e=this.w7,r=i-n;r>0&&(this._7.push({y7:n,k7:i,b7:r,p7:e,A7:t}),this.w7+=r)},n.Iu=function(t){for(var n=0,i=this._7;n<i.length;n++){var e=i[n];if(e.p7<=t&&t<e.p7+e.b7)return e.A7[t+e.y7-e.p7]}},n.T7=function(t,n){for(var i=n,e=0,r=this._7;e<r.length;e++)for(var s=r[e],u=s.k7,o=s.y7;o<u;o+=1,i+=1)t[i]=s.A7[o];return i},n.S7=function(){for(var t=new y(this.w7),n=0,i=0,e=this._7;i<e.length;i++)for(var r=e[i],s=r.k7,u=r.y7;u<s;u+=1,n+=1)t[n]=r.A7[u];return t},n.Lu=function(n){for(var i=new t,e=0,r=this._7;e<r.length;e++){var s=r[e];i.m7(s.A7,s.y7,s.k7)}return i.rE=n||Nr({},this.rE),i},A(t,[{key:"C_",get:function(){return this.w7},set:function(t){var n=this._7,i=this.w7-t;if(!(t>=this.w7))if(this.w7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.b7)return r.k7-=i,r.b7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.b7}else n.length=0}},{key:"Hi",get:function(){for(var t=new Array(this.w7),n=0,i=0,e=this._7;i<e.length;i++)for(var r=e[i],s=r.k7,u=r.y7;u<s;u+=1,n+=1)t[n]=r.A7[u];return t}}]),t}();function PU(t,n,i){return i===TU.s7?i:n!==SU.f7&&n!==SU.v7||i!==TU.u7&&i!==TU.o7?t?n===SU.l7?TU.c7:n===SU.d7?TU.a7:TU.s7:TU.h7:TU.o7}function BU(t,n,i,e){var r={byte:i},s=TU.u7,u=[],o=31&RU(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var c=RU(n,r,e),h=4&c,f=3&c;s=PU(Boolean(h),f,s);var v=RU(n,r,e),l=RU(n,r,e);u.push({oZ:t,kS:-1,E7:!a,I7:Boolean(h),fs:f,wQ:s,R7:v,D7:l})}return u}function OU(t,n,i){var e=RU(t,n,i);if(!m(e))return String.fromCharCode(e)}function xU(t){var n=t.N7,i={byte:t.C7},e=t.P7,r=RU(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=DU(n,i);if(s===NU.B7||s===NU.O7){if(s===NU.O7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=OU(t,n);return e}(n,i,4))return;if(3===RU(n,i,e)){s===NU.B7&&(i.byte+=1);var u=t;return u.x7=i.byte,u}}}}function LU(t){return 4===t.L7}function MU(t){for(var n=t.filter(LU).map(xU).filter(F),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,BU(r.M7,r.N7,r.x7,r.P7))}return i}!function(t){t[t.B7=47]="B7",t[t.O7=49]="O7"}(NU||(NU={}));var UU="und";var XU,FU=[{wi:"Abkhaz",_p:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",_p:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",_p:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",_p:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",_p:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",_p:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",_p:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",_p:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",_p:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",_p:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",_p:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",_p:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",_p:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",_p:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",_p:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",_p:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",_p:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",_p:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",_p:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",_p:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",_p:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",_p:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",_p:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",_p:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",_p:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",_p:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",_p:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",_p:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",_p:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",_p:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",_p:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",_p:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",_p:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",_p:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",_p:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",_p:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",_p:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",_p:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",_p:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",_p:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",_p:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",_p:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",_p:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",_p:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",_p:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",_p:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",_p:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",_p:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",_p:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",_p:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",_p:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",_p:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",_p:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",_p:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",_p:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",_p:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",_p:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",_p:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",_p:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",_p:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",_p:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",_p:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",_p:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",_p:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",_p:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",_p:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",_p:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",_p:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",_p:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",_p:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",_p:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",_p:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",_p:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",_p:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",_p:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",_p:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",_p:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",_p:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",_p:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",_p:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",_p:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",_p:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",_p:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",_p:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",_p:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",_p:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",_p:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",_p:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",_p:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",_p:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",_p:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",_p:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",_p:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",_p:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",_p:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",_p:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",_p:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",_p:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",_p:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",_p:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",_p:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",_p:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",_p:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",_p:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",_p:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",_p:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",_p:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",_p:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",_p:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",_p:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",_p:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",_p:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",_p:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",_p:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",_p:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",_p:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",_p:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",_p:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",_p:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",_p:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",_p:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",_p:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",_p:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",_p:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",_p:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",_p:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",_p:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",_p:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",_p:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",_p:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",_p:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",_p:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",_p:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",_p:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",_p:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",_p:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",_p:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",_p:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",_p:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",_p:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",_p:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",_p:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",_p:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",_p:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",_p:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",_p:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",_p:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",_p:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",_p:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",_p:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",_p:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",_p:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",_p:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",_p:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",_p:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",_p:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",_p:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",_p:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",_p:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",_p:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",_p:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",_p:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",_p:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",_p:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",_p:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",_p:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",_p:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",_p:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",_p:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",_p:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",_p:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",_p:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",_p:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",_p:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",_p:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",_p:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",_p:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",_p:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",_p:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",_p:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",_p:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",_p:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",_p:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",_p:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],HU=[128,64,32,16,8,4,2,1];function zU(t,n){var i=w.floor(n.bit/8),e=0==((IU(t)?t.Iu(i):t[i])&HU[n.bit%8])?0:1;return n.bit+=1,e}function VU(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+zU(t,n);return e}function WU(t,n){for(var i=0;0===zU(t,n)&&i<32;)i+=1;return VU(t,n,i)+w.pow(2,i)-1}function GU(t,n){var i=WU(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function qU(t,n){var i,e=[],r={byte:1};do{e.push(jU(t,n,r)),i=n.Iu(r.byte)}while(void 0!==i&&128!==i);return e}function YU(t,n){var i,e=0;do{e+=i=RU(t,n)}while(255===i);return e}function jU(t,n,i){var e=YU(n,i),r=YU(n,i),s=i.byte,u=s+r;return i.byte=u,{M7:t,L7:e,U7:r,C7:s,P7:u,N7:n}}!function(t){t[t.X7=1]="X7",t[t.F7=2]="F7",t[t.H7=3]="H7",t[t.z7=4]="z7",t[t.V7=5]="V7",t[t.W7=6]="W7",t[t.G7=7]="G7",t[t.q7=8]="q7",t[t.Y7=9]="Y7"}(XU||(XU={}));var QU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function ZU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+GU(t,n)+256)%256;e=0===r?e:r}}var KU=function(){function t(t){this.j7=void 0,this.Q7=[],this.Z7=0,this.j7=t}var n=t.prototype;return n.K7=function(){for(var t=this.Q7,n=w.max(0,this.Z7+t.length-2),i=this.j7,e=i.C_,r=0;n<e;n+=1){var s=i.Iu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.Z7=n-t.length},n.J7=function(t){for(var n=this.Q7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Iu=function(t){if(!(t>this.j7.C_))return t>this.Z7&&this.K7(),this.j7.Iu(this.J7(t))},t}();var JU=24;function $U(t){var n=t.qH,i=new CU;return i.m7(Mo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new KU(t),a=0,c=0,h=0,f=0,v=o.Iu(1),l={bit:32};if(WU(o,l),100===v||110===v||122===v||144===v){var d=WU(o,l);if(3===d&&(n=zU(o,l)),WU(o,l),WU(o,l),zU(o,l),1===zU(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===zU(o,l)&&ZU(o,l,_<6?16:64)}var g=WU(o,l),m=WU(o,l);if(0===m)WU(o,l);else if(1===m){zU(o,l),GU(o,l),GU(o,l);for(var y=WU(o,l),k=0;k<y;k+=1)GU(o,l)}WU(o,l),zU(o,l);var b=WU(o,l),p=WU(o,l),A=zU(o,l);if(0===A&&zU(o,l),zU(o,l),1===zU(o,l)&&(a=WU(o,l),c=WU(o,l),h=WU(o,l),f=WU(o,l)),1===zU(o,l)){if(1===zU(o,l)){var T=VU(o,l,8);if(255===T)i=VU(o,l,16),e=VU(o,l,16);else{var S=QU[T];S&&(i=S[0],e=S[1])}}1===zU(o,l)&&zU(o,l),1===zU(o,l)&&(VU(o,l,3),zU(o,l),1===zU(o,l)&&(VU(o,l,8),VU(o,l,8),VU(o,l,8))),1===zU(o,l)&&(WU(o,l),WU(o,l)),1===(r=zU(o,l))&&(s=VU(o,l,32),u=VU(o,l,32),zU(o,l))}return{width:w.floor(16*(b+1)-2*a-2*c),height:w.floor((2-A)*(p+1)*16-2*h-2*f),hS:i,fS:e,ttt:!!r&&u/(2*s),ntt:n,itt:g}}(i).ttt}function tX(t){var n=$U(t)||JU;return t.ett/n}function nX(t){return t.fs===nb.Vp}var iX,eX=65536;function rX(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.ett,s=ft.fromNumber(t.PS||0),u=e.Oy(Qk.Jk(s,r));return{rtt:e.xk(),stt:e,utt:u,ott:e}}(t,0,i,e),o=Qk.$k(t.Qg||0,i.ett),a=t.LA||0,c=!(a&eX)&&(a>>24&3)!==iX.SAMPLE_DEPENDS_ON_OTHERS,h=Lo(r),f=new Vo;f.Pu<h.byteLength;){var v=fo(h,f);if((31&ao(h,f,1))===XU.W7){var l,d=new CU;d.m7(r,f.Pu-1,f.Pu+v-1);var w=qU(u.utt,d);(l=s=s||[]).push.apply(l,MU(w))}f.Bu(v-1)}return Nr({},u,{Qg:o.xk(),att:o,ctt:u.utt.xk(),htt:u.rtt,ftt:c,ltt:s,dtt:!1,wtt:!1})}function sX(t){return t.fs===nb.gp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(iX||(iX={}));var uX=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Dk),oX=function(){function t(t,n){this.yZ=t,this.uZ=n}return t.prototype.Tk=function(t){return this.yZ===t.yZ&&this.uZ===t.uZ},t}(),aX=function(){function t(t,n){this._tt="",this.dU=t,this.gtt=n}var n=t.prototype;return n.mtt=function(t){this._tt+=t},n.ytt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mtt(i)}},A(t,[{key:"RZ",get:function(){return this._tt}},{key:"AZ",get:function(){return[this]}},{key:"EZ",get:function(){return this.dU}},{key:"NZ",get:function(){return this.gtt}},{key:"DZ",get:function(){return new oX(this.NZ.yZ,this.NZ.uZ+this.RZ.length-1)}}]),t}(),cX=function(){function t(){}var n=t.prototype;return n.ktt=function(t){return t.ip(this)},n.btt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.ip(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.ptt=function(t,n){return new hX(t,n).Att()},t}(),hX=function(){function t(t,n){this.Ttt=[],this.Stt=null,this.yZ=t,this.Ett=n}var n=t.prototype;return n.Att=function(){if(this.Itt)return[];for(var t=0;t<this.yZ.length;t++)this.Rtt(t);return this.Dtt(),this.Ttt},n.Ntt=function(t){this.Stt=new aX(TO,new oX(this.Ett,t))},n.Dtt=function(){this.Stt&&(this.Ttt.push(this.Stt),this.Stt=null)},n.Rtt=function(t){var n=this.yZ[t];fX(n)?this.Stt&&this.Dtt():(this.Stt||this.Ntt(t),this.Stt.mtt(n))},A(t,[{key:"Itt",get:function(){return this.yZ.every(fX)}}]),t}();function fX(t){return null==t}var vX=function(){function t(){}return t.Ctt=function(t,n,i){if(!(n>=i)){var e=Ws(t,function(t,n){return new hX(t.map(function(t){return t?t.Ptt():null}),n).Att()});if(0!==e.length)return new uX(n,i,e)}},t}(),lX="black",dX="white",wX=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),_X=function(){function t(){this.Btt=[],this.Ott=0,this.xtt=void 0;for(var t=0;t<RO;t++)this.Btt.push(null);this.xtt=!1}var n=t.prototype;return n.Ltt=function(t){for(var n=0;n<RO;n++)t&&(this.Btt[n]=t.Btt[n])},n.Tk=function(t){for(var n=0;n<RO;n++)if(this.Btt[n]!==t.Btt[n])return!1;return!0},n.Mtt=function(){for(var t=0;t<RO;t++)if(null!==this.Btt[t])return!1;return!0},n.Utt=function(t){this.Ott!==t&&(this.Ott=t),this.Ott<0?this.Ott=0:this.Ott>RO&&(this.Ott=RO-1)},n.Xtt=function(t){var n=this.Ott+t;this.Utt(n)},n.Ftt=function(){this.Xtt(-1),this.Btt[this.Ott]=null},n.mtt=function(t){t>=144&&this.Ftt();var n,i=wX[n=t]?String.fromCharCode(wX[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Ott>=RO||(32===Number(t)?(this.Btt[this.Ott]=this.xtt?"</i>":"<i>",this.xtt=!this.xtt):this.Btt[this.Ott]=t,this.Xtt(1))},n.Htt=function(t){for(var n=t;n<RO;n++)this.Btt[n]=null},n.Nu=function(){this.Htt(0),this.Ott=0},n.ztt=function(){this.Htt(this.Ott)},n.Vtt=function(t,n){for(var i=this.Btt,e=null,r=0;r<RO;r++){var s=i[r];null===s?e=null:(e||(e={Wtt:r,Gtt:t,Bk:0,dT:1,Btt:[[]]},n.push(e)),e.Btt[0].push(s),e.Bk++)}},n.ip=function(t,n){return t.ptt(this.Btt,n)},t}();var gX,mX=function(){function t(t,n){this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.Ktt=void 0,this.Jtt=void 0,this.$tt=void 0,this.tnt=void 0,this.qtt=new Array(yX+1);for(var i=0;i<=yX;i++)this.qtt[i]=new _X;this.Ytt=1,this.jtt=0,this.Qtt=t,this.Ztt=n,this.Ktt=!1,this.Jtt=!1,this.$tt=dX,this.tnt=lX,this.D_()}var n=t.prototype;return n.nnt=function(t,n){var i="CC"+(this.Qtt<<1|this.Ztt+1);if(t>=n)return null;var e=(new cX).btt(this.qtt.slice(1));return 0===e.length?null:{Ky:new uX(t,n,e),Xl:i,int:this.Qtt<<1|this.Ztt+1}},n.D_=function(){this.ent(),this.Ytt=1},n.rnt=function(){return this.Ytt},n.snt=function(t){this.Ytt=t},n.Utt=function(t){this.qtt[this.Ytt].Utt(t)},n.Xtt=function(t){this.qtt[this.Ytt].Xtt(t)},n.unt=function(){return this.jtt},n.ont=function(t){this.jtt=t},n.mtt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case gX.ant:i=void 0!==bX[n]?bX[n]:String.fromCharCode(n);break;case gX.cnt:i=pX[n];break;case gX.hnt:this.fnt(),i=AX[n];break;case gX.vnt:this.fnt(),i=TX[n]}i&&this.qtt[this.Ytt].addParsedChar(i)}},n.fnt=function(){this.qtt[this.Ytt].Ftt()},n.lnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.qtt[t+e]=this.qtt[n+e];else for(var r=0;r<i;r++)this.qtt[t+r]=this.qtt[n+r]},n.dnt=function(t,n){for(var i=0;i<=n;i++)this.qtt[t+i]=new _X},n.ent=function(){this.dnt(0,yX)},n.wnt=function(){this.Ytt=this.jtt>0?this.jtt:0,this.ent()},n._nt=function(t){this.Ktt=t},n.gnt=function(t){this.Jtt=t},n.mnt=function(t){this.$tt=t},n.ynt=function(t){this.tnt=t},t}(),yX=15;!function(t){t[t.ant=0]="ant",t[t.cnt=1]="cnt",t[t.hnt=2]="hnt",t[t.vnt=3]="vnt"}(gX||(gX={}));var kX,bX={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},pX={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},AX={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},TX={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},SX=function(){function t(t,n){this.Vi=void 0,this.knt=void 0,this.bnt=void 0,this.pnt=void 0,this.Ant=void 0,this.Tnt=void 0,this.Snt=void 0,this.Ent=void 0,this.Vi=kX.TN,this.knt=new mX(t,n),this.bnt=new mX(t,n),this.pnt=new mX(t,n),this.Ant=this.bnt,this.Tnt=0,this.Snt=void 0,this.Ent=!1}var n=t.prototype;return n.D_=function(){this.Ent=!0,this.Tnt=0,this.Vi=kX.TN,this.Ant=this.bnt,this.Snt=void 0,this.bnt.D_(),this.pnt.D_(),this.knt.D_()},n.Int=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Rnt=function(t,n){var i=this.Int(t,n),e=(30&n)>>1,r=dX,s=!1;e<7?r=DX[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==kX.$n){var o=this.Ant;if(this.Vi===kX.Dnt&&i!==o.rnt()){var a=1+o.rnt()-o.unt(),c=1+i-o.unt();o.lnt(c,a,o.unt()),o.dnt(0,c-1),o.dnt(i+1,yX-i)}o.snt(i);var h=EO[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{sZ:SO[i].sZ,rZ:SO[i].rZ,uZ:SO[i].uZ,yZ:t}}(h,n);o.Utt(f.uZ),this.Ant._nt(u),this.Ant.gnt(s),this.Ant.mnt(r),this.Ant.ynt(lX)}}},n.Nnt=function(t,n){this.Ant._nt(!1),this.Ant.gnt(!1),this.Ant.mnt(dX);var i=this.Cnt(t,gX.ant," ".charCodeAt(0)),e=dX,r=!1,s=1==(1&n);return"white_italics"===(e=DX[(14&n)>>1])&&(e="white",r=!0),this.Ant._nt(s),this.Ant.gnt(r),this.Ant.mnt(e),i},n.Cnt=function(t,n,i){if(this.Ant.mtt(n,i),this.Vi===kX.Pnt||this.Vi===kX.Dnt){var e=this.Bnt(this.Ant,this.Tnt,t);return this.Tnt=t,e}return null},n.Bnt=function(t,n,i){return this.Ent?null:t.nnt(n,i)},n.Ont=function(t,n){var i=lX;0==(7&t)&&(i=RX[(14&n)>>1]),this.Ant.ynt(i)},n.xnt=function(t){var n=EX,i=t.Lnt,e=t.Mnt,r=null;switch(i){case n.RCL:this.Unt();break;case n.BS:this.Xnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Fnt(2,e);break;case n.RU3:r=this.Fnt(3,e);break;case n.RU4:r=this.Fnt(4,e);break;case n.FON:r=this.Hnt(e);break;case n.RDC:this.znt(e);break;case n.TR:this.Vnt();break;case n.RTD:this.Wnt();break;case n.EDM:r=this.Gnt(e);break;case n.CR:r=this.qnt(e);break;case n.ENM:this.Ynt();break;case n.EOC:r=this.jnt(e)}return r},n.qnt=function(t){var n=this.Ant;if(this.Vi!==kX.Dnt)return null;var i=this.Bnt(n,this.Tnt,t),e=n.rnt()-n.unt()+1;return n.lnt(e-1,e,n.unt()),n.dnt(0,e-1),n.dnt(n.rnt(),yX-n.rnt()),this.Tnt=t,i},n.Fnt=function(t,n){this.Ant=this.bnt;var i=this.Ant,e=null;return this.Vi!==kX.Dnt&&this.Vi!==kX.$n&&(e=this.Bnt(i,this.Tnt,n),this.bnt.wnt(),this.pnt.wnt(),this.Ent=!1,i.snt(yX)),this.Vi=kX.Dnt,i.ont(t),e},n.Hnt=function(t){return this.Cnt(t,gX.ant," ".charCodeAt(0))},n.Gnt=function(t){var n=this.bnt,i=null;return this.Vi!==kX.$n&&(i=this.Bnt(n,this.Tnt,t)),n.ent(),this.Ent=!1,i},n.znt=function(t){this.Vi=kX.Pnt,this.Ant=this.bnt,this.Ant.ont(0),this.Tnt=t},n.Ynt=function(){this.pnt.ent()},n.jnt=function(t){var n=null;this.Vi!==kX.$n&&(n=this.Bnt(this.bnt,this.Tnt,t));var i=this.pnt;return this.pnt=this.bnt,this.bnt=i,this.Unt(),this.Tnt=t,n},n.Unt=function(){this.Vi=kX.Qnt,this.Ant=this.pnt,this.Ant.ont(0)},n.Xnt=function(){this.Ant.fnt()},n.Vnt=function(){this.knt.D_(),this.Ent=!1,this.Wnt()},n.Wnt=function(){this.Ant=this.knt,this.Vi=kX.$n},n.Znt=function(t,n,i){return this.Ant.mtt(gX.ant,n),this.Cnt(t,gX.ant,i)},n.Knt=function(t,n,i){var e=1&n?gX.vnt:gX.hnt;return this.Cnt(t,e,i)},n.Jnt=function(t){var n=t.$nt,i=t.Lnt,e=t.Mnt;if(this.Snt===(n<<8|i))return this.Snt=void 0,null;if(this.Snt=n<<8|i,this.tit(n,i))this.Rnt(n,i);else{if(this.nit(n,i))return this.Nnt(e,i);if(this.iit(n,i))this.Ont(n,i);else{if(this.eit(n,i))return this.Cnt(e,gX.cnt,i);if(this.rit(n,i))return this.Knt(e,n,i);if(this.sit(n,i))return this.xnt(t);this.isTabOffset(n)&&this.Ant.Xtt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.sit=function(t,n){return 20==(246&t)&&32==(240&n)},n.tit=function(t,n){return 16==(240&t)&&64==(192&n)},n.nit=function(t,n){return 17==(247&t)&&32==(240&n)},n.iit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.eit=function(t,n){return 17==(247&t)&&48==(240&n)},n.rit=function(t,n){return 18==(246&t)&&32==(224&n)},t.uit=function(t){return 16==(112&t)},t}(),EX={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.TN=0]="TN",t[t.Qnt=1]="Qnt",t[t.Pnt=2]="Pnt",t[t.Dnt=3]="Dnt",t[t.$n=4]="$n"}(kX||(kX={}));var IX,RX=["black","green","blue","cyan","red","yellow","magenta","black"],DX=["white","green","blue","cyan","red","yellow","magenta","white_italics"],NX=function(){function t(t,n,i,e,r){this.oit=void 0,this.Ktt=void 0,this.Jtt=void 0,this.tnt=void 0,this.$tt=void 0,this.oit=t,this.Ktt=n,this.Jtt=i,this.tnt=e,this.$tt=r}var n=t.prototype;return n.Ptt=function(){return this.oit},n.ait=function(){return this.Ktt},n.cit=function(){return this.Jtt},n.hit=function(){return this.tnt},n.fit=function(){return this.$tt},t}(),CX=function(){function t(t){this.vit=void 0,this.NN=void 0,this.dit=void 0,this.wit=void 0,this._it=void 0,this.git=void 0,this.mit=void 0,this.yit=void 0,this.kit=void 0,this.pit=void 0,this.wk=void 0,this.Ytt=void 0,this.Ait=void 0,this.Jtt=void 0,this.Ktt=void 0,this.$tt=void 0,this.tnt=void 0,this.vit=t,this.NN=!1,this.dit=!1,this.wit=0,this._it=0,this.git=0,this.mit=0,this.yit=0,this.kit=IX.Tit,this.pit=[],this.wk=0,this.Ytt=0,this.Ait=0,this.Jtt=!1,this.Ktt=!1,this.$tt=dX,this.tnt=lX,this.Sit()}var n=t.prototype;return n.Eit=function(t,n,i,e,r,s,u){this.NN=t,this._it=n,this.wit=i,this.git=e,this.dit=r,this.mit=s,this.yit=u},n.Sit=function(){this.pit=[];for(var t=0;t<BX;t++)this.pit.push(this.Iit())},n.Iit=function(){for(var t=[],n=0;n<PX;n++)t.push(null);return t},n.Rit=function(t){this.Dit()&&(this.pit[this.Ytt][this.Ait]=new NX(t,this.Ktt,this.Jtt,this.tnt,this.$tt),this.Ait++)},n.Nit=function(){this.Dit()&&(this.Ait<=0&&this.Ytt<=0||(this.Ait<=0?(this.Ait=this.yit-1,this.Ytt--):this.Ait--,this.pit[this.Ytt][this.Ait]=null))},n.Dit=function(){var t=this.Ytt<this.mit&&this.Ytt>=0,n=this.Ait<this.yit&&this.Ait>=0;return t&&n},n.Cit=function(){return this.NN},n.Pit=function(t){for(var n=0,i=t;i<BX;i++,n++)this.pit[n]=this.pit[i];for(var e=0;e<t;e++,n++)this.pit[n]=this.Iit()},n.Bit=function(){if(this.Ytt+1>=this.mit)return this.Pit(1),void(this.Ait=0);this.Ytt++,this.Ait=0},n.Oit=function(){this.pit[this.Ytt]=this.Iit(),this.Ait=0},n.nnt=function(t,n){if(this.wk>=t)return null;var i=vX.Ctt(this.pit,this.wk,t);return i?(this.xit(t),{Ky:i,Xl:"svc"+n,int:n}):null},n.Lit=function(t,n){this.Ytt=t,this.Ait=n},n.Mit=function(t){this.tnt=t},n.Uit=function(t){this.$tt=t},n.Xit=function(t){this.Ktt=t},n.Fit=function(t){this.Jtt=t},n.Hit=function(){this.Ytt=0,this.Ait=0,this.Ktt=!1,this.Jtt=!1,this.$tt=dX,this.tnt=lX},n.zit=function(t){this.kit=t},n.Vit=function(){this.NN=!0},n.Jm=function(){this.NN=!1},n.Wit=function(){this.NN=!this.NN},n.xit=function(t){this.wk=t},t}();!function(t){t[t.Git=0]="Git",t[t.qit=1]="qit",t[t.Tit=2]="Tit",t[t.Yit=3]="Yit"}(IX||(IX={}));var PX=42,BX=15,OX=function(){function t(t){this.jit=void 0,this.Qit=void 0,this.Zit=void 0,this.jit=t,this.Qit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Zit=void 0}var n=t.prototype;return n.Kit=function(t){var n=t.Jit(),i=n.Ai,e=n.Mnt;i===XX&&(i=i<<16|t.Jit().Ai);return i>=0&&i<=31?this.$it(i,e):i>=128&&i<=159?this.tet(t,i,e):(i>=4096&&i<=4127?this.net(t,255&i):i>=4224&&i<=4255?this.iet(t,255&i):i>=32&&i<=127?this.eet(i):i>=160&&i<=255?this.ret(i):i>=4128&&i<=4223?this.uet(255&i):i>=4256&&i<=4351&&this.oet(255&i),null)},n.eet=function(t){this.Zit&&(127!==t?this.Zit.Rit(String.fromCharCode(t)):this.Zit.Rit("\u266a"))},n.ret=function(t){this.Zit&&this.Zit.Rit(String.fromCharCode(t))},n.uet=function(t){if(this.Zit)if(void 0!==FX[t]){var n=FX[t];this.Zit.Rit(n)}else this.Zit.Rit("_")},n.oet=function(t){this.Zit&&(160===t?this.Zit.Rit("[CC]"):this.Zit.Rit("_"))},n.$it=function(t,n){if(!this.Zit)return null;var i=this.Zit,e=null;switch(t){case xX:i.Nit();break;case MX:i.Cit()&&(e=i.nnt(n,this.jit)),i.Bit();break;case UX:i.Cit()&&(e=i.nnt(n,this.jit)),i.Oit();break;case LX:i.Cit()&&(e=i.nnt(n,this.jit)),i.Sit(),i.Lit(0,0)}return e},n.tet=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.aet(e)}else{if(136===n){var r=t.Jit().Ai;return this.cet(r,i)}if(137===n){var s=t.Jit().Ai;this.het(s,i)}else{if(138===n){var u=t.Jit().Ai;return this.fet(u,i)}if(139===n){var o=t.Jit().Ai;return this.vet(o,i)}if(140===n){var a=t.Jit().Ai;return this.let(a,i)}if(143===n)return this.D_(i);if(144===n)this.det(t);else if(145===n)this.wet(t);else if(146===n)this.Lit(t);else if(151===n)this._et(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Eit(t,c,i)}}}return null},n.net=function(t,n){n>=8&&n<=15?t.yA(1):n>=16&&n<=23?t.yA(2):n>=24&&n<=31&&t.yA(3)},n.iet=function(t,n){n>=128&&n<=135?t.yA(4):n>=136&&n<=143&&t.yA(5)},n.aet=function(t){this.Qit[t]&&(this.Zit=this.Qit[t])},n.met=Dr.mark(function t(n){var i;return Dr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Qit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.cet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),u.Sit()}return i},n.het=function(t,n){for(var i=0,e=this.met(t);i<e.length;i++){var r=e[i],s=this.Qit[r];s.Cit()||s.xit(n),s.Vit()}},n.fet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),u.Jm()}return i},n.vet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()?i=u.nnt(n,this.jit):u.xit(n),u.Wit()}return i},n.let=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),this.Qit[s]=void 0}return i},n.D_=function(t){var n=this.let(255,t);return this.Nu(),n},n.Nu=function(){this.Zit=void 0,this.Qit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.det=function(t){t.yA(1);var n=t.Jit().Ai;if(this.Zit){var i=(128&n)>0,e=(64&n)>0;this.Zit.Fit(i),this.Zit.Xit(e)}},n.wet=function(t){var n=t.Jit().Ai,i=t.Jit().Ai;if(t.yA(1),this.Zit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.yet(s,r,e),h=this.yet(a,o,u);this.Zit.Uit(c),this.Zit.Mit(h)}},n.Lit=function(t){var n=t.Jit().Ai,i=t.Jit().Ai;if(this.Zit){var e=15&n,r=63&i;this.Zit.Lit(e,r)}},n._et=function(t){t.yA(1),t.yA(1);var n=t.Jit().Ai;if(t.yA(1),this.Zit){var i=3&n;this.Zit.zit(i)}},n.Eit=function(t,n,i){var e=void 0!==this.Qit[n];if(!e){var r=new CX(n);r.xit(i),this.Qit[n]=r}var s=t.Jit().Ai,u=t.Jit().Ai,o=t.Jit().Ai,a=t.Jit().Ai,c=t.Jit().Ai,h=t.Jit().Ai,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&c);e&&0===(7&h)||this.Qit[n].Hit(),this.Qit[n].Eit(f,v,d,_,l,w,g),this.Zit=this.Qit[n]},n.yet=function(t,n,i){var e={0:0,1:0,2:1,3:1};return HX[e[t]<<2|e[n]<<1|e[i]]},t}(),xX=8,LX=12,MX=13,UX=14,XX=16,FX={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},HX=["black","blue","green","cyan","red","magenta","yellow","white"],zX=function(){function t(){this.ket=void 0,this.bet=void 0,this.pet=void 0,this.ket=[],this.bet=null,this.pet=0}var n=t.prototype;return n.Aet=function(t){if(t.fs===SU.d7){var n=63&t.Ai;return this.pet=2*n-1,void(this.bet=[])}if(this.bet&&(this.pet>0&&(this.bet.push(t),this.pet--),0===this.pet)){var i=new VX(this.bet);this.ket.push(i),this.bet=null,this.pet=0}},n.Tet=function(){return this.ket},n.Eet=function(){this.ket=[]},n.Nu=function(){this.ket=[],this.bet=[],this.pet=0},t}(),VX=function(){function t(t){this.Iet=void 0,this.Ret=void 0,this.Iet=0,this.Ret=t}var i=t.prototype;return i.Det=function(){return this.Iet<this.Ret.length},i.Net=function(){return this.Iet},i.Jit=function(){if(!this.Det())throw new nf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Ret[this.Iet++]},i.yA=function(t){if(this.Iet+t>this.Ret.length)throw new nf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Iet+=t},t}(),WX=function(){function t(){this.Cet=void 0,this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.xet=void 0,this.Let=void 0,this.Met=void 0,this.Uet=void 0,this.Xet=!1,this.Cet=[],this.Pet=[],this.Bet=new zX,this.Oet=0,this.xet=Or({CC1:new SX(0,0),CC2:new SX(0,1),CC3:new SX(1,0),CC4:new SX(1,1)}),this.Let=0,this.Met=0,this.Uet=Br(),this.D_()}var i=t.prototype;return i.Nu=function(){this.Oet=0,this.Cet=[],this.Pet=[],this.Bet.Nu(),this.D_(),this.Uet.forEach(function(t){t.Nu()})},i.D_=function(){this.Let=0,this.Met=0,this.xet.forEach(function(t){t.D_()})},i.O5=function(t,n){if(t.I7){var i=t.R7,e=t.D7,r=t.fs;r===SU.f7||r===SU.v7?this.Cet.push({Mnt:n,fs:r,$nt:i,Lnt:e,Fet:this.Cet.length}):this.Xet&&(this.Pet.push({Mnt:n,fs:r,Ai:i,Fet:this.Pet.length}),this.Pet.push({Mnt:n,fs:SU.l7,Ai:e,Fet:this.Pet.length}))}},i.oB=function(){var t=[];Is(this.Cet,function(t,n){return t.Mnt-n.Mnt||t.Fet-n.Fet}),Is(this.Pet,function(t,n){return t.Mnt-n.Mnt||t.Fet-n.Fet});for(var n=0,i=this.Cet;n<i.length;n++){var e=i[n],r=this.Het(e);r&&t.push(r)}for(var s=0,u=this.Pet;s<u.length;s++){var o=u[s];this.Bet.Aet(o)}for(var a=this.Bet.Tet(),c=0;c<a.length;c++){var h=a[c],f=this.zet(h);t.push.apply(t,f)}return this.Bet.Eet(),this.Cet=[],this.Pet=[],t},i.Het=function(t){var n=t.fs;if(SX.uit(t.$nt)){var i=t.$nt>>3&1;0===n?this.Let=i:this.Met=i}var e="CC"+(n<<1|(n?this.Met:this.Let)+1),r=this.xet.get(e);return 255===t.$nt&&255===t.Lnt||!t.$nt&&!t.Lnt||!this.Vet(t.$nt)||!this.Vet(t.Lnt)?(++this.Oet>=45&&this.D_(),null):(this.Oet=0,t.$nt&=127,t.Lnt&=127,t.$nt||t.Lnt?SX.uit(t.$nt)?r.Jnt(t):r.Znt(t.Mnt,t.$nt,t.Lnt):null)},i.zet=function(t){var i=[];try{for(;t.Det();){var e=t.Jit().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Jit().Ai;if(0!==r){if(!this.Uet.has(r)){var u=new OX(r);this.Uet.set(r,u)}for(var o=this.Uet.get(r),a=t.Net();t.Net()-a<s;){var c=o.Kit(t);c&&i.push(c)}}}}catch(t){if(!(t instanceof nf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Vet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),GX=function(t){function n(n,i){var e;return(e=t.call(this,"Wet")||this).int=n,e.Ky=i,e}return S(n,t),n}(gu),qX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Get=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.qet(e,e.oZ.xk()+n)}this.oB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).Yet=void 0,n.Yet=new WX,n}S(n,t);var i=n.prototype;return i.qet=function(t,n){this.Yet.O5(t,n)},i.oB=function(){for(var t=this.Yet.oB(),n=0;n<t.length;n++){var i=t[n];this.Qs(new GX(i.int,i.Ky))}},i.D_=function(){this.Yet.Nu()},i.xd=function(){this.$s(),this.Yet.Nu()},n}(wu)),YX=function(t){function n(n){var i;return(i=t.call(this)||this).jet=void 0,i.Qet=void 0,i.Zet=NaN,i.Ket=NaN,i.Jet=void 0,i.bE=void 0,i.$et=function(t){i.trt({nrt:t.int,irt:""}).IE(t.Ky)},i.bE=n,i.Jet=Br(),i.jet=new qX,i.jet.Zs("Wet",i.$et),i}S(n,t);var i=n.prototype;return i.ert=function(t){return this.Jet.get(t)},i.trt=function(t){var n=this.Jet.get(t.nrt);return n||(n=this.rrt(t),this.Jet.set(t.nrt,n)),n},i.rrt=function(t){var n,i=function(t){if(t!==UU)for(var n=t.toLowerCase(),i=0;i<FU.length;i++){var e=FU[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.irt),e=i?i.wi:"";t.urt&&(e="easy "+e),n=t.W_?"CC "+t.W_:e?"CC "+e:"CC"+t.nrt;var r=this.bE.SE(pp.aE,n,n,e,!1,fk.CEA608);return this.E_(r),r},i.W9=function(t){var n=Kb.MA(Lo(t));this.Qet=function(t){for(var n=0;n<t.JA.length;n++){var i=t.JA[n],e={fT:(c=t.JA[n]).NA.fT,ett:c.oT.NA.Bb},r=i.oT.yT.pT.TT.ET,s=xs(r,function(t){return t.fs===nb.Np});if(!s){var u=xs(r.filter(function(t){return t.fs===nb.zp}),function(t){var n;return(null==(n=t.sS)?void 0:n.fs)===nb.Np});u&&(s=u.sS)}if(s){var o=YN(Lo(s.JT.Hi),new Vo),a=s.tS;return Nr({},e,{fT:i.NA.fT,JT:zo(s.JT.Hi),Bk:s.Bk,dT:s.dT,fS:a&&a.fS,hS:a&&a.hS,ort:o.zH,art:o.VH,V9:o.WH,qH:o.qH[0],YH:o.YH[0]})}}var c}(n.filter(sX)[0])},i.g6=function(t,n,i,e){if(this.Qet&&(m(this.Zet)||!Ut(this.Zet,n,1e-5))){m(this.Ket)||Ut(n,this.Ket,1e-5)||this.jet.D_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.rE.ltt&&n.push.apply(n,e.rE.ltt),delete e.rE.ltt}for(var r=0;r<n.length;r+=1)n[r].kS=r;return n.sort(IO)}(function(t,n,i,e,r){for(var s=[],u=n.filter(nX),o=e(i),a=0;a<u.length;a++){var c,h=u[a],f=xs(h.JA,function(t){return t.NA.fT===i.fT});if(f)for(var v=f.NA.dS||0,l=f.NA.wS||0,d=f.SS?f.SS.SS:ft.ZERO,w=h.yS+(null!=(c=f.NA.ES)?c:ft.ZERO).toNumber(),_=0,g=f.TS;_<g.length;_++)for(var m=g[_],y=w+(m.yS||0),k=0,b=m.CS;k<b.length;k++){var p=b[k],A=p.Cu||l,T=new CU;T.m7(t,y,y+A);var S=Qk.Jk(d,i.ett);T.rE=r(p,h,i,S,Fo(t,y,y+A)),s.push(T),y+=A,d=d.add(p.Qg||v||o)}}return s}(t,Kb.MA(Lo(t)),this.Qet,tX,rX));this.jet.Get(r,e),this.Zet=n,this.Ket=i}},i.D_=function(){var n=this;return this.jet.D_(),this.Jet.forEach(function(t){return n.I_(t)}),this.Jet.clear(),this.Qet=void 0,this.Zet=NaN,this.Ket=NaN,t.prototype.D_.call(this)},i.xd=function(){return this.jet.tu("Wet",this.$et),this.jet.xd(),t.prototype.xd.call(this)},n}(zp);function jX(t){if(t.fs===$O.BJ&&void 0!==t.i$){var n=t.i$.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.i$.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var QX=function(){function t(t){this.F4=void 0,this.crt=!1,this.F4=t}var n=t.prototype;return n.hrt=function(t,n){return this.crt?this.F4.hrt(t,n):We.resolve(!1)},n.J6=function(t,n){return this.crt?this.F4.J6(t,n):We.resolve(void 0)},n.J4=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.F4.J4(t));case 2:return n=i.sent,this.crt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,We)},n.QM=function(t){return this.F4.QM(t)},t}(),ZX="LLHLSPlayer",KX=[ry.zg,ry.Vg,ry.Wg,ry.Gg,ry.w_],JX=[pf.bf,pf.Df,pf.Cf,pf.lf],$X=50,tF=3e4,nF=function(t){function e(e,r,s,u,o,a){var c;return(c=t.call(this)||this).uD=void 0,c.pE=void 0,c.wD=void 0,c.lD=void 0,c.frt=void 0,c.vrt=void 0,c.lrt=void 0,c.drt=void 0,c.F4=void 0,c.Nm=void 0,c.Cm=void 0,c.Pm=void 0,c.wrt=Br(),c._rt=void 0,c.grt=void 0,c.vD=void 0,c.F9=void 0,c.H9=void 0,c.mrt=!1,c.AE=new Js,c.yrt=void 0,c.o6=void 0,c.oD=void 0,c.x5=void 0,c.krt=void 0,c.brt=new Js,c.prt=void 0,c.u6=void 0,c.Art=void 0,c.Trt=void 0,c.Srt=void 0,c.Ert=void 0,c.Irt=void 0,c.Rrt=[],c.hW=void 0,c.fW=void 0,c.Drt=void 0,c.Nrt=void 0,c.Crt=void 0,c.c9=void 0,c.Prt=new Js,c.Brt=void 0,c.oY=new Js,c.uY=void 0,c.Ort=-1,c.xrt=void 0,c.Lrt=void 0,c.Mrt=void 0,c.Urt=void 0,c.Xrt=void 0,c.Frt=void 0,c.Hrt=!0,c.zrt=0,c.Vrt=!1,c.RC=1,c.hD=YS.TN,c.aD=void 0,c.cD=void 0,c.vW=nE.kC(),c.Wrt=[],c.Grt=void 0,c.qrt=!1,c.Yrt=void 0,c.jrt=void 0,c.Qrt=!1,c.Zrt=void 0,c.Krt=void 0,c._D=new US,c.handleContentProtectionErrorEvent=function(t){c.aD=jy(t.errorObject),c.cD=t.errorObject,c.js(t)},c.handleBufferingErrorEvent=function(t){c.mD(new nf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},c.Jrt=function(){c.$rt();var t=c.Qg;t!==c.Yrt&&(c.Yrt=t,c.Qs(new vy(c.Yrt)))},c.tst=function(){c.Zg&&c.Qs(new wy(c.jg))},c.nst=function(){c.Qs(new uy(c.jg))},c.ist=function(){c.Qs(new oy(c.jg))},c.bD=function(){void 0!==c.Krt&&i.jn(c.Krt),c.Qs(new aA(c.jg))},c.rst=function(){c.Qs(new _N(c.jg))},c.LE=function(){c.Qs(new py(c.jg,c.ag))},c.YG=function(){var t=c.E$;Vs(c.Wrt,t)||(c.Qs(new RM),c.Wrt=t),c.Qs(new dy(c.jg,c._y))},c.sst=function(){cu(c.G0())},c._W=function(){c.Qs(new gy(c.jg))},c.kD=function(){c.Qs(new my(c.jg))},c.ust=function(){c.Qs(new yy(c.jg,c.cm))},c.ost=function(){c.uD.nm?c.Qs(new oA(c.jg)):(c.Krt=i.Qn(function(){c.Zrt=void 0,cu(c.ast())},bU),c.Qs(new oA(c.jg)))},c.cst=function(t){tu(t)||Rp(t)||Dp(t)||(c.hst(),cu(c.fst()),c.Qs(new Zx(t)))},c.h6=function(){c.$rt()},c.vst=function(t){cu(c.lst(t.b$))},c.dst=$(function(t){var n=[c.x5,c.Brt,c.uY].filter(F);c.oY=new Js,c.uY=c.wj(n,t,c.oY.Ws).catch(c.cst)},$X),c.wst=function(t){if(!tu(t)){var i=t instanceof nf?t:new nf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);c.mD(i)}},c.onTextTrackChange=function(t){if(c.Art){var n=t.i_,i=xs(c.Art.S2,function(t){return n===c.wrt.get(t.z_)});i&&(n.eg===bm.Q_||n.eg===bm.Z_?(cu(c._st(i)),c.wrt.forEach(function(t){t!==n&&(t.eg=bm.j_)})):c.Ert&&c.Ert===i&&cu(c.gst(c.Trt,c.Srt,void 0)))}},c.retryOfflineRenditionsCallback=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(c.mst===t||c.D$===t||c.C$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Dr.awrap(c.u6.j4(t,n));case 4:t.KJ.q3=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},c.yst=function(){c.kst()},c.bst=function(){c.pst()},c.Ast=function(t){if(t.b$.e$){var n=c.u6.q$.D4(t.b$);if(n&&!n.ZH){c.u6.e6(n,t.ZH),c._rt.Z$();var i=c.Art;if(i){var e=void 0!==c.Trt&&!Fs(i.j$,c.Trt),r=void 0!==c.Srt&&!Fs(i.Q$,c.Srt);(e||r)&&c.gst(e?void 0:c.Trt,r?void 0:c.Srt,c.Ert).catch(K)}}}},c.Tst=function(t){c.u6.n6(t.b$)},c.xC=s,c.W6=u,c.Sst=o,c.F4=new QX(a),c.uD=e,c.pE=new Ux(r,c.xC),c.wD=new Qx(c.xC.oL),c.lrt=new Kx(c.uD),c.drt=new rL(c.xC),c.Nm=new Zy,c.Cm=new Zy,c._rt=new Mx(Kt(c),c.Nm,c.Cm),c.grt=new Ap,c.vD=new Wp(c.uD,c.pE),c.F9=new EU(c.uD),c.H9=new YX(c.uD),c.Pm=new xS([c.grt,c.vD.JA,c.F9.JA,c.H9.JA]),c.lD=new BS(c.pE),c.uD.LD=c.lD,c.frt=new eF(Kt(c),c.uD),c.vrt=new hA(c.frt,!0),c.Est(),c}S(e,t);var r=e.prototype;return r.Ist=function(t){return Gs(t,function(t){return t.HR})},r.ast=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.Rst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Dr.awrap(this.Dst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Ist(t))){e.next=14;break}return e.next=13,Dr.awrap(this.R$(i,!0));case 13:this.wD.X0(i.HR);case 14:case"end":return e.stop()}},null,this,null,We)},r.$rt=function(){var t=function(t){for(var n=new nE([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.KJ.Ny;s.C_>0&&(n=n.ZN(s),i=w.max(i,s.MN(0)))}if(n.C_>0)return n;return nE.yC(i)}([this.Trt,this.Srt].filter(F));0!==t.C_&&(this.oD&&this.oD.QX&&this.Nst&&(t=new nE([t.MN(0),this.oD.Qg])),this.vW=t,this.F9.kE(t.MN(0)),this.H9.kE(t.MN(0)))},r.Gm=function(){return!1},r.iy=function(){return rE},r.Jm=function(){xx.yT(ZX,"Hiding the player."),this.uD.Jm()},r.Hm=function(){xx.yT(ZX,"Pausing the player."),this.uD.Hm()},r.Fm=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.uD.Fm(),this.mrt){n.next=4;break}return n.next=4,Dr.awrap(this.Wc());case 4:return n.next=6,Dr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.Cst=function(){this.aD=void 0,this.cD=void 0},r.mD=function(t){this.aD||(cu(this.D_()),this.aD=jy(t),this.cD=t,this.Qs(new Ay(t)))},r.Km=function(){xx.yT(ZX,"Showing the player."),this.uD.Km()},r.qm=function(){throw new v("Not implemented")},r.Ym=function(){throw new v("Not implemented")},r.ly=function(){},r.Wm=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(xx.yT(ZX,"Setting the player source to "+t.src+"."),this.Cst(),!this.yrt||Jm(this.yrt)){r.next=6;break}return r.next=5,Dr.awrap(this.D_());case 5:nu(e);case 6:if(t.src&&!Jm(t)){r.next=8;break}return r.abrupt("return");case 8:this.lD.GR(t.contentProtection),this.o6=t,this.Zs(JO.CJ,this.handleBufferingErrorEvent),this.u6=new pM(this.pE,this.F4,i.Or(t.src)),this.u6.Zs(yM.C4,this.h6),this.u6.Zs(yM.P4,this.vst),this.prt=new IM(t,this.u6,this.uD),this.Pm.$R(this.prt.Um),this.c9=this.Sst.RK(),n.textTracks&&this.VD(n.textTracks),Qp(this.Pm),this.Pst();case 20:case"end":return r.stop()}},null,this,null,We)},r.Wc=function(){return this.x5?this.x5:(this.x5=this.Pw(this.AE.Ws).catch(this.wst),this.x5)},r.Pw=function(t){var i,e,r,s,u,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(xx.yT(ZX,"Loading the player."),this.u6.r6){h.next=13;break}return h.prev=2,h.next=5,Dr.awrap(this.u6.H4(t));case 5:this.Bst(),h.next=13;break;case 8:throw h.prev=8,h.t0=h.catch(2),iu(h.t0),this.Iy=!1,new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+h.t0.message,h.t0);case 13:if(this.Irt=this.u6.q$.Y$,this.Irt.length){h.next=16;break}throw new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return h.next=18,Dr.awrap(this.Ost(this.Irt));case 18:if(0!==(e=h.sent).length){h.next=21;break}throw new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return h.next=23,Dr.awrap(this.Dst(e));case 23:(r=h.sent).length>0&&(e=r),xx.yT(ZX,"Selecting initial active variant stream."),s=sF(e,null==(i=this.o6)?void 0:i.abr,this.xC),(u=oF(s.j$))&&xx.yT(ZX,"Detected initial audio rendition."),(o=oF(s.Q$))&&xx.yT(ZX,"Detected initial video rendition."),(a=rF(s.S2))&&xx.yT(ZX,"Detected initial subtitle rendition."),a||(c=rF(s.E2))&&xx.yT(ZX,"Detected initial closed caption rendition."),this.xst(s),this._rt.G$(),this.Lst(s,c),this.gst(u,o,a).catch(K),this.mrt=!0;case 39:case"end":return h.stop()}},null,this,[[2,8]],We)},r.Bst=function(){this.Qrt||(this.Qrt=!0,this.frt.Mst())},r.VD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.vD.TE(i)}},r.Lst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=jX(e);void 0!==r&&n.push({nrt:r,irt:e.G_||"",W_:e.wi})}return n}(t.E2),e=0;e<i.length;e++){var r=i[e];this.H9.trt(r)}if(void 0!==n){var s=jX(n);this.H9.ert(s).eg=bm.Z_}},r.Pst=function(){this.brt.Hs(),this.brt=new Js,this.krt=this.Ust(this.krt,this.brt.Ws).catch(this.wst)},r.Ust=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.hD,!t){e.next=5;break}return e.next=4,Dr.awrap(t);case 4:nu(n);case 5:if(i!==YS.TN&&this.u6){e.next=7;break}return e.abrupt("return");case 7:if(nu(n),this.u6.r6){e.next=19;break}return e.prev=9,e.next=12,Dr.awrap(this.u6.H4(n));case 12:this.Bst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),iu(e.t0),e.abrupt("return");case 19:if(i!==YS.uA){e.next=21;break}return e.abrupt("return");case 21:nu(n),this.Wc().catch(this.wst);case 23:case"end":return e.stop()}},null,this,[[9,15]],We)},r.I$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Xst(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Irt=t},r.Xst=function(t){var n=this.q$;return!!n&&Fs(n.Y$,t)},r.Fst=function(t){if(this.Art)return xs(this.Art.J$,function(n){return n===t})},r.xst=function(t){if(xx.yT(ZX,"Setting active variant stream."),this.Art!==t){var n;if((null==(n=this.Art)?void 0:n.v1)!==(null==t?void 0:t.v1)){if(this.Art)for(var i=0,e=this.Art.S2;i<e.length;i++){var r=e[i];this.RE(r)}if(t)for(var s=0,u=t.S2;s<u.length;s++){var o=u[s];this.Hst(o)}}this.Art=t,this.Qs(new rU)}},r.Hst=function(t){var n=this.uD.SE(pp.rA,void 0,t.wi,t.G_,t.JJ);this.grt.E_(n),this.wrt.set(t.z_,n),n.Zs(Gg.l_,this.onTextTrackChange)},r.RE=function(t){var n=this.wrt.get(t.z_);n&&(n.tu(Gg.l_,this.onTextTrackChange),this.grt.I_(n),this.wrt.delete(t.z_),this.uD.RE(n))},r.Rst=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Irt)?t:this.q$.Y$).length||this.Irt){r.next=4;break}return xx.yT(ZX,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Irt){r.next=7;break}return xx.yT(ZX,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Dr.awrap(this.Ost(n));case 9:if((i=r.sent).length){r.next=13;break}return xx.H$(ZX,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=aF(i)).length){r.next=22;break}if(!this.Vrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return xx.H$(ZX,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.zrt++,r.next=21,Dr.awrap(this.zst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r.G0=function(){var t,n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.Rst());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.uD,o=void 0,a=void 0,o=u.jg,a=u.wy.wC(o),n=a?a.XN(0)-o:0,s.next=8,Dr.awrap(this.Dst(t));case 8:return i=s.sent,s.next=11,Dr.awrap(this.drt.G0(t,this.Art,n,i));case 11:if(e=s.sent,r=!!this.Art&&e.HR<this.Art.HR,!(!!r||this.Vst(e,t,n))){s.next=17;break}return s.next=17,Dr.awrap(this.R$(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,We)},r.Vst=function(t,n,e){var r,s;if(t===this.A$)return!1;if(t===this.Ist(n))return!0;(!this.Zrt||this.Zrt.T$.HR>t.HR)&&(this.Zrt={T$:t,rtt:i.ir()});var u=i.ir()-this.Zrt.rtt,o=null!=(r=null==(s=this.C$)?void 0:s.KJ.H0)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.zst=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Vrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Srt?xs(e.Q$,function(t){return dx(t,u.Srt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Dr.awrap(this.j4(r));case 11:r.KJ.q3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.zrt=0,o.next=24,Dr.awrap(this.Wst());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.zrt),tF),o.next=29,Dr.awrap(fu(s));case 29:return this.Vrt=!1,o.next=32,Dr.awrap(this.G0());case 32:case"end":return o.stop()}},null,this,[[5,15]],We)},r.Ost=function(t){var n,i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(js(t,function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ZH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.ZH.QH,n.t1){n.next=7;break}return n.next=6,Dr.awrap(i.lrt.jX('audio/mp4; codecs="'+t.ZH.QH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.ZH.jH,n.t2){n.next=14;break}return n.next=13,Dr.awrap(i.lrt.jX('video/mp4; codecs="'+t.ZH.jH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.ZH)?void 0:n.jH})&&(n=n.filter(function(t){return!t.ZH||t.ZH.jH})),n.some(function(t){var n;return null==(n=t.ZH)?void 0:n.QH})&&(n=n.filter(function(t){return!t.ZH||t.ZH.QH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.Dst=function(t){var n=this;return js(t,function(t){var i,e,r,s,u=[oF(t.j$),oF(t.Q$),rF(t.S2),rF(t.E2)].filter(F);return i=u,e=function(t){return n.Gst(t)},Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Dr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.Gst=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.KJ.aJ.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.KJ.aJ[0]).r$){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.r$,e=i.OJ?ix(i.OJ.MN,i.OJ.C_):void 0,r.prev=7,r.next=10,Dr.awrap(this.F4.hrt(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.R$=function(t,n){var i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.mrt){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Xst(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Art){u.next=9;break}return xx.yT(ZX,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Trt?xs(t.j$,function(t){return dx(t,s.Trt)}):void 0,e=this.Srt?xs(t.Q$,function(t){return dx(t,s.Srt)}):void 0,r=this.Ert?xs(t.S2,function(t){return dx(t,s.Ert)}):void 0,this.xst(t),this.Zrt=void 0,u.next=16,Dr.awrap(this.gst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.N$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Fst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return xx.yT(ZX,"Switching audio rendition"),i.next=12,Dr.awrap(this.gst(n,this.Srt,this.Ert,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.P$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Fst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return xx.yT(ZX,"Switching video rendition"),i.next=12,Dr.awrap(this.gst(this.Trt,n,this.Ert,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r._st=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Fst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return xx.yT(ZX,"Switching subtitle rendition"),i.next=12,Dr.awrap(this.gst(this.Trt,this.Srt,n));case 12:case"end":return i.stop()}},null,this,null,We)},r.lst=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Vrt){i.next=2;break}return i.abrupt("return");case 2:if(t.fs===$O.Ed){i.next=7;break}return i.next=5,Dr.awrap(this.qst(t,n));case 5:i.next=17;break;case 7:if(!(this.Irt&&this.Irt.length<=1)){i.next=15;break}if(this.Srt===t){i.next=11;break}return i.next=11,Dr.awrap(this.gst(this.Trt,t,this.Ert));case 11:return i.next=13,Dr.awrap(this.qst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Dr.awrap(this.G0());case 17:case"end":return i.stop()}},null,this,null,We)},r.j4=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.u6.j4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),iu(i.t0),!Rp(i.t0)&&!Dp(i.t0)){i.next=11;break}return i.next=11,Dr.awrap(this.lst(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r.qst=function(t,n){var i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fs(this.Rrt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Rrt.push(t),e.prev=3,e.next=6,Dr.awrap(mM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,tF));case 6:if(e.prev=6,Us(this.Rrt,t),t.KJ.q3!==-1/0){e.next=11;break}return e.next=11,Dr.awrap(this.Wst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],We)},r.gst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Trt===t&&this.Srt===n&&this.Ert===i?We.resolve():void 0===t&&void 0===n?We.reject(new v("Trying to buffer no media renditions.")):(this.Trt=t,this.Srt=n,this.Ert=i,this.$rt(),this.Qs(new sU),this.oY.Hs(),this.oY=new Js,this.Prt.Hs(),this.Prt=new Js,this.Brt=this.Yst([this.Brt,this.uY].filter(F),t,n,i,e,r,s,this.Prt.Ws).catch(this.cst),this.Brt)},r.Yst=function(t,n,i,e,r,s,u,o){var a,c,h,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return this.hst(),v.next=5,Dr.awrap(this.fst());case 5:return a=[],s&&this.oD&&this.oD.uW&&a.push(this.oD.uW.Gc(0,1/0)),u&&this.oD&&this.oD.oW&&a.push(this.oD.oW.Gc(0,1/0)),v.next=10,Dr.awrap(We.all(a));case 10:return nu(o),v.next=13,Dr.awrap(this.jst(n,i,o));case 13:return this.Qst(n,i,r),this.Zst(e,r),nu(o),c=n&&i&&_x(n,i),h=[i,c?void 0:n,e].filter(F),v.prev=18,v.next=21,Dr.awrap(We.all(h.filter(function(t){return!t.KJ.W3}).map(function(t){var n;return null==(n=f.u6)?void 0:n.Q4(t,o)})));case 21:v.next=26;break;case 23:v.prev=23,v.t0=v.catch(18),iu(v.t0);case 26:nu(o),this.bW(),this.$rt(),void 0!==this.Grt?this.dst(this.Grt):!this.qrt&&h.every(function(t){return!t.KJ.J1})?this.dst(1/0):this.Kst.length>0&&this.Jst();case 30:case"end":return v.stop()}},null,this,[[18,23]],We)},r.jst=function(t,n,i){var e,r,s,u,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.oD){h.next=7;break}if(s=void 0!==this.oD.uW,u=void 0!==this.oD.oW,e!==s||r!==u){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,Dr.awrap(this.$st(t,n,this.Art));case 9:for(o=h.sent,nu(i),a=0,c=this.Kst;a<c.length;a++)c[a].A9.forEach(function(t){return t.Hs()});if(this.uD.Rj(),h.prev=13,!this.oD){h.next=17;break}return h.next=17,Dr.awrap(this.uD.D_());case 17:return h.next=19,Dr.awrap(this.tut(o,e,r));case 19:this.oD=h.sent;case 20:return h.prev=20,this.uD.Dj(),h.finish(20);case 23:case"end":return h.stop()}},null,this,[[13,,20,23]],We)},r.$st=function(t,n,i){var e,r,s,u,o,a,c,h,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.ZH,a=[],o&&o.QH&&(c='audio/mp4; codecs="'+o.QH+'"',xx.yT(ZX,"Configuring MediaSource for initial audio rendition with codec: "+c+"."),a.push(c)),o&&o.jH&&(h='video/mp4; codecs="'+o.jH+'"',xx.yT(ZX,"Configuring MediaSource for initial video rendition with codec: "+h+"."),a.push(h)),0!==a.length){w.next=7;break}return xx.H$(ZX,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.KJ.aJ[0])?void 0:r.z1)?e:[],v=null!=(s=null==t?void 0:null==(u=t.KJ.aJ[0])?void 0:u.z1)?s:[],l=this.u6.q$,w.next=12,Dr.awrap(dL(this.o6.contentProtection,a,l.N4.concat(v).concat(f),this.pE));case 12:return d=w.sent,w.abrupt("return",{fs:Zp.CE,AW:a.map(function(t){return{Fl:t}}),XD:d});case 14:case"end":return w.stop()}},null,this,null,We)},r.tut=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Dr.awrap(this.uD.Wc(t));case 3:e=r.sent,r.next=7;break;case 6:e=new aU(this.uD,n,i);case 7:return this.oD=e,this.bW(),this.kst(),this.pst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.bW=function(){var t=this.oD;if(t&&m(t.Qg)){var n,i,e,r=null!=(n=null==(i=this.Trt)?void 0:i.KJ.Qg)?n:null==(e=this.Srt)?void 0:e.KJ.Qg;void 0!==r&&r>0&&t.yW(r)}this.$rt()},r.kst=function(){var t=this.oD;t&&(t.oW&&(t.oW.vL=this.xC.IL),t.uW&&(t.uW.vL=this.xC.IL))},r.pst=function(){var t=this.oD;t&&(t.oW&&(t.oW._L=this.xC._L),t.uW&&(t.uW._L=this.xC._L))},r.Qst=function(t,n,i){if(!this.oD)throw new v("Invalid state");this.oD.uW?this.hW&&this.hW.z9(this.oD.uW)||(this.hW=new kU(Qy.Sd,this.oD.uW,this.F9,this.H9)):this.hW=void 0,this.oD.oW?this.fW&&this.fW.z9(this.oD.oW)||(this.fW=new kU(Qy.Ed,this.oD.oW,this.F9,this.H9)):this.fW=void 0;var e,r,s,u,o,a,c,h,f,l,d,w,_,g,m=t&&n&&_x(t,n);if(this.fW&&n){var y=m&&this.hW?[this.fW,this.hW]:[this.fW];this.Nrt?this.Nrt.b$!==n&&(i&&(this.Nrt.Hs(),this.Nrt.f9.Nu()),this.Nrt.j5(n)):(this.Nrt=(e=n,r=y,this.uD,s=this.u6,u=this.pE,o=this.F4,a=this.W6,c=this.c9,h=this.xC,f=new ZM,l=new GM(Qy.Ed,e,s,f,u,o,a),d=r.map(function(t){return t.fs}),w=c.nut(e,f,s.q$.$S,d),(_=new eU(l,f,w,h)).h9(r),_),this.Nrt.b9.Zs(HM.M5,this.sst),this.Nrt.p9.Zs(QM.H8,this.Ast),this.Nrt.p9.Zs(QM.z8,this.Tst)),this.Nrt.h9(y)}else{var k;null==(k=this.Nrt)||k.xs(),this.Nrt=void 0}this.hW&&t&&!m?(this.Drt?this.Drt.b$!==t&&(i&&(this.Drt.Hs(),this.Drt.f9.Nu()),this.Drt.j5(t)):(this.Drt=function(t,n,i,e,r,s,u,o,a){var c=new ZM,h=new GM(Qy.Sd,t,e,c,r,s,u),f=o.nut(t,c,e.q$.$S,[n.fs]),v=new eU(h,c,f,a);return v.h9([n]),v}(t,this.hW,this.uD,this.u6,this.pE,this.F4,this.W6,this.c9,this.xC),this.Drt.p9.Zs(QM.H8,this.Ast),this.Drt.p9.Zs(QM.z8,this.Tst)),this.Drt.h9([this.hW])):(null==(g=this.Drt)||g.xs(),this.Drt=void 0);this.iut()},r.Zst=function(t,n){this.Crt&&(this.Crt.b9.b$===t?n&&(this.Crt.Hs(),this.Crt.f9.Nu()):(this.Crt.xs(),this.Crt=void 0));if(!this.Crt&&t){var i=this.wrt.get(t.z_);i.eg=bm.Z_,this.Crt=function(t,n,i,e,r,s){var u=i.q$.$S,o=new JM(n,u),a=new ZM,c=new GM(Qy.$n,t,i,a,e,r,s),h=new iU(t,a,u,Qy.$n),f=new eU(c,a,h);return f.v9(o),f}(t,i,this.u6,this.pE,this.F4,this.W6)}},r.iut=function(){var t=[this.hW,this.fW].filter(F).map(function(t){return t.fs});this.u6.q$.$S.l4(t)},r.wj=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return nu(i),r.next=5,Dr.awrap(this.fst());case 5:nu(i),this.Grt=void 0,this.jrt=void 0,this.qrt=!0,e=this.eut.YN(n),this.uD.xu(e),this.mrt&&this.Kst.length>0&&(this.rut(this.uD.jg),this.Jst());case 12:case"end":return r.stop()}},null,this,null,We)},r.rut=function(t){for(var n=0,i=this.Kst;n<i.length;n++){var e=i[n];e.K5(t)||(e.y9(),e.f9.D8()),e._9(t)||(e.k9(),e.f9.N8())}},r.hst=function(){for(var t=0,n=this.Kst;t<n.length;t++){n[t].Hs()}},r.fst=function(){return We.all([this.sut(),this.uut(),this.out()])},r.Jst=function(){this.aut(),this.cut(),this.hut()},r.Wst=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mrt&&this.Kst.length>0)){t.next=6;break}return this.Kst.forEach(function(t){return t.y9()}),t.next=4,Dr.awrap(this.sut());case 4:this.aut(),this.Kst.forEach(function(t){return t.b9.r8()});case 6:case"end":return t.stop()}},null,this,null,We)},r.aut=function(){var t=this;if(!this.Urt){var n=function(){t.Urt=void 0};this.xrt=new Js,this.Urt=this.fut(this.xrt.Ws).catch(this.cst).then(n,n)}},r.sut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.xrt)||t.Hs(),n=this.Urt,this.Urt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.fut=function(t){var n,i,e,r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:nu(t),n=this.Kst;case 2:for(i=[],e=this.uD.jg,r=0;r<n.length;r++)s=n[r],u=s.b9,o=s.d9(e),u.C6?i.push(u.B6()):s.m9(e,o,this.xC.IL)&&((a=u.J5(o))?(h=a[0],f=a[1],u.h8(h,f,s.b6)):((c=u.b$.KJ.aJ).length&&c[0].Jy>o&&(this.jg=1/0),u.o8(),u.i8(o)),i.push(u.B6()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.b9.y8})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Dr.awrap(this.uD.au(pf.Ff,t));case 11:v.next=15;break;case 13:return v.next=15,Dr.awrap(ru(We.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,We)},r.cut=function(){var t=this;if(!this.Xrt){var n=function(){t.Xrt=void 0};this.Lrt=new Js,this.Xrt=this.vut(this.Lrt.Ws).catch(this.cst).then(n,n)}},r.uut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Lrt)||t.Hs(),n=this.Xrt,this.Xrt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.vut=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(t),n=this.Kst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.b9,(u=r.p9).C6?i.push(u.B6()):(o=s.Q5())?"w8"===o.fs?(u.K8(o),i.push(u.B6())):"Y1"===o.fs&&(u.Q8(o),i.push(u.B6())):i.push(s.s8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.b9.y8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.uD.au(pf.Ff,t));case 10:a.next=14;break;case 12:return a.next=14,Dr.awrap(ru(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.hut=function(){var t=this;if(!this.Frt){this.Mrt=new Js;var n=function(){t.Frt=void 0};this.Frt=this.lut(this.Mrt.Ws).catch(this.cst).then(n,n)}},r.out=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Mrt)||t.Hs(),n=this.Frt,this.Frt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.lut=function(t){var n,i,e,r,s,u,o,a,c,h,f,v,l,d=this;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.Kst).forEach(function(t){return t.l9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.p9,a=0,c=u.A9;a<c.length;a++)h=c[a],f=h.D6?i:e,h.C6?f.push(h.B6()):h.O6(this.uD.jg)||((v=o.i9(h.fs))?"w8"===v.fs&&v.Z1===this.Ort?(h.X6(v),f.push(h.B6())):"s9"===v.fs&&v.Z1===this.Ort&&(h.nV(v),f.push(h.B6())):r.push(o.e9(h.fs)));if(0!==i.length){w.next=15;break}if(!((l=Ws(n,function(t){return t.A9.filter(function(t){return t.D6}).map(function(n){return t.p9.i9(n.fs)})})).length>0&&l.every(function(t){return void 0!==t&&"s9"===t.fs&&t.Z1!==d.Ort}))){w.next=15;break}return w.next=12,Dr.awrap(function(){var i,e,r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=qs(i=l,function(t){return t.Z1}).Z1,!i.every(function(t){return t.Z1===e})){v.next=20;break}return r=Gs(i,function(t){return t.Jy}).Jy,v.next=7,Dr.awrap(d.wut(i));case 7:if(s=v.sent,!d.oD.FX(s)){v.next=15;break}return xx.F$("Discontinuity","Seamless switch from",d.oD.nh,"to",s),v.next=12,Dr.awrap(d.oD.HX(s));case 12:xx.F$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Dr.awrap(d._ut(r,s,t));case 17:d.Ort=i[0].Z1,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,c=o.A9;a<c.length;a++)for(h=c[a],f=o.p9.i9(h.fs);f&&f.Z1!==e;)o.p9.M6(f),f=o.p9.i9(h.fs);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.A9.length>0&&t.A9.every(function(t){return t.O6(d.uD.jg)})})&&this.oD.bV(),w.abrupt("break",23);case 19:return w.next=21,Dr.awrap(ru(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.wut=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.u9.ZH}),i=n.map(function(t){return{Fl:t}}),(e=Ws(t,function(t){return t.u9.z1})).push.apply(e,this.u6.q$.N4),r=this.o6.contentProtection,u.next=7,Dr.awrap(dL(r,n,e,this.pE));case 7:return 0===(s=u.sent).length&&this.oD&&this.oD.nh.XD.length>0&&(s=this.oD.nh.XD),u.abrupt("return",{fs:Zp.CE,AW:i,XD:s});case 10:case"end":return u.stop()}},null,this,null,We)},r._ut=function(t,n,i){var e,r,s,u,o,a;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=this.oD,s=r.Qg,!(u=this.jg<t)){c.next=19;break}c.prev=4,xx.F$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.bV();case 7:if(this.uD.Zg||!(this.uD.jg<t)){c.next=12;break}return c.next=10,Dr.awrap(this.uD.au([pf.Ff,pf.mf],i));case 10:c.next=7;break;case 12:c.next=19;break;case 14:throw c.prev=14,c.t0=c.catch(4),r.gV(),r.yW(s),c.t0;case 19:return xx.F$("Discontinuity","Perform hard switch from",null==(e=this.oD)?void 0:e.nh,"to",n),c.prev=20,this.jg<t&&(this.jg=t),this.uD.Rj(),this.fW=void 0,this.hW=void 0,this.iut(),c.next=28,Dr.awrap(this.uD.D_());case 28:return c.next=30,Dr.awrap(this.uD.Wc(n));case 30:this.oD=c.sent,this.bW(),this.kst(),this.pst(),this.oD.oW&&(this.fW=new kU(Qy.Ed,this.oD.oW,this.F9,this.H9)),this.oD.uW&&(this.hW=new kU(Qy.Sd,this.oD.uW,this.F9,this.H9)),this.iut();case 37:return c.prev=37,u&&cu(this.uD.Fm()),this.uD.Dj(),c.finish(37);case 41:this.Nrt&&(o=void 0!==this.hW&&void 0===this.Drt,a=o?[this.fW,this.hW]:[this.fW],this.Nrt.h9(a)),this.Drt&&this.Drt.h9([this.hW]),xx.F$("Discontinuity","Hard switch complete.");case 44:case"end":return c.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.gut=function(t){return ru(hu(Ws(this.Kst,function(t){return t.A9.map(function(t){return t.B6()})})),t)},r.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return xx.yT(ZX,"Unloading the player."),this.mut(),this.Cst(),t.next=5,Dr.awrap(this.D_());case 5:return this.uD.LD=void 0,this.grt.xd(),t.next=9,Dr.awrap(this.vD.xd());case 9:return t.next=11,Dr.awrap(this.F9.xd());case 11:return t.next=13,Dr.awrap(this.H9.xd());case 13:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.vrt.xd(),this.frt.xs(),this.W6.xs();case 19:case"end":return t.stop()}},null,this,null,We)},r.D_=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return xx.yT(ZX,"Resetting the player."),this.tu(JO.CJ,this.handleBufferingErrorEvent),this.Ort=-1,this.brt.Hs(),this.brt=new Js,this.AE.Hs(),this.AE=new Js,this.oY.Hs(),this.oY=new Js,this.Prt.Hs(),this.Prt=new Js,t=[this.krt,this.x5,this.uY,this.Brt].filter(F),n.next=14,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 14:return this.krt=void 0,this.x5=void 0,this.uY=void 0,this.Brt=void 0,this.Trt=void 0,this.Srt=void 0,this.Ert=void 0,this.Irt=void 0,this.Rrt=[],this.xst(void 0),this.hst(),n.next=27,Dr.awrap(this.fst());case 27:return this.Drt&&(this.Drt.xs(),this.Drt=void 0),this.Nrt&&(this.Nrt.xs(),this.Nrt=void 0),this.Crt&&(this.Crt.xs(),this.Crt=void 0),this.hW=void 0,this.fW=void 0,this.oD=void 0,this.c9&&(this.c9.xs(),this.c9=void 0),this.u6&&(this.u6.xs(),this.u6=void 0),this.prt&&(this.Pm.nD(this.prt.Um),this.prt=void 0),n.next=38,Dr.awrap(this.vD.D_());case 38:return n.next=40,Dr.awrap(this.F9.D_());case 40:return n.next=42,Dr.awrap(this.H9.D_());case 42:return this.uD.QD(),n.next=45,Dr.awrap(this.uD.D_());case 45:this.o6=void 0,this.yrt=void 0,this.mrt=!1,this.RC=1,this.vW=nE.kC(),this.Grt=void 0,this.Yrt=void 0,this.jrt=void 0,this.qrt=!1,this.Qrt=!1,this.vrt.D_(),this.yut(),this.Qs(new sy(this.jg,this.ag));case 58:case"end":return n.stop()}},null,this,null,We)},r.yut=function(){for(var t=0,n=this.Nm.N_;t<n.length;t++){n[t].xd()}for(var i=0,e=this.Cm.N_;i<e.length;i++){e[i].xd()}for(var r=0,s=this.Pm.N_;r<s.length;r++){s[r].xd()}this.Nm.D_(),this.Cm.D_(),this.Pm.D_(),this.wrt.clear()},r.Est=function(){this.vrt.Zs(KX,this.js),this.vrt.Zs(ry.Yg,this.bD),this.vrt.Zs(ry.qg,this.ost),this.xC.Zs("lL",this.yst),this.xC.Zs("gL",this.bst),this.uD.Zs(JX,this.js),this.uD.Zs(pf.vf,this.handleContentProtectionErrorEvent),this.uD.Zs(pf._f,this.Jrt),this.uD.Zs(pf.mf,this.tst),this.uD.Zs(pf.Ef,this.nst),this.uD.Zs(pf.If,this.ist),this.uD.Zs(pf.Rf,this.rst),this.uD.Zs(ry.w_,this.LE),this.uD.Zs(pf.Ff,this.YG),this.uD.Zs(pf.Bf,this._W),this.uD.Zs(pf.Pf,this.kD),this.uD.Zs(pf.Hf,this.ust)},r.mut=function(){this.vrt.tu(KX,this.js),this.vrt.tu(ry.Yg,this.bD),this.vrt.tu(ry.qg,this.ost),this.xC.tu("lL",this.yst),this.xC.tu("gL",this.bst),this.uD.tu(JX,this.js),this.uD.tu(pf.vf,this.handleContentProtectionErrorEvent),this.uD.tu(pf._f,this.Jrt),this.uD.tu(pf.mf,this.tst),this.uD.tu(pf.Ef,this.nst),this.uD.tu(pf.If,this.ist),this.uD.tu(pf.Rf,this.rst),this.uD.tu(ry.w_,this.LE),this.uD.tu(pf.Ff,this.YG),this.uD.tu(pf.Bf,this._W),this.uD.tu(pf.Pf,this.kD),this.uD.tu(pf.Hf,this.ust)},A(e,[{key:"Nst",get:function(){for(var t=[this.Trt,this.Srt].filter(F),n=0;n<t.length;n++){var i=t[n];if(!i.KJ.J1)return!1;var e=i.KJ.aJ,r=e[e.length-1];if(r&&r.Z1!==this.Ort)return!1}return!0}},{key:"A$",get:function(){return this.Art}},{key:"D$",get:function(){return this.Trt}},{key:"C$",get:function(){return this.Srt}},{key:"mst",get:function(){return this.Ert}},{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.uD.wy.nN()}},{key:"E$",get:function(){var t=[];if(this.Art)for(var n=this.uD.jg,i=0,e=this.Kst;i<e.length;i++)for(var r=0,s=e[i].A9;r<s.length;r++){var u=s[r].L6(n);u&&!Fs(t,u)&&t.push(u)}return t}},{key:"_y",get:function(){if(this.Art){var t=this.uD.jg;return this.Art._2(t)}},set:function(t){if(t&&this.Art){var n=this.Art.g2(t);void 0!==n&&(this.jg=n)}}},{key:"jg",get:function(){var t;return null!=(t=this.Grt)?t:this.uD.jg},set:function(t){xx.yT(ZX,"Seeking to "+t+" s."),this.Grt=t,this.jrt=!0,this.qrt=!0,this.Qs(new gy(t)),this.oY.Hs(),this.dst(t)}},{key:"Qg",get:function(){var t,n,i,e,r,s,u;return this.Nst?this.uD.Qg:null!=(t=null!=(n=null!=(i=null==(e=this.Trt)?void 0:e.KJ.Qg)?i:null==(r=this.Srt)?void 0:r.KJ.Qg)?n:null==(s=this.u6)?void 0:null==(u=s.s6)?void 0:u.KJ.Qg)?t:1/0}},{key:"Zg",get:function(){if(!this.Nst)return!1;if(this.nm){var t,n,i=this.jg,e=null==(t=this.Trt)?void 0:t.KJ.Qg,r=null==(n=this.Srt)?void 0:n.KJ.Qg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.uD.Zg}},{key:"mu",get:function(){return this.aD}},{key:"Kg",get:function(){return this.cD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return!1}},{key:"Tm",get:function(){return Nr({},{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.uD.eN())}},{key:"q$",get:function(){var t;return null==(t=this.u6)?void 0:t.q$}},{key:"Jg",get:function(){return this.uD.Jg},set:function(t){this.uD.Jg=t}},{key:"Iy",get:function(){return this.Hrt},set:function(t){this.Hrt!==t&&(this.Hrt=t,this.Qs(t?new lU:new dU))}},{key:"$g",get:function(){return this.uD.$g}},{key:"tm",get:function(){return this.uD.tm},set:function(t){xx.yT(ZX,"Setting playback rate to "+t+"."),this.uD.tm=t}},{key:"Ry",get:function(){return this.kut.nN()}},{key:"kut",get:function(){return this.uD.Ry}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD!==t&&(this.hD=t,this.Pst())}},{key:"ag",get:function(){var t=this.uD.ag;return this.Qrt&&(t=w.max(Hm.Ug,t)),t}},{key:"Ny",get:function(){return this.eut.nN()}},{key:"eut",get:function(){var t=this.vW,n=[this.Trt,this.Srt].filter(F);if(t.C_>0&&n.some(function(t){return!t.KJ.J1})){var i=this.kut,e=t.XN(t.C_-1);if(i.C_>0&&i.XN(i.C_-1)>e){var r=i.XN(i.C_-1),s=n.reduce(function(t,n){return t.ZN(n.KJ.H3)},new nE([0,1/0]));s.C_>0&&(r=w.min(r,s.XN(s.C_-1))),t=t.iC(new nE([e,r]))}}return t}},{key:"nm",get:function(){var t;return null!=(t=this.jrt)?t:this.uD.nm}},{key:"rN",get:function(){}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"im",get:function(){return this.uD.im}},{key:"um",get:function(){return this.uD.um}},{key:"cm",get:function(){return this.uD.cm},set:function(t){xx.yT(ZX,"Setting volume to "+t+"."),this.uD.cm=t}},{key:"Cy",get:function(){return this._D}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"sN",get:function(){return this.wD}},{key:"Kst",get:function(){return[this.Drt,this.Nrt,this.Crt].filter(F)}}]),e}(wu),iF=function(){function t(){}return t.prototype.oN=function(n,i){var e;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(qm(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||YA(e)){i.next=12;break}if(ZA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Dr.awrap(t.but(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,We)},t.but=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Dr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Dr.awrap(i.Nr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Dr.awrap(i.Ir());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Dr.awrap(i.Sr());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,We)},t}(),eF=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).IN=n,e}return S(n,t),n.prototype.Mst=function(){this.Qs(new py(this.jg,this.ag))},A(n,[{key:"ag",get:function(){return this.IN.ag}}]),n}(fA);function rF(t){var n=xs(t,function(t){return t.JJ}),e=t.filter(function(t){return t.$J}),r=i.Hr,s=e.map(function(t){return t.G_}).filter(F),u=hU(s,r);return u?xs(e,function(t){return t.G_===u}):n}function sF(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.ZH&&t.ZH.jH&&aC(t.ZH.jH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=uF(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=uF(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.dL.type){case HR.BANDWIDTH:var r=i.RL,s=e.filter(function(t){return t.HR<=r});if(s.length>0)return qs(s,function(t){return t.HR});case HR.PERFORMANCE:return Gs(e,function(t){return t.HR});case HR.QUALITY:return qs(e,function(t){return t.HR})}}function uF(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.ZH&&t.ZH.QH&&aC(t.ZH.QH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function oF(t){var n;return null!=(n=rF(t))?n:t[0]}function aF(t){return t.filter(function(t){return t.Q$.some(function(t){return t.KJ.q3<i.ir()-tF})||0===t.Q$.length})}var cF=function(){function t(){}var i=t.prototype;return i.G6=function(t,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Dr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},i.xs=function(){},t.dh=function(){return void 0!==typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),hF=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(gu),fF=["message","messageerror","error"],vF=function(t){function n(n){var i;return(i=t.call(this,pm.K_)||this).error=n,i}return S(n,t),n}(gu),lF=function(t){function n(n){var i;return(i=t.call(this)||this).Aut=void 0,i.Tut=void 0,i.Sut=[],i.Eut=function(t){if(i.Iut)t.Rut();else{i.Aut=t,i.Aut.Zs(fF,i.js);for(var n=0,e=i.Sut;n<e.length;n++){var r=e[n];t.Dut(r.du,r.Nut)}zs(i.Sut)}},i.Cut=function(t){if(!i.Iut){var n=t instanceof v?t:new v("Could not create Worker.");i.Qs(new vF(n)),i.Rut()}},i.Tut=new Js,n(i.Tut.Ws).then(i.Eut,i.Cut),i}S(n,t);var i=n.prototype;return i.Dut=function(t,n){this.Iut||(void 0!==this.Aut?this.Aut.Dut(t,n):this.Sut.push({du:t,Nut:n}))},i.Rut=function(){this.Iut||(this.Tut.Hs(),zs(this.Sut),void 0!==this.Aut&&this.Aut.Rut())},A(n,[{key:"Iut",get:function(){return this.Tut.Ws.Ns}}]),n}(wu);var dF=function(t){function n(n){var i;return(i=t.call(this)||this).Aut=void 0,i.Put=function(t){i.Qs(new hF("message",t.data))},i.But=function(t){i.Qs(new hF("messageerror",t.data))},i.GY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Qs(new vF(n)),i.Rut()},i.Aut=new k(n),i.Aut.addEventListener("message",i.Put),i.Aut.addEventListener("messageerror",i.But),i.Aut.addEventListener("error",i.GY),i}S(n,t);var i=n.prototype;return i.Dut=function(t,n){n?this.Aut.postMessage(t,n):this.Aut.postMessage(t)},i.Rut=function(){this.$s(),this.Aut.removeEventListener("message",this.Put),this.Aut.removeEventListener("messageerror",this.But),this.Aut.removeEventListener("error",this.GY),this.Aut.terminate()},n}(wu),wF=0,_F="iframe.html",gF=function(n){function e(e,r){var u;(u=n.call(this)||this).Cc=void 0,u.Out=void 0,u.xut=void 0,u.Lut=void 0,u.Mut=function(){u.xut.removeEventListener("load",u.Mut),u.xut.contentWindow.postMessage({type:"initialize",id:u.Cc,script:u.Out},"*")},u.Uut=function(t){t.origin===u.Lut&&t.data.id===u.Cc&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new vF(new v(t.data.data.message))),u.Rut()):u.Qs(new hF("message",t.data.data))))},u.Cc=wF++,u.Out=e;var o,a,c=i.Br(_F,r);return u.xut=(o=c.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Lut=c.origin,u.xut.addEventListener("load",u.Mut),t.addEventListener("message",u.Uut),u}S(e,n);var r=e.prototype;return r.Dut=function(t,n){n?this.xut.contentWindow.postMessage({type:"message",data:t},"*",n):this.xut.contentWindow.postMessage({type:"message",data:t},"*")},r.Rut=function(){var n;this.xut.removeEventListener("load",this.Mut),t.removeEventListener("message",this.Uut),null==(n=this.xut.contentWindow)||n.postMessage({type:"terminate"},"*"),$e(this.xut)},e}(wu);function mF(t,n){return t=i.Or(t,n),new lF(function(e){return function(t,n,e){var r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new dF(t),v.next=4,Dr.awrap(pF(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.Rut(),iu(v.t0);case 11:if(!bF||!kf){v.next=42;break}return v.prev=12,v.next=15,Dr.awrap(i.jw.ud({hd:t,Rd:jw.GET,td:Af.$n,Ws:e}));case 15:return o=v.sent,v.next=18,Dr.awrap(o.Ll(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),iu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,c=kf([u],{type:"application/javascript"}),a=URL.createObjectURL(c),r=new dF(a),v.next=31,Dr.awrap(pF(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(h=r)||h.Rut(),iu(v.t2),bF=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new gF(t,n),v.next=46,Dr.awrap(pF(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.Rut(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var yF,kF,bF=!0;function pF(t,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.au(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new nf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(G(s=e.data)&&"4.3.0"===s.Xut){r.next=7;break}throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.3.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}!function(t){t.Fut="G6",t.Hut="m5"}(yF||(yF={})),function(t){t.zut="Vut",t.Wut="Gut"}(kF||(kF={}));var AF=function(){function t(t){var e=this;this.qut=void 0,this.Yut=void 0,this.Aut=void 0,this.jut=0,this.Qut=Pr(),this.Zut=function(t){var i=t.data,r=i.Kut,s=e.Qut.get(r);s&&(e.Qut.delete(r),i.Jut===kF.zut?s.Wu(i.$ut):i.Jut===kF.Wut&&s.Gu(new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.gw=function(t){var i=new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.xs(i)},this.qut=t;try{this.Yut=i.Or("theoplayer.d.js",t)}catch(t){throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.tot=function(){var t=mF(this.Yut,this.qut);return t.Zs("message",this.Zut),t.Zs("error",this.gw),t},e.G6=function(t,n,i){var e=""+ ++this.jut,r={iot:yF.Fut,eot:e,rot:t,uot:n,oot:i},s=new Go;return this.Qut.set(e,s),null!=this.Aut||(this.Aut=this.tot()),this.Aut.Dut(r),s.Fu},e.xs=function(t){void 0===t&&(t=new $s),this.Qut.forEach(function(n){return n.Gu(t)}),this.Qut.clear(),this.Aut&&(this.Aut.Rut(),this.Aut=void 0)},t}();function TF(t,n){if(void 0===n.aot)return{QH:void 0,jH:t};if(void 0===n.cot)return{QH:t,jH:void 0};for(var i=Sh(t),e=EF(i),r=EF(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];BN(u)&&(e.boxes[s]=NF(u,n.cot),r.boxes[s]=NF(u,n.aot))}var o=e.serialize().join(),a=r.serialize().join();return{QH:o,jH:a}}function SF(t){var n=xs(t.boxes,CN);if(n){var i=xs(n.boxes,PN);if(i)return i.handlerType}}function EF(t){var n,i=new yh;return(n=i.boxes).push.apply(n,t.boxes),i}function IF(t){var n,i=new Bc;return(n=i.boxes).push.apply(n,t.boxes),i}var RF=8;function DF(t,n){for(var i=function(t){var n,i=new Gc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=CF(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new sc(new y(n.getSize()-RF));else if(s instanceof Bc){var u=s,o=Ms(u.boxes,function(t){return t instanceof Cc&&t.trackId===e});if(o>=0){var a=u.boxes[o],c=IF(u);c.boxes[o]=new sc(new y(a.getSize()-RF)),i.boxes[r]=c}}}return i}function NF(t,n){for(var i=function(t){var n,i=new eh;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof nh){var s=xs(r.boxes,ON);s&&s.trackId===n&&(i.boxes[e]=new sc(new y(r.getSize()-RF)))}}return i}function CF(t){return xs(t.boxes,NN).trackId}function PF(t,n,i){for(var e=xs(t.boxes,ON),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof Qc)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Ub(n).wb());else if(o instanceof jc)o.baseMediaDecodeTime-=i.Ok(n);else if(o instanceof $c&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var c=e.defaultSampleDuration,h=0;h<a.length;h++){a[h].duration=c}}a[0].duration+=i.Ok(n),o.samples=a}}}function BF(t,n){var i=Vb(Kb.MA(Lo(t)),nb.Vp);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.SS||0===r.TS.length||0===r.TS[0].CS.length)return"continue";for(var s=r.NA.fT,u=xs(n.JA,function(t){return t.fT===s}),o=0,a=1/0,c=0,h=r.NA.dS||0,f=0,v=r.TS;f<v.length;f++)for(var l=0,d=v[f].CS;l<d.length;l++){var w,_=d[l],g=_.PS||0,m=o+g,y=(o+=null!=(w=_.Qg)?w:h)+g;m<a&&(a=m),y>c&&(c=y)}var k=Qk.Jk(r.SS.SS,u.Bb);i.push({fT:s,hot:k,EK:k.Oy(Qk.$k(a,u.Bb)),fot:k.Oy(Qk.$k(o,u.Bb)),vot:k.Oy(Qk.$k(c,u.Bb))})},r=0,s=t.JA;r<s.length;r++)e(r,s);return i}(i,n)}var OF,xF=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Ow=void 0,u.lot=void 0,u.dot=void 0,u.wot=void 0,u._ot=void 0,u.got=0,u.mot=0,u.yot=Br(),u.Ow=n,u}S(i,t);var e=i.prototype;return e.Z8=function(n,i){return t.prototype.Z8.call(this,n,i)},e.kot=function(t){var n;return this.yot.has(t.Z1)?n=this.yot.get(t.Z1):(n=mU(t.w8.Hi.Hi),this.yot.set(t.Z1,n)),n},e.J8=function(i,e){var r,s,u,o,a,c,h,f,v,l,d,w,_,g,m,y,k,b,p,A,T,S,E,I,R;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:if(nu(e),s=this.kot(i),u=i.w8,s===vU.U9||s===vU.M9){D.next=5;break}return D.abrupt("return",t.prototype.J8.call(this,i,e));case 5:if(!u.U6.z1.some(MF)){D.next=7;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Ow.bot(),s!==vU.U9){D.next=14;break}return D.next=11,Dr.awrap(o.pot({data:u.Hi.Hi,metadata:this.lot}));case 11:a=D.sent,D.next=17;break;case 14:return D.next=16,Dr.awrap(o.Aot({data:u.Hi.Hi,metadata:this.lot}));case 16:a=D.sent;case 17:if(nu(e),this.t9({QH:a.metadata.audio_codec,jH:a.metadata.video_codec,KH:void 0}),c=Qk.Jk(ft.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),h=Qk.Jk(ft.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.U6.N2=h,this.n9(),this.g4.Z3(i.Z1)){D.next=30;break}for(f=Qk.Wb(u.U6.Jy),v=0,l=this.r9;v<l.length;v++)d=l[v],this.g4.u4(i.Z1,d,c,f,!0);if(this.n9(),this.g4.Z3(i.Z1)){D.next=30;break}return D.next=30,Dr.awrap(ru(this.g4.K3(i.Z1),e));case 30:if(w=this.g4.s4(c,u.U6),this.lot=a.metadata,_={C1:i.C1,Jy:u.U6.Jy,Qg:null!=(r=u.U6.Qg)?r:0,fp:w.xk(),Z1:i.Z1,b$:i.b$,U6:u.U6},void 0!==a.data.audio_media||void 0!==a.data.video_media){D.next=36;break}for(g=0,m=this.r9;g<m.length;g++)y=m[g],k=Nr({fs:"w8",Hi:void 0,a4:y},_),this.T8(k);return D.abrupt("return");case 36:b=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.dot&&this.got===i.Z1&&Uu(this.dot,a.data.audio_init)||(p={fs:"s9",Hi:{fs:mN.tF,Hi:a.data.audio_init},a4:Qy.Sd,Z1:i.Z1,u9:{ZH:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',z1:u.U6.z1},Jy:u.U6.Jy,b$:i.b$,U6:u.U6},this.dot=a.data.audio_init,this.got=i.Z1,this.T8(p)),A=Nr({fs:"w8",Hi:{fs:mN.tF,Hi:a.data.audio_media},a4:Qy.Sd},_),this.T8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.wot&&this.mot===i.Z1&&Uu(this.wot,a.data.video_init)||(T={fs:"s9",Hi:{fs:mN.tF,Hi:a.data.video_init},a4:Qy.Ed,Z1:i.Z1,u9:{ZH:'video/mp4; codecs="'+a.metadata.video_codec+'"',z1:u.U6.z1},Jy:u.U6.Jy,b$:i.b$,U6:u.U6},this.wot=a.data.video_init,this.mot=i.Z1,this._ot=jN(Lo(a.data.video_init)),this.T8(T)),S=this._ot.JA[0],E=BF(a.data.video_media,this._ot)[0],I=this.Tot(a.data.video_media,S,E,u.U6),this.Sot=S,R=Nr({fs:"w8",Hi:{fs:mN.tF,Hi:I},a4:Qy.Ed},_),this.T8(R),b.push(E)),this.Eot=u.U6,this.Iot=b;case 41:case"end":return D.stop()}},null,this,null,We)},e.Hs=function(){this.dot=void 0,this.wot=void 0,t.prototype.Hs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Zz=void 0,n.Rot=void 0,n.Eot=void 0,n.Iot=void 0,n.Sot=void 0,n}S(n,t);var i=n.prototype;return i.Z8=function(t,n){nu(n);var i=this.b$.fs,e=jN(Lo(t.Y1.Hi.Hi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Zz=e;var r=function(t){for(var n,i,e,r=0,s=t.JA;r<s.length;r++){var u=s[r];n||(n=u.ZH.QH),i||(i=u.ZH.jH),e||(e=u.ZH.KH)}if(n||i)return{QH:n,jH:i,KH:e};return}(e);r&&this.t9(r);var s=function(t){var n=Sh(t),i=xs(n.boxes,RN),e=i.boxes.filter(DN),r=xs(e,function(t){return SF(t)===lc.AUDIO}),s=xs(e,function(t){return SF(t)===lc.VIDEO}),u={aot:r?CF(r):void 0,cot:s?CF(s):void 0};if(!r||!s)return{QH:r?t:void 0,jH:s?t:void 0,rE:u};var o=EF(n),a=EF(n),c=n.boxes.indexOf(i);o.boxes[c]=DF(i,s),a.boxes[c]=DF(i,r);var h=o.serialize().join(),f=a.serialize().join();return{QH:h,jH:f,rE:u}}(t.Y1.Hi.Hi);if(this.Rot=s.rE,s.jH){var u=xs(e.JA,function(t){return t.fT===s.rE.cot}),o={fs:"s9",Hi:{fs:mN.tF,Hi:s.jH},a4:Qy.Ed,Z1:t.Z1,u9:{ZH:'video/mp4; codecs="'+u.ZH.jH+'"',z1:t.z1},Jy:t.Jy,b$:this.b$,U6:t.Y1.U6};this.T8(o)}if(s.QH){var a=xs(e.JA,function(t){return t.fT===s.rE.aot}),c={fs:"s9",Hi:{fs:mN.tF,Hi:s.QH},a4:Qy.Sd,Z1:t.Z1,u9:{ZH:'audio/mp4; codecs="'+a.ZH.QH+'"',z1:t.z1},Jy:t.Jy,b$:this.b$,U6:t.Y1.U6};this.T8(c)}return We.resolve()},i.J8=function(t,n){var i,e,r,s,u,o,a,c,h,f,v,l,d,w,_,g,m,y,k,b;return Dr.async(function(p){for(;;)switch(p.prev=p.next){case 0:if(nu(n),e=t.w8.U6,r=this.b$.fs,xx.yT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+cx(e.r$)),s=t.w8.Hi,(u=BF(s.Hi,this.Zz)).length>0&&(o=Ys(u.map(function(t){return t.EK}),Zk),e.N2=o,this.n9()),this.g4.Z3(t.Z1)){p.next=13;break}if(a=Qk.Wb(e.Jy),u.length>0){for(c=Ys(u.map(function(t){return t.hot}),Zk),h=0,f=this.r9;h<f.length;h++)v=f[h],this.g4.u4(t.Z1,v,c,a,!1);this.n9()}if(this.g4.Z3(t.Z1)){p.next=13;break}return p.next=13,Dr.awrap(ru(this.g4.K3(t.Z1),n));case 13:l=this.g4.i4(t.Z1),d={C1:t.C1,Jy:e.Jy,Qg:null!=(i=e.Qg)?i:0,fp:l.xk(),Z1:t.Z1,b$:t.b$,U6:t.w8.U6},(w=TF(s.Hi,this.Rot)).jH&&(_=this.Rot.cot,g=xs(this.Zz.JA,function(t){return t.fT===_}),m=xs(u,function(t){return t.fT===_}),y=this.Tot(w.jH,g,m,e),this.Sot=g,k=Nr({fs:"w8",Hi:{fs:mN.tF,Hi:y},a4:Qy.Ed},d),this.T8(k)),w.QH&&(b=Nr({fs:"w8",Hi:{fs:mN.tF,Hi:w.QH},a4:Qy.Sd},d),this.T8(b)),this.Eot=e,this.Iot=u;case 20:case"end":return p.stop()}},null,this,null,We)},i.Tot=function(t,n,i,e){if(!function(t){return JL(t)?t.q1:0===t.R2&&t.I2.q1}(e))return t;if(!this.Eot||!this.Sot||!this.Iot)return t;var r=this.Sot.fT,s=xs(this.Iot,function(t){return t.fT===r}),u=this.g4.e4(s.vot,this.Eot),o=this.g4.e4(i.EK,e).qk(u).Ub(n.Bb);if(o.Fk(Qk.eb))return t;if(o.Lk(Qk.Wb(.5)))return t;var a=JL(e)?e:e.I2;return xx.F$("Mp4Transmuxer","Stretching first video frame of segment #"+a.C1+" to fill gap of "+o.xk()+"s"),function(t,n,i){var e=Sh(t),r=xs(e.boxes,BN);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof nh&&PF(a,n,i)}var c=r.getSize();if(c!==s)for(var h=c-s,f=0,v=r.boxes;f<v.length;f++){var l=v[f];l instanceof nh&&xN(l,h)}}return e.serialize().join()}(t,n.Bb,o)},n}(nU)),LF=function(){function t(){}return t.prototype.nut=function(t,n,i,e){return new xF(this,t,n,i,e)},t}();function MF(t){return t.Rd===ux.jJ}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(OF||(OF={}));var UF=function(){function t(t){var e=this;this.qut=void 0,this.Yut=void 0,this.Dot=void 0,this.Aut=void 0,this.jut=0,this.Qut=Br(),this.Not=0,this.Zut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Qut.get(n.requestId);if(!i)return;e.Qut.delete(n.requestId),n.success?(i.Wu(n.output),e.Cot()):i.Gu(new nf(n.errorCode,n.error))}else n.success||e.xs(new nf(n.errorCode,n.error))},this.gw=function(t){var i=new nf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.qut=t,this.Dot=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.yn;return!(t>0&&t<=56)}();var r=this.Dot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Yut=i.Or(r,t)}catch(t){throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Aut=this.tot()}var e=t.prototype;return e.pot=function(t){return this.Pot(OF.MPEGTS_TO_FMP4,t)},e.Aot=function(t){return this.Pot(OF.RAW_AUDIO_TO_FMP4,t)},e.tot=function(){var t=mF(this.Yut,this.qut);return t.Zs("message",this.Zut),t.Zs("error",this.gw),t},e.Cot=function(){this.Dot||this.Qut.size>0||this.Not<10||(this.Aut&&this.Aut.Rut(),this.Aut=this.tot(),this.Not=0)},e.Pot=function(t,n){var i=++this.jut;this.Not+=1;var e={type:t,id:i,input:n},r=new Go;return this.Qut.set(i,r),this.Aut.Dut(e,[n.data.buffer]),r.Fu},e.xs=function(t){void 0===t&&(t=new $s),this.Qut.forEach(function(n){return n.Gu(t)}),this.Qut.clear(),this.Aut.Rut()},t}(),XF=function(t){function n(n){var i;return(i=t.call(this)||this).Aut=void 0,i.Bot=n,i}S(n,t);var i=n.prototype;return i.bot=function(){var t;return null!=(t=this.Aut)?t:this.Aut=new UF(this.Bot)},i.xs=function(){this.Aut&&(this.Aut.xs(),this.Aut=void 0)},n}(LF),FF=function(){function t(t){this.Bot=t}return t.prototype.RK=function(){return new XF(this.Bot)},t}(),HF=function(){function t(t){this.WR=void 0,this.WR=t}var n=t.prototype;return n.OD=function(t){return this.WR.OD(t)},n._J=function(t){return this.WR._J(t)},n.JD=function(t){return this.WR.JD(t)},t}(),zF=function(t){function n(n){var i;return(i=t.call(this)||this).uD=void 0,i.oD=void 0,i.Oot=new Nm,i.xot=function(t){return i.sy(t)},i.uD=n,i.Oot.M_=n.Um,i.uD.Zs(hN,i.xot),i}S(n,t);var i=n.prototype;return i.LL=function(){return this.uD.wy},i.UL=function(){return this.uD._y},i.FL=function(){return this.uD.jg},i.zL=function(){return this.uD.Qg},i.Lot=function(){return this.uD.rN},i.Mot=function(){return this.uD.Zg},i.Uot=function(){return this.uD.$g},i.tM=function(){return this.uD.Ry},i.eM=function(){return this.uD.ag},i.rM=function(){return this.uD.Ny},i.sM=function(){return this.uD.nm},i.uM=function(){return this.Oot},i.oQ=function(){return this.uD.HU},i.Xot=function(){return this.uD.LD},i.Fot=function(t){this.uD.LD=t},i.Hot=function(){return this.uD.Wq},i.eN=function(){return this.uD.eN()},i.Fm=function(){return this.uD.Fm()},i.Hm=function(){this.uD.Hm()},i.xu=function(t,n){this.uD.xu(t,n)},i.iN=function(t){this.uD.iN(t)},i.Km=function(){this.uD.Km()},i.Jm=function(){this.uD.Jm()},i.SE=function(t,n,i,e,r,s,u){return this.uD.SE(t,n,i,e,r,s,u)},i.WD=function(){return this.uD.WD()},i.qD=function(t,n,i,e){return this.uD.qD(t,n,i,e)},i.RE=function(t){this.uD.RE(t)},i.QD=function(){this.uD.QD()},i.jX=function(t){return this.uD.jX(t)},i.Wc=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.uD.Wc(t));case 2:return n=e.sent,i=t.fs===Zp.NE?this.zot(n):this.Vot(n),this.oD=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.oD){t.next=4;break}return t.next=3,Dr.awrap(this.oD.xs());case 3:this.oD=void 0;case 4:return t.next=6,Dr.awrap(this.uD.D_());case 6:case"end":return t.stop()}},null,this,null,We)},i.Rj=function(){this.uD.Rj()},i.Dj=function(){this.uD.Dj()},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.uD.tu(hN,this.xot),this.Oot.M_=void 0,this.Oot.xd(),!this.oD){t.next=8;break}return t.next=7,Dr.awrap(this.oD.xs());case 7:this.oD=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.Nj=function(){this.uD.Nj()},i.Wot=function(t){this.uD.tu(hN,this.xot),this.uD=t,this.Oot.M_=t.Um,this.uD.Zs(hN,this.xot)},i.sy=function(t){this.Qs(t)},A(n,[{key:"Got",get:function(){return this.uD}},{key:"wy",get:function(){return this.LL()}},{key:"_y",get:function(){return this.UL()}},{key:"jg",get:function(){return this.FL()}},{key:"XU",get:function(){return this.uD.XU}},{key:"Qg",get:function(){return this.zL()}},{key:"rN",get:function(){return this.Lot()}},{key:"Zg",get:function(){return this.Mot()}},{key:"mu",get:function(){return this.uD.mu}},{key:"dT",get:function(){return this.uD.dT}},{key:"Bk",get:function(){return this.uD.Bk}},{key:"jD",get:function(){return this.uD.jD}},{key:"Jg",get:function(){return this.uD.Jg},set:function(t){this.uD.Jg=t}},{key:"$g",get:function(){return this.Uot()}},{key:"tm",get:function(){return this.uD.tm},set:function(t){this.uD.tm=t}},{key:"Ry",get:function(){return this.tM()}},{key:"ag",get:function(){return this.eM()}},{key:"Ny",get:function(){return this.rM()}},{key:"nm",get:function(){return this.sM()}},{key:"Um",get:function(){return this.uM()}},{key:"HU",get:function(){return this.oQ()}},{key:"Bj",get:function(){return this.uD.Bj}},{key:"cm",get:function(){return this.uD.cm},set:function(t){this.uD.cm=t}},{key:"Cj",get:function(){return this.uD.Cj}},{key:"yy",get:function(){return this.uD.yy}},{key:"Oj",get:function(){return this.uD.Oj}},{key:"LD",get:function(){return this.Xot()},set:function(t){this.Fot(t)}},{key:"Wq",get:function(){return this.Hot()}}]),n}(wu),VF=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Pj=function(t){this.uD.Pj(t)},i.sj=function(){this.uD.sj()},i.ly=function(){this.uD.ly()},A(n,[{key:"xD",get:function(){return this.uD.xD}},{key:"PW",get:function(){return this.uD.PW}},{key:"Py",get:function(){return this.uD.Py},set:function(t){this.uD.Py=t}}]),n}(zF),WF=function(){function t(t){this.oD=void 0,this.oD=t}var n=t.prototype;return n.hh=function(){return this.oD.nh},n.rM=function(){return this.oD.Ny},n.FX=function(t){return this.oD.FX(t)},n.HX=function(t){return this.oD.HX(t)},n.xs=function(){return We.resolve()},A(t,[{key:"nh",get:function(){return this.hh()}},{key:"Ny",get:function(){return this.rM()}},{key:"Mm",get:function(){return this.oD.Mm}}]),t}(),GF=function(t){function n(n){var i;return(i=t.call(this,n)||this).hW=void 0,i.fW=void 0,i.qot=function(t){return i.Yot(t)},i}S(n,t);var i=n.prototype;return i.LL=function(){return this.oD.wy},i.zL=function(){return this.oD.Qg},i.jot=function(){return this.oD.QX},i.yW=function(t){this.oD.yW(t)},i.pW=function(t,n,i,e){this.oD.pW(t,n,i,e)},i.bV=function(){this.oD.bV()},i.gV=function(){this.oD.gV()},i.xs=function(){return this.hW&&(this.hW.xs(),this.hW=void 0),this.fW&&(this.fW.xs(),this.fW=void 0),t.prototype.xs.call(this)},i.Qot=function(t){this.oD=t,this.hW?t.uW?this.hW.P6(t.uW):(this.hW.xs(),this.hW=void 0):t.uW&&(this.hW=this.Zot(t.uW),this.hW.Zs(kN,this.qot)),this.fW?t.oW?this.fW.P6(t.oW):(this.fW.xs(),this.fW=void 0):t.oW&&(this.fW=this.Zot(t.oW),this.fW.Zs(kN,this.qot))},i.Yot=function(t){},A(n,[{key:"uW",get:function(){return this.hW}},{key:"oW",get:function(){return this.fW}},{key:"wy",get:function(){return this.LL()}},{key:"Qg",get:function(){return this.zL()}},{key:"QX",get:function(){return this.jot()}}]),n}(WF),qF=function(t){function n(n){var i;return(i=t.call(this)||this).Nh=void 0,i.kL=0,i.bL=0,i.Nh=n,i}S(n,t);var i=n.prototype;return i.Jz=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.NV=function(){return We.reject(new v("Invalid media buffer"))},i.nV=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.QX=function(){return!1},i.bV=function(){},i.RV=function(t,n){},i.DV=function(t,n){},i.Gc=function(t,n,i){return We.resolve()},i.cV=function(t,n){return We.reject(new v("Invalid media buffer"))},i.Hy=function(t,n){return We.reject(new v("Invalid media buffer"))},i.FX=function(t){return!1},i.HX=function(t){return We.reject(new v("Invalid media buffer"))},i.xs=function(){this.$s()},A(n,[{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t}},{key:"wy",get:function(){return nE.kC()}},{key:"nh",get:function(){return this.Nh}},{key:"BV",get:function(){return Qy.vd}},{key:"OV",get:function(){return nE.kC()}},{key:"Kot",get:function(){return!1}},{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t}}]),n}(wu),YF=function(t){function n(n){var i;return(i=t.call(this,n)||this).uD=void 0,i}S(n,t);var i=n.prototype;return i.Jz=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),e.next=3,Dr.awrap(this.Jot(this.uD.jg,null==n?void 0:n.N2,null==n?void 0:n.Qg));case 3:if(nu(i),t.fs!==mN.Yf){e.next=10;break}return e.next=7,Dr.awrap(this.$ot(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Dr.awrap(this.nat(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.$ot=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Cw(e.Hi),s=r[0],u=r[1],e={fs:mN.Yf,Hi:s},o.prev=4,o.next=7,Dr.awrap(this.iat(e,n,i));case 7:return u.cancel(new $s).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!ZR(o.t0)){o.next=20;break}return o.next=16,Dr.awrap(this.Jot(this.uD.jg,n.N2,n.Qg,i));case 16:if(!o.sent){o.next=20;break}return e={fs:mN.Yf,Hi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.nat=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,nu(i),e.next=5,Dr.awrap(this.iat(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!ZR(e.t0)){e.next=16;break}return e.next=13,Dr.awrap(this.Jot(this.uD.jg,n.N2,n.Qg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i.Jot=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:r=QR(t,n,i,this.wy,this.vL,this._L),s=0;case 2:if(!(s<r.length)){c.next=9;break}return u=r[s],o=u[0],a=u[1],c.next=6,Dr.awrap(this.eat(o,a,e));case 6:s++,c.next=2;break;case 9:return c.abrupt("return",r.length>0);case 10:case"end":return c.stop()}},null,this,null,We)},i.iat=function(n,i,e){return t.prototype.Jz.call(this,n,i,e)},i.eat=function(n,i,e){return t.prototype.Gc.call(this,n,i,e)},A(n,[{key:"wJ",get:function(){return this.uD},set:function(t){this.uD=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).v6=void 0,i.rat=function(t){return i.sy(t)},i.v6=n,i.v6.Zs(kN,i.rat),i}S(n,t);var i=n.prototype;return i.sat=function(){return this.v6._L},i.uat=function(t){this.v6._L=t},i.LL=function(){return this.v6.wy},i.hh=function(){return this.v6.nh},i.oat=function(){return this.v6.OV},i.aat=function(){return this.v6.vL},i.fat=function(t){this.v6.vL=t},i.Jz=function(t,n,i){return this.v6.Jz(t,n,i)},i.NV=function(){return this.v6.NV()},i.nV=function(t,n,i){return this.v6.nV(t,n,i)},i.QX=function(){return this.v6.QX()},i.bV=function(){this.v6.bV()},i.RV=function(t,n){this.v6.RV(t,n)},i.DV=function(t,n){this.v6.DV(t,n)},i.Gc=function(t,n,i){return this.v6.Gc(t,n,i)},i.cV=function(t,n){return this.v6.cV(t,n)},i.FX=function(t){return this.v6.FX(t)},i.HX=function(t){return this.v6.HX(t)},i.sy=function(t){this.Qs(t)},i.xs=function(){this.$s(),this.P6(new qF(this.nh))},i.P6=function(t){this.v6.tu(kN,this.rat),this.v6=t,this.v6.Zs(kN,this.rat)},A(n,[{key:"_L",get:function(){return this.sat()},set:function(t){this.uat(t)}},{key:"wy",get:function(){return this.LL()}},{key:"nh",get:function(){return this.hh()}},{key:"BV",get:function(){return this.v6.BV}},{key:"OV",get:function(){return this.oat()}},{key:"vL",get:function(){return this.aat()},set:function(t){this.fat(t)}}]),n}(wu)),jF=function(t){function n(n){var i;return(i=t.call(this,n)||this).uD=void 0,i.Qot(n),i}return S(n,t),n.prototype.Zot=function(t){var n=new YF(t);return n.wJ=this.uD,n},A(n,[{key:"wJ",get:function(){return this.uD},set:function(t){this.uD=t,this.hW&&(this.hW.wJ=t),this.fW&&(this.fW.wJ=t)}}]),n}(GF),QF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Dy",get:function(){return this.oD.Dy},set:function(t){this.oD.Dy=t}}]),n}(WF),ZF=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Pj=function(t){this.uD.Pj(t)},i.sj=function(){this.uD.sj()},i.ly=function(){this.uD.ly()},i.$m=function(){return this.uD.$m()},A(n,[{key:"xD",get:function(){return this.uD.xD}},{key:"PW",get:function(){return this.uD.PW}},{key:"um",get:function(){return this.uD.um}},{key:"im",get:function(){return this.uD.im}},{key:"Py",get:function(){return this.uD.Py},set:function(t){this.uD.Py=t}}]),n}(zF),KF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vot=function(t){var n=new jF(t);return n.wJ=this,n},i.zot=function(t){return new QF(t)},A(n,[{key:"Got",get:function(){return this.uD}}]),n}(VF),JF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vot=function(t){var n=new jF(t);return n.wJ=this,n},i.zot=function(t){return new QF(t)},A(n,[{key:"Got",get:function(){return this.uD}}]),n}(ZF),$F=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.OD=function(n){return n===Qy.Ed?new JF(t.prototype.OD.call(this,n)):n===Qy.Sd?new KF(t.prototype.OD.call(this,n)):void 0},i.JD=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Dr.awrap(i.xs());case 3:return e.next=5,Dr.awrap(t.prototype.JD.call(this,i.Got));case 5:case"end":return e.stop()}},null,this,null,We)},n}(HF);function tH(t){return e_(t)}function nH(t,n){var i=e_(t);return n?""+i+n:""+i}var iH=function(){function t(t,n,i,e){this.vat=t,this.dat=n,this.wat=i,this._at=e}var n=t.prototype;return n.J4=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.vat.gat(t.map(tH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.hrt=function(t,n){var i=nH(t,n);return this.dat.Eu(i)},n.J6=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=nH(t,n),r.next=3,Dr.awrap(this.wat.Iu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.QM=function(t){return this._at.Iu(t)},t}(),eH=function(){function t(){}var n=t.prototype;return n.mat=function(t){return We.resolve(!1)},n.yat=function(t){return We.reject(rH)},n.bat=function(t){return We.reject(rH)},n.Eu=function(t){return We.resolve(!1)},n.Iu=function(t){return We.resolve(void 0)},n.pat=function(t,n){return We.resolve(void 0)},n.gat=function(t){return We.resolve([])},n.Aat=function(){return We.resolve([])},n.Tat=function(t){return We.resolve([])},n.Sat=function(t,n){return We.resolve([])},n.Gc=function(t){return We.reject(rH)},n.Eat=function(t){return We.reject(rH)},n.Iat=function(){return We.reject(rH)},t}(),rH="Storage disabled",sH=function(){function t(){this.Rat=void 0,this.aJ=void 0,this.Dat=void 0,this.Nat=void 0,this.Cat=void 0,this.Rat=new eH,this.aJ=new eH,this.Dat=new eH,this.Nat=new eH,this.Cat=new eH}return t.RK=function(){return We.resolve(new t)},t.prototype.Pat=function(t){return We.reject(uH)},t}(),uH="Storage disabled",oH=function(){function t(t){var n=this;this.Fs=new Go,this.Bat=void 0,this.Fs.Wu(t),this.Fs.Fu.then(function(t){n.Bat=t})}var n=t.prototype;return n.mat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.mat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.yat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.yat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.bat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.bat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Eu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Iu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.pat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.pat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.gat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.gat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Aat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Bat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Oat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Aat());case 7:case"end":return n.stop()}},null,this,null,We)},n.Tat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Tat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Sat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Sat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Gc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Gc(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Eat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Iat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Bat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Oat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Iat());case 7:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"Oat",get:function(){return this.Fs.Fu}}]),t}(),aH=function(){function t(t){var n=this;this.Fs=new Go,this.xat=void 0,this.aJ=void 0,this.Rat=void 0,this.Dat=void 0,this.Nat=void 0,this.Cat=void 0,this.Fs.Wu(t);var i=this.Fs.Fu;i.then(function(t){n.xat=t}),this.aJ=new oH(i.then(function(t){return t.aJ})),this.Rat=new oH(i.then(function(t){return t.Rat})),this.Dat=new oH(i.then(function(t){return t.Dat})),this.Nat=new oH(i.then(function(t){return t.Nat})),this.Cat=new oH(i.then(function(t){return t.Cat}))}return t.prototype.Pat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.xat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Lat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Dr.awrap(n.Pat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},A(t,[{key:"Lat",get:function(){return this.Fs.Fu}}]),t}();function cH(t){return new v("This storage cannot handle persistency type "+t)}var hH=function(){function t(){this.Fo=[]}var n=t.prototype;return n.mat=function(t){return We.resolve("temporary"===t)},n.yat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(cH(n)):(this.Mat(t.key),this.Fo.push(t),We.resolve())},n.bat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(cH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Mat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Fo.push(s)}return We.resolve()},n.Eu=function(t){return We.resolve(Boolean(this.Uat(t)))},n.Iu=function(t){return We.resolve(this.Uat(t))},n.pat=function(t,n){return We.resolve(this.Xat(t,n))},n.gat=function(t){var n=this,i=t?t.map(function(t){return n.Uat(t)}):this.Fo;return We.resolve(i.filter(F))},n.Aat=function(){return We.resolve([].concat(this.Fo))},n.Tat=function(t){return this.Sat(t,"key")},n.Sat=function(t,n){var i=this.Fo.filter(function(i){return i[n]===t});return We.resolve(i)},n.Gc=function(t){return this.Mat(t),We.resolve()},n.Eat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Mat(i)}return We.resolve()},n.Iat=function(){return zs(this.Fo),We.resolve()},n.Uat=function(t){return this.Xat(t,"key")},n.Xat=function(t,n){for(var i=0,e=this.Fo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Mat=function(t){var n=this.Uat(t);n&&Us(this.Fo,n)},t}(),fH=function(){function t(){this.Rat=void 0,this.aJ=void 0,this.Dat=void 0,this.Nat=void 0,this.Cat=void 0,this.Rat=new hH,this.aJ=new hH,this.Dat=new hH,this.Nat=new hH,this.Cat=new hH}return t.RK=function(){return We.resolve(new t)},t.prototype.Pat=function(t){return t(this)},t}(),vH=function(){function t(t){this.Fat=t}var n=t.prototype;return n.mat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.mat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.yat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.mat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.yat(t));case 8:i++,s.next=2;break;case 11:throw cH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.bat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.mat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.bat(t));case 8:i++,s.next=2;break;case 11:throw cH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Eu=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Eu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Iu=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Dr.awrap(e.Iu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n.pat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Fat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Dr.awrap(r.pat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.gat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.gat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Aat=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Fat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Dr.awrap(e.Aat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.Tat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.Tat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Sat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Fat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Dr.awrap(s.Sat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.Gc=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Gc(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Eat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Eat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Iat=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Fat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Dr.awrap(i.Iat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function lH(t){return function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",dH.RK(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var dH=function(){function t(t){this.Hat=void 0,this.zat=void 0,this.Vat=void 0,this.Wat=void 0,this.Gat=void 0,this.qat=void 0,this.Hat=t,this.zat=new vH(t.map(function(t){return t.Nat})),this.Vat=new vH(t.map(function(t){return t.Cat})),this.Wat=new vH(t.map(function(t){return t.Dat})),this.Gat=new vH(t.map(function(t){return t.Rat})),this.qat=new vH(t.map(function(t){return t.aJ}))}return t.RK=function(n){return We.resolve(new t(n))},t.prototype.Pat=function(n){var i=this;if(0===this.Hat.length)return n(this);var e=[],r=0;return this.Hat[r].Pat(function s(u){return e.push(u),++r<i.Hat.length?i.Hat[r].Pat(s):n(new t(e))})},A(t,[{key:"Nat",get:function(){return this.zat}},{key:"Cat",get:function(){return this.Vat}},{key:"Dat",get:function(){return this.Wat}},{key:"Rat",get:function(){return this.Gat}},{key:"aJ",get:function(){return this.qat}}]),t}(),wH=function(){function t(t){this.Yat=void 0,this.jat=[],this.Qat=!0,this.Yat=t}var n=t.prototype;return n.RK=function(){return new aH(this.Zat())},n.Zat=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Qat){e.next=4;break}return e.next=3,Dr.awrap(We.resolve());case 3:this.Qat=!1;case 4:t=0,n=this.jat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Dr.awrap(lH([fH.RK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Dr.awrap(lH([fH.RK,this.Yat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.EX=function(t){if(!this.Qat)throw new v("Registration overdue");this.jat.push(t)},t}(),_H=function(){function t(){}return t.EX=function(n){t.WR.EX(n)},A(t,null,[{key:"Yn",get:function(){return t.Kat||(t.Kat=t.WR.RK()),t.Kat}}]),t}();_H.WR=new wH(sH.RK),_H.Kat=void 0;var gH=function(t){function n(n,i,e,r,s,u){var o,a=new $F(n),c=a.OD(Qy.Ed);return(o=t.call(this,c,i,e,r,s,u)||this).sD=void 0,o.sD=a,o}return S(n,t),n.prototype.xd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.xd.call(this));case 2:return n.next=4,Dr.awrap(this.sD.JD(this.uD));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.$m=function(){if(void 0!==this.uD.im)return this.uD.$m()},A(n,[{key:"Py",get:function(){return!1},set:function(t){}}]),n}(nF));GS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).uN=IS.Ng,n}S(i,t);var e=i.prototype;return e.DI=function(t,n,i,e,r,s){return new gH(n,i,r,(u=e.libraryLocation,cF.dh()?new cF:new AF(u)),new FF(e.libraryLocation),new iH(_H.Yn.Dat,_H.Yn.Rat,_H.Yn.aJ,_H.Yn.Cat));var u},e.oN=function(i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(t.prototype.oN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Fs(oN,"hls-legacy")){s.next=7;break}throw new nf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,We)},e.aN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.oN=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!M.cn&&!M.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.oN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,We)},n}(iF)))),xx.F_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var mH=[];function yH(){mH.shift()()}var kH,bH=function(){function t(t){this.Jat=void 0,this.$at=void 0,this.tct=void 0,this.tct=t}var n=t.prototype;return n.nct=function(t){return this.Jat=this.Jat||{},void 0===this.Jat[t]&&(this.Jat[t]=[]),this.Jat[t]},n.addEventListener=function(t,n){var i=this.nct(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.$at||(this.$at=[])).push(t)},n.removeEventListener=function(t,n){var i=this.nct(t);n?Us(i,n):i.length=0},n.ou=function(t){var n=this.$at;n&&Us(n,t)},n.$s=function(){this.Jat=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),mH.push(i),void a(yH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.nct(t.type).slice(),r=this.$at&&this.$at.slice(),s=0;s<e.length;s++){e[s].call(this.tct||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.tct||this,t)}},n.ict=function(t){return Boolean(this.Jat&&this.Jat[t]&&this.Jat[t].length)},n.ect=function(){return this.Jat?d.keys(this.Jat):[]},t}(),pH=function(t){function n(n,i){var e,r=SH[n];return(e=t.call(this,r?r.du:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.rct,e.helpLinkText=r&&r.sct,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}($t);!function(t){t.uct="LICENSE_INVALID",t.act="MANIFEST_NOT_FOUND",t.cct="MANIFEST_CORS_ERROR",t.hct="INVALID_HLS_MANIFEST",t.fct="PLAYBACK_ISSUE",t.vct="AUDIO_ISSUE",t.lct="BROWSER_SUPPORT_ISSUE",t.dct="INVALID_KEY",t.Wut="DECRYPTION_ERROR",t.wct="AD_BLOCK_DETECTED",t._ct="THEOPLAYER_NOT_INITIALIZED",t.K_="ERROR",t.gct="MANIFEST_SEQUENCE_RESET_ERROR",t.mct="PLAYER_INCORRECTLY_CONFIGURED",t.yct="UNSUPPORTED"}(kH||(kH={}));for(var AH,TH=[{Yu:kH.uct,du:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:kH.act,du:"Could not load the manifest file."},{Yu:kH.cct,du:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",rct:"https://www.theoplayer.com/documentation/cors.html",kct:!1},{Yu:kH.hct,du:"The source of the player is an invalid HLS manifest.",rct:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:kH.fct,du:"There appears to be a playback issue."},{Yu:kH.vct,du:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:kH.lct,du:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:kH.dct,du:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:kH.Wut,du:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:kH.wct,du:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:kH._ct,du:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:kH.K_,du:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:kH.gct,du:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:kH.mct,du:"The player is incorrectly configured.",rct:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:kH.yct,du:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],SH={},EH=0;EH<TH.length;EH++){var IH=TH[EH];SH[IH.Yu]=IH}function RH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function DH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function NH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function CH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Wo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var PH,BH="x-";function OH(t,n,i,e){var r=t.split("@"),s=RH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{r$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},bct:{MN:o,XN:o+u-1}}}function xH(t,n,i){var e,r,s,u,o,a=0,c=0,h=0,f=null,v=0,l=!1,d=[],m=null,k=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new pH(kH.hct,{code:"HMP2670",uri:n});for(var p={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),DH(T,"#EXT")){if(DH(T,"#EXTINF"))h=(h=g(NH(T)))||.5;else if(DH(T,"#EXT-X-BYTERANGE"))f=NH(T);else if(DH(T,"#EXT-X-KEY"))(s=CH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=RH(s.uri,i);else if(DH(T,"#EXT-X-DISCONTINUITY")&&!DH(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(DH(T,"#EXT-X-STREAM-INF"))(r=CH(T)).R2=c++,(A+=1)<b.length&&(r.uri=RH(b[A].trim(),i),p.streams.push(r));else if(DH(T,"#EXT-X-MEDIA")&&!DH(T,"#EXT-X-MEDIA-"))(u=CH(T)).uri&&(u.uri=RH(u.uri,i)),p.media.push(u);else if(DH(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(NH(T));else if(DH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))p.pct=!0,p.Act=_(NH(T),10);else if(DH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(NH(T),10),p.Tct=!0,p.Sct=a;else if(DH(T,"#EXT-X-TARGETDURATION"))p.targetDuration=_(NH(T),10),p.hasTargetDuration=!0;else if(DH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))p.isEvent=!0;else if(DH(T,"#EXT-X-ENDLIST"))p.live=!1,p.hasEnd=!0;else if(DH(T,"#EXT-X-MAP")){var S=CH(T),E=S.uri,I=S.byterange;o=I?OH(I,E,i,0):RH(E,i)}else if(DH(T,"#EXT-X-VERSION"))p.version=_(NH(T),10);else if(DH(T,"#EXT-X-DATERANGE")){var R=LH(T);p.dateRanges.push(R)}}else if(DH(T,"#"));else if(0!==T.length){f?k=(e=OH(f,T,i,k)).bct.XN+1:e=RH(T,i);var D,N=s&&Nr({},s);s&&void 0===s.iv&&(D=a%4294967295,N.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,D>>24,D>>16,D>>8,255&D])),p.fragments.push({start:0,duration:h,uri:e,R2:a,Ect:l,Z1:v,key:N,j1:m,Ict:d,Rct:!1,Dct:o}),a+=1,h=0,f=null,l=!1,m=null,d=[]}}return p.hasEnd&&p.fragments.length&&(p.fragments[p.fragments.length-1].Rct=!0),p.isMasterPlaylist=0!==p.streams.length,p.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{Nct:i,Cct:e,Pct:n?t.fragments[n-1].duration:0,Bct:r/n,Oct:r}}(p),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(p),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(p),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.R2-n.R2})}(p),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Xs(t.media,s)}}(p,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(p),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(p),p}function LH(t){var n=CH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];ls(r,BH)&&(n[r.substr(BH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{H_:n.id,LJ:n.class,rN:e,MJ:r,Qg:n.duration,UJ:n["planned-duration"],xJ:s,XJ:i,HJ:u,VJ:o,WJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(PH||(PH={}));(AH={})[PH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",AH[PH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",AH[PH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",AH[PH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",AH[PH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",AH[PH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",AH[PH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var MH=function(){function t(){}return t.prototype.MA=function(t,n,i){return xH(t,n,i)},t}(),UH=3,XH=function(){function t(t,n,i){void 0===i&&(i=UH),this.pE=t,this.j6=n,this.xct=i}var n=t.prototype;return n.Lct=function(t,n,i){return this.Mct(t,n,!0,i)},n.Uct=function(t,n,i){return this.Mct(t,n,!1,i)},n.Mct=function(t,n,i,e){var r,s,u,o,a,c,h,f;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.xct)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Dr.awrap(fu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,c=new $w({hd:a,td:Af.$n,$l:n,Pd:this.j6,Rd:jw.GET,fs:Qw.ld,Nd:Zw.vd,Ws:e}),i.next=14,Dr.awrap(this.pE.ud(c));case 14:return h=i.sent,i.next=17,Dr.awrap(h.Ll(e));case 17:return f=i.sent,i.abrupt("return",{Xct:f,Fct:a,od:h.od});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),FH=function(){function t(t){this.Hct=void 0,this.Hct=t}return t.prototype.zct=function(t,n,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Hct;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Dr.awrap(o.zct(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),iu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),HH=function(){function t(t){this.F4=t}return t.prototype.zct=function(t,n,i,e){var r;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.F4.J4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Xct:r.data,Fct:r.locationURL,od:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),zH=function(){function t(t){this.Vct=t}return t.prototype.zct=function(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Dr.awrap(this.Vct.Lct(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Dr.awrap(this.Vct.Uct(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function VH(t,n){return new FH([new HH(n),new zH(t)])}var WH=function(){function t(t,n,i){this.Wct=t,this.Gct=n,this.qct=i}var n=t.prototype;return n.zct=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Dr.awrap(this.Wct.zct(t,n,i,e));case 3:return r=s.sent,s.next=6,Dr.awrap(this.Yct(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.Yct=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Gct.yat({key:tH(t.Fct),locationURL:e_(t.Fct),responseURL:e_(t.od),data:t.Xct,references:[this.qct.H_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function GH(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var qH,YH=function(){function t(t,n,i){this.Nh=void 0,this.pE=void 0,this.Wct=void 0,this.jct=void 0,this.jct=new MH,this.Nh=t,this.pE=i;var e=this.Nh&&this.Nh.crossOrigin===Mm.Og,r=new XH(i,e,1);this.Wct=VH(r,new iH(_H.Yn.Dat,_H.Yn.Rat,_H.Yn.aJ,_H.Yn.Cat))}var n=t.prototype;return n.Wc=function(t,n,i){var e=this.Pw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Pw=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Dr.awrap(this.Wct.zct([t],n));case 3:return i=r.sent,t=i.od,e=this.jct.MA(i.Xct,t,GH(t)),r.abrupt("return",{Am:e,Qct:i.Xct});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof c_)){r.next=16;break}throw new pH(kH.act,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof h_)){r.next=24;break}if(0!==r.t0.jd.Jl){r.next=21;break}throw new pH(kH.cct,{code:"MFL3900",uri:t,status:r.t0.jd.Jl});case 21:throw new pH(kH.act,{code:"MFL4100",uri:t,status:r.t0.jd.Jl});case 22:r.next=25;break;case 24:throw new pH(kH.K_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),jH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Zct=void 0,e.Kct=void 0,e.Jct=void 0,e.$ct=void 0,e.tht=void 0,e.nht=void 0,e.iht=void 0,e.aD=void 0,e.Zct=new YH(i||{},_H.Yn.Dat,n),e}S(n,t);var i=n.prototype;return i.zm=function(){void 0!==this.$ct&&(c(this.$ct),this.$ct=void 0),this.Jct&&this.Jct.ud&&(this.Jct=void 0)},i.eht=function(t){if(this.iht)for(var n=0,i=this.iht.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.rht=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Oct<3*s)?1e3*u.Nct:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.sht=function(t){if(t.fragments.length>0)for(var n=this.eht(t.fragments[0].uri),i=n&&n.R2||0,e=0,r=t.fragments;e<r.length;e++){r[e].R2+=i}},i.uht=function(t,i,e,r,s,u){var o=this;if(this.Jct&&e===this.Jct.ud){var c=WI()-i;if(r){this.Jct=void 0,this.aD=r;var h={type:"mu",mu:r};return this.dispatchEvent(h),s&&s(r)}this.Jct=void 0;var f=u.Am,v=u.Qct;f.Tct||this.sht(f),t===this.Kct&&(this.nht=f),this.iht=f;var l=n.rht(f,v,this.tht,c);f.live?f.isMasterPlaylist||(this.$ct=a(function(){return o.Pw(t)},l)):this.zm(),s&&s(r,u);var d={type:"oht",manifest:f,manifestText:v};this.dispatchEvent(d),this.tht=v}},i.Pw=function(t,n){var i=this,e=WI(),r=t;c(this.$ct),this.$ct=void 0;var s=this.Zct.Wc(r,{},function(r,u){return i.uht(t,e,s,r,n,u)});this.Jct={ud:s,hd:t}},i.MN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.iht?this.iht.uri:this.Kct))&&(this.Jct&&this.Jct.hd===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("oht",i);var r=t;n(null,{Am:r.manifest,Qct:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("oht",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("oht",i)):(this.zm(),this.Pw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.aht=function(t){t&&(this.tht=void 0,this.nht&&this.nht.isMasterPlaylist?this.MN(t.uri):this.iht&&!this.cht()&&this.MN(this.iht.uri))},i.xd=function(){this.zm(),this.$s()},i.cht=function(){return!!this.Jct||!!this.$ct||!(!this.iht||this.iht.live)},A(n,[{key:"Am",get:function(){return this.iht}},{key:"hht",get:function(){return this.nht}},{key:"fht",get:function(){return this.Kct},set:function(t){this.zm(),this.tht=void 0,this.nht=void 0,this.iht=void 0,this.Kct=t}}]),n}(bH),QH=function(t){function n(){return t.call(this,"vht")||this}return S(n,t),n}(gu),ZH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).dht=void 0,r.wht=void 0,r._ht=void 0,r.yrt=void 0,r.ght=void 0,r.pE=void 0,r.dq=void 0,r.mht=void 0,r.yht=function(){r.Qs(new QH)},r.yrt=n,r.ght=Nr({},i,{crossOrigin:r.yrt.crossOrigin,withCredentials:r.yrt.useCredentials,liveOffset:r.yrt.liveOffset,hlsDateRange:r.yrt.hlsDateRange}),r.pE=e,r.wht=[],r.dq=!1,r}S(n,t);var i=n.prototype;return i.kht=function(){if(this._ht)return this._ht.Am},i.MN=function(t){var n=this;cu(mM(function(){return n.bht()},t))},i.bht=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.pht());case 2:if((t=u.sent).isMasterPlaylist)for(this.dht=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new jH(this.pE,this.ght),this.wht.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new jH(this.pE,this.ght),this.wht.push({stream:{uri:t.uri},updater:s});this.mht&&(this.Aht(this.mht.width,this.mht.height),this.mht=void 0),this.dq=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.Tht=function(t,n){this.dq?this.Aht(t,n):this.mht={width:t,height:n}},i.Aht=function(t,n){this.Sht();var i=this.Eht(t,n);i&&(this._ht=i.updater,this._ht.addEventListener("oht",this.yht),i.updater.MN(i.stream.uri))},i.Sht=function(){this._ht&&(this._ht.zm(),this._ht.removeEventListener("oht",this.yht),this._ht=void 0)},i.Eht=function(t,n){return 1===this.wht.length?this.wht[0]:xs(this.wht,function(i){return i.stream.width===t&&i.stream.height===n})},i.pht=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new YH(this.ght,_H.Yn.Dat,this.pE),i.next=3,Dr.awrap(t.Wc(this.yrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.Am);case 5:case"end":return i.stop()}},null,this,null,We)},i.xd=function(){this.Sht();for(var t=0,n=this.wht;t<n.length;t++){n[t].updater.xd()}zs(this.wht)},n}(wu),KH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Iht=void 0,r.Rht=void 0,r.GM=void 0,r.Dht=!1,r.c6=void 0,r.nY=void 0,r.handleManifestUpdate=function(){var t=r.Iht.kht();if(t){var n=r.rN;if(n){var i=n.getTime(),e=r.c6;e||(e=new rM,r.c6=e),e.qc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Dht&&e.cg.C_>0&&(r.Um.E_(e),r.nY.E_(e),r.Dht=!0)}}},r.Nht=function(){r.Iht&&r.Iht.Tht(r.um,r.im)},r.Rht=i,r.GM=e,r.nY=new KP(Kt(r)),r.Zs(pf.Cf,r.Nht),r}S(n,t);var i=n.prototype;return i.Wm=function(n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.Wm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Cht(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.Cht=function(t,n,i){this.Iht&&(this.Iht.tu("vht",this.handleManifestUpdate),this.Iht.xd()),this.Iht=new ZH(t,n,this.Rht),this.Iht.Zs("vht",this.handleManifestUpdate),this.Iht.MN(i)},i.D_=function(){return this.c6&&(this.Um.I_(this.c6),this.nY.I_(this.c6),this.c6.xd(),this.c6=void 0,this.Dht=!1),this.nY.D_(),t.prototype.D_.call(this)},i.xd=function(){return this.tu(pf.Cf,this.Nht),this.Iht&&(this.Iht.tu("vht",this.handleManifestUpdate),this.Iht.xd()),this.nY.xd(),t.prototype.xd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Pht=void 0,i.Pht=n;for(var e=0;e<ZS.length;e++){var r=ZS[e];i.Pht.Zs(r,i.js)}return i}S(n,t);var i=n.prototype;return i.Gm=function(){return this.Pht.Gm()},i.iy=function(){return this.Pht.iy()},i.$m=function(){return this.Pht.$m()},i.Jm=function(){return this.Pht.Jm()},i.ly=function(){return this.Pht.ly()},i.Hm=function(){return this.Pht.Hm()},i.Fm=function(){return this.Pht.Fm()},i.D_=function(){return this.Pht.D_()},i.Wm=function(t,n,i){return this.Pht.Wm(t,n,i)},i.Km=function(){return this.Pht.Km()},i.qm=function(){return this.Pht.qm()},i.Ym=function(){return this.Pht.Ym()},i.xd=function(){this.$s();for(var t=0;t<ZS.length;t++){var n=ZS[t];this.Pht.tu(n,this.js)}return this.Pht.xd()},A(n,[{key:"Lm",get:function(){return this.Pht.Lm}},{key:"wy",get:function(){return this.Pht.wy}},{key:"_y",get:function(){return this.Pht._y},set:function(t){this.Pht._y=t}},{key:"jg",get:function(){return this.Pht.jg},set:function(t){this.Pht.jg=t}},{key:"Qg",get:function(){return this.Pht.Qg}},{key:"Zg",get:function(){return this.Pht.Zg}},{key:"Kg",get:function(){return this.Pht.Kg}},{key:"Xm",get:function(){return this.Pht.Xm}},{key:"mu",get:function(){return this.Pht.mu}},{key:"yy",get:function(){return this.Pht.yy}},{key:"Tm",get:function(){return this.Pht.Tm}},{key:"Jg",get:function(){return this.Pht.Jg},set:function(t){this.Pht.Jg=t}},{key:"Iy",get:function(){return this.Pht.Iy}},{key:"$g",get:function(){return this.Pht.$g}},{key:"tm",get:function(){return this.Pht.tm},set:function(t){this.Pht.tm=t}},{key:"Ry",get:function(){return this.Pht.Ry}},{key:"Dy",get:function(){return this.Pht.Dy},set:function(t){this.Pht.Dy=t}},{key:"ag",get:function(){return this.Pht.ag}},{key:"Ny",get:function(){return this.Pht.Ny}},{key:"nm",get:function(){return this.Pht.nm}},{key:"rN",get:function(){return this.Pht.rN}},{key:"Um",get:function(){return this.Pht.Um}},{key:"im",get:function(){return this.Pht.im}},{key:"Mm",get:function(){return this.Pht.Mm}},{key:"um",get:function(){return this.Pht.um}},{key:"cm",get:function(){return this.Pht.cm},set:function(t){this.Pht.cm=t}},{key:"Cy",get:function(){return this.Pht.Cy}},{key:"Py",get:function(){return this.Pht.Py},set:function(t){this.Pht.Py=t}},{key:"sN",get:function(){return this.Pht.sN}}]),n}(Cm));qH=function(t,n,i){return new KH(t,n,i)},VS.fN().vN(qH);var JH=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},$H=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),tz={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(tz,tz.exports);var nz=tz.exports;function iz(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function ez(t){return JSON.stringify(t,tz.exports.getSerialize(iz))}var rz={},sz={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(sz);var uz={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(uz);var oz={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(oz),d.defineProperty(rz,"__esModule",{value:!0});var az=sz.isS,cz=sz.isChar,hz=sz.isNameStartChar,fz=sz.isNameChar,vz=sz.S_LIST,lz=sz.NAME_RE,dz=uz.isChar,wz=oz.isNCNameStartChar,_z=oz.isNCNameChar,gz=oz.NC_NAME_RE;const mz="http://www.w3.org/XML/1998/namespace",yz="http://www.w3.org/2000/xmlns/",kz={__proto__:null,xml:mz,xmlns:yz},bz={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},pz=-1,Az=-2,Tz=0,Sz=1,Ez=2,Iz=3,Rz=4,Dz=5,Nz=6,Cz=7,Pz=8,Bz=9,Oz=10,xz=11,Lz=12,Mz=13,Uz=14,Xz=15,Fz=16,Hz=17,zz=18,Vz=19,Wz=20,Gz=21,qz=22,Yz=23,jz=24,Qz=25,Zz=26,Kz=27,Jz=28,$z=29,tV=30,nV=31,iV=32,eV=33,rV=34,sV=35,uV=36,oV=37,aV=38,cV=39,hV=40,fV=41,vV=42,lV=43,dV=44,wV=9,_V=10,gV=13,mV=32,yV=33,kV=38,bV=45,pV=47,AV=59,TV=60,SV=61,EV=62,IV=63,RV=91,DV=93,NV=133,CV=8232,PV=t=>34===t||39===t,BV=[34,39],OV=[...BV,RV,EV],xV=[...BV,TV,DV],LV=[SV,IV,...vz],MV=[...vz,EV,kV,TV];function UV(t,n,i){switch(n){case"xml":i!==mz&&t.fail(`xml prefix must be bound to ${mz}.`);break;case"xmlns":i!==yz&&t.fail(`xmlns prefix must be bound to ${yz}.`)}switch(i){case yz:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${yz}.`);break;case mz:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const XV=t=>gz.test(t),FV=t=>lz.test(t),HV=0,zV=1,VV=2;rz.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const WV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var GV=rz.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=wz,this.nameCheck=_z,this.isName=XV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},kz);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))UV(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=hz,this.nameCheck=fz,this.isName=FV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.do}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=HV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?Mz:Tz,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.do=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(bz),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[WV[t]]=n}off(t){this[WV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===gV||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return pz;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=mV||i===wV)return i;switch(i){case _V:return this.line++,this.column=0,this.positionAtNewLine=this.position,_V;case gV:return t.charCodeAt(n+1)===_V&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,Az;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return pz;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==CV||i===wV)return i;switch(i){case _V:return this.line++,this.column=0,this.positionAtNewLine=this.position,_V;case gV:{const i=t.charCodeAt(n+1);i!==_V&&i!==NV||(this.i=n+2)}case NV:case CV:return this.line++,this.column=0,this.positionAtNewLine=this.position,Az;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===Az?_V:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===Az,s=r?_V:e;if(s===pz||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case Az:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=_V;break;case pz:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===pz)return this.name+=t.slice(n),pz;if(!fz(i))return this.name+=t.slice(n,this.prevI),i===Az?_V:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===pz||!az(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=cz,this.getCode=this.getCode10):(this.isChar=dz,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=Sz}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case TV:if(this.state=Xz,0!==this.text.length)throw new v("no-empty text at start");break;case pz:break;default:this.unget(),this.state=Mz,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(OV);switch(n){case EV:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=Mz,this.doctype=!0;break;case pz:break;default:this.text+=String.fromCodePoint(n),n===RV?this.state=Rz:PV(n)&&(this.state=Iz,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=Ez)}sDTD(){const t=this.captureTo(xV);t!==pz&&(this.text+=String.fromCodePoint(t),t===DV?this.state=Ez:t===TV?this.state=Nz:PV(t)&&(this.state=Dz,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=Rz,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yV:this.state=Cz,this.openWakaBang="";break;case IV:this.state=xz;break;default:this.state=Rz}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?Pz:Rz,this.openWakaBang="")}sDTDComment(){this.captureToChar(bV)&&(this.text+="-",this.state=Bz)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===bV?Oz:Pz}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===EV?this.state=Rz:(this.fail("malformed comment."),this.state=Pz)}sDTDPI(){this.captureToChar(IV)&&(this.text+="?",this.state=Lz)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===EV&&(this.state=Rz)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case Az:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case AV:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===Mz&&void 0===this.textHandler||(this.text+=r);break t}case pz:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(hz(t))this.state=rV,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pV:this.state=lV,this.xmlDeclPossible=!1;break;case yV:this.state=Fz,this.openWakaBang="",this.xmlDeclPossible=!1;break;case IV:this.state=Yz;break;default:this.fail("disallowed character in tag name"),this.state=Mz,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Wz,this.openWakaBang="";break;case"--":this.state=Hz,this.openWakaBang="";break;case"DOCTYPE":this.state=Ez,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(bV)&&(this.state=zz)}sCommentEnding(){var t;const n=this.getCodeNorm();n===bV?(this.state=Vz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=Hz)}sCommentEnded(){const t=this.getCodeNorm();t!==EV?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=Hz):this.state=Mz}sCData(){this.captureToChar(DV)&&(this.state=Gz)}sCDataEnding(){const t=this.getCodeNorm();t===DV?this.state=qz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=Wz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case EV:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=Mz;break;case DV:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=Wz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=jz):t===IV||az(t)?(this.fail("processing instruction without a target."),this.state=t===IV?Zz:Qz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=jz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===pz)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===IV;e||az(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?eV:Kz):this.state=e?Zz:Qz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===IV?this.state=Zz:az(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(IV)&&(this.state=Zz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===EV){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=Mz}else n===IV?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=Qz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==IV?t!==pz&&(this.state=Jz,this.name=String.fromCodePoint(t)):this.state=eV}sXMLDeclName(){const t=this.captureTo(LV);if(t===IV)return this.state=eV,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(az(t)||t===SV){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===SV?tV:$z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===IV)return this.state=eV,void this.fail("XML declaration is incomplete.");az(t)||(t!==SV&&this.fail("value required."),this.state=tV)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===IV)return this.state=eV,void this.fail("XML declaration is incomplete.");az(t)||(PV(t)?this.q=t:(this.fail("value must be quoted."),this.q=mV),this.state=nV)}sXMLDeclValue(){const t=this.captureTo([this.q,IV]);if(t===IV)return this.state=eV,this.text="",void this.fail("XML declaration is incomplete.");if(t===pz)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=iV}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==IV?(az(t)||(this.fail("whitespace required."),this.unget()),this.state=Kz):this.state=eV}sXMLDeclEnding(){var t;this.getCodeNorm()===EV?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Mz):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===pz)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case EV:this.openTag();break;case pV:this.state=sV;break;default:az(n)||this.fail("disallowed character in tag name."),this.state=uV}}sOpenTagSlash(){this.getCode()===EV?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=uV)}sAttrib(){const t=this.skipSpaces();t!==pz&&(hz(t)?(this.unget(),this.state=oV):t===EV?this.openTag():t===pV?this.state=sV:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===SV?this.state=cV:az(t)?this.state=aV:t===EV?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==pz&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case pz:return;case SV:this.state=cV;break;default:this.fail("attribute without value."),this.text="",this.name="",t===EV?this.openTag():hz(t)?(this.unget(),this.state=oV):(this.fail("disallowed character in attribute name."),this.state=uV)}}sAttribValue(){const t=this.getCodeNorm();PV(t)?(this.q=t,this.state=hV):az(t)||(this.fail("unquoted attribute value."),this.state=vV,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=fV);case kV:return this.text+=n.slice(i,this.prevI),this.state=Uz,void(this.entityReturnState=hV);case _V:case Az:case wV:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case TV:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case pz:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();az(t)?this.state=uV:t===EV?this.openTag():t===pV?this.state=sV:hz(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=oV):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(MV);switch(t){case kV:this.state=Uz,this.entityReturnState=vV;break;case TV:this.fail("disallowed character.");break;case pz:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===EV?this.openTag():this.state=uV}}sCloseTag(){const t=this.captureNameChars();t===EV?this.closeTag():az(t)?this.state=dV:t!==pz&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case EV:this.closeTag();break;case pz:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case TV:if(this.state=Xz,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=HV;break t;case kV:this.state=Uz,this.entityReturnState=Mz,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=HV;break t;case DV:switch(n){case HV:n=zV;break;case zV:n=VV;break;case VV:break;default:throw new v("impossible state")}break;case EV:n===VV&&this.fail('the string "]]>" is disallowed in char data.'),n=HV;break;case Az:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=HV;break;case pz:void 0!==e&&(this.text+=i.slice(t));break t;default:n=HV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case TV:if(this.state=Xz,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case kV:this.state=Uz,this.entityReturnState=Mz,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case Az:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case pz:void 0!==i&&(this.text+=n.slice(t));break t;default:az(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,UV(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,UV(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==Tz&&this.state!==Mz&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.do=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?yz:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=Mz,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=Mz,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=Mz,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},qV=function(){function t(){}return t.prototype.ui=function(t){var n=new GV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new $V,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new KV(t))}),n.on("cdata",function(t){r(new JV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new QV({di:n,_i:""===i?void 0:i,Bht:""===s?void 0:s}),o=t.attributes,a=0,c=d.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,l=h.uri,w=h.value,_=new YV({di:v,Ai:w,_i:""===l?void 0:l,Bht:""===f?void 0:f});u.Oht(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new tn(t)}),n.write(t).close(),i},t}(),YV=function(){function t(t){this.xht=void 0,this.Lht=void 0,this.Mht=void 0,this.ke=void 0,this.xht=t.di,this.ke=t.Ai,this.Lht=t._i,this.Mht=t.Bht}var n=t.prototype;return n.ai=function(t){return this===t||!!nW(this,t)&&(this.xht===t.xht&&this.Lht===t.Lht&&this.Mht===t.Mht&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,Bht:this.gi})},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){return this.xht}},{key:"wi",get:function(){return void 0===this.Mht?this.xht:this.Mht+":"+this.xht}},{key:"_i",get:function(){return this.Lht}},{key:"gi",get:function(){return this.Mht}},{key:"Ai",get:function(){return this.ke}}]),t}(),jV=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return tW(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return tW(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},A(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(tW)}}]),t}(),QV=function(t){function n(n){var i;return(i=t.call(this)||this).xht=void 0,i.Lht=void 0,i.Mht=void 0,i.Uht=[],i.xht=n.di,i.Lht=n._i,i.Mht=n.Bht,i}S(n,t);var i=n.prototype;return i.Xht=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];tW(e)?e.Xht(t):t.push(e.Hi)}},i.Oi=function(t,n){for(var i=0,e=this.Uht;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.Uht;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.Oht=function(t){this.Uht.push(t)},i.xi=function(t){for(var n=0;n<this.Uht.length;n++)if(this.Uht[n].wi===t)return void this.Uht.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.Uht.length;i++)if(this.Uht[i].di===n&&this.Uht[i]._i===t)return void this.Uht.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.Oht(new YV({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.Oht(new YV({di:e[e.length-1],Ai:i,_i:t,Bht:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,Bht:this.gi});return this.Xi.forEach(function(t){return i.Oht(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!nW(this,t)&&(this.xht===t.xht&&this.Mht===t.Mht&&this.Lht===t.Lht&&(iW(this.Xi,t.Xi)&&iW(this.Ii,t.Ii)))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"Xi",get:function(){return this.Uht}},{key:"di",get:function(){return this.xht}},{key:"_i",get:function(){return this.Lht}},{key:"gi",get:function(){return this.Mht}},{key:"Ri",get:function(){return void 0===this.Mht?this.xht:this.Mht+":"+this.xht}},{key:"Fi",get:function(){var t=[];return this.Xht(t),t.join("")}}]),n}(jV),ZV=function(){function t(t){this.Gi=void 0,this.Gi=t}return A(t,[{key:"Hi",get:function(){return this.Gi}}]),t}(),KV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Hi)},i.ai=function(t){return this===t||!!nW(this,t)&&this.Hi===t.Hi},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(ZV),JV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Hi)},i.ai=function(t){return this===t||!!nW(this,t)&&this.Hi===t.Hi},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(ZV),$V=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!nW(this,t)&&iW(this.Ii,t.Ii)},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(jV);function tW(t){return Qt(t)}function nW(t,n){return t.Kn===n.Kn}function iW(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var eW,rW=["adBreak"],sW=["adBreak"];function uW(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,BA(t,rW)})})})}function oW(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,BA(t,sW)})})}function aW(t){return"string"==typeof t.date?new Date(t.date):t.date}function cW(t){var n;return t.cue.track?(n=fW(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=fW(t.cue,""),n}function hW(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function fW(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new qV).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(c=o)&&null!==c){var a=vW(o);s[u]={type:eW.Fht,value:a}}else dW(o)?s[u]={type:eW.Hht,value:o}:s[u]={type:eW.DQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=vW(t.scte35Cmd),i.scte35Out=vW(t.scte35Out),i.scte35In=vW(t.scte35In),i.customAttributes=s}var c}(),i}function vW(t){if(void 0!==t)return Ou(t)}function lW(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(fW(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(fW(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function dW(t){return"number"==typeof t}!function(t){t.DQ="daterange-ca-type_string",t.Hht="daterange-ca-type_number",t.Fht="daterange-ca-type_arraybuffer"}(eW||(eW={}));var wW={cue:function(t){var n={};switch(n.date=aW(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=cW(t)}return n},textTrack:function(t){var n={};switch(n.date=aW(t),n.type=t.type,t.type){case"addcue":var i=t.cue;yW().register(i);var e=mW()[kW()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=cW(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(fW(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:lW(t.track),date:aW(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=yW();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=aW(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case pf.Hf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=lW(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=oW(t.ad);break;case"adloaded":case"adimpression":n.ad=uW(t.ad);break;case"aderror":t.zht&&(n.zht=t.zht),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=uW(t.ad)}return hW(n)},minimizeCueHelper:function(t){var n={};return n.date=aW(t),n.type=t.type,n.cue=cW(t),n.track={uid:t.cue.track.uid},n},adReplacer:uW,adBreakReplacer:oW,removeCircularReferences:hW},_W=function(){this.stringify=ez,this.minimize=wW};function gW(){return le.self}function mW(){return gW().THEOplayerBridge}function yW(){return gW().THEOCueMirrorMap}function kW(){return gW().THEOplayerGlobalID}function bW(){var t=gW();if(t.THEOplayerBridge){var n=new JH;t.THEOplayerBridge=rm(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new JH;t.THEOplayerUtils||(t.THEOplayerUtils=new _W),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new $H)}bW();var pW,AW=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(gu),TW=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new AW(t,n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(Pm),SW=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vht=void 0,e.Wht=void 0,e.Ght=function(t){e.Vht.lK("THEOplayerABRSetTargetBuffer",t.vL),e.Qs(t)},e.qht=function(t){e.Vht.lK("THEOplayerABRSetStrategy",t.dL),e.Qs(t)},e.Vht=n,e.Wht=i,e.Wht.Zs("lL",e.Ght),e.Wht.Zs("wL",e.qht),e}return S(n,t),n.prototype.EL=function(t){return this.Wht.EL(t)},A(n,[{key:"RL",get:function(){var t;switch(this.dL.type){case HR.PERFORMANCE:return 1;case HR.QUALITY:return 0;case HR.BANDWIDTH:return null!=(t=this.dL.metadata)&&t.bitrate&&!m(this.dL.metadata.bitrate)?this.dL.metadata.bitrate:0;default:return 0}}},{key:"t_",get:function(){return this.Wht.t_}},{key:"dL",get:function(){return this.Wht.dL},set:function(t){this.Wht.dL=t}},{key:"vL",get:function(){return this.Wht.vL},set:function(t){this.Wht.vL=t}},{key:"IL",get:function(){return this.Wht.IL}},{key:"_L",get:function(){return this.Wht._L},set:function(t){this.Wht._L=t}},{key:"mL",get:function(){return this.Wht.mL}},{key:"oL",get:function(){return this.Wht.oL}}]),n}(wu),EW=function(){function t(t,n,i){this.Nh=void 0,this.ys=void 0,this.Vh=void 0,this.Jc=void 0,this.Nh=t,this.ys=i,this.Vh=n}var n=t.prototype;return n.RE=function(t){throw new v("Not implemented yet.")},n.UX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.ah());case 5:return e=r.sent,r.next=8,Dr.awrap(this.XX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.FX=function(t){return!1},n.HX=function(t){return We.resolve(void 0)},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.XX(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.XX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.VX(t),i.next=3,Dr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.VX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.Jc)){i.next=5;break}return i.next=4,Dr.awrap(n.sh(this.Vh));case 4:this.Jc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Dr.awrap(t.rh(this.Vh));case 8:this.Jc=t;case 9:case"end":return i.stop()}},null,this,null,We)},n.SE=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"nh",get:function(){return this.Nh}},{key:"Dy",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Ny",get:function(){return new nE([0,1/0])}},{key:"Um",get:function(){throw new v("Not implemented yet.")}},{key:"Yht",get:function(){throw new v("Not implemented yet")}},{key:"Mm",get:function(){throw new v("Not implemented yet.")}},{key:"jht",get:function(){throw new v("Not implemented yet")}},{key:"Qht",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Zht="webkitneedkey",t.Kht="webkitkeymessage",t.Jht="webkitkeyerror"}(pW||(pW={}));var IW=function(t){function n(n,i){var e;return(e=t.call(this,pW.Zht)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(gu),RW=function(t){function n(n,i){var e;return(e=t.call(this,pW.Kht)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(gu),DW=function(t){function n(){return t.call(this,pW.Jht)||this}return S(n,t),n}(gu),NW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).wh=new Go,u.Ch=void 0,u.yh=new Eu,u.Bh=new Go,u.$ht=function(t){u.Ch?(u.Ch.Gu(void 0),u.Ch=void 0):u.Sh("internal-error"),u.Qs(new pu)},u.tft=function(t){u.Ch&&(u.Ch.Wu(void 0),u.Ch=void 0),u.Qs(new bu(Kt(u),"license-request",Ho(t.message).buffer,t.destinationURL||void 0))},u.Ih=n,u.Xc=i,u.nft=e,u.Fh=r,u.Lh=s,u}S(n,t);var i=n.prototype;return i.Vc=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Mh){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Dr.awrap(this.ift(Xo(n),e));case 5:this.Sh("usable"),this.Bh.Wu(),this.Bh=new Go;case 8:case"end":return t.stop()}},null,this,null,We)},i.Wc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.qc=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Xo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Ch=new Go,this.nft.qc(this.Fh,n),i.next=7,Dr.awrap(this.Ch.Fu);case 7:case"end":return i.stop()}},null,this,null,We)},i.zc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Bh);case 2:return this.nft.tu(pW.Kht,this.tft),this.nft.tu(pW.Jht,this.$ht),this.Bh.Hs(),this.wh.Wu(void 0),t.abrupt("return",this.wh.Fu);case 7:case"end":return t.stop()}},null,this,null,We)},i.Gc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.ift=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=tf(t,n,this.Lh),this.nft.Zs(pW.Kht,this.tft),this.nft.Zs(pW.Jht,this.$ht),this.nft.Cq(this.Fh,i);case 4:case"end":return e.stop()}},null,this,null,We)},i.Sh=function(t){this.yh.Nu(),this.yh.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"Kc",get:function(){return this.Fh}},{key:"Qc",get:function(){return NaN}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Zc",get:function(){return this.yh}}]),n}(wu),CW=function(){function t(t,n,i){this.eft=void 0,this.Fh=void 0,this.Lh=void 0,this.nft=void 0,this.Xc=void 0,this.Nh=void 0,this.Ih=void 0,this.nft=t,this.Xc=n,this.Nh=i;var e=Xh(i)||"video/mp4";this.Ih=xh(e)}var i=t.prototype;return i.ih=function(t){var i;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new NW(this.Ih,this.Xc,this.nft,this.Fh,this.Lh),this.eft=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.eh=function(t){return this.Lh=Xo(t),We.resolve(!0)},i.rh=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.sh=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"$c",get:function(){return this.Xc}},{key:"nh",get:function(){return this.Nh}},{key:"sessionId",set:function(t){this.Fh=t}}]),t}(),PW=function(){function t(t,n,i){this.rft=t,this.Xc=n,this.Nh=i}var n=t.prototype;return n.hh=function(){return this.Nh},n.ah=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new CW(this.rft,this.Xc,this.Nh));case 1:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"$c",get:function(){return this.Xc}}]),t}(),BW=function(){function t(t){this.rft=void 0,this.rft=t}return t.prototype.Ss=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Mh(OW,yu,t,e))){s.next=6;break}return s.abrupt("return",new PW(this.rft,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function OW(t,n){return t===is}var xW,LW=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Hq=function(t,n){return!0},n}(wB),MW=function(t){function n(n,i,e){var r;return void 0===e&&(e=new BW(i)),(r=t.call(this)||this).oD=void 0,r.ys=void 0,r.OX=void 0,r.qq=new YD,r.sft=void 0,r.rft=void 0,r.uft=!1,r.Fh=void 0,r.Oh=null,r.oft={by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.aft=function(t){"boolean"==typeof t.detail.casting&&(r.uft=t.detail.casting,r.Qs(new dk(r.uft)))},r.cft=function(t){r.Fh=t.sessionId,r.Oh&&(r.Oh.sessionId=r.Fh);var n=t.initData;if(n){var i=pB(n);if(!i)return;r.Qs(new Au(qr,i))}else r.Qs(new Au(qr,new ArrayBuffer(0)))},r.sft=n,r.rft=i,r.rft.Zs(pW.Zht,r.cft),r.ys=e,r.OX=new LW(Kt(r)),r.hft(),r}S(n,t);var i=n.prototype;return i.jX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===Zp.NE)return i}},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.D_());case 2:return this.$s(),this.fft(),this.rft.tu(pW.Zht,this.cft),t.next=7,Dr.awrap(this.OX.xs());case 7:case"end":return t.stop()}},null,this,null,We)},i.Jm=function(){throw new v("Not implemented yet")},i.SE=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.WD=function(){return!1},i.qD=function(t,n,i,e){throw new v("Not implemented yet")},i.RE=function(t){throw new v("Not implemented yet")},i.QD=function(){throw new v("Not implemented yet")},i.Wc=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.qq.sX(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.fs!==Zp.NE){r.next=8;break}return nu(i),e=new EW(t,n,n.ys),n.oD=e,n.OX.Wc(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.Hm=function(){throw new v("Not implemented yet")},i.Fm=function(){throw new v("Not implemented yet")},i.D_=function(){var t=this;return this.qq.Hs(),this.qq.sX(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.oD){n.next=4;break}return n.next=3,Dr.awrap(t.oD.xs());case 3:t.oD=void 0;case 4:return n.next=6,Dr.awrap(t.OX.D_());case 6:case"end":return n.stop()}},null,null,null,We)})},i.xu=function(t,n){throw new v("Not implemented yet")},i.iN=function(t){throw new v("Not implemented yet")},i.Km=function(){throw new v("Not implemented yet")},i.eN=function(){return this.oft},i.hft=function(){this.sft.addEventListener("airPlayIsCasting",this.aft)},i.fft=function(){this.sft.removeEventListener("airPlayIsCasting",this.aft)},i.webkitSetMediaKeys=function(t){this.Oh=t||null,this.Oh&&(this.Oh.sessionId=this.Fh)},i.Nj=function(){},i.Rj=function(){throw new v("Not implemented yet")},i.Dj=function(){throw new v("Not implemented yet")},A(n,[{key:"_y",get:function(){throw new v("Not implemented yet")}},{key:"wy",get:function(){throw new v("Not implemented yet")}},{key:"jg",get:function(){throw new v("Not implemented yet")}},{key:"XU",get:function(){throw new v("Not implemented yet")}},{key:"Qg",get:function(){throw new v("Not implemented yet")}},{key:"Zg",get:function(){throw new v("Not implemented yet")}},{key:"mu",get:function(){throw new v("Not implemented yet")}},{key:"dT",get:function(){throw new v("Not implemented yet")}},{key:"yy",get:function(){return this.uft}},{key:"Jg",get:function(){throw new v("Not implemented yet")}},{key:"$g",get:function(){throw new v("Not implemented yet")}},{key:"tm",get:function(){throw new v("Not implemented yet")}},{key:"Ry",get:function(){throw new v("Not implemented yet")}},{key:"ag",get:function(){throw new v("Not implemented yet")}},{key:"Ny",get:function(){throw new v("Not implemented yet")}},{key:"nm",get:function(){throw new v("Not implemented yet")}},{key:"Bj",get:function(){throw new v("Not implemented yet")}},{key:"cm",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Bk",get:function(){throw new v("Not implemented yet")}},{key:"jD",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Oh}},{key:"Oj",get:function(){return fN}},{key:"Um",get:function(){throw new v("Not implemented yet")}},{key:"HU",get:function(){throw new v("Not implemented yet")}},{key:"rN",get:function(){throw new v("Not implemented yet")}},{key:"Cj",get:function(){return!0}},{key:"LD",get:function(){return this.OX.LD},set:function(t){this.OX.LD=t}},{key:"Wq",get:function(){return this.OX.Wq}}]),n}(Cm),UW=function(t){function n(n){var i;return(i=t.call(this,pf.Wf)||this).oft=n,i}return S(n,t),n}(gu);function XW(t){switch(t.type){case xW.DQ:return t.value;case xW.Hht:return hm(t.value);case xW.Fht:return Pu(t.value);default:return}}function FW(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.DQ="daterange-ca-type_string",t.Hht="daterange-ca-type_number",t.Fht="daterange-ca-type_arraybuffer"}(xW||(xW={}));var HW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this)._R=void 0,u.vft=void 0,u._R=n,u.vft=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this._R}},{key:"timestamp",get:function(){return this.vft}}]),n}(nf),zW=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this,n,i,e,r,a)||this).url=void 0,c.status=void 0,c.errorComment=void 0,c.url=s,c.status=u,c.errorComment=o,c}return S(n,t),n}(HW),VW=function(){function t(t,n){this.Pm=void 0,this.nY=void 0,this.Pm=new Ap,this.nY=new jP(t,n)}var n=t.prototype;return n.SE=function(t,n,i,e,r,s,u){var o=new jC(t,n,i,e,r,s,u);return this.Pm.E_(o),this.nY.E_(o),o},n.RE=function(t){this.Pm.I_(t),this.nY.I_(t),t.xd()},n.D_=function(){for(var t=0,n=this.Pm.N_.slice();t<n.length;t++){n[t].xd()}this.Pm.D_(),this.nY.D_()},n.xd=function(){this.D_(),this.Pm.xd(),this.nY.xd()},A(t,[{key:"Um",get:function(){return this.Pm}}]),t}(),WW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).SC=0,u.EW=!1,u.aD=void 0,u.cD=void 0,u.lft=void 0,u.IC=!0,u.RC=1,u.Nm=void 0,u.Cm=void 0,u.Kq=void 0,u.$q=void 0,u.Pm=void 0,u.bE=void 0,u.ua=void 0,u.L8=nE.kC(),u.vW=nE.kC(),u.EC=!1,u.cY=nE.kC(),u.DC=void 0,u.dft=void 0,u.wft=void 0,u.IW=Hm.Mg,u.PE=Hm.Mg,u.sft=void 0,u.nY=void 0,u.vD=void 0,u.Vht=void 0,u.yrt=void 0,u.xC=void 0,u.uD=void 0,u.lD=void 0,u.rft=void 0,u.oft={by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.oD=void 0,u._ft=void 0,u.wD=new PS,u._D=new US,u.setCurrentTime=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=4;break}return u.SC=t,n.next=4,Dr.awrap(u.sft.au("seekablechange"));case 4:u.SC=u.updateCurrentTime(t),u.Vht.lK("THEOplayerSetCurrentTime",u.SC),u.DC=!0,u.Qs(new gy(u.SC));case 8:case"end":return n.stop()}},null,null,null,We)},u.gft=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.L8=new nE(i),u.Qs(new _N(u.jg))}},u.mft=function(t){u.IW=t.detail.readyState,u.Qs(new ky(+t.detail.currentTime,u.ag)),u.yft()},u.kft=function(t){u.IW=t.detail.readyState,u.Qs(new by(+t.detail.currentTime,u.ag)),u.yft()},u.bft=function(t){if(t.detail){var n=+t.detail.duration;u.ua=n,u.Qs(new vy(u.Qg))}},u.pft=function(t){t.detail&&(u.EW=!0,u.Qs(new wy(+t.detail.currentTime)))},u.gD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);FW(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.cD=new zW(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.aD=jy(u.cD),u.Qs(new Ay(u.cD))):FW(i)&&(u.cD=new HW(i.name,i.message,void 0,i.code,i.timestamp),u.aD=jy(u.cD),u.Qs(new Ay(u.cD)))}},u.Aft=function(t){u.Qs(new gN)},u.Tft=function(t){u.IW=t.detail.readyState,u.Qs(new _y(+t.detail.currentTime,u.ag)),u.yft()},u.Sft=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=3;break}return n.next=3,Dr.awrap(u.sft.au("seekablechange"));case 3:u.IW=t.detail.readyState,u.Qs(new fy(+t.detail.currentTime,u.ag)),u.yft();case 6:case"end":return n.stop()}},null,null,null,We)},u.Eft=function(t){t.detail&&u.IC&&(u.IC=!1,u.Qs(new oy(+t.detail.currentTime)))},u.Ift=function(t){t.detail&&(u.IC||(u.IC=!0,u.Qs(new uy(+t.detail.currentTime))))},u.Rft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.cY=new nE(i)}},u.Dft=function(t){t.detail&&u.Qs(new aA(+t.detail.currentTime))},u.Nft=function(t){t.detail&&(u.RC=t.detail.playbackRate,u.Qs(new ly(+t.detail.currentTime,u.RC)))},u.Cft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.vW=new nE(i)}},u.Pft=function(t){t.detail&&(u.SC=+t.detail.currentTime,u.DC=!1,u.Qs(new dy(u.SC,u.lft)),u.Qs(new my(u.SC)))},u.Bft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ua&&(u.EW=!1),u.DC=!0,u.Qs(new gy(n))}},u.Oft=function(t){t.detail&&(t.detail.currentDate&&(u.lft=new Date(1e3*t.detail.currentDate)),u.SC=+t.detail.currentTime,u.Qs(new dy(u.SC,u.lft)))},u.xft=function(t){u.dft=t.detail.height,u.wft=t.detail.width},u.Lft=function(t){t.detail&&u.Qs(new oA(+t.detail.currentTime))},u.Mft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Lm.E_(new ak(n))},u.Uft=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Nm.C_;s++){var o=u.Lm.S_(s);o.G_==e&&o.W_==r?i=u.Nm.S_(s):1==o.F_&&(n=u.Nm.S_(s))}i&&n&&(i.F_=!0,n.F_=!1)},u.Xft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Mm.E_(new lk(n))},u.HZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===pp.uA&&e===fk.ID3?(n=new tB("",t.detail.label)).eg=bm.Q_:i===pp.uA&&e===fk.DATE_RANGE?(n=new rM,u._ft=n):n=new jC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Kq.E_(n),u.nY.E_(n)},u.Fft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new JP(hm(e.startTime),s,e.uid),a=u.Hft();a&&a.IE(o)}},u.zft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Ck(hm(r.startTime),hm(r.endTime),r.content,!1),o=null!=(e=u.Vft(pp.rA))?e:u.Vft(pp.aE);o&&(o.fs=fk.WEBVTT,o.IE(s))}},u.ej=function(t){t.type===pf.vf&&(u.aD=jy(t.errorObject)),u.js(t)},u.Wft=function(t){t.detail&&(u.oft.py=t.detail.corruptedVideoFrames,u.oft.by=t.detail.droppedVideoFrames,u.Qs(new UW(u.Tm)))},u.Gft=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={H_:t.id};if(void 0!==t.startDate&&(n.rN=new Date(t.startDate)),void 0!==t.endDate&&(n.MJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=XW(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.XJ=e}void 0!==t.scte35Cmd&&(n.HJ=Pu(t.scte35Cmd)),void 0!==t.scte35In&&(n.WJ=Pu(t.scte35In)),void 0!==t.scte35Out&&(n.VJ=Pu(t.scte35Out)),void 0!==t.startTime&&(n.Jy=t.startTime),n.LJ=t.class,n.Qg=hm(t.duration),n.UJ=hm(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Jy?t.Jy:(new Date).getTime(),e=new iM(t,i);u._ft.IE(e),u._ft.qc(n,i)})};var o=r.uid;u.Vht=u.getSdkBridge(o),u.sft=new TW,mW()[o].sdkEventBus=u.sft,u.Nm=new Zy,u.Cm=new Zy;var a=u.qft(e);return u.bE=new VW(Kt(u),new QP),u.nY=new KP(Kt(u)),u.vD=new Wp(u.bE,a),u.Kq=new Ap,u.$q=new eB(u.bE,u.Kq),u.Pm=new xS([u.Kq,u.vD.JA,u.$q.JA]),u.rft=u.getFairPlayControllerBridge(u.Vht),u.uD=new MW(u.sft,u.rft),u.lD=new BS(a),u.uD.LD=u.lD,u.observeMediaElement(),u.UD(),u.xC=new SW(u.Vht,s),u.xC.Zs("lL",function(){u.Vht.lK("THEOplayerSetPreferredForwardBufferDuration",u.xC.vL)}),u}S(n,t);var i=n.prototype;return i.iy=function(){return rE},i.Km=function(){this.Vht.lK("THEOplayerShow",{})},i.Jm=function(){this.Vht.lK("THEOplayerHide",{})},i.Yft=function(){var t=this;this.Vht.lK("THEOplayerSetInitialPreferredPeakBitRate",this.xC.RL);this.Zs("playing",function n(){t.Vht.lK("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.Wm=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.yrt=t,i=Nr({},n,{sources:{src:t.src,type:Um.Ng,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Vht.lK("THEOplayerSourceChange",i),e={fs:Zp.NE,fg:t.src,Fl:t.type,XD:this.FD(t),HD:t.crossOrigin,zD:n.metadata&&n.metadata.title},this.lD.GR(t.contentProtection),s.next=7,Dr.awrap(this.uD.Wc(e));case 7:this.oD=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==fk.WEBVTT})).length>0&&this.VD(r),Qp(this.Um),this.Yft();case 11:case"end":return s.stop()}},null,this,null,We)},i.FD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{$c:us,$D:[{initDataTypes:[us.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Fm=function(){this.IC=!1,this.Qs(new oy(this.jg)),this.Vht.lK("THEOplayerPlay",{})},i.Hm=function(){this.IC=!0,this.Qs(new uy(this.jg)),this.Vht.lK("THEOplayerPause",{})},i.$m=function(){},i.D_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SC=0,this.EW=!1,this.aD=void 0,this.cD=void 0,this.IC=!0,this.RC=1,this.ua=void 0,this.vW=nE.kC(),this.L8=nE.kC(),this.dft=void 0,this.wft=void 0,this.IW=Hm.Mg,this.PE=Hm.Mg,this.Nm.D_(),this.Cm.D_(),this.Kq.D_(),this.Pm.D_(),t.next=19,Dr.awrap(this.$q.D_());case 19:return t.next=21,Dr.awrap(this.vD.D_());case 21:return this.bE.D_(),this.nY.D_(),this.yrt=void 0,t.next=26,Dr.awrap(this.uD.D_());case 26:case"end":return t.stop()}},null,this,null,We)},i.qm=function(){this.Vht.lK("THEOplayerShowAirPlayPicker",{})},i.Ym=function(){this.Vht.lK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Tm.py=t.py,this.Tm.by=t.by},i.xd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.D_());case 2:return this.$s(),this.unobserveMediaElement(),this.KD(),this.uD.LD=void 0,t.next=8,Dr.awrap(this.uD.xs());case 8:return this.Nm.xd(),this.Cm.xd(),this.Kq.xd(),this.Pm.xd(),t.next=14,Dr.awrap(this.$q.xd());case 14:return t.next=16,Dr.awrap(this.vD.xd());case 16:this.bE.xd(),this.nY.xd();case 18:case"end":return t.stop()}},null,this,null,We)},i.VD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.vD.TE(i)}},i.yft=function(){var t=this.PE,n=this.IW;t!==n&&(this.PE=n,this.Qs(new py(this.jg,n)))},i.observeMediaElement=function(){this.uD.Zs(pf.sf,this.js),this.uD.Zs([pf.lf,pf.vf],this.ej),this.sft.addEventListener("play",this.Eft),this.sft.addEventListener("pause",this.Ift),this.sft.addEventListener("seeking",this.Bft),this.sft.addEventListener("seeked",this.Pft),this.sft.addEventListener("ratechange",this.Nft),this.sft.addEventListener("durationchange",this.bft),this.sft.addEventListener("timeupdate",this.Oft),this.sft.addEventListener("waiting",this.Lft),this.sft.addEventListener("playing",this.Dft),this.sft.addEventListener("ended",this.pft),this.sft.addEventListener("loadedmetadata",this.Sft),this.sft.addEventListener("loadeddata",this.Tft),this.sft.addEventListener("loadstart",this.Aft),this.sft.addEventListener("canplay",this.mft),this.sft.addEventListener("canplaythrough",this.kft),this.sft.addEventListener("error",this.gD),this.sft.addEventListener("seekablechange",this.Cft),this.sft.addEventListener("videosizechange",this.xft),this.sft.addEventListener("bufferedchange",this.gft),this.sft.addEventListener("playedchange",this.Rft),this.sft.addEventListener("metricschange",this.Wft),this.sft.addEventListener("addDateRangeCues",this.Gft)},i.unobserveMediaElement=function(){this.uD.tu(pf.sf,this.js),this.uD.tu([pf.lf,pf.vf],this.ej),this.sft.removeEventListener("play",this.Eft),this.sft.removeEventListener("pause",this.Ift),this.sft.removeEventListener("seeking",this.Bft),this.sft.removeEventListener("seeked",this.Pft),this.sft.removeEventListener("ratechange",this.Nft),this.sft.removeEventListener("durationchange",this.bft),this.sft.removeEventListener("timeupdate",this.Oft),this.sft.removeEventListener("waiting",this.Lft),this.sft.removeEventListener("playing",this.Dft),this.sft.removeEventListener("ended",this.pft),this.sft.removeEventListener("loadedmetadata",this.Sft),this.sft.removeEventListener("loadeddata",this.Tft),this.sft.removeEventListener("loadstart",this.Aft),this.sft.removeEventListener("canplay",this.mft),this.sft.removeEventListener("canplaythrough",this.kft),this.sft.removeEventListener("error",this.gD),this.sft.removeEventListener("seekablechange",this.Cft),this.sft.removeEventListener("videosizechange",this.xft),this.sft.removeEventListener("bufferedchange",this.gft),this.sft.removeEventListener("playedchange",this.Rft),this.sft.removeEventListener("metricschange",this.Wft),this.sft.removeEventListener("addDateRangeCues",this.Gft)},i.updateCurrentTime=function(t){var n=this.Ny.start(0),i=this.Ny.end(0);return w.min(w.max(t,n),i)},i.Hft=function(){for(var t=0,n=this.Pm.N_;t<n.length;t++){var i=n[t];if(i.V_===pp.uA&&i.fs===fk.ID3)return i}},i.Vft=function(t){for(var n=0,i=this.Pm.N_;n<i.length;n++){var e=i[n],r=e.eg===bm.Z_,s=e.V_===t;if(r&&s)return e}},i.UD=function(){this.sft.addEventListener("addaudiotrack",this.Mft),this.sft.addEventListener("enableaudiotrack",this.Uft),this.sft.addEventListener("addvideotrack",this.Xft),this.sft.addEventListener("addtexttrack",this.HZ),this.sft.addEventListener("addtexttrackid3cues",this.Fft),this.sft.addEventListener("addtexttrackcues",this.zft)},i.KD=function(){this.sft.removeEventListener("addaudiotrack",this.Mft),this.sft.removeEventListener("enableaudiotrack",this.Uft),this.sft.removeEventListener("addvideotrack",this.Xft),this.sft.removeEventListener("addtexttrack",this.HZ),this.sft.removeEventListener("addtexttrackid3cues",this.Fft),this.sft.removeEventListener("addtexttrackcues",this.zft)},i.ly=function(){},A(n,[{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.L8.nN()}},{key:"_y",get:function(){return this.lft?this.lft:null},set:function(t){this.Vht.lK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.lft=t}},{key:"jg",get:function(){return this.SC},set:function(t){this.setCurrentTime(t)}},{key:"Qg",get:function(){return this.ua}},{key:"Zg",get:function(){return this.EW}},{key:"mu",get:function(){return this.aD}},{key:"Kg",get:function(){return this.cD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return this.uD.yy}},{key:"Tm",get:function(){return this.oft}},{key:"Jg",get:function(){return this.EC},set:function(t){this.EC!==t&&(this.Vht.lK("THEOplayerSetMuted",t),this.EC=t,this.Qs(new yy(this.jg,t?0:1)))}},{key:"$g",get:function(){return this.IC}},{key:"tm",get:function(){return this.RC},set:function(t){this.Vht.lK("THEOplayerSetPlaybackRate",t),this.RC=t}},{key:"Ry",get:function(){return this.cY.nN()}},{key:"Dy",get:function(){return YS.TN},set:function(t){}},{key:"ag",get:function(){return this.IW}},{key:"Ny",get:function(){return this.vW.nN()}},{key:"nm",get:function(){return this.DC}},{key:"rN",get:function(){}},{key:"Um",get:function(){return this.Pm}},{key:"im",get:function(){return this.dft}},{key:"um",get:function(){return this.wft}},{key:"cm",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this._D}},{key:"Mm",get:function(){return this.Cm}},{key:"sN",get:function(){return this.wD}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"Iy",get:function(){return!0}}]),n}(Cm),GW=function(){function t(){this.uN=IS.MR}var n=t.prototype;return n.oN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Gm(n.type))return!1;var e=n.contentProtection;if(e&&!YA(e)){if(!ZA(e))return!1;if(!t.but(e))return!1}return!0},t.but=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.aN=function(){return!1},t}(),qW=function(){function t(){this.jft=r.webkit}return t.prototype.lK=function(t,n){this.jft.messageHandlers[t]&&this.jft.messageHandlers[t].postMessage(n)},t}(),YW=function(t){function n(n){var i;return(i=t.call(this)||this).Vht=void 0,i.sft=void 0,i.Qft=function(t){var n=Pu(t.detail.initData),e=t.detail.sessionId;i.Qs(new IW(n,e))},i.Zft=function(t){var n=new y(Hu(t.detail.message)),e=t.detail.destinationURL;i.Qs(new RW(n,e))},i.Kft=function(t){i.Qs(new DW)},i.Vht=n,i.sft=new TW,mW().fairplayController={sdkEventBus:i.sft},i.Jft(),i}S(n,t);var i=n.prototype;return i.Jft=function(){this.sft.addEventListener(pW.Zht,this.Qft),this.sft.addEventListener(pW.Kht,this.Zft),this.sft.addEventListener(pW.Jht,this.Kft)},i.Cq=function(t,n){var i={playerId:kW(),data:zu(n.buffer),sessionId:t};this.Vht.lK("THEOplayerCreateKeySession",i)},i.qc=function(t,n){var i={playerId:kW(),data:zu(n.buffer),sessionId:t};this.Vht.lK("THEOplayerUpdateKey",i)},n}(Cm),jW=function(t){var n=this;this.sft=void 0,this.$ft=void 0,this.tvt=function(){n.$ft.QZ()},this.nvt=function(){n.$ft.jZ()},this.sft=new TW,this.$ft=t,this.sft.addEventListener("showTracks",this.tvt),this.sft.addEventListener("hideTracks",this.nvt),mW().texttracks={sdkEventBus:this.sft}},QW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).tK=void 0,o.nK=void 0,o.ivt=void 0;var a=i.OD(Qy.Ed);return o.tK=new CB,o.tK.Pj(n),o.nK=new PO(o.tK.gy,a.XU,o.Um,u,a.jD),o.ivt=new jW(o.nK),i.JD(a),le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.add("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.Km=function(){t.prototype.Km.call(this),this.tK.Km()},i.Jm=function(){t.prototype.Jm.call(this),this.tK.Jm()},i.Gm=function(){return!0},i.getSdkBridge=function(){return new qW},i.getFairPlayControllerBridge=function(){return KW},i.qft=function(t){return t},i.xd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="#000000",n.next=3,Dr.awrap(t.prototype.xd.call(this));case 3:this.nK.xd(),this.tK.xd();case 5:case"end":return n.stop()}},null,this,null,We)},n}(WW);GS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.DI=function(t,n,i,e,r,s){return new QW(t,n,i,e,r,s)},i.oN=function(n,i){if(n.type){var e=ar();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.oN.call(this,n,i)},n}(GW)));var ZW,KW=new YW(new qW),JW=function(t){function n(){return t.call(this,"evt")||this}return S(n,t),n.prototype.n_=function(){return new $W},n}(Vg),$W=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(gu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(ZW||(ZW={}));var tG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rvt=new Cm,n.js=function(t){n.Qs(t)},n}S(n,t);var i=n.prototype;return i.n_=function(){return n=function(t){var n=t.svt.map(function(t){return t.t_});return n.item=function(n){n|=0;var i=t.S_(n);return i&&i.t_||void 0},n}(t=this),i=new aD(t,n),n.addEventListener=function(t,n){i.Zs(t,n)},n.removeEventListener=function(t,n){i.tu(t,n)},n;var t,n,i},i.Zs=function(t,n){this.rvt.Zs(t,n)},i.Js=function(t){this.rvt.Js(t)},i.$s=function(){this.rvt.$s()},i.Qs=function(t){this.rvt.Qs(t)},i.tu=function(t,n){this.rvt.tu(t,n)},i.uu=function(t){this.rvt.uu(t)},i.ou=function(t){this.rvt.ou(t)},i.au=function(t,n){return this.rvt.au(t,n)},n}(function(){function t(){this.Su=[],this.$w=void 0}var n=t.prototype;return n.S_=function(t){return this.Su[t]},n.Oy=function(t){this.Su.push(t),this.$w&&this.$w.push(t.t_),this.uvt(t)},n.ovt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Oy(i)}},n.avt=function(t,n){n>=0&&n<=this.Su.length&&(this.Su.splice(n,0,t),this.$w&&this.$w.splice(n,0,t.t_),this.uvt(t))},n.xy=function(t){return Fs(this.Su,t)},n.Gc=function(t){this.cvt(this.Su.indexOf(t))},n.cvt=function(t){if(t>=0&&t<this.Su.length){var n=this.Su[t];Xs(this.Su,t),this.$w&&Xs(this.$w,t),this.fvt(n)}},n.Nu=function(){var t=this.Su.slice();zs(this.Su),this.$w&&zs(this.$w);for(var n=0;n<t.length;n++){var i=t[n];this.fvt(i)}},A(t,[{key:"svt",get:function(){return this.Su}},{key:"C_",get:function(){return this.Su.length}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),t}());var nG,iG=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(gu),eG=function(t){function n(n){var i;return(i=t.call(this,"lvt")||this).vvt=n,i}return S(n,t),n.prototype.n_=function(){return new iG(this.vvt.t_)},n}(Vg),rG=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(gu),sG=function(t){function n(n){var i;return(i=t.call(this,"dvt")||this).task=n,i}return S(n,t),n.prototype.n_=function(){return new rG(this.task.t_)},n}(Vg),uG=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.uvt=function(t){this.Qs(new eG(t))},i.fvt=function(t){this.Qs(new sG(t))},n}(tG);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(nG||(nG={}));var oG=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wvt=nG.UNINITIALISED,r.tX=new uG,r.Gct=void 0,r._vt=void 0,r.gvt=void 0,r.gvt=i,r._vt=e,r.Gct=n,r.jm(),r}S(n,t);var i=n.prototype;return i.jm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.mvt());case 2:this.yvt(nG.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.mvt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.kvt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.kvt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Gct.Aat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.gvt.bvt(i.id,i.sourceDescription,i.parameters,this._vt),this.pvt(e),this.tX.Oy(e);case 4:case"end":return r.stop()}},null,this,null,We)},i.yvt=function(t){this.wvt=t,this.Qs(new JW)},i.bvt=function(t,n,i){void 0===i&&(i="persistent");var e=this.gvt.Avt(t,n,i);return this.Tvt(e,i),this.tX.Oy(e),this.pvt(e),e},i.Tvt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Svt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i.Svt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.Gct.yat({key:t.H_,id:t.H_,sourceDescription:t.yN,parameters:t.fh},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.pvt=function(t){var n=this;t.Zs("evt",function(){t.Jl===ZW.EVICTED&&n.tX.Gc(t)})},A(n,[{key:"Jl",get:function(){return this.wvt}},{key:"Evt",get:function(){return this.tX}}]),n}(wu);function aG(t,n){return function(t,n){var i=t.Bk&&n.Bk,e=t.dT&&n.dT;return i||e?i&&e?t.Bk*t.dT-n.Bk*n.dT:i?t.Bk-n.Bk:e?t.dT-n.dT:(t.Bk||1)*(t.dT||1)-(n.Bk||1)*(n.dT||1):0}(t,n)||function(t,n){return t.HR-n.HR}(t,n)}var cG=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(gu),hG=function(t){function n(){return t.call(this,"Ivt")||this}return S(n,t),n.prototype.n_=function(){return new cG},n}(Vg),fG=function(){function t(t,n,i){if(this.Rvt=void 0,this.Dvt=t,this.By=n,this.Nvt=i,0===this.By.size)this.Rvt=nE.kC();else{var e=new nE([-1/0,1/0]);this.By.forEach(function(t){e=e.ZN(t.timeRanges)}),this.Rvt=e}}return t.prototype.Tk=function(t){return!!um(this.By,t.By)&&(!!Ft(this.Dvt,t.Dvt)&&(!!Ft(this._C,t._C)&&(!!Ft(this.Cvt,t.Cvt)&&this.Pvt.hC(t.Pvt))))},t.Bvt=function(){return lG},A(t,[{key:"_C",get:function(){return this.Nvt}},{key:"Ovt",get:function(){return this.Dvt}},{key:"Cvt",get:function(){return this.Pvt._C}},{key:"xvt",get:function(){var t=0,n=0;return this.By.forEach(function(i){t+=i.timeRanges._C,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"Pvt",get:function(){return this.Rvt}}]),t}(),vG=Pr(),lG=new fG(0,vG,NaN);function dG(t,n){if(q(t)){if(vs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var wG,_G=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"Lvt"}}]),n}($t);function gG(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Mvt;r<s.length;r++)u=s[r],e.push(mG(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Qg:t.Xvt.Uvt(),Fvt:[t.Hvt],Mvt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function mG(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.zvt;r<s.length;r++)u=s[r],e.push(yG(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Vvt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function yG(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Wvt;r<s.length;r++)kG(u=s[r])||e.push(TG(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{JA:o,fs:t.fs});case 6:case"end":return a.stop()}},null,null,null,We)}function kG(t){return t.i1.every(AG)}!function(t){t[t.Dg=0]="Dg",t[t.Ng=1]="Ng"}(wG||(wG={}));var bG,pG=1;function AG(t){return t.Gvt!==pG&&Boolean(t.Gvt)}function TG(t,n,i){var e,r,s,u,o,a,c,h,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.i1;r<s.length;r++)AG(u=s[r])||e.push(EG(u,i));return v.next=4,Dr.awrap(We.all(e));case 4:return o=v.sent,a=t.ZH[0],c=t.n1,h=c?SG(a,c):void 0,f=hL(t,n),v.abrupt("return",{q_:o,G_:t.irt,fs:t.fs,XD:h,qvt:f});case 10:case"end":return v.stop()}},null,null,null,We)}function SG(t,n){for(var i=[],e=function(t){return t?vs(t,"avc")?Nh.VIDEO_H264:vs(t,"hev")||vs(t,"hvc")||vs(t,"hvt")||vs(t,"lhv")||vs(t,"lhe")||vs(t,"lht")?Nh.VIDEO_H265:vs(t,"mp4")?Nh.VIDEO_MP4:vs(t,"mpeg2")?Nh.VIDEO_MPEG2:vs(t,"mpeg")?Nh.VIDEO_MPEG:Nh.VIDEO_UNKNOWN:Nh.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.Y0.split(":").pop(),o=s.j0;i.push({mimeType:e,uuid:u,data:o})}return{type:wG.Dg,schemeType:Wr,schemeDatas:i}}function EG(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(IG(t,n));case 2:r=u.sent,s={H_:DG(t),$S:r,HR:t.HR,$e:t.$e,dT:t.dT,fs:t.fs,Bk:t.Bk},u.t0=t.fs,u.next=u.t0===Qy.$n?7:u.t0===Qy.Ed?8:u.t0===Qy.Sd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.rJ=null!=(i=null==(e=t.rJ)?void 0:e.xk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.oJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function IG(t,n){var i,e,r,s,u,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.Yvt,t.Dct&&i.push({Jy:0,Qg:0,jvt:t.Dct}),r=e.Qvt(),s=r;case 5:if(!s){h.next=17;break}if(!t.Zvt(s)){h.next=13;break}return h.next=9,Dr.awrap(t.Kvt(s,n,(new Js).Ws));case 9:for(u=h.sent,o=0;o<u.C_;o++)i.push(RG(u.Jvt(o),t));h.next=14;break;case 13:i.push(RG(s,t));case 14:s=e.$vt(s),h.next=5;break;case 17:return a=e.tlt(),c=a.$y-r.Jy,h.abrupt("return",{Qg:c,aJ:i});case 20:case"end":return h.stop()}},null,null,null,We)}function RG(t,n){return{Jy:t.Jy,Qg:t.Qg,jvt:n.nlt(t)}}function DG(t){return t.ilt.MN+"-"+(""+t.H_)}function NG(t,n){return function(t,n){for(var i={},e=0;e<ax.length;e++){var r=ax[e],s=t[r],u={};for(var o in s){for(var a=[],c=s[o],h=0;h<c.length;h++){var f=c[h],v=CG(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.n$]||(n[e.n$]={fs:e.fs,oT:[]}),n[e.n$].oT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.oT;s<u.length;s++){var o,a,c=u[s],h=null!=(a=i[o=r.fs])?a:i[o]={};h[c.wi]||(h[c.wi]=[]),h[c.wi].push(c)}return i}(t),n)}function CG(t,n,i){for(var e=t.n$,r={b$:t,Y$:[]},s=0;s<i.length;s++){var u=i[s];_M(n,e,u)&&r.Y$.push(u)}return r}function PG(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(n.zct([t],{}));case 2:return i=e.sent,e.abrupt("return",YL(i.od,{},i.Xct));case 4:case"end":return e.stop()}},null,null,null,We)}function BG(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!ex(t)){i.next=4;break}return i.abrupt("return",OG(t,n));case 4:return i.abrupt("return",(r=void 0,{Qg:(r=VG(e=t)).Qg,Fvt:[e.r$],Mvt:[{Vvt:[{fs:Qy.vd,JA:[{fs:Qy.vd,G_:UU,q_:[{H_:e.r$,$S:r,HR:0,$e:"",dT:0,fs:Qy.vd,Bk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function OG(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=NG(t.oT,t.V1),s.next=3,Dr.awrap(MG(i,n));case 3:return e=s.sent,s.next=6,Dr.awrap(LG(t.V1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Qg:xG(e),Fvt:[t.r$],Mvt:[{Vvt:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function xG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].JA;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.q_.map(function(t){return t.$S.Qg})))}return n}function LG(t,n){var i,e,r,s,u,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){h.next=15;break}return a=t[e],h.next=6,Dr.awrap(zG(a.r$,n));case 6:(c=h.sent).HR=a.HR,c.$e=a.ZH?[(f=a.ZH).QH,f.jH,f.KH].filter(F).join(","):"",c.dT=null!=(r=null==(s=a.O$)?void 0:s.dT)?r:0,c.Bk=null!=(u=null==(o=a.O$)?void 0:o.Bk)?u:0,i.push(c);case 12:e++,h.next=2;break;case 15:return h.abrupt("return",{fs:Qy.vd,JA:[{G_:UU,fs:Qy.vd,q_:i}]});case 16:case"end":return h.stop()}var f},null,null,null,We)}function MG(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<ax.length)){o.next=13;break}if(r=ax[e],!(s=t[r])){o.next=10;break}return o.next=8,Dr.awrap(UG(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,We)}function UG(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Dr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Dr.awrap(XG(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{fs:FG(n),JA:e});case 12:case"end":return o.stop()}},null,null,null,We)}function XG(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].b$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Dr.awrap(HG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{G_:e.G_||UU,fs:FG(e.fs),q_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function FG(t){switch(t){case $O.Sd:return Qy.Sd;case $O.Ed:return Qy.Ed;case $O.rA:case $O.BJ:return Qy.$n;default:return Qy.vd}}function HG(t,n){var i,e,r;return zG((e=(i=t).b$.r$,r=i.Y$.map(function(t){return t.r$}),e||(r.length?r[0]:void 0)),n)}function zG(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Qg:0,aJ:[]},!t){r.next=6;break}return r.next=4,Dr.awrap(PG(t,n));case 4:rx(e=r.sent)&&(i=VG(e));case 6:return r.abrupt("return",{H_:t||"default",elt:t,$S:i,HR:0,$e:"",dT:0,fs:Qy.vd,Bk:0});case 7:case"end":return r.stop()}},null,null,null,We)}function VG(t){for(var n,i=[],e=0,r=0,s=t.aJ;r<s.length;r++){var u=s[r],o=e;!u.Y1||void 0!==n&&fx(u.Y1.r$,n)||(i.push(WG(u.Y1,o)),n=u.Y1.r$),i.push(GG(u,o)),e+=u.Qg}return{Qg:e,aJ:i}}function WG(t,n){return{Jy:n,Qg:0,jvt:qG(t.r$)}}function GG(t,n){return{Jy:n,Qg:t.Qg,jvt:qG(t.r$)}}function qG(t){return{hd:t.Ai,bct:t.OJ?[t.OJ.MN,t.OJ.MN+t.OJ.C_]:void 0,Pd:!1}}!function(t){t.NE="static",t.CE="dynamic"}(bG||(bG={}));var YG,jG=31536e3,QG=2592e3,ZG=86400,KG=3600,JG=60,$G=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,tq=function(){function t(t){this.rlt=void 0;var n=t.match($G);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.rlt=i*jG+e*QG+r*ZG+s*KG+u*JG+o}var n=t.prototype;return n.Uvt=function(){return this.rlt},n.slt=function(){return 1e3*this.rlt},A(t,[{key:"rtt",get:function(){return Qk.Wb(this.rlt,1e3)}}]),t}();!function(t){t.ult="progressive",t.olt="interlaced",t.vd="unknown"}(YG||(YG={}));var nq=function(){function t(t,n){this.clt=t,this.hlt=n}return t.prototype.xk=function(){return this.clt/this.hlt},t}(),iq=/^(?:true|false)$/i,eq=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function rq(t){if(void 0!==t)return new tq(t)}function sq(t){if(void 0!==t){var n=t.match(eq);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),b=Number(a),p=Number("0."+(c||"")),A=w.round(1e3*p);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,b,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function uq(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[aq(n[1]),aq(n[2])]}}function oq(t){if(void 0!==t){if(!m(Number(t)))try{return ft.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function aq(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function cq(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new nq(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function hq(t){if(void 0!==t){if(iq.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function fq(t){return{hd:t.Fi,flt:hq(t.Bi("availabilityTimeComplete")),vlt:aq(t.Bi("availabilityTimeOffset"))}}function vq(t){return t.map(fq)}function lq(t){var n,i,e,r,s,u,o=Tq(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),c=ip(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(u=Hu(c.Fi)),!u){var h=ip(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(u=function(t){var n=Pu(t.Fi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new Vo;vo(o,a,r),vo(o,a,1886614376),vo(o,a,0),uo(o,a,i),vo(o,a,e),uo(o,a,n),0;return u.buffer}(h))}return{ZE:a,j0:u,Y0:o.Y0,Ai:o.Ai}}function dq(t){return{llt:t.Bi("sourceURL"),bct:uq(t.Bi("range"))}}function wq(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=aq(t.Bi("r"));n.push({Qg:i,Jy:e,dlt:r})}function _q(t){return{wlt:t.Bi("index"),_lt:uq(t.Bi("indexRange")),oT:t.Bi("media"),glt:uq(t.Bi("mediaRange"))}}function gq(t){var n,i;return Nr({},kq(t),{ylt:(n=t.Ei("SegmentURL"),(i=n.map(_q)).length>0?i:void 0),klt:t.Bi("xlink:href"),blt:t.Bi("xlink:actuate")})}function mq(t){var n=t.map(gq);return n.length>0?n:void 0}function yq(t){var n=hq(t.Bi("availabilityTimeComplete")),i=aq(t.Bi("availabilityTimeOffset")),e=uq(t.Bi("indexRange")),r=hq(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?dq(s[0]):void 0,o=oq(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{flt:n,vlt:i,_lt:e,plt:r,Alt:u,Tlt:o,Slt:1===a.length?dq(a[0]):void 0,Elt:rq(t.Bi("timeShiftBufferDepth")),Bb:aq(t.Bi("timescale"))}}function kq(t){var n=yq(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?dq(i[0]):void 0,r=aq(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Nr({},n,{Ilt:e,Qg:r,Yvt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)wq(i[e],n);return n}(s[0]):void 0,Rlt:aq(t.Bi("startNumber")),Dlt:aq(t.Bi("endNumber"))})}function bq(t){return Nr({},kq(t),{Nlt:t.Bi("bitstreamSwitching"),Clt:t.Bi("index"),Plt:t.Bi("initialization"),Blt:t.Bi("media")})}function pq(t){return{oJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(aq)):1===n.length?n.map(aq)[0]:void 0}}(t.Bi("audioSamplingRate")),ZH:t.Bi("codecs"),Olt:hq(t.Bi("codingDependency")),n1:function(t){if(0!==t.length)return t.map(lq)}(t.Ei("ContentProtection")),xlt:t.Ei("EssentialProperty").map(Sq),rJ:cq(t.Bi("frameRate")),dT:aq(t.Bi("height")),Gvt:aq(t.Bi("maxPlayoutRate")),Llt:aq(t.Bi("maximumSAPPeriod")),iO:t.Bi("mimeType"),Mlt:t.Bi("profiles"),Ult:t.Bi("sar"),Xlt:function(t){switch(t){case YG.ult:case YG.olt:case YG.vd:return t;default:return}}(t.Bi("scanType")),Flt:t.Bi("segmentProfiles"),Hlt:aq(t.Bi("startWithSAP")),Bk:aq(t.Bi("width"))}}function Aq(t){var n=pq(t),i=aq(t.Bi("bandwidth")),e=vq(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=aq(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?yq(a[0]):void 0,h=mq(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{HR:i,zlt:e,Vlt:r,H_:s,Wlt:u,Glt:o,qlt:c,Ylt:h,jlt:1===f.length?bq(f[0]):void 0})}function Tq(t){return{Y0:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function Sq(t){return Tq(t)}function Eq(t){return Tq(t)}function Iq(t){return Tq(t)}function Rq(t){var n,i=pq(t),e=function(t){return t.map(Iq)}(t.Ei("Accessibility")),r=vq(t.Ei("BaseURL")),s=hq(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=aq(t.Bi("group")),a=aq(t.Bi("id")),c=(null==(n=t.Ei("Label")[0])?void 0:n.Fi)||"",h=t.Bi("lang"),f=aq(t.Bi("maxBandwidth")),l=cq(t.Bi("maxFrameRate")),d=aq(t.Bi("maxHeight")),w=aq(t.Bi("maxWidth")),_=aq(t.Bi("minBandwidth")),g=cq(t.Bi("minFrameRate")),m=aq(t.Bi("minHeight")),y=aq(t.Bi("minWidth")),k=t.Bi("par"),b=t.Ei("Representation").map(Aq);if(0===b.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var p=function(t){return t.map(Eq)}(t.Ei("Role")),A=hq(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?yq(T[0]):void 0,E=mq(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,D=1===I.length?bq(I[0]):void 0,N=aq(t.Bi("selectionPriority")),C=N||1,P=hq(t.Bi("subsegmentAlignment"))||!1;try{R=aq(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{Qlt:e,zlt:r,Ilt:s,Fl:u,Zlt:o,H_:a,W_:c,G_:h,Klt:f,Jlt:l,$lt:d,tdt:w,ndt:_,idt:g,edt:m,rdt:y,sdt:k,i1:b,udt:p,odt:A,qlt:S,Ylt:E,jlt:D,uN:C,adt:P,cdt:R,hdt:t.Bi("xlink:actuate")||"onRequest",fdt:t.Bi("xlink:href")})}function Dq(t){var n=oq(t.Bi("presentationTime"))||ft.ZERO,i=oq(t.Bi("duration")),e=aq(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Fi;return{xS:n,Qg:i,H_:e,Xi:r,Hi:""!==s.trim()?s:t.Bi("messageData")||""}}function Nq(t){return{fdt:t.Bi("xlink:href"),hdt:t.Bi("xlink:actuate"),Y0:t.Bi("schemeIdUri"),Ai:t.Bi("value"),Bb:aq(t.Bi("timescale")),Tlt:oq(t.Bi("presentationTimeOffset")),eO:t.Ei("Event").map(Dq)}}function Cq(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?Tq(i[0]):void 0,r=t.Ei("AdaptationSet").map(Rq),s=vq(t.Ei("BaseURL")),u=hq(t.Bi("bitstreamSwitching")),o=rq(t.Bi("duration")),a=t.Ei("EventStream").map(Nq),c=t.Bi("id"),h=n&&rq(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?yq(f[0]):void 0,d=mq(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?bq(w[0]):void 0,g=rq(t.Bi("start"));t.Ei("Subset");var m=t.Bi("xlink:href");return{Wvt:r,vdt:e,zlt:s,Ilt:u,Qg:o,ldt:a,H_:c,ddt:h,qlt:l,Ylt:d,jlt:_,MN:g,hdt:t.Bi("xlink:actuate"),fdt:m}}function Pq(t){var n=t.Bi("schemeIdUri");if(n)return{Y0:n,Ai:t.Bi("value")}}function Bq(t,n){var i=sq(t.Bi("availabilityEndTime")),e=sq(t.Bi("availabilityStartTime")),r=vq(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Fi}),o=rq(t.Bi("maxSegmentDuration")),a=rq(t.Bi("maxSubsegmentDuration")),c=rq(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var h=rq(t.Bi("minBufferTime"));if(!h)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=rq(t.Bi("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(Cq(t[i],t[i+1]));return n}(t.Ei("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{wdt:i,_dt:e,zlt:r,H_:s,gdt:u,mdt:n,ydt:o,kdt:a,Xvt:c,bdt:h,pdt:f,Mvt:l,Mlt:d,Adt:sq(t.Bi("publishTime")),Tdt:rq(t.Bi("suggestedPresentationDelay")),Elt:rq(t.Bi("timeShiftBufferDepth")),fs:function(t){switch(t){case bG.NE:case bG.CE:return t;default:return}}(t.Bi("type")),Sdt:function(t){for(var n=[],i=0;i<t.length;i++){var e=Pq(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var Oq,xq=function(){function t(){}return t.prototype.Cht=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return Bq(t,n)}(i.ui(t).zi,n)},t}(),Lq=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(gu),Mq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).z_=void 0,u.My=void 0,u.Edt=void 0,u.H_=n,u.HR=i,u.ZH=e,u.r$=s,u.z_=rk(),u.My=r||"",u.Edt=!0,u}return S(n,t),n.prototype.mE=function(){this.Edt=!1,this.Qs(new Lq(this.t_))},A(n,[{key:"W_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Qs(new Lq(this.t_)))}},{key:"eJ",get:function(){}},{key:"uJ",get:function(){return this.Edt}}]),n}(wu),Uq=function(t){function n(n,i,e,r,s,u,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,e,r,s)||this).$w=void 0,h.rJ=u,h.Bk=o,h.dT=a,h.sJ=c,h}return S(n,t),A(n,[{key:"t_",get:function(){return this.$w||(this.$w=tx(this)),this.$w}}]),n}(Mq),Xq=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).$w=void 0,o.oJ=u,o}return S(n,t),A(n,[{key:"t_",get:function(){return this.$w||(this.$w=nx(this)),this.$w}}]),n}(Mq);!function(t){t.Idt="Rdt",t.Ddt="Ndt"}(Oq||(Oq={}));var Fq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Cdt=function(t){n.Qs(t)},n}return S(n,t),A(n,[{key:"Pdt",get:function(){var t=this.Bdt();return null==t?void 0:t.MN}},{key:"Odt",get:function(){var t=this.Bdt();return null==t?void 0:t.XN}}]),n}(wu);function Hq(t){return Z(t.xdt)}var zq=function(t){function n(n,i){var e;if((e=t.call(this)||this).Ldt=void 0,e.$w=void 0,e.x4=void 0,e.Mdt=void 0,e.Udt=void 0,e.Ldt=n,e.x4=i,e.x4.Zs(Oq.Idt,e.Cdt),e.fs===Qy.Ed){var r,s,u=null!=(r=null==(s=e.rJ)?void 0:s.xk())?r:NaN;e.Mdt=new Uq(e.H_,e.HR,e.$e,"","",u,e.Bk,e.dT)}else e.fs===Qy.Sd?e.Mdt=new Xq(e.H_,e.HR,e.$e,"","",e.oJ):e.Mdt=void 0;return e}S(n,t);var i=n.prototype;return i.nlt=function(t){var n=Hq(t)?this.x4.Xdt(t):this.x4.nlt(t);return{hd:n.hd,bct:n.bct,Pd:this.Fdt.Pd}},i.Hdt=function(){return this.x4.Hdt()},i.Bdt=function(){return this.x4.Bdt()},i.zdt=function(){return this.x4.zdt()},i.Zvt=function(t){return this.x4.Zvt(t)},i.Kvt=function(t,n,i){return this.x4.Kvt(t,this.Fdt.Pd,n,i)},i.Vdt=function(t){return Hq(t)?this.Yvt.Wdt(t):this.Yvt.Vdt(t)},i.Gdt=function(t){return Hq(t)?this.Yvt.qdt(t):this.Yvt.Gdt(t)},i.xd=function(){this.x4.tu(Oq.Idt,this.Cdt)},A(n,[{key:"Ydt",get:function(){return this.Ldt}},{key:"oJ",get:function(){var t;return null!=(t=this.x4.Hi.oJ)?t:this.Ydt.oJ}},{key:"HR",get:function(){return this.x4.Hi.HR||0}},{key:"ZH",get:function(){var t=this.x4.Hi;return t.ZH?[t.ZH]:this.Ydt.ZH}},{key:"jdt",get:function(){var t=this.x4.Hi;return t.ZH?[t.ZH]:[]}},{key:"$e",get:function(){return this.x4.Hi.ZH||this.Ydt.$e}},{key:"Olt",get:function(){return this.x4.Hi.Olt||this.Ydt.Olt}},{key:"n1",get:function(){return this.x4.Hi.n1||this.Ydt.n1}},{key:"Fl",get:function(){return this.iO+'; codecs="'+this.$e+'"'}},{key:"xlt",get:function(){var t=this.x4.Hi;return t.xlt.length?t.xlt:this.Ydt.xlt}},{key:"t_",get:function(){return this.$w||(this.$w=(t=this,{get id(){return t.H_},get type(){return t.fs},get bandwidth(){return t.HR},get width(){return t.Bk},get height(){return t.dT},get frameRate(){var n,i;return null!=(n=null==(i=t.rJ)?void 0:i.xk())?n:NaN},get audioSamplingRate(){return t.oJ}}));var t}},{key:"rJ",get:function(){var t;return null!=(t=this.x4.Hi.rJ)?t:this.Ydt.rJ}},{key:"dT",get:function(){return this.x4.Hi.dT||this.Ydt.dT}},{key:"H_",get:function(){return this.x4.Hi.H_||""}},{key:"Qdt",get:function(){return this.Udt},set:function(t){this.Udt=t}},{key:"Dct",get:function(){var t=this.x4.Zdt();if(t)return{hd:t.hd,bct:t.bct,Pd:this.Fdt.Pd}}},{key:"Gvt",get:function(){return this.x4.Hi.Gvt||this.Ydt.Gvt||1}},{key:"Llt",get:function(){return this.x4.Hi.Llt||this.Ydt.Llt}},{key:"Fdt",get:function(){return this.ilt.Fdt}},{key:"iO",get:function(){return this.x4.Hi.iO||this.Ydt.iO}},{key:"ilt",get:function(){return this.Ydt.ilt}},{key:"Mlt",get:function(){return this.x4.Hi.Mlt||this.Ydt.Mlt}},{key:"v$",get:function(){return this.Mdt}},{key:"Ult",get:function(){return this.x4.Hi.Ult||this.Ydt.Ult}},{key:"Xlt",get:function(){return this.x4.Hi.Xlt||this.Ydt.Xlt}},{key:"Kdt",get:function(){return this.x4.Kdt}},{key:"Flt",get:function(){return this.x4.Hi.Flt||this.Ydt.Flt}},{key:"Yvt",get:function(){return this.x4.Yvt}},{key:"Hlt",get:function(){return this.x4.Hi.Hlt||this.Ydt.Hlt}},{key:"fs",get:function(){var t=this.iO.split("/")[0];return"application"===t||"text"===t||Bp(this.iO,this.ZH)?Qy.$n:"video"===t?Qy.Ed:"audio"===t?Qy.Sd:"image"===t?Qy.Id:Qy.vd}},{key:"Bk",get:function(){return this.x4.Hi.Bk||this.Ydt.Bk}}]),n}(Fq),Vq=function(t){function n(n,i){var e;return(e=t.call(this)||this).Jdt=[],e.x4=void 0,e.$dt=void 0,e.twt=[],e.$dt=n,e.x4=i,e.x4.Zs(Oq.Idt,e.Cdt),e}S(n,t);var i=n.prototype;return i.qc=function(t,n){var i,e=this;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.twt.length){r.next=6;break}return this.twt=[],i=this.x4.i1.map(function(i){return e.nwt(i,t,n)}),r.next=5,Dr.awrap(We.all(i));case 5:this.twt=r.sent.filter(F);case 6:this.iwt();case 7:case"end":return r.stop()}},null,this,null,We)},i.nwt=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new zq(this,t),s.next=3,Dr.awrap(n(e));case 3:if(r=s.sent,nu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.iwt=function(){if(!this.twt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Bdt=function(){return this.x4.Bdt()},i.zdt=function(){return this.x4.zdt()},i.xd=function(){this.x4.tu(Oq.Idt,this.Cdt);for(var t=0,n=this.twt;t<n.length;t++){n[t].xd()}zs(this.twt)},A(n,[{key:"Qlt",get:function(){return this.x4.Hi.Qlt}},{key:"oJ",get:function(){var t;return null!=(t=this.x4.Hi.oJ)?t:-1}},{key:"ZH",get:function(){if(this.x4.Hi.ZH)return[this.x4.Hi.ZH];for(var t=[],n=0,i=this.i1;n<i.length;n++){var e=i[n];e.jdt.length&&-1===t.indexOf(e.$e)&&t.push(e.$e)}return t}},{key:"$e",get:function(){return this.ZH.join()}},{key:"Olt",get:function(){return this.x4.Hi.Olt}},{key:"n1",get:function(){return this.x4.Hi.n1}},{key:"Fl",get:function(){return this.iO+'; codecs="'+this.$e+'"'}},{key:"xlt",get:function(){return this.Jdt}},{key:"rJ",get:function(){return this.x4.Hi.rJ}},{key:"Zlt",get:function(){return this.x4.Hi.Zlt}},{key:"dT",get:function(){return this.x4.Hi.dT||0}},{key:"H_",get:function(){return this.x4.Hi.H_}},{key:"W_",get:function(){return this.x4.Hi.W_||""}},{key:"Gvt",get:function(){return this.x4.Hi.Gvt}},{key:"Llt",get:function(){return this.x4.Hi.Llt}},{key:"Fdt",get:function(){return this.ilt.Fdt}},{key:"iO",get:function(){return this.x4.Hi.iO||this.twt[0].iO}},{key:"ilt",get:function(){return this.$dt}},{key:"Mlt",get:function(){return this.x4.Hi.Mlt}},{key:"i1",get:function(){return this.twt}},{key:"udt",get:function(){return this.x4.Hi.udt||[]}},{key:"Ult",get:function(){return this.x4.Hi.Ult}},{key:"Xlt",get:function(){return this.x4.Hi.Xlt}},{key:"Flt",get:function(){return this.x4.Hi.Flt}},{key:"uN",get:function(){return this.x4.Hi.uN}},{key:"Hlt",get:function(){return this.x4.Hi.Hlt}},{key:"fs",get:function(){var t=(this.x4.Hi.Fl||this.iO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Bp(this.iO,this.ZH)?Qy.$n:"video"===t?Qy.Ed:"audio"===t?Qy.Sd:"image"===t?Qy.Id:Qy.vd}},{key:"Bk",get:function(){return this.x4.Hi.Bk||0}},{key:"irt",get:function(){return this.x4.Hi.G_||""}},{key:"ewt",get:function(){return this.Pdt}},{key:"rwt",get:function(){var t=this.ewt,n=this.Odt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.Fdt.swt);return w.max(t,i)}}}]),n}(Fq);function Wq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var Gq=function(){function t(t,n){this.$dt=void 0,this.uwt=void 0,this.ra=void 0,this.owt=void 0,this.awt=void 0,this.$dt=t,this.uwt=n,this.ra=n.Bb,this.owt=n.vlt,this.awt=n.Tlt}var n=t.prototype;return n.cwt=function(t){var n=t-this.$dt.MN;if(!(n<0||n>=this.$dt.Qg)){var i=this.hwt();return void 0!==i&&Ut(i,n,1e-5)?this.Qvt():this.fwt(n)}},n.vwt=function(t){var n=t-this.$dt.MN;if(!(n<0))return this.lwt(w.min(n,this.$dt.Qg))},n.Qvt=function(){return this.dwt(0)},n.tlt=function(){var t=this.$dt.Qg;if(isFinite(t))return this.lwt(t)},n.Hdt=function(t){if(this.$dt.wwt.fs===bG.CE){var n=this._wt(t);if(!n)return;return{gwt:t,mwt:this.ywt(t),kwt:n}}var i=this.Qvt();if(i)return{gwt:t,mwt:i,kwt:this.tlt()}},n.zdt=function(t,n){if(n){var i=this.bwt(n.mwt),e=this.$vt(n.kwt);if(e){var r=this.pwt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Qvt();if(s){var u=this.pwt(s);if(t.getTime()<u.getTime())return u}var o=this.$dt.wwt._dt;return t.getTime()<o.getTime()?o:void 0},n._wt=function(t){var n=(t.getTime()-this.$dt.wwt._dt.getTime())/1e3-this.$dt.MN+this.owt,i=this.lwt(Mt(n,0,this.$dt.Qg));if(i&&(i=this.Awt(i,t))){for(var e=this.$vt(i);e&&this.Twt(e,t);)i=e,e=this.$vt(i);return i}},n.ywt=function(t){var n,i=this.uwt.Elt;if(i){var e=(t.getTime()-this.$dt.wwt._dt.getTime())/1e3-this.$dt.MN-i.Uvt();(n=this.lwt(Mt(e,0,this.$dt.Qg)))||(n=this.Qvt())}else n=this.Qvt();if(n&&(n=this.Awt(n,t))){for(var r=this.Swt(n);r&&this.Twt(r,t);)n=r,r=this.Swt(n);return n}},n.Awt=function(t,n){for(var i=t;i&&this.pwt(i).getTime()>n.getTime();)i=this.Swt(i);if(i){var e=this.bwt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Swt(i);for(r&&this.Twt(r,n)&&(i=r);i;){if(this.pwt(i).getTime()>n.getTime())return;if(this.Twt(i,n))break;i=this.$vt(i)}if(!i)return}return i}},n.Twt=function(t,n){if(this.pwt(t).getTime()>n.getTime())return!1;var i=this.bwt(t);return!(i&&n.getTime()>=i.getTime())},n.Ewt=function(t,n){if(this.Iwt(t).getTime()>n.getTime())return!1;var i=this.bwt(t);return!(i&&n.getTime()>=i.getTime())},n.Rwt=function(t,n,i){var e=jt(n,this.ra)+this.$dt.MN;return{wlt:t,Dwt:n,Jy:e,Qg:i,$y:e+i}},n.Iwt=function(t){return this.$dt.wwt.fs===bG.CE?new Date(this.$dt.wwt._dt.getTime()+1e3*(t.Jy+t.Qg)):this.$dt.wwt._dt},n.pwt=function(t){var n=this.Iwt(t);return this.$dt.wwt.fs===bG.CE?new Date(n.getTime()-1e3*this.owt):n},n.bwt=function(t){var n=1/0;if(this.$dt.wwt.fs===bG.CE){var i=this.uwt.Elt;i&&(n=this.Iwt(t).getTime()+1e3*t.Qg+i.slt())}var e=this.$dt.wwt.wdt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Nwt=function(t,n){return t.wlt+n},n.Zvt=function(t){return!1},n.Kvt=function(t,n,i,e,r){var s=this.Cwt(t);if(!s)return We.reject(new v("Invalid segment"));var u=this.Pwt(s.wlt);return u?We.resolve(u):this.Bwt(s.wlt,n,i,e,r)},n.Pwt=function(t){},n.Bwt=function(t,n,i,e,r){return We.reject(new v("Not supported"))},n.Swt=function(t){var n=this.Cwt(t);if(n)return this.dwt(n.wlt-1)},n.$vt=function(t){var n=this.Cwt(t);if(n)return this.dwt(n.wlt+1)},n.Cwt=function(t){var n=this.dwt(t.wlt);if(n&&n.Jy===t.Jy)return n;var i=this.cwt(t.Jy);return i&&i.Jy===t.Jy?i:void 0},n.Owt=function(t){var n=this.xwt(t);if(n&&this.Zvt(n.wlt)){var i=this.Pwt(n.wlt);if(i)return i.Owt(t)}},n.xwt=function(t){return this.dwt(t.Lwt)},n.Vdt=function(t){var n=this.Cwt(t);return!!n&&0===n.wlt},n.Wdt=function(t){var n=this.Owt(t);return!!n&&0===n.xdt},n.Gdt=function(t){var n=this.Cwt(t);if(!n)return!1;var i=this.tlt();return!!i&&n.wlt===i.wlt},n.qdt=function(t){var n=this.Owt(t);if(!n)return!1;var i=this.tlt();if(!i||n.Lwt!==i.wlt)return!1;var e=this.Pwt(n.Lwt);return n.xdt+1===e.C_},A(t,[{key:"fp",get:function(){return this.$dt.MN-jt(this.awt,this.ra)}},{key:"Tlt",get:function(){return jt(this.awt,this.ra)}}]),t}(),qq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Mwt=void 0,e.Uwt=void 0;var r=n.Xwt,s=n.Qg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Uwt=r,e.Mwt=s,e}S(n,t);var i=n.prototype;return i.dwt=function(t){if(!(t<0)){var n=this.Uwt.multiply(t),i=jt(n,this.ra),e=this.$dt.Qg;if(!(i>=e)){var r=this.Fwt();if(void 0!==r){if(t>r)return;if(t===r)return this.Rwt(t,n,e-i)}return isFinite(e)&&i+this.Mwt>e?this.Rwt(t,n,e-i):this.Rwt(t,n,this.Mwt)}}},i.hwt=function(){return 0},i.fwt=function(t){var n=w.floor(t/this.Mwt),i=this.Fwt();return void 0!==i&&n>=i?this.dwt(i):this.dwt(n)},i.lwt=function(t){if(t>=this.$dt.Qg){var n=w.ceil(this.$dt.Qg/this.Mwt)-1,i=this.Fwt();return void 0!==i&&n>=i?this.dwt(i):this.dwt(n)}return this.fwt(t)},i.Fwt=function(){var t,n=this.uwt.Dlt;if(void 0!==n)return n-(null!=(t=this.uwt.Rlt)?t:1);if(isFinite(this.$dt.Qg)){var i=this.uwt.Hwt;if(void 0!==i&&i>0)return i-1}},i.zwt=function(){if(isFinite(this.$dt.Qg))return this.tlt()},i.Vwt=function(t,n){return this.Uwt.multiply(t.wlt+(n-1))},i.qc=function(){},n}(Gq);function Yq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Jy,u=t[r].$y;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],c=a.Jy,h=o+1<i?t[o+1].Jy:a.$y;if(h.lessThanOrEqual(n))e=o+1,s=h;else{if(!n.lessThan(c))return o;r=o-1,u=c}}return-1}var jq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).d3=[],e.Wwt=void 0,e.Zet=ft.ZERO,e.qc(),e}S(n,t);var i=n.prototype;return i.dwt=function(t){if(!(t<0))return t<this.d3.length?this.d3[t].w8:this.Gwt(t-this.d3.length)},i.hwt=function(){if(this.d3.length>0)return jt(this.d3[0].Jy,this.ra)},i.fwt=function(t){if(this.Wwt&&jt(this.Wwt.Jy,this.ra)<=t){var n=jt(this.Wwt.Jy,this.ra),i=jt(this.Wwt.Qg,this.ra),e=w.floor((t-n)/i);return this.Gwt(e)}if(this.d3.length>0&&Ut(t,jt(this.d3[0].Jy,this.ra),1e-5))return this.d3[0].w8;var r=Yq(this.d3,ft.fromNumber(t*this.ra));return r<0?void 0:this.d3[r].w8},i.lwt=function(t){if(!this.Wwt&&this.d3.length>0){var n=this.d3[this.d3.length-1];if(i=t,e=jt(n.$y,this.ra),Bs(i,e,1e-5)>=0)return n.w8}var i,e,r=this.hwt();return r&&t<r?this.d3[0].w8:this.fwt(t)},i.zwt=function(){return isFinite(this.$dt.Qg)?this.tlt():this.dwt(this.d3.length-1)},i.Vwt=function(t){return this.qwt(t)},i.Gwt=function(t){if(this.Wwt){var n=this.Wwt.Jy,i=this.Wwt.Qg,e=n.add(i.multiply(t)),r=jt(e,this.ra),s=this.$dt.Qg;if(!(r>=s)){var u=this.d3.length+t,o=w.min(jt(i,this.ra),r+s);return this.Rwt(u,e,o)}}},i.qwt=function(t){return t.Dwt.add(this.awt)},i.qc=function(){var t=this.uwt.Hi.Yvt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.C3(t)},i.C3=function(t){var n=this.awt;this.Ywt(t,n);var i=this.jwt(t);this.Qwt(t,n,i.Zwt,i.Lwt)},i.Ywt=function(t,n){var i=this.d3;if(0===t.length)zs(i);else{for(var e=t[0],r=e.Jy?ft.fromString(e.Jy,!1).subtract(n):ft.ZERO,s=0;s<i.length&&i[s].Jy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.jwt=function(t){for(var n=this.d3,i=this.Zet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].dlt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Jy.greaterThanOrEqual(i))break;if(n[r].w8.wlt===r)r=u+1;else for(;r<=u;)n[r].w8.wlt=r,r++;0,e++}return{Zwt:e,Lwt:r}},i.Qwt=function(t,n,i,e){for(var r,s=this.d3,u=i,o=e;u<t.length;){var a=t[u],c=ft.fromString(a.Qg,!1),h=a.dlt||0,f=void 0;if(a.Jy){if(f=ft.fromString(a.Jy,!1).subtract(n),o>0){var v=s[o-1];v.$y.greaterThan(f)&&(v.Qg=f.subtract(v.Jy),v.$y=v.Jy.add(v.Qg))}}else f=o>0?s[o-1].$y:ft.ZERO;if(h<0){if(u+1===t.length){r={Jy:f,Qg:c};break}for(var l=ft.fromString(t[u+1].Jy,!1).subtract(n);f.lessThan(l);){var d=f.add(c);this.Kwt(s,o,f,c,d),f=d,o++}}else for(var w=o+h;o<=w;){var _=f.add(c);this.Kwt(s,o,f,c,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Zet=s[s.length-1].Jy),this.Wwt=r},i.Kwt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Qg.equals(e)?s.w8.wlt=n:t[n]={Jy:i,Qg:e,$y:r,w8:this.Rwt(n,i,jt(e,this.ra))}}else t.push({Jy:i,Qg:e,$y:r,w8:this.Rwt(n,i,jt(e,this.ra))})},n}(Gq),Qq=function(){function t(t,n,i){this.ilt=void 0,this.Jwt=void 0,this.Gi=void 0,this.$wt=void 0,this.t_t=void 0,this.ilt=t,this.Jwt=n,this.Gi=i}var n=t.prototype;return n.n_t=function(){if(this.t_t=this.i_t(),this.t_t)return this.t_t;if(this.Jwt)return this.Jwt.Yvt;throw new v("Missing media segment information.")},n.Zdt=function(t){var n=this.Alt;if(n)return{hd:(void 0!==n.llt?i.Br(n.llt,t.zlt[0]):t.zlt[0]).href,bct:n.bct};var e=this._lt;return e?{hd:t.zlt[0].href,bct:[0,e[0]-1]}:void 0},n.qc=function(t){this.Gi=t,this.t_t&&this.t_t.qc()},A(t,[{key:"Hi",get:function(){return this.Gi}},{key:"vlt",get:function(){return this.Gi&&void 0!==this.Gi.vlt?this.Gi.vlt:this.Jwt?this.Jwt.vlt:0}},{key:"Tlt",get:function(){return this.Gi&&void 0!==this.Gi.Tlt?this.Gi.Tlt:this.Jwt?this.Jwt.Tlt:ft.ZERO}},{key:"Elt",get:function(){return this.Gi&&void 0!==this.Gi.Elt?this.Gi.Elt:this.Jwt?this.Jwt.Elt:this.ilt.wwt.Elt}},{key:"Bb",get:function(){return this.Gi&&void 0!==this.Gi.Bb?this.Gi.Bb:this.Jwt&&this.Jwt.Bb?this.Jwt.Bb:1}},{key:"_lt",get:function(){return this.Gi&&void 0!==this.Gi._lt?this.Gi._lt:this.Jwt?this.Jwt._lt:void 0}},{key:"Alt",get:function(){return this.Gi&&void 0!==this.Gi.Alt?this.Gi.Alt:this.Jwt?this.Jwt.Alt:void 0}},{key:"Yvt",get:function(){return this.$wt||(this.$wt=this.n_t()),this.$wt}}]),t}(),Zq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.i_t=function(){return this.Gi.Yvt?new jq(this,this.ilt):void 0!==this.Gi.Qg?new qq(this,this.ilt):void 0},A(n,[{key:"Qg",get:function(){return void 0!==this.Gi.Qg?this.Gi.Qg/this.Bb:this.Jwt&&this.Jwt instanceof n?this.Jwt.Qg:void 0}},{key:"Xwt",get:function(){return void 0!==this.Gi.Qg?ft.fromNumber(this.Gi.Qg):this.Jwt&&this.Jwt instanceof n?this.Jwt.Xwt:void 0}},{key:"Rlt",get:function(){return void 0!==this.Gi.Rlt?this.Gi.Rlt:this.Jwt&&this.Jwt instanceof n?this.Jwt.Rlt:void 0}},{key:"Dlt",get:function(){return void 0!==this.Gi.Dlt?this.Gi.Dlt:this.Jwt&&this.Jwt instanceof n?this.Jwt.Dlt:void 0}}]),n}(Qq),Kq=function(){function t(t){this.e_t=void 0,this.e_t=t}return t.prototype.Wu=function(t){return this.e_t.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=gs(u,Number(e),"0")})},t}();var Jq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).r_t=void 0,r.s_t=void 0,r.r_t=e.Plt?new Kq(e.Plt):void 0,r.s_t=e.Blt?new Kq(e.Blt):void 0,r}S(n,t);var e=n.prototype;return e.Zdt=function(n){var e=this.Plt;if(!e)return t.prototype.Zdt.call(this,n);var r=e.Wu({Bandwidth:n.Hi.HR,RepresentationID:n.Hi.H_});return{hd:i.Or(r,n.zlt[0])}},e.nlt=function(t,n){var e,r=null!=(e=n.Kdt.Rlt)?e:1,s=this.Blt.Wu({Bandwidth:n.Hi.HR,Number:n.Yvt.Nwt(t,r),RepresentationID:n.Hi.H_,Time:n.Yvt.Vwt(t,r)});return{hd:i.Or(s,n.zlt[0])}},e.Xdt=function(t,n){},A(n,[{key:"Plt",get:function(){return this.r_t?this.r_t:this.Jwt&&this.Jwt instanceof n?this.Jwt.Plt:void 0}},{key:"Blt",get:function(){return this.s_t?this.s_t:this.Jwt&&this.Jwt instanceof n?this.Jwt.Blt:void 0}},{key:"Hwt",get:function(){}}]),n}(Zq),$q=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.nlt=function(t,n){var e=this.Gi.ylt[t.wlt],r=n.zlt[0];return{hd:(e.oT?i.Br(e.oT,r):r).href,bct:e.glt}},e.Xdt=function(t,n){},A(n,[{key:"Hwt",get:function(){return void 0!==this.Gi.ylt?this.Gi.ylt.length:this.Jwt&&this.Jwt instanceof Zq?this.Jwt.Hwt:void 0}}]),n}(Zq),tY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Lwt=void 0,u.R5=void 0,u.Bb=void 0,u.u_t=void 0,u.Tlt=void 0,u.o_t=void 0,u.Lwt=n,u.R5=i,u.Bb=e.Bb,u.u_t=r,u.Tlt=s,u.o_t=u.a_t(e),u}S(n,t);var i=n.prototype;return i.Jvt=function(t){if(t>=0&&t<this.C_)return this.c_t(this.o_t[t])},i.h_t=function(t){var n=this.f_t(t);if(this.o_t.length>0){var i=this.o_t[0];if(n<=jt(i.Jy,this.Bb))return this.c_t(i)}var e=Yq(this.o_t,ft.fromNumber(n*this.Bb));if(!(e<0))return this.c_t(this.o_t[e])},i.v_t=function(t){var n=this.f_t(t);if(this.o_t.length>0){var i=this.o_t[this.o_t.length-1];if(n>=jt(i.$y,this.Bb))return this.c_t(i)}return this.h_t(t)},i.c_t=function(t){var n=jt(t.Jy,this.Bb)-this.Tlt,i=n+this.u_t,e=jt(t.Qg,this.Bb);return{Lwt:this.Lwt,xdt:t.wlt,Jy:i,Dwt:ft.fromNumber(n*this.Bb),Qg:e,$y:i+e,OJ:[this.R5+t.R5,this.R5+t.D5]}},i.a_t=function(t){for(var n=[],i=t.ZS,e=t.KS.toNumber(),r=0,s=0,u=t.$S;s<u.length;s++){var o=u[s],a=o.GS,c=ft.fromNumber(o.Qg),h=i.add(c);0===o.WS&&n.push({wlt:r++,Jy:i,Qg:c,$y:h,R5:e,D5:e+a-1}),e+=a,i=h}return n},i.f_t=function(t){return t-this.u_t+this.Tlt},A(n,[{key:"C_",get:function(){return this.o_t.length}}]),n}(function(){function t(){}return t.prototype.Owt=function(t){var n=this.Jvt(t.xdt);if(n&&n.Jy===t.Jy)return n;var i=this.h_t(t.Jy);return i&&i.Jy===t.Jy?i:void 0},t}()),nY=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).l_t=void 0,e.d_t=void 0,e.w_t=void 0,e.l_t=n._lt,e.d_t=e.Rwt(0,ft.ZERO,e.$dt.Qg),e}S(n,t);var i=n.prototype;return i.dwt=function(t){if(0===t)return this.d_t},i.hwt=function(){return 0},i.fwt=function(t){return this.d_t},i.lwt=function(t){return this.fwt(t)},i.zwt=function(){return this.d_t},i.Vwt=function(t,n){return ft.ZERO},i.Hdt=function(t){var n=this.__t(t);return n&&{gwt:t,mwt:n,kwt:n}},i.__t=function(t){var n=this.d_t;return this.Twt(n,t)?n:void 0},i._wt=function(t){return this.__t(t)},i.ywt=function(t){return this.__t(t)},i.qc=function(){},i.Zvt=function(t){return 0===t&&void 0!==this.l_t},i.Pwt=function(t){return this.w_t},i.Bwt=function(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.zlt[0].href,u=this.l_t,a.next=4,Dr.awrap(e.g_t(s,u,i,r));case 4:return o=a.sent,this.w_t=this.m_t(t,o),a.abrupt("return",this.w_t);case 7:case"end":return a.stop()}},null,this,null,We)},i.m_t=function(t,n){var i=this.l_t,e=qb.IA(new DataView(n),new Vo);if(e.fs!==nb.$p)throw new v("Invalid segment index");var r=Kb.YA(e.Hi),s=i[1]+1;return new tY(t,s,r,this.$dt.MN,jt(this.awt,this.ra))},n}(Gq),iY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.nlt=function(t,n){return{hd:n.zlt[0].href}},i.Xdt=function(t,n){return{hd:n.zlt[0].href,bct:t.OJ}},i.i_t=function(){return new nY(this,this.ilt)},A(n,[{key:"Rlt",get:function(){}}]),n}(Qq),eY=function(t){function n(){return t.call(this,Oq.Idt)||this}return S(n,t),n}(gu);var rY=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ow=void 0,r.Gi=void 0,r.y_t=void 0,r.uwt=void 0,r.k_t=1/0,r.b_t=void 0,r.Ow=i,r.p_t(n,e),r}S(n,t);var i=n.prototype;return i.A_t=function(){return this.uwt||this.Ow&&this.Ow.A_t()},i.T_t=function(t){var n=this.ilt,i=this.Ow&&this.Ow.A_t();this.Gi.jlt?this.uwt=new Jq(n,i,this.Gi.jlt):this.Gi.Ylt?this.uwt=new $q(n,i,this.Gi.Ylt[0]):this.Gi.qlt?this.uwt=new iY(n,i,this.Gi.qlt):t&&!i&&(this.uwt=new iY(n,i,void 0))},i.p_t=function(t,n){this.Gi=t,this.y_t=t.zlt&&t.zlt.length>0?Wq(t.zlt.map(function(t){return t.hd}),n):n.slice(),this.uwt&&(t.jlt?this.uwt.qc(t.jlt):t.Ylt?this.uwt.qc(t.Ylt[0]):t.qlt&&this.uwt.qc(t.qlt))},i.Bdt=function(){var t;return null==(t=this.b_t)?void 0:t.S_t},i.zdt=function(){var t;return null==(t=this.b_t)?void 0:t.E_t},i.I_t=function(t){var n=this.k_t,i=this.ilt.Qg,e=this.b_t,r=this.R_t(t);e&&Ut(i,n,1e-5)&&aY(e,r)||(this.k_t=i,this.b_t=r,this.Qs(new eY))},i.xs=function(){this.$s()},A(n,[{key:"Hi",get:function(){return this.Gi}},{key:"zlt",get:function(){return this.y_t}}]),n}(wu);function sY(t){for(var n,i=0;i<t.length;i++){var e=t[i].Bdt();if(e){n=e.MN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Bdt();if(u){r=u.XN;break}}if(void 0!==r)return{MN:n,XN:r}}}function uY(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Bdt();if(!r)return;if((n=w.max(n,r.MN))>=(i=w.min(i,r.XN)))return}return{MN:n,XN:i}}}function oY(t){for(var n,i=0;i<t.length;i++){var e=t[i].zdt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function aY(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.E_t,n.E_t)&&function(t,n){return t&&n?Ut(t.MN,n.MN,1e-5)&&Ut(t.XN,n.XN,1e-5):t===n}(t.S_t,n.S_t)}var cY=function(t){function n(n,i,e){var r;(r=t.call(this)||this).$dt=void 0,r.Cc=void 0,r.D_t=void 0,r.$dt=n,r.Cc=i,r.D_t=e.slice();for(var s=0;s<e.length;s++){e[s].Zs(Oq.Idt,r.Cdt)}return r}S(n,t);var i=n.prototype;return i.Bdt=function(){return uY(this.D_t)},i.zdt=function(){for(var t,n=0,i=this.D_t;n<i.length;n++){var e=i[n].zdt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.xd=function(){this.$s();for(var t=0,n=this.D_t;t<n.length;t++){n[t].tu(Oq.Idt,this.Cdt)}},A(n,[{key:"Wvt",get:function(){return this.D_t}},{key:"ZH",get:function(){return this.Wvt.reduce(function(t,n){for(var i=0,e=n.ZH;i<e.length;i++){var r=e[i];Fs(t,r)||t.push(r)}return t},[])}},{key:"$e",get:function(){return this.ZH.length>0?this.ZH[0]:""}},{key:"fs",get:function(){return this.D_t[0].fs}},{key:"H_",get:function(){return this.Cc}},{key:"Fdt",get:function(){return this.$dt.Fdt}},{key:"iO",get:function(){return this.D_t[0].iO}},{key:"ilt",get:function(){return this.$dt}},{key:"i1",get:function(){return Ws(this.Wvt,function(t){return t.i1})}}]),n}(Fq),hY=function(t){function n(){return t.call(this,Oq.Ddt)||this}return S(n,t),n}(gu);function fY(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Zlt;void 0===s||(r=xs(n,function(t){return t.H_===s})),r||(r={H_:s,Wvt:[]},n.push(r)),r.Wvt.push(e)},e=0;e<t.length;e++)i(e);return n}var vY,lY=function(t){function n(n,i){var e;return(e=t.call(this)||this).x4=void 0,e.D_t=[],e.N_t=[],e.C_t=void 0,e.P_t=!1,e.C_t=n,e.x4=i,e.x4.Zs(Oq.Idt,e.Cdt),e}S(n,t);var i=n.prototype;return i.B_t=function(t,n){if(0!==this.N_t.length){for(var i=t,e=0,r=this.N_t;e<r.length;e++){var s=r[e],u=s.fs;if(u===Qy.Sd||u===Qy.Ed){var o=s.Odt;if(void 0===o)return;i=n(i,o)}}return i}},i.O_t=function(){this.P_t||(this.P_t=!0,this.Qs(new hY),this.xd())},i.qc=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.D_t.length){i.next=7;break}return i.next=3,Dr.awrap(this.x_t(this.x4.Wvt,t,n));case 3:this.L_t(this.D_t),nu(n),i.next=9;break;case 7:return i.next=9,Dr.awrap(this.M_t(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.x_t=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new Vq(this,r),u.prev=4,u.next=7,Dr.awrap(s.qc(n,i));case 7:this.D_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),iu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.L_t=function(t){for(var n=fY(t),i=0;i<n.length;i++){var e=n[i],r=new cY(this,e.H_,e.Wvt);this.N_t.push(r)}},i.M_t=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.D_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Dr.awrap(r.qc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.Bdt=function(){return this.x4.Bdt()},i.zdt=function(){return this.x4.zdt()},i.xd=function(){this.$s(),this.x4.tu(Oq.Idt,this.Cdt);for(var t=0,n=this.N_t;t<n.length;t++){n[t].xd()}for(var i=0,e=this.D_t;i<e.length;i++){e[i].xd()}zs(this.D_t),zs(this.N_t)},A(n,[{key:"Wvt",get:function(){return this.D_t}},{key:"zvt",get:function(){return this.N_t}},{key:"vdt",get:function(){return this.x4.Hi.vdt}},{key:"Qg",get:function(){return this.x4.Qg}},{key:"XN",get:function(){return this.MN+this.Qg}},{key:"ldt",get:function(){return this.x4.Hi.ldt||[]}},{key:"H_",get:function(){return this.x4.H_}},{key:"Ndt",get:function(){return this.P_t}},{key:"Fdt",get:function(){return this.C_t}},{key:"U_t",get:function(){return this.C_t.X_t(this)}},{key:"ilt",get:function(){return this}},{key:"F_t",get:function(){return this.C_t.H_t(this)}},{key:"z_t",get:function(){return this.B_t(1/0,w.min)}},{key:"V_t",get:function(){return this.B_t(0,w.max)}},{key:"MN",get:function(){return this.x4.MN}},{key:"Pd",get:function(){return this.Fdt.Pd}}]),n}(Fq),dY=function(t){function n(){return t.call(this,pf.pf)||this}return S(n,t),n}(gu);!function(t){t.W_t="G_t"}(vY||(vY={}));var wY=function(t){function n(){return t.call(this,vY.W_t)||this}return S(n,t),n}(gu),_Y=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.zlt)||this).Ldt=void 0,e.q_t=void 0,e.Ldt=i,e.T_t(!0),e}S(n,t);var i=n.prototype;return i.Zvt=function(t){return!!Ch(this.iO)&&this.Yvt.Zvt(t.wlt)},i.Kvt=function(t,n,i,e){return this.Yvt.Kvt(t,this,n,i,e)},i.Zdt=function(){return this.Kdt.Zdt(this)},i.nlt=function(t){return this.Kdt.nlt(t,this)},i.Xdt=function(t){return this.Kdt.Xdt(t,this)},i.Hdt=function(){return this.q_t},i.R_t=function(t){var n=this.Yvt,i=n.Hdt(t),e=i&&function(t,n){var i,e=t.mwt,r=t.kwt,s=t.gwt,u=e.Jy,o=n.Iwt(r);if(o.getTime()<=s.getTime())i=r.$y;else{var a=(o.getTime()-s.getTime())/1e3,c=w.max(r.Qg-a,0);i=r.Jy+c}return{MN:u,XN:i}}(i,n),r=this.Yvt.zdt(t,i);return this.q_t=i,{gwt:t,S_t:e,E_t:r}},i.qc=function(t){this.p_t(t,this.Ldt.zlt)},A(n,[{key:"Ydt",get:function(){return this.Ldt}},{key:"ilt",get:function(){return this.Ldt.ilt}},{key:"wwt",get:function(){return this.Ldt.wwt}},{key:"iO",get:function(){return this.Gi.iO||this.Ldt.iO}},{key:"Kdt",get:function(){return this.A_t()}},{key:"Yvt",get:function(){return this.Kdt.Yvt}}]),n}(rY),gY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.zlt)||this).$dt=void 0,e.twt=void 0,e.$dt=i,e.T_t(!1),e.twt=n.i1.map(function(t){return new _Y(t,Kt(e))}),e}S(n,t);var i=n.prototype;return i.qc=function(t){this.p_t(t,this.$dt.zlt);var n=t.i1||[];if(this.twt.length!==n.length)throw new v("Expected "+this.twt.length+' representations in adaptation set "'+t.H_+'", found '+n.length);for(var i=0;i<n.length;i++)this.twt[i].qc(n[i])},i.I_t=function(n){for(var i=0,e=this.twt;i<e.length;i++){e[i].I_t(n)}t.prototype.I_t.call(this,n)},i.R_t=function(t){return{gwt:t,S_t:uY(this.twt),E_t:oY(this.twt)}},i.xs=function(){for(var n=0,i=this.twt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},A(n,[{key:"i1",get:function(){return this.twt}},{key:"ilt",get:function(){return this.$dt}},{key:"wwt",get:function(){return this.$dt.wwt}},{key:"Zlt",get:function(){return this.Gi.Zlt}},{key:"iO",get:function(){var t;return this.Gi.iO||(null==(t=this.twt[0])?void 0:t.Hi.iO)||""}}]),n}(rY),mY=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.zlt)||this).Y_t=void 0,s.sE=void 0,s.ua=void 0,s.D_t=void 0,s.N_t=[],s.Y_t=n,s.sE=e,s.ua=r,s.T_t(!1),s.D_t=(i.Wvt||[]).map(function(t){return new gY(t,Kt(s))}),s.N_t=fY(s.D_t),s}S(n,t);var i=n.prototype;return i.qc=function(t,n){this.p_t(t,this.Y_t.zlt),this.ua=n;var i=t.Wvt||[];if(this.D_t.length!==i.length)throw new v("Expected "+this.D_t.length+' adaptation sets in period "'+t.H_+'", found '+i.length);for(var e=0;e<i.length;e++)this.D_t[e].qc(i[e])},i.I_t=function(n){for(var i=0,e=this.D_t;i<e.length;i++){e[i].I_t(n)}t.prototype.I_t.call(this,n)},i.R_t=function(t){return{gwt:t,S_t:uY(this.D_t),E_t:oY(this.D_t)}},i.xs=function(){for(var n=0,i=this.D_t;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},A(n,[{key:"Wvt",get:function(){return this.D_t}},{key:"zvt",get:function(){return this.N_t}},{key:"ilt",get:function(){return this}},{key:"wwt",get:function(){return this.Y_t}},{key:"H_",get:function(){return this.Gi.H_}},{key:"MN",get:function(){return this.sE}},{key:"Qg",get:function(){return this.ua}}]),n}(rY),yY=new Date("2000-01-01"),kY=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.j_t=void 0,s.Q_t=void 0,s.UG=void 0,s.Z_t=void 0,s.b_t=void 0,s.y_t=void 0,s.K_t=void 0,s.J_t=void 0,s.$_t=void 0,s.tgt=[],s.j_t=i,s.qc(n,e,r),n.fs===bG.CE){var u=s.zwt();u&&u.wdt&&u.wdt.getTime()<yY.getTime()&&(s.$_t=new Date(s.Adt.getTime()-1e3*(u.w8.Jy+u.w8.Qg)),s.I_t(r))}return s}S(n,t);var e=n.prototype;return e.Bdt=function(){var t;return null==(t=this.b_t)?void 0:t.S_t},e.zdt=function(){var t;return null==(t=this.b_t)?void 0:t.E_t},e.qc=function(t,n,e,r){var s;this.Gi=t,this.Q_t=n,this.Z_t=null!=r?r:e,this.UG=e;var u,o=[(u=n,i.Br(".",u))];this.y_t=t.zlt&&t.zlt.length>0?Wq(t.zlt.map(function(t){return t.hd}),o):o,this.K_t=t.gdt&&t.gdt.length>0?Wq(t.gdt,this.y_t):[];var a=this.K_t.map(function(t){return t.href}),c=n.href;Fs(a,c)||(this.K_t.push(n),a.push(c));var h=this.j_t.href;Fs(a,h)||(this.K_t.push(this.j_t),a.push(h)),this.J_t=null==(s=t.Xvt)?void 0:s.Uvt();var f=t.fs===bG.CE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.MN)u=s.MN.Uvt();else if(r>0&&t[r-1].Qg){var o=e[r-1],a=t[r-1].Qg.Uvt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var c=[],h=0;h<e.length-1;h++)c.push({Hi:t[h],MN:e[h],Qg:e[h+1]-e[h]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.Qg?v.Qg.Uvt():i-l),c.push({Hi:v,MN:l,Qg:d})}return c}(t.Mvt,f,this.J_t);this.ngt(v),this.I_t(e)},e.ngt=function(t){var n=this.tgt;if(0!==t.length){for(var i=t[0].Hi.H_,e=0;e<n.length&&n[e].H_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.qc(o.Hi,o.Qg)}else n.push(new mY(this,o.Hi,o.MN,o.Qg))}}else zs(n)},e.I_t=function(t){for(var n=0,i=this.tgt;n<i.length;n++){i[n].I_t(t)}var e=this.b_t,r=this.R_t(t);e&&aY(e,r)||(this.b_t=r,this.Qs(new eY))},e.R_t=function(t){return{gwt:t,S_t:sY(this.tgt),E_t:oY(this.tgt)}},e.zwt=function(){if(0!==this.tgt.length){var t=this.tgt[this.tgt.length-1];if(!isFinite(t.Qg)&&0!==t.Wvt.length){var n=t.Wvt[0];if(0!==n.i1.length){var i=n.i1[0].Yvt,e=i.zwt();if(e)return{w8:e,wdt:i.bwt(e)}}}}},e.xs=function(){this.$s();for(var t=0,n=this.tgt;t<n.length;t++){n[t].xs()}},A(n,[{key:"Hi",get:function(){return this.Gi}},{key:"fs",get:function(){return this.Gi.fs||bG.NE}},{key:"_dt",get:function(){return this.$_t||this.Gi._dt||this.Adt}},{key:"wdt",get:function(){return this.Gi.wdt}},{key:"Xvt",get:function(){return this.J_t}},{key:"zlt",get:function(){return this.y_t}},{key:"gdt",get:function(){return this.K_t}},{key:"Mvt",get:function(){return this.tgt}},{key:"Adt",get:function(){return this.Gi.Adt||this.UG}},{key:"Elt",get:function(){return this.Gi.Elt}},{key:"igt",get:function(){return this.Z_t}},{key:"egt",get:function(){return this.UG}}]),n}(wu);var bY=function(){function t(t,n,i){this.rgt=0,this.pE=t,this.sgt=n,this.ugt=i}var n=t.prototype;return n.SL=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.ogt(t,this.pE,this.sgt,this.ugt).catch(eu));case 2:case"end":return n.stop()}},null,this,null,We)},n.agt=function(){return new Date(Vt()+this.rgt)},n.ogt=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Dr.awrap(this.cgt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}nu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Dr.awrap(this.hgt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.rgt=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,We)},n.hgt=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.Y0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Dr.awrap(this.cgt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n.cgt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.ud({hd:n,Rd:jw.GET,td:Af.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Dr.awrap(e.Ll());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),iu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),pY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).fgt=void 0,s.x4=void 0,s.vgt=void 0,s.Hrt=!0,s.tgt=[],s.lgt=void 0,s.dgt=void 0,s.wgt=void 0,s.pE=void 0,s._gt=void 0,s.lgt=n,s.vgt=n.fg,s.dgt=i,s.pE=e,s.fgt=r,s._gt=new bY(s.pE,s.fgt,s.lgt.ggt),s}S(n,t);var e=n.prototype;return e.mgt=function(t){var n=this.Iy;this.Hrt=t,n!==this.Iy&&this.Qs(new wY)},e.qc=function(t,n,e){var r,s,u,o,a,c,h,f,v,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.mdt?i.Br(t.mdt,this.vgt):this.vgt,void 0!==this.x4){g.next=10;break}return g.next=6,Dr.awrap(this._gt.SL(t.Sdt));case 6:this.x4=new kY(t,this.vgt,o,this.agt()),this.x4.Zs(Oq.Idt,this.js),g.next=11;break;case 10:this.x4.qc(t,o,this.agt(),n);case 11:if(0===(a=this.x4.Mvt).length)c=this.tgt.slice(),zs(this.tgt);else{for(h=a[0].H_,f=0;f<this.tgt.length&&this.tgt[f].H_!==h;)f++;for(c=this.tgt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.tgt.length?d=this.tgt[v]:(d=new lY(this,l),s.push(d)),u.push(d.qc(this.dgt,e))}return g.next=15,Dr.awrap(We.all(u));case 15:for((r=this.tgt).push.apply(r,s),w=0,_=c;w<_.length;w++)_[w].O_t();this.Qs(new dY);case 18:case"end":return g.stop()}},null,this,null,We)},e.agt=function(){return this._gt.agt()},e.H_t=function(t){var n=this.tgt.indexOf(t);if(n>0)return this.tgt[n-1]},e.X_t=function(t){var n=this.tgt.indexOf(t);if(n>=0&&n+1<this.tgt.length)return this.tgt[n+1]},e.Bdt=function(){return this.x4?this.x4.Bdt():void 0},e.zdt=function(){return this.x4&&this.x4.zdt()},e.I_t=function(t){this.x4&&this.x4.I_t(t)},e.xd=function(){this.$s(),this.wgt=void 0,this.mgt(!1);for(var t=0,n=this.tgt;t<n.length;t++){n[t].xd()}zs(this.tgt),this.x4&&this.x4.xs()},A(n,[{key:"wdt",get:function(){return this.x4&&this.x4.wdt}},{key:"_dt",get:function(){return this.x4&&this.x4._dt}},{key:"H_",get:function(){return this.x4&&this.x4.Hi.H_}},{key:"igt",get:function(){var t;return null==(t=this.x4)?void 0:t.igt}},{key:"ygt",get:function(){var t;return null==(t=this.x4)?void 0:t.egt}},{key:"gdt",get:function(){return this.x4?this.x4.gdt.map(function(t){return t.href}):[this.Hvt]}},{key:"Hvt",get:function(){return this.vgt.href}},{key:"ydt",get:function(){return this.x4&&this.x4.Hi.ydt}},{key:"kdt",get:function(){return this.x4&&this.x4.Hi.kdt}},{key:"Xvt",get:function(){return this.x4&&this.x4.Hi.Xvt}},{key:"bdt",get:function(){return this.x4&&this.x4.Hi.bdt}},{key:"pdt",get:function(){var t,n,i=(null==(t=this.x4)?void 0:null==(n=t.Hi.pdt)?void 0:n.slt())||0;return w.max(i,TY)}},{key:"Iy",get:function(){return this.Hrt}},{key:"Mvt",get:function(){return this.tgt}},{key:"kgt",get:function(){return this.fs===bG.CE?this.swt:this.bgt}},{key:"pgt",get:function(){var t=this.kgt;if(void 0!==t)for(var n=0,i=this.Mvt;n<i.length;n++){var e=i[n];if(e.MN<=t&&e.XN>t)return e}}},{key:"Mlt",get:function(){return this.x4&&this.x4.Hi.Mlt}},{key:"Adt",get:function(){return this.x4&&this.x4.Adt}},{key:"z_t",get:function(){for(var t=this.tgt.length-1;t>=0;t-=1){var n=this.tgt[t].z_t;if(n)return n}}},{key:"swt",get:function(){var t=this.z_t;if(void 0!==t){var n=t-this.Agt;return w.max(n,this.bgt)}}},{key:"bgt",get:function(){for(var t=0,n=this.tgt;t<n.length;t++){var i=n[t].Pdt;if(void 0!==i)return i}}},{key:"Pd",get:function(){return Boolean(this.lgt.Pd)}},{key:"Agt",get:function(){var t=this.x4&&this.x4.Hi.Tdt;return t?t.Uvt():this.fs===bG.CE?this.Tgt:0}},{key:"Tgt",get:function(){return this.lgt.Tgt?this.lgt.Tgt:1.5*this.bdt.Uvt()}},{key:"Elt",get:function(){return this.x4&&this.x4.Elt}},{key:"fs",get:function(){return this.x4?this.x4.fs:void 0}}]),n}(wu),AY=function(){function t(t,n,i,e){this.C_t=void 0,this.C_t=new pY(t,n,i,e)}return A(t,[{key:"Fdt",get:function(){return this.C_t}}]),t}(),TY=1e3,SY=w.pow(2,31)-1,EY=function(){function t(t,n,i,e){var r=this;this.Wct=void 0,this.x4=void 0,this.Sgt=void 0,this.Egt=void 0,this.Igt=void 0,this.Rgt=new Js,this.Dgt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.x4.Fdt.agt(),e.next=4,Dr.awrap(r.Ngt(r.x4.Fdt.gdt,t));case 4:return i=e.sent,e.next=7,Dr.awrap(r.x4.Fdt.qc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Rp(e.t0)&&r.x4.Fdt.mgt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.Wct=e,this.x4=new AY(t,n,i,this.Rgt.Ws)}var n=t.prototype;return n.Pw=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.x4.Fdt.Qs(new gN),n.prev=1,n.next=4,Dr.awrap(mM(this.Dgt,t));case 4:this.x4.Fdt.mgt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),iu(n.t0),this.Egt=void 0,this.x4.Fdt.mgt(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.Sgt=this.Cgt(this.Rgt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.Cgt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.x4.Fdt.fs!==bG.CE){n.next=6;break}return n.next=4,Dr.awrap(ru(this.Pgt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.Bgt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(nu(t),!((n=this.Ogt())>0)){e.next=6;break}return i=w.min(n,SY),e.next=6,Dr.awrap(fu(i,t));case 6:return e.prev=6,e.next=9,Dr.awrap(mM(this.Dgt,t,1/0,TY,3e4));case 9:this.x4.Fdt.mgt(!0);case 10:return e.prev=10,this.Igt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],We)},n.Ogt=function(){var t=this.x4.Fdt.agt().getTime()-this.x4.Fdt.igt.getTime();return this.x4.Fdt.pdt-t},n.xgt=function(t){var n=this.x4.Fdt.zdt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.x4.Fdt.I_t(t);var e=this.x4.Fdt.zdt();return e?e.getTime()-t.getTime():NaN},n.Lgt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.Igt||(this.Igt=this.Bgt(t)),(n=new Js).zs(t),i.prev=3,i.next=6,Dr.awrap(We.race([this.Igt,this.Mgt(n.Ws)].filter(F)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),eu(i.t0);case 11:return i.prev=11,n.Hs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.Mgt=function(t){var n=this.x4.Fdt.agt(),i=this.xgt(n);if(!m(i))return this.Ugt(i,t)},n.Ugt=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(fu(t,n));case 2:i=this.x4.Fdt.agt(),this.x4.Fdt.I_t(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.Ngt=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Wct.zct(t,{},n,!1));case 2:return i=r.sent,e=new xq,r.abrupt("return",e.Cht(i.Xct,i.od));case 5:case"end":return r.stop()}},null,this,null,We)},n.xd=function(){return this.Rgt.Hs(),this.Sgt=void 0,this.Egt=void 0,this.Igt=void 0,this.x4.Fdt.xd(),We.resolve()},A(t,[{key:"q$",get:function(){return this.x4}},{key:"Xgt",get:function(){return this.Egt||(this.Egt=this.Pw(this.Rgt.Ws),cu(this.Egt)),this.Egt}},{key:"Pgt",get:function(){return this.x4.Fdt.ygt&&this.x4.Fdt.fs===bG.CE?this.Lgt(this.Rgt.Ws):this.Xgt}}]),t}(),IY=function(){function t(t,n,i){this.Wct=t,this.Fgt=n,this.Hgt=i}var n=t.prototype;return n.zgt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!qm(n=t.type)){i.next=9;break}return i.next=6,Dr.awrap(this.Vgt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Gm(n)){i.next=15;break}return i.next=12,Dr.awrap(this.Wgt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.Vgt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(PG(t.src,this.Wct));case 3:return n=i.sent,i.next=6,Dr.awrap(BG(n,this.Wct));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.Wgt=function(t){var n;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new EY({fg:i.Br(t.src),Tgt:t.liveOffset,ggt:t.timeServer,Pd:t.useCredentials},this.Hgt,n_.Hd,this.Wct),e.next=4,Dr.awrap(n.Xgt);case 4:return e.next=6,Dr.awrap(gG(n.q$.Fdt,t.contentProtection,this.Fgt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}();var RY=function(){function t(t){this.Ggt=void 0,this.qgt=[],this.Ygt=0,this.Ggt=t}var n=t.prototype;return n.jgt=function(){var t=new Go;return this.qgt.push(t),this.Qgt(),t.Fu},n.Zgt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t);case 2:this.Ygt-=1,this.Qgt(),0===this.qgt.length&&0===this.Ygt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.Qgt=function(){this.qgt.length>0&&this.Ygt<this.Ggt&&(this.qgt.shift().Wu(),this.Ygt+=1)},t}();function DY(t,n){for(var i=0,e=0,r=t.$S.aJ.map(function(t){return t.Qg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var NY=function(t){function n(n,e,r,s,u,o,a,c){var h,f,v,l,d;void 0===c&&(v=M.En||M.Tn,l=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=v&&!l,c=function(t){var n,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Fl,MediaSource.isTypeSupported(e)||Op(t.iO,t.ZH)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.$e)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.n1){u.next=13;break}return r=t.n1,s=Ws(r,function(t){return hs(t.Y0)}).filter(F),u.next=10,Dr.awrap(Qs(s,function(t){return i.Cr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}),(h=t.call(this)||this).qct=void 0,h.Kgt=void 0,h.Jgt=new Go,h.$gt=void 0,h.iht=void 0,h.tmt=fG.Bvt(),h.Nvt=void 0,h.nmt=void 0,h.Dm=void 0,h.imt=void 0,h.xat=void 0,h.Wct=void 0,h.emt=void 0,h.Fgt=void 0,h.Hgt=void 0,h._vt=void 0,h.qct=n,h.xat=e,h.Wct=r,h.imt=s,h.emt=u,h.Fgt=o,h.Hgt=c,h._vt=a,h.nmt=-1;var w=h.qct.yN.sources[0];return h.$gt=w,h.Dm=h.jm(),h.Kgt=new RY(h.qct.fh.parallelTasksThreshold),h}S(n,t);var e=n.prototype;return e.jm=function(){var t,n,i,e,r,s,u,o,a,c,h,f,v,l,d,_,g,m,y,k,b,p,A,T,S,E,I,R=this;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:return t=new IY(this.Wct,this.Fgt,this.Hgt),D.next=3,Dr.awrap(t.zgt(this.$gt));case 3:return this.iht=D.sent,n=this.qct.fh.amount,i=this.iht.Qg,e=dG(n,i),this.Nvt=e,s=tH(this.iht.Fvt[0]),D.next=11,Dr.awrap(this.xat.Rat.Sat(s,"manifestURL"));case 11:for(u=D.sent.filter(function(t){return Fs(t.references,R.qct.H_)}),o=[],a=this.qct.fh.bandwidth,c=0,h=this.iht.Mvt;c<h.length;c++)for(f=h[c],v=0,l=f.Vvt;v<l.length;v++)for(d=l[v],_=0,g=PY(d.JA);_<g.length;_++)for(m=g[_],y=0,k=BY(m.q_,a);y<k.length;y++)b=k[y],o.push(b);if(this.nmt=w.ceil(o.map(function(t){return t.HR*DY(t,e)/8}).reduce(function(t,n){return t+n},0)),p=Pr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new nE(n.startsAndEnds);if(p.has(i))p.get(i).timeRanges=p.get(i).timeRanges.iC(e).nC(5e-4);else{var r,s=xs(o,function(t){return t.H_===i}),a=w.min(R.Nvt,null!=(r=null==s?void 0:s.$S.Qg)?r:1/0);p.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new fG(A,p,this.Nvt)}else{for(E=0;E<o.length;E++)I=o[E],p.set(I.H_,{timeRanges:nE.kC(),totalQualityDurationToCache:w.min(I.$S.Qg,this.Nvt)});r=new fG(0,p,this.Nvt)}this.rmt=r;case 19:case"end":return D.stop()}},null,this,null,We)},e.smt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Dm);case 2:return n.next=4,Dr.awrap(this.umt(this.iht,t));case 4:return n.next=6,Dr.awrap(this.Jgt.Fu);case 6:case"end":return n.stop()}},null,this,null,We)},e.umt=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Fvt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Dr.awrap(this.omt());case 4:for(i=[],e=0,r=t.Mvt;e<r.length;e++)s=r[e],i.push(this.amt(s,t.Fvt[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.omt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.imt.Aat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Dr.awrap(this.xat.Dat.Iu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Dr.awrap(CY(e,this.qct.H_,this.xat.Dat,this._vt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Dr.awrap(this.xat.Dat.yat(i,this._vt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new _G("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Dr.awrap(this.imt.Iat());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.amt=function(t,n,i){var e,r,s,u,o,a,c;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Vvt;r<s.length;r++)for(u=s[r],o=PY(u.JA),a=0;a<o.length;a++)c=o[a],e.push(this.cmt(c,n,i));return h.abrupt("return",We.all(e));case 3:case"end":return h.stop()}},null,this,null,We)},e.cmt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.qct.fh.bandwidth,r=BY(t.q_,e),t.fs!==Qy.Ed||!t.qvt||!t.qvt.QE.widevine||"persistent"!==t.qvt.QE.widevine.licenseType){a.next=6;break}return a.next=5,Dr.awrap(this.hmt(t.qvt));case 5:nu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.fmt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e.fmt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(i),e=t.$S.aJ[0].Jy,r=e+this.Nvt,s=0,u=t.$S.aJ;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Jy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.vmt(i));case 10:return a.next=12,Dr.awrap(this.Kgt.jgt());case 12:cu(this.Kgt.Zgt(this.lmt(o,t,n),this.Jgt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.vmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ns){n.next=4;break}return n.next=3,Dr.awrap(this.Jgt.Fu);case 3:throw new $s;case 4:case"end":return n.stop()}},null,this,null,We)},e.dmt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Dm);case 2:return t.abrupt("return",this.iht);case 3:case"end":return t.stop()}},null,this,null,We)},e.hmt=function(t){return We.resolve()},e.wmt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ot("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,We)},e.lmt=function(t,n,i){var e,r,s,u,o,a,c,h=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.xat.Rat,r=nH(t.jvt.hd,t.jvt.bct),f.next=4,Dr.awrap(e.Iu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Dr.awrap(CY(s,this.qct.H_,e,this._vt));case 8:this._mt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Dr.awrap(this.gmt(t.jvt));case 14:return u=f.sent,o=this.mmt(t,n,i,u),a=o.segmentMetadataEntry,c=o.segmentEntry,f.next=18,Dr.awrap(this.xat.Pat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.Rat.yat(a,h._vt));case 2:return n.next=4,Dr.awrap(t.aJ.yat(c,h._vt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this._mt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new _G("Unable to store segment with url: "+t.jvt.hd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.gmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.emt.ymt(t,!1));case 2:return n=i.sent,i.next=5,Dr.awrap(this.kmt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.kmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Ul());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.mmt=function(t,n,i,e){var r=nH(t.jvt.hd,t.jvt.bct),s=t.Jy,u=t.Qg,o=this.bmt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:tH(i),qualityId:n.H_,byteSize:o,startsAndEnds:new nE([s,s+u]).HN,references:[this.qct.H_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:tH(i),data:e}}},e.bmt=function(t){return t.buffer.byteLength},e._mt=function(t,n){var i=t.qualityId,e=this.tmt,r=e.By;r.get(i).timeRanges=r.get(i).timeRanges.iC(new nE(t.startsAndEnds)).nC(5e-4),this.rmt=new fG(n?e.Ovt+t.byteSize:e.Ovt,r,this.Nvt)},A(n,[{key:"pmt",get:function(){return this.nmt}},{key:"rmt",get:function(){return this.tmt},set:function(t){this.tmt.Tk(t)||(this.tmt=t,t.Tk(fG.Bvt())||this.Qs(new hG))}}]),n}(wu);function CY(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Fs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Dr.awrap(i.yat(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function PY(t){return t.length?[t[0]]:[]}function BY(t,n){if(!t.length)return[];var i=[].concat(t).sort(aG),e=i.filter(function(t){return t.HR<=n});return e.length>0?[e.pop()]:[i.shift()]}var OY=function(){function t(t){this.pE=void 0,this._X=new YD,this.pE=t}var n=t.prototype;return n.ud=function(t){var n=this,i=new Go;return this._X.sX(function(e){return n.Amt(i,t,e)},t.Ws).catch(K),i.Fu},n.Od=function(t){return this.pE.Od(t)},n.Amt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return nu(i),e=new $w({hd:n.hd,Ws:i},n),r=this.pE.ud(e),t.Wu(r),u.next=6,Dr.awrap(r);case 6:return s=u.sent,u.next=9,Dr.awrap(s.Yl());case 9:case"end":return u.stop()}},null,this,null,We)},n.xd=function(){this._X.xd()},t}(),xY=function(){function t(t,n){this.pE=void 0,this.Tmt=void 0,this.Y6=void 0,this.pE=t,this.Tmt=new OY(t),this.Y6=n}var n=t.prototype;return n.ymt=function(t,n,i){return this.E3(t,n,!0,!1,void 0,i)},n.h8=function(t,n,i,e){return this.E3(t,n,!1,!1,i,e)},n.Smt=function(t,n,i,e){return this.E3(t,n,!1,!0,i,e)},n.E3=function(n,i,e,r,s,u){var o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return nu(u),a.next=3,Dr.awrap(this.g8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Emt(o));case 8:return a.abrupt("return",this.Imt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.Imt=function(t){return t},t.Emt=function(t){return t},n.g8=function(t,n,i,e,r){var s=new $w({hd:t.hd,td:Af.Gf,$l:t.bct?{Range:"bytes="+t.bct[0]+"-"+t.bct[1]}:void 0,Pd:t.Pd,Rd:jw.GET,fs:Qw.dd,Nd:i?Zw._d:Zw.vd,Cd:this.Y6,Dd:e,Ws:r});return n?this.Tmt.ud(s):this.pE.ud(s)},t}(),LY=function(){function t(t){this.pE=void 0,this.pE=t}return t.prototype.g_t=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.pE.ud({hd:t,td:Af.Gf,$l:{Range:"bytes="+n[0]+"-"+n[1]},Pd:i,Rd:jw.GET,fs:Qw.vd,Ws:e}));case 2:return r=s.sent,s.next=5,Dr.awrap(r.Ul());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),MY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).w8=void 0,r.w8=n,r}return S(n,t),n}($t),UY=function(){function t(t){this.F4=void 0,this.F4=t}return t.prototype.g_t=function(t,n,i,e){var r,s;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.F4.J6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Dr.awrap(this.F4.J6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Fo(new y(s.buffer),n[0],n[1]));case 10:throw new MY({hd:t,bct:n,Pd:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),XY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new nE([0,0]).HN,references:[]},FY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},HY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).Rmt=void 0,u.Dmt=void 0,u.xat=void 0,u._vt=void 0,u.Rmt=new LY(i),u.xat=e,u.Dmt=r,u._vt=s,u}S(n,t);var i=n.prototype;return i.g_t=function(n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.prototype.g_t.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),iu(u.t0);case 9:return u.next=11,Dr.awrap(this.Rmt.g_t(n,i,e,r));case 11:return s=u.sent,u.next=14,Dr.awrap(this.Nmt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.Nmt=function(t,i,e){var r,s,u,o,a,c,h,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.Dmt){v.next=2;break}return v.abrupt("return");case 2:return r=this.xat.Rat,s=nH(t,i),v.next=6,Dr.awrap(r.Iu(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Dr.awrap(CY(u,this.Dmt,r,this._vt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.mmt(s,o,this.Dmt),c=a.segmentMetadataEntry,h=a.segmentEntry,v.next=17,Dr.awrap(this.xat.Pat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.Rat.yat(c,f._vt));case 2:return n.next=4,Dr.awrap(t.aJ.yat(h,f._vt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new _G("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],We)},n.mmt=function(t,n,i){return{segmentMetadataEntry:Nr({},XY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},FY,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(UY);var zY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Cmt=function(t,n,i,e,r,s,u){return new NY(t,n,i,e,r,s,u)},n}(function(){function t(t){this.pE=t}return t.prototype.RK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.yN.sources[0].useCredentials),r=new xY(this.pE,Kw.vd),s=new XH(this.pE,e),u=new iH(n.Dat,n.Rat,n.aJ,n.Cat),o=function(t,n,i,e,r){return new HY(n,t,i,e,r)}(this.pE,u,n,t.H_,i),a=new hH,c=new WH(VH(s,u),a,t);return this.Cmt(t,n,c,a,r,o,i)},t}());function VY(t){var n,i={get id(){return t.H_},get status(){return t.Jl},get source(){return t.yN},get parameters(){return t.fh},get duration(){return t.Qg},get cached(){return t.Pmt.nN()},get secondsCached(){return t.Bmt},get percentageCached(){return t.Omt},get bytes(){return t.xmt},get bytesCached(){return t.Lmt},get license(){return t.mO.t_},start:function(){t.MN()},pause:function(){t.Hm()},remove:function(){t.Gc()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}};return n=new oD(t,["Ivt","evt"],i),i}var WY=function(){function t(t,n,i){this.qct=t,this.xat=n,this.iht=i}var n=t.prototype;return n.Mmt=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.xat.Pat(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Umt(n));case 2:return i.next=4,Dr.awrap(t.Xmt(n));case 4:return i.next=6,Dr.awrap(t.Fmt(n));case 6:return i.next=8,Dr.awrap(t.Hmt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.Umt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Nat,i=this.qct.H_,e.next=4,Dr.awrap(n.Gc(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.Xmt=function(t){var n,i,e,r,s,u,o,a=this;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.Rat,i=t.aJ,Zm(e=this.qct.yN.sources[0])){c.next=5;break}return c.abrupt("return");case 5:return r=tH(e.src),c.next=8,Dr.awrap(n.Sat(r,"manifestURL"));case 8:s=c.sent.filter(function(t){return Fs(t.references,a.qct.H_)}),u=0;case 10:if(!(u<s.length)){c.next=25;break}if(Us((o=s[u]).references,this.qct.H_),0!==o.references.length){c.next=20;break}return c.next=16,Dr.awrap(n.Gc(o.key));case 16:return c.next=18,Dr.awrap(i.Gc(o.key));case 18:c.next=22;break;case 20:return c.next=22,Dr.awrap(n.yat(o));case 22:u++,c.next=10;break;case 25:case"end":return c.stop()}},null,this,null,We)},n.Fmt=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Dat,i=this.zmt(),o.next=4,Dr.awrap(n.gat(i));case 4:e=o.sent.filter(function(t){return Fs(t.references,u.qct.H_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Us((s=e[r]).references,this.qct.H_),0!==s.references.length){o.next=14;break}return o.next=12,Dr.awrap(n.Gc(s.key));case 12:o.next=16;break;case 14:return o.next=16,Dr.awrap(n.yat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n.zmt=function(){if(!this.iht)return[];var t=this.qct.yN.sources[0];if(!Zm(t))return[];var n=tH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Mvt;i<e.length;i++)for(var r=0,s=e[i].Vvt;r<s.length;r++)for(var u=0,o=s[r].JA;u<o.length;u++)for(var a=0,c=o[u].q_;a<c.length;a++){var h=c[a];h.elt&&n.push(h.elt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.iht).map(function(t){return{src:t}}).map(function(t){return tH(t.src)});return[n].concat(i)},n.Hmt=function(t){var n,i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Cat,u.next=3,Dr.awrap(n.Aat());case 3:i=u.sent.filter(function(t){return Fs(t.references,s.qct.H_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Us((r=i[e]).references,this.qct.H_),0!==r.references.length){u.next=14;break}return u.next=11,Dr.awrap(n.Gc(r.key));case 11:this.Vmt(r),u.next=16;break;case 14:return u.next=16,Dr.awrap(n.yat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.Vmt=function(t){},t}(),GY=new(function(){function t(){}return t.prototype.RK=function(t,n,i){return new WY(t,n,i)},t}());var qY=function(){function t(t,n){this.$w=void 0,this.Ow=t,this.Wmt=n}var n=t.prototype;return n.Gmt=function(t){this.qmt(t)},n.qmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.Wmt.wmt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Ow.yvt(ZW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},A(t,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{renew:function(n){t.Gmt(n)}})),this.$w}}]),t}(),YY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Cc=void 0,o.wvt=void 0,o.$w=void 0,o.yrt=void 0,o.Ymt=void 0,o.xat=void 0,o.Wmt=void 0,o.jmt=new Js,o.Qmt=void 0,o.evictOnLoading=function(){o.tu("evt",o.evictOnLoading),o.Zmt()},o.Cc=n,o.yrt=i,o.Ymt=e,o.xat=r,o.Wmt=s.RK(Kt(o),o.xat,u),o.Qmt=new qY(Kt(o),o.Wmt),o.wvt=1===o.Wmt.rmt.xvt?ZW.DONE:ZW.IDLE,o.Wmt.Zs("Ivt",function(t){o.js(t),1===o.Omt&&o.yvt(ZW.DONE)});var c=new Date,h=o.Ymt.expirationDate.getTime()-c.getTime();return h<2147483647&&a(function(){return o.Zmt()},h),o}S(n,t);var i=n.prototype;return i.yvt=function(t){this.wvt!==t&&(this.wvt=t,this.Qs(new JW))},i.MN=function(){this.wvt===ZW.EVICTED||this.wvt===ZW.DONE||this.Kmt()},i.Kmt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.yvt(ZW.LOADING),t=new Js,this.jmt=t,n.next=6,Dr.awrap(this.Wmt.smt(t.Ws));case 6:this.yvt(ZW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),tu(n.t0)?this.yvt(ZW.IDLE):this.yvt(ZW.ERROR);case 12:return n.prev=12,this.jmt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.Hm=function(){this.jmt.Hs()},i.Gc=function(){this.Jl===ZW.LOADING?(this.Zs("evt",this.evictOnLoading),this.Hm()):this.Zmt()},i.Zmt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.Wmt.dmt());case 3:return t=n.sent,n.next=6,Dr.awrap(GY.RK(this,this.xat,t).Mmt());case 6:this.Wmt.rmt=fG.Bvt(),this.yvt(ZW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.yvt(ZW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},A(n,[{key:"t_",get:function(){return this.$w||(this.$w=VY(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"mO",get:function(){return this.Qmt}},{key:"Jl",get:function(){return this.wvt}},{key:"yN",get:function(){return this.yrt}},{key:"fh",get:function(){return this.Ymt}},{key:"Qg",get:function(){return this.Wmt.rmt._C}},{key:"Pmt",get:function(){return this.Wmt.rmt.Pvt}},{key:"Bmt",get:function(){return this.Wmt.rmt.Cvt}},{key:"Omt",get:function(){return this.Wmt.rmt.xvt}},{key:"xmt",get:function(){return this.Wmt.pmt}},{key:"Lmt",get:function(){return this.Wmt.rmt.Ovt}}]),n}(Cm);var jY=function(){function t(t,n){this.xat=t,this.Jmt=n}var n=t.prototype;return n.Avt=function(t,n,i){var e=zI();return this.bvt(e,t,n,i)},n.bvt=function(t,n,i,e){return new YY(t,n,i,this.xat,this.Jmt,e)},t}(),QY=30,ZY=5;function KY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!vs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&vs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+QY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return ZY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var JY,$Y,tj,nj,ij,ej,rj=function(t){function n(n,i){var e;return(e=t.call(this)||this).$w=void 0,e.$mt=n,e.IU=i,e.$mt.Zs("evt",e.js),e}return S(n,t),n.prototype.tyt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=cI(t),r=KY(n),JE(e))throw new v("Invalid source description");return this.$mt.bvt(e,r).t_},A(n,[{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get status(){return t.Jl},get tasks(){return t.Evt},get network(){return t.FU.t_},createTask:function(n,i){return t.tyt(n,i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new aD(t=this,i),i)),this.$w}},{key:"Jl",get:function(){return this.$mt.Jl}},{key:"Evt",get:function(){return this.$mt.Evt.t_}},{key:"FU",get:function(){return this.IU}}]),n}(Cm);(JY=new zR(i.jw,!1),$Y=_H.Yn,tj=new zY(JY),nj=new jY($Y,tj),ij=new WR(JY),ej=new oG($Y.Nat,nj,"persistent"),new rj(ej,ij)).t_;var sj=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Cc=void 0,s.wvt=void 0,s.$w=void 0,s.yrt=void 0,s.Ymt=void 0,s.ua=0,s.nyt=nE.kC(),s.iyt=0,s.eyt=0,s.$mt=void 0,s.Cc=n,s.wvt=ZW.IDLE,s.yrt=i,s.Ymt=e,s.$mt=r,s}S(n,t);var i=n.prototype;return i.MN=function(){this.$mt.startCachingTask(this)},i.Gc=function(){this.$mt.removeCachingTask(this)},A(n,[{key:"t_",get:function(){return this.$w||(this.$w=VY(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"Jl",get:function(){return this.wvt},set:function(t){this.wvt!==t&&(this.wvt=t,this.Qs(new JW))}},{key:"yN",get:function(){return this.yrt}},{key:"fh",get:function(){return this.Ymt}},{key:"Qg",get:function(){return this.ua},set:function(t){this.ua=t}},{key:"Pmt",get:function(){return this.nyt},set:function(t){this.nyt=t}},{key:"Bmt",get:function(){return this.iyt},set:function(t){this.iyt=t}},{key:"Omt",get:function(){return this.eyt},set:function(t){this.eyt=t,this.Qs(new hG)}}]),n}(Pm),uj=30;function oj(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+uj),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var aj=function(t){function n(){var n;return(n=t.call(this)||this).wvt=nG.UNINITIALISED,n.tX=new uG,n.Vht=void 0,n.sft=void 0,n.ryt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Jl=ZW.EVICTED,i.Omt=0,i.Bmt=0,i.Qg=0,i.Pmt=nE.kC(),n.tX.Gc(i))}},n.syt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Jl=e);var r=t.detail.percentage;r&&(i.Omt=r);var s=t.detail.duration;s&&(i.Qg=s);var u=t.detail.seconds;u&&(i.Bmt=u);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.Pmt=new nE(a)}}}},n.uyt=function(t){if(t.detail){var i=cI(JSON.parse(t.detail.source));if(!n.oyt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.bvt(i,oj(e),s)}}},n.ayt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.bvt(cI(r),oj(i),s);u.Jl=t.detail.status,u.Omt=t.detail.percentage,u.Qg=t.detail.duration,u.Bmt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}u.Pmt=new nE(a)}},n.cyt=function(t){t.detail&&n.yvt(t.detail.status)},n.Vht=new qW,n.sft=new TW,mW().cache={sdkEventBus:n.sft},n.Jft(),n}S(n,t);var i=n.prototype;return i.yvt=function(t){this.wvt!==t&&(this.wvt=t,this.Qs(new JW))},i.bvt=function(t,n,i){void 0===i&&(i=void 0);var e=new sj(i||zI(),t,n,this);return this.tX.Oy(e),i||this.Vht.lK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.H_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.tX.svt;n<i.length;n++){var e=i[n];if(e.H_===t)return e}},i.oyt=function(t){for(var n=hj(t.sources),i=0,e=this.tX.svt;i<e.length;i++){if(hj(e[i].yN.sources).src===n.src)return!0}return!1},i.Jft=function(){this.sft.addEventListener("deleteTask",this.ryt),this.sft.addEventListener("updateValues",this.syt),this.sft.addEventListener("newTask",this.uyt),this.sft.addEventListener("restoreTask",this.ayt),this.sft.addEventListener("setCacheStatus",this.cyt)},i.startCachingTask=function(t){this.Vht.lK("THEOplayerCacheStartCachingTask",{id:t.H_})},i.removeCachingTask=function(t){this.Vht.lK("THEOplayerCacheRemoveCachingTask",{id:t.H_})},A(n,[{key:"Jl",get:function(){return this.wvt}},{key:"Evt",get:function(){return this.tX}}]),n}(wu),cj=function(t){function n(n){var i;return(i=t.call(this,n)||this).hyt=n,i.hyt.Zs("evt",i.js),i}return S(n,t),n.prototype.tyt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=cI(t),e=oj(n),JE(i))throw new v("Invalid source description");if(!hj(i.sources))throw new v("The provided sources can't be cached");return this.hyt.bvt(i,e).t_},n}(rj);function hj(t){for(var n=0;n<t.length;n++){var i=t[n];if(qm(i.type))return i}}var fj,vj,lj=function(){var t=new aj;return new cj(t)}().t_;!function(t){t.fyt="any",t.vyt="natural",t.lyt="landscape",t.dyt="portrait",t.wyt="portrait-primary",t._yt="portrait-secondary",t.gyt="landscape-primary",t.myt="landscape-secondary"}(fj||(fj={})),function(t){t.wyt="portrait-primary",t._yt="portrait-secondary",t.gyt="landscape-primary",t.myt="landscape-secondary"}(vj||(vj={}));var dj,wj,_j=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Vht=new qW,n.yyt=fj.vyt,n.kyt=vj.wyt,n.byt=vj.wyt,n.pyt=vj.wyt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.yyt=t,n.Vht.lK("THEOplayerOrientationLock",t),n.Ayt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.yyt=fj.vyt,t.Vht.lK("THEOplayerOrientationUnlock"),t.type=t.byt,t.Ayt(),n()})},i.Ayt=function(){var t=this.pyt,n=this.type;t!==n&&(this.pyt=n,this.Qs(new gu("change")))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n.Tyt=function(t){switch(t){case fj.wyt:return[vj.wyt];case fj._yt:return[vj._yt];case fj.dyt:return[vj.wyt,vj._yt];case fj.gyt:return[vj.gyt];case fj.myt:return[vj.myt];case fj.lyt:return[vj.gyt,vj.myt];case fj.vyt:return[vj.wyt,vj.gyt,vj.myt];case fj.fyt:return[vj.wyt,vj._yt,vj.gyt,vj.myt]}},n.Syt=function(t,i){return n.Tyt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.kyt},set:function(t){this.byt=t,n.Syt(t,this.yyt)?(this.kyt=t,this.Ayt()):(t===vj.gyt&&this.yyt===fj.myt&&(this.kyt=vj.myt,this.Ayt()),t===vj.myt&&this.yyt===fj.gyt&&(this.kyt=vj.gyt,this.Ayt()))}},{key:"angle",get:function(){switch(this.type){case vj.gyt:return-90;case vj.myt:return 90;case vj.wyt:return 0;case vj._yt:return 180;default:return 0}}}]),n}(Pm);_j.Yn=new _j,r.screen.orientation=_j.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Eyt="unavailable",t.Iyt="available",t.Ryt="presenting"}(dj||(dj={})),MD(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.Wm=function(n){t.prototype.Wm.call(this,n);var i=this.t_;this.t_.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===dj.Ryt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(fj.myt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},PD.VU),function(t){t.Qw="addtrack",t.Kw="removetrack",t.l_="change",t.y_="update"}(wj||(wj={}));var gj=function(t,n,i){this.type=wj.l_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},mj=function(t,n){this.type=wj.Qw,this.mediaType=t,this.mediaTrack=n},yj=function(t,n){this.type=wj.Kw,this.mediaType=t,this.mediaTrack=n},kj=function(t,n){this.type=wj.y_,this.mediaType=t,this.mediaTrack=n},bj=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Dyt=function(t){var n=new gj(e.type,t.track,e.mediaTracks);e.messageDispatcher.Nyt(n)},this.Cyt=function(t){var n=new mj(e.type,t.track);e.messageDispatcher.Nyt(n),t.track.addEventListener("update",e.Pyt)},this.Byt=function(t){var n=new yj(e.type,t.track);e.messageDispatcher.Nyt(n)},this.Pyt=function(t){var n=new kj(e.type,t.track);e.messageDispatcher.Nyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Jft()}return t.prototype.Jft=function(){this.mediaTracks.addEventListener("change",this.Dyt),this.mediaTracks.addEventListener("addtrack",this.Cyt),this.mediaTracks.addEventListener("removetrack",this.Byt)},t}(),pj=function(){function t(){this.Oyt=void 0,this.Oyt=new qW}return t.prototype.Nyt=function(t){this.Oyt.lK(t.type,ez(t))},t}();FD(function(t){if(t.t_.audioTracks){var n=new pj;new bj("audio",t.t_.audioTracks,n)}if(t.t_.videoTracks){var i=new pj;new bj("video",t.t_.videoTracks,i)}});var Aj,Tj="nativePromiseCallback",Sj=function(t){function n(n){var i;return(i=t.call(this,Tj)||this).detail=n,i}return S(n,t),n}(gu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(Aj||(Aj={}));var Ej=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new Sj(n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(TW),Ij=function(){function t(){var t=this;this.Oyt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case Aj.RESOLVE:i.Wu(n.detail.data);break;case Aj.REJECT:i.Gu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new Ej;mW().nativePromise={sdkEventBus:n},n.addEventListener(Tj,this.handleNativePromiseEvent)}return t.prototype.xyt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Go;return this.promisesMap[e]=s,null==(i=this.Oyt)||i.lK(n.type,nz(r)),s.Fu},t}();Ij.messageIdTracker=-1;var Rj,Dj=function(t){function n(){var n;return(n=t.call(this)||this).Oyt=new qW,n}return S(n,t),n}(Ij),Nj=function(){function n(t){this.playerID=t}return n.prototype.lK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),Cj=function(t){function n(n){var i;return(i=t.call(this)||this).Oyt=new Nj(n),i}return S(n,t),n}(Ij);!function(t){t.Qw="TextTrackListAddTrack",t.Kw="TextTrackListRemoveTrack",t.l_="TextTrackListChange"}(Rj||(Rj={}));var Pj,Bj=function(t){this.type=Rj.Qw,this.textTrack=t},Oj=function(t){this.type=Rj.Kw,this.textTrack=t},xj=function(t){this.type=Rj.l_,this.textTrack=t};!function(t){t.e_="TextTrackAddCue",t.s_="TextTrackRemoveCue",t.o_="TextTrackEnterCue",t.c_="TextTrackExitCue",t.f_="TextTrackCueChange"}(Pj||(Pj={}));var Lj,Mj=function(t,n){this.type=Pj.e_,this.textTrackCue=t,this.textTrackUid=n},Uj=function(t,n){this.type=Pj.s_,this.textTrackCue=t,this.textTrackUid=n},Xj=function(t,n){this.type=Pj.o_,this.textTrackCue=t,this.textTrackUid=n},Fj=function(t,n){this.type=Pj.c_,this.textTrackCue=t,this.textTrackUid=n},Hj=function(t){this.type=Pj.f_,this.textTrackUid=t};!function(t){t.Yy="TextTrackCueEnter",t.Qy="TextTrackCueExit",t.y_="TextTrackCueUpdate"}(Lj||(Lj={}));var zj=function(t){this.type=Lj.Yy,this.textTrackCue=t},Vj=function(t){this.type=Lj.Qy,this.textTrackCue=t},Wj=function(t){this.type=Lj.y_,this.textTrackCue=t},Gj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Lyt=function(t){var i=qj(t.cue),e=new zj(i);n.messageDispatcher.xyt(e).then()},this.Myt=function(t){var i=qj(t.cue),e=new Vj(i);n.messageDispatcher.xyt(e).then()},this.Uyt=function(t){var i=qj(t.cue),e=new Wj(i);n.messageDispatcher.xyt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.Jft=function(t){t.addEventListener("enter",this.Lyt),t.addEventListener("exit",this.Myt),t.addEventListener("update",this.Uyt)},n.uu=function(t){t.removeEventListener("enter",this.Lyt),t.removeEventListener("exit",this.Myt),t.removeEventListener("update",this.Uyt)},t}();function qj(t){var n=fW(t,t.track.type);return delete n.track,n}var Yj=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Xyt=function(t){var n,e=qj(t.cue),r=new Mj(e,t.cue.track.uid);i.messageDispatcher.xyt(r).then(),null==(n=i.textTrackCueBridge)||n.Jft(t.cue)},this.Fyt=function(t){var n,e=qj(t.cue),r=new Uj(e,t.cue.track.uid);i.messageDispatcher.xyt(r).then(),null==(n=i.textTrackCueBridge)||n.uu(t.cue)},this.Lyt=function(t){var n=qj(t.cue),e=new Xj(n,t.cue.track.uid);i.messageDispatcher.xyt(e).then()},this.Myt=function(t){var n=qj(t.cue),e=new Fj(n,t.cue.track.uid);i.messageDispatcher.xyt(e).then()},this.Hyt=function(t){var n=new Hj(t.track.uid);i.messageDispatcher.xyt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new Gj(e))}var n=t.prototype;return n.Jft=function(t){t.addEventListener("addcue",this.Xyt),t.addEventListener("removecue",this.Fyt),t.addEventListener("entercue",this.Lyt),t.addEventListener("exitcue",this.Myt),t.addEventListener("cuechange",this.Hyt)},n.uu=function(t){t.removeEventListener("addcue",this.Xyt),t.removeEventListener("removecue",this.Fyt),t.removeEventListener("entercue",this.Lyt),t.removeEventListener("exitcue",this.Myt),t.removeEventListener("cuechange",this.Hyt)},n.initMessageDispatcher=function(t){return M.Vn?new Dj:M.Wn&&void 0!==t?new Cj(t):void 0},t}(),jj=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Cyt=function(t){var n,i=new Bj(t.track);e.messageDispatcher.xyt(i).then(),null==(n=e.textTrackBridge)||n.Jft(t.track)},this.Byt=function(t){var n,i=new Oj(t.track);e.messageDispatcher.xyt(i).then(),null==(n=e.textTrackBridge)||n.uu(t.track)},this.zyt=function(t){var n=new xj(t.track);e.messageDispatcher.xyt(n).then()},this.Vyt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Wyt(i);r&&(this.textTrackBridge=new Yj(r,i)),this.Jft(),this.sdkEventBus=new TW,mW().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Vyt)}var n=t.prototype;return n.Jft=function(){this.textTracks.addEventListener("addtrack",this.Cyt),this.textTracks.addEventListener("removetrack",this.Byt),this.textTracks.addEventListener("change",this.zyt)},n.Wyt=function(t){return M.Vn?new Dj:M.Wn&&void 0!==t?new Cj(t):void 0},t}();FD(function(t){if(t.t_.textTracks){var n=new Dj;new jj(t.t_.textTracks,n)}});var Qj,Zj,Kj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case Qj.Gyt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qs(new Jj(i));break;default:0}},n}(TW),Jj=function(t){function n(n){var i;return(i=t.call(this,Qj.Gyt)||this).detail=n,i}return S(n,t),n}(gu);!function(t){t.Gyt="registerContentProtectionIntegration"}(Qj||(Qj={})),function(t){t.qyt="certifiateRequest",t.Yyt="certifiateResponse",t.jyt="licenseRequest",t.Qyt="licenseResponse",t.Zyt="extractFairplayContentId",t.Kyt="buildContentProtection",t.Jyt="registerContentProtectionCallback"}(Zj||(Zj={}));var $j,tQ,nQ=function(t,n){this.type=Zj.Jyt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}($j||($j={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(tQ||(tQ={}));var iQ=function(t,n){this.type=Zj.Kyt,this.value=t,this.integrationId=n},eQ=function(t,n){this.type=Zj.qyt,this.value=t,this.integrationId=n},rQ=function(t,n){this.type=Zj.Yyt,this.value=t,this.integrationId=n},sQ=function(t,n){this.type=Zj.Zyt,this.value=t,this.integrationId=n},uQ=function(t,n){this.type=Zj.jyt,this.value=t,this.integrationId=n},oQ=function(t,n){this.type=Zj.Qyt,this.value=t,this.integrationId=n},aQ=function(){function t(t,n){this.$yt=void 0,this.NI=void 0,this.$yt=t,this.NI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new eQ(i,this.NI),a.prev=2,a.next=5,Dr.awrap(this.$yt.xyt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.tkt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.nkt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new Gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new rQ(e,this.NI),o.next=5,Dr.awrap(this.$yt.xyt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new uQ(e,this.NI),c.prev=3,c.next=6,Dr.awrap(this.$yt.xyt(r));case 6:if(!(s=c.sent)){c.next=17;break}if(u=JSON.parse(s),!this.tkt(u)){c.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},c.abrupt("return",o);case 14:if(!this.nkt(u)){c.next=17;break}return a=new y(u),c.abrupt("return",a);case 17:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw c.prev=20,c.t0=c.catch(3),new Gy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 23:case"end":return c.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new oQ(r,this.NI),a.next=6,Dr.awrap(this.$yt.xyt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new Gy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new sQ(t,this.NI),r.next=3,Dr.awrap(this.$yt.xyt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new Gy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.tkt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.nkt=function(t){return!!new y(t)},t}(),cQ=function(){function t(t){this.$yt=void 0,this.$yt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new aQ(this.$yt,t.integration),i=new iQ({drmConfiguration:t},t.integration);return this.$yt.xyt(i),n},t}(),hQ=function(t){function n(){var n;return(n=t.call(this)||this).$yt=new Dj,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.$yt}}]),n}(function(){var t=this;this.sft=void 0,this.ikt=function(n){var i=new cQ(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:XA.MI.BI(r,s,i)};t.messageDispatcher.xyt(new nQ(u,r))},this.sft=new Kj,mW().contentProtectionIntegration={sdkEventBus:this.sft},this.sft.addEventListener(Qj.Gyt,this.ikt)});FD(function(t){new hQ});var fQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(gu);var vQ,lQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ekt=function(){},e.rkt(),e}S(n,t);var e=n.prototype;return e.skt=function(){this.IN&&this.IN.tu(pf.sf,this.handleAirplayChangedEvent),this.IN=this.sL,this.IN.Zs(pf.sf,this.handleAirplayChangedEvent)},e.ukt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IN){t.next=2;break}return t.abrupt("return");case 2:this.okt(xE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e.akt=function(){this.okt(xE.AVAILABLE)},e.qm=function(){i.Lr.ze&&(this.ckt.jm(),this.hkt.Hs(),this.hkt=new Js,cu(this.fkt(this.hkt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).$w=void 0,e.ckt=void 0,e.IN=void 0,e.sL=void 0,e.me=xE.UNAVAILABLE,e.hkt=new Js,e.ekt=void 0,e.handleAirplayChangedEvent=function(){e.IN&&e.IN.yy?e.ukt():e.wQ===xE.CONNECTED&&e.akt()},e.ckt=n,e.sL=i,e}S(n,t);var e=n.prototype;return e.rkt=function(){this.skt(),this.ckt.Zs("sourcechange",this.ekt),i.Lr.ze&&this.okt(xE.AVAILABLE)},e.preloadPlayer=function(t){if(nu(t),this.IN.ag<Hm.Ug){var n=this.IN.au("loadedmetadata",t);return this.IN.Dy=YS.uA,n}return We.resolve()},e.okt=function(t){t!==this.me&&(this.me=t,this.Qs(new fQ(this.me)))},e.fkt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.preloadPlayer(t));case 2:this.sL.qm();case 3:case"end":return n.stop()}},null,this,null,We)},e.Ym=function(){i.Lr.ze&&this.IN.Ym()},e.xd=function(){this.$s(),this.ckt.tu("sourcechange",this.ekt),this.hkt.Hs()},A(n,[{key:"LM",get:function(){return this.wQ===xE.CONNECTED}},{key:"wQ",get:function(){return this.me}},{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get casting(){return t.LM},get state(){return t.wQ},start:function(){t.qm()},stop:function(){t.Ym()},addEventListener:function(n,i){var e=dm(n,vm);t.Zs(e,i)},removeEventListener:function(n,i){var e=dm(n,vm);t.tu(e,i)}})),this.$w}}]),n}(wu));MD(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.n_=function(){var n=this.UU.t_;return rm(t.prototype.n_.call(this),{get cast(){return n}})},n}(t)},PD.zU),MD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).vkt=void 0,e.vkt=new lQ(Kt(e),e.DM),e.UU.MM(e.vkt),e.Zs("currentsourcechange",function(){e.vkt.skt()}),e}S(n,t);var i=n.prototype;return i.n_=function(){var n=this,i=t.prototype.n_.call(this);return rm(i.cast,{get airplay(){return n.vkt.t_}}),i},i.xd=function(){this.vkt.xd(),t.prototype.xd.call(this)},n}(t)},PD.zU),function(t){t.lkt="airplaystatechange"}(vQ||(vQ={}));var dQ=function(t){this.type=vQ.lkt,this.state=t},wQ=function(t){function n(n){var i;return(i=t.call(this)||this).dkt=void 0,i.wkt=function(t){var n=new dQ(t.state);i.Nyt(n)},i.dkt=n,i.Jft(n),i}return S(n,t),n.prototype.Jft=function(t){t.addEventListener("statechange",this.wkt)},n}(pj);FD(function(t){var n;null!=(n=t.t_.cast)&&n.airplay&&new wQ(t.t_.cast.airplay)}),n.ChromelessPlayer=rN,n.Player=rN,n.cache=lj,n.createGlobals=bW,n.features=oN,n.getCueMirrorMap=yW,n.getGlobalId=kW,n.getSdkEventBridge=mW,n.playerSuiteVersion="2022.4.1",n.players=aN,n.registerContentProtectionIntegration=cN,n.utils=uN,n.version="4.3.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
