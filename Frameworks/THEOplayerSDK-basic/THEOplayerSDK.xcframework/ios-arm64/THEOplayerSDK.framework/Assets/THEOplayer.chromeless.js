/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.1.1 (4.7.0)
 Created: 2023-01-23T12:55:56.269Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=E.match(/Android ([0-9\.]+)/i),N=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=E.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),L=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=N?g(N[1]):0,this.Y=/Android/i.test(E),this.j=D?g(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.K=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=x?g(x[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(E),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=R?_(R[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.At=I?_(I[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(E),this.St=O?g(O[1]):0,this.Et=/webos|web0s/i.test(E),this.It=/Edge\/\d+/i.test(E),this.Rt=/Trident/i.test(E),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(E),this.Ct=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Pt=P?g(P[1]):0,this.Bt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.Tt,this.Ot=C?g(C[2]):0,this.xt=Boolean(B),this.Lt=B?g(B[1]):0,this.Mt=/CrKey/.test(E),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Xt="ios"===e.I,this.Ht="ios"===e.g,this.Ft=this.Ht||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return A(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Hn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Ft}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();L.Yn=new L;var M=L.Yn,U={}.hasOwnProperty,X={}.toString;function H(t){return null!=t}function F(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===X.call(t)};function V(t){return W(t)&&U.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function G(t){return W(t)&&t.constructor&&t.constructor===d}function q(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===X.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var tt=!(M.Rn&&!M.Dn),nt=t.console;function it(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function et(t){return t.map(it).join(" ")}function rt(t){var n=nt&&nt[t];return n?n.bind&&tt?n.bind(nt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];nt[t](et(i))}:void 0}var st,ut=rt("log")||K,ot=rt("warn")||ut.bind(void 0,"WARNING:"),at=rt("error")||ut.bind(void 0,"ERROR:"),ht=(st=nt&&nt.assert)?st.bind&&tt?st.bind(nt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];nt.assert(t,et(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ft(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Zn)}function lt(t){var n=w.clz32(t&-t);return t?31-n:n}ft.prototype.Zn,d.defineProperty(ft.prototype,"Zn",{value:!0}),ft.isLong=vt;var dt={},wt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=wt[t])?e:(i=mt(t,0,!0),r&&(wt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=mt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?It:Et;if(n){if(t<0)return It;if(t>=At)return Pt}else{if(t<=-Tt)return Bt;if(t+1>=Tt)return Ct}return t<0?gt(-t,n).neg():mt(t%bt|0,t/bt|0,n)}function mt(t,n,i){return new ft(t,n,i)}ft.fromInt=_t,ft.fromNumber=gt,ft.fromBits=mt;var yt=w.pow;function kt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?It:Et;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=gt(yt(i,8)),s=Et,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var h=gt(yt(i,o));s=s.mul(h).add(gt(a))}else s=(s=s.mul(r)).add(gt(a))}return s.unsigned=n,s}function pt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?kt(t,n):mt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ft.fromString=kt,ft.fromValue=pt;var bt=4294967296,At=bt*bt,Tt=At/2,St=_t(1<<24),Et=_t(0);ft.ZERO=Et;var It=_t(0,!0);ft.UZERO=It;var Rt=_t(1);ft.ONE=Rt;var Dt=_t(1,!0);ft.UONE=Dt;var Nt=_t(-1);ft.NEG_ONE=Nt;var Ct=mt(-1,2147483647,!1);ft.MAX_VALUE=Ct;var Pt=mt(-1,-1,!0);ft.MAX_UNSIGNED_VALUE=Pt;var Bt=mt(0,-2147483648,!1);ft.MIN_VALUE=Bt;var Ot=ft.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*bt+(this.low>>>0):this.high*bt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(yt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return vt(t)||(t=pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(vt(t)||(t=pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){vt(t)||(t=pt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,mt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Ot.subtract=function(t){return vt(t)||(t=pt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=pt(t)),ct)return mt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?It:Et;if(this.eq(Bt))return t.isOdd()?Bt:Et;if(t.eq(Bt))return this.isOdd()?Bt:Et;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(St)&&t.lt(St))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,v=0;return f+=(v+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,mt((f&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(vt(t)||(t=pt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?It:Et;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return It;if(t.gt(this.shru(1)))return Dt;e=It}else{if(this.eq(Bt))return t.eq(Rt)||t.eq(Nt)?Bt:t.eq(Bt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(Et)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Bt))return this.unsigned?It:Et;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Et}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:yt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return vt(t)||(t=pt(t)),ct?mt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return mt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?lt(this.low):lt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return vt(t)||(t=pt(t)),mt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return vt(t)||(t=pt(t)),mt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return vt(t)||(t=pt(t)),mt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?mt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:mt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ft.fromBytes=function(t,n,i){return i?ft.fromBytesLE(t,n):ft.fromBytesBE(t,n)},ft.fromBytesLE=function(t,n){return new ft(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ft.fromBytesBE=function(t,n){return new ft(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xt=9007199254740991,Lt=w.pow(2,-52);function Mt(t,n,i){return w.min(w.max(t,n),i)}function Ut(t,n,i){return t===n||w.abs(t-n)<=i}function Xt(t){return t!=t}function Ht(t,n){return t===n||Xt(t)&&Xt(n)}function Ft(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!m(t.getTime())}function Vt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function Gt(t){return 1e3*t}var qt,Yt=ft.fromNumber(xt);function jt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Qt(t){return t.Kn===qt.Jn}function Zt(t){return t.Kn===qt.$n}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}(qt||(qt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Jt.prototype=d.create(v.prototype)).constructor=Jt;var $t=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Kt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),tn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}($t),nn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new tn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new tn;return new hn(n)},t}(),en=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:vn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),rn=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return cn(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return cn(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},A(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=fn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(cn)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:vn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new en(t.item(i)));return n}(this.Ti.attributes)}},{key:"Hi",get:function(){return this.Ti.textContent}}]),n}(rn),un=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Fi===t.Fi},A(t,[{key:"Fi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(un),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(un),hn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return new sn(this.Ti.documentElement)}}]),n}(rn);function cn(t){return Qt(t)}function fn(t){switch(t.nodeType){case qt.Jn:return new sn(t);case qt.$n:return new on(t);case qt.ei:return new an(t)}}function vn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function ln(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function dn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){wn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&wn(i,null,t.length,t),t}function wn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var _n=/[a-zA-Z]/,gn=/[0-9]/,mn=/[0-9a-fA-F]/,yn=/^0x/i,kn=/^[0-9]+$/,pn=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,An=d.prototype.toString,Tn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Sn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function En(t){return Tn(t)?t:Array.from(t)}function In(t){return t>=65&&t<=90}function Rn(t){return In(t)||function(t){return t>=97&&t<=122}(t)}function Dn(t){return t>=48&&t<=57}function Nn(t){return Dn(t)||Rn(t)}function Cn(t){return Dn(t)||t>=65&&t<=70||t>=97&&t<=102}function Pn(t){return In(t)?t+32:t}function Bn(t){return Dn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function On(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=w.min,Ln=String.fromCharCode,Mn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Mn){var r=xn(e+Mn,n);i.push(Ln.apply(null,t.slice(e,r)))}return i.join("")}var Xn=/[^\0-\x7E]/,Hn=/[\x2E\u3002\uFF0E\uFF61]/g,Fn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=w.floor,Vn=String.fromCharCode;function Wn(t){throw new RangeError(Fn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var qn,Yn,jn,Qn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Hn,".")).split("."),n).join(".");return e+r}(t,function(t){return Xn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Vn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Wn("overflow"),m==e){for(var y=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(y<p)break;var b=y-p,A=36-p;n.push(Vn(Qn(p+b%A,0))),y=zn(b/A)}n.push(Vn(Qn(y,0))),s=Zn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function $n(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ti(t,n){return t>>n&63|128}function ni(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($n(t),n.push(t>>12&15|224),n.push(ti(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ti(t,12)),n.push(ti(t,6))),n.push(63&t|128)):n.push(t)}function ii(t){for(var n=[],i=0;i<t.length;i++){ni(t[i],n)}return n}function ei(){if(jn>=Yn)throw new v("Invalid byte index");var t=255&qn[jn];if(jn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ri(){var t,n;if(jn>Yn)throw new v("Invalid byte index");if(jn===Yn)return!1;if(t=255&qn[jn],jn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ei())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ei()<<6|ei())>=2048)return $n(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ei()<<12|ei()<<6|ei())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function si(t){return[37,On(t>>4),On(15&t)]}function ui(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oi(t){return ui(t)||32===t||34===t||60===t||62===t||96===t}function ai(t){return oi(t)||35===t||63===t||123===t||125===t}function hi(t){return ai(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ci(t){return t<33||t>126||34===t||35===t||60===t||62===t}function fi(t){return ci(t)||39===t}function vi(t,n){if(!n(t))return[t];for(var i=ii([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,si(s))}return e}function li(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,vi(s,n))}return Jn(i)}function di(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Cn(t[e+1])&&Cn(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ii(t))}function wi(t){return Jn(function(t){qn=t.slice(),Yn=qn.length,jn=0;for(var n,i=[];!1!==(n=ri());)i.push(n);return i}(di(Gn(t))))}function _i(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new l;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new l("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&mn.test(t[h]);)c=c<<4|_(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new l;if(h-=f,o>6)throw new l;for(var v=0;h<s;){var d=null;if(v>0){if(!("."===t[h]&&v<4))throw new l;h+=1}if(!gn.test(t[h]))throw new l;for(;h<s&&gn.test(t[h]);){var w=_(t[h],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}h+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[h]){if((h+=1)===s)throw new l}else if(h<s)throw new l;u[o]=c,o+=1}else{if(null!==a)throw new l("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function gi(t){var n=10,i=kn;return yn.test(t)?(t=t.slice(2),n=16,i=pn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var mi={Vi:4},yi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function pi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Vi:2,Wi:_i(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new l("Invalid code point in opaque host");var n=li(t,ui);return""===n?mi:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(wi(t));if(yi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=gi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?mi:{Vi:0,qi:i}}function bi(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Ai=/\+/g;function Ti(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ai," "),o=o.replace(Ai," ");var a=wi(u),h=wi(o);i.push([a,h])}}return i}function Si(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ei(ii(Gn(e[0])))+"="+Ei(ii(Gn(e[1])))}return n}function Ei(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,si(r))}return Un(i)}var Ii=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ri(t){var n=""+t,i=Ii.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Ci(s)||r===i-1)e.push(Di);else{var u=t.charCodeAt(r+1);Ci(u)?(e.push(s,u),r++):e.push(Di)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Di=65533,Ni=function(t){return 55296==(63488&t)},Ci=function(t){return 0!=(1024&t)};function Pi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.Yi.length=0}function Oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ti(n))}function xi(t){if(t.ji){var n=Si(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var Li=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Li&&Tn(s.Yi)&&(!Sn||s[Symbol.iterator]===Mi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!Tn(t)||!!Sn&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=En(t);n<i.length;n++){var e=En(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Yi.push([Ri(e[0]),Ri(e[1])])}}else for(var r in this.Yi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Ri(r),Ri(t[r])]);else(t=Ri(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ti(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ri(t),n=Ri(n),this.Yi.push([t,n]),xi(this)},n.delete=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ri(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ri(t),n=Ri(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){dn(this.Yi,Pi),xi(this)},n.toString=function(){return Si(this.Yi)},n.entries=function(){return new Fi(this.Yi,Ui)},n.keys=function(){return new Fi(this.Yi,Xi)},n.values=function(){return new Fi(this.Yi,Hi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Mi=Li.prototype.entries;Sn&&(Li.prototype[Symbol.iterator]=Mi);var Ui=function(t){return[t[0],t[1]]},Xi=function(t){return t[0]},Hi=function(t){return t[1]},Fi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),zi="null";var Vi=d.create(null);Vi.ftp=21,Vi.file=0,Vi.gopher=70,Vi.http=80,Vi.https=443,Vi.ws=80,Vi.wss=443;var Wi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function qi(t){return Wi.test(t)}function Yi(t){return Gi.test(t)}function ji(t){return void 0!==Vi[t]}function Qi(t){return ji(t.Ji)}function Zi(t){return""!==t.$i||""!==t.re}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!$i(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ji(t){return 2===t.length&&_n.test(t[0])&&(":"===t[1]||"|"===t[1])}function $i(t){return 2===t.length&&Ji(Un(t))}function te(t){return Ji(t)&&":"===t[1]}function ne(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&te(n[0])||n.pop())}function ie(t){return null===t.oe||mi===t.oe||t.fe||"file"===t.Ji}var ee=-1,re=/\t|\n|\r/g,se=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ue(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ae,t=t.replace(se,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(re,"")),c=h.length,f=0;f<=c;){var v=f<c?h[f]:ee;switch(r){case 0:if(!Rn(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Pn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Pn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Jn(s);if(null!==e){if(ji(i.Ji)&&!ji(d))return;if(!ji(i.Ji)&&ji(d))return;if((Zi(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===mi||null===i.oe))return}if(i.Ji=d,null!==e)return void(Qi(i)&&i.we===Vi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Qi(i)&&n&&n.Ji===i.Ji?r=3:Qi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==v)throw new l("Invalid scheme");n.fe&&35===v?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,ee===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===v?r=6:63===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===v&&Qi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Qi(i)||47!==v&&92!==v?47===v?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Jn(vi(g,hi));a?i.re+=m:i.$i+=m}else a=!0}s.length=0}else if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==v||o)if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(f-=1,Qi(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i.we))return;var y=pi(Jn(s),Qi(i));if(i.oe=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=pi(Jn(s),Qi(i));if(i.oe=k,s.length=0,r=12,11===e)return}break;case 12:if(Dn(v))s.push(v);else{if(!(ee===v||47===v||63===v||35===v||Qi(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var p=_(Jn(s),10);if(p>65535)throw new l("Invalid port");i.we=p===Vi[i.Ji]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===v||92===v?r=14:n&&"file"===n.Ji?ee===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ki(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ne(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Ji&&!Ki(h.slice(f))&&(te(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(ee===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&$i(s))r=17;else if(0===s.length){if(i.oe=mi,null!==e)return;r=16}else{var b=pi(Jn(s),Qi(i));if(0===b.Vi&&"localhost"===b.qi&&(b=mi),i.oe=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Qi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Qi="",r=19):null===e&&35===v?(i._e="",r=20):ee!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ee===v||47===v||Qi(i)&&92===v||null===e&&(63===v||35===v)){var A=Jn(s);if(Yi(A)?(ne(i),47===v||Qi(i)&&92===v||i.ue.push("")):!qi(A)||47===v||Qi(i)&&92===v?qi(A)||("file"===i.Ji&&0===i.ue.length&&$i(s)&&(mi!==i.oe&&null!==i.oe&&(i.oe=mi),s[1]=58,A=Jn(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(ee===v||63===v||35===v))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===v?(i.Qi="",r=19):35===v&&(i._e="",r=20)}else s.push.apply(s,vi(v,ai));break;case 18:63===v?(i.Qi="",r=19):35===v?(i._e="",r=20):ee!==v&&(i.ue[0]+=Jn(vi(v,ui)));break;case 19:null===e&&35===v?(i._e="",r=20):ee!==v&&(i.Qi+=Jn(vi(v,Qi(i)?fi:ci)));break;case 20:ee===v||0===v||(i._e+=Jn(vi(v,oi)))}f++}return i}function oe(t,n,i,e){try{ue(t,n,i,e)}catch(t){}}var ae=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function he(t){switch(t.Ji){case"blob":var n;try{n=ue(t.ue[0],null)}catch(t){return zi}return he(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var ce,fe,ve,le,de,we,_e=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof _e&&"object"==typeof i.ji)r=n.ji;else try{r=ue(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=ue(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new Li;return null!==t&&Oi(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Zi(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=bi(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ue(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.ji=n,Bi(this.Qi);var i=this.ji.Qi;null!==i&&Oi(this.Qi,i)}},{key:"origin",get:function(){return he(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){oe(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){ie(this.ji)||(this.ji.$i=li(t,hi))}},{key:"password",get:function(){return this.ji.re},set:function(t){ie(this.ji)||(this.ji.re=li(t,hi))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||oe(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":bi(t)},set:function(t){this.ji.fe||oe(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){ie(this.ji)||(""===t?this.ji.we=null:oe(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,oe(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Ri(t);var n=this.ji;if(""===t)return n.Qi=null,void Bi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",oe(t,null,n,19),Oi(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",oe(t,null,this.ji,20)):this.ji._e=null}}])&&ln(n.prototype,i),e&&ln(n,e),t}();function ge(t){return t.document&&t.document.baseURI||t.location.href||""}var me=a;function ye(t){return Boolean(t&&void 0!==t.length)}function ke(){}function pe(t){if(!(this instanceof pe))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ie(t,this)}function be(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,pe.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Te(n.promise,t)}Ae(n.promise,e)}else(1===t.me?Ae:Te)(n.promise,t.ke)})):t.pe.push(n)}function Ae(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof pe)return t.me=3,t.ke=n,void Se(t);if("function"==typeof i)return void Ie((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Se(t)}catch(n){Te(t,n)}var e,r}function Te(t,n){t.me=2,t.ke=n,Se(t)}function Se(t){2===t.me&&0===t.pe.length&&pe.Ae(function(){t.ye||pe.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)be(t,t.pe[n]);t.pe=null}function Ee(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ie(t,n){var i=!1;try{t(function(t){i||(i=!0,Ae(n,t))},function(t){i||(i=!0,Te(n,t))})}catch(t){if(i)return;i=!0,Te(n,t)}}pe.prototype.catch=function(t){return this.then(null,t)},pe.prototype.then=function(t,n){var i=new this.constructor(ke);return be(this,new Ee(t,n,i)),i},pe.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},pe.all=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pe?t:new pe(function(n){n(t)})},pe.reject=function(t){return new pe(function(n,i){i(t)})},pe.race=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)pe.resolve(t[e]).then(n,i)})},pe.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){me(t,0)},pe.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Re=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),De=o?o.userAgent:"",Ne=De.match(/Firefox\/([0-9]+)/i),Ce=null!=Ne,Pe=Ne?Number(Ne[1]):0,Be=De.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oe=null!=Be,xe=Be?Number(Be[3]):0,Le=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Me="unhandledrejection",Ue=t.PromiseRejectionEvent,Xe=t.CustomEvent;function He(t){return new Ue(Me,{reason:t,promise:Re.reject(t).catch(function(){}),cancelable:!0})}function Fe(t){var n=new Xe(Me,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Me,!1,!0,{reason:t}),n}var Ve,We,Ge,qe,Ye,je,Qe,Ze=function(t){return(Ze=function(){try{var t=Re.resolve(),n=new Ue(Me,{reason:"error",promise:t});return Me===n.type&&"error"===n.reason}catch(t){}return!1}()?He:function(){try{var t=new Xe(Me,{detail:{reason:"error"}});return Me===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Fe:ze)(t)};if(Re&&!(Ce&&Pe<60||Oe&&xe<15))We=Re;else{We=pe;var Ke=null!==(Ve=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Re;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ve?Ve:pe.Ae,Je=(Ge=Ke,qe=new Le(16),Ye=!1,{Ce:function(t){qe.push(t),Ye||(Ye=!0,Ge(je))},Pe:je=function(){for(;qe.length()>0;)qe.shift()();Ye=!1}});pe.Ae=Je.Ce,pe.Te=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function nr(t,n){M.Tn&&M.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function ir(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function er(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function rr(t){t.removeAttribute("title")}function sr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function ur(t){t.src&&(t.removeAttribute("src"),t.load())}function or(){return void 0!==s?s.createElement("video"):void 0}function ar(){return Qe||(Qe=or()),Qe}var hr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),cr=ar(),fr=!(!cr||!cr.webkitShowPlaybackTargetPicker),vr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=hr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},A(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"He",get:function(){return!M.Un}},{key:"Fe",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return fr}},{key:"Ve",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return M.Bn||M.hn}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),lr=function(){var t=or();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(M.in)return!1;var t=or();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var dr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.Oe=i.Je.Oe,i.Gt=i.Je.Gt,i.xe=lr&&i.Je.xe),i}S(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.Je?this.Je.Ue(n):t.prototype.Ue.call(this,n)},A(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ze)||t}}]),n}(vr),wr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return S(n,t),A(n,[{key:"je",get:function(){return M.hn}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(){return le.MediaSource?t.prototype.Le.call(this):1},A(n,[{key:"je",get:function(){return!0}}]),n}(wr),gr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},A(n,[{key:"Ve",get:function(){return M.Sn<3}},{key:"We",get:function(){return M.Sn>=3}},{key:"Ke",get:function(){return M.Sn<3}}]),n}(dr),mr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(vr),yr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(t,n){if(t&&t.$e&&n&&n.$e){var i=kr(t.$e,"mp4a.40.2")&&kr(n.$e,"mp4a.40.5"),e=kr(t.$e,"mp4a.40.5")&&kr(n.$e,"mp4a.40.2"),r=kr(t.$e,"mp4a.40.2")&&kr(n.$e,"mp4a.40.34"),s=kr(t.$e,"mp4a.40.34")&&kr(n.$e,"mp4a.40.2"),u=kr(t.$e,"mp4a.40.5")&&kr(n.$e,"mp4a.40.34"),o=kr(t.$e,"mp4a.40.34")&&kr(n.$e,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"Qe",get:function(){if(M.qt)return 4096}}]),n}(mr);function kr(t,n){return t.indexOf(n)>-1}var pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(t){return t>=2},n}(mr),br=function(t){function n(){var n;return(n=t.call(this)||this).Oe=M.On>=11,n.xe=M.Bn&&!(M.hn&&M.On<10),n}return S(n,t),n}(mr),Ar=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"qe",get:function(){return!1}}]),n}(dr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ze",get:function(){return!M.Yt||(M.pn?92!==M.An:M.yn>=100)}}]),n}(mr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"je",get:function(){return!0}}]),n}(dr),Er=function(){function n(){var n;this.ir=void 0,this.er=new nn,this.rr=new Ir,this.dr=(n=function(){if(M.Cn)return new yr;if(M.In||M.Rn)return new pr;if(M.Bn)return new br;if(M._n)return new Tr;return new mr}(),M.hn?new _r(n):M.dn?new wr(n):M.Tn?new gr(n):M.En?new Ar(n):M.qt?new Sr(n):new dr(n)),this.wr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ir=function(){return t.performance.now()}:this.ir=Vt}var i=n.prototype;return i._r=function(){ut.apply(void 0,arguments)},i.gr=function(){ot.apply(void 0,arguments)},i.yr=function(){at.apply(void 0,arguments)},i.pr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Ar=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Tr=function(t){f(t)},i.ui=function(t){return this.er.ui(t)},i.Sr=function(){return this.Er.Sr()},i.Ir=function(){return this.Er.Ir()},i.Rr=function(){return this.Er.Rr()},i.Dr=function(){return this.Er.Dr()},i.Nr=function(){return this.Er.Nr()},i.Cr=function(t,n){return this.Er.Cr(t,n)},i.Pr=function(t){return this.Er.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=ge(le)),i="object"!=typeof n||n instanceof _e?n:n.href,new _e(t,i)},i.Or=function(n,i){if(void 0===i&&(i=ge(le)),this.wr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},A(n,[{key:"xr",get:function(){return this.rr}},{key:"Lr",get:function(){return this.dr}},{key:"Mr",get:function(){return{Ur:o&&o.userAgent.match(/Android /i)?"Android":"other",Xr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Hr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ir=function(){function t(){}return A(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Lr",get:function(){return o.platform}},{key:"Vr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Rr={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.Gr=function(t,n,i){var e=c;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.qr=i.arg;else if("throw"===i.method){if(e===c)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function p(){}var b={};b[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=p.prototype=y.prototype=d.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Yr")?We.resolve(c.Yr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Yr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Rr.exports);var Dr=Rr.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Cr(){var t=d.create(null);return t.jr=void 0,delete t.jr,t}function Pr(){return new Ur}function Br(){return new Fr}function Or(t){var n=Pr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function xr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Lr,Mr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ur=Mr||(Lr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Cr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Cr(),this.size=0},n.keys=function(){return new Lr(this.data,function(t,n){return n})},n.values=function(){return new Lr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Lr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Xr,Hr,Fr=Mr||(Xr=function(){function t(t,n){this.Qr=void 0,this.Zr=void 0,this.Qr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Qr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Pr()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Xr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Xr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.Jr="9a04f079-9840-4286-ab92-e65be0885f95",t.$r="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Hr||(Hr={}));var zr,Vr="urn:mpeg:dash:mp4protection:2011",Wr="cenc",Gr="sinf",qr="skd",Yr=Hr.Jr,jr="urn:uuid:"+Yr,Qr="com.microsoft.playready",Zr=Hr.$r,Kr="urn:uuid:"+Zr,Jr=Hr.rs,$r="urn:uuid:"+Jr,ts=Hr.us,ns="urn:uuid:"+ts,is="com.apple.fps.1_0",es="com.apple.streamingkeydelivery";!function(t){t.Jr="playready",t.$r="widevine",t.us="fairplay",t.rs="clearkey",t.hs="aes128"}(zr||(zr={}));var rs={fs:zr.Jr,vs:Qr,ls:"cenc",ds:Yr,_s:jr,gs:"PlayReady"},ss={fs:zr.$r,vs:"com.widevine.alpha",ls:"cenc",ds:Zr,_s:Kr,gs:"Widevine"},us={fs:zr.us,vs:is,ls:"skd",ds:ts,_s:ns,gs:"FairPlay"},os={fs:zr.us,vs:"com.apple.fps",ls:"sinf",ds:ts,_s:ns,gs:"FairPlay"},as={fs:zr.rs,vs:"org.w3.clearkey",ls:"cenc",ds:Jr,_s:$r,gs:"ClearKey"},hs=[rs,ss,us,as];function cs(t){return hs.filter(function(n){return n._s===t.toLowerCase()})}function fs(t,n,i){return t.split(n).join(i)}function vs(t,n){return null!=t&&-1!==t.indexOf(n)}function ls(t,n){return null!=t&&t.substr(0,n.length)===n}function ds(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ws(t,n){return t.toUpperCase()===n.toUpperCase()}function _s(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function gs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=_s(e,r/e.length)),e.slice(0,r)+t)}function ms(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ks(n)}var ys=16384;function ks(t){var n=t.length;if(n<=ys)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ys)i.push(String.fromCharCode.apply(String,t.slice(e,e+ys)));return i.join("")}var ps=M._n&&M.yn>=42||M.Cn&&M.Pn>=38||M.In||M.Dn||M.xn&&M.Ln>=29;function bs(t,n){return vs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function As(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ts(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ss,Es=function(){function t(t){this.ys=void 0,this.As=Pr(),this.Ts=void 0,this.ys=t}var n=t.prototype;return n.Nr=function(){return this.Pr(ss)},n.Ir=function(){return this.Pr(as)},n.Dr=function(){return this.Pr(rs)},n.Rr=function(){return this.Pr(us)},n.Pr=function(t){var n=t._s,i=this.As.get(n);if(i)return i;var e=this.Cr(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,e),e},n.Cr=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.ys.Ss(t.vs,[bs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Dr.awrap(this.ys.Ss(t.vs,[bs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Sr=function(){return this.Ts||(this.Ts=this.Es()),this.Ts},n.Es=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==de.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ps){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Dr.awrap(this.Ir());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Is(t,n){return Ds(t.slice(),n)}function Rs(t,n){var i=Ds(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Ds(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Is=0]="Is",t[t.Rs=1]="Rs",t[t.Ds=-1]="Ds"}(Ss||(Ss={}));var Cs=function(t,n){return(0|t)-(0|n)},Ps=function(t,n){return t===n?Ss.Is:t<n?Ss.Ds:t>n?Ss.Rs:m(t)?m(n)?Ss.Is:Ss.Rs:Ss.Ds};function Bs(t,n,i){return Ut(t,n,i)?Ss.Is:Ps(t,n)}var Os=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Lt||i<w.max(w.abs(t),w.abs(n))*Lt}(t,n)?Ss.Is:Ps(t,n)};function xs(t,n,i){var e=Ms(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ms(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Us(t,n){var i=t.indexOf(n);return-1!==i&&(Xs(t,i),!0)}function Xs(t,n){t.splice(n,1)}function Hs(t,n){return-1!==t.indexOf(n)}function Fs(t,n){for(var i=0;i<n.length;i++){if(!Hs(t,n[i]))return!1}return!0}function zs(t){t.length=0}function Vs(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Hs(n,t[i]))return!1}return!0}function Ws(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Gs(t,n){return Ys(t,function(t,i){return Ps(n(t),n(i))})}function qs(t,n){return function(t,n){return Ys(t,function(t,i){return n(i,t)})}(t,function(t,i){return Ps(n(t),n(i))})}function Ys(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function js(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function Qs(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Dr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function Zs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Ks=function(){function t(){this.Ns=!1,this.Cs=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ns&&!this.Cs){this.Ns=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Cs){this.Cs=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}zs(this.Ps),zs(this.Bs)}},n.Ls=function(t){this.Cs||this.Ps.push(t)},n.Ms=function(t){this.Cs||Us(this.Ps,t)},n.Us=function(t){this.Cs||this.Bs.push(t)},n.Xs=function(t){this.Cs||Us(this.Bs,t)},t}(),Js=function(){function t(){this.Hs=new Ks}var n=t.prototype;return n.Fs=function(){this.Hs.Os()},n.xs=function(){this.Hs.xs()},n.zs=function(t){var n=this.Hs;if(!n.Ns)if(t.Ns)n.Os();else if(!n.Cs&&!t.Cs){var i=function(){e(),n.Os()},e=function e(){t.Ms(i),t.Xs(e),n.Ms(i),n.Xs(e)};t.Ls(i),t.Us(e),n.Ls(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Hs,u=function(){e.Ns&&r.Cs||r.Ns&&e.Cs?s.Os():e.Cs&&r.Cs&&s.xs()};e.Ls(u),r.Ls(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Ms(u),r.Ms(u),e.Xs(u),r.Xs(u)}),[n,i]},A(t,[{key:"Ws",get:function(){return this.Hs}}]),t}(),$s=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}($t);function tu(t){return t instanceof v&&"AbortError"===t.name}function nu(t){if(t&&t.Ns)throw new $s}function iu(t){if(tu(t))throw t}function eu(t){if(!tu(t))throw t}function ru(t,n){return n?new We(function(i,e){if(n.Ns)return t.catch(K),e(new $s);var r=function t(){n.Ms(t),e(new $s)};n.Ls(r),t.then(function(t){n.Ms(r),i(t)},function(t){n.Ms(r),e(t)})}):t}function su(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function uu(t,n){var i=new Js;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Fs(),t},function(t){throw i.Fs(),t})}var ou=We.resolve();function au(t){ou.then(t)}function hu(t){t.then(K,K)}function cu(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function fu(t,n){return new We(function(e,r){if(void 0!==n&&n.Ns)r(new $s);else{var s=i.Qn(function(){void 0!==n&&n.Ms(u),e()},t),u=function(){i.jn(s),r(new $s)};void 0!==n&&n.Ls(u)}})}function vu(t){return t&&"function"!=typeof t?t.slice():t}function lu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var du,wu=function(){function t(t){var n=this;this.Gs=Cr(),this.qs=void 0,this.Ys=void 0,this.js=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.Gs[t];i?"function"==typeof i?this.Gs[t]=[i,n]:i.push(n):this.Gs[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.$s=function(){this.Gs=Cr(),this.qs=void 0},n.Qs=function(t){var n=vu(this.Gs[t.type]),i=vu(this.qs);lu(this.Ys,t,n),lu(this.Ys,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Gs[t];i&&("function"==typeof i?i===n&&(this.Gs[t]=void 0):Us(i,n))},n.uu=function(t){if("string"==typeof t)this.Gs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Gs[i]=void 0}},n.ou=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):Us(n,t))},n.au=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Ns)return r(new $s);var s=function(t){o(),e(t)},u=function(){o(),r(new $s)},o=function(){i.tu(t,s),n&&n.Ms(u)};i.Zs(t,s),n&&n.Ls(u)})},t}(),_u=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qs=function(n){var i=this;au(function(){t.prototype.Qs.call(i,n)})},n}(wu),gu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},mu=["cenc"],yu=["cbcs","cbcs-1-9"],ku=function(t){function n(n){var i;return(i=t.call(this,"vu")||this).fu=n,i}return S(n,t),n}(gu),pu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"du")||this).fu=n,s.wu=i,s.du=e,s._u=r,s}return S(n,t),n}(gu),bu=function(t){function n(){return t.call(this,"mu")||this}return S(n,t),n}(gu);!function(t){t.yu="pu",t.bu="Au"}(du||(du={}));var Au=function(t){function n(n,i){var e;return(e=t.call(this,du.yu)||this).ls=n,e.Tu=i,e}return S(n,t),n}(gu),Tu=function(t){function n(){return t.call(this,du.bu)||this}return S(n,t),n}(gu),Su=new y([0]).buffer,Eu=function(){function t(){this.Su=void 0,this.Su=[]}var n=t.prototype;return n.Eu=function(t){for(var n=0,i=this.Su;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Iu=function(t){for(var n=0,i=this.Su;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ru=function(t,n){this.Su.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Su.push([t,n])},n.Nu=function(){zs(this.Su)},A(t,[{key:"Cu",get:function(){return this.Su.length}}]),t}(),Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ru=16383,Du=/[\t\n\f\r ]/g;function Nu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Cu()}function Cu(){throw new v("Invalid base64 input")}function Pu(t){var n=t;Du.test(n)&&(n=n.replace(Du,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Cu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Nu(n.charCodeAt(a))<<18|Nu(n.charCodeAt(a+1))<<12|Nu(n.charCodeAt(a+2))<<6|Nu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Nu(n.charCodeAt(a))<<2|Nu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Nu(n.charCodeAt(a))<<10|Nu(n.charCodeAt(a+1))<<4|Nu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Bu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Iu[e>>2]+Iu[(3&e)<<4|r>>4]+Iu[(15&r)<<2|s>>6]+Iu[63&s]));return u.join("")}function Ou(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Ru)e.push(Bu(t,s,w.min(r,s+Ru)));if(1===i){var u=t[n-1];e.push(Iu[u>>2]+Iu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Iu[o>>2]+Iu[(3&o)<<4|a>>4]+Iu[(15&a)<<2]+"=")}return e.join("")}var xu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Lu=ArrayBuffer.isView||function(t){return t&&Hs(xu,X.call(t))};function Mu(t,n){return t===n||t.byteLength===n.byteLength&&Uu(new y(t),new y(n))}function Uu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Xu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Hu(t,n)}function Hu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Fu(t){return Pu(t).buffer}function zu(t){return Ou(new y(t))}function Vu(t){return Ou(Eo(t))}function Wu(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function Gu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Wu(t,n);return e}var qu=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},A(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function Yu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ju(t,n){return t>>n&63|128}function Qu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Yu(t),n.push(t>>12&15|224),n.push(ju(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ju(t,12)),n.push(ju(t,6))),n.push(63&t|128)):n.push(t)}function Zu(t,n){if(n.Pu>=t.length)throw new v("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Ku(t,n){var i=n.Pu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Zu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Zu(t,n)<<6|Zu(t,n);if(s>=2048)return Yu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Zu(t,n)<<12|Zu(t,n)<<6|Zu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Ju=65279;var $u=[128,64,32,16,8,4,2,1],to=function(){function t(t){this.Mu=t}return t.prototype.Uu=function(t){return no(this.Mu,t)},t}();function no(t,n){return(t&n)===n}function io(t,n){return no(t,$u[n])}function eo(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function ro(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function so(t,n,i){var e=Oo(Mo(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function uo(t,n,i){Mo(t).set(Mo(i),n.Pu),n.Bu(i.byteLength)}function oo(t,n,i){return n.Pu+i<=t.byteLength}function ao(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=eo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+eo(t,n);return e}(t,n,i)}function ho(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function co(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function fo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function vo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function lo(t,n,i){void 0===i&&(i=!1);var e=fo(t,n,i),r=fo(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function wo(t,n){return mo(t,n)}function _o(t,n,i){return ks(zo(so(t,n,i)))}function go(t,n){var i,e=eo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&eo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&eo(t,n))+(63&eo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&eo(t,n))+64*(63&eo(t,n))+(63&eo(t,n))),i}function mo(t,n){return yo(t,n,!0)}function yo(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=eo(t,n);if(i&&!r)break;e.push(r)}return ks(e)}function ko(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function po(t,n){var i=ko(t,n);return void 0!==i&&n.Bu(2),bo(t,n,!0===i)}function bo(t,n,i){return void 0===i&&(i=!1),Ao(t,n,i,!0)}function Ao(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=ho(t,n,i);if(e&&!s)break;r.push(s)}return ks(r)}function To(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){co(t,n,i.charCodeAt(s),e)}}function So(t){return yo(Lo(t),new Vo,!1)}function Eo(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)ro(t,n,i.charCodeAt(r))}(Lo(n),new Vo,t),n}function Io(t,n){return void 0===n&&(n=!1),Ao(Lo(t),new Vo,n,!1)}function Ro(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return To(Lo(i),new Vo,t,n),i}function Do(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function No(t,n){return function(t,n,i){var e=[];Do(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=go(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ms(e)}(t,n,!0)}function Co(t){return ms(function(t,n){var i,e=[],r=new Vo;if(!n){if(!1===(i=Ku(t,r)))return e;i===Ju||e.push(i)}for(;!1!==(i=Ku(t,r));)e.push(i);return e}(Mo(t)))}function Po(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Qu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Bo(t,n){if(Do(t,n))return No(t,n);if(void 0!==ko(t,n))return po(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return bo(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return bo(t,n,!0)}return No(t,n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Lo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Uo(t){return t instanceof ArrayBuffer||Lu(t)}function Xo(t){return t instanceof ArrayBuffer?new y(t):Mo(t)}function Ho(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Fo(Oo(t,n,i))}function Fo(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function zo(t){return[].slice.call(t)}var Vo=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},n.Xu=function(){return new qu(this.Pu<<3)},A(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function Wo(t){var n=t.toLowerCase(),i=0,e=0;ls(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Go=function(){function t(){var t=this;this.Hu=void 0,this.Fu=void 0,this.Vu=void 0,this.Hu=new We(function(n,i){t.Fu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Fu&&(this.Fu(t),this.xs())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Fs=function(){this.Hu.catch(K),this.Gu(new $s)},n.xs=function(){this.Fu=void 0,this.Vu=void 0},t}();function qo(){return new y([8,4]).buffer}function Yo(t){return Mu(t,qo())}function jo(t,n){return t===Qr?function(t){if(t.byteLength<2*Qo.length)return t;if(Io(new DataView(t,0,2*Qo.length),!0)===Qo)return t;return n=t,Ro('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Qo="<PlayReady";var Zo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.ju=void 0,s.Yu=i,s.ju=e,s}return S(n,t),n}($t),Ko=function(t,n){return(Ko=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Jo(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Ko(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function $o(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ta(t,n,i){return w.min(w.max(t,n),i)}function na(t,n){return t>>8-n}function ia(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Zu=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Zu||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Zu)-1,r=i>>8-this.Zu;return(e<<this.Zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(w.floor((t+this.Zu)/8));if(void 0!==n)return(n&1<<7-this.Zu-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Zu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var ea=function(){function t(t){this.Ku=t,this.Ju=0,this.$u=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Ku.length&&0===this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.Ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.$u<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.Ju+t<=this.Ku.length:this.Ju+t<this.Ku.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.Ju++,this.$u=0)},t.prototype.seek=function(t,n){this.Ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ku.get(this.Ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.$u)return this.Ku.get(this.Ju++);var t=ia(this.Ku.get(this.Ju),8-this.$u),n=na(this.Ku.get(this.Ju+1),this.$u);return this.Ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.Ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ra=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},sa=function(){function t(){this.uo=[],this.oo=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.oo.length)this.oo.push(0);else{var e=this.oo[this.oo.length-1]+this.uo[this.uo.length-1].length;this.oo.push(e)}this.uo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.uo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.uo=[],this.oo=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.oo[n];return this.uo[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.uo.length<1)return-1;if(this.uo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.uo[0];return"number"==typeof t?$o(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=$o(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.oo,t,ra)},t.prototype.join=function(){if(1===this.uo.length)return this.uo[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ta(n,0,this.length),r=ta(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.uo[u],a=e,h=a-this.oo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.oo[u],o=this.uo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.uo.length-1,e=this.uo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.uo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ua=function(){function t(n){this.ao=n||t.BUFFER_CHUNK_SIZE,this.do=!1,this._o=new sa,this.Ku=new y(this.ao),this.mo=0,this.po=0,this.$u=7}return t.prototype.closeByte=function(){this.Ku[this.mo++]=this.po,this.mo>=this.ao&&this.closeBuffer(),this.po=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mo&&(this._o.pushRange(this.Ku,0,this.mo),t&&(this.Ku=new y(this.ao)),this.mo=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.do)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.do=!0,this._o},t.prototype.writeBit=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.po|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.po=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.po|=na(t,n+1),this.closeByte(),this.po=ia(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mo+t.length<=this.ao?(this.Ku.set(t,this.mo),this.mo+=t.length,this.mo===this.ao&&this.closeBuffer()):(this.closeBuffer(),this._o.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.po|=na(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=ia(t[i-1],8-n),r=na(t[i],n+1);this.po=e<<n+1|r,this.closeByte()}this.po=ia(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),oa=function(){function t(t){this.rb=new sa,this.Ao=t}return t.prototype.closeWriter=function(){void 0!==this.Ao&&(this.rb=this.rb.concat(this.Ao.close()),this.Ao=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ao&&(this.Ao=new ua),this.Ao},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),aa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new oa;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function ha(t,n){return t instanceof ft?64===n:t<w.pow(2,n)}function ca(t,n){return w.round(t*w.pow(2,n))}function fa(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function va(t,n){return t/w.pow(2,n)}var la=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ha(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Jo(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(aa),da=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Jo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(sa.from(this.data))},n}(aa),wa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var _a=16384;function ga(t){var n=t.length;if(n<=_a)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=_a)i.push(String.fromCharCode.apply(String,t.slice(e,e+_a)));return i.join("")}var ma=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ya(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ka(t,n,i){var e=Ia(Da(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function pa(t,n,i){return n.offset+i<=t.byteLength}function ba(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Aa(t,n,i){void 0===i&&(i=!1);var e=ba(t,n,i),r=ba(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Ta(t,n,i){var e,r=ka(t,n,i);return ga((e=r,[].slice.call(e)))}function Sa(t,n){var i,e=ya(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ya(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ya(t,n))+(63&ya(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ya(t,n))+64*(63&ya(t,n))+(63&ya(t,n))),i}function Ea(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Sa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ga(n)}(e)}(t,n,!0)}function Ia(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ra(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Da(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Na=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new wa(this.offset<<3)},t}(),Ca=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ya(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ba(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=ba(t,n,i),r=ba(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Aa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ka(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ba(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ta(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ea(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Pa(t,n){return t.type===n}var Ba=8;function Oa(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=xa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function xa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!pa(t,n,Ba)){var e=n.offset+Ba;return{complete:!1,neededOffset:e}}var r=ba(t,n),s=Ta(t,n,4);if(1===r){if(!pa(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Aa(t,n).toNumber()}if("uuid"===s){if(!pa(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ta(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ca((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Na(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function La(t){return{version:t>>24,flags:new ma(16777215&t)}}function Ma(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ua(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Xa(t){var n=t.nextUint32Array(9);return{a:va(n[0],16),b:va(n[1],16),u:va(n[2],30),c:va(n[3],16),d:va(n[4],16),v:va(n[5],30),x:va(n[6],16),y:va(n[7],16),w:va(n[8],30)}}function Ha(t){return new da(t.type,Ia(Da(t.data.data),t.data.cursor.offset))}var Fa=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Jo(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(la);function za(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Fa(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Jo(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Fa);var Va=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.Eo},set:function(t){if(!ha(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Eo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Jo(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Io},set:function(t){if(!ha(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Ro},set:function(t){if(!ha(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!ha(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.No},set:function(t){if(!ha(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Co},set:function(t){if(!ha(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Va),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Jo(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(sa.from(this.data))}}(Va);var Wa=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Jo(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Va);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Wa(r.fixed28BitMode),s}Jo(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!ha(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!ha(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!ha(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!ha(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Va);var Ga=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Jo(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(aa),qa=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ga),Ya=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Jo(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Lo},set:function(t){if(!ha(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qa),ja=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Jo(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.Mo},set:function(t){if(!ha(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!ha(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Xo},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ca(this.sampleRate,16),32),this.extra&&fa(n.writer,this.extra)},n}(Ya);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Jo(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Fo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Go},set:function(t){if(!ha(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.qo},set:function(t){if(!ha(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!ha(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.jo},set:function(t){if(!ha(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(aa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t.sampleCount,32)||!ha(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(la),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Jo(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(la),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Jo(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(la),function(t){function n(){return t.call(this,"dinf")||this}Jo(n,t)}(qa);var Qa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ha(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Jo(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ga);!function(t){function n(){return t.call(this,"dref",0,0)||this}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qa);var Za=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ha(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ha(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ha(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ha(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(la),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Za),Ja=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Za);function $a(t){for(var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new Ka(u,r.raw):new Ja(u,r.raw)}var th=function(t){function n(){return t.call(this,"edts")||this}return Jo(n,t),n}(qa);function nh(t){for(var n=new th,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"elst")?n.boxes.push($a(r)):n.boxes.push(Ha(r))}return n}var ih=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Jo(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Zo},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!ha(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(aa),eh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Jo(n,t),n}(ih);function rh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new eh(i,e,r)}var sh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Jo(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(sa.from(this.data))},n}(aa),uh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Jo(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.oa},set:function(t){if(!ch(t))throw new v("Expected an ISO-639-2/T language code");this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(la),oh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Jo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(uh),ah=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Jo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(uh);function hh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=Ma(n,e),u=new ea(sa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return ch(h)||(h="und"),n.skip(2),0===e?new oh(s,h,r.raw):new ah(s,h,r.raw)}function ch(t){return/^[a-z]{3}$/.test(t)}var fh=function(t){function n(){return t.call(this,"mdia")||this}return Jo(n,t),n}(qa);function vh(t){for(var n=new fh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mdhd")?n.boxes.push(hh(r)):Pa(r,"hdlr")?n.boxes.push(za(r)):n.boxes.push(Ha(r))}return n}var lh,dh=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new sa,n}return Jo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(aa);function wh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new dh;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Jo(n,t)}(qa),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Qa),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(lh||(lh={}));var _h,gh,mh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function yh(t,n){n.writer.writeUInt(ca(t.a,16),32),n.writer.writeUInt(ca(t.b,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.c,16),32),n.writer.writeUInt(ca(t.d,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.x,16),32),n.writer.writeUInt(ca(t.y,16),32),n.writer.writeUInt(ca(1,30),32)}function kh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:_h.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:gh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:gh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:gh.UNKNOWN,2)}function ph(t,n){var i,e,r;n.writer.writeUInt(0,4),kh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(_h||(_h={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(gh||(gh={}));var bh=function(){return function(){}}(),Ah=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Jo(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.va},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!ha(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(sa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(sa.from(this.data))},n}(la),Th=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Jo(n,t),n}(Ah),Sh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Jo(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this._a},set:function(t){if(!ha(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(sa.from(e))}},n}(Ah);function Eh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Sh(i,o,e):new Th(i,o)}var Ih=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!ha(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(la),Rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ih),Dh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ih);function Nh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Rh(n.nextUint32(),r.raw):new Dh(n.nextUint64(),r.raw)}var Ch=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ha(t,32))throw new v("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!ha(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(!ha(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!ha(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ha(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ha(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),ph(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(la);function Ph(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Ua(new ea(sa.from(n.nextUint8Array(4))));return new Ch(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Bh=function(t){function n(){return t.call(this,"mvex")||this}return Jo(n,t),n}(qa);function Oh(t){for(var n=new Bh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mehd")?n.boxes.push(Nh(r)):Pa(r,"trex")?n.boxes.push(Ph(r)):n.boxes.push(Ha(r))}return n}var xh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:mh,c.Ia=e,c}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Ra},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!ha(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ia},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!ha(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ca(this.rate,16),32),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),yh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(la),Lh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Jo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(xh),Mh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Jo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(xh);function Uh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=Ma(n,e),u=va(n.nextUint32(),16),o=va(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Xa(n);n.skip(24);var h=n.nextUint32();return 0===e?new Lh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Mh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Xh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:mh,f}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!ha(t,32))throw new v("trackId cannot exceed 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!ha(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!ha(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!ha(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),yh(this.matrix,n),n.writer.writeUInt(ca(this.width,16),32),n.writer.writeUInt(ca(this.height,16),32)},n}(la),Hh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Xh),Fh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xh);function zh(t){var n,i,e,r,s=t.data,u=La(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=va(s.nextInt16(),8);s.skip(2);var _=Xa(s),g=va(s.nextUint32(),16),m=va(s.nextUint32(),16);return 0===o?new Hh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Fh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var Vh=function(t){function n(){return t.call(this,"trak")||this}return Jo(n,t),n}(qa);function Wh(t){for(var n=new Vh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"tkhd")?n.boxes.push(zh(r)):Pa(r,"mdia")?n.boxes.push(vh(r)):Pa(r,"edts")?n.boxes.push(nh(r)):n.boxes.push(Ha(r))}return n}var Gh=function(t){function n(){return t.call(this,"moov")||this}return Jo(n,t),n}(qa);function qh(t){for(var n=new Gh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mvhd")?n.boxes.push(Uh(r)):Pa(r,"trak")?n.boxes.push(Wh(r)):Pa(r,"mvex")?n.boxes.push(Oh(r)):Pa(r,"pssh")?n.boxes.push(Eh(r)):n.boxes.push(Ha(r))}return n}var Yh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(la),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Yh),Qh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Yh);function Zh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Qh(n.nextUint64(),r.raw)}var Kh=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ha(t,32))throw new v("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.La},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!ha(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!ha(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!ha(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!ha(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ha(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ha(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&ph(this.defaultSampleFlags,n)},n}(la);function Jh(t){var n=t.data,i=n.nextUint8(),e=new ea(sa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,l=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ua(new ea(sa.from(n.nextUint8Array(4)))):void 0;return new Kh({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var $h=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Jo(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!ha(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ha(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ha(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){var n,i;if(!ha(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!ha(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!ha(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ha(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ha(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ha(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&ph(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&ph(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(la);function tc(t){var n=t.data,i=n.nextUint8(),e=new ea(sa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ua(new ea(sa.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<c;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ua(new ea(sa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new $h(i,f,v)}var nc=function(t){function n(){return t.call(this,"traf")||this}return Jo(n,t),n}(qa);function ic(t){for(var n=new nc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"tfhd")?n.boxes.push(Jh(r)):Pa(r,"tfdt")?n.boxes.push(Zh(r)):Pa(r,"trun")?n.boxes.push(tc(r)):n.boxes.push(Ha(r))}return n}var ec=function(t){function n(){return t.call(this,"moof")||this}return Jo(n,t),n}(qa);function rc(t){for(var n=new ec,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"traf")?n.boxes.push(ic(r)):Pa(r,"pssh")?n.boxes.push(Eh(r)):n.boxes.push(Ha(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Jo(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Fa},set:function(t){if(!ha(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(la);var sc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Jo(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.Va},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(aa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Jo(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!ha(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!ha(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(aa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Jo(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qa),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new sc(n),r}Jo(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(aa);var uc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){var n=this;if(!ha(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ha(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Ho=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!ha(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ha(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(la);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Jo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(uc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Jo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(uc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ya},set:function(t){if(!ha(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!ha(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ha(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!ha(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ha(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(la),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){kh(e[i],n)}}}(la),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qa);var oc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Jo(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.Za},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(la);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Jo(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(oc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Jo(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!ha(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(oc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!ha(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(oc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Jo(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ha(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!ha(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){if(!ha(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(la),function(t){function n(){return t.call(this,"stbl")||this}Jo(n,t)}(qa),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t.firstChunk,32)||!ha(t.sampleDescriptionIndex,32)||!ha(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(la),function(t){function n(){return t.call(this,"schi")||this}Jo(n,t)}(qa),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Jo(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.$a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.nh},set:function(t){if(!ha(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.nh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ih},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(la);var ac=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.eh},set:function(t){if(!ha(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.rh},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.sh},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.sh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.uh},set:function(t){if(!ha(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ha(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!ha(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!ha(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!ha(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(la),hc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(ac),cc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(ac);var fc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Jo(n,t),n}(ih);function vc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new fc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Jo(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.oh},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!ha(ca(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ca(this.balance,8),16),n.writer.writeUInt(0,16)}}(la),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t.sampleCount,32)||!ha(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(la),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ha(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Qa),function(t){function n(){return t.call(this,"udta")||this}Jo(n,t)}(qa);var lc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=lc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Jo(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.ah},set:function(t){if(!ha(t.red,16)||!ha(t.green,16)||!ha(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(la);var dc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Jo(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!ha(t,16))throw new v("Provided width does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!ha(t,16))throw new v("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hh},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fh},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.vh},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.vh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.lh},set:function(t){if(!ha(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.dh},set:function(t){if(!ha(t,16))throw new v("Provided depth does not fit in 16 bits.");this.dh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ca(this.horizontalResolution,16),32),n.writer.writeUInt(ca(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&fa(n.writer,this.extra)},n}(Ya);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(sa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(la),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(ja),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(dc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ya),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(aa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.wh},set:function(t){if(!ha(t,8))throw new v("Provided version does not fit in 8 bits.");this.wh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this._h},set:function(t){if(!ha(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this._h=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.gh},set:function(t){if(!ha(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.gh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.yh},set:function(t){if(!ha(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.kh},set:function(t){if(!ha(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.kh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.ph},set:function(t){if(!ha(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.ph=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(sa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(sa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Jo(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(dc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Jo(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!ha(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.Ah},set:function(t){if(!ha(t,32))throw new v("Provided max does not fit in 32 bits.");this.Ah=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.Th},set:function(t){if(!ha(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Th=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(aa);var wc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Jo(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.Sh},set:function(t){if(!ha(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Sh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Eh},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Eh=t,this.Ih=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Rh},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ih},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Ih=t,this.Eh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),fa(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),fa(t.writer,this.constantIv))},n}(la);!function(t){function n(n){return t.call(this,0,n)||this}Jo(n,t)}(wc);var _c=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Jo(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Dh},set:function(t){if(!ha(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Dh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Nh},set:function(t){if(!ha(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Nh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(wc);function gc(t){return void 0!==t.iv}function mc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new _c(n),i}Jo(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(bh),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Jo(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){var n;if(!ha(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(gc(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=mc(r)),!0===n&&!mc(r)||!1===n&&mc(r))throw new v("Mix of samples with and without subsamples detected.");if(mc(r)){if(!ha(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ha(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ha(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];gc(r)&&(n+=r.iv.length),mc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(gc(r)&&fa(n.writer,r.iv),mc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(la),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Jo(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ch},set:function(t){if(!ha(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Ch=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ph},set:function(t){if(!ha(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Ph=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Bh},set:function(t){if(!ha(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(sa.from(this.data))}}(la);var yc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new oa,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function kc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=xa(i,e);if(!r.complete)return;if(Pa(r.box,n))return r.box}}(new Ca(Ra(i),new Na),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var pc=kc("moov",qh),bc=kc("sidx",function(t){var n,i,e=t.data,r=La(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var v=new ea(sa.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new hc(o,a,n,i,c,u.raw):new cc(o,a,n,i,c,u.raw)}),Ac=kc("moof",rc),Tc=kc("pssh",Eh);function Sc(t){return function(t){for(var n=new yc,i=0,e=Oa(t);i<e.length;i++){var r=e[i];Pa(r,"ftyp")?n.boxes.push(rh(r)):Pa(r,"styp")?n.boxes.push(vc(r)):Pa(r,"moov")?n.boxes.push(qh(r)):Pa(r,"moof")?n.boxes.push(rc(r)):Pa(r,"mdat")?n.boxes.push(wh(r)):n.boxes.push(Ha(r))}return n}(new Ca(Ra(t),new Na))}var Ec=function(t){function n(n,i){var e;(e=t.call(this)||this).Oh=void 0,e.Lh=!1,e.Mh=void 0,e.Uh=void 0,e.Xh=function(){e.Hh()},e.Fh=function(t){e.Qs(new pu(Kt(e),t.messageType,jo(e.Vh,t.message)))},e.Wh=function(){e.Lh=!0,e.Oh.Cu>0&&(e.Oh.Nu(),e.Qs(new ku(Kt(e)))),e.Gh.removeEventListener("keystatuseschange",e.Xh),e.Gh.removeEventListener("message",e.Fh)},e.Gh=n,e.Vh=i,e.Gh.addEventListener("keystatuseschange",e.Xh),e.Gh.addEventListener("message",e.Fh),e.Oh=new Eu;var r=[];return e.Gh.closed&&r.push(We.resolve(e.Gh.closed)),e.Uh=new Go,r.push(e.Uh.Hu),e.Mh=We.race(r).then(e.Wh,e.Wh),e.Hh(),e}S(n,t);var i=n.prototype;return i.qh=function(){if(this.Lh)return this.Mh;var t=[];return t.push(We.resolve(this.Gh.close())),t.push(fu(1e3)),this.Uh.Wu(We.race(t).catch(Ic)),this.Lh=!0,this.Mh},i.Yh=function(t,n,i){if(M.fn){var e=Tc(Xo(n));if(1===e.version)n=new Th(e.systemId,e.data).serialize().join()}return We.resolve(this.Gh.generateRequest(t,n)).catch(Ic)},i.jh=function(t){return We.resolve(this.Gh.load(t)).catch(Ic)},i.Qh=function(){return We.resolve(this.Gh.remove()).catch(Ic)},i.Zh=function(t){return We.resolve(this.Gh.update(t)).catch(Ic)},i.Hh=function(){var t=this;this.Oh.Nu(),this.Gh.keyStatuses.forEach(function(n,i){t.Kh(i,n)}),this.Qs(new ku(this))},i.Kh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Xo(t);if(this.Vh===Qr&&16===e.byteLength){var r=Lo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vh===Qr&&"status-pending"===n&&(n="usable"),this.Oh.Du(e,n)},A(n,[{key:"Jh",get:function(){return this.Mh}},{key:"$h",get:function(){return this.Gh.expiration}},{key:"tc",get:function(){return this.Oh}},{key:"nc",get:function(){return this.Gh.sessionId}}]),n}(wu);function Ic(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Zo(t.message,void 0,n,t)}var Rc=function(){function t(t,n,i){this.ic=t,this.ec=n,this.rc=i}var n=t.prototype;return n.uc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Ec(this.ic.createSession(t),this.ec));case 1:case"end":return n.stop()}},null,this,null,We)},n.ac=function(t){return We.resolve(this.ic.setServerCertificate(t))},n.hc=function(t){return We.resolve(t.setMediaKeys(this.ic))},n.cc=function(t){return We.resolve(t.setMediaKeys(null))},t}(),Dc=function(){function t(t,n,i){this.fc=t,this.Vh=n,this.vc=i}var n=t.prototype;return n.lc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.fc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Rc(t,this.Vh,this.vc));case 4:case"end":return n.stop()}},null,this,null,We)},n.dc=function(){return this.vc},A(t,[{key:"ec",get:function(){return this.fc.keySystem}}]),t}(),Nc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Cc(t){return vs(t,Nc.APPLICATION_MP4)||vs(t,Nc.VIDEO_MP4)||vs(t,Nc.AUDIO_MP4)}var Pc=function(){function t(t,n){this.fs=void 0,this.wc=void 0,this.fs=t,this.wc=n}return t.prototype._c=function(t){for(var n=0,i=this.wc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Bc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Pc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Oc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Oc(r.substr(u));f&&s.push(f)}return new Pc(e,s)}function Oc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function xc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Lc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+gs((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Mc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gc:e.gc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Uc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Uc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Uc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Hs(n,e.encryptionScheme))&&(!e.robustness&&t(i,xc(e.contentType))))}function Xc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Hc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Fc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(zc))||!(!t.videoCapabilities||!t.videoCapabilities.some(zc))}function zc(t){return!t.robustness}function Vc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Wc=function(){function t(){}return t.prototype.Ss=function(t,n){var i,e,r,s,u,a,h,c;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Hc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Hc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Fc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?Vc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Vc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Dr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Dc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Dr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Dc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.mc=function(){return As()},t}(),Gc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lh=!1,e.yc=void 0,e.kc=void 0,e.pc=void 0,e.bc=void 0,e.Ac=void 0,e.Wh=function(){e.Lh=!0,e.yc.Wu(void 0),e.Ac&&(e.Ac.removeEventListener("mskeyclose",e.Wh),e.Ac.removeEventListener("mskeymessage",e.Tc),e.Ac.removeEventListener("mskeyerror",e.Sc),e.Ac.removeEventListener("mskeyadded",e.Ec))},e.Tc=function(t){e.pc&&(e.pc.Wu(void 0),e.pc=void 0),e.Qs(new pu(Kt(e),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},e.Sc=function(){var t=e.Ac&&e.Ac.error;if(t){var n=new Zo("Unknown CDM error",t.code,t.systemCode);if(e.pc)e.pc.Gu(n),e.pc=void 0;else if(e.kc)e.kc.Gu(n),e.kc=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ic("output-not-allowed");break;default:e.Ic("internal-error")}}},e.Ec=function(){e.pc&&(e.Ic("usable"),e.pc.Wu(void 0),e.pc=void 0),e.kc&&(e.Ic("usable"),e.kc.Wu(void 0),e.kc=void 0)},e.Rc=n,e.Dc=i,e.yc=new Go,e.bc=new Eu,e}S(n,t);var i=n.prototype;return i.Yh=function(t,n,i){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),this.pc=new Go,this.uc(Xo(n),i),t.next=5,Dr.awrap(this.pc.Hu);case 5:case"end":return t.stop()}},null,this,null,We)},i.uc=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Cc;return(i=n?this.Rc.createSession(this.Dc,t,e):this.Rc.createSession(this.Dc,t)).addEventListener("mskeyclose",this.Wh),i.addEventListener("mskeymessage",this.Tc),i.addEventListener("mskeyerror",this.Sc),i.addEventListener("mskeyadded",this.Ec),this.Ac=i,this.Ic("status-pending"),i},i.jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.kc=new Go,this.Nc(),this.Ac){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=Xo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Ac.update(n),i.next=10,Dr.awrap(this.kc.Hu);case 10:case"end":return i.stop()}},null,this,null,We)},i.qh=function(){return!this.Lh&&this.Ac&&(this.Lh=!0,this.Ac.close()),this.yc.Hu},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.Nc=function(){if(this.Lh)throw new l("Already closing or closed.")},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"nc",get:function(){return this.Ac&&this.Ac.sessionId||""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(wu),qc=function(){function t(t,n,i){this.Dc=void 0,this.Rc=t,this.ec=n,this.rc=i;var e=Xc(i)||"video/mp4";this.Dc=xc(e)}var n=t.prototype;return n.uc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Gc(this.Rc,this.Dc));case 1:case"end":return t.stop()}},null,this,null,We)},n.ac=function(t){return We.resolve(!1)},n.hc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rc),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.cc=function(t){return We.resolve()},t}(),Yc=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new le.MSMediaKeys(this.Vh);return We.resolve(new qc(t,this.Vh,this.Pc))},A(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),jc=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(function(t,n){if(!Qc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mc(Zc,mu,t,e);if(r)return new Yc(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return Qc()},t}();function Qc(){return void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported}function Zc(t,n){return le.MSMediaKeys.isTypeSupported(t,n)}var Kc,Jc,$c=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yc=new Go,r.Bc=void 0,r.bc=new Eu,r.Oc=void 0,r.xc=new Go,r.Sc=function(){var t=r.Oc&&r.Oc.error;if(t){var n=new Zo("Unknown CDM error",t.code,t.systemCode);r.Bc?(r.Bc.Gu(n),r.Bc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ic("output-not-allowed"):r.Ic("internal-error"),r.Qs(new bu)}},r.Tc=function(t){r.Qs(new pu(Kt(r),"license-request",Fo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ec=function(){r.Bc&&(r.Bc.Wu(void 0),r.Bc=void 0),r.Ic("usable")},r.Lc=n,r.Dc=i,r.Mc=e,r}S(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Uc;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=tf(Xo(n),e,this.Mc);return this.Oc=this.Lc.createSession(this.Dc,r),this.Oc.addEventListener("webkitkeymessage",this.Tc,!1),this.Oc.addEventListener("webkitkeyadded",this.Ec,!1),this.Oc.addEventListener("webkitkeyerror",this.Sc,!1),this.Ic("status-pending"),this.xc.Wu(this.Oc),this.xc=new Go,We.resolve()},i.jh=function(t){return We.resolve(!0)},i.Zh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Xo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Bc=new Go,i.t0=this.Oc,i.t0){i.next=9;break}return i.next=8,Dr.awrap(this.xc.Hu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Dr.awrap(this.Bc.Hu);case 13:case"end":return i.stop()}},null,this,null,We)},i.qh=function(){var t,n=this.Oc;return n&&(n.removeEventListener("webkitkeymessage",this.Tc,!1),n.removeEventListener("webkitkeyadded",this.Ec,!1),n.removeEventListener("webkitkeyerror",this.Sc,!1),n.close()),this.xc.Fs(),null==(t=this.Bc)||t.Fs(),this.yc.Wu(void 0),this.yc.Hu},i.Qh=function(){return We.resolve(void 0)},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"nc",get:function(){return this.Oc?this.Oc.sessionId:""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(wu);function tf(t,n,i){var e=Co(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Vo;return vo(o,a,r,!0),To(o,a,e,!0),vo(o,a,s,!0),To(o,a,n,!0),vo(o,a,i.byteLength,!0),uo(o,a,i),new y(u)}n.ErrorCode=void 0,(Kc=n.ErrorCode||(n.ErrorCode={}))[Kc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Kc[Kc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Kc[Kc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Kc[Kc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Kc[Kc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Kc[Kc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Kc[Kc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Kc[Kc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Kc[Kc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Kc[Kc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Kc[Kc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Kc[Kc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Kc[Kc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Kc[Kc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Kc[Kc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Kc[Kc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Kc[Kc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Kc[Kc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Kc[Kc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Kc[Kc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Kc[Kc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Kc[Kc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Kc[Kc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Kc[Kc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Kc[Kc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Kc[Kc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Kc[Kc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Kc[Kc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Kc[Kc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Kc[Kc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Kc[Kc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Kc[Kc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Kc[Kc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Kc[Kc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Kc[Kc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Kc[Kc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Kc[Kc.AD_ERROR=1e4]="AD_ERROR",Kc[Kc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Kc[Kc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Jc=n.ErrorCategory||(n.ErrorCategory={}))[Jc.CONFIGURATION=1]="CONFIGURATION",Jc[Jc.LICENSE=2]="LICENSE",Jc[Jc.SOURCE=3]="SOURCE",Jc[Jc.MANIFEST=4]="MANIFEST",Jc[Jc.MEDIA=5]="MEDIA",Jc[Jc.NETWORK=6]="NETWORK",Jc[Jc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Jc[Jc.SUBTITLE=8]="SUBTITLE",Jc[Jc.VR=9]="VR",Jc[Jc.AD=10]="AD",Jc[Jc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var nf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}($t);var ef=function(){function t(t,n,i){this.Dc=void 0,this.Mc=void 0,this.Lc=t,this.ec=n,this.rc=i;var e=Xc(i)||"video/mp4";this.Dc=xc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Lc},i.uc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new $c(this.Lc,this.Dc,this.Mc));case 3:case"end":return t.stop()}},null,this,null,We)},i.ac=function(t){return this.Mc=Xo(t),We.resolve(!0)},i.hc=function(t){return t.webkitSetMediaKeys(this.Lc),We.resolve()},i.cc=function(t){return t.webkitSetMediaKeys(null),We.resolve()},t}(),rf=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new le.WebKitMediaKeys(this.Vh);return We.resolve(new ef(t,this.Vh,this.Pc))},A(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),sf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(function(t,n){if(t!==is)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!uf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mc(of,yu,t,e);if(r)return new rf(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return uf()},t}();function uf(){return void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported}function of(t,n){return le.WebKitMediaKeys.isTypeSupported(t,n)}var af,hf=function(){function t(t){this.Xc=t}return t.prototype.Ss=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Xc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Dr.awrap(r.Ss(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),cf=function(t){function n(n){var i;return(i=t.call(this)||this).pc=void 0,i.Bc=void 0,i.yc=void 0,i.do=!1,i.Hc=void 0,i.Fc=void 0,i.zc=void 0,i.Vc=void 0,i.Wc=void 0,i.Vh=n,i.yc=new Go,i.Fc="",i.Wc=new Go,i.zc=new Eu,i}S(n,t);var i=n.prototype;return i.Gc=function(){this.Bc&&(this.Ic("usable"),this.Bc.Wu(void 0),this.Bc=void 0)},i.qc=function(t){var n=new Zo("Unknown CDM error",t.errorCode,t.systemCode);this.Bc?(this.Bc.Gu(n),this.Bc=void 0):this.pc?(this.pc.Gu(n),this.pc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ic("output-restricted"):1===n.ju?this.Ic("expired"):this.Ic("internal-error")},i.Yc=function(t){0!==t.message.byteLength&&(this.pc&&(this.pc.Wu(void 0),this.pc=void 0),this.Qs(new pu(this,"license-request",jo(this.Vh,Fo(t.message).buffer),t.defaultURL||void 0)))},i.jc=function(t){this.Vc||(this.Vc=t,this.Wc.Wu(t))},i.qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.do=!0,this.yc.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,We)},i.Yh=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.pc=new Go,this.Hc=Xo(n),t.t0=this.Vc,t.t0){t.next=8;break}return t.next=7,Dr.awrap(this.Wc.Hu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vh,this.Hc),t.next=12,Dr.awrap(this.pc.Hu);case 12:case"end":return t.stop()}},null,this,null,We)},i.jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Bc=new Go,n.t0=this.Vc,n.t0){n.next=7;break}return n.next=6,Dr.awrap(this.Wc.Hu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Vh,Xo(t),this.Hc,this.nc),n.next=11,Dr.awrap(this.Bc.Hu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this.do)throw new l("Already closing or closed.")},i.Ic=function(t){this.zc.Nu(),this.zc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"tc",get:function(){return this.zc}},{key:"nc",get:function(){return this.Fc},set:function(t){this.Fc=t}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"$h",get:function(){return NaN}}]),n}(wu),ff=function(){function t(t,n){var i=this;this.Vc=void 0,this.Qc=Pr(),this.Zc=[],this.Ec=function(t){var n=i.Kc(t.sessionId);n&&n.Gc()},this.Jc=function(t){var n=i.Kc(t.sessionId);n&&n.qc(t)},this.$c=function(t){var n=i.Kc(t.sessionId);n&&n.Yc(t)},this.ec=t,this.rc=n}var n=t.prototype;return n.hc=function(t){return this.Vc=t,this.Vc.addEventListener("webkitkeyadded",this.Ec),this.Vc.addEventListener("webkitkeyerror",this.Jc),this.Vc.addEventListener("webkitkeymessage",this.$c),this.Qc.forEach(function(n,i){return n.jc(t)}),this.Zc.forEach(function(n){return n.jc(t)}),We.resolve()},n.cc=function(t){return t.removeEventListener("webkitkeyadded",this.Ec),t.removeEventListener("webkitkeyerror",this.Jc),t.removeEventListener("webkitkeymessage",this.$c),this.Vc=void 0,We.resolve()},n.uc=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new cf(this.ec),this.Vc&&e.jc(this.Vc),this.Zc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.ac=function(t){return We.resolve(!1)},n.Kc=function(t){if(t){var n=this.Qc.get(t);return n||((n=this.Zc.shift())?(n.nc=t,this.Qc.set(t,n),n):void 0)}},t}(),vf=function(){function t(t,n){this.ec=t,this.tf=n}var n=t.prototype;return n.lc=function(){return We.resolve(new ff(this.ec,this.tf))},n.dc=function(){return this.tf},t}(),lf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(df(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return Ts()},t}();function df(t,n){if(!lf.mc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mc(wf,mu,t,e);if(r)return new vf(t,r)}throw new l("Unsupported key system configuration for "+t)}function wf(t,n){var i=ar();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function _f(){return af||(af=function(){var t=[];sf.mc()&&t.push(new sf);Wc.mc()&&t.push(new Wc);jc.mc()&&t.push(new jc);lf.mc()&&t.push(new lf);return new hf(t)}()),af}var gf=function(){function t(){this.nf=Pr()}var n=t.prototype;return n.Nu=function(t){this.nf.delete(t)},n.if=function(){this.nf.clear()},n.Iu=function(t){return this.nf.get(t)},n.ef=function(t,n){this.nf.set(t,n)},t}(),mf=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=yf.mc()?new yf:new gf),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t}();mf.Yn=void 0;var yf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.mc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Nu=function(n){t.sessionStorage.removeItem(n)},e.if=function(){t.sessionStorage.clear()},e.Iu=function(n){return t.sessionStorage[n]},e.ef=function(n,i){t.sessionStorage[n]=i},i}(mf);var kf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function pf(t,n,i){var e=kf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var bf,Af;!function(t){t.sf="uf",t.hf="cf",t.vf="contentprotectionerror",t.lf="contentprotectionsuccess",t.df="currentsourcechange",t.wf="destroy",t._f="durationchange",t.gf="emptied",t.yu="encrypted",t.mf="ended",t.yf="kf",t.pf="loadstart",t.bf="manifestupdate",t.Af="nosupportedrepresentationfound",t.Tf="offline",t.Sf="online",t.Ef="pause",t.If="play",t.Rf="progress",t.Df="ratechange",t.Nf="representationchange",t.Cf="resize",t.Pf="seeked",t.Bf="seeking",t.Of="segmentnotfound",t.xf="Lf",t.Mf="Uf",t.Xf="sourcechange",t.Hf="timeupdate",t.Ff="volumechange",t.zf="Vf",t.Wf="metricschange"}(bf||(bf={})),function(t){t.Gf="arraybuffer",t.qf="json",t.Yf="stream",t.$n="text"}(Af||(Af={}));var Tf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Sf(i),e=Ef(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Sf(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Sf(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Sf(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Sf(i)).toLowerCase();this.Kr[e]=[i,Ef(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Sf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Ef(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Rf(){}var Df=Number.isNaN||function(t){return t!=t},Nf=Rf;function Cf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Pf(t){return t.slice()}function Bf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Df(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Of(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function xf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new l(r+" is not a method");switch(i){case 0:return function(){return Mf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Mf(r,t,i)}}}return function(){return qf(void 0)}}function Lf(t,n,i){var e=t[n];if(void 0!==e)return Of(e,t,i)}function Mf(t,n,i){try{return qf(Of(t,n,i))}catch(t){return Yf(t)}}function Uf(t){return t}function Xf(t){if(t=Number(t),Df(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Hf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Ff=We,zf=We.prototype.then,Vf=We.resolve.bind(Ff),Wf=We.reject.bind(Ff);function Gf(t){return new Ff(t)}function qf(t){return Vf(t)}function Yf(t){return Wf(t)}function jf(t,n,i){return zf.call(t,n,i)}function Qf(t,n,i){jf(jf(t,n,i),void 0,Nf)}function Zf(t,n){Qf(t,n)}function Kf(t,n){Qf(t,void 0,n)}function Jf(t,n,i){return jf(t,n,i)}function $f(t){jf(t,void 0,Nf)}var tv=function(){function t(){this.Kf=0,this.Jf=0,this.Ee={$f:[],tv:void 0},this.ev=this.Ee,this.Kf=0,this.Jf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.ev,i=n;16383===n.$f.length&&(i={$f:[],tv:void 0}),n.$f.push(t),i!==n&&(this.ev=i,n.tv=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Kf,e=i+1,r=t.$f,s=r[i];return 16384===e&&(n=t.tv,e=0),--this.Jf,this.Kf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ee,e=i.$f;!(n===e.length&&void 0===i.tv||n===e.length&&(n=0,0===(e=(i=i.tv).$f).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Kf;return t.$f[n]},t}();function nv(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function iv(t,n){t.rv=!0,t.uv=n,n.ov=t,"readable"===n.me?uv(t):"closed"===n.me?function(t){uv(t),hv(t)}(t):ov(t,n.hv)}function ev(t,n){return ld(t.uv,n)}function rv(t){"readable"===t.uv.me?av(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ov(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.uv.ov=void 0,t.uv=void 0}function sv(t){return new l("Cannot "+t+" a stream using a released reader")}function uv(t){t.Mh=Gf(function(n,i){t.fv=n,t.vv=i})}function ov(t,n){uv(t),av(t,n)}function av(t,n){$f(t.Mh),t.vv(n),t.fv=void 0,t.vv=void 0}function hv(t){t.fv(void 0),t.fv=void 0,t.vv=void 0}var cv=If("[[CancelSteps]]"),fv=If("[[PullSteps]]");function vv(t,n){void 0===n&&(n=!1);var i=new yv(t);return i.rv=n,i}function lv(t){return Gf(function(n,i){var e={Fu:n,Vu:i};t.ov.wv.push(e)})}function dv(t,n,i){var e=t.ov;e.wv.shift().Fu(nv(n,i,e.rv))}function wv(t){return t.ov.wv.length}function _v(t){var n=t.ov;return void 0!==n&&!!kv(n)}var gv,mv,yv=function(){function t(t){if(!1===fd(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===vd(t))throw new l("This stream has already been locked for exclusive reading by another reader");iv(this,t),this.wv=new tv}return d.defineProperty(t.prototype,"closed",{get:function(){return kv(this)?this.Mh:Yf(bv("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return kv(this)?void 0===this.uv?Yf(sv("cancel")):ev(this,t):Yf(bv("cancel"))},t.prototype.read=function(){return kv(this)?void 0===this.uv?Yf(sv("read from")):pv(this):Yf(bv("read"))},t.prototype.releaseLock=function(){if(!kv(this))throw bv("releaseLock");if(void 0!==this.uv){if(this.wv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");rv(this)}},t}();function kv(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"wv")}function pv(t){var n=t.uv;return n._v=!0,"closed"===n.me?qf(nv(void 0,!0,t.rv)):"errored"===n.me?Yf(n.hv):n.mv[fv]()}function bv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof If.asyncIterator&&((gv={})[If.asyncIterator]=function(){return this},mv=gv,d.defineProperty(mv,If.asyncIterator,{enumerable:!1}));var Av={next:function(){if(!1===Tv(this))return Yf(Sv("next"));var t=this.yv;return void 0===t.uv?Yf(sv("iterate")):Jf(pv(t),function(n){var i=n.done;return i&&rv(t),nv(n.value,i,!0)})},return:function(t){if(!1===Tv(this))return Yf(Sv("next"));var n=this.yv;if(void 0===n.uv)return Yf(sv("finish iterating"));if(n.wv.length>0)return Yf(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.pv){var i=ev(n,t);return rv(n),Jf(i,function(){return nv(t,!0,!0)})}return rv(n),qf(nv(t,!0,!0))}};function Tv(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"yv")}function Sv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Ev(t){var n=t.bv.shift();return t.Av-=n.size,t.Av<0&&(t.Av=0),n.value}function Iv(t,n,i){if(!Bf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.bv.push({value:n,size:i}),t.Av+=i}function Rv(t){t.bv=new tv,t.Av=0}void 0!==mv&&d.setPrototypeOf(Av,mv),d.defineProperty(Av,"next",{enumerable:!1}),d.defineProperty(Av,"return",{enumerable:!1});var Dv=If("[[AbortSteps]]"),Nv=If("[[ErrorSteps]]"),Cv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Bv(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Hf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Kv.prototype);var s=xf(n,"write",1,[r]),u=xf(n,"close",0,[]),o=xf(n,"abort",1,[]);Jv(t,r,function(){return Lf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Xf(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ov(this))throw sl("locked");return xv(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ov(this)?Yf(sl("abort")):!0===xv(this)?Yf(new l("Cannot abort a stream that already has a writer")):Lv(this,t)},t.prototype.close=function(){return!1===Ov(this)?Yf(sl("close")):!0===xv(this)?Yf(new l("Cannot close a stream that already has a writer")):!0===Fv(this)?Yf(new l("Cannot close an already-closing stream")):Mv(this)},t.prototype.getWriter=function(){if(!1===Ov(this))throw sl("getWriter");return Pv(this)},t}();function Pv(t){return new Wv(t)}function Bv(t){t.me="writable",t.hv=void 0,t.Ao=void 0,t.Tv=void 0,t.Sv=new tv,t.Ev=void 0,t.Iv=void 0,t.Rv=void 0,t.Dv=void 0,t.Nv=!1}function Ov(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"Tv")}function xv(t){return void 0!==t.Ao}function Lv(t,n){var i=t.me;if("closed"===i||"errored"===i)return qf(void 0);if(void 0!==t.Dv)return t.Dv.Cv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Gf(function(i,r){t.Dv={Cv:void 0,Fu:i,Vu:r,Pv:n,Bv:e}});return t.Dv.Cv=r,!1===e&&Xv(t,n),r}function Mv(t){var n=t.me;if("closed"===n||"errored"===n)return Yf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Gf(function(n,i){var e={Fu:n,Vu:i};t.Iv=e}),r=t.Ao;return void 0!==r&&!0===t.Nv&&"writable"===n&&_l(r),Iv(i=t.Tv,"close",0),nl(i),e}function Uv(t,n){"writable"!==t.me?Hv(t):Xv(t,n)}function Xv(t,n){var i=t.Tv;t.me="erroring",t.hv=n;var e=t.Ao;void 0!==e&&jv(e,n),!1===function(t){if(void 0===t.Ev&&void 0===t.Rv)return!1;return!0}(t)&&!0===i.Ov&&Hv(t)}function Hv(t){t.me="errored",t.Tv[Nv]();var n=t.hv;if(t.Sv.forEach(function(t){t.Vu(n)}),t.Sv=new tv,void 0!==t.Dv){var i=t.Dv;if(t.Dv=void 0,!0===i.Bv)return i.Vu(n),void zv(t);Qf(t.Tv[Dv](i.Pv),function(){i.Fu(),zv(t)},function(n){i.Vu(n),zv(t)})}else zv(t)}function Fv(t){return void 0!==t.Iv||void 0!==t.Rv}function zv(t){void 0!==t.Iv&&(t.Iv.Vu(t.hv),t.Iv=void 0);var n=t.Ao;void 0!==n&&cl(n,t.hv)}function Vv(t,n){var i=t.Ao;void 0!==i&&n!==t.Nv&&(!0===n?function(t){vl(t)}(i):_l(i)),t.Nv=n}var Wv=function(){function t(t){if(!1===Ov(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===xv(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.xv=t,t.Ao=this;var n,i=t.me;if("writable"===i)!1===Fv(t)&&!0===t.Nv?vl(this):dl(this),al(this);else if("erroring"===i)ll(this,t.hv),al(this);else if("closed"===i)dl(this),al(n=this),fl(n);else{var e=t.hv;ll(this,e),hl(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Gv(this)?Yf(ul("closed")):this.Mh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Gv(this))throw ul("desiredSize");if(void 0===this.xv)throw ol("desiredSize");return function(t){var n=t.xv,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return tl(n.Tv)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Gv(this)?Yf(ul("ready")):this.Lv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Gv(this)?Yf(ul("abort")):void 0===this.xv?Yf(ol("abort")):function(t,n){return Lv(t.xv,n)}(this,t)},t.prototype.close=function(){if(!1===Gv(this))return Yf(ul("close"));var t=this.xv;return void 0===t?Yf(ol("close")):!0===Fv(t)?Yf(new l("Cannot close an already-closing stream")):qv(this)},t.prototype.releaseLock=function(){if(!1===Gv(this))throw ul("releaseLock");void 0!==this.xv&&Qv(this)},t.prototype.write=function(t){return!1===Gv(this)?Yf(ul("write")):void 0===this.xv?Yf(ol("write to")):Zv(this,t)},t}();function Gv(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"xv")}function qv(t){return Mv(t.xv)}function Yv(t,n){"pending"===t.Mv?cl(t,n):function(t,n){hl(t,n)}(t,n)}function jv(t,n){"pending"===t.Uv?wl(t,n):function(t,n){ll(t,n)}(t,n)}function Qv(t){var n=t.xv,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");jv(t,i),Yv(t,i),n.Ao=void 0,t.xv=void 0}function Zv(t,n){var i=t.xv,e=i.Tv,r=function(t,n){try{return t.Xv(n)}catch(n){return il(t,n),1}}(e,n);if(i!==t.xv)return Yf(ol("write to"));var s=i.me;if("errored"===s)return Yf(i.hv);if(!0===Fv(i)||"closed"===s)return Yf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Yf(i.hv);var u=function(t){return Gf(function(n,i){var e={Fu:n,Vu:i};t.Sv.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Iv(t,e,i)}catch(n){return void il(t,n)}var r=t.Hv;if(!1===Fv(r)&&"writable"===r.me){var s=el(t);Vv(r,s)}nl(t)}(e,n,r),u}var Kv=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Cf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Hv"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Hv.me&&rl(this,t)},t.prototype[Dv]=function(t){var n=this.Fv(t);return $v(this),n},t.prototype[Nv]=function(){Rv(this)},t}();function Jv(t,n,i,e,r,s,u,o){n.Hv=t,t.Tv=n,n.bv=void 0,n.Av=void 0,Rv(n),n.Ov=!1,n.Xv=o,n.zv=u,n.Vv=e,n.Wv=r,n.Fv=s;var a=el(n);Vv(t,a),Qf(qf(i()),function(){n.Ov=!0,nl(n)},function(i){n.Ov=!0,Uv(t,i)})}function $v(t){t.Vv=void 0,t.Wv=void 0,t.Fv=void 0,t.Xv=void 0}function tl(t){return t.zv-t.Av}function nl(t){var n=t.Hv;if(!1!==t.Ov&&void 0===n.Ev)if("erroring"!==n.me){if(0!==t.bv.length){var i=t.bv.peek().value;"close"===i?function(t){var n=t.Hv;(function(t){t.Rv=t.Iv,t.Iv=void 0})(n),Ev(t);var i=t.Wv();$v(t),Qf(i,function(){!function(t){t.Rv.Fu(void 0),t.Rv=void 0,"erroring"===t.me&&(t.hv=void 0,void 0!==t.Dv&&(t.Dv.Fu(),t.Dv=void 0)),t.me="closed";var n=t.Ao;void 0!==n&&fl(n)}(n)},function(t){!function(t,n){t.Rv.Vu(n),t.Rv=void 0,void 0!==t.Dv&&(t.Dv.Vu(n),t.Dv=void 0),Uv(t,n)}(n,t)})}(t):function(t,n){var i=t.Hv;(function(t){t.Ev=t.Sv.shift()})(i),Qf(t.Vv(n),function(){!function(t){t.Ev.Fu(void 0),t.Ev=void 0}(i);var n=i.me;if(Ev(t),!1===Fv(i)&&"writable"===n){var e=el(t);Vv(i,e)}nl(t)},function(n){"writable"===i.me&&$v(t),function(t,n){t.Ev.Vu(n),t.Ev=void 0,Uv(t,n)}(i,n)})}(t,i.chunk)}}else Hv(n)}function il(t,n){"writable"===t.Hv.me&&rl(t,n)}function el(t){return tl(t)<=0}function rl(t,n){var i=t.Hv;$v(t),Xv(i,n)}function sl(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ul(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ol(t){return new l("Cannot "+t+" a stream using a released writer")}function al(t){t.Mh=Gf(function(n,i){t.fv=n,t.vv=i,t.Mv="pending"})}function hl(t,n){al(t),cl(t,n)}function cl(t,n){$f(t.Mh),t.vv(n),t.fv=void 0,t.vv=void 0,t.Mv="rejected"}function fl(t){t.fv(void 0),t.fv=void 0,t.vv=void 0,t.Mv="resolved"}function vl(t){t.Lv=Gf(function(n,i){t.Gv=n,t.qv=i}),t.Uv="pending"}function ll(t,n){vl(t),wl(t,n)}function dl(t){vl(t),_l(t)}function wl(t,n){$f(t.Lv),t.qv(n),t.Gv=void 0,t.qv=void 0,t.Uv="rejected"}function _l(t){t.Gv(void 0),t.Gv=void 0,t.qv=void 0,t.Uv="fulfilled"}function gl(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var ml="undefined"!=typeof DOMException?DOMException:void 0;var yl,kl=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(ml)?ml:((yl=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(yl.prototype,"constructor",{value:yl,writable:!0,configurable:!0}),yl);function pl(t,n,i,e,r,s){var u=vv(t),o=Pv(n);t._v=!0;var a=!1,h=qf(void 0);return Gf(function(c,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new kl("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.me?Lv(n,i):qf(void 0)}),!1===r&&s.push(function(){return"readable"===t.me?ld(t,i):qf(void 0)}),k(function(){return We.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Mh,function(t){!1===e?k(function(){return Lv(n,t)},!0,t):p(!0,t)}),y(n,o.Mh,function(n){!1===r?k(function(){return ld(t,n)},!0,n):p(!0,n)}),d=t,w=u.Mh,_=function(){!1===i?k(function(){return function(t){var n=t.xv,i=n.me;return!0===Fv(n)||"closed"===i?qf(void 0):"errored"===i?Yf(n.hv):qv(t)}(o)}):p()},"closed"===d.me?_():Zf(w,_),!0===Fv(n)||"closed"===n.me){var g=new l("the destination writable stream closed before all data could be piped to it");!1===r?k(function(){return ld(t,g)},!0,g):p(!0,g)}function m(){var t=h;return jf(h,function(){return t!==h?m():void 0})}function y(t,n,i){"errored"===t.me?i(t.hv):Kf(n,i)}function k(t,i,e){function r(){Qf(t(),function(){return b(i,e)},function(t){return b(!0,t)})}!0!==a&&(a=!0,"writable"===n.me&&!1===Fv(n)?Zf(m(),r):r())}function p(t,i){!0!==a&&(a=!0,"writable"===n.me&&!1===Fv(n)?Zf(m(),function(){return b(t,i)}):b(t,i))}function b(t,n){Qv(o),rv(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}$f(Gf(function(t,n){!function i(e){e?t():jf(!0===a?qf(!0):jf(o.Lv,function(){return jf(pv(u),function(t){return!0===t.done||(h=jf(Zv(o,t.value),void 0,Rf),!1)})}),i,n)}(!1)}))})}var bl=function(){function t(){throw new l}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Al(this))throw Bl("desiredSize");return Nl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Al(this))throw Bl("close");if(!1===Cl(this))throw new l("The stream is not in a state that permits close");Il(this)},t.prototype.enqueue=function(t){if(!1===Al(this))throw Bl("enqueue");if(!1===Cl(this))throw new l("The stream is not in a state that permits enqueue");return Rl(this,t)},t.prototype.error=function(t){if(!1===Al(this))throw Bl("error");Dl(this,t)},t.prototype[cv]=function(t){Rv(this);var n=this.Yv(t);return El(this),n},t.prototype[fv]=function(){var t=this.Qv;if(this.bv.length>0){var n=Ev(this);return!0===this.Zv&&0===this.bv.length?(El(this),dd(t)):Tl(this),qf(nv(n,!1,t.ov.rv))}var i=lv(t);return Tl(this),i},t}();function Al(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"Qv")}function Tl(t){!1!==Sl(t)&&(!0!==t.Kv?(t.Kv=!0,Qf(t.Jv(),function(){t.Kv=!1,!0===t.$v&&(t.$v=!1,Tl(t))},function(n){Dl(t,n)})):t.$v=!0)}function Sl(t){var n=t.Qv;return!1!==Cl(t)&&(!1!==t.Ov&&(!0===vd(n)&&wv(n)>0||Nl(t)>0))}function El(t){t.Jv=void 0,t.Yv=void 0,t.Xv=void 0}function Il(t){var n=t.Qv;t.Zv=!0,0===t.bv.length&&(El(t),dd(n))}function Rl(t,n){var i=t.Qv;if(!0===vd(i)&&wv(i)>0)dv(i,n,!1);else{var e=void 0;try{e=t.Xv(n)}catch(n){throw Dl(t,n),n}try{Iv(t,n,e)}catch(n){throw Dl(t,n),n}}Tl(t)}function Dl(t,n){var i=t.Qv;"readable"===i.me&&(Rv(t),El(t),wd(i,n))}function Nl(t){var n=t.Qv.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Av}function Cl(t){var n=t.Qv.me;return!1===t.Zv&&"readable"===n}function Pl(t,n,i,e,r,s,u){n.Qv=t,n.bv=void 0,n.Av=void 0,Rv(n),n.Ov=!1,n.Zv=!1,n.$v=!1,n.Kv=!1,n.Xv=u,n.zv=s,n.Jv=e,n.Yv=r,t.mv=n,Qf(qf(i()),function(){n.Ov=!0,Tl(n)},function(t){Dl(n,t)})}function Bl(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Ol=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},xl=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===Ul(this))throw td("view");return this.il},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ul(this))throw td("respond");if(void 0===this.ul)throw new l("This BYOB request has been invalidated");this.il.buffer,function(t,n){if(!1===Bf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");jl(t,n)}(this.ul,t)},t.prototype.respondWithNewView=function(t){if(!1===Ul(this))throw td("respond");if(void 0===this.ul)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.ol.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,jl(t,n.byteLength)}(this.ul,t)},t}(),Ll=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ml(this))throw nd("byobRequest");if(void 0===this.al&&this.ol.length>0){var t=this.ol.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(xl.prototype);!function(t,n,i){t.ul=n,t.il=i}(i,this,n),this.al=i}return this.al},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ml(this))throw nd("desiredSize");return Jl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ml(this))throw nd("close");if(!0===this.Zv)throw new l("The stream has already been closed; do not close it again!");var t=this.hl.me;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.hl;if(t.Av>0)return void(t.Zv=!0);if(t.ol.length>0){var i=t.ol.peek();if(i.bytesFilled>0){var e=new l("Insufficient bytes to fill elements in the given buffer");throw Kl(t,e),e}}Zl(t),dd(n)}(this)},t.prototype.enqueue=function(t){if(!1===Ml(this))throw nd("enqueue");if(!0===this.Zv)throw new l("stream is closed or draining");var n=this.hl.me;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.hl,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Uf(e);if(!0===_v(i))if(0===wv(i))zl(t,u,r,s);else{var o=new y(u,r,s);dv(i,o,!1)}else!0===rd(i)?(zl(t,u,r,s),Yl(t)):zl(t,u,r,s);Xl(t)}(this,t)},t.prototype.error=function(t){if(!1===Ml(this))throw nd("error");Kl(this,t)},t.prototype[cv]=function(t){this.ol.length>0&&(this.ol.peek().bytesFilled=0);Rv(this);var n=this.Yv(t);return Zl(this),n},t.prototype[fv]=function(){var t=this.hl;if(this.Av>0){var n=this.bv.shift();this.Av-=n.byteLength,Gl(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Yf(t)}return qf(nv(i,!1,t.ov.rv))}var e=this.cl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Yf(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.ol.push(s)}var u=lv(t);return Xl(this),u},t}();function Ml(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"hl")}function Ul(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"ul")}function Xl(t){!1!==function(t){var n=t.hl;if("readable"!==n.me)return!1;if(!0===t.Zv)return!1;if(!1===t.Ov)return!1;if(!0===_v(n)&&wv(n)>0)return!0;if(!0===rd(n)&&ed(n)>0)return!0;if(Jl(t)>0)return!0;return!1}(t)&&(!0!==t.Kv?(t.Kv=!0,Qf(t.Jv(),function(){t.Kv=!1,!0===t.$v&&(t.$v=!1,Xl(t))},function(n){Kl(t,n)})):t.$v=!0)}function Hl(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=Fl(n);"default"===n.readerType?dv(t,e,i):function(t,n,i){var e=t.ov;e.fl.shift().Fu(nv(n,i,e.rv))}(t,e,i)}function Fl(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function zl(t,n,i,e){t.bv.push({buffer:n,byteOffset:i,byteLength:e}),t.Av+=e}function Vl(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Av,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,v,l,d=t.bv;o>0;){var _=d.peek(),g=w.min(o,_.byteLength),m=n.byteOffset+n.bytesFilled;h=n.buffer,c=m,f=_.buffer,v=_.byteOffset,l=g,new y(h).set(new y(f,v,l),c),_.byteLength===g?d.shift():(_.byteOffset+=g,_.byteLength-=g),t.Av-=g,Wl(t,g,n),o-=g}return a}function Wl(t,n,i){ql(t),i.bytesFilled+=n}function Gl(t){0===t.Av&&!0===t.Zv?(Zl(t),dd(t.hl)):Xl(t)}function ql(t){void 0!==t.al&&(t.al.ul=void 0,t.al.il=void 0,t.al=void 0)}function Yl(t){for(;t.ol.length>0;){if(0===t.Av)return;var n=t.ol.peek();!0===Vl(t,n)&&(Ql(t),Hl(t.hl,n))}}function jl(t,n){var i=t.ol.peek();if("closed"===t.hl.me){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Uf(n.buffer);var i=t.hl;if(!0===rd(i))for(;ed(i)>0;)Hl(i,Ql(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Wl(t,n,i),!(i.bytesFilled<i.elementSize)){Ql(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);zl(t,s,0,s.byteLength)}i.buffer=Uf(i.buffer),i.bytesFilled-=e,Hl(t.hl,i),Yl(t)}}(t,n,i);Xl(t)}function Ql(t){var n=t.ol.shift();return ql(t),n}function Zl(t){t.Jv=void 0,t.Yv=void 0}function Kl(t,n){var i=t.hl;"readable"===i.me&&(!function(t){ql(t),t.ol=new tv}(t),Rv(t),Zl(t),wd(i,n))}function Jl(t){var n=t.hl.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Av}function $l(t,n,i){var e=d.create(Ll.prototype);var r=xf(n,"pull",0,[e]),s=xf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===Ol(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.hl=t,n.$v=!1,n.Kv=!1,n.al=void 0,n.bv=n.Av=void 0,Rv(n),n.Zv=!1,n.Ov=!1,n.zv=Xf(s),n.Jv=e,n.Yv=r,n.cl=u,n.ol=new tv,t.mv=n,Qf(qf(i()),function(){n.Ov=!0,Xl(n)},function(t){Kl(n,t)})}(t,e,function(){return Lf(n,"start",[e])},r,s,i,u)}function td(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function nd(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function id(t){return Gf(function(n,i){var e={Fu:n,Vu:i};t.ov.fl.push(e)})}function ed(t){return t.ov.fl.length}function rd(t){var n=t.ov;return void 0!==n&&!!ud(n)}var sd=function(){function t(t){if(!fd(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ml(t.mv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(vd(t))throw new l("This stream has already been locked for exclusive reading by another reader");iv(this,t),this.fl=new tv}return d.defineProperty(t.prototype,"closed",{get:function(){return ud(this)?this.Mh:Yf(od("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ud(this)?void 0===this.uv?Yf(sv("cancel")):ev(this,t):Yf(od("cancel"))},t.prototype.read=function(t){return ud(this)?void 0===this.uv?Yf(sv("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Yf(new l("view must have non-zero byteLength")):function(t,n){var i=t.uv;if(i._v=!0,"errored"===i.me)return Yf(i.hv);return function(t,n){var i=t.hl,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Uf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.ol.length>0)return t.ol.push(s),id(i);if("closed"===i.me)return qf(nv(new r(s.buffer,s.byteOffset,0),!0,i.ov.rv));if(t.Av>0){if(!0===Vl(t,s)){var u=Fl(s);return Gl(t),qf(nv(u,!1,i.ov.rv))}if(!0===t.Zv){var o=new l("Insufficient bytes to fill elements in the given buffer");return Kl(t,o),Yf(o)}}t.ol.push(s);var a=id(i);return Xl(t),a}(i.mv,n)}(this,t)):Yf(new l("view must be an array buffer view")):Yf(od("read"))},t.prototype.releaseLock=function(){if(!ud(this))throw od("releaseLock");if(void 0!==this.uv){if(this.fl.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");rv(this)}},t}();function ud(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"fl")}function od(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var ad=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),cd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),$l(this,t,e=Xf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Hf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(bl.prototype),s=xf(n,"pull",0,[r]),u=xf(n,"cancel",1,[]);Pl(t,r,function(){return Lf(n,"start",[r])},s,u,i,e)}(this,t,e=Xf(e),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===fd(this))throw _d("locked");return vd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===fd(this)?Yf(_d("cancel")):!0===vd(this)?Yf(new l("Cannot cancel a stream that already has a reader")):ld(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===fd(this))throw _d("getReader");if(void 0===n)return vv(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new sd(t);return i.rv=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===fd(this))throw _d("pipeThrough");if(!1===Ov(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===fd(e))throw new l("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!gl(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===vd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===xv(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return $f(pl(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===fd(this)?Yf(_d("pipeTo")):!1===Ov(t)?Yf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||gl(u)?!0===vd(this)?Yf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===xv(t)?Yf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):pl(this,t,e,r,s,u):Yf(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===fd(this))throw _d("tee");var t=function(t,n){var i,e,r,s,u,o=vv(t),a=!1,h=!1,c=!1,f=Gf(function(t){u=t});function v(){return!0===a?qf(void 0):(a=!0,$f(Jf(pv(o),function(t){if(a=!1,!0===t.done)return!1===h&&Il(r.mv),void(!1===c&&Il(s.mv));var n=t.value,i=n,e=n;!1===h&&Rl(r.mv,i),!1===c&&Rl(s.mv,e)})),qf(void 0))}function l(){}return r=hd(l,v,function(n){if(h=!0,i=n,!0===c){var r=Pf([i,e]),s=ld(t,r);u(s)}return f}),s=hd(l,v,function(n){if(c=!0,e=n,!0===h){var r=Pf([i,e]),s=ld(t,r);u(s)}return f}),Kf(o.Mh,function(t){Dl(r.mv,t),Dl(s.mv,t)}),[r,s]}(this);return Pf(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===fd(this))throw _d("getIterator");return function(t,n){void 0===n&&(n=!1);var i=vv(t),e=d.create(Av);return e.yv=i,e.pv=Boolean(n),e}(this,i)},t}();function hd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(ad.prototype);return cd(s),Pl(s,d.create(bl.prototype),t,n,i,e,r),s}function cd(t){t.me="readable",t.ov=void 0,t.hv=void 0,t._v=!1}function fd(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"mv")}function vd(t){return void 0!==t.ov}function ld(t,n){return t._v=!0,"closed"===t.me?qf(void 0):"errored"===t.me?Yf(t.hv):(dd(t),Jf(t.mv[cv](n),Rf))}function dd(t){t.me="closed";var n=t.ov;void 0!==n&&(kv(n)&&(n.wv.forEach(function(t){t.Fu(nv(void 0,!0,n.rv))}),n.wv=new tv),hv(n))}function wd(t,n){t.me="errored",t.hv=n;var i=t.ov;void 0!==i&&(kv(i)?(i.wv.forEach(function(t){t.Vu(n)}),i.wv=new tv):(i.fl.forEach(function(t){t.Vu(n)}),i.fl=new tv),av(i,n))}function _d(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof If.asyncIterator&&d.defineProperty(ad.prototype,If.asyncIterator,{value:ad.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var gd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),md=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Hf(e);if(void 0===r&&(r=1),r=Xf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Hf(s);void 0===u&&(u=0),u=Xf(u),function(t,n,i,e,r,s){function u(){return n}t.vl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Cv.prototype);return Bv(u),Jv(u,d.create(Kv.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.ll;if(!0===t.Nv){var e=t.dl;return Jf(e,function(){var e=t.vl,r=e.me;if("erroring"===r)throw e.hv;return Id(i,n)})}return Id(i,n)}(t,n)},function(){return function(t){var n=t.wl,i=t.ll,e=i._l();return Sd(i),Jf(e,function(){if("errored"===n.me)throw n.hv;var t=n.mv;!0===Cl(t)&&Il(t)},function(i){throw kd(t,i),n.hv})}(t)},function(n){return function(t,n){return kd(t,n),qf(void 0)}(t,n)},i,e),t.wl=hd(u,function(){return function(t){return bd(t,!1),t.dl}(t)},function(n){return pd(t,n),qf(void 0)},r,s),t.Nv=void 0,t.dl=void 0,t.yl=void 0,bd(t,!0),t.ll=void 0}(this,Gf(function(t){a=t}),r,o,u,h),function(t,n){var i=d.create(Ad.prototype),e=function(t){try{return Ed(i,t),qf(void 0)}catch(t){return Yf(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new l("transform is not a method");e=function(t){return Mf(r,n,[t,i])}}var s=xf(n,"flush",0,[i]);!function(t,n,i,e){n.bl=t,t.ll=n,n.Al=i,n._l=e}(t,i,e,s)}(this,t);var c=Lf(t,"start",[this.ll]);a(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===yd(this))throw Dd("readable");return this.wl},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===yd(this))throw Dd("writable");return this.vl},enumerable:!0,configurable:!0}),t}();function yd(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"ll")}function kd(t,n){Dl(t.wl.mv,n),pd(t,n)}function pd(t,n){Sd(t.ll),il(t.vl.Tv,n),!0===t.Nv&&bd(t,!1)}function bd(t,n){void 0!==t.dl&&t.yl(),t.dl=Gf(function(n){t.yl=n}),t.Nv=n}var Ad=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Td(this))throw Rd("desiredSize");return Nl(this.bl.wl.mv)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Td(this))throw Rd("enqueue");Ed(this,t)},t.prototype.error=function(t){if(!1===Td(this))throw Rd("error");var n;n=t,kd(this.bl,n)},t.prototype.terminate=function(){if(!1===Td(this))throw Rd("terminate");!function(t){var n=t.bl,i=n.wl.mv;!0===Cl(i)&&Il(i);var e=new l("TransformStream terminated");pd(n,e)}(this)},t}();function Td(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"bl")}function Sd(t){t.Al=void 0,t._l=void 0}function Ed(t,n){var i=t.bl,e=i.wl.mv;if(!1===Cl(e))throw new l("Readable side is not in a state that permits enqueue");try{Rl(e,n)}catch(t){throw pd(i,t),i.wl.hv}(function(t){return!0!==Sl(t)})(e)!==i.Nv&&bd(i,!0)}function Id(t,n){return Jf(t.Al(n),void 0,function(n){throw kd(t.bl,n),n})}function Rd(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Dd(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Nd,Cd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}($t);function Pd(t){return n=[t],new ad({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Bd(t){return Pd(new y(t))}function Od(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Go,s=function(){u();var t=new $s;e.cancel(t).catch(K),r.Gu(t)},u=function(){i&&(i.Ms(s),i=void 0)};i&&(i.Ns?s():i.Ls(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Hu}(t,n).then(function(t){return Xu(t).buffer})}function xd(t,n){var i=n,e=new md,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Fs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Ld(t){var n=new md,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||tu(n[0])&&tu(n[1])?n[0]:new Cd(n):n,t.cancel(i).catch(K)}),i.tee()}function Md(t){return Co(new y(t))}function Ud(t){return Po(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.Tl=1]="Tl"}(Nd||(Nd={}));var Xd="content-type",Hd="text/plain;charset=UTF-8",Fd=function(){function t(){}var n=t.prototype;return n.Sl=function(t){return this.El(t).then(JSON.parse)},n.Il=function(t,n){switch(t){case Af.Gf:return this.Rl(n);case Af.qf:return this.Sl(n);case Af.Yf:return this.Dl();case Af.$n:return this.El(n);default:throw new l}},t}();function zd(t,n,i){if(t instanceof Fd)return t;if(t instanceof ad)return function(t,n){return new Wd({fs:Nd.Yf,Dl:t,Nl:Vd(n)})}(t,i);var e=Vd(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{fs:Af.$n,Cl:t,Nl:n||Hd};if(t instanceof ArrayBuffer||Lu(t))return{fs:Af.Gf,Cl:Kd(t),Nl:n};if(G(t)||z(t))return{fs:Af.qf,Cl:t,Nl:n};throw new l("Unsupported BodyInit type")}return{fs:Af.$n,Cl:null,Nl:n}}(t,e)});return new Wd({fs:Nd.Tl,Hu:r,Pl:n})}function Vd(t){return(t.get(Xd)||"").toLowerCase()}var Wd=function(t){function n(n){var i;return(i=t.call(this)||this).Bl=!1,i.Ol=void 0,i.xl=new Go,i.xl.Hu.catch(K),i.Ll(n),i}S(n,t);var i=n.prototype;return i.Ml=function(){return this.xl.Hu},i.El=function(t){return this.Ul(Gd,t)},i.Sl=function(t){return this.Ul(Yd,t)},i.Rl=function(t){return this.Ul(Qd,t)},i.Dl=function(){return this.Xl((t=this.Ol).fs===Nd.Yf?t.Dl:xd(t.Hu.then(Zd).then(Bd),t.Pl));var t},i.Ul=function(t,n){if(this.Bl)return We.reject(new l("Already used"));this.Bl=!0;var i=t(this.Ol,n);return this.xl.Wu(i.then(K)),i},i.Xl=function(t){if(this.Bl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.Bl=!0;var n=new md,i=We.resolve(t.pipeTo(n.writable));return this.xl.Wu(i),n.readable},i.Ll=function(t){this.Ol=t,t.fs===Nd.Tl&&t.Hu.catch(K)},i.Hl=function(){if(this.Bl)throw new l("Already used");var t=function(t){if(t.fs===Nd.Yf){var n=t.Dl.tee(),i=n[0],e=n[1];return[{fs:t.fs,Dl:i,Nl:t.Nl},{fs:t.fs,Dl:e,Nl:t.Nl}]}var r=t.Pl.Vs(),s=r[0],u=r[1];return[{fs:t.fs,Hu:t.Hu,Pl:s},{fs:t.fs,Hu:t.Hu,Pl:u}]}(this.Ol),i=t[0],e=t[1];return this.Ll(i),new n(e)},A(n,[{key:"Fl",get:function(){return this.Bl}}]),n}(Fd);function Gd(t,n){return t.fs===Nd.Yf?Od(t.Dl,n).then(Md):(n&&t.Pl.zs(n),su(t.Hu.then(qd),t.Pl))}function qd(t){switch(t.fs){case Af.$n:return We.resolve(t.Cl||"");case Af.Gf:return We.resolve(t.Cl).then(Md);case Af.qf:return We.resolve(t.Cl).then(JSON.stringify)}}function Yd(t,n){return t.fs===Nd.Yf?Gd(t,n).then(JSON.parse):(n&&t.Pl.zs(n),su(t.Hu.then(jd),t.Pl))}function jd(t){return t.fs===Af.qf?We.resolve(t.Cl):qd(t).then(JSON.parse)}function Qd(t,n){return t.fs===Nd.Yf?Od(t.Dl,n):(n&&t.Pl.zs(n),su(t.Hu.then(Zd),t.Pl))}function Zd(t){switch(t.fs){case Af.Gf:return We.resolve(t.Cl);case Af.$n:case Af.qf:return qd(t).then(Ud)}}function Kd(t){return t instanceof ArrayBuffer?t:Fo(Mo(t)).buffer}function Jd(t){return t.zl>=200&&t.zl<=299||304===t.zl}var $d,tw,nw,iw,ew=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Vl,s=i.Wl,u=i.zl,o=i.Gl,a=i.ql):(r=[],s=Af.$n,u=200,o="OK",a=!1);var h=n.Yl,c=new Tf(n.Vl||r),f=n.Wl||s,v=n.jl||(i&&i.Yl===h?i.jl:h.Ql),l=i?i.Zl:null,d=zd(void 0!==n.Fi?n.Fi:l,n.Pl||new Js,c);return(e=t.call(this,d)||this).Vl=void 0,e.Yl=void 0,e.jl=void 0,e.Wl=void 0,e.zl=void 0,e.Gl=void 0,e.ql=void 0,e.Vl=c,e.Yl=h,e.jl=v,e.Wl=f,e.zl=void 0!==n.zl?n.zl:u,e.Gl=void 0!==n.Gl?String(n.Gl):o,e.ql=n.ql||a,e}S(n,t);var i=n.prototype;return i.Fi=function(t){return this.Il(this.Wl,t)},i.Lu=function(){return new n({Fi:this.Hl(),Yl:this.Yl},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Zl=void 0,i.Zl=n,i}S(n,t);var i=n.prototype;return i.Ml=function(){return this.Zl.Ml()},i.El=function(t){return this.Zl.El(t)},i.Sl=function(t){return this.Zl.Sl(t)},i.Rl=function(t){return this.Zl.Rl(t)},i.Dl=function(){return this.Zl.Dl()},i.Hl=function(){return this.Zl.Hl()},A(n,[{key:"Fl",get:function(){return this.Zl.Fl}}]),n}(Fd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}($d||($d={})),function(t){t.Kl="",t.Jl="manifest",t.$l="segment",t.td="content-protection"}(tw||(tw={})),function(t){t.Kl="",t.ed="initialization-segment",t.rd="fairplay-license",t.ud="fairplay-certificate",t.od="widevine-license",t.hd="widevine-certificate",t.fd="playready-license",t.vd="clearkey-license",t.ld="aes128-key"}(nw||(nw={})),function(t){t.Kl="",t.dd="audio",t.wd="video",t.$n="text",t._d="image"}(iw||(iw={}));var rw=function(t,n){this.Cl=void 0,this.Vl=void 0,this.md=void 0,this.Wl=void 0,this.yd=void 0,this.Ws=void 0,this.fs=void 0,this.kd=void 0,this.pd=void 0,this.Ql=void 0,this.bd=void 0,this.Ad=void 0;var i,e,r,s,u,o,a,h,c,f,v,l=t.Ql;n?(i=n.Cl,e=n.Vl,r=n.md,s=n.Wl,u=n.yd,o=n.Ws,a=n.fs,h=n.kd,c=n.pd,f=n.bd,v=n.Ad):(i=null,e={},r=$d.GET,s=Af.$n,u=0,a=tw.Kl,h=nw.Kl,c=iw.Kl,f=!1),this.Ql=l,this.Cl=t.Cl||i,this.Vl=new Tf(t.Vl||e),this.md=t.md||r,this.Wl=t.Wl||s,this.yd=void 0!==t.yd?Number(t.yd)||0:u,this.Ws=t.Ws||o||(new Js).Ws,this.fs=t.fs||a,this.kd=t.kd||h,this.pd=t.pd||c,this.bd=void 0!==t.bd?Boolean(t.bd):f,this.Ad=t.Ad||v},sw=function(){function t(){}var n=t.prototype;return n.Yl=function(t){var n=function(t){return new ew({Fi:null,Vl:{},Yl:t,jl:t.Ql,Wl:t.Wl,zl:0,Gl:bf.Tf})}(new rw(t));return We.resolve(n)},n.Td=function(t){},n.Sd=function(){},t}();var uw=function(){function t(t,n){void 0===n&&(n=!0),this.Ed=void 0,this.Id=void 0,this.Ed=t,this.Id=n}var n=t.prototype;return n.Yl=function(t){var n=this.Rd(t);return this.Ed.Yl(n)},n.Td=function(t){return this.Ed.Td(this.Dd(t))},n.Rd=function(n){var i=new rw(n);if(!this.Id){var e=t.Nd(i.Ql);i=new rw({Ql:e},i)}return i},n.Dd=function(n){var i=n.Ql;return this.Id||(i=t.Nd(i)),{Ql:i,Cl:n.Cl}},t.Nd=function(t){return i.Hr&&ls(t,"http://")?t.replace(":","s:"):t},n.Sd=function(){this.Ed.Sd()},A(t,null,[{key:"Cd",get:function(){return t.Pd||(t.Pd=new t(new sw)),t.Pd}}]),t}();function ow(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function aw(t,n){var e=i.Or(t);return n&&!ds(e,"/")&&(e+="/"),e}uw.Pd=void 0;var hw,cw=/cache:(.+)?(?=&|$)/,fw="http://webcache.googleusercontent.com/search?q=cache:";function vw(t){if(!ls(t,fw))return"";var n=i.Br(t).search.match(cw);return n&&n.length>1?n[1]:""}!function(t){t.Bd="HttpOpenError",t.Od="HttpResponseError",t.xd="HttpTimeoutError"}(hw||(hw={}));var lw=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Ld=void 0,r.Ld=n,r}return S(n,t),A(n,[{key:"Yl",get:function(){return this.Ld}}]),n}($t);var dw=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Ql+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return hw.Bd}}]),n}(lw);var ww=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Yl,null!=e?e:function(t){return"Error while loading "+t.Yl.Ql+", status code "+t.zl}(n),i)||this).Md=void 0,r.Md=n,r}return S(n,t),A(n,[{key:"name",get:function(){return hw.Od}},{key:"Ud",get:function(){return this.Md}}]),n}(lw);var _w=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Ql+" timed out after "+t.yd+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return hw.xd}}]),n}(lw),gw=function(t,n){return(gw=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function mw(t,n){function i(){this.constructor=t}gw(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var yw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var kw=function(){var t=yw.Blob;if(t)try{return new t,function(t,n){return new yw.Blob(t,n)}}catch(t){}var n,i=yw.BlobBuilder||yw.WebKitBlobBuilder||yw.MozBlobBuilder||yw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),pw="function"==typeof ad?ad:void 0;function bw(t){return t&&"function"==typeof t.getReader}function Aw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&bw(i)}catch(t){return!1}}var Tw=function(){function t(t,n){this.ov=t,this.Xd=n}return t.prototype.pull=function(t){var n=this;return this.ov.read().then(function(i){n.Xd&&n.Xd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.ov.cancel(t)},t}();function Sw(t,n){return n.constructor===t?n:new t(new Tw(n.getReader()),{highWaterMark:0})}var Ew=function(){function t(t,n){this.Hd=t,this.Fd=n}return t.prototype.pull=function(t){return this.Hd().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Fd&&this.Fd(t)},t}();function Iw(t,n,i){return new t(new Ew(n,i),{highWaterMark:0})}var Rw={searchParams:"URLSearchParams"in yw,iterable:"Symbol"in yw&&"iterator"in Symbol,blob:"FileReader"in yw&&!!kw,formData:"FormData"in yw,arrayBuffer:"ArrayBuffer"in yw,stream:Aw(pw),streamRequest:"Request"in yw&&"body"in yw.Request.prototype,streamResponse:"Response"in yw&&"body"in yw.Response.prototype,abort:"AbortController"in yw&&"Request"in yw&&"signal"in yw.Request.prototype,encoding:"TextEncoder"in yw&&"TextDecoder"in yw,url:"URL"in yw&&function(t){try{return new yw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in yw&&/Firefox\//.test(yw.navigator.userAgent)};function Dw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function Nw(t){return"string"!=typeof t&&(t=String(t)),t}function Cw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Rw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Pw=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Rw.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Dw(t),n=Nw(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=Dw(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=Dw(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=Dw(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Dw(t)).toLowerCase();this.Kr[i]=[t,Nw(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Cw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Cw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Cw(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Bw(){}Rw.iterable&&(Pw.prototype[Symbol.iterator]=Pw.prototype.entries);var Ow,xw,Lw,Mw=w.min,Uw=String.fromCharCode,Xw=16384;function Hw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Xw){var r=Mw(e+Xw,n);i.push(Uw.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Fw(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function zw(t,n){return t>>n&63|128}function Vw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Fw(t),n.push(t>>12&15|224),n.push(zw(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(zw(t,12)),n.push(zw(t,6))),n.push(63&t|128)):n.push(t)}function Ww(){if(Lw>=xw)throw new v("Invalid byte index");var t=255&Ow[Lw];if(Lw++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Gw(){var t,n;if(Lw>xw)throw new v("Invalid byte index");if(Lw===xw)return!1;if(t=255&Ow[Lw],Lw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ww())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ww()<<6|Ww())>=2048)return Fw(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ww()<<12|Ww()<<6|Ww())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var qw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Yw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function jw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Qw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Zw,Kw=ArrayBuffer.isView||function(t){return t&&(qw.indexOf(d.prototype.toString.call(t))>-1||Qw(t))};function Jw(t){if(t.bodyUsed)return We.reject(new l("Already used"));t.bodyUsed=!0}function $w(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function t_(t){return Rw.encoding?new yw.TextDecoder("utf-8").decode(new y(t)):Hw(function(t){xw=(Ow=t).length,Lw=0;for(var n,i=[];!1!==(n=Gw());)i.push(n);return i}(new y(t)))}function n_(t){return Rw.encoding?(new yw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Vw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function i_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function e_(t){return i_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function r_(t){return t.slice?t.slice(0):s_(new y(t))}function s_(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function u_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function o_(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.zd===Zw.Vd){if(!n.Wd.tee)throw new v("could not clone ReadableStream body");var i=n.Wd.tee(),e=i[0],r=i[1];return n.body=e,n.Wd=e,n.Gd=e,r}return n.zd===Zw.Gf?r_(n.Wd):n.zd===Zw.Tl?n.Wd.then(o_):n.Gd}!function(t){t[t.$n=0]="$n",t[t.qd=1]="qd",t[t.Yd=2]="Yd",t[t.Gf=3]="Gf",t[t.Vd=4]="Vd",t[t.Tl=5]="Tl"}(Zw||(Zw={}));var a_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Gd=n||null,n)if("string"==typeof n)this.zd=Zw.$n,this.Wd=n;else if((s=n)&&"function"==typeof s.then)this.zd=Zw.Tl,this.Wd=We.resolve(n).then(function(n){return new t(n,i)}),this.Wd.catch(Bw);else if(Rw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.zd=Zw.qd,this.Wd=n;else if(Rw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.zd=Zw.Yd,this.Wd=n;else if(Rw.searchParams&&Yw(n))this.zd=Zw.$n,this.Wd=n.toString();else if(Rw.arrayBuffer&&(jw(n)||Kw(n)))Qw(n)&&(this.Gd=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.zd=Zw.Gf,this.Wd=jw(e=n)?r_(e):s_(e);else{if(!Rw.stream||!bw(n))throw new v("unsupported BodyInit type");n=Sw(pw,n),this.zd=Zw.Vd,this.Wd=n,this.Gd=n}else this.zd=Zw.$n,this.Wd="";this.jd="",i.has("content-type")?this.jd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.jd="text/plain;charset=UTF-8":u.zd===Zw.qd&&u.Wd.type?this.jd=u.Wd.type:Rw.searchParams&&Yw(n)&&(this.jd="application/x-www-form-urlencoded;charset=UTF-8"),this.jd&&i.set("content-type",this.jd)),Rw.stream&&(null==n?this.body=null:u.zd===Zw.Vd?this.body=u.Wd:this.body=Iw(pw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Jw(this);return e||(this.zd===Zw.qd?(t=this.Wd,n=new FileReader,i=$w(n),n.readAsText(t),i):this.zd===Zw.Gf?We.resolve(this.Wd).then(t_):this.zd===Zw.Vd?e_(this.Wd).then(t_):this.zd===Zw.Tl?this.Wd.then(function(t){return t.text()}):this.zd===Zw.Yd?We.reject(new v("could not read FormData body as text")):We.resolve(this.Wd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Rw.blob&&(a_.prototype.blob=function(){var t,n,i=Jw(this);return i||(this.zd===Zw.qd?We.resolve(this.Wd):this.zd===Zw.Gf?We.resolve(kw([this.Wd],{type:this.jd})):this.zd===Zw.Vd?(t=this.Wd,n=this.jd,i_(t).then(function(t){return kw(t,{type:n||""})})):this.zd===Zw.Tl?this.Wd.then(function(t){return t.blob()}):this.zd===Zw.Yd?We.reject(new v("could not read FormData body as Blob")):We.resolve(kw([this.Wd],{type:this.jd})))}),Rw.arrayBuffer&&(a_.prototype.arrayBuffer=function(){var t,n,i;return this.zd===Zw.Gf?Jw(this)||We.resolve(this.Wd):this.zd===Zw.qd?Jw(this)||(t=this.Wd,n=new FileReader,i=$w(n),n.readAsArrayBuffer(t),i):this.zd===Zw.Vd?e_(this.Wd):this.zd===Zw.Tl?Jw(this)||this.Wd.then(function(t){return t.arrayBuffer()}):this.zd===Zw.Yd?We.reject(new v("could not read FormData body as ArrayBuffer")):We.resolve(this.Wd).then(n_)}),Rw.formData&&(a_.prototype.formData=function(){return this.zd===Zw.Yd?Jw(this)||We.resolve(this.Wd):this.text().then(u_)});var h_=[301,302,303,307,308],c_=function(t){function n(n,i){var e=this,r=new Pw((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return mw(n,t),n.prototype.clone=function(){return new n(o_(this),{status:this.status,statusText:this.statusText,headers:new Pw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===h_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(a_);var f_,v_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),d.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(f_=v_)&&f_.__esModule&&d.prototype.hasOwnProperty.call(f_,"default")&&f_.default,v_.AbortSignal;var l_=v_.AbortController,d_=yw.DOMException;try{new d_}catch(t){(d_=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d_.prototype.constructor=d_}var w_=l_;function __(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function g_(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(Bw),r(m_());var s=function(){n.signal.removeEventListener("abort",s),r(m_())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function m_(){return new d_("Aborted","AbortError")}var y_,k_="moz-chunked-arraybuffer";function p_(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(y_||(y_={}));var b_=function(){function t(t,n){var i=this;this.Qd=!1,this.Ld=t,this.Zd=n,this.Kd=new p,this.Jd=new We(function(t,n){i.$d=t,i.nw=n})}return t.prototype.send=function(){var t=this;return this.iw().then(function(n){return t.ew(n,t.Zd),t.Jd})},t.prototype.iw=function(){var t=this.Ld;return t.zd===Zw.Vd?t.arrayBuffer():We.resolve(t.Gd)},t.prototype.uw=function(t){this.Ld.onprogress&&this.Ld.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ow=function(t){this.nw(t)},t.prototype.aw=function(){this.ow(new l("Network request failed"))},t.prototype.hw=function(){this.ow(new l("Network request failed"))},t.prototype.cw=function(){this.ow(m_())},t.prototype.ew=function(t,n){var i=this,e=this.Ld,r=this.Kd,s=function(){return i.fw()};if(e.signal.aborted)return this.cw();r.onreadystatechange=function(){if(r.readyState>=y_.HEADERS_RECEIVED&&!i.Qd){var t=function(t){var n=new Pw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Qd=!0,i.vw(n)}},r.onprogress=function(t){return i.uw(t)},r.onload=function(){return i.lw()},r.onerror=function(){return i.aw()},r.ontimeout=function(){return i.hw()},r.onabort=function(){return i.cw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.fw=function(){this.cw(),this.Kd.abort()},t}(),A_=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.dw=void 0,e.ww=void 0,e}return mw(n,t),n.prototype.vw=function(t){var n=this;this.dw=new We(function(t,i){n.ww=t,n._w=i}),this.$d(new c_(this.dw,t))},n.prototype.lw=function(){var t=this.Kd.response;if(null==t){var n=this.Zd;""===n||"text"===n?t=this.Kd.responseText:"document"===n?t=this.Kd.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=kw([]))}this.ww(t)},n.prototype.ow=function(n){t.prototype.ow.call(this,n),this._w&&this._w(n)},n}(b_),T_=function(t){function n(n){var i=t.call(this,n,k_)||this;return i.gw=void 0,i.mw=void 0,i.yw=!1,i}return mw(n,t),n.prototype.vw=function(t){var n=this;this.gw=new pw({start:function(t){n.mw=t},cancel:function(){n.yw=!0,n.fw()}}),this.$d(new c_(this.gw,t))},n.prototype.uw=function(n){this.yw||this.mw.enqueue(new y(this.Kd.response)),t.prototype.uw.call(this,n)},n.prototype.lw=function(){this.mw.close()},n.prototype.ow=function(n){t.prototype.ow.call(this,n),this.mw&&!this.yw&&(this.yw=!0,this.mw.error(n))},n}(b_),S_=function(){var t=Rw.firefox&&p_(k_);return S_=function(){return t},t},E_=function(){var t;return t=Rw.arrayBuffer&&p_("arraybuffer")?"arraybuffer":Rw.blob&&p_("blob")?"blob":"",E_=function(){return t},t};function I_(t){return(Rw.stream&&S_()?new T_(t):new A_(t,E_())).send()}var R_=yw.fetch,D_=yw.Request;yw.Response;var N_=yw.AbortController;var C_=["http:","https:"];var P_=function(){try{if(Rw.streamRequest){var t=new D_("about:blank",{body:"",method:"POST"}).body;if(t&&Aw(t.constructor))return t.constructor}}catch(t){}}();function B_(t,n,i){var e;if(Rw.stream){var r=void 0;if(Rw.streamResponse){var s=t.body;r=s&&Sw(pw,s)}else r=Iw(pw,function(){return g_(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Tw(n.getReader(),i),{highWaterMark:0})}(pw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,O_(t.headers))),e=r}else{var u=g_(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,O_(t.headers))),e=u}return new c_(e,t)}function O_(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function x_(t){var n=new w_;return t.signal&&__(n,t.signal),function(t,n){var i,e,r=t;if(i=r.zd===Zw.Vd?Rw.streamRequest&&P_?We.resolve(Sw(P_,r.Wd)):g_(t.arrayBuffer(),n,!1):g_(We.resolve(t.Gd),n,!1),Rw.abort){var s=new N_;__(s,n.signal),e=s.signal}return i.then(function(n){return new D_(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Pw?i:new Pw(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return R_(i).then(function(i){return B_(i,n,t.onprogress)})})}var L_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var M_=function(t){function n(i,e){var r,s,u,o,a,h,c,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new Pw(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.Gd||(w=i.Gd,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new Pw(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return L_.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new w_).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return mw(n,t),n.prototype.clone=function(){return new n(this,{body:o_(this)})},n}(a_),U_="function"==typeof R_&&Rw.stream&&Rw.streamResponse&&Rw.url;function X_(t,n){return new We(function(i){var e=new M_(t,n);i((U_&&function(t){try{return C_.indexOf(new yw.URL(t,yw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?x_:I_)(e))})}X_.polyfill=!0;var H_=function(){function t(t){this.Ud=void 0,this.Ld=void 0,this.pw=new Js,this.Md=void 0,this.bw=!1,this.Ld=t,this.pw.zs(t.Ws),this.Ud=this.Aw()}var n=t.prototype;return n.Aw=function(){var t,n,e,r,s,u,o,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Ld).yd&&a(function(){c.bw=!0,c.pw.Fs()},t.yd),f.prev=2,n=X_(t.Ql,{method:t.md,headers:t.Vl.jf(),body:t.Cl,credentials:t.bd?"include":"same-origin",signal:V_(this.pw.Ws),onprogress:t.Ad}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new dw(t,f.t0);case 9:return f.prev=9,f.next=12,Dr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),tu(r=this.Tw(f.t1))&&this.pw.Fs(),r;case 20:if(s=e.url||t.Ql,u=0===e.status&&"file:"===(v=s,i.Br(v).protocol)?200:e.status,o=new F_(this,e,this.pw),h=new ew({Fi:o,Yl:t,Wl:t.Wl,Vl:new Tf(e.headers.asList()),zl:u,Gl:e.statusText,jl:s}),this.Md=h,!Jd(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new ww(h);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],We)},n.Tw=function(t){return tu(t)?this.bw?new _w(this.Ld):new $s(t.message,t):this.Md?new ww(this.Md,t):new dw(this.Ld,t)},t}(),F_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sw=void 0,r.Ew=void 0,r.pw=void 0,r.xl=new Go,r.Sw=n,r.Ew=i,r.pw=e,r.xl.Hu.catch(K),r}S(n,t);var i=n.prototype;return i.Ml=function(){return this.xl.Hu},i.El=function(t){return this.Ul(this.Ew.text(),t)},i.Rl=function(t){return this.Ul(this.Ew.arrayBuffer(),t)},i.Dl=function(){var t=this.Ew.body;return t?this.Xl(t):xd(this.Rl().then(Bd),this.pw)},i.Hl=function(){var t=this.Ew.clone(),i=this.pw.Vs(),e=i[0],r=i[1];return this.pw=e,new n(this.Sw,t,r)},i.Ul=function(t,n){var i=this;n&&this.pw.zs(n);var e=We.resolve(t).catch(function(t){throw i.Sw.Tw(t)});return e=su(e,this.pw),this.xl.Wu(e.then(K)),e},i.Xl=function(t){var n=this,i=new md,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Sw.Tw(t);throw i.writable.abort(e).catch(K),e});return e=su(e,this.pw),this.xl.Wu(e.then(K)),i.readable},A(n,[{key:"Fl",get:function(){return this.Ew.bodyUsed}}]),n}(Fd),z_="abort";function V_(t){var n=new w_;if(t.Ns)n.abort();else if(!t.Cs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(z_,i),t.Ms(i),t.Xs(e)};n.signal.addEventListener(z_,i),t.Ls(i),t.Us(e)}return n.signal}function W_(t,n,i){return new We(function(e,r){if(i&&i.Ns)return r(new $s);var s=function(t){o(),e(t)},u=function(){o(),r(new $s)},o=function(){t.removeEventListener(n,s),i&&i.Ms(u)};t.addEventListener(n,s),i&&i.Ls(u)})}var G_,q_,Y_=function(){function t(){}var n=t.prototype;return n.Yl=function(t){return new H_(t).Ud},n.Td=function(t){if(we&&we.sendBeacon)we.sendBeacon(t.Ql,kf([t.Cl],{type:t.Nl}));else{var n=t.Nl?{"Content-type":t.Nl}:void 0;hu(this.Yl(new rw({md:$d.POST,Ql:t.Ql,Cl:t.Cl,Vl:n})))}},n.Sd=function(){},t}();G_=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Iw=void 0,i.Rw=function(){if(M.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Dw=M.Xn||M.fn,i.Nw=void 0,i}return S(i,n),A(i,[{key:"Er",get:function(){return this.Iw||(this.Iw=new Es(_f())),this.Iw}},{key:"Cw",get:function(){return this.Rw}},{key:"Pw",get:function(){return this.Dw}},{key:"Bw",get:function(){return!1}},{key:"Ow",get:function(){return mf.rf()}},{key:"xw",get:function(){return{Lw:pf}}},{key:"Mw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Uw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Xw",get:function(){return this.Nw||(this.Nw=new uw(new Y_)),this.Nw}}]),i}(Er)),i=G_,function(t){t.Hw="Fw",t.zw="Vw"}(q_||(q_={})),q_.Hw,q_.zw;var j_=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(gu);function Q_(t){return Boolean(t&&t.Gw)}var Z_,K_=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(j_),J_=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(gu),$_=function(t){function n(n){var i;return(i=t.call(this,q_.Hw)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new tg(this.Yw.Gw)},n}(K_),tg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(J_),ng=function(t){function n(n){var i;return(i=t.call(this,q_.zw)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new ig(this.Yw.Gw)},n}(K_),ig=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(J_);!function(t){t.jw="Qw",t.Zw="Kw",t.Jw="$w",t.t_="n_",t.i_="e_",t.r_="s_",t.u_="o_",t.a_="h_",t.c_="Zh",t.f_="v_",t.l_="d_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Z_||(Z_={}));var eg=function(t){function n(){var n;return(n=t.call(this)||this).w_=[],n.Ww=void 0,n}S(n,t);var i=n.prototype;return i.__=function(t){return this.w_[t]},i.g_=function(t){return!(!t||Hs(this.w_,t))&&(this.w_.push(t),this.Ww&&this.Ww.push(t.Gw),t.Zs(Z_.r_,this.js),this.Qs(new $_(t)),!0)},i.m_=function(t){if(!t)return!1;var n=this.w_.indexOf(t);return!(n<0)&&(Xs(this.w_,n),this.Ww&&Xs(this.Ww,n),t.tu(Z_.r_,this.js),this.Qs(new ng(t)),!0)},i.y_=function(t){return Hs(this.w_,t)},i.k_=function(){for(var t=this.w_,n=t.length-1;n>=0;n-=1)this.m_(t[n])},i.Sd=function(){this.k_(),this.$s()},A(n,[{key:"p_",get:function(){return this.w_}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"b_",get:function(){return this.w_.length}}]),n}(wu),rg=function(t){function n(n){var i;return(i=t.call(this,Z_.r_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new sg(this.Yw.Gw)},n}(K_),sg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(J_),ug=function(t){function n(){var n;return(n=t.call(this)||this).A_=void 0,n.T_=function(t){var i=t.Yw;n.g_(i)},n.S_=function(t){var i=t.Yw;n.m_(i)},n}S(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(q_.Hw,this.T_),t.Zs(q_.zw,this.S_)},i.I_=function(t){t.tu(q_.Hw,this.T_),t.tu(q_.zw,this.S_)},i.Sd=function(){this.A_&&this.A_.Sd(),t.prototype.Sd.call(this)},A(n,[{key:"R_",get:function(){return this.A_},set:function(t){var n=this.A_;if(t!==n){if(n){this.I_(n);for(var i=0,e=n.p_;i<e.length;i++){var r=e[i];t&&t.y_(r)||this.m_(r)}}if(this.A_=t,t){for(var s=[],u=0,o=t.p_;u<o.length;u++){var a=o[u];this.g_(a),this.D_(a)&&s.push(a)}this.E_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Qs(new rg(c))}}}}}]),n}(eg),og=d.freeze||J;function ag(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function hg(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function cg(t){if(G(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=cg(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=cg(t[r]));return e}return t}function fg(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!fg(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!fg(t[s],n[s]))return!1}return!0}(t,n)))}function vg(t,n){return t.constructor===n.constructor}function lg(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function dg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function wg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function _g(t){var n=wg(t);if(m(n))throw new v("Expected a valid number.");return n}function gg(t){return"string"==typeof t?t:""}function mg(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function yg(t,n){return V(t)?mg(t,n):n(t)}var kg=[q_.Hw,q_.zw,Z_.r_];function pg(t){var n,i=t.p_.map(function(t){return t.Gw});return i.item=function(n){var i=0|n,e=t.__(i);return e&&e.Gw||void 0},i.addEventListener=function(t,i){n.Zs(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new _u(i),t.Zs(kg,function(t){return n.Qs(t.Gw)}),i}function bg(){}function Ag(t){var n,i=[Z_.c_,Z_.r_,Z_.f_,Z_.l_,Z_.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.N_&&t.N_.Gw},get enabled(){return t.C_},set enabled(n){t.C_=dg(n)},get id(){return t.P_},get uid(){return t.B_},get kind(){return t.O_},get label(){return t.x_},set label(n){t.x_=gg(n)},get language(){return t.L_},get qualities(){return t.M_.Gw},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.M_.p_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Gw===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.U_=i:t.U_=void 0},get targetQuality(){if(t.U_)return 1===t.U_.length?t.U_[0].Gw:t.U_.map(function(t){return t.Gw})},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(e),t.Zs(i,function(t){return n.Qs(t.Gw)}),d.defineProperty(e,"constructor",{value:bg}),e}function Tg(){}function Sg(t){var n=pg(t);return d.defineProperty(n,"constructor",{value:Tg}),n}var Eg,Ig,Rg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qw=function(){return Sg(this)},i.D_=function(t){return t.C_},n}(ug);function Dg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Eg.X_:case Eg.H_:case Eg.F_:return n}}else if("number"==typeof t)switch(t){case 0:return Eg.X_;case 1:return Eg.H_;case 2:return Eg.F_}return Eg.X_}function Ng(){}function Cg(t){var n,i=[Z_.r_,Z_.c_,Z_.jw,Z_.Zw,Z_.Jw,Z_.t_,Z_.i_,Z_.u_,Z_.a_],e=[Ig.z_],r={get kind(){return t.O_},get label(){return t.x_},set label(n){t.x_=gg(n)},get language(){return t.L_},get id(){return t.P_},get uid(){return t.B_},get inBandMetadataTrackDispatchType(){return t.V_},get mode(){return t.W_},set mode(n){n!==Eg.F_&&n!==Eg.H_&&n!==Eg.X_||t.G_(n)},get forced(){return Boolean(t.q_)},get type(){return t.fs},get readyState(){return Og(t.Y_)},get cues(){return t.W_===Eg.X_?null:t.j_.Gw},get activeCues(){return t.W_===Eg.X_?null:t.Q_.Gw},get src(){return t.Z_||""},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(t),t.Zs(i,function(t){return n.Qs(t.Gw)}),t.Zs(e,function(t){return n.Qs(t)}),d.defineProperty(r,"constructor",{value:Ng}),r}function Pg(){}function Bg(t){var n=pg(t);return d.defineProperty(n,"constructor",{value:Pg}),n}function Og(t){return t}!function(t){t.X_="disabled",t.H_="hidden",t.F_="showing"}(Eg||(Eg={})),function(t){t.z_="error"}(Ig||(Ig={}));var xg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qw=function(){return Bg(this)},i.D_=function(t){return t.W_===Eg.F_},n}(ug),Lg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(wu),Mg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Lg),Ug=function(t){function n(){return t.call(this,bf.yf)||this}return S(n,t),n}(gu),Xg=function(t){function n(n){var i;return(i=t.call(this,bf.df)||this).currentSource=n,i}return S(n,t),n}(gu),Hg=function(){function t(){}return t.K_=function(n,i){var e=t.J_(n,i);return e?t.eg(e):0},t.rg=function(){return i.Mw||"default"},t.og=function(){return i.Uw||"unknown"},t.J_=function(n,e){var r,s=null==(r=i.Ow)?void 0:r.Iu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.ag(u,n,e)},t.eg=function(t){var n=t.availableBandwidth;return n||0},t.ag=function(n,i,e){if(!t.hg(n,i))return n[i];t.cg(n,i,e)},t.cg=function(t,n,e){var r;delete t[n],null==(r=i.Ow)||r.ef(e,JSON.stringify(t))},t.hg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.fg=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.vg=function(n){var i=t.rg();t.dg(i,"theoplayer-stored-network-info",n,Vt())},t.dg=function(n,e,r,s){var u,o,a=null==(u=i.Ow)?void 0:u.Iu(e),h=a?JSON.parse(a):void 0,c=t.fg(h,n,r,s);null==(o=i.Ow)||o.ef(e,JSON.stringify(c))},t.wg=function(){var n=t.rg();return t.K_(n,"theoplayer-stored-network-info")},t}();var Fg,zg,Vg,Wg,Gg,qg,Yg="1ADD53F3";function jg(t){return{chromecast:function(t){return{appID:t&&t.appID?gg(t.appID):Yg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Fg.AUTO;case"manual":return Fg.MANUAL;case"disabled":return Fg.DISABLED;default:return Fg.MANUAL}}(t?t.strategy:void 0)}}function Qg(t){var n,i=Vg._g;return(n=t)&&vs(n,"mpd")&&(i=Vg.gg),function(t){return!!t&&vs(t,"m3u8")}(t)&&(i=Vg.yg),i}function Zg(t){return!!t&&ls(t.toLowerCase(),Vg.gg)}function Kg(t){if(!t)return!1;var n=t.toLowerCase();return ls(n,Vg.yg)||ls(n,Vg.pg)}function Jg(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function $g(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function tm(t){if(q(t))return!t;if($g(t))return!t.id;if(Jg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function nm(t){return Boolean(W(t)&&q(t.src))}function im(t){return q(t)||nm(t)||Jg(t)||$g(t)}function em(t){if(t){if(im(t))return tm(t);for(var n=0;n<t.length;n++){if(!tm(t[n]))return!1}return!0}return!0}function rm(){return{crossOrigin:zg.Ag,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function sm(){return Nr({},rm(),{src:void 0,type:Vg._g,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function um(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Wg.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Gg.NONE;case"midroll-and-postroll":default:return Gg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=dg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Wg.INSECURE;case"disabled":return Wg.DISABLED;case"enabled":default:return Wg.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:dg(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function om(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];G(r)&&n.push(r)}return n}function am(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Fg||(Fg={})),function(t){t.Ag="",t.Tg="anonymous",t.Sg="use-credentials"}(zg||(zg={})),function(t){t.gg="application/dash+xml",t.yg="application/vnd.apple.mpegurl",t.pg="application/x-mpegurl",t._g="video/mp4",t.Eg="application/vnd.theoplayer.hesp+json",t.Ig="application/vnd.theo.hesp+json"}(Vg||(Vg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Wg||(Wg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Gg||(Gg={})),function(t){t[t.Rg=0]="Rg",t[t.Dg=1]="Dg",t[t.Ng=2]="Ng",t[t.Cg=3]="Cg",t[t.Pg=4]="Pg"}(qg||(qg={}));var hm,cm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Rg),(e=t.call(this,bf.gf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),fm=function(t){function n(n){var i;return(i=t.call(this,bf.Ef)||this).currentTime=n,i}return S(n,t),n}(gu),vm=function(t){function n(n){var i;return(i=t.call(this,bf.If)||this).currentTime=n,i}return S(n,t),n}(gu);!function(t){t.Bg="canplay",t.Og="canplaythrough",t.xg="loadeddata",t.Lg="loadedmetadata",t.u_="readystatechange",t.Mg="waiting",t.Ug="playing"}(hm||(hm={}));var lm,dm=[hm.Bg,hm.Og,hm.xg,hm.Lg,hm.u_,hm.Mg,hm.Ug],wm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Dg),(e=t.call(this,hm.Lg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),_m=function(t){function n(n){var i;return(i=t.call(this,bf._f)||this).duration=n,i}return S(n,t),n}(gu),gm=function(t){function n(n,i){var e;return(e=t.call(this,bf.Df)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(gu),mm=function(t){function n(n,i){var e;return(e=t.call(this,bf.Hf)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(gu),ym=function(t){function n(n){var i;return(i=t.call(this,bf.mf)||this).currentTime=n,i}return S(n,t),n}(gu),km=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Ng),(e=t.call(this,hm.xg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),pm=function(t){function n(n){var i;return(i=t.call(this,bf.Bf)||this).currentTime=n,i}return S(n,t),n}(gu),bm=function(t){function n(n){var i;return(i=t.call(this,bf.Pf)||this).currentTime=n,i}return S(n,t),n}(gu),Am=function(t){function n(n,i){var e;return(e=t.call(this,bf.Ff)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(gu),Tm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Cg),(e=t.call(this,hm.Bg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Sm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Pg),(e=t.call(this,hm.Og)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Em=function(t){function n(n,i){var e;return(e=t.call(this,hm.u_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Im=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).errorObject=n,i}return S(n,t),n.prototype.qw=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(j_);function Rm(t){switch(t){case lm.ALL:case lm.CONTENT:return t;default:return lm.NONE}}function Dm(t){var n,e,r,s=cg(t||{});return s.libraryLocation&&(s.libraryLocation=aw(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=jg(s.cast),s.ads=um(s.ads),s.analytics=om(s.analytics),s.mutedAutoplay=Rm(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return aw(t)}catch(t){return void i.gr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Nm(t){return{Xg:t.Xg,Hg:t.Hg,Fg:t.Fg,mu:t.mu,zg:t.zg,Vg:t.Vg,Wg:t.Wg,Gg:t.Gg,Y_:t.Y_,qg:t.qg,Yg:t.Yg,jg:t.jg,Qg:t.Qg}}function Cm(t,n,i){if(n!==i){var e=n.Xg,r=n.Hg,s=n.Vg,u=n.Wg,o=n.Gg,a=n.Y_,h=n.qg;n.jg,n.Yg;var c=n.Qg,f=i.Xg,v=i.Hg,l=i.Fg,d=i.zg,w=i.Vg,_=i.Wg,g=i.Gg,y=i.Y_,k=i.qg;i.jg,i.Yg;var p=i.Qg;a!==qg.Rg&&t.Qs(new cm(f,y)),_&&!u?t.Qs(new fm(f)):!_&&u&&t.Qs(new vm(f)),y>=qg.Dg&&t.Qs(new wm(f,y)),v===r||m(v)&&m(r)||t.Qs(new _m(v)),g!==o&&t.Qs(new gm(f,g)),f!==e&&t.Qs(new mm(f,void 0)),l&&t.Qs(new ym(f)),y>=qg.Ng&&t.Qs(new km(f,y)),k&&!h?t.Qs(new pm(f)):!k&&h&&t.Qs(new bm(f)),p===c&&w===s||t.Qs(new Am(f,p)),y>=qg.Cg&&t.Qs(new Tm(f,y)),y>=qg.Pg&&t.Qs(new Sm(f,y)),y!==a&&t.Qs(new Em(f,y)),d&&t.Qs(new Im(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(lm||(lm={}));var Pm=.25,Bm=400,Om={Zg:.2,Kg:.45,Jg:.7,$g:3,tm:Fm,nm:zm},xm={Zg:.4,Kg:.65,Jg:1,$g:3,tm:Fm,nm:zm},Lm={Zg:.4,Kg:.7,Jg:.9,$g:3,tm:Fm,nm:zm},Mm={Zg:.4,Kg:.65,Jg:1,$g:3,tm:Fm,nm:zm},Um={Zg:.5,Kg:1.125,Jg:1.75,$g:2.55,tm:Fm,nm:zm};function Xm(){var t;return t=i.Lr.Ge?Mm:i.Lr.je?xm:i.Lr.Ye?"Android"===i.Mr.Ur?Lm:Om:Um,i.Mr.Xr?function(t){if(i.Mr.Xr){var n=(Bm+250)/1e3,e=w.max(n,t.Zg),r=w.max(e+Pm,t.Kg),s=w.max(r+Pm,t.Jg);return{Zg:e,Kg:r,Jg:s,$g:w.max(s+Pm,t.$g),tm:Fm,nm:zm}}return t}(t):t}var Hm,Fm=.92,zm=1.08;function Vm(t){return{goLive:function(){return t.im()},get isLive(){return t.um},get currentServerLiveTime(){return t.hm},get currentLatency(){return t.cm},get latency(){return t.fm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.fm=n},get manifest(){return t.vm},addEventListener:function(n,i){t.Zs(Gm(n),i)},removeEventListener:function(n,i){t.tu(Gm(n),i)}}}!function(t){t[t.X_=0]="X_",t[t.lm=1]="lm",t[t.dm=2]="dm"}(Hm||(Hm={}));var Wm=["golive"];function Gm(t){var n=yg(t,gg);return(q(n)?[n]:n).filter(function(t){return Hs(Wm,t)})}var qm,Ym=function(t){function n(){var n,i;return(n=t.call(this)||this).A_=void 0,n.Ww=void 0,n.wm={windowStart:(i=Xm()).Zg,windowEnd:i.Jg,target:i.Kg,maxOffset:i.$g},n.A_=void 0,n}S(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(Wm,this.js)},i.I_=function(t){t.tu(Wm,this.js)},i.im=function(){var t;null==(t=this.A_)||t.im()},i.Sd=function(){this.$s(),this.A_&&this.I_(this.A_),this.A_=void 0},A(n,[{key:"R_",get:function(){return this.A_},set:function(t){var n=this.A_;t!==n&&(n&&this.I_(n),t&&this.E_(t),this.A_=t,this.A_&&(this.A_.fm=this.wm))}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Vm(this)),this.Ww}},{key:"hm",get:function(){var t;return null==(t=this.A_)?void 0:t.hm}},{key:"cm",get:function(){var t;return null==(t=this.A_)?void 0:t.cm}},{key:"um",get:function(){return!!this.A_&&this.A_.um}},{key:"fm",get:function(){return this.A_?this.A_.fm:this.wm},set:function(t){this.A_&&(this.A_.fm=t),this.wm=t}},{key:"vm",get:function(){var t;return null==(t=this.A_)?void 0:t.vm}}]),n}(wu),jm=function(t){function n(n){var i;return(i=t.call(this)||this).A_=void 0,i._m=[],i.gm=!1,i.mm=new Rg,i.ym=new Rg,i.pm=new xg,i.Am=new Ym,i.Tm=!1,i.Sm(n),n.Js(i.js),i.A_=n,i.mm.R_=n.Em,i.ym.R_=n.Im,i.pm.R_=n.Rm,i.Am.R_=n.Dm,i}S(n,t);var i=n.prototype;return i.Nm=function(){this.A_.Nm()},i.Cm=function(){this.A_.Cm()},i.Pm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",cu(this._m.map(function(t){return t.Pm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},i.Bm=function(){return this.A_.Bm()},i.Om=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(this.A_.Om(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.xm=function(){return this.R_.xm()},i.Lm=function(){this.R_.Lm()},i.Mm=function(){this.R_.Mm()},i.Um=function(){if(!this.gm){for(var t=0,n=this._m;t<n.length;t++){n[t].Um()}this.gm=!0}},i.Xm=function(t){this.A_.Xm(t)},i.Hm=function(){this.A_.Hm()},i.Fm=function(){this.A_.Fm()},i.zm=function(){this.A_.zm()},i.Vm=function(){return this.A_.Vm()},i.Wm=function(){return this.A_.Wm()},i.Gm=function(){for(var t=[],n=0,i=this._m;n<i.length;n++){var e=i[n];t.push.apply(t,e.Gm())}return t},i.qm=function(t){for(var n=!1,i=0,e=this._m;i<e.length;i++){n=e[i].qm(t)||n}return n},i.Qs=function(n){this.qm(n)||t.prototype.Qs.call(this,n)},i.Sm=function(t){this._m.push(t)},i.Ym=function(t){Us(this._m,t)},i.jm=function(t){if(t!==this.A_){var n=this.A_;n.Hm(),n.ou(this.js);var i=Nm(this),e=this.Qm,r=this.Wm();this.A_=t,this.mm.R_=t.Em,this.ym.R_=t.Im,this.pm.R_=t.Rm,this.Am.R_=t.Dm,Cm(this,i,this);var s=this.Qm;s!==e&&this.Qs(new Xg(s)),this.Wm()!==r&&this.Qs(new Ug),t.Js(this.js),t.Xm(n)}},i.Zm=function(){},i.Sd=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.$s(),this.A_.Hm(),t=0,n=this._m;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Dr.awrap(i.Sd());case 7:t++,e.next=3;break;case 10:this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),this.Am.Sd();case 14:case"end":return e.stop()}},null,this,null,We)},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",cu(this._m.map(function(t){return t.k_()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Em",get:function(){return this.mm}},{key:"Rm",get:function(){return this.pm}},{key:"Im",get:function(){return this.ym}},{key:"Km",get:function(){return this.A_.Km}},{key:"Jm",get:function(){return this.A_.Jm},set:function(t){this.A_.Jm=t}},{key:"Qm",get:function(){return this.A_.Qm}},{key:"Xg",get:function(){return this.A_.Xg},set:function(t){this.A_.Xg=t}},{key:"Hg",get:function(){return this.A_.Hg}},{key:"$m",get:function(){return this.A_.$m}},{key:"Fg",get:function(){return this.A_.Fg}},{key:"mu",get:function(){return this.A_.mu}},{key:"zg",get:function(){return this.A_.zg}},{key:"Dm",get:function(){return this.Am}},{key:"iy",get:function(){return this.A_.iy}},{key:"ey",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.sy,i+=a.uy,e+=a.oy,r+=a.vy,s+=a.ly,u.amountOfBufferedAudioSegments+=a.wy.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.wy.amountOfBufferedVideoSegments}return{sy:n,uy:i,oy:e,vy:r,ly:s,wy:u}}(this._m.map(function(t){return t.ey}))}},{key:"Vg",get:function(){return this.A_.Vg},set:function(t){this.A_.Vg=t}},{key:"_y",get:function(){return this.A_._y}},{key:"Wg",get:function(){return this.A_.Wg}},{key:"Gg",get:function(){return this.A_.Gg},set:function(t){this.A_.Gg=t}},{key:"gy",get:function(){return this.A_.gy}},{key:"yy",get:function(){return this.A_.yy},set:function(t){this.A_.yy=t}},{key:"Y_",get:function(){return this.A_.Y_}},{key:"py",get:function(){return this.A_.py}},{key:"qg",get:function(){return this.A_.qg}},{key:"Yg",get:function(){return this.A_.Yg}},{key:"jg",get:function(){return this.A_.jg}},{key:"Qg",get:function(){return this.A_.Qg},set:function(t){this.A_.Qg=t}},{key:"by",get:function(){return this.A_.by}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"R_",get:function(){return this.A_},set:function(t){this.jm(t)}}]),n}(Mg),Qm=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(nf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(qm||(qm={}));var Zm=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Kt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function Km(t){ag(t,"MEDIA_ERR_ABORTED",qm.ABORTED),ag(t,"MEDIA_ERR_NETWORK",qm.NETWORK),ag(t,"MEDIA_ERR_DECODE",qm.DECODE),ag(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",qm.SRC_NOT_SUPPORTED),ag(t,"MEDIA_ERR_ENCRYPTED",qm.ENCRYPTED)}function Jm(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Zm(qm.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Zm(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return qm.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return qm.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return qm.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return qm.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return qm.NETWORK;if(i===n.ErrorCategory.SOURCE)return qm.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return qm.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return qm.ENCRYPTED;if(i===n.ErrorCategory.AD)return qm.ADVERTISEMENT_ERROR;return qm.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Km(Zm),Km(Zm.prototype);var $m,ty=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.g_=function(n){return t.prototype.g_.call(this,n)},i.qw=function(){return Sg(this)},n}(eg);!function(t){t.dd="audio",t.wd="video",t.$n="text",t._d="image",t.Kl="unknown"}($m||($m={}));var ny=function(){function t(){this.Ty=[],this.Ww=void 0}var n=t.prototype;return n.Sy=function(t){this.Ty.push(t),this.Ww&&this.Ww.push(t.Gw)},n.Qh=function(t){Us(this.Ty,t),this.Ww&&Us(this.Ww,t.Gw)},n.__=function(t){return this.Ty[t]},n.Ey=function(t){return z(t)?Fs(this.Ty,t):Hs(this.Ty,t)},n.k_=function(){zs(this.Ty),this.Ww&&zs(this.Ww)},A(t,[{key:"p_",get:function(){return this.Ty}},{key:"b_",get:function(){return this.Ty.length}},{key:"Gw",get:function(){var t,n;return this.Ww||(this.Ww=((n=(t=this).p_.map(function(t){return t.Gw})).item=function(n){var i=0|n,e=t.__(i);return e&&e.Gw||void 0},n)),this.Ww}}]),t}(),iy=function(t){function n(n){var i;return(i=t.call(this,Z_.c_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new ey(this.Yw.Gw)},n}(K_),ey=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(J_),ry=0;function sy(){return ry++}var uy=0;var oy=0;function ay(){return oy++}var hy=0;function cy(){return hy++}var fy=0;var vy=function(t){function n(n){var i;return(i=t.call(this)||this).fs=$m.dd,i.Iy=void 0,i.Bh=void 0,i.Ry=void 0,i.Dy=void 0,i.Ny=!1,i.Ty=void 0,i.Ww=void 0,i.Iy=n,i.Dy=sy(),i.Bh=fy+++"",i.Ry=n.label,i.Ty=new ny,i.Cy(),i}S(n,t);var i=n.prototype;return i.Py=function(t){this.C_=t},i.Cy=function(){this.C_=this.By},A(n,[{key:"N_",get:function(){}},{key:"C_",get:function(){return this.Ny},set:function(t){this.Ny!==t&&(this.Ny=t,this.By=t,this.Qs(new rg(this)))}},{key:"By",get:function(){return this.Iy.enabled},set:function(t){this.Iy.enabled=t}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ag(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"O_",get:function(){return this.Iy.kind}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new iy(this)))}},{key:"L_",get:function(){return this.Iy.language}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Iy}},{key:"M_",get:function(){return this.Ty}},{key:"U_",get:function(){},set:function(t){}}]),n}(wu),ly=0;var dy,wy,_y,gy=function(t){function n(n){var i;return(i=t.call(this)||this).fs=$m.wd,i.Iy=void 0,i.Bh=void 0,i.Dy=void 0,i.Ny=!1,i.Ty=void 0,i.Ry=void 0,i.Ww=void 0,i.Iy=n,i.Dy=sy(),i.Bh=ly+++"",i.Ty=new ny,i.Ry=n.label,i.Cy(),i}S(n,t);var i=n.prototype;return i.Cy=function(){this.C_=this.By},i.Py=function(t){this.C_=t},A(n,[{key:"N_",get:function(){}},{key:"C_",get:function(){return this.Ny},set:function(t){this.Ny!==t&&(this.Ny=t,this.By=t,this.Qs(new rg(this)))}},{key:"By",get:function(){return!!this.Iy.selected},set:function(t){this.Iy.selected=t}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ag(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"O_",get:function(){return"main"}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new iy(this)))}},{key:"L_",get:function(){return this.Iy.language}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Iy}},{key:"M_",get:function(){return this.Ty}},{key:"U_",get:function(){},set:function(t){}}]),n}(wu),my=function(t){function n(n){var i;return(i=t.call(this,bf.sf)||this).iy=n,i}return S(n,t),n}(gu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(dy||(dy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(wy||(wy={})),function(t){t.xy="cue",t.Ly="region",t.My="stylesheet"}(_y||(_y={}));var yy,ky={"line-left":"start",center:"middle","line-right":"end"},py={start:"line-left",middle:"center",end:"line-right"};function by(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Ay(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.Uy="Xy",t.Hy="Fy",t.c_="Zh"}(yy||(yy={}));var Ty=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).zy=i,e}return S(n,t),n}(K_),Sy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(J_);function Ey(t){var n,i=[yy.Uy,yy.Hy,yy.c_],e={get track(){return t.Yw.Gw},get id(){return t.P_},get uid(){return t.B_},get startTime(){return t.Vy},get endTime(){return t.Wy},get content(){return t.Gy},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(e),t.Zs(i,function(t){return n.Qs(t.Gw)}),e}function Iy(){}function Ry(t){return hg(Ey(t),{get align(){return t.qy},get line(){return t.Yy},get lineAlign(){return t.jy},get position(){return t.Qy},get positionAlign(){return t.Zy},get region(){return t.Ky?t.Ky.Gw:null},get size(){return t.Cu},get snapToLines(){return t.Jy},get text(){return t.Gy},get vertical(){return t.$y}})}var Dy=function(t){function n(n){return t.call(this,yy.c_,n)||this}return S(n,t),n.prototype.qw=function(){return new Ny(this.zy.Gw)},n}(Ty),Ny=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Sy),Cy=.02;function Py(t,n){return Ut(t.Vy,n.Vy,Cy)&&Ut(t.Wy,n.Wy,Cy)&&t.P_===n.P_}var By=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Dy=void 0,u.Bh=void 0,u.nk=void 0,u.ek=void 0,u.Ww=void 0,u.rk=void 0,u.hk=!1,u.ck=void 0,u.fk=void 0,u.vk=-1,u.Dy=cy(),u.nk=n,u.ek=i,u.ck=e,u.fk=Boolean(r),u.Bh=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.qw=function(){return Ey(this)},i.lk=function(t){return this===t||vg(this,t)&&Py(this,t)},i.Sd=function(){this.$s()},A(n,[{key:"Vy",get:function(){return this.nk},set:function(t){this.nk!==t&&(this.nk=t,this.Qs(new Dy(this)))}},{key:"Wy",get:function(){return this.ek},set:function(t){this.ek!==t&&(this.ek=t,this.Qs(new Dy(this)))}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"dk",get:function(){return this.hk},set:function(t){this.hk=t}},{key:"Yw",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"Gy",get:function(){return this.ck},set:function(t){this.ck!==t&&(this.ck=t,this.Qs(new Dy(this)))}},{key:"wk",get:function(){return this.fk},set:function(t){this.fk=t}}]),n}(wu);function Oy(t,n){return t.Gy===n.Gy&&t.Yy===n.Yy&&t.jy===n.jy&&t.Qy===n.Qy&&t.Zy===n.Zy&&t.Ky===n.Ky&&t.Jy===n.Jy&&t.Cu===n.Cu&&t.qy===n.qy&&t.$y===n.$y}var xy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Yy="auto",u.jy="start",u.Qy="auto",u.Zy="auto",u.Ky=void 0,u.Jy=!0,u.Cu=100,u.qy="center",u.$y="",u}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&Oy(this,n)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Ry(this)),this.Ww}},{key:"fs",get:function(){return _y.xy}}]),n}(By);function Ly(t){var n=Z(t.Yy)?t.Yy:g(t.Yy);return m(n)||t.Jy||!(n<0||n>100)?m(n)?t.Jy?-1:100:n:100}function My(t){return Ay(t.Qy,t.qy)}function Uy(t){return by(t.Zy,t.qy)}function Xy(t){var n,i=Uy(t),e=My(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Cu,n)}function Hy(t){return{get id(){return t.P_},get identifier(){return t.P_},get lines(){return t._k},get regionAnchorX(){return t.gk},get regionAnchorY(){return t.yk},get scrollValue(){return t.pk},get viewportAnchorX(){return t.bk},get viewportAnchorY(){return t.Ak},get width(){return t.Tk}}}var Fy=function(){function t(t,n,i,e,r,s,u,o){this.Ww=void 0,this.P_=t,this.Tk=n,this._k=i,this.gk=e,this.yk=r,this.bk=s,this.Ak=u,this.pk=o}return A(t,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Hy(this)),this.Ww}},{key:"fs",get:function(){return _y.Ly}}]),t}(),zy=function(){function t(){}var n=t.prototype;return n.Sk=function(t){return this.Ek()*t},n.Ik=function(t){return this.Rk(t)>0},n.Dk=function(t){return this.Rk(t)>=0},n.Nk=function(t,n){return this.Pk(t).Ck(n)},n.lk=function(t){return 0===this.Rk(t)},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.Ok=function(){return this.xk()?this.Lk():this},n.Mk=function(t){return this.Sy(t.Lk())},n.Pk=function(t){return this.Mk(t).Ok()},t}();function Vy(t,n){return t.Uk()?n.Uk()?Ss.Is:Ss.Rs:n.Uk()?Ss.Ds:t.Xk()?n.Xk()&&t.xk()===n.xk()?Ss.Is:t.xk()?Ss.Ds:Ss.Rs:n.xk()?Ss.Rs:Ss.Ds}var Wy=function(){function t(t,n){this.Hk=void 0,this.Fk=void 0,this.Hk=t,this.Fk=n}t.zk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Vk=function(n){return n.unsigned?new t(n,ft.UZERO):new t(n,n.isNegative()?ft.NEG_ONE:ft.ZERO)},t.Wk=function(n,i){if(m(n))return i?t.Gk:t.qk;if(i){if(n<0)return t.Gk;if(n>=3.402823669209385e38)return t.Yk}else{if(n<=-1.7014118346046923e38)return t.jk;if(n+1>=1.7014118346046923e38)return t.Qk}return n<0?t.Wk(-n,i).Lk():t.zk(ft.fromNumber(n%0x10000000000000000),ft.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Zk=function(){return this.Fk.unsigned},n.Kk=function(){return this.Hk.isZero()&&this.Fk.isZero()},n.xk=function(){return this.Fk.isNegative()},n.Jk=function(){return this.Zk()?t.zk(this.Hk,this.Fk,!1):this},n.$k=function(){return this.Zk()?this:t.zk(this.Hk,this.Fk,!0)},n.tp=function(){return this.Hk},n.Ek=function(){return this.xk()?-this.Lk().Ek():0x10000000000000000*this.Fk.toNumber()+this.Hk.toUnsigned().toNumber()},n.np=function(){return this.Hk.toInt()},n.lk=function(t){return(this.Zk()===t.Zk()||this.Fk.getHighBits()>>>31!=1||t.Fk.getHighBits()>>>31!=1)&&(this.Fk.toUnsigned().eq(t.Fk.toUnsigned())&&this.Hk.toUnsigned().eq(t.Hk.toUnsigned()))},n.Rk=function(t){if(this.lk(t))return Ss.Is;var n=this.xk(),i=t.xk();if(n&&!i)return Ss.Ds;if(!n&&i)return Ss.Rs;if(!this.Zk())return this.Mk(t).xk()?Ss.Ds:Ss.Rs;var e=this.$k(),r=t.$k(),s=r.Fk.comp(e.Fk);return s>0||0===s&&r.Hk.gt(e.Hk)?Ss.Ds:Ss.Rs},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.ip=function(t){return this.Rk(t)>0},n.ep=function(t){return this.Rk(t)>=0},n.rp=function(){return new t(this.Hk.not(),this.Fk.not())},n.sp=function(n){return new t(this.Hk.and(n.Hk),this.Fk.and(n.Fk))},n.op=function(n){return new t(this.Hk.or(n.Hk),this.Fk.or(n.Fk))},n.ap=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shl(i),this.Fk.shl(i).or(this.Hk.shru(64-i)),this.Zk()):t.zk(ft.ZERO,this.Hk.shl(i-64),this.Zk())},n.hp=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shru(i).or(this.Fk.shl(64-i)),this.Fk.shr(i),this.Zk()):t.zk(this.Fk.shr(i-64),this.Fk.isNegative()?ft.NEG_ONE:ft.ZERO,this.Zk())},n.cp=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shru(i).or(this.Fk.shl(64-i)),this.Fk.shru(i),this.Zk()):64===i?t.zk(this.Fk,ft.ZERO,this.Zk()):t.zk(this.Fk.shru(i-64),ft.ZERO,this.Zk())},n.Sy=function(n){var i=this.Fk.high>>>16,e=65535&this.Fk.high,r=this.Fk.low>>>16,s=65535&this.Fk.low,u=this.Hk.high>>>16,o=65535&this.Hk.high,a=this.Hk.low>>>16,h=65535&this.Hk.low,c=n.Fk.high>>>16,f=65535&n.Fk.high,v=n.Fk.low>>>16,l=65535&n.Fk.low,d=n.Hk.high>>>16,w=65535&n.Hk.high,_=n.Hk.low>>>16,g=0,m=0,y=0,k=0,p=0,b=0,A=0,T=0;A+=(T+=h+(65535&n.Hk.low))>>>16,T&=65535,b+=(A+=a+_)>>>16,A&=65535,p+=(b+=o+w)>>>16,b&=65535,k+=(p+=u+d)>>>16,p&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+c,g&=65535;var S=this.Zk(),E=ft.fromBits(y<<16|k,g<<16|m,S),I=ft.fromBits(A<<16|T,p<<16|b,S);return t.zk(I,E,S)},n.Mk=function(t){return this.Sy(t.Lk())},n.Lk=function(){return this.rp().Sy(t.fp)},n.vp=function(n){if(this.Kk()||n.Kk())return this.Zk()?t.Gk:t.qk;if(this.xk())return n.xk()?this.Lk().vp(n.Lk()):this.Lk().vp(n).Lk();if(n.xk())return this.vp(n.Lk()).Lk();if(this.Fk.isZero()&&0===this.Hk.high&&n.Fk.isZero()&&0===n.Hk.high)return t.Vk(this.Hk.multiply(n.Hk));var i=ft.fromBits(4294967295,0,!0),e=this.Hk.and(i),r=this.Hk.shru(32),s=this.Fk.and(i),u=this.Fk.shru(32),o=n.Hk.and(i),a=n.Hk.shru(32),h=n.Fk.and(i),c=n.Fk.shru(32),f=ft.UZERO,v=ft.UZERO,l=ft.UZERO,d=ft.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(h)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=ft.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ft.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.zk(w,_,this.Zk())},n.lp=function(n){var i,e,r=n;if(r.Kk())throw new RangeError("division by zero");if(this.Kk())return this.Zk()?[t.Gk,t.Gk]:[t.qk,t.qk];if(this.Zk()){if(r.Zk()||(r=r.$k()),r.ip(this))return[t.Gk,this];if(r.ip(this.cp(1)))return[e=t.dp,i=this.Mk(r)];e=t.Gk}else{if(this.lk(t.jk)){if(r.lk(t.fp)||r.lk(t.wp))return[t.jk,t.qk];if(r.lk(t.jk))return[t.fp,t.qk];var s=this.hp(1)._p(r).ap(1);return s.lk(t.qk)?e=r.xk()?t.fp:t.wp:(i=this.Mk(r.vp(s)),e=s.Sy(i._p(r))),[e,i=this.Mk(r.vp(e))]}if(r.lk(t.jk))return this.Zk()?[t.Gk,this]:[t.qk,this];if(this.xk()){if(r.xk())return this.Lk().lp(r.Lk());var u=this.Lk().lp(r);return e=u[0],i=u[1],[e.Lk(),i.Lk()]}if(r.xk()){var o=this.lp(r.Lk());return e=o[0],i=o[1],[e.Lk(),i.Lk()]}e=t.qk}for(i=this;i.ep(r);){for(var a=w.max(1,w.floor(i.Ek()/r.Ek())),h=w.ceil(w.log(a)/w.LN2),c=h<=48?1:w.pow(2,h-48),f=t.Wk(a),v=f.vp(r);v.xk()||v.ip(i);)a-=c,v=(f=t.Wk(a,this.Zk())).vp(r);f.Kk()&&(f=t.fp),e=e.Sy(f),i=i.Mk(v)}return[e,i]},n._p=function(t){return this.lp(t)[0]},n.gp=function(t){return this.lp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Kk())return"0";if(this.xk()){if(this.lk(t.jk)){var e=t.Wk(i),r=this._p(e),s=r.vp(e).Mk(this);return r.toString(i)+s.np().toString(i)}return"-"+this.Lk().toString(i)}for(var u=t.Wk(w.pow(i,6),this.Zk()),o=this,a="";;){var h=o._p(u),c=(o.Mk(h.vp(u)).np()>>>0).toString(i);if((o=h).Kk())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();Wy.qk=Wy.Vk(ft.ZERO),Wy.Gk=Wy.Vk(ft.UZERO),Wy.fp=Wy.Vk(ft.ONE),Wy.dp=Wy.Vk(ft.UONE),Wy.wp=Wy.Vk(ft.NEG_ONE),Wy.Qk=Wy.zk(ft.NEG_ONE,ft.MAX_VALUE,!1),Wy.Yk=Wy.zk(ft.MAX_UNSIGNED_VALUE,ft.MAX_UNSIGNED_VALUE,!0),Wy.jk=Wy.zk(ft.ZERO,ft.MIN_VALUE,!1);var Gy=function(){function t(t,n){void 0===n&&(n=1),this.mp=void 0,this.yp=void 0,this.mp=t,this.yp=n}t.kp=function(n){return new t(w.ceil(n.mp),n.yp)},t.pp=function(n){return new t(w.floor(n.mp),n.yp)},t.bp=function(t,n){return t.Dk(n)?t:n},t.Ap=function(t,n){return t.Ck(n)?t:n};var n=t.prototype;return n.Sy=function(n){return this.yp>=n.yp?new t(this.mp+n.Tp(this.yp).mp,this.yp):new t(this.Tp(n.yp).mp+n.mp,n.yp)},n.Ik=function(t){return t.Bk(this)},n.Dk=function(t){return t.Ck(this)},n.Pk=function(n){return this.yp>=n.yp?new t(w.abs(this.mp-n.Tp(this.yp).mp),this.yp):n.Pk(this)},n.Nk=function(t,n){return this.Pk(t).Ck(n)},n.Rk=function(t){return i=t,(n=this).yp>=i.yp?Os(n.mp,i.Tp(n.yp).mp):Os(n.Tp(i.yp).mp,i.mp);var n,i},n.lk=function(t){return 0===this.Rk(t)},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.Tp=function(n){return new t(this.mp*(n/this.yp),n)},n.Mk=function(n){return this.yp>=n.yp?new t(this.mp-n.Tp(this.yp).mp,this.yp):new t(this.Tp(n.yp).mp-n.mp,n.yp)},n.Sp=function(n){return new t(this.mp*n,this.yp)},A(t,[{key:"Xk",get:function(){return!isFinite(this.mp)}},{key:"Ep",get:function(){return this.mp/this.yp}}]),t}();Gy.Ip=new Gy(1/6,1),Gy.qk=new Gy(0),Gy.Rp=new Gy(1/0),Gy.Dp=1e6;var qy=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yp=void 0,e.Ai=n.toSigned(),e.yp=i>>>0,e}S(n,t),n.Np=function(t,i){return void 0===i&&(i=1e6),n.Wk(t*i,i)},n.Wk=function(t,i){return m(t)?n.Cp:t===1/0?n.Pp:t===-1/0?n.Bp:new n(ft.fromNumber(t),i)},n.Vk=function(t,i){return new n(t,i)},n.Op=function(t){return n.Np(t.Ep,1e6)},n.xp=function(t){return new n(ft.fromNumber(t.getTime()),1e3)},n.bp=function(t,n){return t.Dk(n)?t:n},n.Ap=function(t,n){return t.Ck(n)?t:n},n.Lp=function(t,i,e){return n.bp(i,n.Ap(e,t))};var i=n.prototype;return i.xk=function(){return this.Ai.isNegative()},i.Kk=function(){return 0!==this.yp&&this.Ai.isZero()},i.Xk=function(){return 0===this.yp&&!this.Ai.isZero()},i.Uk=function(){return 0===this.yp&&this.Ai.isZero()},i.Ek=function(){if(0===this.yp)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.yp),n=this.Ai.subtract(t.multiply(this.yp));return t.toNumber()+n.toNumber()/this.yp},i.tp=function(){if(0===this.yp)throw new v("Failed to convert timestamp");return this.Ai},i.Mp=function(){return new Date(0===this.yp?NaN:this.Tp(1e3).Ai.toNumber())},i.Up=function(){return new Gy(0===this.yp?this.Ek():this.Ai.toNumber(),this.yp)},i.Tp=function(t,i){void 0===i&&(i=Qy.Xp);var e=this.yp;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t.lp(n),r=e[0],s=e[1];if(s.Kk())return r;if(i===Qy.Xp)return s.xk()?r.Mk(Wy.fp):r;if(i===Qy.Hp)return s.xk()?r:r.Sy(Wy.fp);var u=s.vp(Wy.Wk(2));return u.xk()?u.Lk().Bk(n)?r:r.Mk(Wy.fp):u.Bk(n)?r:r.Sy(Wy.fp)}(Wy.Vk(this.Ai).vp(Wy.Wk(t/r)),Wy.Wk(e/r),i).tp(),t)},i.Rk=function(t){if(this===t)return Ss.Is;if(0===this.yp||0===t.yp)return Vy(this,t);if(this.Kk())return t.Kk()?Ss.Is:t.xk()?Ss.Rs:Ss.Ds;if(t.Kk())return this.xk()?Ss.Ds:Ss.Rs;var n=w.min(this.yp,t.yp),i=this.Tp(n,Qy.Fp).Ai,e=t.Tp(n,Qy.Fp).Ai;return i.compare(e)},i.Lk=function(){return 0===this.yp?Yy(this):new n(this.Ai.negate(),this.yp)},i.Sy=function(t){if(0===this.yp||0===t.yp)return jy(this,t);if(this.Kk())return t;if(t.Kk())return this;var i=w.max(this.yp,t.yp),e=this.Tp(i,Qy.Fp),r=t.Tp(i,Qy.Fp);return new n(e.Ai.add(r.Ai),i)},i.vp=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk()||!isFinite(t)){if(this.Kk()||0===t)return n.Cp;var i=this.xk()?n.Bp:n.Pp;return t<0?i.Lk():i}return this.Kk()?this:new n(0===t?ft.ZERO:this.Ai.multiply(t),this.yp)},i._p=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Lk():this:t<0?this.Lk():this:n.Cp;if(!isFinite(t))return new n(ft.ZERO,this.yp);if(this.Kk())return 0===t?n.Cp:new n(ft.ZERO,this.yp);if(0===t){var i=this.xk()?n.Bp:n.Pp;return 1/t<0?i.Lk():i}return new n(this.Ai.divide(t),this.yp)},i.zp=function(){return[this.Ai.low,this.Ai.high,this.yp]},n}(zy);function Yy(t){return t.Uk()?t:t.xk()?qy.Pp:qy.Bp}function jy(t,n){return t.Uk()||n.Uk()?qy.Cp:t.Xk()&&n.Xk()?t.xk()===n.xk()?t:qy.Cp:t.Xk()?t:n}qy.qk=new qy(ft.ZERO,1e6),qy.Cp=new qy(ft.ZERO,0),qy.Pp=new qy(ft.ONE,0),qy.Bp=new qy(ft.NEG_ONE,0);var Qy,Zy=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yp=void 0,e.Ai=BigInt.asIntN(64,n),e.yp=i>>>0,e}S(n,t),n.Np=function(t,i){return void 0===i&&(i=1e6),n.Wk(t*i,i)},n.Wk=function(t,i){return m(t)?n.Cp:t===1/0?n.Pp:t===-1/0?n.Bp:new n(BigInt(w.floor(t)),i)},n.Vk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Op=function(t){return n.Np(t.Ep,1e6)},n.xp=function(t){return n.Wk(t.getTime(),1e3)},n.bp=function(t,n){return t.Dk(n)?t:n},n.Ap=function(t,n){return t.Ck(n)?t:n},n.Lp=function(t,i,e){return n.bp(i,n.Ap(e,t))};var i=n.prototype;return i.xk=function(){return this.Ai<BigInt(0)},i.Kk=function(){return 0!==this.yp&&this.Ai===BigInt(0)},i.Xk=function(){return 0===this.yp&&this.Ai!==BigInt(0)},i.Uk=function(){return 0===this.yp&&this.Ai===BigInt(0)},i.Ek=function(){if(0===this.yp)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.yp),n=this.Ai-t*BigInt(this.yp);return Number(t)+Number(n)/this.yp},i.tp=function(){if(0===this.yp)throw new v("Failed to convert timestamp");return this.Vp()},i.Vp=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return ft.fromBits(Number(t),Number(n))},i.Mp=function(){return new Date(0===this.yp?NaN:Number(this.Tp(1e3).Ai))},i.Up=function(){return new Gy(0===this.yp?this.Ek():Number(this.Ai),this.yp)},i.Tp=function(t,i){void 0===i&&(i=Qy.Xp);var e=this.yp;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Qy.Xp)return r<BigInt(0)?e-BigInt(1):e;if(i===Qy.Hp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.Rk=function(t){if(this===t)return Ss.Is;if(0===this.yp||0===t.yp)return Vy(this,t);if(this.Kk())return t.Kk()?Ss.Is:t.xk()?Ss.Rs:Ss.Ds;if(t.Kk())return this.xk()?Ss.Ds:Ss.Rs;var n=w.min(this.yp,t.yp),i=this.Tp(n,Qy.Fp).Ai,e=t.Tp(n,Qy.Fp).Ai;return i>e?Ss.Rs:i<e?Ss.Ds:Ss.Is},i.Lk=function(){return 0===this.yp?Ky(this):new n(-this.Ai,this.yp)},i.Sy=function(t){if(0===this.yp||0===t.yp)return Jy(this,t);if(this.Kk())return t;if(t.Kk())return this;var i=w.max(this.yp,t.yp),e=this.Tp(i,Qy.Fp),r=t.Tp(i,Qy.Fp);return new n(e.Ai+r.Ai,i)},i.vp=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk()||!isFinite(t)){if(this.Kk()||0===t)return n.Cp;var i=this.xk()?n.Bp:n.Pp;return t<0?i.Lk():i}return this.Kk()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.yp)},i._p=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Lk():this:t<0?this.Lk():this:n.Cp;if(!isFinite(t))return new n(BigInt(0),this.yp);if(this.Kk())return 0===t?n.Cp:new n(BigInt(0),this.yp);if(0===t){var i=this.xk()?n.Bp:n.Pp;return 1/t<0?i.Lk():i}return new n(this.Ai/BigInt(t),this.yp)},i.zp=function(){var t=this.Vp();return[t.low,t.high,this.yp]},A(n,null,[{key:"qk",get:function(){return n.Wp||(n.Wp=new n(BigInt(0),1e6)),n.Wp}},{key:"Cp",get:function(){return n.Gp||(n.Gp=new n(BigInt(0),0)),n.Gp}},{key:"Pp",get:function(){return n.qp||(n.qp=new n(BigInt(1),0)),n.qp}},{key:"Bp",get:function(){return n.Yp||(n.Yp=new n(BigInt(-1),0)),n.Yp}}]),n}(zy);function Ky(t){return t.Uk()?t:t.xk()?Zy.Pp:Zy.Bp}function Jy(t,n){return t.Uk()||n.Uk()?Zy.Cp:t.Xk()&&n.Xk()?t.xk()===n.xk()?t:Zy.Cp:t.Xk()?t:n}Zy.Wp=void 0,Zy.Gp=void 0,Zy.qp=void 0,Zy.Yp=void 0,function(t){t[t.Xp=0]="Xp",t[t.Hp=1]="Hp",t[t.Fp=2]="Fp"}(Qy||(Qy={}));var $y=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Zy:qy;function tk(t,n){return t.Rk(n)}var nk=9e4,ik=w.pow(2,33),ek=$y.Wk(ik,nk),rk=ek._p(2);var sk,uk,ok,ak,hk={jp:0,Qp:1/0,Zp:0},ck=6,fk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],vk=[" ","\t","\n","\f","\r"],lk=/^\d*$/,dk=/.*[0-9]+.*/,wk=/^[\d.-]+$/,_k=/(^\.|\.$)/,gk=/(\D\.|\.\D)/;function mk(t,n){void 0===n&&(n=hk);var i={j_:[],Kp:[],Jp:[]},e=yk(t),r=new Vo;if(Nk(e),kk(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?Tk(pk(e,r,!1,!0,i,n),i):r.Bu(1);for(kk(e,function(t){return"\n"===t},r);r.Pu<e.length;){Tk(pk(e,r,!1,!1,i,n),i),kk(e,function(t){return"\n"===t},r)}return i}function yk(t){var n=fs(t,"\0"," "),i=fs(n,"\r\n","\n");return fs(i,"\r","\n")}function kk(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function pk(t,n,e,r,s,u){for(var o,a=0,h=n.Pu,c="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=kk(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),vs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.xu(h);break}v=!0,h=n.Pu,l=new xy(0,0,"",!1,c);try{Sk(o,s.Kp,l,u),c=""}catch(t){i.gr(t),l=null}}else{if(""===o)break;r&&ls(o,"X-TIMESTAMP-MAP")&&(s.$p=bk(o)),r||2!==a||e||(ws("STYLE",c.replace(/ /g,""))?(d={fs:_y.My},c=""):ws("REGION",c.replace(/ /g,""))&&(w=new Fy("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Pu}if(l)return l.Gy=c,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&vs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Fk(o,n);break;case"WIDTH":Wk(o,n);break;case"LINES":Vk(o,n);break;case"REGIONANCHOR":var a=Hk(o);a&&(n.gk=a[0],n.yk=a[1]);break;case"VIEWPORTANCHOR":var h=Hk(o);h&&(n.bk=h[0],n.Ak=h[1]);break;case"SCROLL":zk(o,n)}}}}(c,w),w;return null}function bk(t){var n,i,e=t.split("=")[1].trim().split(","),r=Ak(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Ak(e[0].trim(),"LOCAL")?e[0]:e[1];return{ib:(i=Number(r.split(/:(.*)/)[1].trim())||0,$y.Wk(i,nk)),eb:$y.Np(null!=(n=Rk(s.split(/:(.*)/)[1].trim(),new Vo))?n:0)}}function Ak(t,n){return ls(t,n)}function Tk(t,n){t&&function(t){return t.fs===_y.xy}(t)?n.j_.push(t):t&&function(t){return t.fs===_y.Ly}(t)?n.Kp.push(t):t&&function(t){return t.fs===_y.My}(t)&&n.Jp.push(t)}function Sk(t,n,i,e){var r=new Vo;if(Ck(t,r),i.Vy=Ek(Rk(t,r),e),Ck(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Bu(3),Ck(t,r),i.Wy=Ek(Rk(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&vs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Lk(a,n,i);break;case"VERTICAL":Uk(a,n);break;case"D":Xk(a,n);break;case"LINE":case"L":Ok(a,n);break;case"POSITION":case"T":xk(a,n);break;case"SIZE":case"S":Mk(a,n);break;case"ALIGN":case"A":Bk(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function Ek(t,n){return t+n.jp}function Ik(t){return/^[0-9]$/.test(t)}function Rk(t,n){var i,e,r,s=fs(t,",","."),u=!1;if(n.Pu>=s.length||!Ik(s.charAt(n.Pu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=kk(s,Ik,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var h=kk(s,Ik,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(h,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=kk(s,Ik,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=_(f,10)}else i=0,e=a,r=c;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var l=kk(s,Ik,n),d=_(l,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Dk(t){return Nk(yk(t))}function Nk(t){if(t.length<ck)return!1;for(var n=0;n<fk.length;n++){if(ls(t,fk[n]))return!0}return!1}function Ck(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Hs(vk,i));)n.Bu(1);var i}function Pk(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Bk(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.qy=i;break;case"middle":n.qy="center"}}function Ok(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),dk.test(i)){var s,u;if(ds(i,"%")){var o=Pk(i);if(null===o)return;s=o,u=!1}else{if(!wk.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!gk.test(i)||_k.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.Yy=s,n.Jy=u,e=e.toLowerCase()){case"start":case"center":case"end":n.jy=e;break;case"middle":n.jy="center"}}}function xk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Pk(i);if(null!==s)switch(n.Qy=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Zy=e;break;case"start":n.Zy="line-left";break;case"middle":n.Zy="center";break;case"end":n.Zy="line-right"}}function Lk(t,n,i){var e=Ls(i,function(n){return n.P_===t});void 0!==e&&(n.Ky=e)}function Mk(t,n){var i=Pk(t);null!==i&&(n.Cu=i)}function Uk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.$y="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.$y="lr";break;default:n.$y=""}}function Xk(t,n){"VERTICAL"===t.toUpperCase()?n.$y="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.$y="lr")}function Hk(t){if(t.indexOf(",")>=0){var n=Pk(t.substring(0,t.indexOf(","))),i=Pk(t.substring(t.indexOf(",")+1,t.length));return[Mt(n||0,0,100),Mt(i||100,0,100)]}return null}function Fk(t,n){n.P_=t}function zk(t,n){"up"===t.toLowerCase()&&(n.pk="up")}function Vk(t,n){lk.test(t)&&(n._k=_(t))}function Wk(t,n){var i=Pk(t);null!==i&&(n.Tk=i)}!function(t){t.sb="moov",t.ub="mvhd",t.ob="trak",t.hb="tkhd",t.cb="mdia",t.fb="mdhd",t.vb="hdlr",t.wb="minf",t._b="stbl",t.gb="stsd",t.mb="stsc",t.yb="mvex",t.kb="trex",t.pb="avc1",t.bb="avcC",t.Ab="hev1",t.Tb="hvc1",t.Sb="hvcC",t.Eb="pasp",t.Ib="mp4a",t.Rb="esds",t.Db="wvtt",t.Nb="vttC",t.Cb="vlab",t.Pb="enca",t.Bb="encv",t.Ob="moof",t.xb="mfhd",t.Lb="traf",t.Mb="tfhd",t.Ub="trun",t.Xb="tfdt",t.Hb="senc",t.Fb="mdat",t.zb="pssh",t.Vb="emsg",t.Wb="sidx",t.Gb="styp",t.qb="ftyp",t.Yb="sinf",t.jb="frma"}(sk||(sk={})),function(t){t.wd="vide",t.dd="soun",t.Qb="subt",t.Zb="hint",t.Kb="meta",t.Jb="auxv"}(uk||(uk={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(ok||(ok={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ak||(ak={}));var Gk=function(){function t(t,n){this.Fi=void 0,this.$b=void 0,this.Fi=t,this.$b=n}var n=t.prototype;return n.tA=function(){return eo(this.Fi,this.$b)},n.nA=function(){return ho(this.Fi,this.$b)},n.iA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Fi,this.$b)},n.eA=function(){return fo(this.Fi,this.$b)},n.rA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Fi,this.$b)},n.sA=function(){return lo(this.Fi,this.$b)},n.uA=function(t){return so(this.Fi,this.$b,t)},n.oA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(fo(t,n));return e}(this.Fi,this.$b,t)},n.aA=function(t){return _o(this.Fi,this.$b,t)},n.hA=function(){return No(this.Fi,this.$b)},n.cA=function(t){this.$b.Bu(t)},n.Lu=function(){return new t(this.Fi,this.$b.Lu())},t}();function qk(t,n){return t.fs===n}function Yk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(qk(e,n))return e}}var jk=function(t){function n(n,i){var e;return(e=t.call(this)||this).fA=n,e.vA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}($t),Qk=function(){function t(){}return t.lA=function(n){var i=n.Fi,e=n.$b,r=t.dA(i,e,!1);if(!r.wA)throw new jk(e.Pu,r.Pi);return r.Pi},t.dA=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t._A(n,i,e);if(!s.wA)return{wA:!1,Pi:r};r.push(s.gA)}return{wA:!0,Pi:r}},t.mA=function(n,i){var e=t._A(n,i,!1);if(!e.wA)throw new jk(i.Pu);return e.gA},t.yA=function(n,i){for(var e=n.Fi,r=n.$b;r.Pu<e.byteLength;){var s=t._A(e,r,!1);if(!s.wA)return;if(s.gA.fs===i)return s.gA}},t._A=function(n,i,e){var r=i.Pu,s=t.kA(n,i);if(!s.wA)return s;var u=s.pA,o=u.Cu;if(0===o){if(e)return i.xu(r),{wA:!1,bA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.xu(r),{wA:!1,bA:h}}var c={fs:u.fs,Pu:r,Fi:new Gk(xo(n,r,a),new Vo(u.AA))};return i.xu(a),{wA:!0,gA:c}},t.kA=function(t,n){var i=n.Pu;if(!oo(t,n,8))return{wA:!1,bA:n.Pu+8};var e=fo(t,n),r=_o(t,n,4);if(1===e){if(!oo(t,n,8)){var s=n.Pu+8;return n.xu(i),{wA:!1,bA:s}}e=lo(t,n).toNumber()}if("uuid"===r){if(!oo(t,n,16)){var u=n.Pu+16;return n.xu(i),{wA:!1,bA:u}}r=_o(t,n,16)}return{wA:!0,pA:{fs:r,Cu:e,AA:n.Pu-i}}},t.TA=function(t,n,i){var e=t.Fi,r=t.$b,s=Oo(Mo(e),r.Pu,e.byteLength);return i&&(s=Fo(s)),r.Bu(s.byteLength),{fs:n,Fi:s}},t.SA=function(n,i,e){var r=$k(n.eA());return{fs:i,EA:r.version,IA:r.flags,Fi:t.TA(n,i,e).Fi}},t}();function Zk(t,n){var i=Kk(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Kk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fs===n)return e.Fi}}function Jk(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.fs===n&&i.push(r.Fi)}return i}function $k(t){return{version:t>>24,flags:new to(16777215&t)}}var tp=function(){function t(){}return t.RA=function(n){for(var i=[],e=Qk.lA(new Gk(n,new Vo)),r=0;r<e.length;r++){var s=e[r],u=t.DA(s);u&&i.push(u)}return i},t.NA=function(t){return Qk.dA(t,new Vo,!1).Pi.some(this.CA)},t.PA=function(n){return Jk(Qk.lA(new Gk(n,new Vo)),sk.zb).map(t.BA)},t.OA=function(n){return Jk(Qk.lA(n.Fi),sk.zb).map(t.BA)},t.CA=function(t){return t.fs===sk.qb||t.fs===sk.Gb||t.fs===sk.sb||t.fs===sk.Ob||t.fs===sk.Fb||t.fs===sk.Wb||t.fs===sk.Vb},t.DA=function(n){switch(n.fs){case sk.sb:return t.xA(n.Fi);case sk.Ob:return t.LA(n.Fi,n.Pu);case sk.Fb:return t.MA(n.Fi);case sk.Wb:return t.UA(n.Fi);case sk.Vb:return t.XA(n.Fi)}},t.xA=function(n){var i=Qk.lA(n),e=Zk(i,sk.ub),r=Jk(i,sk.ob),s=Kk(i,sk.yb),u=t.HA(e),o=r.map(t.FA),a=s?t.zA(s):void 0;return{fs:sk.sb,pA:u,VA:o,WA:a}},t.HA=function(t){var n=$k(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA(),o=1===i?t.sA():t.eA(),a=t.eA(),h=t.nA()>>8;t.cA(2),t.cA(8);var c=t.oA(9);t.cA(24);var f=t.eA();return{fs:sk.ub,EA:i,IA:e,GA:r,qA:s,yp:u,Hg:o,YA:a,Qg:h,jA:c,QA:f}},t.FA=function(n){var i=Qk.lA(n),e=Zk(i,sk.hb),r=Zk(i,sk.cb),s=t.ZA(e),u=t.KA(r);return{fs:sk.ob,pA:s,JA:u}},t.ZA=function(t){var n=$k(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA();t.cA(4);var o=1===i?t.sA():t.eA();t.cA(8);var a=t.iA(),h=t.iA(),c=t.iA()/w.pow(2,8);t.cA(2);var f=t.oA(9),v=t.eA()/w.pow(2,16),l=t.eA()/w.pow(2,16);return{fs:sk.hb,$A:e.Uu(1),tT:e.Uu(2),nT:e.Uu(4),GA:r,qA:s,iT:u,Hg:o,eT:a,rT:h,Qg:c,jA:f,Tk:v,sT:l}},t.KA=function(n){var i=Qk.lA(n),e=Zk(i,sk.fb),r=Zk(i,sk.vb),s=Zk(i,sk.wb),u=t.uT(e),o=t.oT(r),a=t.aT(s);return{fs:sk.cb,pA:u,hT:o,cT:a}},t.uT=function(t){var n=$k(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA(),o=1===i?t.sA():t.eA();return t.nA(),t.cA(2),{fs:sk.fb,EA:i,IA:e,GA:r,qA:s,yp:u,Hg:o}},t.oT=function(t){var n=$k(t.eA()),i=n.version,e=n.flags;t.cA(4);var r=t.aA(4);t.cA(12);var s=t.hA();return{fs:sk.vb,EA:i,IA:e,fT:r,wi:s}},t.aT=function(n){var i=Zk(Qk.lA(n),sk._b),e=t.vT(i);return{fs:sk.wb,lT:e}},t.vT=function(n){var i=Zk(Qk.lA(n),sk.gb),e=t.dT(i);return{fs:sk._b,wT:e}},t.dT=function(n){var i=$k(n.eA()),e=i.version,r=i.flags;n.eA();for(var s=[],u=Qk.lA(n),o=0;o<u.length;o++){var a=u[o],h=t._T(a.Fi,a.fs);h&&s.push(h)}return{fs:sk.gb,EA:e,IA:r,gT:s}},t._T=function(n,i){var e=t.mT(n,i);return e||((e=t.yT(n,i))||(i===sk.Db?t.kT(n):void 0))},t.mT=function(n,i){return i===sk.Ib?t.pT(n):i===sk.Pb?t.bT(n):void 0},t.yT=function(n,i){return i===sk.pb?t.AT(n):i===sk.Ab||i===sk.Tb?t.TT(n,i):i===sk.Bb?t.ST(n):void 0},t.ET=function(t,n){return t.cA(6),{fs:n,IT:t.nA()}},t.RT=function(n,i){var e=t.ET(n,i);n.cA(8);var r=n.nA(),s=n.nA();return n.cA(2),n.cA(2),Nr({},e,{DT:r,NT:s,CT:n.eA()>>>16})},t.PT=function(n,i){var e=t.ET(n,i);n.cA(2),n.cA(2),n.cA(12);var r=n.nA(),s=n.nA(),u=n.eA(),o=n.eA();n.cA(4);var a=n.nA();n.cA(32);var h=n.nA();return n.cA(2),Nr({},e,{Tk:r,sT:s,BT:u,OT:o,xT:a,LT:h})},t.pT=function(n){var i=t.RT(n,sk.Ib),e=Zk(Qk.lA(n),sk.Rb);return Nr({},i,{MT:t.UT(e)})},t.kT=function(n){var i=t.ET(n,sk.Db),e=Qk.lA(n),r=Zk(e,sk.Nb),s=t.XT(r),u=Kk(e,sk.Cb);return Nr({},i,{HT:s,FT:u?t.zT(u):u})},t.XT=function(t){return{fs:sk.Nb,rc:t.hA()}},t.zT=function(t){return{fs:sk.Cb,x_:t.hA()}},t.UT=function(t){return Qk.SA(t,sk.Rb,!0)},t.AT=function(n){var i=t.PT(n,sk.pb),e=Qk.lA(n),r=Zk(e,sk.bb),s=Kk(e,sk.Eb);return Nr({},i,{VT:t.WT(r),GT:s?t.qT(s):void 0})},t.TT=function(n,i){var e=t.PT(n,i),r=Zk(Qk.lA(n),sk.Sb);return Nr({},e,{YT:t.jT(r)})},t.ST=function(n){var i=n.Lu(),e=t.PT(n,sk.Bb),r=Zk(Qk.lA(n),sk.Yb),s=t.QT(r);return Nr({},e,{ZT:t.yT(i,s.JT.KT),$T:s})},t.bT=function(n){var i=n.Lu(),e=t.RT(n,sk.Pb),r=Zk(Qk.lA(n),sk.Yb),s=t.QT(r);return Nr({},e,{ZT:t.mT(i,s.JT.KT),$T:s})},t.QT=function(n){var i=Zk(Qk.lA(n),sk.jb),e=t.tS(i);return{fs:sk.Yb,JT:e}},t.tS=function(t){var n=t.aA(4);return{fs:sk.jb,KT:n}},t.WT=function(t){return Qk.TA(t,sk.bb,!0)},t.jT=function(t){return Qk.TA(t,sk.Sb,!0)},t.qT=function(t){var n=t.eA(),i=t.eA();return{fs:sk.Eb,nS:n,iS:i}},t.zA=function(n){var i=Jk(Qk.lA(n),sk.kb).map(t.eS);return{fs:sk.yb,VA:i}},t.eS=function(t){var n=$k(t.eA()),i=n.version,e=n.flags,r=t.eA(),s=t.eA(),u=t.eA(),o=t.eA(),a=t.eA();return{fs:sk.kb,EA:i,IA:e,iT:r,rS:s,sS:u,uS:o,oS:a}},t.LA=function(n,i){var e=Qk.lA(n),r=Zk(e,sk.xb),s=Jk(e,sk.Lb),u=t.aS(r),o=s.map(t.hS);return{fs:sk.Ob,cS:i,pA:u,VA:o}},t.aS=function(t){var n=$k(t.eA()),i=n.version,e=n.flags,r=t.eA();return{fs:sk.xb,EA:i,IA:e,fS:r}},t.hS=function(n){var i=Qk.lA(n),e=Zk(i,sk.Mb),r=Jk(i,sk.Ub),s=Kk(i,sk.Xb),u=t.vS(e),o=r.map(function(n){return t.lS(n,u)}),a=s?t.dS(s):void 0;return{fs:sk.Lb,pA:u,wS:o,_S:a}},t.vS=function(t){var n=$k(t.eA()),i=n.version,e=n.flags,r=t.eA(),s=e.Uu(ok.BASE_DATA_OFFSET_PRESENT)?t.sA():void 0,u=e.Uu(ok.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.eA():void 0,o=e.Uu(ok.DEFAULT_SAMPLE_DURATION_PRESENT)?t.eA():void 0,a=e.Uu(ok.DEFAULT_SAMPLE_SIZE_PRESENT)?t.eA():void 0,h=e.Uu(ok.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.eA():void 0;return{fs:sk.Mb,EA:i,IA:e,iT:r,gS:s,mS:u,sS:o,uS:a,oS:h}},t.lS=function(n,i){for(var e=$k(n.eA()),r=e.version,s=e.flags,u=n.eA(),o=s.Uu(ak.DATA_OFFSET_PRESENT)?n.rA():void 0,a=s.Uu(ak.FIRST_SAMPLE_FLAGS_PRESENT)?n.eA():void 0,h=[],c=0;c<u;c++){var f=t.yS(n,s,r,i);0===c&&void 0!==a&&(f.IA=a),h.push(f)}return{fs:sk.Ub,EA:r,IA:s,kS:u,cS:o,pS:a,bS:h}},t.yS=function(t,n,i,e){return{Hg:n.Uu(ak.SAMPLE_DURATION_PRESENT)?t.eA():e.sS,Cu:n.Uu(ak.SAMPLE_SIZE_PRESENT)?t.eA():e.uS,IA:n.Uu(ak.SAMPLE_FLAGS_PRESENT)?t.eA():e.oS,AS:n.Uu(ak.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.eA():t.rA():void 0}},t.XA=function(t){var n=t.Fi,i=t.$b,e=$k(fo(n,i)),r=e.version,s=e.flags;if(1===r){var u=fo(n,i),o=lo(n,i),a=fo(n,i),h=fo(n,i),c=wo(n,i),f=wo(n,i),v=Ho(Mo(n),i.Pu,n.byteLength);return i.Bu(v.byteLength),{fs:sk.Vb,EA:r,IA:s,TS:c,Ai:f,yp:u,SS:o,ES:a,P_:h,IS:v}}var l=wo(n,i),d=wo(n,i),w=fo(n,i),_=fo(n,i),g=fo(n,i),m=fo(n,i),y=Ho(Mo(n),i.Pu,n.byteLength);return i.Bu(y.byteLength),{fs:sk.Vb,IA:s,EA:r,TS:l,Ai:d,yp:w,RS:_,ES:g,P_:m,IS:y}},t.MA=function(t){return Qk.TA(t,sk.Fb,!1)},t.BA=function(n){var i=n.Fi,e=n.$b,r=Fo(Mo(i)).buffer,s=$k(fo(i,e)),u=s.version,o=s.flags,a=t.DS(i,e),h=[];if(u>0)for(var c=fo(i,e),f=0;f<c;f++){var v=so(i,e,16);h.push(v)}var l=fo(i,e),d=new y(r,e.Pu,l);return e.Bu(i.byteLength),{fs:sk.zb,EA:u,IA:o,NS:a,CS:h,PS:l,Fi:d,OS:r}},t.DS=function(t,n){for(var i="",e=0;e<4;e++){var r=eo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=eo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=eo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=eo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=eo(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.UA=function(t){var n,i,e=t.Fi,r=t.$b,s=$k(fo(e,r)),u=s.version,o=s.flags,a=fo(e,r),h=fo(e,r);0===u?(n=ft.fromBits(fo(e,r),0,!0),i=ft.fromBits(fo(e,r),0,!0)):(n=lo(e,r),i=lo(e,r)),r.Bu(2);for(var c=ho(e,r),f=[],v=0;v<c;v+=1){var l=fo(e,r),d=l>>31&1,w=2147483647&l,_=fo(e,r),g=fo(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({xS:d,LS:w,Hg:_,MS:m,US:y,XS:k})}return{fs:sk.Wb,EA:u,IA:o,HS:a,yp:h,FS:n,zS:i,VS:c,WS:f}},t.dS=function(t){var n,i=t.Fi,e=t.$b,r=$k(fo(i,e)),s=r.version,u=r.flags;return n=0===s?ft.fromBits(fo(i,e),0,!0):lo(i,e),{fs:sk.Xb,EA:s,IA:u,_S:n}},t}();function np(t){return t&&"Ci"in t?t.Ci:t}var ip=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).GS=void 0,a.qS=void 0,a.YS=void 0,a.GS=s,a.qS=u,a.YS=o||void 0,a}return S(n,t),n.prototype.lk=function(n){return this===n||!!vg(this,n)&&(!!t.prototype.lk.call(this,n)&&(!!fg(this.jS,n.jS)&&(!!fg(this.Kp,n.Kp)&&(this.QS&&n.QS?!!this.QS.ai(n.QS)&&(this.Gy&&n.Gy?this.Gy.ai(n.Gy):this.Gy===n.Gy):this.QS===n.QS))))},A(n,[{key:"jS",get:function(){return this.GS}},{key:"Kp",get:function(){return this.qS}},{key:"QS",get:function(){return this.YS}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=hg(Ey(t=this),{get styles(){return t.jS},get regions(){return t.Kp},get metadata(){return np(t.QS)},get content(){return np(t.Gy)}})),this.Ww}}]),n}(By),ep=function(){function t(t,n,i){this.il=void 0,this.ZS=void 0,this.KS=void 0,this.ZS=t,this.KS=n,Qt(i)?this.il=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.il=i}return A(t,[{key:"JS",get:function(){return this.il.ci(!0)}},{key:"Vy",get:function(){return this.ZS}},{key:"Wy",get:function(){return this.KS}}]),t}();var rp="http://www.w3.org/XML/1998/namespace";function sp(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function up(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function op(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ap(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[op(i[r].wi,n)]=i[r].Ai;return e}var hp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,cp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,fp="http://www.w3.org/ns/ttml";function vp(t,n,i,e){void 0===i&&(i=hk),void 0===e&&(e=Nc.APPLICATION_TTML_XML);var r=[],s=Lo(t);return e===Nc.APPLICATION_MP4?r=function(t,n,i){var e=Yk(tp.RA(t),sk.Fb);if(!e)return[];return wp(Lo(e.Fi),n,i)}(s,n,i):e===Nc.APPLICATION_TTML_XML&&(r=wp(s,n,i)),r}function lp(t,n,i){return void 0===i&&(i=hk),_p(t,n,i)}function dp(t,n){for(var i=function t(n){var i=[];var e;if(Qt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.JS),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function wp(t,n,i){return _p(Bo(t,new Vo),n,i)}function _p(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(fp,"head")[0],a=u&&u.Di(fp,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(fp,"styling")[0],r=e&&e.Di(fp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(rp,"id");i[o]=ap(u,n)}return i}(o,h),f=function(t,n){var i=cg(t),e=yp(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=yp(i[u].extent);if(o){var a=gp(o[0],e[0]),h=gp(o[1],e[1]);i[u].extent=a+" "+h}var c=yp(i[u].origin);if(c){var f=gp(c[0],e[0]),v=gp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Di(fp,"layout")[0],r=e&&e.Di(fp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(rp,"id");if(o){i[o]=ap(u,n);var a=bp(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),v=o.Di(fp,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Qt(n)){var c,f;s=null!=(c=pp(n.Bi("begin"),r))?c:s,u=pp(n.Bi("dur"),0),o=null!=(f=pp(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ii,l=0;l<v.length;l++)("body"===n.di||"div"===n.di)&&v[l].Kn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Vy,s.Wy)}e.sort(Ps);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Xs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=kp(d[w],d[w+1],a);if(_.length<=0&&Ap(n)){var g=n.ci(!1);h.push(new ep(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.ci(!1);_.forEach(function(n){return t.Ni(n.JS)}),h.push(new ep(d[w],d[w+1],t))}()}return h}(a,e.jp,e.Qp,e.Zp),w=0;w<l.length;w++){var _=l[w],g=dp(f,_);s.push(new ip(_.Vy,_.Wy,_.JS,!1,c,g,v))}return s}function gp(t,n){var i=mp(t),e=mp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function mp(t){return ds(t,"px")?"px":ds(t,"em")?"em":ds(t,"c")?"c":ds(t,"%")?"%":void 0}function yp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function kp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Vy,u=i[r].Wy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function pp(t,n){if(t){if(hp.test(t)){var i=hp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(cp.test(t)){var o=cp.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function bp(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=ap(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function Ap(t){if(Qt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===qt.$n}function Tp(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Sp,Ep=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.g_=function(n){return t.prototype.g_.call(this,n)},i.m_=function(n){var i=t.prototype.m_.call(this,n);return i&&(n.W_=Eg.X_),i},i.qw=function(){return Bg(this)},n}(eg);!function(t){t.Qb="subtitles",t.$S="captions",t.tE="descriptions",t.nE="chapters",t.Kb="metadata",t.iE="thumbnails"}(Sp||(Sp={}));var Ip=[Sp.Qb,Sp.$S,Sp.tE,Sp.nE,Sp.Kb,Sp.iE];function Rp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Hs(Ip,t)}(n)?n:n?Sp.Kb:Sp.Qb}var Dp,Np=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(nf);function Cp(t){return t instanceof lw}function Pp(t){return t instanceof ww}function Bp(t){return vs(t,Dp.eE)}function Op(t){return t.some(xp)}function xp(t){return vs(t,Dp.rE)||vs(t,Dp.Db)}function Lp(t,n){return Cc(t)&&Op(n)}function Mp(t,n){return!!t&&(Cc(t)?function(t){return t.some(Bp)}(n)||Op(n):vs(t,Nc.APPLICATION_TTML_XML)||vs(t,Nc.TEXT_VTT)||vs(t,Nc.IMAGE_JPEG))}function Up(t,n){return t===Sp.iE||t===Sp.Kb&&n===Sp.iE}function Xp(t,n,i,e){for(var r=0,s=t.j_.p_;r<s.length;r++){var u=s[r];if(u.Vy>i)break;n<=u.Wy&&e.push(u)}}function Hp(t,n){return Cs(t.B_,n.B_)}function Fp(t,i){var e=i,r=0;if(Cp(t)&&t.name===hw.Bd)e=t.Yl.Ql;else if(Pp(t)){var s=t.Ud;if(e=s.jl,0===(r=s.zl))return new Np(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Np(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function zp(t,i,e,r){var s=function(t){switch(t){case wy.WEBVTT:return"WebVTT";case wy.SRT:return"SRT";case wy.TTML:return"TTML";default:return""}}(t);return new Np(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Vp(t){return Dk(t)?wy.WEBVTT:Tp(t)?wy.TTML:wy.SRT}function Wp(t,n){for(var i=[],e=0,r=t.j_.p_;e<r.length;e++){var s=r[e];if(s.Wy<=n)i.push(s);else if(s.Vy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.sE(o)}}!function(t){t.rE="vtt",t.Db="wvtt",t.eE="stpp"}(Dp||(Dp={}));var Gp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VA=new Ep,n.uE=function(t){var i=t.Yw;n.oE(i)},n}S(n,t);var i=n.prototype;return i.g_=function(t){t.Zs(Z_.r_,this.uE),this.VA.g_(t),this.oE(t)},i.m_=function(t){t.tu(Z_.r_,this.uE),t.W_=Eg.X_,this.VA.m_(t)},i.aE=function(t){},i.hE=function(t){},i.oE=function(t){t.W_!==Eg.X_?this.aE(t):this.hE(t)},i.cE=function(){for(var t=0,n=this.VA.p_;t<n.length;t++){var i=n[t];i.tu(Z_.r_,this.uE),i.Sd()}},i.fE=function(t){if(t>0)for(var n=0,i=this.VA.p_;n<i.length;n++){Wp(i[n],t)}},i.k_=function(){return this.cE(),this.VA.k_(),We.resolve()},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.k_());case 3:this.VA.Sd();case 4:case"end":return t.stop()}},null,this,null,We)},n}(wu),qp=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).errorObject=n,i}return S(n,t),n.prototype.qw=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(j_),Yp=function(t){function n(n,i){var e;return(e=t.call(this)||this).vE=void 0,e.lE=void 0,e.dE=new Js,e.vE=n,e.lE=i,e}S(n,t);var i=n.prototype;return i.wE=function(t){if(t.src){var n=t.kind||Sp.Qb,i=this.vE._E(n,t.id,t.label,t.srclang,t.default);return i.Z_=aw(t.src),this.g_(i),i}},i.gE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Y_=dy.LOADING,i=new rw({Ql:t.Z_,Wl:Af.$n,md:$d.GET,Ws:n}),v.prev=2,v.next=5,Dr.awrap(this.lE.Yl(i));case 5:return s=v.sent,r=s.zl,v.next=9,Dr.awrap(s.El());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),iu(v.t0),t.Y_=dy.ERROR,t.Qs(new qp(Fp(v.t0,t.Z_))),v.abrupt("return");case 18:for(v.prev=18,u=Vp(e),t.fs=u,o=[],u===wy.WEBVTT||u===wy.SRT?(a=mk(e),o=a.j_):u===wy.TTML&&(o=lp(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.mE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),iu(v.t1),t.Y_=dy.ERROR,t.Qs(new qp(zp(t.fs,t.Z_,r,v.t1))),v.abrupt("return");case 32:t.Y_=dy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],We)},i.aE=function(t){Hs(this.VA.p_,t)&&t.Y_===dy.NONE&&this.gE(t,this.dE.Ws).catch(eu)},i.jh=function(){},i.k_=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.dE.Fs(),this.dE=new Js,n=0,i=this.VA.p_;n<i.length;n++)e=i[n],this.vE.yE(e);return r.next=5,Dr.awrap(t.prototype.k_.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(Gp);function jp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.O_===n&&e.kE)return e}}function Qp(t,n){Zp(jp(t.p_,n))}function Zp(t){void 0!==t&&(t.W_=Eg.F_)}function Kp(t,n){Zp(jp(t.p_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.O_===n)return e}}(t.p_,n))}function Jp(t){for(var n=0;n<Ip.length;n++){var i=Ip[n];i===Sp.nE?Kp(t,i):Qp(t,i)}}var $p,tb=function(t){function n(){return t.call(this,bf.Cf)||this}return S(n,t),n}(gu);!function(t){t[t.pE=0]="pE",t[t.bE=1]="bE"}($p||($p={}));var nb=t,ib=nb.MediaSource,eb=nb.WebKitMediaSource,rb=nb.TextTrack,sb=s&&s.createElement("video");s&&s.documentElement.style;var ub=M.qt&&M.xn&&M.Ln<=26;M.dn;var ob=!(!ib&&!eb),ab=!!rb;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.hn,M.Cn&&M.Pn,sb&&sb.canPlayType&&(""!==sb.canPlayType("application/vnd.apple.mpegURL")||M.Qt&&!M.Cn&&M.Zt);sb&&sb.canPlayType&&sb.canPlayType("video/mp4");var hb=ob&&!M.Bn&&!M.Rn&&!M.In&&((ib||eb).isTypeSupported?(ib||eb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):sb&&sb.canPlayType&&""!==sb.canPlayType('audio/mp4; codecs="mp4a.40.34"'));ob&&!M.Bn&&(hb||((ib||eb).isTypeSupported?(ib||eb).isTypeSupported("audio/mpeg"):sb&&sb.canPlayType&&sb.canPlayType("audio/mpeg"))),ob&&(!M.Nn||!M.qt)&&(ib||eb).isTypeSupported&&(ib||eb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.Bn||M.Rn||M.In,M.Dn,M.Bn,M.Rn&&M.Yt&&M.jt;try{r&&r.top!==r.self}catch(t){!0}var cb=function(t){function n(n){var i;return(i=t.call(this,hm.Mg)||this).currentTime=n,i}return S(n,t),n}(gu),fb=function(t){function n(n){var i;return(i=t.call(this,hm.Ug)||this).currentTime=n,i}return S(n,t),n}(gu),vb=[hm.u_,hm.Ug,bf.If,bf.Ef],lb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).AE=qg.Rg,e.TE=!0,e.SE=!1,e.EE=!1,e.IE=function(t){var n=e.RE.Y_;n!==e.AE&&e.Qs(new Em(t.currentTime,n)),n===qg.Rg&&(e.SE=!1,e.EE=!1),e.DE(n),e.NE(n),e.CE(n),e.maybeDispatchCanPlayThroughEvent(n),e.PE(n),e.BE(n),e.AE=n},e.OE=function(){e.BE(e.AE),e.PE(e.AE),e.TE=e.RE.Wg},e.xE=function(){e.TE=e.RE.Wg},e.LE=function(t){e.Qs(new fb(t.currentTime))},e.RE=n,e.ME=i,e.RE.Zs(hm.u_,e.IE),e.RE.Zs(bf.If,e.OE),e.RE.Zs(bf.Ef,e.xE),e.ME&&e.RE.Zs(hm.Ug,e.LE),e}S(n,t);var i=n.prototype;return i.DE=function(t){!this.EE&&t>=qg.Dg&&(this.EE=!0,this.Qs(new wm(this.RE.Xg,t)))},i.NE=function(t){!this.SE&&t>=qg.Ng&&(this.SE=!0,this.Qs(new km(this.RE.Xg,t)))},i.PE=function(t){this.ME||(t>=qg.Cg&&this.AE<qg.Cg&&!this.RE.Wg||this.UE&&t>=qg.Cg)&&this.Qs(new fb(this.RE.Xg))},i.BE=function(t){!this.XE(t)||this.RE.Fg||this.RE.mu||this.Qs(new cb(this.RE.Xg))},i.CE=function(t){this.AE<=qg.Ng&&t>=qg.Cg&&this.Qs(new Tm(this.RE.Xg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===qg.Pg&&this.Qs(new Sm(this.RE.Xg,t))},i.XE=function(t){var n=!this.RE.Wg&&t<=qg.Ng,i=!this.TE&&this.AE<=qg.Ng;return n&&!i},i.k_=function(){this.AE=qg.Rg,this.TE=!0,this.SE=!1,this.EE=!1},i.Sd=function(){this.$s(),this.ME&&this.RE.tu(hm.Ug,this.LE),this.RE.tu(bf.If,this.OE),this.RE.tu(bf.Ef,this.xE),this.RE.tu(hm.u_,this.IE)},A(n,[{key:"UE",get:function(){return!this.RE.Wg&&this.TE}}]),n}(wu),db=function(t){function n(n){var i;return(i=t.call(this)||this).RE=n,i.RE.Zs(vb,i.js),i}return S(n,t),n.prototype.xs=function(){this.$s(),this.RE.tu(vb,this.js)},A(n,[{key:"Xg",get:function(){return this.RE.Xg}},{key:"Fg",get:function(){return this.RE.Fg}},{key:"mu",get:function(){return this.RE.mu}},{key:"Wg",get:function(){return this.RE.Wg}},{key:"Y_",get:function(){return this.RE.Y_}}]),n}(wu),wb="titanium",_b="conax",gb="ezdrm",mb="irdeto",yb="vudrm",kb="verimatrix",pb="keyos",bb="drmtoday",Ab="expressplay",Tb="azure",Sb="xstream",Eb="vimond",Ib="axinom",Rb="uplynk",Db="comcast",Nb="custom",Cb=function(){function t(t,n,i,e,r){this.ec=void 0,this.HE=void 0,this.FE=void 0,this.zE=void 0,this.lE=void 0,this.VE=void 0,this.WE=void 0,this.ec=t,this.HE=n,this.FE=i,this.lE=e,this.WE=r,this.zE=this.GE(n)}var e=t.prototype;return e.qE=function(){return this.VE},e.YE=function(t){this.VE=t},e.jE=function(){return this.zE.licenseAcquisitionURL||this.qE()},e.QE=function(t){return We.resolve()},e.ZE=function(t,n){return We.resolve(void 0)},e.KE=function(t,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.JE(t,i,e,r)).Ql){o.next=3;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Dr.awrap(this.Xw.Yl(s));case 6:return u=o.sent,o.next=9,Dr.awrap(u.Il(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),iu(o.t0),o.next=17,Dr.awrap(this.$E(o.t0,s.Ql,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.JE=function(t,n,i,e){var r=this.tI().jf(),s=this.bd,u={Ql:this.nI(),Wl:n,Vl:r,Cl:t,bd:s,md:$d.POST,yd:0,Ws:e,fs:tw.td,kd:i};return new rw(u)},e.iI=function(t,n){return We.resolve(t)},e.eI=function(t,n,i,e){return We.resolve(t)},e.tI=function(){return new Tf(this.zE.headers||{})},e.$E=function(t,i,e){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.nI=function(t,n){var e=n,r=this.zE.queryParameters;if(!e){var s=this.jE();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&ow(u,t),r&&ow(u,r),e=u.href}return e},e.rI=function(t,n){return Pb(t)},e.sI=function(t){return new y(t)},e.uI=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.rI(t,i));case 2:return e=u.sent,u.next=5,Dr.awrap(this.KE(e,this.WE,n,i));case 5:return r=u.sent,s=this.sI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.Sd=function(){},A(t,[{key:"Xw",get:function(){return this.lE}},{key:"oI",get:function(){return!1}},{key:"aI",get:function(){var t=this.zE.certificate;if(t)return q(t)?Pu(t):Xo(t)}},{key:"hI",get:function(){return!1}},{key:"bd",get:function(){return Boolean(this.zE.useCredentials)}}]),t}();function Pb(t){return We.resolve(Fo(t).buffer)}var Bb,Ob,xb=function(t){function n(n,i,e,r){return t.call(this,ss,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.GE=function(t){return t.widevine||{}},i.cI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.aI){i.next=2;break}return i.abrupt("return",this.aI);case 2:return i.abrupt("return",this.fI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.fI=function(n,i){return t.prototype.uI.call(this,n,nw.od,i)},n}(Cb);function Lb(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Mb(t){return H(t.token&&t.deviceId)}function Ub(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function Xb(t){var n=t;return Mb(n)&&""!==n.token&&""!==n.deviceId&&!Ub(n)}(Ob=Bb||(Bb={})).vI=!1,Ob.lI=!1,Ob.dI=!1,Ob.wI=!1,Ob.LOG_ADS_DETAILS=!1,Ob.LOG_CHROMECAST_DETAILS=!1,Ob.LOG_CUSTOM_DRM=!1,Ob.LOG_BUFFERING_VIDEO_MAIN=!1,Ob.LOG_BUFFERING_VIDEO_SELECTION=!1,Ob.LOG_BUFFERING_AUDIO_MAIN=!1,Ob.LOG_BUFFERING_AUDIO_SELECTION=!1,Ob._I=!1,Ob.gI=!1,Ob.LOG_LCEVC_DETAILS=!1;var Hb,Fb=function(){function t(t,n,i){this.mI=t,this.Vh=n,this.yI=i}return t.prototype.kI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.yI.build(t))},A(t,[{key:"pI",get:function(){return this.mI}},{key:"ec",get:function(){return this.Vh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Hb||(Hb={}));var zb=function(){function t(){this.bI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.AI(t,e,r)){case Hb.FAILED:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case Hb.OVERRIDDEN:var s=oA(e);i.gr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case Hb.SUCCEEDED:oA(e);0}},e.AI=function(t,n,i){var e=oA(n);if(!e)return Hb.FAILED;for(var r=Hb.SUCCEEDED,s=0,u=this.bI.slice();s<u.length;s++){var o=u[s];o.pI===t&&o.ec===e&&(r=Hb.OVERRIDDEN,Us(this.bI,o))}return this.bI.push(new Fb(t,e,i)),r},e.TI=function(t,n){return void 0!==this.SI(t,n)},e.EI=function(t,n,i){var e=this.SI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.kI(i)},e.SI=function(t,n){for(var i=0,e=this.bI;i<e.length;i++){var r=e[i];if(r.pI===t&&(!n||r.ec===n))return r}},t}();zb.II=new zb;var Vb=["customdata"],Wb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Gb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function qb(t){return t&&void 0!==t.licenseAcquisitionURL}var Yb,jb=qb,Qb=qb;function Zb(t){if(!t)return!0;if(tA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return Gb(n)&&Gb(i)&&Gb(e)&&Gb(r)&&Gb(s)}function Kb(t){var n=Xb(t),i=function(t){var n,i=t;return Ub(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Mb(i)}(t);return(!n||!i)&&(n||i)}function Jb(t){return t.integration===mb}function $b(t){var n=t;if(!n)return!1;if(Zb(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(tA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!jb(e))return!1;if(r&&!Qb(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(zb.II.TI(n.integration))return!0;switch(n.integration){case wb:if(!function(t){return t.integration===wb&&(nA(t)||iA(t))}(t))return!1;break;case yb:if(!eA(t))return!1;break;case kb:if(!function(t){return t.integration===kb}(t))return!1;break;case mb:if(!Jb(t))return!1;break;case _b:if(!Kb(t))return!1;break;case gb:if(!function(t){return t.integration===gb}(t))return!1;break;case pb:if(!tA(t))return!1;break;case bb:if(!function(t){var n=t;return n.integration===bb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Ab:if(!function(t){return t.integration===Ab}(t))return!1;break;case Sb:if(!rA(t))return!1;break;case Eb:if(!function(t){return t.integration===Eb}(t))return!1;break;case Ib:if(!sA(t))return!1;break;case Tb:if(!function(t){var n=t;return n.integration===Tb&&void 0!==n.token}(t))return!1;break;case Rb:if(!function(t){return t.integration===Rb}(t))return!1;break;case Db:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case Nb:return!0;default:return!1}}return!0}function tA(t){return t.integration===pb}function nA(t){return void 0!==t.authToken}function iA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function eA(t){var n=t;return n.integration===yb&&void 0!==n.token}function rA(t){var n=t;return n&&n.integration===Sb&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function sA(t){var n=t;return n.integration===Ib&&void 0!==n.token}function uA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Wb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Nr({},Lb(c,Vb),{licenseAcquisitionURL:u,headers:h})}function oA(t){switch(t.toLowerCase()){case"widevine":case Kr:return Kr;case"playready":case jr:return jr;case"fairplay":case ns:return ns}}function aA(t,i){switch(t){case Wr:return function(t){for(var n={},i=tp.PA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.NS]=r.OS}return n}(i);case Gr:case qr:return function(t){var n;return(n={})[ts]=t,n}(i);default:throw new nf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.$r="Widevine",t.Jr="PlayreadyV2",t.RI="PlayreadyV2",t.DI="PlayreadyV3",t.us="Fairplay"}(Yb||(Yb={}));var hA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function cA(t,n){var e,r,s,u,o=hA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Lr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Vr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function fA(t,i){if(!t.accountName)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function vA(t,n,i){var e;if(nA(t))e={AuthToken:t.authToken,Payload:n};else{if(!iA(t))throw fA(t,i);e={LatensRegistration:cA(t,i),Payload:n}}return Vu(JSON.stringify(e))}function lA(t,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.Ud){a.next=3;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Dr.awrap(s.Sl(e));case 7:u=a.sent,o=dA(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Yl.Ql,s.zl,s.Gl,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function dA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var wA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Af.qf)||this).NI=void 0,r}S(e,t),e.CI=function(){return i.Lr.qe?"required":"optional"};var r=e.prototype;return r.$E=function(t,n,i){return lA(t,n,i)},r.QE=function(t){return this.NI?ru(this.NI.Hu,t):(this.NI=new Go,We.resolve())},r.rI=function(t,i){var e,r;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.HE){i.next=3;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Ou(t),i.abrupt("return",vA(e,r,Yb.$r));case 5:case"end":return i.stop()}},null,this,null,We)},r.sI=function(t){if(!t.license)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Pu(t.license)},r.BI=function(t){return We.resolve(new y(t))},r.cI=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.OI(),r.next=3,Dr.awrap(this.rI(t,n));case 3:return i=r.sent,r.next=6,Dr.awrap(this.KE(i,Af.Gf,nw.hd,n));case 6:return e=r.sent,r.next=9,Dr.awrap(this.BI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.fI=function(n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.fI.call(this,n,i));case 2:return e=r.sent,this.OI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.OI=function(){this.NI||(this.NI=new Go),this.NI.Wu()},r.Sd=function(){this.NI&&this.NI.Fs(),t.prototype.Sd.call(this)},e}(xb),_A=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.rI=function(t,i){var e,r,s,u;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(Pb(t));case 2:if(e=i.sent,r=this.FE,s=zo(new y(e)),u=this.xI){i.next=8;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},A(i,[{key:"xI",get:function(){if(eA(this.HE))return this.HE.token}}]),i}(xb);function gA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var mA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.nI=function(n,i){var e=n;return Jb(this.HE)&&(e=gA(this.HE,e)),t.prototype.nI.call(this,e,i)},n}(xb),yA="Conax-Custom-Data";function kA(t,n,i){var e=t&&Kb(t)&&t;if(e&&!i.has(yA)){var r=Xb(e)?e.token:void 0,s=Xb(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(yA,u)}return i}var pA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this);return kA(this.HE,"Widevine",n)},n}(xb);function bA(t){var n=So(new y(t));return Pu(JSON.parse(n).license)}function AA(t){return"string"==typeof t.token?t.token:Vu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function TA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var SA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.sI=function(t){return bA(t)},i.tI=function(){return TA(t.prototype.tI.call(this),this.xI,this.HE)},A(n,[{key:"xI",get:function(){return AA(this.HE)}}]),n}(xb),EA=function(t){function n(n,i,e){return t.call(this,n,i,e,Af.Gf)||this}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(xb);function IA(t,i,e,r){var s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(rA(t)){v.next=2;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Tf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={Ql:t.ticketAcquisitionURL,Wl:Af.qf,Vl:s,md:$d.POST,Cl:JSON.stringify(h),Ws:r},v.next=13,Dr.awrap(e.Yl(c));case 13:return f=v.sent,v.next=16,Dr.awrap(f.Sl());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,We)}var RA=function(t){function n(n,i,e){return t.call(this,n,i,e,Af.qf)||this}S(n,t);var i=n.prototype;return i.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type","application/json"),n},i.rI=function(n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=zu(n.buffer),r=this.HE,o.next=4,Dr.awrap(IA(r,"widevine_modular",this.Xw,i));case 4:return s=o.sent,this.YE(s.licenseServerUrl),u=Eo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.rI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.sI=function(t){return Pu(t.license)},n}(xb),DA=function(t){function i(n,i,e){return t.call(this,n,i,e,Af.Gf)||this}return S(i,t),i.prototype.tI=function(){if(!sA(this.HE))throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(xb);function NA(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var CA=function(t){function n(n,i,e){var r;return(r=t.call(this,rs,n,i,e,Af.Gf)||this).LI=void 0,r}S(n,t);var e=n.prototype;return e.GE=function(t){return t.playready||{}},e.tI=function(){var n=new Tf(this.LI);return n.Zf(t.prototype.tI.call(this)),n},e.MI=function(t){return t.length>=1&&t[0].Ii.length>0},e.ZE=function(n){var i=this.HE.playready.customData;if(i){var e=NA(i),r=NA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ou(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{Cc:r}})}return t.prototype.ZE.call(this,n)},e.rI=function(t,n){var i;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(Pb(t));case 2:return i=n.sent,n.abrupt("return",this.UI(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.UI=function(t){var n,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g;return Dr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=bo(o,new Vo,!0),m.prev=3,h=i.ui(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.MI(f)&&(u=Fu(f[0].Hi)),v=new Tf,l=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ei("name")[0].Hi,g=w.Ei("value")[0].Hi,v.append(_,g);return this.LI=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],We)},e.cI=function(t,n){return We.resolve(t)},e.fI=function(n,i){return t.prototype.uI.call(this,n,nw.fd,i)},n}(Cb),PA=function(){function t(n){this.wh=void 0,this.XI=n,this.wh=t.HI(n)}return t.HI=function(t){return"3"===t.version?Yb.DI:Yb.RI},t.prototype.FI=function(){var t={};if(this.wh===Yb.DI){var n={LatensRegistration:cA(this.XI,Yb.DI)};t["X-TITANIUM-DRM-CDATA"]=Vu(JSON.stringify(n))}return t},A(t,[{key:"zI",get:function(){return this.wh}},{key:"gc",get:function(){return this.wh===Yb.RI}}]),t}();var BA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).VI=void 0,r.VI=new PA(r.HE),r}S(e,t);var r=e.prototype;return r.ZE=function(t){var i=this.HE;if(!this.HE)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(iA(i)){var e={};return e.playready={Cc:OA(i,this.VI.zI)},We.resolve(e)}return We.reject(fA(i,Yb.Jr))},r.tI=function(){var n=new Tf(this.VI.FI());return n.Zf(t.prototype.tI.call(this)),n},r.$E=function(t,e,r){var s,u,o,a,h,c,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.Ud){l.next=3;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Dr.awrap(s.Rl(r));case 6:a=l.sent,h=So(new y(a)),(c=i.ui(h))&&(f=up(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Hi),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.zl,s.Gl,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],We)},r.MI=function(t){if(1!==t.length)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(CA);function OA(t,n){var i=cA(t,n),e=i.DeviceInfo.FormatVersion,r=Vu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Ro(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ro('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ou(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var xA,LA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.MI=function(t){if(1!==t.length)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.nI=function(n,i){var e=Nr({},n||{},{token:this.xI});return t.prototype.nI.call(this,e,i)},A(i,[{key:"xI",get:function(){if(eA(this.HE))return this.HE.token}}]),i}(CA),MA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.nI=function(n,i){var e=n;return Jb(this.HE)&&(e=gA(this.HE,e)),t.prototype.nI.call(this,e,i)},n}(CA),UA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this);return kA(this.HE,"PlayReady",n)},n}(CA),XA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.sI=function(n){return(ls(So(new y(n)),"<?xml")?xA.WI:xA.Sl)===xA.Sl?bA(n):t.prototype.sI.call(this,new y(n))},i.tI=function(){return TA(t.prototype.tI.call(this),this.xI,this.HE)},A(n,[{key:"xI",get:function(){return AA(this.HE)}}]),n}(CA);!function(t){t[t.WI=0]="WI",t[t.Sl=1]="Sl"}(xA||(xA={}));var HA,FA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GI=void 0,r}S(n,t);var i=n.prototype;return i.tI=function(){var n=t.prototype.tI.call(this);return this.GI&&n.set("Ticket",this.GI),n.set("Content-Type","text/xml"),n},i.rI=function(n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.HE,s.next=3,Dr.awrap(IA(e,"playready",this.Xw,i));case 3:return r=s.sent,this.YE(r.licenseServerUrl),this.GI=r.ticket,s.abrupt("return",t.prototype.rI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(CA),zA=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.tI=function(){if(!sA(this.HE))throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(CA);!function(t){t.qf="application/json",t.qI="application/x-www-form-urlencoded",t.YI="application/octet-stream",t.$n="text/plain;charset=UTF-8"}(HA||(HA={}));var VA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ec,i,e,r,s)||this).jI="",u.QI=void 0,u.ZI=void 0,u.ZI=n.KI,u}S(n,t);var i=n.prototype;return i.JI=function(){return this.zE.certificateURL||this.QI},i.$I=function(t){this.QI=t},i.rI=function(t){return We.resolve(this.tR(t,this.jI))},i.tR=function(t,n){return"spc="+encodeURIComponent(Ou(t))+"&assetId="+encodeURIComponent(n)},i.GE=function(t){return t.fairplay||{}},i.nR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return We.resolve(i)}var e=t.split("/");return We.resolve(e[e.length-1])},i.ZE=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.ZI)?n:Co(new y(t)),s.next=3,Dr.awrap(this.nR(i));case 3:return e=s.sent,this.jI=e,(r={}).fairplay={Uc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type",this.iR),n},i.cI=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aI){t.next=2;break}return t.abrupt("return",this.aI);case 2:return t.next=4,Dr.awrap(this.eR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.fI=function(n,i){return t.prototype.uI.call(this,n,nw.rd,i)},i.rR=function(t){var n=this.JI(),i=this.tI(),e={Ql:n,Wl:Af.Gf,Vl:i,md:$d.GET,bd:!1,Cl:null,yd:0,Ws:t,fs:tw.td,kd:nw.ud};return new rw(e)},i.eR=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.rR(t),r.next=3,Dr.awrap(this.Xw.Yl(n));case 3:return i=r.sent,r.next=6,Dr.awrap(i.Rl());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.sI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Pu(i)}else n=new y(t);return n},i.nI=function(n,i){var e=t.prototype.nI.call(this,n,i);return ls(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"hI",get:function(){return!0}},{key:"iR",get:function(){return HA.qI}}]),n}(Cb),WA=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(n,t);var i=n.prototype;return i.nR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.sI=function(t){return new y(t)},i.nI=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.nI.call(this,e,i)},A(n,[{key:"iR",get:function(){return HA.YI}}]),n}(VA),GA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).YE("https://fairplay-license.drm.technology/license"),s.$I("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.tR=function(t,n){var i={token:this.xI,contentId:n,payload:Ou(t)};return JSON.stringify(i)},e.sI=function(t){return new y(t)},e.tI=function(){var n=t.prototype.tI.call(this);return n.set("x-vudrm-token",this.xI),n},A(i,[{key:"iR",get:function(){return HA.qf}},{key:"xI",get:function(){if(!eA(this.HE))throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.HE.token}}]),i}(VA),qA="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",YA="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",jA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}return S(i,t),i.prototype.sI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,qA)}if(!i)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,YA);return i}(So(new DataView(i)));return t.prototype.sI.call(this,e)},i}(VA);var QA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.qf)||this}S(i,t);var e=i.prototype;return e.rI=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.HE){r.next=3;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Ou(t),r.abrupt("return",vA(i,e,Yb.us));case 5:case"end":return r.stop()}},null,this,null,We)},e.sI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Fu(i.license);return new y(r)}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.$E=function(t,n,i){return lA(t,n,i)},A(i,[{key:"iR",get:function(){return HA.qf}}]),i}(VA),ZA=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).YE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.$I("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.JI=function(){var n=t.prototype.JI.call(this);if(!n)return n;var e=i.Br(n),r=this.HE;return Jb(r)&&ow(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.nR=function(n){return Jb(this.HE)?We.resolve(this.HE.contentId):t.prototype.nR.call(this,n)},e.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.sI=function(t){return new y(t)},e.nI=function(n,i){var e=n;return Jb(this.HE)&&(e=function(t,n){return Nr({},gA(t,n),{KeyId:t.keyId})}(this.HE,e)),t.prototype.nI.call(this,e,i)},A(n,[{key:"iR",get:function(){return HA.YI}}]),n}(VA),KA=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Af.$n)||this,!Kb(e))throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.YE("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.tI=function(){var n=t.prototype.tI.call(this);return kA(this.HE,"FairPlay",n)},e.eR=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.JI(),i={Ql:n,Wl:Af.Gf,Vl:{},md:$d.GET,bd:!1,Cl:null,yd:0,Ws:t,fs:tw.td,kd:nw.ud},s.next=4,Dr.awrap(this.Xw.Yl(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Rl());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.nR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(So(Pu(n)))):We.resolve("unknown")},e.sI=function(t){try{var n=JSON.parse(t);return new y(Fu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(VA),JA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.$n)||this).YE(Wb[zr.us]),s}S(i,t);var e=i.prototype;return e.nR=function(t){return ls(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new Qm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.tR=function(t,n){return"spc="+Ou(t)+"&assetId="+n},i}(VA),$A=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.$n)||this).YE("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.tR=function(t,n){var i="spc="+encodeURIComponent(Ou(t))+"&"+encodeURI(n);return"persistent"===this.zE.licenseType?i+"&offline=true":i},i.tI=function(){return TA(t.prototype.tI.call(this),this.xI,this.HE)},A(n,[{key:"xI",get:function(){return AA(this.HE)}}]),n}(VA),tT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(n,t);var e=n.prototype;return e.nR=function(t){var n=t;return ls(n,"skd:")&&(n="http:"+n.substring(4)),ls(n,"http:")||ls(n,"https:")?We.resolve(i.Br(n).hostname):We.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.sI=function(t){return new y(t)},A(n,[{key:"iR",get:function(){return HA.YI}}]),n}(VA),nT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.$n)||this}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(VA),iT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Af.qf)||this,!rA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.eR=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.JI(),i=this.tI(),e={Ql:n,Wl:Af.qf,Vl:i,md:$d.POST,Ws:t,fs:tw.td,kd:nw.ud},u.next=5,Dr.awrap(this.Xw.Yl(e));case 5:return r=u.sent,u.next=8,Dr.awrap(r.Sl());case 8:return s=u.sent,u.abrupt("return",new y(Pu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.fI=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Ou(t),r=this.HE,i.next=5,Dr.awrap(IA(r,"fairplay",this.Xw,n));case 5:return s=i.sent,u=Eo(JSON.stringify({spc:e,ticket:s.ticket})),o={Ql:this.jE(),Wl:Af.qf,Vl:this.tI(),md:$d.POST,Cl:u,yd:0,Ws:n,fs:tw.td,kd:nw.rd},i.next=10,Dr.awrap(this.Xw.Yl(o));case 10:return a=i.sent,i.next=13,Dr.awrap(a.Sl());case 13:return h=i.sent,i.abrupt("return",Pu(h.licence));case 15:case"end":return i.stop()}},null,this,null,We)},A(n,[{key:"iR",get:function(){return HA.qf}}]),n}(VA),eT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.$n)||this}S(i,t);var e=i.prototype;return e.tR=function(t,n){return Ou(t)},e.sI=function(i){if(0===i.length)throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.sI.call(this,i)},e.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type","text/plain"),n},i}(VA),rT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(i,t);var e=i.prototype;return e.tR=function(t,n){return t},e.sI=function(t){return new y(t)},e.tI=function(){if(!sA(this.HE))throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},A(i,[{key:"iR",get:function(){return HA.qf}}]),i}(VA),sT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.qf)||this).sR=void 0,s}S(e,t);var r=e.prototype;return r.tR=function(t,n){var i={spc:Ou(t)};return JSON.stringify(i)},r.nR=function(t){var e=i.Br(t);return this.sR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new Qm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.nI=function(n,i){var e=this.jE();return!e&&this.sR&&(e=this.sR),e&&(e=e.replace("skd://","https://")),t.prototype.nI.call(this,n,i||e)},r.sI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Pu(i.ckc)}catch(t){throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"iR",get:function(){return HA.$n}}]),e}(VA),uT=function(){function t(t,n){this.uR=t,this.oR=n}var n=t.prototype;return n.aR=function(t){return this.uR(t)},n.hR=function(t,n){throw new l(n+" must be "+this.oR+". (Received: "+t+")")},t}();new uT(function(t){return!0},"any");var oT=new uT(Z,"a number"),aT=new uT(q,"a string"),hT=new uT(Y,"a boolean");new uT(Q,"a date"),new uT(F,"undefined"),new uT(W,"an object"),new uT(function(t){return null===t},"null"),new uT(function(t){return null==t},"null or undefined");var cT,fT=(cT={responseCode:oT,isException:hT,description:aT,title:aT,correlationId:aT},{aR:function(t){if(!W(t))return!1;for(var n=0,i=d.keys(cT);n<i.length;n++){var e=i[n];if(!cT[e].aR(t[e]))return!1}return!0},hR:function(t,n){if(!W(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(cT);i<e.length;i++){var r=e[i],s=cT[r];if(!s.aR(t[r]))return s.hR(t[r],n+"."+String(r))}throw new l}});function vT(t,n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=lT(t,n,i,r),u.next=3,Dr.awrap(dT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function lT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return ow(e,n),e.toString()}(e,s)),o=new Tf({});o.append("Content-Type","application/json");var a=Ou(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{Ql:u,Wl:Af.$n,Vl:o,md:$d.POST,Cl:JSON.stringify(h),Ws:r,fs:tw.td,kd:nw.rd}}function dT(t,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(i.Yl(t));case 2:return e=s.sent,s.next=5,Dr.awrap(e.Sl());case 5:if(r=s.sent,!fT.aR(r)){s.next=8;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Ql,r.responseCode);case 8:return s.abrupt("return",Pu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var wT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).cR=void 0,s.cR=i,s}S(n,t);var i=n.prototype;return i.nR=function(n){var i=n.replace("FairPlay",this.cR.releasePid);return t.prototype.nR.call(this,i)},i.fI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(vT(t,this.cR,this.jE(),this.Xw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(VA),_T=function(t){function i(n,i,e){return t.call(this,as,n,i,e,Af.Gf)||this}S(i,t);var e=i.prototype;return e.GE=function(t){return t.clearkey||{}},e.KE=function(i,e,r,s){var u,o;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.zE,!this.jE()){e.next=5;break}return e.abrupt("return",t.prototype.KE.call(this,i,this.WE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Eo(JSON.stringify(o)).buffer);case 10:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e.cI=function(t,n){return We.resolve(new y(0))},e.fI=function(n,i){return t.prototype.uI.call(this,n,nw.vd,i)},i}(Cb),gT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(xb),mT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function yT(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=RT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,Dr.awrap(ru(We.resolve(r.call(t,e)),i));case 8:if(!Uo(s=u.sent)){u.next=11;break}return u.abrupt("return",Xo(s));case 11:return u.abrupt("return",IT(Nr({},mT,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function kT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=ET(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(ru(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Xo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function pT(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(AT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",IT(r));case 6:case"end":return s.stop()}},null,null,null,We)}function bT(t,n,i,e,r,s){var u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=ST(i,r),a.next=3,Dr.awrap(TT(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Xo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function AT(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=ST(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,Dr.awrap(ru(We.resolve(r.call(t,s)),e));case 8:if(!Uo(u=o.sent)){o.next=11;break}return o.abrupt("return",Xo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},mT,u));case 12:case"end":return o.stop()}},null,null,null,We)}function TT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=ET(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(ru(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Xo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function ST(t,n){return Nr({},RT(t),{fairplaySkdUrl:n})}function ET(t,n,i){return{url:i.jl,status:i.zl,statusText:i.Gl,headers:i.Vl.jf(),body:t,request:n}}function IT(t){return new rw({Ql:t.url,md:t.method,Vl:t.headers,Cl:t.body,bd:t.useCredentials})}function RT(t){var n;return{url:t.Ql,body:null!=(n=DT(t.Cl))?n:null,headers:t.Vl.jf(),method:t.md,useCredentials:t.bd}}function DT(t){if(t)return"string"==typeof t?Po(t):t instanceof ArrayBuffer?new y(t):Lu(t)?Mo(t):void 0}var NT,CT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).fR=void 0,s.fR=r,s}S(i,t);var e=i.prototype;return e.cI=function(t,n){return We.resolve(t)},e.fI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.UI(Fo(t).buffer));case 2:return e=a.sent,r=this.JE(e,Af.Gf,nw.fd,i),a.next=6,Dr.awrap(pT(this.fR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.Ql){a.next=12;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Dr.awrap(this.Xw.Yl(s));case 15:return u=a.sent,a.next=18,Dr.awrap(u.Rl(i));case 18:return o=a.sent,a.t0=y,a.next=22,Dr.awrap(bT(this.fR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),iu(a.t2),new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(CA),PT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Af.Gf)||this).fR=void 0,s.fR=r,s}S(i,t);var e=i.prototype;return e.cI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.aI){a.next=2;break}return a.abrupt("return",this.aI);case 2:return e=this.JE(t,Af.Gf,nw.hd,i),a.next=5,Dr.awrap(yT(this.fR,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.Ql){a.next=11;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Dr.awrap(this.Xw.Yl(r));case 14:return s=a.sent,a.next=17,Dr.awrap(s.Rl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),iu(a.t0),new Qm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=ST(e,void 0),a.next=27,Dr.awrap(kT(this.fR,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.fI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,Af.Gf,nw.od,i),o.next=3,Dr.awrap(pT(this.fR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Ql){o.next=9;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.Xw.Yl(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Rl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),iu(o.t0),new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Dr.awrap(bT(this.fR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(gT),BT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Af.Gf)||this).fR=void 0,u.vR=void 0,u.fR=s,u}S(i,t);var e=i.prototype;return e.cI=function(t,i){var e,r,s,u,o;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aI){t.next=2;break}return t.abrupt("return",this.aI);case 2:return e=this.rR(i),t.next=5,Dr.awrap(yT(this.fR,e,i));case 5:if(r=t.sent,!Lu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Dr.awrap(this.Xw.Yl(r));case 11:return s=t.sent,t.next=14,Dr.awrap(s.Rl());case 14:return u=t.sent,o=ST(e,void 0),t.next=18,Dr.awrap(kT(this.fR,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),iu(t.t0),new Qm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.fI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,Af.Gf,nw.rd,i),o.next=3,Dr.awrap(pT(this.fR,e,this.vR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Ql){o.next=9;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.Xw.Yl(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Rl(i));case 15:return u=o.sent,o.t0=y,o.next=19,Dr.awrap(bT(this.fR,u,e,s,this.vR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),iu(o.t2),new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.nR=function(n){var i;return this.vR=n,null!=(i=this.fR)&&i.extractFairplayContentId?We.resolve(this.fR.extractFairplayContentId(n)):t.prototype.nR.call(this,n)},i}(VA),OT=function(){function t(){}var n=t.prototype;return n.lR=function(t,n,i,e){switch(t.ec.fs){case zr.$r:return this.dR(n,i,e);case zr.Jr:return this.wR(n,i,e);case zr.us:return this._R(t,n,i,e);case zr.rs:default:return this.gR(n,i,e)}},n.dR=function(t,n,i){var e,r=(e=t).integration===Nb&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&zb.II.TI(r,Kr)){var s=zb.II.EI(r,Kr,t);return new PT(t,n,i,s)}switch(r){case wb:return new wA(t,n,i);case yb:return new _A(t,n,i);case mb:return new mA(t,n,i);case _b:return new pA(t,n,i);case bb:return new SA(t,n,i);case Tb:return new EA(t,n,i);case Sb:return new RA(t,n,i);case Ib:return new DA(t,n,i);case pb:default:return new gT(t,n,i,Af.Gf)}},n.wR=function(t,n,i){var e=t.integration;if(e&&zb.II.TI(e,jr)){var r=zb.II.EI(e,jr,t);return new CT(t,n,i,r)}switch(e){case wb:return new BA(t,n,i);case yb:return new LA(t,n,i);case mb:return new MA(t,n,i);case _b:return new UA(t,n,i);case bb:return new XA(t,n,i);case Sb:return new FA(t,n,i);case Ib:return new zA(t,n,i);case pb:default:return new CA(t,n,i)}},n._R=function(t,n,i,e){var r=n.integration;if(r&&zb.II.TI(r,ns)){var s=zb.II.EI(r,ns,n);return new BT(t,n,i,e,s)}switch(r){case gb:return new WA(t,n,i,e);case yb:return new GA(t,n,i,e);case kb:return new jA(t,n,i,e);case wb:return new QA(t,n,i,e);case mb:return new ZA(t,n,i,e);case _b:return new KA(t,n,i,e);case pb:return new JA(t,n,i,e);case bb:return new $A(t,n,i,e);case Ab:return new tT(t,n,i,e);case Tb:return new nT(t,n,i,e);case Sb:return new iT(t,n,i,e);case Eb:return new eT(t,n,i,e);case Ib:return new rT(t,n,i,e);case Rb:return new sT(t,n,i,e);case Db:return new wT(t,n,i,e);default:return new VA(t,n,i,e,Af.$n)}},n.gR=function(t,n,i){return new _T(t,n,i)},n.mR=function(t){return t.fs===zr.Jr||t.fs===zr.$r||t.fs===zr.us||t.fs===zr.rs},n.gc=function(t,n){var i;if(t.fs!==zr.Jr)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!zb.II.TI(e,ns))&&(e===wb&&new PA(n).gc)},n.CI=function(t,n){if(t.fs===zr.$r){var i=n.integration;if(!i||!zb.II.TI(i,ns))return i===wb?wA.CI():void 0}},t}();!function(t){t[t.yR=0]="yR",t[t.kR=1]="kR",t[t.pR=2]="pR",t[t.bR=3]="bR",t[t.AR=4]="AR",t[t.yg=5]="yg",t[t.SR=6]="SR",t[t.ER=7]="ER",t[t.Ig=8]="Ig",t[t.IR=9]="IR",t[t.RR=10]="RR"}(NT||(NT={}));var xT=function(){function t(){}return t.prototype.DR=function(t){},A(t,[{key:"NR",get:function(){return 0}},{key:"PR",get:function(){return 0}}]),t}(),LT=function(){function t(t,n){void 0===n&&(n=new OT),this.lE=void 0,this.OR=void 0,this.XI=void 0,this.lE=t,this.OR=n}var n=t.prototype;return n.xR=function(t){this.XI=t},n.CI=function(t){var n=this.XI;if(void 0!==n)return this.OR.CI(t,n)},n.gc=function(t){var n=this.XI;return void 0!==n&&this.OR.gc(t,n)},n.LR=function(t){var n={ec:t.ec,MR:t.MR||[],KI:t.KI},i=this.OR.lR(n,this.XI||{},t.FE,this.lE);return new MT(i)},t}(),MT=function(){function t(t){this.UR=void 0,this.UR=t}var n=t.prototype;return n.QE=function(t){return this.UR.QE(t)},n.ZE=function(t,n,i){return this.UR.ZE(n,i)},n.hI=function(){return this.UR.hI||void 0!==this.UR.aI},n.cI=function(t,n){return this.UR.cI(t,n)},n.fI=function(t,n,i){return n&&this.UR.YE(n),this.UR.fI(t,i)},n.xs=function(){this.UR.Sd()},t}(),UT=function(t){function n(n){var i;(i=t.call(this)||this).XR=[],i.HR=function(t){i.g_(t.Yw)},i.FR=function(t){var n=t.Yw;i.zR(n)||i.m_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.WR(r)}return i}S(n,t);var i=n.prototype;return i.WR=function(t){this.XR.push(t);for(var n=0,i=t.p_;n<i.length;n++){var e=i[n];this.g_(e)}this.GR(t)},i.qR=function(t){Us(this.XR,t),this.YR(t);for(var n=0,i=t.p_;n<i.length;n++){var e=i[n];this.zR(e)||this.m_(e)}},i.zR=function(t){for(var n=0,i=this.XR;n<i.length;n++){if(i[n].y_(t))return!0}return!1},i.GR=function(t){t.Zs(q_.Hw,this.HR),t.Zs(q_.zw,this.FR)},i.YR=function(t){t.tu(q_.Hw,this.HR),t.tu(q_.zw,this.FR)},i.Sd=function(){for(;this.XR.length>0;)this.qR(this.XR[0]);t.prototype.Sd.call(this)},i.qw=function(){return Bg(this)},n}(eg);function XT(t){return{get enabled(){return t.C_},set enabled(n){t.C_=dg(n)},get currentLatency(){return t.cm},get streamConfiguration(){if(void 0!==t.jR)return function(t){return{get minimumOffset(){return t.Zg},get maximumOffset(){return t.Jg},get targetOffset(){return t.Kg},get forceSeekOffset(){return t.$g},get minimumPlaybackRate(){return t.tm},get maximumPlaybackRate(){return t.nm}}}(t.jR)},get configuration(){return function(t){return{get minimumOffset(){return t.Zg},set minimumOffset(n){t.Zg=wg(n)},get maximumOffset(){return t.Jg},set maximumOffset(n){t.Jg=wg(n)},get targetOffset(){return t.Kg},set targetOffset(n){t.Kg=wg(n)},get forceSeekOffset(){return t.$g},set forceSeekOffset(n){t.$g=wg(n)},get minimumPlaybackRate(){return t.tm},set minimumPlaybackRate(n){t.tm=wg(n)},get maximumPlaybackRate(){return t.nm},set maximumPlaybackRate(n){t.nm=wg(n)},update:function(n){t.Zh(function(t){var n={};void 0!==t.minimumOffset&&(n.Zg=wg(t.minimumOffset));void 0!==t.maximumOffset&&(n.Jg=wg(t.maximumOffset));void 0!==t.targetOffset&&(n.Kg=wg(t.targetOffset));void 0!==t.forceSeekOffset&&(n.$g=wg(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.tm=wg(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.nm=wg(t.maximumPlaybackRate));return n}(n))}}}(t.rc)}}}var HT,FT=function(){function t(){this.Ww=void 0,this.QR=void 0,this.QR={$g:0,Jg:0,nm:0,Zg:0,tm:0,Kg:0,Zh:K}}return A(t,[{key:"Gw",get:function(){return null!=this.Ww||(this.Ww=XT(this)),this.Ww}},{key:"C_",get:function(){return!1},set:function(t){}},{key:"cm",get:function(){}},{key:"jR",get:function(){}},{key:"rc",get:function(){return this.QR}}]),t}();function zT(){return HT||(HT=le&&le.document&&le.document.createElement("video")),HT}var VT=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new OT),void 0===a&&(a=_f()),(h=t.call(this)||this).ZR=void 0,h.KR=void 0,h.JR=void 0,h.mm=void 0,h.ym=void 0,h.pm=void 0,h.$R=void 0,h.tD=void 0,h.nD=void 0,h.iD=void 0,h.eD=void 0,h.lE=void 0,h.ys=void 0,h.rD=void 0,h.sD=void 0,h.uD=new xT,h.oD=new FT,h.aD=function(t){var i=t.mu,e=i.code,r=new nf(function(t){switch(t){case qm.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case qm.NETWORK:return n.ErrorCode.NETWORK_ERROR;case qm.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case qm.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case qm.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case qm.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case qm.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new Zm(e,r.message,i.message);h.hD(r,s)},h.cD=function(){h.Qs(new mm(h.Xg,h.Jm))},h.fD=function(t){h.Wg||(h.sD=void 0),h.Qs(t)},h.vD=function(t){h.sD=void 0,h.Qs(t)},h.lD=function(){h.Qs(new my(h.iy))},h.dD=function(){h.jg>0&&h.Yg>0&&h.Qs(new tb)},h.wD=function(t){h.mm.g_(new vy(t.track))},h._D=function(t){var n=GT(h.mm,t.track);n&&h.mm.m_(n)},h.gD=function(){h.mD(h.mm)},h.yD=function(t){h.ym.g_(new gy(t.track))},h.kD=function(t){var n=GT(h.ym,t.track);n&&h.ym.m_(n)},h.pD=function(){h.mD(h.ym)},h.bD=function(t){h.Qs(t),h.hD(t.errorObject,Jm(t.errorObject))},h.ZR=e,h.lE=r,h.ys=a,h.KR=h.ZR.TD($m.wd),h.nD=h.KR.SD.preload,h.iD=new lb(h.KR,!0),h.iD.Zs(dm,h.js),h.rD=new LT(r,o),h.KR.ED=h.rD,h.RD(),h.mm=new ty,h.ym=new ty,h.DD(),h.eD=new Yp(h.KR,h.lE),h.pm=new UT([h.KR.Rm]),h.Fm(),h}S(i,t);var e=i.prototype;return e.zm=function(){this.KR.zm()},e.Fm=function(){this.KR.Fm()},e.Om=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return nu(i),e={fs:$p.pE,Z_:t.src,Nl:t.type,ND:this.CD(t),yy:this.nD,PD:t.crossOrigin,BD:n.metadata&&n.metadata.title},this.rD.xR(t.contentProtection),r.next=5,Dr.awrap(this.KR.jh(e));case 5:this.JR=r.sent,nu(i),n.textTracks&&this.OD(n.textTracks),Jp(this.Rm);case 9:case"end":return r.stop()}},null,this,null,We)},e.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.KR.xD()&&M.hn&&ab&&!Up(i.kind,i.label)&&this.LD(i)){var e,r=null!=(e=i.kind)?e:Sp.Qb;this.KR.MD(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.eD.wE(i)}}},e.LD=function(t){return!t.format||"webvtt"===t.format},e.Nm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.KR.Nm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.UD){t.next=12;break}return t.next=10,Dr.awrap(this.KR.au(bf.Rf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},e.Cm=function(){this.KR.Cm()},e.xm=function(){return void 0!==this.KR.SD.webkitShowPlaybackTargetPicker},e.Lm=function(){this.KR.SD.webkitShowPlaybackTargetPicker&&this.KR.SD.webkitShowPlaybackTargetPicker()},e.Mm=function(){this.KR.SD.webkitShowPlaybackTargetPicker&&this.KR.SD.webkitShowPlaybackTargetPicker()},e.Vm=function(){return this.KR.SD},e.Wm=function(){return this.KR.XD},e.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$R=void 0,this.tD=void 0,this.JR=void 0,t.next=5,Dr.awrap(this.eD.k_());case 5:return this.KR.HD(),t.next=8,Dr.awrap(this.KR.k_());case 8:this.iD.k_(),this.yy=this.nD,this.Em.k_(),this.Im.k_(),this.sD=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},e.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.k_());case 2:return this.$s(),this.FD(),this.zD(),this.iD.Sd(),this.KR.ED=void 0,t.next=9,Dr.awrap(this.ZR.VD(this.KR));case 9:return this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),t.next=14,Dr.awrap(this.eD.Sd());case 14:case"end":return t.stop()}},null,this,null,We)},e.RD=function(){this.KR.Zs(bf.If,this.js),this.KR.Zs(bf.Ef,this.js),this.KR.Zs(bf.Hf,this.cD),this.KR.Zs(bf.Rf,this.js),this.KR.Zs(bf.pf,this.js),this.KR.Zs(bf.Bf,this.js),this.KR.Zs(bf.Pf,this.fD),this.KR.Zs(bf.mf,this.js),this.KR.Zs(bf.Df,this.js),this.KR.Zs(bf.Ff,this.js),this.KR.Zs(bf._f,this.js),this.KR.Zs(bf.Cf,this.dD),this.KR.Zs(hm.Ug,this.vD),this.KR.Zs(Ig.z_,this.aD),this.KR.Zs(bf.lf,this.js),this.KR.Zs(bf.vf,this.bD),this.KR.SD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lD)},e.FD=function(){this.KR.tu(bf.If,this.js),this.KR.tu(bf.Ef,this.js),this.KR.tu(bf.Hf,this.cD),this.KR.tu(bf.Rf,this.js),this.KR.tu(bf.pf,this.js),this.KR.tu(bf.Bf,this.js),this.KR.tu(bf.Pf,this.fD),this.KR.tu(bf.mf,this.js),this.KR.tu(bf.Df,this.js),this.KR.tu(bf.Ff,this.js),this.KR.tu(bf._f,this.js),this.KR.tu(bf.Cf,this.dD),this.KR.tu(hm.Ug,this.vD),this.KR.tu(Ig.z_,this.aD),this.KR.tu(bf.lf,this.js),this.KR.tu(bf.vf,this.bD),this.KR.SD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lD)},e.CD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:us,WD:[{initDataTypes:[us.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.DD=function(){var t=this.KR.SD.audioTracks,n=this.KR.SD.videoTracks;t&&(t.addEventListener("addtrack",this.wD),t.addEventListener("removetrack",this._D),t.addEventListener("change",this.gD)),n&&(n.addEventListener("addtrack",this.yD),n.addEventListener("removetrack",this.kD),n.addEventListener("change",this.pD))},e.zD=function(){var t=this.KR.SD.audioTracks,n=this.KR.SD.videoTracks;t&&(t.removeEventListener("addtrack",this.wD),t.removeEventListener("removetrack",this._D),t.removeEventListener("change",this.gD)),n&&(n.removeEventListener("addtrack",this.yD),n.removeEventListener("removetrack",this.kD),n.removeEventListener("change",this.pD))},e.mD=function(t){for(var n=0;n<t.b_;n++){t.__(n).Cy()}},e.Zm=function(){this.KR.Zm()},e.hD=function(t,n){this.$R||(this.$R=n,this.tD=t,this.Qs(new Im(t)))},A(i,[{key:"UD",get:function(){var t=this.KR.Km,n=this.Xg;return t.GD(n,.01)}},{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.KR.Km.qD()}},{key:"Jm",get:function(){return this.KR.Jm},set:function(t){t&&this.KR.YD(t)}},{key:"Xg",get:function(){return void 0!==this.sD?this.sD:this.KR.Xg},set:function(t){this.iy&&(this.sD=t),this.KR.xu(t)}},{key:"Hg",get:function(){return this.KR.Hg}},{key:"Fg",get:function(){return this.KR.Fg}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Dm",get:function(){}},{key:"iy",get:function(){return this.KR.iy}},{key:"ey",get:function(){return Nr({},{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KR.jD())}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"_y",get:function(){return!0}},{key:"Wg",get:function(){return this.KR.Wg}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){this.KR.Gg=t}},{key:"gy",get:function(){return this.KR.SD.played}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD=t,this.JR&&(this.JR.yy=t)}},{key:"Y_",get:function(){return this.KR.Y_}},{key:"py",get:function(){return this.KR.py.qD()}},{key:"qg",get:function(){return this.KR.qg}},{key:"QD",get:function(){return this.KR.QD}},{key:"Rm",get:function(){return this.pm}},{key:"Im",get:function(){return this.ym}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"jg",get:function(){return this.KR.jg}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){this.KR.Qg=t}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}},{key:"ZD",get:function(){return this.uD}}]),i}(Lg);var WT=function(){function t(){this.KD=NT.RR}var n=t.prototype;return n.kI=function(t,n,i,e,r,s){return new VT(t,n,i,e,r)},n.JD=function(t,n){return function(t){return!t.type||!(!zT().canPlayType||!zT().canPlayType(t.type))}(t)},n.$D=function(){return!1},t}();function GT(t,n){for(var i=0,e=t.p_;i<e.length;i++){var r=e[i];if(r.Oy===n)return r}}var qT=function(){function t(){this.tN=new WT,this.nN=[]}t.iN=function(){return this.Yn};var n=t.prototype;return n.eN=function(t){this.nN.push(t)},n.kI=function(t,n,i,e,r,s){for(var u=this.tN.kI(t,n,i,e,r,s),o=0,a=this.nN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.JD=function(t,n){return this.tN.JD(t,n)},n.$D=function(){return!1},A(t,[{key:"KD",get:function(){return this.tN.KD}}]),t}();function YT(t,n){return Cs(t.KD,n.KD)}function jT(t){QT.Yn.rN(t)}qT.Yn=new qT;var QT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sN=qT.iN(),n}S(n,t);var i=n.prototype;return i.uN=function(t){this.sN=t},i.oN=function(){return this.sN},i.aN=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Dr.awrap(this.hN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{cN:e,fN:r});case 8:i++,a.next=1;break;case 11:s=this.sN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.JD(o,n)){a.next=17;break}return a.abrupt("return",{cN:o,fN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{cN:t[0],fN:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this.vN=[]}var n=t.prototype;return n.rN=function(t){this.vN.push(t),this.vN.sort(YT)},n.hN=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.vN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.JD(t,n))){u.next=10;break}return u.next=7,Dr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());QT.Yn=new QT;var ZT,KT=function(){function t(t){this.lN=void 0,this.lN=le&&le.document&&le.document.createElement("div"),er(this.lN),t.appendChild(this.lN)}return t.prototype.Sd=function(){$e(this.lN)},t}();function JT(t){switch(t){case ZT.dN:case"":return ZT.dN;case ZT.Kb:return ZT.Kb;case ZT.wN:default:return ZT.wN}}!function(t){t.RR="",t.wN="none",t.Kb="metadata",t.dN="auto"}(ZT||(ZT={}));var $T=[Ig.z_,bf.gf,bf.yu,bf.Wf,bf.sf,bf.yf,bf.Tf,bf.Sf,bf.xf,bf.Mf,hm.Bg,hm.Og,hm.xg,hm.Lg,hm.u_,hm.Mg,hm.Ug,bf.vf,bf.lf,bf._f,bf.mf,bf.pf,bf.bf,bf.If,bf.Rf,bf.Ef,bf.Df,bf.Cf,bf.Bf,bf.Pf,bf.Hf,bf.Ff,bf.Nf,bf.Af,bf.Of],tS=function(t){function n(n,i){var e;return(e=t.call(this)||this)._N=void 0,e.gN=void 0,e.mN=void 0,e.yN=void 0,e.nD=ZT.wN,e.kN=void 0,e.pN=!0,e.mm=new Rg,e.ym=new Rg,e.pm=new xg,e.Am=new Ym,e._N=n,e.mN=i,e.mN.yy=e.yy,e.bN(),e}S(n,t);var i=n.prototype;return i.Cm=function(){this.mN.Cm()},i.Nm=function(){var t=this.mN.Nm();j(t)&&hu(t)},i.Pm=function(){return this.Om(void 0)},i.Um=function(){},i.qm=function(t){return!1},i.bN=function(){this.mm.R_=this.mN.Em,this.ym.R_=this.mN.Im,this.pm.R_=this.mN.Rm,this.Am.R_=this.mN.Dm,this.mN.Zs($T,this.js)},i.AN=function(){this.mN.tu($T,this.js),this.mm.R_=void 0,this.ym.R_=void 0,this.pm.R_=void 0,this.Am.R_=void 0},i.Bm=function(){return this.kN},i.Om=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(nu(n),this.kN=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!em(i=t.sources.filter(am))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Dr.awrap(this._N.aN(i,t));case 9:if(e=a.sent,nu(n),r=e.cN,s=e.fN,u=this.Wm(),o=Nm(this),this.gN===s&&!this.mu){a.next=25;break}return this.AN(),a.next=19,Dr.awrap(this.mN.Sd());case 19:nu(n),this.gN=s,this.mN=this.TN(s),nS(this.mN,o),Cm(this,o,this),this.bN();case 25:return this.mN.yy=this.yy,this.pN?this.mN.Fm():this.mN.zm(),a.next=29,Dr.awrap(this.mN.Om(r,t,n));case 29:nu(n),this.SN(r),this.Wm()!==u&&this.Qs(new Ug);case 32:case"end":return a.stop()}},null,this,null,We)},i.SN=function(t){this.yN!==t&&(this.yN=t,this.Qs(new Xg(t)))},i.xm=function(){return this.mN.xm()},i.Lm=function(){this.mN.Lm()},i.Mm=function(){this.mN.Mm()},i.Wm=function(){return this.mN.Wm()},i.Zm=function(){this.mN.Zm()},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kN=void 0,this.SN(void 0),t.next=4,Dr.awrap(this.mN.k_());case 4:case"end":return t.stop()}},null,this,null,We)},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.k_());case 3:return t.next=5,Dr.awrap(this.mN.Sd());case 5:this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),this.Am.Sd();case 9:case"end":return t.stop()}},null,this,null,We)},i.Fm=function(){this.pN=!0,this.mN.Fm()},i.zm=function(){this.pN=!1,this.mN.zm()},A(n,[{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.mN.Km}},{key:"mu",get:function(){return this.mN.mu}},{key:"zg",get:function(){return this.mN.zg}},{key:"Jm",get:function(){return this.mN.Jm},set:function(t){this.mN.Jm=t}},{key:"Qm",get:function(){return this.yN}},{key:"Xg",get:function(){return this.mN.Xg},set:function(t){this.mN.Xg=t}},{key:"Hg",get:function(){return this.mN.Hg}},{key:"Fg",get:function(){return this.mN.Fg}},{key:"Dm",get:function(){return this.Am}},{key:"iy",get:function(){return this.mN.iy}},{key:"ey",get:function(){return this.mN.ey}},{key:"Vg",get:function(){return this.mN.Vg},set:function(t){this.mN.Vg=t}},{key:"_y",get:function(){return this.mN._y}},{key:"Wg",get:function(){return this.mN.Wg}},{key:"Gg",get:function(){return this.mN.Gg},set:function(t){this.mN.Gg=t}},{key:"gy",get:function(){return this.mN.gy}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD=t,this.mN&&(this.mN.yy=this.nD)}},{key:"Y_",get:function(){return this.mN.Y_}},{key:"py",get:function(){return this.mN.py}},{key:"qg",get:function(){return this.mN.qg}},{key:"Rm",get:function(){return this.pm}},{key:"Yg",get:function(){return this.mN.Yg}},{key:"Im",get:function(){return this.ym}},{key:"jg",get:function(){return this.mN.jg}},{key:"Qg",get:function(){return this.mN.Qg},set:function(t){this.mN.Qg=t}},{key:"by",get:function(){return this.mN.by}},{key:"ZD",get:function(){return this.mN.ZD}}]),n}(wu);function nS(t,n){t.Vg!==n.Vg&&(t.Vg=n.Vg),t.Qg!==n.Qg&&(t.Qg=n.Qg),t.Gg!==n.Gg&&(t.Gg=n.Gg)}var iS,eS=function(t){function n(n,i){var e;return(e=t.call(this)||this).b_=void 0,e.EN=void 0,e.IN=void 0,e.b_=n.length>>1,e.EN=n,e.IN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.b_),e}S(n,t);var i=n.prototype;return i.RN=function(t){return this.EN[2*t]},i.DN=function(t){return this.IN[2*t]},i.NN=function(t){return this.EN[2*t+1]},i.CN=function(t){return this.IN[2*t+1]},A(n,[{key:"PN",get:function(){return this.EN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.lk=function(t,n){return 0===this.Rk(t,n)},n.ip=function(t,n){return this.Rk(t,n)>0},n.ep=function(t,n){return this.Rk(t,n)>=0},n.Bk=function(t,n){return this.Rk(t,n)<0},n.Ck=function(t,n){return this.Rk(t,n)<=0},n.Ap=function(t,n){return this.Bk(t,n)?t:n},n.bp=function(t,n){return this.ip(t,n)?t:n},n.BN=function(t,n,i){return i?this.Ck(t,n):this.Bk(t,n)},n.qD=function(){var t=this;return{get length(){return t.b_},start:function(n){var i=0|n;return t.ON(i),t.xN(t.RN(i))},end:function(n){var i=0|n;return t.ON(i),t.xN(t.NN(i))}}},n.LN=function(){for(var t=new Array(2*this.b_),n=new Array(2*this.b_),i=0;i<this.b_;i++)t[2*i]=this.RN(i),t[2*i+1]=this.NN(i),n[2*i]=!0,n[2*i+1]=!0;return this.MN(t,n)},n.ON=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.b_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.b_+")")},n.UN=function(t){if(0===this.b_)return this.XN();if(this.GD(t))return t;if(this.Ck(t,this.RN(0)))return this.RN(0);if(this.ep(t,this.NN(this.b_-1)))return this.NN(this.b_-1);for(var n,i=this.HN(),e=0;e<this.b_;e++){var r=this.RN(e),s=this.Pk(r,t);this.Bk(s,i)&&(n=r,i=s);var u=this.NN(e),o=this.Pk(this.NN(e),t);this.Bk(o,i)&&(n=u,i=o)}return n},n.FN=function(t){for(var n=0,i=0,e=[],r=[];n<this.b_&&i<t.b_;){var s=this.RN(n),u=this.NN(n),o=this.DN(n),a=this.CN(n),h=t.RN(i),c=t.NN(i),f=t.DN(i),v=t.CN(i),l=this.bp(s,h),d=this.Ap(u,c),w=void 0;w=this.lk(s,h)?o&&f:this.lk(l,s)?o:f;var _=void 0;_=this.lk(u,c)?a&&v:this.lk(d,u)?a:v,(this.Bk(l,d)||w&&_&&this.lk(l,d))&&(e.push(l,d),r.push(w,_));var g=this.Rk(this.NN(n),t.NN(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.MN(e,r)},n.zN=function(){var t=this.VN(),n=t.b_;if(0===n)return this.MN([t.WN(),t.HN()],[!1,!1]);var i=[],e=[],r=t.RN(0);t.lk(r,t.WN())||(i.push(t.WN(),r),e.push(!1,!t.DN(0)));for(var s=0;s<n-1;s++)i.push(t.NN(s),t.RN(s+1)),e.push(!t.CN(s),!t.DN(s+1));var u=t.NN(n-1);return t.lk(u,t.HN())||(i.push(u,t.HN()),e.push(!t.CN(n-1),!1)),t.MN(i,e)},n.GN=function(t){for(var n=0,i=0,e=this.b_,r=t.b_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.RN(n),h=this.NN(n),c=t.RN(i),f=t.NN(i);this.Bk(a,c)||this.lk(a,c)&&this.Bk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.DN(n),u[o+1]=this.CN(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.DN(i),u[o+1]=t.CN(i),i++),o+=2}for(;n<e;)s[o]=this.RN(n),s[o+1]=this.NN(n),u[o]=this.DN(n),u[o+1]=this.CN(n),n++,o+=2;for(;i<r;)s[o]=t.RN(i),s[o+1]=t.NN(i),u[o]=t.DN(i),u[o+1]=t.CN(i),i++,o+=2;return this.MN(s,u)},n.qN=function(t){void 0===t&&(t=this.XN());var n=this.b_;if(n<2)return this;for(var i=[],e=[],r=this.RN(0),s=this.NN(0),u=this.DN(0),o=this.CN(0),a=1;a<n;a++){var h=this.RN(a),c=this.NN(a),f=this.DN(a),v=this.CN(a);this.Bk(r,h)&&this.ip(s,c)||(this.lk(r,h)&&(u=f=u||f),this.lk(s,c)&&(o=v=o||v),this.BN(h,this.Sy(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.MN(i,e).VN()},n.VN=function(){for(var t=[],n=[],i=0;i<this.b_;i++){var e=this.RN(i),r=this.NN(i),s=this.DN(i),u=this.CN(i);this.lk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.MN(t,n)},n.YN=function(t){return this.b_?t.b_?this.GN(t).qN():this:t},n.jN=function(t){var n=this.VN(),i=t.VN(),e=n.zN(),r=i.zN(),s=e.FN(i),u=r.FN(n);return s.YN(u)},n.Bu=function(t){if(this.lk(t,this.XN()))return this;for(var n=[],i=[],e=0;e<this.b_;e++){var r=this.Sy(this.RN(e),t),s=this.Sy(this.NN(e),t);n.push(r,s),i.push(this.DN(e),this.CN(e))}return this.MN(n,i)},n.QN=function(t){return 0===this.b_||0===t.b_?this:this.VN().FN(t.VN().zN())},n.GD=function(t,n){return this.ZN(t,n)>=0},n.KN=function(t,n,i,e,r){return this.JN(t,n,i,e,r)>=0},n.$N=function(t,n,i,e,r){return this.tC(t,n,i,e,r)>=0},n.nC=function(t){if(t.b_!==this.b_)return!1;for(var n=0;n<this.b_;n++)if(!this.lk(this.RN(n),t.RN(n))||!this.lk(this.NN(n),t.NN(n))||this.DN(n)!==t.DN(n)||this.CN(n)!==t.CN(n))return!1;return!0},n.iC=function(t){for(var n=[],i=[],e=0;e<this.b_;e++){var r=this.RN(e),s=this.NN(e),u=this.DN(e),o=this.CN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.MN(n,i)},n.tC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.XN());for(var s=this.Mk(t,r),u=this.Sy(n,r),o=0;o<this.b_;o+=1)if(this.BN(this.RN(o),u,!e||this.DN(o))&&this.BN(s,this.NN(o),!i||this.CN(o)))return o;return-1},n.JN=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.XN());for(var s=this.Sy(t,r),u=this.Mk(n,r),o=0;o<this.b_;o+=1)if(this.BN(this.RN(o),s,!i||this.DN(o))&&this.BN(u,this.NN(o),!e||this.CN(o)))return o;return-1},n.ZN=function(t,n){return this.JN(t,t,!0,!0,n)},n.eC=function(t,n){void 0===n&&(n=this.XN());for(var i=this.Sy(t,n),e=this.b_-1;e>=0;e-=1)if(this.BN(this.RN(e),i,this.DN(e)))return e;return-1},n.rC=function(t,n){void 0===n&&(n=this.XN());for(var i=this.Mk(t,n),e=0;e<this.b_;e+=1)if(this.BN(i,this.NN(e),this.CN(e)))return e;return-1},n.sC=function(t){return this.ON(t),this.MN([this.RN(t),this.NN(t)],[this.DN(t),this.CN(t)])},n.uC=function(t,n){var i=this.ZN(t,n);return i<0?void 0:this.sC(i)},A(t,[{key:"oC",get:function(){for(var t=this.XN(),n=0;n<this.b_;n++){var i=this.Mk(this.NN(n),this.RN(n));t=this.Sy(t,i)}return t}}]),t}()),rS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Rk=function(t,n){return t<n?Ss.Ds:t===n?Ss.Is:Ss.Rs},i.Sy=function(t,n){return t+n},i.Mk=function(t,n){return t-n},i.Pk=function(t,n){return w.abs(t-n)},i.XN=function(){return 0},i.HN=function(){return 1/0},i.WN=function(){return-1/0},n.aC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.hC=function(t){for(var i=[],e=[],r=0;r<t.b_;r++)i.push(t.RN(r).Ep),i.push(t.NN(r).Ep),e.push(t.DN(r)),e.push(t.CN(r));return new n(i,e)},n.cC=function(t){return new n([t,t],[!0,!0])},i.MN=function(t,i){return new n(t,i)},i.xN=function(t){return t},n.fC=function(){return sS},n}(eS),sS=new rS([]);!function(t){t.r_="fullscreenchange",t.vC="fullscreensupportchange",t.z_="fullscreenerror"}(iS||(iS={}));var uS=function(t){function n(){return t.call(this,iS.z_)||this}return S(n,t),n}(gu),oS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Xy=function(){this.Qs(new uS)},i.Fy=function(){},i.Sd=function(){this.$s()},A(n,[{key:"lC",get:function(){return!1}},{key:"dC",get:function(){return!1}}]),n}(wu)),aS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZR=void 0,n.KR=void 0,n}S(n,t);var i=n.prototype;return i.Vm=function(){var t;return null==(t=this.KR)?void 0:t.SD},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Sd.call(this));case 2:if(!this.KR){n.next=6;break}return n.next=5,Dr.awrap(this.ZR.VD(this.KR));case 5:this.KR=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"wC",set:function(t){this.ZR=t,this.KR=t.TD($m.wd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._C=0,n.gC=!1,n.mC=!0,n.yC=1,n.kC=!1,n.Da=1,n.Em=new ty,n.Km=rS.fC().qD(),n.Hg=NaN,n.Fg=!1,n.mu=void 0,n.zg=void 0,n.Dm=void 0,n.iy=!1,n._y=!0,n.gy=rS.fC().qD(),n.yy=ZT.wN,n.Y_=qg.Rg,n.py=rS.fC().qD(),n.QD=void 0,n.Rm=new Ep,n.Yg=0,n.Im=new ty,n.jg=0,n.by=new FT,n.uD=new xT,n}S(n,t);var i=n.prototype;return i.Fm=function(){},i.zm=function(){},i.Nm=function(){this.mC&&(this.mC=!1,this.Qs(new vm(this.Xg)),this.Qs(new cb(this.Xg)))},i.Cm=function(){this.mC||(this.mC=!0,this.Qs(new mm(this.Xg,this.Jm)),this.Qs(new fm(this.Xg)))},i.Om=function(t,n){return We.resolve()},i.xm=function(){return!1},i.Lm=function(){},i.Mm=function(){},i.Wm=function(){return oS},i.Zm=function(){},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this._C=0,this.kC=!1,this.Cm(),this.Qs(new cm(this._C));case 4:case"end":return t.stop()}},null,this,null,We)},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$s(),this.Em.Sd(),this.Rm.Sd(),this.Im.Sd();case 4:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Jm",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this._C},set:function(t){this._C!==t&&(this._C=t,this.kC=!0,this.Qs(new pm(this.Xg)))}},{key:"ey",get:function(){return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.gC=t,this.Qs(new Am(this.Xg,this.Qg)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.Qs(new gm(this.Xg,this.Gg)))}},{key:"qg",get:function(){return this.kC}},{key:"Qg",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Qs(new Am(this.Xg,this.Qg)))}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ZD",get:function(){return this.uD}}]),n}(wu)),hS=function(t){function n(n,i,e,r,s,u){var o,a=new aS;return(o=t.call(this,QT.Yn,a)||this).Pc=void 0,o.pC=void 0,o.bC=void 0,o.AC=void 0,o.lE=void 0,o.TC=void 0,o.SC=void 0,o.bC=n,o.Pc=i,o.lE=e,o.TC=r,o.AC=u,o.pC=new ce(s,o.AC),o.pC.EC(o.bC),a.wC=o.pC,o.SC=new KT(o.bC),o}S(n,t);var i=n.prototype;return i.Um=function(){t.prototype.Um.call(this),this.pC.IC()},i.Xm=function(t){var n,i,e,r;n=this,e=(i=t).Qg,r=i.Vg,n.Qg=e,n.Vg=r},i.Hm=function(){},i.TN=function(t){return t.kI(this.bC,this.pC,this.lE,this.Pc,this.TC,this.AC)},i.Vm=function(){return this.mN.Vm()},i.Gm=function(){return this.pC.RC.map(function(t){return t.SD})},i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Sd.call(this));case 2:this.pC.Sd(),this.SC.Sd();case 4:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"$m",get:function(){return this.bC}},{key:"Ay",get:function(){return this.mN.Ay},set:function(t){this.mN.Ay=t}}]),n}(tS),cS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).bC=void 0,r.DC=void 0,r.NC=void 0,r.BC=void 0,r.OC=void 0,r.oD=new FT,r.bC=n,r.DC=i,r.BC=new ty,r.OC=new Ep,r.NC=e,r}S(n,t);var i=n.prototype;return i.qm=function(t){return!0},i.zm=function(){},i.Nm=function(){throw this.Qs(new Im(this.NC)),this.DC},i.Cm=function(){},i.Bm=function(){},i.Om=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw nu(n),this.Qs(new Im(this.NC)),this.DC;case 3:case"end":return t.stop()}},null,this,null,We)},i.Fm=function(){},i.Pm=function(){return We.resolve()},i.Vm=function(){},i.Wm=function(){return oS},i.Gm=function(){return[]},i.Um=function(){},i.Xm=function(t){},i.Hm=function(){},i.xm=function(){return!1},i.Lm=function(){},i.Mm=function(){},i.Zm=function(){},i.k_=function(){return We.resolve()},i.Sd=function(){return this.$s(),this.BC.Sd(),this.OC.Sd(),We.resolve()},A(n,[{key:"Em",get:function(){return this.BC}},{key:"Km",get:function(){return rS.fC().qD()}},{key:"Jm",get:function(){return new Date(NaN)},set:function(t){}},{key:"Qm",get:function(){}},{key:"Xg",get:function(){return 0},set:function(t){}},{key:"Hg",get:function(){return 0}},{key:"$m",get:function(){return this.bC}},{key:"Fg",get:function(){return!0}},{key:"mu",get:function(){return this.DC}},{key:"zg",get:function(){return this.NC}},{key:"Dm",get:function(){}},{key:"ey",get:function(){return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!0}},{key:"Wg",get:function(){return!0}},{key:"Gg",get:function(){return 0},set:function(t){}},{key:"gy",get:function(){return rS.fC().qD()}},{key:"yy",get:function(){return ZT.wN},set:function(t){}},{key:"Y_",get:function(){return qg.Rg}},{key:"py",get:function(){return rS.fC().qD()}},{key:"qg",get:function(){return!1}},{key:"Rm",get:function(){return this.OC}},{key:"Yg",get:function(){return 0}},{key:"Im",get:function(){return this.BC}},{key:"jg",get:function(){return 0}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"iy",get:function(){return!1}}]),n}(Mg);function fS(t){if(t&&W(t))return Nr({},t,{integration:vS(t.integration),fairplay:mS(t.fairplay),widevine:lS(t.widevine),playready:dS(t.playready),clearkey:yS(t.clearkey),aes128:kS(t.aes128),integrationParameters:pS(t.integrationParameters),preferredKeySystems:bS(t.preferredKeySystems)})}function vS(t){if(q(t))return t}function lS(t){if(t&&W(t))return{persistentState:wS(t.persistentState),distinctiveIdentifier:wS(t.distinctiveIdentifier),audioRobustness:_S(t.audioRobustness),videoRobustness:_S(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:gS(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Uo(t.certificate)?t.certificate:void 0}}function dS(t){if(t){var n=lS(t);if(n)return Nr({},n,{customData:q(t.customData)?t.customData:void 0})}}function wS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function _S(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function gS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function mS(t){if(t){var n=lS(t);if(n)return Nr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function yS(t){if(t){var n=lS(t);if(n)return Nr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function kS(t){if(W(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function pS(t){if(W(t))return t}function bS(t){return t&&z(t)?t.map(function(t){return oA(t)}).filter(H):[Kr,jr,ns]}var AS,TS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(gu),SS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).xC=[],e.LC=void 0,e.MC=function(t){au(function(){e.js(t)})},e.LC=i?e.MC:e.js,e}S(n,t);var i=n.prototype;return i.UC=function(t){t.Js(this.LC),this.xC.push(t)},i.XC=function(t){t.ou(this.LC),Us(this.xC,t)},i.Sd=function(){this.$s();for(var t=0,n=this.xC;t<n.length;t++){n[t].ou(this.LC)}zs(this.xC)},n}(Lg),ES=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(SS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(AS||(AS={}));var IS,RS=function(t){function i(n){var i;return(i=t.call(this)||this).HC=void 0,i.FC=void 0,i.zC=!1,i.VC=!1,i.WC=void 0,i.GC=void 0,i.qC=void 0,i.Ww=void 0,i.YC=function(){return i.jC()},i.QC=function(){return i.ZC()},i.qC=n,i.HC=i.FC=i.WC=i.GC=AS.INLINE,i.qC.Zs(iS.r_,i.YC),i.qC.Zs(iS.z_,i.QC),i.KC(),i}S(i,t);var e=i.prototype;return e.qw=function(){return t=this,i={get currentMode(){return t.JC()},requestMode:function(n){var i=NS(n);i&&t.$C(i)},supportsMode:function(n){var i=NS(n);return!!i&&t.tP(i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new SS(i,!0)).UC(t),i;var t,n,i},e.$C=function(t){this.nP(t,t)},e.nP=function(t,n){this.FC!==n&&(this.zC=!0,this.HC=t,this.iP(n,this.FC),t!==AS.FULLSCREEN&&(this.WC=t),this.zC=!1,this.KC())},e.JC=function(){return this.VC?AS.FULLSCREEN:AS.INLINE},e.tP=function(t){switch(t){case AS.FULLSCREEN:return this.qC.dC;case AS.INLINE:return!0}return!1},e.KC=function(){if(!this.zC){var t=this.FC,n=this.JC();this.FC=n,n!==AS.FULLSCREEN&&(this.GC=n),t!==n&&this.Qs(new TS(n))}},e.iP=function(t,n){var i=t===AS.FULLSCREEN;this.VC=i,i!==this.qC.lC&&(i?this.qC.Xy():this.qC.Fy())},e.jC=function(){if(!this.zC){var t=this.qC.lC;this.VC=t,t?this.nP(AS.FULLSCREEN,AS.FULLSCREEN):t||this.HC!==AS.FULLSCREEN?this.KC():this.nP(this.WC,this.GC)}},e.ZC=function(){this.jC(),this.Qs(new Im(new nf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Sd=function(){this.qC.Sd(),this.$s()},A(i,[{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),i}(Lg),DS={Xg:0,Hg:NaN,Fg:!1,mu:void 0,zg:void 0,Vg:!1,Wg:!0,Gg:1,Y_:qg.Rg,qg:!1,Yg:0,jg:0,Qg:1};function NS(t){switch(t){case AS.INLINE:case AS.FULLSCREEN:case AS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(IS||(IS={}));var CS,PS,BS,OS,xS,LS,MS,US,XS=function(){function t(){this.eP=[]}var n=t.prototype;return n.rP=function(t){var n=this.sP.filter(function(n){return n.uP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.oP=function(t){this.eP.push(t)},A(t,[{key:"sP",get:function(){return this.eP}}]),t}();XS.Yn=new XS,function(t){t.Ug="PLAYING",t.dm="PAUSED",t.aP="SEEK",t.hP="STALLED",t.cP="FAILED",t.fP="INITIAL_BUFFERING",t.vP="NO_ACCESS"}(CS||(CS={})),function(t){t.lP="HTTP_REQUEST_STATUS_CODE_1XX",t.dP="HTTP_REQUEST_STATUS_CODE_2XX",t.wP="HTTP_REQUEST_STATUS_CODE_3XX",t._P="HTTP_REQUEST_STATUS_CODE_4XX",t.gP="HTTP_REQUEST_STATUS_CODE_5XX",t.mP="BUFFER_LENGTH",t.yP="BYTES_RECEIVED",t.kP="SEGMENT_READ_BITRATE",t.pP="SEGMENT_PROFILE_BITRATE",t.bP="NUMBER_OF_FRAMES_DROPPED",t.AP="PLAYBACK_POSITION",t.TP="NUMBER_OF_FRAMES_DECODED",t.SP="PLAYBACK_DELTA_TO_ORIGIN",t.EP="STREAM_DELTA_TO_ORIGIN",t.IP="ORIGIN_TIMESTAMP"}(PS||(PS={})),function(t){t.RP="MANIFEST_URI",t.DP="ASSET_DURATION",t.NP="NUMBER_OF_CONTENT_PROFILES",t.CP="CDN",t.PP="CONTENT_TITLE",t.BP="SERVICE_NAME",t.OP="CONTENT_TYPE",t.xP="CONTENT_DESCRIPTION"}(BS||(BS={})),function(t){t.LP="shutdown_normal_shutdown"}(OS||(OS={})),function(t){t.MP="session/",t.UP="internalError/",t.XP="drmError/",t.HP="caError/",t.FP="networkError/"}(xS||(xS={})),function(t){t.zP="userAction",t.VP="endOfStreamReached"}(LS||(LS={})),function(t){t.PAUSE="WP",t.RESUME="GP"}(MS||(MS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(US||(US={}));var HS,FS,zS,VS,WS,GS="agama";function qS(t){return function(t){switch(t){case HS.NONE:case HS.HORIZONTAL:case HS.VERTICAL:return!0;default:return!1}}(t)?t:HS.NONE}function YS(t){switch(t){case"":return HS.NONE;case"horizontal":return HS.HORIZONTAL;case"vertical":return HS.VERTICAL;default:throw new l}}function jS(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return FS.dN;switch(t){case"always":return FS.qP;case"never":return FS.YP;case"clear-only":return FS.CLEAR_ONLY;case"same-drm-only":return FS.SAME_DRM_ONLY;default:return FS.dN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function QS(t){if(!t||!q(t))return zS.dN;switch(t){case"playlist":return zS.jP;case"media":return zS.QP;default:return zS.dN}}function ZS(t,n){return t.length>0?t:n.length>0?n:void 0}function KS(t){if(null!==t)return t}function JS(t){var n={};if(!W(t))return n;var i=t;for(var e in i)if(d.prototype.hasOwnProperty.call(i,e)){var r=i[e];q(r)&&(n[e]=r)}return n}function $S(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:KS(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:KS(t.authToken),omidAccessModeRules:t.omidAccessModeRules?JS(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.gr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.gr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.gr("A Live DAI configuration was provided without valid assetKey which is required.")}i.gr("A DAI configuration was provided without a valid availabilityType which is required.")}function tE(t){if(!$b(t)||!t.integration)return t;switch(t.integration){case pb:return n=t,i=uA(zr.$r,n),e=uA(zr.Jr,n),r=n[zr.us]&&uA(zr.us,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(HS||(HS={})),function(t){t.dN="auto",t.qP="always",t.YP="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(FS||(FS={})),function(t){t.dN="auto",t.jP="playlist",t.QP="media"}(zS||(zS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(VS||(VS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(WS||(WS={}));var nE="https://content.uplynk.com";function iE(t){if(!t)return!0;var n,i,e=!(im(n=t.sources)||V(n)&&im(n[0]))||em(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function eE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(nm(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function rE(t,n,i){return $g(t)?function(t,n,i){var e=Nr({},rm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:VS.VERIZON_MEDIA,id:"",prefix:nE,preplayParameters:{},playbackUrlParameters:{},assetType:WS.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return WS.CHANNEL;case"event":return WS.EVENT;case"asset":default:return WS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=dg(t.contentProtected));t.assetInfo?e.assetInfo=dg(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=gg(t.prefix)||nE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,h=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=Y(o.linearAdData)?o.linearAdData:u!==WS.ASSET):u!==WS.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=uE(e=oE(e=sE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=sm(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=Qg(t),r){var s=fS(r);e.contentProtection=tE(s)}}else if(nm(t)||Jg(t)){e.src=t.src,e.type=t.type||Qg(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Vg.Eg||t.type===Vg.Ig}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=fS(a);e.contentProtection=tE(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return $S(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=sE(e,t)}var c;return e=uE(e=oE(e,n,i),t,i)}(t,n,i)}function sE(t,n){var i,e;n.useCredentials?t.crossOrigin=zg.Sg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case zg.Tg:case zg.Sg:return t;default:return zg.Ag}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=dg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=dg(n.useNativePlayback)),n.dash&&(t.dash=jS(n.dash)),n.hls&&(t.hls={discontinuityAlignment:QS(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=dg(n.lcevc));var r=void 0!==n.experimentalRendering?dg(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?dg(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function uE(t,n,i){return t.abr=function(t,n){var i=mg(null==t?void 0:t.preferredAudioCodecs,gg),e=mg(null==t?void 0:t.preferredVideoCodecs,gg),r=mg(null==n?void 0:n.preferredAudioCodecs,gg),s=mg(null==n?void 0:n.preferredVideoCodecs,gg),u=ZS(i,r),o=ZS(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function oE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===zg.Ag&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=zg.Tg),t.useCredentials=t.crossOrigin===zg.Sg,q(r)&&!t.timeServer&&(t.timeServer=r),t}function aE(t){var n={src:""};if(t&&t.src){if(n.src=gg(t.src),"default"in t&&(n.default=dg(t.default)),n.kind=Rp(t.kind),function(t){switch(t){case wy.DEFAULT:case wy.SRT:case wy.TTML:case wy.WEBVTT:case wy.EMSG:case wy.EVENT_STREAM:case wy.ID3:case wy.CEA608:case wy.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function hE(t,n){if(G(t))try{return n.rP(t).ZP(t)}catch(t){return}}function cE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function fE(t){return t.integration===IS.SPOTX&&!m(t.id)}function vE(t){return"freewheel"===t.integration}function lE(t,n,i){if(void 0===i&&(i=XS.Yn),iE(t))return{sources:[sm()]};var e=cg(t);if(e.sources=function(t,n,i){if(im(t))return[rE(t,n,i)];if(V(t)&&im(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(rE(s,n,i))}return e}return[sm()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=hE(s,n))&&(cE(s)||fE(s)||vE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!em(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=aE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=gg(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=qS(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?YS(u.stereoMode):HS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=om(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=cg(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==GS&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Rm(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=wg(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var dE=function(){function t(t){this.KP=t}return t.prototype.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.KP.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KP.indexOf(t.charAt(n))<<18|this.KP.indexOf(t.charAt(n+1))<<12|(s=this.KP.indexOf(t.charAt(n+2)))<<6|(u=this.KP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.$P=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.KP.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.KP.charAt(e)+this.KP.charAt(r)+this.KP.charAt(s)+this.KP.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.eb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.tB=new t(t.eb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function wE(t){return"string"==typeof t}function _E(t){return"number"==typeof t}var gE={}.toString;var mE,yE=Array.isArray||function(t){return"[object Array]"===gE.call(t)};function kE(t,n){return yE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(mE||(mE={}));var pE,bE=d.keys(mE).map(function(t){return mE[t]});function AE(t){return-1!==bE.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(pE||(pE={}));var TE,SE=d.keys(pE).map(function(t){return pE[t]});function EE(t){return-1!==SE.indexOf(t)}function IE(t){try{var n=dE.tB.JP(t),i=JSON.parse(n);if(!function(t,n){var i,e=(l=t,"object"==typeof l&&null!==l),r=wE(t.key),s=wE(t.customer_id),u=_E(t.generation_date),o=_E(t.expiration_date),a=kE(t.domains_page,wE),h=kE(t.domains_source,wE),c=kE(t.sdks,n?AE:wE),f=(v=t.send_impression,"boolean"==typeof v);var v;var l;t.features?i=kE(t.features,n?EE:wE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function RE(){return TE||(TE={Ql:de.href,nB:le.parent&&le.parent!==r,iB:CE()}),TE}var DE,NE=["http:","https:","ftp:","ws:","wss:"];function CE(){try{return le.top.location.href}catch(t){return le&&le.document&&le.document.referrer}}!function(t){t[t.eB=0]="eB",t[t.rB=1]="rB",t[t.sB=2]="sB"}(DE||(DE={}));var PE,BE=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.uB=t,this.oB=n,this.aB=i,this.hB=e,this.cB=r,this.fB=s,this.vB=u,this.lB=o,this.dB=a};!function(t){t.rB="expired",t.wB="invaliddomain",t._B="invalidsource",t.gB="invalidfeature",t.z_="error"}(PE||(PE={}));var OE=function(){function t(t,n,i){this.mB=void 0,this.yB=t,this.kB=n,this.Qo=i,this.mB=HE(this.Qo)}var n=t.prototype;return n.pB=function(t,n){var i=this;if(!iE(t)&&0!==n.aB.length&&!ME(n.aB)){var e=[];if(im(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.bB(t,n)})){var r=PE._B,s=zE.AB(r);throw new nf(xE(r),s)}}},n.TB=function(n){return this.SB(n.lB)&&this.EB(n)?t.IB(n.hB)?DE.eB:DE.rB:DE.sB},n.RB=function(t,n){if(!Fs(n.cB,t)){var i=PE.gB,e=zE.AB(i);throw new nf(xE(i),e)}},n.SB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.DB(t)})},n.DB=function(t){return"ios"===function(t){switch(t){case mE.ANDROID:return e.g;case mE.ANDROIDTV:case mE.FIRETV:return e.I;case mE.IOS:return e.R;case mE.TVOS:return e.N;case mE.CHROMECAST:case mE.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.IB=function(t){var n=Number(new Date);return!!t&&n<=t},n.EB=function(t){return!(this.mB&&0!==t.oB.length&&!ME(t.oB))||!!(this.mB&&this.NB(t.oB)&&this.CB(t.oB))},n.NB=function(t){return UE(this.Qo.Ql,t)},n.CB=function(t){if(!this.Qo.nB)return!0;if(this.yB)return!0;var n=this.PB();return!!n&&UE(n,t)},n.PB=function(){if(this.Qo.nB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.iB?this.Qo.iB:void 0}},n.bB=function(n,i){return!!t.BB(n,i.aB)},t.BB=function(t,n){return UE(this.OB(t),n)},t.OB=function(t){return q(t)?t:nm(t)&&t.src||""},t}();function xE(t){switch(t){case PE.wB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case PE._B:return n.ErrorCode.LICENSE_INVALID_SOURCE;case PE.rB:return n.ErrorCode.LICENSE_EXPIRED;case PE.gB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case PE.z_:return n.ErrorCode.LICENSE_ERROR}}function LE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function ME(t){return t.some(function(t){return"*"===t})}function UE(t,n){var e=i.Br(t);if(!XE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(LE(e.hostname,s))return!0;if(LE(vw(t),s))return!0}return!1}function XE(t){return-1!==NE.indexOf(t.protocol)}function HE(t){var n=i.Br(t.Ql);return XE(n)&&!LE(n.hostname,"localhost")&&!function(t){return LE(t.hostname,"theoplayer.doubleclick.net")}(n)}var FE,zE=function(){function t(){}return t.AB=function(t){return t===PE.wB?this.xB:t===PE._B?this.LB:t===PE.rB?this.MB:t===PE.gB?this.UB:this.XB},t}();function VE(t){var n=[t.fS,t.HB,t.FB];switch(t.HB){case FE.zB:n.push(t.Z_);break;case FE.VB:n.push(t.Xg),n.push(t.mu);break;case FE.WB:n.push(t.mu)}return n}zE.XB="The license for this player is invalid.",zE.MB="The usage license for this video player has expired.",zE.xB="The current domain is incompatible with the license for this player.",zE.LB="The provided video source is incompatible with the license for this player.",zE.UB="The requested feature is not available with the license for this player.",function(t){t[t.zB=1]="zB",t[t.VB=4]="VB",t[t.WB=5]="WB"}(FE||(FE={}));for(var WE=new Array(256),GE=0;GE<256;GE+=1)WE[GE]=(GE<16?"0":"")+GE.toString(16);function qE(){var t=Vt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return WE[255&n]+WE[n>>>8&255]+WE[n>>>16&255]+WE[n>>>24&255]+"-"+WE[255&i]+WE[i>>>8&255]+"-"+WE[i>>>16&15|64]+WE[i>>>24&255]+"-"+WE[63&e|128]+WE[e>>>8&255]+"-"+WE[e>>>16&255]+WE[e>>>24&255]+WE[255&r]+WE[r>>>8&255]+WE[r>>>16&255]+WE[r>>>24&255]}var YE=function(){function t(t){this.KP=void 0,this.KP=t}var n=t.prototype;return n.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.KP.indexOf(t.charAt(n))<<18|this.KP.indexOf(t.charAt(n+1))<<12|(s=this.KP.indexOf(t.charAt(n+2)))<<6|(u=this.KP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.$P=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.KP.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.KP.charAt(i)+this.KP.charAt(e)+this.KP.charAt(r)+this.KP.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function jE(){return i.ir()}YE.eb=new YE(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),YE.tB=new YE(YE.eb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var QE,ZE="theoplayer-session-id";function KE(){if(!QE){var t=mf.Iu(ZE);t?QE=t:(QE=qE(),mf.ef(ZE,QE))}return QE}var JE=/[^\x00-\x7E]/g;function $E(t){return"\\u"+gs(t.charCodeAt(0).toString(16),4,"0")}var tI=0,nI=1,iI=6e4;function eI(t){var n,i,e,r,s,u=(n=function(t){return[t.GB,t.nc,t.uB,t.EA,t.qB,t.YB,t.jB.map(VE)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(JE,$E));return YE.tB.$P(u)}var rI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=YE.eb),void 0===r&&(r=tI),void 0===s&&(s=nI),this.QB=[],this.ZB=null,this.KB=0,this.JB="unknown",this.Fa=0,this.$B=void 0,this.tO=function(){jE()-u.KB>iI&&u.Pe()},this.nO=function(){u.Pe(!0)},this.wh=t,this.lE=n,this.iO=i,this.eO=e,this.rO=r,this.sO=s,ve.uO(this.nO),this.$B=c(this.tO,iI)}var n=t.prototype;return n.oO=function(){return Boolean(this.qB)},n.aO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:if(i.sent.dB){i.next=5;break}return i.abrupt("return");case 5:return n={HB:FE.zB,FB:Vt(),Z_:t},i.next=8,Dr.awrap(this.cO(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.fO=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={HB:FE.VB,FB:Vt(),Xg:n,mu:t},e.next=3,Dr.awrap(this.cO(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.vO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={HB:FE.WB,FB:Vt(),mu:t},i.next=3,Dr.awrap(this.cO(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.cO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.eO.$P(n.uB)){i.next=6;break}if(t.HB===FE.WB){i.next=6;break}return i.abrupt("return");case 6:if(t.HB===FE.zB?this.lO():this.oO()||this.lO(),t.fS=this.Fa++,this.QB.push(t),(e=t.HB)!==FE.zB&&e!==FE.WB){i.next=14;break}return i.next=12,Dr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.QB.length>this.rO)){i.next=19;break}return i.next=17,Dr.awrap(this.dO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.Pe=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.QB.length>0)){n.next=6;break}return n.next=4,Dr.awrap(this.dO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.wO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:return n=i.sent,i.abrupt("return",{GB:Vt(),nc:KE(),uB:this.eO.$P(n.uB)||"dev",EA:this.wh,qB:this.ZB,YB:this.JB,jB:t});case 4:case"end":return i.stop()}},null,this,null,We)},n.dO=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.QB.splice(0,this.sO),e.next=4,Dr.awrap(this.wO(n));case 4:i=e.sent,t?this.Td(i):this._O(i),this.KB=jE();case 7:case"end":return e.stop()}},null,this,null,We)},n._O=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=eI(t),i=new rw({Ql:"https://license.theoplayer.com",Cl:n,bd:!1,Wl:Af.$n,Vl:{"Content-Type":HA.qI},yd:4e3,md:$d.POST}),r.prev=2,r.next=5,Dr.awrap(this.lE.Yl(i));case 5:return e=r.sent,r.next=8,Dr.awrap(e.Rl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.Td=function(t){var n=eI(t);this.lE.Td({Ql:"https://license.theoplayer.com",Cl:n,Nl:HA.qI})},n.lO=function(){this.oO()&&this.Pe(),this.ZB=qE(),this.Fa=0},n.Sd=function(){ve.gO(this.nO),f(this.$B),this.Pe()},A(t,[{key:"jB",get:function(){return this.QB}},{key:"qB",get:function(){return this.ZB}}]),t}();var sI=M.Rn||M.hn&&M.On<13;function uI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var oI=function(){function t(t){this.fN=void 0,this.Ww=void 0,this.mO=void 0,this.fN=t}var n=t.prototype;return n.yO=function(t){if(!t||!t.drawImage)return!1;var n=this.fN.Vm();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.kO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.fN,a=o.Vm();if(!a)return!1;if(sI){this.mO||(this.mO=s.createElement("canvas"));var h=this.mO,c=h.getContext("2d"),f=o.jg,l=o.Yg,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===l||(h.width=f,h.height=l),c.drawImage(a,0,0,f,l);var _=!1;f>0&&uI(c,f-1,0)&&(h.width=d,_=!0),l>0&&uI(c,0,l-1)&&(h.height=w,_=!0),_&&c.drawImage(a,0,0,f,l),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Gw",get:function(){return this.Ww||(this.Ww=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.yO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.kO(n,i,e,r,s,u)}}));var t}}]),t}(),aI=function(t){function n(n,i){var e;return(e=t.call(this,"pO")||this).Tk=n,e.sT=i,e}return S(n,t),n.prototype.qw=function(){return new hI(this.Tk,this.sT)},n}(j_),hI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(gu),cI=function(t,n){this.$m=void 0,this.bO=void 0,this.$m=t,this.bO=n},fI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).AO=void 0,e.TO=0,e.SO=0,e.EO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.SO=n.width,e.TO=n.height,e.bO(e.SO,e.TO)}},e.AO=new le.ResizeObserver(e.EO),e.AO.observe(e.$m),e}return S(n,t),n.prototype.Sd=function(){this.AO.disconnect()},A(n,[{key:"IO",get:function(){return this.TO}},{key:"RO",get:function(){return this.SO}}]),n}(cI),vI=0;var lI,dI=h,wI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,_I=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function gI(){return lI||(lI=le&&le.document&&le.document.createElement("span")),lI}wI&&_I||(wI=function(t){var n=jE(),i=w.max(0,16-(n-vI)),e=a(function(){return t(n+i)},i);return vI=n+i,e},_I=dI),wI=wI.bind(t),_I=_I.bind(t);var mI=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==le&&"function"==typeof le.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});le.addEventListener("testPassiveEventSupport",K,n),le.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}}();var yI=Pr();function kI(t){return yI.has(t)||yI.set(t,function(t){var n=gI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<mI.length;e++){var r=mI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),yI.get(t)}function pI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function bI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[kI("transition")]="0s"}var AI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).DO=void 0,u.CO=0,u.SO=NaN,u.TO=NaN,u.PO=void 0,u.BO=void 0,u.OO=void 0,u.xO=void 0,u.LO=void 0,u.k_=function(){u.BO.style.width=1e5+"px",u.BO.style.height=1e5+"px",u.PO.scrollLeft=1e5,u.PO.scrollTop=1e5,u.OO.scrollLeft=1e5,u.OO.scrollTop=1e5,0===u.OO.scrollTop&&wI(u.k_)},u.MO=function(){var t=u.RO,n=u.IO;u.bO(t,n),u.SO=t,u.TO=n,u.k_(),u.CO=0},u.UO=function(){if(!u.CO){var t=u.RO,n=u.IO;t===u.SO&&n===u.TO||(u.CO=wI(u.MO))}},u.XO=function(){u.LO||(u.LO=a(u.HO,66))},u.HO=function(){u.LO=void 0,u.FO()},u.FO=function(){u.UO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.DO=c,u.PO=s.createElement("div"),u.BO=s.createElement("div"),u.OO=s.createElement("div"),u.xO=s.createElement("div"),pI(u.PO),pI(u.OO),bI(u.BO),bI(h=u.xO),h.style.width="200%",h.style.height="200%",c.appendChild(u.PO),c.appendChild(u.OO),u.PO.appendChild(u.BO),u.OO.appendChild(u.xO),n.appendChild(c),u.PO.addEventListener("scroll",u.UO),u.OO.addEventListener("scroll",u.UO),r&&r.addEventListener("resize",u.XO),u.UO(),u}return S(n,t),n.prototype.Sd=function(){_I(this.CO),this.CO=0,this.PO.removeEventListener("scroll",this.UO),this.OO.removeEventListener("scroll",this.UO),$e(this.DO),r&&r.removeEventListener("resize",this.XO)},A(n,[{key:"IO",get:function(){return this.$m.getBoundingClientRect().height||this.TO||0}},{key:"RO",get:function(){return this.$m.getBoundingClientRect().width||this.SO||0}}]),n}(cI),TI=function(t){function n(n){var i;return(i=t.call(this)||this).$m=void 0,i.AO=void 0,i.EO=function(t,n){i.Qs(new aI(t,n))},i.$m=n,i}S(n,t);var i=n.prototype;return i.hc=function(t){this.AO||("function"==typeof le.ResizeObserver?this.AO=new fI(this.$m,this.EO):this.AO=new AI(this.$m,this.EO,t))},i.Sd=function(){this.$s(),this.AO&&(this.AO.Sd(),this.AO=void 0)},A(n,[{key:"IO",get:function(){return this.AO?this.AO.IO:0}},{key:"RO",get:function(){return this.AO?this.AO.RO:0}}]),n}(wu),SI=function(t){function n(){return t.call(this,iS.r_)||this}return S(n,t),n}(gu);var EI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{zO:i[0],VO:i[1],WO:i[2],GO:i[3],qO:i[4],YO:i[5]}}}(),II=function(t){function n(){return t.call(this,iS.vC)||this}return S(n,t),n}(gu),RI=function(t){function n(i){var e;return(e=t.call(this)||this).$m=void 0,e.dC=void 0,e.lC=!1,e.jO=function(){return e.YC()},e.QO=function(){return e.QC()},e.$m=i,e.dC=n.ZO(i),s.addEventListener(EI.qO,e.jO),e.YC(),e}S(n,t),n.ZO=function(t){return Boolean(EI&&s[EI.GO]&&EI.zO in t)};var i=n.prototype;return i.Xy=function(){var t=this.$m[EI.zO]();t&&t.then?t.then(this.jO,this.QO):(s.removeEventListener(EI.YO,this.QO),s.addEventListener(EI.YO,this.QO))},i.Fy=function(){var t=s[EI.VO]();t&&t.then?t.then(this.jO,this.QO):(s.removeEventListener(EI.YO,this.QO),s.addEventListener(EI.YO,this.QO))},i.YC=function(){var t=this.lC,n=this.$m===s[EI.WO];this.lC=n,t!==n&&this.Qs(new SI)},i.QC=function(){this.Qs(new uS)},i.Sd=function(){this.$s(),s.removeEventListener(EI.qO,this.jO),s.removeEventListener(EI.YO,this.QO)},n}(wu),DI=function(t){function n(i){var e;return(e=t.call(this)||this).$m=void 0,e.dC=void 0,e.lC=!1,e.jO=function(){return e.YC()},e.$m=i,e.dC=n.ZO(i),e.$m.addEventListener("webkitbeginfullscreen",e.jO),e.$m.addEventListener("webkitendfullscreen",e.jO),e.$m.addEventListener("webkitpresentationmodechanged",e.jO),e.YC(),e}S(n,t),n.ZO=function(t){return M.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Xy=function(){var t=this;this.$m.webkitSupportsPresentationMode&&this.$m.webkitSupportsPresentationMode("fullscreen")?M.hn?requestAnimationFrame(function(){return t.$m.webkitSetPresentationMode("fullscreen")}):this.$m.webkitSetPresentationMode("fullscreen"):this.$m.webkitEnterFullscreen()},i.Fy=function(){this.$m.webkitSupportsPresentationMode&&this.$m.webkitSupportsPresentationMode("inline")?this.$m.webkitSetPresentationMode("inline"):this.$m.webkitExitFullscreen()},i.YC=function(){var t,n=this.lC;t=this.$m.webkitPresentationMode?"fullscreen"===this.$m.webkitPresentationMode:!!this.$m.webkitDisplayingFullscreen,this.lC=t,n!==t&&this.Qs(new SI)},i.Sd=function(){this.$s(),this.$m.removeEventListener("webkitbeginfullscreen",this.jO),this.$m.removeEventListener("webkitendfullscreen",this.jO),this.$m.removeEventListener("webkitpresentationmodechanged",this.jO)},n}(wu),NI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KO=[],n.JO=void 0,n.VC=!1,n.YC=function(){var t=n.VC,i=n.$O();t!==i&&(n.VC=i,n.Qs(new SI))},n}S(n,t);var i=n.prototype;return i.Xy=function(){this.JO?this.JO.Xy():this.Qs(new uS)},i.Fy=function(){for(var t=0,n=this.KO;t<n.length;t++){var i=n[t];i.lC&&i.Fy()}},i.tx=function(t){this.JO=t},i.nx=function(t){this.KO.push(t),t.Zs(iS.r_,this.YC),t.Zs(iS.z_,this.js),this.YC()},i.ix=function(t){Us(this.KO,t),t.tu(iS.r_,this.YC),t.tu(iS.z_,this.js)},i.$O=function(){for(var t=0,n=this.KO;t<n.length;t++){if(n[t].lC)return!0}return!1},i.k_=function(){this.JO=void 0,this.VC=!1;for(var t=this.KO.slice(),n=0;n<t.length;n++){var i=t[n];this.ix(i),i.Sd()}this.YC()},i.Sd=function(){this.$s(),this.k_()},A(n,[{key:"dC",get:function(){return!!this.JO&&this.JO.dC}},{key:"lC",get:function(){return this.VC}}]),n}(wu),CI=function(t){function n(n,i){var e;return(e=t.call(this)||this).fN=void 0,e.ex=void 0,e.sx=void 0,e.ux=!1,e.ox=function(){return e.Zh()},e.YC=function(t){e.ux||e.Qs(t)},e.fN=n,e.ex=i,e.sx=oS,e.ax(),e.fN.Zs(bf.yf,e.ox),e.Zh(),e}S(n,t);var i=n.prototype;return i.Xy=function(){this.ex&&this.sx.Xy()},i.Fy=function(){this.sx.Fy()},i.ax=function(){this.sx.Zs(iS.r_,this.YC),this.sx.Zs(iS.z_,this.js)},i.hx=function(){this.sx.tu(iS.r_,this.YC),this.sx.tu(iS.z_,this.js)},i.Zh=function(){var t=this.sx,n=this.fN.Wm();if(t!==n){this.ux=!0;var i=this.lC,e=this.dC;i&&this.Fy(),this.hx(),this.sx=n,this.ax(),i&&!this.lC&&this.dC?this.Xy():this.Fy(),this.ux=!1,e!==this.dC&&this.Qs(new II),i!==this.lC&&this.Qs(new SI)}},i.Sd=function(){this.$s(),this.hx(),this.fN.tu(bf.yf,this.ox)},A(n,[{key:"dC",get:function(){return!!this.ex&&this.sx.dC}},{key:"lC",get:function(){return this.sx.lC}}]),n}(wu);function PI(t){var n;return{get url(){return t.Ql},get method(){return t.md},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},get useCredentials(){return t.bd},get type(){return MI(t.fs)},get subType(){return XI(t.kd)},get mediaType(){return FI(t.pd)},get responseType(){return OI(t.Wl)}}}function BI(t){switch(t.toLowerCase()){case"arraybuffer":return Af.Gf;case"json":return Af.qf;case"stream":return Af.Yf;case"text":default:return Af.$n}}function OI(t){return t}function xI(t){switch(t.toUpperCase()){case"POST":return $d.POST;case"PUT":return $d.PUT;case"DELETE":return $d.DELETE;case"HEAD":return $d.HEAD;case"OPTIONS":return $d.OPTIONS;case"GET":default:return $d.GET}}function LI(t){switch(t.toLowerCase()){case"manifest":return tw.Jl;case"segment":return tw.$l;case"content-protection":return tw.td;default:return tw.Kl}}function MI(t){return t}function UI(t){switch(t.toLowerCase()){case"initialization-segment":return nw.ed;case"fairplay-license":return nw.rd;case"fairplay-certificate":return nw.ud;case"widevine-license":return nw.od;case"widevine-certificate":return nw.hd;case"playready-license":return nw.fd;case"clearkey-license":return nw.vd;case"aes128-key":return nw.ld;default:return nw.Kl}}function XI(t){return t}function HI(t){switch(t.toLowerCase()){case"audio":return iw.dd;case"video":return iw.wd;case"text":return iw.$n;case"image":return iw._d;case"":default:return iw.Kl}}function FI(t){return t}var zI=function(){function t(t,n){this.vx=new Go,this.lx=[],this.Ww=void 0,this.wx=!1,this.Md=void 0,this._x=0,this.gx=t,this.mx=n}var n=t.prototype;return n.wA=function(){this.wx=!0,this.vx.Wu(null)},n.yx=function(){this.vx.Gu(new Cd(this.lx))},n.kx=function(t){if(!this.bx)throw new l("Cannot respond more than once");if(!W(t))throw new l("Expected valid response");this.Md=this.Ax(t),this.wA()},n.Tx=function(){try{var t=this.mx(this.Gw);t?this.Sx(t):this.Ex||this.Ix||this.wA()}catch(t){this.lx.push(t),this.yx()}},n.Sx=function(t){if(this.Ix)throw new v("Request has been redirected or a response already exists");if(j(t))this.Rx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Go;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});j(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.Rx(n.Hu)}},n.Rx=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this._x++,n.next=4,Dr.awrap(t);case 4:this._x--,this.Ex||this.Ix||(this.lx.length?this.yx():this.wA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this._x--,this.lx.push(n.t0),this.Ex||this.Ix||this.yx();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},A(t,[{key:"Dx",get:function(){return this.vx.Hu}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.Nx()),this.Ww}},{key:"Ix",get:function(){return this.wx}},{key:"bx",get:function(){return!this.wx}},{key:"Ex",get:function(){return this._x>0}},{key:"Ud",get:function(){return this.Md}}]),t}(),VI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Cx=void 0,r.Cx=e,r.Tx(),r}S(n,t),n.Px=function(t,n,i){var e=void 0===t.body?i:t.body;return new ew({Fi:e,Yl:n.Yl,Wl:n.Yl.Wl,Vl:t.headers,zl:t.status,Gl:t.statusText,jl:t.url,ql:!0},n)};var i=n.prototype;return i.Nx=function(){return i=PI((t=this).Yl),{get closed(){return!t.bx},get request(){return i},get url(){return t.Ql},get status(){return t.zl},get statusText(){return t.Gl},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},respondWith:function(n){return t.kx(n)},waitUntil:function(n){return t.Sx(n)}};var t,n,i},i.Ax=function(t){return n.Px(t,this.gx,this.Cx)},A(n,[{key:"Cl",get:function(){return this.Cx}},{key:"Vl",get:function(){return this.gx.Vl}},{key:"Yl",get:function(){return this.gx.Yl}},{key:"Ud",get:function(){return this.Md}},{key:"zl",get:function(){return this.gx.zl}},{key:"Gl",get:function(){return this.gx.Gl}},{key:"Ql",get:function(){return this.gx.jl}}]),n}(zI),WI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Bx=void 0,r.Ox=void 0,r.Ox=e,r.Tx(),r}S(n,t);var i=n.prototype;return i.Nx=function(){return t=this,{get url(){return t.Ql},get method(){return t.md},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},get closed(){return!t.bx},get useCredentials(){return t.bd},get type(){return MI(t.fs)},get subType(){return XI(t.kd)},get mediaType(){return FI(t.pd)},get responseType(){return OI(t.Wl)},redirect:function(n){return t.xx(n)},respondWith:function(n){return t.kx(n)},waitUntil:function(n){return t.Sx(n)}};var t,n},i.Ax=function(t){var n=this.gx.Cl,i=new ew({Fi:n,Vl:{},Yl:this.gx,jl:this.gx.Ql,Wl:this.gx.Wl,zl:200,Gl:"OK"});return VI.Px(t,i,n)},i.xx=function(t){if(!this.bx)throw new l("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.Bx=function(t,n){return new rw({Ql:void 0===t.url?n.Ql:t.url,md:void 0!==t.method?xI(t.method):void 0,Vl:t.headers,Cl:t.body,bd:t.useCredentials,fs:void 0!==t.type?LI(t.type):void 0,kd:void 0!==t.subType?UI(t.subType):void 0,pd:void 0!==t.mediaType?HI(t.mediaType):void 0,Wl:void 0!==t.responseType?BI(t.responseType):void 0},n)}(n,this.gx),this.wA()},A(n,[{key:"Cl",get:function(){return this.gx.Cl}},{key:"bx",get:function(){return this.Ox&&!this.wx}},{key:"Vl",get:function(){return this.gx.Vl}},{key:"md",get:function(){return this.gx.md}},{key:"Lx",get:function(){return this.Bx}},{key:"Ud",get:function(){return this.Md}},{key:"Wl",get:function(){return this.gx.Wl}},{key:"yd",get:function(){return this.gx.yd}},{key:"Ws",get:function(){return this.gx.Ws}},{key:"fs",get:function(){return this.gx.fs}},{key:"kd",get:function(){return this.gx.kd}},{key:"pd",get:function(){return this.gx.pd}},{key:"Ql",get:function(){return this.gx.Ql}},{key:"bd",get:function(){return this.gx.bd}},{key:"Ad",get:function(){return this.gx.Ad}}]),n}(zI);var GI,qI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new YI(n);return(e=t.call(this,r,i)||this).Mx=void 0,e.Mx=r,e}S(n,t);var i=n.prototype;return i.Ux=function(t){this.Mx.Ux(t)},i.Xx=function(t){this.Mx.Xx(t)},i.Hx=function(t){this.Mx.Hx(t)},i.Fx=function(t){this.Mx.Fx(t)},i.zx=function(t){this.Mx.zx(t)},n}(uw),YI=function(){function t(t){this.Ed=void 0,this.Vx=[],this.Wx=[],this.Ed=t}var n=t.prototype;return n.Yl=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Gx(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof lw)){i.next=12;break}return i.next=11,Dr.awrap(this.qx(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Dr.awrap(this.Yx(n,t.Ws));case 15:if(!Jd(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new ww(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.Td=function(t){return this.Ed.Td(t)},n.Gx=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(n),i=t,r=0,s=this.Vx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],nu(n),(o=new WI(i,u,!e)).Ix){a.next=17;break}return a.prev=8,a.next=11,Dr.awrap(o.Dx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Lx&&!e?i=o.Lx:o.Ud&&!e&&(e=o.Ud);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Ed.Yl(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.qx=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof ww?t.Ud:new ew({Fi:null,Yl:t.Yl,zl:0,Gl:""}),r.next=3,Dr.awrap(this.Yx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Jd(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new ww(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.Yx=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.Wx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],nu(n),a.next=7,Dr.awrap(We.resolve(i.Lu().Fi(n)));case 7:if(u=a.sent,(o=new VI(i,s,u)).Ix){a.next=19;break}return a.prev=10,a.next=13,Dr.awrap(o.Dx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.Ud||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.Ux=function(t){this.Vx.unshift(t)},n.Xx=function(t){this.Vx.push(t)},n.Hx=function(t){Us(this.Vx,t)},n.Fx=function(t){this.Wx.unshift(t)},n.zx=function(t){Us(this.Wx,t)},n.Sd=function(){this.Ed.Sd(),zs(this.Vx),zs(this.Wx)},t}(),jI=function(){function t(t){this.Ww=void 0,this.lE=t}var n=t.prototype;return n.Ux=function(t){this.lE.Ux(t)},n.Hx=function(t){this.lE.Hx(t)},n.Fx=function(t){this.lE.Fx(t)},n.zx=function(t){this.lE.zx(t)},A(t,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{addRequestInterceptor:function(n){t.Ux(n)},removeRequestInterceptor:function(n){t.Hx(n)},addResponseInterceptor:function(n){t.Fx(n)},removeResponseInterceptor:function(n){t.zx(n)}})),this.Ww}}]),t}(),QI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ww=void 0,r.jx=function(t){r.Qs(t)},r.Qx=function(t){r.Qs(t)},r.Zx=n,r.lE=i,r.TC=e,r.Zx.Zs(bf.Sf,r.jx),r.Zx.Zs(bf.Tf,r.Qx),r}S(n,t);var i=n.prototype;return i.Kx=function(t){this.TC.Kx(t)},i.Ux=function(t){this.lE.Ux(t)},i.Hx=function(t){this.lE.Hx(t)},i.Fx=function(t){this.lE.Fx(t)},i.zx=function(t){this.lE.zx(t)},i.Sd=function(){this.$s(),this.Zx.tu(bf.Sf,this.jx),this.Zx.tu(bf.Tf,this.Qx)},A(n,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get online(){return t._y},get estimator(){return n=t.Jx,{get bandwidth(){return n.NR},get roundTripTime(){return n.PR}};var n},setEstimator:function(n){t.Kx(function(t){if(t)return{get NR(){return _g(t.bandwidth)},get PR(){return _g(t.roundTripTime)},DR:function(n){return function(t){if(t)return{$x:function(n){t.markRequestStart(n)},tL:function(n){t.markResponseStart(n)},nL:function(n,i){t.markResponseData(n,i)},iL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(PI(n)))}}}(n))},addRequestInterceptor:function(n){t.Ux(n)},removeRequestInterceptor:function(n){t.Hx(n)},addResponseInterceptor:function(n){t.Fx(n)},removeResponseInterceptor:function(n){t.zx(n)},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ww}},{key:"_y",get:function(){return this.Zx._y}},{key:"Jx",get:function(){return this.TC.Jx}}]),n}(wu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(GI||(GI={}));var ZI=30,KI=1,JI=5;function $I(t,n,i,e,r,s){var u=[],o=t-w.max(s,KI),a=t+r;if(n&&i){var h=Mt(i,KI,JI),c=n-h;o=w.min(o,c);var f=n+i+h;a=w.max(a,f)}return 0!==o&&e.$N(0,o)&&u.push([0,o]),e.$N(a,1/0)&&u.push([a,1/0]),u}function tR(t){return t instanceof v&&"QuotaExceededError"===t.name}var nR={type:GI.BANDWIDTH},iR=20;function eR(t){var n,i,e,r=cg(nR);return q(t)?r.type=rR(t):W(t)&&function(t){switch(t){case GI.PERFORMANCE:case GI.QUALITY:case GI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=rR(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=wg(n.bitrate),m(e)||(i.bitrate=e),i)),r}function rR(t){switch(t){case"bandwidth":return GI.BANDWIDTH;case"performance":return GI.PERFORMANCE;case"quality":return GI.QUALITY}}var sR=function(t){function n(n){var i;return(i=t.call(this,"rL")||this).eL=n,i}return S(n,t),n}(gu),uR=function(t){function n(n){var i;return(i=t.call(this,"uL")||this).sL=n,i}return S(n,t),n}(gu),oR=function(t){function n(n){var i;return(i=t.call(this,"aL")||this).oL=n,i}return S(n,t),n}(gu),aR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Ww=(i=Kt(n),{get strategy(){return{metadata:(t=i.sL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.sL=eR(t)},get targetBuffer(){return i.eL},set targetBuffer(t){var n=wg(t);m(n)||(i.eL=n)},get bufferLookbackWindow(){return i.oL},set bufferLookbackWindow(t){var n=wg(t);m(n)||(i.oL=n<=0?ZI:n)},get maxBufferLength(){return i.hL}}),n.cL=nR,n.fL=iR,n.vL=ZI,n.lL=1/0,n.dL=void 0,n.wL=void 0,n}S(n,t);var i=n.prototype;return i._L=function(t){this.wL=t},i.Kx=function(t){this.dL=t},i.gL=function(t){var n=w.min(t,.8*this.lL);if(n=w.max(10,n),this.lL===n)return!1;var i=this.mL;this.lL=n;var e=this.mL;return e!==i&&this.Qs(new sR(e)),!0},A(n,[{key:"yL",get:function(){switch(this.cL.type){case GI.PERFORMANCE:return 0;case GI.QUALITY:return 1/0;case GI.BANDWIDTH:return this.cL.metadata&&void 0!==this.cL.metadata.bitrate?this.cL.metadata.bitrate:8*Hg.wg();default:return 8*Hg.wg()}}},{key:"Gw",get:function(){return this.Ww}},{key:"sL",get:function(){return this.cL},set:function(t){this.cL=t,this.Qs(new uR(t))}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t,this.Qs(new sR(t))}},{key:"mL",get:function(){return w.min(this.fL,this.lL)}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.Qs(new oR(t))}},{key:"hL",get:function(){return this.lL}},{key:"Jx",get:function(){var t;return null!=(t=this.dL)?t:this.wL.ZD}}]),n}(wu),hR=function(t){function n(){return t.call(this,"s_")||this}return S(n,t),n.prototype.qw=function(){return new cR},n}(j_),cR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(gu),fR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).kL=void 0,r.QB=void 0,r.pL=function(t){Q_(t)&&au(function(){r.Qs(t.Gw)})},r.kL=n,r.QB=i;for(var s=0,u=r.QB;s<u.length;s++){var o=u[s];r.kL.Zs(o,r.pL)}return r}return S(n,t),n.prototype.Sd=function(){this.$s();for(var t=0,n=this.QB;t<n.length;t++){var i=n[t];this.kL.tu(i,this.pL)}},n}(wu),vR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).kL=void 0,e.pL=function(t){Q_(t)&&au(function(){e.Qs(t.Gw)})},e.kL=n,e.kL.Js(e.pL),e}return S(n,t),n.prototype.Sd=function(){this.$s(),this.kL.ou(this.pL)},n}(Lg);var lR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nk=0,n.ek=1/0,n.Ww=void 0,n}S(n,t);var i=n.prototype;return i.k_=function(){0===this.nk&&this.ek===1/0||(this.nk=0,this.ek=1/0,this.Qs(new hR))},i.bL=function(){return new rS([this.Vy,this.Wy],[!0,!0])},A(n,[{key:"Vy",get:function(){return this.nk},set:function(t){if(this.Wy<=t)throw new v("Start time of a clip should be smaller than the end time.");this.nk!==t&&(this.nk=t,this.Qs(new hR))}},{key:"Wy",get:function(){return this.ek},set:function(t){if(t<=this.Vy)throw new v("End time of a clip should be larger than the start time.");this.ek!==t&&(this.ek=t,this.Qs(new hR))}},{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get startTime(){return t.Vy},set startTime(n){t.Vy=n},get endTime(){return t.Wy},set endTime(n){t.Wy=n},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new vR(t=this,i),i)),this.Ww}}]),n}(Lg),dR=function(t){function n(n){var i;return(i=t.call(this)||this).AL=function(t){i.TL(t)||i.Qs(t)},i.SL=n,i.SL.Js(i.AL),i}S(n,t);var i=n.prototype;return i.EL=function(){return this.SL.Em},i.Gm=function(){return this.SL.Gm()},i.IL=function(){return this.SL.Km},i.RL=function(){return this.SL.Qm},i.DL=function(){return this.SL.Jm},i.NL=function(t){this.SL.Jm=t},i.CL=function(){return this.SL.Xg},i.PL=function(t){this.SL.Xg=t},i.BL=function(){return this.SL.Hg},i.OL=function(){return this.SL.$m},i.xL=function(){return this.SL.Fg},i.LL=function(){return this.SL.mu},i.ML=function(){return this.SL.zg},i.UL=function(){return this.SL.iy},i.XL=function(){return this.SL.Vg},i.HL=function(t){this.SL.Vg=t},i.FL=function(){return this.SL._y},i.zL=function(){return this.SL.Wg},i.VL=function(){return this.SL.Gg},i.WL=function(t){this.SL.Gg=t},i.GL=function(){return this.SL.gy},i.qL=function(){return this.SL.yy},i.YL=function(t){this.SL.yy=t},i.jL=function(){return this.SL.Y_},i.QL=function(){return this.SL.py},i.ZL=function(){return this.SL.qg},i.Bm=function(){return this.SL.Bm()},i.Om=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(this.SL.Om(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.KL=function(){return this.SL.Rm},i.JL=function(){return this.SL.Yg},i.$L=function(){return this.SL.Im},i.tM=function(){return this.SL.jg},i.nM=function(){return this.SL.Qg},i.iM=function(t){this.SL.Qg=t},i.Wm=function(){return this.SL.Wm()},i.Vm=function(){return this.SL.Vm()},i.Xm=function(t){this.SL.Xm(t)},i.Hm=function(){this.SL.Hm()},i.zm=function(){this.SL.zm()},i.Um=function(){this.SL.Um()},i.Cm=function(){this.SL.Cm()},i.Nm=function(){this.SL.Nm()},i.Fm=function(){this.SL.Fm()},i.Pm=function(){return this.SL.Pm()},i.xm=function(){return this.SL.xm()},i.Lm=function(){this.SL.Lm()},i.Mm=function(){this.SL.Mm()},i.k_=function(){return this.SL.k_()},i.Sd=function(){return this.SL.Sd()},i.Zm=function(){this.SL.Zm()},i.qm=function(t){return this.SL.qm(t)},i.TL=function(t){return!1},A(n,[{key:"Em",get:function(){return this.EL()}},{key:"Km",get:function(){return this.IL()}},{key:"Jm",get:function(){return this.DL()},set:function(t){this.NL(t)}},{key:"Qm",get:function(){return this.RL()}},{key:"Xg",get:function(){return this.CL()},set:function(t){this.PL(t)}},{key:"Hg",get:function(){return this.BL()}},{key:"$m",get:function(){return this.OL()}},{key:"Fg",get:function(){return this.xL()}},{key:"mu",get:function(){return this.LL()}},{key:"zg",get:function(){return this.ML()}},{key:"Dm",get:function(){return this.SL.Dm}},{key:"iy",get:function(){return this.UL()}},{key:"ey",get:function(){return this.SL.ey}},{key:"Vg",get:function(){return this.XL()},set:function(t){this.HL(t)}},{key:"_y",get:function(){return this.FL()}},{key:"Wg",get:function(){return this.zL()}},{key:"Gg",get:function(){return this.VL()},set:function(t){this.WL(t)}},{key:"gy",get:function(){return this.GL()}},{key:"yy",get:function(){return this.qL()},set:function(t){this.YL(t)}},{key:"Y_",get:function(){return this.jL()}},{key:"py",get:function(){return this.QL()}},{key:"qg",get:function(){return this.ZL()}},{key:"Rm",get:function(){return this.KL()}},{key:"Yg",get:function(){return this.JL()}},{key:"Im",get:function(){return this.$L()}},{key:"jg",get:function(){return this.tM()}},{key:"Qg",get:function(){return this.nM()},set:function(t){this.iM(t)}},{key:"by",get:function(){return this.SL.by}},{key:"Ay",get:function(){return this.SL.Ay},set:function(t){this.SL.Ay=t}}]),n}(Mg),wR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).eM=void 0,r.rM=!1,r.sM=void 0,r.uM=!1,r.oM=function(){r.aM(),r.hM()},r.cD=function(){r.cM(),r.hM(),r.fM&&r.Xg>=r.eM.Wy-n.vM&&!r.Fg&&(r.sM=wI(r.cD))},r.lM=function(){r.uM=!0},r.dM=function(){r.uM&&(r.uM=!1,r.hM())},r.eM=e,r.eM.Zs("s_",r.oM),r.SL.Zs("timeupdate",r.cD),r}S(n,t);var i=n.prototype;return i.PL=function(n){var i=this.eM.bL().UN(n);t.prototype.PL.call(this,i),this.hM()},i.xL=function(){return t.prototype.xL.call(this)||this.rM},i.QL=function(){return rS.aC(t.prototype.QL.call(this)).FN(this.eM.bL()).qD()},i.Nm=function(){this.xL()?this.PL(this.wM.start(0)):this.aM(),t.prototype.Nm.call(this),this.hM()},i.Om=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),this.rM=!1,this.eM.k_(),e.next=5,Dr.awrap(t.prototype.Om.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.Sd=function(){return this.eM.tu("s_",this.oM),this.SL.tu("timeupdate",this.cD),this.cM(),t.prototype.Sd.call(this)},i.TL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.lM(),!0;case"seeked":case"emptied":return this.Qs(n),this.dM(),!0;case"ended":if(this.fM)return!0}return t.prototype.TL.call(this,n)},i.cM=function(){this.sM&&(_I(this.sM),this.sM=void 0)},i.hM=function(){var t=this.Xg,i=this.fM&&t>=this.eM.Wy-n.Ip;this.rM&&!i?(this.rM=!1,this.Wg&&this.Nm()):this.rM||!i||this.qg||this.uM||(this.rM=!0,this.Qs(new ym(t)),this.Cm())},i.aM=function(){if(this.Hg!==1/0){var t=this.wM,i=rS.aC(t).UN(this.Xg);Ut(this.Xg,i,n.Ip)||this.PL(i)}},A(n,[{key:"wM",get:function(){return this.QL().length?this.QL():this.eM.bL().qD()}},{key:"fM",get:function(){return this.eM.Wy<this.Hg}}]),n}(dR);wR.vM=1,wR.Ip=.001;var _R=function(){function t(){this._M=void 0,this._M=!1}return A(t,[{key:"gM",get:function(){return this._M},set:function(t){this._M=t}}]),t}(),gR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this)._M=void 0,e.mM=!1,e.yM=!1,e._M=i,e}S(n,t);var i=n.prototype;return i.xL=function(){return!this._M.gM&&t.prototype.xL.call(this)},i.Cm=function(){this.yM=!0,t.prototype.Cm.call(this)},i.Nm=function(){this.yM=!1,t.prototype.Nm.call(this)},i.TL=function(n){if(this._M.gM)switch(n.type){case"ended":return this.Xg=0,this.yM||(this.qg?this.mM=!0:this.Nm()),!0;case"seeked":this.mM&&(this.mM=!1,this.Nm());break;case"pause":if(this.mM||t.prototype.xL.call(this))return!0}return t.prototype.TL.call(this,n)},n}(dR);var mR=function(){function t(t){var n;this.Ww=(n=this,{get currentBandwidthEstimate(){return n.vy},get corruptedVideoFrames(){return n.uy},get droppedVideoFrames(){return n.sy},get totalBytesLoaded(){return n.ly},get bufferedSegments(){return n.wy}}),this.mN=t}return A(t,[{key:"Gw",get:function(){return this.Ww}},{key:"uy",get:function(){return this.mN.kM.ey.uy}},{key:"vy",get:function(){return this.mN.kM.ey.vy}},{key:"sy",get:function(){return this.mN.kM.ey.sy}},{key:"pM",get:function(){throw new v("Not implemented")}},{key:"bM",get:function(){throw new v("Not implemented")}},{key:"ly",get:function(){return this.mN.kM.ey.ly}},{key:"oy",get:function(){return this.mN.kM.ey.oy}},{key:"wy",get:function(){return this.mN.kM.ey.wy}}]),t}();function yR(t){if(!t||!sr(t))return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{sy:n.droppedVideoFrames,uy:n.corruptedVideoFrames||0,oy:n.totalVideoFrames}}return{sy:t.webkitDroppedFrameCount||0,uy:0,oy:t.webkitDecodedFrameCount||0}}var kR=function(t){function n(){return t.call(this,"AM")||this}return S(n,t),n.prototype.qw=function(){return new pR},n}(j_),pR=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(gu);var bR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).TM=[],n.SM=!1,n.Ww=void 0,n.EM=function(){var t=n.SM,i=n.IM;t!==i&&(n.SM=i,n.Qs(new kR))},n}S(n,t);var i=n.prototype;return i.RM=function(t){this.TM.push(t),t.Zs("statechange",this.EM)},i.Sd=function(){for(var t=0,n=this.TM;t<n.length;t++){n[t].tu("statechange",this.EM)}zs(this.TM)},A(n,[{key:"IM",get:function(){return this.TM.some(function(t){return t.IM})}},{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get casting(){return t.IM},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new fR(t=this,["AM"],i),i)),this.Ww}}]),n}(wu),AR=function(){function t(){}return t.DM=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new rw({Ql:t,Wl:Af.$n,md:$d.GET}),s.next=4,Dr.awrap(n.Yl(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Fi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),tu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.NM=function(t){try{var i=IE(t);return new BE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new nf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.CM=function(t){void 0===t&&(t=YE.eb),i.gr("The baked-in license is used. Please update the configuration with your license.");var n=t.JP(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),s=Number(new Date(Number(t.JP("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.JP(n)});return new BE(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new BE(t.uB,t.oB,t.aB,864e13,t.cB,t.fB,Date.now(),t.lB,t.dB)},t}(),TR=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=SR.mc()?new SR:new gf),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t.PM=function(n){var i=t.Iu(n);if(void 0!==i)return g(i)},t.BM=function(n){return"true"===t.Iu(n)},t}();TR.Yn=void 0;var SR=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.mc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Nu=function(n){t.localStorage.removeItem(n)},e.if=function(){t.localStorage.clear()},e.Iu=function(n){return t.localStorage[n]},e.ef=function(n,i){t.localStorage[n]=i},i}(TR),ER=w.floor(14399999*w.random()-72e5),IR=function(){function t(t,n,i,e,r,s){this.mB=void 0,this.lE=t,this.OM=n,this.xM=i,this.iO=e,this.LM=r,this.Qo=s,this.mB=HE(s)}var i=t.prototype;return i.MM=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.UM(this.LM.license,this.LM.licenseUrl));case 2:t=n.sent,this.iO.XM(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.UM=function(t,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=AR.NM(t):e||(r=AR.CM()),e||(e="https://validate.theoplayer.com/1/"+r.uB),s=this.HM(),!r){v.next=14;break}if((u=this.OM.TB(r))!==DE.eB){v.next=14;break}if(!this.FM(r.hB)||!this.FM(null==s?void 0:s.hB)){v.next=13;break}return v.next=10,Dr.awrap(this.zM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.OM.TB(s)!==DE.eB){v.next=24;break}if(!this.FM(null==s?void 0:s.hB)){v.next=23;break}return v.next=20,Dr.awrap(this.zM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:TR.Nu("THEOplayer.license");case 25:return v.next=27,Dr.awrap(AR.DM(e,this.lE));case 27:if(!(h=v.sent)){v.next=37;break}if(c=AR.NM(h),this.OM.TB(c)!==DE.eB){v.next=34;break}return TR.ef("THEOplayer.license",h),v.abrupt("return",c);case 34:TR.Nu("THEOplayer.license"),v.next=39;break;case 37:if(this.mB||!r||u!==DE.rB||e!=="https://validate.theoplayer.com/1/"+r.uB){v.next=39;break}return v.abrupt("return",AR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.VM(null!=(f=r)?f:c,new nf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new nf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,We)},i.pB=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.iO.hO());case 2:if(n=a.sent,!this.FM(n.hB)){a.next=9;break}return e=null!=(i=this.LM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.uB,a.next=7,Dr.awrap(this.zM(e));case 7:(r=a.sent)&&(this.iO.XM(r),n=r);case 9:if(a.prev=9,(s=this.OM.TB(n))!==DE.sB){a.next=16;break}throw u=PE.wB,new nf(xE(u),zE.AB(u));case 16:if(s!==DE.rB){a.next=19;break}throw o=PE.rB,new nf(xE(o),zE.AB(o));case 19:this.OM.pB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.WM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.RB=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:n=i.sent;try{this.OM.RB(t,n)}catch(t){this.WM(t)}case 4:case"end":return i.stop()}},null,this,null,We)},i.zM=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr.awrap(AR.DM(t,this.lE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=AR.NM(n),this.OM.TB(i)!==DE.eB){e.next=11;break}return TR.ef("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.FM=function(t){return!t||Number(new Date)+2592e5+ER>=t},i.HM=function(){var t=TR.Iu("THEOplayer.license");if(t)return AR.NM(t)},i.VM=function(t,n){this.iO.XM(t),this.WM(n)},i.WM=function(t){throw at(t.message),this.xM.vO(t.message),t},t}(),RR=function(){function t(){this.GM=void 0,this.qM=new Go}var n=t.prototype;return n.XM=function(t){this.GM=t,this.qM.Wu()},n.hO=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.GM){t.next=2;break}return t.abrupt("return",We.resolve(this.GM));case 2:return t.next=4,Dr.awrap(this.qM.Hu);case 4:return t.abrupt("return",this.GM);case 5:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"YM",get:function(){return this.GM}}]),t}(),DR=function(t){function n(){return t.call(this,"s_")||this}return S(n,t),n.prototype.qw=function(){return new NR},n}(j_),NR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(gu);function CR(t){var n,i={get fontFamily(){return t.jM},set fontFamily(n){t.jM=n},get fontColor(){return t.QM},set fontColor(n){t.QM=n},get fontSize(){return t.ZM},set fontSize(n){t.ZM=n},get backgroundColor(){return t.KM},set backgroundColor(n){t.KM=n},get windowColor(){return t.JM},set windowColor(n){t.JM=n},get edgeStyle(){return t.$M},set edgeStyle(n){t.$M=n},get marginTop(){return t.tU},set marginTop(n){t.tU=n},get marginBottom(){return t.nU},set marginBottom(n){t.nU=n},get marginLeft(){return t.iU},set marginLeft(n){t.iU=n},get marginRight(){return t.eU},set marginRight(n){t.eU=n},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(i),t.Zs(["s_"],function(t){return n.Qs(t.Gw)}),i}var PR={jM:void 0,QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,rU:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0},BR="THEOplayer.textTrackStyle.",OR=function(t){function n(){var i;return(i=t.call(this)||this).sU=void 0,i.Ww=void 0,i.sU=n.uU(),i}return S(n,t),n.prototype.Zh=function(t){this.sU=Nr({},this.sU,t),n.oU(this.sU),this.Qs(new DR)},n.uU=function(){var t=Nr({},PR);return t.jM=TR.Iu(BR+"fontFamily")||t.jM,t.QM=TR.Iu(BR+"fontColor")||t.QM,t.ZM=TR.Iu(BR+"fontSize")||t.ZM,t.KM=TR.Iu(BR+"backgroundColor")||t.KM,t.JM=TR.Iu(BR+"windowColor")||t.JM,t.$M=TR.Iu(BR+"edgeStyle")||t.$M,t},n.oU=function(t){TR.ef(BR+"fontFamily",t.jM||""),TR.ef(BR+"fontColor",t.QM||""),TR.ef(BR+"fontSize",t.ZM||""),TR.ef(BR+"backgroundColor",t.KM||""),TR.ef(BR+"windowColor",t.JM||""),TR.ef(BR+"edgeStyle",t.$M||"")},A(n,[{key:"aU",get:function(){return this.sU}},{key:"jM",get:function(){return this.sU.jM},set:function(t){this.Zh({jM:t})}},{key:"QM",get:function(){return this.sU.QM},set:function(t){this.Zh({QM:t})}},{key:"ZM",get:function(){return this.sU.ZM},set:function(t){this.Zh({ZM:t})}},{key:"KM",get:function(){return this.sU.KM},set:function(t){this.Zh({KM:t})}},{key:"JM",get:function(){return this.sU.JM},set:function(t){this.Zh({JM:t})}},{key:"$M",get:function(){return this.sU.$M},set:function(t){this.Zh({$M:t})}},{key:"rU",get:function(){return this.sU.rU}},{key:"tU",get:function(){return this.sU.tU},set:function(t){this.Zh({tU:t})}},{key:"nU",get:function(){return this.sU.nU},set:function(t){this.Zh({nU:t})}},{key:"eU",get:function(){return this.sU.eU},set:function(t){this.Zh({eU:t})}},{key:"iU",get:function(){return this.sU.iU},set:function(t){this.Zh({iU:t})}},{key:"Gw",get:function(){return this.Ww||(this.Ww=CR(this)),this.Ww}}]),n}(wu);function xR(t,n){var i,e;t.style.marginLeft=(null!=(i=n.iU)?i:0)+"px",t.style.marginRight=(null!=(e=n.eU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var LR,MR,UR=function(t){function n(n,e){var r;(r=t.call(this)||this).hU=void 0,r.rc=void 0,r.kM=void 0,r.cU=void 0,r.Xw=void 0,r.eM=void 0,r._M=void 0,r.fU=void 0,r.vU=void 0,r.TC=void 0,r.OM=void 0,r.lU=void 0,r.dU=void 0,r.AC=void 0,r.wU=!1,r.gm=!1,r.Dy=void 0,r._U=!1,r.gU=void 0,r.mU=void 0,r.yU=void 0,r.kU=void 0,r.pU=void 0,r.bU=function(t){if(!r._U){r._U=!0;var n=r.hU,i=Jm(t);r.kM.R_=new cS(r.$m,i,t),hu(n.Sd())}},r.AU=function(t){r.Qs(t.Gw)},r.TU=function(t){t.type!==bf.Sf&&t.type!==bf.Tf&&r.Qs(t)};var s=wg(e.uid);m(s)?r.Dy=uy++:r.Dy=s,r.rc=e;var u=i.Xw,o=new RR;r.cU=new rI("4.7.0",u,o),r.Xw=new qI(u,e.allowMixedContent),r.TC=new aR,r.OM=new OE(e.isEmbeddable,"4.7.0",RE()),r.pU=new IR(u,r.OM,r.cU,o,e,RE()),r.pU.MM().catch(r.bU),r.lU=new TI(n),r.lU.Zs("pO",r.AU),r.AC=new OR,r.eM=new lR,r._M=new _R;var a=new hS(n,e,r.Xw,r.TC,r.lU,r.AC);r.TC._L(a);var h=a;h=new wR(h,r.SU),h=new gR(h,r.gM),r.hU=h,r.kM=new jm(r.hU),r.kM.Js(r.TU),r.kU=new mR(Kt(r)),r.mU=new QI(r.kM,r.Xw,r.TC),r.fU=new oI(Kt(r)),r.dU=new CI(r.kM,e.allowNativeFullscreen),r.vU=new RS(r.dU),r.lU.hc();var c=new ce(r.lU,r.AC,1,[$m.wd]);return r.gU=new fe(c),r.yU=new bR,r}S(n,t);var e=n.prototype;return e.HL=function(t){this.kM.Vg=t,t||this.Wg||this.Um()},e.iM=function(t){this.kM.Qg=t},e.EU=function(){Cm(this,DS,this)},e.Nm=function(){this.kM.Nm()},e.Cm=function(){this.kM.Cm()},e.Om=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.pU.pB(t).catch(this.bU),i=XR(t),e.next=5,Dr.awrap(this.kM.Om(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.Um=function(){this.gm||(this.kM.Um(),this.gU.Um(),this.gm=!0)},e.lC=function(){return this.vU.JC()===AS.FULLSCREEN},e.Fm=function(){this.kM.Fm()},e.zm=function(){this.kM.zm()},e.Vm=function(){return this.kM.Vm()},e.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.kM.Pm());case 2:return t.next=4,Dr.awrap(this.kM.k_());case 4:case"end":return t.stop()}},null,this,null,We)},e.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.yU.Sd(),this.Xw.Sd(),this.mU.Sd(),this.dU.Sd(),this.vU.Sd(),this.lU.Sd(),this.cU.Sd(),this.gU.Sd(),t.next=11,Dr.awrap(this.kM.Sd());case 11:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"IU",get:function(){return this.TC}},{key:"Tm",get:function(){return this.wU},set:function(t){this.wU=t,this.kM.Tm=t}},{key:"RU",get:function(){return this.gU}},{key:"Em",get:function(){return this.kM.Em}},{key:"DU",get:function(){return this.yU}},{key:"NU",get:function(){return this.lU}},{key:"Dm",get:function(){return this.kM.Dm}},{key:"ey",get:function(){return this.kU}},{key:"CU",get:function(){return this.mU}},{key:"Rm",get:function(){return this.kM.Rm}},{key:"PU",get:function(){return this.AC}},{key:"Im",get:function(){return this.kM.Im}},{key:"Km",get:function(){return this.kM.Km}},{key:"SU",get:function(){return this.eM}},{key:"gM",get:function(){return this._M}},{key:"Xg",get:function(){return this.kM.Xg},set:function(t){this.kM.Xg=t}},{key:"Jm",get:function(){return this.kM.Jm},set:function(t){this.kM.Jm=t}},{key:"Qm",get:function(){return this.kM.Qm}},{key:"Hg",get:function(){return this.kM.Hg}},{key:"$m",get:function(){return this.kM.$m}},{key:"Fg",get:function(){return this.kM.Fg}},{key:"mu",get:function(){return this.kM.mu}},{key:"zg",get:function(){return this.kM.zg}},{key:"Vg",get:function(){return this.kM.Vg},set:function(t){var n=Boolean(t);this.HL(n)}},{key:"Wg",get:function(){return this.kM.Wg}},{key:"Gg",get:function(){return this.kM.Gg},set:function(t){this.kM.Gg=t}},{key:"gy",get:function(){return this.kM.gy}},{key:"yy",get:function(){return this.kM.yy},set:function(t){this.kM.yy=JT(t)}},{key:"Y_",get:function(){return this.kM.Y_}},{key:"py",get:function(){return this.kM.py}},{key:"qg",get:function(){return this.kM.qg}},{key:"B_",get:function(){return this.Dy}},{key:"Yg",get:function(){return this.kM.Yg}},{key:"jg",get:function(){return this.kM.jg}},{key:"Qg",get:function(){return this.kM.Qg},set:function(t){var n=Mt(Number(t),0,1)||0;this.iM(n)}},{key:"by",get:function(){return this.kM.by}}]),n}(Mg);function XR(t){t.sources;var n=t.sources.filter(function(t){return F(t.integration)});return t.sources=n,t}!function(t){t[t.BU=0]="BU",t[t.OU=1]="OU"}(LR||(LR={})),function(t){t[t.xU=0]="xU"}(MR||(MR={}));var HR={};function FR(t,n){(HR[n]||(HR[n]=[])).push(t)}function zR(t,n){var i=t;if(HR[n])for(var e=0,r=HR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var VR=[];function WR(t){VR.push(t)}var GR=t.CustomEvent;var qR=function(){try{var t=new GR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},YR=function(){function t(t,n){var i=this;this.mN=void 0,this.LU=void 0,this.MU=!1,this.UU=function(t){i.LU.fO(t.error,i.Xg)},this.XU=function(){i.LU.aO(i.HU),i.mN.removeEventListener("playing",i.XU),i.MU=!1},this.FU=function(){i.MU||(i.mN.addEventListener("playing",i.XU),i.MU=!0)},this.LU=n,this.mN=t,this.mN.addEventListener("error",this.UU),this.mN.addEventListener("sourcechange",this.FU),this.FU()}return t.prototype.k_=function(){},A(t,[{key:"Xg",get:function(){var t=this.mN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"HU",get:function(){return this.mN.src||""}}]),t}();WR(function(t){new YR(t.Gw,t.cU)});var jR="theoplayer-stored-volume",QR="theoplayer-stored-mutedstate";FR(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=TR.PM(jR);(void 0===r||m(r))&&(r=1);var s=TR.BM(QR)||!1;e.Qg=r,e.Vg=s}return e}S(n,t);var i=n.prototype;return i.HL=function(n){this.rc.persistVolume&&TR.ef(QR,""+Boolean(n)),t.prototype.HL.call(this,n)},i.iM=function(n){this.rc.persistVolume&&TR.ef(jR,""+Number(n)),t.prototype.iM.call(this,n)},n}(t)},LR.OU);var ZR=new(function(){function t(){this.zU=[],this.Ww=void 0}var n=t.prototype;return n.__=function(t){return this.zU[t]},n.VU=function(t){this.zU.push(t),this.Gw.push(t.Gw)},n.Qh=function(t){var n=this.zU.indexOf(t);n<0||(Xs(this.zU,n),this.Ww&&Xs(this.Ww,n))},n.WU=function(t){for(var n=0,i=this.zU;n<i.length;n++){var e=i[n];if(e.B_===t)return e}},A(t,[{key:"b_",get:function(){return this.zU.length}},{key:"Gw",get:function(){return this.Ww||(this.Ww=function(t){for(var n=[],i=0;i<t.b_;i++)n[i]=t.__(i).Gw;return n.getPlayerByUID=function(n){var i=t.WU(n);return i&&i.Gw},n}(this)),this.Ww}}]),t}()),KR=function(){function t(t){var n=this;this.GU=[],this.qU=void 0,this.pw=new Js,this.YU=void 0,this.jU=function(){return 0===n.GU.length?n.YU?JR(n.YU,n.pw.Ws).then(n.QU,n.QU):n.QU():n.GU.shift()().then(n.jU)},this.QU=function(){if(0!==n.GU.length)return n.jU();n.qU=void 0},this.YU=t}var n=t.prototype;return n.ZU=function(t,n){var i=this;return new We(function(e){var r=new Js;r.zs(i.pw.Ws),n&&r.zs(n);var s=function(){r.xs()};i.GU.push(function(){var n=JR(t,r.Ws);return e(n),n.then(s,s)}),i.qU||(i.qU=i.jU())})},n.Fs=function(){return this.KU(!0)},n.Sd=function(){return this.YU=void 0,this.KU(!1)},n.KU=function(t){var n=this.qU;return this.pw.Fs(),t&&(this.pw=new Js),We.resolve(n)},t}();function JR(t,n){return new We(function(i){return i(t(n))})}var $R,tD=function(t){function n(n){var i;return(i=t.call(this,bf.Xf)||this).source=n,i}return S(n,t),n}(gu),nD=function(t){function n(){var n;return(n=t.call(this)||this)._C=void 0,n.mC=void 0,n.kC=void 0,n.yC=void 0,n._C=0,n.mC=!0,n.kC=!1,n.yC=1,n}S(n,t);var i=n.prototype;return i.Nm=function(){this.mC&&(this.mC=!1,this.Qs(new vm(this.Xg)),this.Qs(new cb(this.Xg)))},i.Cm=function(){this.mC||(this.mC=!0,this.Qs(new mm(this.Xg,this.Jm)),this.Qs(new fm(this.Xg)))},i.k_=function(){this._C=0,this.kC=!1,this.yC=1,this.Cm(),this.Qs(new cm(this._C))},i.Sd=function(){this.$s()},i.zm=function(){},i.Fm=function(){},A(n,[{key:"Jm",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this._C},set:function(t){this.kC&&this._C===t||(this._C=t,this.kC=!0,this.Qs(new pm(this.Xg)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.Qs(new gm(this.Xg,this.Gg)))}},{key:"Y_",get:function(){return qg.Rg}},{key:"qg",get:function(){return this.kC}}]),n}(Lg),iD=function(t){function n(){return t.call(this,bf.wf)||this}return S(n,t),n}(gu),eD={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},rD={visibility:"hidden"},sD={visibility:"visible"},uD=function(){function t(t){var n,i=this;this.lN=void 0,this.mN=void 0,this.JU=!1,this.$U=void 0,this.tX=void 0,this.nX=function(t){var n;i.JU=!1,i.$U=null==(n=t.source)?void 0:n.poster,i.Zh()},this.OE=function(){i.JU=!0,i.zm()},this.mN=t,this.bN(),this.lN=((n=le&&le.document&&le.document.createElement("div")).className="theoplayer-poster",ir(eD,n),n),t.$m.appendChild(this.lN)}var n=t.prototype;return n.Zh=function(){var t=this.mN.Wg,n=this.JU;this.Ql?this.lN.style.backgroundImage='url("'+this.Ql.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.lN.style.backgroundImage="",t&&this.Ql&&!n?this.Fm():this.zm()},n.Fm=function(){ir(rD,this.mN.$m),ir(sD,this.lN)},n.zm=function(){ir(rD,this.lN),ir(sD,this.mN.$m)},n.bN=function(){this.mN.Zs("sourcechange",this.nX),this.mN.Zs("play",this.OE)},n.Sd=function(){this.mN.tu("sourcechange",this.nX),this.mN.tu("play",this.OE),$e(this.lN)},A(t,[{key:"Ql",get:function(){return void 0!==this.$U?this.$U:void 0!==this.tX?this.tX:void 0}},{key:"iX",set:function(t){this.tX=t,this.Zh()}}]),t}();function oD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).mN=void 0,r.eX=void 0,r.rX=void 0,r.sX=void 0,r.uX=void 0,r.oX=void 0,r.aX=void 0,r.hX=void 0,r.pN=void 0,r.kN=void 0,r.$R=void 0,r.DC=void 0,r.Ww=void 0,r.cX=function(t){t.type!==bf.Df&&r.hX.push(t)},r.eX=new t(n,e),r.rX=new nD,r.mN=r.eX,r.sX=new uD(Kt(r)),r.oX=new KR,r.aX=!1,r.hX=[],r.pN=!0,r.bN(),r}S(e,i);var r=e.prototype;return r.ZU=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.oX.ZU(t,n).catch(eu));case 1:case"end":return i.stop()}},null,this,null,We)},r.fX=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),this.eX.Js(this.cX),i.next=4,Dr.awrap(this.eX.Om(t,n));case 4:this.eX.ou(this.cX);case 5:case"end":return i.stop()}},null,this,null,We)},r.vX=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Bm())&&!iE(t)&&this.Tm&&this.Wg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rc.mutedAutoplay,e.next=6,Dr.awrap(this.RU.lX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.dX(),e.abrupt("break",14);case 12:return(this.Vg||n===lm.ALL)&&(this.Vg=!0,this.Nm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.Om=function(t){var i=this,e=this.kN;e&&!iE(e)&&this.Qs(new cm(0,0)),this.k_(),this.kN=t,hu(this.ZU(function(e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return nu(e),r.prev=1,r.next=4,Dr.awrap(i.fX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.kN=void 0,i.hD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof nf?s:s instanceof v?new nf(u,s.message,s):new nf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Dr.awrap(i.wX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],We)}))},r.wX=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._X(this.eX),this.Qs(new tD(this.Bm())),t.next=4,Dr.awrap(this.vX());case 4:case"end":return t.stop()}},null,this,null,We)},r.PL=function(t){this.mN.Xg=t},r.LL=function(){var t;return null!=(t=this.DC)?t:this.eX.mu},r.ML=function(){var t;return null!=(t=this.$R)?t:this.eX.zg},r.hD=function(t){void 0===this.ML()&&(this.$R=t,this.DC=Jm(t),this.Qs(new Im(t)))},r.Nm=function(){this.mN.Nm()},r.dX=function(){this.Vg||this.Um(),this.Nm()},r.Um=function(){this.eX.Um()},r.Cm=function(){this.mN.Cm()},r.Pm=function(){this.Om(void 0)},r.Fm=function(){this.pN=!0,this.mN.Fm()},r.zm=function(){this.pN=!1,this.mN.zm()},r.EU=function(){this.eX.EU()},r.iM=function(t){this.eX.iM(t)},r.HL=function(t){this.eX.HL(t)},r.gX=function(t){this.uX=t,t.VU(this)},r.lC=function(){return this.eX.lC()},r.Bm=function(){return this.kN},r.Vm=function(){return this.eX.Vm()},r.CL=function(){return this.eX.Xg},r.BL=function(){return this.eX.Hg},r.IL=function(){return this.eX.Km},r.GL=function(){return this.eX.gy},r.QL=function(){return this.eX.py},r.k_=function(){var t=this;this.kN=void 0,this.$R=void 0,this.DC=void 0,zs(this.hX),this.rX.k_(),this._X(this.rX),this.oX.Fs(),hu(this.oX.ZU(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(t.eX.k_());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.Sd=function(){var t=this;this.Qs(new iD),this.sX.Sd(),this.AN(),this.k_(),hu(this.ZU(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.eX.Sd());case 2:t.uX&&(t.uX.Qh(t),t.uX=void 0),t.oX.Sd();case 4:case"end":return n.stop()}},null,null,null,We)})),this.$s()},r._X=function(t){if(this.mN!==t){var n=this.mN.Wg,i=this.mN.Xg,e=this.mN.Gg,r=this.mN.qg;this.AN(),t===this.eX?((r||t.Xg!==i)&&(t.Xg=i),t.Gg!==e&&(t.Gg=e),n?t.Cm():t.Nm()):this.rc.retainPlaybackRateOnSourceChange?t.Gg=e:1!==e&&this.Qs(new gm(this.CL(),1)),this.mN=t,this.bN();for(var s=0,u=this.hX;s<u.length;s++){var o=u[s];this.Qs(o)}zs(this.hX),this.pN?t.Fm():t.zm()}},r.bN=function(){this.mN.Js(this.js)},r.AN=function(){this.mN.ou(this.js)},r.qw=function(){return t=this,e=function(n){i=n;var e=lE(n,t.rc);t.Om(e)},r={get abr(){return t.IU.Gw},get audioTracks(){return t.Em.Gw},get autoplay(){return t.Tm},set autoplay(n){t.Tm=Boolean(n)},get buffered(){return t.IL()},get canvas(){return t.fU.Gw},get clip(){return t.SU.Gw},get currentProgramDateTime(){var n;return null!=(n=t.Jm)?n:null},set currentProgramDateTime(n){t.Jm=null!=n?n:void 0},get currentTime(){return t.CL()},set currentTime(n){t.PL(Number(n))},get duration(){return t.BL()},get element(){return t.$m},get ended(){return t.Fg},get error(){return t.LL()},get errorObject(){return t.ML()},get loop(){return t.gM.gM},set loop(n){t.gM.gM=Boolean(n)},get metrics(){return t.ey.Gw},get muted(){return t.Vg},set muted(n){t.HL(n)},get network(){return t.CU.Gw},get paused(){return t.Wg},get playbackRate(){return t.Gg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Gg=i},get played(){return t.GL()},get poster(){return t.mX},set poster(n){t.mX=gg(n)},get preload(){return t.yy},set preload(n){t.yy=n},get presentation(){return t.vU.Gw},get readyState(){return t.Y_},get seekable(){return t.QL()},get seeking(){return t.qg},get source(){return i},set source(t){e(t)},get src(){return eE(t.Bm())},set src(t){e({sources:t})},get textTracks(){return t.Rm.Gw},get textTrackStyle(){return t.PU.Gw},get uid(){return t.B_},get videoHeight(){return t.Yg},get videoTracks(){return t.Im.Gw},get videoWidth(){return t.jg},get volume(){return t.Qg},set volume(n){t.iM(Number(n))},get latency(){return t.by.Gw},destroy:function(){t.Sd(),t=null,i=void 0},play:function(){t.dX()},pause:function(){t.Cm()},stop:function(){i=void 0,t.Pm()},prepareWithUserAction:function(){t.Um()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new ES(r,!0)).UC(t),r;var t,n,i,e,r},A(e,[{key:"cU",get:function(){return this.eX.cU}},{key:"fU",get:function(){return this.eX.fU}},{key:"rc",get:function(){return this.eX.rc}},{key:"hU",get:function(){return this.eX.hU}},{key:"Xw",get:function(){return this.eX.Xw}},{key:"XD",get:function(){return this.eX.dU}},{key:"vU",get:function(){return this.eX.vU}},{key:"lU",get:function(){return this.eX.lU}},{key:"kM",get:function(){return this.eX.kM}},{key:"IU",get:function(){return this.eX.IU}},{key:"Tm",get:function(){return this.eX.Tm},set:function(t){this.eX.Tm=t,this.vX()}},{key:"RU",get:function(){return this.eX.RU}},{key:"Em",get:function(){return this.eX.Em}},{key:"DU",get:function(){return this.eX.DU}},{key:"NU",get:function(){return this.eX.lU}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"Dm",get:function(){return this.eX.Dm}},{key:"ey",get:function(){return this.eX.ey}},{key:"CU",get:function(){return this.eX.CU}},{key:"Rm",get:function(){return this.eX.Rm}},{key:"PU",get:function(){return this.eX.PU}},{key:"Im",get:function(){return this.eX.Im}},{key:"SU",get:function(){return this.eX.SU}},{key:"gM",get:function(){return this.eX.gM}},{key:"Jm",get:function(){return this.mN.Jm},set:function(t){this.mN.Jm=t}},{key:"Qm",get:function(){return this.eX.Qm}},{key:"$m",get:function(){return this.eX.$m}},{key:"Fg",get:function(){return this.eX.Fg}},{key:"Vg",get:function(){return this.eX.Vg},set:function(t){this.eX.Vg=t}},{key:"Wg",get:function(){return this.mN.Wg}},{key:"mX",get:function(){return this.sX.Ql||""},set:function(t){this.sX.iX=t}},{key:"Gg",get:function(){return this.eX.Gg},set:function(t){this.mN.Gg=t}},{key:"yy",get:function(){return this.eX.yy},set:function(t){this.eX.yy=JT(t)}},{key:"Y_",get:function(){return this.mN.Y_}},{key:"qg",get:function(){return this.mN.qg}},{key:"B_",get:function(){return this.eX.B_}},{key:"Yg",get:function(){return this.eX.Yg}},{key:"jg",get:function(){return this.eX.jg}},{key:"Qg",get:function(){return this.eX.Qg},set:function(t){this.eX.Qg=t}},{key:"by",get:function(){return this.eX.by}}]),e}(Mg)}function aD(t,n){var i=Dm(n),e=new($R||($R=zR($R=oD(UR),LR.BU),$R=zR($R,LR.OU)),$R)(t,i),r=e.Gw;return e.EU(),e.gX(ZR),d.defineProperty(r,"constructor",{value:aD}),r=og(r),function(t){for(var n=0;n<VR.length;n++)(0,VR[n])(t)}(e),r}au(function(){t.dispatchEvent&&t.dispatchEvent(qR("theoplayerready"))});var hD,cD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ou(t)},n.decode=function(t){return Pu(t)},t}())},fD=["hls","airplay"],vD=ZR.Gw,lD=zb.II.registerContentProtectionIntegration.bind(zb.II),dD=[bf.If,bf.Ef,hm.Ug,bf.Hf,bf.Rf,bf.pf,bf.Bf,bf.Pf,bf.mf,bf.Df,bf.Ff,bf._f,hm.u_,bf.Cf,Ig.z_,du.yu,du.bu,bf.lf,bf.vf,bf.zf],wD={yX:!1},_D=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.VP="kX"}(hD||(hD={}));var gD,mD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Pc=void 0,s.KR=void 0,s.Vc=void 0,s.pX=!1,s.bX=new Go,s.AX=!1,s.oX=new KR,s.TX=void 0,s.ys=void 0,s.ic=void 0,s.SX=function(){s.AX=!0},s.EX=function(){s.IX(!0)},s.Pc=n,s.KR=i,s.Vc=i.SD,s.TX=e,s.ys=r,s.Vc.addEventListener("loadedmetadata",s.SX);for(var u=0;u<_D.length;u++){var o=_D[u];s.Vc.addEventListener(o,s.EX)}return s}S(i,t);var e=i.prototype;return e.RX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.DX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.NX=function(t){var n=this,i=this.ic;return i?0!==t.ND.length&&t.ND.some(function(t){return t.ec.vs===i.ec}):0!==this.Pc.ND.length?t.ND.some(function(t){return n.Pc.ND.some(function(n){return t.ec===n.ec})}):0===t.ND.length||!this.AX},e.CX=function(t){return this.TX.CX(t),this.Pc=t,We.resolve()},e.xs=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.$s(),this.Vc.removeEventListener("loadedmetadata",this.SX),t=0;t<_D.length;t++)n=_D[t],this.Vc.removeEventListener(n,this.EX);return i.next=5,Dr.awrap(this.oX.Sd());case 5:return i.next=7,Dr.awrap(this.PX());case 7:return i.next=9,Dr.awrap(this.TX.k_());case 9:return i.next=11,Dr.awrap(this.DX(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.IX=function(t){t!==this.pX&&(this.pX=t,t?this.bX.Wu(void 0):this.bX=new Go)},e.DX=function(t){var n=this;return this.oX.ZU(function(){return n.BX(t)})},e.BX=function(t){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vc.src){e.next=4;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vc.src){e.next=6;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.pX){e.next=9;break}return e.next=9,Dr.awrap(this.bX.Hu);case 9:if(!(i=this.ic)){e.next=14;break}return e.next=13,Dr.awrap(i.cc(this.Vc));case 13:this.ic=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Dr.awrap(t.hc(this.Vc));case 17:this.ic=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.Om=function(t){var n=this;return this.oX.ZU(function(){return n.OX(t)})},e.OX=function(t){this.IX(!1);var n=this.KR.Gg;this.Vc.src=t,this.KR.Gg=n},e.xX=function(t){var n=this;return this.oX.ZU(function(){return n.LX(t)})},e.LX=function(t){this.OX(t),this.Vc.load()},e.PX=function(){var t=this;return this.oX.ZU(function(){return t.MX()})},e.MX=function(){this.IX(!1),ur(this.Vc)},A(i,[{key:"Em",get:function(){throw new v("Not implemented")}},{key:"rc",get:function(){return this.Pc}},{key:"SD",get:function(){return this.Vc}},{key:"Im",get:function(){throw new v("Not implemented")}}]),i}(wu),yD=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i._L=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rc,n.t0=t.PD,n.next=n.t0===zg.Tg?4:n.t0===zg.Sg?4:(n.t0,zg.Ag,6);break;case 4:return this.Vc.setAttribute("crossorigin",t.PD),n.abrupt("break",8);case 6:return this.Vc.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.yy?this.Vc.preload=t.yy:this.Vc.preload=ZT.RR,void 0!==t.BD?this.Vc.title=t.BD:rr(this.Vc),n.next=12,Dr.awrap(this.Om(t.Z_));case 12:this.TX.jh(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.NX=function(t){return!1},i.CX=function(t){return We.resolve(void 0)},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return rr(this.Vc),n.next=3,Dr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.UX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Nl))},A(n,[{key:"Km",get:function(){return rS.aC(this.Vc.buffered)}},{key:"Hg",get:function(){return this.Vc.duration}},{key:"XX",get:function(){var t=this.Hg;if(!isFinite(t))return!1;var n=this.Km;return 0!==n.b_&&t-n.NN(n.b_-1)<1/6}},{key:"yy",get:function(){return this.Vc.preload},set:function(t){this.Vc.preload=t}},{key:"py",get:function(){return rS.aC(this.Vc.seekable)}},{key:"HX",get:function(){return this.Km}},{key:"FX",get:function(){if(sr(this.Vc)&&(this.Vc.videoWidth>0||this.Vc.videoHeight>0))return this.Km}}]),n}(mD),kD=function(t){function n(n){var i;return(i=t.call(this,bf.Rf)||this).currentTime=n,i}return S(n,t),n}(gu),pD=function(t){function n(){return t.call(this,bf.pf)||this}return S(n,t),n}(gu);!function(t){t.zX="VX"}(gD||(gD={}));var bD,AD,TD=[gD.zX];!function(t){t[t.WX=0]="WX",t[t.Yf=1]="Yf",t[t.GX=2]="GX"}(bD||(bD={})),function(t){t.qX="YX"}(AD||(AD={}));var SD=function(t){function n(n){var i;return(i=t.call(this,AD.qX)||this).jX=n,i}return S(n,t),n}(gu),ED=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).QX=rS.fC(),n}S(n,t);var i=n.prototype;return i.ZX=function(t,n){var i=new rS([t,n]);this.QX=this.QX.YN(i),this.Qs(new SD(i))},i.KX=function(t,n){this.QX=this.QX.QN(new rS([t,n]))},i.k_=function(){this.QX=rS.fC()},i.Sd=function(){this.$s()},A(n,[{key:"JX",get:function(){return this.QX}}]),n}(wu);function ID(t,n){return void 0===n&&(n=new gd({highWaterMark:1/0})),new ad(new DD(t,n),{highWaterMark:0})}var RD,DD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.ov=void 0,this.$X=void 0,this.tH=void 0,this.bv=[],this.Av=0,this.qM=void 0,this.nH=!1,this.iH=void 0,this.eH=function(t){return t.done?(i.rH(),void i.qM.close()):(i.bv.push(t.value),i.Av+=i.$X(t.value),i.nH&&i.rH(),i.sH()?i.ov.read().then(i.eH):void 0)},this.aw=function(t){i.rH(),i.qM.error(t)},this.ov=t.getReader(),this.$X=r,this.tH=u}var n=t.prototype;return n.start=function(t){this.qM=t,this.sH()&&this.uH()},n.pull=function(){this.bv.length>0?this.rH():this.nH=!0,this.sH()&&this.uH()},n.cancel=function(t){return zs(this.bv),this.Av=0,this.nH=!1,this.ov.cancel(t)},n.rH=function(){if(0!==this.bv.length){var t=this.bv;this.bv=[],this.Av=0,this.nH=!1,this.qM.enqueue(t)}},n.sH=function(){return!!this.nH||this.tH-this.Av>0},n.uH=function(){var t=this;if(!this.iH){var n=this.ov.read().then(this.eH).catch(this.aw);this.iH=n;var i=function(){t.iH===n&&(t.iH=void 0)};n.then(i,i)}},t}(),ND=function(){function t(){this.oH=[],this.Cu=0}var n=t.prototype;return n.VU=function(t){this.oH.push(t),this.Cu+=t.byteLength},n.aH=function(t){if(this.Cu<=t)return this.hH();for(var n=this.oH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Oo(n[e],0,s)),i+=s}return{oH:r,Cu:i}},n.cH=function(t){var n=this.aH(t);return 1===n.oH.length?n.oH[0]:Hu(n.oH,n.Cu)},n.hH=function(){return{oH:this.oH,Cu:this.Cu}},n.fH=function(t){if(this.Cu<=t)return this.vH();for(var n=this.oH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Oo(n[0],0,s)),n[0]=Oo(n[0],s),i+=s}return this.Cu-=i,{oH:r,Cu:i}},n.lH=function(t){var n=this.fH(t);return 1===n.oH.length?n.oH[0]:Hu(n.oH,n.Cu)},n.vH=function(){var t=this.hH();return this.oH=[],this.Cu=0,t},n.dH=function(){var t=1===this.oH.length?this.oH[0]:Hu(this.oH,this.Cu);return this.oH=[],this.Cu=0,t},t}();!function(t){t[t.wH=0]="wH",t[t._H=1]="_H",t[t.gH=2]="gH"}(RD||(RD={}));var CD=function(){var t=n.prototype;function n(){this.bv=new ND,this.me=RD.wH,this.mH=0,this.yH=0,this.kH()}return t.pH=function(t,n){},t.bH=function(){},t.AH=function(t){this.bv.VU(t),this.TH(!1)},t.SH=function(){this.TH(!0)},t.EH=function(){return this.me!==RD.wH||0!==this.bv.Cu},t.TH=function(t){for(;0!==this.bv.Cu;){if(!t&&this.mH>this.bv.Cu)return;switch(this.me){case RD.wH:this.IH(t);break;case RD._H:this.RH(t);break;case RD.gH:this.DH(t)}}},t.kH=function(){this.me=RD.wH,this.mH=8},t.IH=function(t){var n=Lo(this.bv.cH(this.mH)),i=new Vo,e=Qk.kA(n,i);if(!e.wA)return this.mH=e.bA,void(t&&this.mH>this.bv.Cu&&this.NH(this.bv.Cu));var r=e.pA.fs,s=e.pA.Cu;0===s&&(s=1/0),this.pH(r,s),this.CH(r)?this.PH(s):this.NH(s)},t.PH=function(t){this.me=RD._H,this.mH=t},t.RH=function(t){var n=Lo(this.bv.lH(this.mH)),i=new Vo,e=Qk._A(n,i,!t);if(!e.wA)throw new jk(i.Pu);this.bH(),this.BH(e.gA),this.kH()},t.NH=function(t){this.me=RD.gH,this.mH=0,this.yH=t},t.DH=function(t){var n=this.bv.fH(this.yH);this.yH-=n.Cu;for(var i=0,e=n.oH;i<e.length;i++){var r=e[i];this.OH(r)}(0===this.yH||t&&this.yH===1/0)&&(this.bH(),this.kH())},n}();function PD(t){return t instanceof Gh}function BD(t){return t instanceof Vh}function OD(t){return t instanceof Hh||t instanceof Fh}function xD(t){return t instanceof fh}function LD(t){return t instanceof Fa}function MD(t){return t instanceof ec}function UD(t){return t instanceof Kh}function XD(t,n){var i=xs(t.boxes,UD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof $h&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var HD=function(t){function n(n){var i;return(i=t.call(this)||this).qM=void 0,i.xH=void 0,i.LH=void 0,i.MH=Br(),i.xH=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.qM=t},i.transform=function(t){this.AH(t)},i.flush=function(){this.SH()},i.CH=function(t){return t===sk.sb||t===sk.Ob||t===sk.Wb},i.BH=function(t){var n=this.UH(t);this.qM.enqueue(n)},i.OH=function(t){this.qM.enqueue(t)},i.UH=function(t){var n=Mo(t.Fi.Fi);switch(t.fs){case"moov":return this.XH(n);case"sidx":return this.HH(n);case"moof":return this.FH(n)}return n},i.zH=function(t){var n=this.MH.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.XH=function(t){for(var n=pc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Lh?n.boxes[i]=this.VH(e):e instanceof Mh?n.boxes[i]=this.WH(e):e instanceof Vh&&this.GH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Bh&&this.qH(u)}return n.serialize().join()},i.VH=function(t){this.LH=t.timescale;var n=zD(ft.fromNumber(t.duration,!0),this.YH,this.xH);return 0!==n.getHighBits()?this.WH(function(t){return new Mh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.xH,t.duration=n.toInt(),t)},i.WH=function(t){return this.LH=t.timescale,t.timescale=this.xH,t.duration=zD(t.duration,this.YH,this.xH),t},i.GH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Hh?(n=e.trackId,t.boxes[i]=this.jH(e)):e instanceof Fh?(n=e.trackId,t.boxes[i]=this.QH(e)):e instanceof fh?this.ZH(e,n):e instanceof th&&this.KH(e)}},i.jH=function(t){var n=zD(ft.fromNumber(t.duration,!0),this.YH,this.xH);return 0!==n.getHighBits()?this.QH(function(t){return new Fh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),duration:ft.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.QH=function(t){return t.duration=zD(t.duration,this.YH,this.xH),t},i.ZH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof oh?t.boxes[i]=this.JH(e,n):e instanceof ah&&(t.boxes[i]=this.$H(e,n))}},i.JH=function(t,n){this.MH.set(n,t.timescale);var i=zD(ft.fromNumber(t.duration,!0),t.timescale,this.xH);return 0!==i.getHighBits()?this.$H(function(t){return new ah({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.xH,t.duration=i.toInt(),t)},i.$H=function(t,n){return this.MH.set(n,t.timescale),t.timescale=this.xH,t.duration=zD(t.duration,t.timescale,this.xH),t},i.KH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Ka?this.tF(e):e instanceof Ja&&this.nF(e)}},i.tF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=FD(e.mediaTime,this.YH,this.xH),e.segmentDuration=FD(e.segmentDuration,this.YH,this.xH)}},i.nF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=zD(e.mediaTime,this.YH,this.xH),e.segmentDuration=zD(e.segmentDuration,this.YH,this.xH)}},i.qH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ch?this.iF(i):i instanceof Rh?t.boxes[n]=this.eF(i):i instanceof Dh&&(t.boxes[n]=this.rF(i))}},i.iF=function(t){var n=this.zH(t.trackId);t.defaultSampleDuration=FD(t.defaultSampleDuration,n,this.xH)},i.eF=function(t){var n=zD(ft.fromNumber(t.fragmentDuration,!0),this.YH,this.xH);return 0!==n.getHighBits()?this.rF(function(t){return new Dh(ft.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.rF=function(t){return t.fragmentDuration=zD(t.fragmentDuration,this.YH,this.xH),t},i.HH=function(t){var n=bc(t);return(n=n instanceof hc?this.sF(n):this.uF(n)).serialize().join()},i.sF=function(t){var n=t.timescale,i=zD(ft.fromNumber(t.earliestPresentationTime,!0),n,this.xH);if(0!==i.getHighBits())return this.uF(function(t){return new cc(t.referenceId,t.timescale,ft.fromNumber(t.earliestPresentationTime,!0),ft.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.xH,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=FD(s.subsegmentDuration,n,this.xH)}return t},i.uF=function(t){var n=t.timescale;t.timescale=this.xH,t.earliestPresentationTime=zD(t.earliestPresentationTime,n,this.xH);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=FD(r.subsegmentDuration,n,this.xH)}return t},i.FH=function(t){for(var n=Ac(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof nc&&this.oF(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof nc&&XD(c,o)}return n.serialize().join()},i.oF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Kh?(n=this.zH(e.trackId),this.aF(e,n)):e instanceof jh?t.boxes[i]=this.hF(e,n):e instanceof Qh?t.boxes[i]=this.cF(e,n):e instanceof $h&&this.fF(e,n)}},i.aF=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=FD(t.defaultSampleDuration,n,this.xH))},i.hF=function(t,n){var i=zD(ft.fromNumber(t.baseMediaDecodeTime,!0),n,this.xH);return 0!==i.getHighBits()?this.cF(function(t){return new Qh(ft.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.cF=function(t,n){return t.baseMediaDecodeTime=zD(t.baseMediaDecodeTime,n,this.xH),t},i.fF=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=FD(u+=h.duration,n,this.xH);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.xH,ft.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},A(n,[{key:"YH",get:function(){if(void 0===this.LH)throw new v("Expected to have found a movie header timescale.");return this.LH}}]),n}(CD);function FD(t,n,i){return ft.fromInt(t,!0).multiply(i).divide(n).toNumber()}function zD(t,n,i){return Wy.Vk(t).vp(Wy.Wk(i,!0))._p(Wy.Wk(n,!0)).tp()}var VD,WD,GD,qD=1e5,YD=function(){function t(t){this.vF=void 0,this.vF=new HD(t)}return t.prototype.lF=function(t){return t.pipeThrough(new md(this.vF))},t}();function jD(t,n,i){var e=eo(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function QD(t,n){jD(t,n,VD.dF);var i,e,r,s=ZD(t,n),u=n.Pu+s,o=ho(t,n),a=eo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=ho(t,n)),h)&&(e=_o(t,n,eo(t,n)));c&&(r=_o(t,n,2));var v=function(t,n){jD(t,n,VD.wF);var i,e=ZD(t,n),r=n.Pu+e,s=eo(t,n),u=eo(t,n),o=u>>2,a=0!=(2&u),h=ao(t,n,3),c=fo(t,n),f=fo(t,n);if(n.Pu<r){var v=function(t,n){return t.getUint8(n.Pu)}(t,n);v===VD._F&&(i=function(t,n){jD(t,n,VD._F);var i=ZD(t,n),e=so(t,n,i);return{gF:VD._F,mF:e}}(t,n))}return n.xu(r),{gF:VD.wF,yF:s,kF:o,pF:a,bF:h,AF:c,TF:f,SF:i}}(t,n);return n.xu(u),{gF:VD.dF,P_:o,EF:i,Ql:e,IF:f,RF:r,DF:v}}function ZD(t,n){for(var i=0,e=0;e<4;e++){var r=eo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function KD(t,n){for(var i=eo(t,n),e=eo(t,n),r=eo(t,n),s=eo(t,n),u=3&eo(t,n),o=31&eo(t,n),a=[],h=0;h<o;h++){var c=ho(t,n);a.push(so(t,n,c))}for(var f=eo(t,n),v=[],l=0;l<f;l++){var d=ho(t,n);v.push(so(t,n,d))}return{NF:i,CF:e,PF:r,BF:s,OF:u,xF:a,LF:v}}function JD(t){var n=Yk(tp.RA(t),sk.sb);if(n){for(var i=n.pA.yp,e=[],r=0,s=n.VA;r<s.length;r++){for(var u=s[r],o=u.pA.iT,a=u.JA.pA.yp,h=void 0,c=void 0,f=0,v=u.JA.cT.lT.wT.gT;f<v.length;f++){var l,d,w=$D(v[f]);if(w)h=null!=(l=w.MF)?l:h,c=null!=(d=w.UF)?d:c}e.push({iT:o,yp:a,XF:{MF:h,UF:c,HF:void 0}})}return{yp:i,VA:e}}}function $D(t){var n,i;if(t.fs===sk.pb)n=function(t){return"avc1."+tN(t.CF,2)+tN(t.PF,2)+tN(t.BF,2)}(KD(Lo(t.VT.Fi),new Vo));else if(t.fs===sk.Ab||t.fs===sk.Tb){var e=function(t,n){for(var i=n.Xu(),e=Gu(t,i,8),r=Gu(t,i,2),s=Gu(t,i,1),u=Gu(t,i,5),o=Gu(t,i,32),a=[],h=0;h<6;h++)a.push(Gu(t,i,8));var c=Gu(t,i,8);i.Bu(4);var f=Gu(t,i,12);i.Bu(6);var v=Gu(t,i,2);i.Bu(6);var l=Gu(t,i,2);i.Bu(5);var d=Gu(t,i,3);i.Bu(5);for(var w=Gu(t,i,3),_=Gu(t,i,16),g=Gu(t,i,2),m=Gu(t,i,3),y=Gu(t,i,1),k=Gu(t,i,2),p=Gu(t,i,8),b=[],A=0;A<p;A++){var T=Gu(t,i,1);i.Bu(1);for(var S=Gu(t,i,6),E=Gu(t,i,16),I=[],R=0;R<E;R++){var D=Gu(t,i,16),N=so(t,new Vo(i.Pu>>3),D);i.Bu(8*D),I.push({FF:D,zF:N})}b.push({VF:T,WF:S,GF:E,qF:I})}return{NF:e,YF:r,jF:s,QF:u,ZF:a,KF:c,JF:f,tz:v,nz:o,iz:l,ez:d,rz:w,sz:_,oz:m,cz:y,fz:g,OF:k,vz:p,lz:b}}(Lo(t.YT.Fi),new Vo);n=function(t,n){var i=t.toString()+".";switch(n.YF){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.QF.toString()+".",i+=(e=n.nz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.jF){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.KF.toString();for(var s=n.ZF.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.ZF[u].toString(16).toUpperCase();return i}(t.fs,e)}else{if(t.fs!==sk.Ib)return(t.fs===sk.Bb||t.fs===sk.Pb)&&t.ZT?$D(t.ZT):void 0;i=function(t){var n=t.DF;switch(n.yF){case WD.wz:return function(t){var n;if(null==(n=t.SF)||!n.mF)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Gu(t,n,5);31===i&&(i=32+Gu(t,n,6));var e,r=Gu(t,n,4);return 15===r&&(e=Gu(t,n,24)),{_z:i,gz:r,mz:e,yz:Gu(t,n,4)}}(Lo(t.SF.mF),new qu)._z}(n);case WD.kz:return"mp4a.40.2";case WD.pz:return"mp4a.40.34"}}(QD(Lo(t.MT.Fi),new Vo))}return{MF:n,UF:i,HF:void 0}}function tN(t,n){return gs(t.toString(16),n,"0")}function nN(t,n){var i=tp.RA(Lo(t)),e=function(t,n){for(var i,e=0,r=t.VA;e<r.length;e++){var s,u=r[e],o=null==(s=u._S)?void 0:s._S;o&&function(){var t=u.pA.iT,e=xs(n.VA,function(n){return n.iT===t}),r=$y.Vk(o,e.yp);i&&!r.Bk(i)||(i=r)}()}return i}(Yk(i,sk.Ob),n),r=Yk(i,sk.Fb);return{Vy:e.Ek(),bz:r.Fi}}function iN(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.fs,e.next=e.t0===bD.WX?3:e.t0===bD.Yf?4:e.t0===bD.GX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Dr.awrap(Od(t.Fi,n));case 6:return i=e.sent,nu(n),e.abrupt("return",{fs:bD.WX,Fi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.dF=3]="dF",t[t.wF=4]="wF",t[t._F=5]="_F"}(VD||(VD={})),function(t){t[t.wz=64]="wz",t[t.kz=103]="kz",t[t.pz=107]="pz"}(WD||(WD={})),function(t){t[t.Az=0]="Az",t[t.Tz=1]="Tz",t[t.kz=2]="kz",t[t.Sz=5]="Sz",t[t.Ez=34]="Ez"}(GD||(GD={}));var eN=20,rN=M.Bn,sN=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Iz=void 0,o.Rz=void 0,o.Dz=void 0,o.Nz=void 0,o.Cz=void 0,o.fL=eN,o.vL=ZI,o.Pz=!1,o.Bz=!1,o.Oz=void 0,o.xz=new Js,o.Lz=void 0,o.Mz=!1,o.Uz=void 0,o.Xz=!1,o.Hz=void 0,o.Fz=function(){o.Pz=!1},o.Iz=i,o.Rz=n,o.Dz=e,o.Dz.addEventListener("updateend",o.Fz),o.Nz=r,o.Cz=s,o.Xz=uN(r.Nl,s),null!=(u=i.rc)&&u.Ke&&(o.Lz=new YD(qD)),o}S(n,t);var i=n.prototype;return i.zz=function(t,n,i){var e=this;switch(t.fs){case bD.WX:case bD.Yf:return this.Vz(function(i){return e.Wz(t,n,i)},i);case bD.GX:throw new v("Opaque segments are not supported on web.")}},i.Gz=function(t,n){var i=this;switch(t.fs){case bD.WX:return this.Vz(function(n){return i.qz(t,n)},n);case bD.Yf:throw new v("Streaming initialization segments are not supported on web.");case bD.GX:throw new v("Opaque initialization segments are not supported on web.")}},i.qz=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Xz){i.next=3;break}return this.Hz=JD(Lo(t.Fi)),i.abrupt("return");case 3:return i.next=5,Dr.awrap(this.Yz(t,void 0,n));case 5:rN&&(this.Mz=!1,this.Uz=t);case 6:case"end":return i.stop()}},null,this,null,We)},i.Wz=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(rN&&this.Mz&&this.Uz)){u.next=3;break}return u.next=3,Dr.awrap(this.qz(this.Uz,i));case 3:if(u.prev=3,nu(i),!this.Xz||!this.Hz){u.next=12;break}return u.next=8,Dr.awrap(iN(t,i));case 8:r=u.sent,s=nN(r.Fi,this.Hz),t={fs:bD.WX,Fi:s.bz},n=Nr({},n,{Zp:s.Vy+(null!=(e=n.Zp)?e:0)});case 12:return u.next=14,Dr.awrap(this.Yz(t,n,i));case 14:this.Qs(new gu(gD.zX));case 15:return u.prev=15,t.fs===bD.Yf&&t.Fi.cancel(new $s).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],We)},i.Yz=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:nu(i),n&&this.jz(n),s.t0=t.fs,s.next=s.t0===bD.WX?5:s.t0===bD.Yf?13:21;break;case 5:if(!this.Lz){s.next=10;break}return e=this.Lz.lF(Pd(t.Fi)),s.next=9,Dr.awrap(this.Qz(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Dr.awrap(this.Zz(t.Fi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.Lz){s.next=18;break}return r=this.Lz.lF(t.Fi),s.next=17,Dr.awrap(this.Qz(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Dr.awrap(this.Qz(t.Fi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,We)},i.Qz=function(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Rz.Km,e=ID(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Dr.awrap(ru(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return nu(n),o=Xu(u.value),s=!0,c.next=17,Dr.awrap(this.Zz(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Dr.awrap(this.Kz());case 27:a=this.Rz.Km.FN(i.zN()),h=0;case 29:if(!(h<a.b_)){c.next=35;break}return c.next=32,Dr.awrap(this.Jz(a.RN(h),a.NN(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],We)},i.$z=function(t,n){var i=this;return this.Vz(function(){return i.tV(t,n)})},i.tV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Dz.appendWindowStart===t&&this.Dz.appendWindowEnd===n){i.next=6;break}return i.next=3,Dr.awrap(this.Kz());case 3:this.Dz.appendWindowStart=0,this.Dz.appendWindowEnd=n,this.Dz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},i.jz=function(t){this.Dz.timestampOffset!==t.Zp&&(this.Dz.timestampOffset=t.Zp)},i.Zz=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Dz.appendBuffer(t),this.Bz=!0,n.next=4,Dr.awrap(this.nV());case 4:case"end":return n.stop()}},null,this,null,We)},i.iV=function(t,n,i){var e=this;return this.Vz(function(i){return e.Jz(t,n,i)},i)},i.Jz=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),this.Dz.remove(t,n),e.next=4,Dr.awrap(this.nV());case 4:case"end":return e.stop()}},null,this,null,We)},i.nV=function(){var t=this,n=this.Rz.Km;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.nC(t.Rz.Km)||t.Qs(new gu(gD.zX)),i()):e(new v(r))},c=function(){t.Dz.removeEventListener("update",u),t.Dz.removeEventListener("error",o),t.Dz.removeEventListener("abort",a),t.Dz.removeEventListener("updateend",h)};t.Dz.addEventListener("update",u),t.Dz.addEventListener("error",o),t.Dz.addEventListener("abort",a),t.Dz.addEventListener("updateend",h)})},i.eV=function(){var t=this;return this.Vz(function(){return t.Kz()})},i.Kz=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Iz.Y_===EN.Bd){t.next=2;break}return t.abrupt("return");case 2:rN&&(this.Mz=!0),this.Dz.updating&&(this.Pz=!0);try{this.Dz.abort()}catch(t){0,this.Pz=!1}if(!this.ux){t.next=8;break}return t.next=8,Dr.awrap(this.nV().catch(K));case 8:case"end":return t.stop()}},null,this,null,We)},i.rV=function(){return"function"==typeof this.Dz.changeType},i.CX=function(t){var n;this.sV(),this.Iz.Y_!==EN.uV&&(this.Nz=t,this.Cz=null!=(n=NN(t.Nl))?n:t.Nl,this.Xz=uN(t.Nl,this.Cz),this.rV()&&this.Dz.changeType(this.Cz))},i.oV=function(){this.Iz.Y_!==EN.mf||this.Oz||this.ux||(this.Dz.timestampOffset=this.Dz.timestampOffset,this.Iz.aV())},i.Vz=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.sV(),(i=new Js).zs(this.xz.Ws),n&&i.zs(n),e.prev=4,this.Oz=t(i.Ws),e.next=8,Dr.awrap(this.Oz);case 8:if(this.Iz.aV(),!this.ux){e.next=12;break}return e.next=12,Dr.awrap(this.nV());case 12:return e.prev=12,this.Oz=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},i.sV=function(){if(this.Oz)throw new v("Internal error")},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.xz.Fs(),!this.Oz){t.next=6;break}return t.next=5,Dr.awrap(this.Oz.catch(K));case 5:this.Oz=void 0;case 6:this.Dz.removeEventListener("updateend",this.Fz);case 7:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"ux",get:function(){return this.Pz||this.Dz.updating}}]),n}(wu);function uN(t,n){return ls(t,"audio/mp4")&&ls(n,"audio/mpeg")}var oN=function(){function t(t,n){this.hV=void 0,this.Dz=void 0,this.cV=void 0,this.hV=n,this.Dz=t}var n=t.prototype;return n.XX=function(){return!!this.cV&&this.Km.LN().GD(this.cV)},n.fV=function(){var t=this.Km;this.cV=t.b_>0?t.NN(t.b_-1):0,this.hV.vV()},n.oV=function(){this.cV=void 0},A(t,[{key:"Km",get:function(){if(this.hV.Y_===EN.uV)return rS.fC();var t=rS.aC(this.Dz.buffered).FN(new rS([0,1/0])),n=this.cV;return void 0!==n&&t.b_>0&&t.NN(t.b_-1)===n&&(t=t.YN(rS.cC(n))),t}}]),t}();function aN(t){var n=t._c("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function hN(t,n){var i=cN(t)||fN(t),e=cN(n)||fN(n);return!i&&!e||t===n}function cN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function fN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function vN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function lN(t,n,i,e,r,s,u){var o=new oN(r,t),a=new sN(o,t,r,i,s);return new dN(t,n,i,e,o,a,u)}var dN=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Iz=void 0,a.Pc=void 0,a.lV=void 0,a.KR=void 0,a.Dc=void 0,a.dV=void 0,a.Rz=void 0,a.wV=void 0,a._V=Pr(),a.Iz=n,a.Pc=e,a.Dc=e.Nl,a.lV=r,a.KR=i,a.Rz=s,a.wV=u,a.dV=o,a.wV.Zs(gD.zX,a.js),a}S(n,t);var i=n.prototype;return i.XX=function(){return this.Rz.XX()},i.fV=function(){this.Rz.fV()},i.oV=function(){this.Rz.oV(),this.wV.oV()},i.gV=function(t,n){this.dV.ZX(t,n)},i.mV=function(t,n){this.dV.KX(t,n)},i.yV=function(){return this.wV.eV()},i.zz=function(t,n,i){return this.wV.zz(t,n,i)},i.Gz=function(t,n,i){return this.wV.Gz(t,i)},i.$z=function(t,n){return M.Tn&&M.Sn<3?this.wV.$z(t,1/0):this.wV.$z(t,n)},i.Qh=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.mV(t,n),e=this.Km,s.next=4,Dr.awrap(this.wV.iV(t,n,i));case 4:r=0!==e.b_&&0===this.Km.b_,(M.Mn||M.En)&&r&&this.KR.xu(this.KR.Xg);case 6:case"end":return s.stop()}},null,this,null,We)},i.NX=function(t){var n=t.Nl;if(this.Dc===n)return!0;var i=this._V.get(n);if(void 0!==i)return i;var e=this.kV(t);return this._V.set(n,e),e},i.kV=function(t){var n=NN(t.Nl);if(void 0===n)return!1;var i=Bc(this.Dc),e=Bc(n),r=aN(i),s=aN(e);if(this.wV.rV()){if(!function(t,n){return Zs(t,n,hN)}(r,s))return!1}else{if(i.fs!==e.fs)return!1;if(!function(t,n){return Zs(t,n,vN)}(r,s))return!1}return!0},i.CX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Nl,this.Dc!==n&&(this._V.clear(),this.wV.CX(t),this.Dc=n),this.Pc=t,this.Iz.pV();case 4:case"end":return i.stop()}},null,this,null,We)},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._V.clear(),this.$s(),this.dV.Sd(),t.prev=3,this.wV.tu(gD.zX,this.js),t.next=7,Dr.awrap(this.wV.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},A(n,[{key:"Km",get:function(){return this.Rz.Km}},{key:"rc",get:function(){return this.Pc}},{key:"Nl",get:function(){return this.Dc}},{key:"bV",get:function(){return this.lV}},{key:"AV",get:function(){return this.dV.JX}},{key:"eL",get:function(){return this.wV.eL},set:function(t){this.wV.eL=t}},{key:"oL",get:function(){return this.wV.oL},set:function(t){this.wV.oL=t}},{key:"ux",get:function(){return this.wV.ux}}]),n}(wu),wN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.TV=void 0,this.RN=t,this.NN=n,this.SV=i,this.EV=e,this.TV=jE()}return t.prototype.RV=function(){var t=this.RN,n=this.NN;if(this.SV||this.EV){var i=.001*(jE()-this.TV);this.SV&&(t+=i),this.EV&&(n+=i)}return t>=n?rS.fC():new rS([t,n])},t}(),_N=100,gN=3500,mN=1e3,yN=2e3,kN=1e4,pN=.01,bN=1,AN=[bf.If,bf.Ef,bf.Bf,bf.Pf,bf.mf,bf.Df,hm.u_,Ig.z_],TN=function(){function t(t,n,e){var r=this;this.AE=qg.Rg,this.DV=!1,this.NV=[],this.CV=void 0,this.PV=void 0,this.BV=0,this.OV=0,this.xV=0,this.LV=0,this.MV=1,this.UV=void 0,this.XV=void 0,this.HV=function(t){var n=r.KR.Xg;t.jX.GD(n)&&r.FV(n)},this.zV=$(function(){r.VV(hm.u_)},_N),this.WV=$(function(){r.VV(bf.Rf)},_N),this.GV=$(function(){r.VV(bf.Hf)},_N),this.qV=function(){r.YV()?0===r.LV&&(r.KR.Zs(bf.Hf,r.GV),r.PV=i.Qn(function(){r.jV()},gN)):r.QV()},this.ZV=function(){var t=r.BV,n=r.xV,e=r.KR.Xg,s=i.ir(),u=r.Rz.Km,o=t!==e;if(o||!r.YV()||0===u.b_)return r.BV=e,r.xV=s,void(o&&(r.MV=1,r.UV=i.Pw?yN:mN));if(n>0&&s>n+r.UV){var a,h,c=r.JX.LN().QN(u),f=c.rC(e);if(-1!==f){var v=c.RN(f);if(v-e<bN){var l=c.NN(f);0,a=l}}if(!a)(a=null==(h=r.XV)?void 0:h.determineStallJumpTarget())||(a=e+r.MV*pN,u.GD(a)||(a=r.KV(e,u)));0,r.BV=a,r.xV=s,r.MV++,r.UV=w.min(2*r.UV,kN),r.KR.xu(a)}},this.Rz=t,this.KR=n,this.KR.Zs(hm.u_,this.zV),this.KR.Zs(bf.Rf,this.WV),this.KR.Zs(AN,this.qV),this.XV=e,this.UV=i.Pw?yN:mN}var n=t.prototype;return n.JV=function(t){this.NV.push(t),t.Zs(AD.qX,this.HV)},n.Sd=function(){var t=this;this.QV(),this.AE=qg.Rg,this.KR.tu(hm.u_,this.zV),this.KR.tu(bf.Rf,this.WV),this.KR.tu(AN,this.qV),this.NV.forEach(function(n){return n.tu(AD.qX,t.HV)}),void 0!==this.CV&&(i.jn(this.CV),this.CV=void 0),this.DV=!0},n.VV=function(t){if(!this.DV)if(t!==bf.Hf||0!==this.LV){var n=this.KR.Y_;if(n<=qg.Ng){var i=this.KR.Xg,e=this.Rz.Km,r=e.ZN(i),s=e.NN(r);-1!==r&&(t===hm.u_&&n<this.AE||t===bf.Rf&&n===this.AE)&&s<i+.5&&(i=s),this.FV(i)||this.ZV()}t===hm.u_&&(this.AE=n)}else this.jV()},n.FV=function(t){var n=this;if(this.KR.Fg)return!1;var e=this.Rz.Km,r=-1,s=e.ZN(t);if(-1!==s){if(e.NN(s)<=t+.5&&e.b_>s+1){var u=e.RN(s+1);u<=t+1&&(r=u)}}else{var o=this.JX.LN().QN(this.Rz.Km),a=o.ZN(t);-1!==a&&(r=o.NN(a))}if(-1!==r&&!(w.abs(r-t)<=.001)){if(i.Pw){if(void 0!==this.CV)return!1;this.OV=this.KR.Xg,this.CV=i.Qn(function(){n.OV===n.KR.Xg&&n.KR.xu(r),n.CV=void 0},250)}else this.KR.xu(r);return!0}return!1},n.$V=function(){this.PV&&(i.jn(this.PV),this.PV=void 0),this.KR.tu(bf.Hf,this.GV)},n.jV=function(){0===this.LV&&(this.$V(),this.LV=i.Ar(this.ZV,250))},n.QV=function(){0!==this.LV&&(i.Tr(this.LV),this.LV=0),this.$V(),this.KR.qg||(this.xV=0)},n.YV=function(){return!this.KR.Wg&&!this.KR.qg&&0!==this.KR.Gg&&!this.KR.Fg&&!this.KR.mu&&this.KR.Y_>=qg.Cg},n.KV=function(t,n){var i=n.ZN(t);return i>-1?n.NN(i):t},A(t,[{key:"JX",get:function(){return this.NV.reduce(function(t,n){return t.YN(n.JX)},rS.fC())}}]),t}();function SN(t){var n=[];if(t.tW&&n.push(t.tW.Km),t.nW&&n.push(t.nW.Km),0===n.length)return rS.fC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.b_>0&&(i=w.max(i,r.NN(r.b_-1)))}for(var s=t.XX,u=new rS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.b_>0&&(a=a.YN(new rS([a.NN(a.b_-1),i],[!0,!0]))),u=u.FN(a)}return u}var EN,IN=M.In||M.Rn;!function(t){t.uV="closed",t.Bd="open",t.mf="ended"}(EN||(EN={}));var RN=function(){function t(){}return t.prototype.iW=function(){return new MediaSource},t}(),DN=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new RN),(o=t.call(this,n,i,e,r)||this).eW=void 0,o.rW=void 0,o.sW=void 0,o.uW=new wN(0,1/0),o.JR=void 0,o.oW=void 0,o.aW=void 0,o.hW=!1,o.cW=function(){o.fW()},o.vW=function(){o.KR.vW()},o.eW=s,o.JR=o.eW.iW(),o.KR.Zs(bf.Bf,o.cW),o.aW=new TN(Kt(o),o.KR,u),o}S(n,t);var i=n.prototype;return i.lW=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.dW()?this.wW(t):this.oW=t},i.wW=function(t){var n=t===1/0,i=n?xt:t;if(n&&this.JR.setLiveSeekableRange){var e=w.pow(2,39);this.JR.setLiveSeekableRange(0,e)}this.JR.duration=i,this.oW=void 0},i._W=function(t,n,i,e){this.uW=new wN(t,n,!!i,!!e)},i._L=function(){var t,n,i,e,r,s,u,o,a,h,c;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Pc,n=xs(t.gW,function(t){return ls(t.Nl,"audio")}),i=xs(t.gW,function(t){return ls(t.Nl,"video")}),f.next=5,Dr.awrap(this.mW());case 5:n&&(r=new ED,this.aW.JV(r),s=null!=(e=NN(n.Nl))?e:n.Nl,u=this.JR.addSourceBuffer(s),this.rW=lN(this,this.KR,n,$m.dd,u,s,r),this.rW.Zs(gD.zX,this.vW)),i&&(a=new ED,this.aW.JV(a),h=null!=(o=NN(i.Nl))?o:i.Nl,c=this.JR.addSourceBuffer(h),this.sW=lN(this,this.KR,i,$m.wd,c,h,a),this.sW.Zs(gD.zX,this.vW)),this.TX.jh(this,t);case 8:case"end":return f.stop()}},null,this,null,We)},i.mW=function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.JR),i.next=3,Dr.awrap(t.prototype.xX.call(this,n));case 3:if(this.Y_===EN.Bd){i.next=6;break}return i.next=6,Dr.awrap(W_(this.JR,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i.dW=function(){if(this.Y_!==EN.Bd)return!1;var t=this.rW&&this.rW.ux,n=this.sW&&this.sW.ux;return!(t||n)},i.fV=function(){this.hW=!0,this.rW&&this.rW.fV(),this.sW&&this.sW.fV(),this.hW=!1,this.fW()},i.oV=function(){this.rW&&this.rW.oV(),this.sW&&this.sW.oV()},i.NX=function(n){var i=xs(n.gW,function(t){return ls(t.Nl,"audio")}),e=xs(n.gW,function(t){return ls(t.Nl,"video")});if(this.rW){if(!i)return!1;if(!this.rW.NX(i))return!1}else if(i)return!1;if(this.sW){if(!e)return!1;if(!this.sW.NX(e))return!1}else if(e)return!1;return!!t.prototype.NX.call(this,n)},i.CX=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=xs(n.gW,function(t){return ls(t.Nl,"audio")}),e=xs(n.gW,function(t){return ls(t.Nl,"video")}),r=[],this.rW&&r.push(this.rW.CX(i)),this.sW&&r.push(this.sW.CX(e)),s.next=7,Dr.awrap(We.all(r));case 7:return s.next=9,Dr.awrap(t.prototype.CX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.rW){n.next=4;break}return n.next=3,Dr.awrap(this.rW.xs());case 3:this.rW=void 0;case 4:if(!this.sW){n.next=8;break}return n.next=7,Dr.awrap(this.sW.xs());case 7:this.sW=void 0;case 8:return this.Vc.src&&URL.revokeObjectURL(this.Vc.src),this.KR.tu(bf.Bf,this.cW),this.aW.Sd(),n.next=13,Dr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,We)},i.pV=function(){var t=this,n=this.Pc,i=n.gW.map(function(n){return ls(n.Nl,"audio")&&t.rW?t.rW.rc:ls(n.Nl,"video")&&t.sW?t.sW.rc:n});this.Pc=Nr({},n,{gW:i})},i.vV=function(){this.hW||this.fW()},i.fW=function(){this.yW&&this.dW()&&(this.JR.endOfStream(),this.oW=void 0,this.Qs(new gu(hD.VP)),this.KR.vW())},i.aV=function(){this.dW()&&(this.XX?this.fW():void 0!==this.oW&&this.wW(this.oW))},i.FV=function(t){return this.aW.FV(t)},n.UX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.gW;n<i.length;n++){if(void 0===NN(i[n].Nl))return!1}return!0},A(n,[{key:"tW",get:function(){return this.rW}},{key:"nW",get:function(){return this.sW}},{key:"Hg",get:function(){if(this.oW)return this.oW;var t=this.JR.duration;return t===xt?1/0:t}},{key:"Km",get:function(){return IN?SN(this):(t=this,n=rS.aC(this.Vc.buffered),(i=n).b_>0&&t.XX&&(i=i.YN(rS.cC(i.NN(i.b_-1)))),i);var t,n,i}},{key:"HX",get:function(){var t;return null==(t=this.rW)?void 0:t.Km}},{key:"FX",get:function(){var t;return null==(t=this.sW)?void 0:t.Km}},{key:"py",get:function(){return this.uW.RV().FN(new rS([0,this.Hg],[!0,!0]))}},{key:"XX",get:function(){return(!this.rW||this.rW.XX())&&(!this.sW||this.sW.XX())}},{key:"Y_",get:function(){return this.JR.readyState}},{key:"yW",get:function(){if(!this.XX)return!1;var t=this.Km;return 0!==t.b_&&t.RN(t.b_-1)<=this.KR.Xg}}]),n}(mD);function NN(t){var n=Bc(t),i="audio/mp4"===n.fs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(aN(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.Bn))return t;if(i){var e=xs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var CN=[bf.Ff,bf.Df,bf.Bf,bf.If,bf.Ef],PN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this)._C=n,c.ua=i,c.kW=e,c.mC=r,c.kC=s,c.gC=u,c.yC=o,c.Da=a,c.pW=h,c}S(n,t);var i=n.prototype;return i.Cm=function(){this.mC||(this.mC=!0,this.Qs(new fm(this.Xg)))},i.Nm=function(){this.mC&&(this.mC=!1,this.Qs(new vm(this.Xg)))},i.xs=function(){this.$s()},A(n,[{key:"Xg",get:function(){return this._C},set:function(t){this.Xg!==t&&(this._C=t,this.kC=!0,this.Qs(new pm(this.Xg)))}},{key:"Hg",get:function(){return this.ua}},{key:"Fg",get:function(){return this.kW}},{key:"Wg",get:function(){return this.mC}},{key:"Y_",get:function(){return this.pW}},{key:"qg",get:function(){return this.kC}},{key:"Vg",get:function(){return this.gC},set:function(t){this.Vg!==t&&(this.gC=t,this.Qs(new Am(this.Xg,this.Qg)))}},{key:"Gg",get:function(){return this.yC},set:function(t){this.Gg!==t&&(this.yC=t,this.Qs(new gm(this.Xg,this.Gg)))}},{key:"Qg",get:function(){return this.Da},set:function(t){this.Qg!==t&&(this.Da=t,this.Qs(new Am(this.Xg,this.Qg)))}}]),n}(wu);var BN=function(t){function n(n){var i;return(i=t.call(this)||this).KR=void 0,i.AE=qg.Rg,i.bW=function(){i.AW()},i.KR=n,i}S(n,t);var i=n.prototype;return i.TW=function(t){this.AE!==t&&(this.AE=t,this.Qs(new Em(this.KR.Xg,t)))},i.AW=function(){this.TW(this.jL())},i.k_=function(){this.TW(qg.Rg)},i.xs=function(){this.$s()},A(n,[{key:"Y_",get:function(){return this.jL()}}]),n}(wu),ON=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],xN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<ON.length;e++){var r=ON[e];i.KR.SD.addEventListener(r,i.bW)}return i}S(n,t);var i=n.prototype;return i.jL=function(){var t=this.KR.SD.readyState;return t>qg.Ng&&this.KR.SW?qg.Ng:(this.KR.SD.seeking&&t>qg.Dg&&(t=qg.Dg),t)},i.xs=function(){for(var n=0;n<ON.length;n++){var i=ON[n];this.KR.SD.removeEventListener(i,this.bW)}t.prototype.xs.call(this)},n}(BN),LN=function(t){function n(n){var i;(i=t.call(this,n)||this).KR.Zs(bf.Bf,i.bW);for(var e=0;e<ON.length;e++){var r=ON[e];i.KR.SD.addEventListener(r,i.bW)}return i}S(n,t);var i=n.prototype;return i.jL=function(){if(this.KR.SD.readyState===qg.Rg)return qg.Rg;var t=this.EW(),n=t?t.NN-t.RN:0;if(!t)return qg.Dg;var i=this.KR.Gg;return this.IW()||n>=3*i?qg.Pg:n>=3?qg.Cg:qg.Ng},i.EW=function(){var t=this.KR.Xg,n=this.KR.Km.qN(.04),i=n.ZN(t);if(!(i<0))return{RN:t,NN:n.NN(i)}},i.IW=function(){if(this.KR.Fg)return!0;var t=this.KR.Hg,n=this.EW();return!!n&&t-n.NN<=1/6},i.xs=function(){this.KR.tu(bf.Bf,this.bW);for(var n=0;n<ON.length;n++){var i=ON[n];this.KR.SD.removeEventListener(i,this.bW)}t.prototype.xs.call(this)},n}(BN),MN=[hm.u_,bf.If,bf.Ef,bf.Bf,bf.Pf,bf.mf,Ig.z_],UN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vc=void 0,i.RW=!1,i.LE=function(){i.RW=!0,i.Zh()},i.Vc=n.SD,i.Vc.addEventListener(hm.Ug,i.LE),i}S(n,t);var i=n.prototype;return i.DW=function(){return this.RW&&t.prototype.DW.call(this)},i.Zh=function(){this.RW&&(this.Vc.paused||this.Vc.ended||this.Vc.error)&&(this.RW=!1),t.prototype.Zh.call(this)},i.k_=function(){t.prototype.k_.call(this),this.RW=!1},i.xs=function(){this.Vc.removeEventListener(hm.Ug,this.LE),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).RE=void 0,i.NW=!1,i.ox=function(){i.Zh()},i.RE=n,i.RE.Zs(MN,i.ox),i}S(n,t);var i=n.prototype;return i.PW=function(){return this.RE.Y_<qg.Cg},i.DW=function(){return!this.RE.qg&&!(this.RE.Wg||this.RE.Fg||this.RE.mu||this.PW())},i.Zh=function(){var t=this.NW;this.NW=this.DW(),!t&&this.NW&&this.Qs(new fb(this.RE.Xg))},i.k_=function(){this.NW=!1},i.xs=function(){this.$s(),this.RE.tu(MN,this.ox)},n}(wu)),XN=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).mu=void 0,i.mu=n,i}return S(n,t),n}(gu);function HN(t,n){return t.Vy<=n&&t.Wy>n}function FN(t,n){return function(t,n){return Bs(t.Vy,n.Vy,Cy)}(t,n)||function(t,n){return Bs(t.Wy,n.Wy,Cy)}(t,n)}function zN(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,FN,!0);if(i<0)return i;for(;i<t.length&&FN(n,t[i])===Ss.Is;i++)if(t[i].lk(n))return i;return-(i+1)}function VN(t){var n=t.Yw;if(!n)return-1;if(t instanceof By)return n.BW(t);var i=n.j_;if(!i)return-1;var e=zN(i.p_,t);return e>=0?e:-1}function WN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{OW:o,xW:a}}(t,n,FN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var GN=function(){function t(t){this.LW=void 0,this.Ww=void 0,this.LW=t}var n=t.prototype;return n.qw=function(){return function(t){for(var n=[],i=0;i<t.b_;i++)n[i]=t.Iu(i).Gw;return n.item=function(n){var i=0|n,e=t.Iu(i);return e&&e.Gw||void 0},d.defineProperty(n,"constructor",{value:Iy}),n}(this)},n.Ey=function(t){for(var n=this.LW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.lk(e))return!0}return!1},n.Iu=function(t){return this.LW[t]},A(t,[{key:"p_",get:function(){return this.LW}},{key:"b_",get:function(){return this.LW.length}},{key:"Gw",get:function(){if(this.Ww){var t=this.LW;this.Ww.length=t.length;for(var n=0;n<t.length;n++)this.Ww[n]=t[n].Gw}else this.Ww=this.qw();return this.Ww}}]),t}(),qN=function(t){function n(n,i){var e;return(e=t.call(this,Z_.u_)||this).Yw=n,e.Y_=i,e}return S(n,t),n.prototype.qw=function(){return new YN(this.Yw.Gw,Og(this.Y_))},n}(K_),YN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(J_),jN=function(t){function n(n){var i;return(i=t.call(this,Z_.a_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new QN(this.Yw.Gw)},n}(K_),QN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(J_),ZN=function(t){function n(n){var i;return(i=t.call(this,Z_.jw)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new KN(this.zy.Gw)},n}(K_),KN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(J_),JN=function(t){function n(n){var i;return(i=t.call(this,Z_.Zw)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new $N(this.zy.Gw)},n}(K_),$N=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(J_),tC=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).Ww=void 0,h.Bh=void 0,h.Dy=sy(),h.MW=!1,h.UW=void 0,h.XW=void 0,h.Ry=void 0,h.oa=void 0,h.HC=Eg.X_,h.pW=dy.NONE,h.HW=void 0,h.Vi=void 0,h.FW=void 0,h.LW=[],h.zW=[],h.VW=void 0,h.WW=void 0,h.GW=0,h.qW=0,h.Bh=i||"",h.UW=a||"",h.XW=n,h.oa=r||"",h.MW=Boolean(s),h.FW=Boolean(o),h.Vi=u||wy.DEFAULT,h.Ry=e||"",h.VW=new GN(h.LW),h.WW=new GN(h.zW),h}S(n,t);var i=n.prototype;return i.YW=function(t){return xs(this.VW.p_,function(n){return n.P_===t})},i.qw=function(){return Cg(this)},i.nP=function(t){var n=Dg(t);n!==this.W_&&(this.HC=n,n===Eg.X_&&(this.zW.forEach(function(t){t.dk=!1}),zs(this.zW),this.qW=0),this.Qs(new rg(this)))},i.mE=function(t){if(t&&!t.Yw){var n=zN(this.j_.p_,t);if(!(n>=0)){t.Yw=this;var i=-(n+1);this.LW.splice(i,0,t),this.jW(i),t.vk=i,i<this.qW&&(this.qW=i),this.Qs(new ZN(t))}}},i.sE=function(t){if(t&&t.Yw===this){var n=this.BW(t);if(!(n<0)){t.dk=!1;var i=this.zW,e=zN(i,t);e>=0&&Xs(i,e),Xs(this.LW,n),this.jW(n),t.vk=-1,this.qW>n&&--this.qW,this.Qs(new JN(t))}}},i.QW=function(t,n){var i=this.zW,e=this.LW,r=this.qW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){HN(i[u],t)||(s=!0,Xs(i,u))}for(;r<e.length&&e[r].Vy<=t;){var o=e[r];if(0===t)break;HN(o,t)&&!Hs(i,o)&&(s=!0,i.push(o)),r++}s&&Rs(i,FN),this.qW=r},i.BW=function(t){return(-1===t.vk||t.vk>=this.GW)&&this.ZW(),t.vk},i.ZW=function(){for(var t=this.LW,n=this.GW;n<t.length;n++)t[n].vk=n;this.GW=t.length},i.jW=function(t){t<this.GW&&(this.GW=t)},i.G_=function(t){this.q_||(this.W_=t)},i.Sd=function(){this.$s();for(var t=this.LW.slice(),n=0;n<t.length;n++){t[n].Sd()}zs(this.LW),zs(this.zW)},A(n,[{key:"Q_",get:function(){return this.WW}},{key:"j_",get:function(){return this.VW}},{key:"kE",get:function(){return this.MW},set:function(t){this.MW=t}},{key:"q_",get:function(){return this.FW}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"V_",get:function(){return this.UW},set:function(t){this.UW=t}},{key:"O_",get:function(){return this.XW}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new iy(this)))}},{key:"L_",get:function(){return this.oa}},{key:"W_",get:function(){return this.HC},set:function(t){this.nP(t)}},{key:"Y_",get:function(){return this.pW},set:function(t){this.pW!==t&&(this.pW=t,this.Qs(new qN(this,this.pW)))}},{key:"Z_",get:function(){return this.HW},set:function(t){this.HW=t}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new jN(this)))}}]),n}(wu),nC=function(t){function n(n,i){var e;return(e=t.call(this,yy.Uy,n)||this).mp=i,e}return S(n,t),n.prototype.qw=function(){return new iC(this.zy.Gw)},n}(Ty),iC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Sy),eC=function(t){function n(n,i){var e;return(e=t.call(this,yy.Hy,n)||this).mp=i,e}return S(n,t),n.prototype.qw=function(){return new rC(this.zy.Gw)},n}(Ty),rC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Sy),sC=function(t){function n(n){var i;return(i=t.call(this,Z_.Jw)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new uC(this.zy.Gw)},n}(K_),uC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(J_),oC=function(t){function n(n){var i;return(i=t.call(this,Z_.t_)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new aC(this.zy.Gw)},n}(K_),aC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(J_),hC=function(t){function n(n){var i;return(i=t.call(this)||this).KW=void 0,i.ck=void 0,i.Dy=void 0,i.rk=void 0,i.Ww=void 0,i.hk=!1,i.JW=function(){i.dk=!0},i.$W=function(){i.dk=!1},i.Dy=cy(),i.KW=n,i.KW.addEventListener("enter",i.JW),i.KW.addEventListener("exit",i.$W),i}S(n,t);var i=n.prototype;return i.qw=function(){return Ey(this)},i.lk=function(t){return this===t||vg(this,t)&&Py(this,t)},i.Sd=function(){this.$s(),this.KW.removeEventListener("enter",this.JW),this.KW.removeEventListener("exit",this.$W)},A(n,[{key:"B_",get:function(){return this.Dy}},{key:"Vy",get:function(){return this.KW.startTime},set:function(t){this.KW.startTime=t}},{key:"Wy",get:function(){return this.KW.endTime},set:function(t){this.KW.endTime=t}},{key:"Gy",get:function(){return this.ck},set:function(t){this.ck=t}},{key:"wk",get:function(){return!!this.KW.pauseOnExit},set:function(t){this.KW.pauseOnExit=!!t}},{key:"Yw",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"P_",get:function(){return this.KW.id||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"dk",get:function(){return this.hk},set:function(t){this.dk!==t&&(this.hk=t,t?(this.Qs(new nC(this,this.Vy)),this.rk&&this.rk.Qs(new sC(this))):(this.Qs(new eC(this,this.Wy)),this.rk&&this.rk.Qs(new oC(this))))}}]),n}(Lg),cC=function(t){function n(n){var i;return(i=t.call(this,Z_.i_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new fC(this.Yw.Gw)},n}(K_),fC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(J_);function vC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new lC(t),t.THEOplayerVTTRegion=n),n}}var lC=function(){function t(t){this.tG=void 0,this.Ww=void 0,this.tG=t}return A(t,[{key:"nG",get:function(){return this.tG}},{key:"P_",get:function(){return this.tG.id||""}},{key:"Tk",get:function(){return+this.tG.width||0},set:function(t){this.tG.width=t||0}},{key:"_k",get:function(){return+this.tG.lines||0},set:function(t){this.tG.lines=t||0}},{key:"gk",get:function(){return+this.tG.regionAnchorX||0},set:function(t){this.tG.regionAnchorX=t||0}},{key:"yk",get:function(){return+this.tG.regionAnchorY||0},set:function(t){this.tG.regionAnchorY=t||0}},{key:"bk",get:function(){return+this.tG.viewportAnchorX||0},set:function(t){this.tG.viewportAnchorX=t||0}},{key:"Ak",get:function(){return+this.tG.viewportAnchorY||0},set:function(t){this.tG.viewportAnchorY=t||0}},{key:"pk",get:function(){return this.tG.scroll||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Hy(this)),this.Ww}}]),t}();var dC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"Gy",get:function(){return this.KW.text},set:function(t){this.KW.text=t}},{key:"$y",get:function(){return this.KW.vertical||""},set:function(t){this.KW.vertical=t||""}},{key:"Jy",get:function(){return this.KW.snapToLines},set:function(t){this.KW.snapToLines=t}},{key:"Yy",get:function(){return this.KW.line},set:function(t){this.KW.line=t}},{key:"Cu",get:function(){return+this.KW.size},set:function(t){this.KW.size=Mt(t,0,100)}}]),n}(hC),wC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&Oy(this,n)},A(n,[{key:"Ky",get:function(){return vC(this.KW.region)}},{key:"jy",get:function(){return this.KW.lineAlign||"start"},set:function(t){this.KW.lineAlign=t||"start"}},{key:"Qy",get:function(){return this.KW.position},set:function(t){this.KW.position=t}},{key:"Zy",get:function(){return this.KW.positionAlign||"auto"},set:function(t){this.KW.positionAlign=t||"auto"}},{key:"qy",get:function(){return this.KW.align||"center"},set:function(t){this.KW.align=t||"center"}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ry(this)),this.Ww}}]),n}(dC),_C=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&Oy(this,n)},A(n,[{key:"Ky",get:function(){return vC(this.nG)}},{key:"nG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.KW.track,this.KW.regionId)}},{key:"jy",get:function(){return"middle"===(t=this.KW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.KW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Qy",get:function(){return this.KW.position},set:function(t){var n,i;this.KW.position=(n=t,i=this.qy,Ay(n,i))}},{key:"Zy",get:function(){return t=this.KW.positionAlign||"middle",py[t];var t},set:function(t){var n,i;this.KW.positionAlign=(n=t||"center",i=this.qy,ky[by(n,i)])}},{key:"qy",get:function(){return"middle"===(t=this.KW.align||"middle")?"center":t;var t},set:function(t){var n;this.KW.align="center"===(n=t||"center")?"middle":n}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ry(this)),this.Ww}}]),n}(dC);function gC(t,n){return t.Gy===n.Gy}function mC(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Vy<t.Vy)yC(n,i,t.Vy);else{var e=n[0];if(e.Vy>t.Vy)t.Wy=e.Vy;else{var r=zN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Vy<t.Vy&&yC(n,u,t.Vy);if(s<n.length){var o=n[s];t.Wy=o.Vy}}}}}}function yC(t,n,i){for(var e=t[n].Vy,r=n;r>=0&&t[r].Vy===e;r--)t[r].Wy=i}function kC(t){return Ey(t)}var pC,bC,AC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).iG=void 0,e.iG=i,e}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&gC(this,n)},A(n,[{key:"Gy",get:function(){return this.iG}},{key:"Gw",get:function(){return this.Ww||(this.Ww=kC(this)),this.Ww}}]),n}(hC);function TC(t){switch(t){case pC.ISO_8859_1:case pC.UTF16_BOM:case pC.UTF16:case pC.UTF8:return!0}return!1}function SC(t){switch(t){case pC.ISO_8859_1:return mo;case pC.UTF16_BOM:return po;case pC.UTF16:return bo;case pC.UTF8:return No}}function EC(t,n){var i=n.Pu,e=t.byteLength,r=Mo(t);return n.Bu(e-i),Ho(r,i,e).buffer}function IC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function RC(t,n,i){var e=eo(t,n);if(TC(e)){var r=SC(e);return{id:i,language:_o(t,n,3),description:r(t,n),text:r(t,n)}}}function DC(t,n,i){var e=eo(t,n);if(TC(e)){var r=SC(e);return{id:i,mimeType:mo(t,n),fileName:r(t,n),description:r(t,n),data:EC(t,n)}}}function NC(t,n,i){var e=eo(t,n);if(TC(e)){for(var r=SC(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function CC(t,n,i){var e=eo(t,n);if(TC(e)){for(var r=SC(e),s=_o(t,n,3),u=eo(t,n),o=eo(t,n),a=r(t,n),h=!1,c=[];n.Pu<t.byteLength;){var f=void 0;if(e===pC.UTF16_BOM){var v=ko(t,n);void 0===v?v=h:h=v,f=bo(t,n,v)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;c.push({text:f,timestamp:fo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function PC(t,n,i){return{id:i,ownerIdentifier:mo(t,n),identifier:EC(t,n)}}function BC(t,n,i){var e=eo(t,n);if(TC(e)){var r=SC(e);return{id:i,language:_o(t,n,3),description:r(t,n),text:r(t,n)}}}function OC(t,n,i){var e=eo(t,n);if(TC(e))return{id:i,text:SC(e)(t,n)}}function xC(t,n,i){return{id:i,url:mo(t,n)}}function LC(t,n,i){var e=eo(t,n);if(TC(e)){var r=SC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function MC(t,n,i){var e=eo(t,n);if(TC(e))return{id:i,description:SC(e)(t,n),url:mo(t,n)}}function UC(t,n,i){switch(i){case"COM":return RC(t,n,i);case"GEO":return DC(t,n,i);case"IPL":return NC(t,n,i);case"PIC":return function(t,n,i){var e=eo(t,n);if(TC(e)){var r,s,u=SC(e),o=_o(t,n,3),a=eo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=mo(t,n)):(r="image/"+o.toLowerCase(),s=EC(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return CC(t,n,i);case"TXX":return LC(t,n,i);case"UFI":return PC(t,n,i);case"ULT":return BC(t,n,i);case"WXX":return MC(t,n,i);default:if("T"===i.charAt(0))return OC(t,n,i);if("W"===i.charAt(0))return xC(t,n,i)}}function XC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=eo(t,n);if(TC(e)){var r=SC(e),s=mo(t,n);return{id:i,mimeType:s,pictureType:eo(t,n),description:r(t,n),data:"--\x3e"===s?mo(t,n):EC(t,n)}}}(t,n,i);case"COMM":return RC(t,n,i);case"COMR":return function(t,n,i){var e=eo(t,n);if(TC(e)){var r,s,u=SC(e),o=mo(t,n),a=_o(t,n,8),h=mo(t,n),c=eo(t,n),f=u(t,n),v=u(t,n);return n.Pu<t.byteLength&&(r=mo(t,n)||"image/",s=EC(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return DC(t,n,i);case"IPLS":return NC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:mo(t,n),data:EC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:eo(t,n),position:fo(t,n)}}(t,n,i);case"SYLT":return CC(t,n,i);case"TXXX":return LC(t,n,i);case"UFID":return PC(t,n,i);case"USER":return function(t,n,i){var e=eo(t,n);if(TC(e)){var r=SC(e);return{id:i,language:_o(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return BC(t,n,i);case"WXXX":return MC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return OC(t,n,i);default:var e=i.charAt(0);if("T"===e)return OC(t,n,i);if("W"===e)return xC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(pC||(pC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(bC||(bC={}));var HC=10;function FC(t,n){return(127&eo(t,n))<<21|(127&eo(t,n))<<14|(127&eo(t,n))<<7|127&eo(t,n)}function zC(t,n){switch(t){case bC.V24:return{eG:io(n,0),rG:io(n,1),sG:io(n,2),uG:io(n,3)};case bC.V23:return{eG:io(n,0),rG:io(n,1),sG:io(n,2)};case bC.V22:return{eG:io(n,0),oG:io(n,1)}}}function VC(t,n,i){switch(i.EA){case bC.V23:i.IA.rG&&function(t,n){var i=n.Pu,e=fo(t,n)+4,r=32768&ho(t,n);n.xu(i+e),r&&fo(t,n)}(t,n);break;case bC.V24:i.IA.rG&&function(t,n){var i=n.Pu,e=FC(t,n);n.xu(i+e)}(t,n)}}function WC(t,n){if(t.byteLength-n.Pu<HC)return null;if(73!==eo(t,n)||68!==eo(t,n)||51!==eo(t,n))return null;var i=eo(t,n),e=eo(t,n);if(!function(t){switch(t){case bC.V22:case bC.V23:case bC.V24:return!0}return!1}(i))return null;var r=eo(t,n),s=FC(t,n);return{EA:i,aG:e,IA:zC(i,r),hG:s}}function GC(t,n,i){switch(i.EA){case bC.V22:return function(t,n,i){return{P_:_o(t,n,3),Cu:ao(t,n,3)}}(t,n);case bC.V23:return function(t,n,i){var e=_o(t,n,4),r=fo(t,n);eo(t,n);var s=eo(t,n);return{P_:e,Cu:r,IA:{oG:io(s,0),cG:io(s,1),groupingIdentity:io(s,2)}}}(t,n);case bC.V24:return function(t,n,i){var e=_o(t,n,4),r=FC(t,n);eo(t,n);var s=eo(t,n);return{P_:e,Cu:r,IA:{groupingIdentity:io(s,1),oG:io(s,4),cG:io(s,5),eG:io(s,6),fG:io(s,7)}}}(t,n)}}function qC(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function YC(t,n){var i=n||new Vo,e=WC(t,i);return e?{pA:e,vG:function(t,n,i){var e=[],r=n.Pu,s=xo(t,r,r+i.hG),u=new Vo;switch(n.Bu(i.hG),i.EA){case bC.V22:case bC.V23:i.IA.eG&&(s=qC(s))}VC(t,n,i);for(;u.Pu<s.byteLength;)e.push(jC(s,u,i));return e}(t,i,e)}:null}function jC(t,n,i){var e,r,s=GC(t,n,i),u=n.Pu,o=xo(t,u,u+s.Cu);switch(n.Bu(s.Cu),i.EA){case bC.V22:var a=s;e=UC(r=o,new Vo,a.P_);break;case bC.V23:var h=s,c=new Vo;!function(t,n,i){var e,r,s,u=i.IA;u.oG&&(e=fo(t,n)),u.cG&&(r=eo(t,n)),u.groupingIdentity&&(s=eo(t,n))}(o,c,h),e=XC(r=xo(o,c.Pu,o.byteLength),new Vo,h.P_);break;case bC.V24:var f=s,v=new Vo;f.IA.eG&&(o=qC(o)),function(t,n,i){var e,r,s,u,o=i.IA;o.groupingIdentity&&(e=eo(t,n)),o.oG&&(r=fo(t,n)),o.cG&&(s=eo(t,n)),o.fG&&(u=FC(t,n))}(o,v,f),e=XC(r=xo(o,v.Pu,o.byteLength),new Vo,f.P_)}if(!e){var l=Fo(Mo(r));e=IC(s.P_,l.buffer)}return e}function QC(t){return function(t,n,i){return OC(t,n,i)}(new DataView(t.data),new Vo,t.key)}function ZC(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return QC(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return IC(t.key,t.data)}(t)}var KC="org.id3";var JC=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Iy=void 0,r.lG=void 0,r.LW=[],r.zW=[],r.VW=void 0,r.WW=void 0,r.Dy=void 0,r.Ry=void 0,r.HC=Eg.X_,r.pW=dy.NONE,r.Ww=void 0,r.HW=void 0,r.Vi=wy.DEFAULT,r.dG=void 0,r.wG=function(){r._G(),r.Iy.removeEventListener("cuechange",r.wG)},r.gG=function(){r.W_!==Eg.X_&&(r.mG(),r.QW(),r.LW.length&&r.yG(dy.LOADING))},r.kG=function(){r.yG(dy.LOADED)},r.pG=function(){r.yG(dy.ERROR)},r.Iy=n,r.dG=e,r.Iy.addEventListener("cuechange",r.wG),r.Iy.addEventListener("cuechange",r.gG),r.lG=i,r.lG&&(r.HW=aw(r.lG.src),r.lG.addEventListener("load",r.kG),r.lG.addEventListener("error",r.pG)),r.Dy=sy(),r.Ry=n.label||"",r.VW=new GN(r.LW),r.WW=new GN(r.zW),r.W_=r.bG,au(function(){r.gG(),r.yG(dy.NONE)}),r}S(n,t);var i=n.prototype;return i.qw=function(){return Cg(this)},i._G=function(){var t=this.W_;this.AG||t!==Eg.F_?this.bG=t:this.bG=Eg.H_},i.TG=function(){var t=this.W_,n=this.bG;t!==n&&(this.AG||t!==Eg.F_||n!==Eg.H_)&&("metadata"===this.O_&&n===Eg.X_?this.W_=t:this.W_=n)},i.AW=function(t){this.pW!==t&&(this.pW=t,this.Qs(new qN(this,t)))},i.yG=function(t){var n=w.max(this.pW,this.SG,t);this.AW(n)},n.EG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.IG=function(t){var i=n.EG(t);if(i)return i;if(V(i=this.RG(t)))for(var e=0,r=i;e<r.length;e++){r[e].Yw=this}else i.Yw=this;return t.THEOplayerTextTrackCue=i,i},i.RG=function(t){return(n=t)&&n.type===KC&&n.value?(this.fs=wy.ID3,function(t){var n;try{n=ZC(t.value)}catch(t){n=IC("")}return new AC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.fs=wy.ID3,function(t){var n=[];try{var i=YC(new DataView(t.data));if(i)for(var e=0,r=i.vG;e<r.length;e++){var s=r[e];n.push(new AC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.fs=wy.WEBVTT,function(t){return"regionId"in t}(t)?new _C(t):new wC(t)):new hC(t);var n},i.DG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.IG(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.mG=function(){for(var t=this.DG(this.Iy.cues),n=WN(this.LW,t),i=0,e=n.xW;i<e.length;i++){var r=e[i];r.tu(yy.Hy,this.gG),r.tu(yy.Uy,this.gG),this.Qs(new JN(r))}for(var s=0,u=n.OW;s<u.length;s++){var o=u[s];o.Zs(yy.Uy,this.gG),o.Zs(yy.Hy,this.gG),this.Qs(new ZN(o))}},i.QW=function(){for(var t=this.DG(this.Iy.activeCues),n=WN(this.zW,t),i=0,e=n.xW;i<e.length;i++){e[i].dk=!1}for(var r=0,s=n.OW;r<s.length;r++){s[r].dk=!0}(n.OW.length||n.xW.length)&&this.Qs(new cC(this))},i.G_=function(t){this.W_=t},i.Sd=function(){this.$s();for(var t=this.LW.slice(),n=0;n<t.length;n++){t[n].Sd()}zs(this.LW),zs(this.zW),this.Iy.removeEventListener("cuechange",this.gG),this.lG&&(this.Iy.removeEventListener("load",this.kG),this.Iy.removeEventListener("error",this.pG)),this.lG&&$e(this.lG)},A(n,[{key:"Q_",get:function(){return this.WW}},{key:"kE",get:function(){return this.lG?this.lG.default:void 0}},{key:"j_",get:function(){return this.VW}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"P_",get:function(){return this.Iy.id||this.lG&&this.lG.id||""}},{key:"B_",get:function(){return this.Dy}},{key:"V_",get:function(){return this.Iy.inBandMetadataTrackDispatchType||""}},{key:"O_",get:function(){return this.Iy.kind||Sp.Qb}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.x_&&(this.Ry=t,this.Qs(new iy(this)))}},{key:"L_",get:function(){return this.Iy.language||""}},{key:"W_",get:function(){return this.HC},set:function(t){var n=this.W_;this.HC=Dg(t),this._G();var i=this.W_;n!==i&&this.Qs(new rg(this)),i!==Eg.X_&&this.yG(dy.LOADING)}},{key:"bG",get:function(){return Dg(this.Iy.mode)},set:function(t){this.Iy.mode=t}},{key:"Oy",get:function(){return this.Iy}},{key:"Y_",get:function(){return this.pW}},{key:"SG",get:function(){return this.lG?+this.lG.readyState||dy.NONE:dy.LOADED}},{key:"Z_",get:function(){return this.HW}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new jN(this)))}},{key:"AG",get:function(){return this.dG},set:function(t){this.dG=t,this._G()}}]),n}(wu);function $C(t,n){return Ps(t.mp,n.mp)||function(t,n){return t.Yw===n.Yw?Cs(VN(t),VN(n)):Hp(t.Yw,n.Yw)}(t.zy,n.zy)||function(t,n){return t===n?Ss.Is:t===yy.Uy?Ss.Ds:Ss.Rs}(t.type,n.type)}var tP=function(){function t(t,n){var i=this;this.mN=void 0,this.NG=void 0,this.pm=[],this.CG=0,this.PG=0,this.BG=[],this.OG=[],this.xG=!1,this.LG=!1,this.MG=void 0,this.UG=function(){i.CG=0,i.XG(),i.HG()},this.FG=function(){i.XG(),i.HG()},this.zG=function(){i.LG=!0,i.MG=i.mN.Xg,i.VG()},this.WG=function(){i.XG(),i.HG()},this.GG=function(){i.qG(),i.XG(),i.HG()},this.YG=function(t){Hs(i.OG,t.zy)||i.OG.push(t.zy),i.jG()},this.QG=function(t){Us(i.BG,t.zy),Us(i.OG,t.zy),i.jG()},this.NG=n,this.mN=t,t.Zs(bf.Hf,this.FG),t.Zs(bf.If,this.FG),t.Zs(hm.Ug,this.FG),t.Zs(bf.Ef,this.FG),t.Zs(bf.Bf,this.zG),t.Zs(bf.Pf,this.WG),this.jG()}var n=t.prototype;return n.k_=function(){zs(this.BG);for(var t=0,n=this.pm.slice();t<n.length;t++){var i=n[t];this.m_(i)}this.VG(),this.CG=0,this.PG=0,this.xG=!1,this.LG=!1,this.MG=void 0},n.g_=function(t){if(!Hs(this.pm,t)){if(this.pm.push(t),t.Zs(Z_.jw,this.YG),t.Zs(Z_.Zw,this.QG),t.Zs(Z_.r_,this.GG),t.j_.b_>0){for(var n=0,i=t.j_.p_;n<i.length;n++){var e=i[n];this.OG.push(e)}this.jG()}this.qG()}},n.m_=function(t){if(Us(this.pm,t)){if(t.tu(Z_.jw,this.YG),t.tu(Z_.Zw,this.QG),t.tu(Z_.r_,this.GG),t.j_.b_>0){for(var n=0,i=t.j_.p_;n<i.length;n++){var e=i[n];Us(this.BG,e),Us(this.OG,e)}this.jG()}this.qG()}},n.qG=function(){this.xG=this.pm.some(function(t){return t.W_!==Eg.X_})},n.HG=function(){this.mN.qg||this.mN.Wg?this.VG():this.jG()},n.jG=function(){this.xG&&(this.CG||(this.CG=this.NG.Ce(this.UG)))},n.VG=function(){this.CG&&(this.NG.ZG(this.CG),this.CG=0)},n.XG=function(){var t;if(this.xG&&!this.mN.qg){var n=this.pm,i=this.PG,e=null!=(t=this.MG)?t:this.mN.Xg,r=e-i<-.1,s=this.LG||r;s&&e>i&&e-i<.1&&(s=!1),this.LG=!1,this.MG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.W_!==Eg.X_){h.QW(e,s);for(var c=0,f=h.Q_.p_;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.BG;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.W_!==Eg.X_&&Xp(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Hs(o,u[_])&&Xs(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.Vy>i&&y.Wy<=e&&(g.push(y),Xs(u,m))}for(var k=0,p=this.OG;k<p.length;k++){Us(g,p[k])}zs(this.OG);for(var b=[],A=[],T=0;T<g.length;T++){var S=g[T];S.dk||b.push(new nC(S,S.Vy)),b.push(new eC(S,w.max(S.Vy,S.Wy))),S.dk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.dk&&(b.push(new eC(R,w.max(R.Vy,R.Wy))),R.dk=!1)}for(var D=0;D<o.length;D++){var N=o[D];N.dk||(b.push(new nC(N,N.Vy)),N.dk=!0)}b.sort($C);for(var C=0;C<b.length;C++){var P=b[C],B=P.zy;B.Qs(P);var O=B.Yw;O&&(P.type===yy.Uy?O.Qs(new sC(B)):O.Qs(new oC(B)),Hs(A,O)||A.push(O))}A.sort(Hp);for(var x=0;x<A.length;x++){var L=A[x];L.Qs(new cC(L))}this.PG=e,this.BG=o}},n.Sd=function(){this.k_(),this.mN.tu(bf.Hf,this.FG),this.mN.tu(bf.If,this.FG),this.mN.tu(hm.Ug,this.FG),this.mN.tu(bf.Ef,this.FG),this.mN.tu(bf.Bf,this.zG),this.mN.tu(bf.Pf,this.WG)},t}(),nP=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return wI(t)},n.ZG=function(t){_I(t)},t}(),iP=new nP,eP=function(t){function n(n,i){return void 0===i&&(i=iP),t.call(this,n,i)||this}return S(n,t),n}(tP),rP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&gC(this,n)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=kC(this)),this.Ww}}]),n}(By),sP=function(t){function n(n,i,e){return void 0===e&&(e=wy.DEFAULT),t.call(this,Sp.Kb,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(tC),uP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fs=wy.ID3,e}S(n,t);var i=n.prototype;return i.mE=function(n){mC(n,this.LW),t.prototype.mE.call(this,n)},i.qw=function(){return Cg(this)},n}(sP);function oP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=ZC(t.value);return t.THEOplayerTextTrackCue=new rP(i,e),t.THEOplayerTextTrackCue}var aP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Iy=void 0,i.gG=function(){i.W_!==Eg.X_&&(i.mG(),i.yG(dy.LOADED))},i.Iy=n,i.Iy.addEventListener("cuechange",i.gG),i.W_=i.bG,au(function(){i.gG()}),i}S(n,t);var i=n.prototype;return i.nP=function(n){t.prototype.nP.call(this,n),this.bG=this.W_},i.yG=function(t){this.Y_=w.max(this.Y_,t)},i.mG=function(){var t=this.Iy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(oP(t[e]||t.item(e)));return Rs(i,FN),i}(t),i=WN(this.j_.p_.slice(),n),e=0,r=i.xW;e<r.length;e++){var s=r[e];this.sE(s)}for(var u=0,o=i.OW;u<o.length;u++){var a=o[u];this.mE(a)}}},i.Sd=function(){this.Iy.removeEventListener("cuechange",this.gG),t.prototype.Sd.call(this)},A(n,[{key:"P_",get:function(){return this.Iy.id||""}},{key:"V_",get:function(){return this.Iy.inBandMetadataTrackDispatchType||""}},{key:"L_",get:function(){return this.Iy.language||""}},{key:"bG",get:function(){return Dg(this.Iy.mode)},set:function(t){this.Iy.mode=t}},{key:"Oy",get:function(){return this.Iy}}]),n}(uP),hP=function(t){function n(n,i){var e;return(e=t.call(this)||this).KG=Br(),e.HR=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Yw).fs){i.next=4;break}return i.next=4,Dr.awrap(n.au(Z_.a_));case 4:if(n.fs===wy.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.j_.b_){i.next=11;break}return i.next=9,Dr.awrap(n.au(Z_.jw));case 9:i.next=6;break;case 11:e.JG(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.FR=function(t){var n=t.Yw;if(n.fs===wy.ID3&&e.KG.has(n.B_)){var i=e.KG.get(n.B_);e.m_(i),e.vE.yE(i),n.tu(Z_.jw,e.$G)}},e.$G=function(t){cP(t.zy)&&e.tq(t.zy)},e.vE=n,e.nq=i,e.iq(),e}S(n,t);var i=n.prototype;return i.iq=function(){this.nq.Zs(q_.Hw,this.HR),this.nq.Zs(q_.zw,this.FR)},i.rq=function(){this.nq.tu(q_.Hw,this.HR),this.nq.tu(q_.zw,this.FR)},i.JG=function(t){var n=t.j_.p_[0];if(cP(n)){var i=function(t){var n=t.match(fP);if(!n)return;return{Yw:n[1],L_:n[2]}}(n.Gy.description),e=i.Yw,r=i.L_;if(!this.uq(e,r)){var s=this.vE._E(Sp.Qb,t.P_,e,r,!1,wy.TTML);this.g_(s),this.KG.set(t.B_,s);for(var u=0,o=t.j_.p_;u<o.length;u++){var a=o[u];cP(a)&&this.tq(a)}t.Zs(Z_.jw,this.$G)}}},i.uq=function(t,n){return this.VA.p_.some(function(i){return i.x_===t&&i.L_===n})},i.tq=function(t){if(t.Yw)for(var n=this.KG.get(t.Yw.B_),i=lp(t.Gy.text,n,{jp:0,Qp:1/0,Zp:t.Vy}),e=0;e<i.length;e++){var r=i[e];n.mE(r)}},i.k_=function(){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.nq.p_;n<i.length;n++)i[n].tu(Z_.jw,this.$G);for(e=0,r=this.VA.p_;e<r.length;e++)s=r[e],this.vE.yE(s);return this.KG.clear(),u.next=5,Dr.awrap(t.prototype.k_.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.rq(),n.next=3,Dr.awrap(t.prototype.Sd.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(Gp);function cP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Gy)&&fP.test(n.description);var n}var fP=/^Track:(.+),Lang:(.+)$/;var vP=function(t){function n(n){var i;return(i=t.call(this,bf.vf)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(gu),lP=function(t){function n(){return t.call(this,bf.lf)||this}return S(n,t),n}(gu),dP=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).oq=n,i}return S(n,t),n}(gu),wP=new KR,_P=function(t){function n(n){var i;return(i=t.call(this,"qh")||this).session=n,i}return S(n,t),n}(gu),gP=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).aq=!1,u.hq=!1,u.pw=new Js,u.cq=void 0,u.Fh=function(t){if(!u.pw.Ws.Ns)switch(t.wu){case"license-request":case"license-renewal":u.iI(t.du,t._u).catch(function(t){return u.Sc(t)});break;default:u.Sc(new Qm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u.fq=function(t){u.vq.tc.Ru(function(t,n){switch(t){case"usable":i.Qn(function(){u.hq=!0,u.Qs(new lP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new dP(n))}})},u.lq=function(t){u.Sc(new Qm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.vq=e,u.dq=r,u.wq=s,e.Zs("du",u.Fh),e.Zs("vu",u.fq),e.Zs("mu",u.lq),e.Jh.then(function(){return u._q()}),u}S(e,t);var r=e.prototype;return r.Yh=function(){var t=this;return this.aq=!0,wP.ZU(function(n){return t.gq(n)},this.pw.Ws)},r.gq=function(t){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,nu(t),s.next=4,Dr.awrap(this.dq.QE(t));case 4:return s.next=6,Dr.awrap(this.dq.ZE(this.wq.ls,this.wq.Tu,t));case 6:return i=s.sent,s.next=9,Dr.awrap(this.vq.Yh(this.wq.ls,this.wq.Tu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),iu(s.t0),e=s.t0 instanceof Zo?s.t0.ju:void 0,r=new Qm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Sc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r.iI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!Yo(t)){o.next=7;break}return o.next=4,Dr.awrap(this.dq.cI(new y(t),this.pw.Ws));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Dr.awrap(this.dq.fI(new y(t),i,this.pw.Ws));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!tu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.pw.Ws.Ns){o.next=19;break}return o.abrupt("return");case 19:return r=this.cq,s=new Go,this.cq=s,o.prev=22,o.next=25,Dr.awrap(this.vq.Zh(e));case 25:return o.next=27,Dr.awrap(fu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof Zo?o.t1.ju:void 0,new Qm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Dr.awrap(r.Hu);case 37:return s.Wu(),this.cq===s&&(this.cq=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],We)},r.Sc=function(t){var i=t instanceof Qm?t:new Qm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new vP(i)),this.qh()},r._q=function(){this.vq.tu("du",this.Fh),this.vq.tu("vu",this.fq),this.vq.tu("mu",this.lq),this.hq=!1,this.pw.Fs(),this.Qs(new _P(this))},r.qh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s();case 1:if(void 0===(t=this.cq)){n.next=5;break}return n.next=5,Dr.awrap(t.Hu);case 5:if(this.cq!==t){n.next=1;break}case 6:return this._q(),n.next=9,Dr.awrap(this.vq.qh().catch(K));case 9:case"end":return n.stop()}},null,this,null,We)},e}(wu),mP=[bf.lf,bf.vf,bf.zf],yP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vh=void 0,r.ic=void 0,r.mq=void 0,r.yq=[],r.kq=void 0,r.pq=[],r.bq=function(t){t.session.tu(mP,r.js),t.session.tu("qh",r.bq),Us(r.yq,t.session)},r.Vh=n,r.ic=i,r.mq=e,r}S(n,t);var i=n.prototype;return i.hI=function(){return this.mq.hI()},i.Aq=function(t){return this.kq||(this.kq=this.Tq(t)),this.kq},i.Tq=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(t),i.next=3,Dr.awrap(this.mq.cI(new y(qo()),t));case 3:if(n=i.sent,nu(t),this.ic){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Dr.awrap(this.ic.ac(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.Sq=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ic){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.pq.push(t),e.next=6,Dr.awrap(this.ic.uc("temporary"));case 6:return n=e.sent,i=new gP(n,this.mq,t),this.yq.push(i),i.Zs(mP,this.js),i.Zs("qh",this.bq),e.abrupt("return",i);case 12:return e.prev=12,Us(this.pq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.Eq=function(t){if(t.Iq)return!1;for(var n=0,i=this.yq;n<i.length;n++){if(kP(i[n].wq,t))return!0}for(var e=0,r=this.pq;e<r.length;e++){if(kP(r[e],t))return!0}return!1},i.Sd=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ic=void 0,this.$s(),t=this.yq.slice(),zs(this.yq),n.next=6,Dr.awrap(We.all(t.map(function(t){return t.qh()})));case 6:this.mq.xs();case 7:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"ec",get:function(){return this.Vh}}]),n}(wu);function kP(t,n){return!t.Iq&&t.ls===n.ls&&Mu(t.Tu,n.Tu)}var pP=function(t){function e(n){var i;return(i=t.call(this)||this).KR=void 0,i.pw=new Js,i.oX=new KR,i.Pc=void 0,i.mq=void 0,i.JR=void 0,i.Vh=void 0,i.Rq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(i.Dq(t.ls,t.Tu,i.pw.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),tu(n.t0)||i.Sc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.KR=n,i.KR.Zs(du.yu,i.Rq),i}S(e,t);var r=e.prototype;return r.jh=function(t,n){this.JR=t,this.CX(n)},r.CX=function(t){this.Pc=t,this.Nq(this.pw.Ws).catch(eu)},r.Nq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Lr.We){n.next=5;break}return n.next=3,Dr.awrap(this.Cq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Pc||!this.Pc.Pq){n.next=9;break}return n.next=8,Dr.awrap(this.Bq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.Cq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Pc)?void 0:n.ND){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Pc)?void 0:u.ND)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,h=null!=(c=o.MR)?c:[];case 8:if(!(a<h.length)){v.next=22;break}return f=h[a],v.prev=10,v.next=13,Dr.awrap(this.Dq(o.ec.ls,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),iu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],We)},r.Dq=function(t,e,r){var s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(nu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Pc&&this.Pc.ND.length){w.next=5;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Wr||t===qr||t===Gr){w.next=8;break}return w.abrupt("return");case 8:s=aA(t,e),u=this.Pc.ND,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],nu(r),(c=s[h.ec.ds])&&h.ec.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Dr.awrap(this.Oq(h,r));case 20:if(!(f=w.sent).hI()){w.next=24;break}return w.next=24,Dr.awrap(f.Aq());case 24:if(v=this.KR.iy,l={ls:h.ec.ls,Tu:c,Iq:v},!this.xq(f,l)){w.next=32;break}return w.next=29,Dr.awrap(f.Sq(l));case 29:return d=w.sent,w.next=32,Dr.awrap(d.Yh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),iu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Dr.awrap(i.Sr());case 44:if(!w.sent){w.next=48;break}throw new Qm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.Bq=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Pc)?void 0:n.ND){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],nu(t),u.prev=7,u.next=10,Dr.awrap(this.Oq(r,t));case 10:if(!(s=u.sent).hI()){u.next=14;break}return u.next=14,Dr.awrap(s.Aq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),iu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.xq=function(t,n){return i.Lr.Ve||!t.Eq(n)},r.Oq=function(t,n){var i=this;return this.oX.ZU(function(n){return i.Lq(t,n)},n)},r.Lq=function(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(nu(n),this.Pc&&this.mq&&this.JR){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Vh){o.next=7;break}if(this.Vh.ec===t.ec){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Vh);case 7:return i=this.mq,e=Nr({},t,{WD:t.WD.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.CI(t.ec),gc:n.gc||i.gc(t.ec)})})}),o.next=11,Dr.awrap(this.JR.RX(e.ec,e.WD));case 11:return r=o.sent,s=i.LR(e),(u=new yP(e.ec,r,s)).Zs([bf.lf,bf.vf,bf.zf],this.js),this.Vh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.Sc=function(t){var i=t instanceof Qm?t:new Qm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new vP(i))},r.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JR=void 0,this.Pc=void 0,this.pw.Fs(),this.pw=new Js,t.next=6,Dr.awrap(this.Mq());case 6:case"end":return t.stop()}},null,this,null,We)},r.Mq=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.oX.Fs());case 2:if(!(t=this.Vh)){n.next=8;break}return t.tu(bf.zf,this.js),this.Vh=void 0,n.next=8,Dr.awrap(t.Sd());case 8:case"end":return n.stop()}},null,this,null,We)},r.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.KR.tu(du.yu,this.Rq),t.next=4,Dr.awrap(this.k_());case 4:return t.next=6,Dr.awrap(this.oX.Sd());case 6:case"end":return t.stop()}},null,this,null,We)},A(e,[{key:"Uq",get:function(){var t;return null==(t=this.Vh)?void 0:t.ec}},{key:"ED",get:function(){return this.mq},set:function(t){this.mq=t}}]),e}(wu),bP=M.In||M.Rn,AP=M.qn,TP=.5,SP=5,EP=M.Bn,IP=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vc=void 0,s.Xq=void 0,s.$R=void 0,s.pN=!0,s.JR=void 0,s.Hq=new KR,s.Fq=void 0,s.zq=void 0,s.Vq=void 0,s.TX=void 0,s.pm=void 0,s.AC=void 0,s.Wq=[],s.Gq=void 0,s.qq=void 0,s.Yq=void 0,s.jq=void 0,s.Qq=void 0,s.Zq=void 0,s.Kq=NaN,s.Jq=void 0,s.$q=void 0,s.kC=!1,s.tY=We.resolve(),s.nY=new Js,s.iY=[],s.eY=rS.fC(),s.rY=void 0,s.sY=1,s.uY=!1,s.oY=!1,s.aY=!1,s.hY=!1,s.ys=void 0,s.cY=!1,s.fY=!1,s.vY=!1,s.lY=!1,s.dY=0,s.XV=void 0,s.wY=function(t){var n=t.track,i=s._Y(n);s.gY(n,i)},s.mY=function(t){var n=CP(s.Gq,t.track);n&&s.Gq.m_(n)},s.yY=function(){for(var t=0;t<s.pm.b_;t++){var n=s.pm.__(t);n instanceof JC&&n.TG()}},s.kY=function(){s.Gq.k_()},s.pY=function(){var t=s.JR,n=t.tW,i=t.nW;if(n&&i)if(t.XX)s.bY();else if(t.Y_!==EN.uV){var e=n.Km,r=i.Km;if(0!==e.b_&&0!==r.b_){var u=s.Xg;if(u<e.RN(0)||u<r.RN(0))s.bY();else if(e.GD(u)!==r.GD(u)){if(t.FV(u))return;s.AY()}else{if(s.bY(),!s.dY&&s.Vq.DW())e.jN(r).$N(u,u+TP)&&(s.dY=wI(s.TY))}}else s.bY()}},s.TY=function(){s.dY=0,s.pY()},s.SY=function(){if(!(s.qg||s.Y_>=qg.Cg)){0;var t=s.JR,n=t.tW,i=t.nW;if(n&&i){var e=s.Xg,r=n.Km,u=i.Km;if(r.GD(e)&&u.GD(e))r.jN(u).$N(e-SP,e)&&(s.vY?s.bY():s.EY())}}},s.IY=function(){s.Qs(new vm(s.Xg))},s.RY=function(){s.DY(new $s),s.Qs(new fm(s.Xg))},s.NY=function(){s.CY(),s.Qs(new fb(s.Xg))},s.PY=function(){s.BY(s.Gg)},s.OY=function(){s.Qs(new _m(s.Hg))},s.xY=function(){s.Qs(new kD(s.Xg))},s.LY=function(){s.Qs(new pD)},s.MY=function(){var t=s.Xg,n=s.qg,i=s.Y_<qg.Cg&&!s.Fg,e=void 0!==s.$q,r=e&&s.$q!==t;(n||!e||r&&!i)&&(s.Qs(new mm(s.Xg,void 0)),s.$q=t)},s.UY=function(){!s.uY&&s.Fg&&(s.uY=!0,s.Qs(new ym(s.Xg)))},s.XY=function(){if(null!==s.Vc.error){var t,n=s.Vc.error;s.hD(new Zm(null!=(t=n.code)?t:qm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.HY=function(){s.oY&&(s.FY(),s.aY=!0)},s.zY=function(){s.Qs(new Am(s.Xg,s.Qg))},s.VY=function(){s.jg>0&&s.Yg>0&&s.Qs(new tb)},s.WY=function(t){s.Qs(new Au(t.initDataType,t.initData||new ArrayBuffer(0)))},s.GY=function(){s.Qs(new Tu)},s.qY=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.Qs(new Au(Wr,i))},s.YY=function(t){if(t.initData){var n=RP(t.initData);if(!n)return;s.Qs(new Au(qr,n))}else s.Qs(new Au(qr,new ArrayBuffer(0)))},s.jY=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.Qs(new Au(Wr,i))},s.QY=function(){s.CY()},s.ZY=function(t){s.DY(t)},s.KY=function(t){s.Qs(t),t.type===bf.vf&&s.hD(Jm(t.errorObject))},s.Vc=n,s.ys=i,s.Xq=e,s.AC=r,s.zq=new xN(Kt(s)),s.zq.Zs(hm.u_,s.js),s.Vq=new UN(Kt(s)),s.Vq.Zs(hm.Ug,s.NY),s.TX=new pP(Kt(s)),s.TX.Zs([bf.lf,bf.vf,bf.zf],s.KY),s.pm=new Ep,s.Gq=new Ep,s.qq=new UT([s.pm,s.Gq]),s.Yq=new hP(Kt(s),s.qq),s.jq=new UT([s.qq,s.Yq.VA]),s.Qq=new eP(Kt(s)),s.JY(),s.DD(),s}S(n,t);var e=n.prototype;return e.$Y=function(){this.SD.ended||this.Xg===this.Hg||(this.uY=!1)},e.tj=function(){return void 0!==this.Zq&&this.Hg===this.Zq},e.BY=function(t){this.sY!==t&&(this.sY=t,this.Qs(new gm(this.Xg,t)))},e.jD=function(){return yR(this.Vc)},e.Nm=function(){var t=this.nj();return this.ij(),t},e.ij=function(){this.cY?this.fY&&(this.fY=!1,this.Qs(new vm(this.Xg))):this.ej()},e.ej=function(){if(this.Fq)this.Fq.Nm();else{M.Bn&&!M.hn&&this.Vc.preload===ZT.wN&&(this.Vc.preload=ZT.Kb);var t=this.Gg,n=this.Vc.play();t!==this.SD.playbackRate&&(this.Gg=t),j(n)?n.then(this.QY,this.ZY):this.Vq.DW()&&this.CY()}},e.Cm=function(){this.cY?this.fY||(this.fY=!0,this.Qs(new fm(this.Xg))):this.rj()},e.rj=function(){this.Fq?this.Fq.Cm():(this.Vc.pause(),this.Vq.Zh()),this.sj(new $s)},e.nj=function(){var t=new Go;return this.iY.push(t),t.Hu},e.uj=function(){for(var t=0,n=this.iY;t<n.length;t++){n[t].Wu(void 0)}zs(this.iY)},e.sj=function(t){for(var n=0,i=this.iY;n<i.length;n++){i[n].Gu(t)}zs(this.iY)},e.CY=function(){this.cY||this.Fq||this.uj()},e.DY=function(t){this.cY||this.Fq||this.sj(t)},e.xu=function(t,n){this.Fq?this.Fq.Xg=t:(this.nY.Fs(),this.nY=new Js,this.tY=this.aj(t,this.tY,this.nY.Ws).catch(K))},e.YD=function(t){var n=this.QD;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.aj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.Zq=t,this.Kq=t,this.kC=!0,this.uY&&!this.tj()&&(this.uY=!1),this.Qs(new pm(t)),v.next=8,Dr.awrap(n.catch(K));case 8:if(nu(i),this.hY&&this.hj(),this.Y_!==qg.Rg){v.next=13;break}return v.next=13,Dr.awrap(this.au(hm.u_,i));case 13:if(0!==this.Vc.seekable.length){v.next=19;break}return v.next=16,Dr.awrap(We.race([W_(this.Vc,"timeupdate",i),fu(100,i)]));case 16:nu(i),v.next=13;break;case 19:e=this.cj(t),r=this.py,s=!0,u=!1;case 23:if((r=this.py).b_>0&&!r.GD(e)&&(e=r.UN(e),s=!0),EP&&void 0!==(o=this.vj())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.lj())&&e>a)){v.next=37;break}return u=!0,v.next=33,Dr.awrap(this.dj(a,i));case 33:return v.next=35,Dr.awrap(W_(this.Vc,"seeked",i));case 35:nu(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Dr.awrap(this.dj(e,i));case 41:nu(i),h=this.Xg,r=this.py,e=r.UN(e),c=1;case 46:if(!(w.abs(e-h)>=1/6)){v.next=56;break}return r=this.py,e=NP(e,r,c),v.next=51,Dr.awrap(this.dj(e,i));case 51:nu(i),h=this.Xg,c++,v.next=46;break;case 56:if(this.Vc.seeking||this.Y_<qg.Ng){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Dr.awrap(uu(function(t){var n;return We.race([W_(f.Vc,"seeked",t),f.au([bf.Rf,bf._f,hm.u_],t),null==(n=f.JR)?void 0:n.au(hD.VP,t)].filter(H))},i));case 60:nu(i),v.next=23;break;case 63:this.wj(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!tu(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],We)},e.dj=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(nu(n),i=this.py,t=i.UN(t),!this.hY){s.next=18;break}e=!0;case 5:if(!(e||this.Y_<qg.Cg)){s.next=17;break}if((i=this.py).GD(t)||(t=i.UN(t),e=!0),!e){s.next=13;break}return e=!1,this.Zq=t,this._j(this.Xg),s.abrupt("continue",5);case 13:return s.next=15,Dr.awrap(this.au([hm.u_,bf._f],n));case 15:s.next=5;break;case 17:nu(n);case 18:if(r=W_(this.Vc,"seeking",n),this.Vc.currentTime=t,this.Zq=void 0,this._j(this.Xg),!this.Vc.seeking){s.next=25;break}return s.next=25,Dr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.cj=function(t){var n=this.Km;if(n&&!n.GD(t)){var i=n.ZN(t,.05);if(i>-1){var e=n.RN(i);if(t<e)return e}}return t},e.vj=function(){if(this.JR&&this.JR.XX){var t=this.JR.HX,n=this.JR.FX,i=t&&n?t.FN(n):t||n;if(i&&0!==i.b_){var e=i.RN(i.b_-1),r=i.NN(i.b_-1);return w.max(e,r-.001)}}},e.lj=function(){if(this.JR&&this.JR.XX){var t=this.JR.FX;if(t&&0!==t.b_){var n=t.RN(t.b_-1),i=t.NN(t.b_-1)-.02;return i-=.001,w.max(n,i)}}},e._j=function(t){this.Kq!==t&&(this.Kq=t,this.Qs(new pm(t)))},e.wj=function(){this.kC=!1,this.Kq=NaN,this.hY&&this.gj(),this.Qs(new bm(this.Xg))},e.hj=function(){this.cY||(this.fY=this.Wg,this.cY=!0,this.rj())},e.gj=function(){this.cY&&(this.cY=!1,this.fY||this.ij())},e.UX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===$p.pE&&yD.UX(i,this.Vc))return i;if(i.fs===$p.bE&&DN.UX(i))return i}},e.zm=function(){this.pN=!1,sr(this.Vc)&&(this.Vc.style.display="none")},e.Fm=function(){this.pN=!0,sr(this.Vc)&&(this.Vc.style.display="block")},e._E=function(t,n,i,e,r,s,u,o){var a=new tC(t,n,i,e,r,s,u,o);return this.pm.g_(a),this.Qq.g_(a),a},e.xD=function(){return!0},e.MD=function(t,n,i,e){var r=s.createElement("track");r.src=aw(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=qE(),this.Vc.appendChild(r);var u=this.Vc.textTracks.getTrackById(r.id),o=new JC(u,r);return this.Gq.g_(o),this.Wq.push(o),o},e.yE=function(t){this.pm.m_(t),this.Qq.m_(t)},e.HD=function(){for(var t=0,n=this.pm.p_.slice();t<n.length;t++){n[t].Sd()}this.pm.k_();for(var i=0,e=this.Wq.slice();i<e.length;i++){var r=e[i];this.Gq.m_(r),r.Sd()}zs(this.Wq)},e.DD=function(){var t=this.Vc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.wY),t.addEventListener("removetrack",this.mY),t.addEventListener("change",this.yY)),this.Vc.addEventListener("emptied",this.kY)},e.zD=function(){var t=this.Vc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.wY),t.removeEventListener("removetrack",this.mY),t.removeEventListener("change",this.yY)),this.Vc.removeEventListener("emptied",this.kY)},e.gY=function(t,n){if(M.Bn){if(t.kind===Sp.Kb)return void this.mj(t);if(t.kind===Sp.$S&&""===t.label&&""===t.language&&!PP(t))return void this.yj(t,n)}CP(this.Gq,t)||this.Gq.g_(new JC(t,n))},e.mj=function(t){t.mode=Eg.H_;var n=new aP(t);this.Gq.g_(n),this.Qq.g_(n)},e.yj=function(t,n){var i=this;t.addEventListener("cuechange",function e(){PP(t)&&(t.removeEventListener("cuechange",e),i.Gq.g_(new JC(t,n)))}),t.mode=Eg.H_},e._Y=function(t){for(var n=this.Vc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.jh=function(t){var n=this;return this.Hq.ZU(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(nu(i),!n.JR){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.fs!==$p.pE){r.next=9;break}e=new yD(t,n,n.TX,n.ys),n.hY=!1,n.pj(new xN(n)),r.next=17;break;case 9:if(t.fs!==$p.bE){r.next=16;break}e=new DN(t,n,n.TX,n.ys,void 0,n.XV),n.hY=bP,n.pj(n.hY?new LN(n):new xN(n)),AP&&(n.Zs(bf.Hf,n.pY),n.Zs(hm.u_,n.SY)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.JR=e,r.next=20,Dr.awrap(e._L());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.AY=function(){if(!this.vY){var t=this.Gg;this.vY=!0,this.Gg=t,this.Vc.playbackRate=0,this.zq&&this.zq.AW()}},e.bY=function(){if(this.vY){var t=this.Gg;this.vY=!1,this.Gg=t,this.EY()}},e.EY=function(){this.Vc.currentTime=this.Vc.currentTime,this.zq&&this.zq.AW()},e.pj=function(t){var n=this.Y_;this.zq.xs(),this.zq=t,this.zq.Zs(hm.u_,this.js);var i=this.Y_;n!==i&&this.Qs(new Em(this.Xg,i))},e.k_=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.kC=!1,this.eY=rS.fC(),this.nY.Fs(),this.Zq=void 0,this.Kq=NaN,this.Jq=void 0,this.hY=!1,this.cY=!1,this.$R=void 0,this.uY=!1,this.$q=void 0,this.oY=!1,this.aY&&(this.JY(),this.aY=!1),this.sj(new $s),this.pj(new xN(this)),this.Vq.k_(),this.bY(),AP&&(_I(this.dY),this.dY=0,this.tu(bf.Hf,this.pY),this.tu(hm.u_,this.SY)),n.next=20,Dr.awrap(this.Hq.Fs());case 20:return n.next=22,Dr.awrap(this.Hq.ZU(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.JR){n.next=4;break}return n.next=3,Dr.awrap(t.JR.xs());case 3:t.JR=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 22:case"end":return n.stop()}},null,this,null,We)},e.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aY=!1,this.FY(),this.zD(),t.next=5,Dr.awrap(this.k_());case 5:return t.next=7,Dr.awrap(this.Hq.Sd());case 7:return this.Vq.xs(),this.zq.xs(),t.next=11,Dr.awrap(this.TX.xs());case 11:return this.HD(),this.pm.Sd(),this.Gq.Sd(),t.next=16,Dr.awrap(this.Yq.Sd());case 16:this.qq.Sd(),this.jq.Sd(),this.$s();case 19:case"end":return t.stop()}},null,this,null,We)},e.JY=function(){this.SD.addEventListener("play",this.IY),this.SD.addEventListener("pause",this.RY),this.SD.addEventListener("timeupdate",this.MY),this.SD.addEventListener("progress",this.xY),this.SD.addEventListener("loadstart",this.LY),this.SD.addEventListener("ended",this.UY),this.SD.addEventListener("ratechange",this.PY),this.SD.addEventListener("volumechange",this.zY),this.SD.addEventListener("durationchange",this.OY),this.SD.addEventListener("resize",this.VY),this.SD.addEventListener("loadedmetadata",this.VY),this.SD.addEventListener("error",this.XY),this.SD.addEventListener("emptied",this.HY),As()?(this.Vc.addEventListener("encrypted",this.WY),this.Vc.addEventListener("waitingforkey",this.GY)):void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported?this.Vc.addEventListener("webkitneedkey",this.YY):Ts()?this.Vc.addEventListener("webkitneedkey",this.jY):void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported&&this.Vc.addEventListener("msneedkey",this.qY)},e.FY=function(){this.SD.removeEventListener("play",this.IY),this.SD.removeEventListener("pause",this.RY),this.SD.removeEventListener("timeupdate",this.MY),this.SD.removeEventListener("progress",this.xY),this.SD.removeEventListener("loadstart",this.LY),this.SD.removeEventListener("ended",this.UY),this.SD.removeEventListener("ratechange",this.PY),this.SD.removeEventListener("volumechange",this.zY),this.SD.removeEventListener("durationchange",this.OY),this.SD.removeEventListener("resize",this.VY),this.SD.removeEventListener("loadedmetadata",this.VY),this.SD.removeEventListener("error",this.XY),this.SD.removeEventListener("encrypted",this.WY),this.SD.removeEventListener("waitingforkey",this.GY),this.SD.removeEventListener("webkitneedkey",this.YY),this.SD.removeEventListener("webkitneedkey",this.jY),this.SD.removeEventListener("msneedkey",this.qY),this.SD.removeEventListener("emptied",this.HY)},e.bj=function(){var t;this.Fq||(this.eY=this.gy,this.Fq=new PN((t=this).Xg,t.Hg,t.Fg,t.Wg,t.qg,t.Vg,t.Gg,t.Qg,t.Y_),this.FY(),this.Fq.Zs(CN,this.js))},e.Aj=function(){if(this.Fq){var t,n,i=this.Fq;this.Fq=void 0,this.zq.AW(),t=this,(n=i).Hg===t.Hg||m(n.Hg)&&m(t.Hg)||t.Qs(new _m(t.Hg)),t.Vg=n.Vg,t.Qg=n.Qg,t.Gg=n.Gg,n.Wg?t.Cm():t.Nm().catch(K),n.Xg!==t.Xg||n.Y_>qg.Rg&&t.Y_===qg.Rg?t.xu(n.Xg):!n.qg&&t.qg?t.Qs(new pm(t.Xg)):n.qg&&!t.qg&&t.Y_>=qg.Ng&&t.Qs(new bm(t.Xg)),!n.Fg&&t.Fg&&t.Qs(new ym(t.Xg)),i.xs(),this.JY()}},e.hD=function(t){this.$R=t,this.sj(this.$R),this.Qs(new XN(this.$R))},e.Tj=function(){this.Sj||(iO(this.Vc,i.Lr),this.lY=!0)},e.Ej=function(t){t.appendChild(this.Vc)},e.vW=function(){AP&&this.pY(),this.zq.AW()},e.Zm=function(){this.TX.Mq().catch(K)},A(n,[{key:"SW",get:function(){return this.vY}},{key:"Km",get:function(){return this.JR?this.JR.Km:rS.fC()}},{key:"Jm",get:function(){var t=this.QD;if(t&&!m(t.getTime())){var n=1e3*this.Xg;return new Date(t.getTime()+n)}}},{key:"QD",get:function(){if(this.SD.getStartDate)return this.kC&&this.Jq||(this.Jq=this.SD.getStartDate()),this.Jq}},{key:"Xg",get:function(){return this.Fq?this.Fq.Xg:void 0!==this.Zq?this.Zq:this.Vc.currentTime}},{key:"NU",get:function(){return this.Xq}},{key:"Hg",get:function(){return this.Fq?this.Fq.Hg:this.JR?this.JR.Hg:this.Vc.duration}},{key:"Fg",get:function(){return this.qg?this.tj():this.Fq?this.Fq.Fg:this.Vc.ended||this.uY}},{key:"mu",get:function(){return this.$R}},{key:"SD",get:function(){return this.Vc}},{key:"Wg",get:function(){return this.cY?this.fY:this.Fq?this.Fq.Wg:this.Vc.paused}},{key:"gy",get:function(){return this.eY.YN(rS.aC(this.Vc.played))}},{key:"sT",get:function(){return this.Vc.offsetHeight*i.Lr.Fe}},{key:"Tk",get:function(){return this.Vc.offsetWidth*i.Lr.Fe}},{key:"XD",get:function(){return oS}},{key:"Y_",get:function(){return this.zq.Y_}},{key:"py",get:function(){return this.JR?this.JR.py:rS.fC()}},{key:"qg",get:function(){return this.Fq?this.Fq.qg:this.kC}},{key:"Vg",get:function(){return this.Fq?this.Fq.Vg:this.Vc.muted},set:function(t){this.Fq?this.Fq.Vg=t:this.Vc.muted=t}},{key:"Gg",get:function(){return this.Fq?this.Fq.Gg:void 0!==this.rY?this.rY:this.Vc.playbackRate},set:function(t){this.Fq?this.Fq.Gg=t:this.Wg||this.vY?(this.rY=t,this.BY(t)):(this.rY=void 0,this.Vc.playbackRate=t)}},{key:"Ij",get:function(){return this.pN}},{key:"Qg",get:function(){return this.Fq?this.Fq.Qg:this.Vc.volume},set:function(t){this.Fq?this.Fq.Qg=t:this.Vc.volume=t}},{key:"Rm",get:function(){return this.jq}},{key:"PU",get:function(){return this.AC}},{key:"iy",get:function(){return!!this.Vc.webkitCurrentPlaybackTargetIsWireless}},{key:"Sj",get:function(){return this.lY}},{key:"Rj",get:function(){return Nr({},wD)}},{key:"ED",get:function(){return this.TX.ED},set:function(t){this.TX.ED=t}},{key:"Dj",get:function(){return this.XV},set:function(t){this.XV=t}},{key:"Uq",get:function(){return this.TX.Uq}},{key:"Ay",get:function(){return this.oY},set:function(t){this.oY=t,this.aY&&!this.oY&&(this.aY=!1,this.JY())}}]),n}(wu);function RP(t){try{var n=Lo(t),i=new Vo;return Eo(Io(so(n,i,fo(n,i,!0)),!0))}catch(t){return}}var DP=.01;function NP(t,n,i){if(void 0===i&&(i=0),!n.b_)return 0;var e=n.UN(t),r=DP*i;return e===n.RN(0)?e+=r:e===n.NN(n.b_-1)&&(e-=r),e}function CP(t,n){for(var i=0,e=t.p_;i<e.length;i++){var r=e[i];if(r.Oy===n)return r}}function PP(t){return!!t.cues&&t.cues.length>0}var BP={jM:void 0,QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,rU:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0},OP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ww=void 0,n}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=CR(this)),this.Ww}},{key:"jM",get:function(){}},{key:"QM",get:function(){}},{key:"ZM",get:function(){}},{key:"KM",get:function(){}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"rU",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"iU",get:function(){}},{key:"eU",get:function(){}}]),n}(wu);new OP;var xP=function(t){function n(n,i,e){return t.call(this,n,i,e,new OP)||this}return S(n,t),n.prototype.Vm=function(){},A(n,[{key:"Yg",get:function(){return 0}},{key:"jg",get:function(){return 0}}]),n}(IP),LP="theoplayer-texttracks",MP=function(){function t(t){void 0===t&&(t=5),this.Nj=void 0;var n=le.document.createElement("div");n.className=LP,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Nj=n,this.Fm()}var n=t.prototype;return n.zm=function(){this.Nj.style.display="none"},n.Fm=function(){this.Nj.style.display="block"},n.Ej=function(t){t.appendChild(this.Nj)},n.Sd=function(){$e(this.Nj)},A(t,[{key:"$m",get:function(){return this.Nj}}]),t}();function UP(t,n){return Nr({},n,lg({jM:(i=t).jM,QM:i.QM,ZM:i.ZM,KM:i.KM,JM:i.JM,$M:i.$M,rU:i.rU,tU:i.tU,nU:i.nU,iU:i.iU,eU:i.eU}));var i}function XP(t){return t.ZM&&ds(t.ZM,"%")?Number(t.ZM.replace("%",""))/100:t.ZM&&ds(t.ZM,"em")?Number(t.ZM.replace("em","")):1}var HP,FP,zP=function(){function t(t,n,i,e,r){var s=this;this.Cj=Br(),this.Pj=!0,this.Bj=void 0,this.Oj=Nr({},BP),this.xj=[],this.rk=void 0,this.Vc=void 0,this.Xq=void 0,this.Lj=void 0,this.Mj=function(t){return s.mE(t.zy)},this.Uj=function(t){return s.removeCue(t.zy)},this.Xj=function(){return s.Hj()},this.Fj=function(t){return s.zj(t.zy)},this.Vj=function(t){return s.Wj(t.zy)},this.Gj=function(t){return s.qj(t.zy)},this.Yj=function(t){s.jj(t.Tk,t.sT)},this.rk=t,this.Lj=this.Bj=r,this.Vc=this.Qj(i),this.Xq=e,n.appendChild(this.Vc)}var n=t.prototype;return n.Zj=function(t){var n=this.Kj(t);if(!n)return!1;for(var i=0;i<n.length;i++){$e(n[i])}return this.Jj(t),!0},n._L=function(){var t=this;this.$j(),this.rk.j_.p_.forEach(function(n){return t.mE(n)}),this.NU.Zs("pO",this.Yj),this.jj(this.NU.RO,this.NU.IO)},n.tQ=function(t){this.Oj=t,this.Bj=UP(this.Oj,this.Lj),this.Bj.jM&&(this.SD.style.fontFamily=this.Bj.jM),this.Bj.rU&&(this.SD.style.visibility=this.Bj.rU),this.jj(this.NU.RO,this.NU.IO),this.nQ(!0)},n.iQ=function(){return this.Bj},n.eQ=function(t){return this.Cj.has(t.B_)},n.$j=function(){this.rk.Zs(Z_.jw,this.Mj),this.rk.Zs(Z_.Zw,this.Uj),this.rk.Zs(Z_.r_,this.Xj)},n.rQ=function(){this.rk.tu(Z_.jw,this.Mj),this.rk.tu(Z_.Zw,this.Uj),this.rk.tu(Z_.r_,this.Xj)},n.sQ=function(t){t.Zs(yy.Uy,this.Fj),t.Zs(yy.Hy,this.Vj),t.Zs(yy.c_,this.Gj)},n.uQ=function(t){t.tu(yy.Uy,this.Fj),t.tu(yy.Hy,this.Vj),t.tu(yy.c_,this.Gj)},n.mE=function(t){this.sQ(t),t.dk&&this.zj(t)},n.removeCue=function(t){this.uQ(t),this.Wj(t)},n.Hj=function(){this.rk.W_===Eg.F_?this.oQ():this.aQ()},n.oQ=function(){if(this.Pj){this.Pj=!1;var t=this.NU.RO,n=this.NU.IO;this.jj(t,n),this.nQ(!1)}},n.aQ=function(){this.Pj||(this.Pj=!0,this.nQ(!0))},n.zj=function(t){this.Pj||t.dk&&!this.eQ(t)&&this.nQ(!1)},n.Wj=function(t){this.eQ(t)&&this.nQ(!1)},n.qj=function(t){(t.dk||this.eQ(t))&&this.nQ(!0)},n.nQ=function(t){var n=this.xj,i=this.Pj?[]:this.rk.Q_.p_.slice();this.hQ(i,n,t),this.xj=i},n.Kj=function(t){var n;return null==(n=this.Cj.get(t.B_))?void 0:n.cQ},n.fQ=function(t,n){this.Cj.set(t.B_,{zy:t,cQ:n})},n.Jj=function(t){this.Cj.delete(t.B_)},n.vQ=function(){return this.xj.slice()},n.Sd=function(){var t=this;$e(this.SD),this.Cj.clear(),this.rQ(),this.rk.j_.p_.forEach(function(n){return t.uQ(n)}),this.NU.tu("pO",this.Yj)},A(t,[{key:"Yw",get:function(){return this.rk}},{key:"SD",get:function(){return this.Vc}},{key:"NU",get:function(){return this.Xq}},{key:"lQ",get:function(){return this.Bj}},{key:"dQ",get:function(){return this.Oj}}]),t}();function VP(t){return WP[t||"none"]}!function(t){t.wQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t._Q='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.gQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.mQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(HP||(HP={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(FP||(FP={}));var WP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},GP=Or({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),qP={QM:FP.WHITE,jM:"Arial, Helvetica, Sans-Serif",ZM:"100%",KM:FP.TRANSPARENT,JM:FP.TRANSPARENT,$M:"none",rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},YP=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qP)||this}S(n,t);var i=n.prototype;return i.Qj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",nr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.jj=function(t,n){var i=w.min(t,n)/15;this.SD.style.fontSize=i+"px"},i.hQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.dk||this.Zj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.yQ(u)}},i.yQ=function(t){var n=this.Kj(t);n||(n=this.kQ(t),this.fQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SD.appendChild(r)}},i.kQ=function(t){var n,i=[],e=t.jS,r=t.Kp,u=t.Gy;if(0===d.keys(r).length){nB(n=s.createElement("div"));for(var o=jP(u,e,t.QS,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=d.keys(r);c<f.length;c++){var v=f[c],l=s.createElement("div");l.id=v;var w=jP(u,e,t.QS,l);if(w){nB(l),ZP(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.tQ=function(t){var n,i,e,r;n=this.SD,i=t,n.style.marginTop=(null!=(e=i.tU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.nU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",xR(this.SD,t)},n}(zP);function jP(t,n,i,e){var r,u;if(Qt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":QP(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",QP(n,t);break;case"DIV":QP(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");JP(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=op(s.wi,["ebutts","tts","xml"]);$P(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&KP(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];KP(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=jP(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,w=l[v];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.Fi));return r?[r]:[]}function QP(t,n){var i=n.Oi(rp,"id");i&&(t.id=i)}function ZP(t,n,i,e){JP(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];$P(t,n,u,i[u],t)}}function KP(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.Fi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){nr(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function JP(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=d.keys(e[o]);a<h.length;a++){var c=h[a],f=op(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?JP(t,n,e[o][c],e,r):$P(t,n,f,e[o][c],r)}}}function $P(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=GP.get(e);t.style.fontFamily=s||e;break;case"fontSize":ds(e,"px")?e=_(e)/24+"em":ds(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=tB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var v=tB(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ds(e,"c")){var p=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=p}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function tB(t){return"div"===t||"p"===t||"span"===t}function nB(t){nr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var iB,eB,rB=void 0;function sB(t,n){for(var i,e=iB.pQ,r="",s=[],u=t.charAt(n.Pu),o="",a={fs:eB.bQ,Ri:"",AQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case iB.pQ:switch(u){case"&":var h=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],rB||(rB=le.document.createElement("textarea")),rB.innerHTML=i,rB.value),n.Bu(h[0].length-1)):r+="&";break;case"<":if(r)return{fs:eB.TQ,Gy:r};e=iB.SQ;break;case"EOF":return{fs:eB.TQ,Gy:r};default:r+=u}break;case iB.SQ:switch(u){case"\t":case"\n":case"\f":case" ":e=iB.EQ;break;case".":e=iB.IQ;break;case"/":e=iB.RQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=iB.DQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=iB.NQ}break;case iB.NQ:switch(u){case"\t":case"\f":case" ":e=iB.EQ;break;case"\n":o=u,e=iB.EQ;break;case".":e=iB.IQ;break;case">":return n.Bu(1),{fs:eB.bQ,Ri:r,AQ:[]};case"EOF":return{fs:eB.bQ,Ri:r,AQ:[]};default:r+=u}break;case iB.IQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=iB.EQ;break;case"\n":s.push(o),o=u,e=iB.EQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{fs:eB.bQ,Ri:r,AQ:s};case"EOF":return s.push(o),{fs:eB.bQ,Ri:r,AQ:s};default:o+=u}break;case iB.EQ:switch(u){case"&":e=iB.CQ;break;case">":n.Bu(1);var c=o.trim();return c=c.replace(/\s/," "),{fs:eB.bQ,Ri:r,AQ:s,BQ:c};default:o+=u}break;case iB.CQ:for(var f="",v=n.Pu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=iB.EQ;break;case iB.RQ:switch(u){case">":return n.Bu(1),{fs:eB.OQ,Ri:r};case"EOF":return{fs:eB.OQ,Ri:r};default:r+=u}break;case iB.DQ:switch(u){case">":return n.Bu(1),{fs:eB.xQ,LQ:r};case"EOF":return{fs:eB.xQ,LQ:r};default:r+=u}}n.Bu(1)}return a}function uB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.pQ="Data",t.SQ="Tag",t.NQ="StartTag",t.IQ="StartTagClass",t.EQ="StartTagAnnotation",t.CQ="CharRefInAnnotation",t.RQ="EndTag",t.DQ="TimestampTag"}(iB||(iB={})),function(t){t.TQ="string",t.bQ="starttag",t.OQ="endtag",t.xQ="timestamp"}(eB||(eB={}));var oB,aB=function(){function t(t,n,i,e){this.MQ=void 0,this.UQ=void 0,this.Tk=void 0,this.sT=void 0,this.MQ=t,this.UQ=n,this.Tk=i,this.sT=e}var n=t.prototype;return n.XQ=function(t){return this.MQ<t.HQ&&this.HQ>t.MQ&&this.UQ<t.FQ&&this.FQ>t.UQ},n.Ey=function(t){return this.MQ<=t.MQ&&t.HQ<=this.HQ&&this.UQ<=t.UQ&&t.FQ<=this.FQ},n.Lu=function(){return new t(this.MQ,this.UQ,this.Tk,this.sT)},A(t,[{key:"HQ",get:function(){return this.MQ+this.Tk},set:function(t){this.MQ=t-this.Tk}},{key:"FQ",get:function(){return this.UQ+this.sT},set:function(t){this.UQ=t-this.sT}}]),t}(),hB={QM:FP.WHITE,jM:"sans-serif",ZM:"100%",KM:"rgba(0,0,0,0.8)",JM:FP.TRANSPARENT,$M:"none",rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},cB="theoplayer-webvtt-region-",fB="theoplayer-webvtt-styling-",vB="theoplayer-webvtt-voice-",lB="theoplayer-webvtt-default-style",dB=5.23,wB=1.14,_B=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,hB)||this).zQ=Pr(),s.VQ=pB(3),s}S(n,t);var i=n.prototype;return i.Qj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,er(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.lQ.jM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(lB))return;for(var t=[],n=0;n<DB.length;n++){var i=DB[n],e=i[0],r=i[1];t.push("."+fB+e+" { color: "+r+" !important; }"),t.push("."+fB+"WQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("GQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=lB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i._L=function(){this.SD.appendChild(this.VQ),t.prototype._L.call(this)},i.jj=function(t,n){var i=this,e=w.min(t/100,n/100),r=XP(this.lQ);this.zQ.forEach(function(t){var n=t.Ky,s=t.qQ;i.YQ(s,e,r,n)}),this.YQ(this.VQ,e,r)},i.tQ=function(n){xR(this.SD,n),t.prototype.tQ.call(this,n)},i.hQ=function(t,n,i){for(var e=this,r=this.SD,s=this.NU.IO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.Ky&&(Hs(u,a.Ky)||u.push(a.Ky))}this.zQ.forEach(function(t,n){var r=t.Ky,s=t.qQ;!i&&Hs(u,r)||($e(s),e.zQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.dk||this.Zj(c)}var f=[],v=SB(this.VQ.getBoundingClientRect());f.push.apply(f,this.jQ(v));for(var l=0;l<u.length;l++){var d=u[l],w=void 0;this.zQ.has(d.P_)?w=this.zQ.get(d.P_).qQ:(w=bB(d,s),r.appendChild(w),this.zQ.set(d.P_,{Ky:d,qQ:w})),f.push(SB(w.getBoundingClientRect()))}for(var _=0;_<t.length;_++){var g=t[_],m=this.yQ(g,f,v);void 0!==m&&f.push(m)}},i.jQ=function(t){var n=[],i=this.lQ;if(void 0!==i.tU){var e=t.Lu();e.sT=i.tU,n.push(e)}if(void 0!==i.nU){var r=t.Lu();r.sT=i.nU,r.FQ=t.FQ,n.push(r)}return n},i.yQ=function(t,n,i){var e,r;t.Ky?(r=this.zQ.get(t.Ky.P_).qQ,"up"===t.Ky.pk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.VQ;var s=null==(e=this.Kj(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.QQ(t),r.appendChild(s),t.Ky||(t.Jy?function(t,n,i,e){var r=AB(t),s=r?i.sT:i.Tk,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=SB(n.getBoundingClientRect()),a=w.round(Ly(t));"rl"===t.$y&&(a=-(a+1));var h=u*a;"rl"===t.$y&&(h=h-o.Tk+u);a<0&&(h+=s,u=-u);r?o.UQ+=h:o.MQ+=h;var c=o.Lu(),f=!1;for(;!i.Ey(o)||TB(o,e);)if(r)if(u<0&&o.UQ<i.UQ||u>0&&o.FQ>i.FQ){if(o.UQ=c.UQ,f)break;u=-u,f=!0}else o.UQ+=u;else if(u<0&&o.MQ<i.MQ||u>0&&o.HQ>i.HQ){if(o.MQ=c.MQ,f)break;u=-u,f=!0}else o.MQ+=u;r?n.style.top=(o.UQ-i.UQ)/i.sT*100+"%":n.style.left=(o.MQ-i.MQ)/i.Tk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=SB(n.getBoundingClientRect());if(0===r.Tk||0===r.sT)return;AB(t)?"center"===t.jy?r.UQ-=r.sT/2:"end"===t.jy&&(r.UQ-=r.sT):"center"===t.jy?r.MQ-=r.Tk/2:"end"===t.jy&&(r.MQ-=r.Tk);var s,u=r.Lu(),o=u,a=1,h=!1;s=""===t.$y?[oB.POS_Y,oB.NEG_Y,oB.POS_X,oB.NEG_X]:"lr"===t.$y?[oB.POS_X,oB.NEG_X,oB.POS_Y,oB.NEG_Y]:[oB.NEG_X,oB.POS_X,oB.POS_Y,oB.NEG_Y];var c=g(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!IB(r,i,s[f],.01)&&(!i.Ey(r)||TB(r,e));)EB(r,s[f],c);if(i.Ey(r)){o=r.Lu(),h=!0;break}var v=(l=r,d=i,_=void 0,m=void 0,void 0,_=w.max(0,w.min(l.HQ,d.HQ)-w.max(l.MQ,d.MQ)),m=w.max(0,w.min(l.FQ,d.FQ)-w.max(l.UQ,d.UQ)),_*m/(l.Tk*l.sT));a>v&&(o=r.Lu(),a=v),r=u.Lu()}i.Ey(r)||(o=u.Lu())}var l,d,_,m;n.style.left=(o.MQ-i.MQ)/i.Tk*100+"%",n.style.top=(o.UQ-i.UQ)/i.sT*100+"%"}(t,s,i,n)),this.fQ(t,[s])),!t.Ky)return SB(s.getBoundingClientRect())},i.QQ=function(t){for(var n=new Vo,i=t.Gy,e=this.ZQ(t),r={KQ:void 0,$m:e},u=r,o="",a="",h=[r],c=[],f=[];n.Pu<i.length;){var v=sB(i,n);if(v.fs===eB.TQ){var l=s.createElement("span");uB(l,v.Gy),gB(l,h),""!==o&&(l.lang=o),this.JQ(l,a),u.$m.appendChild(l)}else if(v.fs===eB.bQ){var d=v.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.$m.appendChild(w),u={KQ:v,$m:w},h.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.KQ)?void 0:_.Ri.toLowerCase())){var g=s.createElement("rt");u.$m.appendChild(g),u={KQ:v,$m:g},h.push(u)}break;case"c":case"v":u={KQ:v,$m:u.$m},h.push(u);break;case"font":var m,y=null==(m=v.BQ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={KQ:v,$m:u.$m},h.push(u));break;case"lang":var k;o=null!=(k=v.BQ)?k:"",c.push(o)}}else if(v.fs===eB.OQ){var p,b=v.Ri.toLowerCase(),A=null==(p=u.KQ)?void 0:p.Ri.toLowerCase();A===b?(h.pop(),u=h[h.length-1],"font"===b&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.fs===eB.xQ){var T=v.LQ,S=new Vo;try{Rk(T,S)}catch(t){at("ERROR collecting timestamp",t)}}}return e},i.JQ=function(t,n){var i=this.lQ,e=this.dQ;i.KM&&(t.style.background=i.KM);var r=e.QM||n||i.QM;r&&(t.style.color=r)},i.YQ=function(t,n,i,e){if(e){var r=mB(e,n);t.style.height=r*i+"px",t.style.left=yB(e)+"%",t.style.top=kB(e,n)+"px"}t.style.fontSize=dB*n*i+"px"},i.ZQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.qy,function(t,n){"rl"===n.$y?t.style.writingMode="vertical-rl":"lr"===n.$y?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Xy(n);AB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Uy(n),s=My(n),u=Xy(n);if(AB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.Jy?0:Ly(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.Jy?0:Ly(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.lQ.JM;i&&(n.style.background=i);var e=this.lQ.QM;return e&&(n.style.color=e),n.style.textShadow=VP(this.lQ.$M),n},n}(zP);function gB(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.KQ){for(var r=0,s=e.KQ.AQ;r<s.length;r++){var u=s[r];tr(t,fB+u)}"v"===e.KQ.Ri.toLowerCase()&&e.KQ.BQ&&tr(t,vB+e.KQ.BQ)}}}function mB(t,n){return t._k*(dB*n)*wB}function yB(t){return t.bk-t.gk*t.Tk/100}function kB(t,n){var i=t.Ak,e=t.yk*mB(t,n)/100;return w.max(0,i-e)}function pB(t){var n=s.createElement("div");return n.className=cB+"default",er(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=dB*t+"px",n.style.lineHeight=wB+"em",n}function bB(t,n){var i=pB(n);i.className=cB+t.P_;var e=t.Tk,r=mB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=yB(t)+"%",i.style.right="",i.style.top=kB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function AB(t){return""===t.$y}function TB(t,n){return n.some(function(n){return t.XQ(n)})}function SB(t){return new aB(t.left,t.top,t.width,t.height)}function EB(t,n,i){switch(n){case oB.POS_X:t.MQ+=i;break;case oB.NEG_X:t.MQ-=i;break;case oB.POS_Y:t.UQ+=i;break;case oB.NEG_Y:t.UQ-=i}}function IB(t,n,i,e){switch(i){case oB.POS_X:return t.HQ>n.HQ+e;case oB.NEG_X:return t.MQ<n.MQ-e;case oB.POS_Y:return t.FQ>n.FQ+e;case oB.NEG_Y:return t.UQ<n.UQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(oB||(oB={}));var RB,DB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(RB||(RB={}));var NB={QM:FP.WHITE,jM:HP.gQ,ZM:"100%",KM:FP.BLACK,JM:"transparent",$M:"none",$Q:RB.FONT_REGULAR,rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},CB=[{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.GREEN,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.GREEN,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.BLUE,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.BLUE,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.CYAN,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.CYAN,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.RED,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.RED,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.YELLOW,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.YELLOW,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.MAGENTA,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.MAGENTA,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.WHITE,$Q:RB.FONT_ITALICS,nZ:0},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE_ITALICS,nZ:0},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:0},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:0},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:4},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:4},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:8},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:8},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:12},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:12},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:16},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:16},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:20},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:20},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:24},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:24},{tZ:FP.WHITE,$Q:RB.FONT_REGULAR,nZ:28},{tZ:FP.WHITE,$Q:RB.FONT_UNDERLINE,nZ:28}],PB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function BB(t,n){return tk(t.iZ,n.iZ)||Cs(t.fS,n.fS)}var OB=32,xB=function(){function t(t,n,i){this.eZ=void 0,this.rZ=t,this.sZ=n,this.Bj=i}var n=t.prototype;return n.uZ=function(){return this.eZ=this.oZ(),this.aZ(),this.hZ(),this.eZ},n.oZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.cZ/OB*this.sZ.fZ*100+"%",t.style.height=1.2*this.vZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.sZ.lZ?"calc(1em - 1ch)":"";var n=this.Bj.jM;n&&(t.style.fontFamily=n);var i=this.Bj.JM;return i&&(t.style.backgroundColor=i),t},n.aZ=function(){if(this.eZ){var t=this.wZ.dZ/15*100,n=this.wZ.nZ/OB*100,i=(OB-this._Z.nZ-1)/OB*100,e=(15-this._Z.dZ-1)/15*100;this.sZ.gZ||(n=i=1,this.eZ.style.width="98%"),e<t?this.eZ.style.bottom=e*this.sZ.fZ+"%":this.eZ.style.top=t*this.sZ.fZ+"%",i<n?this.eZ.style.right=i+"%":this.eZ.style.left=n+"%"}},n.hZ=function(){for(var t=this.rZ.mZ.sort(LB),n=0;n<t.length;n++)this.yZ(t[n-1],t[n]),this.kZ(t[n]);this.yZ(t[t.length-1],void 0)},n.kZ=function(n){var i,e=UP(this.Bj,n.pZ),r=t.bZ(e);uB(r,n.AZ),null==(i=this.eZ)||i.appendChild(r)},t.bZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.$Q!==RB.FONT_ITALICS&&t.$Q!==RB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.$Q!==RB.FONT_UNDERLINE&&t.$Q!==RB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.QM;i&&(n.style.color=i);var e=t.KM;return e&&(n.style.backgroundColor=e),n.style.textShadow=VP(t.$M),n.style.height="1.2em",n},n.yZ=function(t,n){var i=t?t.TZ.dZ:this.rZ.SZ.dZ,e=n?n.SZ.dZ:this.rZ.TZ.dZ,r=t?t.TZ.nZ:this.rZ.SZ.nZ,s=n?n.SZ.nZ:this.rZ.TZ.nZ;i<e&&(!n||t&&t.SZ.dZ!==n.SZ.dZ?this.EZ():this.IZ(this.rZ.TZ.nZ-r),r=this.rZ.SZ.nZ),r<s&&(n?this.IZ(s-r):this.EZ())},n.EZ=function(){var t,n=s.createElement("br");null==(t=this.eZ)||t.appendChild(n)},n.IZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",uB(i,_s(" ",t)),null==(n=this.eZ)||n.appendChild(i)}},A(t,[{key:"wZ",get:function(){return this.rZ.SZ}},{key:"_Z",get:function(){return this.rZ.TZ}},{key:"cZ",get:function(){return this.rZ.TZ.nZ-this.rZ.SZ.nZ+1}},{key:"vZ",get:function(){return this.rZ.TZ.dZ-this.rZ.SZ.dZ+1}}]),t}();function LB(t,n){return function(t,n){if(t.dZ!==n.dZ)return t.dZ-n.dZ;return t.nZ-n.nZ}(t.SZ,n.SZ)}var MB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,NB)||this).RZ=void 0,s.DZ=void 0,s}S(n,t);var i=n.prototype;return i.Qj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.lQ.jM&&(n.style.fontFamily=this.lQ.jM),n},i.jj=function(t,n){this.NZ()},i.NZ=function(){var t,n=XP(this.lQ);this.DZ={fZ:(t=100*n)/100,lZ:t<=100,gZ:t<=150};var i=this.CZ/OB;this.RZ=i*n,this.SD.style.fontSize=this.RZ+"px"},i.hQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.dk||this.Zj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.yQ(u)}},i.yQ=function(t){this.DZ&&this.DZ.gZ?this.PZ(80):this.PZ(100),this.NZ();var n=this.Kj(t);n||(n=this.kQ(t),this.fQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SD.appendChild(r)}},i.kQ=function(t){var n=this;return t.Gy.map(function(t){return new xB(t,n.DZ,n.lQ).uZ()})},i.PZ=function(t){var n=(100-t)/2;this.SD.style.left=n+"%",this.SD.style.width=t+"%"},A(n,[{key:"CZ",get:function(){var t=this.SD.offsetWidth;return this.DZ&&this.DZ.gZ||(t*=.8),t}}]),n}(zP),UB=function(){function t(t,n,i,e,r){var s=this;this.BZ=void 0,this.Xq=void 0,this.pm=void 0,this.OZ=void 0,this.xZ=[],this.AC=void 0,this.LZ=function(t){var n=t.Yw;n.Zs(Z_.u_,s.MZ),n.Zs(Z_.a_,s.MZ),n instanceof JC&&(n.AG=s.AG),s.UZ(n)},this.MZ=function(t){var n=t.Yw;s.UZ(n)},this.XZ=function(t){var n=t.Yw;n.tu(Z_.u_,s.MZ),n.tu(Z_.a_,s.MZ),s.HZ(n)},this.FZ=function(){for(var t=s.AG,n=0,i=s.pm.p_;n<i.length;n++){var e=i[n];e instanceof JC&&(e.AG=t)}},this.zZ=function(){for(var t=0,n=s.xZ;t<n.length;t++){n[t].tQ(s.AC)}},this.VZ=function(){for(var t=0,n=s.xZ;t<n.length;t++){var i=n[t];i.tQ(Nr({},i.iQ(),{rU:"hidden"}))}},this.WZ=function(){for(var t=0,n=s.xZ;t<n.length;t++){var i=n[t];i.tQ(Nr({},i.iQ(),{rU:"visible"}))}},this.BZ=t,this.Xq=n,this.pm=i,this.OZ=r,this.AC=e,this.pm.Zs(q_.Hw,this.LZ),this.pm.Zs(q_.zw,this.XZ),this.pm.Zs(Z_.r_,this.MZ),this.OZ.Zs(iS.r_,this.FZ),this.AC.Zs("s_",this.zZ),this.FZ()}var n=t.prototype;return n.GZ=function(t){for(var n=0,i=this.xZ;n<i.length;n++){var e=i[n];if(e.Yw===t)return e}},t.qZ=function(t){switch(t.fs){case wy.TTML:case wy.SRT:case wy.WEBVTT:case wy.CEA608:return!0}return!1},n.YZ=function(t){switch(t.fs){case wy.TTML:return new YP(t,this.BZ,t.x_,this.Xq);case wy.SRT:case wy.WEBVTT:return new _B(t,this.BZ,t.x_,this.Xq);case wy.CEA608:return new MB(t,this.BZ,t.x_,this.Xq)}},n.jZ=function(t){var n=this.GZ(t);n||(n=this.YZ(t))&&(n._L(),n.tQ(this.AC),this.xZ.push(n),t.W_===Eg.F_&&n.oQ())},n.HZ=function(t){for(var n=this.xZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.Yw===t&&(e.Sd(),Xs(n,i))}},n.UZ=function(n){var i;(i=n.O_)!==Sp.Qb&&i!==Sp.$S||!t.qZ(n)||(n.Y_===dy.ERROR?this.HZ(n):this.jZ(n))},n.k_=function(){for(var t=0,n=this.xZ;t<n.length;t++){var i=n[t];i.Yw.tu(Z_.u_,this.MZ),i.Yw.tu(Z_.a_,this.MZ),i.Sd()}zs(this.xZ)},n.Sd=function(){this.k_();for(var t=0,n=this.xZ;t<n.length;t++){n[t].Sd()}this.pm.tu(q_.Hw,this.LZ),this.pm.tu(q_.zw,this.XZ),this.pm.tu(Z_.r_,this.MZ),this.OZ.tu(iS.r_,this.FZ),this.AC.tu("s_",this.zZ)},A(t,[{key:"AG",get:function(){return this.OZ.lC}}]),t}();function XB(t){var n=new NI,i=function(t){var n=[];return RI.ZO(t)&&n.push(new RI(t)),DI.ZO(t)&&n.push(new DI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.nx(r)}n.tx(i[0])}return n}var HB,FB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).QZ=void 0,s.ZZ=void 0,s.KZ=void 0,s.KZ=XB(n),s.QZ=new MP,s.ZZ=new UB(s.QZ.$m,s.NU,s.Rm,s.PU,s.XD),s}S(n,t);var i=n.prototype;return i.Vm=function(){return this.Vc},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.KZ.Sd(),this.QZ.Sd(),this.ZZ.Sd(),n.next=5,Dr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.zm=function(){t.prototype.zm.call(this),this.QZ.zm()},i.Fm=function(){t.prototype.Fm.call(this),this.QZ.Fm()},i.Ej=function(n){t.prototype.Ej.call(this,n),this.QZ.Ej(n)},A(n,[{key:"SD",get:function(){return this.Vc}},{key:"Yg",get:function(){return this.Vc.videoHeight}},{key:"jg",get:function(){return this.Vc.videoWidth}},{key:"XD",get:function(){return this.KZ}}]),n}(IP);!function(t){t.JZ="HELLO",t.$Z="HI_THERE",t.tK="INITIALIZE",t.nK="APPEND_INIT",t.iK="APPEND_DATA",t.eK="ACK",t.rK="REMOVE",t.sK="DESTROY_SESSION"}(HB||(HB={}));var zB=function(){function t(){this.we=void 0,this.Fc=void 0,this.oX=new KR}var n=t.prototype;return n.uK=function(t){var n=this;return this.oX.ZU(function(t){var i,e,r,s,u,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(nu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Dr.awrap(W_(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Dr.awrap(W_(o.serviceWorker.controller,"activate",t));case 10:return s={kind:HB.JZ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,h.prev=15,h.next=18,Dr.awrap(W_(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===HB.$Z){h.next=23;break}throw new v("Could not set up message channel");case 23:n.Fc=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),tu(h.t0)&&n.oK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],We)},t)},n.aK=function(t,n){var i=this;return this.we,this.oX.ZU(function(){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Dr.awrap(W_(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.hK=function(){var t=this;return this.oX.ZU(function(){return t.oK()})},n.oK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:HB.sK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),VB=function(){function t(){this.cK=Gy.Rp}var n=t.prototype;return n.fK=function(t,n){var i=t.Mk(n);this.cK=i.Ik(this.vK)?this.cK:i},n.lK=function(t){this.cK=t},A(t,[{key:"vK",get:function(){return this.cK}}]),t}(),WB=function(t){function n(n,i){var e;return(e=t.call(this)||this).dK=void 0,e.wK=void 0,e.oX=new KR,e._K=!1,e.gK=!1,e.JB=n,e.mK=i,e}S(n,t);var i=n.prototype;return i.gV=function(t,n){},i.mV=function(t,n){},i.XX=function(){return this.gK},i.yV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.$z=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.zz=function(t,n,i){var e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.fs===bD.WX){u.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return e=t.Fi,r=function(){var t,i,r;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:HB.iK,mimeType:s.JB,segment:e,startPts:n.yK,totalDuration:n.Hg},u.next=4,Dr.awrap(s.mK.aK(i,[t]));case 4:void 0===s.dK&&(r=n.yK+n.Zp,s.dK=r,s.wK=r),s.wK=s.wK+n.Hg,s.Qs(new gu(gD.zX));case 7:case"end":return u.stop()}},null,null,null,We)},u.abrupt("return",this.oX.ZU(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,s._K=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s._K=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return u.stop()}},null,this,null,We)},i.Gz=function(t,n,i){var e,r,s=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.fs===bD.WX){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Fi,r=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:HB.nK,mimeType:s.JB,segment:e},n.next=3,Dr.awrap(s.mK.aK(t,[]));case 3:case"end":return n.stop()}},null,null,null,We)},n.abrupt("return",this.oX.ZU(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,s._K=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s._K=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.fV=function(){this.gK=!0},i.oV=function(){this.gK=!1},i.Qh=function(t,n,i){var e,r=this;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:HB.rK,mimeType:r.JB,endTime:n},i.next=3,Dr.awrap(r.mK.aK(t));case 3:r.dK=void 0,r.wK=void 0,r.Qs(new gu(gD.zX));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this.oX.ZU(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,r._K=!0,n.next=5,Dr.awrap(e());case 5:return n.prev=5,r._K=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.NX=function(t){return this.JB===t.Nl},i.CX=function(t){return this.JB=t.Nl,We.resolve()},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.oX.Sd());case 3:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Km",get:function(){return void 0===this.dK||void 0===this.wK?rS.fC():new rS([this.dK,this.wK])}},{key:"rc",get:function(){return{Nl:this.JB}}},{key:"bV",get:function(){return $m.Kl}},{key:"YB",get:function(){return this.JB}},{key:"AV",get:function(){return rS.fC()}},{key:"eL",get:function(){return 30},set:function(t){}},{key:"oL",get:function(){return 30},set:function(t){}},{key:"ux",get:function(){return this._K}},{key:"kK",get:function(){return this.dK}},{key:"Wy",get:function(){return this.wK}}]),n}(wu),GB=function(){function t(t,n){this.Pc=void 0,this.rW=void 0,this.sW=void 0,this.Pc=t,this.sW=xs(n,function(t){return Boolean(t.YB.match(/video/))}),this.rW=xs(n,function(t){return Boolean(t.YB.match(/audio/))}),this.pK()}t.bK=function(n,i){for(var e=[],r=0;r<n.gW.length;r++){var s=n.gW[r].Nl;e.push(new WB(s,i))}return new t(n,e)};var n=t.prototype;return n.pK=function(){},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(We.all([this.rW,this.sW].filter(H).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.lW=function(t){},n._W=function(t,n,i,e){},n.fV=function(){var t,n;null==(t=this.rW)||t.fV(),null==(n=this.sW)||n.fV()},n.oV=function(){var t,n;null==(t=this.rW)||t.oV(),null==(n=this.sW)||n.oV()},n.NX=function(t){return t===this.Pc},n.CX=function(t){return this.Pc=t,We.resolve()},A(t,[{key:"AK",get:function(){return[this.rW,this.sW].filter(H)}},{key:"tW",get:function(){return this.rW}},{key:"Km",get:function(){return SN(this)}},{key:"rc",get:function(){return this.Pc}},{key:"Hg",get:function(){return 0}},{key:"XX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.rW)?void 0:n.XX())||t,s=null==(i=null==(e=this.sW)?void 0:e.XX())||i;return r&&s}},{key:"py",get:function(){return new rS([0,1/0])}},{key:"nW",get:function(){return this.sW}},{key:"Im",get:function(){throw new v("Not implemented")}}]),t}(),qB=Gy.qk,YB=new Gy(-1/0),jB=Gy.Rp,QB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Rk=function(t,n){return t.Bk(n)?Ss.Ds:t.lk(n)?Ss.Is:Ss.Rs},i.Sy=function(t,n){return t.Sy(n)},i.Mk=function(t,n){return t.Mk(n)},i.Pk=function(t,n){return t.Pk(n)},i.XN=function(){return qB},i.HN=function(){return jB},i.WN=function(){return YB},n.aC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Gy(t.start(e)),new Gy(t.end(e)));return new n(i)},n.TK=function(t){for(var i=[],e=[],r=0;r<t.b_;r++)i.push(new Gy(t.RN(r))),i.push(new Gy(t.NN(r))),e.push(t.DN(r)),e.push(t.CN(r));return new n(i,e)},n.cC=function(t){return new n([t,t],[!0,!0])},i.MN=function(t,i){return new n(t,i)},i.xN=function(t){return t.Ep},n.fC=function(){return ZB},n}(eS),ZB=new QB([]),KB=function(t){function n(n){var i;return(i=t.call(this)||this).SK=!0,i.mK=new zB,i.EK=new VB,i.JR=void 0,i.zq=void 0,i.IK=!0,i.RK=new Go,i.kC=!1,i.tY=We.resolve(),i.nY=new Js,i.DK=!0,i.eY=rS.fC(),i.KZ=void 0,i.NK=void 0,i.lY=!1,i.rD=void 0,i.CK=function(){i.Wg||i.PK.b_<=0||i.Km.b_<=0||i.EK.fK(new Gy(i.Km.NN(i.Km.b_-1)),i.PK.NN(i.PK.b_-1))},i.BK=function(){i.Qs(new ym(i.Xg))},i.xK=function(){i.Qs(new mm(i.Xg,i.Jm))},i.LK=function(){i.Qs(new gm(i.Xg,i.Gg))},i.MK=function(){i.Qs(new Am(i.Xg,i.Qg))},i.UK=function(){i.Qs(new _m(i.Hg))},i.XK=function(){i.Qs(new fb(i.Xg))},i.HK=function(){i.xu(i.Xg)},i.FK=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.DK&&i.Qs(new vm(i.Xg)),i.IK=!1,i.DK=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.zK=function(){i.IK=!0,i.Qs(new fm(i.Xg))},i.NK=n,i.zq=new xN(Kt(i)),i.NK.setAttribute("id","player_video"),i.NK.setAttribute("x-webkit-airplay","deny"),i.NK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.NK.playsInline=!0,i.NK.style.width="100%",i.NK.style.height="100%",i.VK(),i.WK(),i.KZ=XB(i.NK),i}S(n,t);var e=n.prototype;return e.VK=function(){this.NK.addEventListener("timeupdate",this.CK),this.NK.addEventListener("ended",this.BK),this.NK.addEventListener("timeupdate",this.xK),this.NK.addEventListener("ratechange",this.LK),this.NK.addEventListener("volumechange",this.MK),this.NK.addEventListener("durationchange",this.UK),this.NK.addEventListener("playing",this.XK),this.NK.addEventListener("seeking",this.HK),this.NK.addEventListener("play",this.FK),this.NK.addEventListener("pause",this.zK)},e.GK=function(){this.NK.removeEventListener("timeupdate",this.CK),this.NK.removeEventListener("ended",this.BK),this.NK.removeEventListener("timeupdate",this.xK),this.NK.removeEventListener("ratechange",this.LK),this.NK.removeEventListener("volumechange",this.MK),this.NK.removeEventListener("durationchange",this.UK),this.NK.removeEventListener("playing",this.XK),this.NK.removeEventListener("seeking",this.HK),this.NK.removeEventListener("play",this.FK),this.NK.removeEventListener("pause",this.zK)},e.WK=function(){this.zq.Zs(hm.u_,this.js)},e.qK=function(){this.zq.tu(hm.u_,this.js)},e.xu=function(t,n){this.nY.Fs(),this.nY=new Js,this.tY=this.aj(t,this.tY,this.nY.Ws).catch(K)},e.aj=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.eY=this.gy,r=null==(e=this.JR)?void 0:e.AK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.kK?t.kK:1/0})),this.kC=!0,this.Qs(new pm(t)),u.next=9,Dr.awrap(n.catch(K));case 9:if(nu(i),u.prev=10,this.SK||this.YK(),this.NK.load(),this.IK){u.next=17;break}return this.DK=!1,u.next=17,Dr.awrap(ru(this.NK.play(),i));case 17:if(!(this.Y_<qg.Ng)){u.next=22;break}return u.next=20,Dr.awrap(this.zq.au(hm.u_,i));case 20:u.next=17;break;case 22:this.RK.Wu(),this.SK=!1,this.kC=!1,this.Qs(new bm(this.Xg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.RK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.jK(),this.EK.lK(new Gy(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.Cm=function(){this.IK=!0,this.NK.pause()},e.Nm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IK){t.next=2;break}return t.abrupt("return");case 2:return this.NK.src||this.Tj(),t.next=5,Dr.awrap(this.RK.Hu);case 5:return t.next=7,Dr.awrap(this.NK.play());case 7:case"end":return t.stop()}},null,this,null,We)},e.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.mK&&this.mK.hK().catch(K),this.nY.Fs(),this.GK(),this.qK(),this.zq.xs(),this.$s();case 6:case"end":return t.stop()}},null,this,null,We)},e.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.mK&&this.mK.hK().catch(K),this.nY.Fs(),this.NK.removeAttribute("src"),this.NK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.NK.removeAttribute("x-airplay-deny"),this.NK.load(),this.zq.k_(),this.eY=rS.fC();case 8:case"end":return t.stop()}},null,this,null,We)},e.Tj=function(){this.Sj||(iO(this.NK,i.Lr),this.lY=!0)},e.YK=function(){var t,n=this.NK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.NK.videoWidth/this.NK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.NK.style.width=i+"px",this.NK.style.height=e+"px",this.NK.style.marginLeft=(r-i)/2+"px",this.NK.style.marginTop=(u-e)/2+"px",this.NK.style.backgroundColor="black"}},e.jK=function(){this.NK.style.width="100%",this.NK.style.height="100%",this.NK.style.marginLeft="",this.NK.style.marginTop="",this.NK.style.backgroundColor=""},e.MD=function(t,n,i,e){},e._E=function(t,n,i,e,r,s){},e.UX=function(t){},e.jD=function(){return yR(this.NK)},e.Fm=function(){this.NK.style.display="block"},e.zm=function(){this.NK.style.display="none"},e.bj=function(){},e.jh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs!==$p.pE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Dr.awrap(this.mK.uK());case 4:return n={kind:HB.tK,mediaBufferConfigs:t.gW.map(function(t){return t.Nl})},i.next=7,Dr.awrap(this.mK.aK(n));case 7:return this.JR=GB.bK(t,this.mK),this.NK.preload="none",this.NK.src="https://theo.proxy/"+this.mK.Fc+"/master.m3u8",i.abrupt("return",this.JR);case 11:case"end":return i.stop()}},null,this,null,We)},e.Aj=function(){},e.yE=function(t){},e.HD=function(){},e.YD=function(t){},e.xD=function(){return!1},e.Ej=function(t){t.appendChild(this.NK)},e.Vm=function(){return this.NK},e.$Y=function(){},e.Zm=function(){},A(n,[{key:"SD",get:function(){return this.NK}},{key:"SW",get:function(){return!1}},{key:"Xg",get:function(){return this.NK.currentTime+this.EK.vK.Ep}},{key:"Wg",get:function(){return this.NK.paused}},{key:"Qg",get:function(){return this.NK.volume},set:function(t){this.NK.volume=t}},{key:"Gg",get:function(){return this.NK.playbackRate},set:function(t){this.NK.playbackRate=t}},{key:"QK",get:function(){return this.NK.defaultPlaybackRate}},{key:"Km",get:function(){var t,n;return null!=(t=null==(n=this.JR)?void 0:n.Km)?t:rS.fC()}},{key:"PK",get:function(){return QB.aC(this.NK.buffered)}},{key:"gy",get:function(){var t=rS.hC(this.ZK);return this.eY.YN(t.Bu(this.EK.vK.Ep))}},{key:"ZK",get:function(){return QB.aC(this.NK.played)}},{key:"qg",get:function(){return this.kC}},{key:"Hg",get:function(){return this.NK.duration}},{key:"Vg",get:function(){return this.NK.muted},set:function(t){this.NK.muted=t}},{key:"pZ",get:function(){return this.NK.style}},{key:"Rj",get:function(){return Nr({},wD,{yX:!0})}},{key:"Y_",get:function(){return this.zq.Y_}},{key:"Yg",get:function(){return this.NK.videoHeight}},{key:"jg",get:function(){return this.NK.videoWidth}},{key:"Fg",get:function(){return this.NK.ended}},{key:"sT",get:function(){return this.NK.height||this.NK.clientHeight}},{key:"Tk",get:function(){return this.NK.width||this.NK.clientWidth}},{key:"iy",get:function(){return!1}},{key:"Sj",get:function(){return this.lY}},{key:"Jm",get:function(){}},{key:"NU",get:function(){}},{key:"mu",get:function(){}},{key:"XD",get:function(){return this.KZ}},{key:"py",get:function(){return this.JR?this.JR.py:rS.fC()}},{key:"QD",get:function(){}},{key:"Rm",get:function(){}},{key:"PU",get:function(){}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"Ij",get:function(){return"block"===this.NK.style.display}},{key:"ED",get:function(){return this.rD},set:function(t){this.rD=t}},{key:"Dj",get:function(){},set:function(t){}},{key:"Uq",get:function(){}}]),n}(wu),JB=2,$B=[$m.dd,$m.wd];function tO(t){var n=s.createElement(t);return sr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),nO(n),n}function nO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),ur(t),t.pause(),t.playbackRate=1,t.preload=ZT.dN,t.controls=!1,t.style.display="none",sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function iO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&hu(e),t.pause()}}var eO,rO,sO;function uO(t){return{get bandwidth(){return t.NR},get codecs(){return t.XF},get id(){return t.P_},get uid(){return t.B_},get name(){return t.x_},get averageBandwidth(){return t.KK},get label(){return t.x_},set label(n){t.x_=gg(n)},get height(){return t.sT},get width(){return t.Tk},get frameRate(){return t.JK},get firstFrame(){return t.$K},get available(){return t.tJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function oO(t){return{get bandwidth(){return t.NR},get codecs(){return t.XF},get id(){return t.P_},get uid(){return t.B_},get name(){return t.x_},get averageBandwidth(){return t.KK},get label(){return t.x_},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.x_=n},get audioSamplingRate(){return t.nJ},get available(){return t.tJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function aO(t,n){return[t,void 0!==n?t+n-1:xt]}function hO(t){return Boolean(t.JA)}function cO(t){return Boolean(t.iJ)}ce=(eO={eJ:function(){function t(t,n,i,e,r){void 0===i&&(i=JB),void 0===e&&(e=$B),void 0===r&&(r=_f()),this.rJ=void 0,this.sJ=void 0,this.ys=void 0,this.uJ=void 0,this.Xq=void 0,this.AC=void 0,this.oJ=void 0,this.rJ=i,this.sJ=[].concat(e),this.ys=r,this.Xq=t,this.AC=n,this.uJ=Pr(),this.aJ()}var n=t.prototype;return n.EC=function(t){for(var n=0,i=this.RC;n<i.length;n++){i[n].Ej(t)}},n.TD=function(t){var n=xs(this.uJ.get(t),function(t){return t.tJ});if(n)return n.tJ=!1,n.hJ},n.cJ=function(t){if(!this.oJ)throw new v("Error creating iOS Safari MediaController");return this.oJ},n.VD=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.SD,i=n.tagName.toLowerCase(),r.next=4,Dr.awrap(t.k_());case 4:nO(n),(e=xs(this.uJ.get(i)||[],function(n){return t===n.hJ}))&&(e.tJ=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.IC=function(){for(var t=0,n=this.RC;t<n.length;t++){n[t].Tj()}},n.Sd=function(){for(var t=0,n=this.RC;t<n.length;t++){var i=n[t],e=i.SD;i.xs(),nO(e),$e(e)}},n.aJ=function(){for(var t=0,n=this.sJ;t<n.length;t++){var i=n[t],e=[];this.uJ.set(i,e);for(var r=0;r<this.rJ;r++){var s=tO(i),u=i===$m.dd?new xP(s,this.ys,this.Xq):new FB(s,this.ys,this.Xq,this.AC);e.push({hJ:u,tJ:!0})}}if(M.Bn&&M.hn){var o=tO($m.wd);this.oJ=new KB(o)}},A(t,[{key:"RC",get:function(){for(var t=[],n=0,i=this.sJ;n<i.length;n++){var e=i[n],r=this.uJ.get(e).map(function(t){return t.hJ});t.push.apply(t,r)}return this.oJ&&t.push(this.oJ),t}}]),t}(),fJ:function(){function t(n){var i=this;this.vJ=new KR,this.lJ=function(){var n,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.pC.TD($m.wd),e=n.SD,s.next=4,Dr.awrap(t.dJ(e));case 4:return r=s.sent,s.next=7,Dr.awrap(i.pC.VD(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,We)},this.pC=n}var n=t.prototype;return n.lX=function(){return this.vJ.ZU(this.lJ)},n.Um=function(){this.pC.IC()},t.dJ=function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!M.En&&!M.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Dr.awrap(t.wJ());case 5:return i.next=7,Dr.awrap(t._J(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Dr.awrap(t.gJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,We)},t._J=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,j(n)){e.next=4;break}return e.abrupt("return",!M.dn);case 4:return i=fu(100),e.next=7,Dr.awrap(We.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],We)},t.gJ=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Dr.awrap(t._J(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,We)},t.wJ=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Sd=function(){this.vJ.Sd()},t}(),mJ:{uO:function(t){le.addEventListener("beforeunload",t)},gO:function(t){le.removeEventListener("beforeunload",t)}},yJ:r}).eJ,fe=eO.fJ,ve=eO.mJ,le=eO.yJ,de=le&&le.location,we=le&&le.navigator,function(t){t.kJ="currentbufferingrenditionchange",t.pJ="bJ",t.AJ="TJ",t.SJ="EJ"}(rO||(rO={})),function(t){t[t.dd=0]="dd",t[t.wd=1]="wd",t[t.Qb=2]="Qb",t[t.IJ=3]="IJ"}(sO||(sO={}));var fO,vO,lO,dO=[sO.dd,sO.wd,sO.Qb,sO.IJ];function wO(t){return t?t.RJ?t.Ai+"@"+t.RJ.RN+"-"+(null!=(n=t.RJ.b_)?n:""):""+t.Ai:"";var n}function _O(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.RJ)return!0;if(n.RJ){var i=aO(t.RJ.RN,t.RJ.b_),e=aO(n.RJ.RN,n.RJ.b_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function gO(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.RJ)===Boolean(n.RJ)&&(!t.RJ||!n.RJ||t.RJ.RN===n.RJ.RN&&t.RJ.b_===n.RJ.b_))}function mO(t){var n=!!t.DJ||void 0;return{P_:t.P_,NJ:t.NJ,QD:t.QD,CJ:t.CJ,Hg:t.Hg,PJ:t.PJ,DJ:n,BJ:t.OJ,xJ:t.LJ,MJ:t.MJ,UJ:t.UJ}}!function(t){t[t.XJ=0]="XJ",t[t.HJ=1]="HJ"}(fO||(fO={})),function(t){t[t.wN=0]="wN",t[t.FJ=1]="FJ",t[t.zJ=2]="zJ"}(vO||(vO={})),function(t){t[t.Kl=0]="Kl",t[t.VJ=1]="VJ",t[t.WJ=2]="WJ"}(lO||(lO={}));var yO=function(t,n){this.B_=void 0,this.GJ=void 0,this.fs=void 0,this.qJ=void 0,this.YJ=void 0,this.jJ=void 0,this.wi=void 0,this.L_=void 0,this.QJ=void 0,this.ZJ=void 0,this.KJ=void 0,this.B_=ay(),this.GJ=n,this.fs=t.fs,this.qJ=t.qJ,this.YJ=t.YJ,this.jJ=t.jJ,this.wi=t.wi,this.L_=t.L_,this.QJ=t.QJ,this.ZJ=t.ZJ,this.KJ=void 0===t.JJ};function kO(t,n){return t.fs===n.fs&&(t.wi===n.wi||!(!pO(t)||!pO(n)))}function pO(t){return t.fs===sO.wd&&t.qJ&&t.KJ&&void 0===t.L_}function bO(t,n){return t.GJ===n.GJ}function AO(t,n){for(var i=0;i<t.length;i++){if(bO(t[i],n))return!0}return!1}var TO,SO,EO=function(t){function n(n,i){var e;return(e=t.call(this,Z_.l_)||this).M_=void 0,e.Yw=void 0,e.M_=n||[],e.Yw=i,e}return S(n,t),n.prototype.qw=function(){return new IO(this.M_.map(function(t){return t.Gw}))},n}(j_),IO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(gu);!function(t){t.$J="alternative",t.t$="main",t.n$="commentary",t.i$="",t.tE="descriptions",t.e$="main-desc",t.r$="translation"}(TO||(TO={})),function(t){t.$J="alternative",t.t$="main",t.n$="commentary",t.i$="",t.$S="captions",t.s$="sign",t.Qb="subtitles"}(SO||(SO={}));var RO=function(t){function n(n,i,e){var r;return(r=t.call(this,Z_.f_)||this).u$=n,r.o$=i,r.a$=e,r}return S(n,t),n.prototype.qw=function(){return new DO(this.u$&&this.u$.Gw)},n}(j_),DO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(gu);function NO(t){return{NR:t.NR,$e:t.XF,sT:CO(t)?t.sT:0,fs:CO(t)?$m.wd:$m.dd,Tk:CO(t)?t.Tk:0}}function CO(t){var n=t;return void 0!==n.sT&&void 0!==n.Tk}var PO,BO=function(t){function n(){return t.call(this,Z_.NO_QUALITY)||this}return S(n,t),n}(gu),OO=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(gu),xO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Ry=void 0,u.oa=void 0,u.h$=void 0,u.c$=void 0,u.f$=void 0,u.Ww=void 0,u.Dy=void 0,u.v$=function(){return u.Qs(new iy(Kt(u)))},u.l$=function(){var t=u.N_;t&&u.c$!==t&&(u.c$=t,u.Qs(new RO(t)))},u.d$=function(){var t=u.C_;u.f$!==t&&(u.f$=t,u.w$.Qs(new rg(Kt(u))),u.Qs(new rg(Kt(u))))},u.mN=n,u.w$=i,u.M_=e,u.c$=u.N_,u.f$=u.C_;var o=e.__(0);u.Ry=null!=(r=null==o?void 0:o._$.wi)?r:"",u.oa=null!=(s=null==o?void 0:o._$.L_)?s:"",u.Dy=sy(),u.mN.Zs(rO.kJ,u.l$),u.mN.Zs(rO.pJ,u.d$);for(var a=0;a<u.M_.b_;a++){u.M_.__(a).Zs("update",u.v$)}return u}S(n,t);var e=n.prototype;return e.Py=function(t){this.C_=t},e.Sd=function(){this.$s(),this.mN.tu(rO.kJ,this.l$),this.mN.tu(rO.pJ,this.d$);for(var t=0,n=this.M_.p_;t<n.length;t++){n[t].Sd()}this.M_.k_()},A(n,[{key:"C_",get:function(){var t=this.g$();if(!t)return!1;for(var n=0,i=this.M_.p_;n<i.length;n++){if(i[n]._$===t)return!0}return!1},set:function(t){if(t!==this.C_&&t){for(var n=this.M_.__(0)._$,i=this.mN.m$,e=0,r=this.M_.p_;e<r.length;e++){var s=r[e];if(s.y$===i){n=s._$;break}}this.k$(n)}}},{key:"N_",get:function(){if(this.C_)for(var t=this.mN.p$,n=0,i=this.M_.p_;n<i.length;n++){var e=i[n];if(AO(t,e._$))return e}}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ag(this)),this.Ww}},{key:"P_",get:function(){return this.Dy.toString()}},{key:"B_",get:function(){return this.Dy}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new iy(this)))}},{key:"L_",get:function(){return this.oa}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"U_",get:function(){return this.h$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.N_?NO(n.N_):void 0;return i.Lr.Me(e,NO(t))}).filter(function(i){return n.M_.Ey(t)&&i.tJ}):e=this.M_.p_.filter(function(t){return t.tJ});0!==e.length?t!==this.h$&&(this.h$&&Vs(this.h$,e)||(this.h$=t?e:void 0,this.mN.b$(e.map(function(t){return t.y$})),1===e.length&&hu(this.mN.A$(e[0].y$,!1)),this.Qs(new EO(e,this)))):this.Qs(new BO)}}]),n}(wu),LO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.g$=function(){return this.mN.T$},i.k$=function(t){hu(this.mN.S$(t))},A(n,[{key:"O_",get:function(){return TO.t$}}]),n}(xO),MO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.g$=function(){return this.mN.E$},i.k$=function(t){hu(this.mN.I$(t))},A(n,[{key:"O_",get:function(){return SO.t$}}]),n}(xO),UO=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ry="",e.tJ=!0,e.y$=n,e._$=i,e}S(n,t);var i=n.prototype;return i.hE=function(){},i.Sd=function(){this.$s()},A(n,[{key:"P_",get:function(){return String(this.y$.P_)}},{key:"B_",get:function(){return this.y$.P_}},{key:"NR",get:function(){return this.y$.NR}},{key:"KK",get:function(){return this.y$.KK}},{key:"x_",get:function(){var t;return null!=(t=this.Ry)?t:this._$.wi},set:function(t){this.x_!==t&&(this.Ry=t,this.Qs(new OO(this.Gw)))}},{key:"JJ",get:function(){return this._$.GJ.R$()}}]),n}(wu),XO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return S(n,t),n.prototype.qw=function(){return oO(this)},A(n,[{key:"nJ",get:function(){return 0}},{key:"XF",get:function(){var t;return(null==(t=this.y$.XF)?void 0:t.UF)||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(UO),HO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return S(n,t),n.prototype.qw=function(){return uO(this)},A(n,[{key:"XF",get:function(){var t;return(null==(t=this.y$.XF)?void 0:t.MF)||""}},{key:"$K",get:function(){return 0}},{key:"JK",get:function(){return 0}},{key:"sT",get:function(){var t,n;return null!=(t=null==(n=this.y$.D$)?void 0:n.sT)?t:0}},{key:"Tk",get:function(){var t,n;return null!=(t=null==(n=this.y$.D$)?void 0:n.Tk)?t:0}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(UO);!function(t){t.N$="FATAL",t.z_="ERROR",t.C$="WARNING",t.P$="INFO",t.B$="DEBUG"}(PO||(PO={}));var FO,zO=new(function(){function t(){this.C_=function(){return!1}}var n=t.prototype;return n.O$=function(t){if(!this.C_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.x$=function(t){if(this.O$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[PO.B$+" "+t+" -"].concat(e))}},n.cT=function(t){if(this.O$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[PO.P$+" "+t+" -"].concat(e))}},n.L$=function(t){if(this.O$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[PO.C$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.O$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[PO.z_+" "+t+" -"].concat(e))}},n.M$=function(t){if(this.O$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[PO.N$+" "+t+" -"].concat(e))}},t}()),VO="HLSPlaylistParser",WO=function(){function t(t,n,i){this.mN=t,this.U$=n,this.X$=i}var n=t.prototype;return n.H$=function(){var t,n,i=null==(t=this.mN.F$)?void 0:t.z$;if(i&&0!==i.length){for(var e=null!=(n=xs(i,function(t){return 0!==t.V$.length&&0!==t.W$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.V$;s<u.length;s++){var o=u[s],a=new ny,h=[];a.Sy(new XO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],v=0,l=f.V$;v<l.length;v++){var d=l[v];if(kO(d,o)&&!AO(h,d)){a.Sy(new XO(f,d)),h.push(d);break}}this.U$.g_(new LO(this.mN,this.U$,a))}for(var w=0,_=e.W$;w<_.length;w++){var g=_[w],m=new ny,y=[];m.Sy(new HO(e,g)),y.push(g);for(var k=0;k<r.length;k++)for(var p=r[k],b=0,A=p.W$;b<A.length;b++){var T=A[b];if(kO(T,g)&&!AO(y,T)){m.Sy(new HO(p,T)),y.push(T);break}}this.X$.g_(new MO(this.mN,this.X$,m))}}else zO.L$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.G$=function(){this.q$(this.U$),this.q$(this.X$)},n.q$=function(t){for(var n=[],i=0,e=t.p_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.M_.p_;u<o.length;u++){var a=o[u];Hs(a.y$.Y$,a._$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.M_.Qh(c),c.Sd()}0===r.M_.b_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.m_(v),v.Sd()}},t}(),GO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).TC=void 0,e.TC=i,e}return S(n,t),n.prototype.Yl=function(t){var n,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new rw(t),e=this.TC.Jx.DR(n)){o.next=4;break}return o.abrupt("return",this.lE.Yl(n));case 4:return e.$x(i.ir()/1e3),o.next=7,Dr.awrap(this.lE.Yl(t));case 7:return r=o.sent,e.tL(i.ir()/1e3),s=r.Dl().pipeThrough(new md(new qO(e))),u={Fi:s,Yl:r.Yl},o.abrupt("return",new ew(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.lE=void 0,this.lE=t}var n=t.prototype;return n.Yl=function(t){return this.lE.Yl(t)},n.Td=function(t){this.lE.Td(t)},n.Sd=function(){this.lE.Sd()},t}()),qO=function(){function t(t){this.qM=void 0,this.j$=t}var n=t.prototype;return n.start=function(t){this.qM=t},n.transform=function(t){this.j$.nL(i.ir()/1e3,t),this.qM.enqueue(t)},n.flush=function(){this.j$.iL(i.ir()/1e3)},t}(),YO=function(){function t(t){this.Q$=void 0,this.Z$=0,this.K$=0,this.Q$=w.exp(w.log(.5)/t)}var n=t.prototype;return n.J$=function(t,n){var i=w.pow(this.Q$,t),e=n*(1-i)+i*this.Z$;m(e)||(this.Z$=e,this.K$+=t)},n.CX=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.Q$)if(0!==this.K$){var i=this.fK,e=1-w.pow(n,this.K$);this.Z$=i*e,this.Q$=n}else this.Q$=n},A(t,[{key:"fK",get:function(){var t=1-w.pow(this.Q$,this.K$);return this.Z$/t}}]),t}();!function(t){t.n0="sample"}(FO||(FO={}));var jO=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.i0),void 0===s&&(s=n.e0),(u=t.call(this)||this).r0=void 0,u.s0=void 0,u.u0=0,u.o0=void 0,u.a0=void 0,u.a0=r,u.r0=new YO(i),u.s0=new YO(e),u.o0=s,u}S(n,t);var i=n.prototype;return i.h0=function(t,n,i){if(0!==t){var e=8*n/t;this.r0.J$(i,e),this.s0.J$(i,e),this.u0+=n,this.Qs(new gu(FO.n0))}},i.c0=function(){return this.u0>=this.a0},A(n,[{key:"fK",get:function(){return this.c0()?w.min(this.r0.fK,this.s0.fK):this.o0}}]),n}(wu);jO.i0=128e3,jO.e0=5e5;var QO=function(){function t(n,i,e,r){void 0===n&&(n=t.f0),void 0===i&&(i=t.v0),void 0===e&&(e=t.e0),void 0===r&&(r=!1),this.r0=void 0,this.s0=void 0,this.l0=0,this.d0=[],this.w0=void 0,this._0=6e4,this.g0=10,this.m0=void 0,this.y0=void 0,this.o0=void 0,this.k0=void 0,this.m0=n,this.y0=i,this.o0=e,this.k0=r,this.r0=new YO(n),this.s0=new YO(i)}var n=t.prototype;return n.J$=function(t){var n=i.ir(),e=t;this.k0&&void 0!==this.w0&&n-this.w0>=this._0&&this.k_(),this.l0+=1,this.r0.J$(1,e),this.s0.J$(1,e),this.d0.push(e),this.d0.length>this.g0&&this.d0.shift(),this.w0=n},n.c0=function(){return void 0!==this.w0&&i.ir()-this.w0<=this._0},n.k_=function(){this.r0=new YO(this.m0),this.s0=new YO(this.y0),this.l0=0,this.d0=[],this.w0=void 0},A(t,[{key:"fK",get:function(){return this.c0()?w.max(this.r0.fK,this.s0.fK):this.o0}}]),t}();QO.f0=2,QO.v0=5,QO.e0=.1;var ZO=function(){function t(t){this.p0=t}var n=t.prototype;return n.$x=function(t){for(var n=0,i=this.p0;n<i.length;n++){i[n].$x(t)}},n.tL=function(t){for(var n=0,i=this.p0;n<i.length;n++){i[n].tL(t)}},n.nL=function(t,n){for(var i=0,e=this.p0;i<e.length;i++){e[i].nL(t,n)}},n.iL=function(t){for(var n=0,i=this.p0;n<i.length;n++){i[n].iL(t)}},t}(),KO=function(){function t(t){this.b0=void 0,this.A0=void 0,this.b0=t}var n=t.prototype;return n.$x=function(t){this.A0=t},n.tL=function(t){this.b0.J$(t-this.A0)},n.nL=function(t){},n.iL=function(t){},t}(),JO=function(){function t(t){this.T0=void 0,this.S0=void 0,this.E0=[],this.T0=t}var n=t.prototype;return n.nL=function(t,n){if(void 0!==this.S0){var i=t-this.S0,e=this.E0.length>0?this.E0.reduce(function(t,n){return n+t},0)/this.E0.length:0;i>e/2&&i<e+e/2&&this.T0.J$(i,n.length),this.E0.push(i),this.E0.length>100&&this.E0.shift(),this.S0=t}else this.S0=t},n.$x=function(t){},n.tL=function(t){},n.iL=function(t){},t}(),$O=function(){function t(t,n){void 0===n&&(n=0),this.T0=void 0,this.I0=void 0,this.R0=new tx,this.PG=0,this.D0=0,this.T0=t,this.I0=n}var n=t.prototype;return n.$x=function(t){},n.nL=function(t,n){var e=n.byteLength,r=this.D0;this.D0=e;var s=t-this.PG;this.PG=t,this.R0.AH(n);var u=!this.R0.N0(),o=e>=this.I0;r!==i.Lr.Qe&&u&&o&&this.T0.J$(s,e)},n.tL=function(t){this.PG=t},n.iL=function(t){},t}(),tx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).C0=void 0,n.P0=!1,n}S(n,t);var i=n.prototype;return i.N0=function(){return this.P0},i.AH=function(n){this.P0=!1,t.prototype.AH.call(this,n)},i.pH=function(n,i){this.C0&&this.C0!==sk.Fb||(this.P0=!0),t.prototype.pH.call(this,n,i),this.C0=n},i.CH=function(t){return!1},i.BH=function(t){},i.OH=function(t){},n}(CD),nx=function(t){function n(i,e,r,s){return void 0===i&&(i=n.f0),void 0===e&&(e=n.v0),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.J$=function(t,n){this.h0(t,n,t)},n}(jO);nx.f0=.5,nx.v0=5;var ix=function(){function t(t){this.T0=void 0,this.B0=void 0;var n=t.NR>0?t.NR:jO.e0,i=t.PR>0?t.PR:QO.e0;this.T0=new nx(nx.f0,nx.v0,1,n),this.B0=new QO(QO.f0,QO.v0,i)}var n=t.prototype;return n.DR=function(t){if("segment"===t.fs)return new ZO([new KO(this.B0),new JO(this.T0),new ZO([new JO(this.T0),new $O(this.T0,1e3)])])},n.O0=function(t){this.T0=new nx(nx.f0,nx.v0,1,t)},A(t,[{key:"NR",get:function(){return this.T0.fK}},{key:"PR",get:function(){return this.B0.fK}}]),t}(),ex=function(t){function n(n){var i;return(i=t.call(this,rO.SJ)||this).mu=n,i}return S(n,t),n}(gu),rx=function(){function t(t){this.hJ=t}return t.prototype.UX=function(t){var n={fs:$p.bE,ND:[],gW:[{Nl:t}]};return We.resolve(void 0!==this.hJ.UX([n]))},t}(),sx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Hs(e,t)||1.1*t.NR<=i.NR}))},ux=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Hs(e,t))return!0;for(var s=1/0,u=0,o=t.Y$;u<o.length;u++){var a,h,c=o[u];s=w.min(s,null!=(a=null!=(h=c.GJ.x0)?h:c.GJ.L0)?a:1/0)}s===1/0&&(s=1);var f=3*i.PR+t.NR*s/i.NR;return t.NR<=n.NR||r.M0>f}))},ox=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){return n.NR-t.NR}))},ax=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.U0&&!m(t.U0)})?Is(t,function(t,n){return n.U0-t.U0}):t)},hx=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){var i=Hs(e,t)?1:0;return(Hs(e,n)?1:0)-i}))},cx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.XF||!n.XF||(t.XF.MF?!!n.XF.MF&&(t.XF.MF.split(".")[0]===n.XF.MF.split(".")[0]&&(t.XF.UF?!!n.XF.UF&&(t.XF.UF.split(".")[0]===n.XF.UF.split(".")[0]&&t.XF.HF===n.XF.HF):!n.XF.UF)):!n.XF.MF)}))},fx=function(t,n,e,r,s){return We.resolve(function(t,n){if(!i.Lr.dn)return t;for(var e=0;e<t.length;e++){var r,s,u,o,a=t[e],h=null!=(r=null==(s=a.D$)?void 0:s.sT)?r:0,c=null!=(u=null==(o=a.D$)?void 0:o.Tk)?u:0;if(h===n.sT&&c===n.Tk)return t.slice(e,t.length);if(h<n.sT||c<n.Tk)return t.slice(0===e?e:e-1,t.length)}return[]}(t,s))};var vx=function(){function t(t){this.X0=[cx,sx,ux,ox,fx,ax,hx],this.TC=t}var n=t.prototype;return n.H0=function(t){this.X0=t},n.F0=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:zO.x$("AbrEvaluator","Performing optimal variant stream selection."),r=this.z0,s=t,u=0,o=this.X0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Dr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return zO.L$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Gs(t,function(t){return t.NR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,We)},A(t,[{key:"z0",get:function(){return this.TC.Jx}}]),t}();function lx(t,n,i,e){var r=[],s=xs(i,function(t){return t.V0===Vr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.V0!==Vr)for(var h=0,c=cs(a.V0);h<c.length;h++){var f=c[h];r.push({ec:f,MR:a.W0?[a.W0]:[],KI:void 0})}}if(r.length)return{HE:t,G0:{q0:u,FE:s.FE},Y0:r,j0:n===$m.dd?e.slice():[],Q0:n===$m.wd?e.slice():[],Pq:!1}}}}function dx(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Pr();return wx(e,r,t.Y0),wx(e,r,n.Y0),{HE:t.HE,G0:{q0:t.G0.q0,FE:null!=(i=t.G0.FE)?i:n.G0.FE},Y0:e,j0:_x(t.j0,n.j0,Hs),Q0:_x(t.Q0,n.Q0,Hs),Pq:t.Pq||n.Pq||!1}}function wx(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ec._s,u=void 0;n.has(s)?(u=n.get(s)).MR=_x(u.MR,r.MR,gx):(u=Nr({},r),t.push(u),n.set(s,u))}}function _x(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function gx(t,n){for(var i=0;i<t.length;i++){if(Mu(t[i],n))return!0}return!1}function mx(t,n){var i,e=t.Z0;if(e){for(var r=t.YB,s=[],u=0,o=t.XF;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=lx(n||{},t.fs,e,s)}for(var h=0,c=t.K0;h<c.length;h++){i=dx(i,yx(c[h],n))}return i}function yx(t,n){return lx(n||{},t.fs,t.Z0||[],[t.Nl])}function kx(t,n){switch(n.fs){case zr.$r:return t.widevine;case zr.Jr:return t.playready;case zr.us:return t.fairplay;case zr.rs:return t.clearkey}}function px(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function bx(t,n,i,e){var r,s,u,o,a,h,c,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return",[]);case 2:return r=n.filter(function(t){return vs(t,"audio")}),s=n.filter(function(t){return vs(t,"video")}),u=[],o=i.map(function(t){return Ax(t,e)}),l.next=8,Dr.awrap(We.all(o));case 8:for(a=l.sent.filter(H),h=Sx(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],v=kx(t,f.ec),"cbcs",u.push({ec:f.ec,MR:f.MR,KI:f.KI,WD:[{initDataTypes:[f.ec.ls],audioCapabilities:px(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:px(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return l.abrupt("return",u);case 12:case"end":return l.stop()}},null,null,null,We)}function Ax(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.JJ){s.next=2;break}return s.abrupt("return");case 2:if(t.J0){s.next=4;break}return s.abrupt("return");case 4:if(t.md===vO.zJ){s.next=6;break}return s.abrupt("return");case 6:if(i=Tx(t.J0)){s.next=9;break}return s.abrupt("return");case 9:if(i._s!==ns){s.next=13;break}return s.abrupt("return",{ec:i,MR:[],KI:t.JJ});case 13:return zO.cT("HLSDrmUtils","Fetching key uri "+t.JJ+"."),s.next=16,Dr.awrap(n.Yl({Ql:t.JJ}));case 16:return e=s.sent,s.next=19,Dr.awrap(e.Rl());case 19:return r=s.sent,s.abrupt("return",{ec:i,MR:[r],KI:void 0});case 21:case"end":return s.stop()}},null,null,null,We)}function Tx(t){return t===Kr?ss:t===Qr?rs:t===es?os:void 0}function Sx(t,n){var i=function(t){var i=n.indexOf(t.ec._s);return i>=0?i:n.length};return Is(t,function(t,n){return i(t)-i(n)})}function Ex(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function Ix(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Rx(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Dx(t){var n=Ox(Rx(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function Nx(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:zO.L$(VO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function Cx(t,n){var e,r,s=Nx(t);try{e=s.URI?i.Or(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return sO.dd;case"VIDEO":return sO.wd;case"SUBTITLES":return sO.Qb;case"CLOSED-CAPTIONS":return sO.IJ}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,l="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,_=s.CHANNELS;if(u||zO.L$(VO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||zO.L$(VO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||zO.L$(VO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===sO.IJ?(e&&zO.L$(VO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||zO.L$(VO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):zO.L$(VO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&zO.L$(VO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&zO.L$(VO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===sO.Qb&&s.FORCED&&zO.L$(VO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{$0:a,n1:_,i1:w,QJ:u,YJ:f,qJ:c,jJ:l,ZJ:d,L_:o,wi:h,fs:r,JJ:e}}function Px(t,n,e){var r,s,u,o=Nx(t);try{r=i.Or(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Tk:i,sT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ls(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ls(o,"avc")||ls(o,"hvc1")||ls(o,"hev1")||ls(o,"dvh")?i=u:e=e?e+","+o:o}return{UF:n,MF:i,HF:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=Ox(o.BANDWIDTH),h=Ox(o["AVERAGE-BANDWIDTH"]),c=Ox(o.SCORE),f=Ox(o["FRAME-RATE"]),l=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=o["VIDEO-RANGE"],g=o.AUDIO,y=o.VIDEO,k=o.SUBTITLES,p=o["CLOSED-CAPTIONS"];if(void 0===a?zO.L$(VO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&zO.L$(VO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||zO.cT(VO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.MF&&void 0===u&&zO.cT(VO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Hs(["TYPE-0","TYPE-1","NONE"],l)||zO.L$(VO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Hs(["SDR","PQ","HLG"],_)||zO.L$(VO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{e1:d,s1:g,KK:h,NR:a,u1:p,XF:s,JK:f,o1:l,D$:u,U0:c,a1:k,JJ:r,h1:y,c1:_}}function Bx(t,n){var i=Nx(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return Px(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Ox(t){var n=Number(t);return m(n)?void 0:n}function xx(t,n){var i,e,r=Nx(t);try{i=function(t){switch(t){case"NONE":return vO.wN;case"AES-128":return vO.FJ;case"SAMPLE-AES":return vO.zJ;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?Vx(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,l=r.KEYFORMATVERSIONS;if(i!==vO.wN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(Tx(o)!==ss)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=vO.zJ}else s=i;u=e,a=f?Wo(f):void 0,h=l?l.split("/").map(function(t){return Number(t)}):[1]}else s=vO.wN,(e||c||l||f)&&zO.L$(VO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{md:s,JJ:u,f1:a,J0:o,v1:h}}function Lx(t){var n=Rx(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[Ox(e),r]}function Mx(t,n){var i=t.split("@"),e=Ox(i[0]),r=i.length>1?Ox(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{RN:r,b_:e}}function Ux(t){if(void 0!==t)return Mx(t,void 0)}function Xx(t,n){return Mx(Rx(t),n)}function Hx(t,n){var i=Nx(t);try{return{Ai:Vx(i.URI,n),RJ:Ux(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function Fx(t){var n=Rx(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function zx(t){var n,i,e,r=Nx(t),s=r["START-DATE"],u=r["END-DATE"],o=Ox(r["PLANNED-DURATION"]),a=Ox(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Wo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Wo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Wo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ls(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)zO.L$(VO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||zO.L$(VO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var g=new Date(h.getTime()+1e3*a);c?c.getTime()!==g.getTime()&&(zO.L$(VO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=g):c=g}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||zO.L$(VO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&zO.L$(VO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&zO.L$(VO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&zO.L$(VO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{P_:w,NJ:_,QD:h,CJ:c,Hg:a,PJ:o,LJ:n,UJ:i,MJ:e,DJ:f,OJ:l}}function Vx(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Or(t,n)}function Wx(t,n){var i=Nx(t),e=Ox(i.DURATION),r=Vx(i.URI,n),s=Ux(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Hg:e,JJ:{Ai:r,RJ:s},l1:u,d1:o}}function Gx(t){var n=Nx(t);return{w1:"YES"===n["CAN-BLOCK-RELOAD"],_1:Ox(n["CAN-SKIP-UNTIL"]),g1:"YES"===n["CAN-SKIP-DATERANGES"],m1:Ox(n["HOLD-BACK"]),b1:Ox(n["PART-HOLD-BACK"])}}function qx(t,n){var i=Nx(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=Vx(i.URI,n),r=Ox(i["LAST-MSN"]),s=Ox(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{JJ:e,A1:r,T1:s}}function Yx(t,n){var i,e=Nx(t),r=Ox(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{S1:r,E1:s,I1:n}}function jx(t){var n=Ox(Nx(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function Qx(t){switch(Rx(t)){case"VOD":return lO.VJ;case"EVENT":return lO.WJ;default:return zO.L$(VO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),lO.Kl}}function Zx(t,n){var i,e,r=Nx(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return fO.XJ;if("PART"===t)return fO.HJ;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=Vx(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=Ox(r["BYTERANGE-START"]),o=Ox(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={RN:u||0,b_:o}),{fs:i,JJ:{Ai:e,RJ:s}}}var Kx=function(){function t(n){this.R1=0,this.D1=void 0,this.D1=t.N1(n)}var n=t.prototype;return n.C1=function(){var t=this.D1[this.R1];return this.R1+=1,t},n.P1=function(){return this.D1[this.R1]},n.Lu=function(){var n=new t("");return n.R1=0,n.D1=this.D1.slice(this.R1),n},t.N1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function Jx(t,n,i){var e=t.JJ,r=t.EA,s=t.B1,u=t.RN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=Dx(t);return m(n)?(zO.L$(VO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=Nx(t),i=Ox(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{O1:i,L1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":zO.L$(VO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:zO.cT(VO,"Ignoring unrecognized line or comment: "+n+".")}return{JJ:e,EA:r,B1:s,RN:u}}function $x(t,n){return t.map(function(t){return t.md===vO.wN||t.f1?t:Nr({},t,{f1:tL(n)})})}function tL(t){var n=new DataView(new ArrayBuffer(16)),i=new Vo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;vo(t,n,e?s:r,e),vo(t,n,u,e)}(n,i,ft.fromNumber(t)),new y(n.buffer)}function nL(t,n,e){zO.cT(VO,"Parsing M3U8 playlist at "+t+".");var r=new Kx(e);if("#EXTM3U"!==r.C1())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Or(t)}catch(n){throw zO.L$(VO,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={JJ:r,B1:void 0,RN:void 0,EA:void 0},u=[],o=[],a=[],h=[];;){var c=n.C1();if(!c)break;try{var f=Ex(c);switch(f){case"#EXT-X-MEDIA":var l=Cx(c,r);u.push(l);break;case"#EXT-X-STREAM-INF":var d=Px(c,r,n.C1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=Bx(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":zO.L$(VO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var _=xx(c,r);h.push(_);break;default:s=Jx(s,c,f)}}catch(t){zO.L$(VO,"Ignoring unparsable line: "+c,t)}}var g=s.EA,m=null!=(e=s.B1)&&e,y=s.RN;return void 0===g&&(zO.L$(VO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.U0})||a.some(function(t){return void 0!==t.U0}))&&(o.some(function(t){return void 0===t.U0})||a.some(function(t){return void 0===t.U0}))&&zO.L$(VO,"If one master playlist variant stream has a SCORE, all variants should have it."),{JJ:r,EA:g,B1:m,RN:y,M1:a,U1:h,JA:u,X1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,l,d,w,_,g,m,y,k,p,b,A,T={JJ:t,B1:void 0,RN:void 0,EA:void 0},S=[],E=!1,I=!1,R=[],D=Pr(),N=[],C=[],P=!1,B=!1,O=[],x=[],L=0,M=!1,U=lO.Kl,X=!1,H=0;try{A=i.Or(t)}catch(n){throw zO.L$(VO,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=e.Lu();void 0===k||void 0===p;){var z=F.C1();if(!z)break;try{switch(Ix(z)){case"#EXT-X-MEDIA-SEQUENCE":k=Dx(z);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=Dx(z)}}catch(t){zO.L$(VO,"Ignoring unparsable line: "+z,t)}}void 0===k&&(zO.cT(VO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===p&&(zO.cT(VO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var V=k,W=p;;){var G=e.C1();if(!G)break;var q=!1;try{var Y=Ix(G);switch(Y){case"#EXTINF":q=!0;var j=Lx(G);h=j[0],c=j[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=Xx(G,L))&&(L=f.RN+f.b_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,W++;break;case"#EXT-X-KEY":var Q,Z;q=!0;var K=xx(G,A);if(K.md===vO.wN){D.clear(),m=void 0;break}var J=null!=(Q=null==(Z=K.J0)?void 0:Z.toString())?Q:"identity";D.set(J,K),K.md===vO.FJ&&(m=K);break;case"#EXT-X-MAP":q=!0,d=Hx(G,A),w=m;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,_=Fx(G);break;case"#EXT-X-GAP":q=!0,B=!0;break;case"#EXT-X-BITRATE":q=!0,g=Dx(G);break;case"#EXT-X-TARGETDURATION":s=Dx(G);break;case"#EXT-X-DATERANGE":var $=zx(G);S.push($);break;case"#EXT-X-PART":q=!0;var tt=Wx(G,A);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=Zx(G,A);O.push(nt);break;case"#EXT-X-SKIP":R.length>0&&zO.L$(VO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=Yx(G,V);H=it.S1,b=it.E1,V+=it.S1;break;case"#EXT-X-SERVER-CONTROL":var et=Gx(G);E=et.w1,u=et._1,I=et.g1,o=et.m1,a=et.b1;break;case"#EXT-X-RENDITION-REPORT":var rt=qx(G,A);x.push(rt);break;case"#EXT-X-PART-INF":y=jx(G);break;case"#EXT-X-MEDIA-SEQUENCE":q&&zO.L$(VO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&zO.L$(VO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":U=Qx(G);break;case"#EXT-X-I-FRAMES-ONLY":X=!0;break;default:if(ls(Y,"#"))T=Jx(T,G,Y);else{l=i.Or(G,A);var st=d?{JJ:d,H1:w}:void 0,ut={U1:$x(xr(D),V),QS:N,F1:C,Hg:h,BD:c,z1:P,JJ:{RJ:f,Ai:l},V1:st,W1:_,d1:B,G1:g,I1:V,q1:W};R.push(ut),V++,N=[],C=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,l=void 0,_=void 0,B=!1,g=void 0}}}catch(t){zO.L$(VO,"Ignoring unparsable line: "+G,t)}}if(C.length){var ot=d?{JJ:d,H1:m}:void 0,at={U1:$x(xr(D),V),QS:N,F1:C,Hg:h,BD:c,z1:P,JJ:void 0,V1:ot,W1:_,d1:B,G1:g,I1:V,q1:W};R.push(at)}var ht=T.EA,ct=null!=(r=T.B1)&&r,ft=T.RN;void 0===ht&&(zO.L$(VO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&zO.L$(VO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,lt=vt>0;lt||zO.L$(VO,"The HLS media playlist contains no segments.");var dt=lt&&R[vt-1].F1.length>0;return dt&&void 0===y&&zO.L$(VO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&zO.L$(VO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{w1:E,_1:u,g1:I,Y1:S,q1:p,j1:M,B1:ct,m1:o,Q1:X,I1:k,S1:H,b1:a,x0:y,Z1:U,K1:O,E1:b,J1:x,n2:s,iJ:R,RN:ft,JJ:A,i2:n,EA:ht}}(t,n,r)}var iL=function(){function t(t,n,i){var e,r,s,u;this.P_=eL++,this.GJ=void 0,this.NR=void 0,this.U0=void 0,this.D$=void 0,this.s1=void 0,this.h1=void 0,this.a1=void 0,this.u1=void 0,this.e2=void 0,this.s2=void 0,this.u2=[],this.GJ=n,this.NR=t.NR,this.e2=t.KK,this.U0=t.U0,this.s2=t.XF?rL(t.XF):void 0,this.D$=t.D$,this.s1=null!=(e=t.s1)?e:"o2"+this.P_,this.h1=null!=(r=t.h1)?r:"a2"+this.P_,this.a1=null!=(s=t.a1)?s:"h2"+this.P_,this.u1=null!=(u=t.u1)?u:"c2"+this.P_,this.u2=i}var n=t.prototype;return n.f2=function(t){for(var n=0,i=this.u2;n<i.length;n++){var e=i[n].GJ.f2(t);if(void 0!==e)return e}},n.l2=function(t){for(var n=0,i=this.u2;n<i.length;n++){var e=i[n].GJ.l2(t);if(void 0!==e)return e}},n.d2=function(t){for(var n=0,i=this.u2;n<i.length;n++){var e=i[n];if(e.fs===t&&e.KJ)return void Us(this.u2,e)}},A(t,[{key:"JJ",get:function(){return this.GJ.JJ}},{key:"XF",get:function(){return this.s2},set:function(t){this.s2=t?rL(t):void 0}},{key:"KK",get:function(){return this.e2||this.NR}},{key:"w2",get:function(){var t,n;if(!this.u2.length)return rS.fC();var i=null!=(t=qs(this.u2,function(t){var n;return null!=(n=t.GJ._2)?n:0}))?t:this.Y$[0],e=i.GJ.iJ;if(!e.length||e.length<2)return rS.fC();var r=i.GJ.j1?e[0].Vy:e[1].Vy,s=e[e.length-1],u=s.Vy+(null!=(n=s.Hg)?n:s.g2)-this.Y$.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.GJ.b1)?e:n.GJ.m1)?i:0,t)},0);return u<r?rS.fC():new rS([r,u])}},{key:"Y$",get:function(){return this.u2}},{key:"V$",get:function(){return this.u2.filter(function(t){return t.fs===sO.dd})}},{key:"W$",get:function(){return this.u2.filter(function(t){return t.fs===sO.wd})}},{key:"m2",get:function(){return this.u2.filter(function(t){return t.fs===sO.Qb})}},{key:"b2",get:function(){return this.u2.filter(function(t){return t.fs===sO.IJ})}}]),t}(),eL=0;function rL(t){return Nr({},t,{MF:t.MF?Lc(t.MF):void 0})}var sL=function(){function t(t,n,i,e,r){this.A2=void 0,this.T2=void 0,this.Hg=void 0,this.JJ=void 0,this.l1=void 0,this.d1=void 0,this.S2=void 0,this.nk=void 0,this.yK=void 0,this.E2=void 0,this.A2=t,this.T2=n,this.nk=i,this.S2=e,this.Hg=r.Hg,this.JJ=r.JJ,this.l1=r.l1,this.d1=r.d1}return t.prototype.I2=function(t,n){this.nk=t,this.S2=n},A(t,[{key:"Vy",get:function(){var t;return this.nk+(null!=(t=this.E2)?t:0)}},{key:"R2",get:function(){return this.S2}},{key:"U1",get:function(){return this.A2.U1}}]),t}();function uL(t){return void 0!==t.F1}var oL,aL=function(){function t(t,n,i,e,r){this.ua=void 0,this.W1=void 0,this.D2=void 0,this.V1=void 0,this.d1=void 0,this.N2=void 0,this.S2=void 0,this.I1=void 0,this.z1=void 0,this.q1=void 0,this.U1=void 0,this.nk=void 0,this.yK=void 0,this.C2=[],this.P2=0,this.B2=void 0,this.nk=t,this.V1=r.V1,this.N2=i,this.S2=e,this.ua=r.Hg,this.W1=r.W1,this.D2=r.JJ,this.d1=r.d1,this.I1=r.I1,this.z1=r.z1,this.q1=n,this.U1=r.U1,this.O2(r.F1)}var n=t.prototype;return n.L2=function(t){return this.C2[t]},n.M2=function(t){for(var n=0;n<this.C2.length;n++){var i=this.C2[n],e=i.Vy,r=e+i.Hg;if(e<=t&&t<=r)return t===r&&n+1<this.C2.length?this.C2[n+1]:i}},n.U2=function(t){for(var n=this.C2.length-1;n>=0;n--){var i=this.C2[n];if(i.Vy<=t)return i}},n.X2=function(t){for(var n=this.U2(t);n&&!n.l1&&n.T2>0;)n=this.L2(n.T2-1);return n},n.I2=function(t,n,i){var e=t.F1.length!==this.C2.length||i!==this.S2;this.N2=n,this.S2=i,this.ua=t.Hg,void 0===this.D2&&(this.D2=t.JJ),e&&this.O2(t.F1)},n.O2=function(t){this.C2.length>t.length&&(this.C2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.S2&&i===t.length-1,s=this.nk+n;if(i<this.C2.length)this.C2[i].I2(s,r);else{var u=new sL(this,i,s,r,e);this.C2.push(u)}n+=e.Hg}this.P2=n},n.H2=function(){zs(this.C2),this.P2=0},A(t,[{key:"Vy",get:function(){var t;return this.nk+(null!=(t=this.B2)?t:0)}},{key:"F2",get:function(){return this.nk}},{key:"Hg",get:function(){return this.ua}},{key:"JJ",get:function(){return this.D2}},{key:"z2",get:function(){return this.N2}},{key:"R2",get:function(){return this.S2}},{key:"F1",get:function(){return this.C2}},{key:"g2",get:function(){return this.P2}},{key:"E2",get:function(){return this.B2},set:function(t){this.B2=t;for(var n=0,i=this.C2;n<i.length;n++){i[n].E2=t}}}]),t}();!function(t){t.V2="YES",t.W2="v2"}(oL||(oL={}));var hL=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}($t);var cL=function(t){function n(n,i){var e,r=fL(i,n.Hg,n.QD,n.CJ);return(e=t.call(this,i,r,void 0,!1,n.P_)||this).G2=void 0,e.q2=void 0,e.Y2=void 0,e.ua=void 0,e.j2=void 0,e.Q2=void 0,e.Z2=void 0,e.K2=void 0,e.J2=void 0,e.n3=void 0,e.G2=n.NJ,e.q2=n.QD,e.Y2=n.CJ,e.ua=n.Hg,e.j2=n.PJ,e.Q2=Boolean(n.DJ),e.Z2=n.BJ||{},e.K2=n.xJ,e.J2=n.MJ,e.n3=n.UJ,e.i3(),e.e3(),e}S(n,t);var i=n.prototype;return i.Zh=function(t){var n=!1;void 0===this.G2&&void 0!==t.NJ&&(n=!0,this.G2=t.NJ),void 0===this.Y2&&void 0!==t.CJ&&(n=!0,this.Y2=t.CJ),void 0===this.ua&&void 0!==t.Hg&&(n=!0,this.ua=t.Hg),void 0===this.j2&&void 0!==t.PJ&&(n=!0,this.j2=t.PJ),!this.Q2&&t.DJ&&(n=!0,this.Q2=t.DJ),n=this.updateCustomAttributes(t,n),void 0===this.K2&&void 0!==t.xJ&&(n=!0,this.K2=t.xJ),void 0===this.J2&&void 0!==t.MJ&&(n=!0,this.J2=t.MJ),void 0===this.n3&&void 0!==t.UJ&&(n=!0,this.n3=t.UJ),this.i3(),this.e3(),this.r3(),n&&this.Qs(new Dy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.BJ)for(var e=0,r=d.keys(t.BJ);e<r.length;e++){var s=r[e];void 0===this.Z2[s]&&(i=!0,this.Z2[s]=t.BJ[s])}return i},i.i3=function(){this.ua&&!this.Y2&&(this.Y2=new Date(this.q2.getTime()+Gt(this.ua)))},i.e3=function(){this.Y2&&!this.ua&&(this.ua=Wt(this.Y2.getTime()-this.q2.getTime()))},i.r3=function(){this.ek===1/0&&(this.Y2||this.ua)&&(this.ek=fL(this.nk,this.ua,this.q2,this.Y2))},A(n,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=hg(Ey(t=this),{get content(){return t.Gy},get class(){return t.NJ},get startDate(){return t.QD},get endDate(){return t.CJ},get duration(){return t.Hg},get plannedDuration(){return t.PJ},get endOnNext(){return t.DJ},get scte35Cmd(){return t.xJ},get scte35Out(){return t.MJ},get scte35In(){return t.UJ},get customAttributes(){return t.BJ}})),this.Ww}},{key:"NJ",get:function(){return this.G2}},{key:"QD",get:function(){return this.q2}},{key:"CJ",get:function(){return this.Y2}},{key:"Hg",get:function(){return this.ua}},{key:"PJ",get:function(){return this.j2}},{key:"DJ",get:function(){return this.Q2}},{key:"xJ",get:function(){return this.K2}},{key:"MJ",get:function(){return this.J2}},{key:"UJ",get:function(){return this.n3}},{key:"BJ",get:function(){return this.Z2}}]),n}(By);function fL(t,n,i,e){return H(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var vL=function(t){function n(){return t.call(this,void 0,void 0,wy.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Zh=function(t,n){lL(this,dL(t),n)},i.mE=function(n){var i,e,r;i=this.j_.p_,e=n,(r=Ls(i,function(t){return t.NJ===e.NJ}))&&r.DJ&&r.Zh({P_:r.P_,CJ:e.QD}),t.prototype.mE.call(this,n)},n}(sP);function lL(t,n,i){for(var e=t.j_.p_,r=function(i){var r=e[i],s=xs(n,function(t){return t.P_===r.P_});s?r.Zh(s):t.sE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.QD;if(void 0!==a&&!t.YW(o.P_)){var h=i(a);t.mE(new cL(o,h))}}}function dL(t){for(var n=Pr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.P_)){var s=n.get(r.P_),u=Nr({},s,lg(r),{BJ:Nr({},s.BJ,r.BJ)});n.set(r.P_,u)}else n.set(r.P_,r),i.push(r.P_)}return i.map(function(t){return n.get(t)})}var wL=String.fromCharCode(95),_L=wL+"HLS_msn",gL=wL+"HLS_part",mL=wL+"HLS_skip",yL=function(){function t(t,n){this.JJ=void 0,this.s3=void 0,this.u3=void 0,this.o3=void 0,this.a3=void 0,this.h3=void 0,this.c3=void 0,this.f3=void 0,this.v3=[],this.l3=[],this.B2=void 0,this.d3=!1,this.w3=void 0,this._3=!1,this.g3=lO.Kl,this.uW=rS.fC(),this.m3=rS.fC(),this.ua=void 0,this.y3=-1/0,this.ZS=void 0,this.b3=void 0,this.JJ=t,this.ZS=n}var n=t.prototype;return n.R$=function(t){if(!t)return this.JJ;var n=i.Br(this.JJ);return void 0!==t.I1&&n.searchParams.append(_L,String(t.I1)),void 0!==t.A3&&n.searchParams.append(gL,String(t.A3)),void 0!==t.cA&&n.searchParams.append(mL,t.cA),n.href},n.T3=function(t){return xs(this.v3,function(n){return n.I1===t})},n.S3=function(t){for(var n=0;n<this.v3.length;n++){var i,e=this.v3[n],r=e.Vy,s=r+(null!=(i=e.Hg)?i:e.g2);if(r<=t&&t<=s)return t===s&&n+1<this.v3.length?this.v3[n+1]:e}},n.f2=function(t){var n=this.E3();if(void 0!==n)return new Date(1e3*t+n)},n.l2=function(t){var n=this.E3();if(void 0!==n)return(t.getTime()-n)/1e3},n.E3=function(){for(var t=this.iJ,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.W1)return i.W1.getTime()-1e3*i.Vy}},n.I3=function(t){switch(t){case fO.XJ:return this.u3;case fO.HJ:return this.o3;default:return}},n.I2=function(t){var n;void 0===this.a3&&(this.a3=null!=(n=t.n2)?n:this.R3(t));void 0===this.c3&&void 0!==t.m1&&(this.c3=t.m1),void 0===this.h3&&void 0!==t.x0&&(this.h3=t.x0),void 0===this.f3&&void 0!==t.b1&&(this.f3=t.b1),this.d3=t.w1,this.w3=t._1,this._3=t.g1,this.g3=t.Z1,this.D3(t),this.N3(t);var e=xs(t.K1,function(t){return t.fs===fO.XJ}),r=xs(t.K1,function(t){return t.fs===fO.HJ});this.u3=e?{JJ:e.JJ,fs:e.fs,q1:t.q1}:void 0,this.o3=r?{JJ:r.JJ,fs:r.fs,q1:t.q1}:void 0,this.s3=i.ir()/1e3,this.m3=this.C3(),this.uW=this.P3(this.m3),this.ua=this.B3(),null!=this.ZS||(this.ZS=t.RN)},n.C3=function(){var t,n=this.iJ;if(0===n.length)return rS.fC();var i=n[0].Vy,e=n[n.length-1],r=e.Vy,s=null!=(t=e.Hg)?t:e.g2;return new rS([i,r+s])},n.P3=function(t){var n,i;if(0===t.b_||this.j1)return t;var e=t.RN(0),r=t.NN(0)-(null!=(n=null!=(i=this.b1)?i:this.m1)?n:0);return r<e?rS.cC(e):new rS([e,r])},n.B3=function(){return 0===this.v3.length?0:this.j1?(t=this.v3,n=function(t){var n;return null!=(n=t.Hg)?n:t.g2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.R3=function(t){for(var n,i=0,e=t.iJ;i<e.length;i++){var r=e[i];if(void 0!==r.Hg){var s=w.max(1,w.round(r.Hg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.D3=function(t){if(0===t.iJ.length)return zs(this.v3),void this.O3();var n=this.x3(t);if(n){var i,e,r;n.L3>0&&this.v3.splice(0,n.L3);var s=t.S1;if(s>0){if(s>this.v3.length)throw new hL("New playlist skips over missing segments.");var u=this.v3[s-1];if(void 0===u.Hg)throw new hL("New playlist skips over an incomplete segment.");i=u.F2+u.Hg,r=u.q1-t.q1,e=s;for(var o=0;o<s;o++)this.v3[o].H2()}else i=n.M3,r=0,e=0;for(var a=0;a<t.iJ.length;a++,e++){var h=t.iJ[a],c=0===a,f=t.j1&&a===t.iJ.length-1,v=h.Hg,l=h.q1+r;if(e<this.v3.length){var d=this.v3[e];0,d.I2(h,c,f)}else{var w=new aL(i,l,c,f,h);w.E2=this.B2,this.v3.push(w)}void 0!==v&&(i+=v)}}},n.x3=function(t){if(0===this.v3.length)return{L3:0,M3:0};var n=this.v3[0].I1,i=this.v3[this.v3.length-1].I1,e=t.iJ[0].I1-t.S1,r=t.iJ[t.iJ.length-1].I1,s=0,u=0;if(e<n)zO.L$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=Ls(t,function(t){return void 0!==t.W1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.z1)return;if(r.W1)return[r,n];n+=null!=(e=r.Hg)?e:0}return}(n.iJ);if(void 0===e)return;var r=e[0],s=e[1];if(i.q1!==r.q1)return;var u=(r.W1.getTime()-i.W1.getTime())/1e3;return i.F2+u-s}(this.v3,t))?o:(h=this.v3,c=this.a3,v=h[h.length-1],l=null!=(f=v.Hg)?f:w.max(c,v.g2),v.F2+l),zO.x$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.v3.length,this.O3()}else{0;var a=Ms(this.v3,function(t){return t.I1===e});0,u=this.v3[a].F2,a>0&&(s=a)}var h,c,f,v,l;return{L3:s,M3:u}}zO.L$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.N3=function(t){var n=this,i=t.Y1.map(mO);if(t.g1&&t.i2.cA===oL.W2&&(i=this.l3.concat(i)),this.l3=dL(i),t.E1)for(var e=function(t,i){var e=i[t],r=Ms(n.l3,function(t){return t.P_===e});r>=0&&Xs(n.l3,r)},r=0,s=t.E1;r<s.length;r++)e(r,s)},n.U3=function(t,n){if(this.B2!==t){this.B2=t;for(var i=0,e=this.v3;i<e.length;i++){e[i].E2=this.B2}}this.b3=n},n.O3=function(){this.B2=void 0,this.b3=void 0},A(t,[{key:"j1",get:function(){return Boolean(xs(this.v3,function(t){return t.R2}))}},{key:"Hg",get:function(){return this.ua}},{key:"py",get:function(){return this.uW}},{key:"X3",get:function(){return this.m3}},{key:"L0",get:function(){return this.a3}},{key:"x0",get:function(){return this.h3}},{key:"m1",get:function(){return this.j1?0:this.c3?this.c3:this.a3?3*this.a3:void 0}},{key:"b1",get:function(){var t;return null!=(t=this.f3)?t:this.h3?3*this.h3:void 0}},{key:"H3",get:function(){var t,n,i;if(!this.j1&&0!==this.v3.length){var e=this.v3[this.v3.length-1],r=null!=(t=e.Hg)?t:e.g2,s=null!=(n=null!=(i=this.b1)?i:this.m1)?n:0;return e.Vy+r-s}}},{key:"w1",get:function(){return this.d3}},{key:"_1",get:function(){return this.w3}},{key:"g1",get:function(){return this._3}},{key:"Z1",get:function(){return this.g3}},{key:"F3",get:function(){return void 0!==this.x0}},{key:"z3",get:function(){if(this.j1)return!0;var t=i.ir()/1e3,n=this._2,e=this.V3;return void 0!==n&&t-n<e}},{key:"_2",get:function(){return this.s3}},{key:"E2",get:function(){return this.B2}},{key:"V3",get:function(){var t;return null!=(t=this.a3)?t:1}},{key:"iJ",get:function(){return this.v3}},{key:"Y1",get:function(){return this.l3}},{key:"W3",get:function(){return this.y3},set:function(t){this.y3=t}},{key:"RN",get:function(){return this.ZS}},{key:"G3",get:function(){return this.b3}}]),t}();var kL=function(){function t(){this.q3=[],this.Y3=Br()}var n=t.prototype;return n.j3=function(t){var n=this.Y3.get(t);return void 0!==n&&pL(n)},n.Q3=function(t){return this.K3(t).Z3.Hu},n.J3=function(t){var n=this.Y3.get(t);if(!n||!pL(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.t4=function(t){return this.J3(t).Zp},n.n4=function(t,n){var i=uL(n)?n:n.A2,e=this.J3(i.q1),r=t.Sy(e.Zp);if(e.i4){var s=$y.Np(n.Vy).Mk(r);if(s.Ok().Ik(rk)){var u=w.round(s.Ek()/ek.Ek());r=r.Sy(ek.vp(u))}}return r},n.e4=function(t,n){return this.n4(t,n).Mk(t)},n.r4=function(t,n,i,e,r){var s=this.K3(t);void 0===s.Zp&&(s.s4.some(function(t){return t.u4===n})||(s.s4.push({u4:n,o4:i,a4:e.Tp(i.yp),i4:r}),this.h4(s)))},n.h4=function(t){if(!t.Zp&&this.c4(t)){var n=Ys(t.s4,bL);zs(t.s4),t.Zp=n.a4.Mk(n.o4),t.i4=n.i4,t.Z3.Wu()}},n.c4=function(t){return this.q3.length>0&&this.q3.every(function(n){return t.s4.some(function(t){return t.u4===n})})},n.K3=function(t){if(this.Y3.has(t))return this.Y3.get(t);var n={Zp:void 0,i4:!1,Z3:new Go,s4:[]};return this.Y3.set(t,n),n},n.f4=function(t){var n=this;this.q3=t,this.Y3.forEach(function(t){return n.h4(t)})},n.xs=function(){this.Y3.forEach(function(t){return t.Z3.Fs()}),this.Y3.clear()},t}();function pL(t){return void 0!==t.Zp}function bL(t,n){return t.i4||n.i4?(i=t.o4,e=n.o4,r=i.Mk(e),i.Xk()||e.Xk()?r:(r.Dk(rk)?r=r.Mk(ek):r.Bk(rk.Lk())&&(r=r.Sy(ek)),r)).Rk($y.qk):t.o4.Rk(n.o4);var i,e,r}var AL=function(){function t(t){this.v4=[],this.l4=[],this.d4=Pr(),this.w4=new kL,this._4=t}var n=t.prototype;return n.I2=function(t,n){if(cO(t))if(0===this.v4.length)this.g4(t);else{if(!n)return void zO.L$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.GJ.I2(t)}else{if(0!==this.v4.length)return void zO.L$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.m4(t)}},n.g4=function(t){var n=this.y4(t.JJ);n.I2(t);var i=this.b4(sO.dd,n),e=this.b4(sO.wd,n),r=new iL({JJ:n.JJ,NR:0,KK:0,U0:NaN,XF:void 0,D$:void 0,JK:0,e1:[],o1:void 0,c1:void 0,s1:void 0,h1:void 0,a1:void 0,u1:void 0},n,[i,e]);this.v4.push(r)},n.m4=function(t){var n,i=this;(n=this.l4).push.apply(n,t.U1);for(var e=this.A4(t),r=function(n,r){var s=r[n],u=e.filter(function(t){return function(t,n){return TL(t.fs,t.QJ,n)&&(!t.KJ||t.GJ.JJ===n.JJ)}(t,s)});i.T4(s,u);var o=new iL(s,i.y4(s.JJ,t.RN),u);i.v4.push(o)},s=0,u=t.X1;s<u.length;s++)r(s,u)},n.y4=function(t,n){var i=this.d4.get(t);return void 0===i&&(i=new yL(t,n),this.d4.set(t,i)),i},n.A4=function(t){for(var n=[],i=0,e=t.JA;i<e.length;i++){var r=e[i];if(void 0===r.JJ)for(var s=0,u=t.X1;s<u.length;s++){var o=u[s];if(TL(r.fs,r.QJ,o)){var a=new yO(r,this.y4(o.JJ));n.push(a)}}else{var h=new yO(r,this.y4(r.JJ));n.push(h)}}return n},n.b4=function(t,n){return new yO({fs:t,JJ:void 0,QJ:"",L_:void 0,$0:void 0,wi:"",qJ:!0,YJ:!1,jJ:!1,i1:void 0,ZJ:void 0,n1:void 0},n)},n.T4=function(t,n){var i=n.filter(function(t){return t.fs===sO.dd}),e=n.filter(function(t){return t.fs===sO.wd}),r=t.XF&&(t.XF.MF||t.XF.UF);if((!r||t.XF.MF)&&0===e.length){var s=this.b4(sO.wd,this.y4(t.JJ));n.push(s)}if((!r||t.XF.UF)&&0===i.length){var u=this.b4(sO.dd,this.y4(t.JJ));n.push(u)}t.XF&&t.XF.HF},n.S4=function(t){for(var n=0,i=this.v4;n<i.length;n++)for(var e=0,r=i[n].Y$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.E4=function(t){for(var n=0,i=this.v4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.I4=function(t){for(var n=0,i=this.v4;n<i.length;n++){var e=i[n];if(Hs(e.Y$,t))return e}},n.xs=function(){zs(this.v4),zs(this.l4),this.d4.clear(),this.w4.xs()},A(t,[{key:"R4",get:function(){return this.l4}},{key:"z$",get:function(){return this.v4}},{key:"WS",get:function(){return this.w4}}]),t}();function TL(t,n,i){switch(t){case sO.dd:return i.s1===n;case sO.wd:return i.h1===n;case sO.Qb:return i.a1===n;case sO.IJ:return i.u1===n}return!1}var SL=function(t){function n(n){var i;return(i=t.call(this,IL.D4)||this)._$=n,i}return S(n,t),n}(gu);function EL(t,n,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Dr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),iu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Dr.awrap(fu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var IL,RL=function(t){function n(n){var i;return(i=t.call(this,IL.N4)||this)._$=n,i}return S(n,t),n}(gu),DL="HlsModelUpdater";!function(t){t.D4="C4",t.N4="P4"}(IL||(IL={}));var NL=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).B4=void 0,r.O4=!1,r.x4=void 0,r.L4=void 0,r.M4=Br(),r.lE=n,r.U4=i,r.rootURI=e,r.B4=new AL(e),r}S(n,t);var e=n.prototype;return e.X4=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.B4._4){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Dr.awrap(this.H4(n,{},2,t));case 5:if(hO(i=e.sent)||cO(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return hO(i)||zO.cT(DL,"Detected media playlist only HLS stream."),this.F4(i),e.next=12,Dr.awrap(this.z4(t));case 12:this.O4=!0;case 13:case"end":return e.stop()}},null,this,null,We)},e.V4=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.B4.S4(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={I1:n,A3:i,cA:OL(r)},u=Gt(w.max(1,3*t.GJ.V3)),o.prev=5,o.next=8,Dr.awrap(this.W4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),iu(o.t0),this.G4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.q4=function(t,n){var i=this.B4.S4(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={I1:void 0,A3:void 0,cA:OL(i)},r=Gt(w.max(1,3*t.GJ.V3));return this.W4(i,e,n,r)},e.Y4=function(t,n){return this.M4.has(t.B_)||this.M4.set(t.B_,new Go),ru(this.M4.get(t.B_).Hu,n)},e.G4=function(t){this.Qs(new RL(t))},e.W4=function(t,n,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.GJ.R$(n),a.prev=1,a.next=4,Dr.awrap(this.H4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),iu(a.t0),t.GJ.W3=i.ir(),a.t0;case 12:if(cO(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.F4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof hL&&void 0!==n.cA)){a.next=23;break}return o=Nr({},n,{cA:void 0}),a.abrupt("return",this.W4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.x4||t===this.x4||this.x4.GJ.z3){a.next=35;break}return a.prev=25,a.next=28,Dr.awrap(this.q4(this.x4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),iu(a.t2),this.x4=t,this.j4();case 35:this.Q4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],We)},e.H4=function(t,n,i,e,r){var s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return zO.cT(DL,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Dr.awrap(this.U4.Z4([t]));case 4:if(s=h.sent,nu(e),void 0===s){h.next=8;break}return h.abrupt("return",nL(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),iu(h.t0);case 14:return u={Ql:t,Wl:Af.$n,md:$d.GET,fs:tw.Jl,Ws:e,yd:r},h.next=17,Dr.awrap(EL(function(){return a.K4(u)},e,i));case 17:return o=h.sent,h.abrupt("return",nL(o.jl,n,o.Fi));case 19:case"end":return h.stop()}},null,this,[[1,10]],We)},e.K4=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.lE.Yl(t));case 2:return n=e.sent,e.next=5,Dr.awrap(n.El());case 5:return i=e.sent,e.abrupt("return",{Fi:i,jl:n.jl});case 7:case"end":return e.stop()}},null,this,null,We)},e.z4=function(t){var n,i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:nu(t),n=[],i=0,e=this.B4.z$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.Y$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Dr.awrap(this.U4.Z4([o.GJ.JJ]));case 11:a=h.sent,nu(t),void 0===a||o.GJ.z3||n.push(this.q4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),iu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Dr.awrap(We.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],We)},e.j4=function(){for(var t=0,n=this.B4.z$;t<n.length;t++)for(var i=0,e=n[t].Y$;i<e.length;i++){var r=e[i];r!==this.x4&&(void 0!==r.GJ.E2&&(r.GJ.z3?this.Q4(r):r.GJ.O3()))}},e.Q4=function(t){if(0!==t.GJ.iJ.length){if(!this.x4)return this.x4=t,void this.x4.GJ.U3(0,void 0);if(this.J4(this.x4),!this.J4(t)&&void 0===t.GJ.E2){var n=this.t6(t,this.x4);zO.x$(DL,"Assuming global timeline offset of "+n+"s for rendition "+t.GJ.JJ+"."),t.GJ.U3(n,void 0)}}},e.t6=function(t,n){var i;if(CL(t)){var e=t.GJ.iJ[0],r=n.GJ.iJ[0];return zO.x$(DL,"Synchronizing by start of VOD: "+r.Vy+" vs "+e.Vy),r.Vy-e.F2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.q1>s.q1)i--;else if(r.q1<s.q1)e--;else if(r.z1){if(s.z1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.GJ.iJ,n.GJ.iJ);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return zO.x$(DL,"Synchronizing by start of discontinuity #"+o.q1+": "+o.Vy+" vs "+u.Vy),o.Vy-u.F2}var a=BL(t.GJ.iJ);if(void 0!==a){var h=BL(n.GJ.iJ);if(void 0!==h)return zO.x$(DL,"Synchronizing by PDT:",h.W1.toISOString()+" vs "+a.W1.getTime()),h.Vy-a.F2-(h.W1.getTime()-a.W1.getTime())/1e3}var c=PL(n),f=PL(t),v=null!=(i=t.GJ.E2)?i:0;return zO.x$(DL,"Synchronizing by last segment:",c+" vs "+f),c-f+v},e.J4=function(t){var n=this.B4.S4(t);if(!n)return!1;if(CL(n))return!1;var i,e,r=(i=n.GJ.iJ,e=this.B4.WS,Ls(i,function(t){return void 0!==t.yK&&e.j3(t.q1)}));if(void 0===r)return!1;if(n.GJ.G3===r.q1)return!0;var s=this.B4.WS.n4(r.yK,r).Ek()-r.F2;return zO.x$(DL,"Synchronize by media timestamp: "+s+"s for rendition "+t.GJ.JJ+"."),n.GJ.U3(s,r.q1),(void 0===this.x4||void 0===this.x4.GJ.G3||this.x4.GJ.G3<r.q1)&&(this.x4=n),!0},e.F4=function(t,n){var i;(this.B4.I2(t,n),cO(t)&&n)&&(this.L4=n,this.Qs(new SL(n)),null==(i=this.M4.get(n.B_))||i.Wu(),this.M4.delete(n.B_))},e.n6=function(t,n){var i=this.B4.E4(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.B4.z$;e<r.length;e++){var s=r[e];s.XF||(n.MF||s.d2(sO.wd),n.UF||s.d2(sO.dd))}i.XF=n},e.xs=function(){this.$s(),this.B4.xs(),this.M4.forEach(function(t){return t.Fs()}),this.M4.clear()},A(n,[{key:"i6",get:function(){return this.O4}},{key:"F$",get:function(){return this.B4}},{key:"e6",get:function(){return this.L4}}]),n}(wu);function CL(t){return t.GJ.j1||t.GJ.Z1===lO.WJ}function PL(t){var n,i=t.GJ.iJ[t.GJ.iJ.length-1];return i.Vy+(null!=(n=i.Hg)?n:i.g2)}function BL(t){return Ls(t,function(t){return void 0!==t.W1})}function OL(t){if(void 0!==t.GJ._1&&!t.GJ.j1&&!(void 0===t.GJ._2||i.ir()/1e3-t.GJ._2>=t.GJ._1/2))return t.GJ.g1?oL.W2:oL.V2}var xL=function(){function t(t,n,i){var e=this;this.r6=void 0,this.s6=void 0,this.KR=void 0,this.u6=void 0,this.o6=void 0,this.a6=function(t){e.s6.hlsDateRange&&e.N3(t._$)},this.s6=t,this.r6=n,this.KR=i,this.u6=new Ep,this.r6.Zs(IL.D4,this.a6)}return t.prototype.N3=function(t){if(0!==t.GJ.Y1.length){this.o6||(this.o6=this.KR._E(Sp.Kb,void 0,void 0,void 0,void 0,wy.DATE_RANGE),this.u6.g_(this.o6));lL(this.o6,t.GJ.Y1,function(n){var i;return null!=(i=t.GJ.l2(n))?i:NaN})}},A(t,[{key:"Rm",get:function(){return this.u6}}]),t}(),LL=function(t){function n(){return t.call(this,rO.kJ)||this}return S(n,t),n}(gu);var ML,UL=function(){function t(t){this.v3=[],this.Uz=void 0,this.h6=void 0,this.c6=t}var n=t.prototype;return n.f6=function(t){var n;return null==(n=this.v6(t))?void 0:n._$},n.l6=function(t){this.Uz=t,this.d6()},n.w6=function(t,n,i,e,r,s){this.v3.push({I1:n,_$:t,_6:new rS([r,s]),g6:new rS([i,e])}),this.d6()},n.v6=function(t){for(var n=0,i=this.v3;n<i.length;n++){var e=i[n];if(e.g6.GD(t))return e}},n.m6=function(t){for(var n=0,i=this.v3;n<i.length;n++){var e=i[n];if(e.I1===t)return e}},n.fV=function(){var t=this.Km;t.b_>0&&(this.h6=t.NN(t.b_-1))},n.d6=function(){var t=this.c6.Km;this.v3=this.v3.filter(function(n){return 0!==t.FN(n.g6).b_})},A(t,[{key:"y6",get:function(){return this.Uz}},{key:"Km",get:function(){return t=this.c6.Km,n=this.c6.AV,i=n.iC(function(n,i){return t.$N(n,i,!1,!1)}),t.YN(i);var t,n,i}},{key:"iJ",get:function(){return this.v3}},{key:"k6",get:function(){return this.h6}}]),t}(),XL=function(){function t(t,n,i,e,r){var s=this;this.c6=void 0,this.p6=void 0,this.b6=void 0,this.Vi=void 0,this.A6=void 0,this.T6=void 0,this.pw=new Js,this.S6=rS.fC(),this.E6=function(t){s.T6&&(t?tR(t)&&s.I6?s.A6.gL(s.c6.Km.oC)?s.T6.Wu():s.T6.Gu(t):tu(t)?s.T6.Wu():s.T6.Gu(t):s.T6.Wu(),s.T6=void 0)},this.Vi=t,this.b6=i,this.c6=n,this.p6=e,this.A6=r}var n=t.prototype;return n.R6=function(){if(this.D6)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.N6=function(t){this.c6!==t&&(this.R6(),this.c6=t,this.p6=new UL(t))},n.C6=function(){return this.T6?this.T6.Hu:We.resolve()},n.P6=function(t){var n,i,e=this.p6.k6,r=this.p6.Km;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.LN().QN(this.B6).uC(s))?void 0:i.GD(e))&&n},n.O6=function(t){return this.p6.f6(t)},n.Fs=function(){this.pw.Fs(),this.pw=new Js},n.Gz=function(t){var n=this;this.R6(),this.T6=new Go;var i=function(i){n.b6.x6(t),n.E6(i)};this.qz(t,this.pw.Ws).then(i,i)},n.qz=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return zO.x$("Buffering","Appending initializer",wO(t.L6.JJ)),i.next=3,Dr.awrap(this.c6.Gz(t,n));case 3:zO.x$("Buffering","Appended initializer",wO(t.L6.JJ)),this.p6.l6(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.M6=function(t){var n=this;this.R6(),this.T6=new Go;var i=function(i){n.b6.x6(t),n.E6(i)};this.U6(t,this.pw.Ws).then(i,i)},n.U6=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t._$,r=t.I1,void 0!==e.GJ.L0){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.p6.Km.PN,u=this.c6.Km,zO.x$("Buffering","Appending",wO(t.L6.JJ)),g.next=9,Dr.awrap(this.c6.zz(t,n));case 9:zO.x$("Buffering","Appended",wO(t.L6.JJ),s,this.p6.Km.PN),o=t.Vy,a=o+t.Hg,h=t.L6,c=h.Vy,f=h.Vy+(null!=(i=h.Hg)?i:0),this.p6.w6(e,r,o,a,c,f),l=this.c6.Km.QN(u),(d=this.p6.m6(r-1))?this.X6(d)?0===l.b_?Boolean(this.H6.m6(r))||(w=this.c6.AV.FN(new rS([o,a])),this.S6=this.S6.YN(w)):(this.S6=this.S6.QN(new rS([l.RN(0),a])),l.RN(0)>o&&(this.S6=this.S6.YN(new rS([o,l.RN(0)])))):this.S6=this.S6.QN(new rS([o,a])):0===l.b_?(_=this.c6.AV.FN(new rS([o,a])),this.S6=this.S6.YN(_)):l.RN(0)>o&&(this.S6=this.S6.YN(new rS([o,l.RN(0)]))),t.L6.R2&&this.p6.fV();case 20:case"end":return g.stop()}},null,this,null,We)},n.X6=function(t){var n=t.g6,i=n.RN(0),e=n.NN(n.b_-1),r=n.DN(0),s=n.CN(n.b_-1);return this.S6.KN(i,e,r,s)},A(t,[{key:"fs",get:function(){return this.Vi}},{key:"I6",get:function(){return this.Vi===$m.dd||this.Vi===$m.wd}},{key:"H6",get:function(){return this.p6}},{key:"B6",get:function(){return this.S6}},{key:"D6",get:function(){return void 0!==this.T6}}]),t}(),HL=function(){function t(t,n){this.F6=void 0,this.z6=t,this.lE=n}var n=t.prototype;return n.V6=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.W6(n,e));case 2:return r=s.sent,s.next=5,Dr.awrap(this.z6.V6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.W6=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.F6)?void 0:i.Ql)===t){u.next=10;break}return zO.x$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Dr.awrap(this.lE.Yl({Ql:t,Wl:Af.Gf,md:$d.GET,Ws:n,fs:tw.td,kd:nw.ld}));case 4:return e=u.sent,u.next=7,Dr.awrap(e.Rl());case 7:r=u.sent,s=new y(r),this.F6={Ql:t,Fi:s};case 10:return u.abrupt("return",this.F6.Fi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),FL=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.lE=t,this.U4=n,this.G6=i,this.q6=e,this.Y6=r}var n=t.prototype;return n.Yl=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.j6(t,n,Af.Gf,i));case 2:return e=r.sent,r.t0=y,r.next=6,Dr.awrap(e.Rl(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,We)},n.Q6=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.j6(t,n,Af.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Dl(i));case 4:case"end":return r.stop()}},null,this,null,We)},n.j6=function(t,n,i,e){var r,s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.RJ&&0===(r=aO(t.RJ.RN,t.RJ.b_))[0]&&r[1]===xt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new rw({Ql:t.Ai,Wl:i,Vl:s,bd:this.q6,md:$d.GET,fs:tw.$l,kd:n,pd:this.G6,Ws:e}),h.prev=3,h.next=6,Dr.awrap(this.U4.Z6(t.Ai,r));case 6:if(o=h.sent,nu(e),void 0===o){h.next=10;break}return h.abrupt("return",new ew({Yl:u,Fi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),iu(h.t0);case 16:return h.next=18,Dr.awrap(EL(function(){return ru(a.lE.Yl(u),u.Ws)},e,this.Y6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],We)},t}(),zL=function(){function t(t,n){this.r6=void 0,this.K6=void 0,this.J6=void 0,this.t5=new Js,this.PG=-1/0,this.n5=!1,this.r6=t,this.K6=n,this.i5()}var n=t.prototype;return n.e5=function(){return this.K6.GJ.w1},n.r5=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.e5()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Dr.awrap(this.s5());case 5:return nu(e),r.next=8,Dr.awrap(this.r6.V4(this.K6,t,n,e));case 8:this.PG=i.ir(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),tu(r.t0)&&this.i5(),r.t0;case 15:this.i5();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.u5=function(t){return this.r6.Y4(this.K6,t)},n.i5=function(){var t=this;if(!this.J6&&!this.n5){var n=function(){t.J6=void 0};this.J6=this.o5(this.t5.Ws).then(n,n)}},n.s5=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.J6){t.next=6;break}return this.t5.Fs(),this.t5=new Js,t.next=5,Dr.awrap(this.J6.catch(K));case 5:this.J6=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n.o5=function(t){var n,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.K6.GJ.j1||!this.K6.GJ.z3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.ir()-this.PG,e=1e3*this.K6.GJ.V3,!(n<e)){r.next=8;break}return r.next=8,Dr.awrap(fu(e-n,t));case 8:return r.prev=8,r.next=11,Dr.awrap(this.r6.q4(this.K6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),iu(r.t0),this.r6.G4(this.K6),r.t0;case 18:this.PG=i.ir(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.xs=function(){this.n5=!0,hu(this.s5())},t}();!function(t){t[t.XJ=0]="XJ",t[t.HJ=1]="HJ",t[t.$l=2]="$l",t[t.a5=3]="a5"}(ML||(ML={}));var VL="AssetExtractor",WL=function(){function t(){this.h5=[]}var n=t.prototype;return n.c5=function(t,n,i){for(var e=n,r=0,s=this.h5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.RN)return!1;if(e<u.NN){if(i<=u.NN)return!0;e=u.NN}}return e>=t},n.f5=function(t,n){for(var i=[],e=0;e<this.h5.length;e+=1){var r=this.h5[e],s=t-r.RN,u=r.Fi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),h=Ho(r.Fi,o,a);h.length&&(e=this.v5(e,r,t,o,a),i.push(h))}return i},n.l5=function(t,n){this.h5.push({RN:t,NN:t+n.length,Fi:n})},n.v5=function(t,n,i,e,r){var s=t;this.h5.splice(s,1),s-=1,n.RN<i&&(s+=1,this.h5.splice(s,0,{RN:n.RN,NN:i,Fi:Ho(n.Fi,0,e)}));var u=i+r-e;return u<n.NN&&(s+=1,this.h5.splice(s,0,{RN:u,NN:n.NN,Fi:Ho(n.Fi,r)})),s},t}(),GL=function(){function t(t,n){this.ov=void 0,this.d5=n,this.ov=t.getReader()}var n=t.prototype;return n.w5=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.ov.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.d5=1/0,new v("No more data can be read from the given stream.");case 6:return this.d5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n._5=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.ov.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"g5",get:function(){return this.d5}}]),t}(),qL=function(){function t(t,n,i,e){this.D2=void 0,this.ov=void 0,this.m5=void 0,this.y5=void 0,this.k5=void 0,this.p5=void 0,this.b5=new Go,this.D2=t,this.ov=n,this.m5=i,this.y5=e,this.k5=new Go,this.p5=new Go}var n=t.prototype;return n.A5=function(){this.p5.Wu(),this.p5=new Go},n.T5=function(t){var n=jL(this.D2.RJ),i=n.S5,e=n.E5,r=this.m5.f5(i,e-i);zO.x$(VL,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Dr.awrap(this.k5.Hu);case 2:n=jL(this.D2.RJ),i=n.S5,e=n.E5,d.prev=3;case 4:return r=this.ov.g5,d.next=8,Dr.awrap(this.ov.w5());case 8:if(s=d.sent,u=s.length,zO.x$(VL,"Read "+u+" at "+r+" for extraction of "+wO(this.D2)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Ho(s,0,a),c=Ho(s,a),zO.x$(VL,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+wO(this.D2)),this.m5.l5(r,h),!(c.length>0)){d.next=23;break}return zO.x$(VL,"Extracting "+c.length+" bytes for extraction of "+wO(this.D2)),t.enqueue(c),this.A5(),d.abrupt("return",hu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return zO.x$(VL,"Extracting the read data range for extraction of "+wO(this.D2)),t.enqueue(s),this.A5(),d.abrupt("return",hu(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Ho(s,0,f=e-r),l=Ho(s,f),v.length>0&&(zO.x$(VL,"Extracting "+v.length+" bytes for extraction of "+wO(this.D2)),t.enqueue(v)),zO.x$(VL,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+wO(this.D2)),this.m5.l5(r+f,l),zO.x$(VL,"Extraction of "+wO(this.D2)+" completed as the entire request has been fulfilled."),this.I5(t),!this.y5){d.next=45;break}return zO.x$(VL,"Aborting stream upstream as no more bytes are needed from "+wO(this.D2)+"."),d.next=45,Dr.awrap(this.ov._5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),zO.x$(VL,"Extraction of "+wO(this.D2)+" completed as the entire source stream has been read."),this.I5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],We)},n.I5=function(t){t.close(),this.A5(),this.b5.Wu()},n.start=function(t){zO.x$(VL,"Preparing to push all collected data to controller for extraction of "+wO(this.D2)),this.T5(t),zO.x$(VL,"Collected data pushed to controller for extraction of "+wO(this.D2));var n=jL(this.D2.RJ).E5;this.ov.g5>=n?(zO.x$(VL,"Extraction of "+wO(this.D2)+" completed as the entire request has been fulfilled."),this.I5(t)):(zO.x$(VL,"Continuing read from original stream for extraction of "+wO(this.D2)),hu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.k5.Wu(),this.k5=new Go,this.p5.Hu},A(t,[{key:"R5",get:function(){return this.b5.Hu}}]),t}(),YL=function(){function t(t,n){this.m5=void 0,this.D5=void 0,this.N5=void 0,this.D2=n;var i=jL(this.D2.RJ).S5;this.D5=new GL(t,i),this.m5=new WL}var n=t.prototype;return n.Ey=function(t){if(!_O(this.D2,t))return!1;var n=jL(t.RJ),i=n.S5,e=n.E5;return this.m5.c5(this.D5.g5,i,e)},n.C5=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.D5,e=this.m5,zO.cT(VL,"Extracting data from "+wO(t)+" out of "+wO(this.D2)),!this.N5){s.next=8;break}return zO.x$(VL,"Awaiting previous extraction before extracting "+wO(t)+" out of "+wO(this.D2)),s.next=8,Dr.awrap(this.N5);case 8:if(this.Ey(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new qL(t,i,e,n),this.N5=r.R5,s.abrupt("return",new ad(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function jL(t){if(t){var n=t.RN;return{S5:n,E5:void 0!==t.b_?n+t.b_:xt}}return{S5:0,E5:xt}}var QL,ZL=function(){function t(t,n){this.pw=new Js,this.P5=void 0,this.D2=t,this.B5=n,this.P5=this.jh()}var n=t.prototype;return n.jh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.B5.Q6(this.D2,nw.Kl,this.pw.Ws));case 2:return t=n.sent,n.abrupt("return",new YL(t,this.D2));case 4:case"end":return n.stop()}},null,this,null,We)},n.Ey=function(t){return _O(this.D2,t)},n.C5=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Dr.awrap(this.P5);case 3:return i=e.sent,e.next=6,Dr.awrap(ru(i.C5(t,n),this.pw.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Fs=function(){this.P5.catch(K),this.pw.Fs()},t}(),KL=function(t){function n(n,i,e){var r;return(r=t.call(this,QL.x5)||this).O5=n,r.pd=i,r.L5=e,r}return S(n,t),n}(gu),JL="HlsPlaylistDownloader";!function(t){t.x5="segmentdownloaded"}(QL||(QL={}));var $L=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Vi=void 0,a.r6=void 0,a.b6=void 0,a.B5=void 0,a.M5=void 0,a.K6=void 0,a.U5=void 0,a.X5=void 0,a.H5=void 0,a.F5=new Js,a.z5=void 0,a.V5=void 0,a.W5=void 0,a.G5=void 0,a.q5=function(t){a.X5&&(a.K6=a.X5,a.X5=void 0,a.z5=void 0,a.V5=void 0),a.H5&&(t&&!tu(t)?a.H5.Gu(t):a.H5.Wu(),a.H5=void 0)},a.Vi=n,a.r6=e,a.b6=r,a.K6=i,a.U5=new zL(e,i),a.M5=new HL(o,s),a.B5=new FL(s,u,function(t){switch(t){case sO.wd:return iw.wd;case sO.dd:return iw.dd;case sO.Qb:case sO.IJ:return iw.$n;default:return iw.Kl}}(i.fs),!1),a}S(n,t);var e=n.prototype;return e.Y5=function(t){this.U5.xs(),this.U5=new zL(this.r6,t),this.D6?this.X5=t:(this.K6=t,this.z5=void 0,this.V5=void 0)},e.C6=function(){return this.H5?this.H5.Hu:We.resolve()},e.j5=function(){return this.b6.j5()},e.Q5=function(t){this.b6.Q5(t)},e.Fs=function(){var t,n;this.F5.Fs(),this.F5=new Js,null==(t=this.G5)||t.Fs(),null==(n=this.W5)||n.Fs(),this.G5=void 0,this.W5=void 0,this.z5=void 0,this.V5=void 0},e.xs=function(){this.U5.xs()},e.Z5=function(t){var n=this.K6.GJ.S3(t);if(!n)return!1;if(void 0!==this.z5){var i=n.I1===this.z5;return void 0!==this.V5?n.M2(t)===n.L2(this.V5)&&i:i}return!1},e.K5=function(t){var n;if(void 0===this.z5)n=this.J5(t);else if(n=this.t8(this.z5,this.V5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Vy,u=3*this._$.GJ.L0;w.abs(s-t)>=u&&(n=this.J5(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.T2)&&void 0!==a.Hg?[a,void 0]:[a,h]}},e.J5=function(t){var n,i,e,r=this.K6.GJ.iJ;if(0!==r.length){var s=r[r.length-1];if(s.Vy+(null!=(n=s.Hg)?n:s.g2)<=t)i=s,e=s.X2(t);else if(r[0].Vy>t)e=(i=r[0]).L2(0);else{var u;e=null==(u=i=this.K6.GJ.S3(t))?void 0:u.X2(t)}return i?[i,e]:void 0}},e.t8=function(t,n){var i,e,r;if((i=this.K6.GJ.T3(t))&&void 0!==n){if(0===i.F1.length)return[i,void 0];e=i.L2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.K6.GJ.T3(t+1))?void 0:r.L2(0));return i?[i,e]:void 0},e.R6=function(){if(this.D6)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.n8=function(t){this.R6(),this.H5=new Go,this.i8(t,this.F5.Ws).then(this.q5,this.q5)},e.e8=function(){this.U5.i5()},e.i8=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.K5(t))||!this.U5.e5()||void 0===this.z5){e.next=5;break}return e.next=4,Dr.awrap(this.U5.r5(void 0===this.V5?this.z5+1:this.z5,void 0!==this.V5?this.V5+1:void 0,n));case 4:i=this.K5(t);case 5:if(i||!this.U5.e5()||void 0===this.z5){e.next=9;break}return e.next=8,Dr.awrap(this.U5.r5(this.z5+1,0,n));case 8:i=this.K5(t);case 9:if(i){e.next=16;break}return zO.cT(JL,"No next segment / part available, need to update playlist before continuing."),e.next=13,Dr.awrap(this.U5.u5(n));case 13:i=this.K5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.r8=function(){return this.b6.s8()},e.u8=function(){this.R6();try{var t=this.K6.GJ.I3(fO.XJ);t&&this.o8(t);var n=this.K6.GJ.I3(fO.HJ);n&&this.a8(n)}catch(t){throw iu(t),this._$.GJ.W3=i.ir(),this.r6.G4(this._$),t}},e.o8=function(t){this.W5&&!this.W5.Ey(t.JJ)&&(this.W5.Fs(),this.W5=void 0),this.W5||(this.W5=new ZL(t.JJ,this.B5))},e.a8=function(t){this.G5&&!this.G5.Ey(t.JJ)&&(this.G5.Fs(),this.G5=void 0),this.G5||(this.G5=new ZL(t.JJ,this.B5))},e.h8=function(t,n,e){var r=this;this.R6(),zO.cT(JL,"Starting download of segment "+wO(t.JJ)+" and part "+(null==n?void 0:n.T2)),this.H5=new Go,this.c8(t,n,e,this.F5.Ws).catch(function(t){throw iu(t),r._$.GJ.W3=i.ir(),r.r6.G4(r._$),t}).then(this.q5,this.q5)},e.c8=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=0,!t.V1){o.next=7;break}if(i&&gO(i.L6.JJ,t.V1.JJ)&&t.q1===i.q1){o.next=7;break}return o.next=5,Dr.awrap(this.f8(t.V1,t,e));case 5:s=o.sent,u=s.V1.Fi.Fi.byteLength;case 7:if(s){o.next=12;break}return o.next=10,Dr.awrap(this.v8(t,n,e));case 10:s=o.sent,u=s.l8.Fi.Fi.byteLength;case 12:this.b6.d8(s),this.Qs(new KL(s.fs,this.Vi,u)),zO.x$("Buffering","Download complete",wO(null!=(r=null==n?void 0:n.JJ)?r:t.JJ));case 15:case"end":return o.stop()}},null,this,null,We)},e.v8=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.G5){o.next=19;break}if(!this.G5.Ey(n.JJ)){o.next=17;break}return o.next=5,Dr.awrap(this.G5.C5(n.JJ));case 5:return r=o.sent,o.t0=y,o.next=9,Dr.awrap(Od(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Dr.awrap(this.V6(s,n.U1,i));case 13:u=o.sent,e=iM(n,u),o.next=19;break;case 17:this.G5.Fs(),this.G5=void 0;case 19:if(e){o.next=24;break}return zO.x$("Buffering","Start download",wO(n.JJ)),o.next=23,Dr.awrap(this.w8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return zO.x$("Buffering","Start download",wO(t.JJ)),o.next=29,Dr.awrap(this._8(t,i));case 29:e=o.sent;case 30:return this.z5=t.I1,this.V5=null==n?void 0:n.T2,o.abrupt("return",{fs:"l8",I1:t.I1,l8:e,_$:this.K6,q1:t.q1});case 33:case"end":return o.stop()}},null,this,null,We)},e.f8=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.W5){a.next=17;break}if(!this.W5.Ey(t.JJ)){a.next=14;break}return a.next=4,Dr.awrap(ru(this.W5.C5(t.JJ),i));case 4:return s=a.sent,a.t0=y,a.next=8,Dr.awrap(Od(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Dr.awrap(this.V6(u,t.H1?[t.H1]:[],i));case 12:o=a.sent,e=tM(t,n,o);case 14:zO.cT(JL,"MAP is required for segment, downloading MAP data."),null==(r=this.W5)||r.Fs(),this.W5=void 0;case 17:if(e){a.next=22;break}return zO.x$("Buffering","Start download",wO(t.JJ)),a.next=21,Dr.awrap(this.g8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{fs:"V1",V1:e,Vy:n.Vy,q1:n.q1,U1:n.U1});case 23:case"end":return a.stop()}},null,this,null,We)},e.g8=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.B5.Yl(t.JJ,nw.ed,i));case 2:return e=u.sent,r=t.H1?[t.H1]:[],u.next=6,Dr.awrap(this.V6(e,r,i));case 6:return s=u.sent,u.abrupt("return",tM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e._8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.JJ){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Dr.awrap(this.B5.Yl(t.JJ,nw.Kl,n));case 4:return i=r.sent,r.next=7,Dr.awrap(this.V6(i,t.U1,n));case 7:return e=r.sent,r.abrupt("return",nM(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e.w8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.B5.Yl(t.JJ,nw.Kl,n));case 2:return i=r.sent,r.next=5,Dr.awrap(this.V6(i,t.U1,n));case 5:return e=r.sent,r.abrupt("return",iM(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.V6=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=xs(n,function(t){return t.md===vO.FJ})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.JJ&&e.f1){r.next=6;break}return zO.mu(JL,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Dr.awrap(this.M5.V6(t,e.JJ,e.f1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},A(n,[{key:"D6",get:function(){return void 0!==this.H5}},{key:"_$",get:function(){var t;return null!=(t=this.X5)?t:this.K6}},{key:"m8",get:function(){if(!this.K6.GJ.j1)return!1;if(void 0===this.z5)return!1;var t=this.K6.GJ.iJ[this.K6.GJ.iJ.length-1];return t.I1===this.z5&&!(this.V5&&this.V5!==t.F1.length-1)}}]),n}(wu);function tM(t,n,i){return{Fi:{Fi:i,fs:bD.WX},fs:ML.XJ,L6:t,q1:n.q1}}function nM(t,n){return{Fi:{Fi:n,fs:bD.WX},fs:ML.$l,L6:t,q1:t.q1}}function iM(t,n){return{Fi:{Fi:n,fs:bD.WX},fs:ML.HJ,L6:t,q1:t.A2.q1}}var eM,rM=function(){function t(){this.y8=[],this.k8=Pr(),this.p8=void 0,this.b8=void 0}var n=t.prototype;return n.d8=function(t){"V1"===t.fs&&(this.b8=t.V1),this.y8.push(t),this.p8&&(this.p8.Wu(),this.p8=void 0)},n.j5=function(){return this.y8[0]},n.Q5=function(t){Us(this.y8,t)},n.s8=function(){return null!=this.p8||(this.p8=new Go),this.p8.Hu},n.A8=function(t){this.T8(t.u4).A8(t)},n.S8=function(t){return this.T8(t).S8()},n.x6=function(t){this.T8(t.u4).x6(t)},n.E8=function(t){var n;null==(n=this.k8.get(t))||n.xs()},n.I8=function(t){return this.T8(t).I8()},n.T8=function(t){if(this.k8.has(t))return this.k8.get(t);var n=new sM;return this.k8.set(t,n),n},n.Nu=function(){this.R8(),this.D8()},n.R8=function(){this.b8=void 0,zs(this.y8)},n.D8=function(){this.k8.forEach(function(t){return t.Nu()})},n.xs=function(){this.k8.forEach(function(t){return t.xs()}),this.k8.clear(),this.Nu(),this.p8&&(this.p8.Gu(new $s),this.p8=void 0)},A(t,[{key:"y6",get:function(){return this.b8}},{key:"N8",get:function(){for(var t=rS.fC(),n=0,i=this.y8;n<i.length;n++){var e=i[n];if("l8"===e.fs){var r,s=e.l8.L6;t=t.YN(new rS([s.Vy,s.Vy+(null!=(r=s.Hg)?r:0)]))}}return t}},{key:"C8",get:function(){var t=rS.fC();return this.k8.forEach(function(n){t=t.YN(n.C8)}),t}}]),t}(),sM=function(){function t(){this.P8=[],this.B8=void 0}var n=t.prototype;return n.A8=function(t){this.P8.push(t),this.B8&&(this.B8.Wu(),this.B8=void 0)},n.S8=function(){return this.P8[0]},n.x6=function(t){Us(this.P8,t)},n.I8=function(){return null!=this.B8||(this.B8=new Go),this.B8.Hu},n.Nu=function(){zs(this.P8)},n.xs=function(){this.Nu(),this.B8&&(this.B8.Gu(new $s),this.B8=void 0)},A(t,[{key:"C8",get:function(){for(var t=rS.fC(),n=0,i=this.P8;n<i.length;n++){var e=i[n];"l8"===e.fs&&(t=t.YN(new rS([e.Vy,e.Vy+e.Hg])))}return t}}]),t}(),uM=function(){function t(t,n){this.O8=void 0,this.w4=void 0,this.x8=rS.fC(),this.O8=t,this.w4=n}var n=t.prototype;return n.Gz=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Fi.Fi,this.L8(i),this.O8.fs!==wy.TTML){u.next=8;break}if(this.w4.j3(t.q1)){u.next=6;break}return u.next=6,Dr.awrap(ru(this.w4.Q3(t.q1),n));case 6:for(e=this.M8(i,t.q1),r=0;r<e.length;r++)s=e[r],this.O8.mE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.zz=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Fi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Vy,e=i+t.Hg,this.x8=this.x8.YN(new rS([i,e])).qN(1e-6),this.w4.j3(t.q1)){r.next=8;break}return r.next=8,Dr.awrap(ru(this.w4.Q3(t.q1),n));case 8:this.Wz(t.Fi.Fi,t.q1,t.L6);case 9:case"end":return r.stop()}},null,this,null,We)},n.Wz=function(t,n,i){this.L8(t);for(var e=0,r=this.O8.fs===wy.WEBVTT?this.U8(t,i):this.M8(t,n);e<r.length;e++){var s=r[e];this.O8.mE(s)}},n.U8=function(t,n){for(var i,e,r=(void 0===e&&(e=hk),mk(Bo(Lo(t),new Vo),e)),s=r.j_,u=null!=(i=r.$p)?i:{ib:$y.qk,eb:$y.qk},o=0;o<s.length;o++){var a=s[o],h=$y.Np(a.Vy).Mk(u.eb).Sy(u.ib),c=this.w4.n4(h,n).Ek(),f=c+(a.Wy-a.Vy);a.Vy=c,a.Wy=f}return s},n.M8=function(t,n){var i=this.w4.t4(n).Ek();return vp(t,this.O8,{jp:0,Qp:1/0,Zp:i},Nc.APPLICATION_MP4)},n.L8=function(t){this.O8.fs===wy.DEFAULT&&(this.O8.fs=this.X8(t)?wy.WEBVTT:wy.TTML)},n.X8=function(t){return Dk(Bo(xo(Lo(t),0,w.min(t.byteLength,7)),new Vo))},n.gV=function(t,n){},n.mV=function(t,n){},A(t,[{key:"Km",get:function(){return this.x8}},{key:"AV",get:function(){return rS.fC()}}]),t}(),oM=function(t){function n(n,i){var e;return(e=t.call(this,eM.H8)||this)._$=n,e.XF=i,e}return S(n,t),n}(gu),aM=function(t){function n(n){var i;return(i=t.call(this,eM.F8)||this)._$=n,i}return S(n,t),n}(gu);!function(t){t.H8="z8",t.F8="V8"}(eM||(eM={}));var hM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).K6=void 0,s.b6=void 0,s.w4=void 0,s.W8=void 0,s.G8=void 0,s.pw=new Js,s.q8=function(t){s.G8&&(t&&!tu(t)?s.G8.Gu(t):(s.G8.Wu(),s.G8=void 0))},s.K6=n,s.b6=i,s.w4=e,s.W8=r,s}S(n,t);var i=n.prototype;return i.Y5=function(t){this.K6!==t&&(this.Fs(),this.K6=t)},i.Y8=function(t){for(var n=0,i=this.W8;n<i.length;n++){var e=i[n];Hs(t,e)||this.b6.E8(e)}this.W8=t},i.C6=function(){var t,n;return null!=(t=null==(n=this.G8)?void 0:n.Hu)?t:We.resolve()},i.R6=function(){if(this.D6)throw new v("Cannot perform new operation while transmuxer is still busy")},i.j8=function(t){var n=this;this.R6(),this.G8=new Go;var i=function(i){n.b6.Q5(t),n.q8(i)};this.Q8(t,this.pw.Ws).then(i,i)},i.Z8=function(t){var n=this;this.R6(),this.G8=new Go;var i=function(i){n.b6.Q5(t),n.q8(i)};this.K8(t,this.pw.Ws).then(i,i)},i.J8=function(t){this.Qs(new oM(this.K6,t))},i.t9=function(){this.Qs(new aM(this.K6))},i.A8=function(t){Hs(this.W8,t.u4)&&this.b6.A8(t)},i.n9=function(t){return this.b6.S8(t)},i.x6=function(t){this.b6.x6(t)},i.i9=function(t){return this.b6.I8(t)},i.Fs=function(){this.pw.Fs(),this.pw=new Js},A(n,[{key:"_$",get:function(){return this.K6}},{key:"e9",get:function(){return this.W8}},{key:"D6",get:function(){return void 0!==this.G8}}]),n}(wu);function cM(t){return function(t){return uL(t)?t.z2:0===t.T2&&t.A2.z2}(t)?0:t.Vy}var fM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.Q8=function(t,n){nu(n);var i={fs:"r9",Fi:t.V1.Fi,u4:this.e9[0],q1:t.q1,s9:{XF:"",U1:t.U1},Vy:t.Vy,_$:this._$,L6:t.V1.L6};return this.A8(i),We.resolve()},i.K8=function(t,n){var i;nu(n);var e=t.l8.L6,r={fs:"l8",Fi:t.l8.Fi,u4:this.e9[0],I1:t.I1,u9:cM(e),Vy:e.Vy,Hg:null!=(i=e.Hg)?i:0,Zp:0,q1:t.q1,_$:t._$,L6:t.l8.L6};return this.A8(r),We.resolve()},n}(hM),vM=function(){function t(t,n,i,e){this.o9=[],this.a9=t,this.b6=n,this.h9=i,this.TC=e}var n=t.prototype;return n.Y5=function(t){this.a9.Y5(t)},n.c9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.o9[t];if(!e.I6)throw new v("Invalid state");var r=Ms(i,function(t){return t.fs===e.fs});r>=0?(e.N6(i[r]),Xs(i,r)):Xs(n.o9,t)},r=this.o9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new UL(u);this.o9.push(new XL(u.fs,u,this.b6,o,this))}i.length>0&&this.b6.Nu();var a=t.map(function(t){return t.fs});this.h9.Y8(a)},n.gL=function(t){var n,i=(null==(n=this.TC)?void 0:n.gL(t))||!1;return i&&(this.Fs(),this.f9.Nu()),i},n.v9=function(t){for(var n=0,i=this.o9;n<i.length;n++){var e=i[n];if(e.fs!==$m.$n||e.D6)throw new v("Invalid state")}var r=new UL(t),s=new XL($m.$n,t,this.b6,r,this);this.o9=[s]},n.l9=function(){for(var t=0,n=this.o9;t<n.length;t++){n[t].H6.d6()}},n.d9=function(t){var n=this.w9.uC(t,.001);return n?n.NN(n.b_-1):t},n.Z5=function(t){return!!this.w9.uC(t,.001)||this.a9.Z5(t)},n._9=function(t){return this.g9.GD(t,.001)},n.m9=function(t,n,i){for(var e=0,r=this.o9;e<r.length;e++){var s=r[e].H6,u=s.k6;if(void 0!==u&&n>=u)return!s.Km.LN().GD(u)}return n-t<i},n.Fs=function(){this.y9(),this.k9()},n.y9=function(){this.p9.Fs()},n.k9=function(){this.b9.Fs(),this.A9.forEach(function(t){return t.Fs()})},n.xs=function(){this.Fs(),this.p9.xs()},A(t,[{key:"A9",get:function(){return this.o9}},{key:"p9",get:function(){return this.a9}},{key:"b9",get:function(){return this.h9}},{key:"f9",get:function(){return this.b6}},{key:"_$",get:function(){return this.a9._$}},{key:"y6",get:function(){var t=this.b6.y6;if(t)return t;if(this.o9.length>0){var n=this.o9[0].H6.y6;if(n&&this.o9.every(function(t){return t.H6.y6===n}))return n}}},{key:"w9",get:function(){if(0===this.o9.length)return rS.fC();for(var t=this.b6.N8.YN(this.b6.C8).LN(),n=new rS([0,1/0]),i=0,e=this.o9;i<e.length;i++){for(var r=e[i],s=r.H6.Km,u=r.H6.iJ,o=r.B6,a=0;a<u.length;a++)for(var h=u[a],c=h._6.QN(h.g6),f=0;f<c.b_;f++)t.$N(c.RN(f),c.NN(f),!0,!0)&&(s=s.YN(c.sC(f)));n=n.FN(s).QN(o)}return n=n.YN(t)}},{key:"g9",get:function(){if(0===this.o9.length)return rS.fC();for(var t=this.b6.C8.LN(),n=new rS([0,1/0]),i=0,e=this.o9;i<e.length;i++){for(var r=e[i],s=r.H6.Km,u=r.H6.iJ,o=0;o<u.length;o++)for(var a=u[o],h=a._6.QN(a.g6),c=0;c<h.b_;c++)t.$N(h.RN(c),h.NN(c),!0,!0)&&(s=s.YN(h.sC(c)));n=n.FN(s)}return n=n.YN(t)}}]),t}();var lM=function(t){function n(){return t.call(this,rO.AJ)||this}return S(n,t),n}(gu),dM=function(t){function n(){return t.call(this,rO.pJ)||this}return S(n,t),n}(gu),wM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Dc=void 0,e.c6=void 0,e.T9=new Go,e.fL=iR,e.S9=!1,e.vL=ZI,e.dV=new ED,e.Vi=n,e.E9=i,e}S(i,t);var e=i.prototype;return e.XX=function(){return this.c6?this.c6.XX():this.S9},e.gV=function(t,n){zO.x$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.dV.ZX(t,n),this.c6&&this.c6.gV(t,n)},e.mV=function(t,n){zO.x$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.dV.KX(t,n),this.c6&&this.c6.mV(t,n)},e.I9=function(t){this.c6=t,this.c6.oL=this.vL,this.c6.eL=this.fL;for(var n,i=this.dV.JX,e=0;e<i.b_;e++)this.c6.gV(i.RN(e),i.NN(e));this.S9&&(zO.x$("LazyMediaBuffer","End of stream"),null==(n=this.c6)||n.fV());this.c6.Zs(gD.zX,this.js),this.T9.Wu(t)},e.R9=function(t){return ru(this.T9.Hu,t)},e.zz=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.zz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.yV=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.R9());case 2:return t=n.sent,n.next=5,Dr.awrap(t.yV());case 5:case"end":return n.stop()}},null,this,null,We)},e.Gz=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Gz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Qh=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Qh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.$z=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.R9());case 2:return i=e.sent,e.next=5,Dr.awrap(i.$z(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.fV=function(){this.S9=!0,this.c6&&this.c6.fV()},e.NX=function(t){return!!this.c6&&this.c6.NX(t)},e.CX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.R9());case 2:return n=i.sent,i.next=5,Dr.awrap(n.CX(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.Sd=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s(),null==(t=this.c6)||t.tu(gD.zX,this.js);case 2:case"end":return n.stop()}},null,this,null,We)},A(i,[{key:"Nl",get:function(){return this.Dc}},{key:"bV",get:function(){return this.Vi}},{key:"rc",get:function(){if(!this.c6)throw new nf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.c6.rc}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t,this.c6&&(this.c6.eL=t)}},{key:"Km",get:function(){return this.c6?this.c6.Km:rS.fC()}},{key:"AV",get:function(){return this.c6?this.c6.AV:this.dV.JX}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.c6&&(this.c6.oL=t)}}]),i}(wu),_M="LazyMediaSource",gM=function(){function t(t,n,i){this.D9=void 0,this.N9=void 0,this.C9=new Go,this.JR=void 0,this.P9=!1,this.ua=NaN,this.gK=!1,this.B9=0,this.O9=1/0,this.x9=!1,this.L9=!1,this.KR=t,n&&(zO.x$(_M,"Created lazy media buffer for audio."),this.D9=new wM($m.dd,this)),i&&(zO.x$(_M,"Created lazy media buffer for video."),this.N9=new wM($m.wd,this))}var n=t.prototype;return n.lW=function(t){this.ua=t,this.JR&&this.JR.lW(t)},n.fV=function(){this.gK=!0,this.JR&&this.JR.fV()},n.oV=function(){this.gK=!1,this.JR&&this.JR.oV()},n._W=function(t,n,i,e){this.B9=t,this.O9=n,this.x9=Boolean(i),this.L9=Boolean(e),this.JR&&this.JR._W(t,n,i,e)},n.NX=function(t){return!this.JR||this.JR.NX(t)},n.CX=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.NX(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.JR){r.next=19;break}return this.KR.bj(),r.next=6,Dr.awrap(this.KR.jh(t));case 6:e=r.sent,m(this.ua)||e.lW(this.ua),this.gK&&e.fV(),e._W(this.B9,this.O9,this.x9,this.L9),zO.x$(_M,"The MediaSource has been loaded."),this.P9=!0,this.JR=e,null==(n=this.D9)||n.I9(this.JR.tW),null==(i=this.N9)||i.I9(this.JR.nW),this.C9.Wu(e),this.KR.Aj(),r.next=21;break;case 19:return r.next=21,Dr.awrap(this.JR.CX(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=3;break}return t.next=3,Dr.awrap(this.JR.xs());case 3:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"rc",get:function(){return{fs:$p.bE,gW:[],ND:[]}}},{key:"Im",get:function(){throw new v("Not implemented")}},{key:"tW",get:function(){return this.D9}},{key:"nW",get:function(){return this.N9}},{key:"Km",get:function(){return this.JR?this.JR.Km:rS.fC()}},{key:"Hg",get:function(){return this.JR?this.JR.Hg:this.ua}},{key:"XX",get:function(){return!!this.JR&&this.JR.XX}},{key:"py",get:function(){return this.JR?this.JR.py:new rS([0,1/0])}}]),t}();function mM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=kM(i,"tag"),a=kM(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}mM(function(t,n){return"*"===n||t===n||vs(t,n+"-")},!0),mM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var yM=mM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function kM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var pM,bM=function(t){function n(){return t.call(this,bf.Sf)||this}return S(n,t),n}(gu),AM=function(t){function n(){return t.call(this,bf.Tf)||this}return S(n,t),n}(gu),TM=16384,SM=71,EM=188;function IM(t){return null!==WC(Lo(t),new Vo)?pM.M9:function(t){return function(t){if(t.length<2*EM)return-1;for(var n=w.min(1e3,t.length-2*EM),i=0;i<=n;i++)if(t[i]===SM&&t[i+EM]===SM)return i;return-1}(t)>=0}(t)?pM.U9:RM(t)?pM._g:pM.Kl}function RM(t){var n=Oo(t,0,w.min(t.length,TM));return tp.NA(Lo(n))}!function(t){t[t.Kl=0]="Kl",t[t._g=1]="_g",t[t.U9=2]="U9",t[t.M9=3]="M9"}(pM||(pM={}));var DM=function(){function t(t,n,i,e){this.Vi=void 0,this.c6=void 0,this.X9=void 0,this.H9=void 0,this.F9=void 0,this.Vi=t,this.c6=n,this.H9=i,this.F9=e}var n=t.prototype;return n.z9=function(t){return this.c6===t},n.Gz=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Dr.awrap(this.c6.Gz(t.Fi,{V9:t._$.B_},n));case 3:this.Vi===$m.wd&&RM(t.Fi.Fi)&&this.F9.W9(t.Fi.Fi);case 4:case"end":return i.stop()}},null,this,null,We)},n.zz=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(nu(n),zO.cT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+wO(t.L6.JJ)),i=t.u9,e=t.Vy+t.Hg,r={yK:t.Vy,Hg:t.Hg,Zp:t.Zp,V9:t._$.B_},void 0===t.Fi){s.next=10;break}return s.next=9,Dr.awrap(this.c6.zz(t.Fi,r,n));case 9:this.G9(t.Fi,t);case 10:this.q9(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.G9=function(t,n){if(RM(t.Fi)){var i=n.Vy,e=i+n.Hg,r=n.Zp;this.H9.w6(t.Fi,i,r),this.Vi===$m.wd&&this.F9.w6(t.Fi,i,e,r)}},n.q9=function(t,n){for(var i=this.c6.Km,e=new rS([t,n]).QN(i),r=0;r<e.b_;r++)this.c6.gV(e.RN(r),e.NN(r));for(var s=0;s<i.b_;s++)this.c6.mV(i.RN(s),i.NN(s))},n.gV=function(t,n){this.c6.gV(t,n)},n.mV=function(t,n){this.c6.mV(t,n)},A(t,[{key:"fs",get:function(){return this.Vi}},{key:"Km",get:function(){return this.c6.Km}},{key:"AV",get:function(){return this.c6.AV}}]),t}(),NM=2500;var CM=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).Y9=void 0,o.ke=void 0,o.j9=void 0,o.Y9=e,o.ke=r,o.j9=s,o}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&fg(this.Gy,n.Gy)},A(n,[{key:"TS",get:function(){return this.Y9}},{key:"Ai",get:function(){return this.ke}},{key:"Q9",get:function(){return this.j9}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=hg(Ey(t=this),{get schemeIDURI(){return t.TS},get value(){return t.Ai},get emsgID(){return t.Q9}})),this.Ww}}]),n}(By);function PM(t,n){return""===n?t:t+" "+n}var BM,OM,xM=function(t){function n(n){var i;return(i=t.call(this)||this).vE=void 0,i.vE=n,i}S(n,t);var i=n.prototype;return i.w6=function(t,i,e){var r=tp.RA(Lo(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];qk(r,n)&&i.push(r)}return i}(r,sk.Vb);if(s.length){var u=n.Z9(r,i,e);this.K9(s,u,e)}}},i.K9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.EA?r.SS.toNumber()/r.yp+i:n+r.RS/r.yp)+r.ES/r.yp;"https://aomedia.org/emsg/ID3"===r.TS?this.J9(r,s):this.t7(r,s,u)}},i.t7=function(t,n,i){var e=PM(t.TS,t.Ai),r=this.n7(e);r||(r=this.i7(e),this.e7(r)),r.mE(new CM(n,i,t.TS,t.Ai,t.P_,t.IS))},i.J9=function(t,n){var i=YC(Lo(t.IS));if(i){var e=PM(t.TS,t.Ai),r=this.n7(e);r||(r=this.r7(e),this.e7(r));for(var s=0,u=i.vG;s<u.length;s++){var o=u[s],a=new rP(n,o);mC(a,r.j_.p_),r.mE(a)}}},n.Z9=function(t,n,i){var e=Yk(t,sk.Wb);return e?jt(e.FS,e.yp)+i:n},i.i7=function(t){var n=this.vE._E(Sp.Kb,"","","",void 0,wy.EMSG);return n.V_=t,n.W_=Eg.H_,n},i.r7=function(t){var n=this.vE._E(Sp.Kb,"","","",void 0,wy.ID3);return n.V_=t,n.W_=Eg.H_,n},i.k_=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.VA.p_;n<i.length;n++)e=i[n],this.vE.yE(e);return r.next=3,Dr.awrap(t.prototype.k_.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.e7=function(t){return t.Y_=dy.LOADED,this.g_(t),t},i.n7=function(t){for(var n=0,i=this.VA.p_;n<i.length;n++){var e=i[n];if(e.V_===t)return e}},n}(Gp));function LM(t){return"function"==typeof t.Iu}function MM(t,n,i){if(!(i&&n.byte>=i)){var e=LM(t)?t.Iu(n.byte):t[n.byte];return n.byte+=1,e}}function UM(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+MM(t,n);return e}(t,n,2)}!function(t){t[t.s7=0]="s7",t[t.u7=1]="u7",t[t.o7=2]="o7",t[t.a7=3]="a7",t[t.h7=4]="h7",t[t.c7=5]="c7"}(BM||(BM={})),function(t){t[t.f7=0]="f7",t[t.v7=1]="v7",t[t.l7=2]="l7",t[t.d7=3]="d7"}(OM||(OM={}));var XM,HM=function(){function t(){this.w7=0,this._7=[],this.QS={}}var n=t.prototype;return n.g7=function(t){this._7=this._7.concat(t._7),this.w7+=t.b_},n.m7=function(t,n,i){var e=this.w7,r=i-n;r>0&&(this._7.push({y7:n,k7:i,p7:r,b7:e,A7:t}),this.w7+=r)},n.Iu=function(t){for(var n=0,i=this._7;n<i.length;n++){var e=i[n];if(e.b7<=t&&t<e.b7+e.p7)return e.A7[t+e.y7-e.b7]}},n.T7=function(t,n){for(var i=n,e=0,r=this._7;e<r.length;e++)for(var s=r[e],u=s.k7,o=s.y7;o<u;o+=1,i+=1)t[i]=s.A7[o];return i},n.S7=function(){for(var t=new y(this.w7),n=0,i=0,e=this._7;i<e.length;i++)for(var r=e[i],s=r.k7,u=r.y7;u<s;u+=1,n+=1)t[n]=r.A7[u];return t},n.Lu=function(n){for(var i=new t,e=0,r=this._7;e<r.length;e++){var s=r[e];i.m7(s.A7,s.y7,s.k7)}return i.QS=n||Nr({},this.QS),i},A(t,[{key:"b_",get:function(){return this.w7},set:function(t){var n=this._7,i=this.w7-t;if(!(t>=this.w7))if(this.w7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.p7)return r.k7-=i,r.p7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.p7}else n.length=0}},{key:"Fi",get:function(){for(var t=new Array(this.w7),n=0,i=0,e=this._7;i<e.length;i++)for(var r=e[i],s=r.k7,u=r.y7;u<s;u+=1,n+=1)t[n]=r.A7[u];return t}}]),t}();function FM(t,n,i){return i===BM.s7?i:n!==OM.f7&&n!==OM.v7||i!==BM.u7&&i!==BM.o7?t?n===OM.l7?BM.h7:n===OM.d7?BM.a7:BM.s7:BM.c7:BM.o7}function zM(t,n,i,e){var r={byte:i},s=BM.u7,u=[],o=31&MM(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=MM(n,r,e),c=4&h,f=3&h;s=FM(Boolean(c),f,s);var v=MM(n,r,e),l=MM(n,r,e);u.push({iZ:t,fS:-1,E7:!a,I7:Boolean(c),fs:f,cQ:s,R7:v,D7:l})}return u}function VM(t,n,i){var e=MM(t,n,i);if(!m(e))return String.fromCharCode(e)}function WM(t){var n=t.N7,i={byte:t.C7},e=t.P7,r=MM(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=UM(n,i);if(s===XM.B7||s===XM.O7){if(s===XM.O7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=VM(t,n);return e}(n,i,4))return;if(3===MM(n,i,e)){s===XM.B7&&(i.byte+=1);var u=t;return u.x7=i.byte,u}}}}function GM(t){return 4===t.L7}function qM(t){for(var n=t.filter(GM).map(WM).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,zM(r.M7,r.N7,r.x7,r.P7))}return i}!function(t){t[t.B7=47]="B7",t[t.O7=49]="O7"}(XM||(XM={}));var YM="und";var jM,QM=[{wi:"Abkhaz",eb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",eb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",eb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",eb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",eb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",eb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",eb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",eb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",eb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",eb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",eb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",eb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",eb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",eb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",eb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",eb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",eb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",eb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",eb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",eb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",eb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",eb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",eb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",eb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",eb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",eb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",eb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",eb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",eb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",eb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",eb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",eb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",eb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",eb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",eb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",eb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",eb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",eb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",eb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",eb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",eb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",eb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",eb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",eb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",eb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",eb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",eb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",eb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",eb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",eb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",eb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",eb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",eb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",eb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",eb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",eb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",eb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",eb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",eb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",eb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",eb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",eb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",eb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",eb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",eb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",eb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",eb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",eb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",eb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",eb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",eb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",eb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",eb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",eb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",eb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",eb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",eb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",eb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",eb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",eb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",eb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",eb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",eb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",eb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",eb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",eb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",eb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",eb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",eb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",eb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",eb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",eb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",eb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",eb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",eb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",eb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",eb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",eb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",eb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",eb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",eb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",eb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",eb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",eb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",eb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",eb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",eb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",eb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",eb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",eb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",eb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",eb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",eb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",eb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",eb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",eb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",eb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",eb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",eb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",eb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",eb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",eb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",eb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",eb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",eb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",eb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",eb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",eb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",eb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",eb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",eb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",eb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",eb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",eb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",eb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",eb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",eb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",eb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",eb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",eb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",eb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",eb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",eb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",eb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",eb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",eb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",eb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",eb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",eb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",eb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",eb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",eb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",eb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",eb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",eb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",eb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",eb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",eb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",eb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",eb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",eb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",eb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",eb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",eb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",eb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",eb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",eb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",eb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",eb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",eb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",eb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",eb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",eb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",eb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",eb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",eb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",eb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",eb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",eb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",eb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",eb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",eb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",eb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",eb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],ZM=[128,64,32,16,8,4,2,1];function KM(t,n){var i=w.floor(n.bit/8),e=0==((LM(t)?t.Iu(i):t[i])&ZM[n.bit%8])?0:1;return n.bit+=1,e}function JM(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+KM(t,n);return e}function $M(t,n){for(var i=0;0===KM(t,n)&&i<32;)i+=1;return JM(t,n,i)+w.pow(2,i)-1}function tU(t,n){var i=$M(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function nU(t,n){var i,e=[],r={byte:1};do{e.push(eU(t,n,r)),i=n.Iu(r.byte)}while(void 0!==i&&128!==i);return e}function iU(t,n){var i,e=0;do{e+=i=MM(t,n)}while(255===i);return e}function eU(t,n,i){var e=iU(n,i),r=iU(n,i),s=i.byte,u=s+r;return i.byte=u,{M7:t,L7:e,U7:r,C7:s,P7:u,N7:n}}!function(t){t[t.X7=1]="X7",t[t.H7=2]="H7",t[t.F7=3]="F7",t[t.z7=4]="z7",t[t.V7=5]="V7",t[t.W7=6]="W7",t[t.G7=7]="G7",t[t.q7=8]="q7",t[t.Y7=9]="Y7"}(jM||(jM={}));var rU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function sU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+tU(t,n)+256)%256;e=0===r?e:r}}var uU=function(){function t(t){this.j7=void 0,this.Q7=[],this.Z7=0,this.j7=t}var n=t.prototype;return n.K7=function(){for(var t=this.Q7,n=w.max(0,this.Z7+t.length-2),i=this.j7,e=i.b_,r=0;n<e;n+=1){var s=i.Iu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.Z7=n-t.length},n.J7=function(t){for(var n=this.Q7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Iu=function(t){if(!(t>this.j7.b_))return t>this.Z7&&this.K7(),this.j7.Iu(this.J7(t))},t}();var oU=24;function aU(t){var n=t.xF,i=new HM;return i.m7(Mo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new uU(t),a=0,h=0,c=0,f=0,v=o.Iu(1),l={bit:32};if($M(o,l),100===v||110===v||122===v||144===v){var d=$M(o,l);if(3===d&&(n=KM(o,l)),$M(o,l),$M(o,l),KM(o,l),1===KM(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===KM(o,l)&&sU(o,l,_<6?16:64)}var g=$M(o,l),m=$M(o,l);if(0===m)$M(o,l);else if(1===m){KM(o,l),tU(o,l),tU(o,l);for(var y=$M(o,l),k=0;k<y;k+=1)tU(o,l)}$M(o,l),KM(o,l);var p=$M(o,l),b=$M(o,l),A=KM(o,l);if(0===A&&KM(o,l),KM(o,l),1===KM(o,l)&&(a=$M(o,l),h=$M(o,l),c=$M(o,l),f=$M(o,l)),1===KM(o,l)){if(1===KM(o,l)){var T=JM(o,l,8);if(255===T)i=JM(o,l,16),e=JM(o,l,16);else{var S=rU[T];S&&(i=S[0],e=S[1])}}1===KM(o,l)&&KM(o,l),1===KM(o,l)&&(JM(o,l,3),KM(o,l),1===KM(o,l)&&(JM(o,l,8),JM(o,l,8),JM(o,l,8))),1===KM(o,l)&&($M(o,l),$M(o,l)),1===(r=KM(o,l))&&(s=JM(o,l,32),u=JM(o,l,32),KM(o,l))}return{width:w.floor(16*(p+1)-2*a-2*h),height:w.floor((2-A)*(b+1)*16-2*c-2*f),nS:i,iS:e,ttt:!!r&&u/(2*s),ntt:n,itt:g}}(i).ttt}function hU(t){var n=aU(t)||oU;return t.ett/n}function cU(t){return t.fs===sk.Ob}var fU,vU=65536;function lU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.ett,s=ft.fromNumber(t.AS||0),u=e.Sy($y.Vk(s,r));return{rtt:e.Ek(),stt:e,utt:u,ott:e}}(t,0,i,e),o=$y.Wk(t.Hg||0,i.ett),a=t.IA||0,h=!(a&vU)&&(a>>24&3)!==fU.SAMPLE_DEPENDS_ON_OTHERS,c=Lo(r),f=new Vo;f.Pu<c.byteLength;){var v=fo(c,f);if((31&ao(c,f,1))===jM.W7){var l,d=new HM;d.m7(r,f.Pu-1,f.Pu+v-1);var w=nU(u.utt,d);(l=s=s||[]).push.apply(l,qM(w))}f.Bu(v-1)}return Nr({},u,{Hg:o.Ek(),att:o,htt:u.utt.Ek(),ctt:u.rtt,ftt:h,ltt:s,dtt:!1,wtt:!1})}function dU(t){return t.fs===sk.sb}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(fU||(fU={}));var wU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(By),_U=function(){function t(t,n){this.dZ=t,this.nZ=n}return t.prototype.lk=function(t){return this.dZ===t.dZ&&this.nZ===t.nZ},t}(),gU=function(){function t(t,n){this._tt="",this.sU=t,this.gtt=n}var n=t.prototype;return n.mtt=function(t){this._tt+=t},n.ytt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mtt(i)}},A(t,[{key:"AZ",get:function(){return this._tt}},{key:"mZ",get:function(){return[this]}},{key:"pZ",get:function(){return this.sU}},{key:"SZ",get:function(){return this.gtt}},{key:"TZ",get:function(){return new _U(this.SZ.dZ,this.SZ.nZ+this.AZ.length-1)}}]),t}(),mU=function(){function t(){}var n=t.prototype;return n.ktt=function(t){return t.zp(this)},n.ptt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.zp(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.btt=function(t,n){return new yU(t,n).Att()},t}(),yU=function(){function t(t,n){this.Ttt=[],this.Stt=null,this.dZ=t,this.Ett=n}var n=t.prototype;return n.Att=function(){if(this.Itt)return[];for(var t=0;t<this.dZ.length;t++)this.Rtt(t);return this.Dtt(),this.Ttt},n.Ntt=function(t){this.Stt=new gU(NB,new _U(this.Ett,t))},n.Dtt=function(){this.Stt&&(this.Ttt.push(this.Stt),this.Stt=null)},n.Rtt=function(t){var n=this.dZ[t];kU(n)?this.Stt&&this.Dtt():(this.Stt||this.Ntt(t),this.Stt.mtt(n))},A(t,[{key:"Itt",get:function(){return this.dZ.every(kU)}}]),t}();function kU(t){return null==t}var pU=function(){function t(){}return t.Ctt=function(t,n,i){if(!(n>=i)){var e=Ws(t,function(t,n){return new yU(t.map(function(t){return t?t.Ptt():null}),n).Att()});if(0!==e.length)return new wU(n,i,e)}},t}(),bU="black",AU="white",TU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),SU=function(){function t(){this.Btt=[],this.Ott=0,this.xtt=void 0;for(var t=0;t<OB;t++)this.Btt.push(null);this.xtt=!1}var n=t.prototype;return n.Ltt=function(t){for(var n=0;n<OB;n++)t&&(this.Btt[n]=t.Btt[n])},n.lk=function(t){for(var n=0;n<OB;n++)if(this.Btt[n]!==t.Btt[n])return!1;return!0},n.Mtt=function(){for(var t=0;t<OB;t++)if(null!==this.Btt[t])return!1;return!0},n.Utt=function(t){this.Ott!==t&&(this.Ott=t),this.Ott<0?this.Ott=0:this.Ott>OB&&(this.Ott=OB-1)},n.Xtt=function(t){var n=this.Ott+t;this.Utt(n)},n.Htt=function(){this.Xtt(-1),this.Btt[this.Ott]=null},n.mtt=function(t){t>=144&&this.Htt();var n,i=TU[n=t]?String.fromCharCode(TU[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Ott>=OB||(32===Number(t)?(this.Btt[this.Ott]=this.xtt?"</i>":"<i>",this.xtt=!this.xtt):this.Btt[this.Ott]=t,this.Xtt(1))},n.Ftt=function(t){for(var n=t;n<OB;n++)this.Btt[n]=null},n.Nu=function(){this.Ftt(0),this.Ott=0},n.ztt=function(){this.Ftt(this.Ott)},n.Vtt=function(t,n){for(var i=this.Btt,e=null,r=0;r<OB;r++){var s=i[r];null===s?e=null:(e||(e={Wtt:r,Gtt:t,Tk:0,sT:1,Btt:[[]]},n.push(e)),e.Btt[0].push(s),e.Tk++)}},n.zp=function(t,n){return t.btt(this.Btt,n)},t}();var EU,IU=function(){function t(t,n){this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.Ktt=void 0,this.Jtt=void 0,this.$tt=void 0,this.tnt=void 0,this.qtt=new Array(RU+1);for(var i=0;i<=RU;i++)this.qtt[i]=new SU;this.Ytt=1,this.jtt=0,this.Qtt=t,this.Ztt=n,this.Ktt=!1,this.Jtt=!1,this.$tt=AU,this.tnt=bU,this.k_()}var n=t.prototype;return n.nnt=function(t,n){var i="CC"+(this.Qtt<<1|this.Ztt+1);if(t>=n)return null;var e=(new mU).ptt(this.qtt.slice(1));return 0===e.length?null:{zy:new wU(t,n,e),Dl:i,int:this.Qtt<<1|this.Ztt+1}},n.k_=function(){this.ent(),this.Ytt=1},n.rnt=function(){return this.Ytt},n.snt=function(t){this.Ytt=t},n.Utt=function(t){this.qtt[this.Ytt].Utt(t)},n.Xtt=function(t){this.qtt[this.Ytt].Xtt(t)},n.unt=function(){return this.jtt},n.ont=function(t){this.jtt=t},n.mtt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case EU.ant:i=void 0!==NU[n]?NU[n]:String.fromCharCode(n);break;case EU.hnt:i=CU[n];break;case EU.cnt:this.fnt(),i=PU[n];break;case EU.vnt:this.fnt(),i=BU[n]}i&&this.qtt[this.Ytt].addParsedChar(i)}},n.fnt=function(){this.qtt[this.Ytt].Htt()},n.lnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.qtt[t+e]=this.qtt[n+e];else for(var r=0;r<i;r++)this.qtt[t+r]=this.qtt[n+r]},n.dnt=function(t,n){for(var i=0;i<=n;i++)this.qtt[t+i]=new SU},n.ent=function(){this.dnt(0,RU)},n.wnt=function(){this.Ytt=this.jtt>0?this.jtt:0,this.ent()},n._nt=function(t){this.Ktt=t},n.gnt=function(t){this.Jtt=t},n.mnt=function(t){this.$tt=t},n.ynt=function(t){this.tnt=t},t}(),RU=15;!function(t){t[t.ant=0]="ant",t[t.hnt=1]="hnt",t[t.cnt=2]="cnt",t[t.vnt=3]="vnt"}(EU||(EU={}));var DU,NU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},CU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},PU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},BU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},OU=function(){function t(t,n){this.Vi=void 0,this.knt=void 0,this.pnt=void 0,this.bnt=void 0,this.Ant=void 0,this.Tnt=void 0,this.Snt=void 0,this.Ent=void 0,this.Vi=DU.wN,this.knt=new IU(t,n),this.pnt=new IU(t,n),this.bnt=new IU(t,n),this.Ant=this.pnt,this.Tnt=0,this.Snt=void 0,this.Ent=!1}var n=t.prototype;return n.k_=function(){this.Ent=!0,this.Tnt=0,this.Vi=DU.wN,this.Ant=this.pnt,this.Snt=void 0,this.pnt.k_(),this.bnt.k_(),this.knt.k_()},n.Int=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Rnt=function(t,n){var i=this.Int(t,n),e=(30&n)>>1,r=AU,s=!1;e<7?r=UU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==DU.$n){var o=this.Ant;if(this.Vi===DU.Dnt&&i!==o.rnt()){var a=1+o.rnt()-o.unt(),h=1+i-o.unt();o.lnt(h,a,o.unt()),o.dnt(0,h-1),o.dnt(i+1,RU-i)}o.snt(i);var c=PB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{tZ:CB[i].tZ,$Q:CB[i].$Q,nZ:CB[i].nZ,dZ:t}}(c,n);o.Utt(f.nZ),this.Ant._nt(u),this.Ant.gnt(s),this.Ant.mnt(r),this.Ant.ynt(bU)}}},n.Nnt=function(t,n){this.Ant._nt(!1),this.Ant.gnt(!1),this.Ant.mnt(AU);var i=this.Cnt(t,EU.ant," ".charCodeAt(0)),e=AU,r=!1,s=1==(1&n);return"white_italics"===(e=UU[(14&n)>>1])&&(e="white",r=!0),this.Ant._nt(s),this.Ant.gnt(r),this.Ant.mnt(e),i},n.Cnt=function(t,n,i){if(this.Ant.mtt(n,i),this.Vi===DU.Pnt||this.Vi===DU.Dnt){var e=this.Bnt(this.Ant,this.Tnt,t);return this.Tnt=t,e}return null},n.Bnt=function(t,n,i){return this.Ent?null:t.nnt(n,i)},n.Ont=function(t,n){var i=bU;0==(7&t)&&(i=MU[(14&n)>>1]),this.Ant.ynt(i)},n.xnt=function(t){var n=xU,i=t.Lnt,e=t.Mnt,r=null;switch(i){case n.RCL:this.Unt();break;case n.BS:this.Xnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Hnt(2,e);break;case n.RU3:r=this.Hnt(3,e);break;case n.RU4:r=this.Hnt(4,e);break;case n.FON:r=this.Fnt(e);break;case n.RDC:this.znt(e);break;case n.TR:this.Vnt();break;case n.RTD:this.Wnt();break;case n.EDM:r=this.Gnt(e);break;case n.CR:r=this.qnt(e);break;case n.ENM:this.Ynt();break;case n.EOC:r=this.jnt(e)}return r},n.qnt=function(t){var n=this.Ant;if(this.Vi!==DU.Dnt)return null;var i=this.Bnt(n,this.Tnt,t),e=n.rnt()-n.unt()+1;return n.lnt(e-1,e,n.unt()),n.dnt(0,e-1),n.dnt(n.rnt(),RU-n.rnt()),this.Tnt=t,i},n.Hnt=function(t,n){this.Ant=this.pnt;var i=this.Ant,e=null;return this.Vi!==DU.Dnt&&this.Vi!==DU.$n&&(e=this.Bnt(i,this.Tnt,n),this.pnt.wnt(),this.bnt.wnt(),this.Ent=!1,i.snt(RU)),this.Vi=DU.Dnt,i.ont(t),e},n.Fnt=function(t){return this.Cnt(t,EU.ant," ".charCodeAt(0))},n.Gnt=function(t){var n=this.pnt,i=null;return this.Vi!==DU.$n&&(i=this.Bnt(n,this.Tnt,t)),n.ent(),this.Ent=!1,i},n.znt=function(t){this.Vi=DU.Pnt,this.Ant=this.pnt,this.Ant.ont(0),this.Tnt=t},n.Ynt=function(){this.bnt.ent()},n.jnt=function(t){var n=null;this.Vi!==DU.$n&&(n=this.Bnt(this.pnt,this.Tnt,t));var i=this.bnt;return this.bnt=this.pnt,this.pnt=i,this.Unt(),this.Tnt=t,n},n.Unt=function(){this.Vi=DU.Qnt,this.Ant=this.bnt,this.Ant.ont(0)},n.Xnt=function(){this.Ant.fnt()},n.Vnt=function(){this.knt.k_(),this.Ent=!1,this.Wnt()},n.Wnt=function(){this.Ant=this.knt,this.Vi=DU.$n},n.Znt=function(t,n,i){return this.Ant.mtt(EU.ant,n),this.Cnt(t,EU.ant,i)},n.Knt=function(t,n,i){var e=1&n?EU.vnt:EU.cnt;return this.Cnt(t,e,i)},n.Jnt=function(t){var n=t.$nt,i=t.Lnt,e=t.Mnt;if(this.Snt===(n<<8|i))return this.Snt=void 0,null;if(this.Snt=n<<8|i,this.tit(n,i))this.Rnt(n,i);else{if(this.nit(n,i))return this.Nnt(e,i);if(this.iit(n,i))this.Ont(n,i);else{if(this.eit(n,i))return this.Cnt(e,EU.hnt,i);if(this.rit(n,i))return this.Knt(e,n,i);if(this.sit(n,i))return this.xnt(t);this.isTabOffset(n)&&this.Ant.Xtt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.sit=function(t,n){return 20==(246&t)&&32==(240&n)},n.tit=function(t,n){return 16==(240&t)&&64==(192&n)},n.nit=function(t,n){return 17==(247&t)&&32==(240&n)},n.iit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.eit=function(t,n){return 17==(247&t)&&48==(240&n)},n.rit=function(t,n){return 18==(246&t)&&32==(224&n)},t.uit=function(t){return 16==(112&t)},t}(),xU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.wN=0]="wN",t[t.Qnt=1]="Qnt",t[t.Pnt=2]="Pnt",t[t.Dnt=3]="Dnt",t[t.$n=4]="$n"}(DU||(DU={}));var LU,MU=["black","green","blue","cyan","red","yellow","magenta","black"],UU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],XU=function(){function t(t,n,i,e,r){this.oit=void 0,this.Ktt=void 0,this.Jtt=void 0,this.tnt=void 0,this.$tt=void 0,this.oit=t,this.Ktt=n,this.Jtt=i,this.tnt=e,this.$tt=r}var n=t.prototype;return n.Ptt=function(){return this.oit},n.ait=function(){return this.Ktt},n.hit=function(){return this.Jtt},n.cit=function(){return this.tnt},n.fit=function(){return this.$tt},t}(),HU=function(){function t(t){this.vit=void 0,this.pN=void 0,this.dit=void 0,this.wit=void 0,this._it=void 0,this.git=void 0,this.mit=void 0,this.yit=void 0,this.kit=void 0,this.pit=void 0,this.nk=void 0,this.Ytt=void 0,this.Ait=void 0,this.Jtt=void 0,this.Ktt=void 0,this.$tt=void 0,this.tnt=void 0,this.vit=t,this.pN=!1,this.dit=!1,this.wit=0,this._it=0,this.git=0,this.mit=0,this.yit=0,this.kit=LU.Tit,this.pit=[],this.nk=0,this.Ytt=0,this.Ait=0,this.Jtt=!1,this.Ktt=!1,this.$tt=AU,this.tnt=bU,this.Sit()}var n=t.prototype;return n.Eit=function(t,n,i,e,r,s,u){this.pN=t,this._it=n,this.wit=i,this.git=e,this.dit=r,this.mit=s,this.yit=u},n.Sit=function(){this.pit=[];for(var t=0;t<zU;t++)this.pit.push(this.Iit())},n.Iit=function(){for(var t=[],n=0;n<FU;n++)t.push(null);return t},n.Rit=function(t){this.Dit()&&(this.pit[this.Ytt][this.Ait]=new XU(t,this.Ktt,this.Jtt,this.tnt,this.$tt),this.Ait++)},n.Nit=function(){this.Dit()&&(this.Ait<=0&&this.Ytt<=0||(this.Ait<=0?(this.Ait=this.yit-1,this.Ytt--):this.Ait--,this.pit[this.Ytt][this.Ait]=null))},n.Dit=function(){var t=this.Ytt<this.mit&&this.Ytt>=0,n=this.Ait<this.yit&&this.Ait>=0;return t&&n},n.Cit=function(){return this.pN},n.Pit=function(t){for(var n=0,i=t;i<zU;i++,n++)this.pit[n]=this.pit[i];for(var e=0;e<t;e++,n++)this.pit[n]=this.Iit()},n.Bit=function(){if(this.Ytt+1>=this.mit)return this.Pit(1),void(this.Ait=0);this.Ytt++,this.Ait=0},n.Oit=function(){this.pit[this.Ytt]=this.Iit(),this.Ait=0},n.nnt=function(t,n){if(this.nk>=t)return null;var i=pU.Ctt(this.pit,this.nk,t);return i?(this.xit(t),{zy:i,Dl:"svc"+n,int:n}):null},n.Lit=function(t,n){this.Ytt=t,this.Ait=n},n.Mit=function(t){this.tnt=t},n.Uit=function(t){this.$tt=t},n.Xit=function(t){this.Ktt=t},n.Hit=function(t){this.Jtt=t},n.Fit=function(){this.Ytt=0,this.Ait=0,this.Ktt=!1,this.Jtt=!1,this.$tt=AU,this.tnt=bU},n.zit=function(t){this.kit=t},n.Vit=function(){this.pN=!0},n.zm=function(){this.pN=!1},n.Wit=function(){this.pN=!this.pN},n.xit=function(t){this.nk=t},t}();!function(t){t[t.Git=0]="Git",t[t.qit=1]="qit",t[t.Tit=2]="Tit",t[t.Yit=3]="Yit"}(LU||(LU={}));var FU=42,zU=15,VU=function(){function t(t){this.jit=void 0,this.Qit=void 0,this.Zit=void 0,this.jit=t,this.Qit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Zit=void 0}var n=t.prototype;return n.Kit=function(t){var n=t.Jit(),i=n.Ai,e=n.Mnt;i===jU&&(i=i<<16|t.Jit().Ai);return i>=0&&i<=31?this.$it(i,e):i>=128&&i<=159?this.tet(t,i,e):(i>=4096&&i<=4127?this.net(t,255&i):i>=4224&&i<=4255?this.iet(t,255&i):i>=32&&i<=127?this.eet(i):i>=160&&i<=255?this.ret(i):i>=4128&&i<=4223?this.uet(255&i):i>=4256&&i<=4351&&this.oet(255&i),null)},n.eet=function(t){this.Zit&&(127!==t?this.Zit.Rit(String.fromCharCode(t)):this.Zit.Rit("\u266a"))},n.ret=function(t){this.Zit&&this.Zit.Rit(String.fromCharCode(t))},n.uet=function(t){if(this.Zit)if(void 0!==QU[t]){var n=QU[t];this.Zit.Rit(n)}else this.Zit.Rit("_")},n.oet=function(t){this.Zit&&(160===t?this.Zit.Rit("[CC]"):this.Zit.Rit("_"))},n.$it=function(t,n){if(!this.Zit)return null;var i=this.Zit,e=null;switch(t){case WU:i.Nit();break;case qU:i.Cit()&&(e=i.nnt(n,this.jit)),i.Bit();break;case YU:i.Cit()&&(e=i.nnt(n,this.jit)),i.Oit();break;case GU:i.Cit()&&(e=i.nnt(n,this.jit)),i.Sit(),i.Lit(0,0)}return e},n.tet=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.aet(e)}else{if(136===n){var r=t.Jit().Ai;return this.het(r,i)}if(137===n){var s=t.Jit().Ai;this.cet(s,i)}else{if(138===n){var u=t.Jit().Ai;return this.fet(u,i)}if(139===n){var o=t.Jit().Ai;return this.vet(o,i)}if(140===n){var a=t.Jit().Ai;return this.let(a,i)}if(143===n)return this.k_(i);if(144===n)this.det(t);else if(145===n)this.wet(t);else if(146===n)this.Lit(t);else if(151===n)this._et(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Eit(t,h,i)}}}return null},n.net=function(t,n){n>=8&&n<=15?t.cA(1):n>=16&&n<=23?t.cA(2):n>=24&&n<=31&&t.cA(3)},n.iet=function(t,n){n>=128&&n<=135?t.cA(4):n>=136&&n<=143&&t.cA(5)},n.aet=function(t){this.Qit[t]&&(this.Zit=this.Qit[t])},n.met=Dr.mark(function t(n){var i;return Dr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Qit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.het=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),u.Sit()}return i},n.cet=function(t,n){for(var i=0,e=this.met(t);i<e.length;i++){var r=e[i],s=this.Qit[r];s.Cit()||s.xit(n),s.Vit()}},n.fet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),u.zm()}return i},n.vet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()?i=u.nnt(n,this.jit):u.xit(n),u.Wit()}return i},n.let=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),this.Qit[s]=void 0}return i},n.k_=function(t){var n=this.let(255,t);return this.Nu(),n},n.Nu=function(){this.Zit=void 0,this.Qit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.det=function(t){t.cA(1);var n=t.Jit().Ai;if(this.Zit){var i=(128&n)>0,e=(64&n)>0;this.Zit.Hit(i),this.Zit.Xit(e)}},n.wet=function(t){var n=t.Jit().Ai,i=t.Jit().Ai;if(t.cA(1),this.Zit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.yet(s,r,e),c=this.yet(a,o,u);this.Zit.Uit(h),this.Zit.Mit(c)}},n.Lit=function(t){var n=t.Jit().Ai,i=t.Jit().Ai;if(this.Zit){var e=15&n,r=63&i;this.Zit.Lit(e,r)}},n._et=function(t){t.cA(1),t.cA(1);var n=t.Jit().Ai;if(t.cA(1),this.Zit){var i=3&n;this.Zit.zit(i)}},n.Eit=function(t,n,i){var e=void 0!==this.Qit[n];if(!e){var r=new HU(n);r.xit(i),this.Qit[n]=r}var s=t.Jit().Ai,u=t.Jit().Ai,o=t.Jit().Ai,a=t.Jit().Ai,h=t.Jit().Ai,c=t.Jit().Ai,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&h);e&&0===(7&c)||this.Qit[n].Fit(),this.Qit[n].Eit(f,v,d,_,l,w,g),this.Zit=this.Qit[n]},n.yet=function(t,n,i){var e={0:0,1:0,2:1,3:1};return ZU[e[t]<<2|e[n]<<1|e[i]]},t}(),WU=8,GU=12,qU=13,YU=14,jU=16,QU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},ZU=["black","blue","green","cyan","red","magenta","yellow","white"],KU=function(){function t(){this.ket=void 0,this.pet=void 0,this.bet=void 0,this.ket=[],this.pet=null,this.bet=0}var n=t.prototype;return n.Aet=function(t){if(t.fs===OM.d7){var n=63&t.Ai;return this.bet=2*n-1,void(this.pet=[])}if(this.pet&&(this.bet>0&&(this.pet.push(t),this.bet--),0===this.bet)){var i=new JU(this.pet);this.ket.push(i),this.pet=null,this.bet=0}},n.Tet=function(){return this.ket},n.Eet=function(){this.ket=[]},n.Nu=function(){this.ket=[],this.pet=[],this.bet=0},t}(),JU=function(){function t(t){this.Iet=void 0,this.Ret=void 0,this.Iet=0,this.Ret=t}var i=t.prototype;return i.Det=function(){return this.Iet<this.Ret.length},i.Net=function(){return this.Iet},i.Jit=function(){if(!this.Det())throw new nf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Ret[this.Iet++]},i.cA=function(t){if(this.Iet+t>this.Ret.length)throw new nf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Iet+=t},t}(),$U=function(){function t(){this.Cet=void 0,this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.xet=void 0,this.Let=void 0,this.Met=void 0,this.Uet=void 0,this.Xet=!1,this.Cet=[],this.Pet=[],this.Bet=new KU,this.Oet=0,this.xet=Or({CC1:new OU(0,0),CC2:new OU(0,1),CC3:new OU(1,0),CC4:new OU(1,1)}),this.Let=0,this.Met=0,this.Uet=Br(),this.k_()}var i=t.prototype;return i.Nu=function(){this.Oet=0,this.Cet=[],this.Pet=[],this.Bet.Nu(),this.k_(),this.Uet.forEach(function(t){t.Nu()})},i.k_=function(){this.Let=0,this.Met=0,this.xet.forEach(function(t){t.k_()})},i.C5=function(t,n){if(t.I7){var i=t.R7,e=t.D7,r=t.fs;r===OM.f7||r===OM.v7?this.Cet.push({Mnt:n,fs:r,$nt:i,Lnt:e,Het:this.Cet.length}):this.Xet&&(this.Pet.push({Mnt:n,fs:r,Ai:i,Het:this.Pet.length}),this.Pet.push({Mnt:n,fs:OM.l7,Ai:e,Het:this.Pet.length}))}},i.JP=function(){var t=[];Is(this.Cet,function(t,n){return t.Mnt-n.Mnt||t.Het-n.Het}),Is(this.Pet,function(t,n){return t.Mnt-n.Mnt||t.Het-n.Het});for(var n=0,i=this.Cet;n<i.length;n++){var e=i[n],r=this.Fet(e);r&&t.push(r)}for(var s=0,u=this.Pet;s<u.length;s++){var o=u[s];this.Bet.Aet(o)}for(var a=this.Bet.Tet(),h=0;h<a.length;h++){var c=a[h],f=this.zet(c);t.push.apply(t,f)}return this.Bet.Eet(),this.Cet=[],this.Pet=[],t},i.Fet=function(t){var n=t.fs;if(OU.uit(t.$nt)){var i=t.$nt>>3&1;0===n?this.Let=i:this.Met=i}var e="CC"+(n<<1|(n?this.Met:this.Let)+1),r=this.xet.get(e);return 255===t.$nt&&255===t.Lnt||!t.$nt&&!t.Lnt||!this.Vet(t.$nt)||!this.Vet(t.Lnt)?(++this.Oet>=45&&this.k_(),null):(this.Oet=0,t.$nt&=127,t.Lnt&=127,t.$nt||t.Lnt?OU.uit(t.$nt)?r.Jnt(t):r.Znt(t.Mnt,t.$nt,t.Lnt):null)},i.zet=function(t){var i=[];try{for(;t.Det();){var e=t.Jit().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Jit().Ai;if(0!==r){if(!this.Uet.has(r)){var u=new VU(r);this.Uet.set(r,u)}for(var o=this.Uet.get(r),a=t.Net();t.Net()-a<s;){var h=o.Kit(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof nf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Vet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),tX=function(t){function n(n,i){var e;return(e=t.call(this,"Wet")||this).int=n,e.zy=i,e}return S(n,t),n}(gu),nX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Get=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.qet(e,e.iZ.Ek()+n)}this.JP()},n}(function(t){function n(){var n;return(n=t.call(this)||this).Yet=void 0,n.Yet=new $U,n}S(n,t);var i=n.prototype;return i.qet=function(t,n){this.Yet.C5(t,n)},i.JP=function(){for(var t=this.Yet.JP(),n=0;n<t.length;n++){var i=t[n];this.Qs(new tX(i.int,i.zy))}},i.k_=function(){this.Yet.Nu()},i.Sd=function(){this.$s(),this.Yet.Nu()},n}(wu)),iX=function(t){function n(n){var i;return(i=t.call(this)||this).jet=void 0,i.Qet=void 0,i.Zet=NaN,i.Ket=NaN,i.Jet=void 0,i.vE=void 0,i.$et=function(t){i.trt({nrt:t.int,irt:""}).mE(t.zy)},i.vE=n,i.Jet=Br(),i.jet=new nX,i.jet.Zs("Wet",i.$et),i}S(n,t);var i=n.prototype;return i.ert=function(t){return this.Jet.get(t)},i.trt=function(t){var n=this.Jet.get(t.nrt);return n||(n=this.rrt(t),this.Jet.set(t.nrt,n)),n},i.rrt=function(t){var n,i=function(t){if(t!==YM)for(var n=t.toLowerCase(),i=0;i<QM.length;i++){var e=QM[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.irt),e=i?i.wi:"";t.urt&&(e="easy "+e),n=t.x_?"CC "+t.x_:e?"CC "+e:"CC"+t.nrt;var r=this.vE._E(Sp.$S,n,n,e,!1,wy.CEA608);return this.g_(r),r},i.W9=function(t){var n=tp.RA(Lo(t));this.Qet=function(t){for(var n=0;n<t.VA.length;n++){var i=t.VA[n],e={iT:(h=t.VA[n]).pA.iT,ett:h.JA.pA.yp},r=i.JA.cT.lT.wT.gT,s=xs(r,function(t){return t.fs===sk.pb});if(!s){var u=xs(r.filter(function(t){return t.fs===sk.Bb}),function(t){var n;return(null==(n=t.ZT)?void 0:n.fs)===sk.pb});u&&(s=u.ZT)}if(s){var o=KD(Lo(s.VT.Fi),new Vo),a=s.GT;return Nr({},e,{iT:i.pA.iT,VT:zo(s.VT.Fi),Tk:s.Tk,sT:s.sT,iS:a&&a.iS,nS:a&&a.nS,ort:o.CF,art:o.PF,V9:o.BF,xF:o.xF[0],LF:o.LF[0]})}}var h}(n.filter(dU)[0])},i.w6=function(t,n,i,e){if(this.Qet&&(m(this.Zet)||!Ut(this.Zet,n,1e-5))){m(this.Ket)||Ut(n,this.Ket,1e-5)||this.jet.k_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.QS.ltt&&n.push.apply(n,e.QS.ltt),delete e.QS.ltt}for(var r=0;r<n.length;r+=1)n[r].fS=r;return n.sort(BB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(cU),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=xs(c.VA,function(t){return t.pA.iT===i.iT});if(f)for(var v=f.pA.sS||0,l=f.pA.uS||0,d=f._S?f._S._S:ft.ZERO,w=c.cS+(null!=(h=f.pA.gS)?h:ft.ZERO).toNumber(),_=0,g=f.wS;_<g.length;_++)for(var m=g[_],y=w+(m.cS||0),k=0,p=m.bS;k<p.length;k++){var b=p[k],A=b.Cu||l,T=new HM;T.m7(t,y,y+A);var S=$y.Vk(d,i.ett);T.QS=r(b,c,i,S,Ho(t,y,y+A)),s.push(T),y+=A,d=d.add(b.Hg||v||o)}}return s}(t,tp.RA(Lo(t)),this.Qet,hU,lU));this.jet.Get(r,e),this.Zet=n,this.Ket=i}},i.k_=function(){var n=this;return this.jet.k_(),this.Jet.forEach(function(t){return n.m_(t)}),this.Jet.clear(),this.Qet=void 0,this.Zet=NaN,this.Ket=NaN,t.prototype.k_.call(this)},i.Sd=function(){return this.jet.tu("Wet",this.$et),this.jet.Sd(),t.prototype.Sd.call(this)},n}(Gp);function eX(t){if(t.fs===sO.IJ&&void 0!==t.ZJ){var n=t.ZJ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.ZJ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var rX=function(){function t(t){this.U4=void 0,this.hrt=!1,this.U4=t}var n=t.prototype;return n.crt=function(t,n){return this.hrt?this.U4.crt(t,n):We.resolve(!1)},n.Z6=function(t,n){return this.hrt?this.U4.Z6(t,n):We.resolve(void 0)},n.Z4=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.U4.Z4(t));case 2:return n=i.sent,this.hrt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,We)},n.HM=function(t){return this.U4.HM(t)},t}(),sX="LLHLSPlayer",uX=[hm.Og,hm.xg,hm.Lg,hm.u_],oX=[bf.pf,bf.Df,bf.Cf,bf.lf],aX=50,hX=3e4,cX=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).KR=void 0,h.lE=void 0,h.uD=void 0,h.rD=void 0,h.frt=void 0,h.vrt=void 0,h.lrt=void 0,h.drt=void 0,h.U4=void 0,h.mm=void 0,h.ym=void 0,h.pm=void 0,h.wrt=Br(),h._rt=void 0,h.grt=void 0,h.eD=void 0,h.H9=void 0,h.F9=void 0,h.mrt=!1,h.dE=new Js,h.yrt=void 0,h.s6=void 0,h.JR=void 0,h.P5=void 0,h.krt=void 0,h.prt=new Js,h.brt=void 0,h.r6=void 0,h.Art=void 0,h.Trt=void 0,h.Srt=void 0,h.Ert=void 0,h.Irt=void 0,h.Rrt=[],h.rW=void 0,h.sW=void 0,h.Drt=void 0,h.Nrt=void 0,h.Crt=void 0,h.h9=void 0,h.Prt=new Js,h.Brt=void 0,h.nY=new Js,h.tY=void 0,h.Ort=-1,h.xrt=void 0,h.Lrt=void 0,h.Mrt=void 0,h.Urt=void 0,h.Xrt=void 0,h.Hrt=void 0,h.Frt=!0,h.zrt=0,h.Vrt=!1,h.yC=1,h.nD=ZT.wN,h.$R=void 0,h.tD=void 0,h.uW=rS.fC(),h.Wrt=[],h.Grt=void 0,h.qrt=!1,h.Yrt=void 0,h.jrt=void 0,h.Qrt=!1,h.Zrt=!1,h.Krt=void 0,h.Jrt=void 0,h.oD=new FT,h.$rt=0,h.handleContentProtectionErrorEvent=function(t){h.$R=Jm(t.errorObject),h.tD=t.errorObject,h.js(t)},h.handleBufferingErrorEvent=function(t){h.hD(new nf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.tst=function(){h.nst();var t=h.Hg;t!==h.Yrt&&(h.Yrt=t,h.Qs(new _m(h.Yrt)))},h.ist=function(){h.Fg&&h.Qs(new ym(h.Xg))},h.rst=function(){h.Qs(new fm(h.Xg))},h.sst=function(){h.Qs(new vm(h.Xg))},h.vD=function(){void 0!==h.Jrt&&i.jn(h.Jrt),h.Qs(new fb(h.Xg))},h.ust=function(){h.Qs(new kD(h.Xg))},h.IE=function(){h.Qs(new Em(h.Xg,h.Y_))},h.FG=function(){var t=h.p$;Vs(h.Wrt,t)||(h.Qs(new LL),h.Wrt=t),h.Qs(new mm(h.Xg,h.Jm))},h.ost=function(t){h.$rt+=t.L5,"l8"===t.O5&&t.pd===$m.wd&&hu(h.F0())},h.cW=function(){h.Qs(new pm(h.Xg))},h.fD=function(){h.Qs(new bm(h.Xg))},h.ast=function(){h.Qs(new Am(h.Xg,h.Qg))},h.hst=function(){h.KR.qg?h.Qs(new cb(h.Xg)):(h.Jrt=i.Qn(function(){h.Zrt&&(h.Krt=void 0,hu(h.cst()))},NM),h.Qs(new cb(h.Xg)))},h.fst=function(){h.Zrt=!0,h.Qs(new Tm(h.Xg,h.Y_))},h.vst=function(t){tu(t)||Cp(t)||Pp(t)||(h.lst(),hu(h.dst()),h.Qs(new ex(t)))},h.a6=function(){h.nst()},h.wst=function(t){hu(h._st(t._$))},h.gst=$(function(t){var n=[h.P5,h.Brt,h.tY].filter(H);h.nY=new Js,h.tY=h.aj(n,t,h.nY.Ws).catch(h.vst)},aX),h.mst=function(t){if(!tu(t)){var i=t instanceof nf?t:new nf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.hD(i)}},h.onTextTrackChange=function(t){if(h.Art){var n=t.Yw,i=xs(h.Art.m2,function(t){return n===h.wrt.get(t.B_)});i&&(n.W_===Eg.H_||n.W_===Eg.F_?(hu(h.yst(i)),h.wrt.forEach(function(t){t!==n&&(t.W_=Eg.X_)})):h.Ert&&h.Ert===i&&hu(h.kst(h.Trt,h.Srt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.pst===t||h.T$===t||h.E$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Dr.awrap(h.r6.q4(t,n));case 4:t.GJ.W3=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},h.bst=function(){h.Ast()},h.Tst=function(){h.Sst()},h.Est=function(t){if(t._$.KJ){var n=h.r6.F$.I4(t._$);if(n&&!n.XF){h.r6.n6(n,t.XF),h._rt.G$();var i=h.Art;if(i){var e=void 0!==h.Trt&&!Hs(i.V$,h.Trt),r=void 0!==h.Srt&&!Hs(i.W$,h.Srt);(e||r)&&h.kst(e?void 0:h.Trt,r?void 0:h.Srt,h.Ert).catch(K)}}}},h.Ist=function(t){h.r6.J4(t._$)},h.TC=s,h.z6=u,h.Rst=o,h.U4=new rX(a),h.KR=e,h.lE=new GO(r,h.TC),h.uD=new ix(h.TC.Jx),h.lrt=new rx(h.KR),h.drt=new vx(h.TC),h.mm=new ty,h.ym=new ty,h._rt=new WO(Kt(h),h.mm,h.ym),h.grt=new Ep,h.eD=new Yp(h.KR,h.lE),h.H9=new xM(h.KR),h.F9=new iX(h.KR),h.pm=new UT([h.grt,h.eD.VA,h.H9.VA,h.F9.VA]),h.rD=new LT(h.lE),h.KR.ED=h.rD,h.frt=new vX(Kt(h),h.KR),h.vrt=new lb(h.frt,!0),h.Dst(),h}S(e,t);var r=e.prototype;return r.Nst=function(t){return Gs(t,function(t){return t.NR})},r.cst=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.Cst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Dr.awrap(this.Pst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Nst(t))){e.next=14;break}return e.next=13,Dr.awrap(this.A$(i,!0));case 13:this.uD.O0(i.NR);case 14:case"end":return e.stop()}},null,this,null,We)},r.nst=function(){var t=function(t){for(var n=new rS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.GJ.py;s.b_>0&&(n=n.FN(s),i=w.max(i,s.RN(0)))}if(n.b_>0)return n;return rS.cC(i)}([this.Trt,this.Srt].filter(H));0!==t.b_&&(this.JR&&this.JR.XX&&this.Bst&&(t=new rS([t.RN(0),this.JR.Hg])),this.uW=t,this.H9.fE(t.RN(0)),this.F9.fE(t.RN(0)))},r.xm=function(){return!1},r.Wm=function(){return oS},r.zm=function(){zO.cT(sX,"Hiding the player."),this.KR.zm()},r.Cm=function(){zO.cT(sX,"Pausing the player."),this.KR.Cm()},r.Nm=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.KR.Nm(),this.mrt){n.next=4;break}return n.next=4,Dr.awrap(this.jh());case 4:return n.next=6,Dr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.Ost=function(){this.$R=void 0,this.tD=void 0},r.hD=function(t){this.$R||(hu(this.k_()),this.$R=Jm(t),this.tD=t,this.Qs(new Im(t)))},r.Fm=function(){zO.cT(sX,"Showing the player."),this.KR.Fm()},r.Lm=function(){throw new v("Not implemented")},r.Mm=function(){throw new v("Not implemented")},r.Zm=function(){},r.Om=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(zO.cT(sX,"Setting the player source to "+t.src+"."),this.Ost(),!this.yrt||em(this.yrt)){r.next=6;break}return r.next=5,Dr.awrap(this.k_());case 5:nu(e);case 6:if(t.src&&!em(t)){r.next=8;break}return r.abrupt("return");case 8:this.rD.xR(t.contentProtection),this.s6=t,this.Zs(rO.SJ,this.handleBufferingErrorEvent),this.r6=new NL(this.lE,this.U4,i.Or(t.src)),this.r6.Zs(IL.D4,this.a6),this.r6.Zs(IL.N4,this.wst),this.brt=new xL(t,this.r6,this.KR),this.pm.WR(this.brt.Rm),this.h9=this.Rst.bK(),n.textTracks&&this.OD(n.textTracks),Jp(this.pm),this.xst();case 20:case"end":return r.stop()}},null,this,null,We)},r.jh=function(){return this.P5?this.P5:(this.P5=this.Aw(this.dE.Ws).catch(this.mst),this.P5)},r.Aw=function(t){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(zO.cT(sX,"Loading the player."),this.r6.i6){c.next=13;break}return c.prev=2,c.next=5,Dr.awrap(this.r6.X4(t));case 5:this.Lst(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),iu(c.t0),this._y=!1,new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.Irt=this.r6.F$.z$,this.Irt.length){c.next=16;break}throw new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Dr.awrap(this.Mst(this.Irt));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Dr.awrap(this.Pst(e));case 23:(r=c.sent).length>0&&(e=r),zO.cT(sX,"Selecting initial active variant stream."),s=dX(e,null==(i=this.s6)?void 0:i.abr,this.TC),(u=_X(s.V$))&&zO.cT(sX,"Detected initial audio rendition."),(o=_X(s.W$))&&zO.cT(sX,"Detected initial video rendition."),(a=lX(s.m2))&&zO.cT(sX,"Detected initial subtitle rendition."),a||(h=lX(s.b2))&&zO.cT(sX,"Detected initial closed caption rendition."),this.Ust(s),this._rt.H$(),this.Xst(s,h),this.kst(u,o,a).catch(K),this.mrt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],We)},r.Lst=function(){this.Qrt||(this.Qrt=!0,this.frt.Hst())},r.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.eD.wE(i)}},r.Xst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=eX(e);void 0!==r&&n.push({nrt:r,irt:e.L_||"",x_:e.wi})}return n}(t.b2),e=0;e<i.length;e++){var r=i[e];this.F9.trt(r)}if(void 0!==n){var s=eX(n);this.F9.ert(s).W_=Eg.F_}},r.xst=function(){this.prt.Fs(),this.prt=new Js,this.krt=this.Fst(this.krt,this.prt.Ws).catch(this.mst)},r.Fst=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.nD,!t){e.next=5;break}return e.next=4,Dr.awrap(t);case 4:nu(n);case 5:if(i!==ZT.wN&&this.r6){e.next=7;break}return e.abrupt("return");case 7:if(nu(n),this.r6.i6){e.next=19;break}return e.prev=9,e.next=12,Dr.awrap(this.r6.X4(n));case 12:this.Lst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),iu(e.t0),e.abrupt("return");case 19:if(i!==ZT.Kb){e.next=21;break}return e.abrupt("return");case 21:nu(n),this.jh().catch(this.mst);case 23:case"end":return e.stop()}},null,this,[[9,15]],We)},r.b$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.zst(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Irt=t},r.zst=function(t){var n=this.F$;return!!n&&Hs(n.z$,t)},r.Vst=function(t){if(this.Art)return xs(this.Art.Y$,function(n){return n===t})},r.Ust=function(t){if(zO.cT(sX,"Setting active variant stream."),this.Art!==t){var n;if((null==(n=this.Art)?void 0:n.a1)!==(null==t?void 0:t.a1)){if(this.Art)for(var i=0,e=this.Art.m2;i<e.length;i++){var r=e[i];this.yE(r)}if(t)for(var s=0,u=t.m2;s<u.length;s++){var o=u[s];this.Wst(o)}}this.Art=t,this.Qs(new lM)}},r.Wst=function(t){var n=this.KR._E(Sp.Qb,void 0,t.wi,t.L_,t.qJ);this.grt.g_(n),this.wrt.set(t.B_,n),n.Zs(Z_.r_,this.onTextTrackChange)},r.yE=function(t){var n=this.wrt.get(t.B_);n&&(n.tu(Z_.r_,this.onTextTrackChange),this.grt.m_(n),this.wrt.delete(t.B_),this.KR.yE(n))},r.Cst=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Irt)?t:this.F$.z$).length||this.Irt){r.next=4;break}return zO.cT(sX,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Irt){r.next=7;break}return zO.cT(sX,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Dr.awrap(this.Mst(n));case 9:if((i=r.sent).length){r.next=13;break}return zO.L$(sX,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=gX(i)).length){r.next=22;break}if(!this.Vrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return zO.L$(sX,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.zrt++,r.next=21,Dr.awrap(this.Gst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r.F0=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.Cst());case 2:if(void 0!==(t=u.sent)){u.next=5;break}return u.abrupt("return");case 5:return o=this.KR,a=void 0,h=void 0,a=o.Xg,h=o.Km.uC(a),n=h?h.NN(0)-a:0,u.next=8,Dr.awrap(this.Pst(t));case 8:return i=u.sent,e={Tk:this.KR.Tk,sT:this.KR.sT,M0:n},u.next=12,Dr.awrap(this.drt.F0(t,this.Art,i,e));case 12:if(r=u.sent,s=!!this.Art&&r.NR<this.Art.NR,!(!!s||this.qst(r,t,n))){u.next=18;break}return u.next=18,Dr.awrap(this.A$(r,s));case 18:case"end":return u.stop()}var o,a,h},null,this,null,We)},r.qst=function(t,n,e){var r,s;if(t===this.m$)return!1;if(t===this.Nst(n))return!0;(!this.Krt||this.Krt.y$.NR>t.NR)&&(this.Krt={y$:t,rtt:i.ir()});var u=i.ir()-this.Krt.rtt,o=null!=(r=null==(s=this.E$)?void 0:s.GJ.L0)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.Gst=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Vrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Srt?xs(e.W$,function(t){return kO(t,u.Srt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Dr.awrap(this.q4(r));case 11:r.GJ.W3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.zrt=0,o.next=24,Dr.awrap(this.Yst());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.zrt),hX),o.next=29,Dr.awrap(fu(s));case 29:return this.Vrt=!1,o.next=32,Dr.awrap(this.F0());case 32:case"end":return o.stop()}},null,this,[[5,15]],We)},r.Mst=function(t){var n,i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(js(t,function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.XF){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.XF.UF,n.t1){n.next=7;break}return n.next=6,Dr.awrap(i.lrt.UX('audio/mp4; codecs="'+t.XF.UF+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.XF.MF,n.t2){n.next=14;break}return n.next=13,Dr.awrap(i.lrt.UX('video/mp4; codecs="'+t.XF.MF+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.XF)?void 0:n.MF})&&(n=n.filter(function(t){return!t.XF||t.XF.MF})),n.some(function(t){var n;return null==(n=t.XF)?void 0:n.UF})&&(n=n.filter(function(t){return!t.XF||t.XF.UF})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.Pst=function(t){var n=this;return js(t,function(t){var i,e,r,s,u=[_X(t.V$),_X(t.W$),lX(t.m2),lX(t.b2)].filter(H);return i=u,e=function(t){return n.jst(t)},Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Dr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.jst=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.GJ.iJ.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.GJ.iJ[0]).JJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.JJ,e=i.RJ?aO(i.RJ.RN,i.RJ.b_):void 0,r.prev=7,r.next=10,Dr.awrap(this.U4.crt(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.A$=function(t,n){var i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.mrt){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.zst(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Art){u.next=9;break}return zO.cT(sX,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Trt?xs(t.V$,function(t){return kO(t,s.Trt)}):void 0,e=this.Srt?xs(t.W$,function(t){return kO(t,s.Srt)}):void 0,r=this.Ert?xs(t.m2,function(t){return kO(t,s.Ert)}):void 0,this.Ust(t),this.Krt=void 0,u.next=16,Dr.awrap(this.kst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.S$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Vst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return zO.cT(sX,"Switching audio rendition"),i.next=12,Dr.awrap(this.kst(n,this.Srt,this.Ert,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.I$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Vst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return zO.cT(sX,"Switching video rendition"),i.next=12,Dr.awrap(this.kst(this.Trt,n,this.Ert,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r.yst=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Vst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return zO.cT(sX,"Switching subtitle rendition"),i.next=12,Dr.awrap(this.kst(this.Trt,this.Srt,n));case 12:case"end":return i.stop()}},null,this,null,We)},r._st=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Vrt){i.next=2;break}return i.abrupt("return");case 2:if(t.fs===sO.wd){i.next=7;break}return i.next=5,Dr.awrap(this.Qst(t,n));case 5:i.next=17;break;case 7:if(!(this.Irt&&this.Irt.length<=1)){i.next=15;break}if(this.Srt===t){i.next=11;break}return i.next=11,Dr.awrap(this.kst(this.Trt,t,this.Ert));case 11:return i.next=13,Dr.awrap(this.Qst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Dr.awrap(this.F0());case 17:case"end":return i.stop()}},null,this,null,We)},r.q4=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.r6.q4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),iu(i.t0),!Cp(i.t0)&&!Pp(i.t0)){i.next=11;break}return i.next=11,Dr.awrap(this._st(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r.Qst=function(t,n){var i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hs(this.Rrt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Rrt.push(t),e.prev=3,e.next=6,Dr.awrap(EL(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,hX));case 6:if(e.prev=6,Us(this.Rrt,t),t.GJ.W3!==-1/0){e.next=11;break}return e.next=11,Dr.awrap(this.Yst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],We)},r.kst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Trt===t&&this.Srt===n&&this.Ert===i?We.resolve():void 0===t&&void 0===n?We.reject(new v("Trying to buffer no media renditions.")):(this.Trt=t,this.Srt=n,this.Ert=i,this.nst(),this.Qs(new dM),this.nY.Fs(),this.nY=new Js,this.Prt.Fs(),this.Prt=new Js,this.Brt=this.Zst([this.Brt,this.tY].filter(H),t,n,i,e,r,s,this.Prt.Ws).catch(this.vst),this.Brt)},r.Zst=function(t,n,i,e,r,s,u,o){var a,h,c,f,v,l,d,w=this;return Dr.async(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return this.lst(),_.next=5,Dr.awrap(this.dst());case 5:return h=[],s&&this.JR&&this.JR.tW&&h.push(this.JR.tW.Qh(0,1/0)),u&&this.JR&&this.JR.nW&&h.push(this.JR.nW.Qh(0,1/0)),_.next=10,Dr.awrap(We.all(h));case 10:return nu(o),_.next=13,Dr.awrap(this.Kst(n,i,o));case 13:return this.Jst(n,i,r),this.$st(e,r),nu(o),c=n&&i&&bO(n,i),f=[i,c?void 0:n,e].filter(H),_.prev=18,_.next=21,Dr.awrap(We.all(f.filter(function(t){return!t.GJ.z3}).map(function(t){var n;return null==(n=w.r6)?void 0:n.Y4(t,o)})));case 21:_.next=26;break;case 23:_.prev=23,_.t0=_.catch(18),iu(_.t0);case 26:nu(o),this.wW(),this.nst(),void 0!==this.Grt?this.gst(this.Grt):!this.qrt&&null!=(a=this.m$)&&a.GJ.RN?(l=null==(v=this.m$)?void 0:v.GJ.RN.O1,d=l,l<0&&(d+=this.m$.GJ.X3.NN(this.m$.GJ.X3.b_-1)),this.gst(d)):!this.qrt&&f.every(function(t){return!t.GJ.j1})?this.gst(1/0):this.tut.length>0&&this.nut();case 30:case"end":return _.stop()}},null,this,[[18,23]],We)},r.Kst=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.JR){c.next=7;break}if(s=void 0!==this.JR.tW,u=void 0!==this.JR.nW,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,Dr.awrap(this.iut(t,n,this.Art));case 9:for(o=c.sent,nu(i),a=0,h=this.tut;a<h.length;a++)h[a].A9.forEach(function(t){return t.Fs()});if(this.KR.bj(),c.prev=13,!this.JR){c.next=17;break}return c.next=17,Dr.awrap(this.KR.k_());case 17:return c.next=19,Dr.awrap(this.eut(o,e,r));case 19:this.JR=c.sent;case 20:return c.prev=20,this.KR.Aj(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],We)},r.iut=function(t,n,i){var e,r,s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.XF,a=[],o&&o.UF&&(h='audio/mp4; codecs="'+o.UF+'"',zO.cT(sX,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.MF&&(c='video/mp4; codecs="'+o.MF+'"',zO.cT(sX,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return zO.L$(sX,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.GJ.iJ[0])?void 0:r.U1)?e:[],v=null!=(s=null==t?void 0:null==(u=t.GJ.iJ[0])?void 0:u.U1)?s:[],l=this.r6.F$,w.next=12,Dr.awrap(bx(this.s6.contentProtection,a,l.R4.concat(v).concat(f),this.lE));case 12:return d=w.sent,w.abrupt("return",{fs:$p.bE,gW:a.map(function(t){return{Nl:t}}),ND:d});case 14:case"end":return w.stop()}},null,this,null,We)},r.eut=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Dr.awrap(this.KR.jh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new gM(this.KR,n,i);case 7:return this.JR=e,this.wW(),this.Ast(),this.Sst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.wW=function(){var t=this.JR;if(t&&m(t.Hg)){var n,i,e,r=null!=(n=null==(i=this.Trt)?void 0:i.GJ.Hg)?n:null==(e=this.Srt)?void 0:e.GJ.Hg;void 0!==r&&r>0&&t.lW(r)}this.nst()},r.Ast=function(){var t=this.JR;t&&(t.nW&&(t.nW.eL=this.TC.mL),t.tW&&(t.tW.eL=this.TC.mL))},r.Sst=function(){var t=this.JR;t&&(t.nW&&(t.nW.oL=this.TC.oL),t.tW&&(t.tW.oL=this.TC.oL))},r.Jst=function(t,n,i){if(!this.JR)throw new v("Invalid state");this.JR.tW?this.rW&&this.rW.z9(this.JR.tW)||(this.rW=new DM($m.dd,this.JR.tW,this.H9,this.F9)):this.rW=void 0,this.JR.nW?this.sW&&this.sW.z9(this.JR.nW)||(this.sW=new DM($m.wd,this.JR.nW,this.H9,this.F9)):this.sW=void 0;var e,r,s,u,o,a,h,c,f,l,d,w,_,g,m=t&&n&&bO(t,n);if(this.sW&&n){var y=m&&this.rW?[this.sW,this.rW]:[this.sW];this.Nrt?this.Nrt._$!==n&&(i&&(this.Nrt.Fs(),this.Nrt.f9.Nu()),this.Nrt.Y5(n)):(this.Nrt=(e=n,r=y,this.KR,s=this.r6,u=this.lE,o=this.U4,a=this.z6,h=this.h9,c=this.TC,f=new rM,l=new $L($m.wd,e,s,f,u,o,a),d=r.map(function(t){return t.fs}),w=h.rut(e,f,s.F$.WS,d),(_=new vM(l,f,w,c)).c9(r),_),this.Nrt.p9.Zs(QL.x5,this.ost),this.Nrt.b9.Zs(eM.H8,this.Est),this.Nrt.b9.Zs(eM.F8,this.Ist)),this.Nrt.c9(y)}else{var k;null==(k=this.Nrt)||k.xs(),this.Nrt=void 0}this.rW&&t&&!m?(this.Drt?this.Drt._$!==t&&(i&&(this.Drt.Fs(),this.Drt.f9.Nu()),this.Drt.Y5(t)):(this.Drt=function(t,n,i,e,r,s,u,o,a){var h=new rM,c=new $L($m.dd,t,e,h,r,s,u),f=o.rut(t,h,e.F$.WS,[n.fs]),v=new vM(c,h,f,a);return v.c9([n]),v}(t,this.rW,this.KR,this.r6,this.lE,this.U4,this.z6,this.h9,this.TC),this.Drt.p9.Zs(QL.x5,this.ost),this.Drt.b9.Zs(eM.H8,this.Est),this.Drt.b9.Zs(eM.F8,this.Ist)),this.Drt.c9([this.rW])):(null==(g=this.Drt)||g.xs(),this.Drt=void 0);this.sut()},r.$st=function(t,n){this.Crt&&(this.Crt.p9._$===t?n&&(this.Crt.Fs(),this.Crt.f9.Nu()):(this.Crt.xs(),this.Crt=void 0));if(!this.Crt&&t){var i=this.wrt.get(t.B_);i.W_=Eg.F_,this.Crt=function(t,n,i,e,r,s){var u=i.F$.WS,o=new uM(n,u),a=new rM,h=new $L($m.$n,t,i,a,e,r,s),c=new fM(t,a,u,$m.$n),f=new vM(h,a,c);return f.v9(o),f}(t,i,this.r6,this.lE,this.U4,this.z6)}},r.sut=function(){var t=[this.rW,this.sW].filter(H).map(function(t){return t.fs});this.r6.F$.WS.f4(t)},r.aj=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return nu(i),r.next=5,Dr.awrap(this.dst());case 5:nu(i),this.Grt=void 0,this.jrt=void 0,this.qrt=!0,e=this.uut.UN(n),this.KR.xu(e),this.mrt&&this.tut.length>0&&(this.out(this.KR.Xg),this.nut());case 12:case"end":return r.stop()}},null,this,null,We)},r.out=function(t){for(var n=0,i=this.tut;n<i.length;n++){var e=i[n];e.Z5(t)||(e.y9(),e.f9.R8()),e._9(t)||(e.k9(),e.f9.D8())}},r.lst=function(){for(var t=0,n=this.tut;t<n.length;t++){n[t].Fs()}},r.dst=function(){return We.all([this.aut(),this.hut(),this.cut()])},r.nut=function(){this.fut(),this.vut(),this.lut()},r.Yst=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mrt&&this.tut.length>0)){t.next=6;break}return this.tut.forEach(function(t){return t.y9()}),t.next=4,Dr.awrap(this.aut());case 4:this.fut(),this.tut.forEach(function(t){return t.p9.e8()});case 6:case"end":return t.stop()}},null,this,null,We)},r.fut=function(){var t=this;if(!this.Urt){var n=function(){t.Urt=void 0};this.xrt=new Js,this.Urt=this.wut(this.xrt.Ws).catch(this.vst).then(n,n)}},r.aut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.xrt)||t.Fs(),n=this.Urt,this.Urt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.wut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:nu(t),n=this.tut;case 2:for(i=[],e=this.KR.Xg,r=0;r<n.length;r++)s=n[r],u=s.p9,o=s.d9(e),u.D6?i.push(u.C6()):s.m9(e,o,this.TC.mL)&&((a=u.K5(o))?(c=a[0],f=a[1],u.h8(c,f,s.y6)):((h=u._$.GJ.iJ).length&&h[0].Vy>o&&(this.Xg=1/0),u.u8(),u.n8(o)),i.push(u.C6()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.p9.m8})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Dr.awrap(this.KR.au(bf.Hf,t));case 11:v.next=15;break;case 13:return v.next=15,Dr.awrap(ru(We.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,We)},r.vut=function(){var t=this;if(!this.Xrt){var n=function(){t.Xrt=void 0};this.Lrt=new Js,this.Xrt=this._ut(this.Lrt.Ws).catch(this.vst).then(n,n)}},r.hut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Lrt)||t.Fs(),n=this.Xrt,this.Xrt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r._ut=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(t),n=this.tut;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.p9,(u=r.b9).D6?i.push(u.C6()):(o=s.j5())?"l8"===o.fs?(u.Z8(o),i.push(u.C6())):"V1"===o.fs&&(u.j8(o),i.push(u.C6())):i.push(s.r8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.p9.m8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.KR.au(bf.Hf,t));case 10:a.next=14;break;case 12:return a.next=14,Dr.awrap(ru(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.lut=function(){var t=this;if(!this.Hrt){this.Mrt=new Js;var n=function(){t.Hrt=void 0};this.Hrt=this.gut(this.Mrt.Ws).catch(this.vst).then(n,n)}},r.cut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Mrt)||t.Fs(),n=this.Hrt,this.Hrt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.gut=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l,d=this;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.tut).forEach(function(t){return t.l9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.b9,a=0,h=u.A9;a<h.length;a++)c=h[a],f=c.I6?i:e,c.D6?f.push(c.C6()):c.P6(this.KR.Xg)||((v=o.n9(c.fs))?"l8"===v.fs&&v.q1===this.Ort?(c.M6(v),f.push(c.C6())):"r9"===v.fs&&v.q1===this.Ort&&(c.Gz(v),f.push(c.C6())):r.push(o.i9(c.fs)));if(0!==i.length){w.next=15;break}if(!((l=Ws(n,function(t){return t.A9.filter(function(t){return t.I6}).map(function(n){return t.b9.n9(n.fs)})})).length>0&&l.every(function(t){return void 0!==t&&"r9"===t.fs&&t.q1!==d.Ort}))){w.next=15;break}return w.next=12,Dr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=qs(i=l,function(t){return t.q1}).q1,!i.every(function(t){return t.q1===e})){v.next=20;break}return r=Gs(i,function(t){return t.Vy}).Vy,v.next=7,Dr.awrap(d.mut(i));case 7:if(s=v.sent,!d.JR.NX(s)){v.next=15;break}return zO.x$("Discontinuity","Seamless switch from",d.JR.rc,"to",s),v.next=12,Dr.awrap(d.JR.CX(s));case 12:zO.x$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Dr.awrap(d.yut(r,s,t));case 17:d.Ort=i[0].q1,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.A9;a<h.length;a++)for(c=h[a],f=o.b9.n9(c.fs);f&&f.q1!==e;)o.b9.x6(f),f=o.b9.n9(c.fs);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.A9.length>0&&t.A9.every(function(t){return t.P6(d.KR.Xg)})})&&this.JR.fV(),w.abrupt("break",23);case 19:return w.next=21,Dr.awrap(ru(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.mut=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.s9.XF}),i=n.map(function(t){return{Nl:t}}),(e=Ws(t,function(t){return t.s9.U1})).push.apply(e,this.r6.F$.R4),r=this.s6.contentProtection,u.next=7,Dr.awrap(bx(r,n,e,this.lE));case 7:return 0===(s=u.sent).length&&this.JR&&this.JR.rc.ND.length>0&&(s=this.JR.rc.ND),u.abrupt("return",{fs:$p.bE,gW:i,ND:s});case 10:case"end":return u.stop()}},null,this,null,We)},r.yut=function(t,n,i){var e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.JR,s=r.Hg,!(u=this.Xg<t)){h.next=19;break}h.prev=4,zO.x$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.fV();case 7:if(this.KR.Fg||!(this.KR.Xg<t)){h.next=12;break}return h.next=10,Dr.awrap(this.KR.au([bf.Hf,bf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.oV(),r.lW(s),h.t0;case 19:return zO.x$("Discontinuity","Perform hard switch from",null==(e=this.JR)?void 0:e.rc,"to",n),h.prev=20,this.Xg<t&&(this.Xg=t),this.KR.bj(),this.sW=void 0,this.rW=void 0,this.sut(),h.next=28,Dr.awrap(this.KR.k_());case 28:return h.next=30,Dr.awrap(this.KR.jh(n));case 30:this.JR=h.sent,this.wW(),this.Ast(),this.Sst(),this.JR.nW&&(this.sW=new DM($m.wd,this.JR.nW,this.H9,this.F9)),this.JR.tW&&(this.rW=new DM($m.dd,this.JR.tW,this.H9,this.F9)),this.sut();case 37:return h.prev=37,u&&hu(this.KR.Nm()),this.KR.Aj(),h.finish(37);case 41:this.Nrt&&(o=void 0!==this.rW&&void 0===this.Drt,a=o?[this.sW,this.rW]:[this.sW],this.Nrt.c9(a)),this.Drt&&this.Drt.c9([this.rW]),zO.x$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.kut=function(t){return ru(cu(Ws(this.tut,function(t){return t.A9.map(function(t){return t.C6()})})),t)},r.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return zO.cT(sX,"Unloading the player."),this.but(),this.Ost(),t.next=5,Dr.awrap(this.k_());case 5:return this.KR.ED=void 0,this.grt.Sd(),t.next=9,Dr.awrap(this.eD.Sd());case 9:return t.next=11,Dr.awrap(this.H9.Sd());case 11:return t.next=13,Dr.awrap(this.F9.Sd());case 13:this.mm.Sd(),this.ym.Sd(),this.pm.Sd(),this.vrt.Sd(),this.frt.xs(),this.z6.xs();case 19:case"end":return t.stop()}},null,this,null,We)},r.k_=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return zO.cT(sX,"Resetting the player."),this.tu(rO.SJ,this.handleBufferingErrorEvent),this.Ort=-1,this.prt.Fs(),this.prt=new Js,this.dE.Fs(),this.dE=new Js,this.nY.Fs(),this.nY=new Js,this.Prt.Fs(),this.Prt=new Js,t=[this.krt,this.P5,this.tY,this.Brt].filter(H),n.next=14,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 14:return this.krt=void 0,this.P5=void 0,this.tY=void 0,this.Brt=void 0,this.Trt=void 0,this.Srt=void 0,this.Ert=void 0,this.Irt=void 0,this.Rrt=[],this.Ust(void 0),this.lst(),n.next=27,Dr.awrap(this.dst());case 27:return this.Drt&&(this.Drt.xs(),this.Drt=void 0),this.Nrt&&(this.Nrt.xs(),this.Nrt=void 0),this.Crt&&(this.Crt.xs(),this.Crt=void 0),this.rW=void 0,this.sW=void 0,this.JR=void 0,this.h9&&(this.h9.xs(),this.h9=void 0),this.r6&&(this.r6.xs(),this.r6=void 0),this.brt&&(this.pm.qR(this.brt.Rm),this.brt=void 0),n.next=38,Dr.awrap(this.eD.k_());case 38:return n.next=40,Dr.awrap(this.H9.k_());case 40:return n.next=42,Dr.awrap(this.F9.k_());case 42:return this.KR.HD(),n.next=45,Dr.awrap(this.KR.k_());case 45:this.s6=void 0,this.yrt=void 0,this.mrt=!1,this.yC=1,this.uW=rS.fC(),this.Grt=void 0,this.Yrt=void 0,this.jrt=void 0,this.qrt=!1,this.Qrt=!1,this.Zrt=!1,this.$rt=0,this.vrt.k_(),this.Aut(),this.Qs(new cm(this.Xg,this.Y_));case 60:case"end":return n.stop()}},null,this,null,We)},r.Aut=function(){for(var t=0,n=this.mm.p_;t<n.length;t++){n[t].Sd()}for(var i=0,e=this.ym.p_;i<e.length;i++){e[i].Sd()}for(var r=0,s=this.pm.p_;r<s.length;r++){s[r].Sd()}this.mm.k_(),this.ym.k_(),this.pm.k_(),this.wrt.clear()},r.Dst=function(){this.vrt.Zs(uX,this.js),this.vrt.Zs(hm.Ug,this.vD),this.vrt.Zs(hm.Mg,this.hst),this.vrt.Zs(hm.Bg,this.fst),this.TC.Zs("rL",this.bst),this.TC.Zs("aL",this.Tst),this.KR.Zs(oX,this.js),this.KR.Zs(bf.vf,this.handleContentProtectionErrorEvent),this.KR.Zs(bf._f,this.tst),this.KR.Zs(bf.mf,this.ist),this.KR.Zs(bf.Ef,this.rst),this.KR.Zs(bf.If,this.sst),this.KR.Zs(bf.Rf,this.ust),this.KR.Zs(hm.u_,this.IE),this.KR.Zs(bf.Hf,this.FG),this.KR.Zs(bf.Bf,this.cW),this.KR.Zs(bf.Pf,this.fD),this.KR.Zs(bf.Ff,this.ast)},r.but=function(){this.vrt.tu(uX,this.js),this.vrt.tu(hm.Ug,this.vD),this.vrt.tu(hm.Mg,this.hst),this.vrt.tu(hm.Bg,this.fst),this.TC.tu("rL",this.bst),this.TC.tu("aL",this.Tst),this.KR.tu(oX,this.js),this.KR.tu(bf.vf,this.handleContentProtectionErrorEvent),this.KR.tu(bf._f,this.tst),this.KR.tu(bf.mf,this.ist),this.KR.tu(bf.Ef,this.rst),this.KR.tu(bf.If,this.sst),this.KR.tu(bf.Rf,this.ust),this.KR.tu(hm.u_,this.IE),this.KR.tu(bf.Hf,this.FG),this.KR.tu(bf.Bf,this.cW),this.KR.tu(bf.Pf,this.fD),this.KR.tu(bf.Ff,this.ast)},A(e,[{key:"Bst",get:function(){for(var t=[this.Trt,this.Srt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.GJ.j1)return!1;var e=i.GJ.iJ,r=e[e.length-1];if(r&&r.q1!==this.Ort)return!1}return!0}},{key:"m$",get:function(){return this.Art}},{key:"T$",get:function(){return this.Trt}},{key:"E$",get:function(){return this.Srt}},{key:"pst",get:function(){return this.Ert}},{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.KR.Km.qD()}},{key:"p$",get:function(){var t=[];if(this.Art)for(var n=this.KR.Xg,i=0,e=this.tut;i<e.length;i++)for(var r=0,s=e[i].A9;r<s.length;r++){var u=s[r].O6(n);u&&!Hs(t,u)&&t.push(u)}return t}},{key:"Jm",get:function(){if(this.Art){var t=this.KR.Xg;return this.Art.f2(t)}},set:function(t){if(t&&this.Art){var n=this.Art.l2(t);void 0!==n&&(this.Xg=n)}}},{key:"Xg",get:function(){var t;return null!=(t=this.Grt)?t:this.KR.Xg},set:function(t){zO.cT(sX,"Seeking to "+t+" s."),this.Grt=t,this.jrt=!0,this.qrt=!0,this.Qs(new pm(t)),this.nY.Fs(),this.mrt&&this.gst(t)}},{key:"Hg",get:function(){var t,n,i,e,r,s,u;return this.Bst?this.KR.Hg:null!=(t=null!=(n=null!=(i=null==(e=this.Trt)?void 0:e.GJ.Hg)?i:null==(r=this.Srt)?void 0:r.GJ.Hg)?n:null==(s=this.r6)?void 0:null==(u=s.e6)?void 0:u.GJ.Hg)?t:1/0}},{key:"Fg",get:function(){if(!this.Bst)return!1;if(this.qg&&this.mrt){var t,n,i=this.Xg,e=null==(t=this.Trt)?void 0:t.GJ.Hg,r=null==(n=this.Srt)?void 0:n.GJ.Hg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.KR.Fg}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Dm",get:function(){}},{key:"iy",get:function(){return!1}},{key:"ey",get:function(){return Nr({},{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KR.jD(),{ly:this.$rt,vy:this.TC.Jx.NR})}},{key:"F$",get:function(){var t;return null==(t=this.r6)?void 0:t.F$}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"_y",get:function(){return this.Frt},set:function(t){this.Frt!==t&&(this.Frt=t,this.Qs(t?new bM:new AM))}},{key:"Wg",get:function(){return this.KR.Wg}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){zO.cT(sX,"Setting playback rate to "+t+"."),this.KR.Gg=t}},{key:"gy",get:function(){return this.Tut.qD()}},{key:"Tut",get:function(){return this.KR.gy}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD!==t&&(this.nD=t,this.xst())}},{key:"Y_",get:function(){var t=this.KR.Y_;return this.Qrt&&(t=w.max(qg.Dg,t)),t}},{key:"py",get:function(){return this.uut.qD()}},{key:"uut",get:function(){var t=this.uW,n=[this.Trt,this.Srt].filter(H);if(t.b_>0&&n.some(function(t){return!t.GJ.j1})){var i=this.Tut,e=t.NN(t.b_-1);if(i.b_>0&&i.NN(i.b_-1)>e){var r=i.NN(i.b_-1),s=n.reduce(function(t,n){return t.FN(n.GJ.X3)},new rS([0,1/0]));s.b_>0&&(r=w.min(r,s.NN(s.b_-1))),t=t.YN(new rS([e,r]))}}return t}},{key:"qg",get:function(){var t;return null!=(t=this.jrt)?t:this.KR.qg}},{key:"QD",get:function(){}},{key:"Rm",get:function(){return this.pm}},{key:"Im",get:function(){return this.ym}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"jg",get:function(){return this.KR.jg}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){zO.cT(sX,"Setting volume to "+t+"."),this.KR.Qg=t}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ZD",get:function(){return this.uD}},{key:"tut",get:function(){return[this.Drt,this.Nrt,this.Crt].filter(H)}}]),e}(wu),fX=function(){function t(){}return t.prototype.JD=function(n,i){var e;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(Kg(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||Zb(e)){i.next=12;break}if($b(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Dr.awrap(t.Sut(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,We)},t.Sut=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Dr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Dr.awrap(i.Nr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Dr.awrap(i.Ir());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Dr.awrap(i.Sr());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,We)},t}(),vX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).mN=n,e}return S(n,t),n.prototype.Hst=function(){this.Qs(new Em(this.Xg,this.Y_))},A(n,[{key:"Y_",get:function(){return this.mN.Y_}}]),n}(db);function lX(t){var n=xs(t,function(t){return t.qJ}),e=t.filter(function(t){return t.YJ}),r=i.Fr,s=e.map(function(t){return t.L_}).filter(H),u=yM(s,r);return u?xs(e,function(t){return t.L_===u}):n}function dX(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.XF&&t.XF.MF&&vN(t.XF.MF,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=wX(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=wX(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.sL.type){case GI.BANDWIDTH:var r=i.yL,s=e.filter(function(t){return t.NR<=r});if(s.length>0)return qs(s,function(t){return t.NR});case GI.PERFORMANCE:return Gs(e,function(t){return t.NR});case GI.QUALITY:return qs(e,function(t){return t.NR})}}function wX(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.XF&&t.XF.UF&&vN(t.XF.UF,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function _X(t){var n;return null!=(n=lX(t))?n:t[0]}function gX(t){return t.filter(function(t){return t.W$.some(function(t){return t.GJ.W3<i.ir()-hX})||0===t.W$.length})}var mX=function(){function t(){}var i=t.prototype;return i.V6=function(t,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Dr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},i.xs=function(){},t.mc=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),yX=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(gu),kX=["message","messageerror","error"],pX=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).error=n,i}return S(n,t),n}(gu),bX=function(t){function n(n){var i;return(i=t.call(this)||this).Eut=void 0,i.Iut=void 0,i.Rut=[],i.Dut=function(t){if(i.Nut)t.Cut();else{i.Eut=t,i.Eut.Zs(kX,i.js);for(var n=0,e=i.Rut;n<e.length;n++){var r=e[n];t.Put(r.du,r.But)}zs(i.Rut)}},i.Out=function(t){if(!i.Nut){var n=t instanceof v?t:new v("Could not create Worker.");i.Qs(new pX(n)),i.Cut()}},i.Iut=new Js,n(i.Iut.Ws).then(i.Dut,i.Out),i}S(n,t);var i=n.prototype;return i.Put=function(t,n){this.Nut||(void 0!==this.Eut?this.Eut.Put(t,n):this.Rut.push({du:t,But:n}))},i.Cut=function(){this.Nut||(this.Iut.Fs(),zs(this.Rut),void 0!==this.Eut&&this.Eut.Cut())},A(n,[{key:"Nut",get:function(){return this.Iut.Ws.Ns}}]),n}(wu);var AX=function(t){function n(n){var i;return(i=t.call(this)||this).Eut=void 0,i.xut=function(t){i.Qs(new yX("message",t.data))},i.Lut=function(t){i.Qs(new yX("messageerror",t.data))},i.XY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Qs(new pX(n)),i.Cut()},i.Eut=new k(n),i.Eut.addEventListener("message",i.xut),i.Eut.addEventListener("messageerror",i.Lut),i.Eut.addEventListener("error",i.XY),i}S(n,t);var i=n.prototype;return i.Put=function(t,n){n?this.Eut.postMessage(t,n):this.Eut.postMessage(t)},i.Cut=function(){this.$s(),this.Eut.removeEventListener("message",this.xut),this.Eut.removeEventListener("messageerror",this.Lut),this.Eut.removeEventListener("error",this.XY),this.Eut.terminate()},n}(wu),TX=0,SX="iframe.html",EX=function(n){function e(e,r){var u;(u=n.call(this)||this).Bh=void 0,u.Mut=void 0,u.Uut=void 0,u.Xut=void 0,u.Hut=function(){u.Uut.removeEventListener("load",u.Hut),u.Uut.contentWindow.postMessage({type:"initialize",id:u.Bh,script:u.Mut},"*")},u.Fut=function(t){t.origin===u.Xut&&t.data.id===u.Bh&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new pX(new v(t.data.data.message))),u.Cut()):u.Qs(new yX("message",t.data.data))))},u.Bh=TX++,u.Mut=e;var o,a,h=i.Br(SX,r);return u.Uut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Xut=h.origin,u.Uut.addEventListener("load",u.Hut),t.addEventListener("message",u.Fut),u}S(e,n);var r=e.prototype;return r.Put=function(t,n){n?this.Uut.contentWindow.postMessage({type:"message",data:t},"*",n):this.Uut.contentWindow.postMessage({type:"message",data:t},"*")},r.Cut=function(){var n;this.Uut.removeEventListener("load",this.Hut),t.removeEventListener("message",this.Fut),null==(n=this.Uut.contentWindow)||n.postMessage({type:"terminate"},"*"),$e(this.Uut)},e}(wu);function IX(t,n){return t=i.Or(t,n),new bX(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new AX(t),v.next=4,Dr.awrap(CX(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.Cut(),iu(v.t0);case 11:if(!NX||!kf){v.next=42;break}return v.prev=12,v.next=15,Dr.awrap(i.Xw.Yl({Ql:t,md:$d.GET,Wl:Af.$n,Ws:e}));case 15:return o=v.sent,v.next=18,Dr.awrap(o.El(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),iu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,h=kf([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new AX(a),v.next=31,Dr.awrap(CX(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.Cut(),iu(v.t2),NX=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new EX(t,n),v.next=46,Dr.awrap(CX(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.Cut(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var RX,DX,NX=!0;function CX(t,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.au(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new nf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(G(s=e.data)&&"4.7.0"===s.zut){r.next=7;break}throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.7.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}!function(t){t.Vut="V6",t.Wut="_5"}(RX||(RX={})),function(t){t.Gut="qut",t.Yut="jut"}(DX||(DX={}));var PX=function(){function t(t){var e=this;this.Qut=void 0,this.Zut=void 0,this.Eut=void 0,this.Kut=0,this.Jut=Pr(),this.$ut=function(t){var i=t.data,r=i.tot,s=e.Jut.get(r);s&&(e.Jut.delete(r),i.iot===DX.Gut?s.Wu(i.eot):i.iot===DX.Yut&&s.Gu(new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.ow=function(t){var i=new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.xs(i)},this.Qut=t;try{this.Zut=i.Or("theoplayer.d.js",t)}catch(t){throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.rot=function(){var t=IX(this.Zut,this.Qut);return t.Zs("message",this.$ut),t.Zs("error",this.ow),t},e.V6=function(t,n,i){var e=""+ ++this.Kut,r={uot:RX.Vut,oot:e,aot:t,hot:n,cot:i},s=new Go;return this.Jut.set(e,s),null!=this.Eut||(this.Eut=this.rot()),this.Eut.Put(r),s.Hu},e.xs=function(t){void 0===t&&(t=new $s),this.Jut.forEach(function(n){return n.Gu(t)}),this.Jut.clear(),this.Eut&&(this.Eut.Cut(),this.Eut=void 0)},t}();function BX(t,n){if(void 0===n.fot)return{UF:void 0,MF:t};if(void 0===n.vot)return{UF:t,MF:void 0};for(var i=Sc(t),e=xX(i),r=xX(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];MD(u)&&(e.boxes[s]=XX(u,n.vot),r.boxes[s]=XX(u,n.fot))}var o=e.serialize().join(),a=r.serialize().join();return{UF:o,MF:a}}function OX(t){var n=xs(t.boxes,xD);if(n){var i=xs(n.boxes,LD);if(i)return i.handlerType}}function xX(t){var n,i=new yc;return(n=i.boxes).push.apply(n,t.boxes),i}function LX(t){var n,i=new Bh;return(n=i.boxes).push.apply(n,t.boxes),i}var MX=8;function UX(t,n){for(var i=function(t){var n,i=new Gh;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=HX(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new sh(new y(n.getSize()-MX));else if(s instanceof Bh){var u=s,o=Ms(u.boxes,function(t){return t instanceof Ch&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=LX(u);h.boxes[o]=new sh(new y(a.getSize()-MX)),i.boxes[r]=h}}}return i}function XX(t,n){for(var i=function(t){var n,i=new ec;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof nc){var s=xs(r.boxes,UD);s&&s.trackId===n&&(i.boxes[e]=new sh(new y(r.getSize()-MX)))}}return i}function HX(t){return xs(t.boxes,OD).trackId}function FX(t,n,i){for(var e=xs(t.boxes,UD),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof Qh)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Tp(n).tp());else if(o instanceof jh)o.baseMediaDecodeTime-=i.Sk(n);else if(o instanceof $h&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Sk(n),o.samples=a}}}function zX(t,n){var i=Yk(tp.RA(Lo(t)),sk.Ob);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r._S||0===r.wS.length||0===r.wS[0].bS.length)return"continue";for(var s=r.pA.iT,u=xs(n.VA,function(t){return t.iT===s}),o=0,a=1/0,h=0,c=r.pA.sS||0,f=0,v=r.wS;f<v.length;f++)for(var l=0,d=v[f].bS;l<d.length;l++){var w,_=d[l],g=_.AS||0,m=o+g,y=(o+=null!=(w=_.Hg)?w:c)+g;m<a&&(a=m),y>h&&(h=y)}var k=$y.Vk(r._S._S,u.yp);i.push({iT:s,lot:k,kK:k.Sy($y.Wk(a,u.yp)),dot:k.Sy($y.Wk(o,u.yp)),wot:k.Sy($y.Wk(h,u.yp))})},r=0,s=t.VA;r<s.length;r++)e(r,s);return i}(i,n)}var VX,WX=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Sw=void 0,u._ot=void 0,u.got=void 0,u.mot=void 0,u.yot=void 0,u.kot=0,u.pot=0,u.bot=Br(),u.Sw=n,u}S(i,t);var e=i.prototype;return e.Q8=function(n,i){return t.prototype.Q8.call(this,n,i)},e.Aot=function(t){var n;return this.bot.has(t.q1)?n=this.bot.get(t.q1):(n=IM(t.l8.Fi.Fi),this.bot.set(t.q1,n)),n},e.K8=function(i,e){var r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p,b,A,T,S,E,I,R;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:if(nu(e),s=this.Aot(i),u=i.l8,s===pM.U9||s===pM.M9){D.next=5;break}return D.abrupt("return",t.prototype.K8.call(this,i,e));case 5:if(!u.L6.U1.some(qX)){D.next=7;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Sw.Tot(),s!==pM.U9){D.next=14;break}return D.next=11,Dr.awrap(o.Sot({data:u.Fi.Fi,metadata:this._ot}));case 11:a=D.sent,D.next=17;break;case 14:return D.next=16,Dr.awrap(o.Eot({data:u.Fi.Fi,metadata:this._ot}));case 16:a=D.sent;case 17:if(nu(e),this.J8({UF:a.metadata.audio_codec,MF:a.metadata.video_codec,HF:void 0}),h=$y.Vk(ft.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=$y.Vk(ft.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.L6.yK=c,this.t9(),this.w4.j3(i.q1)){D.next=30;break}for(f=$y.Np(u.L6.Vy),v=0,l=this.e9;v<l.length;v++)d=l[v],this.w4.r4(i.q1,d,h,f,!0);if(this.t9(),this.w4.j3(i.q1)){D.next=30;break}return D.next=30,Dr.awrap(ru(this.w4.Q3(i.q1),e));case 30:if(w=this.w4.e4(h,u.L6),this._ot=a.metadata,_={I1:i.I1,u9:cM(u.L6),Vy:u.L6.Vy,Hg:null!=(r=u.L6.Hg)?r:0,Zp:w.Ek(),q1:i.q1,_$:i._$,L6:u.L6},void 0!==a.data.audio_media||void 0!==a.data.video_media){D.next=36;break}for(g=0,m=this.e9;g<m.length;g++)y=m[g],k=Nr({fs:"l8",Fi:void 0,u4:y},_),this.A8(k);return D.abrupt("return");case 36:p=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.got&&this.kot===i.q1&&Uu(this.got,a.data.audio_init)||(b={fs:"r9",Fi:{fs:bD.WX,Fi:a.data.audio_init},u4:$m.dd,q1:i.q1,s9:{XF:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',U1:u.L6.U1},Vy:u.L6.Vy,_$:i._$,L6:u.L6},this.got=a.data.audio_init,this.kot=i.q1,this.A8(b)),A=Nr({fs:"l8",Fi:{fs:bD.WX,Fi:a.data.audio_media},u4:$m.dd},_),this.A8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.mot&&this.pot===i.q1&&Uu(this.mot,a.data.video_init)||(T={fs:"r9",Fi:{fs:bD.WX,Fi:a.data.video_init},u4:$m.wd,q1:i.q1,s9:{XF:'video/mp4; codecs="'+a.metadata.video_codec+'"',U1:u.L6.U1},Vy:u.L6.Vy,_$:i._$,L6:u.L6},this.mot=a.data.video_init,this.pot=i.q1,this.yot=JD(Lo(a.data.video_init)),this.A8(T)),S=this.yot.VA[0],E=zX(a.data.video_media,this.yot)[0],I=this.Iot(a.data.video_media,S,E,u.L6),this.Rot=S,R=Nr({fs:"l8",Fi:{fs:bD.WX,Fi:I},u4:$m.wd},_),this.A8(R),p.push(E)),this.Dot=u.L6,this.Not=p;case 41:case"end":return D.stop()}},null,this,null,We)},e.Fs=function(){this.got=void 0,this.mot=void 0,t.prototype.Fs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Hz=void 0,n.Cot=void 0,n.Dot=void 0,n.Not=void 0,n.Rot=void 0,n}S(n,t);var i=n.prototype;return i.Q8=function(t,n){nu(n);var i=this._$.fs,e=JD(Lo(t.V1.Fi.Fi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Hz=e;var r=function(t){for(var n,i,e,r=0,s=t.VA;r<s.length;r++){var u=s[r];n||(n=u.XF.UF),i||(i=u.XF.MF),e||(e=u.XF.HF)}if(n||i)return{UF:n,MF:i,HF:e};return}(e);r&&this.J8(r);var s=function(t){var n=Sc(t),i=xs(n.boxes,PD),e=i.boxes.filter(BD),r=xs(e,function(t){return OX(t)===lh.AUDIO}),s=xs(e,function(t){return OX(t)===lh.VIDEO}),u={fot:r?HX(r):void 0,vot:s?HX(s):void 0};if(!r||!s)return{UF:r?t:void 0,MF:s?t:void 0,QS:u};var o=xX(n),a=xX(n),h=n.boxes.indexOf(i);o.boxes[h]=UX(i,s),a.boxes[h]=UX(i,r);var c=o.serialize().join(),f=a.serialize().join();return{UF:c,MF:f,QS:u}}(t.V1.Fi.Fi);if(this.Cot=s.QS,s.MF){var u=xs(e.VA,function(t){return t.iT===s.QS.vot}),o={fs:"r9",Fi:{fs:bD.WX,Fi:s.MF},u4:$m.wd,q1:t.q1,s9:{XF:'video/mp4; codecs="'+u.XF.MF+'"',U1:t.U1},Vy:t.Vy,_$:this._$,L6:t.V1.L6};this.A8(o)}if(s.UF){var a=xs(e.VA,function(t){return t.iT===s.QS.fot}),h={fs:"r9",Fi:{fs:bD.WX,Fi:s.UF},u4:$m.dd,q1:t.q1,s9:{XF:'audio/mp4; codecs="'+a.XF.UF+'"',U1:t.U1},Vy:t.Vy,_$:this._$,L6:t.V1.L6};this.A8(h)}return We.resolve()},i.K8=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p;return Dr.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(nu(n),e=t.l8.L6,r=this._$.fs,zO.cT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+wO(e.JJ)),s=t.l8.Fi,(u=zX(s.Fi,this.Hz)).length>0&&(o=Ys(u.map(function(t){return t.kK}),tk),e.yK=o,this.t9()),this.w4.j3(t.q1)){b.next=13;break}if(a=$y.Np(e.Vy),u.length>0){for(h=Ys(u.map(function(t){return t.lot}),tk),c=0,f=this.e9;c<f.length;c++)v=f[c],this.w4.r4(t.q1,v,h,a,!1);this.t9()}if(this.w4.j3(t.q1)){b.next=13;break}return b.next=13,Dr.awrap(ru(this.w4.Q3(t.q1),n));case 13:l=this.w4.t4(t.q1),d={I1:t.I1,u9:cM(e),Vy:e.Vy,Hg:null!=(i=e.Hg)?i:0,Zp:l.Ek(),q1:t.q1,_$:t._$,L6:t.l8.L6},(w=BX(s.Fi,this.Cot)).MF&&(_=this.Cot.vot,g=xs(this.Hz.VA,function(t){return t.iT===_}),m=xs(u,function(t){return t.iT===_}),y=this.Iot(w.MF,g,m,e),this.Rot=g,k=Nr({fs:"l8",Fi:{fs:bD.WX,Fi:y},u4:$m.wd},d),this.A8(k)),w.UF&&(p=Nr({fs:"l8",Fi:{fs:bD.WX,Fi:w.UF},u4:$m.dd},d),this.A8(p)),this.Dot=e,this.Not=u;case 20:case"end":return b.stop()}},null,this,null,We)},i.Iot=function(t,n,i,e){if(!function(t){return uL(t)?t.z1:0===t.T2&&t.A2.z1}(e))return t;if(!this.Dot||!this.Rot||!this.Not)return t;var r=this.Rot.iT,s=xs(this.Not,function(t){return t.iT===r}),u=this.w4.n4(s.wot,this.Dot),o=this.w4.n4(i.kK,e).Mk(u).Tp(n.yp);if(o.Ck($y.qk))return t;if(o.Ik($y.Np(.5)))return t;var a=uL(e)?e:e.A2;return zO.x$("Mp4Transmuxer","Stretching first video frame of segment #"+a.I1+" to fill gap of "+o.Ek()+"s"),function(t,n,i){var e=Sc(t),r=xs(e.boxes,MD);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof nc&&FX(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,v=r.boxes;f<v.length;f++){var l=v[f];l instanceof nc&&XD(l,c)}}return e.serialize().join()}(t,n.yp,o)},n}(hM)),GX=function(){function t(){}return t.prototype.rut=function(t,n,i,e){return new WX(this,t,n,i,e)},t}();function qX(t){return t.md===vO.zJ}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(VX||(VX={}));var YX=function(){function t(t){var e=this;this.Qut=void 0,this.Zut=void 0,this.Pot=void 0,this.Eut=void 0,this.Kut=0,this.Jut=Br(),this.Bot=0,this.$ut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Jut.get(n.requestId);if(!i)return;e.Jut.delete(n.requestId),n.success?i.Wu(n.output):i.Gu(new nf(n.errorCode,n.error))}else n.success||e.xs(new nf(n.errorCode,n.error))},this.ow=function(t){var i=new nf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.Qut=t,this.Pot=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.yn;return!(t>0&&t<=56)}();var r=this.Pot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Zut=i.Or(r,t)}catch(t){throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Eut=this.rot()}var e=t.prototype;return e.Sot=function(t){return this.Oot(VX.MPEGTS_TO_FMP4,t)},e.Eot=function(t){return this.Oot(VX.RAW_AUDIO_TO_FMP4,t)},e.rot=function(){var t=IX(this.Zut,this.Qut);return t.Zs("message",this.$ut),t.Zs("error",this.ow),t},e.Oot=function(t,n){var i=++this.Kut;this.Bot+=1;var e={type:t,id:i,input:n},r=new Go;return this.Jut.set(i,r),this.Eut.Put(e,[n.data.buffer]),r.Hu},e.xs=function(t){void 0===t&&(t=new $s),this.Jut.forEach(function(n){return n.Gu(t)}),this.Jut.clear(),this.Eut.Cut()},t}(),jX=function(t){function n(n){var i;return(i=t.call(this)||this).Eut=void 0,i.xot=n,i}S(n,t);var i=n.prototype;return i.Tot=function(){var t;return null!=(t=this.Eut)?t:this.Eut=new YX(this.xot)},i.xs=function(){this.Eut&&(this.Eut.xs(),this.Eut=void 0)},n}(GX),QX=function(){function t(t){this.xot=t}return t.prototype.bK=function(){return new jX(this.xot)},t}(),ZX=function(){function t(t){this.OR=void 0,this.OR=t}var n=t.prototype;return n.TD=function(t){return this.OR.TD(t)},n.cJ=function(t){return this.OR.cJ(t)},n.VD=function(t){return this.OR.VD(t)},t}(),KX=function(t){function n(n){var i;return(i=t.call(this)||this).KR=void 0,i.JR=void 0,i.Lot=new xg,i.Mot=function(t){return i.qm(t)},i.KR=n,i.Lot.R_=n.Rm,i.KR.Zs(dD,i.Mot),i}S(n,t);var i=n.prototype;return i.IL=function(){return this.KR.Km},i.DL=function(){return this.KR.Jm},i.CL=function(){return this.KR.Xg},i.BL=function(){return this.KR.Hg},i.Uot=function(){return this.KR.QD},i.Xot=function(){return this.KR.Fg},i.Hot=function(){return this.KR.Wg},i.GL=function(){return this.KR.gy},i.jL=function(){return this.KR.Y_},i.QL=function(){return this.KR.py},i.ZL=function(){return this.KR.qg},i.KL=function(){return this.Lot},i.iQ=function(){return this.KR.PU},i.Fot=function(){return this.KR.ED},i.zot=function(t){this.KR.ED=t},i.Vot=function(t){this.KR.Dj=t},i.Wot=function(){return this.KR.Uq},i.jD=function(){return this.KR.jD()},i.Nm=function(){return this.KR.Nm()},i.Cm=function(){this.KR.Cm()},i.xu=function(t,n){this.KR.xu(t,n)},i.YD=function(t){this.KR.YD(t)},i.Fm=function(){this.KR.Fm()},i.zm=function(){this.KR.zm()},i._E=function(t,n,i,e,r,s,u){return this.KR._E(t,n,i,e,r,s,u)},i.xD=function(){return this.KR.xD()},i.MD=function(t,n,i,e){return this.KR.MD(t,n,i,e)},i.yE=function(t){this.KR.yE(t)},i.HD=function(){this.KR.HD()},i.UX=function(t){return this.KR.UX(t)},i.jh=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.KR.jh(t));case 2:return n=e.sent,i=t.fs===$p.pE?this.Got(n):this.qot(n),this.JR=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=4;break}return t.next=3,Dr.awrap(this.JR.xs());case 3:this.JR=void 0;case 4:return t.next=6,Dr.awrap(this.KR.k_());case 6:case"end":return t.stop()}},null,this,null,We)},i.bj=function(){this.KR.bj()},i.Aj=function(){this.KR.Aj()},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.KR.tu(dD,this.Mot),this.Lot.R_=void 0,this.Lot.Sd(),!this.JR){t.next=8;break}return t.next=7,Dr.awrap(this.JR.xs());case 7:this.JR=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.Tj=function(){this.KR.Tj()},i.Yot=function(t){this.KR.tu(dD,this.Mot),this.KR=t,this.Lot.R_=t.Rm,this.KR.Zs(dD,this.Mot)},i.qm=function(t){this.Qs(t)},A(n,[{key:"jot",get:function(){return this.KR}},{key:"Km",get:function(){return this.IL()}},{key:"Jm",get:function(){return this.DL()}},{key:"Xg",get:function(){return this.CL()}},{key:"NU",get:function(){return this.KR.NU}},{key:"Hg",get:function(){return this.BL()}},{key:"QD",get:function(){return this.Uot()}},{key:"Fg",get:function(){return this.Xot()}},{key:"mu",get:function(){return this.KR.mu}},{key:"sT",get:function(){return this.KR.sT}},{key:"Tk",get:function(){return this.KR.Tk}},{key:"XD",get:function(){return this.KR.XD}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"Wg",get:function(){return this.Hot()}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){this.KR.Gg=t}},{key:"gy",get:function(){return this.GL()}},{key:"Y_",get:function(){return this.jL()}},{key:"py",get:function(){return this.QL()}},{key:"qg",get:function(){return this.ZL()}},{key:"Rm",get:function(){return this.KL()}},{key:"PU",get:function(){return this.iQ()}},{key:"Ij",get:function(){return this.KR.Ij}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){this.KR.Qg=t}},{key:"Sj",get:function(){return this.KR.Sj}},{key:"iy",get:function(){return this.KR.iy}},{key:"Rj",get:function(){return this.KR.Rj}},{key:"ED",get:function(){return this.Fot()},set:function(t){this.zot(t)}},{key:"Dj",get:function(){return this.KR.Dj},set:function(t){this.Vot(t)}},{key:"Uq",get:function(){return this.Wot()}}]),n}(wu),JX=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Ej=function(t){this.KR.Ej(t)},i.$Y=function(){this.KR.$Y()},i.Zm=function(){this.KR.Zm()},A(n,[{key:"SD",get:function(){return this.KR.SD}},{key:"SW",get:function(){return this.KR.SW}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}}]),n}(KX),$X=function(){function t(t){this.JR=void 0,this.JR=t}var n=t.prototype;return n.dc=function(){return this.JR.rc},n.QL=function(){return this.JR.py},n.NX=function(t){return this.JR.NX(t)},n.CX=function(t){return this.JR.CX(t)},n.xs=function(){return We.resolve()},A(t,[{key:"rc",get:function(){return this.dc()}},{key:"py",get:function(){return this.QL()}},{key:"Im",get:function(){return this.JR.Im}}]),t}(),tH=function(t){function n(n){var i;return(i=t.call(this,n)||this).rW=void 0,i.sW=void 0,i.Qot=function(t){return i.Zot(t)},i}S(n,t);var i=n.prototype;return i.IL=function(){return this.JR.Km},i.BL=function(){return this.JR.Hg},i.Kot=function(){return this.JR.XX},i.lW=function(t){this.JR.lW(t)},i._W=function(t,n,i,e){this.JR._W(t,n,i,e)},i.fV=function(){this.JR.fV()},i.oV=function(){this.JR.oV()},i.xs=function(){return this.rW&&(this.rW.xs(),this.rW=void 0),this.sW&&(this.sW.xs(),this.sW=void 0),t.prototype.xs.call(this)},i.Jot=function(t){this.JR=t,this.rW?t.tW?this.rW.N6(t.tW):(this.rW.xs(),this.rW=void 0):t.tW&&(this.rW=this.$ot(t.tW),this.rW.Zs(TD,this.Qot)),this.sW?t.nW?this.sW.N6(t.nW):(this.sW.xs(),this.sW=void 0):t.nW&&(this.sW=this.$ot(t.nW),this.sW.Zs(TD,this.Qot))},i.Zot=function(t){},A(n,[{key:"tW",get:function(){return this.rW}},{key:"nW",get:function(){return this.sW}},{key:"Km",get:function(){return this.IL()}},{key:"Hg",get:function(){return this.BL()}},{key:"XX",get:function(){return this.Kot()}}]),n}($X),nH=function(t){function n(n){var i;return(i=t.call(this)||this).Pc=void 0,i.fL=0,i.vL=0,i.Pc=n,i}S(n,t);var i=n.prototype;return i.zz=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.yV=function(){return We.reject(new v("Invalid media buffer"))},i.Gz=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.XX=function(){return!1},i.fV=function(){},i.gV=function(t,n){},i.mV=function(t,n){},i.Qh=function(t,n,i){return We.resolve()},i.$z=function(t,n){return We.reject(new v("Invalid media buffer"))},i.Py=function(t,n){return We.reject(new v("Invalid media buffer"))},i.NX=function(t){return!1},i.CX=function(t){return We.reject(new v("Invalid media buffer"))},i.xs=function(){this.$s()},A(n,[{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"Km",get:function(){return rS.fC()}},{key:"rc",get:function(){return this.Pc}},{key:"bV",get:function(){return $m.Kl}},{key:"AV",get:function(){return rS.fC()}},{key:"nat",get:function(){return!1}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t}}]),n}(wu),iH=function(t){function n(n){var i;return(i=t.call(this,n)||this).KR=void 0,i}S(n,t);var i=n.prototype;return i.zz=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),e.next=3,Dr.awrap(this.iat(this.KR.Xg,null==n?void 0:n.yK,null==n?void 0:n.Hg));case 3:if(nu(i),t.fs!==bD.Yf){e.next=10;break}return e.next=7,Dr.awrap(this.eat(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Dr.awrap(this.rat(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.eat=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Ld(e.Fi),s=r[0],u=r[1],e={fs:bD.Yf,Fi:s},o.prev=4,o.next=7,Dr.awrap(this.sat(e,n,i));case 7:return u.cancel(new $s).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!tR(o.t0)){o.next=20;break}return o.next=16,Dr.awrap(this.iat(this.KR.Xg,n.yK,n.Hg,i));case 16:if(!o.sent){o.next=20;break}return e={fs:bD.Yf,Fi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.rat=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,nu(i),e.next=5,Dr.awrap(this.sat(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!tR(e.t0)){e.next=16;break}return e.next=13,Dr.awrap(this.iat(this.KR.Xg,n.yK,n.Hg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i.iat=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=$I(t,n,i,this.Km,this.eL,this.oL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Dr.awrap(this.uat(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,We)},i.sat=function(n,i,e){return t.prototype.zz.call(this,n,i,e)},i.uat=function(n,i,e){return t.prototype.Qh.call(this,n,i,e)},A(n,[{key:"hJ",get:function(){return this.KR},set:function(t){this.KR=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).c6=void 0,i.oat=function(t){return i.qm(t)},i.c6=n,i.c6.Zs(TD,i.oat),i}S(n,t);var i=n.prototype;return i.aat=function(){return this.c6.oL},i.fat=function(t){this.c6.oL=t},i.IL=function(){return this.c6.Km},i.dc=function(){return this.c6.rc},i.vat=function(){return this.c6.AV},i.dat=function(){return this.c6.eL},i.wat=function(t){this.c6.eL=t},i.zz=function(t,n,i){return this.c6.zz(t,n,i)},i.yV=function(){return this.c6.yV()},i.Gz=function(t,n,i){return this.c6.Gz(t,n,i)},i.XX=function(){return this.c6.XX()},i.fV=function(){this.c6.fV()},i.gV=function(t,n){this.c6.gV(t,n)},i.mV=function(t,n){this.c6.mV(t,n)},i.Qh=function(t,n,i){return this.c6.Qh(t,n,i)},i.$z=function(t,n){return this.c6.$z(t,n)},i.NX=function(t){return this.c6.NX(t)},i.CX=function(t){return this.c6.CX(t)},i.qm=function(t){this.Qs(t)},i.xs=function(){this.$s(),this.N6(new nH(this.rc))},i.N6=function(t){this.c6.tu(TD,this.oat),this.c6=t,this.c6.Zs(TD,this.oat)},A(n,[{key:"oL",get:function(){return this.aat()},set:function(t){this.fat(t)}},{key:"Km",get:function(){return this.IL()}},{key:"rc",get:function(){return this.dc()}},{key:"bV",get:function(){return this.c6.bV}},{key:"AV",get:function(){return this.vat()}},{key:"eL",get:function(){return this.dat()},set:function(t){this.wat(t)}}]),n}(wu)),eH=function(t){function n(n){var i;return(i=t.call(this,n)||this).KR=void 0,i.Jot(n),i}return S(n,t),n.prototype.$ot=function(t){var n=new iH(t);return n.hJ=this.KR,n},A(n,[{key:"hJ",get:function(){return this.KR},set:function(t){this.KR=t,this.rW&&(this.rW.hJ=t),this.sW&&(this.sW.hJ=t)}}]),n}(tH),rH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"yy",get:function(){return this.JR.yy},set:function(t){this.JR.yy=t}}]),n}($X),sH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Ej=function(t){this.KR.Ej(t)},i.$Y=function(){this.KR.$Y()},i.Zm=function(){this.KR.Zm()},i.Vm=function(){return this.KR.Vm()},A(n,[{key:"SD",get:function(){return this.KR.SD}},{key:"SW",get:function(){return this.KR.SW}},{key:"jg",get:function(){return this.KR.jg}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}}]),n}(KX),uH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qot=function(t){var n=new eH(t);return n.hJ=this,n},i.Got=function(t){return new rH(t)},A(n,[{key:"jot",get:function(){return this.KR}}]),n}(JX),oH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qot=function(t){var n=new eH(t);return n.hJ=this,n},i.Got=function(t){return new rH(t)},A(n,[{key:"jot",get:function(){return this.KR}}]),n}(sH),aH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.TD=function(n){return n===$m.wd?new oH(t.prototype.TD.call(this,n)):n===$m.dd?new uH(t.prototype.TD.call(this,n)):void 0},i.VD=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Dr.awrap(i.xs());case 3:return e.next=5,Dr.awrap(t.prototype.VD.call(this,i.jot));case 5:case"end":return e.stop()}},null,this,null,We)},n}(ZX);function hH(t){return aw(t)}function cH(t,n){var i=aw(t);return n?""+i+n:""+i}var fH=function(){function t(t,n,i,e){this._at=t,this.gat=n,this.mat=i,this.yat=e}var n=t.prototype;return n.Z4=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this._at.pat(t.map(hH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.crt=function(t,n){var i=cH(t,n);return this.gat.Eu(i)},n.Z6=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=cH(t,n),r.next=3,Dr.awrap(this.mat.Iu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.HM=function(t){return this.yat.Iu(t)},t}(),vH=function(){function t(){}var n=t.prototype;return n.bat=function(t){return We.resolve(!1)},n.Aat=function(t){return We.reject(lH)},n.Tat=function(t){return We.reject(lH)},n.Eu=function(t){return We.resolve(!1)},n.Iu=function(t){return We.resolve(void 0)},n.Sat=function(t,n){return We.resolve(void 0)},n.pat=function(t){return We.resolve([])},n.Eat=function(){return We.resolve([])},n.Iat=function(t){return We.resolve([])},n.Rat=function(t,n){return We.resolve([])},n.Qh=function(t){return We.reject(lH)},n.Dat=function(t){return We.reject(lH)},n.Nat=function(){return We.reject(lH)},t}(),lH="Storage disabled",dH=function(){function t(){this.Cat=void 0,this.iJ=void 0,this.Pat=void 0,this.Bat=void 0,this.Oat=void 0,this.Cat=new vH,this.iJ=new vH,this.Pat=new vH,this.Bat=new vH,this.Oat=new vH}return t.bK=function(){return We.resolve(new t)},t.prototype.xat=function(t){return We.reject(wH)},t}(),wH="Storage disabled",_H=function(){function t(t){var n=this;this.Hs=new Go,this.Lat=void 0,this.Hs.Wu(t),this.Hs.Hu.then(function(t){n.Lat=t})}var n=t.prototype;return n.bat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.bat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Aat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Lat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Mat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Aat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Tat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Lat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Mat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Tat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Eu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Iu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Sat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Lat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Mat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Sat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.pat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.pat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Eat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Lat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Mat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Eat());case 7:case"end":return n.stop()}},null,this,null,We)},n.Iat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Rat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Lat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Mat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Rat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Qh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qh(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Dat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Lat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Mat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Dat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Nat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Lat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Mat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Nat());case 7:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"Mat",get:function(){return this.Hs.Hu}}]),t}(),gH=function(){function t(t){var n=this;this.Hs=new Go,this.Uat=void 0,this.iJ=void 0,this.Cat=void 0,this.Pat=void 0,this.Bat=void 0,this.Oat=void 0,this.Hs.Wu(t);var i=this.Hs.Hu;i.then(function(t){n.Uat=t}),this.iJ=new _H(i.then(function(t){return t.iJ})),this.Cat=new _H(i.then(function(t){return t.Cat})),this.Pat=new _H(i.then(function(t){return t.Pat})),this.Bat=new _H(i.then(function(t){return t.Bat})),this.Oat=new _H(i.then(function(t){return t.Oat}))}return t.prototype.xat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Uat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Xat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Dr.awrap(n.xat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},A(t,[{key:"Xat",get:function(){return this.Hs.Hu}}]),t}();function mH(t){return new v("This storage cannot handle persistency type "+t)}var yH=function(){function t(){this.Ho=[]}var n=t.prototype;return n.bat=function(t){return We.resolve("temporary"===t)},n.Aat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(mH(n)):(this.Hat(t.key),this.Ho.push(t),We.resolve())},n.Tat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(mH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Hat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Ho.push(s)}return We.resolve()},n.Eu=function(t){return We.resolve(Boolean(this.Fat(t)))},n.Iu=function(t){return We.resolve(this.Fat(t))},n.Sat=function(t,n){return We.resolve(this.zat(t,n))},n.pat=function(t){var n=this,i=t?t.map(function(t){return n.Fat(t)}):this.Ho;return We.resolve(i.filter(H))},n.Eat=function(){return We.resolve([].concat(this.Ho))},n.Iat=function(t){return this.Rat(t,"key")},n.Rat=function(t,n){var i=this.Ho.filter(function(i){return i[n]===t});return We.resolve(i)},n.Qh=function(t){return this.Hat(t),We.resolve()},n.Dat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hat(i)}return We.resolve()},n.Nat=function(){return zs(this.Ho),We.resolve()},n.Fat=function(t){return this.zat(t,"key")},n.zat=function(t,n){for(var i=0,e=this.Ho;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Hat=function(t){var n=this.Fat(t);n&&Us(this.Ho,n)},t}(),kH=function(){function t(){this.Cat=void 0,this.iJ=void 0,this.Pat=void 0,this.Bat=void 0,this.Oat=void 0,this.Cat=new yH,this.iJ=new yH,this.Pat=new yH,this.Bat=new yH,this.Oat=new yH}return t.bK=function(){return We.resolve(new t)},t.prototype.xat=function(t){return t(this)},t}(),pH=function(){function t(t){this.Vat=t}var n=t.prototype;return n.bat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Vat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.bat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Aat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Vat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.bat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Aat(t));case 8:i++,s.next=2;break;case 11:throw mH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Tat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Vat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.bat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Tat(t));case 8:i++,s.next=2;break;case 11:throw mH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Eu=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Vat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Eu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Iu=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Vat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Dr.awrap(e.Iu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n.Sat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Vat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Dr.awrap(r.Sat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.pat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Vat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.pat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Eat=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Vat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Dr.awrap(e.Eat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.Iat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Vat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.Iat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Rat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Vat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Dr.awrap(s.Rat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.Qh=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Vat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Qh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Dat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Vat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Dat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Nat=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Vat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Dr.awrap(i.Nat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function bH(t){return function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",AH.bK(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var AH=function(){function t(t){this.Wat=void 0,this.Gat=void 0,this.qat=void 0,this.Yat=void 0,this.jat=void 0,this.Qat=void 0,this.Wat=t,this.Gat=new pH(t.map(function(t){return t.Bat})),this.qat=new pH(t.map(function(t){return t.Oat})),this.Yat=new pH(t.map(function(t){return t.Pat})),this.jat=new pH(t.map(function(t){return t.Cat})),this.Qat=new pH(t.map(function(t){return t.iJ}))}return t.bK=function(n){return We.resolve(new t(n))},t.prototype.xat=function(n){var i=this;if(0===this.Wat.length)return n(this);var e=[],r=0;return this.Wat[r].xat(function s(u){return e.push(u),++r<i.Wat.length?i.Wat[r].xat(s):n(new t(e))})},A(t,[{key:"Bat",get:function(){return this.Gat}},{key:"Oat",get:function(){return this.qat}},{key:"Pat",get:function(){return this.Yat}},{key:"Cat",get:function(){return this.jat}},{key:"iJ",get:function(){return this.Qat}}]),t}(),TH=function(){function t(t){this.Zat=void 0,this.Kat=[],this.Jat=!0,this.Zat=t}var n=t.prototype;return n.bK=function(){return new gH(this.$at())},n.$at=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jat){e.next=4;break}return e.next=3,Dr.awrap(We.resolve());case 3:this.Jat=!1;case 4:t=0,n=this.Kat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Dr.awrap(bH([kH.bK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Dr.awrap(bH([kH.bK,this.Zat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.gX=function(t){if(!this.Jat)throw new v("Registration overdue");this.Kat.push(t)},t}(),SH=function(){function t(){}return t.gX=function(n){t.OR.gX(n)},A(t,null,[{key:"Yn",get:function(){return t.tht||(t.tht=t.OR.bK()),t.tht}}]),t}();SH.OR=new TH(dH.bK),SH.tht=void 0;var EH=function(t){function n(n,i,e,r,s,u){var o,a=new aH(n),h=a.TD($m.wd);return(o=t.call(this,h,i,e,r,s,u)||this).ZR=void 0,o.ZR=a,o}return S(n,t),n.prototype.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Sd.call(this));case 2:return n.next=4,Dr.awrap(this.ZR.VD(this.KR));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Vm=function(){if(void 0!==this.KR.Yg)return this.KR.Vm()},A(n,[{key:"Ay",get:function(){return!1},set:function(t){}}]),n}(cX));jT(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KD=NT.yg,n}S(i,t);var e=i.prototype;return e.kI=function(t,n,i,e,r,s){return new EH(n,i,r,(u=e.libraryLocation,mX.mc()?new mX:new PX(u)),new QX(e.libraryLocation),new fH(SH.Yn.Pat,SH.Yn.Cat,SH.Yn.iJ,SH.Yn.Oat));var u},e.JD=function(i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(t.prototype.JD.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Hs(fD,"hls-legacy")){s.next=7;break}throw new nf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,We)},e.$D=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.JD=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!M.hn&&!M.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.JD.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,We)},n}(fX)))),zO.C_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var IH=[];function RH(){IH.shift()()}var DH,NH=function(){function t(t){this.nht=void 0,this.iht=void 0,this.eht=void 0,this.eht=t}var n=t.prototype;return n.rht=function(t){return this.nht=this.nht||{},void 0===this.nht[t]&&(this.nht[t]=[]),this.nht[t]},n.addEventListener=function(t,n){var i=this.rht(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.iht||(this.iht=[])).push(t)},n.removeEventListener=function(t,n){var i=this.rht(t);n?Us(i,n):i.length=0},n.ou=function(t){var n=this.iht;n&&Us(n,t)},n.$s=function(){this.nht=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),IH.push(i),void a(RH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.rht(t.type).slice(),r=this.iht&&this.iht.slice(),s=0;s<e.length;s++){e[s].call(this.eht||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.eht||this,t)}},n.sht=function(t){return Boolean(this.nht&&this.nht[t]&&this.nht[t].length)},n.uht=function(){return this.nht?d.keys(this.nht):[]},t}(),CH=function(t){function n(n,i){var e,r=OH[n];return(e=t.call(this,r?r.du:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.oht,e.helpLinkText=r&&r.aht,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}($t);!function(t){t.hht="LICENSE_INVALID",t.cht="MANIFEST_NOT_FOUND",t.fht="MANIFEST_CORS_ERROR",t.vht="INVALID_HLS_MANIFEST",t.dht="PLAYBACK_ISSUE",t.wht="AUDIO_ISSUE",t._ht="BROWSER_SUPPORT_ISSUE",t.ght="INVALID_KEY",t.Yut="DECRYPTION_ERROR",t.mht="AD_BLOCK_DETECTED",t.yht="THEOPLAYER_NOT_INITIALIZED",t.z_="ERROR",t.kht="MANIFEST_SEQUENCE_RESET_ERROR",t.pht="PLAYER_INCORRECTLY_CONFIGURED",t.bht="UNSUPPORTED"}(DH||(DH={}));for(var PH,BH=[{Yu:DH.hht,du:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:DH.cht,du:"Could not load the manifest file."},{Yu:DH.fht,du:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",oht:"https://www.theoplayer.com/documentation/cors.html",Aht:!1},{Yu:DH.vht,du:"The source of the player is an invalid HLS manifest.",oht:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:DH.dht,du:"There appears to be a playback issue."},{Yu:DH.wht,du:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:DH._ht,du:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:DH.ght,du:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:DH.Yut,du:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:DH.mht,du:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:DH.yht,du:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:DH.z_,du:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:DH.kht,du:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:DH.pht,du:"The player is incorrectly configured.",oht:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:DH.bht,du:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],OH={},xH=0;xH<BH.length;xH++){var LH=BH[xH];OH[LH.Yu]=LH}function MH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function UH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function XH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function HH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Wo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var FH,zH="x-";function VH(t,n,i,e){var r=t.split("@"),s=MH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{JJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},Tht:{RN:o,NN:o+u-1}}}function WH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,v=0,l=!1,d=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new CH(DH.vht,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<p.length;A+=1){var T=p[A].trim();if(d.push(T+""),UH(T,"#EXT")){if(UH(T,"#EXTINF"))c=(c=g(XH(T)))||.5;else if(UH(T,"#EXT-X-BYTERANGE"))f=XH(T);else if(UH(T,"#EXT-X-KEY"))(s=HH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=MH(s.uri,i);else if(UH(T,"#EXT-X-DISCONTINUITY")&&!UH(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(UH(T,"#EXT-X-STREAM-INF"))(r=HH(T)).T2=h++,(A+=1)<p.length&&(r.uri=MH(p[A].trim(),i),b.streams.push(r));else if(UH(T,"#EXT-X-MEDIA")&&!UH(T,"#EXT-X-MEDIA-"))(u=HH(T)).uri&&(u.uri=MH(u.uri,i)),b.media.push(u);else if(UH(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(XH(T));else if(UH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.Sht=!0,b.Eht=_(XH(T),10);else if(UH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(XH(T),10),b.Iht=!0,b.Rht=a;else if(UH(T,"#EXT-X-TARGETDURATION"))b.targetDuration=_(XH(T),10),b.hasTargetDuration=!0;else if(UH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(UH(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(UH(T,"#EXT-X-MAP")){var S=HH(T),E=S.uri,I=S.byterange;o=I?VH(I,E,i,0):MH(E,i)}else if(UH(T,"#EXT-X-VERSION"))b.version=_(XH(T),10);else if(UH(T,"#EXT-X-DATERANGE")){var R=GH(T);b.dateRanges.push(R)}}else if(UH(T,"#"));else if(0!==T.length){f?k=(e=VH(f,T,i,k)).Tht.NN+1:e=MH(T,i);var D,N=s&&Nr({},s);s&&void 0===s.iv&&(D=a%4294967295,N.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,D>>24,D>>16,D>>8,255&D])),b.fragments.push({start:0,duration:c,uri:e,T2:a,Dht:l,q1:v,key:N,W1:m,Nht:d,Cht:!1,Pht:o}),a+=1,c=0,f=null,l=!1,m=null,d=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].Cht=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{Bht:i,Oht:e,xht:n?t.fragments[n-1].duration:0,Lht:r/n,Mht:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.T2-n.T2})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Xs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function GH(t){var n=HH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];ls(r,zH)&&(n[r.substr(zH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{P_:n.id,NJ:n.class,QD:e,CJ:r,Hg:n.duration,PJ:n["planned-duration"],DJ:s,BJ:i,xJ:u,MJ:o,UJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(FH||(FH={}));(PH={})[FH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",PH[FH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",PH[FH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",PH[FH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",PH[FH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",PH[FH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",PH[FH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var qH=function(){function t(){}return t.prototype.RA=function(t,n,i){return WH(t,n,i)},t}(),YH=3,jH=function(){function t(t,n,i){void 0===i&&(i=YH),this.lE=t,this.q6=n,this.Uht=i}var n=t.prototype;return n.Xht=function(t,n,i){return this.Hht(t,n,!0,i)},n.Fht=function(t,n,i){return this.Hht(t,n,!1,i)},n.Hht=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Uht)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Dr.awrap(fu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new rw({Ql:a,Wl:Af.$n,Vl:n,bd:this.q6,md:$d.GET,fs:tw.Jl,kd:nw.Kl,Ws:e}),i.next=14,Dr.awrap(this.lE.Yl(h));case 14:return c=i.sent,i.next=17,Dr.awrap(c.El(e));case 17:return f=i.sent,i.abrupt("return",{zht:f,Vht:a,jl:c.jl});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),QH=function(){function t(t){this.Wht=void 0,this.Wht=t}return t.prototype.Ght=function(t,n,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Wht;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Dr.awrap(o.Ght(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),iu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),ZH=function(){function t(t){this.U4=t}return t.prototype.Ght=function(t,n,i,e){var r;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.U4.Z4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{zht:r.data,Vht:r.locationURL,jl:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),KH=function(){function t(t){this.qht=t}return t.prototype.Ght=function(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Dr.awrap(this.qht.Xht(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Dr.awrap(this.qht.Fht(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function JH(t,n){return new QH([new ZH(n),new KH(t)])}var $H=function(){function t(t,n,i){this.Yht=t,this.jht=n,this.Qht=i}var n=t.prototype;return n.Ght=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Dr.awrap(this.Yht.Ght(t,n,i,e));case 3:return r=s.sent,s.next=6,Dr.awrap(this.Zht(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.Zht=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.jht.Aat({key:hH(t.Vht),locationURL:aw(t.Vht),responseURL:aw(t.jl),data:t.zht,references:[this.Qht.P_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function tF(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var nF,iF=function(){function t(t,n,i){this.Pc=void 0,this.lE=void 0,this.Yht=void 0,this.Kht=void 0,this.Kht=new qH,this.Pc=t,this.lE=i;var e=this.Pc&&this.Pc.crossOrigin===zg.Sg,r=new jH(i,e,1);this.Yht=JH(r,new fH(SH.Yn.Pat,SH.Yn.Cat,SH.Yn.iJ,SH.Yn.Oat))}var n=t.prototype;return n.jh=function(t,n,i){var e=this.Aw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Aw=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Dr.awrap(this.Yht.Ght([t],n));case 3:return i=r.sent,t=i.jl,e=this.Kht.RA(i.zht,t,tF(t)),r.abrupt("return",{vm:e,Jht:i.zht});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof dw)){r.next=16;break}throw new CH(DH.cht,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof ww)){r.next=24;break}if(0!==r.t0.Ud.zl){r.next=21;break}throw new CH(DH.fht,{code:"MFL3900",uri:t,status:r.t0.Ud.zl});case 21:throw new CH(DH.cht,{code:"MFL4100",uri:t,status:r.t0.Ud.zl});case 22:r.next=25;break;case 24:throw new CH(DH.z_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),eF=function(t){function n(n,i){var e;return(e=t.call(this)||this).$ht=void 0,e.tct=void 0,e.nct=void 0,e.ict=void 0,e.ect=void 0,e.rct=void 0,e.sct=void 0,e.$R=void 0,e.$ht=new iF(i||{},SH.Yn.Pat,n),e}S(n,t);var i=n.prototype;return i.Pm=function(){void 0!==this.ict&&(h(this.ict),this.ict=void 0),this.nct&&this.nct.Yl&&(this.nct=void 0)},i.uct=function(t){if(this.sct)for(var n=0,i=this.sct.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.act=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Mht<3*s)?1e3*u.Bht:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.hct=function(t){if(t.fragments.length>0)for(var n=this.uct(t.fragments[0].uri),i=n&&n.T2||0,e=0,r=t.fragments;e<r.length;e++){r[e].T2+=i}},i.cct=function(t,i,e,r,s,u){var o=this;if(this.nct&&e===this.nct.Yl){var h=jE()-i;if(r){this.nct=void 0,this.$R=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.nct=void 0;var f=u.vm,v=u.Jht;f.Iht||this.hct(f),t===this.tct&&(this.rct=f),this.sct=f;var l=n.act(f,v,this.ect,h);f.live?f.isMasterPlaylist||(this.ict=a(function(){return o.Aw(t)},l)):this.Pm(),s&&s(r,u);var d={type:"fct",manifest:f,manifestText:v};this.dispatchEvent(d),this.ect=v}},i.Aw=function(t,n){var i=this,e=jE(),r=t;h(this.ict),this.ict=void 0;var s=this.$ht.jh(r,{},function(r,u){return i.cct(t,e,s,r,n,u)});this.nct={Yl:s,Ql:t}},i.RN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.sct?this.sct.uri:this.tct))&&(this.nct&&this.nct.Ql===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("fct",i);var r=t;n(null,{vm:r.manifest,Jht:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("fct",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("fct",i)):(this.Pm(),this.Aw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.vct=function(t){t&&(this.ect=void 0,this.rct&&this.rct.isMasterPlaylist?this.RN(t.uri):this.sct&&!this.lct()&&this.RN(this.sct.uri))},i.Sd=function(){this.Pm(),this.$s()},i.lct=function(){return!!this.nct||!!this.ict||!(!this.sct||this.sct.live)},A(n,[{key:"vm",get:function(){return this.sct}},{key:"dct",get:function(){return this.rct}},{key:"wct",get:function(){return this.tct},set:function(t){this.Pm(),this.ect=void 0,this.rct=void 0,this.sct=void 0,this.tct=t}}]),n}(NH),rF=function(t){function n(){return t.call(this,"_ct")||this}return S(n,t),n}(gu),sF=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).gct=void 0,r.mct=void 0,r.yct=void 0,r.yrt=void 0,r.kct=void 0,r.lE=void 0,r.aq=void 0,r.pct=void 0,r.bct=function(){r.Qs(new rF)},r.yrt=n,r.kct=Nr({},i,{crossOrigin:r.yrt.crossOrigin,withCredentials:r.yrt.useCredentials,liveOffset:r.yrt.liveOffset,hlsDateRange:r.yrt.hlsDateRange}),r.lE=e,r.mct=[],r.aq=!1,r}S(n,t);var i=n.prototype;return i.Act=function(){if(this.yct)return this.yct.vm},i.RN=function(t){var n=this;hu(EL(function(){return n.Tct()},t))},i.Tct=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.Sct());case 2:if((t=u.sent).isMasterPlaylist)for(this.gct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new eF(this.lE,this.kct),this.mct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new eF(this.lE,this.kct),this.mct.push({stream:{uri:t.uri},updater:s});this.pct&&(this.Ect(this.pct.width,this.pct.height),this.pct=void 0),this.aq=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.Ict=function(t,n){this.aq?this.Ect(t,n):this.pct={width:t,height:n}},i.Ect=function(t,n){this.Rct();var i=this.Dct(t,n);i&&(this.yct=i.updater,this.yct.addEventListener("fct",this.bct),i.updater.RN(i.stream.uri))},i.Rct=function(){this.yct&&(this.yct.Pm(),this.yct.removeEventListener("fct",this.bct),this.yct=void 0)},i.Dct=function(t,n){return 1===this.mct.length?this.mct[0]:xs(this.mct,function(i){return i.stream.width===t&&i.stream.height===n})},i.Sct=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new iF(this.kct,SH.Yn.Pat,this.lE),i.next=3,Dr.awrap(t.jh(this.yrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.vm);case 5:case"end":return i.stop()}},null,this,null,We)},i.Sd=function(){this.Rct();for(var t=0,n=this.mct;t<n.length;t++){n[t].updater.Sd()}zs(this.mct)},n}(wu),uF=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Nct=void 0,r.Cct=void 0,r.LM=void 0,r.Pct=!1,r.o6=void 0,r.Qq=void 0,r.handleManifestUpdate=function(){var t=r.Nct.Act();if(t){var n=r.QD;if(n){var i=n.getTime(),e=r.o6;e||(e=new vL,r.o6=e),e.Zh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Pct&&e.j_.b_>0&&(r.Rm.g_(e),r.Qq.g_(e),r.Pct=!0)}}},r.Bct=function(){r.Nct&&r.Nct.Ict(r.jg,r.Yg)},r.Cct=i,r.LM=e,r.Qq=new eP(Kt(r)),r.Zs(bf.Cf,r.Bct),r}S(n,t);var i=n.prototype;return i.Om=function(n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.Om.call(this,n,i,e));case 2:n.hlsDateRange&&this.Oct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.Oct=function(t,n,i){this.Nct&&(this.Nct.tu("_ct",this.handleManifestUpdate),this.Nct.Sd()),this.Nct=new sF(t,n,this.Cct),this.Nct.Zs("_ct",this.handleManifestUpdate),this.Nct.RN(i)},i.k_=function(){return this.o6&&(this.Rm.m_(this.o6),this.Qq.m_(this.o6),this.o6.Sd(),this.o6=void 0,this.Pct=!1),this.Qq.k_(),t.prototype.k_.call(this)},i.Sd=function(){return this.tu(bf.Cf,this.Bct),this.Nct&&(this.Nct.tu("_ct",this.handleManifestUpdate),this.Nct.Sd()),this.Qq.Sd(),t.prototype.Sd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).xct=void 0,i.xct=n;for(var e=0;e<$T.length;e++){var r=$T[e];i.xct.Zs(r,i.js)}return i}S(n,t);var i=n.prototype;return i.xm=function(){return this.xct.xm()},i.Wm=function(){return this.xct.Wm()},i.Vm=function(){return this.xct.Vm()},i.zm=function(){return this.xct.zm()},i.Zm=function(){return this.xct.Zm()},i.Cm=function(){return this.xct.Cm()},i.Nm=function(){return this.xct.Nm()},i.k_=function(){return this.xct.k_()},i.Om=function(t,n,i){return this.xct.Om(t,n,i)},i.Fm=function(){return this.xct.Fm()},i.Lm=function(){return this.xct.Lm()},i.Mm=function(){return this.xct.Mm()},i.Sd=function(){this.$s();for(var t=0;t<$T.length;t++){var n=$T[t];this.xct.tu(n,this.js)}return this.xct.Sd()},A(n,[{key:"Em",get:function(){return this.xct.Em}},{key:"Km",get:function(){return this.xct.Km}},{key:"Jm",get:function(){return this.xct.Jm},set:function(t){this.xct.Jm=t}},{key:"Xg",get:function(){return this.xct.Xg},set:function(t){this.xct.Xg=t}},{key:"Hg",get:function(){return this.xct.Hg}},{key:"Fg",get:function(){return this.xct.Fg}},{key:"zg",get:function(){return this.xct.zg}},{key:"Dm",get:function(){return this.xct.Dm}},{key:"mu",get:function(){return this.xct.mu}},{key:"iy",get:function(){return this.xct.iy}},{key:"ey",get:function(){return this.xct.ey}},{key:"Vg",get:function(){return this.xct.Vg},set:function(t){this.xct.Vg=t}},{key:"_y",get:function(){return this.xct._y}},{key:"Wg",get:function(){return this.xct.Wg}},{key:"Gg",get:function(){return this.xct.Gg},set:function(t){this.xct.Gg=t}},{key:"gy",get:function(){return this.xct.gy}},{key:"yy",get:function(){return this.xct.yy},set:function(t){this.xct.yy=t}},{key:"Y_",get:function(){return this.xct.Y_}},{key:"py",get:function(){return this.xct.py}},{key:"qg",get:function(){return this.xct.qg}},{key:"QD",get:function(){return this.xct.QD}},{key:"Rm",get:function(){return this.xct.Rm}},{key:"Yg",get:function(){return this.xct.Yg}},{key:"Im",get:function(){return this.xct.Im}},{key:"jg",get:function(){return this.xct.jg}},{key:"Qg",get:function(){return this.xct.Qg},set:function(t){this.xct.Qg=t}},{key:"by",get:function(){return this.xct.by}},{key:"Ay",get:function(){return this.xct.Ay},set:function(t){this.xct.Ay=t}},{key:"ZD",get:function(){return this.xct.ZD}}]),n}(Lg));nF=function(t,n,i){return new uF(t,n,i)},qT.iN().eN(nF);var oF=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},aF=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),hF={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(hF,hF.exports);var cF=hF.exports;function fF(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function vF(t){return JSON.stringify(t,hF.exports.getSerialize(fF))}var lF={},dF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(dF);var wF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(wF);var _F={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(_F),d.defineProperty(lF,"__esModule",{value:!0});var gF=dF.isS,mF=dF.isChar,yF=dF.isNameStartChar,kF=dF.isNameChar,pF=dF.S_LIST,bF=dF.NAME_RE,AF=wF.isChar,TF=_F.isNCNameStartChar,SF=_F.isNCNameChar,EF=_F.NC_NAME_RE;const IF="http://www.w3.org/XML/1998/namespace",RF="http://www.w3.org/2000/xmlns/",DF={__proto__:null,xml:IF,xmlns:RF},NF={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},CF=-1,PF=-2,BF=0,OF=1,xF=2,LF=3,MF=4,UF=5,XF=6,HF=7,FF=8,zF=9,VF=10,WF=11,GF=12,qF=13,YF=14,jF=15,QF=16,ZF=17,KF=18,JF=19,$F=20,tz=21,nz=22,iz=23,ez=24,rz=25,sz=26,uz=27,oz=28,az=29,hz=30,cz=31,fz=32,vz=33,lz=34,dz=35,wz=36,_z=37,gz=38,mz=39,yz=40,kz=41,pz=42,bz=43,Az=44,Tz=9,Sz=10,Ez=13,Iz=32,Rz=33,Dz=38,Nz=45,Cz=47,Pz=59,Bz=60,Oz=61,xz=62,Lz=63,Mz=91,Uz=93,Xz=133,Hz=8232,Fz=t=>34===t||39===t,zz=[34,39],Vz=[...zz,Mz,xz],Wz=[...zz,Bz,Uz],Gz=[Oz,Lz,...pF],qz=[...pF,xz,Dz,Bz];function Yz(t,n,i){switch(n){case"xml":i!==IF&&t.fail(`xml prefix must be bound to ${IF}.`);break;case"xmlns":i!==RF&&t.fail(`xmlns prefix must be bound to ${RF}.`)}switch(i){case RF:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${RF}.`);break;case IF:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const jz=t=>EF.test(t),Qz=t=>bF.test(t),Zz=0,Kz=1,Jz=2;lF.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const $z={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var tV=lF.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=TF,this.nameCheck=SF,this.isName=jz,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},DF);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Yz(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=yF,this.nameCheck=kF,this.isName=Qz,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.do}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Zz,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?qF:BF,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.do=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(NF),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[$z[t]]=n}off(t){this[$z[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===Ez||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return CF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Iz||i===Tz)return i;switch(i){case Sz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Sz;case Ez:return t.charCodeAt(n+1)===Sz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,PF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return CF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Hz||i===Tz)return i;switch(i){case Sz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Sz;case Ez:{const i=t.charCodeAt(n+1);i!==Sz&&i!==Xz||(this.i=n+2)}case Xz:case Hz:return this.line++,this.column=0,this.positionAtNewLine=this.position,PF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===PF?Sz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===PF,s=r?Sz:e;if(s===CF||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case PF:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=Sz;break;case CF:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===CF)return this.name+=t.slice(n),CF;if(!kF(i))return this.name+=t.slice(n,this.prevI),i===PF?Sz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===CF||!gF(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=mF,this.getCode=this.getCode10):(this.isChar=AF,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=OF}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case Bz:if(this.state=jF,0!==this.text.length)throw new v("no-empty text at start");break;case CF:break;default:this.unget(),this.state=qF,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Vz);switch(n){case xz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=qF,this.doctype=!0;break;case CF:break;default:this.text+=String.fromCodePoint(n),n===Mz?this.state=MF:Fz(n)&&(this.state=LF,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=xF)}sDTD(){const t=this.captureTo(Wz);t!==CF&&(this.text+=String.fromCodePoint(t),t===Uz?this.state=xF:t===Bz?this.state=XF:Fz(t)&&(this.state=UF,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=MF,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Rz:this.state=HF,this.openWakaBang="";break;case Lz:this.state=WF;break;default:this.state=MF}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?FF:MF,this.openWakaBang="")}sDTDComment(){this.captureToChar(Nz)&&(this.text+="-",this.state=zF)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Nz?VF:FF}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===xz?this.state=MF:(this.fail("malformed comment."),this.state=FF)}sDTDPI(){this.captureToChar(Lz)&&(this.text+="?",this.state=GF)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===xz&&(this.state=MF)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case PF:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Pz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===qF&&void 0===this.textHandler||(this.text+=r);break t}case CF:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(yF(t))this.state=lz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case Cz:this.state=bz,this.xmlDeclPossible=!1;break;case Rz:this.state=QF,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Lz:this.state=iz;break;default:this.fail("disallowed character in tag name"),this.state=qF,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=$F,this.openWakaBang="";break;case"--":this.state=ZF,this.openWakaBang="";break;case"DOCTYPE":this.state=xF,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Nz)&&(this.state=KF)}sCommentEnding(){var t;const n=this.getCodeNorm();n===Nz?(this.state=JF,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=ZF)}sCommentEnded(){const t=this.getCodeNorm();t!==xz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=ZF):this.state=qF}sCData(){this.captureToChar(Uz)&&(this.state=tz)}sCDataEnding(){const t=this.getCodeNorm();t===Uz?this.state=nz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=$F)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case xz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=qF;break;case Uz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=$F}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=ez):t===Lz||gF(t)?(this.fail("processing instruction without a target."),this.state=t===Lz?sz:rz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=ez)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===CF)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Lz;e||gF(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?vz:uz):this.state=e?sz:rz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Lz?this.state=sz:gF(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Lz)&&(this.state=sz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===xz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=qF}else n===Lz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=rz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Lz?t!==CF&&(this.state=oz,this.name=String.fromCodePoint(t)):this.state=vz}sXMLDeclName(){const t=this.captureTo(Gz);if(t===Lz)return this.state=vz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(gF(t)||t===Oz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Oz?hz:az}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Lz)return this.state=vz,void this.fail("XML declaration is incomplete.");gF(t)||(t!==Oz&&this.fail("value required."),this.state=hz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Lz)return this.state=vz,void this.fail("XML declaration is incomplete.");gF(t)||(Fz(t)?this.q=t:(this.fail("value must be quoted."),this.q=Iz),this.state=cz)}sXMLDeclValue(){const t=this.captureTo([this.q,Lz]);if(t===Lz)return this.state=vz,this.text="",void this.fail("XML declaration is incomplete.");if(t===CF)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=fz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Lz?(gF(t)||(this.fail("whitespace required."),this.unget()),this.state=uz):this.state=vz}sXMLDeclEnding(){var t;this.getCodeNorm()===xz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=qF):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===CF)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case xz:this.openTag();break;case Cz:this.state=dz;break;default:gF(n)||this.fail("disallowed character in tag name."),this.state=wz}}sOpenTagSlash(){this.getCode()===xz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=wz)}sAttrib(){const t=this.skipSpaces();t!==CF&&(yF(t)?(this.unget(),this.state=_z):t===xz?this.openTag():t===Cz?this.state=dz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Oz?this.state=mz:gF(t)?this.state=gz:t===xz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==CF&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case CF:return;case Oz:this.state=mz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===xz?this.openTag():yF(t)?(this.unget(),this.state=_z):(this.fail("disallowed character in attribute name."),this.state=wz)}}sAttribValue(){const t=this.getCodeNorm();Fz(t)?(this.q=t,this.state=yz):gF(t)||(this.fail("unquoted attribute value."),this.state=pz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=kz);case Dz:return this.text+=n.slice(i,this.prevI),this.state=YF,void(this.entityReturnState=yz);case Sz:case PF:case Tz:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case Bz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case CF:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();gF(t)?this.state=wz:t===xz?this.openTag():t===Cz?this.state=dz:yF(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=_z):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(qz);switch(t){case Dz:this.state=YF,this.entityReturnState=pz;break;case Bz:this.fail("disallowed character.");break;case CF:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===xz?this.openTag():this.state=wz}}sCloseTag(){const t=this.captureNameChars();t===xz?this.closeTag():gF(t)?this.state=Az:t!==CF&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case xz:this.closeTag();break;case CF:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case Bz:if(this.state=jF,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Zz;break t;case Dz:this.state=YF,this.entityReturnState=qF,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Zz;break t;case Uz:switch(n){case Zz:n=Kz;break;case Kz:n=Jz;break;case Jz:break;default:throw new v("impossible state")}break;case xz:n===Jz&&this.fail('the string "]]>" is disallowed in char data.'),n=Zz;break;case PF:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Zz;break;case CF:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Zz}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case Bz:if(this.state=jF,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case Dz:this.state=YF,this.entityReturnState=qF,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case PF:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case CF:void 0!==i&&(this.text+=n.slice(t));break t;default:gF(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Yz(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Yz(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==BF&&this.state!==qF&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.do=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?RF:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=qF,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=qF,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=qF,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},nV=function(){function t(){}return t.prototype.ui=function(t){var n=new tV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new aV,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new uV(t))}),n.on("cdata",function(t){r(new oV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new rV({di:n,_i:""===i?void 0:i,Lct:""===s?void 0:s}),o=t.attributes,a=0,h=d.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,v=c.local,l=c.uri,w=c.value,_=new iV({di:v,Ai:w,_i:""===l?void 0:l,Lct:""===f?void 0:f});u.Mct(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new tn(t)}),n.write(t).close(),i},t}(),iV=function(){function t(t){this.Uct=void 0,this.Xct=void 0,this.Hct=void 0,this.ke=void 0,this.Uct=t.di,this.ke=t.Ai,this.Xct=t._i,this.Hct=t.Lct}var n=t.prototype;return n.ai=function(t){return this===t||!!cV(this,t)&&(this.Uct===t.Uct&&this.Xct===t.Xct&&this.Hct===t.Hct&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,Lct:this.gi})},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){return this.Uct}},{key:"wi",get:function(){return void 0===this.Hct?this.Uct:this.Hct+":"+this.Uct}},{key:"_i",get:function(){return this.Xct}},{key:"gi",get:function(){return this.Hct}},{key:"Ai",get:function(){return this.ke}}]),t}(),eV=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return hV(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return hV(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},A(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(hV)}}]),t}(),rV=function(t){function n(n){var i;return(i=t.call(this)||this).Uct=void 0,i.Xct=void 0,i.Hct=void 0,i.Fct=[],i.Uct=n.di,i.Xct=n._i,i.Hct=n.Lct,i}S(n,t);var i=n.prototype;return i.zct=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];hV(e)?e.zct(t):t.push(e.Fi)}},i.Oi=function(t,n){for(var i=0,e=this.Fct;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.Fct;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.Mct=function(t){this.Fct.push(t)},i.xi=function(t){for(var n=0;n<this.Fct.length;n++)if(this.Fct[n].wi===t)return void this.Fct.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.Fct.length;i++)if(this.Fct[i].di===n&&this.Fct[i]._i===t)return void this.Fct.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.Mct(new iV({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.Mct(new iV({di:e[e.length-1],Ai:i,_i:t,Lct:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,Lct:this.gi});return this.Xi.forEach(function(t){return i.Mct(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!cV(this,t)&&(this.Uct===t.Uct&&this.Hct===t.Hct&&this.Xct===t.Xct&&(fV(this.Xi,t.Xi)&&fV(this.Ii,t.Ii)))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"Xi",get:function(){return this.Fct}},{key:"di",get:function(){return this.Uct}},{key:"_i",get:function(){return this.Xct}},{key:"gi",get:function(){return this.Hct}},{key:"Ri",get:function(){return void 0===this.Hct?this.Uct:this.Hct+":"+this.Uct}},{key:"Hi",get:function(){var t=[];return this.zct(t),t.join("")}}]),n}(eV),sV=function(){function t(t){this.Gi=void 0,this.Gi=t}return A(t,[{key:"Fi",get:function(){return this.Gi}}]),t}(),uV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!cV(this,t)&&this.Fi===t.Fi},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(sV),oV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!cV(this,t)&&this.Fi===t.Fi},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(sV),aV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!cV(this,t)&&fV(this.Ii,t.Ii)},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(eV);function hV(t){return Qt(t)}function cV(t,n){return t.Kn===n.Kn}function fV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var vV,lV=["adBreak"],dV=["adBreak"];function wV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Lb(t,lV)})})})}function _V(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,Lb(t,dV)})})}function gV(t){return"string"==typeof t.date?new Date(t.date):t.date}function mV(t){var n;return t.cue.track?(n=kV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=kV(t.cue,""),n}function yV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function kV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new nV).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=pV(o);s[u]={type:vV.Vct,value:a}}else AV(o)?s[u]={type:vV.Wct,value:o}:s[u]={type:vV.TQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=pV(t.scte35Cmd),i.scte35Out=pV(t.scte35Out),i.scte35In=pV(t.scte35In),i.customAttributes=s}var h}(),i}function pV(t){if(void 0!==t)return Ou(t)}function bV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(kV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(kV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function AV(t){return"number"==typeof t}!function(t){t.TQ="daterange-ca-type_string",t.Wct="daterange-ca-type_number",t.Vct="daterange-ca-type_arraybuffer"}(vV||(vV={}));var TV={cue:function(t){var n={};switch(n.date=gV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=mV(t)}return n},textTrack:function(t){var n={};switch(n.date=gV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;RV().register(i);var e=IV()[DV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=mV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(kV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:bV(t.track),date:gV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=RV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=gV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case bf.Ff:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=bV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=_V(t.ad);break;case"adloaded":case"adimpression":n.ad=wV(t.ad);break;case"adskip":n.ad=wV(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.Gct&&(n.Gct=t.Gct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=wV(t.ad)}return yV(n)},minimizeCueHelper:function(t){var n={};return n.date=gV(t),n.type=t.type,n.cue=mV(t),n.track={uid:t.cue.track.uid},n},adReplacer:wV,adBreakReplacer:_V,removeCircularReferences:yV},SV=function(){this.stringify=vF,this.minimize=TV};function EV(){return le.self}function IV(){return EV().THEOplayerBridge}function RV(){return EV().THEOCueMirrorMap}function DV(){return EV().THEOplayerGlobalID}function NV(){var t=EV();if(t.THEOplayerBridge){var n=new oF;t.THEOplayerBridge=hg(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new oF;t.THEOplayerUtils||(t.THEOplayerUtils=new SV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new aF)}NV();var CV,PV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(gu),BV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new PV(t,n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(Mg),OV=function(t){function n(n,i){var e;return(e=t.call(this)||this).qct=void 0,e.Yct=void 0,e.jct=function(t){e.qct.aK("THEOplayerABRSetTargetBuffer",t.eL),e.Qs(t)},e.Qct=function(t){e.qct.aK("THEOplayerABRSetStrategy",t.sL),e.Qs(t)},e.qct=n,e.Yct=i,e.Yct.Zs("rL",e.jct),e.Yct.Zs("uL",e.Qct),e}return S(n,t),n.prototype.gL=function(t){return this.Yct.gL(t)},A(n,[{key:"yL",get:function(){var t;switch(this.sL.type){case GI.PERFORMANCE:return 1;case GI.QUALITY:return 0;case GI.BANDWIDTH:return null!=(t=this.sL.metadata)&&t.bitrate&&!m(this.sL.metadata.bitrate)?this.sL.metadata.bitrate:0;default:return 0}}},{key:"Gw",get:function(){return this.Yct.Gw}},{key:"sL",get:function(){return this.Yct.sL},set:function(t){this.Yct.sL=t}},{key:"eL",get:function(){return this.Yct.eL},set:function(t){this.Yct.eL=t}},{key:"mL",get:function(){return this.Yct.mL}},{key:"oL",get:function(){return this.Yct.oL},set:function(t){this.Yct.oL=t}},{key:"hL",get:function(){return this.Yct.hL}},{key:"Jx",get:function(){return this.Yct.Jx}}]),n}(wu),xV=function(){function t(t,n,i){this.Pc=void 0,this.ys=void 0,this.Vc=void 0,this.ic=void 0,this.Pc=t,this.ys=i,this.Vc=n}var n=t.prototype;return n.yE=function(t){throw new v("Not implemented yet.")},n.RX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.DX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.NX=function(t){return!1},n.CX=function(t){return We.resolve(void 0)},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.DX(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.DX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.BX(t),i.next=3,Dr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.BX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ic)){i.next=5;break}return i.next=4,Dr.awrap(n.cc(this.Vc));case 4:this.ic=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Dr.awrap(t.hc(this.Vc));case 8:this.ic=t;case 9:case"end":return i.stop()}},null,this,null,We)},n._E=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"rc",get:function(){return this.Pc}},{key:"yy",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"py",get:function(){return new rS([0,1/0])}},{key:"Rm",get:function(){throw new v("Not implemented yet.")}},{key:"Zct",get:function(){throw new v("Not implemented yet")}},{key:"Im",get:function(){throw new v("Not implemented yet.")}},{key:"Kct",get:function(){throw new v("Not implemented yet")}},{key:"Jct",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.$ct="webkitneedkey",t.tft="webkitkeymessage",t.nft="webkitkeyerror",t.ift="webkitkeyflowdone"}(CV||(CV={}));var LV=function(t){function n(n,i){var e;return(e=t.call(this,CV.$ct)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(gu),MV=function(t){function n(n,i){var e;return(e=t.call(this,CV.tft)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(gu),UV=function(t){function n(){return t.call(this,CV.nft)||this}return S(n,t),n}(gu),XV=function(t){function n(){return t.call(this,CV.ift)||this}return S(n,t),n}(gu),HV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).yc=new Go,u.Bc=void 0,u.bc=new Eu,u.xc=new Go,u.eft=function(t){u.Bc?(u.Bc.Gu(void 0),u.Bc=void 0):u.Ic("internal-error"),u.Qs(new bu)},u.rft=function(t){u.Qs(new pu(Kt(u),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},u.sft=function(t){u.Bc&&(u.Bc.Wu(void 0),u.Bc=void 0)},u.Dc=n,u.Vh=i,u.uft=e,u.Fc=r,u.Mc=s,u}S(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Uc){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Dr.awrap(this.oft(Xo(n),e));case 5:this.Ic("usable"),this.xc.Wu(),this.xc=new Go;case 8:case"end":return t.stop()}},null,this,null,We)},i.jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.Zh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Xo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Bc=new Go,this.uft.Zh(this.Fc,n),i.abrupt("return",this.Bc.Hu);case 6:case"end":return i.stop()}},null,this,null,We)},i.qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.xc);case 2:return this.uft.tu(CV.tft,this.rft),this.uft.tu(CV.nft,this.eft),this.uft.tu(CV.ift,this.sft),this.xc.Fs(),this.yc.Wu(void 0),t.abrupt("return",this.yc.Hu);case 8:case"end":return t.stop()}},null,this,null,We)},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.oft=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=tf(t,n,this.Mc),this.uft.Zs(CV.tft,this.rft),this.uft.Zs(CV.nft,this.eft),this.uft.Zs(CV.ift,this.sft),this.uft.Sq(this.Fc,i);case 5:case"end":return e.stop()}},null,this,null,We)},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"nc",get:function(){return this.Fc}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(wu),FV=function(){function t(t,n,i){this.aft=void 0,this.Fc=void 0,this.Mc=void 0,this.uft=void 0,this.Vh=void 0,this.Pc=void 0,this.Dc=void 0,this.uft=t,this.Vh=n,this.Pc=i;var e=Xc(i)||"video/mp4";this.Dc=xc(e)}var i=t.prototype;return i.uc=function(t){var i;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new HV(this.Dc,this.Vh,this.uft,this.Fc,this.Mc),this.aft=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.ac=function(t){return this.Mc=Xo(t),We.resolve(!0)},i.hc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.cc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"ec",get:function(){return this.Vh}},{key:"rc",get:function(){return this.Pc}},{key:"sessionId",set:function(t){this.Fc=t}}]),t}(),zV=function(){function t(t,n,i){this.hft=t,this.Vh=n,this.Pc=i}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new FV(this.hft,this.Vh,this.Pc));case 1:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),VV=function(){function t(t){this.hft=void 0,this.hft=t}return t.prototype.Ss=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Mc(WV,yu,t,e))){s.next=6;break}return s.abrupt("return",new zV(this.hft,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function WV(t,n){return t===is}var GV,qV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.xq=function(t,n){return!0},n}(pP),YV=function(t){function n(n,i,e){var r;return void 0===e&&(e=new VV(i)),(r=t.call(this)||this).JR=void 0,r.ys=void 0,r.TX=void 0,r.Hq=new KR,r.cft=void 0,r.hft=void 0,r.fft=!1,r.Fc=void 0,r.Lc=null,r.vft={sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.lft=function(t){"boolean"==typeof t.detail.casting&&(r.fft=t.detail.casting,r.Qs(new my(r.fft)))},r.dft=function(t){r.Fc=t.sessionId,r.Lc&&(r.Lc.sessionId=r.Fc);var n=t.initData;if(n){var i=RP(n);if(!i)return;r.Qs(new Au(qr,i))}else r.Qs(new Au(qr,new ArrayBuffer(0)))},r.cft=n,r.hft=i,r.hft.Zs(CV.$ct,r.dft),r.ys=e,r.TX=new qV(Kt(r)),r.wft(),r}S(n,t);var i=n.prototype;return i.UX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===$p.pE)return i}},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.k_());case 2:return this.$s(),this._ft(),this.hft.tu(CV.$ct,this.dft),t.next=7,Dr.awrap(this.TX.xs());case 7:case"end":return t.stop()}},null,this,null,We)},i.zm=function(){throw new v("Not implemented yet")},i._E=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.xD=function(){return!1},i.MD=function(t,n,i,e){throw new v("Not implemented yet")},i.yE=function(t){throw new v("Not implemented yet")},i.HD=function(){throw new v("Not implemented yet")},i.jh=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Hq.ZU(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.fs!==$p.pE){r.next=8;break}return nu(i),e=new xV(t,n,n.ys),n.JR=e,n.TX.jh(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.Cm=function(){throw new v("Not implemented yet")},i.Nm=function(){throw new v("Not implemented yet")},i.k_=function(){var t=this;return this.Hq.Fs(),this.Hq.ZU(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.JR){n.next=4;break}return n.next=3,Dr.awrap(t.JR.xs());case 3:t.JR=void 0;case 4:return n.next=6,Dr.awrap(t.TX.k_());case 6:case"end":return n.stop()}},null,null,null,We)})},i.xu=function(t,n){throw new v("Not implemented yet")},i.YD=function(t){throw new v("Not implemented yet")},i.Fm=function(){throw new v("Not implemented yet")},i.jD=function(){return this.vft},i.wft=function(){this.cft.addEventListener("airPlayIsCasting",this.lft)},i._ft=function(){this.cft.removeEventListener("airPlayIsCasting",this.lft)},i.webkitSetMediaKeys=function(t){this.Lc=t||null,this.Lc&&(this.Lc.sessionId=this.Fc)},i.Tj=function(){},i.bj=function(){throw new v("Not implemented yet")},i.Aj=function(){throw new v("Not implemented yet")},A(n,[{key:"Jm",get:function(){throw new v("Not implemented yet")}},{key:"Km",get:function(){throw new v("Not implemented yet")}},{key:"Xg",get:function(){throw new v("Not implemented yet")}},{key:"NU",get:function(){throw new v("Not implemented yet")}},{key:"Hg",get:function(){throw new v("Not implemented yet")}},{key:"Fg",get:function(){throw new v("Not implemented yet")}},{key:"mu",get:function(){throw new v("Not implemented yet")}},{key:"sT",get:function(){throw new v("Not implemented yet")}},{key:"iy",get:function(){return this.fft}},{key:"Vg",get:function(){throw new v("Not implemented yet")}},{key:"Wg",get:function(){throw new v("Not implemented yet")}},{key:"Gg",get:function(){throw new v("Not implemented yet")}},{key:"gy",get:function(){throw new v("Not implemented yet")}},{key:"Y_",get:function(){throw new v("Not implemented yet")}},{key:"py",get:function(){throw new v("Not implemented yet")}},{key:"qg",get:function(){throw new v("Not implemented yet")}},{key:"Ij",get:function(){throw new v("Not implemented yet")}},{key:"Qg",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Tk",get:function(){throw new v("Not implemented yet")}},{key:"XD",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Lc}},{key:"Rj",get:function(){return wD}},{key:"Rm",get:function(){throw new v("Not implemented yet")}},{key:"PU",get:function(){throw new v("Not implemented yet")}},{key:"QD",get:function(){throw new v("Not implemented yet")}},{key:"Sj",get:function(){return!0}},{key:"ED",get:function(){return this.TX.ED},set:function(t){this.TX.ED=t}},{key:"Dj",get:function(){},set:function(t){}},{key:"Uq",get:function(){return this.TX.Uq}}]),n}(Lg),jV=function(t){function n(n){var i;return(i=t.call(this,bf.Wf)||this).vft=n,i}return S(n,t),n}(gu);function QV(t){switch(t.type){case GV.TQ:return t.value;case GV.Wct:return wg(t.value);case GV.Vct:return Pu(t.value);default:return}}function ZV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.TQ="daterange-ca-type_string",t.Wct="daterange-ca-type_number",t.Vct="daterange-ca-type_arraybuffer"}(GV||(GV={}));var KV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).oR=void 0,u.gft=void 0,u.oR=n,u.gft=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.oR}},{key:"timestamp",get:function(){return this.gft}}]),n}(nf),JV=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return S(n,t),n}(KV),$V=function(){function t(t,n){this.pm=void 0,this.Qq=void 0,this.pm=new Ep,this.Qq=new tP(t,n)}var n=t.prototype;return n._E=function(t,n,i,e,r,s,u){var o=new tC(t,n,i,e,r,s,u);return this.pm.g_(o),this.Qq.g_(o),o},n.yE=function(t){this.pm.m_(t),this.Qq.m_(t),t.Sd()},n.k_=function(){for(var t=0,n=this.pm.p_.slice();t<n.length;t++){n[t].Sd()}this.pm.k_(),this.Qq.k_()},n.Sd=function(){this.k_(),this.pm.Sd(),this.Qq.Sd()},A(t,[{key:"Rm",get:function(){return this.pm}}]),t}(),tW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this)._C=0,u.kW=!1,u.$R=void 0,u.tD=void 0,u.mft=void 0,u.mC=!0,u.yC=1,u.mm=void 0,u.ym=void 0,u.Gq=void 0,u.Yq=void 0,u.pm=void 0,u.vE=void 0,u.ua=void 0,u.x8=rS.fC(),u.uW=rS.fC(),u.gC=!1,u.eY=rS.fC(),u.kC=void 0,u.yft=void 0,u.kft=void 0,u.pW=qg.Rg,u.AE=qg.Rg,u.cft=void 0,u.Qq=void 0,u.eD=void 0,u.qct=void 0,u.yrt=void 0,u.TC=void 0,u.KR=void 0,u.rD=void 0,u.hft=void 0,u.vft={sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.JR=void 0,u.pft=void 0,u.uD=new xT,u.oD=new FT,u.setCurrentTime=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.py.length){n.next=4;break}return u._C=t,n.next=4,Dr.awrap(u.cft.au("seekablechange"));case 4:u._C=u.updateCurrentTime(t),u.qct.aK("THEOplayerSetCurrentTime",u._C),u.kC=!0,u.Qs(new pm(u._C));case 8:case"end":return n.stop()}},null,null,null,We)},u.bft=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.x8=new rS(i),u.Qs(new kD(u.Xg))}},u.Aft=function(t){u.pW=t.detail.readyState,u.Qs(new Tm(+t.detail.currentTime,u.Y_)),u.Tft()},u.Sft=function(t){u.pW=t.detail.readyState,u.Qs(new Sm(+t.detail.currentTime,u.Y_)),u.Tft()},u.Eft=function(t){if(t.detail){var n=+t.detail.duration;u.ua=n,u.Qs(new _m(u.Hg))}},u.Ift=function(t){t.detail&&(u.kW=!0,u.Qs(new ym(+t.detail.currentTime)))},u.aD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);ZV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.tD=new JV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.$R=Jm(u.tD),u.Qs(new Im(u.tD))):ZV(i)&&(u.tD=new KV(i.name,i.message,void 0,i.code,i.timestamp),u.$R=Jm(u.tD),u.Qs(new Im(u.tD)))}},u.Rft=function(t){u.Qs(new pD)},u.Dft=function(t){u.pW=t.detail.readyState,u.Qs(new km(+t.detail.currentTime,u.Y_)),u.Tft()},u.Nft=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.py.length){n.next=3;break}return n.next=3,Dr.awrap(u.cft.au("seekablechange"));case 3:u.pW=t.detail.readyState,u.Qs(new wm(+t.detail.currentTime,u.Y_)),u.Tft();case 6:case"end":return n.stop()}},null,null,null,We)},u.Cft=function(t){t.detail&&u.mC&&(u.mC=!1,u.Qs(new vm(+t.detail.currentTime)))},u.Pft=function(t){t.detail&&(u.mC||(u.mC=!0,u.Qs(new fm(+t.detail.currentTime))))},u.Bft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.eY=new rS(i)}},u.Oft=function(t){t.detail&&u.Qs(new fb(+t.detail.currentTime))},u.xft=function(t){t.detail&&(u.yC=t.detail.playbackRate,u.Qs(new gm(+t.detail.currentTime,u.yC)))},u.Lft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.uW=new rS(i)}},u.Mft=function(t){t.detail&&(u._C=+t.detail.currentTime,u.kC=!1,u.Qs(new mm(u._C,u.mft)),u.Qs(new bm(u._C)))},u.Uft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ua&&(u.kW=!1),u.kC=!0,u.Qs(new pm(n))}},u.Xft=function(t){t.detail&&(t.detail.currentDate&&(u.mft=new Date(1e3*t.detail.currentDate)),u._C=+t.detail.currentTime,u.Qs(new mm(u._C,u.mft)))},u.Hft=function(t){u.yft=t.detail.height,u.kft=t.detail.width},u.Fft=function(t){t.detail&&u.Qs(new cb(+t.detail.currentTime))},u.zft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Em.g_(new vy(n))},u.Vft=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.mm.b_;s++){var o=u.Em.__(s);o.L_==e&&o.x_==r?i=u.mm.__(s):1==o.C_&&(n=u.mm.__(s))}i&&n&&(i.C_=!0,n.C_=!1)},u.Wft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Im.g_(new gy(n))},u.LZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Sp.Kb&&e===wy.ID3?(n=new uP("",t.detail.label)).W_=Eg.H_:i===Sp.Kb&&e===wy.DATE_RANGE?(n=new vL,u.pft=n):n=new tC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Gq.g_(n),u.Qq.g_(n)},u.Gft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new rP(wg(e.startTime),s,e.uid),a=u.qft();a&&a.mE(o)}},u.Yft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new xy(wg(r.startTime),wg(r.endTime),r.content,!1),o=null!=(e=u.jft(Sp.Qb))?e:u.jft(Sp.$S);o&&(o.fs=wy.WEBVTT,o.mE(s))}},u.KY=function(t){t.type===bf.vf&&(u.$R=Jm(t.errorObject)),u.js(t)},u.Qft=function(t){t.detail&&(u.vft.uy=t.detail.corruptedVideoFrames,u.vft.sy=t.detail.droppedVideoFrames,u.Qs(new jV(u.ey)))},u.Zft=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={P_:t.id};if(void 0!==t.startDate&&(n.QD=new Date(t.startDate)),void 0!==t.endDate&&(n.CJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=QV(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.BJ=e}void 0!==t.scte35Cmd&&(n.xJ=Pu(t.scte35Cmd)),void 0!==t.scte35In&&(n.UJ=Pu(t.scte35In)),void 0!==t.scte35Out&&(n.MJ=Pu(t.scte35Out)),void 0!==t.startTime&&(n.Vy=t.startTime),n.NJ=t.class,n.Hg=wg(t.duration),n.PJ=wg(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Vy?t.Vy:(new Date).getTime(),e=new cL(t,i);u.pft.mE(e),u.pft.Zh(n,i)})};var o=r.uid;u.qct=u.getSdkBridge(o),u.cft=new BV,IV()[o].sdkEventBus=u.cft,u.mm=new ty,u.ym=new ty;var a=u.Kft(e);return u.vE=new $V(Kt(u),new nP),u.Qq=new eP(Kt(u)),u.eD=new Yp(u.vE,a),u.Gq=new Ep,u.Yq=new hP(u.vE,u.Gq),u.pm=new UT([u.Gq,u.eD.VA,u.Yq.VA]),u.hft=u.getFairPlayControllerBridge(u.qct),u.KR=new YV(u.cft,u.hft),u.rD=new LT(a),u.KR.ED=u.rD,u.observeMediaElement(),u.DD(),u.TC=new OV(u.qct,s),u.TC.Zs("rL",function(){u.qct.aK("THEOplayerSetPreferredForwardBufferDuration",u.TC.eL)}),u}S(n,t);var i=n.prototype;return i.Wm=function(){return oS},i.Fm=function(){this.qct.aK("THEOplayerShow",{})},i.zm=function(){this.qct.aK("THEOplayerHide",{})},i.Jft=function(){var t=this;this.qct.aK("THEOplayerSetInitialPreferredPeakBitRate",this.TC.yL);this.Zs("playing",function n(){t.qct.aK("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.Om=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.yrt=t,i=Nr({},n,{sources:{src:t.src,type:Vg.yg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.qct.aK("THEOplayerSourceChange",i),e={fs:$p.pE,Z_:t.src,Nl:t.type,ND:this.CD(t),PD:t.crossOrigin,BD:n.metadata&&n.metadata.title},this.rD.xR(t.contentProtection),s.next=7,Dr.awrap(this.KR.jh(e));case 7:this.JR=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==wy.WEBVTT})).length>0&&this.OD(r),Jp(this.Rm),this.Jft();case 11:case"end":return s.stop()}},null,this,null,We)},i.CD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:us,WD:[{initDataTypes:[us.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Nm=function(){this.mC=!1,this.Qs(new vm(this.Xg)),this.qct.aK("THEOplayerPlay",{})},i.Cm=function(){this.mC=!0,this.Qs(new fm(this.Xg)),this.qct.aK("THEOplayerPause",{})},i.Vm=function(){},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._C=0,this.kW=!1,this.$R=void 0,this.tD=void 0,this.mC=!0,this.yC=1,this.ua=void 0,this.uW=rS.fC(),this.x8=rS.fC(),this.yft=void 0,this.kft=void 0,this.pW=qg.Rg,this.AE=qg.Rg,this.mm.k_(),this.ym.k_(),this.Gq.k_(),this.pm.k_(),t.next=19,Dr.awrap(this.Yq.k_());case 19:return t.next=21,Dr.awrap(this.eD.k_());case 21:return this.vE.k_(),this.Qq.k_(),this.yrt=void 0,t.next=26,Dr.awrap(this.KR.k_());case 26:case"end":return t.stop()}},null,this,null,We)},i.Lm=function(){this.qct.aK("THEOplayerShowAirPlayPicker",{})},i.Mm=function(){this.qct.aK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.ey.uy=t.uy,this.ey.sy=t.sy},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.k_());case 2:return this.$s(),this.unobserveMediaElement(),this.zD(),this.KR.ED=void 0,t.next=8,Dr.awrap(this.KR.xs());case 8:return this.mm.Sd(),this.ym.Sd(),this.Gq.Sd(),this.pm.Sd(),t.next=14,Dr.awrap(this.Yq.Sd());case 14:return t.next=16,Dr.awrap(this.eD.Sd());case 16:this.vE.Sd(),this.Qq.Sd();case 18:case"end":return t.stop()}},null,this,null,We)},i.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eD.wE(i)}},i.Tft=function(){var t=this.AE,n=this.pW;t!==n&&(this.AE=n,this.Qs(new Em(this.Xg,n)))},i.observeMediaElement=function(){this.KR.Zs(bf.sf,this.js),this.KR.Zs([bf.lf,bf.vf],this.KY),this.cft.addEventListener("play",this.Cft),this.cft.addEventListener("pause",this.Pft),this.cft.addEventListener("seeking",this.Uft),this.cft.addEventListener("seeked",this.Mft),this.cft.addEventListener("ratechange",this.xft),this.cft.addEventListener("durationchange",this.Eft),this.cft.addEventListener("timeupdate",this.Xft),this.cft.addEventListener("waiting",this.Fft),this.cft.addEventListener("playing",this.Oft),this.cft.addEventListener("ended",this.Ift),this.cft.addEventListener("loadedmetadata",this.Nft),this.cft.addEventListener("loadeddata",this.Dft),this.cft.addEventListener("loadstart",this.Rft),this.cft.addEventListener("canplay",this.Aft),this.cft.addEventListener("canplaythrough",this.Sft),this.cft.addEventListener("error",this.aD),this.cft.addEventListener("seekablechange",this.Lft),this.cft.addEventListener("videosizechange",this.Hft),this.cft.addEventListener("bufferedchange",this.bft),this.cft.addEventListener("playedchange",this.Bft),this.cft.addEventListener("metricschange",this.Qft),this.cft.addEventListener("addDateRangeCues",this.Zft)},i.unobserveMediaElement=function(){this.KR.tu(bf.sf,this.js),this.KR.tu([bf.lf,bf.vf],this.KY),this.cft.removeEventListener("play",this.Cft),this.cft.removeEventListener("pause",this.Pft),this.cft.removeEventListener("seeking",this.Uft),this.cft.removeEventListener("seeked",this.Mft),this.cft.removeEventListener("ratechange",this.xft),this.cft.removeEventListener("durationchange",this.Eft),this.cft.removeEventListener("timeupdate",this.Xft),this.cft.removeEventListener("waiting",this.Fft),this.cft.removeEventListener("playing",this.Oft),this.cft.removeEventListener("ended",this.Ift),this.cft.removeEventListener("loadedmetadata",this.Nft),this.cft.removeEventListener("loadeddata",this.Dft),this.cft.removeEventListener("loadstart",this.Rft),this.cft.removeEventListener("canplay",this.Aft),this.cft.removeEventListener("canplaythrough",this.Sft),this.cft.removeEventListener("error",this.aD),this.cft.removeEventListener("seekablechange",this.Lft),this.cft.removeEventListener("videosizechange",this.Hft),this.cft.removeEventListener("bufferedchange",this.bft),this.cft.removeEventListener("playedchange",this.Bft),this.cft.removeEventListener("metricschange",this.Qft),this.cft.removeEventListener("addDateRangeCues",this.Zft)},i.updateCurrentTime=function(t){var n=this.py.start(0),i=this.py.end(0);return w.min(w.max(t,n),i)},i.qft=function(){for(var t=0,n=this.pm.p_;t<n.length;t++){var i=n[t];if(i.O_===Sp.Kb&&i.fs===wy.ID3)return i}},i.jft=function(t){for(var n=0,i=this.pm.p_;n<i.length;n++){var e=i[n],r=e.W_===Eg.F_,s=e.O_===t;if(r&&s)return e}},i.DD=function(){this.cft.addEventListener("addaudiotrack",this.zft),this.cft.addEventListener("enableaudiotrack",this.Vft),this.cft.addEventListener("addvideotrack",this.Wft),this.cft.addEventListener("addtexttrack",this.LZ),this.cft.addEventListener("addtexttrackid3cues",this.Gft),this.cft.addEventListener("addtexttrackcues",this.Yft)},i.zD=function(){this.cft.removeEventListener("addaudiotrack",this.zft),this.cft.removeEventListener("enableaudiotrack",this.Vft),this.cft.removeEventListener("addvideotrack",this.Wft),this.cft.removeEventListener("addtexttrack",this.LZ),this.cft.removeEventListener("addtexttrackid3cues",this.Gft),this.cft.removeEventListener("addtexttrackcues",this.Yft)},i.Zm=function(){},A(n,[{key:"Em",get:function(){return this.mm}},{key:"Km",get:function(){return this.x8.qD()}},{key:"Jm",get:function(){return this.mft?this.mft:null},set:function(t){this.qct.aK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.mft=t}},{key:"Xg",get:function(){return this._C},set:function(t){this.setCurrentTime(t)}},{key:"Hg",get:function(){return this.ua}},{key:"Fg",get:function(){return this.kW}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Dm",get:function(){}},{key:"iy",get:function(){return this.KR.iy}},{key:"ey",get:function(){return this.vft}},{key:"Vg",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.qct.aK("THEOplayerSetMuted",t),this.gC=t,this.Qs(new Am(this.Xg,t?0:1)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.qct.aK("THEOplayerSetPlaybackRate",t),this.yC=t}},{key:"gy",get:function(){return this.eY.qD()}},{key:"yy",get:function(){return ZT.wN},set:function(t){}},{key:"Y_",get:function(){return this.pW}},{key:"py",get:function(){return this.uW.qD()}},{key:"qg",get:function(){return this.kC}},{key:"QD",get:function(){}},{key:"Rm",get:function(){return this.pm}},{key:"Yg",get:function(){return this.yft}},{key:"jg",get:function(){return this.kft}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"by",get:function(){return this.oD}},{key:"Im",get:function(){return this.ym}},{key:"ZD",get:function(){return this.uD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!0}}]),n}(Lg),nW=function(){function t(){this.KD=NT.ER}var n=t.prototype;return n.JD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Zg(n.type))return!1;var e=n.contentProtection;if(e&&!Zb(e)){if(!$b(e))return!1;if(!t.Sut(e))return!1}return!0},t.Sut=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.$D=function(){return!1},t}(),iW=function(){function t(){this.$ft=r.webkit}return t.prototype.aK=function(t,n){this.$ft.messageHandlers[t]&&this.$ft.messageHandlers[t].postMessage(n)},t}(),eW=function(t){function n(n){var i;return(i=t.call(this)||this).qct=void 0,i.cft=void 0,i.tvt=function(t){var n=Pu(t.detail.initData),e=t.detail.sessionId;i.Qs(new LV(n,e))},i.nvt=function(t){var n=new y(Fu(t.detail.message)),e=t.detail.destinationURL;i.Qs(new MV(n,e))},i.ivt=function(t){i.Qs(new UV)},i.forwardKeyFlowDone=function(t){i.Qs(new XV)},i.qct=n,i.cft=new BV,IV().fairplayController={sdkEventBus:i.cft},i.evt(),i}S(n,t);var i=n.prototype;return i.evt=function(){this.cft.addEventListener(CV.$ct,this.tvt),this.cft.addEventListener(CV.tft,this.nvt),this.cft.addEventListener(CV.nft,this.ivt),this.cft.addEventListener(CV.ift,this.forwardKeyFlowDone)},i.Sq=function(t,n){var i={playerId:DV(),data:zu(n.buffer),sessionId:t};this.qct.aK("THEOplayerCreateKeySession",i)},i.Zh=function(t,n){var i={playerId:DV(),data:zu(n.buffer),sessionId:t};this.qct.aK("THEOplayerUpdateKey",i)},n}(Lg),rW=function(t){var n=this;this.cft=void 0,this.rvt=void 0,this.svt=function(){n.rvt.WZ()},this.uvt=function(){n.rvt.VZ()},this.cft=new BV,this.rvt=t,this.cft.addEventListener("showTracks",this.svt),this.cft.addEventListener("hideTracks",this.uvt),IV().texttracks={sdkEventBus:this.cft}},sW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).QZ=void 0,o.ZZ=void 0,o.ovt=void 0;var a=i.TD($m.wd);return o.QZ=new MP,o.QZ.Ej(n),o.ZZ=new UB(o.QZ.$m,a.NU,o.Rm,u,a.XD),o.ovt=new rW(o.ZZ),i.VD(a),le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.add("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.Fm=function(){t.prototype.Fm.call(this),this.QZ.Fm()},i.zm=function(){t.prototype.zm.call(this),this.QZ.zm()},i.xm=function(){return!0},i.getSdkBridge=function(){return new iW},i.getFairPlayControllerBridge=function(){return oW},i.Kft=function(t){return t},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="#000000",n.next=3,Dr.awrap(t.prototype.Sd.call(this));case 3:this.ZZ.Sd(),this.QZ.Sd();case 5:case"end":return n.stop()}},null,this,null,We)},n}(tW);jT(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.kI=function(t,n,i,e,r,s){return new sW(t,n,i,e,r,s)},i.JD=function(n,i){if(n.type){var e=ar();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.JD.call(this,n,i)},n}(nW)));var uW,oW=new eW(new iW),aW=function(t){function n(){return t.call(this,"avt")||this}return S(n,t),n.prototype.qw=function(){return new hW},n}(j_),hW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(gu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(uW||(uW={}));var cW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cvt=new Lg,n.js=function(t){n.Qs(t)},n}S(n,t);var i=n.prototype;return i.qw=function(){return n=function(t){var n=t.fvt.map(function(t){return t.Gw});return n.item=function(n){n|=0;var i=t.__(n);return i&&i.Gw||void 0},n}(t=this),i=new vR(t,n),n.addEventListener=function(t,n){i.Zs(t,n)},n.removeEventListener=function(t,n){i.tu(t,n)},n;var t,n,i},i.Zs=function(t,n){this.cvt.Zs(t,n)},i.Js=function(t){this.cvt.Js(t)},i.$s=function(){this.cvt.$s()},i.Qs=function(t){this.cvt.Qs(t)},i.tu=function(t,n){this.cvt.tu(t,n)},i.uu=function(t){this.cvt.uu(t)},i.ou=function(t){this.cvt.ou(t)},i.au=function(t,n){return this.cvt.au(t,n)},n}(function(){function t(){this.Su=[],this.Ww=void 0}var n=t.prototype;return n.__=function(t){return this.Su[t]},n.Sy=function(t){this.Su.push(t),this.Ww&&this.Ww.push(t.Gw),this.vvt(t)},n.lvt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Sy(i)}},n.dvt=function(t,n){n>=0&&n<=this.Su.length&&(this.Su.splice(n,0,t),this.Ww&&this.Ww.splice(n,0,t.Gw),this.vvt(t))},n.Ey=function(t){return Hs(this.Su,t)},n.Qh=function(t){this.wvt(this.Su.indexOf(t))},n.wvt=function(t){if(t>=0&&t<this.Su.length){var n=this.Su[t];Xs(this.Su,t),this.Ww&&Xs(this.Ww,t),this._vt(n)}},n.Nu=function(){var t=this.Su.slice();zs(this.Su),this.Ww&&zs(this.Ww);for(var n=0;n<t.length;n++){var i=t[n];this._vt(i)}},A(t,[{key:"fvt",get:function(){return this.Su}},{key:"b_",get:function(){return this.Su.length}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),t}());var fW,vW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(gu),lW=function(t){function n(n){var i;return(i=t.call(this,"mvt")||this).gvt=n,i}return S(n,t),n.prototype.qw=function(){return new vW(this.gvt.Gw)},n}(j_),dW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(gu),wW=function(t){function n(n){var i;return(i=t.call(this,"yvt")||this).task=n,i}return S(n,t),n.prototype.qw=function(){return new dW(this.task.Gw)},n}(j_),_W=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.vvt=function(t){this.Qs(new lW(t))},i._vt=function(t){this.Qs(new wW(t))},n}(cW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(fW||(fW={}));var gW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).kvt=fW.UNINITIALISED,r.GU=new _W,r.jht=void 0,r.pvt=void 0,r.bvt=void 0,r.bvt=i,r.pvt=e,r.jht=n,r.Um(),r}S(n,t);var i=n.prototype;return i.Um=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Avt());case 2:this.Tvt(fW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.Avt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.Svt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.Svt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.jht.Eat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.bvt.Evt(i.id,i.sourceDescription,i.parameters,this.pvt),this.Ivt(e),this.GU.Sy(e);case 4:case"end":return r.stop()}},null,this,null,We)},i.Tvt=function(t){this.kvt=t,this.Qs(new aW)},i.Evt=function(t,n,i){void 0===i&&(i="persistent");var e=this.bvt.Rvt(t,n,i);return this.Dvt(e,i),this.GU.Sy(e),this.Ivt(e),e},i.Dvt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Nvt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i.Nvt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.jht.Aat({key:t.P_,id:t.P_,sourceDescription:t.cN,parameters:t.wc},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.Ivt=function(t){var n=this;t.Zs("avt",function(){t.zl===uW.EVICTED&&n.GU.Qh(t)})},A(n,[{key:"zl",get:function(){return this.kvt}},{key:"Cvt",get:function(){return this.GU}}]),n}(wu);function mW(t,n){return function(t,n){var i=t.Tk&&n.Tk,e=t.sT&&n.sT;return i||e?i&&e?t.Tk*t.sT-n.Tk*n.sT:i?t.Tk-n.Tk:e?t.sT-n.sT:(t.Tk||1)*(t.sT||1)-(n.Tk||1)*(n.sT||1):0}(t,n)||function(t,n){return t.NR-n.NR}(t,n)}var yW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(gu),kW=function(t){function n(){return t.call(this,"Pvt")||this}return S(n,t),n.prototype.qw=function(){return new yW},n}(j_),pW=function(){function t(t,n,i){if(this.Bvt=void 0,this.Ovt=t,this.Ty=n,this.xvt=i,0===this.Ty.size)this.Bvt=rS.fC();else{var e=new rS([-1/0,1/0]);this.Ty.forEach(function(t){e=e.FN(t.timeRanges)}),this.Bvt=e}}return t.prototype.lk=function(t){return!!fg(this.Ty,t.Ty)&&(!!Ht(this.Ovt,t.Ovt)&&(!!Ht(this.oC,t.oC)&&(!!Ht(this.Lvt,t.Lvt)&&this.Mvt.nC(t.Mvt))))},t.Uvt=function(){return AW},A(t,[{key:"oC",get:function(){return this.xvt}},{key:"Xvt",get:function(){return this.Ovt}},{key:"Lvt",get:function(){return this.Mvt.oC}},{key:"Hvt",get:function(){var t=0,n=0;return this.Ty.forEach(function(i){t+=i.timeRanges.oC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"Mvt",get:function(){return this.Bvt}}]),t}(),bW=Pr(),AW=new pW(0,bW,NaN);function TW(t,n){if(q(t)){if(vs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var SW,EW=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"Fvt"}}]),n}($t);function IW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.zvt;r<s.length;r++)u=s[r],e.push(RW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Hg:t.Wvt.Vvt(),Gvt:[t.qvt],zvt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function RW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Yvt;r<s.length;r++)u=s[r],e.push(DW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{jvt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function DW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Qvt;r<s.length;r++)NW(u=s[r])||e.push(OW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{VA:o,fs:t.fs});case 6:case"end":return a.stop()}},null,null,null,We)}function NW(t){return t.K0.every(BW)}!function(t){t[t.gg=0]="gg",t[t.yg=1]="yg"}(SW||(SW={}));var CW,PW=1;function BW(t){return t.Zvt!==PW&&Boolean(t.Zvt)}function OW(t,n,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.K0;r<s.length;r++)BW(u=s[r])||e.push(LW(u,i));return v.next=4,Dr.awrap(We.all(e));case 4:return o=v.sent,a=t.XF[0],h=t.Z0,c=h?xW(a,h):void 0,f=mx(t,n),v.abrupt("return",{M_:o,L_:t.irt,fs:t.fs,ND:c,Kvt:f});case 10:case"end":return v.stop()}},null,null,null,We)}function xW(t,n){for(var i=[],e=function(t){return t?vs(t,"avc")?Nc.VIDEO_H264:vs(t,"hev")||vs(t,"hvc")||vs(t,"hvt")||vs(t,"lhv")||vs(t,"lhe")||vs(t,"lht")?Nc.VIDEO_H265:vs(t,"mp4")?Nc.VIDEO_MP4:vs(t,"mpeg2")?Nc.VIDEO_MPEG2:vs(t,"mpeg")?Nc.VIDEO_MPEG:Nc.VIDEO_UNKNOWN:Nc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.V0.split(":").pop(),o=s.W0;i.push({mimeType:e,uuid:u,data:o})}return{type:SW.gg,schemeType:Wr,schemeDatas:i}}function LW(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(MW(t,n));case 2:r=u.sent,s={P_:XW(t),WS:r,NR:t.NR,$e:t.$e,sT:t.sT,fs:t.fs,Tk:t.Tk},u.t0=t.fs,u.next=u.t0===$m.$n?7:u.t0===$m.wd?8:u.t0===$m.dd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.JK=null!=(i=null==(e=t.JK)?void 0:e.Ek())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.nJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function MW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Jvt,t.Pht&&i.push({Vy:0,Hg:0,$vt:t.Pht}),r=e.tlt(),s=r;case 5:if(!s){c.next=17;break}if(!t.nlt(s)){c.next=13;break}return c.next=9,Dr.awrap(t.ilt(s,n,(new Js).Ws));case 9:for(u=c.sent,o=0;o<u.b_;o++)i.push(UW(u.elt(o),t));c.next=14;break;case 13:i.push(UW(s,t));case 14:s=e.rlt(s),c.next=5;break;case 17:return a=e.slt(),h=a.Wy-r.Vy,c.abrupt("return",{Hg:h,iJ:i});case 20:case"end":return c.stop()}},null,null,null,We)}function UW(t,n){return{Vy:t.Vy,Hg:t.Hg,$vt:n.ult(t)}}function XW(t){return t.olt.RN+"-"+(""+t.P_)}function HW(t,n){return function(t,n){for(var i={},e=0;e<dO.length;e++){var r=dO[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],v=FW(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.QJ]||(n[e.QJ]={fs:e.fs,JA:[]}),n[e.QJ].JA.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.JA;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.fs])?a:i[o]={};c[h.wi]||(c[h.wi]=[]),c[h.wi].push(h)}return i}(t),n)}function FW(t,n,i){for(var e=t.QJ,r={_$:t,z$:[]},s=0;s<i.length;s++){var u=i[s];TL(n,e,u)&&r.z$.push(u)}return r}function zW(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(n.Ght([t],{}));case 2:return i=e.sent,e.abrupt("return",nL(i.jl,{},i.zht));case 4:case"end":return e.stop()}},null,null,null,We)}function VW(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!hO(t)){i.next=4;break}return i.abrupt("return",WW(t,n));case 4:return i.abrupt("return",(r=void 0,{Hg:(r=$W(e=t)).Hg,Gvt:[e.JJ],zvt:[{jvt:[{fs:$m.Kl,VA:[{fs:$m.Kl,L_:YM,M_:[{P_:e.JJ,WS:r,NR:0,$e:"",sT:0,fs:$m.Kl,Tk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function WW(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=HW(t.JA,t.X1),s.next=3,Dr.awrap(YW(i,n));case 3:return e=s.sent,s.next=6,Dr.awrap(qW(t.X1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Hg:GW(e),Gvt:[t.JJ],zvt:[{jvt:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function GW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].VA;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.M_.map(function(t){return t.WS.Hg})))}return n}function qW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Dr.awrap(JW(a.JJ,n));case 6:(h=c.sent).NR=a.NR,h.$e=a.XF?[(f=a.XF).UF,f.MF,f.HF].filter(H).join(","):"",h.sT=null!=(r=null==(s=a.D$)?void 0:s.sT)?r:0,h.Tk=null!=(u=null==(o=a.D$)?void 0:o.Tk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{fs:$m.Kl,VA:[{L_:YM,fs:$m.Kl,M_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,We)}function YW(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<dO.length)){o.next=13;break}if(r=dO[e],!(s=t[r])){o.next=10;break}return o.next=8,Dr.awrap(jW(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,We)}function jW(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Dr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Dr.awrap(QW(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{fs:ZW(n),VA:e});case 12:case"end":return o.stop()}},null,null,null,We)}function QW(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0]._$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Dr.awrap(KW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{L_:e.L_||YM,fs:ZW(e.fs),M_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function ZW(t){switch(t){case sO.dd:return $m.dd;case sO.wd:return $m.wd;case sO.Qb:case sO.IJ:return $m.$n;default:return $m.Kl}}function KW(t,n){var i,e,r;return JW((e=(i=t)._$.JJ,r=i.z$.map(function(t){return t.JJ}),e||(r.length?r[0]:void 0)),n)}function JW(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Hg:0,iJ:[]},!t){r.next=6;break}return r.next=4,Dr.awrap(zW(t,n));case 4:cO(e=r.sent)&&(i=$W(e));case 6:return r.abrupt("return",{P_:t||"default",hlt:t,WS:i,NR:0,$e:"",sT:0,fs:$m.Kl,Tk:0});case 7:case"end":return r.stop()}},null,null,null,We)}function $W(t){for(var n,i=[],e=0,r=0,s=t.iJ;r<s.length;r++){var u=s[r],o=e;!u.V1||void 0!==n&&gO(u.V1.JJ,n)||(i.push(tG(u.V1,o)),n=u.V1.JJ),i.push(nG(u,o)),e+=u.Hg}return{Hg:e,iJ:i}}function tG(t,n){return{Vy:n,Hg:0,$vt:iG(t.JJ)}}function nG(t,n){return{Vy:n,Hg:t.Hg,$vt:iG(t.JJ)}}function iG(t){return{Ql:t.Ai,Tht:t.RJ?[t.RJ.RN,t.RJ.RN+t.RJ.b_]:void 0,bd:!1}}!function(t){t.pE="static",t.bE="dynamic"}(CW||(CW={}));var eG,rG=31536e3,sG=2592e3,uG=86400,oG=3600,aG=60,hG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,cG=function(){function t(t){this.clt=void 0;var n=t.match(hG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.clt=i*rG+e*sG+r*uG+s*oG+u*aG+o}var n=t.prototype;return n.Vvt=function(){return this.clt},n.flt=function(){return 1e3*this.clt},A(t,[{key:"rtt",get:function(){return $y.Np(this.clt,1e3)}}]),t}();!function(t){t.vlt="progressive",t.llt="interlaced",t.Kl="unknown"}(eG||(eG={}));var fG=function(){function t(t,n){this.dlt=t,this.wlt=n}return t.prototype.Ek=function(){return this.dlt/this.wlt},t}(),vG=/^(?:true|false)$/i,lG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function dG(t){if(void 0!==t)return new cG(t)}function wG(t){if(void 0!==t){var n=t.match(lG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),p=Number(a),b=Number("0."+(h||"")),A=w.round(1e3*b);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,p,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function _G(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[mG(n[1]),mG(n[2])]}}function gG(t){if(void 0!==t){if(!m(Number(t)))try{return ft.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function mG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function yG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new fG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function kG(t){if(void 0!==t){if(vG.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function pG(t){return{Ql:t.Hi,_lt:kG(t.Bi("availabilityTimeComplete")),glt:mG(t.Bi("availabilityTimeOffset"))}}function bG(t){return t.map(pG)}function AG(t){var n,i,e,r,s,u,o=OG(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),h=sp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Fu(h.Hi)),!u){var c=sp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Pu(t.Hi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new Vo;vo(o,a,r),vo(o,a,1886614376),vo(o,a,0),uo(o,a,i),vo(o,a,e),uo(o,a,n),0;return u.buffer}(c))}return{FE:a,W0:u,V0:o.V0,Ai:o.Ai}}function TG(t){return{ylt:t.Bi("sourceURL"),Tht:_G(t.Bi("range"))}}function SG(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=mG(t.Bi("r"));n.push({Hg:i,Vy:e,klt:r})}function EG(t){return{plt:t.Bi("index"),blt:_G(t.Bi("indexRange")),JA:t.Bi("media"),Alt:_G(t.Bi("mediaRange"))}}function IG(t){var n,i;return Nr({},NG(t),{Tlt:(n=t.Ei("SegmentURL"),(i=n.map(EG)).length>0?i:void 0),Slt:t.Bi("xlink:href"),Elt:t.Bi("xlink:actuate")})}function RG(t){var n=t.map(IG);return n.length>0?n:void 0}function DG(t){var n=kG(t.Bi("availabilityTimeComplete")),i=mG(t.Bi("availabilityTimeOffset")),e=_G(t.Bi("indexRange")),r=kG(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?TG(s[0]):void 0,o=gG(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{_lt:n,glt:i,blt:e,Ilt:r,Rlt:u,Dlt:o,Nlt:1===a.length?TG(a[0]):void 0,Clt:dG(t.Bi("timeShiftBufferDepth")),yp:mG(t.Bi("timescale"))}}function NG(t){var n=DG(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?TG(i[0]):void 0,r=mG(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Nr({},n,{Plt:e,Hg:r,Jvt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)SG(i[e],n);return n}(s[0]):void 0,Blt:mG(t.Bi("startNumber")),Olt:mG(t.Bi("endNumber"))})}function CG(t){return Nr({},NG(t),{xlt:t.Bi("bitstreamSwitching"),Llt:t.Bi("index"),Mlt:t.Bi("initialization"),Ult:t.Bi("media")})}function PG(t){return{nJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(mG)):1===n.length?n.map(mG)[0]:void 0}}(t.Bi("audioSamplingRate")),XF:t.Bi("codecs"),Xlt:kG(t.Bi("codingDependency")),Z0:function(t){if(0!==t.length)return t.map(AG)}(t.Ei("ContentProtection")),Hlt:t.Ei("EssentialProperty").map(xG),JK:yG(t.Bi("frameRate")),sT:mG(t.Bi("height")),Zvt:mG(t.Bi("maxPlayoutRate")),Flt:mG(t.Bi("maximumSAPPeriod")),YB:t.Bi("mimeType"),zlt:t.Bi("profiles"),Vlt:t.Bi("sar"),Wlt:function(t){switch(t){case eG.vlt:case eG.llt:case eG.Kl:return t;default:return}}(t.Bi("scanType")),Glt:t.Bi("segmentProfiles"),qlt:mG(t.Bi("startWithSAP")),Tk:mG(t.Bi("width"))}}function BG(t){var n=PG(t),i=mG(t.Bi("bandwidth")),e=bG(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=mG(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?DG(a[0]):void 0,c=RG(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{NR:i,Ylt:e,jlt:r,P_:s,Qlt:u,Zlt:o,Klt:h,Jlt:c,$lt:1===f.length?CG(f[0]):void 0})}function OG(t){return{V0:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function xG(t){return OG(t)}function LG(t){return OG(t)}function MG(t){return OG(t)}function UG(t){var n,i=PG(t),e=function(t){return t.map(MG)}(t.Ei("Accessibility")),r=bG(t.Ei("BaseURL")),s=kG(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=mG(t.Bi("group")),a=mG(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.Hi)||"",c=t.Bi("lang"),f=mG(t.Bi("maxBandwidth")),l=yG(t.Bi("maxFrameRate")),d=mG(t.Bi("maxHeight")),w=mG(t.Bi("maxWidth")),_=mG(t.Bi("minBandwidth")),g=yG(t.Bi("minFrameRate")),m=mG(t.Bi("minHeight")),y=mG(t.Bi("minWidth")),k=t.Bi("par"),p=t.Ei("Representation").map(BG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(LG)}(t.Ei("Role")),A=kG(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?DG(T[0]):void 0,E=RG(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,D=1===I.length?CG(I[0]):void 0,N=mG(t.Bi("selectionPriority")),C=N||1,P=kG(t.Bi("subsegmentAlignment"))||!1;try{R=mG(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{tdt:e,Ylt:r,Plt:s,Nl:u,ndt:o,P_:a,x_:h,L_:c,idt:f,edt:l,rdt:d,sdt:w,udt:_,odt:g,adt:m,hdt:y,cdt:k,K0:p,fdt:b,vdt:A,Klt:S,Jlt:E,$lt:D,KD:C,ldt:P,ddt:R,wdt:t.Bi("xlink:actuate")||"onRequest",_dt:t.Bi("xlink:href")})}function XG(t){var n=gG(t.Bi("presentationTime"))||ft.ZERO,i=gG(t.Bi("duration")),e=mG(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Hi;return{SS:n,Hg:i,P_:e,Xi:r,Fi:""!==s.trim()?s:t.Bi("messageData")||""}}function HG(t){return{_dt:t.Bi("xlink:href"),wdt:t.Bi("xlink:actuate"),V0:t.Bi("schemeIdUri"),Ai:t.Bi("value"),yp:mG(t.Bi("timescale")),Dlt:gG(t.Bi("presentationTimeOffset")),jB:t.Ei("Event").map(XG)}}function FG(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?OG(i[0]):void 0,r=t.Ei("AdaptationSet").map(UG),s=bG(t.Ei("BaseURL")),u=kG(t.Bi("bitstreamSwitching")),o=dG(t.Bi("duration")),a=t.Ei("EventStream").map(HG),h=t.Bi("id"),c=n&&dG(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?DG(f[0]):void 0,d=RG(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?CG(w[0]):void 0,g=dG(t.Bi("start"));t.Ei("Subset");var m=t.Bi("xlink:href");return{Qvt:r,gdt:e,Ylt:s,Plt:u,Hg:o,mdt:a,P_:h,ydt:c,Klt:l,Jlt:d,$lt:_,RN:g,wdt:t.Bi("xlink:actuate"),_dt:m}}function zG(t){var n=t.Bi("schemeIdUri");if(n)return{V0:n,Ai:t.Bi("value")}}function VG(t,n){var i=wG(t.Bi("availabilityEndTime")),e=wG(t.Bi("availabilityStartTime")),r=bG(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Hi}),o=dG(t.Bi("maxSegmentDuration")),a=dG(t.Bi("maxSubsegmentDuration")),h=dG(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=dG(t.Bi("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=dG(t.Bi("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(FG(t[i],t[i+1]));return n}(t.Ei("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{kdt:i,pdt:e,Ylt:r,P_:s,bdt:u,Adt:n,Tdt:o,Sdt:a,Wvt:h,Edt:c,Idt:f,zvt:l,zlt:d,Rdt:wG(t.Bi("publishTime")),Ddt:dG(t.Bi("suggestedPresentationDelay")),Clt:dG(t.Bi("timeShiftBufferDepth")),fs:function(t){switch(t){case CW.pE:case CW.bE:return t;default:return}}(t.Bi("type")),Ndt:function(t){for(var n=[],i=0;i<t.length;i++){var e=zG(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var WG,GG=function(){function t(){}return t.prototype.Oct=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return VG(t,n)}(i.ui(t).zi,n)},t}(),qG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).B_=void 0,u.Ry=void 0,u.Cdt=void 0,u.P_=n,u.NR=i,u.XF=e,u.JJ=s,u.B_=ay(),u.Ry=r||"",u.Cdt=!0,u}return S(n,t),n.prototype.hE=function(){this.Cdt=!1,this.Qs(new OO(this.Gw))},A(n,[{key:"x_",get:function(){return this.Ry},set:function(t){this.Ry!==t&&(this.Ry=t,this.Qs(new OO(this.Gw)))}},{key:"KK",get:function(){}},{key:"tJ",get:function(){return this.Cdt}}]),n}(wu),YG=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).Ww=void 0,c.JK=u,c.Tk=o,c.sT=a,c.$K=h,c}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=uO(this)),this.Ww}}]),n}(qG),jG=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Ww=void 0,o.nJ=u,o}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=oO(this)),this.Ww}}]),n}(qG);!function(t){t.Pdt="Bdt",t.Odt="xdt"}(WG||(WG={}));var QG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ldt=function(t){n.Qs(t)},n}return S(n,t),A(n,[{key:"Mdt",get:function(){var t=this.Udt();return null==t?void 0:t.RN}},{key:"Xdt",get:function(){var t=this.Udt();return null==t?void 0:t.NN}}]),n}(wu);function ZG(t){return Z(t.Hdt)}var KG=function(t){function n(n,i){var e;if((e=t.call(this)||this).Fdt=void 0,e.Ww=void 0,e.B4=void 0,e.zdt=void 0,e.Vdt=void 0,e.Fdt=n,e.B4=i,e.B4.Zs(WG.Pdt,e.Ldt),e.fs===$m.wd){var r,s,u=null!=(r=null==(s=e.JK)?void 0:s.Ek())?r:NaN;e.zdt=new YG(e.P_,e.NR,e.$e,"","",u,e.Tk,e.sT)}else e.fs===$m.dd?e.zdt=new jG(e.P_,e.NR,e.$e,"","",e.nJ):e.zdt=void 0;return e}S(n,t);var i=n.prototype;return i.ult=function(t){var n=ZG(t)?this.B4.Wdt(t):this.B4.ult(t);return{Ql:n.Ql,Tht:n.Tht,bd:this.Gdt.bd}},i.qdt=function(){return this.B4.qdt()},i.Udt=function(){return this.B4.Udt()},i.Ydt=function(){return this.B4.Ydt()},i.nlt=function(t){return this.B4.nlt(t)},i.ilt=function(t,n,i){return this.B4.ilt(t,this.Gdt.bd,n,i)},i.jdt=function(t){return ZG(t)?this.Jvt.Qdt(t):this.Jvt.jdt(t)},i.Zdt=function(t){return ZG(t)?this.Jvt.Kdt(t):this.Jvt.Zdt(t)},i.Sd=function(){this.B4.tu(WG.Pdt,this.Ldt)},A(n,[{key:"Jdt",get:function(){return this.Fdt}},{key:"nJ",get:function(){var t;return null!=(t=this.B4.Fi.nJ)?t:this.Jdt.nJ}},{key:"NR",get:function(){return this.B4.Fi.NR||0}},{key:"XF",get:function(){var t=this.B4.Fi;return t.XF?[t.XF]:this.Jdt.XF}},{key:"$dt",get:function(){var t=this.B4.Fi;return t.XF?[t.XF]:[]}},{key:"$e",get:function(){return this.B4.Fi.XF||this.Jdt.$e}},{key:"Xlt",get:function(){return this.B4.Fi.Xlt||this.Jdt.Xlt}},{key:"Z0",get:function(){return this.B4.Fi.Z0||this.Jdt.Z0}},{key:"Nl",get:function(){return this.YB+'; codecs="'+this.$e+'"'}},{key:"Hlt",get:function(){var t=this.B4.Fi;return t.Hlt.length?t.Hlt:this.Jdt.Hlt}},{key:"Gw",get:function(){return this.Ww||(this.Ww=(t=this,{get id(){return t.P_},get type(){return t.fs},get bandwidth(){return t.NR},get width(){return t.Tk},get height(){return t.sT},get frameRate(){var n,i;return null!=(n=null==(i=t.JK)?void 0:i.Ek())?n:NaN},get audioSamplingRate(){return t.nJ}}));var t}},{key:"JK",get:function(){var t;return null!=(t=this.B4.Fi.JK)?t:this.Jdt.JK}},{key:"sT",get:function(){return this.B4.Fi.sT||this.Jdt.sT}},{key:"P_",get:function(){return this.B4.Fi.P_||""}},{key:"twt",get:function(){return this.Vdt},set:function(t){this.Vdt=t}},{key:"Pht",get:function(){var t=this.B4.nwt();if(t)return{Ql:t.Ql,Tht:t.Tht,bd:this.Gdt.bd}}},{key:"Zvt",get:function(){return this.B4.Fi.Zvt||this.Jdt.Zvt||1}},{key:"Flt",get:function(){return this.B4.Fi.Flt||this.Jdt.Flt}},{key:"Gdt",get:function(){return this.olt.Gdt}},{key:"YB",get:function(){return this.B4.Fi.YB||this.Jdt.YB}},{key:"olt",get:function(){return this.Jdt.olt}},{key:"zlt",get:function(){return this.B4.Fi.zlt||this.Jdt.zlt}},{key:"u$",get:function(){return this.zdt}},{key:"Vlt",get:function(){return this.B4.Fi.Vlt||this.Jdt.Vlt}},{key:"Wlt",get:function(){return this.B4.Fi.Wlt||this.Jdt.Wlt}},{key:"iwt",get:function(){return this.B4.iwt}},{key:"Glt",get:function(){return this.B4.Fi.Glt||this.Jdt.Glt}},{key:"Jvt",get:function(){return this.B4.Jvt}},{key:"qlt",get:function(){return this.B4.Fi.qlt||this.Jdt.qlt}},{key:"fs",get:function(){var t=this.YB.split("/")[0];return"application"===t||"text"===t||Lp(this.YB,this.XF)?$m.$n:"video"===t?$m.wd:"audio"===t?$m.dd:"image"===t?$m._d:$m.Kl}},{key:"Tk",get:function(){return this.B4.Fi.Tk||this.Jdt.Tk}}]),n}(QG),JG=function(t){function n(n,i){var e;return(e=t.call(this)||this).ewt=[],e.B4=void 0,e.rwt=void 0,e.swt=[],e.rwt=n,e.B4=i,e.B4.Zs(WG.Pdt,e.Ldt),e}S(n,t);var i=n.prototype;return i.Zh=function(t,n){var i,e=this;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.swt.length){r.next=6;break}return this.swt=[],i=this.B4.K0.map(function(i){return e.uwt(i,t,n)}),r.next=5,Dr.awrap(We.all(i));case 5:this.swt=r.sent.filter(H);case 6:this.owt();case 7:case"end":return r.stop()}},null,this,null,We)},i.uwt=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new KG(this,t),s.next=3,Dr.awrap(n(e));case 3:if(r=s.sent,nu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.owt=function(){if(!this.swt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Udt=function(){return this.B4.Udt()},i.Ydt=function(){return this.B4.Ydt()},i.Sd=function(){this.B4.tu(WG.Pdt,this.Ldt);for(var t=0,n=this.swt;t<n.length;t++){n[t].Sd()}zs(this.swt)},A(n,[{key:"tdt",get:function(){return this.B4.Fi.tdt}},{key:"nJ",get:function(){var t;return null!=(t=this.B4.Fi.nJ)?t:-1}},{key:"XF",get:function(){if(this.B4.Fi.XF)return[this.B4.Fi.XF];for(var t=[],n=0,i=this.K0;n<i.length;n++){var e=i[n];e.$dt.length&&-1===t.indexOf(e.$e)&&t.push(e.$e)}return t}},{key:"$e",get:function(){return this.XF.join()}},{key:"Xlt",get:function(){return this.B4.Fi.Xlt}},{key:"Z0",get:function(){return this.B4.Fi.Z0}},{key:"Nl",get:function(){return this.YB+'; codecs="'+this.$e+'"'}},{key:"Hlt",get:function(){return this.ewt}},{key:"JK",get:function(){return this.B4.Fi.JK}},{key:"ndt",get:function(){return this.B4.Fi.ndt}},{key:"sT",get:function(){return this.B4.Fi.sT||0}},{key:"P_",get:function(){return this.B4.Fi.P_}},{key:"x_",get:function(){return this.B4.Fi.x_||""}},{key:"Zvt",get:function(){return this.B4.Fi.Zvt}},{key:"Flt",get:function(){return this.B4.Fi.Flt}},{key:"Gdt",get:function(){return this.olt.Gdt}},{key:"YB",get:function(){return this.B4.Fi.YB||this.swt[0].YB}},{key:"olt",get:function(){return this.rwt}},{key:"zlt",get:function(){return this.B4.Fi.zlt}},{key:"K0",get:function(){return this.swt}},{key:"fdt",get:function(){return this.B4.Fi.fdt||[]}},{key:"Vlt",get:function(){return this.B4.Fi.Vlt}},{key:"Wlt",get:function(){return this.B4.Fi.Wlt}},{key:"Glt",get:function(){return this.B4.Fi.Glt}},{key:"KD",get:function(){return this.B4.Fi.KD}},{key:"qlt",get:function(){return this.B4.Fi.qlt}},{key:"fs",get:function(){var t=(this.B4.Fi.Nl||this.YB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Lp(this.YB,this.XF)?$m.$n:"video"===t?$m.wd:"audio"===t?$m.dd:"image"===t?$m._d:$m.Kl}},{key:"Tk",get:function(){return this.B4.Fi.Tk||0}},{key:"irt",get:function(){return this.B4.Fi.L_||""}},{key:"awt",get:function(){return this.Mdt}},{key:"hwt",get:function(){var t=this.awt,n=this.Xdt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.Gdt.cwt);return w.max(t,i)}}}]),n}(QG);function $G(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var tq=function(){function t(t,n){this.rwt=void 0,this.fwt=void 0,this.ra=void 0,this.vwt=void 0,this.lwt=void 0,this.rwt=t,this.fwt=n,this.ra=n.yp,this.vwt=n.glt,this.lwt=n.Dlt}var n=t.prototype;return n.dwt=function(t){var n=t-this.rwt.RN;if(!(n<0||n>=this.rwt.Hg)){var i=this.wwt();return void 0!==i&&Ut(i,n,1e-5)?this.tlt():this._wt(n)}},n.gwt=function(t){var n=t-this.rwt.RN;if(!(n<0))return this.mwt(w.min(n,this.rwt.Hg))},n.tlt=function(){return this.ywt(0)},n.slt=function(){var t=this.rwt.Hg;if(isFinite(t))return this.mwt(t)},n.qdt=function(t){if(this.rwt.kwt.fs===CW.bE){var n=this.pwt(t);if(!n)return;return{bwt:t,Awt:this.Twt(t),Swt:n}}var i=this.tlt();if(i)return{bwt:t,Awt:i,Swt:this.slt()}},n.Ydt=function(t,n){if(n){var i=this.Ewt(n.Awt),e=this.rlt(n.Swt);if(e){var r=this.Iwt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.tlt();if(s){var u=this.Iwt(s);if(t.getTime()<u.getTime())return u}var o=this.rwt.kwt.pdt;return t.getTime()<o.getTime()?o:void 0},n.pwt=function(t){var n=(t.getTime()-this.rwt.kwt.pdt.getTime())/1e3-this.rwt.RN+this.vwt,i=this.mwt(Mt(n,0,this.rwt.Hg));if(i&&(i=this.Rwt(i,t))){for(var e=this.rlt(i);e&&this.Dwt(e,t);)i=e,e=this.rlt(i);return i}},n.Twt=function(t){var n,i=this.fwt.Clt;if(i){var e=(t.getTime()-this.rwt.kwt.pdt.getTime())/1e3-this.rwt.RN-i.Vvt();(n=this.mwt(Mt(e,0,this.rwt.Hg)))||(n=this.tlt())}else n=this.tlt();if(n&&(n=this.Rwt(n,t))){for(var r=this.Nwt(n);r&&this.Dwt(r,t);)n=r,r=this.Nwt(n);return n}},n.Rwt=function(t,n){for(var i=t;i&&this.Iwt(i).getTime()>n.getTime();)i=this.Nwt(i);if(i){var e=this.Ewt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Nwt(i);for(r&&this.Dwt(r,n)&&(i=r);i;){if(this.Iwt(i).getTime()>n.getTime())return;if(this.Dwt(i,n))break;i=this.rlt(i)}if(!i)return}return i}},n.Dwt=function(t,n){if(this.Iwt(t).getTime()>n.getTime())return!1;var i=this.Ewt(t);return!(i&&n.getTime()>=i.getTime())},n.Cwt=function(t,n){if(this.Pwt(t).getTime()>n.getTime())return!1;var i=this.Ewt(t);return!(i&&n.getTime()>=i.getTime())},n.Bwt=function(t,n,i){var e=jt(n,this.ra)+this.rwt.RN;return{plt:t,Owt:n,Vy:e,Hg:i,Wy:e+i}},n.Pwt=function(t){return this.rwt.kwt.fs===CW.bE?new Date(this.rwt.kwt.pdt.getTime()+1e3*(t.Vy+t.Hg)):this.rwt.kwt.pdt},n.Iwt=function(t){var n=this.Pwt(t);return this.rwt.kwt.fs===CW.bE?new Date(n.getTime()-1e3*this.vwt):n},n.Ewt=function(t){var n=1/0;if(this.rwt.kwt.fs===CW.bE){var i=this.fwt.Clt;i&&(n=this.Pwt(t).getTime()+1e3*t.Hg+i.flt())}var e=this.rwt.kwt.kdt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.xwt=function(t,n){return t.plt+n},n.nlt=function(t){return!1},n.ilt=function(t,n,i,e,r){var s=this.Lwt(t);if(!s)return We.reject(new v("Invalid segment"));var u=this.Mwt(s.plt);return u?We.resolve(u):this.Uwt(s.plt,n,i,e,r)},n.Mwt=function(t){},n.Uwt=function(t,n,i,e,r){return We.reject(new v("Not supported"))},n.Nwt=function(t){var n=this.Lwt(t);if(n)return this.ywt(n.plt-1)},n.rlt=function(t){var n=this.Lwt(t);if(n)return this.ywt(n.plt+1)},n.Lwt=function(t){var n=this.ywt(t.plt);if(n&&n.Vy===t.Vy)return n;var i=this.dwt(t.Vy);return i&&i.Vy===t.Vy?i:void 0},n.Xwt=function(t){var n=this.Hwt(t);if(n&&this.nlt(n.plt)){var i=this.Mwt(n.plt);if(i)return i.Xwt(t)}},n.Hwt=function(t){return this.ywt(t.Fwt)},n.jdt=function(t){var n=this.Lwt(t);return!!n&&0===n.plt},n.Qdt=function(t){var n=this.Xwt(t);return!!n&&0===n.Hdt},n.Zdt=function(t){var n=this.Lwt(t);if(!n)return!1;var i=this.slt();return!!i&&n.plt===i.plt},n.Kdt=function(t){var n=this.Xwt(t);if(!n)return!1;var i=this.slt();if(!i||n.Fwt!==i.plt)return!1;var e=this.Mwt(n.Fwt);return n.Hdt+1===e.b_},A(t,[{key:"Zp",get:function(){return this.rwt.RN-jt(this.lwt,this.ra)}},{key:"Dlt",get:function(){return jt(this.lwt,this.ra)}}]),t}(),nq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).zwt=void 0,e.Vwt=void 0;var r=n.Wwt,s=n.Hg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Vwt=r,e.zwt=s,e}S(n,t);var i=n.prototype;return i.ywt=function(t){if(!(t<0)){var n=this.Vwt.multiply(t),i=jt(n,this.ra),e=this.rwt.Hg;if(!(i>=e)){var r=this.Gwt();if(void 0!==r){if(t>r)return;if(t===r)return this.Bwt(t,n,e-i)}return isFinite(e)&&i+this.zwt>e?this.Bwt(t,n,e-i):this.Bwt(t,n,this.zwt)}}},i.wwt=function(){return 0},i._wt=function(t){var n=w.floor(t/this.zwt),i=this.Gwt();return void 0!==i&&n>=i?this.ywt(i):this.ywt(n)},i.mwt=function(t){if(t>=this.rwt.Hg){var n=w.ceil(this.rwt.Hg/this.zwt)-1,i=this.Gwt();return void 0!==i&&n>=i?this.ywt(i):this.ywt(n)}return this._wt(t)},i.Gwt=function(){var t,n=this.fwt.Olt;if(void 0!==n)return n-(null!=(t=this.fwt.Blt)?t:1);if(isFinite(this.rwt.Hg)){var i=this.fwt.qwt;if(void 0!==i&&i>0)return i-1}},i.Ywt=function(){if(isFinite(this.rwt.Hg))return this.slt()},i.jwt=function(t,n){return this.Vwt.multiply(t.plt+(n-1))},i.Zh=function(){},n}(tq);function iq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Vy,u=t[r].Wy;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Vy,c=o+1<i?t[o+1].Vy:a.Wy;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var eq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).v3=[],e.Qwt=void 0,e.Zet=ft.ZERO,e.Zh(),e}S(n,t);var i=n.prototype;return i.ywt=function(t){if(!(t<0))return t<this.v3.length?this.v3[t].l8:this.Zwt(t-this.v3.length)},i.wwt=function(){if(this.v3.length>0)return jt(this.v3[0].Vy,this.ra)},i._wt=function(t){if(this.Qwt&&jt(this.Qwt.Vy,this.ra)<=t){var n=jt(this.Qwt.Vy,this.ra),i=jt(this.Qwt.Hg,this.ra),e=w.floor((t-n)/i);return this.Zwt(e)}if(this.v3.length>0&&Ut(t,jt(this.v3[0].Vy,this.ra),1e-5))return this.v3[0].l8;var r=iq(this.v3,ft.fromNumber(t*this.ra));return r<0?void 0:this.v3[r].l8},i.mwt=function(t){if(!this.Qwt&&this.v3.length>0){var n=this.v3[this.v3.length-1];if(i=t,e=jt(n.Wy,this.ra),Bs(i,e,1e-5)>=0)return n.l8}var i,e,r=this.wwt();return r&&t<r?this.v3[0].l8:this._wt(t)},i.Ywt=function(){return isFinite(this.rwt.Hg)?this.slt():this.ywt(this.v3.length-1)},i.jwt=function(t){return this.Kwt(t)},i.Zwt=function(t){if(this.Qwt){var n=this.Qwt.Vy,i=this.Qwt.Hg,e=n.add(i.multiply(t)),r=jt(e,this.ra),s=this.rwt.Hg;if(!(r>=s)){var u=this.v3.length+t,o=w.min(jt(i,this.ra),r+s);return this.Bwt(u,e,o)}}},i.Kwt=function(t){return t.Owt.add(this.lwt)},i.Zh=function(){var t=this.fwt.Fi.Jvt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.D3(t)},i.D3=function(t){var n=this.lwt;this.Jwt(t,n);var i=this.$wt(t);this.t_t(t,n,i.n_t,i.Fwt)},i.Jwt=function(t,n){var i=this.v3;if(0===t.length)zs(i);else{for(var e=t[0],r=e.Vy?ft.fromString(e.Vy,!1).subtract(n):ft.ZERO,s=0;s<i.length&&i[s].Vy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.$wt=function(t){for(var n=this.v3,i=this.Zet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].klt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Vy.greaterThanOrEqual(i))break;if(n[r].l8.plt===r)r=u+1;else for(;r<=u;)n[r].l8.plt=r,r++;0,e++}return{n_t:e,Fwt:r}},i.t_t=function(t,n,i,e){for(var r,s=this.v3,u=i,o=e;u<t.length;){var a=t[u],h=ft.fromString(a.Hg,!1),c=a.klt||0,f=void 0;if(a.Vy){if(f=ft.fromString(a.Vy,!1).subtract(n),o>0){var v=s[o-1];v.Wy.greaterThan(f)&&(v.Hg=f.subtract(v.Vy),v.Wy=v.Vy.add(v.Hg))}}else f=o>0?s[o-1].Wy:ft.ZERO;if(c<0){if(u+1===t.length){r={Vy:f,Hg:h};break}for(var l=ft.fromString(t[u+1].Vy,!1).subtract(n);f.lessThan(l);){var d=f.add(h);this.i_t(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var _=f.add(h);this.i_t(s,o,f,h,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Zet=s[s.length-1].Vy),this.Qwt=r},i.i_t=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Hg.equals(e)?s.l8.plt=n:t[n]={Vy:i,Hg:e,Wy:r,l8:this.Bwt(n,i,jt(e,this.ra))}}else t.push({Vy:i,Hg:e,Wy:r,l8:this.Bwt(n,i,jt(e,this.ra))})},n}(tq),rq=function(){function t(t,n,i){this.olt=void 0,this.e_t=void 0,this.Gi=void 0,this.r_t=void 0,this.s_t=void 0,this.olt=t,this.e_t=n,this.Gi=i}var n=t.prototype;return n.u_t=function(){if(this.s_t=this.o_t(),this.s_t)return this.s_t;if(this.e_t)return this.e_t.Jvt;throw new v("Missing media segment information.")},n.nwt=function(t){var n=this.Rlt;if(n)return{Ql:(void 0!==n.ylt?i.Br(n.ylt,t.Ylt[0]):t.Ylt[0]).href,Tht:n.Tht};var e=this.blt;return e?{Ql:t.Ylt[0].href,Tht:[0,e[0]-1]}:void 0},n.Zh=function(t){this.Gi=t,this.s_t&&this.s_t.Zh()},A(t,[{key:"Fi",get:function(){return this.Gi}},{key:"glt",get:function(){return this.Gi&&void 0!==this.Gi.glt?this.Gi.glt:this.e_t?this.e_t.glt:0}},{key:"Dlt",get:function(){return this.Gi&&void 0!==this.Gi.Dlt?this.Gi.Dlt:this.e_t?this.e_t.Dlt:ft.ZERO}},{key:"Clt",get:function(){return this.Gi&&void 0!==this.Gi.Clt?this.Gi.Clt:this.e_t?this.e_t.Clt:this.olt.kwt.Clt}},{key:"yp",get:function(){return this.Gi&&void 0!==this.Gi.yp?this.Gi.yp:this.e_t&&this.e_t.yp?this.e_t.yp:1}},{key:"blt",get:function(){return this.Gi&&void 0!==this.Gi.blt?this.Gi.blt:this.e_t?this.e_t.blt:void 0}},{key:"Rlt",get:function(){return this.Gi&&void 0!==this.Gi.Rlt?this.Gi.Rlt:this.e_t?this.e_t.Rlt:void 0}},{key:"Jvt",get:function(){return this.r_t||(this.r_t=this.u_t()),this.r_t}}]),t}(),sq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.o_t=function(){return this.Gi.Jvt?new eq(this,this.olt):void 0!==this.Gi.Hg?new nq(this,this.olt):void 0},A(n,[{key:"Hg",get:function(){return void 0!==this.Gi.Hg?this.Gi.Hg/this.yp:this.e_t&&this.e_t instanceof n?this.e_t.Hg:void 0}},{key:"Wwt",get:function(){return void 0!==this.Gi.Hg?ft.fromNumber(this.Gi.Hg):this.e_t&&this.e_t instanceof n?this.e_t.Wwt:void 0}},{key:"Blt",get:function(){return void 0!==this.Gi.Blt?this.Gi.Blt:this.e_t&&this.e_t instanceof n?this.e_t.Blt:void 0}},{key:"Olt",get:function(){return void 0!==this.Gi.Olt?this.Gi.Olt:this.e_t&&this.e_t instanceof n?this.e_t.Olt:void 0}}]),n}(rq),uq=function(){function t(t){this.a_t=void 0,this.a_t=t}return t.prototype.Wu=function(t){return this.a_t.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=gs(u,Number(e),"0")})},t}();var oq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).h_t=void 0,r.c_t=void 0,r.h_t=e.Mlt?new uq(e.Mlt):void 0,r.c_t=e.Ult?new uq(e.Ult):void 0,r}S(n,t);var e=n.prototype;return e.nwt=function(n){var e=this.Mlt;if(!e)return t.prototype.nwt.call(this,n);var r=e.Wu({Bandwidth:n.Fi.NR,RepresentationID:n.Fi.P_});return{Ql:i.Or(r,n.Ylt[0])}},e.ult=function(t,n){var e,r=null!=(e=n.iwt.Blt)?e:1,s=this.Ult.Wu({Bandwidth:n.Fi.NR,Number:n.Jvt.xwt(t,r),RepresentationID:n.Fi.P_,Time:n.Jvt.jwt(t,r)});return{Ql:i.Or(s,n.Ylt[0])}},e.Wdt=function(t,n){},A(n,[{key:"Mlt",get:function(){return this.h_t?this.h_t:this.e_t&&this.e_t instanceof n?this.e_t.Mlt:void 0}},{key:"Ult",get:function(){return this.c_t?this.c_t:this.e_t&&this.e_t instanceof n?this.e_t.Ult:void 0}},{key:"qwt",get:function(){}}]),n}(sq),aq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.ult=function(t,n){var e=this.Gi.Tlt[t.plt],r=n.Ylt[0];return{Ql:(e.JA?i.Br(e.JA,r):r).href,Tht:e.Alt}},e.Wdt=function(t,n){},A(n,[{key:"qwt",get:function(){return void 0!==this.Gi.Tlt?this.Gi.Tlt.length:this.e_t&&this.e_t instanceof sq?this.e_t.qwt:void 0}}]),n}(sq),hq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Fwt=void 0,u.S5=void 0,u.yp=void 0,u.f_t=void 0,u.Dlt=void 0,u.v_t=void 0,u.Fwt=n,u.S5=i,u.yp=e.yp,u.f_t=r,u.Dlt=s,u.v_t=u.l_t(e),u}S(n,t);var i=n.prototype;return i.elt=function(t){if(t>=0&&t<this.b_)return this.d_t(this.v_t[t])},i.w_t=function(t){var n=this.__t(t);if(this.v_t.length>0){var i=this.v_t[0];if(n<=jt(i.Vy,this.yp))return this.d_t(i)}var e=iq(this.v_t,ft.fromNumber(n*this.yp));if(!(e<0))return this.d_t(this.v_t[e])},i.g_t=function(t){var n=this.__t(t);if(this.v_t.length>0){var i=this.v_t[this.v_t.length-1];if(n>=jt(i.Wy,this.yp))return this.d_t(i)}return this.w_t(t)},i.d_t=function(t){var n=jt(t.Vy,this.yp)-this.Dlt,i=n+this.f_t,e=jt(t.Hg,this.yp);return{Fwt:this.Fwt,Hdt:t.plt,Vy:i,Owt:ft.fromNumber(n*this.yp),Hg:e,Wy:i+e,RJ:[this.S5+t.S5,this.S5+t.E5]}},i.l_t=function(t){for(var n=[],i=t.FS,e=t.zS.toNumber(),r=0,s=0,u=t.WS;s<u.length;s++){var o=u[s],a=o.LS,h=ft.fromNumber(o.Hg),c=i.add(h);0===o.xS&&n.push({plt:r++,Vy:i,Hg:h,Wy:c,S5:e,E5:e+a-1}),e+=a,i=c}return n},i.__t=function(t){return t-this.f_t+this.Dlt},A(n,[{key:"b_",get:function(){return this.v_t.length}}]),n}(function(){function t(){}return t.prototype.Xwt=function(t){var n=this.elt(t.Hdt);if(n&&n.Vy===t.Vy)return n;var i=this.w_t(t.Vy);return i&&i.Vy===t.Vy?i:void 0},t}()),cq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).m_t=void 0,e.y_t=void 0,e.k_t=void 0,e.m_t=n.blt,e.y_t=e.Bwt(0,ft.ZERO,e.rwt.Hg),e}S(n,t);var i=n.prototype;return i.ywt=function(t){if(0===t)return this.y_t},i.wwt=function(){return 0},i._wt=function(t){return this.y_t},i.mwt=function(t){return this._wt(t)},i.Ywt=function(){return this.y_t},i.jwt=function(t,n){return ft.ZERO},i.qdt=function(t){var n=this.p_t(t);return n&&{bwt:t,Awt:n,Swt:n}},i.p_t=function(t){var n=this.y_t;return this.Dwt(n,t)?n:void 0},i.pwt=function(t){return this.p_t(t)},i.Twt=function(t){return this.p_t(t)},i.Zh=function(){},i.nlt=function(t){return 0===t&&void 0!==this.m_t},i.Mwt=function(t){return this.k_t},i.Uwt=function(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.Ylt[0].href,u=this.m_t,a.next=4,Dr.awrap(e.b_t(s,u,i,r));case 4:return o=a.sent,this.k_t=this.A_t(t,o),a.abrupt("return",this.k_t);case 7:case"end":return a.stop()}},null,this,null,We)},i.A_t=function(t,n){var i=this.m_t,e=Qk.mA(new DataView(n),new Vo);if(e.fs!==sk.Wb)throw new v("Invalid segment index");var r=tp.UA(e.Fi),s=i[1]+1;return new hq(t,s,r,this.rwt.RN,jt(this.lwt,this.ra))},n}(tq),fq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.ult=function(t,n){return{Ql:n.Ylt[0].href}},i.Wdt=function(t,n){return{Ql:n.Ylt[0].href,Tht:t.RJ}},i.o_t=function(){return new cq(this,this.olt)},A(n,[{key:"Blt",get:function(){}}]),n}(rq),vq=function(t){function n(){return t.call(this,WG.Pdt)||this}return S(n,t),n}(gu);var lq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sw=void 0,r.Gi=void 0,r.T_t=void 0,r.fwt=void 0,r.S_t=1/0,r.E_t=void 0,r.Sw=i,r.I_t(n,e),r}S(n,t);var i=n.prototype;return i.R_t=function(){return this.fwt||this.Sw&&this.Sw.R_t()},i.D_t=function(t){var n=this.olt,i=this.Sw&&this.Sw.R_t();this.Gi.$lt?this.fwt=new oq(n,i,this.Gi.$lt):this.Gi.Jlt?this.fwt=new aq(n,i,this.Gi.Jlt[0]):this.Gi.Klt?this.fwt=new fq(n,i,this.Gi.Klt):t&&!i&&(this.fwt=new fq(n,i,void 0))},i.I_t=function(t,n){this.Gi=t,this.T_t=t.Ylt&&t.Ylt.length>0?$G(t.Ylt.map(function(t){return t.Ql}),n):n.slice(),this.fwt&&(t.$lt?this.fwt.Zh(t.$lt):t.Jlt?this.fwt.Zh(t.Jlt[0]):t.Klt&&this.fwt.Zh(t.Klt))},i.Udt=function(){var t;return null==(t=this.E_t)?void 0:t.N_t},i.Ydt=function(){var t;return null==(t=this.E_t)?void 0:t.C_t},i.P_t=function(t){var n=this.S_t,i=this.olt.Hg,e=this.E_t,r=this.B_t(t);e&&Ut(i,n,1e-5)&&gq(e,r)||(this.S_t=i,this.E_t=r,this.Qs(new vq))},i.xs=function(){this.$s()},A(n,[{key:"Fi",get:function(){return this.Gi}},{key:"Ylt",get:function(){return this.T_t}}]),n}(wu);function dq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Udt();if(e){n=e.RN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Udt();if(u){r=u.NN;break}}if(void 0!==r)return{RN:n,NN:r}}}function wq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Udt();if(!r)return;if((n=w.max(n,r.RN))>=(i=w.min(i,r.NN)))return}return{RN:n,NN:i}}}function _q(t){for(var n,i=0;i<t.length;i++){var e=t[i].Ydt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function gq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.C_t,n.C_t)&&function(t,n){return t&&n?Ut(t.RN,n.RN,1e-5)&&Ut(t.NN,n.NN,1e-5):t===n}(t.N_t,n.N_t)}var mq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).rwt=void 0,r.Bh=void 0,r.O_t=void 0,r.rwt=n,r.Bh=i,r.O_t=e.slice();for(var s=0;s<e.length;s++){e[s].Zs(WG.Pdt,r.Ldt)}return r}S(n,t);var i=n.prototype;return i.Udt=function(){return wq(this.O_t)},i.Ydt=function(){for(var t,n=0,i=this.O_t;n<i.length;n++){var e=i[n].Ydt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Sd=function(){this.$s();for(var t=0,n=this.O_t;t<n.length;t++){n[t].tu(WG.Pdt,this.Ldt)}},A(n,[{key:"Qvt",get:function(){return this.O_t}},{key:"XF",get:function(){return this.Qvt.reduce(function(t,n){for(var i=0,e=n.XF;i<e.length;i++){var r=e[i];Hs(t,r)||t.push(r)}return t},[])}},{key:"$e",get:function(){return this.XF.length>0?this.XF[0]:""}},{key:"fs",get:function(){return this.O_t[0].fs}},{key:"P_",get:function(){return this.Bh}},{key:"Gdt",get:function(){return this.rwt.Gdt}},{key:"YB",get:function(){return this.O_t[0].YB}},{key:"olt",get:function(){return this.rwt}},{key:"K0",get:function(){return Ws(this.Qvt,function(t){return t.K0})}}]),n}(QG),yq=function(t){function n(){return t.call(this,WG.Odt)||this}return S(n,t),n}(gu);function kq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.ndt;void 0===s||(r=xs(n,function(t){return t.P_===s})),r||(r={P_:s,Qvt:[]},n.push(r)),r.Qvt.push(e)},e=0;e<t.length;e++)i(e);return n}var pq,bq=function(t){function n(n,i){var e;return(e=t.call(this)||this).B4=void 0,e.O_t=[],e.x_t=[],e.L_t=void 0,e.M_t=!1,e.L_t=n,e.B4=i,e.B4.Zs(WG.Pdt,e.Ldt),e}S(n,t);var i=n.prototype;return i.U_t=function(t,n){if(0!==this.x_t.length){for(var i=t,e=0,r=this.x_t;e<r.length;e++){var s=r[e],u=s.fs;if(u===$m.dd||u===$m.wd){var o=s.Xdt;if(void 0===o)return;i=n(i,o)}}return i}},i.X_t=function(){this.M_t||(this.M_t=!0,this.Qs(new yq),this.Sd())},i.Zh=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.O_t.length){i.next=7;break}return i.next=3,Dr.awrap(this.H_t(this.B4.Qvt,t,n));case 3:this.F_t(this.O_t),nu(n),i.next=9;break;case 7:return i.next=9,Dr.awrap(this.z_t(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.H_t=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new JG(this,r),u.prev=4,u.next=7,Dr.awrap(s.Zh(n,i));case 7:this.O_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),iu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.F_t=function(t){for(var n=kq(t),i=0;i<n.length;i++){var e=n[i],r=new mq(this,e.P_,e.Qvt);this.x_t.push(r)}},i.z_t=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.O_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Dr.awrap(r.Zh(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.Udt=function(){return this.B4.Udt()},i.Ydt=function(){return this.B4.Ydt()},i.Sd=function(){this.$s(),this.B4.tu(WG.Pdt,this.Ldt);for(var t=0,n=this.x_t;t<n.length;t++){n[t].Sd()}for(var i=0,e=this.O_t;i<e.length;i++){e[i].Sd()}zs(this.O_t),zs(this.x_t)},A(n,[{key:"Qvt",get:function(){return this.O_t}},{key:"Yvt",get:function(){return this.x_t}},{key:"gdt",get:function(){return this.B4.Fi.gdt}},{key:"Hg",get:function(){return this.B4.Hg}},{key:"NN",get:function(){return this.RN+this.Hg}},{key:"mdt",get:function(){return this.B4.Fi.mdt||[]}},{key:"P_",get:function(){return this.B4.P_}},{key:"xdt",get:function(){return this.M_t}},{key:"Gdt",get:function(){return this.L_t}},{key:"V_t",get:function(){return this.L_t.W_t(this)}},{key:"olt",get:function(){return this}},{key:"G_t",get:function(){return this.L_t.q_t(this)}},{key:"Y_t",get:function(){return this.U_t(1/0,w.min)}},{key:"j_t",get:function(){return this.U_t(0,w.max)}},{key:"RN",get:function(){return this.B4.RN}},{key:"bd",get:function(){return this.Gdt.bd}}]),n}(QG),Aq=function(t){function n(){return t.call(this,bf.bf)||this}return S(n,t),n}(gu);!function(t){t.Q_t="Z_t"}(pq||(pq={}));var Tq=function(t){function n(){return t.call(this,pq.Q_t)||this}return S(n,t),n}(gu),Sq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Ylt)||this).Fdt=void 0,e.K_t=void 0,e.Fdt=i,e.D_t(!0),e}S(n,t);var i=n.prototype;return i.nlt=function(t){return!!Cc(this.YB)&&this.Jvt.nlt(t.plt)},i.ilt=function(t,n,i,e){return this.Jvt.ilt(t,this,n,i,e)},i.nwt=function(){return this.iwt.nwt(this)},i.ult=function(t){return this.iwt.ult(t,this)},i.Wdt=function(t){return this.iwt.Wdt(t,this)},i.qdt=function(){return this.K_t},i.B_t=function(t){var n=this.Jvt,i=n.qdt(t),e=i&&function(t,n){var i,e=t.Awt,r=t.Swt,s=t.bwt,u=e.Vy,o=n.Pwt(r);if(o.getTime()<=s.getTime())i=r.Wy;else{var a=(o.getTime()-s.getTime())/1e3,h=w.max(r.Hg-a,0);i=r.Vy+h}return{RN:u,NN:i}}(i,n),r=this.Jvt.Ydt(t,i);return this.K_t=i,{bwt:t,N_t:e,C_t:r}},i.Zh=function(t){this.I_t(t,this.Fdt.Ylt)},A(n,[{key:"Jdt",get:function(){return this.Fdt}},{key:"olt",get:function(){return this.Fdt.olt}},{key:"kwt",get:function(){return this.Fdt.kwt}},{key:"YB",get:function(){return this.Gi.YB||this.Fdt.YB}},{key:"iwt",get:function(){return this.R_t()}},{key:"Jvt",get:function(){return this.iwt.Jvt}}]),n}(lq),Eq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Ylt)||this).rwt=void 0,e.swt=void 0,e.rwt=i,e.D_t(!1),e.swt=n.K0.map(function(t){return new Sq(t,Kt(e))}),e}S(n,t);var i=n.prototype;return i.Zh=function(t){this.I_t(t,this.rwt.Ylt);var n=t.K0||[];if(this.swt.length!==n.length)throw new v("Expected "+this.swt.length+' representations in adaptation set "'+t.P_+'", found '+n.length);for(var i=0;i<n.length;i++)this.swt[i].Zh(n[i])},i.P_t=function(n){for(var i=0,e=this.swt;i<e.length;i++){e[i].P_t(n)}t.prototype.P_t.call(this,n)},i.B_t=function(t){return{bwt:t,N_t:wq(this.swt),C_t:_q(this.swt)}},i.xs=function(){for(var n=0,i=this.swt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},A(n,[{key:"K0",get:function(){return this.swt}},{key:"olt",get:function(){return this.rwt}},{key:"kwt",get:function(){return this.rwt.kwt}},{key:"ndt",get:function(){return this.Gi.ndt}},{key:"YB",get:function(){var t;return this.Gi.YB||(null==(t=this.swt[0])?void 0:t.Fi.YB)||""}}]),n}(lq),Iq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Ylt)||this).J_t=void 0,s.ZS=void 0,s.ua=void 0,s.O_t=void 0,s.x_t=[],s.J_t=n,s.ZS=e,s.ua=r,s.D_t(!1),s.O_t=(i.Qvt||[]).map(function(t){return new Eq(t,Kt(s))}),s.x_t=kq(s.O_t),s}S(n,t);var i=n.prototype;return i.Zh=function(t,n){this.I_t(t,this.J_t.Ylt),this.ua=n;var i=t.Qvt||[];if(this.O_t.length!==i.length)throw new v("Expected "+this.O_t.length+' adaptation sets in period "'+t.P_+'", found '+i.length);for(var e=0;e<i.length;e++)this.O_t[e].Zh(i[e])},i.P_t=function(n){for(var i=0,e=this.O_t;i<e.length;i++){e[i].P_t(n)}t.prototype.P_t.call(this,n)},i.B_t=function(t){return{bwt:t,N_t:wq(this.O_t),C_t:_q(this.O_t)}},i.xs=function(){for(var n=0,i=this.O_t;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},A(n,[{key:"Qvt",get:function(){return this.O_t}},{key:"Yvt",get:function(){return this.x_t}},{key:"olt",get:function(){return this}},{key:"kwt",get:function(){return this.J_t}},{key:"P_",get:function(){return this.Gi.P_}},{key:"RN",get:function(){return this.ZS}},{key:"Hg",get:function(){return this.ua}}]),n}(lq),Rq=new Date("2000-01-01"),Dq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.$_t=void 0,s.tgt=void 0,s.PG=void 0,s.ngt=void 0,s.E_t=void 0,s.T_t=void 0,s.igt=void 0,s.egt=void 0,s.rgt=void 0,s.sgt=[],s.$_t=i,s.Zh(n,e,r),n.fs===CW.bE){var u=s.Ywt();u&&u.kdt&&u.kdt.getTime()<Rq.getTime()&&(s.rgt=new Date(s.Rdt.getTime()-1e3*(u.l8.Vy+u.l8.Hg)),s.P_t(r))}return s}S(n,t);var e=n.prototype;return e.Udt=function(){var t;return null==(t=this.E_t)?void 0:t.N_t},e.Ydt=function(){var t;return null==(t=this.E_t)?void 0:t.C_t},e.Zh=function(t,n,e,r){var s;this.Gi=t,this.tgt=n,this.ngt=null!=r?r:e,this.PG=e;var u,o=[(u=n,i.Br(".",u))];this.T_t=t.Ylt&&t.Ylt.length>0?$G(t.Ylt.map(function(t){return t.Ql}),o):o,this.igt=t.bdt&&t.bdt.length>0?$G(t.bdt,this.T_t):[];var a=this.igt.map(function(t){return t.href}),h=n.href;Hs(a,h)||(this.igt.push(n),a.push(h));var c=this.$_t.href;Hs(a,c)||(this.igt.push(this.$_t),a.push(c)),this.egt=null==(s=t.Wvt)?void 0:s.Vvt();var f=t.fs===CW.bE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.RN)u=s.RN.Vvt();else if(r>0&&t[r-1].Hg){var o=e[r-1],a=t[r-1].Hg.Vvt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Fi:t[c],RN:e[c],Hg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.Hg?v.Hg.Vvt():i-l),h.push({Fi:v,RN:l,Hg:d})}return h}(t.zvt,f,this.egt);this.ugt(v),this.P_t(e)},e.ugt=function(t){var n=this.sgt;if(0!==t.length){for(var i=t[0].Fi.P_,e=0;e<n.length&&n[e].P_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Zh(o.Fi,o.Hg)}else n.push(new Iq(this,o.Fi,o.RN,o.Hg))}}else zs(n)},e.P_t=function(t){for(var n=0,i=this.sgt;n<i.length;n++){i[n].P_t(t)}var e=this.E_t,r=this.B_t(t);e&&gq(e,r)||(this.E_t=r,this.Qs(new vq))},e.B_t=function(t){return{bwt:t,N_t:dq(this.sgt),C_t:_q(this.sgt)}},e.Ywt=function(){if(0!==this.sgt.length){var t=this.sgt[this.sgt.length-1];if(!isFinite(t.Hg)&&0!==t.Qvt.length){var n=t.Qvt[0];if(0!==n.K0.length){var i=n.K0[0].Jvt,e=i.Ywt();if(e)return{l8:e,kdt:i.Ewt(e)}}}}},e.xs=function(){this.$s();for(var t=0,n=this.sgt;t<n.length;t++){n[t].xs()}},A(n,[{key:"Fi",get:function(){return this.Gi}},{key:"fs",get:function(){return this.Gi.fs||CW.pE}},{key:"pdt",get:function(){return this.rgt||this.Gi.pdt||this.Rdt}},{key:"kdt",get:function(){return this.Gi.kdt}},{key:"Wvt",get:function(){return this.egt}},{key:"Ylt",get:function(){return this.T_t}},{key:"bdt",get:function(){return this.igt}},{key:"zvt",get:function(){return this.sgt}},{key:"Rdt",get:function(){return this.Gi.Rdt||this.PG}},{key:"Clt",get:function(){return this.Gi.Clt}},{key:"ogt",get:function(){return this.ngt}},{key:"agt",get:function(){return this.PG}}]),n}(wu);var Nq=function(){function t(t,n,i){this.hgt=0,this.lE=t,this.cgt=n,this.fgt=i}var n=t.prototype;return n._L=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.vgt(t,this.lE,this.cgt,this.fgt).catch(eu));case 2:case"end":return n.stop()}},null,this,null,We)},n.lgt=function(){return new Date(Vt()+this.hgt)},n.vgt=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Dr.awrap(this.dgt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}nu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Dr.awrap(this.wgt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.hgt=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,We)},n.wgt=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.V0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Dr.awrap(this.dgt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n.dgt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.Yl({Ql:n,md:$d.GET,Wl:Af.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Dr.awrap(e.El());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),iu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),Cq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this)._gt=void 0,s.B4=void 0,s.ggt=void 0,s.Frt=!0,s.sgt=[],s.mgt=void 0,s.ygt=void 0,s.kgt=void 0,s.lE=void 0,s.pgt=void 0,s.mgt=n,s.ggt=n.Z_,s.ygt=i,s.lE=e,s._gt=r,s.pgt=new Nq(s.lE,s._gt,s.mgt.bgt),s}S(n,t);var e=n.prototype;return e.Agt=function(t){var n=this._y;this.Frt=t,n!==this._y&&this.Qs(new Tq)},e.Zh=function(t,n,e){var r,s,u,o,a,h,c,f,v,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.Adt?i.Br(t.Adt,this.ggt):this.ggt,void 0!==this.B4){g.next=10;break}return g.next=6,Dr.awrap(this.pgt._L(t.Ndt));case 6:this.B4=new Dq(t,this.ggt,o,this.lgt()),this.B4.Zs(WG.Pdt,this.js),g.next=11;break;case 10:this.B4.Zh(t,o,this.lgt(),n);case 11:if(0===(a=this.B4.zvt).length)h=this.sgt.slice(),zs(this.sgt);else{for(c=a[0].P_,f=0;f<this.sgt.length&&this.sgt[f].P_!==c;)f++;for(h=this.sgt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.sgt.length?d=this.sgt[v]:(d=new bq(this,l),s.push(d)),u.push(d.Zh(this.ygt,e))}return g.next=15,Dr.awrap(We.all(u));case 15:for((r=this.sgt).push.apply(r,s),w=0,_=h;w<_.length;w++)_[w].X_t();this.Qs(new Aq);case 18:case"end":return g.stop()}},null,this,null,We)},e.lgt=function(){return this.pgt.lgt()},e.q_t=function(t){var n=this.sgt.indexOf(t);if(n>0)return this.sgt[n-1]},e.W_t=function(t){var n=this.sgt.indexOf(t);if(n>=0&&n+1<this.sgt.length)return this.sgt[n+1]},e.Udt=function(){return this.B4?this.B4.Udt():void 0},e.Ydt=function(){return this.B4&&this.B4.Ydt()},e.P_t=function(t){this.B4&&this.B4.P_t(t)},e.Sd=function(){this.$s(),this.kgt=void 0,this.Agt(!1);for(var t=0,n=this.sgt;t<n.length;t++){n[t].Sd()}zs(this.sgt),this.B4&&this.B4.xs()},A(n,[{key:"kdt",get:function(){return this.B4&&this.B4.kdt}},{key:"pdt",get:function(){return this.B4&&this.B4.pdt}},{key:"P_",get:function(){return this.B4&&this.B4.Fi.P_}},{key:"ogt",get:function(){var t;return null==(t=this.B4)?void 0:t.ogt}},{key:"Tgt",get:function(){var t;return null==(t=this.B4)?void 0:t.agt}},{key:"bdt",get:function(){return this.B4?this.B4.bdt.map(function(t){return t.href}):[this.qvt]}},{key:"qvt",get:function(){return this.ggt.href}},{key:"Tdt",get:function(){return this.B4&&this.B4.Fi.Tdt}},{key:"Sdt",get:function(){return this.B4&&this.B4.Fi.Sdt}},{key:"Wvt",get:function(){return this.B4&&this.B4.Fi.Wvt}},{key:"Edt",get:function(){return this.B4&&this.B4.Fi.Edt}},{key:"Idt",get:function(){var t,n,i=(null==(t=this.B4)?void 0:null==(n=t.Fi.Idt)?void 0:n.flt())||0;return w.max(i,Bq)}},{key:"_y",get:function(){return this.Frt}},{key:"zvt",get:function(){return this.sgt}},{key:"Sgt",get:function(){return this.fs===CW.bE?this.cwt:this.Egt}},{key:"Igt",get:function(){var t=this.Sgt;if(void 0!==t)for(var n=0,i=this.zvt;n<i.length;n++){var e=i[n];if(e.RN<=t&&e.NN>t)return e}}},{key:"zlt",get:function(){return this.B4&&this.B4.Fi.zlt}},{key:"Rdt",get:function(){return this.B4&&this.B4.Rdt}},{key:"Y_t",get:function(){for(var t=this.sgt.length-1;t>=0;t-=1){var n=this.sgt[t].Y_t;if(n)return n}}},{key:"cwt",get:function(){var t=this.Y_t;if(void 0!==t){var n=t-this.Rgt;return w.max(n,this.Egt)}}},{key:"Egt",get:function(){for(var t=0,n=this.sgt;t<n.length;t++){var i=n[t].Mdt;if(void 0!==i)return i}}},{key:"bd",get:function(){return Boolean(this.mgt.bd)}},{key:"Rgt",get:function(){var t=this.B4&&this.B4.Fi.Ddt;return t?t.Vvt():this.fs===CW.bE?this.Dgt:0}},{key:"Dgt",get:function(){return this.mgt.Dgt?this.mgt.Dgt:1.5*this.Edt.Vvt()}},{key:"Clt",get:function(){return this.B4&&this.B4.Clt}},{key:"fs",get:function(){return this.B4?this.B4.fs:void 0}}]),n}(wu),Pq=function(){function t(t,n,i,e){this.L_t=void 0,this.L_t=new Cq(t,n,i,e)}return A(t,[{key:"Gdt",get:function(){return this.L_t}}]),t}(),Bq=1e3,Oq=w.pow(2,31)-1,xq=function(){function t(t,n,i,e){var r=this;this.Yht=void 0,this.B4=void 0,this.Ngt=void 0,this.Cgt=void 0,this.Pgt=void 0,this.Bgt=new Js,this.Ogt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.B4.Gdt.lgt(),e.next=4,Dr.awrap(r.xgt(r.B4.Gdt.bdt,t));case 4:return i=e.sent,e.next=7,Dr.awrap(r.B4.Gdt.Zh(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Cp(e.t0)&&r.B4.Gdt.Agt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.Yht=e,this.B4=new Pq(t,n,i,this.Bgt.Ws)}var n=t.prototype;return n.Aw=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.B4.Gdt.Qs(new pD),n.prev=1,n.next=4,Dr.awrap(EL(this.Ogt,t));case 4:this.B4.Gdt.Agt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),iu(n.t0),this.Cgt=void 0,this.B4.Gdt.Agt(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.Ngt=this.Lgt(this.Bgt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.Lgt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.B4.Gdt.fs!==CW.bE){n.next=6;break}return n.next=4,Dr.awrap(ru(this.Mgt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.Ugt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(nu(t),!((n=this.Xgt())>0)){e.next=6;break}return i=w.min(n,Oq),e.next=6,Dr.awrap(fu(i,t));case 6:return e.prev=6,e.next=9,Dr.awrap(EL(this.Ogt,t,1/0,Bq,3e4));case 9:this.B4.Gdt.Agt(!0);case 10:return e.prev=10,this.Pgt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],We)},n.Xgt=function(){var t=this.B4.Gdt.lgt().getTime()-this.B4.Gdt.ogt.getTime();return this.B4.Gdt.Idt-t},n.Hgt=function(t){var n=this.B4.Gdt.Ydt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.B4.Gdt.P_t(t);var e=this.B4.Gdt.Ydt();return e?e.getTime()-t.getTime():NaN},n.Fgt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.Pgt||(this.Pgt=this.Ugt(t)),(n=new Js).zs(t),i.prev=3,i.next=6,Dr.awrap(We.race([this.Pgt,this.zgt(n.Ws)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),eu(i.t0);case 11:return i.prev=11,n.Fs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.zgt=function(t){var n=this.B4.Gdt.lgt(),i=this.Hgt(n);if(!m(i))return this.Vgt(i,t)},n.Vgt=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(fu(t,n));case 2:i=this.B4.Gdt.lgt(),this.B4.Gdt.P_t(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.xgt=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Yht.Ght(t,{},n,!1));case 2:return i=r.sent,e=new GG,r.abrupt("return",e.Oct(i.zht,i.jl));case 5:case"end":return r.stop()}},null,this,null,We)},n.Sd=function(){return this.Bgt.Fs(),this.Ngt=void 0,this.Cgt=void 0,this.Pgt=void 0,this.B4.Gdt.Sd(),We.resolve()},A(t,[{key:"F$",get:function(){return this.B4}},{key:"Wgt",get:function(){return this.Cgt||(this.Cgt=this.Aw(this.Bgt.Ws),hu(this.Cgt)),this.Cgt}},{key:"Mgt",get:function(){return this.B4.Gdt.Tgt&&this.B4.Gdt.fs===CW.bE?this.Fgt(this.Bgt.Ws):this.Wgt}}]),t}(),Lq=function(){function t(t,n,i){this.Yht=t,this.Ggt=n,this.qgt=i}var n=t.prototype;return n.Ygt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!Kg(n=t.type)){i.next=9;break}return i.next=6,Dr.awrap(this.jgt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Zg(n)){i.next=15;break}return i.next=12,Dr.awrap(this.Qgt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.jgt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(zW(t.src,this.Yht));case 3:return n=i.sent,i.next=6,Dr.awrap(VW(n,this.Yht));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.Qgt=function(t){var n;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new xq({Z_:i.Br(t.src),Dgt:t.liveOffset,bgt:t.timeServer,bd:t.useCredentials},this.qgt,uw.Cd,this.Yht),e.next=4,Dr.awrap(n.Wgt);case 4:return e.next=6,Dr.awrap(IW(n.F$.Gdt,t.contentProtection,this.Ggt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}();var Mq=function(){function t(t){this.Zgt=void 0,this.Kgt=[],this.Jgt=0,this.Zgt=t}var n=t.prototype;return n.$gt=function(){var t=new Go;return this.Kgt.push(t),this.tmt(),t.Hu},n.nmt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t);case 2:this.Jgt-=1,this.tmt(),0===this.Kgt.length&&0===this.Jgt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.tmt=function(){this.Kgt.length>0&&this.Jgt<this.Zgt&&(this.Kgt.shift().Wu(),this.Jgt+=1)},t}();function Uq(t,n){for(var i=0,e=0,r=t.WS.iJ.map(function(t){return t.Hg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Xq=function(t){function n(n,e,r,s,u,o,a,h){var c,f,v,l,d;void 0===h&&(v=M.En||M.Tn,l=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=v&&!l,h=function(t){var n,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Nl,MediaSource.isTypeSupported(e)||Mp(t.YB,t.XF)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.$e)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.Z0){u.next=13;break}return r=t.Z0,s=Ws(r,function(t){return cs(t.V0)}).filter(H),u.next=10,Dr.awrap(Qs(s,function(t){return i.Cr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}),(c=t.call(this)||this).Qht=void 0,c.imt=void 0,c.emt=new Go,c.rmt=void 0,c.sct=void 0,c.smt=pW.Uvt(),c.xvt=void 0,c.umt=void 0,c.gm=void 0,c.omt=void 0,c.Uat=void 0,c.Yht=void 0,c.amt=void 0,c.Ggt=void 0,c.qgt=void 0,c.pvt=void 0,c.Qht=n,c.Uat=e,c.Yht=r,c.omt=s,c.amt=u,c.Ggt=o,c.qgt=h,c.pvt=a,c.umt=-1;var w=c.Qht.cN.sources[0];return c.rmt=w,c.gm=c.Um(),c.imt=new Mq(c.Qht.wc.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.Um=function(){var t,n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,g,m,y,k,p,b,A,T,S,E,I,R=this;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:return t=new Lq(this.Yht,this.Ggt,this.qgt),D.next=3,Dr.awrap(t.Ygt(this.rmt));case 3:return this.sct=D.sent,n=this.Qht.wc.amount,i=this.sct.Hg,e=TW(n,i),this.xvt=e,s=hH(this.sct.Gvt[0]),D.next=11,Dr.awrap(this.Uat.Cat.Rat(s,"manifestURL"));case 11:for(u=D.sent.filter(function(t){return Hs(t.references,R.Qht.P_)}),o=[],a=this.Qht.wc.bandwidth,h=0,c=this.sct.zvt;h<c.length;h++)for(f=c[h],v=0,l=f.jvt;v<l.length;v++)for(d=l[v],_=0,g=Fq(d.VA);_<g.length;_++)for(m=g[_],y=0,k=zq(m.M_,a);y<k.length;y++)p=k[y],o.push(p);if(this.umt=w.ceil(o.map(function(t){return t.NR*Uq(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Pr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new rS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.YN(e).qN(5e-4);else{var r,s=xs(o,function(t){return t.P_===i}),a=w.min(R.xvt,null!=(r=null==s?void 0:s.WS.Hg)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new pW(A,b,this.xvt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.P_,{timeRanges:rS.fC(),totalQualityDurationToCache:w.min(I.WS.Hg,this.xvt)});r=new pW(0,b,this.xvt)}this.hmt=r;case 19:case"end":return D.stop()}},null,this,null,We)},e.cmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.gm);case 2:return n.next=4,Dr.awrap(this.fmt(this.sct,t));case 4:return n.next=6,Dr.awrap(this.emt.Hu);case 6:case"end":return n.stop()}},null,this,null,We)},e.fmt=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Gvt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Dr.awrap(this.vmt());case 4:for(i=[],e=0,r=t.zvt;e<r.length;e++)s=r[e],i.push(this.lmt(s,t.Gvt[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.vmt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.omt.Eat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Dr.awrap(this.Uat.Pat.Iu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Dr.awrap(Hq(e,this.Qht.P_,this.Uat.Pat,this.pvt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Dr.awrap(this.Uat.Pat.Aat(i,this.pvt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new EW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Dr.awrap(this.omt.Nat());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.lmt=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.jvt;r<s.length;r++)for(u=s[r],o=Fq(u.VA),a=0;a<o.length;a++)h=o[a],e.push(this.dmt(h,n,i));return c.abrupt("return",We.all(e));case 3:case"end":return c.stop()}},null,this,null,We)},e.dmt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Qht.wc.bandwidth,r=zq(t.M_,e),t.fs!==$m.wd||!t.Kvt||!t.Kvt.HE.widevine||"persistent"!==t.Kvt.HE.widevine.licenseType){a.next=6;break}return a.next=5,Dr.awrap(this.wmt(t.Kvt));case 5:nu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this._mt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e._mt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(i),e=t.WS.iJ[0].Vy,r=e+this.xvt,s=0,u=t.WS.iJ;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Vy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.gmt(i));case 10:return a.next=12,Dr.awrap(this.imt.$gt());case 12:hu(this.imt.nmt(this.mmt(o,t,n),this.emt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.gmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ns){n.next=4;break}return n.next=3,Dr.awrap(this.emt.Hu);case 3:throw new $s;case 4:case"end":return n.stop()}},null,this,null,We)},e.ymt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.gm);case 2:return t.abrupt("return",this.sct);case 3:case"end":return t.stop()}},null,this,null,We)},e.wmt=function(t){return We.resolve()},e.kmt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ot("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,We)},e.mmt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Uat.Cat,r=cH(t.$vt.Ql,t.$vt.Tht),f.next=4,Dr.awrap(e.Iu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Dr.awrap(Hq(s,this.Qht.P_,e,this.pvt));case 8:this.pmt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Dr.awrap(this.bmt(t.$vt));case 14:return u=f.sent,o=this.Amt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Dr.awrap(this.Uat.xat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.Cat.Aat(a,c.pvt));case 2:return n.next=4,Dr.awrap(t.iJ.Aat(h,c.pvt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this.pmt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new EW("Unable to store segment with url: "+t.$vt.Ql,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.bmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.amt.Tmt(t,!1));case 2:return n=i.sent,i.next=5,Dr.awrap(this.Smt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.Smt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Rl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.Amt=function(t,n,i,e){var r=cH(t.$vt.Ql,t.$vt.Tht),s=t.Vy,u=t.Hg,o=this.Emt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:hH(i),qualityId:n.P_,byteSize:o,startsAndEnds:new rS([s,s+u]).PN,references:[this.Qht.P_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:hH(i),data:e}}},e.Emt=function(t){return t.buffer.byteLength},e.pmt=function(t,n){var i=t.qualityId,e=this.smt,r=e.Ty;r.get(i).timeRanges=r.get(i).timeRanges.YN(new rS(t.startsAndEnds)).qN(5e-4),this.hmt=new pW(n?e.Xvt+t.byteSize:e.Xvt,r,this.xvt)},A(n,[{key:"Imt",get:function(){return this.umt}},{key:"hmt",get:function(){return this.smt},set:function(t){this.smt.lk(t)||(this.smt=t,t.lk(pW.Uvt())||this.Qs(new kW))}}]),n}(wu);function Hq(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Hs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Dr.awrap(i.Aat(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function Fq(t){return t.length?[t[0]]:[]}function zq(t,n){if(!t.length)return[];var i=[].concat(t).sort(mW),e=i.filter(function(t){return t.NR<=n});return e.length>0?[e.pop()]:[i.shift()]}var Vq=function(){function t(t){this.lE=void 0,this.oX=new KR,this.lE=t}var n=t.prototype;return n.Yl=function(t){var n=this,i=new Go;return this.oX.ZU(function(e){return n.Rmt(i,t,e)},t.Ws).catch(K),i.Hu},n.Td=function(t){return this.lE.Td(t)},n.Rmt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return nu(i),e=new rw({Ql:n.Ql,Ws:i},n),r=this.lE.Yl(e),t.Wu(r),u.next=6,Dr.awrap(r);case 6:return s=u.sent,u.next=9,Dr.awrap(s.Ml());case 9:case"end":return u.stop()}},null,this,null,We)},n.Sd=function(){this.oX.Sd()},t}(),Wq=function(){function t(t,n){this.lE=void 0,this.Dmt=void 0,this.G6=void 0,this.lE=t,this.Dmt=new Vq(t),this.G6=n}var n=t.prototype;return n.Tmt=function(t,n,i){return this.T3(t,n,!0,!1,void 0,i)},n.h8=function(t,n,i,e){return this.T3(t,n,!1,!1,i,e)},n.Nmt=function(t,n,i,e){return this.T3(t,n,!1,!0,i,e)},n.T3=function(n,i,e,r,s,u){var o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return nu(u),a.next=3,Dr.awrap(this._8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Cmt(o));case 8:return a.abrupt("return",this.Pmt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.Pmt=function(t){return t},t.Cmt=function(t){return t},n._8=function(t,n,i,e,r){var s=new rw({Ql:t.Ql,Wl:Af.Gf,Vl:t.Tht?{Range:"bytes="+t.Tht[0]+"-"+t.Tht[1]}:void 0,bd:t.bd,md:$d.GET,fs:tw.$l,kd:i?nw.ed:nw.Kl,pd:this.G6,yd:e,Ws:r});return n?this.Dmt.Yl(s):this.lE.Yl(s)},t}(),Gq=function(){function t(t){this.lE=void 0,this.lE=t}return t.prototype.b_t=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.lE.Yl({Ql:t,Wl:Af.Gf,Vl:{Range:"bytes="+n[0]+"-"+n[1]},bd:i,md:$d.GET,fs:tw.Kl,Ws:e}));case 2:return r=s.sent,s.next=5,Dr.awrap(r.Rl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),qq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).l8=void 0,r.l8=n,r}return S(n,t),n}($t),Yq=function(){function t(t){this.U4=void 0,this.U4=t}return t.prototype.b_t=function(t,n,i,e){var r,s;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.U4.Z6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Dr.awrap(this.U4.Z6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Ho(new y(s.buffer),n[0],n[1]));case 10:throw new qq({Ql:t,Tht:n,bd:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),jq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new rS([0,0]).PN,references:[]},Qq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},Zq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).Bmt=void 0,u.Omt=void 0,u.Uat=void 0,u.pvt=void 0,u.Bmt=new Gq(i),u.Uat=e,u.Omt=r,u.pvt=s,u}S(n,t);var i=n.prototype;return i.b_t=function(n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.prototype.b_t.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),iu(u.t0);case 9:return u.next=11,Dr.awrap(this.Bmt.b_t(n,i,e,r));case 11:return s=u.sent,u.next=14,Dr.awrap(this.xmt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.xmt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.Omt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Uat.Cat,s=cH(t,i),v.next=6,Dr.awrap(r.Iu(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Dr.awrap(Hq(u,this.Omt,r,this.pvt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.Amt(s,o,this.Omt),h=a.segmentMetadataEntry,c=a.segmentEntry,v.next=17,Dr.awrap(this.Uat.xat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.Cat.Aat(h,f.pvt));case 2:return n.next=4,Dr.awrap(t.iJ.Aat(c,f.pvt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new EW("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],We)},n.Amt=function(t,n,i){return{segmentMetadataEntry:Nr({},jq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},Qq,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(Yq);var Kq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Lmt=function(t,n,i,e,r,s,u){return new Xq(t,n,i,e,r,s,u)},n}(function(){function t(t){this.lE=t}return t.prototype.bK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.cN.sources[0].useCredentials),r=new Wq(this.lE,iw.Kl),s=new jH(this.lE,e),u=new fH(n.Pat,n.Cat,n.iJ,n.Oat),o=function(t,n,i,e,r){return new Zq(n,t,i,e,r)}(this.lE,u,n,t.P_,i),a=new yH,h=new $H(JH(s,u),a,t);return this.Lmt(t,n,h,a,r,o,i)},t}());function Jq(t){var n,i={get id(){return t.P_},get status(){return t.zl},get source(){return t.cN},get parameters(){return t.wc},get duration(){return t.Hg},get cached(){return t.Mmt.qD()},get secondsCached(){return t.Umt},get percentageCached(){return t.Xmt},get bytes(){return t.Hmt},get bytesCached(){return t.Fmt},get license(){return t.hO.Gw},start:function(){t.RN()},pause:function(){t.Cm()},remove:function(){t.Qh()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}};return n=new fR(t,["Pvt","avt"],i),i}var $q=function(){function t(t,n,i){this.Qht=t,this.Uat=n,this.sct=i}var n=t.prototype;return n.zmt=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Uat.xat(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Vmt(n));case 2:return i.next=4,Dr.awrap(t.Wmt(n));case 4:return i.next=6,Dr.awrap(t.Gmt(n));case 6:return i.next=8,Dr.awrap(t.qmt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.Vmt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Bat,i=this.Qht.P_,e.next=4,Dr.awrap(n.Qh(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.Wmt=function(t){var n,i,e,r,s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Cat,i=t.iJ,nm(e=this.Qht.cN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=hH(e.src),h.next=8,Dr.awrap(n.Rat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Hs(t.references,a.Qht.P_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Us((o=s[u]).references,this.Qht.P_),0!==o.references.length){h.next=20;break}return h.next=16,Dr.awrap(n.Qh(o.key));case 16:return h.next=18,Dr.awrap(i.Qh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Dr.awrap(n.Aat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,We)},n.Gmt=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Pat,i=this.Ymt(),o.next=4,Dr.awrap(n.pat(i));case 4:e=o.sent.filter(function(t){return Hs(t.references,u.Qht.P_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Us((s=e[r]).references,this.Qht.P_),0!==s.references.length){o.next=14;break}return o.next=12,Dr.awrap(n.Qh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Dr.awrap(n.Aat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n.Ymt=function(){if(!this.sct)return[];var t=this.Qht.cN.sources[0];if(!nm(t))return[];var n=hH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.zvt;i<e.length;i++)for(var r=0,s=e[i].jvt;r<s.length;r++)for(var u=0,o=s[r].VA;u<o.length;u++)for(var a=0,h=o[u].M_;a<h.length;a++){var c=h[a];c.hlt&&n.push(c.hlt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.sct).map(function(t){return{src:t}}).map(function(t){return hH(t.src)});return[n].concat(i)},n.qmt=function(t){var n,i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Oat,u.next=3,Dr.awrap(n.Eat());case 3:i=u.sent.filter(function(t){return Hs(t.references,s.Qht.P_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Us((r=i[e]).references,this.Qht.P_),0!==r.references.length){u.next=14;break}return u.next=11,Dr.awrap(n.Qh(r.key));case 11:this.jmt(r),u.next=16;break;case 14:return u.next=16,Dr.awrap(n.Aat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.jmt=function(t){},t}(),tY=new(function(){function t(){}return t.prototype.bK=function(t,n,i){return new $q(t,n,i)},t}());var nY=function(){function t(t,n){this.Ww=void 0,this.Sw=t,this.Qmt=n}var n=t.prototype;return n.Zmt=function(t){this.Kmt(t)},n.Kmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.Qmt.kmt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Sw.Tvt(uW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},A(t,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{renew:function(n){t.Zmt(n)}})),this.Ww}}]),t}(),iY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bh=void 0,o.kvt=void 0,o.Ww=void 0,o.yrt=void 0,o.Jmt=void 0,o.Uat=void 0,o.Qmt=void 0,o.$mt=new Js,o.tyt=void 0,o.evictOnLoading=function(){o.tu("avt",o.evictOnLoading),o.nyt()},o.Bh=n,o.yrt=i,o.Jmt=e,o.Uat=r,o.Qmt=s.bK(Kt(o),o.Uat,u),o.tyt=new nY(Kt(o),o.Qmt),o.kvt=1===o.Qmt.hmt.Hvt?uW.DONE:uW.IDLE,o.Qmt.Zs("Pvt",function(t){o.js(t),1===o.Xmt&&o.Tvt(uW.DONE)});var h=new Date,c=o.Jmt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.nyt()},c),o}S(n,t);var i=n.prototype;return i.Tvt=function(t){this.kvt!==t&&(this.kvt=t,this.Qs(new aW))},i.RN=function(){this.kvt===uW.EVICTED||this.kvt===uW.DONE||this.iyt()},i.iyt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Tvt(uW.LOADING),t=new Js,this.$mt=t,n.next=6,Dr.awrap(this.Qmt.cmt(t.Ws));case 6:this.Tvt(uW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),tu(n.t0)?this.Tvt(uW.IDLE):this.Tvt(uW.ERROR);case 12:return n.prev=12,this.$mt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.Cm=function(){this.$mt.Fs()},i.Qh=function(){this.zl===uW.LOADING?(this.Zs("avt",this.evictOnLoading),this.Cm()):this.nyt()},i.nyt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.Qmt.ymt());case 3:return t=n.sent,n.next=6,Dr.awrap(tY.bK(this,this.Uat,t).zmt());case 6:this.Qmt.hmt=pW.Uvt(),this.Tvt(uW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.Tvt(uW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Jq(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"hO",get:function(){return this.tyt}},{key:"zl",get:function(){return this.kvt}},{key:"cN",get:function(){return this.yrt}},{key:"wc",get:function(){return this.Jmt}},{key:"Hg",get:function(){return this.Qmt.hmt.oC}},{key:"Mmt",get:function(){return this.Qmt.hmt.Mvt}},{key:"Umt",get:function(){return this.Qmt.hmt.Lvt}},{key:"Xmt",get:function(){return this.Qmt.hmt.Hvt}},{key:"Hmt",get:function(){return this.Qmt.Imt}},{key:"Fmt",get:function(){return this.Qmt.hmt.Xvt}}]),n}(Lg);var eY=function(){function t(t,n){this.Uat=t,this.eyt=n}var n=t.prototype;return n.Rvt=function(t,n,i){var e=qE();return this.Evt(e,t,n,i)},n.Evt=function(t,n,i,e){return new iY(t,n,i,this.Uat,this.eyt,e)},t}(),rY=30,sY=5;function uY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!vs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&vs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+rY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return sY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var oY,aY,hY,cY,fY,vY,lY=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ww=void 0,e.ryt=n,e.mU=i,e.ryt.Zs("avt",e.js),e}return S(n,t),n.prototype.syt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=lE(t),r=uY(n),iE(e))throw new v("Invalid source description");return this.ryt.Evt(e,r).Gw},A(n,[{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get status(){return t.zl},get tasks(){return t.Cvt},get network(){return t.CU.Gw},createTask:function(n,i){return t.syt(n,i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new vR(t=this,i),i)),this.Ww}},{key:"zl",get:function(){return this.ryt.zl}},{key:"Cvt",get:function(){return this.ryt.Cvt.Gw}},{key:"CU",get:function(){return this.mU}}]),n}(Lg);(oY=new qI(i.Xw,!1),aY=SH.Yn,hY=new Kq(oY),cY=new eY(aY,hY),fY=new jI(oY),vY=new gW(aY.Bat,cY,"persistent"),new lY(vY,fY)).Gw;var dY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bh=void 0,s.kvt=void 0,s.Ww=void 0,s.yrt=void 0,s.Jmt=void 0,s.ua=0,s.uyt=rS.fC(),s.oyt=0,s.ayt=0,s.ryt=void 0,s.Bh=n,s.kvt=uW.IDLE,s.yrt=i,s.Jmt=e,s.ryt=r,s}S(n,t);var i=n.prototype;return i.RN=function(){this.ryt.startCachingTask(this)},i.Qh=function(){this.ryt.removeCachingTask(this)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Jq(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"zl",get:function(){return this.kvt},set:function(t){this.kvt!==t&&(this.kvt=t,this.Qs(new aW))}},{key:"cN",get:function(){return this.yrt}},{key:"wc",get:function(){return this.Jmt}},{key:"Hg",get:function(){return this.ua},set:function(t){this.ua=t}},{key:"Mmt",get:function(){return this.uyt},set:function(t){this.uyt=t}},{key:"Umt",get:function(){return this.oyt},set:function(t){this.oyt=t}},{key:"Xmt",get:function(){return this.ayt},set:function(t){this.ayt=t,this.Qs(new kW)}}]),n}(Mg),wY=30;function _Y(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+wY),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var gY=function(t){function n(){var n;return(n=t.call(this)||this).kvt=fW.UNINITIALISED,n.GU=new _W,n.qct=void 0,n.cft=void 0,n.hyt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.zl=uW.EVICTED,i.Xmt=0,i.Umt=0,i.Hg=0,i.Mmt=rS.fC(),n.GU.Qh(i))}},n.cyt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.zl=e);var r=t.detail.percentage;r&&(i.Xmt=r);var s=t.detail.duration;s&&(i.Hg=s);var u=t.detail.seconds;u&&(i.Umt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Mmt=new rS(a)}}}},n.fyt=function(t){if(t.detail){var i=lE(JSON.parse(t.detail.source));if(!n.vyt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.Evt(i,_Y(e),s)}}},n.lyt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.Evt(lE(r),_Y(i),s);u.zl=t.detail.status,u.Xmt=t.detail.percentage,u.Hg=t.detail.duration,u.Umt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.Mmt=new rS(a)}},n.dyt=function(t){t.detail&&n.Tvt(t.detail.status)},n.qct=new iW,n.cft=new BV,IV().cache={sdkEventBus:n.cft},n.evt(),n}S(n,t);var i=n.prototype;return i.Tvt=function(t){this.kvt!==t&&(this.kvt=t,this.Qs(new aW))},i.Evt=function(t,n,i){void 0===i&&(i=void 0);var e=new dY(i||qE(),t,n,this);return this.GU.Sy(e),i||this.qct.aK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.P_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.GU.fvt;n<i.length;n++){var e=i[n];if(e.P_===t)return e}},i.vyt=function(t){for(var n=yY(t.sources),i=0,e=this.GU.fvt;i<e.length;i++){if(yY(e[i].cN.sources).src===n.src)return!0}return!1},i.evt=function(){this.cft.addEventListener("deleteTask",this.hyt),this.cft.addEventListener("updateValues",this.cyt),this.cft.addEventListener("newTask",this.fyt),this.cft.addEventListener("restoreTask",this.lyt),this.cft.addEventListener("setCacheStatus",this.dyt)},i.startCachingTask=function(t){this.qct.aK("THEOplayerCacheStartCachingTask",{id:t.P_})},i.removeCachingTask=function(t){this.qct.aK("THEOplayerCacheRemoveCachingTask",{id:t.P_})},A(n,[{key:"zl",get:function(){return this.kvt}},{key:"Cvt",get:function(){return this.GU}}]),n}(wu),mY=function(t){function n(n){var i;return(i=t.call(this,n)||this).wyt=n,i.wyt.Zs("avt",i.js),i}return S(n,t),n.prototype.syt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=lE(t),e=_Y(n),iE(i))throw new v("Invalid source description");if(!yY(i.sources))throw new v("The provided sources can't be cached");return this.wyt.Evt(i,e).Gw},n}(lY);function yY(t){for(var n=0;n<t.length;n++){var i=t[n];if(Kg(i.type))return i}}var kY,pY,bY=function(){var t=new gY;return new mY(t)}().Gw;!function(t){t._yt="any",t.gyt="natural",t.myt="landscape",t.yyt="portrait",t.kyt="portrait-primary",t.pyt="portrait-secondary",t.byt="landscape-primary",t.Ayt="landscape-secondary"}(kY||(kY={})),function(t){t.kyt="portrait-primary",t.pyt="portrait-secondary",t.byt="landscape-primary",t.Ayt="landscape-secondary"}(pY||(pY={}));var AY,TY,SY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qct=new iW,n.Tyt=kY.gyt,n.Syt=pY.kyt,n.Eyt=pY.kyt,n.Iyt=pY.kyt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.Tyt=t,n.qct.aK("THEOplayerOrientationLock",t),n.Ryt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.Tyt=kY.gyt,t.qct.aK("THEOplayerOrientationUnlock"),t.type=t.Eyt,t.Ryt(),n()})},i.Ryt=function(){var t=this.Iyt,n=this.type;t!==n&&(this.Iyt=n,this.Qs(new gu("change")))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n.Dyt=function(t){switch(t){case kY.kyt:return[pY.kyt];case kY.pyt:return[pY.pyt];case kY.yyt:return[pY.kyt,pY.pyt];case kY.byt:return[pY.byt];case kY.Ayt:return[pY.Ayt];case kY.myt:return[pY.byt,pY.Ayt];case kY.gyt:return[pY.kyt,pY.byt,pY.Ayt];case kY._yt:return[pY.kyt,pY.pyt,pY.byt,pY.Ayt]}},n.Nyt=function(t,i){return n.Dyt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.Syt},set:function(t){this.Eyt=t,n.Nyt(t,this.Tyt)?(this.Syt=t,this.Ryt()):(t===pY.byt&&this.Tyt===kY.Ayt&&(this.Syt=pY.Ayt,this.Ryt()),t===pY.Ayt&&this.Tyt===kY.byt&&(this.Syt=pY.byt,this.Ryt()))}},{key:"angle",get:function(){switch(this.type){case pY.byt:return-90;case pY.Ayt:return 90;case pY.kyt:return 0;case pY.pyt:return 180;default:return 0}}}]),n}(Mg);SY.Yn=new SY,r.screen.orientation=SY.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Cyt="unavailable",t.Pyt="available",t.Byt="presenting"}(AY||(AY={})),FR(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.Om=function(n){t.prototype.Om.call(this,n);var i=this.Gw;this.Gw.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===AY.Byt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(kY.Ayt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},LR.OU),function(t){t.Hw="addtrack",t.zw="removetrack",t.r_="change",t.c_="update"}(TY||(TY={}));var EY=function(t,n,i){this.type=TY.r_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},IY=function(t,n){this.type=TY.Hw,this.mediaType=t,this.mediaTrack=n},RY=function(t,n){this.type=TY.zw,this.mediaType=t,this.mediaTrack=n},DY=function(t,n){this.type=TY.c_,this.mediaType=t,this.mediaTrack=n},NY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Oyt=function(t){var n=new EY(e.type,t.track,e.mediaTracks);e.messageDispatcher.xyt(n)},this.Lyt=function(t){var n=new IY(e.type,t.track);e.messageDispatcher.xyt(n),t.track.addEventListener("update",e.Myt)},this.Uyt=function(t){var n=new RY(e.type,t.track);e.messageDispatcher.xyt(n)},this.Myt=function(t){var n=new DY(e.type,t.track);e.messageDispatcher.xyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.evt()}return t.prototype.evt=function(){this.mediaTracks.addEventListener("change",this.Oyt),this.mediaTracks.addEventListener("addtrack",this.Lyt),this.mediaTracks.addEventListener("removetrack",this.Uyt)},t}(),CY=function(){function t(){this.Xyt=void 0,this.Xyt=new iW}return t.prototype.xyt=function(t){this.Xyt.aK(t.type,vF(t))},t}();WR(function(t){if(t.Gw.audioTracks){var n=new CY;new NY("audio",t.Gw.audioTracks,n)}if(t.Gw.videoTracks){var i=new CY;new NY("video",t.Gw.videoTracks,i)}});var PY,BY="nativePromiseCallback",OY=function(t){function n(n){var i;return(i=t.call(this,BY)||this).detail=n,i}return S(n,t),n}(gu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(PY||(PY={}));var xY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new OY(n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(BV),LY=function(){function t(){var t=this;this.Xyt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case PY.RESOLVE:i.Wu(n.detail.data);break;case PY.REJECT:i.Gu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new xY;IV().nativePromise={sdkEventBus:n},n.addEventListener(BY,this.handleNativePromiseEvent)}return t.prototype.Hyt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Go;return this.promisesMap[e]=s,null==(i=this.Xyt)||i.aK(n.type,cF(r)),s.Hu},t}();LY.messageIdTracker=-1;var MY,UY=function(t){function n(){var n;return(n=t.call(this)||this).Xyt=new iW,n}return S(n,t),n}(LY),XY=function(){function n(t){this.playerID=t}return n.prototype.aK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),HY=function(t){function n(n){var i;return(i=t.call(this)||this).Xyt=new XY(n),i}return S(n,t),n}(LY);!function(t){t.Hw="TextTrackListAddTrack",t.zw="TextTrackListRemoveTrack",t.r_="TextTrackListChange"}(MY||(MY={}));var FY,zY=function(t){this.type=MY.Hw,this.textTrack=t},VY=function(t){this.type=MY.zw,this.textTrack=t},WY=function(t){this.type=MY.r_,this.textTrack=t};!function(t){t.jw="TextTrackAddCue",t.Zw="TextTrackRemoveCue",t.Jw="TextTrackEnterCue",t.t_="TextTrackExitCue",t.i_="TextTrackCueChange"}(FY||(FY={}));var GY,qY=function(t,n){this.type=FY.jw,this.textTrackCue=t,this.textTrackUid=n},YY=function(t,n){this.type=FY.Zw,this.textTrackCue=t,this.textTrackUid=n},jY=function(t,n){this.type=FY.Jw,this.textTrackCue=t,this.textTrackUid=n},QY=function(t,n){this.type=FY.t_,this.textTrackCue=t,this.textTrackUid=n},ZY=function(t){this.type=FY.i_,this.textTrackUid=t};!function(t){t.Uy="TextTrackCueEnter",t.Hy="TextTrackCueExit",t.c_="TextTrackCueUpdate"}(GY||(GY={}));var KY=function(t){this.type=GY.Uy,this.textTrackCue=t},JY=function(t){this.type=GY.Hy,this.textTrackCue=t},$Y=function(t){this.type=GY.c_,this.textTrackCue=t},tj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Fyt=function(t){var i=nj(t.cue),e=new KY(i);n.messageDispatcher.Hyt(e).then()},this.zyt=function(t){var i=nj(t.cue),e=new JY(i);n.messageDispatcher.Hyt(e).then()},this.Vyt=function(t){var i=nj(t.cue),e=new $Y(i);n.messageDispatcher.Hyt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.evt=function(t){t.addEventListener("enter",this.Fyt),t.addEventListener("exit",this.zyt),t.addEventListener("update",this.Vyt)},n.uu=function(t){t.removeEventListener("enter",this.Fyt),t.removeEventListener("exit",this.zyt),t.removeEventListener("update",this.Vyt)},t}();function nj(t){var n=kV(t,t.track.type);return delete n.track,n}var ij=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Wyt=function(t){var n,e=nj(t.cue),r=new qY(e,t.cue.track.uid);i.messageDispatcher.Hyt(r).then(),null==(n=i.textTrackCueBridge)||n.evt(t.cue)},this.Gyt=function(t){var n,e=nj(t.cue),r=new YY(e,t.cue.track.uid);i.messageDispatcher.Hyt(r).then(),null==(n=i.textTrackCueBridge)||n.uu(t.cue)},this.Fyt=function(t){var n=nj(t.cue),e=new jY(n,t.cue.track.uid);i.messageDispatcher.Hyt(e).then()},this.zyt=function(t){var n=nj(t.cue),e=new QY(n,t.cue.track.uid);i.messageDispatcher.Hyt(e).then()},this.qyt=function(t){var n=new ZY(t.track.uid);i.messageDispatcher.Hyt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new tj(e))}var n=t.prototype;return n.evt=function(t){t.addEventListener("addcue",this.Wyt),t.addEventListener("removecue",this.Gyt),t.addEventListener("entercue",this.Fyt),t.addEventListener("exitcue",this.zyt),t.addEventListener("cuechange",this.qyt)},n.uu=function(t){t.removeEventListener("addcue",this.Wyt),t.removeEventListener("removecue",this.Gyt),t.removeEventListener("entercue",this.Fyt),t.removeEventListener("exitcue",this.zyt),t.removeEventListener("cuechange",this.qyt)},n.initMessageDispatcher=function(t){return M.Vn?new UY:M.Wn&&void 0!==t?new HY(t):void 0},t}(),ej=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Lyt=function(t){var n,i=new zY(t.track);e.messageDispatcher.Hyt(i).then(),null==(n=e.textTrackBridge)||n.evt(t.track)},this.Uyt=function(t){var n,i=new VY(t.track);e.messageDispatcher.Hyt(i).then(),null==(n=e.textTrackBridge)||n.uu(t.track)},this.Yyt=function(t){var n=new WY(t.track);e.messageDispatcher.Hyt(n).then()},this.jyt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Qyt(i);r&&(this.textTrackBridge=new ij(r,i)),this.evt(),this.sdkEventBus=new BV,IV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.jyt)}var n=t.prototype;return n.evt=function(){this.textTracks.addEventListener("addtrack",this.Lyt),this.textTracks.addEventListener("removetrack",this.Uyt),this.textTracks.addEventListener("change",this.Yyt)},n.Qyt=function(t){return M.Vn?new UY:M.Wn&&void 0!==t?new HY(t):void 0},t}();WR(function(t){if(t.Gw.textTracks){var n=new UY;new ej(t.Gw.textTracks,n)}});var rj,sj,uj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case rj.Zyt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qs(new oj(i));break;default:0}},n}(BV),oj=function(t){function n(n){var i;return(i=t.call(this,rj.Zyt)||this).detail=n,i}return S(n,t),n}(gu);!function(t){t.Zyt="registerContentProtectionIntegration"}(rj||(rj={})),function(t){t.Kyt="certifiateRequest",t.Jyt="certifiateResponse",t.$yt="licenseRequest",t.tkt="licenseResponse",t.nkt="extractFairplayContentId",t.ikt="buildContentProtection",t.ekt="registerContentProtectionCallback"}(sj||(sj={}));var aj,hj=function(t,n){this.type=sj.ekt,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(aj||(aj={}));var cj=function(t,n){this.type=sj.ikt,this.value=t,this.integrationId=n},fj=function(t,n){this.type=sj.Kyt,this.value=t,this.integrationId=n},vj=function(t,n){this.type=sj.Jyt,this.value=t,this.integrationId=n},lj=function(t,n){this.type=sj.nkt,this.value=t,this.integrationId=n},dj=function(t,n){this.type=sj.$yt,this.value=t,this.integrationId=n},wj=function(t,n){this.type=sj.tkt,this.value=t,this.integrationId=n},_j=function(){function t(t,n){this.rkt=void 0,this.pI=void 0,this.rkt=t,this.pI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new fj(i,this.pI),a.prev=2,a.next=5,Dr.awrap(this.rkt.Hyt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.skt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.ukt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new Qm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new vj(e,this.pI),o.next=5,Dr.awrap(this.rkt.Hyt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new dj(e,this.pI),h.prev=3,h.next=6,Dr.awrap(this.rkt.Hyt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.skt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.ukt(u)){h.next=17;break}return a=new y(u),h.abrupt("return",a);case 17:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new Qm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new wj(r,this.pI),a.next=6,Dr.awrap(this.rkt.Hyt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new Qm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new lj(t,this.pI),r.next=3,Dr.awrap(this.rkt.Hyt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new Qm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.skt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.ukt=function(t){return!!new y(t)},t}(),gj=function(){function t(t){this.rkt=void 0,this.rkt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new _j(this.rkt,t.integration),i=new cj({drmConfiguration:t},t.integration);return this.rkt.Hyt(i),n},t}(),mj=function(t){function n(){var n;return(n=t.call(this)||this).rkt=new UY,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.rkt}}]),n}(function(){var t=this;this.cft=void 0,this.okt=function(n){var i=new gj(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:zb.II.AI(r,s,i)};t.messageDispatcher.Hyt(new hj(u,r))},this.cft=new uj,IV().contentProtectionIntegration={sdkEventBus:this.cft},this.cft.addEventListener(rj.Zyt,this.okt)});WR(function(t){new mj});var yj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(gu);var kj,pj=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).akt=function(){},e.hkt(),e}S(n,t);var e=n.prototype;return e.ckt=function(){this.mN&&this.mN.tu(bf.sf,this.handleAirplayChangedEvent),this.mN=this.Zx,this.mN.Zs(bf.sf,this.handleAirplayChangedEvent)},e.fkt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mN){t.next=2;break}return t.abrupt("return");case 2:this.vkt(US.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e.lkt=function(){this.vkt(US.AVAILABLE)},e.Lm=function(){i.Lr.ze&&(this.dkt.Um(),this.wkt.Fs(),this.wkt=new Js,hu(this._kt(this.wkt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Ww=void 0,e.dkt=void 0,e.mN=void 0,e.Zx=void 0,e.me=US.UNAVAILABLE,e.wkt=new Js,e.akt=void 0,e.handleAirplayChangedEvent=function(){e.mN&&e.mN.iy?e.fkt():e.cQ===US.CONNECTED&&e.lkt()},e.dkt=n,e.Zx=i,e}S(n,t);var e=n.prototype;return e.hkt=function(){this.ckt(),this.dkt.Zs("sourcechange",this.akt),i.Lr.ze&&this.vkt(US.AVAILABLE)},e.preloadPlayer=function(t){if(nu(t),this.mN.Y_<qg.Dg){var n=this.mN.au("loadedmetadata",t);return this.mN.yy=ZT.Kb,n}return We.resolve()},e.vkt=function(t){t!==this.me&&(this.me=t,this.Qs(new yj(this.me)))},e._kt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.preloadPlayer(t));case 2:this.Zx.Lm();case 3:case"end":return n.stop()}},null,this,null,We)},e.Mm=function(){i.Lr.ze&&this.mN.Mm()},e.Sd=function(){this.$s(),this.dkt.tu("sourcechange",this.akt),this.wkt.Fs()},A(n,[{key:"IM",get:function(){return this.cQ===US.CONNECTED}},{key:"cQ",get:function(){return this.me}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get casting(){return t.IM},get state(){return t.cQ},start:function(){t.Lm()},stop:function(){t.Mm()},addEventListener:function(n,i){var e=yg(n,gg);t.Zs(e,i)},removeEventListener:function(n,i){var e=yg(n,gg);t.tu(e,i)}})),this.Ww}}]),n}(wu));FR(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.qw=function(){var n=this.DU.Gw;return hg(t.prototype.qw.call(this),{get cast(){return n}})},n}(t)},LR.BU),FR(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).gkt=void 0,e.gkt=new pj(Kt(e),e.kM),e.DU.RM(e.gkt),e.Zs("currentsourcechange",function(){e.gkt.ckt()}),e}S(n,t);var i=n.prototype;return i.qw=function(){var n=this,i=t.prototype.qw.call(this);return hg(i.cast,{get airplay(){return n.gkt.Gw}}),i},i.Sd=function(){this.gkt.Sd(),t.prototype.Sd.call(this)},n}(t)},LR.BU),function(t){t.mkt="airplaystatechange"}(kj||(kj={}));var bj=function(t){this.type=kj.mkt,this.state=t},Aj=function(t){function n(n){var i;return(i=t.call(this)||this).ykt=void 0,i.kkt=function(t){var n=new bj(t.state);i.xyt(n)},i.ykt=n,i.evt(n),i}return S(n,t),n.prototype.evt=function(t){t.addEventListener("statechange",this.kkt)},n}(CY);WR(function(t){var n;null!=(n=t.Gw.cast)&&n.airplay&&new Aj(t.Gw.cast.airplay)}),n.ChromelessPlayer=aD,n.Player=aD,n.cache=bY,n.createGlobals=NV,n.features=fD,n.getCueMirrorMap=RV,n.getGlobalId=DV,n.getSdkEventBridge=IV,n.playerSuiteVersion="2023.1.1",n.players=vD,n.registerContentProtectionIntegration=lD,n.utils=cD,n.version="4.7.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
