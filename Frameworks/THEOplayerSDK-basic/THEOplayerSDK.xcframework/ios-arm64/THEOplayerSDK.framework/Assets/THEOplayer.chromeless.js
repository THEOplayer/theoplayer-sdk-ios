/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.1 (4.3.1)
 Created: 2022-11-18T15:07:32.299Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=E.match(/Android ([0-9\.]+)/i),N=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=E.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),L=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=N?g(N[1]):0,this.Y=/Android/i.test(E),this.j=D?g(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.K=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=x?g(x[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(E),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=R?_(R[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.At=I?_(I[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(E),this.St=O?g(O[1]):0,this.Et=/webos|web0s/i.test(E),this.It=/Edge\/\d+/i.test(E),this.Rt=/Trident/i.test(E),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(E),this.Ct=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Pt=P?g(P[1]):0,this.Bt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.Tt,this.Ot=C?g(C[2]):0,this.xt=Boolean(B),this.Lt=B?g(B[1]):0,this.Mt=/CrKey/.test(E),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Xt="ios"===e.I,this.Ht="ios"===e.g,this.Ft=this.Ht||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return A(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Hn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Ft}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();L.Yn=new L;var M=L.Yn,U={}.hasOwnProperty,X={}.toString;function H(t){return null!=t}function F(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===X.call(t)};function V(t){return W(t)&&U.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function G(t){return W(t)&&t.constructor&&t.constructor===d}function q(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===X.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var tt=!(M.Rn&&!M.Dn),nt=t.console;function it(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function et(t){return t.map(it).join(" ")}function rt(t){var n=nt&&nt[t];return n?n.bind&&tt?n.bind(nt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];nt[t](et(i))}:void 0}var st,ut=rt("log")||K,ot=rt("warn")||ut.bind(void 0,"WARNING:"),at=rt("error")||ut.bind(void 0,"ERROR:"),ht=(st=nt&&nt.assert)?st.bind&&tt?st.bind(nt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];nt.assert(t,et(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ft(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Zn)}function lt(t){var n=w.clz32(t&-t);return t?31-n:n}ft.prototype.Zn,d.defineProperty(ft.prototype,"Zn",{value:!0}),ft.isLong=vt;var dt={},wt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=wt[t])?e:(i=mt(t,0,!0),r&&(wt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=mt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?It:Et;if(n){if(t<0)return It;if(t>=At)return Pt}else{if(t<=-Tt)return Bt;if(t+1>=Tt)return Ct}return t<0?gt(-t,n).neg():mt(t%bt|0,t/bt|0,n)}function mt(t,n,i){return new ft(t,n,i)}ft.fromInt=_t,ft.fromNumber=gt,ft.fromBits=mt;var yt=w.pow;function kt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?It:Et;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=gt(yt(i,8)),s=Et,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var h=gt(yt(i,o));s=s.mul(h).add(gt(a))}else s=(s=s.mul(r)).add(gt(a))}return s.unsigned=n,s}function pt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?kt(t,n):mt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ft.fromString=kt,ft.fromValue=pt;var bt=4294967296,At=bt*bt,Tt=At/2,St=_t(1<<24),Et=_t(0);ft.ZERO=Et;var It=_t(0,!0);ft.UZERO=It;var Rt=_t(1);ft.ONE=Rt;var Dt=_t(1,!0);ft.UONE=Dt;var Nt=_t(-1);ft.NEG_ONE=Nt;var Ct=mt(-1,2147483647,!1);ft.MAX_VALUE=Ct;var Pt=mt(-1,-1,!0);ft.MAX_UNSIGNED_VALUE=Pt;var Bt=mt(0,-2147483648,!1);ft.MIN_VALUE=Bt;var Ot=ft.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*bt+(this.low>>>0):this.high*bt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(yt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return vt(t)||(t=pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(vt(t)||(t=pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){vt(t)||(t=pt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,mt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Ot.subtract=function(t){return vt(t)||(t=pt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=pt(t)),ct)return mt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?It:Et;if(this.eq(Bt))return t.isOdd()?Bt:Et;if(t.eq(Bt))return this.isOdd()?Bt:Et;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(St)&&t.lt(St))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,v=0;return f+=(v+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,mt((f&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(vt(t)||(t=pt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?It:Et;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return It;if(t.gt(this.shru(1)))return Dt;e=It}else{if(this.eq(Bt))return t.eq(Rt)||t.eq(Nt)?Bt:t.eq(Bt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(Et)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Bt))return this.unsigned?It:Et;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Et}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:yt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return vt(t)||(t=pt(t)),ct?mt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return mt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?lt(this.low):lt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return vt(t)||(t=pt(t)),mt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return vt(t)||(t=pt(t)),mt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return vt(t)||(t=pt(t)),mt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?mt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:mt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ft.fromBytes=function(t,n,i){return i?ft.fromBytesLE(t,n):ft.fromBytesBE(t,n)},ft.fromBytesLE=function(t,n){return new ft(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ft.fromBytesBE=function(t,n){return new ft(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xt=9007199254740991,Lt=w.pow(2,-52);function Mt(t,n,i){return w.min(w.max(t,n),i)}function Ut(t,n,i){return t===n||w.abs(t-n)<=i}function Xt(t){return t!=t}function Ht(t,n){return t===n||Xt(t)&&Xt(n)}function Ft(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!m(t.getTime())}function Vt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function Gt(t){return 1e3*t}var qt,Yt=ft.fromNumber(xt);function jt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Qt(t){return t.Kn===qt.Jn}function Zt(t){return t.Kn===qt.$n}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}(qt||(qt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Jt.prototype=d.create(v.prototype)).constructor=Jt;var $t=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Kt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),tn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}($t),nn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new tn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new tn;return new hn(n)},t}(),en=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:vn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),rn=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return cn(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return cn(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},A(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=fn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(cn)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:vn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new en(t.item(i)));return n}(this.Ti.attributes)}},{key:"Hi",get:function(){return this.Ti.textContent}}]),n}(rn),un=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Fi===t.Fi},A(t,[{key:"Fi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(un),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(un),hn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return new sn(this.Ti.documentElement)}}]),n}(rn);function cn(t){return Qt(t)}function fn(t){switch(t.nodeType){case qt.Jn:return new sn(t);case qt.$n:return new on(t);case qt.ei:return new an(t)}}function vn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function ln(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function dn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){wn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&wn(i,null,t.length,t),t}function wn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var _n=/[a-zA-Z]/,gn=/[0-9]/,mn=/[0-9a-fA-F]/,yn=/^0x/i,kn=/^[0-9]+$/,pn=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,An=d.prototype.toString,Tn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Sn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function En(t){return Tn(t)?t:Array.from(t)}function In(t){return t>=65&&t<=90}function Rn(t){return In(t)||function(t){return t>=97&&t<=122}(t)}function Dn(t){return t>=48&&t<=57}function Nn(t){return Dn(t)||Rn(t)}function Cn(t){return Dn(t)||t>=65&&t<=70||t>=97&&t<=102}function Pn(t){return In(t)?t+32:t}function Bn(t){return Dn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function On(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=w.min,Ln=String.fromCharCode,Mn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Mn){var r=xn(e+Mn,n);i.push(Ln.apply(null,t.slice(e,r)))}return i.join("")}var Xn=/[^\0-\x7E]/,Hn=/[\x2E\u3002\uFF0E\uFF61]/g,Fn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=w.floor,Vn=String.fromCharCode;function Wn(t){throw new RangeError(Fn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var qn,Yn,jn,Qn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Hn,".")).split("."),n).join(".");return e+r}(t,function(t){return Xn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Vn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Wn("overflow"),m==e){for(var y=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(y<p)break;var b=y-p,A=36-p;n.push(Vn(Qn(p+b%A,0))),y=zn(b/A)}n.push(Vn(Qn(y,0))),s=Zn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function $n(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ti(t,n){return t>>n&63|128}function ni(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($n(t),n.push(t>>12&15|224),n.push(ti(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ti(t,12)),n.push(ti(t,6))),n.push(63&t|128)):n.push(t)}function ii(t){for(var n=[],i=0;i<t.length;i++){ni(t[i],n)}return n}function ei(){if(jn>=Yn)throw new v("Invalid byte index");var t=255&qn[jn];if(jn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ri(){var t,n;if(jn>Yn)throw new v("Invalid byte index");if(jn===Yn)return!1;if(t=255&qn[jn],jn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ei())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ei()<<6|ei())>=2048)return $n(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ei()<<12|ei()<<6|ei())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function si(t){return[37,On(t>>4),On(15&t)]}function ui(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oi(t){return ui(t)||32===t||34===t||60===t||62===t||96===t}function ai(t){return oi(t)||35===t||63===t||123===t||125===t}function hi(t){return ai(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ci(t){return t<33||t>126||34===t||35===t||60===t||62===t}function fi(t){return ci(t)||39===t}function vi(t,n){if(!n(t))return[t];for(var i=ii([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,si(s))}return e}function li(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,vi(s,n))}return Jn(i)}function di(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Cn(t[e+1])&&Cn(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ii(t))}function wi(t){return Jn(function(t){qn=t.slice(),Yn=qn.length,jn=0;for(var n,i=[];!1!==(n=ri());)i.push(n);return i}(di(Gn(t))))}function _i(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new l;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new l("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&mn.test(t[h]);)c=c<<4|_(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new l;if(h-=f,o>6)throw new l;for(var v=0;h<s;){var d=null;if(v>0){if(!("."===t[h]&&v<4))throw new l;h+=1}if(!gn.test(t[h]))throw new l;for(;h<s&&gn.test(t[h]);){var w=_(t[h],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}h+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[h]){if((h+=1)===s)throw new l}else if(h<s)throw new l;u[o]=c,o+=1}else{if(null!==a)throw new l("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function gi(t){var n=10,i=kn;return yn.test(t)?(t=t.slice(2),n=16,i=pn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var mi={Vi:4},yi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function pi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Vi:2,Wi:_i(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new l("Invalid code point in opaque host");var n=li(t,ui);return""===n?mi:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(wi(t));if(yi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=gi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?mi:{Vi:0,qi:i}}function bi(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Ai=/\+/g;function Ti(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ai," "),o=o.replace(Ai," ");var a=wi(u),h=wi(o);i.push([a,h])}}return i}function Si(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ei(ii(Gn(e[0])))+"="+Ei(ii(Gn(e[1])))}return n}function Ei(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,si(r))}return Un(i)}var Ii=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ri(t){var n=""+t,i=Ii.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Ci(s)||r===i-1)e.push(Di);else{var u=t.charCodeAt(r+1);Ci(u)?(e.push(s,u),r++):e.push(Di)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Di=65533,Ni=function(t){return 55296==(63488&t)},Ci=function(t){return 0!=(1024&t)};function Pi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.Yi.length=0}function Oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ti(n))}function xi(t){if(t.ji){var n=Si(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var Li=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Li&&Tn(s.Yi)&&(!Sn||s[Symbol.iterator]===Mi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!Tn(t)||!!Sn&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=En(t);n<i.length;n++){var e=En(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Yi.push([Ri(e[0]),Ri(e[1])])}}else for(var r in this.Yi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Ri(r),Ri(t[r])]);else(t=Ri(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ti(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ri(t),n=Ri(n),this.Yi.push([t,n]),xi(this)},n.delete=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ri(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ri(t),n=Ri(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){dn(this.Yi,Pi),xi(this)},n.toString=function(){return Si(this.Yi)},n.entries=function(){return new Fi(this.Yi,Ui)},n.keys=function(){return new Fi(this.Yi,Xi)},n.values=function(){return new Fi(this.Yi,Hi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Mi=Li.prototype.entries;Sn&&(Li.prototype[Symbol.iterator]=Mi);var Ui=function(t){return[t[0],t[1]]},Xi=function(t){return t[0]},Hi=function(t){return t[1]},Fi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),zi="null";var Vi=d.create(null);Vi.ftp=21,Vi.file=0,Vi.gopher=70,Vi.http=80,Vi.https=443,Vi.ws=80,Vi.wss=443;var Wi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function qi(t){return Wi.test(t)}function Yi(t){return Gi.test(t)}function ji(t){return void 0!==Vi[t]}function Qi(t){return ji(t.Ji)}function Zi(t){return""!==t.$i||""!==t.re}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!$i(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ji(t){return 2===t.length&&_n.test(t[0])&&(":"===t[1]||"|"===t[1])}function $i(t){return 2===t.length&&Ji(Un(t))}function te(t){return Ji(t)&&":"===t[1]}function ne(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&te(n[0])||n.pop())}function ie(t){return null===t.oe||mi===t.oe||t.fe||"file"===t.Ji}var ee=-1,re=/\t|\n|\r/g,se=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ue(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ae,t=t.replace(se,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(re,"")),c=h.length,f=0;f<=c;){var v=f<c?h[f]:ee;switch(r){case 0:if(!Rn(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Pn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Pn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Jn(s);if(null!==e){if(ji(i.Ji)&&!ji(d))return;if(!ji(i.Ji)&&ji(d))return;if((Zi(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===mi||null===i.oe))return}if(i.Ji=d,null!==e)return void(Qi(i)&&i.we===Vi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Qi(i)&&n&&n.Ji===i.Ji?r=3:Qi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==v)throw new l("Invalid scheme");n.fe&&35===v?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,ee===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===v?r=6:63===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===v&&Qi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Qi(i)||47!==v&&92!==v?47===v?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Jn(vi(g,hi));a?i.re+=m:i.$i+=m}else a=!0}s.length=0}else if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==v||o)if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(f-=1,Qi(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i.we))return;var y=pi(Jn(s),Qi(i));if(i.oe=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=pi(Jn(s),Qi(i));if(i.oe=k,s.length=0,r=12,11===e)return}break;case 12:if(Dn(v))s.push(v);else{if(!(ee===v||47===v||63===v||35===v||Qi(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var p=_(Jn(s),10);if(p>65535)throw new l("Invalid port");i.we=p===Vi[i.Ji]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===v||92===v?r=14:n&&"file"===n.Ji?ee===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ki(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ne(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Ji&&!Ki(h.slice(f))&&(te(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(ee===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&$i(s))r=17;else if(0===s.length){if(i.oe=mi,null!==e)return;r=16}else{var b=pi(Jn(s),Qi(i));if(0===b.Vi&&"localhost"===b.qi&&(b=mi),i.oe=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Qi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Qi="",r=19):null===e&&35===v?(i._e="",r=20):ee!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ee===v||47===v||Qi(i)&&92===v||null===e&&(63===v||35===v)){var A=Jn(s);if(Yi(A)?(ne(i),47===v||Qi(i)&&92===v||i.ue.push("")):!qi(A)||47===v||Qi(i)&&92===v?qi(A)||("file"===i.Ji&&0===i.ue.length&&$i(s)&&(mi!==i.oe&&null!==i.oe&&(i.oe=mi),s[1]=58,A=Jn(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(ee===v||63===v||35===v))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===v?(i.Qi="",r=19):35===v&&(i._e="",r=20)}else s.push.apply(s,vi(v,ai));break;case 18:63===v?(i.Qi="",r=19):35===v?(i._e="",r=20):ee!==v&&(i.ue[0]+=Jn(vi(v,ui)));break;case 19:null===e&&35===v?(i._e="",r=20):ee!==v&&(i.Qi+=Jn(vi(v,Qi(i)?fi:ci)));break;case 20:ee===v||0===v||(i._e+=Jn(vi(v,oi)))}f++}return i}function oe(t,n,i,e){try{ue(t,n,i,e)}catch(t){}}var ae=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function he(t){switch(t.Ji){case"blob":var n;try{n=ue(t.ue[0],null)}catch(t){return zi}return he(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var ce,fe,ve,le,de,we,_e=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof _e&&"object"==typeof i.ji)r=n.ji;else try{r=ue(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=ue(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new Li;return null!==t&&Oi(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Zi(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=bi(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ue(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.ji=n,Bi(this.Qi);var i=this.ji.Qi;null!==i&&Oi(this.Qi,i)}},{key:"origin",get:function(){return he(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){oe(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){ie(this.ji)||(this.ji.$i=li(t,hi))}},{key:"password",get:function(){return this.ji.re},set:function(t){ie(this.ji)||(this.ji.re=li(t,hi))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||oe(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":bi(t)},set:function(t){this.ji.fe||oe(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){ie(this.ji)||(""===t?this.ji.we=null:oe(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,oe(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Ri(t);var n=this.ji;if(""===t)return n.Qi=null,void Bi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",oe(t,null,n,19),Oi(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",oe(t,null,this.ji,20)):this.ji._e=null}}])&&ln(n.prototype,i),e&&ln(n,e),t}();function ge(t){return t.document&&t.document.baseURI||t.location.href||""}var me=a;function ye(t){return Boolean(t&&void 0!==t.length)}function ke(){}function pe(t){if(!(this instanceof pe))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ie(t,this)}function be(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,pe.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Te(n.promise,t)}Ae(n.promise,e)}else(1===t.me?Ae:Te)(n.promise,t.ke)})):t.pe.push(n)}function Ae(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof pe)return t.me=3,t.ke=n,void Se(t);if("function"==typeof i)return void Ie((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Se(t)}catch(n){Te(t,n)}var e,r}function Te(t,n){t.me=2,t.ke=n,Se(t)}function Se(t){2===t.me&&0===t.pe.length&&pe.Ae(function(){t.ye||pe.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)be(t,t.pe[n]);t.pe=null}function Ee(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ie(t,n){var i=!1;try{t(function(t){i||(i=!0,Ae(n,t))},function(t){i||(i=!0,Te(n,t))})}catch(t){if(i)return;i=!0,Te(n,t)}}pe.prototype.catch=function(t){return this.then(null,t)},pe.prototype.then=function(t,n){var i=new this.constructor(ke);return be(this,new Ee(t,n,i)),i},pe.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},pe.all=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pe?t:new pe(function(n){n(t)})},pe.reject=function(t){return new pe(function(n,i){i(t)})},pe.race=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)pe.resolve(t[e]).then(n,i)})},pe.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){me(t,0)},pe.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Re=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),De=o?o.userAgent:"",Ne=De.match(/Firefox\/([0-9]+)/i),Ce=null!=Ne,Pe=Ne?Number(Ne[1]):0,Be=De.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oe=null!=Be,xe=Be?Number(Be[3]):0,Le=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Me="unhandledrejection",Ue=t.PromiseRejectionEvent,Xe=t.CustomEvent;function He(t){return new Ue(Me,{reason:t,promise:Re.reject(t).catch(function(){}),cancelable:!0})}function Fe(t){var n=new Xe(Me,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Me,!1,!0,{reason:t}),n}var Ve,We,Ge,qe,Ye,je,Qe,Ze=function(t){return(Ze=function(){try{var t=Re.resolve(),n=new Ue(Me,{reason:"error",promise:t});return Me===n.type&&"error"===n.reason}catch(t){}return!1}()?He:function(){try{var t=new Xe(Me,{detail:{reason:"error"}});return Me===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Fe:ze)(t)};if(Re&&!(Ce&&Pe<60||Oe&&xe<15))We=Re;else{We=pe;var Ke=null!==(Ve=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Re;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ve?Ve:pe.Ae,Je=(Ge=Ke,qe=new Le(16),Ye=!1,{Ce:function(t){qe.push(t),Ye||(Ye=!0,Ge(je))},Pe:je=function(){for(;qe.length()>0;)qe.shift()();Ye=!1}});pe.Ae=Je.Ce,pe.Te=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function nr(t,n){M.Tn&&M.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function ir(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function er(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function rr(t){t.removeAttribute("title")}function sr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function ur(t){t.src&&(t.removeAttribute("src"),t.load())}function or(){return void 0!==s?s.createElement("video"):void 0}function ar(){return Qe||(Qe=or()),Qe}var hr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),cr=ar(),fr=!(!cr||!cr.webkitShowPlaybackTargetPicker),vr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=hr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},A(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"He",get:function(){return!M.Un}},{key:"Fe",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return fr}},{key:"Ve",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return M.Bn||M.hn}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),lr=function(){var t=or();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(M.in)return!1;var t=or();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var dr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.Oe=i.Je.Oe,i.Gt=i.Je.Gt,i.xe=lr&&i.Je.xe),i}S(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.Je?this.Je.Ue(n):t.prototype.Ue.call(this,n)},A(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ze)||t}}]),n}(vr),wr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return S(n,t),A(n,[{key:"je",get:function(){return M.hn}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(){return le.MediaSource?t.prototype.Le.call(this):1},A(n,[{key:"je",get:function(){return!0}}]),n}(wr),gr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},A(n,[{key:"Ve",get:function(){return M.Sn<3}},{key:"We",get:function(){return M.Sn>=3}},{key:"Ke",get:function(){return M.Sn<3}}]),n}(dr),mr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(vr),yr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(t,n){if(t&&t.$e&&n&&n.$e){var i=kr(t.$e,"mp4a.40.2")&&kr(n.$e,"mp4a.40.5"),e=kr(t.$e,"mp4a.40.5")&&kr(n.$e,"mp4a.40.2"),r=kr(t.$e,"mp4a.40.2")&&kr(n.$e,"mp4a.40.34"),s=kr(t.$e,"mp4a.40.34")&&kr(n.$e,"mp4a.40.2"),u=kr(t.$e,"mp4a.40.5")&&kr(n.$e,"mp4a.40.34"),o=kr(t.$e,"mp4a.40.34")&&kr(n.$e,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"Qe",get:function(){if(M.qt)return 4096}}]),n}(mr);function kr(t,n){return t.indexOf(n)>-1}var pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(t){return t>=2},n}(mr),br=function(t){function n(){var n;return(n=t.call(this)||this).Oe=M.On>=11,n.xe=M.Bn&&!(M.hn&&M.On<10),n}return S(n,t),n}(mr),Ar=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"qe",get:function(){return!1}}]),n}(dr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ze",get:function(){return!M.Yt||(M.pn?92!==M.An:M.yn>=100)}}]),n}(mr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"je",get:function(){return!0}}]),n}(dr),Er=function(){function n(){var n;this.ir=void 0,this.er=new nn,this.rr=new Ir,this.dr=(n=function(){if(M.Cn)return new yr;if(M.In||M.Rn)return new pr;if(M.Bn)return new br;if(M._n)return new Tr;return new mr}(),M.hn?new _r(n):M.dn?new wr(n):M.Tn?new gr(n):M.En?new Ar(n):M.qt?new Sr(n):new dr(n)),this.wr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ir=function(){return t.performance.now()}:this.ir=Vt}var i=n.prototype;return i._r=function(){ut.apply(void 0,arguments)},i.gr=function(){ot.apply(void 0,arguments)},i.yr=function(){at.apply(void 0,arguments)},i.pr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Ar=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Tr=function(t){f(t)},i.ui=function(t){return this.er.ui(t)},i.Sr=function(){return this.Er.Sr()},i.Ir=function(){return this.Er.Ir()},i.Rr=function(){return this.Er.Rr()},i.Dr=function(){return this.Er.Dr()},i.Nr=function(){return this.Er.Nr()},i.Cr=function(t,n){return this.Er.Cr(t,n)},i.Pr=function(t){return this.Er.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=ge(le)),i="object"!=typeof n||n instanceof _e?n:n.href,new _e(t,i)},i.Or=function(n,i){if(void 0===i&&(i=ge(le)),this.wr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},A(n,[{key:"xr",get:function(){return this.rr}},{key:"Lr",get:function(){return this.dr}},{key:"Mr",get:function(){return{Ur:o&&o.userAgent.match(/Android /i)?"Android":"other",Xr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Hr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ir=function(){function t(){}return A(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Lr",get:function(){return o.platform}},{key:"Vr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Rr={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.Gr=function(t,n,i){var e=c;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.qr=i.arg;else if("throw"===i.method){if(e===c)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function p(){}var b={};b[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=p.prototype=y.prototype=d.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Yr")?We.resolve(c.Yr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Yr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Rr.exports);var Dr=Rr.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Cr(){var t=d.create(null);return t.jr=void 0,delete t.jr,t}function Pr(){return new Ur}function Br(){return new Fr}function Or(t){var n=Pr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function xr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Lr,Mr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ur=Mr||(Lr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Cr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Cr(),this.size=0},n.keys=function(){return new Lr(this.data,function(t,n){return n})},n.values=function(){return new Lr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Lr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Xr,Hr,Fr=Mr||(Xr=function(){function t(t,n){this.Qr=void 0,this.Zr=void 0,this.Qr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Qr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Pr()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Xr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Xr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.Jr="9a04f079-9840-4286-ab92-e65be0885f95",t.$r="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Hr||(Hr={}));var zr,Vr="urn:mpeg:dash:mp4protection:2011",Wr="cenc",Gr="sinf",qr="skd",Yr=Hr.Jr,jr="urn:uuid:"+Yr,Qr="com.microsoft.playready",Zr=Hr.$r,Kr="urn:uuid:"+Zr,Jr=Hr.rs,$r="urn:uuid:"+Jr,ts=Hr.us,ns="urn:uuid:"+ts,is="com.apple.fps.1_0",es="com.apple.streamingkeydelivery";!function(t){t.Jr="playready",t.$r="widevine",t.us="fairplay",t.rs="clearkey",t.hs="aes128"}(zr||(zr={}));var rs={fs:zr.Jr,vs:Qr,ls:"cenc",ds:Yr,_s:jr,gs:"PlayReady"},ss={fs:zr.$r,vs:"com.widevine.alpha",ls:"cenc",ds:Zr,_s:Kr,gs:"Widevine"},us={fs:zr.us,vs:is,ls:"skd",ds:ts,_s:ns,gs:"FairPlay"},os={fs:zr.us,vs:"com.apple.fps",ls:"sinf",ds:ts,_s:ns,gs:"FairPlay"},as={fs:zr.rs,vs:"org.w3.clearkey",ls:"cenc",ds:Jr,_s:$r,gs:"ClearKey"},hs=[rs,ss,us,as];function cs(t){return hs.filter(function(n){return n._s===t.toLowerCase()})}function fs(t,n,i){return t.split(n).join(i)}function vs(t,n){return null!=t&&-1!==t.indexOf(n)}function ls(t,n){return null!=t&&t.substr(0,n.length)===n}function ds(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ws(t,n){return t.toUpperCase()===n.toUpperCase()}function _s(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function gs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=_s(e,r/e.length)),e.slice(0,r)+t)}function ms(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ks(n)}var ys=16384;function ks(t){var n=t.length;if(n<=ys)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ys)i.push(String.fromCharCode.apply(String,t.slice(e,e+ys)));return i.join("")}var ps=M._n&&M.yn>=42||M.Cn&&M.Pn>=38||M.In||M.Dn||M.xn&&M.Ln>=29;function bs(t,n){return vs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function As(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ts(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ss,Es=function(){function t(t){this.ys=void 0,this.As=Pr(),this.Ts=void 0,this.ys=t}var n=t.prototype;return n.Nr=function(){return this.Pr(ss)},n.Ir=function(){return this.Pr(as)},n.Dr=function(){return this.Pr(rs)},n.Rr=function(){return this.Pr(us)},n.Pr=function(t){var n=t._s,i=this.As.get(n);if(i)return i;var e=this.Cr(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,e),e},n.Cr=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.ys.Ss(t.vs,[bs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Dr.awrap(this.ys.Ss(t.vs,[bs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Sr=function(){return this.Ts||(this.Ts=this.Es()),this.Ts},n.Es=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==de.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ps){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Dr.awrap(this.Ir());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Is(t,n){return Ds(t.slice(),n)}function Rs(t,n){var i=Ds(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Ds(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Is=0]="Is",t[t.Rs=1]="Rs",t[t.Ds=-1]="Ds"}(Ss||(Ss={}));var Cs=function(t,n){return(0|t)-(0|n)},Ps=function(t,n){return t===n?Ss.Is:t<n?Ss.Ds:t>n?Ss.Rs:m(t)?m(n)?Ss.Is:Ss.Rs:Ss.Ds};function Bs(t,n,i){return Ut(t,n,i)?Ss.Is:Ps(t,n)}var Os=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Lt||i<w.max(w.abs(t),w.abs(n))*Lt}(t,n)?Ss.Is:Ps(t,n)};function xs(t,n,i){var e=Ms(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ms(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Us(t,n){var i=t.indexOf(n);return-1!==i&&(Xs(t,i),!0)}function Xs(t,n){t.splice(n,1)}function Hs(t,n){return-1!==t.indexOf(n)}function Fs(t,n){for(var i=0;i<n.length;i++){if(!Hs(t,n[i]))return!1}return!0}function zs(t){t.length=0}function Vs(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Hs(n,t[i]))return!1}return!0}function Ws(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Gs(t,n){return Ys(t,function(t,i){return Ps(n(t),n(i))})}function qs(t,n){return function(t,n){return Ys(t,function(t,i){return n(i,t)})}(t,function(t,i){return Ps(n(t),n(i))})}function Ys(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function js(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function Qs(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Dr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function Zs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Ks=function(){function t(){this.Ns=!1,this.Cs=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ns&&!this.Cs){this.Ns=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Cs){this.Cs=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}zs(this.Ps),zs(this.Bs)}},n.Ls=function(t){this.Cs||this.Ps.push(t)},n.Ms=function(t){this.Cs||Us(this.Ps,t)},n.Us=function(t){this.Cs||this.Bs.push(t)},n.Xs=function(t){this.Cs||Us(this.Bs,t)},t}(),Js=function(){function t(){this.Hs=new Ks}var n=t.prototype;return n.Fs=function(){this.Hs.Os()},n.xs=function(){this.Hs.xs()},n.zs=function(t){var n=this.Hs;if(!n.Ns)if(t.Ns)n.Os();else if(!n.Cs&&!t.Cs){var i=function(){e(),n.Os()},e=function e(){t.Ms(i),t.Xs(e),n.Ms(i),n.Xs(e)};t.Ls(i),t.Us(e),n.Ls(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Hs,u=function(){e.Ns&&r.Cs||r.Ns&&e.Cs?s.Os():e.Cs&&r.Cs&&s.xs()};e.Ls(u),r.Ls(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Ms(u),r.Ms(u),e.Xs(u),r.Xs(u)}),[n,i]},A(t,[{key:"Ws",get:function(){return this.Hs}}]),t}(),$s=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}($t);function tu(t){return t instanceof v&&"AbortError"===t.name}function nu(t){if(t&&t.Ns)throw new $s}function iu(t){if(tu(t))throw t}function eu(t){if(!tu(t))throw t}function ru(t,n){return n?new We(function(i,e){if(n.Ns)return t.catch(K),e(new $s);var r=function t(){n.Ms(t),e(new $s)};n.Ls(r),t.then(function(t){n.Ms(r),i(t)},function(t){n.Ms(r),e(t)})}):t}function su(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function uu(t,n){var i=new Js;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Fs(),t},function(t){throw i.Fs(),t})}var ou=We.resolve();function au(t){ou.then(t)}function hu(t){t.then(K,K)}function cu(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function fu(t,n){return new We(function(e,r){if(void 0!==n&&n.Ns)r(new $s);else{var s=i.Qn(function(){void 0!==n&&n.Ms(u),e()},t),u=function(){i.jn(s),r(new $s)};void 0!==n&&n.Ls(u)}})}function vu(t){return t&&"function"!=typeof t?t.slice():t}function lu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var du,wu=function(){function t(t){var n=this;this.Gs=Cr(),this.qs=void 0,this.Ys=void 0,this.js=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.Gs[t];i?"function"==typeof i?this.Gs[t]=[i,n]:i.push(n):this.Gs[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.$s=function(){this.Gs=Cr(),this.qs=void 0},n.Qs=function(t){var n=vu(this.Gs[t.type]),i=vu(this.qs);lu(this.Ys,t,n),lu(this.Ys,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Gs[t];i&&("function"==typeof i?i===n&&(this.Gs[t]=void 0):Us(i,n))},n.uu=function(t){if("string"==typeof t)this.Gs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Gs[i]=void 0}},n.ou=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):Us(n,t))},n.au=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Ns)return r(new $s);var s=function(t){o(),e(t)},u=function(){o(),r(new $s)},o=function(){i.tu(t,s),n&&n.Ms(u)};i.Zs(t,s),n&&n.Ls(u)})},t}(),_u=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qs=function(n){var i=this;au(function(){t.prototype.Qs.call(i,n)})},n}(wu),gu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},mu=["cenc"],yu=["cbcs","cbcs-1-9"],ku=function(t){function n(n){var i;return(i=t.call(this,"vu")||this).fu=n,i}return S(n,t),n}(gu),pu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"du")||this).fu=n,s.wu=i,s.du=e,s._u=r,s}return S(n,t),n}(gu),bu=function(t){function n(){return t.call(this,"mu")||this}return S(n,t),n}(gu);!function(t){t.yu="pu",t.bu="Au"}(du||(du={}));var Au=function(t){function n(n,i){var e;return(e=t.call(this,du.yu)||this).ls=n,e.Tu=i,e}return S(n,t),n}(gu),Tu=function(t){function n(){return t.call(this,du.bu)||this}return S(n,t),n}(gu),Su=new y([0]).buffer,Eu=function(){function t(){this.Su=void 0,this.Su=[]}var n=t.prototype;return n.Eu=function(t){for(var n=0,i=this.Su;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Iu=function(t){for(var n=0,i=this.Su;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ru=function(t,n){this.Su.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Su.push([t,n])},n.Nu=function(){zs(this.Su)},A(t,[{key:"Cu",get:function(){return this.Su.length}}]),t}(),Iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ru=16383,Du=/[\t\n\f\r ]/g;function Nu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Cu()}function Cu(){throw new v("Invalid base64 input")}function Pu(t){var n=t;Du.test(n)&&(n=n.replace(Du,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Cu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Nu(n.charCodeAt(a))<<18|Nu(n.charCodeAt(a+1))<<12|Nu(n.charCodeAt(a+2))<<6|Nu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Nu(n.charCodeAt(a))<<2|Nu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Nu(n.charCodeAt(a))<<10|Nu(n.charCodeAt(a+1))<<4|Nu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Bu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Iu[e>>2]+Iu[(3&e)<<4|r>>4]+Iu[(15&r)<<2|s>>6]+Iu[63&s]));return u.join("")}function Ou(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Ru)e.push(Bu(t,s,w.min(r,s+Ru)));if(1===i){var u=t[n-1];e.push(Iu[u>>2]+Iu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Iu[o>>2]+Iu[(3&o)<<4|a>>4]+Iu[(15&a)<<2]+"=")}return e.join("")}var xu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Lu=ArrayBuffer.isView||function(t){return t&&Hs(xu,X.call(t))};function Mu(t,n){return t===n||t.byteLength===n.byteLength&&Uu(new y(t),new y(n))}function Uu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Xu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Hu(t,n)}function Hu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Fu(t){return Pu(t).buffer}function zu(t){return Ou(new y(t))}function Vu(t){return Ou(Eo(t))}function Wu(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function Gu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Wu(t,n);return e}var qu=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},A(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function Yu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ju(t,n){return t>>n&63|128}function Qu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Yu(t),n.push(t>>12&15|224),n.push(ju(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ju(t,12)),n.push(ju(t,6))),n.push(63&t|128)):n.push(t)}function Zu(t,n){if(n.Pu>=t.length)throw new v("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Ku(t,n){var i=n.Pu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Zu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Zu(t,n)<<6|Zu(t,n);if(s>=2048)return Yu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Zu(t,n)<<12|Zu(t,n)<<6|Zu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Ju=65279;var $u=[128,64,32,16,8,4,2,1],to=function(){function t(t){this.Mu=t}return t.prototype.Uu=function(t){return no(this.Mu,t)},t}();function no(t,n){return(t&n)===n}function io(t,n){return no(t,$u[n])}function eo(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function ro(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function so(t,n,i){var e=Oo(Mo(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function uo(t,n,i){Mo(t).set(Mo(i),n.Pu),n.Bu(i.byteLength)}function oo(t,n,i){return n.Pu+i<=t.byteLength}function ao(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=eo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+eo(t,n);return e}(t,n,i)}function ho(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function co(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function fo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function vo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function lo(t,n,i){void 0===i&&(i=!1);var e=fo(t,n,i),r=fo(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function wo(t,n){return mo(t,n)}function _o(t,n,i){return ks(zo(so(t,n,i)))}function go(t,n){var i,e=eo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&eo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&eo(t,n))+(63&eo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&eo(t,n))+64*(63&eo(t,n))+(63&eo(t,n))),i}function mo(t,n){return yo(t,n,!0)}function yo(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=eo(t,n);if(i&&!r)break;e.push(r)}return ks(e)}function ko(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function po(t,n){var i=ko(t,n);return void 0!==i&&n.Bu(2),bo(t,n,!0===i)}function bo(t,n,i){return void 0===i&&(i=!1),Ao(t,n,i,!0)}function Ao(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=ho(t,n,i);if(e&&!s)break;r.push(s)}return ks(r)}function To(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){co(t,n,i.charCodeAt(s),e)}}function So(t){return yo(Lo(t),new Vo,!1)}function Eo(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)ro(t,n,i.charCodeAt(r))}(Lo(n),new Vo,t),n}function Io(t,n){return void 0===n&&(n=!1),Ao(Lo(t),new Vo,n,!1)}function Ro(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return To(Lo(i),new Vo,t,n),i}function Do(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function No(t,n){return function(t,n,i){var e=[];Do(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=go(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ms(e)}(t,n,!0)}function Co(t){return ms(function(t,n){var i,e=[],r=new Vo;if(!n){if(!1===(i=Ku(t,r)))return e;i===Ju||e.push(i)}for(;!1!==(i=Ku(t,r));)e.push(i);return e}(Mo(t)))}function Po(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Qu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Bo(t,n){if(Do(t,n))return No(t,n);if(void 0!==ko(t,n))return po(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return bo(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return bo(t,n,!0)}return No(t,n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Lo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Uo(t){return t instanceof ArrayBuffer||Lu(t)}function Xo(t){return t instanceof ArrayBuffer?new y(t):Mo(t)}function Ho(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Fo(Oo(t,n,i))}function Fo(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function zo(t){return[].slice.call(t)}var Vo=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},n.Xu=function(){return new qu(this.Pu<<3)},A(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function Wo(t){var n=t.toLowerCase(),i=0,e=0;ls(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Go=function(){function t(){var t=this;this.Hu=void 0,this.Fu=void 0,this.Vu=void 0,this.Hu=new We(function(n,i){t.Fu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Fu&&(this.Fu(t),this.xs())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Fs=function(){this.Hu.catch(K),this.Gu(new $s)},n.xs=function(){this.Fu=void 0,this.Vu=void 0},t}();function qo(){return new y([8,4]).buffer}function Yo(t){return Mu(t,qo())}function jo(t,n){return t===Qr?function(t){if(t.byteLength<2*Qo.length)return t;if(Io(new DataView(t,0,2*Qo.length),!0)===Qo)return t;return n=t,Ro('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Qo="<PlayReady";var Zo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.ju=void 0,s.Yu=i,s.ju=e,s}return S(n,t),n}($t),Ko=function(t,n){return(Ko=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Jo(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Ko(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function $o(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ta(t,n,i){return w.min(w.max(t,n),i)}function na(t,n){return t>>8-n}function ia(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Zu=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Zu||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Zu)-1,r=i>>8-this.Zu;return(e<<this.Zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(w.floor((t+this.Zu)/8));if(void 0!==n)return(n&1<<7-this.Zu-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Zu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var ea=function(){function t(t){this.Ku=t,this.Ju=0,this.$u=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Ku.length&&0===this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.Ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.$u<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.Ju+t<=this.Ku.length:this.Ju+t<this.Ku.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.Ju++,this.$u=0)},t.prototype.seek=function(t,n){this.Ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ku.get(this.Ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.$u)return this.Ku.get(this.Ju++);var t=ia(this.Ku.get(this.Ju),8-this.$u),n=na(this.Ku.get(this.Ju+1),this.$u);return this.Ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.Ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ra=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},sa=function(){function t(){this.uo=[],this.oo=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.oo.length)this.oo.push(0);else{var e=this.oo[this.oo.length-1]+this.uo[this.uo.length-1].length;this.oo.push(e)}this.uo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.uo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.uo=[],this.oo=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.oo[n];return this.uo[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.uo.length<1)return-1;if(this.uo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.uo[0];return"number"==typeof t?$o(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=$o(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.oo,t,ra)},t.prototype.join=function(){if(1===this.uo.length)return this.uo[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ta(n,0,this.length),r=ta(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.uo[u],a=e,h=a-this.oo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.oo[u],o=this.uo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.uo.length-1,e=this.uo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.uo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ua=function(){function t(n){this.ao=n||t.BUFFER_CHUNK_SIZE,this.do=!1,this._o=new sa,this.Ku=new y(this.ao),this.mo=0,this.po=0,this.$u=7}return t.prototype.closeByte=function(){this.Ku[this.mo++]=this.po,this.mo>=this.ao&&this.closeBuffer(),this.po=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mo&&(this._o.pushRange(this.Ku,0,this.mo),t&&(this.Ku=new y(this.ao)),this.mo=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.do)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.do=!0,this._o},t.prototype.writeBit=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.po|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.po=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.po|=na(t,n+1),this.closeByte(),this.po=ia(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.do)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mo+t.length<=this.ao?(this.Ku.set(t,this.mo),this.mo+=t.length,this.mo===this.ao&&this.closeBuffer()):(this.closeBuffer(),this._o.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.po|=na(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=ia(t[i-1],8-n),r=na(t[i],n+1);this.po=e<<n+1|r,this.closeByte()}this.po=ia(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),oa=function(){function t(t){this.rb=new sa,this.Ao=t}return t.prototype.closeWriter=function(){void 0!==this.Ao&&(this.rb=this.rb.concat(this.Ao.close()),this.Ao=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ao&&(this.Ao=new ua),this.Ao},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),aa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new oa;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function ha(t,n){return t instanceof ft?64===n:t<w.pow(2,n)}function ca(t,n){return w.round(t*w.pow(2,n))}function fa(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function va(t,n){return t/w.pow(2,n)}var la=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ha(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Jo(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(aa),da=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Jo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(sa.from(this.data))},n}(aa),wa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var _a=16384;function ga(t){var n=t.length;if(n<=_a)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=_a)i.push(String.fromCharCode.apply(String,t.slice(e,e+_a)));return i.join("")}var ma=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ya(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ka(t,n,i){var e=Ia(Da(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function pa(t,n,i){return n.offset+i<=t.byteLength}function ba(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Aa(t,n,i){void 0===i&&(i=!1);var e=ba(t,n,i),r=ba(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Ta(t,n,i){var e,r=ka(t,n,i);return ga((e=r,[].slice.call(e)))}function Sa(t,n){var i,e=ya(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ya(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ya(t,n))+(63&ya(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ya(t,n))+64*(63&ya(t,n))+(63&ya(t,n))),i}function Ea(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Sa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ga(n)}(e)}(t,n,!0)}function Ia(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ra(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Da(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Na=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new wa(this.offset<<3)},t}(),Ca=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ya(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ba(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=ba(t,n,i),r=ba(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Aa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ka(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ba(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ta(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ea(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Pa(t,n){return t.type===n}var Ba=8;function Oa(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=xa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function xa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!pa(t,n,Ba)){var e=n.offset+Ba;return{complete:!1,neededOffset:e}}var r=ba(t,n),s=Ta(t,n,4);if(1===r){if(!pa(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Aa(t,n).toNumber()}if("uuid"===s){if(!pa(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ta(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ca((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Na(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function La(t){return{version:t>>24,flags:new ma(16777215&t)}}function Ma(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ua(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Xa(t){var n=t.nextUint32Array(9);return{a:va(n[0],16),b:va(n[1],16),u:va(n[2],30),c:va(n[3],16),d:va(n[4],16),v:va(n[5],30),x:va(n[6],16),y:va(n[7],16),w:va(n[8],30)}}function Ha(t){return new da(t.type,Ia(Da(t.data.data),t.data.cursor.offset))}var Fa=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Jo(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(la);function za(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Fa(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Jo(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Fa);var Va=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.Eo},set:function(t){if(!ha(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Eo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Jo(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Io},set:function(t){if(!ha(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Ro},set:function(t){if(!ha(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!ha(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.No},set:function(t){if(!ha(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Co},set:function(t){if(!ha(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Va),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Jo(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(sa.from(this.data))}}(Va);var Wa=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Jo(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Va);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Wa(r.fixed28BitMode),s}Jo(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!ha(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!ha(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!ha(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!ha(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Va);var Ga=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Jo(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(aa),qa=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Ga),Ya=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Jo(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Lo},set:function(t){if(!ha(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qa),ja=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Jo(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.Mo},set:function(t){if(!ha(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!ha(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Xo},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ca(this.sampleRate,16),32),this.extra&&fa(n.writer,this.extra)},n}(Ya);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Jo(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Fo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!ha(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Go},set:function(t){if(!ha(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.qo},set:function(t){if(!ha(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!ha(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.jo},set:function(t){if(!ha(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(aa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t.sampleCount,32)||!ha(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(la),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Jo(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(la),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Jo(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(la),function(t){function n(){return t.call(this,"dinf")||this}Jo(n,t)}(qa);var Qa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!ha(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Jo(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Ga);!function(t){function n(){return t.call(this,"dref",0,0)||this}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qa);var Za=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ha(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ha(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!ha(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!ha(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(la),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Za),Ja=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Za);function $a(t){for(var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new Ka(u,r.raw):new Ja(u,r.raw)}var th=function(t){function n(){return t.call(this,"edts")||this}return Jo(n,t),n}(qa);function nh(t){for(var n=new th,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"elst")?n.boxes.push($a(r)):n.boxes.push(Ha(r))}return n}var ih=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Jo(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Zo},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!ha(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(aa),eh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Jo(n,t),n}(ih);function rh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new eh(i,e,r)}var sh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Jo(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(sa.from(this.data))},n}(aa),uh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Jo(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.oa},set:function(t){if(!ch(t))throw new v("Expected an ISO-639-2/T language code");this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(la),oh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Jo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(uh),ah=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Jo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(uh);function hh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=Ma(n,e),u=new ea(sa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return ch(h)||(h="und"),n.skip(2),0===e?new oh(s,h,r.raw):new ah(s,h,r.raw)}function ch(t){return/^[a-z]{3}$/.test(t)}var fh=function(t){function n(){return t.call(this,"mdia")||this}return Jo(n,t),n}(qa);function vh(t){for(var n=new fh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mdhd")?n.boxes.push(hh(r)):Pa(r,"hdlr")?n.boxes.push(za(r)):n.boxes.push(Ha(r))}return n}var lh,dh=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new sa,n}return Jo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(aa);function wh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new dh;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Jo(n,t)}(qa),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Qa),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(lh||(lh={}));var _h,gh,mh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function yh(t,n){n.writer.writeUInt(ca(t.a,16),32),n.writer.writeUInt(ca(t.b,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.c,16),32),n.writer.writeUInt(ca(t.d,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.x,16),32),n.writer.writeUInt(ca(t.y,16),32),n.writer.writeUInt(ca(1,30),32)}function kh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:_h.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:gh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:gh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:gh.UNKNOWN,2)}function ph(t,n){var i,e,r;n.writer.writeUInt(0,4),kh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(_h||(_h={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(gh||(gh={}));var bh=function(){return function(){}}(),Ah=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Jo(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.va},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!ha(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(sa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(sa.from(this.data))},n}(la),Th=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Jo(n,t),n}(Ah),Sh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Jo(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this._a},set:function(t){if(!ha(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(sa.from(e))}},n}(Ah);function Eh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Sh(i,o,e):new Th(i,o)}var Ih=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!ha(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(la),Rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ih),Dh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ih);function Nh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Rh(n.nextUint32(),r.raw):new Dh(n.nextUint64(),r.raw)}var Ch=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ha(t,32))throw new v("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!ha(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(!ha(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!ha(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ha(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ha(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),ph(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(la);function Ph(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Ua(new ea(sa.from(n.nextUint8Array(4))));return new Ch(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Bh=function(t){function n(){return t.call(this,"mvex")||this}return Jo(n,t),n}(qa);function Oh(t){for(var n=new Bh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mehd")?n.boxes.push(Nh(r)):Pa(r,"trex")?n.boxes.push(Ph(r)):n.boxes.push(Ha(r))}return n}var xh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:mh,c.Ia=e,c}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Ra},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!ha(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ia},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!ha(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ca(this.rate,16),32),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),yh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(la),Lh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Jo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(xh),Mh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Jo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(xh);function Uh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags,s=Ma(n,e),u=va(n.nextUint32(),16),o=va(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Xa(n);n.skip(24);var h=n.nextUint32();return 0===e?new Lh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Mh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Xh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:mh,f}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!ha(t,32))throw new v("trackId cannot exceed 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!ha(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!ha(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!ha(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),yh(this.matrix,n),n.writer.writeUInt(ca(this.width,16),32),n.writer.writeUInt(ca(this.height,16),32)},n}(la),Hh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Xh),Fh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xh);function zh(t){var n,i,e,r,s=t.data,u=La(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=va(s.nextInt16(),8);s.skip(2);var _=Xa(s),g=va(s.nextUint32(),16),m=va(s.nextUint32(),16);return 0===o?new Hh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Fh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var Vh=function(t){function n(){return t.call(this,"trak")||this}return Jo(n,t),n}(qa);function Wh(t){for(var n=new Vh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"tkhd")?n.boxes.push(zh(r)):Pa(r,"mdia")?n.boxes.push(vh(r)):Pa(r,"edts")?n.boxes.push(nh(r)):n.boxes.push(Ha(r))}return n}var Gh=function(t){function n(){return t.call(this,"moov")||this}return Jo(n,t),n}(qa);function qh(t){for(var n=new Gh,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"mvhd")?n.boxes.push(Uh(r)):Pa(r,"trak")?n.boxes.push(Wh(r)):Pa(r,"mvex")?n.boxes.push(Oh(r)):Pa(r,"pssh")?n.boxes.push(Eh(r)):n.boxes.push(Ha(r))}return n}var Yh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(la),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Yh),Qh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Jo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Yh);function Zh(t){var n=t.data,i=La(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Qh(n.nextUint64(),r.raw)}var Kh=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ha(t,32))throw new v("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.La},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!ha(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!ha(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!ha(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!ha(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!ha(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ha(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&ph(this.defaultSampleFlags,n)},n}(la);function Jh(t){var n=t.data,i=n.nextUint8(),e=new ea(sa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,l=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ua(new ea(sa.from(n.nextUint8Array(4)))):void 0;return new Kh({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var $h=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Jo(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!ha(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!ha(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!ha(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){var n,i;if(!ha(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!ha(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!ha(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!ha(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!ha(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!ha(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&ph(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&ph(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(la);function tc(t){var n=t.data,i=n.nextUint8(),e=new ea(sa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ua(new ea(sa.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<c;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ua(new ea(sa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new $h(i,f,v)}var nc=function(t){function n(){return t.call(this,"traf")||this}return Jo(n,t),n}(qa);function ic(t){for(var n=new nc,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"tfhd")?n.boxes.push(Jh(r)):Pa(r,"tfdt")?n.boxes.push(Zh(r)):Pa(r,"trun")?n.boxes.push(tc(r)):n.boxes.push(Ha(r))}return n}var ec=function(t){function n(){return t.call(this,"moof")||this}return Jo(n,t),n}(qa);function rc(t){for(var n=new ec,i=0,e=Oa(t.data);i<e.length;i++){var r=e[i];Pa(r,"traf")?n.boxes.push(ic(r)):Pa(r,"pssh")?n.boxes.push(Eh(r)):n.boxes.push(Ha(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Jo(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Fa},set:function(t){if(!ha(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(la);var sc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Jo(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.Va},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(aa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Jo(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!ha(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!ha(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(aa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Jo(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qa),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new sc(n),r}Jo(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(aa);var uc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){var n=this;if(!ha(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!ha(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Ho=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!ha(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ha(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(la);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Jo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(uc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Jo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(uc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ya},set:function(t){if(!ha(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!ha(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!ha(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!ha(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!ha(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(la),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){kh(e[i],n)}}}(la),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qa);var oc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Jo(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.Za},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(la);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Jo(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(oc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Jo(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!ha(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(oc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!ha(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(oc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Jo(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!ha(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Jo(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!ha(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){if(!ha(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(la),function(t){function n(){return t.call(this,"stbl")||this}Jo(n,t)}(qa),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t.firstChunk,32)||!ha(t.sampleDescriptionIndex,32)||!ha(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(la),function(t){function n(){return t.call(this,"schi")||this}Jo(n,t)}(qa),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Jo(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.$a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.nh},set:function(t){if(!ha(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.nh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ih},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(la);var ac=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Jo(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.eh},set:function(t){if(!ha(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.rh},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.sh},set:function(t){if(!ha(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.sh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.uh},set:function(t){if(!ha(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!ha(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!ha(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!ha(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!ha(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(la),hc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(ac),cc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Jo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(ac);var fc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Jo(n,t),n}(ih);function vc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new fc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Jo(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.oh},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!ha(ca(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ca(this.balance,8),16),n.writer.writeUInt(0,16)}}(la),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(la),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Jo(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Ho},set:function(t){if(!ha(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!ha(t.sampleCount,32)||!ha(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(la),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Jo(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!ha(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Qa),function(t){function n(){return t.call(this,"udta")||this}Jo(n,t)}(qa);var lc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=lc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Jo(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.ah},set:function(t){if(!ha(t.red,16)||!ha(t.green,16)||!ha(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(la);var dc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Jo(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!ha(t,16))throw new v("Provided width does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!ha(t,16))throw new v("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hh},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fh},set:function(t){if(!ha(ca(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.vh},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.vh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.lh},set:function(t){if(!ha(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.dh},set:function(t){if(!ha(t,16))throw new v("Provided depth does not fit in 16 bits.");this.dh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ca(this.horizontalResolution,16),32),n.writer.writeUInt(ca(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&fa(n.writer,this.extra)},n}(Ya);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(sa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(la),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(ja),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(dc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Jo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ya),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Jo(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(aa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.wh},set:function(t){if(!ha(t,8))throw new v("Provided version does not fit in 8 bits.");this.wh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this._h},set:function(t){if(!ha(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this._h=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.gh},set:function(t){if(!ha(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.gh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.yh},set:function(t){if(!ha(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.kh},set:function(t){if(!ha(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.kh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.ph},set:function(t){if(!ha(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.ph=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(sa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(sa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Jo(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(dc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Jo(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!ha(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.Ah},set:function(t){if(!ha(t,32))throw new v("Provided max does not fit in 32 bits.");this.Ah=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.Th},set:function(t){if(!ha(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Th=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(aa);var wc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Jo(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.Sh},set:function(t){if(!ha(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Sh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Eh},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Eh=t,this.Ih=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Rh},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ih},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Ih=t,this.Eh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),fa(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),fa(t.writer,this.constantIv))},n}(la);!function(t){function n(n){return t.call(this,0,n)||this}Jo(n,t)}(wc);var _c=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Jo(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Dh},set:function(t){if(!ha(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Dh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Nh},set:function(t){if(!ha(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Nh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(wc);function gc(t){return void 0!==t.iv}function mc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new _c(n),i}Jo(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(bh),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Jo(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ha},set:function(t){var n;if(!ha(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(gc(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=mc(r)),!0===n&&!mc(r)||!1===n&&mc(r))throw new v("Mix of samples with and without subsamples detected.");if(mc(r)){if(!ha(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!ha(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!ha(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];gc(r)&&(n+=r.iv.length),mc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(gc(r)&&fa(n.writer,r.iv),mc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(la),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Jo(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!ha(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ch},set:function(t){if(!ha(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Ch=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ph},set:function(t){if(!ha(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Ph=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Bh},set:function(t){if(!ha(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(sa.from(this.data))}}(la);var yc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new oa,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function kc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=xa(i,e);if(!r.complete)return;if(Pa(r.box,n))return r.box}}(new Ca(Ra(i),new Na),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var pc=kc("moov",qh),bc=kc("sidx",function(t){var n,i,e=t.data,r=La(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var v=new ea(sa.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new hc(o,a,n,i,c,u.raw):new cc(o,a,n,i,c,u.raw)}),Ac=kc("moof",rc),Tc=kc("pssh",Eh);function Sc(t){return function(t){for(var n=new yc,i=0,e=Oa(t);i<e.length;i++){var r=e[i];Pa(r,"ftyp")?n.boxes.push(rh(r)):Pa(r,"styp")?n.boxes.push(vc(r)):Pa(r,"moov")?n.boxes.push(qh(r)):Pa(r,"moof")?n.boxes.push(rc(r)):Pa(r,"mdat")?n.boxes.push(wh(r)):n.boxes.push(Ha(r))}return n}(new Ca(Ra(t),new Na))}var Ec=function(t){function n(n,i){var e;(e=t.call(this)||this).Oh=void 0,e.Lh=!1,e.Mh=void 0,e.Uh=void 0,e.Xh=function(){e.Hh()},e.Fh=function(t){e.Qs(new pu(Kt(e),t.messageType,jo(e.Vh,t.message)))},e.Wh=function(){e.Lh=!0,e.Oh.Cu>0&&(e.Oh.Nu(),e.Qs(new ku(Kt(e)))),e.Gh.removeEventListener("keystatuseschange",e.Xh),e.Gh.removeEventListener("message",e.Fh)},e.Gh=n,e.Vh=i,e.Gh.addEventListener("keystatuseschange",e.Xh),e.Gh.addEventListener("message",e.Fh),e.Oh=new Eu;var r=[];return e.Gh.closed&&r.push(We.resolve(e.Gh.closed)),e.Uh=new Go,r.push(e.Uh.Hu),e.Mh=We.race(r).then(e.Wh,e.Wh),e.Hh(),e}S(n,t);var i=n.prototype;return i.qh=function(){if(this.Lh)return this.Mh;var t=[];return t.push(We.resolve(this.Gh.close())),t.push(fu(1e3)),this.Uh.Wu(We.race(t).catch(Ic)),this.Lh=!0,this.Mh},i.Yh=function(t,n,i){if(M.fn){var e=Tc(Xo(n));if(1===e.version)n=new Th(e.systemId,e.data).serialize().join()}return We.resolve(this.Gh.generateRequest(t,n)).catch(Ic)},i.jh=function(t){return We.resolve(this.Gh.load(t)).catch(Ic)},i.Qh=function(){return We.resolve(this.Gh.remove()).catch(Ic)},i.Zh=function(t){return We.resolve(this.Gh.update(t)).catch(Ic)},i.Hh=function(){var t=this;this.Oh.Nu(),this.Gh.keyStatuses.forEach(function(n,i){t.Kh(i,n)}),this.Qs(new ku(this))},i.Kh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Xo(t);if(this.Vh===Qr&&16===e.byteLength){var r=Lo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vh===Qr&&"status-pending"===n&&(n="usable"),this.Oh.Du(e,n)},A(n,[{key:"Jh",get:function(){return this.Mh}},{key:"$h",get:function(){return this.Gh.expiration}},{key:"tc",get:function(){return this.Oh}},{key:"nc",get:function(){return this.Gh.sessionId}}]),n}(wu);function Ic(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Zo(t.message,void 0,n,t)}var Rc=function(){function t(t,n,i){this.ic=t,this.ec=n,this.rc=i}var n=t.prototype;return n.uc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Ec(this.ic.createSession(t),this.ec));case 1:case"end":return n.stop()}},null,this,null,We)},n.ac=function(t){return We.resolve(this.ic.setServerCertificate(t))},n.hc=function(t){return We.resolve(t.setMediaKeys(this.ic))},n.cc=function(t){return We.resolve(t.setMediaKeys(null))},t}(),Dc=function(){function t(t,n,i){this.fc=t,this.Vh=n,this.vc=i}var n=t.prototype;return n.lc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.fc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Rc(t,this.Vh,this.vc));case 4:case"end":return n.stop()}},null,this,null,We)},n.dc=function(){return this.vc},A(t,[{key:"ec",get:function(){return this.fc.keySystem}}]),t}(),Nc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Cc(t){return vs(t,Nc.APPLICATION_MP4)||vs(t,Nc.VIDEO_MP4)||vs(t,Nc.AUDIO_MP4)}var Pc=function(){function t(t,n){this.fs=void 0,this.wc=void 0,this.fs=t,this.wc=n}return t.prototype._c=function(t){for(var n=0,i=this.wc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Bc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Pc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Oc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Oc(r.substr(u));f&&s.push(f)}return new Pc(e,s)}function Oc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function xc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Lc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+gs((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Mc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gc:e.gc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Uc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Uc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Uc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Hs(n,e.encryptionScheme))&&(!e.robustness&&t(i,xc(e.contentType))))}function Xc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Hc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Fc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(zc))||!(!t.videoCapabilities||!t.videoCapabilities.some(zc))}function zc(t){return!t.robustness}function Vc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Wc=function(){function t(){}return t.prototype.Ss=function(t,n){var i,e,r,s,u,a,h,c;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Hc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Hc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Fc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?Vc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Vc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Dr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Dc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Dr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Dc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.mc=function(){return As()},t}(),Gc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lh=!1,e.yc=void 0,e.kc=void 0,e.pc=void 0,e.bc=void 0,e.Ac=void 0,e.Wh=function(){e.Lh=!0,e.yc.Wu(void 0),e.Ac&&(e.Ac.removeEventListener("mskeyclose",e.Wh),e.Ac.removeEventListener("mskeymessage",e.Tc),e.Ac.removeEventListener("mskeyerror",e.Sc),e.Ac.removeEventListener("mskeyadded",e.Ec))},e.Tc=function(t){e.pc&&(e.pc.Wu(void 0),e.pc=void 0),e.Qs(new pu(Kt(e),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},e.Sc=function(){var t=e.Ac&&e.Ac.error;if(t){var n=new Zo("Unknown CDM error",t.code,t.systemCode);if(e.pc)e.pc.Gu(n),e.pc=void 0;else if(e.kc)e.kc.Gu(n),e.kc=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ic("output-not-allowed");break;default:e.Ic("internal-error")}}},e.Ec=function(){e.pc&&(e.Ic("usable"),e.pc.Wu(void 0),e.pc=void 0),e.kc&&(e.Ic("usable"),e.kc.Wu(void 0),e.kc=void 0)},e.Rc=n,e.Dc=i,e.yc=new Go,e.bc=new Eu,e}S(n,t);var i=n.prototype;return i.Yh=function(t,n,i){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),this.pc=new Go,this.uc(Xo(n),i),t.next=5,Dr.awrap(this.pc.Hu);case 5:case"end":return t.stop()}},null,this,null,We)},i.uc=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Cc;return(i=n?this.Rc.createSession(this.Dc,t,e):this.Rc.createSession(this.Dc,t)).addEventListener("mskeyclose",this.Wh),i.addEventListener("mskeymessage",this.Tc),i.addEventListener("mskeyerror",this.Sc),i.addEventListener("mskeyadded",this.Ec),this.Ac=i,this.Ic("status-pending"),i},i.jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.kc=new Go,this.Nc(),this.Ac){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=Xo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Ac.update(n),i.next=10,Dr.awrap(this.kc.Hu);case 10:case"end":return i.stop()}},null,this,null,We)},i.qh=function(){return!this.Lh&&this.Ac&&(this.Lh=!0,this.Ac.close()),this.yc.Hu},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.Nc=function(){if(this.Lh)throw new l("Already closing or closed.")},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"nc",get:function(){return this.Ac&&this.Ac.sessionId||""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(wu),qc=function(){function t(t,n,i){this.Dc=void 0,this.Rc=t,this.ec=n,this.rc=i;var e=Xc(i)||"video/mp4";this.Dc=xc(e)}var n=t.prototype;return n.uc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Gc(this.Rc,this.Dc));case 1:case"end":return t.stop()}},null,this,null,We)},n.ac=function(t){return We.resolve(!1)},n.hc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rc),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.cc=function(t){return We.resolve()},t}(),Yc=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new le.MSMediaKeys(this.Vh);return We.resolve(new qc(t,this.Vh,this.Pc))},A(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),jc=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(function(t,n){if(!Qc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mc(Zc,mu,t,e);if(r)return new Yc(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return Qc()},t}();function Qc(){return void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported}function Zc(t,n){return le.MSMediaKeys.isTypeSupported(t,n)}var Kc,Jc,$c=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yc=new Go,r.Bc=void 0,r.bc=new Eu,r.Oc=void 0,r.xc=new Go,r.Sc=function(){var t=r.Oc&&r.Oc.error;if(t){var n=new Zo("Unknown CDM error",t.code,t.systemCode);r.Bc?(r.Bc.Gu(n),r.Bc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ic("output-not-allowed"):r.Ic("internal-error"),r.Qs(new bu)}},r.Tc=function(t){r.Qs(new pu(Kt(r),"license-request",Fo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ec=function(){r.Bc&&(r.Bc.Wu(void 0),r.Bc=void 0),r.Ic("usable")},r.Lc=n,r.Dc=i,r.Mc=e,r}S(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Uc;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=tf(Xo(n),e,this.Mc);return this.Oc=this.Lc.createSession(this.Dc,r),this.Oc.addEventListener("webkitkeymessage",this.Tc,!1),this.Oc.addEventListener("webkitkeyadded",this.Ec,!1),this.Oc.addEventListener("webkitkeyerror",this.Sc,!1),this.Ic("status-pending"),this.xc.Wu(this.Oc),this.xc=new Go,We.resolve()},i.jh=function(t){return We.resolve(!0)},i.Zh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Xo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Bc=new Go,i.t0=this.Oc,i.t0){i.next=9;break}return i.next=8,Dr.awrap(this.xc.Hu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Dr.awrap(this.Bc.Hu);case 13:case"end":return i.stop()}},null,this,null,We)},i.qh=function(){var t,n=this.Oc;return n&&(n.removeEventListener("webkitkeymessage",this.Tc,!1),n.removeEventListener("webkitkeyadded",this.Ec,!1),n.removeEventListener("webkitkeyerror",this.Sc,!1),n.close()),this.xc.Fs(),null==(t=this.Bc)||t.Fs(),this.yc.Wu(void 0),this.yc.Hu},i.Qh=function(){return We.resolve(void 0)},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"nc",get:function(){return this.Oc?this.Oc.sessionId:""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(wu);function tf(t,n,i){var e=Co(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Vo;return vo(o,a,r,!0),To(o,a,e,!0),vo(o,a,s,!0),To(o,a,n,!0),vo(o,a,i.byteLength,!0),uo(o,a,i),new y(u)}n.ErrorCode=void 0,(Kc=n.ErrorCode||(n.ErrorCode={}))[Kc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Kc[Kc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Kc[Kc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Kc[Kc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Kc[Kc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Kc[Kc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Kc[Kc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Kc[Kc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Kc[Kc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Kc[Kc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Kc[Kc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Kc[Kc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Kc[Kc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Kc[Kc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Kc[Kc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Kc[Kc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Kc[Kc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Kc[Kc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Kc[Kc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Kc[Kc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Kc[Kc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Kc[Kc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Kc[Kc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Kc[Kc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Kc[Kc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Kc[Kc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Kc[Kc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Kc[Kc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Kc[Kc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Kc[Kc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Kc[Kc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Kc[Kc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Kc[Kc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Kc[Kc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Kc[Kc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Kc[Kc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Kc[Kc.AD_ERROR=1e4]="AD_ERROR",Kc[Kc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Kc[Kc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Jc=n.ErrorCategory||(n.ErrorCategory={}))[Jc.CONFIGURATION=1]="CONFIGURATION",Jc[Jc.LICENSE=2]="LICENSE",Jc[Jc.SOURCE=3]="SOURCE",Jc[Jc.MANIFEST=4]="MANIFEST",Jc[Jc.MEDIA=5]="MEDIA",Jc[Jc.NETWORK=6]="NETWORK",Jc[Jc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Jc[Jc.SUBTITLE=8]="SUBTITLE",Jc[Jc.VR=9]="VR",Jc[Jc.AD=10]="AD",Jc[Jc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var nf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}($t);var ef=function(){function t(t,n,i){this.Dc=void 0,this.Mc=void 0,this.Lc=t,this.ec=n,this.rc=i;var e=Xc(i)||"video/mp4";this.Dc=xc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Lc},i.uc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new $c(this.Lc,this.Dc,this.Mc));case 3:case"end":return t.stop()}},null,this,null,We)},i.ac=function(t){return this.Mc=Xo(t),We.resolve(!0)},i.hc=function(t){return t.webkitSetMediaKeys(this.Lc),We.resolve()},i.cc=function(t){return t.webkitSetMediaKeys(null),We.resolve()},t}(),rf=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new le.WebKitMediaKeys(this.Vh);return We.resolve(new ef(t,this.Vh,this.Pc))},A(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),sf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(function(t,n){if(t!==is)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!uf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mc(of,yu,t,e);if(r)return new rf(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return uf()},t}();function uf(){return void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported}function of(t,n){return le.WebKitMediaKeys.isTypeSupported(t,n)}var af,hf=function(){function t(t){this.Xc=t}return t.prototype.Ss=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Xc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Dr.awrap(r.Ss(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),cf=function(t){function n(n){var i;return(i=t.call(this)||this).pc=void 0,i.Bc=void 0,i.yc=void 0,i.do=!1,i.Hc=void 0,i.Fc=void 0,i.zc=void 0,i.Vc=void 0,i.Wc=void 0,i.Vh=n,i.yc=new Go,i.Fc="",i.Wc=new Go,i.zc=new Eu,i}S(n,t);var i=n.prototype;return i.Gc=function(){this.Bc&&(this.Ic("usable"),this.Bc.Wu(void 0),this.Bc=void 0)},i.qc=function(t){var n=new Zo("Unknown CDM error",t.errorCode,t.systemCode);this.Bc?(this.Bc.Gu(n),this.Bc=void 0):this.pc?(this.pc.Gu(n),this.pc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ic("output-restricted"):1===n.ju?this.Ic("expired"):this.Ic("internal-error")},i.Yc=function(t){0!==t.message.byteLength&&(this.pc&&(this.pc.Wu(void 0),this.pc=void 0),this.Qs(new pu(this,"license-request",jo(this.Vh,Fo(t.message).buffer),t.defaultURL||void 0)))},i.jc=function(t){this.Vc||(this.Vc=t,this.Wc.Wu(t))},i.qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.do=!0,this.yc.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,We)},i.Yh=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.pc=new Go,this.Hc=Xo(n),t.t0=this.Vc,t.t0){t.next=8;break}return t.next=7,Dr.awrap(this.Wc.Hu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vh,this.Hc),t.next=12,Dr.awrap(this.pc.Hu);case 12:case"end":return t.stop()}},null,this,null,We)},i.jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Bc=new Go,n.t0=this.Vc,n.t0){n.next=7;break}return n.next=6,Dr.awrap(this.Wc.Hu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Vh,Xo(t),this.Hc,this.nc),n.next=11,Dr.awrap(this.Bc.Hu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this.do)throw new l("Already closing or closed.")},i.Ic=function(t){this.zc.Nu(),this.zc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"tc",get:function(){return this.zc}},{key:"nc",get:function(){return this.Fc},set:function(t){this.Fc=t}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"$h",get:function(){return NaN}}]),n}(wu),ff=function(){function t(t,n){var i=this;this.Vc=void 0,this.Qc=Pr(),this.Zc=[],this.Ec=function(t){var n=i.Kc(t.sessionId);n&&n.Gc()},this.Jc=function(t){var n=i.Kc(t.sessionId);n&&n.qc(t)},this.$c=function(t){var n=i.Kc(t.sessionId);n&&n.Yc(t)},this.ec=t,this.rc=n}var n=t.prototype;return n.hc=function(t){return this.Vc=t,this.Vc.addEventListener("webkitkeyadded",this.Ec),this.Vc.addEventListener("webkitkeyerror",this.Jc),this.Vc.addEventListener("webkitkeymessage",this.$c),this.Qc.forEach(function(n,i){return n.jc(t)}),this.Zc.forEach(function(n){return n.jc(t)}),We.resolve()},n.cc=function(t){return t.removeEventListener("webkitkeyadded",this.Ec),t.removeEventListener("webkitkeyerror",this.Jc),t.removeEventListener("webkitkeymessage",this.$c),this.Vc=void 0,We.resolve()},n.uc=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new cf(this.ec),this.Vc&&e.jc(this.Vc),this.Zc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.ac=function(t){return We.resolve(!1)},n.Kc=function(t){if(t){var n=this.Qc.get(t);return n||((n=this.Zc.shift())?(n.nc=t,this.Qc.set(t,n),n):void 0)}},t}(),vf=function(){function t(t,n){this.ec=t,this.tf=n}var n=t.prototype;return n.lc=function(){return We.resolve(new ff(this.ec,this.tf))},n.dc=function(){return this.tf},t}(),lf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return We.resolve(df(t,n))}catch(t){return We.reject(t)}},t.mc=function(){return Ts()},t}();function df(t,n){if(!lf.mc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Mc(wf,mu,t,e);if(r)return new vf(t,r)}throw new l("Unsupported key system configuration for "+t)}function wf(t,n){var i=ar();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function _f(){return af||(af=function(){var t=[];sf.mc()&&t.push(new sf);Wc.mc()&&t.push(new Wc);jc.mc()&&t.push(new jc);lf.mc()&&t.push(new lf);return new hf(t)}()),af}var gf=function(){function t(){this.nf=Pr()}var n=t.prototype;return n.Nu=function(t){this.nf.delete(t)},n.if=function(){this.nf.clear()},n.Iu=function(t){return this.nf.get(t)},n.ef=function(t,n){this.nf.set(t,n)},t}(),mf=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=yf.mc()?new yf:new gf),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t}();mf.Yn=void 0;var yf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.mc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Nu=function(n){t.sessionStorage.removeItem(n)},e.if=function(){t.sessionStorage.clear()},e.Iu=function(n){return t.sessionStorage[n]},e.ef=function(n,i){t.sessionStorage[n]=i},i}(mf);var kf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function pf(t,n,i){var e=kf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var bf,Af;!function(t){t.sf="uf",t.hf="cf",t.vf="contentprotectionerror",t.lf="contentprotectionsuccess",t.df="currentsourcechange",t.wf="destroy",t._f="durationchange",t.gf="emptied",t.yu="encrypted",t.mf="ended",t.yf="kf",t.pf="loadstart",t.bf="manifestupdate",t.Af="nosupportedrepresentationfound",t.Tf="offline",t.Sf="online",t.Ef="pause",t.If="play",t.Rf="progress",t.Df="ratechange",t.Nf="representationchange",t.Cf="resize",t.Pf="seeked",t.Bf="seeking",t.Of="segmentnotfound",t.xf="Lf",t.Mf="Uf",t.Xf="sourcechange",t.Hf="timeupdate",t.Ff="volumechange",t.zf="Vf",t.Wf="metricschange"}(bf||(bf={})),function(t){t.Gf="arraybuffer",t.qf="json",t.Yf="stream",t.$n="text"}(Af||(Af={}));var Tf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Sf(i),e=Ef(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Sf(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Sf(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Sf(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Sf(i)).toLowerCase();this.Kr[e]=[i,Ef(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Sf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Ef(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Rf(){}var Df=Number.isNaN||function(t){return t!=t},Nf=Rf;function Cf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Pf(t){return t.slice()}function Bf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Df(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Of(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function xf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new l(r+" is not a method");switch(i){case 0:return function(){return Mf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Mf(r,t,i)}}}return function(){return qf(void 0)}}function Lf(t,n,i){var e=t[n];if(void 0!==e)return Of(e,t,i)}function Mf(t,n,i){try{return qf(Of(t,n,i))}catch(t){return Yf(t)}}function Uf(t){return t}function Xf(t){if(t=Number(t),Df(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Hf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Ff=We,zf=We.prototype.then,Vf=We.resolve.bind(Ff),Wf=We.reject.bind(Ff);function Gf(t){return new Ff(t)}function qf(t){return Vf(t)}function Yf(t){return Wf(t)}function jf(t,n,i){return zf.call(t,n,i)}function Qf(t,n,i){jf(jf(t,n,i),void 0,Nf)}function Zf(t,n){Qf(t,n)}function Kf(t,n){Qf(t,void 0,n)}function Jf(t,n,i){return jf(t,n,i)}function $f(t){jf(t,void 0,Nf)}var tv=function(){function t(){this.Kf=0,this.Jf=0,this.Ee={$f:[],tv:void 0},this.ev=this.Ee,this.Kf=0,this.Jf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.ev,i=n;16383===n.$f.length&&(i={$f:[],tv:void 0}),n.$f.push(t),i!==n&&(this.ev=i,n.tv=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Kf,e=i+1,r=t.$f,s=r[i];return 16384===e&&(n=t.tv,e=0),--this.Jf,this.Kf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ee,e=i.$f;!(n===e.length&&void 0===i.tv||n===e.length&&(n=0,0===(e=(i=i.tv).$f).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Kf;return t.$f[n]},t}();function nv(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function iv(t,n){t.rv=!0,t.uv=n,n.ov=t,"readable"===n.me?uv(t):"closed"===n.me?function(t){uv(t),hv(t)}(t):ov(t,n.hv)}function ev(t,n){return ld(t.uv,n)}function rv(t){"readable"===t.uv.me?av(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ov(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.uv.ov=void 0,t.uv=void 0}function sv(t){return new l("Cannot "+t+" a stream using a released reader")}function uv(t){t.Mh=Gf(function(n,i){t.fv=n,t.vv=i})}function ov(t,n){uv(t),av(t,n)}function av(t,n){$f(t.Mh),t.vv(n),t.fv=void 0,t.vv=void 0}function hv(t){t.fv(void 0),t.fv=void 0,t.vv=void 0}var cv=If("[[CancelSteps]]"),fv=If("[[PullSteps]]");function vv(t,n){void 0===n&&(n=!1);var i=new yv(t);return i.rv=n,i}function lv(t){return Gf(function(n,i){var e={Fu:n,Vu:i};t.ov.wv.push(e)})}function dv(t,n,i){var e=t.ov;e.wv.shift().Fu(nv(n,i,e.rv))}function wv(t){return t.ov.wv.length}function _v(t){var n=t.ov;return void 0!==n&&!!kv(n)}var gv,mv,yv=function(){function t(t){if(!1===fd(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===vd(t))throw new l("This stream has already been locked for exclusive reading by another reader");iv(this,t),this.wv=new tv}return d.defineProperty(t.prototype,"closed",{get:function(){return kv(this)?this.Mh:Yf(bv("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return kv(this)?void 0===this.uv?Yf(sv("cancel")):ev(this,t):Yf(bv("cancel"))},t.prototype.read=function(){return kv(this)?void 0===this.uv?Yf(sv("read from")):pv(this):Yf(bv("read"))},t.prototype.releaseLock=function(){if(!kv(this))throw bv("releaseLock");if(void 0!==this.uv){if(this.wv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");rv(this)}},t}();function kv(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"wv")}function pv(t){var n=t.uv;return n._v=!0,"closed"===n.me?qf(nv(void 0,!0,t.rv)):"errored"===n.me?Yf(n.hv):n.mv[fv]()}function bv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof If.asyncIterator&&((gv={})[If.asyncIterator]=function(){return this},mv=gv,d.defineProperty(mv,If.asyncIterator,{enumerable:!1}));var Av={next:function(){if(!1===Tv(this))return Yf(Sv("next"));var t=this.yv;return void 0===t.uv?Yf(sv("iterate")):Jf(pv(t),function(n){var i=n.done;return i&&rv(t),nv(n.value,i,!0)})},return:function(t){if(!1===Tv(this))return Yf(Sv("next"));var n=this.yv;if(void 0===n.uv)return Yf(sv("finish iterating"));if(n.wv.length>0)return Yf(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.pv){var i=ev(n,t);return rv(n),Jf(i,function(){return nv(t,!0,!0)})}return rv(n),qf(nv(t,!0,!0))}};function Tv(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"yv")}function Sv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Ev(t){var n=t.bv.shift();return t.Av-=n.size,t.Av<0&&(t.Av=0),n.value}function Iv(t,n,i){if(!Bf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.bv.push({value:n,size:i}),t.Av+=i}function Rv(t){t.bv=new tv,t.Av=0}void 0!==mv&&d.setPrototypeOf(Av,mv),d.defineProperty(Av,"next",{enumerable:!1}),d.defineProperty(Av,"return",{enumerable:!1});var Dv=If("[[AbortSteps]]"),Nv=If("[[ErrorSteps]]"),Cv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Bv(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Hf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Kv.prototype);var s=xf(n,"write",1,[r]),u=xf(n,"close",0,[]),o=xf(n,"abort",1,[]);Jv(t,r,function(){return Lf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Xf(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ov(this))throw sl("locked");return xv(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ov(this)?Yf(sl("abort")):!0===xv(this)?Yf(new l("Cannot abort a stream that already has a writer")):Lv(this,t)},t.prototype.close=function(){return!1===Ov(this)?Yf(sl("close")):!0===xv(this)?Yf(new l("Cannot close a stream that already has a writer")):!0===Fv(this)?Yf(new l("Cannot close an already-closing stream")):Mv(this)},t.prototype.getWriter=function(){if(!1===Ov(this))throw sl("getWriter");return Pv(this)},t}();function Pv(t){return new Wv(t)}function Bv(t){t.me="writable",t.hv=void 0,t.Ao=void 0,t.Tv=void 0,t.Sv=new tv,t.Ev=void 0,t.Iv=void 0,t.Rv=void 0,t.Dv=void 0,t.Nv=!1}function Ov(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"Tv")}function xv(t){return void 0!==t.Ao}function Lv(t,n){var i=t.me;if("closed"===i||"errored"===i)return qf(void 0);if(void 0!==t.Dv)return t.Dv.Cv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Gf(function(i,r){t.Dv={Cv:void 0,Fu:i,Vu:r,Pv:n,Bv:e}});return t.Dv.Cv=r,!1===e&&Xv(t,n),r}function Mv(t){var n=t.me;if("closed"===n||"errored"===n)return Yf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Gf(function(n,i){var e={Fu:n,Vu:i};t.Iv=e}),r=t.Ao;return void 0!==r&&!0===t.Nv&&"writable"===n&&_l(r),Iv(i=t.Tv,"close",0),nl(i),e}function Uv(t,n){"writable"!==t.me?Hv(t):Xv(t,n)}function Xv(t,n){var i=t.Tv;t.me="erroring",t.hv=n;var e=t.Ao;void 0!==e&&jv(e,n),!1===function(t){if(void 0===t.Ev&&void 0===t.Rv)return!1;return!0}(t)&&!0===i.Ov&&Hv(t)}function Hv(t){t.me="errored",t.Tv[Nv]();var n=t.hv;if(t.Sv.forEach(function(t){t.Vu(n)}),t.Sv=new tv,void 0!==t.Dv){var i=t.Dv;if(t.Dv=void 0,!0===i.Bv)return i.Vu(n),void zv(t);Qf(t.Tv[Dv](i.Pv),function(){i.Fu(),zv(t)},function(n){i.Vu(n),zv(t)})}else zv(t)}function Fv(t){return void 0!==t.Iv||void 0!==t.Rv}function zv(t){void 0!==t.Iv&&(t.Iv.Vu(t.hv),t.Iv=void 0);var n=t.Ao;void 0!==n&&cl(n,t.hv)}function Vv(t,n){var i=t.Ao;void 0!==i&&n!==t.Nv&&(!0===n?function(t){vl(t)}(i):_l(i)),t.Nv=n}var Wv=function(){function t(t){if(!1===Ov(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===xv(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.xv=t,t.Ao=this;var n,i=t.me;if("writable"===i)!1===Fv(t)&&!0===t.Nv?vl(this):dl(this),al(this);else if("erroring"===i)ll(this,t.hv),al(this);else if("closed"===i)dl(this),al(n=this),fl(n);else{var e=t.hv;ll(this,e),hl(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Gv(this)?Yf(ul("closed")):this.Mh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Gv(this))throw ul("desiredSize");if(void 0===this.xv)throw ol("desiredSize");return function(t){var n=t.xv,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return tl(n.Tv)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Gv(this)?Yf(ul("ready")):this.Lv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Gv(this)?Yf(ul("abort")):void 0===this.xv?Yf(ol("abort")):function(t,n){return Lv(t.xv,n)}(this,t)},t.prototype.close=function(){if(!1===Gv(this))return Yf(ul("close"));var t=this.xv;return void 0===t?Yf(ol("close")):!0===Fv(t)?Yf(new l("Cannot close an already-closing stream")):qv(this)},t.prototype.releaseLock=function(){if(!1===Gv(this))throw ul("releaseLock");void 0!==this.xv&&Qv(this)},t.prototype.write=function(t){return!1===Gv(this)?Yf(ul("write")):void 0===this.xv?Yf(ol("write to")):Zv(this,t)},t}();function Gv(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"xv")}function qv(t){return Mv(t.xv)}function Yv(t,n){"pending"===t.Mv?cl(t,n):function(t,n){hl(t,n)}(t,n)}function jv(t,n){"pending"===t.Uv?wl(t,n):function(t,n){ll(t,n)}(t,n)}function Qv(t){var n=t.xv,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");jv(t,i),Yv(t,i),n.Ao=void 0,t.xv=void 0}function Zv(t,n){var i=t.xv,e=i.Tv,r=function(t,n){try{return t.Xv(n)}catch(n){return il(t,n),1}}(e,n);if(i!==t.xv)return Yf(ol("write to"));var s=i.me;if("errored"===s)return Yf(i.hv);if(!0===Fv(i)||"closed"===s)return Yf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Yf(i.hv);var u=function(t){return Gf(function(n,i){var e={Fu:n,Vu:i};t.Sv.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Iv(t,e,i)}catch(n){return void il(t,n)}var r=t.Hv;if(!1===Fv(r)&&"writable"===r.me){var s=el(t);Vv(r,s)}nl(t)}(e,n,r),u}var Kv=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Cf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Hv"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Hv.me&&rl(this,t)},t.prototype[Dv]=function(t){var n=this.Fv(t);return $v(this),n},t.prototype[Nv]=function(){Rv(this)},t}();function Jv(t,n,i,e,r,s,u,o){n.Hv=t,t.Tv=n,n.bv=void 0,n.Av=void 0,Rv(n),n.Ov=!1,n.Xv=o,n.zv=u,n.Vv=e,n.Wv=r,n.Fv=s;var a=el(n);Vv(t,a),Qf(qf(i()),function(){n.Ov=!0,nl(n)},function(i){n.Ov=!0,Uv(t,i)})}function $v(t){t.Vv=void 0,t.Wv=void 0,t.Fv=void 0,t.Xv=void 0}function tl(t){return t.zv-t.Av}function nl(t){var n=t.Hv;if(!1!==t.Ov&&void 0===n.Ev)if("erroring"!==n.me){if(0!==t.bv.length){var i=t.bv.peek().value;"close"===i?function(t){var n=t.Hv;(function(t){t.Rv=t.Iv,t.Iv=void 0})(n),Ev(t);var i=t.Wv();$v(t),Qf(i,function(){!function(t){t.Rv.Fu(void 0),t.Rv=void 0,"erroring"===t.me&&(t.hv=void 0,void 0!==t.Dv&&(t.Dv.Fu(),t.Dv=void 0)),t.me="closed";var n=t.Ao;void 0!==n&&fl(n)}(n)},function(t){!function(t,n){t.Rv.Vu(n),t.Rv=void 0,void 0!==t.Dv&&(t.Dv.Vu(n),t.Dv=void 0),Uv(t,n)}(n,t)})}(t):function(t,n){var i=t.Hv;(function(t){t.Ev=t.Sv.shift()})(i),Qf(t.Vv(n),function(){!function(t){t.Ev.Fu(void 0),t.Ev=void 0}(i);var n=i.me;if(Ev(t),!1===Fv(i)&&"writable"===n){var e=el(t);Vv(i,e)}nl(t)},function(n){"writable"===i.me&&$v(t),function(t,n){t.Ev.Vu(n),t.Ev=void 0,Uv(t,n)}(i,n)})}(t,i.chunk)}}else Hv(n)}function il(t,n){"writable"===t.Hv.me&&rl(t,n)}function el(t){return tl(t)<=0}function rl(t,n){var i=t.Hv;$v(t),Xv(i,n)}function sl(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ul(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function ol(t){return new l("Cannot "+t+" a stream using a released writer")}function al(t){t.Mh=Gf(function(n,i){t.fv=n,t.vv=i,t.Mv="pending"})}function hl(t,n){al(t),cl(t,n)}function cl(t,n){$f(t.Mh),t.vv(n),t.fv=void 0,t.vv=void 0,t.Mv="rejected"}function fl(t){t.fv(void 0),t.fv=void 0,t.vv=void 0,t.Mv="resolved"}function vl(t){t.Lv=Gf(function(n,i){t.Gv=n,t.qv=i}),t.Uv="pending"}function ll(t,n){vl(t),wl(t,n)}function dl(t){vl(t),_l(t)}function wl(t,n){$f(t.Lv),t.qv(n),t.Gv=void 0,t.qv=void 0,t.Uv="rejected"}function _l(t){t.Gv(void 0),t.Gv=void 0,t.qv=void 0,t.Uv="fulfilled"}function gl(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var ml="undefined"!=typeof DOMException?DOMException:void 0;var yl,kl=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(ml)?ml:((yl=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(yl.prototype,"constructor",{value:yl,writable:!0,configurable:!0}),yl);function pl(t,n,i,e,r,s){var u=vv(t),o=Pv(n);t._v=!0;var a=!1,h=qf(void 0);return Gf(function(c,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new kl("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.me?Lv(n,i):qf(void 0)}),!1===r&&s.push(function(){return"readable"===t.me?ld(t,i):qf(void 0)}),k(function(){return We.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Mh,function(t){!1===e?k(function(){return Lv(n,t)},!0,t):p(!0,t)}),y(n,o.Mh,function(n){!1===r?k(function(){return ld(t,n)},!0,n):p(!0,n)}),d=t,w=u.Mh,_=function(){!1===i?k(function(){return function(t){var n=t.xv,i=n.me;return!0===Fv(n)||"closed"===i?qf(void 0):"errored"===i?Yf(n.hv):qv(t)}(o)}):p()},"closed"===d.me?_():Zf(w,_),!0===Fv(n)||"closed"===n.me){var g=new l("the destination writable stream closed before all data could be piped to it");!1===r?k(function(){return ld(t,g)},!0,g):p(!0,g)}function m(){var t=h;return jf(h,function(){return t!==h?m():void 0})}function y(t,n,i){"errored"===t.me?i(t.hv):Kf(n,i)}function k(t,i,e){function r(){Qf(t(),function(){return b(i,e)},function(t){return b(!0,t)})}!0!==a&&(a=!0,"writable"===n.me&&!1===Fv(n)?Zf(m(),r):r())}function p(t,i){!0!==a&&(a=!0,"writable"===n.me&&!1===Fv(n)?Zf(m(),function(){return b(t,i)}):b(t,i))}function b(t,n){Qv(o),rv(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}$f(Gf(function(t,n){!function i(e){e?t():jf(!0===a?qf(!0):jf(o.Lv,function(){return jf(pv(u),function(t){return!0===t.done||(h=jf(Zv(o,t.value),void 0,Rf),!1)})}),i,n)}(!1)}))})}var bl=function(){function t(){throw new l}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Al(this))throw Bl("desiredSize");return Nl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Al(this))throw Bl("close");if(!1===Cl(this))throw new l("The stream is not in a state that permits close");Il(this)},t.prototype.enqueue=function(t){if(!1===Al(this))throw Bl("enqueue");if(!1===Cl(this))throw new l("The stream is not in a state that permits enqueue");return Rl(this,t)},t.prototype.error=function(t){if(!1===Al(this))throw Bl("error");Dl(this,t)},t.prototype[cv]=function(t){Rv(this);var n=this.Yv(t);return El(this),n},t.prototype[fv]=function(){var t=this.Qv;if(this.bv.length>0){var n=Ev(this);return!0===this.Zv&&0===this.bv.length?(El(this),dd(t)):Tl(this),qf(nv(n,!1,t.ov.rv))}var i=lv(t);return Tl(this),i},t}();function Al(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"Qv")}function Tl(t){!1!==Sl(t)&&(!0!==t.Kv?(t.Kv=!0,Qf(t.Jv(),function(){t.Kv=!1,!0===t.$v&&(t.$v=!1,Tl(t))},function(n){Dl(t,n)})):t.$v=!0)}function Sl(t){var n=t.Qv;return!1!==Cl(t)&&(!1!==t.Ov&&(!0===vd(n)&&wv(n)>0||Nl(t)>0))}function El(t){t.Jv=void 0,t.Yv=void 0,t.Xv=void 0}function Il(t){var n=t.Qv;t.Zv=!0,0===t.bv.length&&(El(t),dd(n))}function Rl(t,n){var i=t.Qv;if(!0===vd(i)&&wv(i)>0)dv(i,n,!1);else{var e=void 0;try{e=t.Xv(n)}catch(n){throw Dl(t,n),n}try{Iv(t,n,e)}catch(n){throw Dl(t,n),n}}Tl(t)}function Dl(t,n){var i=t.Qv;"readable"===i.me&&(Rv(t),El(t),wd(i,n))}function Nl(t){var n=t.Qv.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Av}function Cl(t){var n=t.Qv.me;return!1===t.Zv&&"readable"===n}function Pl(t,n,i,e,r,s,u){n.Qv=t,n.bv=void 0,n.Av=void 0,Rv(n),n.Ov=!1,n.Zv=!1,n.$v=!1,n.Kv=!1,n.Xv=u,n.zv=s,n.Jv=e,n.Yv=r,t.mv=n,Qf(qf(i()),function(){n.Ov=!0,Tl(n)},function(t){Dl(n,t)})}function Bl(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Ol=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},xl=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===Ul(this))throw td("view");return this.il},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Ul(this))throw td("respond");if(void 0===this.ul)throw new l("This BYOB request has been invalidated");this.il.buffer,function(t,n){if(!1===Bf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");jl(t,n)}(this.ul,t)},t.prototype.respondWithNewView=function(t){if(!1===Ul(this))throw td("respond");if(void 0===this.ul)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.ol.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,jl(t,n.byteLength)}(this.ul,t)},t}(),Ll=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ml(this))throw nd("byobRequest");if(void 0===this.al&&this.ol.length>0){var t=this.ol.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(xl.prototype);!function(t,n,i){t.ul=n,t.il=i}(i,this,n),this.al=i}return this.al},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ml(this))throw nd("desiredSize");return Jl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ml(this))throw nd("close");if(!0===this.Zv)throw new l("The stream has already been closed; do not close it again!");var t=this.hl.me;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.hl;if(t.Av>0)return void(t.Zv=!0);if(t.ol.length>0){var i=t.ol.peek();if(i.bytesFilled>0){var e=new l("Insufficient bytes to fill elements in the given buffer");throw Kl(t,e),e}}Zl(t),dd(n)}(this)},t.prototype.enqueue=function(t){if(!1===Ml(this))throw nd("enqueue");if(!0===this.Zv)throw new l("stream is closed or draining");var n=this.hl.me;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.hl,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Uf(e);if(!0===_v(i))if(0===wv(i))zl(t,u,r,s);else{var o=new y(u,r,s);dv(i,o,!1)}else!0===rd(i)?(zl(t,u,r,s),Yl(t)):zl(t,u,r,s);Xl(t)}(this,t)},t.prototype.error=function(t){if(!1===Ml(this))throw nd("error");Kl(this,t)},t.prototype[cv]=function(t){this.ol.length>0&&(this.ol.peek().bytesFilled=0);Rv(this);var n=this.Yv(t);return Zl(this),n},t.prototype[fv]=function(){var t=this.hl;if(this.Av>0){var n=this.bv.shift();this.Av-=n.byteLength,Gl(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Yf(t)}return qf(nv(i,!1,t.ov.rv))}var e=this.cl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Yf(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.ol.push(s)}var u=lv(t);return Xl(this),u},t}();function Ml(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"hl")}function Ul(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"ul")}function Xl(t){!1!==function(t){var n=t.hl;if("readable"!==n.me)return!1;if(!0===t.Zv)return!1;if(!1===t.Ov)return!1;if(!0===_v(n)&&wv(n)>0)return!0;if(!0===rd(n)&&ed(n)>0)return!0;if(Jl(t)>0)return!0;return!1}(t)&&(!0!==t.Kv?(t.Kv=!0,Qf(t.Jv(),function(){t.Kv=!1,!0===t.$v&&(t.$v=!1,Xl(t))},function(n){Kl(t,n)})):t.$v=!0)}function Hl(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=Fl(n);"default"===n.readerType?dv(t,e,i):function(t,n,i){var e=t.ov;e.fl.shift().Fu(nv(n,i,e.rv))}(t,e,i)}function Fl(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function zl(t,n,i,e){t.bv.push({buffer:n,byteOffset:i,byteLength:e}),t.Av+=e}function Vl(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Av,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,v,l,d=t.bv;o>0;){var _=d.peek(),g=w.min(o,_.byteLength),m=n.byteOffset+n.bytesFilled;h=n.buffer,c=m,f=_.buffer,v=_.byteOffset,l=g,new y(h).set(new y(f,v,l),c),_.byteLength===g?d.shift():(_.byteOffset+=g,_.byteLength-=g),t.Av-=g,Wl(t,g,n),o-=g}return a}function Wl(t,n,i){ql(t),i.bytesFilled+=n}function Gl(t){0===t.Av&&!0===t.Zv?(Zl(t),dd(t.hl)):Xl(t)}function ql(t){void 0!==t.al&&(t.al.ul=void 0,t.al.il=void 0,t.al=void 0)}function Yl(t){for(;t.ol.length>0;){if(0===t.Av)return;var n=t.ol.peek();!0===Vl(t,n)&&(Ql(t),Hl(t.hl,n))}}function jl(t,n){var i=t.ol.peek();if("closed"===t.hl.me){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Uf(n.buffer);var i=t.hl;if(!0===rd(i))for(;ed(i)>0;)Hl(i,Ql(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Wl(t,n,i),!(i.bytesFilled<i.elementSize)){Ql(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);zl(t,s,0,s.byteLength)}i.buffer=Uf(i.buffer),i.bytesFilled-=e,Hl(t.hl,i),Yl(t)}}(t,n,i);Xl(t)}function Ql(t){var n=t.ol.shift();return ql(t),n}function Zl(t){t.Jv=void 0,t.Yv=void 0}function Kl(t,n){var i=t.hl;"readable"===i.me&&(!function(t){ql(t),t.ol=new tv}(t),Rv(t),Zl(t),wd(i,n))}function Jl(t){var n=t.hl.me;return"errored"===n?null:"closed"===n?0:t.zv-t.Av}function $l(t,n,i){var e=d.create(Ll.prototype);var r=xf(n,"pull",0,[e]),s=xf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===Ol(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.hl=t,n.$v=!1,n.Kv=!1,n.al=void 0,n.bv=n.Av=void 0,Rv(n),n.Zv=!1,n.Ov=!1,n.zv=Xf(s),n.Jv=e,n.Yv=r,n.cl=u,n.ol=new tv,t.mv=n,Qf(qf(i()),function(){n.Ov=!0,Xl(n)},function(t){Kl(n,t)})}(t,e,function(){return Lf(n,"start",[e])},r,s,i,u)}function td(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function nd(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function id(t){return Gf(function(n,i){var e={Fu:n,Vu:i};t.ov.fl.push(e)})}function ed(t){return t.ov.fl.length}function rd(t){var n=t.ov;return void 0!==n&&!!ud(n)}var sd=function(){function t(t){if(!fd(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ml(t.mv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(vd(t))throw new l("This stream has already been locked for exclusive reading by another reader");iv(this,t),this.fl=new tv}return d.defineProperty(t.prototype,"closed",{get:function(){return ud(this)?this.Mh:Yf(od("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ud(this)?void 0===this.uv?Yf(sv("cancel")):ev(this,t):Yf(od("cancel"))},t.prototype.read=function(t){return ud(this)?void 0===this.uv?Yf(sv("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Yf(new l("view must have non-zero byteLength")):function(t,n){var i=t.uv;if(i._v=!0,"errored"===i.me)return Yf(i.hv);return function(t,n){var i=t.hl,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Uf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.ol.length>0)return t.ol.push(s),id(i);if("closed"===i.me)return qf(nv(new r(s.buffer,s.byteOffset,0),!0,i.ov.rv));if(t.Av>0){if(!0===Vl(t,s)){var u=Fl(s);return Gl(t),qf(nv(u,!1,i.ov.rv))}if(!0===t.Zv){var o=new l("Insufficient bytes to fill elements in the given buffer");return Kl(t,o),Yf(o)}}t.ol.push(s);var a=id(i);return Xl(t),a}(i.mv,n)}(this,t)):Yf(new l("view must be an array buffer view")):Yf(od("read"))},t.prototype.releaseLock=function(){if(!ud(this))throw od("releaseLock");if(void 0!==this.uv){if(this.fl.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");rv(this)}},t}();function ud(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"fl")}function od(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var ad=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),cd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),$l(this,t,e=Xf(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=Hf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(bl.prototype),s=xf(n,"pull",0,[r]),u=xf(n,"cancel",1,[]);Pl(t,r,function(){return Lf(n,"start",[r])},s,u,i,e)}(this,t,e=Xf(e),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===fd(this))throw _d("locked");return vd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===fd(this)?Yf(_d("cancel")):!0===vd(this)?Yf(new l("Cannot cancel a stream that already has a reader")):ld(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===fd(this))throw _d("getReader");if(void 0===n)return vv(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new sd(t);return i.rv=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===fd(this))throw _d("pipeThrough");if(!1===Ov(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===fd(e))throw new l("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!gl(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===vd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===xv(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return $f(pl(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===fd(this)?Yf(_d("pipeTo")):!1===Ov(t)?Yf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||gl(u)?!0===vd(this)?Yf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===xv(t)?Yf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):pl(this,t,e,r,s,u):Yf(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===fd(this))throw _d("tee");var t=function(t,n){var i,e,r,s,u,o=vv(t),a=!1,h=!1,c=!1,f=Gf(function(t){u=t});function v(){return!0===a?qf(void 0):(a=!0,$f(Jf(pv(o),function(t){if(a=!1,!0===t.done)return!1===h&&Il(r.mv),void(!1===c&&Il(s.mv));var n=t.value,i=n,e=n;!1===h&&Rl(r.mv,i),!1===c&&Rl(s.mv,e)})),qf(void 0))}function l(){}return r=hd(l,v,function(n){if(h=!0,i=n,!0===c){var r=Pf([i,e]),s=ld(t,r);u(s)}return f}),s=hd(l,v,function(n){if(c=!0,e=n,!0===h){var r=Pf([i,e]),s=ld(t,r);u(s)}return f}),Kf(o.Mh,function(t){Dl(r.mv,t),Dl(s.mv,t)}),[r,s]}(this);return Pf(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===fd(this))throw _d("getIterator");return function(t,n){void 0===n&&(n=!1);var i=vv(t),e=d.create(Av);return e.yv=i,e.pv=Boolean(n),e}(this,i)},t}();function hd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(ad.prototype);return cd(s),Pl(s,d.create(bl.prototype),t,n,i,e,r),s}function cd(t){t.me="readable",t.ov=void 0,t.hv=void 0,t._v=!1}function fd(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"mv")}function vd(t){return void 0!==t.ov}function ld(t,n){return t._v=!0,"closed"===t.me?qf(void 0):"errored"===t.me?Yf(t.hv):(dd(t),Jf(t.mv[cv](n),Rf))}function dd(t){t.me="closed";var n=t.ov;void 0!==n&&(kv(n)&&(n.wv.forEach(function(t){t.Fu(nv(void 0,!0,n.rv))}),n.wv=new tv),hv(n))}function wd(t,n){t.me="errored",t.hv=n;var i=t.ov;void 0!==i&&(kv(i)?(i.wv.forEach(function(t){t.Vu(n)}),i.wv=new tv):(i.fl.forEach(function(t){t.Vu(n)}),i.fl=new tv),av(i,n))}function _d(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof If.asyncIterator&&d.defineProperty(ad.prototype,If.asyncIterator,{value:ad.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var gd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),md=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=Hf(e);if(void 0===r&&(r=1),r=Xf(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=Hf(s);void 0===u&&(u=0),u=Xf(u),function(t,n,i,e,r,s){function u(){return n}t.vl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Cv.prototype);return Bv(u),Jv(u,d.create(Kv.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.ll;if(!0===t.Nv){var e=t.dl;return Jf(e,function(){var e=t.vl,r=e.me;if("erroring"===r)throw e.hv;return Id(i,n)})}return Id(i,n)}(t,n)},function(){return function(t){var n=t.wl,i=t.ll,e=i._l();return Sd(i),Jf(e,function(){if("errored"===n.me)throw n.hv;var t=n.mv;!0===Cl(t)&&Il(t)},function(i){throw kd(t,i),n.hv})}(t)},function(n){return function(t,n){return kd(t,n),qf(void 0)}(t,n)},i,e),t.wl=hd(u,function(){return function(t){return bd(t,!1),t.dl}(t)},function(n){return pd(t,n),qf(void 0)},r,s),t.Nv=void 0,t.dl=void 0,t.yl=void 0,bd(t,!0),t.ll=void 0}(this,Gf(function(t){a=t}),r,o,u,h),function(t,n){var i=d.create(Ad.prototype),e=function(t){try{return Ed(i,t),qf(void 0)}catch(t){return Yf(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new l("transform is not a method");e=function(t){return Mf(r,n,[t,i])}}var s=xf(n,"flush",0,[i]);!function(t,n,i,e){n.bl=t,t.ll=n,n.Al=i,n._l=e}(t,i,e,s)}(this,t);var c=Lf(t,"start",[this.ll]);a(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===yd(this))throw Dd("readable");return this.wl},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===yd(this))throw Dd("writable");return this.vl},enumerable:!0,configurable:!0}),t}();function yd(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"ll")}function kd(t,n){Dl(t.wl.mv,n),pd(t,n)}function pd(t,n){Sd(t.ll),il(t.vl.Tv,n),!0===t.Nv&&bd(t,!1)}function bd(t,n){void 0!==t.dl&&t.yl(),t.dl=Gf(function(n){t.yl=n}),t.Nv=n}var Ad=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Td(this))throw Rd("desiredSize");return Nl(this.bl.wl.mv)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Td(this))throw Rd("enqueue");Ed(this,t)},t.prototype.error=function(t){if(!1===Td(this))throw Rd("error");var n;n=t,kd(this.bl,n)},t.prototype.terminate=function(){if(!1===Td(this))throw Rd("terminate");!function(t){var n=t.bl,i=n.wl.mv;!0===Cl(i)&&Il(i);var e=new l("TransformStream terminated");pd(n,e)}(this)},t}();function Td(t){return!!Cf(t)&&!!d.prototype.hasOwnProperty.call(t,"bl")}function Sd(t){t.Al=void 0,t._l=void 0}function Ed(t,n){var i=t.bl,e=i.wl.mv;if(!1===Cl(e))throw new l("Readable side is not in a state that permits enqueue");try{Rl(e,n)}catch(t){throw pd(i,t),i.wl.hv}(function(t){return!0!==Sl(t)})(e)!==i.Nv&&bd(i,!0)}function Id(t,n){return Jf(t.Al(n),void 0,function(n){throw kd(t.bl,n),n})}function Rd(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Dd(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Nd,Cd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}($t);function Pd(t){return n=[t],new ad({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Bd(t){return Pd(new y(t))}function Od(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Go,s=function(){u();var t=new $s;e.cancel(t).catch(K),r.Gu(t)},u=function(){i&&(i.Ms(s),i=void 0)};i&&(i.Ns?s():i.Ls(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Hu}(t,n).then(function(t){return Xu(t).buffer})}function xd(t,n){var i=n,e=new md,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Fs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Ld(t){var n=new md,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||tu(n[0])&&tu(n[1])?n[0]:new Cd(n):n,t.cancel(i).catch(K)}),i.tee()}function Md(t){return Co(new y(t))}function Ud(t){return Po(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.Tl=1]="Tl"}(Nd||(Nd={}));var Xd="content-type",Hd="text/plain;charset=UTF-8",Fd=function(){function t(){}var n=t.prototype;return n.Sl=function(t){return this.El(t).then(JSON.parse)},n.Il=function(t,n){switch(t){case Af.Gf:return this.Rl(n);case Af.qf:return this.Sl(n);case Af.Yf:return this.Dl();case Af.$n:return this.El(n);default:throw new l}},t}();function zd(t,n,i){if(t instanceof Fd)return t;if(t instanceof ad)return function(t,n){return new Wd({fs:Nd.Yf,Dl:t,Nl:Vd(n)})}(t,i);var e=Vd(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{fs:Af.$n,Cl:t,Nl:n||Hd};if(t instanceof ArrayBuffer||Lu(t))return{fs:Af.Gf,Cl:Kd(t),Nl:n};if(G(t)||z(t))return{fs:Af.qf,Cl:t,Nl:n};throw new l("Unsupported BodyInit type")}return{fs:Af.$n,Cl:null,Nl:n}}(t,e)});return new Wd({fs:Nd.Tl,Hu:r,Pl:n})}function Vd(t){return(t.get(Xd)||"").toLowerCase()}var Wd=function(t){function n(n){var i;return(i=t.call(this)||this).Bl=!1,i.Ol=void 0,i.xl=new Go,i.xl.Hu.catch(K),i.Ll(n),i}S(n,t);var i=n.prototype;return i.Ml=function(){return this.xl.Hu},i.El=function(t){return this.Ul(Gd,t)},i.Sl=function(t){return this.Ul(Yd,t)},i.Rl=function(t){return this.Ul(Qd,t)},i.Dl=function(){return this.Xl((t=this.Ol).fs===Nd.Yf?t.Dl:xd(t.Hu.then(Zd).then(Bd),t.Pl));var t},i.Ul=function(t,n){if(this.Bl)return We.reject(new l("Already used"));this.Bl=!0;var i=t(this.Ol,n);return this.xl.Wu(i.then(K)),i},i.Xl=function(t){if(this.Bl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.Bl=!0;var n=new md,i=We.resolve(t.pipeTo(n.writable));return this.xl.Wu(i),n.readable},i.Ll=function(t){this.Ol=t,t.fs===Nd.Tl&&t.Hu.catch(K)},i.Hl=function(){if(this.Bl)throw new l("Already used");var t=function(t){if(t.fs===Nd.Yf){var n=t.Dl.tee(),i=n[0],e=n[1];return[{fs:t.fs,Dl:i,Nl:t.Nl},{fs:t.fs,Dl:e,Nl:t.Nl}]}var r=t.Pl.Vs(),s=r[0],u=r[1];return[{fs:t.fs,Hu:t.Hu,Pl:s},{fs:t.fs,Hu:t.Hu,Pl:u}]}(this.Ol),i=t[0],e=t[1];return this.Ll(i),new n(e)},A(n,[{key:"Fl",get:function(){return this.Bl}}]),n}(Fd);function Gd(t,n){return t.fs===Nd.Yf?Od(t.Dl,n).then(Md):(n&&t.Pl.zs(n),su(t.Hu.then(qd),t.Pl))}function qd(t){switch(t.fs){case Af.$n:return We.resolve(t.Cl||"");case Af.Gf:return We.resolve(t.Cl).then(Md);case Af.qf:return We.resolve(t.Cl).then(JSON.stringify)}}function Yd(t,n){return t.fs===Nd.Yf?Gd(t,n).then(JSON.parse):(n&&t.Pl.zs(n),su(t.Hu.then(jd),t.Pl))}function jd(t){return t.fs===Af.qf?We.resolve(t.Cl):qd(t).then(JSON.parse)}function Qd(t,n){return t.fs===Nd.Yf?Od(t.Dl,n):(n&&t.Pl.zs(n),su(t.Hu.then(Zd),t.Pl))}function Zd(t){switch(t.fs){case Af.Gf:return We.resolve(t.Cl);case Af.$n:case Af.qf:return qd(t).then(Ud)}}function Kd(t){return t instanceof ArrayBuffer?t:Fo(Mo(t)).buffer}function Jd(t){return t.zl>=200&&t.zl<=299||304===t.zl}var $d,tw,nw,iw,ew=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Vl,s=i.Wl,u=i.zl,o=i.Gl,a=i.ql):(r=[],s=Af.$n,u=200,o="OK",a=!1);var h=n.Yl,c=new Tf(n.Vl||r),f=n.Wl||s,v=n.jl||(i&&i.Yl===h?i.jl:h.Ql),l=i?i.Zl:null,d=zd(void 0!==n.Fi?n.Fi:l,n.Pl||new Js,c);return(e=t.call(this,d)||this).Vl=void 0,e.Yl=void 0,e.jl=void 0,e.Wl=void 0,e.zl=void 0,e.Gl=void 0,e.ql=void 0,e.Vl=c,e.Yl=h,e.jl=v,e.Wl=f,e.zl=void 0!==n.zl?n.zl:u,e.Gl=void 0!==n.Gl?String(n.Gl):o,e.ql=n.ql||a,e}S(n,t);var i=n.prototype;return i.Fi=function(t){return this.Il(this.Wl,t)},i.Lu=function(){return new n({Fi:this.Hl(),Yl:this.Yl},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Zl=void 0,i.Zl=n,i}S(n,t);var i=n.prototype;return i.Ml=function(){return this.Zl.Ml()},i.El=function(t){return this.Zl.El(t)},i.Sl=function(t){return this.Zl.Sl(t)},i.Rl=function(t){return this.Zl.Rl(t)},i.Dl=function(){return this.Zl.Dl()},i.Hl=function(){return this.Zl.Hl()},A(n,[{key:"Fl",get:function(){return this.Zl.Fl}}]),n}(Fd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}($d||($d={})),function(t){t.Kl="",t.Jl="manifest",t.$l="segment",t.td="content-protection"}(tw||(tw={})),function(t){t.Kl="",t.ed="initialization-segment",t.rd="fairplay-license",t.ud="fairplay-certificate",t.od="widevine-license",t.hd="widevine-certificate",t.fd="playready-license",t.vd="clearkey-license",t.ld="aes128-key"}(nw||(nw={})),function(t){t.Kl="",t.dd="audio",t.wd="video",t.$n="text",t._d="image"}(iw||(iw={}));var rw=function(t,n){this.Cl=void 0,this.Vl=void 0,this.md=void 0,this.Wl=void 0,this.yd=void 0,this.Ws=void 0,this.fs=void 0,this.kd=void 0,this.pd=void 0,this.Ql=void 0,this.bd=void 0,this.Ad=void 0;var i,e,r,s,u,o,a,h,c,f,v,l=t.Ql;n?(i=n.Cl,e=n.Vl,r=n.md,s=n.Wl,u=n.yd,o=n.Ws,a=n.fs,h=n.kd,c=n.pd,f=n.bd,v=n.Ad):(i=null,e={},r=$d.GET,s=Af.$n,u=0,a=tw.Kl,h=nw.Kl,c=iw.Kl,f=!1),this.Ql=l,this.Cl=t.Cl||i,this.Vl=new Tf(t.Vl||e),this.md=t.md||r,this.Wl=t.Wl||s,this.yd=void 0!==t.yd?Number(t.yd)||0:u,this.Ws=t.Ws||o||(new Js).Ws,this.fs=t.fs||a,this.kd=t.kd||h,this.pd=t.pd||c,this.bd=void 0!==t.bd?Boolean(t.bd):f,this.Ad=t.Ad||v},sw=function(){function t(){}var n=t.prototype;return n.Yl=function(t){var n=function(t){return new ew({Fi:null,Vl:{},Yl:t,jl:t.Ql,Wl:t.Wl,zl:0,Gl:bf.Tf})}(new rw(t));return We.resolve(n)},n.Td=function(t){},n.Sd=function(){},t}();var uw=function(){function t(t,n){void 0===n&&(n=!0),this.Ed=void 0,this.Id=void 0,this.Ed=t,this.Id=n}var n=t.prototype;return n.Yl=function(t){var n=this.Rd(t);return this.Ed.Yl(n)},n.Td=function(t){return this.Ed.Td(this.Dd(t))},n.Rd=function(n){var i=new rw(n);if(!this.Id){var e=t.Nd(i.Ql);i=new rw({Ql:e},i)}return i},n.Dd=function(n){var i=n.Ql;return this.Id||(i=t.Nd(i)),{Ql:i,Cl:n.Cl}},t.Nd=function(t){return i.Hr&&ls(t,"http://")?t.replace(":","s:"):t},n.Sd=function(){this.Ed.Sd()},A(t,null,[{key:"Cd",get:function(){return t.Pd||(t.Pd=new t(new sw)),t.Pd}}]),t}();function ow(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function aw(t,n){var e=i.Or(t);return n&&!ds(e,"/")&&(e+="/"),e}uw.Pd=void 0;var hw,cw=/cache:(.+)?(?=&|$)/,fw="http://webcache.googleusercontent.com/search?q=cache:";function vw(t){if(!ls(t,fw))return"";var n=i.Br(t).search.match(cw);return n&&n.length>1?n[1]:""}!function(t){t.Bd="HttpOpenError",t.Od="HttpResponseError",t.xd="HttpTimeoutError"}(hw||(hw={}));var lw=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Ld=void 0,r.Ld=n,r}return S(n,t),A(n,[{key:"Yl",get:function(){return this.Ld}}]),n}($t);var dw=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Ql+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return hw.Bd}}]),n}(lw);var ww=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Yl,null!=e?e:function(t){return"Error while loading "+t.Yl.Ql+", status code "+t.zl}(n),i)||this).Md=void 0,r.Md=n,r}return S(n,t),A(n,[{key:"name",get:function(){return hw.Od}},{key:"Ud",get:function(){return this.Md}}]),n}(lw);var _w=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Ql+" timed out after "+t.yd+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return hw.xd}}]),n}(lw),gw=function(t,n){return(gw=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function mw(t,n){function i(){this.constructor=t}gw(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var yw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var kw=function(){var t=yw.Blob;if(t)try{return new t,function(t,n){return new yw.Blob(t,n)}}catch(t){}var n,i=yw.BlobBuilder||yw.WebKitBlobBuilder||yw.MozBlobBuilder||yw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),pw="function"==typeof ad?ad:void 0;function bw(t){return t&&"function"==typeof t.getReader}function Aw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&bw(i)}catch(t){return!1}}var Tw=function(){function t(t,n){this.ov=t,this.Xd=n}return t.prototype.pull=function(t){var n=this;return this.ov.read().then(function(i){n.Xd&&n.Xd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.ov.cancel(t)},t}();function Sw(t,n){return n.constructor===t?n:new t(new Tw(n.getReader()),{highWaterMark:0})}var Ew=function(){function t(t,n){this.Hd=t,this.Fd=n}return t.prototype.pull=function(t){return this.Hd().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Fd&&this.Fd(t)},t}();function Iw(t,n,i){return new t(new Ew(n,i),{highWaterMark:0})}var Rw={searchParams:"URLSearchParams"in yw,iterable:"Symbol"in yw&&"iterator"in Symbol,blob:"FileReader"in yw&&!!kw,formData:"FormData"in yw,arrayBuffer:"ArrayBuffer"in yw,stream:Aw(pw),streamRequest:"Request"in yw&&"body"in yw.Request.prototype,streamResponse:"Response"in yw&&"body"in yw.Response.prototype,abort:"AbortController"in yw&&"Request"in yw&&"signal"in yw.Request.prototype,encoding:"TextEncoder"in yw&&"TextDecoder"in yw,url:"URL"in yw&&function(t){try{return new yw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in yw&&/Firefox\//.test(yw.navigator.userAgent)};function Dw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function Nw(t){return"string"!=typeof t&&(t=String(t)),t}function Cw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Rw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Pw=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Rw.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Dw(t),n=Nw(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=Dw(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=Dw(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=Dw(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Dw(t)).toLowerCase();this.Kr[i]=[t,Nw(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Cw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Cw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Cw(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Bw(){}Rw.iterable&&(Pw.prototype[Symbol.iterator]=Pw.prototype.entries);var Ow,xw,Lw,Mw=w.min,Uw=String.fromCharCode,Xw=16384;function Hw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Xw){var r=Mw(e+Xw,n);i.push(Uw.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Fw(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function zw(t,n){return t>>n&63|128}function Vw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Fw(t),n.push(t>>12&15|224),n.push(zw(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(zw(t,12)),n.push(zw(t,6))),n.push(63&t|128)):n.push(t)}function Ww(){if(Lw>=xw)throw new v("Invalid byte index");var t=255&Ow[Lw];if(Lw++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Gw(){var t,n;if(Lw>xw)throw new v("Invalid byte index");if(Lw===xw)return!1;if(t=255&Ow[Lw],Lw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ww())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ww()<<6|Ww())>=2048)return Fw(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ww()<<12|Ww()<<6|Ww())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var qw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Yw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function jw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Qw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Zw,Kw=ArrayBuffer.isView||function(t){return t&&(qw.indexOf(d.prototype.toString.call(t))>-1||Qw(t))};function Jw(t){if(t.bodyUsed)return We.reject(new l("Already used"));t.bodyUsed=!0}function $w(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function t_(t){return Rw.encoding?new yw.TextDecoder("utf-8").decode(new y(t)):Hw(function(t){xw=(Ow=t).length,Lw=0;for(var n,i=[];!1!==(n=Gw());)i.push(n);return i}(new y(t)))}function n_(t){return Rw.encoding?(new yw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Vw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function i_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function e_(t){return i_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function r_(t){return t.slice?t.slice(0):s_(new y(t))}function s_(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function u_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function o_(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.zd===Zw.Vd){if(!n.Wd.tee)throw new v("could not clone ReadableStream body");var i=n.Wd.tee(),e=i[0],r=i[1];return n.body=e,n.Wd=e,n.Gd=e,r}return n.zd===Zw.Gf?r_(n.Wd):n.zd===Zw.Tl?n.Wd.then(o_):n.Gd}!function(t){t[t.$n=0]="$n",t[t.qd=1]="qd",t[t.Yd=2]="Yd",t[t.Gf=3]="Gf",t[t.Vd=4]="Vd",t[t.Tl=5]="Tl"}(Zw||(Zw={}));var a_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Gd=n||null,n)if("string"==typeof n)this.zd=Zw.$n,this.Wd=n;else if((s=n)&&"function"==typeof s.then)this.zd=Zw.Tl,this.Wd=We.resolve(n).then(function(n){return new t(n,i)}),this.Wd.catch(Bw);else if(Rw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.zd=Zw.qd,this.Wd=n;else if(Rw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.zd=Zw.Yd,this.Wd=n;else if(Rw.searchParams&&Yw(n))this.zd=Zw.$n,this.Wd=n.toString();else if(Rw.arrayBuffer&&(jw(n)||Kw(n)))Qw(n)&&(this.Gd=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.zd=Zw.Gf,this.Wd=jw(e=n)?r_(e):s_(e);else{if(!Rw.stream||!bw(n))throw new v("unsupported BodyInit type");n=Sw(pw,n),this.zd=Zw.Vd,this.Wd=n,this.Gd=n}else this.zd=Zw.$n,this.Wd="";this.jd="",i.has("content-type")?this.jd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.jd="text/plain;charset=UTF-8":u.zd===Zw.qd&&u.Wd.type?this.jd=u.Wd.type:Rw.searchParams&&Yw(n)&&(this.jd="application/x-www-form-urlencoded;charset=UTF-8"),this.jd&&i.set("content-type",this.jd)),Rw.stream&&(null==n?this.body=null:u.zd===Zw.Vd?this.body=u.Wd:this.body=Iw(pw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Jw(this);return e||(this.zd===Zw.qd?(t=this.Wd,n=new FileReader,i=$w(n),n.readAsText(t),i):this.zd===Zw.Gf?We.resolve(this.Wd).then(t_):this.zd===Zw.Vd?e_(this.Wd).then(t_):this.zd===Zw.Tl?this.Wd.then(function(t){return t.text()}):this.zd===Zw.Yd?We.reject(new v("could not read FormData body as text")):We.resolve(this.Wd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Rw.blob&&(a_.prototype.blob=function(){var t,n,i=Jw(this);return i||(this.zd===Zw.qd?We.resolve(this.Wd):this.zd===Zw.Gf?We.resolve(kw([this.Wd],{type:this.jd})):this.zd===Zw.Vd?(t=this.Wd,n=this.jd,i_(t).then(function(t){return kw(t,{type:n||""})})):this.zd===Zw.Tl?this.Wd.then(function(t){return t.blob()}):this.zd===Zw.Yd?We.reject(new v("could not read FormData body as Blob")):We.resolve(kw([this.Wd],{type:this.jd})))}),Rw.arrayBuffer&&(a_.prototype.arrayBuffer=function(){var t,n,i;return this.zd===Zw.Gf?Jw(this)||We.resolve(this.Wd):this.zd===Zw.qd?Jw(this)||(t=this.Wd,n=new FileReader,i=$w(n),n.readAsArrayBuffer(t),i):this.zd===Zw.Vd?e_(this.Wd):this.zd===Zw.Tl?Jw(this)||this.Wd.then(function(t){return t.arrayBuffer()}):this.zd===Zw.Yd?We.reject(new v("could not read FormData body as ArrayBuffer")):We.resolve(this.Wd).then(n_)}),Rw.formData&&(a_.prototype.formData=function(){return this.zd===Zw.Yd?Jw(this)||We.resolve(this.Wd):this.text().then(u_)});var h_=[301,302,303,307,308],c_=function(t){function n(n,i){var e=this,r=new Pw((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return mw(n,t),n.prototype.clone=function(){return new n(o_(this),{status:this.status,statusText:this.statusText,headers:new Pw(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===h_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(a_);var f_,v_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),d.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(f_=v_)&&f_.__esModule&&d.prototype.hasOwnProperty.call(f_,"default")&&f_.default,v_.AbortSignal;var l_=v_.AbortController,d_=yw.DOMException;try{new d_}catch(t){(d_=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d_.prototype.constructor=d_}var w_=l_;function __(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function g_(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(Bw),r(m_());var s=function(){n.signal.removeEventListener("abort",s),r(m_())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function m_(){return new d_("Aborted","AbortError")}var y_,k_="moz-chunked-arraybuffer";function p_(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(y_||(y_={}));var b_=function(){function t(t,n){var i=this;this.Qd=!1,this.Ld=t,this.Zd=n,this.Kd=new p,this.Jd=new We(function(t,n){i.$d=t,i.nw=n})}return t.prototype.send=function(){var t=this;return this.iw().then(function(n){return t.ew(n,t.Zd),t.Jd})},t.prototype.iw=function(){var t=this.Ld;return t.zd===Zw.Vd?t.arrayBuffer():We.resolve(t.Gd)},t.prototype.uw=function(t){this.Ld.onprogress&&this.Ld.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ow=function(t){this.nw(t)},t.prototype.aw=function(){this.ow(new l("Network request failed"))},t.prototype.hw=function(){this.ow(new l("Network request failed"))},t.prototype.cw=function(){this.ow(m_())},t.prototype.ew=function(t,n){var i=this,e=this.Ld,r=this.Kd,s=function(){return i.fw()};if(e.signal.aborted)return this.cw();r.onreadystatechange=function(){if(r.readyState>=y_.HEADERS_RECEIVED&&!i.Qd){var t=function(t){var n=new Pw;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Qd=!0,i.vw(n)}},r.onprogress=function(t){return i.uw(t)},r.onload=function(){return i.lw()},r.onerror=function(){return i.aw()},r.ontimeout=function(){return i.hw()},r.onabort=function(){return i.cw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.fw=function(){this.cw(),this.Kd.abort()},t}(),A_=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.dw=void 0,e.ww=void 0,e}return mw(n,t),n.prototype.vw=function(t){var n=this;this.dw=new We(function(t,i){n.ww=t,n._w=i}),this.$d(new c_(this.dw,t))},n.prototype.lw=function(){var t=this.Kd.response;if(null==t){var n=this.Zd;""===n||"text"===n?t=this.Kd.responseText:"document"===n?t=this.Kd.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=kw([]))}this.ww(t)},n.prototype.ow=function(n){t.prototype.ow.call(this,n),this._w&&this._w(n)},n}(b_),T_=function(t){function n(n){var i=t.call(this,n,k_)||this;return i.gw=void 0,i.mw=void 0,i.yw=!1,i}return mw(n,t),n.prototype.vw=function(t){var n=this;this.gw=new pw({start:function(t){n.mw=t},cancel:function(){n.yw=!0,n.fw()}}),this.$d(new c_(this.gw,t))},n.prototype.uw=function(n){this.yw||this.mw.enqueue(new y(this.Kd.response)),t.prototype.uw.call(this,n)},n.prototype.lw=function(){this.mw.close()},n.prototype.ow=function(n){t.prototype.ow.call(this,n),this.mw&&!this.yw&&(this.yw=!0,this.mw.error(n))},n}(b_),S_=function(){var t=Rw.firefox&&p_(k_);return S_=function(){return t},t},E_=function(){var t;return t=Rw.arrayBuffer&&p_("arraybuffer")?"arraybuffer":Rw.blob&&p_("blob")?"blob":"",E_=function(){return t},t};function I_(t){return(Rw.stream&&S_()?new T_(t):new A_(t,E_())).send()}var R_=yw.fetch,D_=yw.Request;yw.Response;var N_=yw.AbortController;var C_=["http:","https:"];var P_=function(){try{if(Rw.streamRequest){var t=new D_("about:blank",{body:"",method:"POST"}).body;if(t&&Aw(t.constructor))return t.constructor}}catch(t){}}();function B_(t,n,i){var e;if(Rw.stream){var r=void 0;if(Rw.streamResponse){var s=t.body;r=s&&Sw(pw,s)}else r=Iw(pw,function(){return g_(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Tw(n.getReader(),i),{highWaterMark:0})}(pw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,O_(t.headers))),e=r}else{var u=g_(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,O_(t.headers))),e=u}return new c_(e,t)}function O_(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function x_(t){var n=new w_;return t.signal&&__(n,t.signal),function(t,n){var i,e,r=t;if(i=r.zd===Zw.Vd?Rw.streamRequest&&P_?We.resolve(Sw(P_,r.Wd)):g_(t.arrayBuffer(),n,!1):g_(We.resolve(t.Gd),n,!1),Rw.abort){var s=new N_;__(s,n.signal),e=s.signal}return i.then(function(n){return new D_(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Pw?i:new Pw(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return R_(i).then(function(i){return B_(i,n,t.onprogress)})})}var L_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var M_=function(t){function n(i,e){var r,s,u,o,a,h,c,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new Pw(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.Gd||(w=i.Gd,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new Pw(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return L_.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new w_).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return mw(n,t),n.prototype.clone=function(){return new n(this,{body:o_(this)})},n}(a_),U_="function"==typeof R_&&Rw.stream&&Rw.streamResponse&&Rw.url;function X_(t,n){return new We(function(i){var e=new M_(t,n);i((U_&&function(t){try{return C_.indexOf(new yw.URL(t,yw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?x_:I_)(e))})}X_.polyfill=!0;var H_=function(){function t(t){this.Ud=void 0,this.Ld=void 0,this.pw=new Js,this.Md=void 0,this.bw=!1,this.Ld=t,this.pw.zs(t.Ws),this.Ud=this.Aw()}var n=t.prototype;return n.Aw=function(){var t,n,e,r,s,u,o,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Ld).yd&&a(function(){c.bw=!0,c.pw.Fs()},t.yd),f.prev=2,n=X_(t.Ql,{method:t.md,headers:t.Vl.jf(),body:t.Cl,credentials:t.bd?"include":"same-origin",signal:V_(this.pw.Ws),onprogress:t.Ad}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new dw(t,f.t0);case 9:return f.prev=9,f.next=12,Dr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),tu(r=this.Tw(f.t1))&&this.pw.Fs(),r;case 20:if(s=e.url||t.Ql,u=0===e.status&&"file:"===(v=s,i.Br(v).protocol)?200:e.status,o=new F_(this,e,this.pw),h=new ew({Fi:o,Yl:t,Wl:t.Wl,Vl:new Tf(e.headers.asList()),zl:u,Gl:e.statusText,jl:s}),this.Md=h,!Jd(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new ww(h);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],We)},n.Tw=function(t){return tu(t)?this.bw?new _w(this.Ld):new $s(t.message,t):this.Md?new ww(this.Md,t):new dw(this.Ld,t)},t}(),F_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sw=void 0,r.Ew=void 0,r.pw=void 0,r.xl=new Go,r.Sw=n,r.Ew=i,r.pw=e,r.xl.Hu.catch(K),r}S(n,t);var i=n.prototype;return i.Ml=function(){return this.xl.Hu},i.El=function(t){return this.Ul(this.Ew.text(),t)},i.Rl=function(t){return this.Ul(this.Ew.arrayBuffer(),t)},i.Dl=function(){var t=this.Ew.body;return t?this.Xl(t):xd(this.Rl().then(Bd),this.pw)},i.Hl=function(){var t=this.Ew.clone(),i=this.pw.Vs(),e=i[0],r=i[1];return this.pw=e,new n(this.Sw,t,r)},i.Ul=function(t,n){var i=this;n&&this.pw.zs(n);var e=We.resolve(t).catch(function(t){throw i.Sw.Tw(t)});return e=su(e,this.pw),this.xl.Wu(e.then(K)),e},i.Xl=function(t){var n=this,i=new md,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Sw.Tw(t);throw i.writable.abort(e).catch(K),e});return e=su(e,this.pw),this.xl.Wu(e.then(K)),i.readable},A(n,[{key:"Fl",get:function(){return this.Ew.bodyUsed}}]),n}(Fd),z_="abort";function V_(t){var n=new w_;if(t.Ns)n.abort();else if(!t.Cs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(z_,i),t.Ms(i),t.Xs(e)};n.signal.addEventListener(z_,i),t.Ls(i),t.Us(e)}return n.signal}function W_(t,n,i){return new We(function(e,r){if(i&&i.Ns)return r(new $s);var s=function(t){o(),e(t)},u=function(){o(),r(new $s)},o=function(){t.removeEventListener(n,s),i&&i.Ms(u)};t.addEventListener(n,s),i&&i.Ls(u)})}var G_,q_,Y_=function(){function t(){}var n=t.prototype;return n.Yl=function(t){return new H_(t).Ud},n.Td=function(t){if(we&&we.sendBeacon)we.sendBeacon(t.Ql,kf([t.Cl],{type:t.Nl}));else{var n=t.Nl?{"Content-type":t.Nl}:void 0;hu(this.Yl(new rw({md:$d.POST,Ql:t.Ql,Cl:t.Cl,Vl:n})))}},n.Sd=function(){},t}();G_=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Iw=void 0,i.Rw=function(){if(M.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Dw=M.Xn||M.fn,i.Nw=void 0,i}return S(i,n),A(i,[{key:"Er",get:function(){return this.Iw||(this.Iw=new Es(_f())),this.Iw}},{key:"Cw",get:function(){return this.Rw}},{key:"Pw",get:function(){return this.Dw}},{key:"Bw",get:function(){return!1}},{key:"Ow",get:function(){return mf.rf()}},{key:"xw",get:function(){return{Lw:pf}}},{key:"Mw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Uw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Xw",get:function(){return this.Nw||(this.Nw=new uw(new Y_)),this.Nw}}]),i}(Er)),i=G_,function(t){t.Hw="Fw",t.zw="Vw"}(q_||(q_={})),q_.Hw,q_.zw;var j_=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(gu);function Q_(t){return Boolean(t&&t.Gw)}var Z_,K_=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(j_),J_=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(gu),$_=function(t){function n(n){var i;return(i=t.call(this,q_.Hw)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new tg(this.Yw.Gw)},n}(K_),tg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(J_),ng=function(t){function n(n){var i;return(i=t.call(this,q_.zw)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new ig(this.Yw.Gw)},n}(K_),ig=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(J_);!function(t){t.jw="Qw",t.Zw="Kw",t.Jw="$w",t.t_="n_",t.i_="e_",t.r_="s_",t.u_="o_",t.a_="h_",t.c_="Zh",t.f_="v_",t.l_="d_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Z_||(Z_={}));var eg=function(t){function n(){var n;return(n=t.call(this)||this).w_=[],n.Ww=void 0,n}S(n,t);var i=n.prototype;return i.__=function(t){return this.w_[t]},i.g_=function(t){return!(!t||Hs(this.w_,t))&&(this.w_.push(t),this.Ww&&this.Ww.push(t.Gw),t.Zs(Z_.r_,this.js),this.Qs(new $_(t)),!0)},i.m_=function(t){if(!t)return!1;var n=this.w_.indexOf(t);return!(n<0)&&(Xs(this.w_,n),this.Ww&&Xs(this.Ww,n),t.tu(Z_.r_,this.js),this.Qs(new ng(t)),!0)},i.y_=function(t){return Hs(this.w_,t)},i.k_=function(){for(var t=this.w_,n=t.length-1;n>=0;n-=1)this.m_(t[n])},i.Sd=function(){this.k_(),this.$s()},A(n,[{key:"p_",get:function(){return this.w_}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"b_",get:function(){return this.w_.length}}]),n}(wu),rg=function(t){function n(n){var i;return(i=t.call(this,Z_.r_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new sg(this.Yw.Gw)},n}(K_),sg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(J_),ug=function(t){function n(){var n;return(n=t.call(this)||this).A_=void 0,n.T_=function(t){var i=t.Yw;n.g_(i)},n.S_=function(t){var i=t.Yw;n.m_(i)},n}S(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(q_.Hw,this.T_),t.Zs(q_.zw,this.S_)},i.I_=function(t){t.tu(q_.Hw,this.T_),t.tu(q_.zw,this.S_)},i.Sd=function(){this.A_&&this.A_.Sd(),t.prototype.Sd.call(this)},A(n,[{key:"R_",get:function(){return this.A_},set:function(t){var n=this.A_;if(t!==n){if(n){this.I_(n);for(var i=0,e=n.p_;i<e.length;i++){var r=e[i];t&&t.y_(r)||this.m_(r)}}if(this.A_=t,t){for(var s=[],u=0,o=t.p_;u<o.length;u++){var a=o[u];this.g_(a),this.D_(a)&&s.push(a)}this.E_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Qs(new rg(c))}}}}}]),n}(eg),og=d.freeze||J;function ag(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function hg(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function cg(t){if(G(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=cg(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=cg(t[r]));return e}return t}function fg(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!fg(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!fg(t[s],n[s]))return!1}return!0}(t,n)))}function vg(t,n){return t.constructor===n.constructor}function lg(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function dg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function wg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function _g(t){var n=wg(t);if(m(n))throw new v("Expected a valid number.");return n}function gg(t){return"string"==typeof t?t:""}function mg(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function yg(t,n){return V(t)?mg(t,n):n(t)}var kg=[q_.Hw,q_.zw,Z_.r_];function pg(t){var n,i=t.p_.map(function(t){return t.Gw});return i.item=function(n){var i=0|n,e=t.__(i);return e&&e.Gw||void 0},i.addEventListener=function(t,i){n.Zs(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new _u(i),t.Zs(kg,function(t){return n.Qs(t.Gw)}),i}function bg(){}function Ag(t){var n,i=[Z_.c_,Z_.r_,Z_.f_,Z_.l_,Z_.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.N_&&t.N_.Gw},get enabled(){return t.C_},set enabled(n){t.C_=dg(n)},get id(){return t.P_},get uid(){return t.B_},get kind(){return t.O_},get label(){return t.x_},set label(n){t.x_=gg(n)},get language(){return t.L_},get qualities(){return t.M_.Gw},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.M_.p_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Gw===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.U_=i:t.U_=void 0},get targetQuality(){if(t.U_)return 1===t.U_.length?t.U_[0].Gw:t.U_.map(function(t){return t.Gw})},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(e),t.Zs(i,function(t){return n.Qs(t.Gw)}),d.defineProperty(e,"constructor",{value:bg}),e}function Tg(){}function Sg(t){var n=pg(t);return d.defineProperty(n,"constructor",{value:Tg}),n}var Eg,Ig,Rg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qw=function(){return Sg(this)},i.D_=function(t){return t.C_},n}(ug);function Dg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Eg.X_:case Eg.H_:case Eg.F_:return n}}else if("number"==typeof t)switch(t){case 0:return Eg.X_;case 1:return Eg.H_;case 2:return Eg.F_}return Eg.X_}function Ng(){}function Cg(t){var n,i=[Z_.r_,Z_.c_,Z_.jw,Z_.Zw,Z_.Jw,Z_.t_,Z_.i_,Z_.u_,Z_.a_],e=[Ig.z_],r={get kind(){return t.O_},get label(){return t.x_},set label(n){t.x_=gg(n)},get language(){return t.L_},get id(){return t.P_},get uid(){return t.B_},get inBandMetadataTrackDispatchType(){return t.V_},get mode(){return t.W_},set mode(n){n!==Eg.F_&&n!==Eg.H_&&n!==Eg.X_||t.G_(n)},get forced(){return Boolean(t.q_)},get type(){return t.fs},get readyState(){return Og(t.Y_)},get cues(){return t.W_===Eg.X_?null:t.j_.Gw},get activeCues(){return t.W_===Eg.X_?null:t.Q_.Gw},get src(){return t.Z_||""},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(t),t.Zs(i,function(t){return n.Qs(t.Gw)}),t.Zs(e,function(t){return n.Qs(t)}),d.defineProperty(r,"constructor",{value:Ng}),r}function Pg(){}function Bg(t){var n=pg(t);return d.defineProperty(n,"constructor",{value:Pg}),n}function Og(t){return t}!function(t){t.X_="disabled",t.H_="hidden",t.F_="showing"}(Eg||(Eg={})),function(t){t.z_="error"}(Ig||(Ig={}));var xg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qw=function(){return Bg(this)},i.D_=function(t){return t.W_===Eg.F_},n}(ug),Lg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(wu),Mg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Lg),Ug=function(t){function n(){return t.call(this,bf.yf)||this}return S(n,t),n}(gu),Xg=function(t){function n(n){var i;return(i=t.call(this,bf.df)||this).currentSource=n,i}return S(n,t),n}(gu),Hg=function(){function t(){}return t.K_=function(n,i){var e=t.J_(n,i);return e?t.eg(e):0},t.rg=function(){return i.Mw||"default"},t.og=function(){return i.Uw||"unknown"},t.J_=function(n,e){var r,s=null==(r=i.Ow)?void 0:r.Iu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.ag(u,n,e)},t.eg=function(t){var n=t.availableBandwidth;return n||0},t.ag=function(n,i,e){if(!t.hg(n,i))return n[i];t.cg(n,i,e)},t.cg=function(t,n,e){var r;delete t[n],null==(r=i.Ow)||r.ef(e,JSON.stringify(t))},t.hg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.fg=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.vg=function(n){var i=t.rg();t.dg(i,"theoplayer-stored-network-info",n,Vt())},t.dg=function(n,e,r,s){var u,o,a=null==(u=i.Ow)?void 0:u.Iu(e),h=a?JSON.parse(a):void 0,c=t.fg(h,n,r,s);null==(o=i.Ow)||o.ef(e,JSON.stringify(c))},t.wg=function(){var n=t.rg();return t.K_(n,"theoplayer-stored-network-info")},t}();var Fg,zg,Vg,Wg,Gg,qg,Yg="1ADD53F3";function jg(t){return{chromecast:function(t){return{appID:t&&t.appID?gg(t.appID):Yg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Fg.AUTO;case"manual":return Fg.MANUAL;case"disabled":return Fg.DISABLED;default:return Fg.MANUAL}}(t?t.strategy:void 0)}}function Qg(t){var n,i=Vg._g;return(n=t)&&vs(n,"mpd")&&(i=Vg.gg),function(t){return!!t&&vs(t,"m3u8")}(t)&&(i=Vg.yg),i}function Zg(t){return!!t&&ls(t.toLowerCase(),Vg.gg)}function Kg(t){if(!t)return!1;var n=t.toLowerCase();return ls(n,Vg.yg)||ls(n,Vg.pg)}function Jg(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function $g(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function tm(t){if(q(t))return!t;if($g(t))return!t.id;if(Jg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function nm(t){return Boolean(W(t)&&q(t.src))}function im(t){return q(t)||nm(t)||Jg(t)||$g(t)}function em(t){if(t){if(im(t))return tm(t);for(var n=0;n<t.length;n++){if(!tm(t[n]))return!1}return!0}return!0}function rm(){return{crossOrigin:zg.Ag,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function sm(){return Nr({},rm(),{src:void 0,type:Vg._g,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function um(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Wg.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Gg.NONE;case"midroll-and-postroll":default:return Gg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=dg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Wg.INSECURE;case"disabled":return Wg.DISABLED;case"enabled":default:return Wg.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:dg(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function om(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];G(r)&&n.push(r)}return n}function am(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Fg||(Fg={})),function(t){t.Ag="",t.Tg="anonymous",t.Sg="use-credentials"}(zg||(zg={})),function(t){t.gg="application/dash+xml",t.yg="application/vnd.apple.mpegurl",t.pg="application/x-mpegurl",t._g="video/mp4",t.Eg="application/vnd.theoplayer.hesp+json",t.Ig="application/vnd.theo.hesp+json"}(Vg||(Vg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Wg||(Wg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Gg||(Gg={})),function(t){t[t.Rg=0]="Rg",t[t.Dg=1]="Dg",t[t.Ng=2]="Ng",t[t.Cg=3]="Cg",t[t.Pg=4]="Pg"}(qg||(qg={}));var hm,cm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Rg),(e=t.call(this,bf.gf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),fm=function(t){function n(n){var i;return(i=t.call(this,bf.Ef)||this).currentTime=n,i}return S(n,t),n}(gu),vm=function(t){function n(n){var i;return(i=t.call(this,bf.If)||this).currentTime=n,i}return S(n,t),n}(gu);!function(t){t.Bg="canplay",t.Og="canplaythrough",t.xg="loadeddata",t.Lg="loadedmetadata",t.u_="readystatechange",t.Mg="waiting",t.Ug="playing"}(hm||(hm={}));var lm,dm,wm=[hm.Bg,hm.Og,hm.xg,hm.Lg,hm.u_,hm.Mg,hm.Ug],_m=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Dg),(e=t.call(this,hm.Lg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),gm=function(t){function n(n){var i;return(i=t.call(this,bf._f)||this).duration=n,i}return S(n,t),n}(gu),mm=function(t){function n(n,i){var e;return(e=t.call(this,bf.Df)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(gu),ym=function(t){function n(n,i){var e;return(e=t.call(this,bf.Hf)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(gu),km=function(t){function n(n){var i;return(i=t.call(this,bf.mf)||this).currentTime=n,i}return S(n,t),n}(gu),pm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Ng),(e=t.call(this,hm.xg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),bm=function(t){function n(n){var i;return(i=t.call(this,bf.Bf)||this).currentTime=n,i}return S(n,t),n}(gu),Am=function(t){function n(n){var i;return(i=t.call(this,bf.Pf)||this).currentTime=n,i}return S(n,t),n}(gu),Tm=function(t){function n(n,i){var e;return(e=t.call(this,bf.Ff)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(gu),Sm=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Cg),(e=t.call(this,hm.Bg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Em=function(t){function n(n,i){var e;return void 0===i&&(i=qg.Pg),(e=t.call(this,hm.Og)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Im=function(t){function n(n,i){var e;return(e=t.call(this,hm.u_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(gu),Rm=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).errorObject=n,i}return S(n,t),n.prototype.qw=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(j_);function Dm(t){switch(t){case lm.ALL:case lm.CONTENT:return t;default:return lm.NONE}}function Nm(t){var n,e,r,s=cg(t||{});return s.libraryLocation&&(s.libraryLocation=aw(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=jg(s.cast),s.ads=um(s.ads),s.analytics=om(s.analytics),s.mutedAutoplay=Dm(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return aw(t)}catch(t){return void i.gr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Cm(t){return{Xg:t.Xg,Hg:t.Hg,Fg:t.Fg,mu:t.mu,zg:t.zg,Vg:t.Vg,Wg:t.Wg,Gg:t.Gg,Y_:t.Y_,qg:t.qg,Yg:t.Yg,jg:t.jg,Qg:t.Qg}}function Pm(t,n,i){if(n!==i){var e=n.Xg,r=n.Hg,s=n.Vg,u=n.Wg,o=n.Gg,a=n.Y_,h=n.qg;n.jg,n.Yg;var c=n.Qg,f=i.Xg,v=i.Hg,l=i.Fg,d=i.zg,w=i.Vg,_=i.Wg,g=i.Gg,y=i.Y_,k=i.qg;i.jg,i.Yg;var p=i.Qg;a!==qg.Rg&&t.Qs(new cm(f,y)),_&&!u?t.Qs(new fm(f)):!_&&u&&t.Qs(new vm(f)),y>=qg.Dg&&t.Qs(new _m(f,y)),v===r||m(v)&&m(r)||t.Qs(new gm(v)),g!==o&&t.Qs(new mm(f,g)),f!==e&&t.Qs(new ym(f,void 0)),l&&t.Qs(new km(f)),y>=qg.Ng&&t.Qs(new pm(f,y)),k&&!h?t.Qs(new bm(f)):!k&&h&&t.Qs(new Am(f)),p===c&&w===s||t.Qs(new Tm(f,p)),y>=qg.Cg&&t.Qs(new Sm(f,y)),y>=qg.Pg&&t.Qs(new Em(f,y)),y!==a&&t.Qs(new Im(f,y)),d&&t.Qs(new Rm(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(lm||(lm={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(dm||(dm={}));var Bm=400,Om=.25,xm={Zg:.2,Kg:.45,Jg:.7,$g:3,tm:zm,nm:Vm},Lm={Zg:.4,Kg:.65,Jg:1,$g:3,tm:zm,nm:Vm},Mm={Zg:.4,Kg:.7,Jg:.9,$g:3,tm:zm,nm:Vm},Um={Zg:.4,Kg:.65,Jg:1,$g:3,tm:zm,nm:Vm},Xm={Zg:.5,Kg:1.125,Jg:1.75,$g:2.55,tm:zm,nm:Vm};function Hm(){var t;return t=i.Lr.Ge?Um:i.Lr.je?Lm:i.Lr.Ye?"Android"===i.Mr.Ur?Mm:xm:Xm,i.Mr.Xr?function(t){if(i.Mr.Xr){var n=(Bm+250)/1e3,e=w.max(n,t.Zg),r=w.max(e+Om,t.Kg),s=w.max(r+Om,t.Jg);return{Zg:e,Kg:r,Jg:s,$g:w.max(s+Om,t.$g),tm:zm,nm:Vm}}return t}(t):t}var Fm,zm=.92,Vm=1.08;function Wm(t){return{goLive:function(){return t.im()},get isLive(){return t.um},get currentServerLiveTime(){return t.hm},get currentLatency(){return t.cm},get latency(){return t.fm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.fm=n},get manifest(){return t.vm},get metrics(){return t.lm},addEventListener:function(n,i){t.Zs(qm(n),i)},removeEventListener:function(n,i){t.tu(qm(n),i)}}}!function(t){t[t.X_=0]="X_",t[t.dm=1]="dm",t[t.wm=2]="wm"}(Fm||(Fm={}));var Gm=["analytic","golive","nogolive","bufferedchange"];function qm(t){var n=yg(t,gg);return(q(n)?[n]:n).filter(function(t){return Hs(Gm,t)})}var Ym,jm=function(t){function n(){var n,i;return(n=t.call(this)||this).A_=void 0,n.Ww=void 0,n._m={windowStart:(i=Hm()).Zg,windowEnd:i.Jg,target:i.Kg,maxOffset:i.$g},n.A_=void 0,n}S(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(Gm,this.js)},i.I_=function(t){t.tu(Gm,this.js)},i.im=function(){var t;null==(t=this.A_)||t.im()},i.Sd=function(){this.$s(),this.A_&&this.I_(this.A_),this.A_=void 0},A(n,[{key:"R_",get:function(){return this.A_},set:function(t){var n=this.A_;t!==n&&(n&&this.I_(n),t&&this.E_(t),this.A_=t,this.A_&&(this.A_.fm=this._m))}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Wm(this)),this.Ww}},{key:"hm",get:function(){var t;return null==(t=this.A_)?void 0:t.hm}},{key:"cm",get:function(){var t;return null==(t=this.A_)?void 0:t.cm}},{key:"um",get:function(){return!!this.A_&&this.A_.um}},{key:"fm",get:function(){return this.A_?this.A_.fm:this._m},set:function(t){this.A_&&(this.A_.fm=t),this._m=t}},{key:"vm",get:function(){var t;return null==(t=this.A_)?void 0:t.vm}},{key:"lm",get:function(){var t;return null==(t=this.A_)?void 0:t.lm}}]),n}(wu),Qm=function(t){function n(n){var i;return(i=t.call(this)||this).A_=void 0,i.gm=[],i.mm=!1,i.ym=new Rg,i.pm=new Rg,i.Am=new xg,i.Tm=new jm,i.Sm=!1,i.Em(n),n.Js(i.js),i.A_=n,i.ym.R_=n.Im,i.pm.R_=n.Rm,i.Am.R_=n.Dm,i.Tm.R_=n.Nm,i}S(n,t);var i=n.prototype;return i.Cm=function(){this.A_.Cm()},i.Pm=function(){this.A_.Pm()},i.Bm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",cu(this.gm.map(function(t){return t.Bm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},i.Om=function(){return this.A_.Om()},i.xm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(this.A_.xm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Lm=function(){return this.R_.Lm()},i.Mm=function(){this.R_.Mm()},i.Um=function(){this.R_.Um()},i.Xm=function(){if(!this.mm){for(var t=0,n=this.gm;t<n.length;t++){n[t].Xm()}this.mm=!0}},i.Hm=function(t){this.A_.Hm(t)},i.Fm=function(){this.A_.Fm()},i.zm=function(){this.A_.zm()},i.Vm=function(){this.A_.Vm()},i.Wm=function(){return this.A_.Wm()},i.Gm=function(){return this.A_.Gm()},i.qm=function(){for(var t=[],n=0,i=this.gm;n<i.length;n++){var e=i[n];t.push.apply(t,e.qm())}return t},i.Ym=function(t){for(var n=!1,i=0,e=this.gm;i<e.length;i++){n=e[i].Ym(t)||n}return n},i.Qs=function(n){this.Ym(n)||t.prototype.Qs.call(this,n)},i.Em=function(t){this.gm.push(t)},i.jm=function(t){Us(this.gm,t)},i.Qm=function(t){if(t!==this.A_){var n=this.A_;n.Fm(),n.ou(this.js);var i=Cm(this),e=this.Zm,r=this.Gm();this.A_=t,this.ym.R_=t.Im,this.pm.R_=t.Rm,this.Am.R_=t.Dm,this.Tm.R_=t.Nm,Pm(this,i,this);var s=this.Zm;s!==e&&this.Qs(new Xg(s)),this.Gm()!==r&&this.Qs(new Ug),t.Js(this.js),t.Hm(n)}},i.Km=function(){},i.Sd=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.$s(),this.A_.Fm(),t=0,n=this.gm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Dr.awrap(i.Sd());case 7:t++,e.next=3;break;case 10:this.ym.Sd(),this.pm.Sd(),this.Am.Sd(),this.Tm.Sd();case 14:case"end":return e.stop()}},null,this,null,We)},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",cu(this.gm.map(function(t){return t.k_()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Im",get:function(){return this.ym}},{key:"Dm",get:function(){return this.Am}},{key:"Rm",get:function(){return this.pm}},{key:"Jm",get:function(){return this.A_.Jm}},{key:"$m",get:function(){return this.A_.$m},set:function(t){this.A_.$m=t}},{key:"Zm",get:function(){return this.A_.Zm}},{key:"Xg",get:function(){return this.A_.Xg},set:function(t){this.A_.Xg=t}},{key:"Hg",get:function(){return this.A_.Hg}},{key:"iy",get:function(){return this.A_.iy}},{key:"Fg",get:function(){return this.A_.Fg}},{key:"mu",get:function(){return this.A_.mu}},{key:"zg",get:function(){return this.A_.zg}},{key:"Nm",get:function(){return this.Tm}},{key:"ey",get:function(){return this.A_.ey}},{key:"lm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.sy,i+=a.uy,e+=a.oy,r+=a.vy,s+=a.ly,u.amountOfBufferedAudioSegments+=a.wy.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.wy.amountOfBufferedVideoSegments}return{sy:n,uy:i,oy:e,vy:r,ly:s,wy:u}}(this.gm.map(function(t){return t.lm}))}},{key:"Vg",get:function(){return this.A_.Vg},set:function(t){this.A_.Vg=t}},{key:"_y",get:function(){return this.A_._y}},{key:"Wg",get:function(){return this.A_.Wg}},{key:"Gg",get:function(){return this.A_.Gg},set:function(t){this.A_.Gg=t}},{key:"gy",get:function(){return this.A_.gy}},{key:"yy",get:function(){return this.A_.yy},set:function(t){this.A_.yy=t}},{key:"Y_",get:function(){return this.A_.Y_}},{key:"py",get:function(){return this.A_.py}},{key:"qg",get:function(){return this.A_.qg}},{key:"Yg",get:function(){return this.A_.Yg}},{key:"jg",get:function(){return this.A_.jg}},{key:"Qg",get:function(){return this.A_.Qg},set:function(t){this.A_.Qg=t}},{key:"by",get:function(){return this.A_.by}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"R_",get:function(){return this.A_},set:function(t){this.Qm(t)}}]),n}(Mg),Zm=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(nf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Ym||(Ym={}));var Km=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Kt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function Jm(t){ag(t,"MEDIA_ERR_ABORTED",Ym.ABORTED),ag(t,"MEDIA_ERR_NETWORK",Ym.NETWORK),ag(t,"MEDIA_ERR_DECODE",Ym.DECODE),ag(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Ym.SRC_NOT_SUPPORTED),ag(t,"MEDIA_ERR_ENCRYPTED",Ym.ENCRYPTED)}function $m(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Km(Ym.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Km(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Ym.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Ym.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Ym.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Ym.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Ym.NETWORK;if(i===n.ErrorCategory.SOURCE)return Ym.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Ym.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Ym.ENCRYPTED;if(i===n.ErrorCategory.AD)return Ym.ADVERTISEMENT_ERROR;return Ym.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Jm(Km),Jm(Km.prototype);var ty,ny=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.g_=function(n){return t.prototype.g_.call(this,n)},i.qw=function(){return Sg(this)},n}(eg);!function(t){t.dd="audio",t.wd="video",t.$n="text",t._d="image",t.Kl="unknown"}(ty||(ty={}));var iy=function(){function t(){this.Ty=[],this.Ww=void 0}var n=t.prototype;return n.Sy=function(t){this.Ty.push(t),this.Ww&&this.Ww.push(t.Gw)},n.Qh=function(t){Us(this.Ty,t),this.Ww&&Us(this.Ww,t.Gw)},n.__=function(t){return this.Ty[t]},n.Ey=function(t){return z(t)?Fs(this.Ty,t):Hs(this.Ty,t)},n.k_=function(){zs(this.Ty),this.Ww&&zs(this.Ww)},A(t,[{key:"p_",get:function(){return this.Ty}},{key:"b_",get:function(){return this.Ty.length}},{key:"Gw",get:function(){var t,n;return this.Ww||(this.Ww=((n=(t=this).p_.map(function(t){return t.Gw})).item=function(n){var i=0|n,e=t.__(i);return e&&e.Gw||void 0},n)),this.Ww}}]),t}(),ey=function(t){function n(n){var i;return(i=t.call(this,Z_.c_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new ry(this.Yw.Gw)},n}(K_),ry=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(J_),sy=0;function uy(){return sy++}var oy=0;var ay=0;function hy(){return ay++}var cy=0;function fy(){return cy++}var vy=0;var ly=function(t){function n(n){var i;return(i=t.call(this)||this).fs=ty.dd,i.Iy=void 0,i.Bh=void 0,i.Ry=void 0,i.Dy=void 0,i.Ny=!1,i.Ty=void 0,i.Ww=void 0,i.Iy=n,i.Dy=uy(),i.Bh=vy+++"",i.Ry=n.label,i.Ty=new iy,i.Cy(),i}S(n,t);var i=n.prototype;return i.Py=function(t){this.C_=t},i.Cy=function(){this.C_=this.By},A(n,[{key:"N_",get:function(){}},{key:"C_",get:function(){return this.Ny},set:function(t){this.Ny!==t&&(this.Ny=t,this.By=t,this.Qs(new rg(this)))}},{key:"By",get:function(){return this.Iy.enabled},set:function(t){this.Iy.enabled=t}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ag(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"O_",get:function(){return this.Iy.kind}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new ey(this)))}},{key:"L_",get:function(){return this.Iy.language}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Iy}},{key:"M_",get:function(){return this.Ty}},{key:"U_",get:function(){},set:function(t){}}]),n}(wu),dy=0;var wy,_y,gy,my=function(t){function n(n){var i;return(i=t.call(this)||this).fs=ty.wd,i.Iy=void 0,i.Bh=void 0,i.Dy=void 0,i.Ny=!1,i.Ty=void 0,i.Ry=void 0,i.Ww=void 0,i.Iy=n,i.Dy=uy(),i.Bh=dy+++"",i.Ty=new iy,i.Ry=n.label,i.Cy(),i}S(n,t);var i=n.prototype;return i.Cy=function(){this.C_=this.By},i.Py=function(t){this.C_=t},A(n,[{key:"N_",get:function(){}},{key:"C_",get:function(){return this.Ny},set:function(t){this.Ny!==t&&(this.Ny=t,this.By=t,this.Qs(new rg(this)))}},{key:"By",get:function(){return!!this.Iy.selected},set:function(t){this.Iy.selected=t}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ag(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"O_",get:function(){return"main"}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new ey(this)))}},{key:"L_",get:function(){return this.Iy.language}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"Oy",get:function(){return this.Iy}},{key:"M_",get:function(){return this.Ty}},{key:"U_",get:function(){},set:function(t){}}]),n}(wu),yy=function(t){function n(n){var i;return(i=t.call(this,bf.sf)||this).ey=n,i}return S(n,t),n}(gu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(wy||(wy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(_y||(_y={})),function(t){t.xy="cue",t.Ly="region",t.My="stylesheet"}(gy||(gy={}));var ky,py={"line-left":"start",center:"middle","line-right":"end"},by={start:"line-left",middle:"center",end:"line-right"};function Ay(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Ty(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.Uy="Xy",t.Hy="Fy",t.c_="Zh"}(ky||(ky={}));var Sy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).zy=i,e}return S(n,t),n}(K_),Ey=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(J_);function Iy(t){var n,i=[ky.Uy,ky.Hy,ky.c_],e={get track(){return t.Yw.Gw},get id(){return t.P_},get uid(){return t.B_},get startTime(){return t.Vy},get endTime(){return t.Wy},get content(){return t.Gy},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(e),t.Zs(i,function(t){return n.Qs(t.Gw)}),e}function Ry(){}function Dy(t){return hg(Iy(t),{get align(){return t.qy},get line(){return t.Yy},get lineAlign(){return t.jy},get position(){return t.Qy},get positionAlign(){return t.Zy},get region(){return t.Ky?t.Ky.Gw:null},get size(){return t.Cu},get snapToLines(){return t.Jy},get text(){return t.Gy},get vertical(){return t.$y}})}var Ny=function(t){function n(n){return t.call(this,ky.c_,n)||this}return S(n,t),n.prototype.qw=function(){return new Cy(this.zy.Gw)},n}(Sy),Cy=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Ey),Py=.02;function By(t,n){return Ut(t.Vy,n.Vy,Py)&&Ut(t.Wy,n.Wy,Py)&&t.P_===n.P_}var Oy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Dy=void 0,u.Bh=void 0,u.nk=void 0,u.ek=void 0,u.Ww=void 0,u.rk=void 0,u.hk=!1,u.ck=void 0,u.fk=void 0,u.vk=-1,u.Dy=fy(),u.nk=n,u.ek=i,u.ck=e,u.fk=Boolean(r),u.Bh=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.qw=function(){return Iy(this)},i.lk=function(t){return this===t||vg(this,t)&&By(this,t)},i.Sd=function(){this.$s()},A(n,[{key:"Vy",get:function(){return this.nk},set:function(t){this.nk!==t&&(this.nk=t,this.Qs(new Ny(this)))}},{key:"Wy",get:function(){return this.ek},set:function(t){this.ek!==t&&(this.ek=t,this.Qs(new Ny(this)))}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"dk",get:function(){return this.hk},set:function(t){this.hk=t}},{key:"Yw",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"Gy",get:function(){return this.ck},set:function(t){this.ck!==t&&(this.ck=t,this.Qs(new Ny(this)))}},{key:"wk",get:function(){return this.fk},set:function(t){this.fk=t}}]),n}(wu);function xy(t,n){return t.Gy===n.Gy&&t.Yy===n.Yy&&t.jy===n.jy&&t.Qy===n.Qy&&t.Zy===n.Zy&&t.Ky===n.Ky&&t.Jy===n.Jy&&t.Cu===n.Cu&&t.qy===n.qy&&t.$y===n.$y}var Ly=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Yy="auto",u.jy="start",u.Qy="auto",u.Zy="auto",u.Ky=void 0,u.Jy=!0,u.Cu=100,u.qy="center",u.$y="",u}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&xy(this,n)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Dy(this)),this.Ww}},{key:"fs",get:function(){return gy.xy}}]),n}(Oy);function My(t){var n=Z(t.Yy)?t.Yy:g(t.Yy);return m(n)||t.Jy||!(n<0||n>100)?m(n)?t.Jy?-1:100:n:100}function Uy(t){return Ty(t.Qy,t.qy)}function Xy(t){return Ay(t.Zy,t.qy)}function Hy(t){var n,i=Xy(t),e=Uy(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Cu,n)}function Fy(t){return{get id(){return t.P_},get identifier(){return t.P_},get lines(){return t._k},get regionAnchorX(){return t.gk},get regionAnchorY(){return t.yk},get scrollValue(){return t.pk},get viewportAnchorX(){return t.bk},get viewportAnchorY(){return t.Ak},get width(){return t.Tk}}}var zy=function(){function t(t,n,i,e,r,s,u,o){this.Ww=void 0,this.P_=t,this.Tk=n,this._k=i,this.gk=e,this.yk=r,this.bk=s,this.Ak=u,this.pk=o}return A(t,[{key:"Gw",get:function(){return this.Ww||(this.Ww=Fy(this)),this.Ww}},{key:"fs",get:function(){return gy.Ly}}]),t}(),Vy=function(){function t(){}var n=t.prototype;return n.Sk=function(t){return this.Ek()*t},n.Ik=function(t){return this.Rk(t)>0},n.Dk=function(t){return this.Rk(t)>=0},n.Nk=function(t,n){return this.Pk(t).Ck(n)},n.lk=function(t){return 0===this.Rk(t)},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.Ok=function(){return this.xk()?this.Lk():this},n.Mk=function(t){return this.Sy(t.Lk())},n.Pk=function(t){return this.Mk(t).Ok()},t}();function Wy(t,n){return t.Uk()?n.Uk()?Ss.Is:Ss.Rs:n.Uk()?Ss.Ds:t.Xk()?n.Xk()&&t.xk()===n.xk()?Ss.Is:t.xk()?Ss.Ds:Ss.Rs:n.xk()?Ss.Rs:Ss.Ds}var Gy=function(){function t(t,n){this.Hk=void 0,this.Fk=void 0,this.Hk=t,this.Fk=n}t.zk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Vk=function(n){return n.unsigned?new t(n,ft.UZERO):new t(n,n.isNegative()?ft.NEG_ONE:ft.ZERO)},t.Wk=function(n,i){if(m(n))return i?t.Gk:t.qk;if(i){if(n<0)return t.Gk;if(n>=3.402823669209385e38)return t.Yk}else{if(n<=-1.7014118346046923e38)return t.jk;if(n+1>=1.7014118346046923e38)return t.Qk}return n<0?t.Wk(-n,i).Lk():t.zk(ft.fromNumber(n%0x10000000000000000),ft.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Zk=function(){return this.Fk.unsigned},n.Kk=function(){return this.Hk.isZero()&&this.Fk.isZero()},n.xk=function(){return this.Fk.isNegative()},n.Jk=function(){return this.Zk()?t.zk(this.Hk,this.Fk,!1):this},n.$k=function(){return this.Zk()?this:t.zk(this.Hk,this.Fk,!0)},n.tp=function(){return this.Hk},n.Ek=function(){return this.xk()?-this.Lk().Ek():0x10000000000000000*this.Fk.toNumber()+this.Hk.toUnsigned().toNumber()},n.np=function(){return this.Hk.toInt()},n.lk=function(t){return(this.Zk()===t.Zk()||this.Fk.getHighBits()>>>31!=1||t.Fk.getHighBits()>>>31!=1)&&(this.Fk.toUnsigned().eq(t.Fk.toUnsigned())&&this.Hk.toUnsigned().eq(t.Hk.toUnsigned()))},n.Rk=function(t){if(this.lk(t))return Ss.Is;var n=this.xk(),i=t.xk();if(n&&!i)return Ss.Ds;if(!n&&i)return Ss.Rs;if(!this.Zk())return this.Mk(t).xk()?Ss.Ds:Ss.Rs;var e=this.$k(),r=t.$k(),s=r.Fk.comp(e.Fk);return s>0||0===s&&r.Hk.gt(e.Hk)?Ss.Ds:Ss.Rs},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.ip=function(t){return this.Rk(t)>0},n.ep=function(t){return this.Rk(t)>=0},n.rp=function(){return new t(this.Hk.not(),this.Fk.not())},n.sp=function(n){return new t(this.Hk.and(n.Hk),this.Fk.and(n.Fk))},n.op=function(n){return new t(this.Hk.or(n.Hk),this.Fk.or(n.Fk))},n.ap=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shl(i),this.Fk.shl(i).or(this.Hk.shru(64-i)),this.Zk()):t.zk(ft.ZERO,this.Hk.shl(i-64),this.Zk())},n.hp=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shru(i).or(this.Fk.shl(64-i)),this.Fk.shr(i),this.Zk()):t.zk(this.Fk.shr(i-64),this.Fk.isNegative()?ft.NEG_ONE:ft.ZERO,this.Zk())},n.cp=function(n){var i=127&n;return 0===i?this:i<64?t.zk(this.Hk.shru(i).or(this.Fk.shl(64-i)),this.Fk.shru(i),this.Zk()):64===i?t.zk(this.Fk,ft.ZERO,this.Zk()):t.zk(this.Fk.shru(i-64),ft.ZERO,this.Zk())},n.Sy=function(n){var i=this.Fk.high>>>16,e=65535&this.Fk.high,r=this.Fk.low>>>16,s=65535&this.Fk.low,u=this.Hk.high>>>16,o=65535&this.Hk.high,a=this.Hk.low>>>16,h=65535&this.Hk.low,c=n.Fk.high>>>16,f=65535&n.Fk.high,v=n.Fk.low>>>16,l=65535&n.Fk.low,d=n.Hk.high>>>16,w=65535&n.Hk.high,_=n.Hk.low>>>16,g=0,m=0,y=0,k=0,p=0,b=0,A=0,T=0;A+=(T+=h+(65535&n.Hk.low))>>>16,T&=65535,b+=(A+=a+_)>>>16,A&=65535,p+=(b+=o+w)>>>16,b&=65535,k+=(p+=u+d)>>>16,p&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+c,g&=65535;var S=this.Zk(),E=ft.fromBits(y<<16|k,g<<16|m,S),I=ft.fromBits(A<<16|T,p<<16|b,S);return t.zk(I,E,S)},n.Mk=function(t){return this.Sy(t.Lk())},n.Lk=function(){return this.rp().Sy(t.fp)},n.vp=function(n){if(this.Kk()||n.Kk())return this.Zk()?t.Gk:t.qk;if(this.xk())return n.xk()?this.Lk().vp(n.Lk()):this.Lk().vp(n).Lk();if(n.xk())return this.vp(n.Lk()).Lk();if(this.Fk.isZero()&&0===this.Hk.high&&n.Fk.isZero()&&0===n.Hk.high)return t.Vk(this.Hk.multiply(n.Hk));var i=ft.fromBits(4294967295,0,!0),e=this.Hk.and(i),r=this.Hk.shru(32),s=this.Fk.and(i),u=this.Fk.shru(32),o=n.Hk.and(i),a=n.Hk.shru(32),h=n.Fk.and(i),c=n.Fk.shru(32),f=ft.UZERO,v=ft.UZERO,l=ft.UZERO,d=ft.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(h)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=ft.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ft.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.zk(w,_,this.Zk())},n.lp=function(n){var i,e,r=n;if(r.Kk())throw new RangeError("division by zero");if(this.Kk())return this.Zk()?[t.Gk,t.Gk]:[t.qk,t.qk];if(this.Zk()){if(r.Zk()||(r=r.$k()),r.ip(this))return[t.Gk,this];if(r.ip(this.cp(1)))return[e=t.dp,i=this.Mk(r)];e=t.Gk}else{if(this.lk(t.jk)){if(r.lk(t.fp)||r.lk(t.wp))return[t.jk,t.qk];if(r.lk(t.jk))return[t.fp,t.qk];var s=this.hp(1)._p(r).ap(1);return s.lk(t.qk)?e=r.xk()?t.fp:t.wp:(i=this.Mk(r.vp(s)),e=s.Sy(i._p(r))),[e,i=this.Mk(r.vp(e))]}if(r.lk(t.jk))return this.Zk()?[t.Gk,this]:[t.qk,this];if(this.xk()){if(r.xk())return this.Lk().lp(r.Lk());var u=this.Lk().lp(r);return e=u[0],i=u[1],[e.Lk(),i.Lk()]}if(r.xk()){var o=this.lp(r.Lk());return e=o[0],i=o[1],[e.Lk(),i.Lk()]}e=t.qk}for(i=this;i.ep(r);){for(var a=w.max(1,w.floor(i.Ek()/r.Ek())),h=w.ceil(w.log(a)/w.LN2),c=h<=48?1:w.pow(2,h-48),f=t.Wk(a),v=f.vp(r);v.xk()||v.ip(i);)a-=c,v=(f=t.Wk(a,this.Zk())).vp(r);f.Kk()&&(f=t.fp),e=e.Sy(f),i=i.Mk(v)}return[e,i]},n._p=function(t){return this.lp(t)[0]},n.gp=function(t){return this.lp(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Kk())return"0";if(this.xk()){if(this.lk(t.jk)){var e=t.Wk(i),r=this._p(e),s=r.vp(e).Mk(this);return r.toString(i)+s.np().toString(i)}return"-"+this.Lk().toString(i)}for(var u=t.Wk(w.pow(i,6),this.Zk()),o=this,a="";;){var h=o._p(u),c=(o.Mk(h.vp(u)).np()>>>0).toString(i);if((o=h).Kk())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();Gy.qk=Gy.Vk(ft.ZERO),Gy.Gk=Gy.Vk(ft.UZERO),Gy.fp=Gy.Vk(ft.ONE),Gy.dp=Gy.Vk(ft.UONE),Gy.wp=Gy.Vk(ft.NEG_ONE),Gy.Qk=Gy.zk(ft.NEG_ONE,ft.MAX_VALUE,!1),Gy.Yk=Gy.zk(ft.MAX_UNSIGNED_VALUE,ft.MAX_UNSIGNED_VALUE,!0),Gy.jk=Gy.zk(ft.ZERO,ft.MIN_VALUE,!1);var qy=function(){function t(t,n){void 0===n&&(n=1),this.mp=void 0,this.yp=void 0,this.mp=t,this.yp=n}t.kp=function(n){return new t(w.ceil(n.mp),n.yp)},t.pp=function(n){return new t(w.floor(n.mp),n.yp)},t.bp=function(t,n){return t.Dk(n)?t:n},t.Ap=function(t,n){return t.Ck(n)?t:n};var n=t.prototype;return n.Sy=function(n){return this.yp>=n.yp?new t(this.mp+n.Tp(this.yp).mp,this.yp):new t(this.Tp(n.yp).mp+n.mp,n.yp)},n.Ik=function(t){return t.Bk(this)},n.Dk=function(t){return t.Ck(this)},n.Pk=function(n){return this.yp>=n.yp?new t(w.abs(this.mp-n.Tp(this.yp).mp),this.yp):n.Pk(this)},n.Nk=function(t,n){return this.Pk(t).Ck(n)},n.Rk=function(t){return i=t,(n=this).yp>=i.yp?Os(n.mp,i.Tp(n.yp).mp):Os(n.Tp(i.yp).mp,i.mp);var n,i},n.lk=function(t){return 0===this.Rk(t)},n.Bk=function(t){return this.Rk(t)<0},n.Ck=function(t){return this.Rk(t)<=0},n.Tp=function(n){return new t(this.mp*(n/this.yp),n)},n.Mk=function(n){return this.yp>=n.yp?new t(this.mp-n.Tp(this.yp).mp,this.yp):new t(this.Tp(n.yp).mp-n.mp,n.yp)},n.Sp=function(n){return new t(this.mp*n,this.yp)},A(t,[{key:"Xk",get:function(){return!isFinite(this.mp)}},{key:"Ep",get:function(){return this.mp/this.yp}}]),t}();qy.Ip=new qy(1/6,1),qy.qk=new qy(0),qy.Rp=new qy(1/0),qy.Dp=1e6;var Yy=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yp=void 0,e.Ai=n.toSigned(),e.yp=i>>>0,e}S(n,t),n.Np=function(t,i){return void 0===i&&(i=1e6),n.Wk(t*i,i)},n.Wk=function(t,i){return m(t)?n.Cp:t===1/0?n.Pp:t===-1/0?n.Bp:new n(ft.fromNumber(t),i)},n.Vk=function(t,i){return new n(t,i)},n.Op=function(t){return n.Np(t.Ep,1e6)},n.xp=function(t){return new n(ft.fromNumber(t.getTime()),1e3)},n.bp=function(t,n){return t.Dk(n)?t:n},n.Ap=function(t,n){return t.Ck(n)?t:n},n.Lp=function(t,i,e){return n.bp(i,n.Ap(e,t))};var i=n.prototype;return i.xk=function(){return this.Ai.isNegative()},i.Kk=function(){return 0!==this.yp&&this.Ai.isZero()},i.Xk=function(){return 0===this.yp&&!this.Ai.isZero()},i.Uk=function(){return 0===this.yp&&this.Ai.isZero()},i.Ek=function(){if(0===this.yp)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.yp),n=this.Ai.subtract(t.multiply(this.yp));return t.toNumber()+n.toNumber()/this.yp},i.tp=function(){if(0===this.yp)throw new v("Failed to convert timestamp");return this.Ai},i.Mp=function(){return new Date(0===this.yp?NaN:this.Tp(1e3).Ai.toNumber())},i.Up=function(){return new qy(0===this.yp?this.Ek():this.Ai.toNumber(),this.yp)},i.Tp=function(t,i){void 0===i&&(i=Zy.Xp);var e=this.yp;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t.lp(n),r=e[0],s=e[1];if(s.Kk())return r;if(i===Zy.Xp)return s.xk()?r.Mk(Gy.fp):r;if(i===Zy.Hp)return s.xk()?r:r.Sy(Gy.fp);var u=s.vp(Gy.Wk(2));return u.xk()?u.Lk().Bk(n)?r:r.Mk(Gy.fp):u.Bk(n)?r:r.Sy(Gy.fp)}(Gy.Vk(this.Ai).vp(Gy.Wk(t/r)),Gy.Wk(e/r),i).tp(),t)},i.Rk=function(t){if(this===t)return Ss.Is;if(0===this.yp||0===t.yp)return Wy(this,t);if(this.Kk())return t.Kk()?Ss.Is:t.xk()?Ss.Rs:Ss.Ds;if(t.Kk())return this.xk()?Ss.Ds:Ss.Rs;var n=w.min(this.yp,t.yp),i=this.Tp(n,Zy.Fp).Ai,e=t.Tp(n,Zy.Fp).Ai;return i.compare(e)},i.Lk=function(){return 0===this.yp?jy(this):new n(this.Ai.negate(),this.yp)},i.Sy=function(t){if(0===this.yp||0===t.yp)return Qy(this,t);if(this.Kk())return t;if(t.Kk())return this;var i=w.max(this.yp,t.yp),e=this.Tp(i,Zy.Fp),r=t.Tp(i,Zy.Fp);return new n(e.Ai.add(r.Ai),i)},i.vp=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk()||!isFinite(t)){if(this.Kk()||0===t)return n.Cp;var i=this.xk()?n.Bp:n.Pp;return t<0?i.Lk():i}return this.Kk()?this:new n(0===t?ft.ZERO:this.Ai.multiply(t),this.yp)},i._p=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Lk():this:t<0?this.Lk():this:n.Cp;if(!isFinite(t))return new n(ft.ZERO,this.yp);if(this.Kk())return 0===t?n.Cp:new n(ft.ZERO,this.yp);if(0===t){var i=this.xk()?n.Bp:n.Pp;return 1/t<0?i.Lk():i}return new n(this.Ai.divide(t),this.yp)},i.zp=function(){return[this.Ai.low,this.Ai.high,this.yp]},n}(Vy);function jy(t){return t.Uk()?t:t.xk()?Yy.Pp:Yy.Bp}function Qy(t,n){return t.Uk()||n.Uk()?Yy.Cp:t.Xk()&&n.Xk()?t.xk()===n.xk()?t:Yy.Cp:t.Xk()?t:n}Yy.qk=new Yy(ft.ZERO,1e6),Yy.Cp=new Yy(ft.ZERO,0),Yy.Pp=new Yy(ft.ONE,0),Yy.Bp=new Yy(ft.NEG_ONE,0);var Zy,Ky=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.yp=void 0,e.Ai=BigInt.asIntN(64,n),e.yp=i>>>0,e}S(n,t),n.Np=function(t,i){return void 0===i&&(i=1e6),n.Wk(t*i,i)},n.Wk=function(t,i){return m(t)?n.Cp:t===1/0?n.Pp:t===-1/0?n.Bp:new n(BigInt(w.floor(t)),i)},n.Vk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Op=function(t){return n.Np(t.Ep,1e6)},n.xp=function(t){return n.Wk(t.getTime(),1e3)},n.bp=function(t,n){return t.Dk(n)?t:n},n.Ap=function(t,n){return t.Ck(n)?t:n},n.Lp=function(t,i,e){return n.bp(i,n.Ap(e,t))};var i=n.prototype;return i.xk=function(){return this.Ai<BigInt(0)},i.Kk=function(){return 0!==this.yp&&this.Ai===BigInt(0)},i.Xk=function(){return 0===this.yp&&this.Ai!==BigInt(0)},i.Uk=function(){return 0===this.yp&&this.Ai===BigInt(0)},i.Ek=function(){if(0===this.yp)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.yp),n=this.Ai-t*BigInt(this.yp);return Number(t)+Number(n)/this.yp},i.tp=function(){if(0===this.yp)throw new v("Failed to convert timestamp");return this.Vp()},i.Vp=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return ft.fromBits(Number(t),Number(n))},i.Mp=function(){return new Date(0===this.yp?NaN:Number(this.Tp(1e3).Ai))},i.Up=function(){return new qy(0===this.yp?this.Ek():Number(this.Ai),this.yp)},i.Tp=function(t,i){void 0===i&&(i=Zy.Xp);var e=this.yp;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Zy.Xp)return r<BigInt(0)?e-BigInt(1):e;if(i===Zy.Hp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.Rk=function(t){if(this===t)return Ss.Is;if(0===this.yp||0===t.yp)return Wy(this,t);if(this.Kk())return t.Kk()?Ss.Is:t.xk()?Ss.Rs:Ss.Ds;if(t.Kk())return this.xk()?Ss.Ds:Ss.Rs;var n=w.min(this.yp,t.yp),i=this.Tp(n,Zy.Fp).Ai,e=t.Tp(n,Zy.Fp).Ai;return i>e?Ss.Rs:i<e?Ss.Ds:Ss.Is},i.Lk=function(){return 0===this.yp?Jy(this):new n(-this.Ai,this.yp)},i.Sy=function(t){if(0===this.yp||0===t.yp)return $y(this,t);if(this.Kk())return t;if(t.Kk())return this;var i=w.max(this.yp,t.yp),e=this.Tp(i,Zy.Fp),r=t.Tp(i,Zy.Fp);return new n(e.Ai+r.Ai,i)},i.vp=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk()||!isFinite(t)){if(this.Kk()||0===t)return n.Cp;var i=this.xk()?n.Bp:n.Pp;return t<0?i.Lk():i}return this.Kk()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.yp)},i._p=function(t){if(this.Uk()||m(t))return n.Cp;if(this.Xk())return isFinite(t)?0===t?1/t<0?this.Lk():this:t<0?this.Lk():this:n.Cp;if(!isFinite(t))return new n(BigInt(0),this.yp);if(this.Kk())return 0===t?n.Cp:new n(BigInt(0),this.yp);if(0===t){var i=this.xk()?n.Bp:n.Pp;return 1/t<0?i.Lk():i}return new n(this.Ai/BigInt(t),this.yp)},i.zp=function(){var t=this.Vp();return[t.low,t.high,this.yp]},A(n,null,[{key:"qk",get:function(){return n.Wp||(n.Wp=new n(BigInt(0),1e6)),n.Wp}},{key:"Cp",get:function(){return n.Gp||(n.Gp=new n(BigInt(0),0)),n.Gp}},{key:"Pp",get:function(){return n.qp||(n.qp=new n(BigInt(1),0)),n.qp}},{key:"Bp",get:function(){return n.Yp||(n.Yp=new n(BigInt(-1),0)),n.Yp}}]),n}(Vy);function Jy(t){return t.Uk()?t:t.xk()?Ky.Pp:Ky.Bp}function $y(t,n){return t.Uk()||n.Uk()?Ky.Cp:t.Xk()&&n.Xk()?t.xk()===n.xk()?t:Ky.Cp:t.Xk()?t:n}Ky.Wp=void 0,Ky.Gp=void 0,Ky.qp=void 0,Ky.Yp=void 0,function(t){t[t.Xp=0]="Xp",t[t.Hp=1]="Hp",t[t.Fp=2]="Fp"}(Zy||(Zy={}));var tk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Ky:Yy;function nk(t,n){return t.Rk(n)}var ik=9e4,ek=w.pow(2,33),rk=tk.Wk(ek,ik),sk=rk._p(2);var uk,ok,ak,hk,ck={jp:0,Qp:1/0,Zp:0},fk=6,vk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],lk=[" ","\t","\n","\f","\r"],dk=/^\d*$/,wk=/.*[0-9]+.*/,_k=/^[\d.-]+$/,gk=/(^\.|\.$)/,mk=/(\D\.|\.\D)/;function yk(t,n){void 0===n&&(n=ck);var i={j_:[],Kp:[],Jp:[]},e=kk(t),r=new Vo;if(Ck(e),pk(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?Sk(bk(e,r,!1,!0,i,n),i):r.Bu(1);for(pk(e,function(t){return"\n"===t},r);r.Pu<e.length;){Sk(bk(e,r,!1,!1,i,n),i),pk(e,function(t){return"\n"===t},r)}return i}function kk(t){var n=fs(t,"\0"," "),i=fs(n,"\r\n","\n");return fs(i,"\r","\n")}function pk(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function bk(t,n,e,r,s,u){for(var o,a=0,h=n.Pu,c="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=pk(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),vs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.xu(h);break}v=!0,h=n.Pu,l=new Ly(0,0,"",!1,c);try{Ek(o,s.Kp,l,u),c=""}catch(t){i.gr(t),l=null}}else{if(""===o)break;r&&ls(o,"X-TIMESTAMP-MAP")&&(s.$p=Ak(o)),r||2!==a||e||(ws("STYLE",c.replace(/ /g,""))?(d={fs:gy.My},c=""):ws("REGION",c.replace(/ /g,""))&&(w=new zy("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Pu}if(l)return l.Gy=c,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&vs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":zk(o,n);break;case"WIDTH":Gk(o,n);break;case"LINES":Wk(o,n);break;case"REGIONANCHOR":var a=Fk(o);a&&(n.gk=a[0],n.yk=a[1]);break;case"VIEWPORTANCHOR":var h=Fk(o);h&&(n.bk=h[0],n.Ak=h[1]);break;case"SCROLL":Vk(o,n)}}}}(c,w),w;return null}function Ak(t){var n,i,e=t.split("=")[1].trim().split(","),r=Tk(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Tk(e[0].trim(),"LOCAL")?e[0]:e[1];return{ib:(i=Number(r.split(/:(.*)/)[1].trim())||0,tk.Wk(i,ik)),eb:tk.Np(null!=(n=Dk(s.split(/:(.*)/)[1].trim(),new Vo))?n:0)}}function Tk(t,n){return ls(t,n)}function Sk(t,n){t&&function(t){return t.fs===gy.xy}(t)?n.j_.push(t):t&&function(t){return t.fs===gy.Ly}(t)?n.Kp.push(t):t&&function(t){return t.fs===gy.My}(t)&&n.Jp.push(t)}function Ek(t,n,i,e){var r=new Vo;if(Pk(t,r),i.Vy=Ik(Dk(t,r),e),Pk(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Bu(3),Pk(t,r),i.Wy=Ik(Dk(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&vs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Mk(a,n,i);break;case"VERTICAL":Xk(a,n);break;case"D":Hk(a,n);break;case"LINE":case"L":xk(a,n);break;case"POSITION":case"T":Lk(a,n);break;case"SIZE":case"S":Uk(a,n);break;case"ALIGN":case"A":Ok(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function Ik(t,n){return t+n.jp}function Rk(t){return/^[0-9]$/.test(t)}function Dk(t,n){var i,e,r,s=fs(t,",","."),u=!1;if(n.Pu>=s.length||!Rk(s.charAt(n.Pu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=pk(s,Rk,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var h=pk(s,Rk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(h,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=pk(s,Rk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=_(f,10)}else i=0,e=a,r=c;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var l=pk(s,Rk,n),d=_(l,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Nk(t){return Ck(kk(t))}function Ck(t){if(t.length<fk)return!1;for(var n=0;n<vk.length;n++){if(ls(t,vk[n]))return!0}return!1}function Pk(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Hs(lk,i));)n.Bu(1);var i}function Bk(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Ok(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.qy=i;break;case"middle":n.qy="center"}}function xk(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),wk.test(i)){var s,u;if(ds(i,"%")){var o=Bk(i);if(null===o)return;s=o,u=!1}else{if(!_k.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!mk.test(i)||gk.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.Yy=s,n.Jy=u,e=e.toLowerCase()){case"start":case"center":case"end":n.jy=e;break;case"middle":n.jy="center"}}}function Lk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Bk(i);if(null!==s)switch(n.Qy=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Zy=e;break;case"start":n.Zy="line-left";break;case"middle":n.Zy="center";break;case"end":n.Zy="line-right"}}function Mk(t,n,i){var e=Ls(i,function(n){return n.P_===t});void 0!==e&&(n.Ky=e)}function Uk(t,n){var i=Bk(t);null!==i&&(n.Cu=i)}function Xk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.$y="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.$y="lr";break;default:n.$y=""}}function Hk(t,n){"VERTICAL"===t.toUpperCase()?n.$y="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.$y="lr")}function Fk(t){if(t.indexOf(",")>=0){var n=Bk(t.substring(0,t.indexOf(","))),i=Bk(t.substring(t.indexOf(",")+1,t.length));return[Mt(n||0,0,100),Mt(i||100,0,100)]}return null}function zk(t,n){n.P_=t}function Vk(t,n){"up"===t.toLowerCase()&&(n.pk="up")}function Wk(t,n){dk.test(t)&&(n._k=_(t))}function Gk(t,n){var i=Bk(t);null!==i&&(n.Tk=i)}!function(t){t.sb="moov",t.ub="mvhd",t.ob="trak",t.hb="tkhd",t.cb="mdia",t.fb="mdhd",t.vb="hdlr",t.wb="minf",t._b="stbl",t.gb="stsd",t.mb="stsc",t.yb="mvex",t.kb="trex",t.pb="avc1",t.bb="avcC",t.Ab="hev1",t.Tb="hvc1",t.Sb="hvcC",t.Eb="pasp",t.Ib="mp4a",t.Rb="esds",t.Db="wvtt",t.Nb="vttC",t.Cb="vlab",t.Pb="enca",t.Bb="encv",t.Ob="moof",t.xb="mfhd",t.Lb="traf",t.Mb="tfhd",t.Ub="trun",t.Xb="tfdt",t.Hb="senc",t.Fb="mdat",t.zb="pssh",t.Vb="emsg",t.Wb="sidx",t.Gb="styp",t.qb="ftyp",t.Yb="sinf",t.jb="frma"}(uk||(uk={})),function(t){t.wd="vide",t.dd="soun",t.Qb="subt",t.Zb="hint",t.Kb="meta",t.Jb="auxv"}(ok||(ok={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(ak||(ak={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(hk||(hk={}));var qk=function(){function t(t,n){this.Fi=void 0,this.$b=void 0,this.Fi=t,this.$b=n}var n=t.prototype;return n.tA=function(){return eo(this.Fi,this.$b)},n.nA=function(){return ho(this.Fi,this.$b)},n.iA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Fi,this.$b)},n.eA=function(){return fo(this.Fi,this.$b)},n.rA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Fi,this.$b)},n.sA=function(){return lo(this.Fi,this.$b)},n.uA=function(t){return so(this.Fi,this.$b,t)},n.oA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(fo(t,n));return e}(this.Fi,this.$b,t)},n.aA=function(t){return _o(this.Fi,this.$b,t)},n.hA=function(){return No(this.Fi,this.$b)},n.cA=function(t){this.$b.Bu(t)},n.Lu=function(){return new t(this.Fi,this.$b.Lu())},t}();function Yk(t,n){return t.fs===n}function jk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Yk(e,n))return e}}function Qk(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Yk(r,n)&&i.push(r)}return i}var Zk=function(t){function n(n,i){var e;return(e=t.call(this)||this).fA=n,e.vA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}($t),Kk=function(){function t(){}return t.lA=function(n){var i=n.Fi,e=n.$b,r=t.dA(i,e,!1);if(!r.wA)throw new Zk(e.Pu,r.Pi);return r.Pi},t.dA=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t._A(n,i,e);if(!s.wA)return{wA:!1,Pi:r};r.push(s.gA)}return{wA:!0,Pi:r}},t.mA=function(n,i){var e=t._A(n,i,!1);if(!e.wA)throw new Zk(i.Pu);return e.gA},t.yA=function(n,i){for(var e=n.Fi,r=n.$b;r.Pu<e.byteLength;){var s=t._A(e,r,!1);if(!s.wA)return;if(s.gA.fs===i)return s.gA}},t._A=function(n,i,e){var r=i.Pu,s=t.kA(n,i);if(!s.wA)return s;var u=s.pA,o=u.Cu;if(0===o){if(e)return i.xu(r),{wA:!1,bA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.xu(r),{wA:!1,bA:h}}var c={fs:u.fs,Pu:r,Fi:new qk(xo(n,r,a),new Vo(u.AA))};return i.xu(a),{wA:!0,gA:c}},t.kA=function(t,n){var i=n.Pu;if(!oo(t,n,8))return{wA:!1,bA:n.Pu+8};var e=fo(t,n),r=_o(t,n,4);if(1===e){if(!oo(t,n,8)){var s=n.Pu+8;return n.xu(i),{wA:!1,bA:s}}e=lo(t,n).toNumber()}if("uuid"===r){if(!oo(t,n,16)){var u=n.Pu+16;return n.xu(i),{wA:!1,bA:u}}r=_o(t,n,16)}return{wA:!0,pA:{fs:r,Cu:e,AA:n.Pu-i}}},t.TA=function(t,n,i){var e=t.Fi,r=t.$b,s=Oo(Mo(e),r.Pu,e.byteLength);return i&&(s=Fo(s)),r.Bu(s.byteLength),{fs:n,Fi:s}},t.SA=function(n,i,e){var r=np(n.eA());return{fs:i,EA:r.version,IA:r.flags,Fi:t.TA(n,i,e).Fi}},t}();function Jk(t,n){var i=$k(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function $k(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fs===n)return e.Fi}}function tp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.fs===n&&i.push(r.Fi)}return i}function np(t){return{version:t>>24,flags:new to(16777215&t)}}var ip=function(){function t(){}return t.RA=function(n){for(var i=[],e=Kk.lA(new qk(n,new Vo)),r=0;r<e.length;r++){var s=e[r],u=t.DA(s);u&&i.push(u)}return i},t.NA=function(t){return Kk.dA(t,new Vo,!1).Pi.some(this.CA)},t.PA=function(n){return tp(Kk.lA(new qk(n,new Vo)),uk.zb).map(t.BA)},t.OA=function(n){return tp(Kk.lA(n.Fi),uk.zb).map(t.BA)},t.CA=function(t){return t.fs===uk.qb||t.fs===uk.Gb||t.fs===uk.sb||t.fs===uk.Ob||t.fs===uk.Fb||t.fs===uk.Wb||t.fs===uk.Vb},t.DA=function(n){switch(n.fs){case uk.sb:return t.xA(n.Fi);case uk.Ob:return t.LA(n.Fi,n.Pu);case uk.Fb:return t.MA(n.Fi);case uk.Wb:return t.UA(n.Fi);case uk.Vb:return t.XA(n.Fi)}},t.xA=function(n){var i=Kk.lA(n),e=Jk(i,uk.ub),r=tp(i,uk.ob),s=$k(i,uk.yb),u=t.HA(e),o=r.map(t.FA),a=s?t.zA(s):void 0;return{fs:uk.sb,pA:u,VA:o,WA:a}},t.HA=function(t){var n=np(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA(),o=1===i?t.sA():t.eA(),a=t.eA(),h=t.nA()>>8;t.cA(2),t.cA(8);var c=t.oA(9);t.cA(24);var f=t.eA();return{fs:uk.ub,EA:i,IA:e,GA:r,qA:s,yp:u,Hg:o,YA:a,Qg:h,jA:c,QA:f}},t.FA=function(n){var i=Kk.lA(n),e=Jk(i,uk.hb),r=Jk(i,uk.cb),s=t.ZA(e),u=t.KA(r);return{fs:uk.ob,pA:s,JA:u}},t.ZA=function(t){var n=np(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA();t.cA(4);var o=1===i?t.sA():t.eA();t.cA(8);var a=t.iA(),h=t.iA(),c=t.iA()/w.pow(2,8);t.cA(2);var f=t.oA(9),v=t.eA()/w.pow(2,16),l=t.eA()/w.pow(2,16);return{fs:uk.hb,$A:e.Uu(1),tT:e.Uu(2),nT:e.Uu(4),GA:r,qA:s,iT:u,Hg:o,eT:a,rT:h,Qg:c,jA:f,Tk:v,sT:l}},t.KA=function(n){var i=Kk.lA(n),e=Jk(i,uk.fb),r=Jk(i,uk.vb),s=Jk(i,uk.wb),u=t.uT(e),o=t.oT(r),a=t.aT(s);return{fs:uk.cb,pA:u,hT:o,cT:a}},t.uT=function(t){var n=np(t.eA()),i=n.version,e=n.flags,r=1===i?t.sA():t.eA(),s=1===i?t.sA():t.eA(),u=t.eA(),o=1===i?t.sA():t.eA();return t.nA(),t.cA(2),{fs:uk.fb,EA:i,IA:e,GA:r,qA:s,yp:u,Hg:o}},t.oT=function(t){var n=np(t.eA()),i=n.version,e=n.flags;t.cA(4);var r=t.aA(4);t.cA(12);var s=t.hA();return{fs:uk.vb,EA:i,IA:e,fT:r,wi:s}},t.aT=function(n){var i=Jk(Kk.lA(n),uk._b),e=t.vT(i);return{fs:uk.wb,lT:e}},t.vT=function(n){var i=Jk(Kk.lA(n),uk.gb),e=t.dT(i);return{fs:uk._b,wT:e}},t.dT=function(n){var i=np(n.eA()),e=i.version,r=i.flags;n.eA();for(var s=[],u=Kk.lA(n),o=0;o<u.length;o++){var a=u[o],h=t._T(a.Fi,a.fs);h&&s.push(h)}return{fs:uk.gb,EA:e,IA:r,gT:s}},t._T=function(n,i){var e=t.mT(n,i);return e||((e=t.yT(n,i))||(i===uk.Db?t.kT(n):void 0))},t.mT=function(n,i){return i===uk.Ib?t.pT(n):i===uk.Pb?t.bT(n):void 0},t.yT=function(n,i){return i===uk.pb?t.AT(n):i===uk.Ab||i===uk.Tb?t.TT(n,i):i===uk.Bb?t.ST(n):void 0},t.ET=function(t,n){return t.cA(6),{fs:n,IT:t.nA()}},t.RT=function(n,i){var e=t.ET(n,i);n.cA(8);var r=n.nA(),s=n.nA();return n.cA(2),n.cA(2),Nr({},e,{DT:r,NT:s,CT:n.eA()>>>16})},t.PT=function(n,i){var e=t.ET(n,i);n.cA(2),n.cA(2),n.cA(12);var r=n.nA(),s=n.nA(),u=n.eA(),o=n.eA();n.cA(4);var a=n.nA();n.cA(32);var h=n.nA();return n.cA(2),Nr({},e,{Tk:r,sT:s,BT:u,OT:o,xT:a,LT:h})},t.pT=function(n){var i=t.RT(n,uk.Ib),e=Jk(Kk.lA(n),uk.Rb);return Nr({},i,{MT:t.UT(e)})},t.kT=function(n){var i=t.ET(n,uk.Db),e=Kk.lA(n),r=Jk(e,uk.Nb),s=t.XT(r),u=$k(e,uk.Cb);return Nr({},i,{HT:s,FT:u?t.zT(u):u})},t.XT=function(t){return{fs:uk.Nb,rc:t.hA()}},t.zT=function(t){return{fs:uk.Cb,x_:t.hA()}},t.UT=function(t){return Kk.SA(t,uk.Rb,!0)},t.AT=function(n){var i=t.PT(n,uk.pb),e=Kk.lA(n),r=Jk(e,uk.bb),s=$k(e,uk.Eb);return Nr({},i,{VT:t.WT(r),GT:s?t.qT(s):void 0})},t.TT=function(n,i){var e=t.PT(n,i),r=Jk(Kk.lA(n),uk.Sb);return Nr({},e,{YT:t.jT(r)})},t.ST=function(n){var i=n.Lu(),e=t.PT(n,uk.Bb),r=Jk(Kk.lA(n),uk.Yb),s=t.QT(r);return Nr({},e,{ZT:t.yT(i,s.JT.KT),$T:s})},t.bT=function(n){var i=n.Lu(),e=t.RT(n,uk.Pb),r=Jk(Kk.lA(n),uk.Yb),s=t.QT(r);return Nr({},e,{ZT:t.mT(i,s.JT.KT),$T:s})},t.QT=function(n){var i=Jk(Kk.lA(n),uk.jb),e=t.tS(i);return{fs:uk.Yb,JT:e}},t.tS=function(t){var n=t.aA(4);return{fs:uk.jb,KT:n}},t.WT=function(t){return Kk.TA(t,uk.bb,!0)},t.jT=function(t){return Kk.TA(t,uk.Sb,!0)},t.qT=function(t){var n=t.eA(),i=t.eA();return{fs:uk.Eb,nS:n,iS:i}},t.zA=function(n){var i=tp(Kk.lA(n),uk.kb).map(t.eS);return{fs:uk.yb,VA:i}},t.eS=function(t){var n=np(t.eA()),i=n.version,e=n.flags,r=t.eA(),s=t.eA(),u=t.eA(),o=t.eA(),a=t.eA();return{fs:uk.kb,EA:i,IA:e,iT:r,rS:s,sS:u,uS:o,oS:a}},t.LA=function(n,i){var e=Kk.lA(n),r=Jk(e,uk.xb),s=tp(e,uk.Lb),u=t.aS(r),o=s.map(t.hS);return{fs:uk.Ob,cS:i,pA:u,VA:o}},t.aS=function(t){var n=np(t.eA()),i=n.version,e=n.flags,r=t.eA();return{fs:uk.xb,EA:i,IA:e,fS:r}},t.hS=function(n){var i=Kk.lA(n),e=Jk(i,uk.Mb),r=tp(i,uk.Ub),s=$k(i,uk.Xb),u=t.vS(e),o=r.map(function(n){return t.lS(n,u)}),a=s?t.dS(s):void 0;return{fs:uk.Lb,pA:u,wS:o,_S:a}},t.vS=function(t){var n=np(t.eA()),i=n.version,e=n.flags,r=t.eA(),s=e.Uu(ak.BASE_DATA_OFFSET_PRESENT)?t.sA():void 0,u=e.Uu(ak.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.eA():void 0,o=e.Uu(ak.DEFAULT_SAMPLE_DURATION_PRESENT)?t.eA():void 0,a=e.Uu(ak.DEFAULT_SAMPLE_SIZE_PRESENT)?t.eA():void 0,h=e.Uu(ak.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.eA():void 0;return{fs:uk.Mb,EA:i,IA:e,iT:r,gS:s,mS:u,sS:o,uS:a,oS:h}},t.lS=function(n,i){for(var e=np(n.eA()),r=e.version,s=e.flags,u=n.eA(),o=s.Uu(hk.DATA_OFFSET_PRESENT)?n.rA():void 0,a=s.Uu(hk.FIRST_SAMPLE_FLAGS_PRESENT)?n.eA():void 0,h=[],c=0;c<u;c++){var f=t.yS(n,s,r,i);0===c&&void 0!==a&&(f.IA=a),h.push(f)}return{fs:uk.Ub,EA:r,IA:s,kS:u,cS:o,pS:a,bS:h}},t.yS=function(t,n,i,e){return{Hg:n.Uu(hk.SAMPLE_DURATION_PRESENT)?t.eA():e.sS,Cu:n.Uu(hk.SAMPLE_SIZE_PRESENT)?t.eA():e.uS,IA:n.Uu(hk.SAMPLE_FLAGS_PRESENT)?t.eA():e.oS,AS:n.Uu(hk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.eA():t.rA():void 0}},t.XA=function(t){var n=t.Fi,i=t.$b,e=np(fo(n,i)),r=e.version,s=e.flags;if(1===r){var u=fo(n,i),o=lo(n,i),a=fo(n,i),h=fo(n,i),c=wo(n,i),f=wo(n,i),v=Ho(Mo(n),i.Pu,n.byteLength);return i.Bu(v.byteLength),{fs:uk.Vb,EA:r,IA:s,TS:c,Ai:f,yp:u,SS:o,ES:a,P_:h,IS:v}}var l=wo(n,i),d=wo(n,i),w=fo(n,i),_=fo(n,i),g=fo(n,i),m=fo(n,i),y=Ho(Mo(n),i.Pu,n.byteLength);return i.Bu(y.byteLength),{fs:uk.Vb,IA:s,EA:r,TS:l,Ai:d,yp:w,RS:_,ES:g,P_:m,IS:y}},t.MA=function(t){return Kk.TA(t,uk.Fb,!1)},t.BA=function(n){var i=n.Fi,e=n.$b,r=Fo(Mo(i)).buffer,s=np(fo(i,e)),u=s.version,o=s.flags,a=t.DS(i,e),h=[];if(u>0)for(var c=fo(i,e),f=0;f<c;f++){var v=so(i,e,16);h.push(v)}var l=fo(i,e),d=new y(r,e.Pu,l);return e.Bu(i.byteLength),{fs:uk.zb,EA:u,IA:o,NS:a,CS:h,PS:l,Fi:d,OS:r}},t.DS=function(t,n){for(var i="",e=0;e<4;e++){var r=eo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=eo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=eo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=eo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=eo(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.UA=function(t){var n,i,e=t.Fi,r=t.$b,s=np(fo(e,r)),u=s.version,o=s.flags,a=fo(e,r),h=fo(e,r);0===u?(n=ft.fromBits(fo(e,r),0,!0),i=ft.fromBits(fo(e,r),0,!0)):(n=lo(e,r),i=lo(e,r)),r.Bu(2);for(var c=ho(e,r),f=[],v=0;v<c;v+=1){var l=fo(e,r),d=l>>31&1,w=2147483647&l,_=fo(e,r),g=fo(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({xS:d,LS:w,Hg:_,MS:m,US:y,XS:k})}return{fs:uk.Wb,EA:u,IA:o,HS:a,yp:h,FS:n,zS:i,VS:c,WS:f}},t.dS=function(t){var n,i=t.Fi,e=t.$b,r=np(fo(i,e)),s=r.version,u=r.flags;return n=0===s?ft.fromBits(fo(i,e),0,!0):lo(i,e),{fs:uk.Xb,EA:s,IA:u,_S:n}},t}();function ep(t){return t&&"Ci"in t?t.Ci:t}var rp=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).GS=void 0,a.qS=void 0,a.YS=void 0,a.GS=s,a.qS=u,a.YS=o||void 0,a}return S(n,t),n.prototype.lk=function(n){return this===n||!!vg(this,n)&&(!!t.prototype.lk.call(this,n)&&(!!fg(this.jS,n.jS)&&(!!fg(this.Kp,n.Kp)&&(this.QS&&n.QS?!!this.QS.ai(n.QS)&&(this.Gy&&n.Gy?this.Gy.ai(n.Gy):this.Gy===n.Gy):this.QS===n.QS))))},A(n,[{key:"jS",get:function(){return this.GS}},{key:"Kp",get:function(){return this.qS}},{key:"QS",get:function(){return this.YS}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=hg(Iy(t=this),{get styles(){return t.jS},get regions(){return t.Kp},get metadata(){return ep(t.QS)},get content(){return ep(t.Gy)}})),this.Ww}}]),n}(Oy),sp=function(){function t(t,n,i){this.il=void 0,this.ZS=void 0,this.KS=void 0,this.ZS=t,this.KS=n,Qt(i)?this.il=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.il=i}return A(t,[{key:"JS",get:function(){return this.il.ci(!0)}},{key:"Vy",get:function(){return this.ZS}},{key:"Wy",get:function(){return this.KS}}]),t}();var up="http://www.w3.org/XML/1998/namespace";function op(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function ap(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function hp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function cp(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[hp(i[r].wi,n)]=i[r].Ai;return e}var fp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,vp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,lp="http://www.w3.org/ns/ttml";function dp(t,n,i,e){void 0===i&&(i=ck),void 0===e&&(e=Nc.APPLICATION_TTML_XML);var r=[],s=Lo(t);return e===Nc.APPLICATION_MP4?r=function(t,n,i){var e=jk(ip.RA(t),uk.Fb);if(!e)return[];return gp(Lo(e.Fi),n,i)}(s,n,i):e===Nc.APPLICATION_TTML_XML&&(r=gp(s,n,i)),r}function wp(t,n,i){return void 0===i&&(i=ck),mp(t,n,i)}function _p(t,n){for(var i=function t(n){var i=[];var e;if(Qt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.JS),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function gp(t,n,i){return mp(Bo(t,new Vo),n,i)}function mp(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(lp,"head")[0],a=u&&u.Di(lp,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(lp,"styling")[0],r=e&&e.Di(lp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(up,"id");i[o]=cp(u,n)}return i}(o,h),f=function(t,n){var i=cg(t),e=pp(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=pp(i[u].extent);if(o){var a=yp(o[0],e[0]),h=yp(o[1],e[1]);i[u].extent=a+" "+h}var c=pp(i[u].origin);if(c){var f=yp(c[0],e[0]),v=yp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Di(lp,"layout")[0],r=e&&e.Di(lp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(up,"id");if(o){i[o]=cp(u,n);var a=Tp(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),v=o.Di(lp,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Qt(n)){var c,f;s=null!=(c=Ap(n.Bi("begin"),r))?c:s,u=Ap(n.Bi("dur"),0),o=null!=(f=Ap(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ii,l=0;l<v.length;l++)("body"===n.di||"div"===n.di)&&v[l].Kn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Vy,s.Wy)}e.sort(Ps);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Xs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=bp(d[w],d[w+1],a);if(_.length<=0&&Sp(n)){var g=n.ci(!1);h.push(new sp(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.ci(!1);_.forEach(function(n){return t.Ni(n.JS)}),h.push(new sp(d[w],d[w+1],t))}()}return h}(a,e.jp,e.Qp,e.Zp),w=0;w<l.length;w++){var _=l[w],g=_p(f,_);s.push(new rp(_.Vy,_.Wy,_.JS,!1,c,g,v))}return s}function yp(t,n){var i=kp(t),e=kp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function kp(t){return ds(t,"px")?"px":ds(t,"em")?"em":ds(t,"c")?"c":ds(t,"%")?"%":void 0}function pp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function bp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Vy,u=i[r].Wy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Ap(t,n){if(t){if(fp.test(t)){var i=fp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(vp.test(t)){var o=vp.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Tp(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=cp(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function Sp(t){if(Qt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===qt.$n}function Ep(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Ip,Rp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.g_=function(n){return t.prototype.g_.call(this,n)},i.m_=function(n){var i=t.prototype.m_.call(this,n);return i&&(n.W_=Eg.X_),i},i.qw=function(){return Bg(this)},n}(eg);!function(t){t.Qb="subtitles",t.$S="captions",t.tE="descriptions",t.nE="chapters",t.Kb="metadata",t.iE="thumbnails"}(Ip||(Ip={}));var Dp=[Ip.Qb,Ip.$S,Ip.tE,Ip.nE,Ip.Kb,Ip.iE];function Np(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Hs(Dp,t)}(n)?n:n?Ip.Kb:Ip.Qb}var Cp,Pp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(nf);function Bp(t){return t instanceof lw}function Op(t){return t instanceof ww}function xp(t){return vs(t,Cp.eE)}function Lp(t){return t.some(Mp)}function Mp(t){return vs(t,Cp.rE)||vs(t,Cp.Db)}function Up(t,n){return Cc(t)&&Lp(n)}function Xp(t,n){return!!t&&(Cc(t)?function(t){return t.some(xp)}(n)||Lp(n):vs(t,Nc.APPLICATION_TTML_XML)||vs(t,Nc.TEXT_VTT)||vs(t,Nc.IMAGE_JPEG))}function Hp(t,n){return t===Ip.iE||t===Ip.Kb&&n===Ip.iE}function Fp(t,n,i,e){for(var r=0,s=t.j_.p_;r<s.length;r++){var u=s[r];if(u.Vy>i)break;n<=u.Wy&&e.push(u)}}function zp(t,n){return Cs(t.B_,n.B_)}function Vp(t,i){var e=i,r=0;if(Bp(t)&&t.name===hw.Bd)e=t.Yl.Ql;else if(Op(t)){var s=t.Ud;if(e=s.jl,0===(r=s.zl))return new Pp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Pp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Wp(t,i,e,r){var s=function(t){switch(t){case _y.WEBVTT:return"WebVTT";case _y.SRT:return"SRT";case _y.TTML:return"TTML";default:return""}}(t);return new Pp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Gp(t){return Nk(t)?_y.WEBVTT:Ep(t)?_y.TTML:_y.SRT}function qp(t,n){for(var i=[],e=0,r=t.j_.p_;e<r.length;e++){var s=r[e];if(s.Wy<=n)i.push(s);else if(s.Vy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.sE(o)}}!function(t){t.rE="vtt",t.Db="wvtt",t.eE="stpp"}(Cp||(Cp={}));var Yp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).VA=new Rp,n.uE=function(t){var i=t.Yw;n.oE(i)},n}S(n,t);var i=n.prototype;return i.g_=function(t){t.Zs(Z_.r_,this.uE),this.VA.g_(t),this.oE(t)},i.m_=function(t){t.tu(Z_.r_,this.uE),t.W_=Eg.X_,this.VA.m_(t)},i.aE=function(t){},i.hE=function(t){},i.oE=function(t){t.W_!==Eg.X_?this.aE(t):this.hE(t)},i.cE=function(){for(var t=0,n=this.VA.p_;t<n.length;t++){var i=n[t];i.tu(Z_.r_,this.uE),i.Sd()}},i.fE=function(t){if(t>0)for(var n=0,i=this.VA.p_;n<i.length;n++){qp(i[n],t)}},i.k_=function(){return this.cE(),this.VA.k_(),We.resolve()},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.k_());case 3:this.VA.Sd();case 4:case"end":return t.stop()}},null,this,null,We)},n}(wu),jp=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).errorObject=n,i}return S(n,t),n.prototype.qw=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(j_),Qp=function(t){function n(n,i){var e;return(e=t.call(this)||this).vE=void 0,e.lE=void 0,e.dE=new Js,e.vE=n,e.lE=i,e}S(n,t);var i=n.prototype;return i.wE=function(t){if(t.src){var n=t.kind||Ip.Qb,i=this.vE._E(n,t.id,t.label,t.srclang,t.default);return i.Z_=aw(t.src),this.g_(i),i}},i.gE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Y_=wy.LOADING,i=new rw({Ql:t.Z_,Wl:Af.$n,md:$d.GET,Ws:n}),v.prev=2,v.next=5,Dr.awrap(this.lE.Yl(i));case 5:return s=v.sent,r=s.zl,v.next=9,Dr.awrap(s.El());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),iu(v.t0),t.Y_=wy.ERROR,t.Qs(new jp(Vp(v.t0,t.Z_))),v.abrupt("return");case 18:for(v.prev=18,u=Gp(e),t.fs=u,o=[],u===_y.WEBVTT||u===_y.SRT?(a=yk(e),o=a.j_):u===_y.TTML&&(o=wp(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.mE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),iu(v.t1),t.Y_=wy.ERROR,t.Qs(new jp(Wp(t.fs,t.Z_,r,v.t1))),v.abrupt("return");case 32:t.Y_=wy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],We)},i.aE=function(t){Hs(this.VA.p_,t)&&t.Y_===wy.NONE&&this.gE(t,this.dE.Ws).catch(eu)},i.jh=function(){},i.k_=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.dE.Fs(),this.dE=new Js,n=0,i=this.VA.p_;n<i.length;n++)e=i[n],this.vE.yE(e);return r.next=5,Dr.awrap(t.prototype.k_.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(Yp);function Zp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.O_===n&&e.kE)return e}}function Kp(t,n){Jp(Zp(t.p_,n))}function Jp(t){void 0!==t&&(t.W_=Eg.F_)}function $p(t,n){Jp(Zp(t.p_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.O_===n)return e}}(t.p_,n))}function tb(t){for(var n=0;n<Dp.length;n++){var i=Dp[n];i===Ip.nE?$p(t,i):Kp(t,i)}}var nb,ib=function(t){function n(){return t.call(this,bf.Cf)||this}return S(n,t),n}(gu);!function(t){t[t.pE=0]="pE",t[t.bE=1]="bE"}(nb||(nb={}));var eb=t,rb=eb.MediaSource,sb=eb.WebKitMediaSource,ub=eb.TextTrack,ob=s&&s.createElement("video");s&&s.documentElement.style;var ab=M.qt&&M.xn&&M.Ln<=26;M.dn;var hb=!(!rb&&!sb),cb=!!ub;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.hn,M.Cn&&M.Pn,ob&&ob.canPlayType&&(""!==ob.canPlayType("application/vnd.apple.mpegURL")||M.Qt&&!M.Cn&&M.Zt);ob&&ob.canPlayType&&ob.canPlayType("video/mp4");var fb=hb&&!M.Bn&&!M.Rn&&!M.In&&((rb||sb).isTypeSupported?(rb||sb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ob&&ob.canPlayType&&""!==ob.canPlayType('audio/mp4; codecs="mp4a.40.34"'));hb&&!M.Bn&&(fb||((rb||sb).isTypeSupported?(rb||sb).isTypeSupported("audio/mpeg"):ob&&ob.canPlayType&&ob.canPlayType("audio/mpeg"))),hb&&(!M.Nn||!M.qt)&&(rb||sb).isTypeSupported&&(rb||sb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.Bn||M.Rn||M.In,M.Dn,M.Bn,M.Rn&&M.Yt&&M.jt;try{r&&r.top!==r.self}catch(t){!0}var vb=function(t){function n(n){var i;return(i=t.call(this,hm.Mg)||this).currentTime=n,i}return S(n,t),n}(gu),lb=function(t){function n(n){var i;return(i=t.call(this,hm.Ug)||this).currentTime=n,i}return S(n,t),n}(gu),db=[hm.u_,hm.Ug,bf.If,bf.Ef],wb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).AE=qg.Rg,e.TE=!0,e.SE=!1,e.EE=!1,e.IE=function(t){var n=e.RE.Y_;n!==e.AE&&e.Qs(new Im(t.currentTime,n)),n===qg.Rg&&(e.SE=!1,e.EE=!1),e.DE(n),e.NE(n),e.CE(n),e.maybeDispatchCanPlayThroughEvent(n),e.PE(n),e.BE(n),e.AE=n},e.OE=function(){e.BE(e.AE),e.PE(e.AE),e.TE=e.RE.Wg},e.xE=function(){e.TE=e.RE.Wg},e.LE=function(t){e.Qs(new lb(t.currentTime))},e.RE=n,e.ME=i,e.RE.Zs(hm.u_,e.IE),e.RE.Zs(bf.If,e.OE),e.RE.Zs(bf.Ef,e.xE),e.ME&&e.RE.Zs(hm.Ug,e.LE),e}S(n,t);var i=n.prototype;return i.DE=function(t){!this.EE&&t>=qg.Dg&&(this.EE=!0,this.Qs(new _m(this.RE.Xg,t)))},i.NE=function(t){!this.SE&&t>=qg.Ng&&(this.SE=!0,this.Qs(new pm(this.RE.Xg,t)))},i.PE=function(t){this.ME||(t>=qg.Cg&&this.AE<qg.Cg&&!this.RE.Wg||this.UE&&t>=qg.Cg)&&this.Qs(new lb(this.RE.Xg))},i.BE=function(t){!this.XE(t)||this.RE.Fg||this.RE.mu||this.Qs(new vb(this.RE.Xg))},i.CE=function(t){this.AE<=qg.Ng&&t>=qg.Cg&&this.Qs(new Sm(this.RE.Xg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===qg.Pg&&this.Qs(new Em(this.RE.Xg,t))},i.XE=function(t){var n=!this.RE.Wg&&t<=qg.Ng,i=!this.TE&&this.AE<=qg.Ng;return n&&!i},i.k_=function(){this.AE=qg.Rg,this.TE=!0,this.SE=!1,this.EE=!1},i.Sd=function(){this.$s(),this.ME&&this.RE.tu(hm.Ug,this.LE),this.RE.tu(bf.If,this.OE),this.RE.tu(bf.Ef,this.xE),this.RE.tu(hm.u_,this.IE)},A(n,[{key:"UE",get:function(){return!this.RE.Wg&&this.TE}}]),n}(wu),_b=function(t){function n(n){var i;return(i=t.call(this)||this).RE=n,i.RE.Zs(db,i.js),i}return S(n,t),n.prototype.xs=function(){this.$s(),this.RE.tu(db,this.js)},A(n,[{key:"Xg",get:function(){return this.RE.Xg}},{key:"Fg",get:function(){return this.RE.Fg}},{key:"mu",get:function(){return this.RE.mu}},{key:"Wg",get:function(){return this.RE.Wg}},{key:"Y_",get:function(){return this.RE.Y_}}]),n}(wu),gb="titanium",mb="conax",yb="ezdrm",kb="irdeto",pb="vudrm",bb="verimatrix",Ab="keyos",Tb="drmtoday",Sb="expressplay",Eb="azure",Ib="xstream",Rb="vimond",Db="axinom",Nb="uplynk",Cb="comcast",Pb="custom",Bb=function(){function t(t,n,i,e,r){this.ec=void 0,this.HE=void 0,this.FE=void 0,this.zE=void 0,this.lE=void 0,this.VE=void 0,this.WE=void 0,this.ec=t,this.HE=n,this.FE=i,this.lE=e,this.WE=r,this.zE=this.GE(n)}var e=t.prototype;return e.qE=function(){return this.VE},e.YE=function(t){this.VE=t},e.jE=function(){return this.zE.licenseAcquisitionURL||this.qE()},e.QE=function(t){return We.resolve()},e.ZE=function(t,n){return We.resolve(void 0)},e.KE=function(t,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.JE(t,i,e,r)).Ql){o.next=3;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Dr.awrap(this.Xw.Yl(s));case 6:return u=o.sent,o.next=9,Dr.awrap(u.Il(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),iu(o.t0),o.next=17,Dr.awrap(this.$E(o.t0,s.Ql,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.JE=function(t,n,i,e){var r=this.tI().jf(),s=this.bd,u={Ql:this.nI(),Wl:n,Vl:r,Cl:t,bd:s,md:$d.POST,yd:0,Ws:e,fs:tw.td,kd:i};return new rw(u)},e.iI=function(t,n){return We.resolve(t)},e.eI=function(t,n,i,e){return We.resolve(t)},e.tI=function(){return new Tf(this.zE.headers||{})},e.$E=function(t,i,e){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.nI=function(t,n){var e=n,r=this.zE.queryParameters;if(!e){var s=this.jE();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&ow(u,t),r&&ow(u,r),e=u.href}return e},e.rI=function(t,n){return Ob(t)},e.sI=function(t){return new y(t)},e.uI=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.rI(t,i));case 2:return e=u.sent,u.next=5,Dr.awrap(this.KE(e,this.WE,n,i));case 5:return r=u.sent,s=this.sI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.Sd=function(){},A(t,[{key:"Xw",get:function(){return this.lE}},{key:"oI",get:function(){return!1}},{key:"aI",get:function(){var t=this.zE.certificate;if(t)return q(t)?Pu(t):Xo(t)}},{key:"hI",get:function(){return!1}},{key:"bd",get:function(){return Boolean(this.zE.useCredentials)}}]),t}();function Ob(t){return We.resolve(Fo(t).buffer)}var xb,Lb,Mb=function(t){function n(n,i,e,r){return t.call(this,ss,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.GE=function(t){return t.widevine||{}},i.cI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.aI){i.next=2;break}return i.abrupt("return",this.aI);case 2:return i.abrupt("return",this.fI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.fI=function(n,i){return t.prototype.uI.call(this,n,nw.od,i)},n}(Bb);function Ub(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Xb(t){return H(t.token&&t.deviceId)}function Hb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function Fb(t){var n=t;return Xb(n)&&""!==n.token&&""!==n.deviceId&&!Hb(n)}(Lb=xb||(xb={})).vI=!1,Lb.lI=!1,Lb.dI=!1,Lb.wI=!1,Lb.LOG_ADS_DETAILS=!1,Lb.LOG_CHROMECAST_DETAILS=!1,Lb.LOG_CUSTOM_DRM=!1,Lb.LOG_BUFFERING_VIDEO_MAIN=!1,Lb.LOG_BUFFERING_VIDEO_SELECTION=!1,Lb.LOG_BUFFERING_AUDIO_MAIN=!1,Lb.LOG_BUFFERING_AUDIO_SELECTION=!1,Lb._I=!1,Lb.gI=!1,Lb.LOG_LCEVC_DETAILS=!1;var zb,Vb=function(){function t(t,n,i){this.mI=t,this.Vh=n,this.yI=i}return t.prototype.kI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.yI.build(t))},A(t,[{key:"pI",get:function(){return this.mI}},{key:"ec",get:function(){return this.Vh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(zb||(zb={}));var Wb=function(){function t(){this.bI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.AI(t,e,r)){case zb.FAILED:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case zb.OVERRIDDEN:var s=hA(e);i.gr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case zb.SUCCEEDED:hA(e);0}},e.AI=function(t,n,i){var e=hA(n);if(!e)return zb.FAILED;for(var r=zb.SUCCEEDED,s=0,u=this.bI.slice();s<u.length;s++){var o=u[s];o.pI===t&&o.ec===e&&(r=zb.OVERRIDDEN,Us(this.bI,o))}return this.bI.push(new Vb(t,e,i)),r},e.TI=function(t,n){return void 0!==this.SI(t,n)},e.EI=function(t,n,i){var e=this.SI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.kI(i)},e.SI=function(t,n){for(var i=0,e=this.bI;i<e.length;i++){var r=e[i];if(r.pI===t&&(!n||r.ec===n))return r}},t}();Wb.II=new Wb;var Gb=["customdata"],qb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Yb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function jb(t){return t&&void 0!==t.licenseAcquisitionURL}var Qb,Zb=jb,Kb=jb;function Jb(t){if(!t)return!0;if(iA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return Yb(n)&&Yb(i)&&Yb(e)&&Yb(r)&&Yb(s)}function $b(t){var n=Fb(t),i=function(t){var n,i=t;return Hb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Xb(i)}(t);return(!n||!i)&&(n||i)}function tA(t){return t.integration===kb}function nA(t){var n=t;if(!n)return!1;if(Jb(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(iA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Zb(e))return!1;if(r&&!Kb(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Wb.II.TI(n.integration))return!0;switch(n.integration){case gb:if(!function(t){return t.integration===gb&&(eA(t)||rA(t))}(t))return!1;break;case pb:if(!sA(t))return!1;break;case bb:if(!function(t){return t.integration===bb}(t))return!1;break;case kb:if(!tA(t))return!1;break;case mb:if(!$b(t))return!1;break;case yb:if(!function(t){return t.integration===yb}(t))return!1;break;case Ab:if(!iA(t))return!1;break;case Tb:if(!function(t){var n=t;return n.integration===Tb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Sb:if(!function(t){return t.integration===Sb}(t))return!1;break;case Ib:if(!uA(t))return!1;break;case Rb:if(!function(t){return t.integration===Rb}(t))return!1;break;case Db:if(!oA(t))return!1;break;case Eb:if(!function(t){var n=t;return n.integration===Eb&&void 0!==n.token}(t))return!1;break;case Nb:if(!function(t){return t.integration===Nb}(t))return!1;break;case Cb:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case Pb:return!0;default:return!1}}return!0}function iA(t){return t.integration===Ab}function eA(t){return void 0!==t.authToken}function rA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function sA(t){var n=t;return n.integration===pb&&void 0!==n.token}function uA(t){var n=t;return n&&n.integration===Ib&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function oA(t){var n=t;return n.integration===Db&&void 0!==n.token}function aA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:qb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Nr({},Ub(c,Gb),{licenseAcquisitionURL:u,headers:h})}function hA(t){switch(t.toLowerCase()){case"widevine":case Kr:return Kr;case"playready":case jr:return jr;case"fairplay":case ns:return ns}}function cA(t,i){switch(t){case Wr:return function(t){for(var n={},i=ip.PA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.NS]=r.OS}return n}(i);case Gr:case qr:return function(t){var n;return(n={})[ts]=t,n}(i);default:throw new nf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.$r="Widevine",t.Jr="PlayreadyV2",t.RI="PlayreadyV2",t.DI="PlayreadyV3",t.us="Fairplay"}(Qb||(Qb={}));var fA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function vA(t,n){var e,r,s,u,o=fA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Lr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Vr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function lA(t,i){if(!t.accountName)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function dA(t,n,i){var e;if(eA(t))e={AuthToken:t.authToken,Payload:n};else{if(!rA(t))throw lA(t,i);e={LatensRegistration:vA(t,i),Payload:n}}return Vu(JSON.stringify(e))}function wA(t,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.Ud){a.next=3;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Dr.awrap(s.Sl(e));case 7:u=a.sent,o=_A(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Yl.Ql,s.zl,s.Gl,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function _A(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var gA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Af.qf)||this).NI=void 0,r}S(e,t),e.CI=function(){return i.Lr.qe?"required":"optional"};var r=e.prototype;return r.$E=function(t,n,i){return wA(t,n,i)},r.QE=function(t){return this.NI?ru(this.NI.Hu,t):(this.NI=new Go,We.resolve())},r.rI=function(t,i){var e,r;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.HE){i.next=3;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Ou(t),i.abrupt("return",dA(e,r,Qb.$r));case 5:case"end":return i.stop()}},null,this,null,We)},r.sI=function(t){if(!t.license)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Pu(t.license)},r.BI=function(t){return We.resolve(new y(t))},r.cI=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.OI(),r.next=3,Dr.awrap(this.rI(t,n));case 3:return i=r.sent,r.next=6,Dr.awrap(this.KE(i,Af.Gf,nw.hd,n));case 6:return e=r.sent,r.next=9,Dr.awrap(this.BI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.fI=function(n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.fI.call(this,n,i));case 2:return e=r.sent,this.OI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.OI=function(){this.NI||(this.NI=new Go),this.NI.Wu()},r.Sd=function(){this.NI&&this.NI.Fs(),t.prototype.Sd.call(this)},e}(Mb),mA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.rI=function(t,i){var e,r,s,u;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(Ob(t));case 2:if(e=i.sent,r=this.FE,s=zo(new y(e)),u=this.xI){i.next=8;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},A(i,[{key:"xI",get:function(){if(sA(this.HE))return this.HE.token}}]),i}(Mb);function yA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var kA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.nI=function(n,i){var e=n;return tA(this.HE)&&(e=yA(this.HE,e)),t.prototype.nI.call(this,e,i)},n}(Mb),pA="Conax-Custom-Data";function bA(t,n,i){var e=t&&$b(t)&&t;if(e&&!i.has(pA)){var r=Fb(e)?e.token:void 0,s=Fb(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(pA,u)}return i}var AA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this);return bA(this.HE,"Widevine",n)},n}(Mb);function TA(t){var n=So(new y(t));return Pu(JSON.parse(n).license)}function SA(t){return"string"==typeof t.token?t.token:Vu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function EA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var IA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Af.Gf)||this).YE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.sI=function(t){return TA(t)},i.tI=function(){return EA(t.prototype.tI.call(this),this.xI,this.HE)},A(n,[{key:"xI",get:function(){return SA(this.HE)}}]),n}(Mb),RA=function(t){function n(n,i,e){return t.call(this,n,i,e,Af.Gf)||this}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(Mb);function DA(t,i,e,r){var s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(uA(t)){v.next=2;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Tf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={Ql:t.ticketAcquisitionURL,Wl:Af.qf,Vl:s,md:$d.POST,Cl:JSON.stringify(h),Ws:r},v.next=13,Dr.awrap(e.Yl(c));case 13:return f=v.sent,v.next=16,Dr.awrap(f.Sl());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,We)}var NA=function(t){function n(n,i,e){return t.call(this,n,i,e,Af.qf)||this}S(n,t);var i=n.prototype;return i.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type","application/json"),n},i.rI=function(n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=zu(n.buffer),r=this.HE,o.next=4,Dr.awrap(DA(r,"widevine_modular",this.Xw,i));case 4:return s=o.sent,this.YE(s.licenseServerUrl),u=Eo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.rI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.sI=function(t){return Pu(t.license)},n}(Mb),CA=function(t){function i(n,i,e){return t.call(this,n,i,e,Af.Gf)||this}return S(i,t),i.prototype.tI=function(){if(!oA(this.HE))throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(Mb);function PA(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var BA=function(t){function n(n,i,e){var r;return(r=t.call(this,rs,n,i,e,Af.Gf)||this).LI=void 0,r}S(n,t);var e=n.prototype;return e.GE=function(t){return t.playready||{}},e.tI=function(){var n=new Tf(this.LI);return n.Zf(t.prototype.tI.call(this)),n},e.MI=function(t){return t.length>=1&&t[0].Ii.length>0},e.ZE=function(n){var i=this.HE.playready.customData;if(i){var e=PA(i),r=PA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ou(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{Cc:r}})}return t.prototype.ZE.call(this,n)},e.rI=function(t,n){var i;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(Ob(t));case 2:return i=n.sent,n.abrupt("return",this.UI(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.UI=function(t){var n,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g;return Dr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=bo(o,new Vo,!0),m.prev=3,h=i.ui(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.MI(f)&&(u=Fu(f[0].Hi)),v=new Tf,l=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ei("name")[0].Hi,g=w.Ei("value")[0].Hi,v.append(_,g);return this.LI=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],We)},e.cI=function(t,n){return We.resolve(t)},e.fI=function(n,i){return t.prototype.uI.call(this,n,nw.fd,i)},n}(Bb),OA=function(){function t(n){this.wh=void 0,this.XI=n,this.wh=t.HI(n)}return t.HI=function(t){return"3"===t.version?Qb.DI:Qb.RI},t.prototype.FI=function(){var t={};if(this.wh===Qb.DI){var n={LatensRegistration:vA(this.XI,Qb.DI)};t["X-TITANIUM-DRM-CDATA"]=Vu(JSON.stringify(n))}return t},A(t,[{key:"zI",get:function(){return this.wh}},{key:"gc",get:function(){return this.wh===Qb.RI}}]),t}();var xA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).VI=void 0,r.VI=new OA(r.HE),r}S(e,t);var r=e.prototype;return r.ZE=function(t){var i=this.HE;if(!this.HE)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(rA(i)){var e={};return e.playready={Cc:LA(i,this.VI.zI)},We.resolve(e)}return We.reject(lA(i,Qb.Jr))},r.tI=function(){var n=new Tf(this.VI.FI());return n.Zf(t.prototype.tI.call(this)),n},r.$E=function(t,e,r){var s,u,o,a,h,c,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.Ud){l.next=3;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Dr.awrap(s.Rl(r));case 6:a=l.sent,h=So(new y(a)),(c=i.ui(h))&&(f=ap(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Hi),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.zl,s.Gl,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],We)},r.MI=function(t){if(1!==t.length)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(BA);function LA(t,n){var i=vA(t,n),e=i.DeviceInfo.FormatVersion,r=Vu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Ro(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ro('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ou(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var MA,UA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.MI=function(t){if(1!==t.length)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.nI=function(n,i){var e=Nr({},n||{},{token:this.xI});return t.prototype.nI.call(this,e,i)},A(i,[{key:"xI",get:function(){if(sA(this.HE))return this.HE.token}}]),i}(BA),XA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.nI=function(n,i){var e=n;return tA(this.HE)&&(e=yA(this.HE,e)),t.prototype.nI.call(this,e,i)},n}(BA),HA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this);return bA(this.HE,"PlayReady",n)},n}(BA),FA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.sI=function(n){return(ls(So(new y(n)),"<?xml")?MA.WI:MA.Sl)===MA.Sl?TA(n):t.prototype.sI.call(this,new y(n))},i.tI=function(){return EA(t.prototype.tI.call(this),this.xI,this.HE)},A(n,[{key:"xI",get:function(){return SA(this.HE)}}]),n}(BA);!function(t){t[t.WI=0]="WI",t[t.Sl=1]="Sl"}(MA||(MA={}));var zA,VA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GI=void 0,r}S(n,t);var i=n.prototype;return i.tI=function(){var n=t.prototype.tI.call(this);return this.GI&&n.set("Ticket",this.GI),n.set("Content-Type","text/xml"),n},i.rI=function(n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.HE,s.next=3,Dr.awrap(DA(e,"playready",this.Xw,i));case 3:return r=s.sent,this.YE(r.licenseServerUrl),this.GI=r.ticket,s.abrupt("return",t.prototype.rI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(BA),WA=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.tI=function(){if(!oA(this.HE))throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},i}(BA);!function(t){t.qf="application/json",t.qI="application/x-www-form-urlencoded",t.YI="application/octet-stream",t.$n="text/plain;charset=UTF-8"}(zA||(zA={}));var GA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ec,i,e,r,s)||this).jI="",u.QI=void 0,u.ZI=void 0,u.ZI=n.KI,u}S(n,t);var i=n.prototype;return i.JI=function(){return this.zE.certificateURL||this.QI},i.$I=function(t){this.QI=t},i.rI=function(t){return We.resolve(this.tR(t,this.jI))},i.tR=function(t,n){return"spc="+encodeURIComponent(Ou(t))+"&assetId="+encodeURIComponent(n)},i.GE=function(t){return t.fairplay||{}},i.nR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("/");return We.resolve(i[i.length-1])},i.ZE=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.ZI)?n:Co(new y(t)),s.next=3,Dr.awrap(this.nR(i));case 3:return e=s.sent,this.jI=e,(r={}).fairplay={Uc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type",this.iR),n},i.cI=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aI){t.next=2;break}return t.abrupt("return",this.aI);case 2:return t.next=4,Dr.awrap(this.eR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.fI=function(n,i){return t.prototype.uI.call(this,n,nw.rd,i)},i.rR=function(t){var n=this.JI(),i=this.tI(),e={Ql:n,Wl:Af.Gf,Vl:i,md:$d.GET,bd:!1,Cl:null,yd:0,Ws:t,fs:tw.td,kd:nw.ud};return new rw(e)},i.eR=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.rR(t),r.next=3,Dr.awrap(this.Xw.Yl(n));case 3:return i=r.sent,r.next=6,Dr.awrap(i.Rl());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.sI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Pu(i)}else n=new y(t);return n},i.nI=function(n,i){var e=t.prototype.nI.call(this,n,i);return ls(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"hI",get:function(){return!0}},{key:"iR",get:function(){return zA.qI}}]),n}(Bb),qA=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(n,t);var i=n.prototype;return i.nR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.sI=function(t){return new y(t)},i.nI=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.nI.call(this,e,i)},A(n,[{key:"iR",get:function(){return zA.YI}}]),n}(GA),YA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).YE("https://fairplay-license.drm.technology/license"),s.$I("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.tR=function(t,n){var i={token:this.xI,contentId:n,payload:Ou(t)};return JSON.stringify(i)},e.sI=function(t){return new y(t)},e.tI=function(){var n=t.prototype.tI.call(this);return n.set("x-vudrm-token",this.xI),n},A(i,[{key:"iR",get:function(){return zA.qf}},{key:"xI",get:function(){if(!sA(this.HE))throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.HE.token}}]),i}(GA),jA="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",QA="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",ZA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}return S(i,t),i.prototype.sI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,jA)}if(!i)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,QA);return i}(So(new DataView(i)));return t.prototype.sI.call(this,e)},i}(GA);var KA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.qf)||this}S(i,t);var e=i.prototype;return e.rI=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.HE){r.next=3;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Ou(t),r.abrupt("return",dA(i,e,Qb.us));case 5:case"end":return r.stop()}},null,this,null,We)},e.sI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Fu(i.license);return new y(r)}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.$E=function(t,n,i){return wA(t,n,i)},A(i,[{key:"iR",get:function(){return zA.qf}}]),i}(GA),JA=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).YE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.$I("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.JI=function(){var n=t.prototype.JI.call(this);if(!n)return n;var e=i.Br(n),r=this.HE;return tA(r)&&ow(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.nR=function(n){return tA(this.HE)?We.resolve(this.HE.contentId):t.prototype.nR.call(this,n)},e.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.sI=function(t){return new y(t)},e.nI=function(n,i){var e=n;return tA(this.HE)&&(e=function(t,n){return Nr({},yA(t,n),{KeyId:t.keyId})}(this.HE,e)),t.prototype.nI.call(this,e,i)},A(n,[{key:"iR",get:function(){return zA.YI}}]),n}(GA),$A=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Af.$n)||this,!$b(e))throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.YE("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.tI=function(){var n=t.prototype.tI.call(this);return bA(this.HE,"FairPlay",n)},e.eR=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.JI(),i={Ql:n,Wl:Af.Gf,Vl:{},md:$d.GET,bd:!1,Cl:null,yd:0,Ws:t,fs:tw.td,kd:nw.ud},s.next=4,Dr.awrap(this.Xw.Yl(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Rl());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.nR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(So(Pu(n)))):We.resolve("unknown")},e.sI=function(t){try{var n=JSON.parse(t);return new y(Fu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(GA),tT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.$n)||this).YE(qb[zr.us]),s}S(i,t);var e=i.prototype;return e.nR=function(t){return ls(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new Zm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.tR=function(t,n){return"spc="+Ou(t)+"&assetId="+n},i}(GA),nT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.$n)||this).YE("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.tR=function(t,n){var i="spc="+encodeURIComponent(Ou(t))+"&"+encodeURI(n);return"persistent"===this.zE.licenseType?i+"&offline=true":i},i.tI=function(){return EA(t.prototype.tI.call(this),this.xI,this.HE)},A(n,[{key:"xI",get:function(){return SA(this.HE)}}]),n}(GA),iT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(n,t);var e=n.prototype;return e.nR=function(t){var n=t;return ls(n,"skd:")&&(n="http:"+n.substring(4)),ls(n,"http:")||ls(n,"https:")?We.resolve(i.Br(n).hostname):We.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.rI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.sI=function(t){return new y(t)},A(n,[{key:"iR",get:function(){return zA.YI}}]),n}(GA),eT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Af.$n)||this}return S(n,t),n.prototype.tI=function(){var n=t.prototype.tI.call(this),i=this.HE.token;return n.set("Authorization","Bearer "+i),n},n}(GA),rT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Af.qf)||this,!uA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.eR=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.JI(),i=this.tI(),e={Ql:n,Wl:Af.qf,Vl:i,md:$d.POST,Ws:t,fs:tw.td,kd:nw.ud},u.next=5,Dr.awrap(this.Xw.Yl(e));case 5:return r=u.sent,u.next=8,Dr.awrap(r.Sl());case 8:return s=u.sent,u.abrupt("return",new y(Pu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.fI=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Ou(t),r=this.HE,i.next=5,Dr.awrap(DA(r,"fairplay",this.Xw,n));case 5:return s=i.sent,u=Eo(JSON.stringify({spc:e,ticket:s.ticket})),o={Ql:this.jE(),Wl:Af.qf,Vl:this.tI(),md:$d.POST,Cl:u,yd:0,Ws:n,fs:tw.td,kd:nw.rd},i.next=10,Dr.awrap(this.Xw.Yl(o));case 10:return a=i.sent,i.next=13,Dr.awrap(a.Sl());case 13:return h=i.sent,i.abrupt("return",Pu(h.licence));case 15:case"end":return i.stop()}},null,this,null,We)},A(n,[{key:"iR",get:function(){return zA.qf}}]),n}(GA),sT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.$n)||this}S(i,t);var e=i.prototype;return e.tR=function(t,n){return Ou(t)},e.sI=function(i){if(0===i.length)throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.sI.call(this,i)},e.tI=function(){var n=t.prototype.tI.call(this);return n.set("Content-Type","text/plain"),n},i}(GA),uT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Af.Gf)||this}S(i,t);var e=i.prototype;return e.tR=function(t,n){return t},e.sI=function(t){return new y(t)},e.tI=function(){if(!oA(this.HE))throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.tI.call(this);return i.set("X-AxDRM-Message",this.HE.token),i},A(i,[{key:"iR",get:function(){return zA.qf}}]),i}(GA),oT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.qf)||this).sR=void 0,s}S(e,t);var r=e.prototype;return r.tR=function(t,n){var i={spc:Ou(t)};return JSON.stringify(i)},r.nR=function(t){var e=i.Br(t);return this.sR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new Zm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.nI=function(n,i){var e=this.jE();return!e&&this.sR&&(e=this.sR),e&&(e=e.replace("skd://","https://")),t.prototype.nI.call(this,n,i||e)},r.sI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Pu(i.ckc)}catch(t){throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"iR",get:function(){return zA.$n}}]),e}(GA),aT=function(){function t(t,n){this.uR=t,this.oR=n}var n=t.prototype;return n.aR=function(t){return this.uR(t)},n.hR=function(t,n){throw new l(n+" must be "+this.oR+". (Received: "+t+")")},t}();new aT(function(t){return!0},"any");var hT=new aT(Z,"a number"),cT=new aT(q,"a string"),fT=new aT(Y,"a boolean");new aT(Q,"a date"),new aT(F,"undefined"),new aT(W,"an object"),new aT(function(t){return null===t},"null"),new aT(function(t){return null==t},"null or undefined");var vT,lT=(vT={responseCode:hT,isException:fT,description:cT,title:cT,correlationId:cT},{aR:function(t){if(!W(t))return!1;for(var n=0,i=d.keys(vT);n<i.length;n++){var e=i[n];if(!vT[e].aR(t[e]))return!1}return!0},hR:function(t,n){if(!W(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(vT);i<e.length;i++){var r=e[i],s=vT[r];if(!s.aR(t[r]))return s.hR(t[r],n+"."+String(r))}throw new l}});function dT(t,n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=wT(t,n,i,r),u.next=3,Dr.awrap(_T(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function wT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return ow(e,n),e.toString()}(e,s)),o=new Tf({});o.append("Content-Type","application/json");var a=Ou(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{Ql:u,Wl:Af.$n,Vl:o,md:$d.POST,Cl:JSON.stringify(h),Ws:r,fs:tw.td,kd:nw.rd}}function _T(t,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(i.Yl(t));case 2:return e=s.sent,s.next=5,Dr.awrap(e.Sl());case 5:if(r=s.sent,!lT.aR(r)){s.next=8;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Ql,r.responseCode);case 8:return s.abrupt("return",Pu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var gT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Af.Gf)||this).cR=void 0,s.cR=i,s}S(n,t);var i=n.prototype;return i.nR=function(n){var i=n.replace("FairPlay",this.cR.releasePid);return t.prototype.nR.call(this,i)},i.fI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(dT(t,this.cR,this.jE(),this.Xw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(GA),mT=function(t){function i(n,i,e){return t.call(this,as,n,i,e,Af.Gf)||this}S(i,t);var e=i.prototype;return e.GE=function(t){return t.clearkey||{}},e.KE=function(i,e,r,s){var u,o;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.zE,!this.jE()){e.next=5;break}return e.abrupt("return",t.prototype.KE.call(this,i,this.WE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Eo(JSON.stringify(o)).buffer);case 10:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e.cI=function(t,n){return We.resolve(new y(0))},e.fI=function(n,i){return t.prototype.uI.call(this,n,nw.vd,i)},i}(Bb),yT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Mb),kT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function pT(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=NT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,Dr.awrap(ru(We.resolve(r.call(t,e)),i));case 8:if(!Uo(s=u.sent)){u.next=11;break}return u.abrupt("return",Xo(s));case 11:return u.abrupt("return",DT(Nr({},kT,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function bT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=RT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(ru(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Xo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function AT(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(ST(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",DT(r));case 6:case"end":return s.stop()}},null,null,null,We)}function TT(t,n,i,e,r,s){var u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=IT(i,r),a.next=3,Dr.awrap(ET(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Xo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function ST(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=IT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,Dr.awrap(ru(We.resolve(r.call(t,s)),e));case 8:if(!Uo(u=o.sent)){o.next=11;break}return o.abrupt("return",Xo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},kT,u));case 12:case"end":return o.stop()}},null,null,null,We)}function ET(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=RT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(ru(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Xo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function IT(t,n){return Nr({},NT(t),{fairplaySkdUrl:n})}function RT(t,n,i){return{url:i.jl,status:i.zl,statusText:i.Gl,headers:i.Vl.jf(),body:t,request:n}}function DT(t){return new rw({Ql:t.url,md:t.method,Vl:t.headers,Cl:t.body,bd:t.useCredentials})}function NT(t){var n;return{url:t.Ql,body:null!=(n=CT(t.Cl))?n:null,headers:t.Vl.jf(),method:t.md,useCredentials:t.bd}}function CT(t){if(t)return"string"==typeof t?Po(t):t instanceof ArrayBuffer?new y(t):Lu(t)?Mo(t):void 0}var PT,BT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).fR=void 0,s.fR=r,s}S(i,t);var e=i.prototype;return e.cI=function(t,n){return We.resolve(t)},e.fI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.UI(Fo(t).buffer));case 2:return e=a.sent,r=this.JE(e,Af.Gf,nw.fd,i),a.next=6,Dr.awrap(AT(this.fR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.Ql){a.next=12;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Dr.awrap(this.Xw.Yl(s));case 15:return u=a.sent,a.next=18,Dr.awrap(u.Rl(i));case 18:return o=a.sent,a.t0=y,a.next=22,Dr.awrap(TT(this.fR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),iu(a.t2),new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(BA),OT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Af.Gf)||this).fR=void 0,s.fR=r,s}S(i,t);var e=i.prototype;return e.cI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.aI){a.next=2;break}return a.abrupt("return",this.aI);case 2:return e=this.JE(t,Af.Gf,nw.hd,i),a.next=5,Dr.awrap(pT(this.fR,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.Ql){a.next=11;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Dr.awrap(this.Xw.Yl(r));case 14:return s=a.sent,a.next=17,Dr.awrap(s.Rl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),iu(a.t0),new Zm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=IT(e,void 0),a.next=27,Dr.awrap(bT(this.fR,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.fI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,Af.Gf,nw.od,i),o.next=3,Dr.awrap(AT(this.fR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Ql){o.next=9;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.Xw.Yl(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Rl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),iu(o.t0),new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Dr.awrap(TT(this.fR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(yT),xT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Af.Gf)||this).fR=void 0,u.vR=void 0,u.fR=s,u}S(i,t);var e=i.prototype;return e.cI=function(t,i){var e,r,s,u,o;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aI){t.next=2;break}return t.abrupt("return",this.aI);case 2:return e=this.rR(i),t.next=5,Dr.awrap(pT(this.fR,e,i));case 5:if(r=t.sent,!Lu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Dr.awrap(this.Xw.Yl(r));case 11:return s=t.sent,t.next=14,Dr.awrap(s.Rl());case 14:return u=t.sent,o=IT(e,void 0),t.next=18,Dr.awrap(bT(this.fR,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),iu(t.t0),new Zm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.fI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.JE(t,Af.Gf,nw.rd,i),o.next=3,Dr.awrap(AT(this.fR,e,this.vR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Ql){o.next=9;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.Xw.Yl(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.Rl(i));case 15:return u=o.sent,o.t0=y,o.next=19,Dr.awrap(TT(this.fR,u,e,s,this.vR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),iu(o.t2),new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.nR=function(n){var i;return this.vR=n,null!=(i=this.fR)&&i.extractFairplayContentId?We.resolve(this.fR.extractFairplayContentId(n)):t.prototype.nR.call(this,n)},i}(GA),LT=function(){function t(){}var n=t.prototype;return n.lR=function(t,n,i,e){switch(t.ec.fs){case zr.$r:return this.dR(n,i,e);case zr.Jr:return this.wR(n,i,e);case zr.us:return this._R(t,n,i,e);case zr.rs:default:return this.gR(n,i,e)}},n.dR=function(t,n,i){var e,r=(e=t).integration===Pb&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Wb.II.TI(r,Kr)){var s=Wb.II.EI(r,Kr,t);return new OT(t,n,i,s)}switch(r){case gb:return new gA(t,n,i);case pb:return new mA(t,n,i);case kb:return new kA(t,n,i);case mb:return new AA(t,n,i);case Tb:return new IA(t,n,i);case Eb:return new RA(t,n,i);case Ib:return new NA(t,n,i);case Db:return new CA(t,n,i);case Ab:default:return new yT(t,n,i,Af.Gf)}},n.wR=function(t,n,i){var e=t.integration;if(e&&Wb.II.TI(e,jr)){var r=Wb.II.EI(e,jr,t);return new BT(t,n,i,r)}switch(e){case gb:return new xA(t,n,i);case pb:return new UA(t,n,i);case kb:return new XA(t,n,i);case mb:return new HA(t,n,i);case Tb:return new FA(t,n,i);case Ib:return new VA(t,n,i);case Db:return new WA(t,n,i);case Ab:default:return new BA(t,n,i)}},n._R=function(t,n,i,e){var r=n.integration;if(r&&Wb.II.TI(r,ns)){var s=Wb.II.EI(r,ns,n);return new xT(t,n,i,e,s)}switch(r){case yb:return new qA(t,n,i,e);case pb:return new YA(t,n,i,e);case bb:return new ZA(t,n,i,e);case gb:return new KA(t,n,i,e);case kb:return new JA(t,n,i,e);case mb:return new $A(t,n,i,e);case Ab:return new tT(t,n,i,e);case Tb:return new nT(t,n,i,e);case Sb:return new iT(t,n,i,e);case Eb:return new eT(t,n,i,e);case Ib:return new rT(t,n,i,e);case Rb:return new sT(t,n,i,e);case Db:return new uT(t,n,i,e);case Nb:return new oT(t,n,i,e);case Cb:return new gT(t,n,i,e);default:return new GA(t,n,i,e,Af.$n)}},n.gR=function(t,n,i){return new mT(t,n,i)},n.mR=function(t){return t.fs===zr.Jr||t.fs===zr.$r||t.fs===zr.us||t.fs===zr.rs},n.gc=function(t,n){var i;if(t.fs!==zr.Jr)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Wb.II.TI(e,ns))&&(e===gb&&new OA(n).gc)},n.CI=function(t,n){if(t.fs===zr.$r){var i=n.integration;if(!i||!Wb.II.TI(i,ns))return i===gb?gA.CI():void 0}},t}();!function(t){t[t.yR=0]="yR",t[t.kR=1]="kR",t[t.pR=2]="pR",t[t.bR=3]="bR",t[t.AR=4]="AR",t[t.yg=5]="yg",t[t.SR=6]="SR",t[t.ER=7]="ER",t[t.Ig=8]="Ig",t[t.IR=9]="IR",t[t.RR=10]="RR"}(PT||(PT={}));var MT=function(){function t(){}return t.prototype.DR=function(t){},A(t,[{key:"NR",get:function(){return 0}},{key:"PR",get:function(){return 0}}]),t}(),UT=function(){function t(t,n){void 0===n&&(n=new LT),this.lE=void 0,this.OR=void 0,this.XI=void 0,this.lE=t,this.OR=n}var n=t.prototype;return n.xR=function(t){this.XI=t},n.CI=function(t){var n=this.XI;if(void 0!==n)return this.OR.CI(t,n)},n.gc=function(t){var n=this.XI;return void 0!==n&&this.OR.gc(t,n)},n.LR=function(t){var n={ec:t.ec,MR:t.MR||[],KI:t.KI},i=this.OR.lR(n,this.XI||{},t.FE,this.lE);return new XT(i)},t}(),XT=function(){function t(t){this.UR=void 0,this.UR=t}var n=t.prototype;return n.QE=function(t){return this.UR.QE(t)},n.ZE=function(t,n,i){return this.UR.ZE(n,i)},n.hI=function(){return this.UR.hI||void 0!==this.UR.aI},n.cI=function(t,n){return this.UR.cI(t,n)},n.fI=function(t,n,i){return n&&this.UR.YE(n),this.UR.fI(t,i)},n.xs=function(){this.UR.Sd()},t}(),HT=function(t){function n(n){var i;(i=t.call(this)||this).XR=[],i.HR=function(t){i.g_(t.Yw)},i.FR=function(t){var n=t.Yw;i.zR(n)||i.m_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.WR(r)}return i}S(n,t);var i=n.prototype;return i.WR=function(t){this.XR.push(t);for(var n=0,i=t.p_;n<i.length;n++){var e=i[n];this.g_(e)}this.GR(t)},i.qR=function(t){Us(this.XR,t),this.YR(t);for(var n=0,i=t.p_;n<i.length;n++){var e=i[n];this.zR(e)||this.m_(e)}},i.zR=function(t){for(var n=0,i=this.XR;n<i.length;n++){if(i[n].y_(t))return!0}return!1},i.GR=function(t){t.Zs(q_.Hw,this.HR),t.Zs(q_.zw,this.FR)},i.YR=function(t){t.tu(q_.Hw,this.HR),t.tu(q_.zw,this.FR)},i.Sd=function(){for(;this.XR.length>0;)this.qR(this.XR[0]);t.prototype.Sd.call(this)},i.qw=function(){return Bg(this)},n}(eg);function FT(t){return{get enabled(){return t.C_},set enabled(n){t.C_=dg(n)},get currentLatency(){return t.cm},get streamConfiguration(){if(void 0!==t.jR)return function(t){return{get minimumOffset(){return t.Zg},get maximumOffset(){return t.Jg},get targetOffset(){return t.Kg},get forceSeekOffset(){return t.$g},get minimumPlaybackRate(){return t.tm},get maximumPlaybackRate(){return t.nm}}}(t.jR)},get configuration(){return function(t){return{get minimumOffset(){return t.Zg},set minimumOffset(n){t.Zg=wg(n)},get maximumOffset(){return t.Jg},set maximumOffset(n){t.Jg=wg(n)},get targetOffset(){return t.Kg},set targetOffset(n){t.Kg=wg(n)},get forceSeekOffset(){return t.$g},set forceSeekOffset(n){t.$g=wg(n)},get minimumPlaybackRate(){return t.tm},set minimumPlaybackRate(n){t.tm=wg(n)},get maximumPlaybackRate(){return t.nm},set maximumPlaybackRate(n){t.nm=wg(n)},update:function(n){t.Zh(function(t){var n={};void 0!==t.minimumOffset&&(n.Zg=wg(t.minimumOffset));void 0!==t.maximumOffset&&(n.Jg=wg(t.maximumOffset));void 0!==t.targetOffset&&(n.Kg=wg(t.targetOffset));void 0!==t.forceSeekOffset&&(n.$g=wg(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.tm=wg(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.nm=wg(t.maximumPlaybackRate));return n}(n))}}}(t.rc)}}}var zT,VT=function(){function t(){this.Ww=void 0,this.QR=void 0,this.QR={$g:0,Jg:0,nm:0,Zg:0,tm:0,Kg:0,Zh:K}}return A(t,[{key:"Gw",get:function(){return null!=this.Ww||(this.Ww=FT(this)),this.Ww}},{key:"C_",get:function(){return!1},set:function(t){}},{key:"cm",get:function(){}},{key:"jR",get:function(){}},{key:"rc",get:function(){return this.QR}}]),t}();function WT(){return zT||(zT=le&&le.document&&le.document.createElement("video")),zT}var GT=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new LT),void 0===a&&(a=_f()),(h=t.call(this)||this).ZR=void 0,h.KR=void 0,h.JR=void 0,h.ym=void 0,h.pm=void 0,h.Am=void 0,h.$R=void 0,h.tD=void 0,h.nD=void 0,h.iD=void 0,h.eD=void 0,h.lE=void 0,h.ys=void 0,h.rD=void 0,h.sD=void 0,h.uD=new MT,h.oD=new VT,h.aD=function(t){var i=t.mu,e=i.code,r=new nf(function(t){switch(t){case Ym.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Ym.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Ym.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Ym.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Ym.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Ym.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Ym.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new Km(e,r.message,i.message);h.hD(r,s)},h.cD=function(){h.Qs(new ym(h.Xg,h.$m))},h.fD=function(t){h.Wg||(h.sD=void 0),h.Qs(t)},h.vD=function(t){h.sD=void 0,h.Qs(t)},h.lD=function(){h.Qs(new yy(h.ey))},h.dD=function(){h.jg>0&&h.Yg>0&&h.Qs(new ib)},h.wD=function(t){h.ym.g_(new ly(t.track))},h._D=function(t){var n=YT(h.ym,t.track);n&&h.ym.m_(n)},h.gD=function(){h.mD(h.ym)},h.yD=function(t){h.pm.g_(new my(t.track))},h.kD=function(t){var n=YT(h.pm,t.track);n&&h.pm.m_(n)},h.pD=function(){h.mD(h.pm)},h.bD=function(t){h.Qs(t),h.hD(t.errorObject,$m(t.errorObject))},h.ZR=e,h.lE=r,h.ys=a,h.KR=h.ZR.TD(ty.wd),h.nD=h.KR.SD.preload,h.iD=new wb(h.KR,!0),h.iD.Zs(wm,h.js),h.rD=new UT(r,o),h.KR.ED=h.rD,h.RD(),h.ym=new ny,h.pm=new ny,h.DD(),h.eD=new Qp(h.KR,h.lE),h.Am=new HT([h.KR.Dm]),h.zm(),h}S(i,t);var e=i.prototype;return e.Vm=function(){this.KR.Vm()},e.zm=function(){this.KR.zm()},e.xm=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return nu(i),e={fs:nb.pE,Z_:t.src,Nl:t.type,ND:this.CD(t),yy:this.nD,PD:t.crossOrigin,BD:n.metadata&&n.metadata.title},this.rD.xR(t.contentProtection),r.next=5,Dr.awrap(this.KR.jh(e));case 5:this.JR=r.sent,nu(i),n.textTracks&&this.OD(n.textTracks),tb(this.Dm);case 9:case"end":return r.stop()}},null,this,null,We)},e.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.KR.xD()&&M.hn&&cb&&!Hp(i.kind,i.label)&&this.LD(i)){var e,r=null!=(e=i.kind)?e:Ip.Qb;this.KR.MD(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.eD.wE(i)}}},e.LD=function(t){return!t.format||"webvtt"===t.format},e.Cm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.KR.Cm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.UD){t.next=12;break}return t.next=10,Dr.awrap(this.KR.au(bf.Rf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},e.Pm=function(){this.KR.Pm()},e.Lm=function(){return void 0!==this.KR.SD.webkitShowPlaybackTargetPicker},e.Mm=function(){this.KR.SD.webkitShowPlaybackTargetPicker&&this.KR.SD.webkitShowPlaybackTargetPicker()},e.Um=function(){this.KR.SD.webkitShowPlaybackTargetPicker&&this.KR.SD.webkitShowPlaybackTargetPicker()},e.Wm=function(){return this.KR.SD},e.Gm=function(){return this.KR.XD},e.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$R=void 0,this.tD=void 0,this.JR=void 0,t.next=5,Dr.awrap(this.eD.k_());case 5:return this.KR.HD(),t.next=8,Dr.awrap(this.KR.k_());case 8:this.iD.k_(),this.yy=this.nD,this.Im.k_(),this.Rm.k_(),this.sD=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},e.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.k_());case 2:return this.$s(),this.FD(),this.zD(),this.iD.Sd(),this.KR.ED=void 0,t.next=9,Dr.awrap(this.ZR.VD(this.KR));case 9:return this.ym.Sd(),this.pm.Sd(),this.Am.Sd(),t.next=14,Dr.awrap(this.eD.Sd());case 14:case"end":return t.stop()}},null,this,null,We)},e.RD=function(){this.KR.Zs(bf.If,this.js),this.KR.Zs(bf.Ef,this.js),this.KR.Zs(bf.Hf,this.cD),this.KR.Zs(bf.Rf,this.js),this.KR.Zs(bf.pf,this.js),this.KR.Zs(bf.Bf,this.js),this.KR.Zs(bf.Pf,this.fD),this.KR.Zs(bf.mf,this.js),this.KR.Zs(bf.Df,this.js),this.KR.Zs(bf.Ff,this.js),this.KR.Zs(bf._f,this.js),this.KR.Zs(bf.Cf,this.dD),this.KR.Zs(hm.Ug,this.vD),this.KR.Zs(Ig.z_,this.aD),this.KR.Zs(bf.lf,this.js),this.KR.Zs(bf.vf,this.bD),this.KR.SD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lD)},e.FD=function(){this.KR.tu(bf.If,this.js),this.KR.tu(bf.Ef,this.js),this.KR.tu(bf.Hf,this.cD),this.KR.tu(bf.Rf,this.js),this.KR.tu(bf.pf,this.js),this.KR.tu(bf.Bf,this.js),this.KR.tu(bf.Pf,this.fD),this.KR.tu(bf.mf,this.js),this.KR.tu(bf.Df,this.js),this.KR.tu(bf.Ff,this.js),this.KR.tu(bf._f,this.js),this.KR.tu(bf.Cf,this.dD),this.KR.tu(hm.Ug,this.vD),this.KR.tu(Ig.z_,this.aD),this.KR.tu(bf.lf,this.js),this.KR.tu(bf.vf,this.bD),this.KR.SD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lD)},e.CD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:us,WD:[{initDataTypes:[us.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.DD=function(){var t=this.KR.SD.audioTracks,n=this.KR.SD.videoTracks;t&&(t.addEventListener("addtrack",this.wD),t.addEventListener("removetrack",this._D),t.addEventListener("change",this.gD)),n&&(n.addEventListener("addtrack",this.yD),n.addEventListener("removetrack",this.kD),n.addEventListener("change",this.pD))},e.zD=function(){var t=this.KR.SD.audioTracks,n=this.KR.SD.videoTracks;t&&(t.removeEventListener("addtrack",this.wD),t.removeEventListener("removetrack",this._D),t.removeEventListener("change",this.gD)),n&&(n.removeEventListener("addtrack",this.yD),n.removeEventListener("removetrack",this.kD),n.removeEventListener("change",this.pD))},e.mD=function(t){for(var n=0;n<t.b_;n++){t.__(n).Cy()}},e.Km=function(){this.KR.Km()},e.hD=function(t,n){this.$R||(this.$R=n,this.tD=t,this.Qs(new Rm(t)))},A(i,[{key:"UD",get:function(){var t=this.KR.Jm,n=this.Xg;return t.GD(n,.01)}},{key:"Im",get:function(){return this.ym}},{key:"Jm",get:function(){return this.KR.Jm.qD()}},{key:"$m",get:function(){return this.KR.$m},set:function(t){t&&this.KR.YD(t)}},{key:"Xg",get:function(){return void 0!==this.sD?this.sD:this.KR.Xg},set:function(t){this.ey&&(this.sD=t),this.KR.xu(t)}},{key:"Hg",get:function(){return this.KR.Hg}},{key:"Fg",get:function(){return this.KR.Fg}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Nm",get:function(){}},{key:"ey",get:function(){return this.KR.ey}},{key:"lm",get:function(){return Nr({},{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KR.jD())}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"_y",get:function(){return!0}},{key:"Wg",get:function(){return this.KR.Wg}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){this.KR.Gg=t}},{key:"gy",get:function(){return this.KR.SD.played}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD=t,this.JR&&(this.JR.yy=t)}},{key:"Y_",get:function(){return this.KR.Y_}},{key:"py",get:function(){return this.KR.py.qD()}},{key:"qg",get:function(){return this.KR.qg}},{key:"QD",get:function(){return this.KR.QD}},{key:"Dm",get:function(){return this.Am}},{key:"Rm",get:function(){return this.pm}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"jg",get:function(){return this.KR.jg}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){this.KR.Qg=t}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}},{key:"ZD",get:function(){return this.uD}}]),i}(Lg);var qT=function(){function t(){this.KD=PT.RR}var n=t.prototype;return n.kI=function(t,n,i,e,r,s){return new GT(t,n,i,e,r)},n.JD=function(t,n){return function(t){return!t.type||!(!WT().canPlayType||!WT().canPlayType(t.type))}(t)},n.$D=function(){return!1},t}();function YT(t,n){for(var i=0,e=t.p_;i<e.length;i++){var r=e[i];if(r.Oy===n)return r}}var jT=function(){function t(){this.tN=new qT,this.nN=[]}t.iN=function(){return this.Yn};var n=t.prototype;return n.eN=function(t){this.nN.push(t)},n.kI=function(t,n,i,e,r,s){for(var u=this.tN.kI(t,n,i,e,r,s),o=0,a=this.nN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.JD=function(t,n){return this.tN.JD(t,n)},n.$D=function(){return!1},A(t,[{key:"KD",get:function(){return this.tN.KD}}]),t}();function QT(t,n){return Cs(t.KD,n.KD)}function ZT(t){KT.Yn.rN(t)}jT.Yn=new jT;var KT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sN=jT.iN(),n}S(n,t);var i=n.prototype;return i.uN=function(t){this.sN=t},i.oN=function(){return this.sN},i.aN=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Dr.awrap(this.hN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{cN:e,fN:r});case 8:i++,a.next=1;break;case 11:s=this.sN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.JD(o,n)){a.next=17;break}return a.abrupt("return",{cN:o,fN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{cN:t[0],fN:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this.vN=[]}var n=t.prototype;return n.rN=function(t){this.vN.push(t),this.vN.sort(QT)},n.hN=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.vN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.JD(t,n))){u.next=10;break}return u.next=7,Dr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());KT.Yn=new KT;var JT,$T=function(){function t(t){this.lN=void 0,this.lN=le&&le.document&&le.document.createElement("div"),er(this.lN),t.appendChild(this.lN)}return t.prototype.Sd=function(){$e(this.lN)},t}();function tS(t){switch(t){case JT.dN:case"":return JT.dN;case JT.Kb:return JT.Kb;case JT.wN:default:return JT.wN}}!function(t){t.RR="",t.wN="none",t.Kb="metadata",t.dN="auto"}(JT||(JT={}));var nS=[Ig.z_,bf.gf,bf.yu,bf.Wf,bf.sf,bf.yf,bf.Tf,bf.Sf,bf.xf,bf.Mf,hm.Bg,hm.Og,hm.xg,hm.Lg,hm.u_,hm.Mg,hm.Ug,bf.vf,bf.lf,bf._f,bf.mf,bf.pf,bf.bf,bf.If,bf.Rf,bf.Ef,bf.Df,bf.Cf,bf.Bf,bf.Pf,bf.Hf,bf.Ff,bf.Nf,bf.Af,bf.Of],iS=function(t){function n(n,i){var e;return(e=t.call(this)||this)._N=void 0,e.gN=void 0,e.mN=void 0,e.yN=void 0,e.nD=JT.wN,e.kN=void 0,e.pN=!0,e.ym=new Rg,e.pm=new Rg,e.Am=new xg,e.Tm=new jm,e._N=n,e.mN=i,e.mN.yy=e.yy,e.bN(),e}S(n,t);var i=n.prototype;return i.Pm=function(){this.mN.Pm()},i.Cm=function(){var t=this.mN.Cm();j(t)&&hu(t)},i.Bm=function(){return this.xm(void 0)},i.Xm=function(){},i.Ym=function(t){return!1},i.bN=function(){this.ym.R_=this.mN.Im,this.pm.R_=this.mN.Rm,this.Am.R_=this.mN.Dm,this.Tm.R_=this.mN.Nm,this.mN.Zs(nS,this.js)},i.AN=function(){this.mN.tu(nS,this.js),this.ym.R_=void 0,this.pm.R_=void 0,this.Am.R_=void 0,this.Tm.R_=void 0},i.Om=function(){return this.kN},i.xm=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(nu(n),this.kN=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!em(i=t.sources.filter(am))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Dr.awrap(this._N.aN(i,t));case 9:if(e=a.sent,nu(n),r=e.cN,s=e.fN,u=this.Gm(),o=Cm(this),this.gN===s&&!this.mu){a.next=25;break}return this.AN(),a.next=19,Dr.awrap(this.mN.Sd());case 19:nu(n),this.gN=s,this.mN=this.TN(s),eS(this.mN,o),Pm(this,o,this),this.bN();case 25:return this.mN.yy=this.yy,this.pN?this.mN.zm():this.mN.Vm(),a.next=29,Dr.awrap(this.mN.xm(r,t,n));case 29:nu(n),this.SN(r),this.Gm()!==u&&this.Qs(new Ug);case 32:case"end":return a.stop()}},null,this,null,We)},i.SN=function(t){this.yN!==t&&(this.yN=t,this.Qs(new Xg(t)))},i.Lm=function(){return this.mN.Lm()},i.Mm=function(){this.mN.Mm()},i.Um=function(){this.mN.Um()},i.Gm=function(){return this.mN.Gm()},i.Km=function(){this.mN.Km()},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kN=void 0,this.SN(void 0),t.next=4,Dr.awrap(this.mN.k_());case 4:case"end":return t.stop()}},null,this,null,We)},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.k_());case 3:return t.next=5,Dr.awrap(this.mN.Sd());case 5:this.ym.Sd(),this.pm.Sd(),this.Am.Sd(),this.Tm.Sd();case 9:case"end":return t.stop()}},null,this,null,We)},i.zm=function(){this.pN=!0,this.mN.zm()},i.Vm=function(){this.pN=!1,this.mN.Vm()},A(n,[{key:"Im",get:function(){return this.ym}},{key:"Jm",get:function(){return this.mN.Jm}},{key:"mu",get:function(){return this.mN.mu}},{key:"zg",get:function(){return this.mN.zg}},{key:"$m",get:function(){return this.mN.$m},set:function(t){this.mN.$m=t}},{key:"Zm",get:function(){return this.yN}},{key:"Xg",get:function(){return this.mN.Xg},set:function(t){this.mN.Xg=t}},{key:"Hg",get:function(){return this.mN.Hg}},{key:"Fg",get:function(){return this.mN.Fg}},{key:"Nm",get:function(){return this.Tm}},{key:"ey",get:function(){return this.mN.ey}},{key:"lm",get:function(){return this.mN.lm}},{key:"Vg",get:function(){return this.mN.Vg},set:function(t){this.mN.Vg=t}},{key:"_y",get:function(){return this.mN._y}},{key:"Wg",get:function(){return this.mN.Wg}},{key:"Gg",get:function(){return this.mN.Gg},set:function(t){this.mN.Gg=t}},{key:"gy",get:function(){return this.mN.gy}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD=t,this.mN&&(this.mN.yy=this.nD)}},{key:"Y_",get:function(){return this.mN.Y_}},{key:"py",get:function(){return this.mN.py}},{key:"qg",get:function(){return this.mN.qg}},{key:"Dm",get:function(){return this.Am}},{key:"Yg",get:function(){return this.mN.Yg}},{key:"Rm",get:function(){return this.pm}},{key:"jg",get:function(){return this.mN.jg}},{key:"Qg",get:function(){return this.mN.Qg},set:function(t){this.mN.Qg=t}},{key:"by",get:function(){return this.mN.by}},{key:"ZD",get:function(){return this.mN.ZD}}]),n}(wu);function eS(t,n){t.Vg!==n.Vg&&(t.Vg=n.Vg),t.Qg!==n.Qg&&(t.Qg=n.Qg),t.Gg!==n.Gg&&(t.Gg=n.Gg)}var rS,sS=function(t){function n(n,i){var e;return(e=t.call(this)||this).b_=void 0,e.EN=void 0,e.IN=void 0,e.b_=n.length>>1,e.EN=n,e.IN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.b_),e}S(n,t);var i=n.prototype;return i.RN=function(t){return this.EN[2*t]},i.DN=function(t){return this.IN[2*t]},i.NN=function(t){return this.EN[2*t+1]},i.CN=function(t){return this.IN[2*t+1]},A(n,[{key:"PN",get:function(){return this.EN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.lk=function(t,n){return 0===this.Rk(t,n)},n.ip=function(t,n){return this.Rk(t,n)>0},n.ep=function(t,n){return this.Rk(t,n)>=0},n.Bk=function(t,n){return this.Rk(t,n)<0},n.Ck=function(t,n){return this.Rk(t,n)<=0},n.Ap=function(t,n){return this.Bk(t,n)?t:n},n.bp=function(t,n){return this.ip(t,n)?t:n},n.BN=function(t,n,i){return i?this.Ck(t,n):this.Bk(t,n)},n.qD=function(){var t=this;return{get length(){return t.b_},start:function(n){var i=0|n;return t.ON(i),t.xN(t.RN(i))},end:function(n){var i=0|n;return t.ON(i),t.xN(t.NN(i))}}},n.LN=function(){for(var t=new Array(2*this.b_),n=new Array(2*this.b_),i=0;i<this.b_;i++)t[2*i]=this.RN(i),t[2*i+1]=this.NN(i),n[2*i]=!0,n[2*i+1]=!0;return this.MN(t,n)},n.ON=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.b_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.b_+")")},n.UN=function(t){if(0===this.b_)return this.XN();if(this.GD(t))return t;if(this.Ck(t,this.RN(0)))return this.RN(0);if(this.ep(t,this.NN(this.b_-1)))return this.NN(this.b_-1);for(var n,i=this.HN(),e=0;e<this.b_;e++){var r=this.RN(e),s=this.Pk(r,t);this.Bk(s,i)&&(n=r,i=s);var u=this.NN(e),o=this.Pk(this.NN(e),t);this.Bk(o,i)&&(n=u,i=o)}return n},n.FN=function(t){for(var n=0,i=0,e=[],r=[];n<this.b_&&i<t.b_;){var s=this.RN(n),u=this.NN(n),o=this.DN(n),a=this.CN(n),h=t.RN(i),c=t.NN(i),f=t.DN(i),v=t.CN(i),l=this.bp(s,h),d=this.Ap(u,c),w=void 0;w=this.lk(s,h)?o&&f:this.lk(l,s)?o:f;var _=void 0;_=this.lk(u,c)?a&&v:this.lk(d,u)?a:v,(this.Bk(l,d)||w&&_&&this.lk(l,d))&&(e.push(l,d),r.push(w,_));var g=this.Rk(this.NN(n),t.NN(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.MN(e,r)},n.zN=function(){var t=this.VN(),n=t.b_;if(0===n)return this.MN([t.WN(),t.HN()],[!1,!1]);var i=[],e=[],r=t.RN(0);t.lk(r,t.WN())||(i.push(t.WN(),r),e.push(!1,!t.DN(0)));for(var s=0;s<n-1;s++)i.push(t.NN(s),t.RN(s+1)),e.push(!t.CN(s),!t.DN(s+1));var u=t.NN(n-1);return t.lk(u,t.HN())||(i.push(u,t.HN()),e.push(!t.CN(n-1),!1)),t.MN(i,e)},n.GN=function(t){for(var n=0,i=0,e=this.b_,r=t.b_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.RN(n),h=this.NN(n),c=t.RN(i),f=t.NN(i);this.Bk(a,c)||this.lk(a,c)&&this.Bk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.DN(n),u[o+1]=this.CN(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.DN(i),u[o+1]=t.CN(i),i++),o+=2}for(;n<e;)s[o]=this.RN(n),s[o+1]=this.NN(n),u[o]=this.DN(n),u[o+1]=this.CN(n),n++,o+=2;for(;i<r;)s[o]=t.RN(i),s[o+1]=t.NN(i),u[o]=t.DN(i),u[o+1]=t.CN(i),i++,o+=2;return this.MN(s,u)},n.qN=function(t){void 0===t&&(t=this.XN());var n=this.b_;if(n<2)return this;for(var i=[],e=[],r=this.RN(0),s=this.NN(0),u=this.DN(0),o=this.CN(0),a=1;a<n;a++){var h=this.RN(a),c=this.NN(a),f=this.DN(a),v=this.CN(a);this.Bk(r,h)&&this.ip(s,c)||(this.lk(r,h)&&(u=f=u||f),this.lk(s,c)&&(o=v=o||v),this.BN(h,this.Sy(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.MN(i,e).VN()},n.VN=function(){for(var t=[],n=[],i=0;i<this.b_;i++){var e=this.RN(i),r=this.NN(i),s=this.DN(i),u=this.CN(i);this.lk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.MN(t,n)},n.YN=function(t){return this.b_?t.b_?this.GN(t).qN():this:t},n.jN=function(t){var n=this.VN(),i=t.VN(),e=n.zN(),r=i.zN(),s=e.FN(i),u=r.FN(n);return s.YN(u)},n.Bu=function(t){if(this.lk(t,this.XN()))return this;for(var n=[],i=[],e=0;e<this.b_;e++){var r=this.Sy(this.RN(e),t),s=this.Sy(this.NN(e),t);n.push(r,s),i.push(this.DN(e),this.CN(e))}return this.MN(n,i)},n.QN=function(t){return 0===this.b_||0===t.b_?this:this.VN().FN(t.VN().zN())},n.GD=function(t,n){return this.ZN(t,n)>=0},n.KN=function(t,n,i,e,r){return this.JN(t,n,i,e,r)>=0},n.$N=function(t,n,i,e,r){return this.tC(t,n,i,e,r)>=0},n.nC=function(t){if(t.b_!==this.b_)return!1;for(var n=0;n<this.b_;n++)if(!this.lk(this.RN(n),t.RN(n))||!this.lk(this.NN(n),t.NN(n))||this.DN(n)!==t.DN(n)||this.CN(n)!==t.CN(n))return!1;return!0},n.iC=function(t){for(var n=[],i=[],e=0;e<this.b_;e++){var r=this.RN(e),s=this.NN(e),u=this.DN(e),o=this.CN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.MN(n,i)},n.tC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.XN());for(var s=this.Mk(t,r),u=this.Sy(n,r),o=0;o<this.b_;o+=1)if(this.BN(this.RN(o),u,!e||this.DN(o))&&this.BN(s,this.NN(o),!i||this.CN(o)))return o;return-1},n.JN=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.XN());for(var s=this.Sy(t,r),u=this.Mk(n,r),o=0;o<this.b_;o+=1)if(this.BN(this.RN(o),s,!i||this.DN(o))&&this.BN(u,this.NN(o),!e||this.CN(o)))return o;return-1},n.ZN=function(t,n){return this.JN(t,t,!0,!0,n)},n.eC=function(t,n){void 0===n&&(n=this.XN());for(var i=this.Sy(t,n),e=this.b_-1;e>=0;e-=1)if(this.BN(this.RN(e),i,this.DN(e)))return e;return-1},n.rC=function(t,n){void 0===n&&(n=this.XN());for(var i=this.Mk(t,n),e=0;e<this.b_;e+=1)if(this.BN(i,this.NN(e),this.CN(e)))return e;return-1},n.sC=function(t){return this.ON(t),this.MN([this.RN(t),this.NN(t)],[this.DN(t),this.CN(t)])},n.uC=function(t,n){var i=this.ZN(t,n);return i<0?void 0:this.sC(i)},A(t,[{key:"oC",get:function(){for(var t=this.XN(),n=0;n<this.b_;n++){var i=this.Mk(this.NN(n),this.RN(n));t=this.Sy(t,i)}return t}}]),t}()),uS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Rk=function(t,n){return t<n?Ss.Ds:t===n?Ss.Is:Ss.Rs},i.Sy=function(t,n){return t+n},i.Mk=function(t,n){return t-n},i.Pk=function(t,n){return w.abs(t-n)},i.XN=function(){return 0},i.HN=function(){return 1/0},i.WN=function(){return-1/0},n.aC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.hC=function(t){for(var i=[],e=[],r=0;r<t.b_;r++)i.push(t.RN(r).Ep),i.push(t.NN(r).Ep),e.push(t.DN(r)),e.push(t.CN(r));return new n(i,e)},n.cC=function(t){return new n([t,t],[!0,!0])},i.MN=function(t,i){return new n(t,i)},i.xN=function(t){return t},n.fC=function(){return oS},n}(sS),oS=new uS([]);!function(t){t.r_="fullscreenchange",t.vC="fullscreensupportchange",t.z_="fullscreenerror"}(rS||(rS={}));var aS=function(t){function n(){return t.call(this,rS.z_)||this}return S(n,t),n}(gu),hS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Xy=function(){this.Qs(new aS)},i.Fy=function(){},i.Sd=function(){this.$s()},A(n,[{key:"lC",get:function(){return!1}},{key:"dC",get:function(){return!1}}]),n}(wu)),cS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZR=void 0,n.KR=void 0,n}S(n,t);var i=n.prototype;return i.Wm=function(){var t;return null==(t=this.KR)?void 0:t.SD},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Sd.call(this));case 2:if(!this.KR){n.next=6;break}return n.next=5,Dr.awrap(this.ZR.VD(this.KR));case 5:this.KR=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"wC",set:function(t){this.ZR=t,this.KR=t.TD(ty.wd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._C=0,n.gC=!1,n.mC=!0,n.yC=1,n.kC=!1,n.Da=1,n.Im=new ny,n.Jm=uS.fC().qD(),n.Hg=NaN,n.Fg=!1,n.mu=void 0,n.zg=void 0,n.Nm=void 0,n.ey=!1,n._y=!0,n.gy=uS.fC().qD(),n.yy=JT.wN,n.Y_=qg.Rg,n.py=uS.fC().qD(),n.QD=void 0,n.Dm=new Rp,n.Yg=0,n.Rm=new ny,n.jg=0,n.by=new VT,n.uD=new MT,n}S(n,t);var i=n.prototype;return i.zm=function(){},i.Vm=function(){},i.Cm=function(){this.mC&&(this.mC=!1,this.Qs(new vm(this.Xg)),this.Qs(new vb(this.Xg)))},i.Pm=function(){this.mC||(this.mC=!0,this.Qs(new ym(this.Xg,this.$m)),this.Qs(new fm(this.Xg)))},i.xm=function(t,n){return We.resolve()},i.Lm=function(){return!1},i.Mm=function(){},i.Um=function(){},i.Gm=function(){return hS},i.Km=function(){},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this._C=0,this.kC=!1,this.Pm(),this.Qs(new cm(this._C));case 4:case"end":return t.stop()}},null,this,null,We)},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$s(),this.Im.Sd(),this.Dm.Sd(),this.Rm.Sd();case 4:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"$m",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this._C},set:function(t){this._C!==t&&(this._C=t,this.kC=!0,this.Qs(new bm(this.Xg)))}},{key:"lm",get:function(){return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.gC=t,this.Qs(new Tm(this.Xg,this.Qg)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.Qs(new mm(this.Xg,this.Gg)))}},{key:"qg",get:function(){return this.kC}},{key:"Qg",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Qs(new Tm(this.Xg,this.Qg)))}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ZD",get:function(){return this.uD}}]),n}(wu)),fS=function(t){function n(n,i,e,r,s,u){var o,a=new cS;return(o=t.call(this,KT.Yn,a)||this).Pc=void 0,o.pC=void 0,o.bC=void 0,o.AC=void 0,o.lE=void 0,o.TC=void 0,o.SC=void 0,o.bC=n,o.Pc=i,o.lE=e,o.TC=r,o.AC=u,o.pC=new ce(s,o.AC),o.pC.EC(o.bC),a.wC=o.pC,o.SC=new $T(o.bC),o}S(n,t);var i=n.prototype;return i.Xm=function(){t.prototype.Xm.call(this),this.pC.IC()},i.Hm=function(t){var n,i,e,r;n=this,e=(i=t).Qg,r=i.Vg,n.Qg=e,n.Vg=r},i.Fm=function(){},i.TN=function(t){return t.kI(this.bC,this.pC,this.lE,this.Pc,this.TC,this.AC)},i.Wm=function(){return this.mN.Wm()},i.qm=function(){return this.pC.RC.map(function(t){return t.SD})},i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Sd.call(this));case 2:this.pC.Sd(),this.SC.Sd();case 4:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"iy",get:function(){return this.bC}},{key:"Ay",get:function(){return this.mN.Ay},set:function(t){this.mN.Ay=t}}]),n}(iS),vS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).bC=void 0,r.DC=void 0,r.NC=void 0,r.BC=void 0,r.OC=void 0,r.oD=new VT,r.bC=n,r.DC=i,r.BC=new ny,r.OC=new Rp,r.NC=e,r}S(n,t);var i=n.prototype;return i.Ym=function(t){return!0},i.Vm=function(){},i.Cm=function(){throw this.Qs(new Rm(this.NC)),this.DC},i.Pm=function(){},i.Om=function(){},i.xm=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw nu(n),this.Qs(new Rm(this.NC)),this.DC;case 3:case"end":return t.stop()}},null,this,null,We)},i.zm=function(){},i.Bm=function(){return We.resolve()},i.Wm=function(){},i.Gm=function(){return hS},i.qm=function(){return[]},i.Xm=function(){},i.Hm=function(t){},i.Fm=function(){},i.Lm=function(){return!1},i.Mm=function(){},i.Um=function(){},i.Km=function(){},i.k_=function(){return We.resolve()},i.Sd=function(){return this.$s(),this.BC.Sd(),this.OC.Sd(),We.resolve()},A(n,[{key:"Im",get:function(){return this.BC}},{key:"Jm",get:function(){return uS.fC().qD()}},{key:"$m",get:function(){return new Date(NaN)},set:function(t){}},{key:"Zm",get:function(){}},{key:"Xg",get:function(){return 0},set:function(t){}},{key:"Hg",get:function(){return 0}},{key:"iy",get:function(){return this.bC}},{key:"Fg",get:function(){return!0}},{key:"mu",get:function(){return this.DC}},{key:"zg",get:function(){return this.NC}},{key:"Nm",get:function(){}},{key:"lm",get:function(){return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Vg",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!0}},{key:"Wg",get:function(){return!0}},{key:"Gg",get:function(){return 0},set:function(t){}},{key:"gy",get:function(){return uS.fC().qD()}},{key:"yy",get:function(){return JT.wN},set:function(t){}},{key:"Y_",get:function(){return qg.Rg}},{key:"py",get:function(){return uS.fC().qD()}},{key:"qg",get:function(){return!1}},{key:"Dm",get:function(){return this.OC}},{key:"Yg",get:function(){return 0}},{key:"Rm",get:function(){return this.BC}},{key:"jg",get:function(){return 0}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ey",get:function(){return!1}}]),n}(Mg);function lS(t){if(t&&W(t))return Nr({},t,{integration:dS(t.integration),fairplay:kS(t.fairplay),widevine:wS(t.widevine),playready:_S(t.playready),clearkey:pS(t.clearkey),aes128:bS(t.aes128),integrationParameters:AS(t.integrationParameters),preferredKeySystems:TS(t.preferredKeySystems)})}function dS(t){if(q(t))return t}function wS(t){if(t&&W(t))return{persistentState:gS(t.persistentState),distinctiveIdentifier:gS(t.distinctiveIdentifier),audioRobustness:mS(t.audioRobustness),videoRobustness:mS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:yS(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Uo(t.certificate)?t.certificate:void 0}}function _S(t){if(t){var n=wS(t);if(n)return Nr({},n,{customData:q(t.customData)?t.customData:void 0})}}function gS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function mS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function yS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function kS(t){if(t){var n=wS(t);if(n)return Nr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function pS(t){if(t){var n=wS(t);if(n)return Nr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function bS(t){if(W(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function AS(t){if(W(t))return t}function TS(t){return t&&z(t)?t.map(function(t){return hA(t)}).filter(H):[Kr,jr,ns]}var SS,ES=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(gu),IS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).xC=[],e.LC=void 0,e.MC=function(t){au(function(){e.js(t)})},e.LC=i?e.MC:e.js,e}S(n,t);var i=n.prototype;return i.UC=function(t){t.Js(this.LC),this.xC.push(t)},i.XC=function(t){t.ou(this.LC),Us(this.xC,t)},i.Sd=function(){this.$s();for(var t=0,n=this.xC;t<n.length;t++){n[t].ou(this.LC)}zs(this.xC)},n}(Lg),RS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(IS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(SS||(SS={}));var DS,NS=function(t){function i(n){var i;return(i=t.call(this)||this).HC=void 0,i.FC=void 0,i.zC=!1,i.VC=!1,i.WC=void 0,i.GC=void 0,i.qC=void 0,i.Ww=void 0,i.YC=function(){return i.jC()},i.QC=function(){return i.ZC()},i.qC=n,i.HC=i.FC=i.WC=i.GC=SS.INLINE,i.qC.Zs(rS.r_,i.YC),i.qC.Zs(rS.z_,i.QC),i.KC(),i}S(i,t);var e=i.prototype;return e.qw=function(){return t=this,i={get currentMode(){return t.JC()},requestMode:function(n){var i=PS(n);i&&t.$C(i)},supportsMode:function(n){var i=PS(n);return!!i&&t.tP(i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new IS(i,!0)).UC(t),i;var t,n,i},e.$C=function(t){this.nP(t,t)},e.nP=function(t,n){this.FC!==n&&(this.zC=!0,this.HC=t,this.iP(n,this.FC),t!==SS.FULLSCREEN&&(this.WC=t),this.zC=!1,this.KC())},e.JC=function(){return this.VC?SS.FULLSCREEN:SS.INLINE},e.tP=function(t){switch(t){case SS.FULLSCREEN:return this.qC.dC;case SS.INLINE:return!0}return!1},e.KC=function(){if(!this.zC){var t=this.FC,n=this.JC();this.FC=n,n!==SS.FULLSCREEN&&(this.GC=n),t!==n&&this.Qs(new ES(n))}},e.iP=function(t,n){var i=t===SS.FULLSCREEN;this.VC=i,i!==this.qC.lC&&(i?this.qC.Xy():this.qC.Fy())},e.jC=function(){if(!this.zC){var t=this.qC.lC;this.VC=t,t?this.nP(SS.FULLSCREEN,SS.FULLSCREEN):t||this.HC!==SS.FULLSCREEN?this.KC():this.nP(this.WC,this.GC)}},e.ZC=function(){this.jC(),this.Qs(new Rm(new nf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Sd=function(){this.qC.Sd(),this.$s()},A(i,[{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),i}(Lg),CS={Xg:0,Hg:NaN,Fg:!1,mu:void 0,zg:void 0,Vg:!1,Wg:!0,Gg:1,Y_:qg.Rg,qg:!1,Yg:0,jg:0,Qg:1};function PS(t){switch(t){case SS.INLINE:case SS.FULLSCREEN:case SS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(DS||(DS={}));var BS,OS,xS,LS,MS,US,XS,HS,FS=function(){function t(){this.eP=[]}var n=t.prototype;return n.rP=function(t){var n=this.sP.filter(function(n){return n.uP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.oP=function(t){this.eP.push(t)},A(t,[{key:"sP",get:function(){return this.eP}}]),t}();FS.Yn=new FS,function(t){t.Ug="PLAYING",t.wm="PAUSED",t.aP="SEEK",t.hP="STALLED",t.cP="FAILED",t.fP="INITIAL_BUFFERING",t.vP="NO_ACCESS"}(BS||(BS={})),function(t){t.lP="HTTP_REQUEST_STATUS_CODE_1XX",t.dP="HTTP_REQUEST_STATUS_CODE_2XX",t.wP="HTTP_REQUEST_STATUS_CODE_3XX",t._P="HTTP_REQUEST_STATUS_CODE_4XX",t.gP="HTTP_REQUEST_STATUS_CODE_5XX",t.mP="BUFFER_LENGTH",t.yP="BYTES_RECEIVED",t.kP="SEGMENT_READ_BITRATE",t.pP="SEGMENT_PROFILE_BITRATE",t.bP="NUMBER_OF_FRAMES_DROPPED",t.AP="PLAYBACK_POSITION",t.TP="NUMBER_OF_FRAMES_DECODED",t.SP="PLAYBACK_DELTA_TO_ORIGIN",t.EP="STREAM_DELTA_TO_ORIGIN",t.IP="ORIGIN_TIMESTAMP"}(OS||(OS={})),function(t){t.RP="MANIFEST_URI",t.DP="ASSET_DURATION",t.NP="NUMBER_OF_CONTENT_PROFILES",t.CP="CDN",t.PP="CONTENT_TITLE",t.BP="SERVICE_NAME",t.OP="CONTENT_TYPE",t.xP="CONTENT_DESCRIPTION"}(xS||(xS={})),function(t){t.LP="shutdown_normal_shutdown"}(LS||(LS={})),function(t){t.MP="session/",t.UP="internalError/",t.XP="drmError/",t.HP="caError/",t.FP="networkError/"}(MS||(MS={})),function(t){t.zP="userAction",t.VP="endOfStreamReached"}(US||(US={})),function(t){t.PAUSE="WP",t.RESUME="GP"}(XS||(XS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(HS||(HS={}));var zS,VS,WS,GS,qS,YS="agama";function jS(t){return function(t){switch(t){case zS.NONE:case zS.HORIZONTAL:case zS.VERTICAL:return!0;default:return!1}}(t)?t:zS.NONE}function QS(t){switch(t){case"":return zS.NONE;case"horizontal":return zS.HORIZONTAL;case"vertical":return zS.VERTICAL;default:throw new l}}function ZS(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return VS.dN;switch(t){case"always":return VS.qP;case"never":return VS.YP;default:return VS.dN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function KS(t){if(!t||!q(t))return WS.dN;switch(t){case"playlist":return WS.jP;case"media":return WS.QP;default:return WS.dN}}function JS(t,n){return t.length>0?t:n.length>0?n:void 0}function $S(t){if(null!==t)return t}function tE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:$S(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:$S(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.gr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.gr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.gr("A Live DAI configuration was provided without valid assetKey which is required.")}i.gr("A DAI configuration was provided without a valid availabilityType which is required.")}function nE(t){if(!nA(t)||!t.integration)return t;switch(t.integration){case Ab:return n=t,i=aA(zr.$r,n),e=aA(zr.Jr,n),r=n[zr.us]&&aA(zr.us,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(zS||(zS={})),function(t){t.dN="auto",t.qP="always",t.YP="never"}(VS||(VS={})),function(t){t.dN="auto",t.jP="playlist",t.QP="media"}(WS||(WS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(GS||(GS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(qS||(qS={}));var iE="https://content.uplynk.com";function eE(t){if(!t)return!0;var n,i,e=!(im(n=t.sources)||V(n)&&im(n[0]))||em(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function rE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(nm(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function sE(t,n,i){return $g(t)?function(t,n,i){var e=Nr({},rm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:GS.VERIZON_MEDIA,id:"",prefix:iE,preplayParameters:{},playbackUrlParameters:{},assetType:qS.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return qS.CHANNEL;case"event":return qS.EVENT;case"asset":default:return qS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=dg(t.contentProtected));t.assetInfo?e.assetInfo=dg(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=gg(t.prefix)||iE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,h=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=Y(o.linearAdData)?o.linearAdData:u!==qS.ASSET):u!==qS.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=oE(e=aE(e=uE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=sm(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=Qg(t),r){var s=lS(r);e.contentProtection=nE(s)}}else if(nm(t)||Jg(t)){e.src=t.src,e.type=t.type||Qg(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Vg.Eg||t.type===Vg.Ig}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=lS(a);e.contentProtection=nE(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return tE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=uE(e,t)}var c;return e=oE(e=aE(e,n,i),t,i)}(t,n,i)}function uE(t,n){var i,e;n.useCredentials?t.crossOrigin=zg.Sg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case zg.Tg:case zg.Sg:return t;default:return zg.Ag}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=dg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=dg(n.useNativePlayback)),n.dash&&(t.dash=ZS(n.dash)),n.hls&&(t.hls={discontinuityAlignment:KS(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=dg(n.lcevc));var r=void 0!==n.experimentalRendering?dg(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?dg(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function oE(t,n,i){return t.abr=function(t,n){var i=mg(null==t?void 0:t.preferredAudioCodecs,gg),e=mg(null==t?void 0:t.preferredVideoCodecs,gg),r=mg(null==n?void 0:n.preferredAudioCodecs,gg),s=mg(null==n?void 0:n.preferredVideoCodecs,gg),u=JS(i,r),o=JS(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function aE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===zg.Ag&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=zg.Tg),t.useCredentials=t.crossOrigin===zg.Sg,q(r)&&!t.timeServer&&(t.timeServer=r),t}function hE(t){var n={src:""};if(t&&t.src){if(n.src=gg(t.src),"default"in t&&(n.default=dg(t.default)),n.kind=Np(t.kind),function(t){switch(t){case _y.DEFAULT:case _y.SRT:case _y.TTML:case _y.WEBVTT:case _y.EMSG:case _y.EVENT_STREAM:case _y.ID3:case _y.CEA608:case _y.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function cE(t,n){if(G(t))try{return n.rP(t).ZP(t)}catch(t){return}}function fE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function vE(t){return t.integration===DS.SPOTX&&!m(t.id)}function lE(t){return"freewheel"===t.integration}function dE(t,n,i){if(void 0===i&&(i=FS.Yn),eE(t))return{sources:[sm()]};var e=cg(t);if(e.sources=function(t,n,i){if(im(t))return[sE(t,n,i)];if(V(t)&&im(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(sE(s,n,i))}return e}return[sm()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=cE(s,n))&&(fE(s)||vE(s)||lE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!em(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=hE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=gg(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=jS(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?QS(u.stereoMode):zS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=om(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=cg(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==YS&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Dm(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=wg(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var wE=function(){function t(t){this.KP=t}return t.prototype.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.KP.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.KP.indexOf(t.charAt(n))<<18|this.KP.indexOf(t.charAt(n+1))<<12|(s=this.KP.indexOf(t.charAt(n+2)))<<6|(u=this.KP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.$P=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.KP.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.KP.charAt(e)+this.KP.charAt(r)+this.KP.charAt(s)+this.KP.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.eb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.tB=new t(t.eb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function _E(t){return"string"==typeof t}function gE(t){return"number"==typeof t}var mE={}.toString;var yE,kE=Array.isArray||function(t){return"[object Array]"===mE.call(t)};function pE(t,n){return kE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(yE||(yE={}));var bE,AE=d.keys(yE).map(function(t){return yE[t]});function TE(t){return-1!==AE.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(bE||(bE={}));var SE,EE=d.keys(bE).map(function(t){return bE[t]});function IE(t){return-1!==EE.indexOf(t)}function RE(t){try{var n=wE.tB.JP(t),i=JSON.parse(n);if(!function(t,n){var i,e=(l=t,"object"==typeof l&&null!==l),r=_E(t.key),s=_E(t.customer_id),u=gE(t.generation_date),o=gE(t.expiration_date),a=pE(t.domains_page,_E),h=pE(t.domains_source,_E),c=pE(t.sdks,n?TE:_E),f=(v=t.send_impression,"boolean"==typeof v);var v;var l;t.features?i=pE(t.features,n?IE:_E):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function DE(){return SE||(SE={Ql:de.href,nB:le.parent&&le.parent!==r,iB:PE()}),SE}var NE,CE=["http:","https:","ftp:","ws:","wss:"];function PE(){try{return le.top.location.href}catch(t){return le&&le.document&&le.document.referrer}}!function(t){t[t.eB=0]="eB",t[t.rB=1]="rB",t[t.sB=2]="sB"}(NE||(NE={}));var BE,OE=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.uB=t,this.oB=n,this.aB=i,this.hB=e,this.cB=r,this.fB=s,this.vB=u,this.lB=o,this.dB=a};!function(t){t.rB="expired",t.wB="invaliddomain",t._B="invalidsource",t.gB="invalidfeature",t.z_="error"}(BE||(BE={}));var xE=function(){function t(t,n,i){this.mB=void 0,this.yB=t,this.kB=n,this.Qo=i,this.mB=FE(this.Qo)}var n=t.prototype;return n.pB=function(t,n){var i=this;if(!eE(t)&&0!==n.aB.length&&!UE(n.aB)){var e=[];if(im(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.bB(t,n)})){var r=BE._B,s=VE.AB(r);throw new nf(LE(r),s)}}},n.TB=function(n){return this.SB(n.lB)&&this.EB(n)?t.IB(n.hB)?NE.eB:NE.rB:NE.sB},n.RB=function(t,n){if(!Fs(n.cB,t)){var i=BE.gB,e=VE.AB(i);throw new nf(LE(i),e)}},n.SB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.DB(t)})},n.DB=function(t){return"ios"===function(t){switch(t){case yE.ANDROID:return e.g;case yE.ANDROIDTV:case yE.FIRETV:return e.I;case yE.IOS:return e.R;case yE.TVOS:return e.N;case yE.CHROMECAST:case yE.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.IB=function(t){var n=Number(new Date);return!!t&&n<=t},n.EB=function(t){return!(this.mB&&0!==t.oB.length&&!UE(t.oB))||!!(this.mB&&this.NB(t.oB)&&this.CB(t.oB))},n.NB=function(t){return XE(this.Qo.Ql,t)},n.CB=function(t){if(!this.Qo.nB)return!0;if(this.yB)return!0;var n=this.PB();return!!n&&XE(n,t)},n.PB=function(){if(this.Qo.nB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.iB?this.Qo.iB:void 0}},n.bB=function(n,i){return!!t.BB(n,i.aB)},t.BB=function(t,n){return XE(this.OB(t),n)},t.OB=function(t){return q(t)?t:nm(t)&&t.src||""},t}();function LE(t){switch(t){case BE.wB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case BE._B:return n.ErrorCode.LICENSE_INVALID_SOURCE;case BE.rB:return n.ErrorCode.LICENSE_EXPIRED;case BE.gB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case BE.z_:return n.ErrorCode.LICENSE_ERROR}}function ME(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function UE(t){return t.some(function(t){return"*"===t})}function XE(t,n){var e=i.Br(t);if(!HE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(ME(e.hostname,s))return!0;if(ME(vw(t),s))return!0}return!1}function HE(t){return-1!==CE.indexOf(t.protocol)}function FE(t){var n=i.Br(t.Ql);return HE(n)&&!ME(n.hostname,"localhost")&&!function(t){return ME(t.hostname,"theoplayer.doubleclick.net")}(n)}var zE,VE=function(){function t(){}return t.AB=function(t){return t===BE.wB?this.xB:t===BE._B?this.LB:t===BE.rB?this.MB:t===BE.gB?this.UB:this.XB},t}();function WE(t){var n=[t.fS,t.HB,t.FB];switch(t.HB){case zE.zB:n.push(t.Z_);break;case zE.VB:n.push(t.Xg),n.push(t.mu);break;case zE.WB:n.push(t.mu)}return n}VE.XB="The license for this player is invalid.",VE.MB="The usage license for this video player has expired.",VE.xB="The current domain is incompatible with the license for this player.",VE.LB="The provided video source is incompatible with the license for this player.",VE.UB="The requested feature is not available with the license for this player.",function(t){t[t.zB=1]="zB",t[t.VB=4]="VB",t[t.WB=5]="WB"}(zE||(zE={}));for(var GE=new Array(256),qE=0;qE<256;qE+=1)GE[qE]=(qE<16?"0":"")+qE.toString(16);function YE(){var t=Vt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return GE[255&n]+GE[n>>>8&255]+GE[n>>>16&255]+GE[n>>>24&255]+"-"+GE[255&i]+GE[i>>>8&255]+"-"+GE[i>>>16&15|64]+GE[i>>>24&255]+"-"+GE[63&e|128]+GE[e>>>8&255]+"-"+GE[e>>>16&255]+GE[e>>>24&255]+GE[255&r]+GE[r>>>8&255]+GE[r>>>16&255]+GE[r>>>24&255]}var jE=function(){function t(t){this.KP=void 0,this.KP=t}var n=t.prototype;return n.JP=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.KP.indexOf(t.charAt(n))<<18|this.KP.indexOf(t.charAt(n+1))<<12|(s=this.KP.indexOf(t.charAt(n+2)))<<6|(u=this.KP.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.$P=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.KP.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.KP.charAt(i)+this.KP.charAt(e)+this.KP.charAt(r)+this.KP.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function QE(){return i.ir()}jE.eb=new jE(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),jE.tB=new jE(jE.eb.JP("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var ZE,KE="theoplayer-session-id";function JE(){if(!ZE){var t=mf.Iu(KE);t?ZE=t:(ZE=YE(),mf.ef(KE,ZE))}return ZE}var $E=/[^\x00-\x7E]/g;function tI(t){return"\\u"+gs(t.charCodeAt(0).toString(16),4,"0")}var nI=0,iI=1,eI=6e4;function rI(t){var n,i,e,r,s,u=(n=function(t){return[t.GB,t.nc,t.uB,t.EA,t.qB,t.YB,t.jB.map(WE)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace($E,tI));return jE.tB.$P(u)}var sI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=jE.eb),void 0===r&&(r=nI),void 0===s&&(s=iI),this.QB=[],this.ZB=null,this.KB=0,this.JB="unknown",this.Fa=0,this.$B=void 0,this.tO=function(){QE()-u.KB>eI&&u.Pe()},this.nO=function(){u.Pe(!0)},this.wh=t,this.lE=n,this.iO=i,this.eO=e,this.rO=r,this.sO=s,ve.uO(this.nO),this.$B=c(this.tO,eI)}var n=t.prototype;return n.oO=function(){return Boolean(this.qB)},n.aO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:if(i.sent.dB){i.next=5;break}return i.abrupt("return");case 5:return n={HB:zE.zB,FB:Vt(),Z_:t},i.next=8,Dr.awrap(this.cO(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.fO=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={HB:zE.VB,FB:Vt(),Xg:n,mu:t},e.next=3,Dr.awrap(this.cO(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.vO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={HB:zE.WB,FB:Vt(),mu:t},i.next=3,Dr.awrap(this.cO(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.cO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.eO.$P(n.uB)){i.next=6;break}if(t.HB===zE.WB){i.next=6;break}return i.abrupt("return");case 6:if(t.HB===zE.zB?this.lO():this.oO()||this.lO(),t.fS=this.Fa++,this.QB.push(t),(e=t.HB)!==zE.zB&&e!==zE.WB){i.next=14;break}return i.next=12,Dr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.QB.length>this.rO)){i.next=19;break}return i.next=17,Dr.awrap(this.dO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.Pe=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.QB.length>0)){n.next=6;break}return n.next=4,Dr.awrap(this.dO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.wO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:return n=i.sent,i.abrupt("return",{GB:Vt(),nc:JE(),uB:this.eO.$P(n.uB)||"dev",EA:this.wh,qB:this.ZB,YB:this.JB,jB:t});case 4:case"end":return i.stop()}},null,this,null,We)},n.dO=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.QB.splice(0,this.sO),e.next=4,Dr.awrap(this.wO(n));case 4:i=e.sent,t?this.Td(i):this._O(i),this.KB=QE();case 7:case"end":return e.stop()}},null,this,null,We)},n._O=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=rI(t),i=new rw({Ql:"https://license.theoplayer.com",Cl:n,bd:!1,Wl:Af.$n,Vl:{"Content-Type":zA.qI},yd:4e3,md:$d.POST}),r.prev=2,r.next=5,Dr.awrap(this.lE.Yl(i));case 5:return e=r.sent,r.next=8,Dr.awrap(e.Rl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.Td=function(t){var n=rI(t);this.lE.Td({Ql:"https://license.theoplayer.com",Cl:n,Nl:zA.qI})},n.lO=function(){this.oO()&&this.Pe(),this.ZB=YE(),this.Fa=0},n.Sd=function(){ve.gO(this.nO),f(this.$B),this.Pe()},A(t,[{key:"jB",get:function(){return this.QB}},{key:"qB",get:function(){return this.ZB}}]),t}();var uI=M.Rn||M.hn&&M.On<13;function oI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var aI=function(){function t(t){this.fN=void 0,this.Ww=void 0,this.mO=void 0,this.fN=t}var n=t.prototype;return n.yO=function(t){if(!t||!t.drawImage)return!1;var n=this.fN.Wm();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.kO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.fN,a=o.Wm();if(!a)return!1;if(uI){this.mO||(this.mO=s.createElement("canvas"));var h=this.mO,c=h.getContext("2d"),f=o.jg,l=o.Yg,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===l||(h.width=f,h.height=l),c.drawImage(a,0,0,f,l);var _=!1;f>0&&oI(c,f-1,0)&&(h.width=d,_=!0),l>0&&oI(c,0,l-1)&&(h.height=w,_=!0),_&&c.drawImage(a,0,0,f,l),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Gw",get:function(){return this.Ww||(this.Ww=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.yO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.kO(n,i,e,r,s,u)}}));var t}}]),t}(),hI=function(t){function n(n,i){var e;return(e=t.call(this,"pO")||this).Tk=n,e.sT=i,e}return S(n,t),n.prototype.qw=function(){return new cI(this.Tk,this.sT)},n}(j_),cI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(gu),fI=function(t,n){this.iy=void 0,this.bO=void 0,this.iy=t,this.bO=n},vI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).AO=void 0,e.TO=0,e.SO=0,e.EO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.SO=n.width,e.TO=n.height,e.bO(e.SO,e.TO)}},e.AO=new le.ResizeObserver(e.EO),e.AO.observe(e.iy),e}return S(n,t),n.prototype.Sd=function(){this.AO.disconnect()},A(n,[{key:"IO",get:function(){return this.TO}},{key:"RO",get:function(){return this.SO}}]),n}(fI),lI=0;var dI,wI=h,_I=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,gI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function mI(){return dI||(dI=le&&le.document&&le.document.createElement("span")),dI}_I&&gI||(_I=function(t){var n=QE(),i=w.max(0,16-(n-lI)),e=a(function(){return t(n+i)},i);return lI=n+i,e},gI=wI),_I=_I.bind(t),gI=gI.bind(t);var yI=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==le&&"function"==typeof le.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});le.addEventListener("testPassiveEventSupport",K,n),le.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}}();var kI=Pr();function pI(t){return kI.has(t)||kI.set(t,function(t){var n=mI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<yI.length;e++){var r=yI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),kI.get(t)}function bI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function AI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[pI("transition")]="0s"}var TI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).DO=void 0,u.CO=0,u.SO=NaN,u.TO=NaN,u.PO=void 0,u.BO=void 0,u.OO=void 0,u.xO=void 0,u.LO=void 0,u.k_=function(){u.BO.style.width=1e5+"px",u.BO.style.height=1e5+"px",u.PO.scrollLeft=1e5,u.PO.scrollTop=1e5,u.OO.scrollLeft=1e5,u.OO.scrollTop=1e5,0===u.OO.scrollTop&&_I(u.k_)},u.MO=function(){var t=u.RO,n=u.IO;u.bO(t,n),u.SO=t,u.TO=n,u.k_(),u.CO=0},u.UO=function(){if(!u.CO){var t=u.RO,n=u.IO;t===u.SO&&n===u.TO||(u.CO=_I(u.MO))}},u.XO=function(){u.LO||(u.LO=a(u.HO,66))},u.HO=function(){u.LO=void 0,u.FO()},u.FO=function(){u.UO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.DO=c,u.PO=s.createElement("div"),u.BO=s.createElement("div"),u.OO=s.createElement("div"),u.xO=s.createElement("div"),bI(u.PO),bI(u.OO),AI(u.BO),AI(h=u.xO),h.style.width="200%",h.style.height="200%",c.appendChild(u.PO),c.appendChild(u.OO),u.PO.appendChild(u.BO),u.OO.appendChild(u.xO),n.appendChild(c),u.PO.addEventListener("scroll",u.UO),u.OO.addEventListener("scroll",u.UO),r&&r.addEventListener("resize",u.XO),u.UO(),u}return S(n,t),n.prototype.Sd=function(){gI(this.CO),this.CO=0,this.PO.removeEventListener("scroll",this.UO),this.OO.removeEventListener("scroll",this.UO),$e(this.DO),r&&r.removeEventListener("resize",this.XO)},A(n,[{key:"IO",get:function(){return this.iy.getBoundingClientRect().height||this.TO||0}},{key:"RO",get:function(){return this.iy.getBoundingClientRect().width||this.SO||0}}]),n}(fI),SI=function(t){function n(n){var i;return(i=t.call(this)||this).iy=void 0,i.AO=void 0,i.EO=function(t,n){i.Qs(new hI(t,n))},i.iy=n,i}S(n,t);var i=n.prototype;return i.hc=function(t){this.AO||("function"==typeof le.ResizeObserver?this.AO=new vI(this.iy,this.EO):this.AO=new TI(this.iy,this.EO,t))},i.Sd=function(){this.$s(),this.AO&&(this.AO.Sd(),this.AO=void 0)},A(n,[{key:"IO",get:function(){return this.AO?this.AO.IO:0}},{key:"RO",get:function(){return this.AO?this.AO.RO:0}}]),n}(wu),EI=function(t){function n(){return t.call(this,rS.r_)||this}return S(n,t),n}(gu);var II=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{zO:i[0],VO:i[1],WO:i[2],GO:i[3],qO:i[4],YO:i[5]}}}(),RI=function(t){function n(){return t.call(this,rS.vC)||this}return S(n,t),n}(gu),DI=function(t){function n(i){var e;return(e=t.call(this)||this).iy=void 0,e.dC=void 0,e.lC=!1,e.jO=function(){return e.YC()},e.QO=function(){return e.QC()},e.iy=i,e.dC=n.ZO(i),s.addEventListener(II.qO,e.jO),e.YC(),e}S(n,t),n.ZO=function(t){return Boolean(II&&s[II.GO]&&II.zO in t)};var i=n.prototype;return i.Xy=function(){var t=this.iy[II.zO]();t&&t.then?t.then(this.jO,this.QO):(s.removeEventListener(II.YO,this.QO),s.addEventListener(II.YO,this.QO))},i.Fy=function(){var t=s[II.VO]();t&&t.then?t.then(this.jO,this.QO):(s.removeEventListener(II.YO,this.QO),s.addEventListener(II.YO,this.QO))},i.YC=function(){var t=this.lC,n=this.iy===s[II.WO];this.lC=n,t!==n&&this.Qs(new EI)},i.QC=function(){this.Qs(new aS)},i.Sd=function(){this.$s(),s.removeEventListener(II.qO,this.jO),s.removeEventListener(II.YO,this.QO)},n}(wu),NI=function(t){function n(i){var e;return(e=t.call(this)||this).iy=void 0,e.dC=void 0,e.lC=!1,e.jO=function(){return e.YC()},e.iy=i,e.dC=n.ZO(i),e.iy.addEventListener("webkitbeginfullscreen",e.jO),e.iy.addEventListener("webkitendfullscreen",e.jO),e.iy.addEventListener("webkitpresentationmodechanged",e.jO),e.YC(),e}S(n,t),n.ZO=function(t){return M.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Xy=function(){var t=this;this.iy.webkitSupportsPresentationMode&&this.iy.webkitSupportsPresentationMode("fullscreen")?M.hn?requestAnimationFrame(function(){return t.iy.webkitSetPresentationMode("fullscreen")}):this.iy.webkitSetPresentationMode("fullscreen"):this.iy.webkitEnterFullscreen()},i.Fy=function(){this.iy.webkitSupportsPresentationMode&&this.iy.webkitSupportsPresentationMode("inline")?this.iy.webkitSetPresentationMode("inline"):this.iy.webkitExitFullscreen()},i.YC=function(){var t,n=this.lC;t=this.iy.webkitPresentationMode?"fullscreen"===this.iy.webkitPresentationMode:!!this.iy.webkitDisplayingFullscreen,this.lC=t,n!==t&&this.Qs(new EI)},i.Sd=function(){this.$s(),this.iy.removeEventListener("webkitbeginfullscreen",this.jO),this.iy.removeEventListener("webkitendfullscreen",this.jO),this.iy.removeEventListener("webkitpresentationmodechanged",this.jO)},n}(wu),CI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KO=[],n.JO=void 0,n.VC=!1,n.YC=function(){var t=n.VC,i=n.$O();t!==i&&(n.VC=i,n.Qs(new EI))},n}S(n,t);var i=n.prototype;return i.Xy=function(){this.JO?this.JO.Xy():this.Qs(new aS)},i.Fy=function(){for(var t=0,n=this.KO;t<n.length;t++){var i=n[t];i.lC&&i.Fy()}},i.tx=function(t){this.JO=t},i.nx=function(t){this.KO.push(t),t.Zs(rS.r_,this.YC),t.Zs(rS.z_,this.js),this.YC()},i.ix=function(t){Us(this.KO,t),t.tu(rS.r_,this.YC),t.tu(rS.z_,this.js)},i.$O=function(){for(var t=0,n=this.KO;t<n.length;t++){if(n[t].lC)return!0}return!1},i.k_=function(){this.JO=void 0,this.VC=!1;for(var t=this.KO.slice(),n=0;n<t.length;n++){var i=t[n];this.ix(i),i.Sd()}this.YC()},i.Sd=function(){this.$s(),this.k_()},A(n,[{key:"dC",get:function(){return!!this.JO&&this.JO.dC}},{key:"lC",get:function(){return this.VC}}]),n}(wu),PI=function(t){function n(n,i){var e;return(e=t.call(this)||this).fN=void 0,e.ex=void 0,e.sx=void 0,e.ux=!1,e.ox=function(){return e.Zh()},e.YC=function(t){e.ux||e.Qs(t)},e.fN=n,e.ex=i,e.sx=hS,e.ax(),e.fN.Zs(bf.yf,e.ox),e.Zh(),e}S(n,t);var i=n.prototype;return i.Xy=function(){this.ex&&this.sx.Xy()},i.Fy=function(){this.sx.Fy()},i.ax=function(){this.sx.Zs(rS.r_,this.YC),this.sx.Zs(rS.z_,this.js)},i.hx=function(){this.sx.tu(rS.r_,this.YC),this.sx.tu(rS.z_,this.js)},i.Zh=function(){var t=this.sx,n=this.fN.Gm();if(t!==n){this.ux=!0;var i=this.lC,e=this.dC;i&&this.Fy(),this.hx(),this.sx=n,this.ax(),i&&!this.lC&&this.dC?this.Xy():this.Fy(),this.ux=!1,e!==this.dC&&this.Qs(new RI),i!==this.lC&&this.Qs(new EI)}},i.Sd=function(){this.$s(),this.hx(),this.fN.tu(bf.yf,this.ox)},A(n,[{key:"dC",get:function(){return!!this.ex&&this.sx.dC}},{key:"lC",get:function(){return this.sx.lC}}]),n}(wu);function BI(t){var n;return{get url(){return t.Ql},get method(){return t.md},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},get useCredentials(){return t.bd},get type(){return UI(t.fs)},get subType(){return HI(t.kd)},get mediaType(){return zI(t.pd)},get responseType(){return xI(t.Wl)}}}function OI(t){switch(t.toLowerCase()){case"arraybuffer":return Af.Gf;case"json":return Af.qf;case"stream":return Af.Yf;case"text":default:return Af.$n}}function xI(t){return t}function LI(t){switch(t.toUpperCase()){case"POST":return $d.POST;case"PUT":return $d.PUT;case"DELETE":return $d.DELETE;case"HEAD":return $d.HEAD;case"OPTIONS":return $d.OPTIONS;case"GET":default:return $d.GET}}function MI(t){switch(t.toLowerCase()){case"manifest":return tw.Jl;case"segment":return tw.$l;case"content-protection":return tw.td;default:return tw.Kl}}function UI(t){return t}function XI(t){switch(t.toLowerCase()){case"initialization-segment":return nw.ed;case"fairplay-license":return nw.rd;case"fairplay-certificate":return nw.ud;case"widevine-license":return nw.od;case"widevine-certificate":return nw.hd;case"playready-license":return nw.fd;case"clearkey-license":return nw.vd;case"aes128-key":return nw.ld;default:return nw.Kl}}function HI(t){return t}function FI(t){switch(t.toLowerCase()){case"audio":return iw.dd;case"video":return iw.wd;case"text":return iw.$n;case"image":return iw._d;case"":default:return iw.Kl}}function zI(t){return t}var VI=function(){function t(t,n){this.vx=new Go,this.lx=[],this.Ww=void 0,this.wx=!1,this.Md=void 0,this._x=0,this.gx=t,this.mx=n}var n=t.prototype;return n.wA=function(){this.wx=!0,this.vx.Wu(null)},n.yx=function(){this.vx.Gu(new Cd(this.lx))},n.kx=function(t){if(!this.bx)throw new l("Cannot respond more than once");if(!W(t))throw new l("Expected valid response");this.Md=this.Ax(t),this.wA()},n.Tx=function(){try{var t=this.mx(this.Gw);t?this.Sx(t):this.Ex||this.Ix||this.wA()}catch(t){this.lx.push(t),this.yx()}},n.Sx=function(t){if(this.Ix)throw new v("Request has been redirected or a response already exists");if(j(t))this.Rx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Go;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});j(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.Rx(n.Hu)}},n.Rx=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this._x++,n.next=4,Dr.awrap(t);case 4:this._x--,this.Ex||this.Ix||(this.lx.length?this.yx():this.wA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this._x--,this.lx.push(n.t0),this.Ex||this.Ix||this.yx();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},A(t,[{key:"Dx",get:function(){return this.vx.Hu}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.Nx()),this.Ww}},{key:"Ix",get:function(){return this.wx}},{key:"bx",get:function(){return!this.wx}},{key:"Ex",get:function(){return this._x>0}},{key:"Ud",get:function(){return this.Md}}]),t}(),WI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Cx=void 0,r.Cx=e,r.Tx(),r}S(n,t),n.Px=function(t,n,i){var e=void 0===t.body?i:t.body;return new ew({Fi:e,Yl:n.Yl,Wl:n.Yl.Wl,Vl:t.headers,zl:t.status,Gl:t.statusText,jl:t.url,ql:!0},n)};var i=n.prototype;return i.Nx=function(){return i=BI((t=this).Yl),{get closed(){return!t.bx},get request(){return i},get url(){return t.Ql},get status(){return t.zl},get statusText(){return t.Gl},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},respondWith:function(n){return t.kx(n)},waitUntil:function(n){return t.Sx(n)}};var t,n,i},i.Ax=function(t){return n.Px(t,this.gx,this.Cx)},A(n,[{key:"Cl",get:function(){return this.Cx}},{key:"Vl",get:function(){return this.gx.Vl}},{key:"Yl",get:function(){return this.gx.Yl}},{key:"Ud",get:function(){return this.Md}},{key:"zl",get:function(){return this.gx.zl}},{key:"Gl",get:function(){return this.gx.Gl}},{key:"Ql",get:function(){return this.gx.jl}}]),n}(VI),GI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Bx=void 0,r.Ox=void 0,r.Ox=e,r.Tx(),r}S(n,t);var i=n.prototype;return i.Nx=function(){return t=this,{get url(){return t.Ql},get method(){return t.md},get headers(){return n||(n=t.Vl.jf()),n},get body(){return t.Cl},get closed(){return!t.bx},get useCredentials(){return t.bd},get type(){return UI(t.fs)},get subType(){return HI(t.kd)},get mediaType(){return zI(t.pd)},get responseType(){return xI(t.Wl)},redirect:function(n){return t.xx(n)},respondWith:function(n){return t.kx(n)},waitUntil:function(n){return t.Sx(n)}};var t,n},i.Ax=function(t){var n=this.gx.Cl,i=new ew({Fi:n,Vl:{},Yl:this.gx,jl:this.gx.Ql,Wl:this.gx.Wl,zl:200,Gl:"OK"});return WI.Px(t,i,n)},i.xx=function(t){if(!this.bx)throw new l("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.Bx=function(t,n){return new rw({Ql:void 0===t.url?n.Ql:t.url,md:void 0!==t.method?LI(t.method):void 0,Vl:t.headers,Cl:t.body,bd:t.useCredentials,fs:void 0!==t.type?MI(t.type):void 0,kd:void 0!==t.subType?XI(t.subType):void 0,pd:void 0!==t.mediaType?FI(t.mediaType):void 0,Wl:void 0!==t.responseType?OI(t.responseType):void 0},n)}(n,this.gx),this.wA()},A(n,[{key:"Cl",get:function(){return this.gx.Cl}},{key:"bx",get:function(){return this.Ox&&!this.wx}},{key:"Vl",get:function(){return this.gx.Vl}},{key:"md",get:function(){return this.gx.md}},{key:"Lx",get:function(){return this.Bx}},{key:"Ud",get:function(){return this.Md}},{key:"Wl",get:function(){return this.gx.Wl}},{key:"yd",get:function(){return this.gx.yd}},{key:"Ws",get:function(){return this.gx.Ws}},{key:"fs",get:function(){return this.gx.fs}},{key:"kd",get:function(){return this.gx.kd}},{key:"pd",get:function(){return this.gx.pd}},{key:"Ql",get:function(){return this.gx.Ql}},{key:"bd",get:function(){return this.gx.bd}},{key:"Ad",get:function(){return this.gx.Ad}}]),n}(VI);var qI,YI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new jI(n);return(e=t.call(this,r,i)||this).Mx=void 0,e.Mx=r,e}S(n,t);var i=n.prototype;return i.Ux=function(t){this.Mx.Ux(t)},i.Xx=function(t){this.Mx.Xx(t)},i.Hx=function(t){this.Mx.Hx(t)},i.Fx=function(t){this.Mx.Fx(t)},i.zx=function(t){this.Mx.zx(t)},n}(uw),jI=function(){function t(t){this.Ed=void 0,this.Vx=[],this.Wx=[],this.Ed=t}var n=t.prototype;return n.Yl=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Gx(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof lw)){i.next=12;break}return i.next=11,Dr.awrap(this.qx(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Dr.awrap(this.Yx(n,t.Ws));case 15:if(!Jd(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new ww(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.Td=function(t){return this.Ed.Td(t)},n.Gx=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(n),i=t,r=0,s=this.Vx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],nu(n),(o=new GI(i,u,!e)).Ix){a.next=17;break}return a.prev=8,a.next=11,Dr.awrap(o.Dx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Lx&&!e?i=o.Lx:o.Ud&&!e&&(e=o.Ud);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Ed.Yl(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.qx=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof ww?t.Ud:new ew({Fi:null,Yl:t.Yl,zl:0,Gl:""}),r.next=3,Dr.awrap(this.Yx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Jd(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new ww(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.Yx=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.Wx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],nu(n),a.next=7,Dr.awrap(We.resolve(i.Lu().Fi(n)));case 7:if(u=a.sent,(o=new WI(i,s,u)).Ix){a.next=19;break}return a.prev=10,a.next=13,Dr.awrap(o.Dx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.Ud||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.Ux=function(t){this.Vx.unshift(t)},n.Xx=function(t){this.Vx.push(t)},n.Hx=function(t){Us(this.Vx,t)},n.Fx=function(t){this.Wx.unshift(t)},n.zx=function(t){Us(this.Wx,t)},n.Sd=function(){this.Ed.Sd(),zs(this.Vx),zs(this.Wx)},t}(),QI=function(){function t(t){this.Ww=void 0,this.lE=t}var n=t.prototype;return n.Ux=function(t){this.lE.Ux(t)},n.Hx=function(t){this.lE.Hx(t)},n.Fx=function(t){this.lE.Fx(t)},n.zx=function(t){this.lE.zx(t)},A(t,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{addRequestInterceptor:function(n){t.Ux(n)},removeRequestInterceptor:function(n){t.Hx(n)},addResponseInterceptor:function(n){t.Fx(n)},removeResponseInterceptor:function(n){t.zx(n)}})),this.Ww}}]),t}(),ZI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Ww=void 0,r.jx=function(t){r.Qs(t)},r.Qx=function(t){r.Qs(t)},r.Zx=n,r.lE=i,r.TC=e,r.Zx.Zs(bf.Sf,r.jx),r.Zx.Zs(bf.Tf,r.Qx),r}S(n,t);var i=n.prototype;return i.Kx=function(t){this.TC.Kx(t)},i.Ux=function(t){this.lE.Ux(t)},i.Hx=function(t){this.lE.Hx(t)},i.Fx=function(t){this.lE.Fx(t)},i.zx=function(t){this.lE.zx(t)},i.Sd=function(){this.$s(),this.Zx.tu(bf.Sf,this.jx),this.Zx.tu(bf.Tf,this.Qx)},A(n,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get online(){return t._y},get estimator(){return n=t.Jx,{get bandwidth(){return n.NR},get roundTripTime(){return n.PR}};var n},setEstimator:function(n){t.Kx(function(t){if(t)return{get NR(){return _g(t.bandwidth)},get PR(){return _g(t.roundTripTime)},DR:function(n){return function(t){if(t)return{$x:function(n){t.markRequestStart(n)},tL:function(n){t.markResponseStart(n)},nL:function(n,i){t.markResponseData(n,i)},iL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(BI(n)))}}}(n))},addRequestInterceptor:function(n){t.Ux(n)},removeRequestInterceptor:function(n){t.Hx(n)},addResponseInterceptor:function(n){t.Fx(n)},removeResponseInterceptor:function(n){t.zx(n)},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.Ww}},{key:"_y",get:function(){return this.Zx._y}},{key:"Jx",get:function(){return this.TC.Jx}}]),n}(wu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(qI||(qI={}));var KI=30,JI=1,$I=5;function tR(t,n,i,e,r,s){var u=[],o=t-w.max(s,JI),a=t+r;if(n&&i){var h=Mt(i,JI,$I),c=n-h;o=w.min(o,c);var f=n+i+h;a=w.max(a,f)}return 0!==o&&e.$N(0,o)&&u.push([0,o]),e.$N(a,1/0)&&u.push([a,1/0]),u}function nR(t){return t instanceof v&&"QuotaExceededError"===t.name}var iR={type:qI.BANDWIDTH},eR=20;function rR(t){var n,i,e,r=cg(iR);return q(t)?r.type=sR(t):W(t)&&function(t){switch(t){case qI.PERFORMANCE:case qI.QUALITY:case qI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=sR(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=wg(n.bitrate),m(e)||(i.bitrate=e),i)),r}function sR(t){switch(t){case"bandwidth":return qI.BANDWIDTH;case"performance":return qI.PERFORMANCE;case"quality":return qI.QUALITY}}var uR=function(t){function n(n){var i;return(i=t.call(this,"rL")||this).eL=n,i}return S(n,t),n}(gu),oR=function(t){function n(n){var i;return(i=t.call(this,"uL")||this).sL=n,i}return S(n,t),n}(gu),aR=function(t){function n(n){var i;return(i=t.call(this,"aL")||this).oL=n,i}return S(n,t),n}(gu),hR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Ww=(i=Kt(n),{get strategy(){return{metadata:(t=i.sL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.sL=rR(t)},get targetBuffer(){return i.eL},set targetBuffer(t){var n=wg(t);m(n)||(i.eL=n)},get bufferLookbackWindow(){return i.oL},set bufferLookbackWindow(t){var n=wg(t);m(n)||(i.oL=n<=0?KI:n)},get maxBufferLength(){return i.hL}}),n.cL=iR,n.fL=eR,n.vL=KI,n.lL=1/0,n.dL=void 0,n.wL=void 0,n}S(n,t);var i=n.prototype;return i._L=function(t){this.wL=t},i.Kx=function(t){this.dL=t},i.gL=function(t){var n=w.min(t,.8*this.lL);if(n=w.max(10,n),this.lL===n)return!1;var i=this.mL;this.lL=n;var e=this.mL;return e!==i&&this.Qs(new uR(e)),!0},A(n,[{key:"yL",get:function(){switch(this.cL.type){case qI.PERFORMANCE:return 0;case qI.QUALITY:return 1/0;case qI.BANDWIDTH:return this.cL.metadata&&void 0!==this.cL.metadata.bitrate?this.cL.metadata.bitrate:8*Hg.wg();default:return 8*Hg.wg()}}},{key:"Gw",get:function(){return this.Ww}},{key:"sL",get:function(){return this.cL},set:function(t){this.cL=t,this.Qs(new oR(t))}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t,this.Qs(new uR(t))}},{key:"mL",get:function(){return w.min(this.fL,this.lL)}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.Qs(new aR(t))}},{key:"hL",get:function(){return this.lL}},{key:"Jx",get:function(){var t;return null!=(t=this.dL)?t:this.wL.ZD}}]),n}(wu),cR=function(t){function n(){return t.call(this,"s_")||this}return S(n,t),n.prototype.qw=function(){return new fR},n}(j_),fR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(gu),vR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).kL=void 0,r.QB=void 0,r.pL=function(t){Q_(t)&&au(function(){r.Qs(t.Gw)})},r.kL=n,r.QB=i;for(var s=0,u=r.QB;s<u.length;s++){var o=u[s];r.kL.Zs(o,r.pL)}return r}return S(n,t),n.prototype.Sd=function(){this.$s();for(var t=0,n=this.QB;t<n.length;t++){var i=n[t];this.kL.tu(i,this.pL)}},n}(wu),lR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).kL=void 0,e.pL=function(t){Q_(t)&&au(function(){e.Qs(t.Gw)})},e.kL=n,e.kL.Js(e.pL),e}return S(n,t),n.prototype.Sd=function(){this.$s(),this.kL.ou(this.pL)},n}(Lg);var dR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nk=0,n.ek=1/0,n.Ww=void 0,n}S(n,t);var i=n.prototype;return i.k_=function(){0===this.nk&&this.ek===1/0||(this.nk=0,this.ek=1/0,this.Qs(new cR))},i.bL=function(){return new uS([this.Vy,this.Wy],[!0,!0])},A(n,[{key:"Vy",get:function(){return this.nk},set:function(t){if(this.Wy<=t)throw new v("Start time of a clip should be smaller than the end time.");this.nk!==t&&(this.nk=t,this.Qs(new cR))}},{key:"Wy",get:function(){return this.ek},set:function(t){if(t<=this.Vy)throw new v("End time of a clip should be larger than the start time.");this.ek!==t&&(this.ek=t,this.Qs(new cR))}},{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get startTime(){return t.Vy},set startTime(n){t.Vy=n},get endTime(){return t.Wy},set endTime(n){t.Wy=n},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new lR(t=this,i),i)),this.Ww}}]),n}(Lg),wR=function(t){function n(n){var i;return(i=t.call(this)||this).AL=function(t){i.TL(t)||i.Qs(t)},i.SL=n,i.SL.Js(i.AL),i}S(n,t);var i=n.prototype;return i.EL=function(){return this.SL.Im},i.qm=function(){return this.SL.qm()},i.IL=function(){return this.SL.Jm},i.RL=function(){return this.SL.Zm},i.DL=function(){return this.SL.$m},i.NL=function(t){this.SL.$m=t},i.CL=function(){return this.SL.Xg},i.PL=function(t){this.SL.Xg=t},i.BL=function(){return this.SL.Hg},i.OL=function(){return this.SL.iy},i.xL=function(){return this.SL.Fg},i.LL=function(){return this.SL.mu},i.ML=function(){return this.SL.zg},i.UL=function(){return this.SL.ey},i.XL=function(){return this.SL.Vg},i.HL=function(t){this.SL.Vg=t},i.FL=function(){return this.SL._y},i.zL=function(){return this.SL.Wg},i.VL=function(){return this.SL.Gg},i.WL=function(t){this.SL.Gg=t},i.GL=function(){return this.SL.gy},i.qL=function(){return this.SL.yy},i.YL=function(t){this.SL.yy=t},i.jL=function(){return this.SL.Y_},i.QL=function(){return this.SL.py},i.ZL=function(){return this.SL.qg},i.Om=function(){return this.SL.Om()},i.xm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(this.SL.xm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.KL=function(){return this.SL.Dm},i.JL=function(){return this.SL.Yg},i.$L=function(){return this.SL.Rm},i.tM=function(){return this.SL.jg},i.nM=function(){return this.SL.Qg},i.iM=function(t){this.SL.Qg=t},i.Gm=function(){return this.SL.Gm()},i.Wm=function(){return this.SL.Wm()},i.Hm=function(t){this.SL.Hm(t)},i.Fm=function(){this.SL.Fm()},i.Vm=function(){this.SL.Vm()},i.Xm=function(){this.SL.Xm()},i.Pm=function(){this.SL.Pm()},i.Cm=function(){this.SL.Cm()},i.zm=function(){this.SL.zm()},i.Bm=function(){return this.SL.Bm()},i.Lm=function(){return this.SL.Lm()},i.Mm=function(){this.SL.Mm()},i.Um=function(){this.SL.Um()},i.k_=function(){return this.SL.k_()},i.Sd=function(){return this.SL.Sd()},i.Km=function(){this.SL.Km()},i.Ym=function(t){return this.SL.Ym(t)},i.TL=function(t){return!1},A(n,[{key:"Im",get:function(){return this.EL()}},{key:"Jm",get:function(){return this.IL()}},{key:"$m",get:function(){return this.DL()},set:function(t){this.NL(t)}},{key:"Zm",get:function(){return this.RL()}},{key:"Xg",get:function(){return this.CL()},set:function(t){this.PL(t)}},{key:"Hg",get:function(){return this.BL()}},{key:"iy",get:function(){return this.OL()}},{key:"Fg",get:function(){return this.xL()}},{key:"mu",get:function(){return this.LL()}},{key:"zg",get:function(){return this.ML()}},{key:"Nm",get:function(){return this.SL.Nm}},{key:"ey",get:function(){return this.UL()}},{key:"lm",get:function(){return this.SL.lm}},{key:"Vg",get:function(){return this.XL()},set:function(t){this.HL(t)}},{key:"_y",get:function(){return this.FL()}},{key:"Wg",get:function(){return this.zL()}},{key:"Gg",get:function(){return this.VL()},set:function(t){this.WL(t)}},{key:"gy",get:function(){return this.GL()}},{key:"yy",get:function(){return this.qL()},set:function(t){this.YL(t)}},{key:"Y_",get:function(){return this.jL()}},{key:"py",get:function(){return this.QL()}},{key:"qg",get:function(){return this.ZL()}},{key:"Dm",get:function(){return this.KL()}},{key:"Yg",get:function(){return this.JL()}},{key:"Rm",get:function(){return this.$L()}},{key:"jg",get:function(){return this.tM()}},{key:"Qg",get:function(){return this.nM()},set:function(t){this.iM(t)}},{key:"by",get:function(){return this.SL.by}},{key:"Ay",get:function(){return this.SL.Ay},set:function(t){this.SL.Ay=t}}]),n}(Mg),_R=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).eM=void 0,r.rM=!1,r.sM=void 0,r.uM=!1,r.oM=function(){r.aM(),r.hM()},r.cD=function(){r.cM(),r.hM(),r.fM&&r.Xg>=r.eM.Wy-n.vM&&!r.Fg&&(r.sM=_I(r.cD))},r.lM=function(){r.uM=!0},r.dM=function(){r.uM&&(r.uM=!1,r.hM())},r.eM=e,r.eM.Zs("s_",r.oM),r.SL.Zs("timeupdate",r.cD),r}S(n,t);var i=n.prototype;return i.PL=function(n){var i=this.eM.bL().UN(n);t.prototype.PL.call(this,i),this.hM()},i.xL=function(){return t.prototype.xL.call(this)||this.rM},i.QL=function(){return uS.aC(t.prototype.QL.call(this)).FN(this.eM.bL()).qD()},i.Cm=function(){this.xL()?this.PL(this.wM.start(0)):this.aM(),t.prototype.Cm.call(this),this.hM()},i.xm=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),this.rM=!1,this.eM.k_(),e.next=5,Dr.awrap(t.prototype.xm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.Sd=function(){return this.eM.tu("s_",this.oM),this.SL.tu("timeupdate",this.cD),this.cM(),t.prototype.Sd.call(this)},i.TL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.lM(),!0;case"seeked":case"emptied":return this.Qs(n),this.dM(),!0;case"ended":if(this.fM)return!0}return t.prototype.TL.call(this,n)},i.cM=function(){this.sM&&(gI(this.sM),this.sM=void 0)},i.hM=function(){var t=this.Xg,i=this.fM&&t>=this.eM.Wy-n.Ip;this.rM&&!i?(this.rM=!1,this.Wg&&this.Cm()):this.rM||!i||this.qg||this.uM||(this.rM=!0,this.Qs(new km(t)),this.Pm())},i.aM=function(){if(this.Hg!==1/0){var t=this.wM,i=uS.aC(t).UN(this.Xg);Ut(this.Xg,i,n.Ip)||this.PL(i)}},A(n,[{key:"wM",get:function(){return this.QL().length?this.QL():this.eM.bL().qD()}},{key:"fM",get:function(){return this.eM.Wy<this.Hg}}]),n}(wR);_R.vM=1,_R.Ip=.001;var gR=function(){function t(){this._M=void 0,this._M=!1}return A(t,[{key:"gM",get:function(){return this._M},set:function(t){this._M=t}}]),t}(),mR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this)._M=void 0,e.mM=!1,e.yM=!1,e._M=i,e}S(n,t);var i=n.prototype;return i.xL=function(){return!this._M.gM&&t.prototype.xL.call(this)},i.Pm=function(){this.yM=!0,t.prototype.Pm.call(this)},i.Cm=function(){this.yM=!1,t.prototype.Cm.call(this)},i.TL=function(n){if(this._M.gM)switch(n.type){case"ended":return this.Xg=0,this.yM||(this.qg?this.mM=!0:this.Cm()),!0;case"seeked":this.mM&&(this.mM=!1,this.Cm());break;case"pause":if(this.mM||t.prototype.xL.call(this))return!0}return t.prototype.TL.call(this,n)},n}(wR);var yR=function(){function t(t){var n;this.Ww=(n=this,{get currentBandwidthEstimate(){return n.vy},get corruptedVideoFrames(){return n.uy},get droppedVideoFrames(){return n.sy},get totalBytesLoaded(){return n.ly},get bufferedSegments(){return n.wy}}),this.mN=t}return A(t,[{key:"Gw",get:function(){return this.Ww}},{key:"uy",get:function(){return this.mN.kM.lm.uy}},{key:"vy",get:function(){return this.mN.kM.lm.vy}},{key:"sy",get:function(){return this.mN.kM.lm.sy}},{key:"pM",get:function(){throw new v("Not implemented")}},{key:"bM",get:function(){throw new v("Not implemented")}},{key:"ly",get:function(){return this.mN.kM.lm.ly}},{key:"oy",get:function(){return this.mN.kM.lm.oy}},{key:"wy",get:function(){return this.mN.kM.lm.wy}}]),t}();function kR(t){if(!t||!sr(t))return{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{sy:n.droppedVideoFrames,uy:n.corruptedVideoFrames||0,oy:n.totalVideoFrames}}return{sy:t.webkitDroppedFrameCount||0,uy:0,oy:t.webkitDecodedFrameCount||0}}var pR=function(t){function n(){return t.call(this,"AM")||this}return S(n,t),n.prototype.qw=function(){return new bR},n}(j_),bR=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(gu);var AR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).TM=[],n.SM=!1,n.Ww=void 0,n.EM=function(){var t=n.SM,i=n.IM;t!==i&&(n.SM=i,n.Qs(new pR))},n}S(n,t);var i=n.prototype;return i.RM=function(t){this.TM.push(t),t.Zs("statechange",this.EM)},i.Sd=function(){for(var t=0,n=this.TM;t<n.length;t++){n[t].tu("statechange",this.EM)}zs(this.TM)},A(n,[{key:"IM",get:function(){return this.TM.some(function(t){return t.IM})}},{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get casting(){return t.IM},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new vR(t=this,["AM"],i),i)),this.Ww}}]),n}(wu),TR=function(){function t(){}return t.DM=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new rw({Ql:t,Wl:Af.$n,md:$d.GET}),s.next=4,Dr.awrap(n.Yl(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Fi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),tu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.NM=function(t){try{var i=RE(t);return new OE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new nf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.CM=function(t){void 0===t&&(t=jE.eb),i.gr("The baked-in license is used. Please update the configuration with your license.");var n=t.JP(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JP(n)}),s=Number(new Date(Number(t.JP("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.JP(n)});return new OE(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new OE(t.uB,t.oB,t.aB,864e13,t.cB,t.fB,Date.now(),t.lB,t.dB)},t}(),SR=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=ER.mc()?new ER:new gf),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t.PM=function(n){var i=t.Iu(n);if(void 0!==i)return g(i)},t.BM=function(n){return"true"===t.Iu(n)},t}();SR.Yn=void 0;var ER=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.mc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Nu=function(n){t.localStorage.removeItem(n)},e.if=function(){t.localStorage.clear()},e.Iu=function(n){return t.localStorage[n]},e.ef=function(n,i){t.localStorage[n]=i},i}(SR),IR=w.floor(14399999*w.random()-72e5),RR=function(){function t(t,n,i,e,r,s){this.mB=void 0,this.lE=t,this.OM=n,this.xM=i,this.iO=e,this.LM=r,this.Qo=s,this.mB=FE(s)}var i=t.prototype;return i.MM=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.UM(this.LM.license,this.LM.licenseUrl));case 2:t=n.sent,this.iO.XM(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.UM=function(t,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=TR.NM(t):e||(r=TR.CM()),e||(e="https://validate.theoplayer.com/1/"+r.uB),s=this.HM(),!r){v.next=14;break}if((u=this.OM.TB(r))!==NE.eB){v.next=14;break}if(!this.FM(r.hB)||!this.FM(null==s?void 0:s.hB)){v.next=13;break}return v.next=10,Dr.awrap(this.zM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.OM.TB(s)!==NE.eB){v.next=24;break}if(!this.FM(null==s?void 0:s.hB)){v.next=23;break}return v.next=20,Dr.awrap(this.zM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:SR.Nu("THEOplayer.license");case 25:return v.next=27,Dr.awrap(TR.DM(e,this.lE));case 27:if(!(h=v.sent)){v.next=37;break}if(c=TR.NM(h),this.OM.TB(c)!==NE.eB){v.next=34;break}return SR.ef("THEOplayer.license",h),v.abrupt("return",c);case 34:SR.Nu("THEOplayer.license"),v.next=39;break;case 37:if(this.mB||!r||u!==NE.rB||e!=="https://validate.theoplayer.com/1/"+r.uB){v.next=39;break}return v.abrupt("return",TR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.VM(null!=(f=r)?f:c,new nf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new nf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,We)},i.pB=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.iO.hO());case 2:if(n=a.sent,!this.FM(n.hB)){a.next=9;break}return e=null!=(i=this.LM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.uB,a.next=7,Dr.awrap(this.zM(e));case 7:(r=a.sent)&&(this.iO.XM(r),n=r);case 9:if(a.prev=9,(s=this.OM.TB(n))!==NE.sB){a.next=16;break}throw u=BE.wB,new nf(LE(u),VE.AB(u));case 16:if(s!==NE.rB){a.next=19;break}throw o=BE.rB,new nf(LE(o),VE.AB(o));case 19:this.OM.pB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.WM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.RB=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.iO.hO());case 2:n=i.sent;try{this.OM.RB(t,n)}catch(t){this.WM(t)}case 4:case"end":return i.stop()}},null,this,null,We)},i.zM=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr.awrap(TR.DM(t,this.lE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=TR.NM(n),this.OM.TB(i)!==NE.eB){e.next=11;break}return SR.ef("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.FM=function(t){return!t||Number(new Date)+2592e5+IR>=t},i.HM=function(){var t=SR.Iu("THEOplayer.license");if(t)return TR.NM(t)},i.VM=function(t,n){this.iO.XM(t),this.WM(n)},i.WM=function(t){throw at(t.message),this.xM.vO(t.message),t},t}(),DR=function(){function t(){this.GM=void 0,this.qM=new Go}var n=t.prototype;return n.XM=function(t){this.GM=t,this.qM.Wu()},n.hO=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.GM){t.next=2;break}return t.abrupt("return",We.resolve(this.GM));case 2:return t.next=4,Dr.awrap(this.qM.Hu);case 4:return t.abrupt("return",this.GM);case 5:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"YM",get:function(){return this.GM}}]),t}(),NR=function(t){function n(){return t.call(this,"s_")||this}return S(n,t),n.prototype.qw=function(){return new CR},n}(j_),CR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(gu);function PR(t){var n,i={get fontFamily(){return t.jM},set fontFamily(n){t.jM=n},get fontColor(){return t.QM},set fontColor(n){t.QM=n},get fontSize(){return t.ZM},set fontSize(n){t.ZM=n},get backgroundColor(){return t.KM},set backgroundColor(n){t.KM=n},get windowColor(){return t.JM},set windowColor(n){t.JM=n},get edgeStyle(){return t.$M},set edgeStyle(n){t.$M=n},get marginTop(){return t.tU},set marginTop(n){t.tU=n},get marginBottom(){return t.nU},set marginBottom(n){t.nU=n},get marginLeft(){return t.iU},set marginLeft(n){t.iU=n},get marginRight(){return t.eU},set marginRight(n){t.eU=n},addEventListener:function(t,i){var e=yg(t,gg);n.Zs(e,i)},removeEventListener:function(t,i){var e=yg(t,gg);n.tu(e,i)}};return n=new _u(i),t.Zs(["s_"],function(t){return n.Qs(t.Gw)}),i}var BR={jM:void 0,QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,rU:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0},OR="THEOplayer.textTrackStyle.",xR=function(t){function n(){var i;return(i=t.call(this)||this).sU=void 0,i.Ww=void 0,i.sU=n.uU(),i}return S(n,t),n.prototype.Zh=function(t){this.sU=Nr({},this.sU,t),n.oU(this.sU),this.Qs(new NR)},n.uU=function(){var t=Nr({},BR);return t.jM=SR.Iu(OR+"fontFamily")||t.jM,t.QM=SR.Iu(OR+"fontColor")||t.QM,t.ZM=SR.Iu(OR+"fontSize")||t.ZM,t.KM=SR.Iu(OR+"backgroundColor")||t.KM,t.JM=SR.Iu(OR+"windowColor")||t.JM,t.$M=SR.Iu(OR+"edgeStyle")||t.$M,t},n.oU=function(t){SR.ef(OR+"fontFamily",t.jM||""),SR.ef(OR+"fontColor",t.QM||""),SR.ef(OR+"fontSize",t.ZM||""),SR.ef(OR+"backgroundColor",t.KM||""),SR.ef(OR+"windowColor",t.JM||""),SR.ef(OR+"edgeStyle",t.$M||"")},A(n,[{key:"aU",get:function(){return this.sU}},{key:"jM",get:function(){return this.sU.jM},set:function(t){this.Zh({jM:t})}},{key:"QM",get:function(){return this.sU.QM},set:function(t){this.Zh({QM:t})}},{key:"ZM",get:function(){return this.sU.ZM},set:function(t){this.Zh({ZM:t})}},{key:"KM",get:function(){return this.sU.KM},set:function(t){this.Zh({KM:t})}},{key:"JM",get:function(){return this.sU.JM},set:function(t){this.Zh({JM:t})}},{key:"$M",get:function(){return this.sU.$M},set:function(t){this.Zh({$M:t})}},{key:"rU",get:function(){return this.sU.rU}},{key:"tU",get:function(){return this.sU.tU},set:function(t){this.Zh({tU:t})}},{key:"nU",get:function(){return this.sU.nU},set:function(t){this.Zh({nU:t})}},{key:"eU",get:function(){return this.sU.eU},set:function(t){this.Zh({eU:t})}},{key:"iU",get:function(){return this.sU.iU},set:function(t){this.Zh({iU:t})}},{key:"Gw",get:function(){return this.Ww||(this.Ww=PR(this)),this.Ww}}]),n}(wu);function LR(t,n){var i,e;t.style.marginLeft=(null!=(i=n.iU)?i:0)+"px",t.style.marginRight=(null!=(e=n.eU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var MR,UR,XR=function(t){function n(n,e){var r;(r=t.call(this)||this).hU=void 0,r.rc=void 0,r.kM=void 0,r.cU=void 0,r.Xw=void 0,r.eM=void 0,r._M=void 0,r.fU=void 0,r.vU=void 0,r.TC=void 0,r.OM=void 0,r.lU=void 0,r.dU=void 0,r.AC=void 0,r.wU=!1,r.mm=!1,r.Dy=void 0,r._U=!1,r.gU=void 0,r.mU=void 0,r.yU=void 0,r.kU=void 0,r.pU=void 0,r.bU=function(t){if(!r._U){r._U=!0;var n=r.hU,i=$m(t);r.kM.R_=new vS(r.iy,i,t),hu(n.Sd())}},r.AU=function(t){r.Qs(t.Gw)},r.TU=function(t){t.type!==bf.Sf&&t.type!==bf.Tf&&r.Qs(t)};var s=wg(e.uid);m(s)?r.Dy=oy++:r.Dy=s,r.rc=e;var u=i.Xw,o=new DR;r.cU=new sI("4.3.1",u,o),r.Xw=new YI(u,e.allowMixedContent),r.TC=new hR,r.OM=new xE(e.isEmbeddable,"4.3.1",DE()),r.pU=new RR(u,r.OM,r.cU,o,e,DE()),r.pU.MM().catch(r.bU),r.lU=new SI(n),r.lU.Zs("pO",r.AU),r.AC=new xR,r.eM=new dR,r._M=new gR;var a=new fS(n,e,r.Xw,r.TC,r.lU,r.AC);r.TC._L(a);var h=a;h=new _R(h,r.SU),h=new mR(h,r.gM),r.hU=h,r.kM=new Qm(r.hU),r.kM.Js(r.TU),r.kU=new yR(Kt(r)),r.mU=new ZI(r.kM,r.Xw,r.TC),r.fU=new aI(Kt(r)),r.dU=new PI(r.kM,e.allowNativeFullscreen),r.vU=new NS(r.dU),r.lU.hc();var c=new ce(r.lU,r.AC,1,[ty.wd]);return r.gU=new fe(c),r.yU=new AR,r}S(n,t);var e=n.prototype;return e.HL=function(t){this.kM.Vg=t,t||this.Wg||this.Xm()},e.iM=function(t){this.kM.Qg=t},e.EU=function(){Pm(this,CS,this)},e.Cm=function(){this.kM.Cm()},e.Pm=function(){this.kM.Pm()},e.xm=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.pU.pB(t).catch(this.bU),i=HR(t),e.next=5,Dr.awrap(this.kM.xm(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.Xm=function(){this.mm||(this.kM.Xm(),this.gU.Xm(),this.mm=!0)},e.lC=function(){return this.vU.JC()===SS.FULLSCREEN},e.zm=function(){this.kM.zm()},e.Vm=function(){this.kM.Vm()},e.Wm=function(){return this.kM.Wm()},e.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.kM.Bm());case 2:return t.next=4,Dr.awrap(this.kM.k_());case 4:case"end":return t.stop()}},null,this,null,We)},e.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.yU.Sd(),this.Xw.Sd(),this.mU.Sd(),this.dU.Sd(),this.vU.Sd(),this.lU.Sd(),this.cU.Sd(),this.gU.Sd(),t.next=11,Dr.awrap(this.kM.Sd());case 11:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"IU",get:function(){return this.TC}},{key:"Sm",get:function(){return this.wU},set:function(t){this.wU=t,this.kM.Sm=t}},{key:"RU",get:function(){return this.gU}},{key:"Im",get:function(){return this.kM.Im}},{key:"DU",get:function(){return this.yU}},{key:"NU",get:function(){return this.lU}},{key:"Nm",get:function(){return this.kM.Nm}},{key:"lm",get:function(){return this.kU}},{key:"CU",get:function(){return this.mU}},{key:"Dm",get:function(){return this.kM.Dm}},{key:"PU",get:function(){return this.AC}},{key:"Rm",get:function(){return this.kM.Rm}},{key:"Jm",get:function(){return this.kM.Jm}},{key:"SU",get:function(){return this.eM}},{key:"gM",get:function(){return this._M}},{key:"Xg",get:function(){return this.kM.Xg},set:function(t){this.kM.Xg=t}},{key:"$m",get:function(){return this.kM.$m},set:function(t){this.kM.$m=t}},{key:"Zm",get:function(){return this.kM.Zm}},{key:"Hg",get:function(){return this.kM.Hg}},{key:"iy",get:function(){return this.kM.iy}},{key:"Fg",get:function(){return this.kM.Fg}},{key:"mu",get:function(){return this.kM.mu}},{key:"zg",get:function(){return this.kM.zg}},{key:"Vg",get:function(){return this.kM.Vg},set:function(t){var n=Boolean(t);this.HL(n)}},{key:"Wg",get:function(){return this.kM.Wg}},{key:"Gg",get:function(){return this.kM.Gg},set:function(t){this.kM.Gg=t}},{key:"gy",get:function(){return this.kM.gy}},{key:"yy",get:function(){return this.kM.yy},set:function(t){this.kM.yy=tS(t)}},{key:"Y_",get:function(){return this.kM.Y_}},{key:"py",get:function(){return this.kM.py}},{key:"qg",get:function(){return this.kM.qg}},{key:"B_",get:function(){return this.Dy}},{key:"Yg",get:function(){return this.kM.Yg}},{key:"jg",get:function(){return this.kM.jg}},{key:"Qg",get:function(){return this.kM.Qg},set:function(t){var n=Mt(Number(t),0,1)||0;this.iM(n)}},{key:"by",get:function(){return this.kM.by}}]),n}(Mg);function HR(t){t.sources;var n=t.sources.filter(function(t){return F(t.integration)});return t.sources=n,t}!function(t){t[t.BU=0]="BU",t[t.OU=1]="OU"}(MR||(MR={})),function(t){t[t.xU=0]="xU"}(UR||(UR={}));var FR={};function zR(t,n){(FR[n]||(FR[n]=[])).push(t)}function VR(t,n){var i=t;if(FR[n])for(var e=0,r=FR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var WR=[];function GR(t){WR.push(t)}var qR=t.CustomEvent;var YR=function(){try{var t=new qR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},jR=function(){function t(t,n){var i=this;this.mN=void 0,this.LU=void 0,this.MU=!1,this.UU=function(t){i.LU.fO(t.error,i.Xg)},this.XU=function(){i.LU.aO(i.HU),i.mN.removeEventListener("playing",i.XU),i.MU=!1},this.FU=function(){i.MU||(i.mN.addEventListener("playing",i.XU),i.MU=!0)},this.LU=n,this.mN=t,this.mN.addEventListener("error",this.UU),this.mN.addEventListener("sourcechange",this.FU),this.FU()}return t.prototype.k_=function(){},A(t,[{key:"Xg",get:function(){var t=this.mN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"HU",get:function(){return this.mN.src||""}}]),t}();GR(function(t){new jR(t.Gw,t.cU)});var QR="theoplayer-stored-volume",ZR="theoplayer-stored-mutedstate";zR(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=SR.PM(QR);(void 0===r||m(r))&&(r=1);var s=SR.BM(ZR)||!1;e.Qg=r,e.Vg=s}return e}S(n,t);var i=n.prototype;return i.HL=function(n){this.rc.persistVolume&&SR.ef(ZR,""+Boolean(n)),t.prototype.HL.call(this,n)},i.iM=function(n){this.rc.persistVolume&&SR.ef(QR,""+Number(n)),t.prototype.iM.call(this,n)},n}(t)},MR.OU);var KR=new(function(){function t(){this.zU=[],this.Ww=void 0}var n=t.prototype;return n.__=function(t){return this.zU[t]},n.VU=function(t){this.zU.push(t),this.Gw.push(t.Gw)},n.Qh=function(t){var n=this.zU.indexOf(t);n<0||(Xs(this.zU,n),this.Ww&&Xs(this.Ww,n))},n.WU=function(t){for(var n=0,i=this.zU;n<i.length;n++){var e=i[n];if(e.B_===t)return e}},A(t,[{key:"b_",get:function(){return this.zU.length}},{key:"Gw",get:function(){return this.Ww||(this.Ww=function(t){for(var n=[],i=0;i<t.b_;i++)n[i]=t.__(i).Gw;return n.getPlayerByUID=function(n){var i=t.WU(n);return i&&i.Gw},n}(this)),this.Ww}}]),t}()),JR=function(){function t(t){var n=this;this.GU=[],this.qU=void 0,this.pw=new Js,this.YU=void 0,this.jU=function(){return 0===n.GU.length?n.YU?$R(n.YU,n.pw.Ws).then(n.QU,n.QU):n.QU():n.GU.shift()().then(n.jU)},this.QU=function(){if(0!==n.GU.length)return n.jU();n.qU=void 0},this.YU=t}var n=t.prototype;return n.ZU=function(t,n){var i=this;return new We(function(e){var r=new Js;r.zs(i.pw.Ws),n&&r.zs(n);var s=function(){r.xs()};i.GU.push(function(){var n=$R(t,r.Ws);return e(n),n.then(s,s)}),i.qU||(i.qU=i.jU())})},n.Fs=function(){return this.KU(!0)},n.Sd=function(){return this.YU=void 0,this.KU(!1)},n.KU=function(t){var n=this.qU;return this.pw.Fs(),t&&(this.pw=new Js),We.resolve(n)},t}();function $R(t,n){return new We(function(i){return i(t(n))})}var tD,nD=function(t){function n(n){var i;return(i=t.call(this,bf.Xf)||this).source=n,i}return S(n,t),n}(gu),iD=function(t){function n(){var n;return(n=t.call(this)||this)._C=void 0,n.mC=void 0,n.kC=void 0,n.yC=void 0,n._C=0,n.mC=!0,n.kC=!1,n.yC=1,n}S(n,t);var i=n.prototype;return i.Cm=function(){this.mC&&(this.mC=!1,this.Qs(new vm(this.Xg)),this.Qs(new vb(this.Xg)))},i.Pm=function(){this.mC||(this.mC=!0,this.Qs(new ym(this.Xg,this.$m)),this.Qs(new fm(this.Xg)))},i.k_=function(){this._C=0,this.kC=!1,this.yC=1,this.Pm(),this.Qs(new cm(this._C))},i.Sd=function(){this.$s()},i.Vm=function(){},i.zm=function(){},A(n,[{key:"$m",get:function(){},set:function(t){}},{key:"Xg",get:function(){return this._C},set:function(t){this.kC&&this._C===t||(this._C=t,this.kC=!0,this.Qs(new bm(this.Xg)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.Qs(new mm(this.Xg,this.Gg)))}},{key:"Y_",get:function(){return qg.Rg}},{key:"qg",get:function(){return this.kC}}]),n}(Lg),eD=function(t){function n(){return t.call(this,bf.wf)||this}return S(n,t),n}(gu),rD={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},sD={visibility:"hidden"},uD={visibility:"visible"},oD=function(){function t(t){var n,i=this;this.lN=void 0,this.mN=void 0,this.JU=!1,this.$U=void 0,this.tX=void 0,this.nX=function(t){var n;i.JU=!1,i.$U=null==(n=t.source)?void 0:n.poster,i.Zh()},this.OE=function(){i.JU=!0,i.Vm()},this.mN=t,this.bN(),this.lN=((n=le&&le.document&&le.document.createElement("div")).className="theoplayer-poster",ir(rD,n),n),t.iy.appendChild(this.lN)}var n=t.prototype;return n.Zh=function(){var t=this.mN.Wg,n=this.JU;this.Ql?this.lN.style.backgroundImage='url("'+this.Ql.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.lN.style.backgroundImage="",t&&this.Ql&&!n?this.zm():this.Vm()},n.zm=function(){ir(sD,this.mN.iy),ir(uD,this.lN)},n.Vm=function(){ir(sD,this.lN),ir(uD,this.mN.iy)},n.bN=function(){this.mN.Zs("sourcechange",this.nX),this.mN.Zs("play",this.OE)},n.Sd=function(){this.mN.tu("sourcechange",this.nX),this.mN.tu("play",this.OE),$e(this.lN)},A(t,[{key:"Ql",get:function(){return void 0!==this.$U?this.$U:void 0!==this.tX?this.tX:void 0}},{key:"iX",set:function(t){this.tX=t,this.Zh()}}]),t}();function aD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).mN=void 0,r.eX=void 0,r.rX=void 0,r.sX=void 0,r.uX=void 0,r.oX=void 0,r.aX=void 0,r.hX=void 0,r.pN=void 0,r.kN=void 0,r.$R=void 0,r.DC=void 0,r.Ww=void 0,r.cX=function(t){t.type!==bf.Df&&r.hX.push(t)},r.eX=new t(n,e),r.rX=new iD,r.mN=r.eX,r.sX=new oD(Kt(r)),r.oX=new JR,r.aX=!1,r.hX=[],r.pN=!0,r.bN(),r}S(e,i);var r=e.prototype;return r.ZU=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.oX.ZU(t,n).catch(eu));case 1:case"end":return i.stop()}},null,this,null,We)},r.fX=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),this.eX.Js(this.cX),i.next=4,Dr.awrap(this.eX.xm(t,n));case 4:this.eX.ou(this.cX);case 5:case"end":return i.stop()}},null,this,null,We)},r.vX=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Om())&&!eE(t)&&this.Sm&&this.Wg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rc.mutedAutoplay,e.next=6,Dr.awrap(this.RU.lX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.dX(),e.abrupt("break",14);case 12:return(this.Vg||n===lm.ALL)&&(this.Vg=!0,this.Cm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.xm=function(t){var i=this,e=this.kN;e&&!eE(e)&&this.Qs(new cm(0,0)),this.k_(),this.kN=t,hu(this.ZU(function(e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return nu(e),r.prev=1,r.next=4,Dr.awrap(i.fX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.kN=void 0,i.hD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof nf?s:s instanceof v?new nf(u,s.message,s):new nf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Dr.awrap(i.wX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],We)}))},r.wX=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._X(this.eX),this.Qs(new nD(this.Om())),t.next=4,Dr.awrap(this.vX());case 4:case"end":return t.stop()}},null,this,null,We)},r.PL=function(t){this.mN.Xg=t},r.LL=function(){var t;return null!=(t=this.DC)?t:this.eX.mu},r.ML=function(){var t;return null!=(t=this.$R)?t:this.eX.zg},r.hD=function(t){void 0===this.ML()&&(this.$R=t,this.DC=$m(t),this.Qs(new Rm(t)))},r.Cm=function(){this.mN.Cm()},r.dX=function(){this.Vg||this.Xm(),this.Cm()},r.Xm=function(){this.eX.Xm()},r.Pm=function(){this.mN.Pm()},r.Bm=function(){this.xm(void 0)},r.zm=function(){this.pN=!0,this.mN.zm()},r.Vm=function(){this.pN=!1,this.mN.Vm()},r.EU=function(){this.eX.EU()},r.iM=function(t){this.eX.iM(t)},r.HL=function(t){this.eX.HL(t)},r.gX=function(t){this.uX=t,t.VU(this)},r.lC=function(){return this.eX.lC()},r.Om=function(){return this.kN},r.Wm=function(){return this.eX.Wm()},r.CL=function(){return this.eX.Xg},r.BL=function(){return this.eX.Hg},r.IL=function(){return this.eX.Jm},r.GL=function(){return this.eX.gy},r.QL=function(){return this.eX.py},r.k_=function(){var t=this;this.kN=void 0,this.$R=void 0,this.DC=void 0,zs(this.hX),this.rX.k_(),this._X(this.rX),this.oX.Fs(),hu(this.oX.ZU(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(n),i.next=3,Dr.awrap(t.eX.k_());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.Sd=function(){var t=this;this.Qs(new eD),this.sX.Sd(),this.AN(),this.k_(),hu(this.ZU(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.eX.Sd());case 2:t.uX&&(t.uX.Qh(t),t.uX=void 0),t.oX.Sd();case 4:case"end":return n.stop()}},null,null,null,We)})),this.$s()},r._X=function(t){if(this.mN!==t){var n=this.mN.Wg,i=this.mN.Xg,e=this.mN.Gg,r=this.mN.qg;this.AN(),t===this.eX?((r||t.Xg!==i)&&(t.Xg=i),t.Gg!==e&&(t.Gg=e),n?t.Pm():t.Cm()):this.rc.retainPlaybackRateOnSourceChange?t.Gg=e:1!==e&&this.Qs(new mm(this.CL(),1)),this.mN=t,this.bN();for(var s=0,u=this.hX;s<u.length;s++){var o=u[s];this.Qs(o)}zs(this.hX),this.pN?t.zm():t.Vm()}},r.bN=function(){this.mN.Js(this.js)},r.AN=function(){this.mN.ou(this.js)},r.qw=function(){return t=this,e=function(n){i=n;var e=dE(n,t.rc);t.xm(e)},r={get abr(){return t.IU.Gw},get audioTracks(){return t.Im.Gw},get autoplay(){return t.Sm},set autoplay(n){t.Sm=Boolean(n)},get buffered(){return t.IL()},get canvas(){return t.fU.Gw},get clip(){return t.SU.Gw},get currentProgramDateTime(){var n;return null!=(n=t.$m)?n:null},set currentProgramDateTime(n){t.$m=null!=n?n:void 0},get currentTime(){return t.CL()},set currentTime(n){t.PL(Number(n))},get duration(){return t.BL()},get element(){return t.iy},get ended(){return t.Fg},get error(){return t.LL()},get errorObject(){return t.ML()},get loop(){return t.gM.gM},set loop(n){t.gM.gM=Boolean(n)},get metrics(){return t.lm.Gw},get muted(){return t.Vg},set muted(n){t.HL(n)},get network(){return t.CU.Gw},get paused(){return t.Wg},get playbackRate(){return t.Gg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Gg=i},get played(){return t.GL()},get poster(){return t.mX},set poster(n){t.mX=gg(n)},get preload(){return t.yy},set preload(n){t.yy=n},get presentation(){return t.vU.Gw},get readyState(){return t.Y_},get seekable(){return t.QL()},get seeking(){return t.qg},get source(){return i},set source(t){e(t)},get src(){return rE(t.Om())},set src(t){e({sources:t})},get textTracks(){return t.Dm.Gw},get textTrackStyle(){return t.PU.Gw},get uid(){return t.B_},get videoHeight(){return t.Yg},get videoTracks(){return t.Rm.Gw},get videoWidth(){return t.jg},get volume(){return t.Qg},set volume(n){t.iM(Number(n))},get latency(){return t.by.Gw},destroy:function(){t.Sd(),t=null,i=void 0},play:function(){t.dX()},pause:function(){t.Pm()},stop:function(){i=void 0,t.Bm()},prepareWithUserAction:function(){t.Xm()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new RS(r,!0)).UC(t),r;var t,n,i,e,r},A(e,[{key:"cU",get:function(){return this.eX.cU}},{key:"fU",get:function(){return this.eX.fU}},{key:"rc",get:function(){return this.eX.rc}},{key:"hU",get:function(){return this.eX.hU}},{key:"Xw",get:function(){return this.eX.Xw}},{key:"XD",get:function(){return this.eX.dU}},{key:"vU",get:function(){return this.eX.vU}},{key:"lU",get:function(){return this.eX.lU}},{key:"kM",get:function(){return this.eX.kM}},{key:"IU",get:function(){return this.eX.IU}},{key:"Sm",get:function(){return this.eX.Sm},set:function(t){this.eX.Sm=t,this.vX()}},{key:"RU",get:function(){return this.eX.RU}},{key:"Im",get:function(){return this.eX.Im}},{key:"DU",get:function(){return this.eX.DU}},{key:"NU",get:function(){return this.eX.lU}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"Nm",get:function(){return this.eX.Nm}},{key:"lm",get:function(){return this.eX.lm}},{key:"CU",get:function(){return this.eX.CU}},{key:"Dm",get:function(){return this.eX.Dm}},{key:"PU",get:function(){return this.eX.PU}},{key:"Rm",get:function(){return this.eX.Rm}},{key:"SU",get:function(){return this.eX.SU}},{key:"gM",get:function(){return this.eX.gM}},{key:"$m",get:function(){return this.mN.$m},set:function(t){this.mN.$m=t}},{key:"Zm",get:function(){return this.eX.Zm}},{key:"iy",get:function(){return this.eX.iy}},{key:"Fg",get:function(){return this.eX.Fg}},{key:"Vg",get:function(){return this.eX.Vg},set:function(t){this.eX.Vg=t}},{key:"Wg",get:function(){return this.mN.Wg}},{key:"mX",get:function(){return this.sX.Ql||""},set:function(t){this.sX.iX=t}},{key:"Gg",get:function(){return this.eX.Gg},set:function(t){this.mN.Gg=t}},{key:"yy",get:function(){return this.eX.yy},set:function(t){this.eX.yy=tS(t)}},{key:"Y_",get:function(){return this.mN.Y_}},{key:"qg",get:function(){return this.mN.qg}},{key:"B_",get:function(){return this.eX.B_}},{key:"Yg",get:function(){return this.eX.Yg}},{key:"jg",get:function(){return this.eX.jg}},{key:"Qg",get:function(){return this.eX.Qg},set:function(t){this.eX.Qg=t}},{key:"by",get:function(){return this.eX.by}}]),e}(Mg)}function hD(t,n){var i=Nm(n),e=new(tD||(tD=VR(tD=aD(XR),MR.BU),tD=VR(tD,MR.OU)),tD)(t,i),r=e.Gw;return e.EU(),e.gX(KR),d.defineProperty(r,"constructor",{value:hD}),r=og(r),function(t){for(var n=0;n<WR.length;n++)(0,WR[n])(t)}(e),r}au(function(){t.dispatchEvent&&t.dispatchEvent(YR("theoplayerready"))});var cD,fD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ou(t)},n.decode=function(t){return Pu(t)},t}())},vD=["hls","airplay"],lD=KR.Gw,dD=Wb.II.registerContentProtectionIntegration.bind(Wb.II),wD=[bf.If,bf.Ef,hm.Ug,bf.Hf,bf.Rf,bf.pf,bf.Bf,bf.Pf,bf.mf,bf.Df,bf.Ff,bf._f,hm.u_,bf.Cf,Ig.z_,du.yu,du.bu,bf.lf,bf.vf,bf.zf],_D={yX:!1,kX:50},gD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.VP="pX"}(cD||(cD={}));var mD,yD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Pc=void 0,s.KR=void 0,s.Vc=void 0,s.bX=!1,s.AX=new Go,s.TX=!1,s.oX=new JR,s.SX=void 0,s.ys=void 0,s.ic=void 0,s.EX=function(){s.TX=!0},s.IX=function(){s.RX(!0)},s.Pc=n,s.KR=i,s.Vc=i.SD,s.SX=e,s.ys=r,s.Vc.addEventListener("loadedmetadata",s.EX);for(var u=0;u<gD.length;u++){var o=gD[u];s.Vc.addEventListener(o,s.IX)}return s}S(i,t);var e=i.prototype;return e.DX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.NX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.CX=function(t){var n=this.ic;return n?0!==t.ND.length&&t.ND.some(function(t){return t.ec.vs===n.ec}):0===t.ND.length||!this.TX},e.PX=function(t){return this.SX.PX(t),this.Pc=t,We.resolve()},e.xs=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.$s(),this.Vc.removeEventListener("loadedmetadata",this.EX),t=0;t<gD.length;t++)n=gD[t],this.Vc.removeEventListener(n,this.IX);return i.next=5,Dr.awrap(this.oX.Sd());case 5:return i.next=7,Dr.awrap(this.BX());case 7:return i.next=9,Dr.awrap(this.SX.k_());case 9:return i.next=11,Dr.awrap(this.NX(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.RX=function(t){t!==this.bX&&(this.bX=t,t?this.AX.Wu(void 0):this.AX=new Go)},e.NX=function(t){var n=this;return this.oX.ZU(function(){return n.OX(t)})},e.OX=function(t){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vc.src){e.next=4;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vc.src){e.next=6;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.bX){e.next=9;break}return e.next=9,Dr.awrap(this.AX.Hu);case 9:if(!(i=this.ic)){e.next=14;break}return e.next=13,Dr.awrap(i.cc(this.Vc));case 13:this.ic=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Dr.awrap(t.hc(this.Vc));case 17:this.ic=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.xm=function(t){var n=this;return this.oX.ZU(function(){return n.xX(t)})},e.xX=function(t){this.RX(!1);var n=this.KR.Gg;this.Vc.src=t,this.KR.Gg=n},e.LX=function(t){var n=this;return this.oX.ZU(function(){return n.MX(t)})},e.MX=function(t){this.xX(t),this.Vc.load()},e.BX=function(){var t=this;return this.oX.ZU(function(){return t.UX()})},e.UX=function(){this.RX(!1),ur(this.Vc)},A(i,[{key:"Im",get:function(){throw new v("Not implemented")}},{key:"rc",get:function(){return this.Pc}},{key:"SD",get:function(){return this.Vc}},{key:"Rm",get:function(){throw new v("Not implemented")}}]),i}(wu),kD=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i._L=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rc,n.t0=t.PD,n.next=n.t0===zg.Tg?4:n.t0===zg.Sg?4:(n.t0,zg.Ag,6);break;case 4:return this.Vc.setAttribute("crossorigin",t.PD),n.abrupt("break",8);case 6:return this.Vc.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.yy?this.Vc.preload=t.yy:this.Vc.preload=JT.RR,void 0!==t.BD?this.Vc.title=t.BD:rr(this.Vc),n.next=12,Dr.awrap(this.xm(t.Z_));case 12:this.SX.jh(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.CX=function(t){return!1},i.PX=function(t){return We.resolve(void 0)},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return rr(this.Vc),n.next=3,Dr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.XX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Nl))},A(n,[{key:"Jm",get:function(){return uS.aC(this.Vc.buffered)}},{key:"Hg",get:function(){return this.Vc.duration}},{key:"HX",get:function(){var t=this.Hg;if(!isFinite(t))return!1;var n=this.Jm;return 0!==n.b_&&t-n.NN(n.b_-1)<1/6}},{key:"yy",get:function(){return this.Vc.preload},set:function(t){this.Vc.preload=t}},{key:"py",get:function(){return uS.aC(this.Vc.seekable)}},{key:"FX",get:function(){return this.Jm}},{key:"zX",get:function(){if(sr(this.Vc)&&(this.Vc.videoWidth>0||this.Vc.videoHeight>0))return this.Jm}}]),n}(yD),pD=function(t){function n(n){var i;return(i=t.call(this,bf.Rf)||this).currentTime=n,i}return S(n,t),n}(gu),bD=function(t){function n(){return t.call(this,bf.pf)||this}return S(n,t),n}(gu);!function(t){t.VX="WX"}(mD||(mD={}));var AD,TD,SD=[mD.VX];!function(t){t[t.GX=0]="GX",t[t.Yf=1]="Yf",t[t.qX=2]="qX"}(AD||(AD={})),function(t){t.YX="jX"}(TD||(TD={}));var ED=function(t){function n(n){var i;return(i=t.call(this,TD.YX)||this).QX=n,i}return S(n,t),n}(gu),ID=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZX=uS.fC(),n}S(n,t);var i=n.prototype;return i.KX=function(t,n){var i=new uS([t,n]);this.ZX=this.ZX.YN(i),this.Qs(new ED(i))},i.JX=function(t,n){this.ZX=this.ZX.QN(new uS([t,n]))},i.k_=function(){this.ZX=uS.fC()},i.Sd=function(){this.$s()},A(n,[{key:"$X",get:function(){return this.ZX}}]),n}(wu);function RD(t,n){return void 0===n&&(n=new gd({highWaterMark:1/0})),new ad(new ND(t,n),{highWaterMark:0})}var DD,ND=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.ov=void 0,this.tH=void 0,this.nH=void 0,this.bv=[],this.Av=0,this.qM=void 0,this.iH=!1,this.eH=void 0,this.rH=function(t){return t.done?(i.sH(),void i.qM.close()):(i.bv.push(t.value),i.Av+=i.tH(t.value),i.iH&&i.sH(),i.uH()?i.ov.read().then(i.rH):void 0)},this.aw=function(t){i.sH(),i.qM.error(t)},this.ov=t.getReader(),this.tH=r,this.nH=u}var n=t.prototype;return n.start=function(t){this.qM=t,this.uH()&&this.oH()},n.pull=function(){this.bv.length>0?this.sH():this.iH=!0,this.uH()&&this.oH()},n.cancel=function(t){return zs(this.bv),this.Av=0,this.iH=!1,this.ov.cancel(t)},n.sH=function(){if(0!==this.bv.length){var t=this.bv;this.bv=[],this.Av=0,this.iH=!1,this.qM.enqueue(t)}},n.uH=function(){return!!this.iH||this.nH-this.Av>0},n.oH=function(){var t=this;if(!this.eH){var n=this.ov.read().then(this.rH).catch(this.aw);this.eH=n;var i=function(){t.eH===n&&(t.eH=void 0)};n.then(i,i)}},t}(),CD=function(){function t(){this.aH=[],this.Cu=0}var n=t.prototype;return n.VU=function(t){this.aH.push(t),this.Cu+=t.byteLength},n.hH=function(t){if(this.Cu<=t)return this.cH();for(var n=this.aH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Oo(n[e],0,s)),i+=s}return{aH:r,Cu:i}},n.fH=function(t){var n=this.hH(t);return 1===n.aH.length?n.aH[0]:Hu(n.aH,n.Cu)},n.cH=function(){return{aH:this.aH,Cu:this.Cu}},n.vH=function(t){if(this.Cu<=t)return this.lH();for(var n=this.aH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Oo(n[0],0,s)),n[0]=Oo(n[0],s),i+=s}return this.Cu-=i,{aH:r,Cu:i}},n.dH=function(t){var n=this.vH(t);return 1===n.aH.length?n.aH[0]:Hu(n.aH,n.Cu)},n.lH=function(){var t=this.cH();return this.aH=[],this.Cu=0,t},n.wH=function(){var t=1===this.aH.length?this.aH[0]:Hu(this.aH,this.Cu);return this.aH=[],this.Cu=0,t},t}();!function(t){t[t._H=0]="_H",t[t.gH=1]="gH",t[t.mH=2]="mH"}(DD||(DD={}));var PD=function(){var t=n.prototype;function n(){this.bv=new CD,this.me=DD._H,this.yH=0,this.kH=0,this.pH()}return t.bH=function(t,n){},t.AH=function(){},t.TH=function(t){this.bv.VU(t),this.SH(!1)},t.EH=function(){this.SH(!0)},t.IH=function(){return this.me!==DD._H||0!==this.bv.Cu},t.SH=function(t){for(;0!==this.bv.Cu;){if(!t&&this.yH>this.bv.Cu)return;switch(this.me){case DD._H:this.RH(t);break;case DD.gH:this.DH(t);break;case DD.mH:this.NH(t)}}},t.pH=function(){this.me=DD._H,this.yH=8},t.RH=function(t){var n=Lo(this.bv.fH(this.yH)),i=new Vo,e=Kk.kA(n,i);if(!e.wA)return this.yH=e.bA,void(t&&this.yH>this.bv.Cu&&this.CH(this.bv.Cu));var r=e.pA.fs,s=e.pA.Cu;0===s&&(s=1/0),this.bH(r,s),this.PH(r)?this.BH(s):this.CH(s)},t.BH=function(t){this.me=DD.gH,this.yH=t},t.DH=function(t){var n=Lo(this.bv.dH(this.yH)),i=new Vo,e=Kk._A(n,i,!t);if(!e.wA)throw new Zk(i.Pu);this.AH(),this.OH(e.gA),this.pH()},t.CH=function(t){this.me=DD.mH,this.yH=0,this.kH=t},t.NH=function(t){var n=this.bv.vH(this.kH);this.kH-=n.Cu;for(var i=0,e=n.aH;i<e.length;i++){var r=e[i];this.xH(r)}(0===this.kH||t&&this.kH===1/0)&&(this.AH(),this.pH())},n}();function BD(t){return t instanceof Gh}function OD(t){return t instanceof Vh}function xD(t){return t instanceof Hh||t instanceof Fh}function LD(t){return t instanceof fh}function MD(t){return t instanceof Fa}function UD(t){return t instanceof ec}function XD(t){return t instanceof Kh}function HD(t,n){var i=xs(t.boxes,XD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof $h&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var FD=function(t){function n(n){var i;return(i=t.call(this)||this).qM=void 0,i.LH=void 0,i.MH=void 0,i.UH=Br(),i.LH=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.qM=t},i.transform=function(t){this.TH(t)},i.flush=function(){this.EH()},i.PH=function(t){return t===uk.sb||t===uk.Ob||t===uk.Wb},i.OH=function(t){var n=this.XH(t);this.qM.enqueue(n)},i.xH=function(t){this.qM.enqueue(t)},i.XH=function(t){var n=Mo(t.Fi.Fi);switch(t.fs){case"moov":return this.HH(n);case"sidx":return this.FH(n);case"moof":return this.zH(n)}return n},i.VH=function(t){var n=this.UH.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.HH=function(t){for(var n=pc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Lh?n.boxes[i]=this.WH(e):e instanceof Mh?n.boxes[i]=this.GH(e):e instanceof Vh&&this.qH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Bh&&this.YH(u)}return n.serialize().join()},i.WH=function(t){this.MH=t.timescale;var n=VD(ft.fromNumber(t.duration,!0),this.jH,this.LH);return 0!==n.getHighBits()?this.GH(function(t){return new Mh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.LH,t.duration=n.toInt(),t)},i.GH=function(t){return this.MH=t.timescale,t.timescale=this.LH,t.duration=VD(t.duration,this.jH,this.LH),t},i.qH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Hh?(n=e.trackId,t.boxes[i]=this.QH(e)):e instanceof Fh?(n=e.trackId,t.boxes[i]=this.ZH(e)):e instanceof fh?this.KH(e,n):e instanceof th&&this.JH(e)}},i.QH=function(t){var n=VD(ft.fromNumber(t.duration,!0),this.jH,this.LH);return 0!==n.getHighBits()?this.ZH(function(t){return new Fh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),duration:ft.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.ZH=function(t){return t.duration=VD(t.duration,this.jH,this.LH),t},i.KH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof oh?t.boxes[i]=this.$H(e,n):e instanceof ah&&(t.boxes[i]=this.tF(e,n))}},i.$H=function(t,n){this.UH.set(n,t.timescale);var i=VD(ft.fromNumber(t.duration,!0),t.timescale,this.LH);return 0!==i.getHighBits()?this.tF(function(t){return new ah({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.LH,t.duration=i.toInt(),t)},i.tF=function(t,n){return this.UH.set(n,t.timescale),t.timescale=this.LH,t.duration=VD(t.duration,t.timescale,this.LH),t},i.JH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Ka?this.nF(e):e instanceof Ja&&this.iF(e)}},i.nF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=zD(e.mediaTime,this.jH,this.LH),e.segmentDuration=zD(e.segmentDuration,this.jH,this.LH)}},i.iF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=VD(e.mediaTime,this.jH,this.LH),e.segmentDuration=VD(e.segmentDuration,this.jH,this.LH)}},i.YH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ch?this.eF(i):i instanceof Rh?t.boxes[n]=this.rF(i):i instanceof Dh&&(t.boxes[n]=this.sF(i))}},i.eF=function(t){var n=this.VH(t.trackId);t.defaultSampleDuration=zD(t.defaultSampleDuration,n,this.LH)},i.rF=function(t){var n=VD(ft.fromNumber(t.fragmentDuration,!0),this.jH,this.LH);return 0!==n.getHighBits()?this.sF(function(t){return new Dh(ft.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.sF=function(t){return t.fragmentDuration=VD(t.fragmentDuration,this.jH,this.LH),t},i.FH=function(t){var n=bc(t);return(n=n instanceof hc?this.uF(n):this.oF(n)).serialize().join()},i.uF=function(t){var n=t.timescale,i=VD(ft.fromNumber(t.earliestPresentationTime,!0),n,this.LH);if(0!==i.getHighBits())return this.oF(function(t){return new cc(t.referenceId,t.timescale,ft.fromNumber(t.earliestPresentationTime,!0),ft.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.LH,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=zD(s.subsegmentDuration,n,this.LH)}return t},i.oF=function(t){var n=t.timescale;t.timescale=this.LH,t.earliestPresentationTime=VD(t.earliestPresentationTime,n,this.LH);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=zD(r.subsegmentDuration,n,this.LH)}return t},i.zH=function(t){for(var n=Ac(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof nc&&this.aF(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof nc&&HD(c,o)}return n.serialize().join()},i.aF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Kh?(n=this.VH(e.trackId),this.hF(e,n)):e instanceof jh?t.boxes[i]=this.cF(e,n):e instanceof Qh?t.boxes[i]=this.fF(e,n):e instanceof $h&&this.vF(e,n)}},i.hF=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=zD(t.defaultSampleDuration,n,this.LH))},i.cF=function(t,n){var i=VD(ft.fromNumber(t.baseMediaDecodeTime,!0),n,this.LH);return 0!==i.getHighBits()?this.fF(function(t){return new Qh(ft.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.fF=function(t,n){return t.baseMediaDecodeTime=VD(t.baseMediaDecodeTime,n,this.LH),t},i.vF=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=zD(u+=h.duration,n,this.LH);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.LH,ft.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},A(n,[{key:"jH",get:function(){if(void 0===this.MH)throw new v("Expected to have found a movie header timescale.");return this.MH}}]),n}(PD);function zD(t,n,i){return ft.fromInt(t,!0).multiply(i).divide(n).toNumber()}function VD(t,n,i){return Gy.Vk(t).vp(Gy.Wk(i,!0))._p(Gy.Wk(n,!0)).tp()}var WD,GD,qD,YD=1e5,jD=function(){function t(t){this.lF=void 0,this.lF=new FD(t)}return t.prototype.dF=function(t){return t.pipeThrough(new md(this.lF))},t}();function QD(t,n,i){var e=eo(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function ZD(t,n){QD(t,n,WD.wF);var i,e,r,s=KD(t,n),u=n.Pu+s,o=ho(t,n),a=eo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=ho(t,n)),h)&&(e=_o(t,n,eo(t,n)));c&&(r=_o(t,n,2));var v=function(t,n){QD(t,n,WD._F);var i,e=KD(t,n),r=n.Pu+e,s=eo(t,n),u=eo(t,n),o=u>>2,a=0!=(2&u),h=ao(t,n,3),c=fo(t,n),f=fo(t,n);if(n.Pu<r){var v=function(t,n){return t.getUint8(n.Pu)}(t,n);v===WD.gF&&(i=function(t,n){QD(t,n,WD.gF);var i=KD(t,n),e=so(t,n,i);return{mF:WD.gF,yF:e}}(t,n))}return n.xu(r),{mF:WD._F,kF:s,pF:o,bF:a,AF:h,TF:c,SF:f,EF:i}}(t,n);return n.xu(u),{mF:WD.wF,P_:o,IF:i,Ql:e,RF:f,DF:r,NF:v}}function KD(t,n){for(var i=0,e=0;e<4;e++){var r=eo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function JD(t,n){for(var i=eo(t,n),e=eo(t,n),r=eo(t,n),s=eo(t,n),u=3&eo(t,n),o=31&eo(t,n),a=[],h=0;h<o;h++){var c=ho(t,n);a.push(so(t,n,c))}for(var f=eo(t,n),v=[],l=0;l<f;l++){var d=ho(t,n);v.push(so(t,n,d))}return{CF:i,PF:e,BF:r,OF:s,xF:u,LF:a,MF:v}}function $D(t){var n=jk(ip.RA(t),uk.sb);if(n){for(var i=n.pA.yp,e=[],r=0,s=n.VA;r<s.length;r++){for(var u=s[r],o=u.pA.iT,a=u.JA.pA.yp,h=void 0,c=void 0,f=0,v=u.JA.cT.lT.wT.gT;f<v.length;f++){var l,d,w=tN(v[f]);if(w)h=null!=(l=w.UF)?l:h,c=null!=(d=w.XF)?d:c}e.push({iT:o,yp:a,HF:{UF:h,XF:c,FF:void 0}})}return{yp:i,VA:e}}}function tN(t){var n,i;if(t.fs===uk.pb)n=function(t){return"avc1."+nN(t.PF,2)+nN(t.BF,2)+nN(t.OF,2)}(JD(Lo(t.VT.Fi),new Vo));else if(t.fs===uk.Ab||t.fs===uk.Tb){var e=function(t,n){for(var i=n.Xu(),e=Gu(t,i,8),r=Gu(t,i,2),s=Gu(t,i,1),u=Gu(t,i,5),o=Gu(t,i,32),a=[],h=0;h<6;h++)a.push(Gu(t,i,8));var c=Gu(t,i,8);i.Bu(4);var f=Gu(t,i,12);i.Bu(6);var v=Gu(t,i,2);i.Bu(6);var l=Gu(t,i,2);i.Bu(5);var d=Gu(t,i,3);i.Bu(5);for(var w=Gu(t,i,3),_=Gu(t,i,16),g=Gu(t,i,2),m=Gu(t,i,3),y=Gu(t,i,1),k=Gu(t,i,2),p=Gu(t,i,8),b=[],A=0;A<p;A++){var T=Gu(t,i,1);i.Bu(1);for(var S=Gu(t,i,6),E=Gu(t,i,16),I=[],R=0;R<E;R++){var D=Gu(t,i,16),N=so(t,new Vo(i.Pu>>3),D);i.Bu(8*D),I.push({zF:D,VF:N})}b.push({WF:T,GF:S,qF:E,YF:I})}return{CF:e,jF:r,QF:s,ZF:u,KF:a,JF:c,tz:f,nz:v,iz:o,ez:l,rz:d,sz:w,oz:_,cz:m,fz:y,vz:g,xF:k,lz:p,wz:b}}(Lo(t.YT.Fi),new Vo);n=function(t,n){var i=t.toString()+".";switch(n.jF){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.ZF.toString()+".",i+=(e=n.iz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.QF){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.JF.toString();for(var s=n.KF.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.KF[u].toString(16).toUpperCase();return i}(t.fs,e)}else{if(t.fs!==uk.Ib)return(t.fs===uk.Bb||t.fs===uk.Pb)&&t.ZT?tN(t.ZT):void 0;i=function(t){var n=t.NF;switch(n.kF){case GD._z:return function(t){var n;if(null==(n=t.EF)||!n.yF)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Gu(t,n,5);31===i&&(i=32+Gu(t,n,6));var e,r=Gu(t,n,4);return 15===r&&(e=Gu(t,n,24)),{gz:i,mz:r,yz:e,kz:Gu(t,n,4)}}(Lo(t.EF.yF),new qu).gz}(n);case GD.pz:return"mp4a.40.2";case GD.bz:return"mp4a.40.34"}}(ZD(Lo(t.MT.Fi),new Vo))}return{UF:n,XF:i,FF:void 0}}function nN(t,n){return gs(t.toString(16),n,"0")}function iN(t,n){var i=ip.RA(Lo(t)),e=function(t,n){for(var i,e=0,r=t.VA;e<r.length;e++){var s,u=r[e],o=null==(s=u._S)?void 0:s._S;o&&function(){var t=u.pA.iT,e=xs(n.VA,function(n){return n.iT===t}),r=tk.Vk(o,e.yp);i&&!r.Bk(i)||(i=r)}()}return i}(jk(i,uk.Ob),n),r=jk(i,uk.Fb);return{Vy:e.Ek(),Az:r.Fi}}function eN(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.fs,e.next=e.t0===AD.GX?3:e.t0===AD.Yf?4:e.t0===AD.qX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Dr.awrap(Od(t.Fi,n));case 6:return i=e.sent,nu(n),e.abrupt("return",{fs:AD.GX,Fi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.wF=3]="wF",t[t._F=4]="_F",t[t.gF=5]="gF"}(WD||(WD={})),function(t){t[t._z=64]="_z",t[t.pz=103]="pz",t[t.bz=107]="bz"}(GD||(GD={})),function(t){t[t.Tz=0]="Tz",t[t.Sz=1]="Sz",t[t.pz=2]="pz",t[t.Ez=5]="Ez",t[t.Iz=34]="Iz"}(qD||(qD={}));var rN=20,sN=M.Bn,uN=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Rz=void 0,o.Dz=void 0,o.Nz=void 0,o.Cz=void 0,o.Pz=void 0,o.fL=rN,o.vL=KI,o.Bz=!1,o.Oz=!1,o.xz=void 0,o.Lz=new Js,o.Mz=void 0,o.Uz=!1,o.Xz=void 0,o.Hz=!1,o.Fz=void 0,o.zz=function(){o.Bz=!1},o.Rz=i,o.Dz=n,o.Nz=e,o.Nz.addEventListener("updateend",o.zz),o.Cz=r,o.Pz=s,o.Hz=oN(r.Nl,s),null!=(u=i.rc)&&u.Ke&&(o.Mz=new jD(YD)),o}S(n,t);var i=n.prototype;return i.Vz=function(t,n,i){var e=this;switch(t.fs){case AD.GX:case AD.Yf:return this.Wz(function(i){return e.Gz(t,n,i)},i);case AD.qX:throw new v("Opaque segments are not supported on web.")}},i.qz=function(t,n){var i=this;switch(t.fs){case AD.GX:return this.Wz(function(n){return i.Yz(t,n)},n);case AD.Yf:throw new v("Streaming initialization segments are not supported on web.");case AD.qX:throw new v("Opaque initialization segments are not supported on web.")}},i.Yz=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Hz){i.next=3;break}return this.Fz=$D(Lo(t.Fi)),i.abrupt("return");case 3:return i.next=5,Dr.awrap(this.jz(t,void 0,n));case 5:sN&&(this.Uz=!1,this.Xz=t);case 6:case"end":return i.stop()}},null,this,null,We)},i.Gz=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(sN&&this.Uz&&this.Xz)){u.next=3;break}return u.next=3,Dr.awrap(this.Yz(this.Xz,i));case 3:if(u.prev=3,nu(i),!this.Hz||!this.Fz){u.next=12;break}return u.next=8,Dr.awrap(eN(t,i));case 8:r=u.sent,s=iN(r.Fi,this.Fz),t={fs:AD.GX,Fi:s.Az},n=Nr({},n,{Zp:s.Vy+(null!=(e=n.Zp)?e:0)});case 12:return u.next=14,Dr.awrap(this.jz(t,n,i));case 14:this.Qs(new gu(mD.VX));case 15:return u.prev=15,t.fs===AD.Yf&&t.Fi.cancel(new $s).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],We)},i.jz=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:nu(i),n&&this.Qz(n),s.t0=t.fs,s.next=s.t0===AD.GX?5:s.t0===AD.Yf?13:21;break;case 5:if(!this.Mz){s.next=10;break}return e=this.Mz.dF(Pd(t.Fi)),s.next=9,Dr.awrap(this.Zz(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Dr.awrap(this.Kz(t.Fi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.Mz){s.next=18;break}return r=this.Mz.dF(t.Fi),s.next=17,Dr.awrap(this.Zz(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Dr.awrap(this.Zz(t.Fi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,We)},i.Zz=function(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Dz.Jm,e=RD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Dr.awrap(ru(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return nu(n),o=Xu(u.value),s=!0,c.next=17,Dr.awrap(this.Kz(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Dr.awrap(this.Jz());case 27:a=this.Dz.Jm.FN(i.zN()),h=0;case 29:if(!(h<a.b_)){c.next=35;break}return c.next=32,Dr.awrap(this.$z(a.RN(h),a.NN(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],We)},i.tV=function(t,n){var i=this;return this.Wz(function(){return i.nV(t,n)})},i.nV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Nz.appendWindowStart===t&&this.Nz.appendWindowEnd===n){i.next=6;break}return i.next=3,Dr.awrap(this.Jz());case 3:this.Nz.appendWindowStart=0,this.Nz.appendWindowEnd=n,this.Nz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},i.Qz=function(t){this.Nz.timestampOffset!==t.Zp&&(this.Nz.timestampOffset=t.Zp)},i.Kz=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Nz.appendBuffer(t),this.Oz=!0,n.next=4,Dr.awrap(this.iV());case 4:case"end":return n.stop()}},null,this,null,We)},i.eV=function(t,n,i){var e=this;return this.Wz(function(i){return e.$z(t,n,i)},i)},i.$z=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),this.Nz.remove(t,n),e.next=4,Dr.awrap(this.iV());case 4:case"end":return e.stop()}},null,this,null,We)},i.iV=function(){var t=this,n=this.Dz.Jm;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.nC(t.Dz.Jm)||t.Qs(new gu(mD.VX)),i()):e(new v(r))},c=function(){t.Nz.removeEventListener("update",u),t.Nz.removeEventListener("error",o),t.Nz.removeEventListener("abort",a),t.Nz.removeEventListener("updateend",h)};t.Nz.addEventListener("update",u),t.Nz.addEventListener("error",o),t.Nz.addEventListener("abort",a),t.Nz.addEventListener("updateend",h)})},i.rV=function(){var t=this;return this.Wz(function(){return t.Jz()})},i.Jz=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Rz.Y_===SN.Bd){t.next=2;break}return t.abrupt("return");case 2:sN&&(this.Uz=!0),this.Nz.updating&&(this.Bz=!0);try{this.Nz.abort()}catch(t){0,this.Bz=!1}if(!this.ux){t.next=8;break}return t.next=8,Dr.awrap(this.iV().catch(K));case 8:case"end":return t.stop()}},null,this,null,We)},i.sV=function(){return"function"==typeof this.Nz.changeType},i.PX=function(t){var n;this.uV(),this.Rz.Y_!==SN.oV&&(this.Cz=t,this.Pz=null!=(n=DN(t.Nl))?n:t.Nl,this.Hz=oN(t.Nl,this.Pz),this.sV()&&this.Nz.changeType(this.Pz))},i.aV=function(){this.Rz.Y_!==SN.mf||this.xz||this.ux||(this.Nz.timestampOffset=this.Nz.timestampOffset,this.Rz.hV())},i.Wz=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.uV(),(i=new Js).zs(this.Lz.Ws),n&&i.zs(n),e.prev=4,this.xz=t(i.Ws),e.next=8,Dr.awrap(this.xz);case 8:if(this.Rz.hV(),!this.ux){e.next=12;break}return e.next=12,Dr.awrap(this.iV());case 12:return e.prev=12,this.xz=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},i.uV=function(){if(this.xz)throw new v("Internal error")},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.Lz.Fs(),!this.xz){t.next=6;break}return t.next=5,Dr.awrap(this.xz.catch(K));case 5:this.xz=void 0;case 6:this.Nz.removeEventListener("updateend",this.zz);case 7:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"ux",get:function(){return this.Bz||this.Nz.updating}}]),n}(wu);function oN(t,n){return ls(t,"audio/mp4")&&ls(n,"audio/mpeg")}var aN=function(){function t(t,n){this.cV=void 0,this.Nz=void 0,this.fV=void 0,this.cV=n,this.Nz=t}var n=t.prototype;return n.HX=function(){return!!this.fV&&this.Jm.LN().GD(this.fV)},n.vV=function(){var t=this.Jm;this.fV=t.b_>0?t.NN(t.b_-1):0,this.cV.lV()},n.aV=function(){this.fV=void 0},A(t,[{key:"Jm",get:function(){if(this.cV.Y_===SN.oV)return uS.fC();var t=uS.aC(this.Nz.buffered).FN(new uS([0,1/0])),n=this.fV;return void 0!==n&&t.b_>0&&t.NN(t.b_-1)===n&&(t=t.YN(uS.cC(n))),t}}]),t}();function hN(t){var n=t._c("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function cN(t,n){var i=fN(t)||vN(t),e=fN(n)||vN(n);return!i&&!e||t===n}function fN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function vN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function lN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function dN(t,n,i,e,r,s,u){var o=new aN(r,t),a=new uN(o,t,r,i,s);return new wN(t,n,i,e,o,a,u)}var wN=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Rz=void 0,a.Pc=void 0,a.dV=void 0,a.KR=void 0,a.Dc=void 0,a.wV=void 0,a.Dz=void 0,a._V=void 0,a.gV=Pr(),a.Rz=n,a.Pc=e,a.Dc=e.Nl,a.dV=r,a.KR=i,a.Dz=s,a._V=u,a.wV=o,a._V.Zs(mD.VX,a.js),a}S(n,t);var i=n.prototype;return i.HX=function(){return this.Dz.HX()},i.vV=function(){this.Dz.vV()},i.aV=function(){this.Dz.aV(),this._V.aV()},i.mV=function(t,n){this.wV.KX(t,n)},i.yV=function(t,n){this.wV.JX(t,n)},i.kV=function(){return this._V.rV()},i.Vz=function(t,n,i){return this._V.Vz(t,n,i)},i.qz=function(t,n,i){return this._V.qz(t,i)},i.tV=function(t,n){return this._V.tV(t,n)},i.Qh=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.yV(t,n),e=this.Jm,s.next=4,Dr.awrap(this._V.eV(t,n,i));case 4:r=0!==e.b_&&0===this.Jm.b_,(M.Mn||M.En)&&r&&this.KR.xu(this.KR.Xg);case 6:case"end":return s.stop()}},null,this,null,We)},i.CX=function(t){var n=t.Nl;if(this.Dc===n)return!0;var i=this.gV.get(n);if(void 0!==i)return i;var e=this.pV(t);return this.gV.set(n,e),e},i.pV=function(t){var n=DN(t.Nl);if(void 0===n)return!1;var i=Bc(this.Dc),e=Bc(n),r=hN(i),s=hN(e);if(this._V.sV()){if(!function(t,n){return Zs(t,n,cN)}(r,s))return!1}else{if(i.fs!==e.fs)return!1;if(!function(t,n){return Zs(t,n,lN)}(r,s))return!1}return!0},i.PX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Nl,this.Dc!==n&&(this.gV.clear(),this._V.PX(t),this.Dc=n),this.Pc=t,this.Rz.bV();case 4:case"end":return i.stop()}},null,this,null,We)},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gV.clear(),this.$s(),this.wV.Sd(),t.prev=3,this._V.tu(mD.VX,this.js),t.next=7,Dr.awrap(this._V.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},A(n,[{key:"Jm",get:function(){return this.Dz.Jm}},{key:"rc",get:function(){return this.Pc}},{key:"Nl",get:function(){return this.Dc}},{key:"AV",get:function(){return this.dV}},{key:"TV",get:function(){return this.wV.$X}},{key:"eL",get:function(){return this._V.eL},set:function(t){this._V.eL=t}},{key:"oL",get:function(){return this._V.oL},set:function(t){this._V.oL=t}},{key:"ux",get:function(){return this._V.ux}}]),n}(wu),_N=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.SV=void 0,this.RN=t,this.NN=n,this.EV=i,this.RV=e,this.SV=QE()}return t.prototype.DV=function(){var t=this.RN,n=this.NN;if(this.EV||this.RV){var i=.001*(QE()-this.SV);this.EV&&(t+=i),this.RV&&(n+=i)}return t>=n?uS.fC():new uS([t,n])},t}(),gN=100,mN=1e3,yN=1e4,kN=.01,pN=1,bN=[bf.If,bf.Ef,bf.Bf,bf.Pf,bf.mf,bf.Df,hm.u_,Ig.z_],AN=function(){function t(t,n){var e=this;this.AE=qg.Rg,this.NV=!1,this.CV=[],this.PV=void 0,this.BV=0,this.OV=0,this.xV=0,this.LV=0,this.MV=0,this.UV=mN,this.XV=function(t){var n=e.KR.Xg;t.QX.GD(n)&&e.HV(n)},this.FV=$(function(){e.zV(hm.u_)},gN),this.VV=$(function(){e.zV(bf.Rf)},gN),this.WV=function(){e.GV()?e.qV():e.YV()},this.jV=function(){var t=e.BV,n=e.xV,r=e.KR.Xg,s=i.ir(),u=t!==r;if(u||!e.GV())return e.BV=r,e.xV=s,void(u&&(e.MV=0,e.UV=mN));if(n>0&&s>n+e.UV){var o=e.Dz.Jm;if(o.b_>1){var a=e.$X.LN().QN(o),h=a.rC(r);if(-1!==h)if(a.RN(h)-r<pN){var c=a.NN(h);return void e.KR.xu(c)}}var f=r+e.MV*kN;o.GD(f)||(f=e.QV(r,o)),e.BV=f,e.xV=s,e.MV++,e.UV=w.min(2*e.UV,yN),e.KR.xu(f)}},this.Dz=t,this.KR=n,this.KR.Zs(hm.u_,this.FV),this.KR.Zs(bf.Rf,this.VV),this.KR.Zs(bN,this.WV)}var n=t.prototype;return n.ZV=function(t){this.CV.push(t),t.Zs(TD.YX,this.XV)},n.Sd=function(){var t=this;this.YV(),this.AE=qg.Rg,this.KR.tu(hm.u_,this.FV),this.KR.tu(bf.Rf,this.VV),this.KR.tu(bN,this.WV),this.CV.forEach(function(n){return n.tu(TD.YX,t.XV)}),void 0!==this.PV&&(i.jn(this.PV),this.PV=void 0),this.NV=!0},n.zV=function(t){if(!this.NV){var n=this.KR.Y_;if(n<=qg.Ng){var i=this.KR.Xg,e=this.Dz.Jm,r=e.ZN(i),s=e.NN(r);-1!==r&&(t===hm.u_&&n<this.AE||t===bf.Rf&&n===this.AE)&&s<i+.5&&(i=s),this.HV(i)}t===hm.u_&&(this.AE=n)}},n.HV=function(t){var n=this;if(this.KR.Fg)return!1;var e=this.$X.LN().QN(this.Dz.Jm),r=e.ZN(t);if(-1!==r&&!(w.abs(e.RN(r)-e.NN(r))<=.001)){if(i.Pw){if(void 0!==this.PV)return!1;this.OV=this.KR.Xg,this.PV=i.Qn(function(){n.OV===n.KR.Xg&&n.KR.xu(e.NN(r)),n.PV=void 0},1500)}else this.KR.xu(e.NN(r));return!0}return!1},n.qV=function(){0===this.LV&&(this.LV=i.Ar(this.jV,250))},n.YV=function(){0!==this.LV&&(i.Tr(this.LV),this.LV=0),this.KR.qg||(this.xV=0)},n.GV=function(){return!this.KR.Wg&&!this.KR.qg&&0!==this.KR.Gg&&!this.KR.Fg&&!this.KR.mu&&this.KR.Y_>=qg.Cg},n.QV=function(t,n){var i=n.ZN(t);return i>-1?n.NN(i):t},A(t,[{key:"$X",get:function(){return this.CV.reduce(function(t,n){return t.YN(n.$X)},uS.fC())}}]),t}();function TN(t){var n=[];if(t.KV&&n.push(t.KV.Jm),t.JV&&n.push(t.JV.Jm),0===n.length)return uS.fC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.b_>0&&(i=w.max(i,r.NN(r.b_-1)))}for(var s=t.HX,u=new uS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.b_>0&&(a=a.YN(new uS([a.NN(a.b_-1),i],[!0,!0]))),u=u.FN(a)}return u}var SN,EN=M.In||M.Rn;!function(t){t.oV="closed",t.Bd="open",t.mf="ended"}(SN||(SN={}));var IN=function(){function t(){}return t.prototype.$V=function(){return new MediaSource},t}(),RN=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new IN),(u=t.call(this,n,i,e,r)||this).tW=void 0,u.nW=void 0,u.iW=void 0,u.eW=new _N(0,1/0),u.JR=void 0,u.rW=void 0,u.sW=void 0,u.uW=!1,u.oW=function(){u.aW()},u.hW=function(){u.KR.hW()},u.tW=s,u.JR=u.tW.$V(),u.KR.Zs(bf.Bf,u.oW),u.sW=new AN(Kt(u),u.KR),u}S(n,t);var i=n.prototype;return i.cW=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.fW()?this.vW(t):this.rW=t},i.vW=function(t){var n=t===1/0,i=n?xt:t;if(n&&this.JR.setLiveSeekableRange){var e=w.pow(2,39);this.JR.setLiveSeekableRange(0,e)}this.JR.duration=i,this.rW=void 0},i.lW=function(t,n,i,e){this.eW=new _N(t,n,!!i,!!e)},i._L=function(){var t,n,i,e,r,s,u,o,a,h,c;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Pc,n=xs(t.dW,function(t){return ls(t.Nl,"audio")}),i=xs(t.dW,function(t){return ls(t.Nl,"video")}),f.next=5,Dr.awrap(this.wW());case 5:n&&(r=new ID,this.sW.ZV(r),s=null!=(e=DN(n.Nl))?e:n.Nl,u=this.JR.addSourceBuffer(s),this.nW=dN(this,this.KR,n,ty.dd,u,s,r),this.nW.Zs(mD.VX,this.hW)),i&&(a=new ID,this.sW.ZV(a),h=null!=(o=DN(i.Nl))?o:i.Nl,c=this.JR.addSourceBuffer(h),this.iW=dN(this,this.KR,i,ty.wd,c,h,a),this.iW.Zs(mD.VX,this.hW)),this.SX.jh(this,t);case 8:case"end":return f.stop()}},null,this,null,We)},i.wW=function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.JR),i.next=3,Dr.awrap(t.prototype.LX.call(this,n));case 3:if(this.Y_===SN.Bd){i.next=6;break}return i.next=6,Dr.awrap(W_(this.JR,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i.fW=function(){if(this.Y_!==SN.Bd)return!1;var t=this.nW&&this.nW.ux,n=this.iW&&this.iW.ux;return!(t||n)},i.vV=function(){this.uW=!0,this.nW&&this.nW.vV(),this.iW&&this.iW.vV(),this.uW=!1,this.aW()},i.aV=function(){this.nW&&this.nW.aV(),this.iW&&this.iW.aV()},i.CX=function(n){var i=xs(n.dW,function(t){return ls(t.Nl,"audio")}),e=xs(n.dW,function(t){return ls(t.Nl,"video")});if(this.nW){if(!i)return!1;if(!this.nW.CX(i))return!1}else if(i)return!1;if(this.iW){if(!e)return!1;if(!this.iW.CX(e))return!1}else if(e)return!1;return!!t.prototype.CX.call(this,n)},i.PX=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=xs(n.dW,function(t){return ls(t.Nl,"audio")}),e=xs(n.dW,function(t){return ls(t.Nl,"video")}),r=[],this.nW&&r.push(this.nW.PX(i)),this.iW&&r.push(this.iW.PX(e)),s.next=7,Dr.awrap(We.all(r));case 7:return s.next=9,Dr.awrap(t.prototype.PX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.nW){n.next=4;break}return n.next=3,Dr.awrap(this.nW.xs());case 3:this.nW=void 0;case 4:if(!this.iW){n.next=8;break}return n.next=7,Dr.awrap(this.iW.xs());case 7:this.iW=void 0;case 8:return this.Vc.src&&URL.revokeObjectURL(this.Vc.src),this.KR.tu(bf.Bf,this.oW),this.sW.Sd(),n.next=13,Dr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,We)},i.bV=function(){var t=this,n=this.Pc,i=n.dW.map(function(n){return ls(n.Nl,"audio")&&t.nW?t.nW.rc:ls(n.Nl,"video")&&t.iW?t.iW.rc:n});this.Pc=Nr({},n,{dW:i})},i.lV=function(){this.uW||this.aW()},i.aW=function(){this._W&&this.fW()&&(this.JR.endOfStream(),this.rW=void 0,this.Qs(new gu(cD.VP)),this.KR.hW())},i.hV=function(){this.fW()&&(this.HX?this.aW():void 0!==this.rW&&this.vW(this.rW))},i.HV=function(t){return this.sW.HV(t)},n.XX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.dW;n<i.length;n++){if(void 0===DN(i[n].Nl))return!1}return!0},A(n,[{key:"KV",get:function(){return this.nW}},{key:"JV",get:function(){return this.iW}},{key:"Hg",get:function(){if(this.rW)return this.rW;var t=this.JR.duration;return t===xt?1/0:t}},{key:"Jm",get:function(){return EN?TN(this):(t=this,n=uS.aC(this.Vc.buffered),(i=n).b_>0&&t.HX&&(i=i.YN(uS.cC(i.NN(i.b_-1)))),i);var t,n,i}},{key:"FX",get:function(){var t;return null==(t=this.nW)?void 0:t.Jm}},{key:"zX",get:function(){var t;return null==(t=this.iW)?void 0:t.Jm}},{key:"py",get:function(){return this.eW.DV().FN(new uS([0,this.Hg],[!0,!0]))}},{key:"HX",get:function(){return(!this.nW||this.nW.HX())&&(!this.iW||this.iW.HX())}},{key:"Y_",get:function(){return this.JR.readyState}},{key:"_W",get:function(){if(!this.HX)return!1;var t=this.Jm;return 0!==t.b_&&t.RN(t.b_-1)<=this.KR.Xg}}]),n}(yD);function DN(t){var n=Bc(t),i="audio/mp4"===n.fs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(hN(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.Bn))return t;if(i){var e=xs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var NN=[bf.Ff,bf.Df,bf.Bf,bf.If,bf.Ef],CN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this)._C=n,c.ua=i,c.gW=e,c.mC=r,c.kC=s,c.gC=u,c.yC=o,c.Da=a,c.mW=h,c}S(n,t);var i=n.prototype;return i.Pm=function(){this.mC||(this.mC=!0,this.Qs(new fm(this.Xg)))},i.Cm=function(){this.mC&&(this.mC=!1,this.Qs(new vm(this.Xg)))},i.xs=function(){this.$s()},A(n,[{key:"Xg",get:function(){return this._C},set:function(t){this.Xg!==t&&(this._C=t,this.kC=!0,this.Qs(new bm(this.Xg)))}},{key:"Hg",get:function(){return this.ua}},{key:"Fg",get:function(){return this.gW}},{key:"Wg",get:function(){return this.mC}},{key:"Y_",get:function(){return this.mW}},{key:"qg",get:function(){return this.kC}},{key:"Vg",get:function(){return this.gC},set:function(t){this.Vg!==t&&(this.gC=t,this.Qs(new Tm(this.Xg,this.Qg)))}},{key:"Gg",get:function(){return this.yC},set:function(t){this.Gg!==t&&(this.yC=t,this.Qs(new mm(this.Xg,this.Gg)))}},{key:"Qg",get:function(){return this.Da},set:function(t){this.Qg!==t&&(this.Da=t,this.Qs(new Tm(this.Xg,this.Qg)))}}]),n}(wu);var PN=function(t){function n(n){var i;return(i=t.call(this)||this).KR=void 0,i.AE=qg.Rg,i.yW=function(){i.kW()},i.KR=n,i}S(n,t);var i=n.prototype;return i.pW=function(t){this.AE!==t&&(this.AE=t,this.Qs(new Im(this.KR.Xg,t)))},i.kW=function(){this.pW(this.jL())},i.k_=function(){this.pW(qg.Rg)},i.xs=function(){this.$s()},A(n,[{key:"Y_",get:function(){return this.jL()}}]),n}(wu),BN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],ON=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<BN.length;e++){var r=BN[e];i.KR.SD.addEventListener(r,i.yW)}return i}S(n,t);var i=n.prototype;return i.jL=function(){var t=this.KR.SD.readyState;return t>qg.Ng&&this.KR.bW?qg.Ng:(this.KR.SD.seeking&&t>qg.Dg&&(t=qg.Dg),t)},i.xs=function(){for(var n=0;n<BN.length;n++){var i=BN[n];this.KR.SD.removeEventListener(i,this.yW)}t.prototype.xs.call(this)},n}(PN),xN=function(t){function n(n){var i;(i=t.call(this,n)||this).KR.Zs(bf.Bf,i.yW);for(var e=0;e<BN.length;e++){var r=BN[e];i.KR.SD.addEventListener(r,i.yW)}return i}S(n,t);var i=n.prototype;return i.jL=function(){if(this.KR.SD.readyState===qg.Rg)return qg.Rg;var t=this.AW(),n=t?t.NN-t.RN:0;if(!t)return qg.Dg;var i=this.KR.Gg;return this.TW()||n>=3*i?qg.Pg:n>=3?qg.Cg:qg.Ng},i.AW=function(){var t=this.KR.Xg,n=this.KR.Jm.qN(.04),i=n.ZN(t);if(!(i<0))return{RN:t,NN:n.NN(i)}},i.TW=function(){if(this.KR.Fg)return!0;var t=this.KR.Hg,n=this.AW();return!!n&&t-n.NN<=1/6},i.xs=function(){this.KR.tu(bf.Bf,this.yW);for(var n=0;n<BN.length;n++){var i=BN[n];this.KR.SD.removeEventListener(i,this.yW)}t.prototype.xs.call(this)},n}(PN),LN=[hm.u_,bf.If,bf.Ef,bf.Bf,bf.Pf,bf.mf,Ig.z_],MN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vc=void 0,i.SW=!1,i.LE=function(){i.SW=!0,i.Zh()},i.Vc=n.SD,i.Vc.addEventListener(hm.Ug,i.LE),i}S(n,t);var i=n.prototype;return i.EW=function(){return this.SW&&t.prototype.EW.call(this)},i.Zh=function(){this.SW&&(this.Vc.paused||this.Vc.ended||this.Vc.error)&&(this.SW=!1),t.prototype.Zh.call(this)},i.k_=function(){t.prototype.k_.call(this),this.SW=!1},i.xs=function(){this.Vc.removeEventListener(hm.Ug,this.LE),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).RE=void 0,i.IW=!1,i.ox=function(){i.Zh()},i.RE=n,i.RE.Zs(LN,i.ox),i}S(n,t);var i=n.prototype;return i.RW=function(){return this.RE.Y_<qg.Cg},i.EW=function(){return!this.RE.qg&&!(this.RE.Wg||this.RE.Fg||this.RE.mu||this.RW())},i.Zh=function(){var t=this.IW;this.IW=this.EW(),!t&&this.IW&&this.Qs(new lb(this.RE.Xg))},i.k_=function(){this.IW=!1},i.xs=function(){this.$s(),this.RE.tu(LN,this.ox)},n}(wu)),UN=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).mu=void 0,i.mu=n,i}return S(n,t),n}(gu);function XN(t,n){return t.Vy<=n&&t.Wy>n}function HN(t,n){return function(t,n){return Bs(t.Vy,n.Vy,Py)}(t,n)||function(t,n){return Bs(t.Wy,n.Wy,Py)}(t,n)}function FN(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,HN,!0);if(i<0)return i;for(;i<t.length&&HN(n,t[i])===Ss.Is;i++)if(t[i].lk(n))return i;return-(i+1)}function zN(t){var n=t.Yw;if(!n)return-1;if(t instanceof Oy)return n.DW(t);var i=n.j_;if(!i)return-1;var e=FN(i.p_,t);return e>=0?e:-1}function VN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{NW:o,PW:a}}(t,n,HN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var WN=function(){function t(t){this.BW=void 0,this.Ww=void 0,this.BW=t}var n=t.prototype;return n.qw=function(){return function(t){for(var n=[],i=0;i<t.b_;i++)n[i]=t.Iu(i).Gw;return n.item=function(n){var i=0|n,e=t.Iu(i);return e&&e.Gw||void 0},d.defineProperty(n,"constructor",{value:Ry}),n}(this)},n.Ey=function(t){for(var n=this.BW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.lk(e))return!0}return!1},n.Iu=function(t){return this.BW[t]},A(t,[{key:"p_",get:function(){return this.BW}},{key:"b_",get:function(){return this.BW.length}},{key:"Gw",get:function(){if(this.Ww){var t=this.BW;this.Ww.length=t.length;for(var n=0;n<t.length;n++)this.Ww[n]=t[n].Gw}else this.Ww=this.qw();return this.Ww}}]),t}(),GN=function(t){function n(n,i){var e;return(e=t.call(this,Z_.u_)||this).Yw=n,e.Y_=i,e}return S(n,t),n.prototype.qw=function(){return new qN(this.Yw.Gw,Og(this.Y_))},n}(K_),qN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(J_),YN=function(t){function n(n){var i;return(i=t.call(this,Z_.a_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new jN(this.Yw.Gw)},n}(K_),jN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(J_),QN=function(t){function n(n){var i;return(i=t.call(this,Z_.jw)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new ZN(this.zy.Gw)},n}(K_),ZN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(J_),KN=function(t){function n(n){var i;return(i=t.call(this,Z_.Zw)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new JN(this.zy.Gw)},n}(K_),JN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(J_),$N=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).Ww=void 0,h.Bh=void 0,h.Dy=uy(),h.OW=!1,h.xW=void 0,h.LW=void 0,h.Ry=void 0,h.oa=void 0,h.HC=Eg.X_,h.mW=wy.NONE,h.MW=void 0,h.Vi=void 0,h.UW=void 0,h.BW=[],h.XW=[],h.HW=void 0,h.FW=void 0,h.zW=0,h.VW=0,h.Bh=i||"",h.xW=a||"",h.LW=n,h.oa=r||"",h.OW=Boolean(s),h.UW=Boolean(o),h.Vi=u||_y.DEFAULT,h.Ry=e||"",h.HW=new WN(h.BW),h.FW=new WN(h.XW),h}S(n,t);var i=n.prototype;return i.WW=function(t){return xs(this.HW.p_,function(n){return n.P_===t})},i.qw=function(){return Cg(this)},i.nP=function(t){var n=Dg(t);n!==this.W_&&(this.HC=n,n===Eg.X_&&(this.XW.forEach(function(t){t.dk=!1}),zs(this.XW),this.VW=0),this.Qs(new rg(this)))},i.mE=function(t){if(t&&!t.Yw){var n=FN(this.j_.p_,t);if(!(n>=0)){t.Yw=this;var i=-(n+1);this.BW.splice(i,0,t),this.GW(i),t.vk=i,i<this.VW&&(this.VW=i),this.Qs(new QN(t))}}},i.sE=function(t){if(t&&t.Yw===this){var n=this.DW(t);if(!(n<0)){t.dk=!1;var i=this.XW,e=FN(i,t);e>=0&&Xs(i,e),Xs(this.BW,n),this.GW(n),t.vk=-1,this.VW>n&&--this.VW,this.Qs(new KN(t))}}},i.qW=function(t,n){var i=this.XW,e=this.BW,r=this.VW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){XN(i[u],t)||(s=!0,Xs(i,u))}for(;r<e.length&&e[r].Vy<=t;){var o=e[r];if(0===t)break;XN(o,t)&&!Hs(i,o)&&(s=!0,i.push(o)),r++}s&&Rs(i,HN),this.VW=r},i.DW=function(t){return(-1===t.vk||t.vk>=this.zW)&&this.YW(),t.vk},i.YW=function(){for(var t=this.BW,n=this.zW;n<t.length;n++)t[n].vk=n;this.zW=t.length},i.GW=function(t){t<this.zW&&(this.zW=t)},i.G_=function(t){this.q_||(this.W_=t)},i.Sd=function(){this.$s();for(var t=this.BW.slice(),n=0;n<t.length;n++){t[n].Sd()}zs(this.BW),zs(this.XW)},A(n,[{key:"Q_",get:function(){return this.FW}},{key:"j_",get:function(){return this.HW}},{key:"kE",get:function(){return this.OW},set:function(t){this.OW=t}},{key:"q_",get:function(){return this.UW}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"B_",get:function(){return this.Dy}},{key:"V_",get:function(){return this.xW},set:function(t){this.xW=t}},{key:"O_",get:function(){return this.LW}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new ey(this)))}},{key:"L_",get:function(){return this.oa}},{key:"W_",get:function(){return this.HC},set:function(t){this.nP(t)}},{key:"Y_",get:function(){return this.mW},set:function(t){this.mW!==t&&(this.mW=t,this.Qs(new GN(this,this.mW)))}},{key:"Z_",get:function(){return this.MW},set:function(t){this.MW=t}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new YN(this)))}}]),n}(wu),tC=function(t){function n(n,i){var e;return(e=t.call(this,ky.Uy,n)||this).mp=i,e}return S(n,t),n.prototype.qw=function(){return new nC(this.zy.Gw)},n}(Sy),nC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Ey),iC=function(t){function n(n,i){var e;return(e=t.call(this,ky.Hy,n)||this).mp=i,e}return S(n,t),n.prototype.qw=function(){return new eC(this.zy.Gw)},n}(Sy),eC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Ey),rC=function(t){function n(n){var i;return(i=t.call(this,Z_.Jw)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new sC(this.zy.Gw)},n}(K_),sC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(J_),uC=function(t){function n(n){var i;return(i=t.call(this,Z_.t_)||this).zy=n,i}return S(n,t),n.prototype.qw=function(){return new oC(this.zy.Gw)},n}(K_),oC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(J_),aC=function(t){function n(n){var i;return(i=t.call(this)||this).jW=void 0,i.ck=void 0,i.Dy=void 0,i.rk=void 0,i.Ww=void 0,i.hk=!1,i.QW=function(){i.dk=!0},i.ZW=function(){i.dk=!1},i.Dy=fy(),i.jW=n,i.jW.addEventListener("enter",i.QW),i.jW.addEventListener("exit",i.ZW),i}S(n,t);var i=n.prototype;return i.qw=function(){return Iy(this)},i.lk=function(t){return this===t||vg(this,t)&&By(this,t)},i.Sd=function(){this.$s(),this.jW.removeEventListener("enter",this.QW),this.jW.removeEventListener("exit",this.ZW)},A(n,[{key:"B_",get:function(){return this.Dy}},{key:"Vy",get:function(){return this.jW.startTime},set:function(t){this.jW.startTime=t}},{key:"Wy",get:function(){return this.jW.endTime},set:function(t){this.jW.endTime=t}},{key:"Gy",get:function(){return this.ck},set:function(t){this.ck=t}},{key:"wk",get:function(){return!!this.jW.pauseOnExit},set:function(t){this.jW.pauseOnExit=!!t}},{key:"Yw",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"P_",get:function(){return this.jW.id||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"dk",get:function(){return this.hk},set:function(t){this.dk!==t&&(this.hk=t,t?(this.Qs(new tC(this,this.Vy)),this.rk&&this.rk.Qs(new rC(this))):(this.Qs(new iC(this,this.Wy)),this.rk&&this.rk.Qs(new uC(this))))}}]),n}(Lg),hC=function(t){function n(n){var i;return(i=t.call(this,Z_.i_)||this).Yw=n,i}return S(n,t),n.prototype.qw=function(){return new cC(this.Yw.Gw)},n}(K_),cC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(J_);function fC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new vC(t),t.THEOplayerVTTRegion=n),n}}var vC=function(){function t(t){this.KW=void 0,this.Ww=void 0,this.KW=t}return A(t,[{key:"JW",get:function(){return this.KW}},{key:"P_",get:function(){return this.KW.id||""}},{key:"Tk",get:function(){return+this.KW.width||0},set:function(t){this.KW.width=t||0}},{key:"_k",get:function(){return+this.KW.lines||0},set:function(t){this.KW.lines=t||0}},{key:"gk",get:function(){return+this.KW.regionAnchorX||0},set:function(t){this.KW.regionAnchorX=t||0}},{key:"yk",get:function(){return+this.KW.regionAnchorY||0},set:function(t){this.KW.regionAnchorY=t||0}},{key:"bk",get:function(){return+this.KW.viewportAnchorX||0},set:function(t){this.KW.viewportAnchorX=t||0}},{key:"Ak",get:function(){return+this.KW.viewportAnchorY||0},set:function(t){this.KW.viewportAnchorY=t||0}},{key:"pk",get:function(){return this.KW.scroll||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Fy(this)),this.Ww}}]),t}();var lC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"Gy",get:function(){return this.jW.text},set:function(t){this.jW.text=t}},{key:"$y",get:function(){return this.jW.vertical||""},set:function(t){this.jW.vertical=t||""}},{key:"Jy",get:function(){return this.jW.snapToLines},set:function(t){this.jW.snapToLines=t}},{key:"Yy",get:function(){return this.jW.line},set:function(t){this.jW.line=t}},{key:"Cu",get:function(){return+this.jW.size},set:function(t){this.jW.size=Mt(t,0,100)}}]),n}(aC),dC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&xy(this,n)},A(n,[{key:"Ky",get:function(){return fC(this.jW.region)}},{key:"jy",get:function(){return this.jW.lineAlign||"start"},set:function(t){this.jW.lineAlign=t||"start"}},{key:"Qy",get:function(){return this.jW.position},set:function(t){this.jW.position=t}},{key:"Zy",get:function(){return this.jW.positionAlign||"auto"},set:function(t){this.jW.positionAlign=t||"auto"}},{key:"qy",get:function(){return this.jW.align||"center"},set:function(t){this.jW.align=t||"center"}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Dy(this)),this.Ww}}]),n}(lC),wC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&xy(this,n)},A(n,[{key:"Ky",get:function(){return fC(this.JW)}},{key:"JW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.jW.track,this.jW.regionId)}},{key:"jy",get:function(){return"middle"===(t=this.jW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.jW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Qy",get:function(){return this.jW.position},set:function(t){var n,i;this.jW.position=(n=t,i=this.qy,Ty(n,i))}},{key:"Zy",get:function(){return t=this.jW.positionAlign||"middle",by[t];var t},set:function(t){var n,i;this.jW.positionAlign=(n=t||"center",i=this.qy,py[Ay(n,i)])}},{key:"qy",get:function(){return"middle"===(t=this.jW.align||"middle")?"center":t;var t},set:function(t){var n;this.jW.align="center"===(n=t||"center")?"middle":n}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Dy(this)),this.Ww}}]),n}(lC);function _C(t,n){return t.Gy===n.Gy}function gC(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Vy<t.Vy)mC(n,i,t.Vy);else{var e=n[0];if(e.Vy>t.Vy)t.Wy=e.Vy;else{var r=FN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Vy<t.Vy&&mC(n,u,t.Vy);if(s<n.length){var o=n[s];t.Wy=o.Vy}}}}}}function mC(t,n,i){for(var e=t[n].Vy,r=n;r>=0&&t[r].Vy===e;r--)t[r].Wy=i}function yC(t){return Iy(t)}var kC,pC,bC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).$W=void 0,e.$W=i,e}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&_C(this,n)},A(n,[{key:"Gy",get:function(){return this.$W}},{key:"Gw",get:function(){return this.Ww||(this.Ww=yC(this)),this.Ww}}]),n}(aC);function AC(t){switch(t){case kC.ISO_8859_1:case kC.UTF16_BOM:case kC.UTF16:case kC.UTF8:return!0}return!1}function TC(t){switch(t){case kC.ISO_8859_1:return mo;case kC.UTF16_BOM:return po;case kC.UTF16:return bo;case kC.UTF8:return No}}function SC(t,n){var i=n.Pu,e=t.byteLength,r=Mo(t);return n.Bu(e-i),Ho(r,i,e).buffer}function EC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function IC(t,n,i){var e=eo(t,n);if(AC(e)){var r=TC(e);return{id:i,language:_o(t,n,3),description:r(t,n),text:r(t,n)}}}function RC(t,n,i){var e=eo(t,n);if(AC(e)){var r=TC(e);return{id:i,mimeType:mo(t,n),fileName:r(t,n),description:r(t,n),data:SC(t,n)}}}function DC(t,n,i){var e=eo(t,n);if(AC(e)){for(var r=TC(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function NC(t,n,i){var e=eo(t,n);if(AC(e)){for(var r=TC(e),s=_o(t,n,3),u=eo(t,n),o=eo(t,n),a=r(t,n),h=!1,c=[];n.Pu<t.byteLength;){var f=void 0;if(e===kC.UTF16_BOM){var v=ko(t,n);void 0===v?v=h:h=v,f=bo(t,n,v)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;c.push({text:f,timestamp:fo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function CC(t,n,i){return{id:i,ownerIdentifier:mo(t,n),identifier:SC(t,n)}}function PC(t,n,i){var e=eo(t,n);if(AC(e)){var r=TC(e);return{id:i,language:_o(t,n,3),description:r(t,n),text:r(t,n)}}}function BC(t,n,i){var e=eo(t,n);if(AC(e))return{id:i,text:TC(e)(t,n)}}function OC(t,n,i){return{id:i,url:mo(t,n)}}function xC(t,n,i){var e=eo(t,n);if(AC(e)){var r=TC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function LC(t,n,i){var e=eo(t,n);if(AC(e))return{id:i,description:TC(e)(t,n),url:mo(t,n)}}function MC(t,n,i){switch(i){case"COM":return IC(t,n,i);case"GEO":return RC(t,n,i);case"IPL":return DC(t,n,i);case"PIC":return function(t,n,i){var e=eo(t,n);if(AC(e)){var r,s,u=TC(e),o=_o(t,n,3),a=eo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=mo(t,n)):(r="image/"+o.toLowerCase(),s=SC(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return NC(t,n,i);case"TXX":return xC(t,n,i);case"UFI":return CC(t,n,i);case"ULT":return PC(t,n,i);case"WXX":return LC(t,n,i);default:if("T"===i.charAt(0))return BC(t,n,i);if("W"===i.charAt(0))return OC(t,n,i)}}function UC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=eo(t,n);if(AC(e)){var r=TC(e),s=mo(t,n);return{id:i,mimeType:s,pictureType:eo(t,n),description:r(t,n),data:"--\x3e"===s?mo(t,n):SC(t,n)}}}(t,n,i);case"COMM":return IC(t,n,i);case"COMR":return function(t,n,i){var e=eo(t,n);if(AC(e)){var r,s,u=TC(e),o=mo(t,n),a=_o(t,n,8),h=mo(t,n),c=eo(t,n),f=u(t,n),v=u(t,n);return n.Pu<t.byteLength&&(r=mo(t,n)||"image/",s=SC(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return RC(t,n,i);case"IPLS":return DC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:mo(t,n),data:SC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:eo(t,n),position:fo(t,n)}}(t,n,i);case"SYLT":return NC(t,n,i);case"TXXX":return xC(t,n,i);case"UFID":return CC(t,n,i);case"USER":return function(t,n,i){var e=eo(t,n);if(AC(e)){var r=TC(e);return{id:i,language:_o(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return PC(t,n,i);case"WXXX":return LC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return BC(t,n,i);default:var e=i.charAt(0);if("T"===e)return BC(t,n,i);if("W"===e)return OC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(kC||(kC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(pC||(pC={}));var XC=10;function HC(t,n){return(127&eo(t,n))<<21|(127&eo(t,n))<<14|(127&eo(t,n))<<7|127&eo(t,n)}function FC(t,n){switch(t){case pC.V24:return{tG:io(n,0),nG:io(n,1),iG:io(n,2),eG:io(n,3)};case pC.V23:return{tG:io(n,0),nG:io(n,1),iG:io(n,2)};case pC.V22:return{tG:io(n,0),rG:io(n,1)}}}function zC(t,n,i){switch(i.EA){case pC.V23:i.IA.nG&&function(t,n){var i=n.Pu,e=fo(t,n)+4,r=32768&ho(t,n);n.xu(i+e),r&&fo(t,n)}(t,n);break;case pC.V24:i.IA.nG&&function(t,n){var i=n.Pu,e=HC(t,n);n.xu(i+e)}(t,n)}}function VC(t,n){if(t.byteLength-n.Pu<XC)return null;if(73!==eo(t,n)||68!==eo(t,n)||51!==eo(t,n))return null;var i=eo(t,n),e=eo(t,n);if(!function(t){switch(t){case pC.V22:case pC.V23:case pC.V24:return!0}return!1}(i))return null;var r=eo(t,n),s=HC(t,n);return{EA:i,sG:e,IA:FC(i,r),uG:s}}function WC(t,n,i){switch(i.EA){case pC.V22:return function(t,n,i){return{P_:_o(t,n,3),Cu:ao(t,n,3)}}(t,n);case pC.V23:return function(t,n,i){var e=_o(t,n,4),r=fo(t,n);eo(t,n);var s=eo(t,n);return{P_:e,Cu:r,IA:{rG:io(s,0),oG:io(s,1),groupingIdentity:io(s,2)}}}(t,n);case pC.V24:return function(t,n,i){var e=_o(t,n,4),r=HC(t,n);eo(t,n);var s=eo(t,n);return{P_:e,Cu:r,IA:{groupingIdentity:io(s,1),rG:io(s,4),oG:io(s,5),tG:io(s,6),aG:io(s,7)}}}(t,n)}}function GC(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function qC(t,n){var i=n||new Vo,e=VC(t,i);return e?{pA:e,hG:function(t,n,i){var e=[],r=n.Pu,s=xo(t,r,r+i.uG),u=new Vo;switch(n.Bu(i.uG),i.EA){case pC.V22:case pC.V23:i.IA.tG&&(s=GC(s))}zC(t,n,i);for(;u.Pu<s.byteLength;)e.push(YC(s,u,i));return e}(t,i,e)}:null}function YC(t,n,i){var e,r,s=WC(t,n,i),u=n.Pu,o=xo(t,u,u+s.Cu);switch(n.Bu(s.Cu),i.EA){case pC.V22:var a=s;e=MC(r=o,new Vo,a.P_);break;case pC.V23:var h=s,c=new Vo;!function(t,n,i){var e,r,s,u=i.IA;u.rG&&(e=fo(t,n)),u.oG&&(r=eo(t,n)),u.groupingIdentity&&(s=eo(t,n))}(o,c,h),e=UC(r=xo(o,c.Pu,o.byteLength),new Vo,h.P_);break;case pC.V24:var f=s,v=new Vo;f.IA.tG&&(o=GC(o)),function(t,n,i){var e,r,s,u,o=i.IA;o.groupingIdentity&&(e=eo(t,n)),o.rG&&(r=fo(t,n)),o.oG&&(s=eo(t,n)),o.aG&&(u=HC(t,n))}(o,v,f),e=UC(r=xo(o,v.Pu,o.byteLength),new Vo,f.P_)}if(!e){var l=Fo(Mo(r));e=EC(s.P_,l.buffer)}return e}function jC(t){return function(t,n,i){return BC(t,n,i)}(new DataView(t.data),new Vo,t.key)}function QC(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return jC(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return EC(t.key,t.data)}(t)}var ZC="org.id3";var KC=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Iy=void 0,r.cG=void 0,r.BW=[],r.XW=[],r.HW=void 0,r.FW=void 0,r.Dy=void 0,r.Ry=void 0,r.HC=Eg.X_,r.mW=wy.NONE,r.Ww=void 0,r.MW=void 0,r.Vi=_y.DEFAULT,r.fG=void 0,r.vG=function(){r.lG(),r.Iy.removeEventListener("cuechange",r.vG)},r.dG=function(){r.W_!==Eg.X_&&(r.wG(),r.qW(),r.BW.length&&r._G(wy.LOADING))},r.gG=function(){r._G(wy.LOADED)},r.mG=function(){r._G(wy.ERROR)},r.Iy=n,r.fG=e,r.Iy.addEventListener("cuechange",r.vG),r.Iy.addEventListener("cuechange",r.dG),r.cG=i,r.cG&&(r.MW=aw(r.cG.src),r.cG.addEventListener("load",r.gG),r.cG.addEventListener("error",r.mG)),r.Dy=uy(),r.Ry=n.label||"",r.HW=new WN(r.BW),r.FW=new WN(r.XW),r.W_=r.yG,au(function(){r.dG(),r._G(wy.NONE)}),r}S(n,t);var i=n.prototype;return i.qw=function(){return Cg(this)},i.lG=function(){var t=this.W_;this.kG||t!==Eg.F_?this.yG=t:this.yG=Eg.H_},i.pG=function(){var t=this.W_,n=this.yG;t!==n&&(this.kG||t!==Eg.F_||n!==Eg.H_)&&("metadata"===this.O_&&n===Eg.X_?this.W_=t:this.W_=n)},i.kW=function(t){this.mW!==t&&(this.mW=t,this.Qs(new GN(this,t)))},i._G=function(t){var n=w.max(this.mW,this.bG,t);this.kW(n)},n.AG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.TG=function(t){var i=n.AG(t);if(i)return i;if(V(i=this.SG(t)))for(var e=0,r=i;e<r.length;e++){r[e].Yw=this}else i.Yw=this;return t.THEOplayerTextTrackCue=i,i},i.SG=function(t){return(n=t)&&n.type===ZC&&n.value?(this.fs=_y.ID3,function(t){var n;try{n=QC(t.value)}catch(t){n=EC("")}return new bC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.fs=_y.ID3,function(t){var n=[];try{var i=qC(new DataView(t.data));if(i)for(var e=0,r=i.hG;e<r.length;e++){var s=r[e];n.push(new bC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.fs=_y.WEBVTT,function(t){return"regionId"in t}(t)?new wC(t):new dC(t)):new aC(t);var n},i.EG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.TG(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.wG=function(){for(var t=this.EG(this.Iy.cues),n=VN(this.BW,t),i=0,e=n.PW;i<e.length;i++){var r=e[i];r.tu(ky.Hy,this.dG),r.tu(ky.Uy,this.dG),this.Qs(new KN(r))}for(var s=0,u=n.NW;s<u.length;s++){var o=u[s];o.Zs(ky.Uy,this.dG),o.Zs(ky.Hy,this.dG),this.Qs(new QN(o))}},i.qW=function(){for(var t=this.EG(this.Iy.activeCues),n=VN(this.XW,t),i=0,e=n.PW;i<e.length;i++){e[i].dk=!1}for(var r=0,s=n.NW;r<s.length;r++){s[r].dk=!0}(n.NW.length||n.PW.length)&&this.Qs(new hC(this))},i.G_=function(t){this.W_=t},i.Sd=function(){this.$s();for(var t=this.BW.slice(),n=0;n<t.length;n++){t[n].Sd()}zs(this.BW),zs(this.XW),this.Iy.removeEventListener("cuechange",this.dG),this.cG&&(this.Iy.removeEventListener("load",this.gG),this.Iy.removeEventListener("error",this.mG)),this.cG&&$e(this.cG)},A(n,[{key:"Q_",get:function(){return this.FW}},{key:"kE",get:function(){return this.cG?this.cG.default:void 0}},{key:"j_",get:function(){return this.HW}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}},{key:"P_",get:function(){return this.Iy.id||this.cG&&this.cG.id||""}},{key:"B_",get:function(){return this.Dy}},{key:"V_",get:function(){return this.Iy.inBandMetadataTrackDispatchType||""}},{key:"O_",get:function(){return this.Iy.kind||Ip.Qb}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.x_&&(this.Ry=t,this.Qs(new ey(this)))}},{key:"L_",get:function(){return this.Iy.language||""}},{key:"W_",get:function(){return this.HC},set:function(t){var n=this.W_;this.HC=Dg(t),this.lG();var i=this.W_;n!==i&&this.Qs(new rg(this)),i!==Eg.X_&&this._G(wy.LOADING)}},{key:"yG",get:function(){return Dg(this.Iy.mode)},set:function(t){this.Iy.mode=t}},{key:"Oy",get:function(){return this.Iy}},{key:"Y_",get:function(){return this.mW}},{key:"bG",get:function(){return this.cG?+this.cG.readyState||wy.NONE:wy.LOADED}},{key:"Z_",get:function(){return this.MW}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new YN(this)))}},{key:"kG",get:function(){return this.fG},set:function(t){this.fG=t,this.lG()}}]),n}(wu);function JC(t,n){return Ps(t.mp,n.mp)||function(t,n){return t.Yw===n.Yw?Cs(zN(t),zN(n)):zp(t.Yw,n.Yw)}(t.zy,n.zy)||function(t,n){return t===n?Ss.Is:t===ky.Uy?Ss.Ds:Ss.Rs}(t.type,n.type)}var $C=function(){function t(t,n){var i=this;this.mN=void 0,this.IG=void 0,this.Am=[],this.RG=0,this.DG=0,this.NG=[],this.CG=[],this.PG=!1,this.BG=!1,this.OG=void 0,this.xG=function(){i.RG=0,i.LG(),i.MG()},this.UG=function(){i.LG(),i.MG()},this.XG=function(){i.BG=!0,i.OG=i.mN.Xg,i.HG()},this.FG=function(){i.LG(),i.MG()},this.zG=function(){i.VG(),i.LG(),i.MG()},this.WG=function(t){Hs(i.CG,t.zy)||i.CG.push(t.zy),i.GG()},this.qG=function(t){Us(i.NG,t.zy),Us(i.CG,t.zy),i.GG()},this.IG=n,this.mN=t,t.Zs(bf.Hf,this.UG),t.Zs(bf.If,this.UG),t.Zs(hm.Ug,this.UG),t.Zs(bf.Ef,this.UG),t.Zs(bf.Bf,this.XG),t.Zs(bf.Pf,this.FG),this.GG()}var n=t.prototype;return n.k_=function(){zs(this.NG);for(var t=0,n=this.Am.slice();t<n.length;t++){var i=n[t];this.m_(i)}this.HG(),this.RG=0,this.DG=0,this.PG=!1,this.BG=!1,this.OG=void 0},n.g_=function(t){if(!Hs(this.Am,t)){if(this.Am.push(t),t.Zs(Z_.jw,this.WG),t.Zs(Z_.Zw,this.qG),t.Zs(Z_.r_,this.zG),t.j_.b_>0){for(var n=0,i=t.j_.p_;n<i.length;n++){var e=i[n];this.CG.push(e)}this.GG()}this.VG()}},n.m_=function(t){if(Us(this.Am,t)){if(t.tu(Z_.jw,this.WG),t.tu(Z_.Zw,this.qG),t.tu(Z_.r_,this.zG),t.j_.b_>0){for(var n=0,i=t.j_.p_;n<i.length;n++){var e=i[n];Us(this.NG,e),Us(this.CG,e)}this.GG()}this.VG()}},n.VG=function(){this.PG=this.Am.some(function(t){return t.W_!==Eg.X_})},n.MG=function(){this.mN.qg||this.mN.Wg?this.HG():this.GG()},n.GG=function(){this.PG&&(this.RG||(this.RG=this.IG.Ce(this.xG)))},n.HG=function(){this.RG&&(this.IG.YG(this.RG),this.RG=0)},n.LG=function(){var t;if(this.PG&&!this.mN.qg){var n=this.Am,i=this.DG,e=null!=(t=this.OG)?t:this.mN.Xg,r=e-i<-.1,s=this.BG||r;s&&e>i&&e-i<.1&&(s=!1),this.BG=!1,this.OG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.W_!==Eg.X_){h.qW(e,s);for(var c=0,f=h.Q_.p_;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.NG;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.W_!==Eg.X_&&Fp(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Hs(o,u[_])&&Xs(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.Vy>i&&y.Wy<=e&&(g.push(y),Xs(u,m))}for(var k=0,p=this.CG;k<p.length;k++){Us(g,p[k])}zs(this.CG);for(var b=[],A=[],T=0;T<g.length;T++){var S=g[T];S.dk||b.push(new tC(S,S.Vy)),b.push(new iC(S,w.max(S.Vy,S.Wy))),S.dk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.dk&&(b.push(new iC(R,w.max(R.Vy,R.Wy))),R.dk=!1)}for(var D=0;D<o.length;D++){var N=o[D];N.dk||(b.push(new tC(N,N.Vy)),N.dk=!0)}b.sort(JC);for(var C=0;C<b.length;C++){var P=b[C],B=P.zy;B.Qs(P);var O=B.Yw;O&&(P.type===ky.Uy?O.Qs(new rC(B)):O.Qs(new uC(B)),Hs(A,O)||A.push(O))}A.sort(zp);for(var x=0;x<A.length;x++){var L=A[x];L.Qs(new hC(L))}this.DG=e,this.NG=o}},n.Sd=function(){this.k_(),this.mN.tu(bf.Hf,this.UG),this.mN.tu(bf.If,this.UG),this.mN.tu(hm.Ug,this.UG),this.mN.tu(bf.Ef,this.UG),this.mN.tu(bf.Bf,this.XG),this.mN.tu(bf.Pf,this.FG)},t}(),tP=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return _I(t)},n.YG=function(t){gI(t)},t}(),nP=new tP,iP=function(t){function n(n,i){return void 0===i&&(i=nP),t.call(this,n,i)||this}return S(n,t),n}($C),eP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&_C(this,n)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=yC(this)),this.Ww}}]),n}(Oy),rP=function(t){function n(n,i,e){return void 0===e&&(e=_y.DEFAULT),t.call(this,Ip.Kb,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}($N),sP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fs=_y.ID3,e}S(n,t);var i=n.prototype;return i.mE=function(n){gC(n,this.BW),t.prototype.mE.call(this,n)},i.qw=function(){return Cg(this)},n}(rP);function uP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=QC(t.value);return t.THEOplayerTextTrackCue=new eP(i,e),t.THEOplayerTextTrackCue}var oP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Iy=void 0,i.dG=function(){i.W_!==Eg.X_&&(i.wG(),i._G(wy.LOADED))},i.Iy=n,i.Iy.addEventListener("cuechange",i.dG),i.W_=i.yG,au(function(){i.dG()}),i}S(n,t);var i=n.prototype;return i.nP=function(n){t.prototype.nP.call(this,n),this.yG=this.W_},i._G=function(t){this.Y_=w.max(this.Y_,t)},i.wG=function(){var t=this.Iy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(uP(t[e]||t.item(e)));return Rs(i,HN),i}(t),i=VN(this.j_.p_.slice(),n),e=0,r=i.PW;e<r.length;e++){var s=r[e];this.sE(s)}for(var u=0,o=i.NW;u<o.length;u++){var a=o[u];this.mE(a)}}},i.Sd=function(){this.Iy.removeEventListener("cuechange",this.dG),t.prototype.Sd.call(this)},A(n,[{key:"P_",get:function(){return this.Iy.id||""}},{key:"V_",get:function(){return this.Iy.inBandMetadataTrackDispatchType||""}},{key:"L_",get:function(){return this.Iy.language||""}},{key:"yG",get:function(){return Dg(this.Iy.mode)},set:function(t){this.Iy.mode=t}},{key:"Oy",get:function(){return this.Iy}}]),n}(sP),aP=function(t){function n(n,i){var e;return(e=t.call(this)||this).jG=Br(),e.HR=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Yw).fs){i.next=4;break}return i.next=4,Dr.awrap(n.au(Z_.a_));case 4:if(n.fs===_y.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.j_.b_){i.next=11;break}return i.next=9,Dr.awrap(n.au(Z_.jw));case 9:i.next=6;break;case 11:e.QG(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.FR=function(t){var n=t.Yw;if(n.fs===_y.ID3&&e.jG.has(n.B_)){var i=e.jG.get(n.B_);e.m_(i),e.vE.yE(i),n.tu(Z_.jw,e.ZG)}},e.ZG=function(t){hP(t.zy)&&e.KG(t.zy)},e.vE=n,e.JG=i,e.$G(),e}S(n,t);var i=n.prototype;return i.$G=function(){this.JG.Zs(q_.Hw,this.HR),this.JG.Zs(q_.zw,this.FR)},i.tq=function(){this.JG.tu(q_.Hw,this.HR),this.JG.tu(q_.zw,this.FR)},i.QG=function(t){var n=t.j_.p_[0];if(hP(n)){var i=function(t){var n=t.match(cP);if(!n)return;return{Yw:n[1],L_:n[2]}}(n.Gy.description),e=i.Yw,r=i.L_;if(!this.nq(e,r)){var s=this.vE._E(Ip.Qb,t.P_,e,r,!1,_y.TTML);this.g_(s),this.jG.set(t.B_,s);for(var u=0,o=t.j_.p_;u<o.length;u++){var a=o[u];hP(a)&&this.KG(a)}t.Zs(Z_.jw,this.ZG)}}},i.nq=function(t,n){return this.VA.p_.some(function(i){return i.x_===t&&i.L_===n})},i.KG=function(t){if(t.Yw)for(var n=this.jG.get(t.Yw.B_),i=wp(t.Gy.text,n,{jp:0,Qp:1/0,Zp:t.Vy}),e=0;e<i.length;e++){var r=i[e];n.mE(r)}},i.k_=function(){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.JG.p_;n<i.length;n++)i[n].tu(Z_.jw,this.ZG);for(e=0,r=this.VA.p_;e<r.length;e++)s=r[e],this.vE.yE(s);return this.jG.clear(),u.next=5,Dr.awrap(t.prototype.k_.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.tq(),n.next=3,Dr.awrap(t.prototype.Sd.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(Yp);function hP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Gy)&&cP.test(n.description);var n}var cP=/^Track:(.+),Lang:(.+)$/;var fP=function(t){function n(n){var i;return(i=t.call(this,bf.vf)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(gu),vP=function(t){function n(){return t.call(this,bf.lf)||this}return S(n,t),n}(gu),lP=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).iq=n,i}return S(n,t),n}(gu),dP=new JR,wP=function(t){function n(n){var i;return(i=t.call(this,"qh")||this).session=n,i}return S(n,t),n}(gu),_P=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).rq=!1,u.uq=!1,u.pw=new Js,u.oq=void 0,u.Fh=function(t){if(!u.pw.Ws.Ns)switch(t.wu){case"license-request":case"license-renewal":u.iI(t.du,t._u).catch(function(t){return u.Sc(t)});break;default:u.Sc(new Zm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u.aq=function(t){u.hq.tc.Ru(function(t,n){switch(t){case"usable":i.Qn(function(){u.uq=!0,u.Qs(new vP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new lP(n))}})},u.cq=function(t){u.Sc(new Zm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.hq=e,u.fq=r,u.vq=s,e.Zs("du",u.Fh),e.Zs("vu",u.aq),e.Zs("mu",u.cq),e.Jh.then(function(){return u.lq()}),u}S(e,t);var r=e.prototype;return r.Yh=function(){var t=this;return this.rq=!0,dP.ZU(function(n){return t.dq(n)},this.pw.Ws)},r.dq=function(t){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,nu(t),s.next=4,Dr.awrap(this.fq.QE(t));case 4:return s.next=6,Dr.awrap(this.fq.ZE(this.vq.ls,this.vq.Tu,t));case 6:return i=s.sent,s.next=9,Dr.awrap(this.hq.Yh(this.vq.ls,this.vq.Tu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),iu(s.t0),e=s.t0 instanceof Zo?s.t0.ju:void 0,r=new Zm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Sc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r.iI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!Yo(t)){o.next=7;break}return o.next=4,Dr.awrap(this.fq.cI(new y(t),this.pw.Ws));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Dr.awrap(this.fq.fI(new y(t),i,this.pw.Ws));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!tu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.pw.Ws.Ns){o.next=19;break}return o.abrupt("return");case 19:return r=this.oq,s=new Go,this.oq=s,o.prev=22,o.next=25,Dr.awrap(this.hq.Zh(e));case 25:return o.next=27,Dr.awrap(fu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof Zo?o.t1.ju:void 0,new Zm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Dr.awrap(r.Hu);case 37:return s.Wu(),this.oq===s&&(this.oq=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],We)},r.Sc=function(t){var i=t instanceof Zm?t:new Zm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new fP(i)),this.qh()},r.lq=function(){this.hq.tu("du",this.Fh),this.hq.tu("vu",this.aq),this.hq.tu("mu",this.cq),this.uq=!1,this.pw.Fs(),this.Qs(new wP(this))},r.qh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s();case 1:if(void 0===(t=this.oq)){n.next=5;break}return n.next=5,Dr.awrap(t.Hu);case 5:if(this.oq!==t){n.next=1;break}case 6:return this.lq(),n.next=9,Dr.awrap(this.hq.qh().catch(K));case 9:case"end":return n.stop()}},null,this,null,We)},e}(wu),gP=[bf.lf,bf.vf,bf.zf],mP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vh=void 0,r.ic=void 0,r.wq=void 0,r._q=[],r.gq=void 0,r.mq=[],r.yq=function(t){t.session.tu(gP,r.js),t.session.tu("qh",r.yq),Us(r._q,t.session)},r.Vh=n,r.ic=i,r.wq=e,r}S(n,t);var i=n.prototype;return i.hI=function(){return this.wq.hI()},i.kq=function(t){return this.gq||(this.gq=this.pq(t)),this.gq},i.pq=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return nu(t),i.next=3,Dr.awrap(this.wq.cI(new y(qo()),t));case 3:if(n=i.sent,nu(t),this.ic){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Dr.awrap(this.ic.ac(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.bq=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ic){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.mq.push(t),e.next=6,Dr.awrap(this.ic.uc("temporary"));case 6:return n=e.sent,i=new _P(n,this.wq,t),this._q.push(i),i.Zs(gP,this.js),i.Zs("qh",this.yq),e.abrupt("return",i);case 12:return e.prev=12,Us(this.mq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.Aq=function(t){if(t.Tq)return!1;for(var n=0,i=this._q;n<i.length;n++){if(yP(i[n].vq,t))return!0}for(var e=0,r=this.mq;e<r.length;e++){if(yP(r[e],t))return!0}return!1},i.Sd=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ic=void 0,this.$s(),t=this._q.slice(),zs(this._q),n.next=6,Dr.awrap(We.all(t.map(function(t){return t.qh()})));case 6:this.wq.xs();case 7:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"ec",get:function(){return this.Vh}}]),n}(wu);function yP(t,n){return!t.Tq&&t.ls===n.ls&&Mu(t.Tu,n.Tu)}var kP=function(t){function e(n){var i;return(i=t.call(this)||this).KR=void 0,i.pw=new Js,i.oX=new JR,i.Pc=void 0,i.wq=void 0,i.JR=void 0,i.Vh=void 0,i.Sq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(i.Eq(t.ls,t.Tu,i.pw.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),tu(n.t0)||i.Sc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.KR=n,i.KR.Zs(du.yu,i.Sq),i}S(e,t);var r=e.prototype;return r.jh=function(t,n){this.JR=t,this.PX(n)},r.PX=function(t){this.Pc=t,this.Iq(this.pw.Ws).catch(eu)},r.Iq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Lr.We){n.next=5;break}return n.next=3,Dr.awrap(this.Rq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Pc||!this.Pc.Dq){n.next=9;break}return n.next=8,Dr.awrap(this.Nq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.Rq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Pc)?void 0:n.ND){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Pc)?void 0:u.ND)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,h=null!=(c=o.MR)?c:[];case 8:if(!(a<h.length)){v.next=22;break}return f=h[a],v.prev=10,v.next=13,Dr.awrap(this.Eq(o.ec.ls,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),iu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],We)},r.Eq=function(t,e,r){var s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(nu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Pc&&this.Pc.ND.length){w.next=5;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Wr||t===qr||t===Gr){w.next=8;break}return w.abrupt("return");case 8:s=cA(t,e),u=this.Pc.ND,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],nu(r),(c=s[h.ec.ds])&&h.ec.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Dr.awrap(this.Cq(h,r));case 20:if(!(f=w.sent).hI()){w.next=24;break}return w.next=24,Dr.awrap(f.kq());case 24:if(v=this.KR.ey,l={ls:h.ec.ls,Tu:c,Tq:v},!this.Pq(f,l)){w.next=32;break}return w.next=29,Dr.awrap(f.bq(l));case 29:return d=w.sent,w.next=32,Dr.awrap(d.Yh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),iu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Dr.awrap(i.Sr());case 44:if(!w.sent){w.next=48;break}throw new Zm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.Nq=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Pc)?void 0:n.ND){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],nu(t),u.prev=7,u.next=10,Dr.awrap(this.Cq(r,t));case 10:if(!(s=u.sent).hI()){u.next=14;break}return u.next=14,Dr.awrap(s.kq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),iu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.Pq=function(t,n){return i.Lr.Ve||!t.Aq(n)},r.Cq=function(t,n){var i=this;return this.oX.ZU(function(n){return i.Bq(t,n)},n)},r.Bq=function(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(nu(n),this.Pc&&this.wq&&this.JR){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Vh){o.next=7;break}if(this.Vh.ec===t.ec){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Vh);case 7:return i=this.wq,e=Nr({},t,{WD:t.WD.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.CI(t.ec),gc:n.gc||i.gc(t.ec)})})}),o.next=11,Dr.awrap(this.JR.DX(e.ec,e.WD));case 11:return r=o.sent,s=i.LR(e),(u=new mP(e.ec,r,s)).Zs([bf.lf,bf.vf,bf.zf],this.js),this.Vh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.Sc=function(t){var i=t instanceof Zm?t:new Zm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new fP(i))},r.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JR=void 0,this.Pc=void 0,this.pw.Fs(),this.pw=new Js,t.next=6,Dr.awrap(this.Oq());case 6:case"end":return t.stop()}},null,this,null,We)},r.Oq=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.oX.Fs());case 2:if(!(t=this.Vh)){n.next=8;break}return t.tu(bf.zf,this.js),this.Vh=void 0,n.next=8,Dr.awrap(t.Sd());case 8:case"end":return n.stop()}},null,this,null,We)},r.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.KR.tu(du.yu,this.Sq),t.next=4,Dr.awrap(this.k_());case 4:return t.next=6,Dr.awrap(this.oX.Sd());case 6:case"end":return t.stop()}},null,this,null,We)},A(e,[{key:"xq",get:function(){var t;return null==(t=this.Vh)?void 0:t.ec}},{key:"ED",get:function(){return this.wq},set:function(t){this.wq=t}}]),e}(wu),pP=M.In||M.Rn,bP=M.qn,AP=.5,TP=5,SP=M.Bn,EP=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vc=void 0,s.Lq=void 0,s.$R=void 0,s.pN=!0,s.JR=void 0,s.Mq=new JR,s.Uq=void 0,s.Xq=void 0,s.Hq=void 0,s.SX=void 0,s.Am=void 0,s.AC=void 0,s.Fq=[],s.zq=void 0,s.Vq=void 0,s.Wq=void 0,s.Gq=void 0,s.qq=void 0,s.Yq=void 0,s.jq=NaN,s.Qq=void 0,s.Zq=void 0,s.kC=!1,s.Kq=We.resolve(),s.Jq=new Js,s.$q=[],s.tY=uS.fC(),s.nY=void 0,s.iY=1,s.eY=!1,s.rY=!1,s.sY=!1,s.uY=!1,s.ys=void 0,s.oY=!1,s.aY=!1,s.hY=!1,s.cY=!1,s.fY=0,s.vY=function(t){var n=t.track,i=s.lY(n);s.dY(n,i)},s.wY=function(t){var n=NP(s.zq,t.track);n&&s.zq.m_(n)},s._Y=function(){for(var t=0;t<s.Am.b_;t++){var n=s.Am.__(t);n instanceof KC&&n.pG()}},s.gY=function(){s.zq.k_()},s.mY=function(){var t=s.JR,n=t.KV,i=t.JV;if(n&&i)if(t.HX)s.yY();else if(t.Y_!==SN.oV){var e=n.Jm,r=i.Jm;if(0!==e.b_&&0!==r.b_){var u=s.Xg;if(u<e.RN(0)||u<r.RN(0))s.yY();else if(e.GD(u)!==r.GD(u)){if(t.HV(u))return;s.kY()}else{if(s.yY(),!s.fY&&s.Hq.EW())e.jN(r).$N(u,u+AP)&&(s.fY=_I(s.pY))}}else s.yY()}},s.pY=function(){s.fY=0,s.mY()},s.bY=function(){if(!(s.qg||s.Y_>=qg.Cg)){0;var t=s.JR,n=t.KV,i=t.JV;if(n&&i){var e=s.Xg,r=n.Jm,u=i.Jm;if(r.GD(e)&&u.GD(e))r.jN(u).$N(e-TP,e)&&(s.hY?s.yY():s.AY())}}},s.TY=function(){s.Qs(new vm(s.Xg))},s.SY=function(){s.EY(new $s),s.Qs(new fm(s.Xg))},s.IY=function(){s.RY(),s.Qs(new lb(s.Xg))},s.DY=function(){s.NY(s.Gg)},s.CY=function(){s.Qs(new gm(s.Hg))},s.PY=function(){s.Qs(new pD(s.Xg))},s.BY=function(){s.Qs(new bD)},s.OY=function(){var t=s.Xg,n=s.qg,i=s.Y_<qg.Cg&&!s.Fg,e=void 0!==s.Zq,r=e&&s.Zq!==t;(n||!e||r&&!i)&&(s.Qs(new ym(s.Xg,void 0)),s.Zq=t)},s.xY=function(){!s.eY&&s.Fg&&(s.eY=!0,s.Qs(new km(s.Xg)))},s.LY=function(){if(null!==s.Vc.error){var t,n=s.Vc.error;s.hD(new Km(null!=(t=n.code)?t:Ym.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.MY=function(){s.rY&&(s.UY(),s.sY=!0)},s.XY=function(){s.Qs(new Tm(s.Xg,s.Qg))},s.HY=function(){s.jg>0&&s.Yg>0&&s.Qs(new ib)},s.FY=function(t){s.Qs(new Au(t.initDataType,t.initData||new ArrayBuffer(0)))},s.zY=function(){s.Qs(new Tu)},s.VY=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.Qs(new Au(Wr,i))},s.WY=function(t){if(t.initData){var n=IP(t.initData);if(!n)return;s.Qs(new Au(qr,n))}else s.Qs(new Au(qr,new ArrayBuffer(0)))},s.GY=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.Qs(new Au(Wr,i))},s.qY=function(){s.RY()},s.YY=function(t){s.EY(t)},s.jY=function(t){s.Qs(t),t.type===bf.vf&&s.hD($m(t.errorObject))},s.Vc=n,s.ys=i,s.Lq=e,s.AC=r,s.Xq=new ON(Kt(s)),s.Xq.Zs(hm.u_,s.js),s.Hq=new MN(Kt(s)),s.Hq.Zs(hm.Ug,s.IY),s.SX=new kP(Kt(s)),s.SX.Zs([bf.lf,bf.vf,bf.zf],s.jY),s.Am=new Rp,s.zq=new Rp,s.Vq=new HT([s.Am,s.zq]),s.Wq=new aP(Kt(s),s.Vq),s.Gq=new HT([s.Vq,s.Wq.VA]),s.qq=new iP(Kt(s)),s.QY(),s.DD(),s}S(n,t);var e=n.prototype;return e.ZY=function(){this.SD.ended||this.Xg===this.Hg||(this.eY=!1)},e.KY=function(){return void 0!==this.Yq&&this.Hg===this.Yq},e.NY=function(t){this.iY!==t&&(this.iY=t,this.Qs(new mm(this.Xg,t)))},e.jD=function(){return kR(this.Vc)},e.Cm=function(){var t=this.JY();return this.$Y(),t},e.$Y=function(){this.oY?this.aY&&(this.aY=!1,this.Qs(new vm(this.Xg))):this.tj()},e.tj=function(){if(this.Uq)this.Uq.Cm();else{M.Bn&&!M.hn&&this.Vc.preload===JT.wN&&(this.Vc.preload=JT.Kb);var t=this.Gg,n=this.Vc.play();t!==this.SD.playbackRate&&(this.Gg=t),j(n)?n.then(this.qY,this.YY):this.Hq.EW()&&this.RY()}},e.Pm=function(){this.oY?this.aY||(this.aY=!0,this.Qs(new fm(this.Xg))):this.nj()},e.nj=function(){this.Uq?this.Uq.Pm():(this.Vc.pause(),this.Hq.Zh()),this.ij(new $s)},e.JY=function(){var t=new Go;return this.$q.push(t),t.Hu},e.ej=function(){for(var t=0,n=this.$q;t<n.length;t++){n[t].Wu(void 0)}zs(this.$q)},e.ij=function(t){for(var n=0,i=this.$q;n<i.length;n++){i[n].Gu(t)}zs(this.$q)},e.RY=function(){this.oY||this.Uq||this.ej()},e.EY=function(t){this.oY||this.Uq||this.ij(t)},e.xu=function(t,n){this.Uq?this.Uq.Xg=t:(this.Jq.Fs(),this.Jq=new Js,this.Kq=this.rj(t,this.Kq,this.Jq.Ws).catch(K))},e.YD=function(t){var n=this.QD;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.rj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.Yq=t,this.jq=t,this.kC=!0,this.eY&&!this.KY()&&(this.eY=!1),this.Qs(new bm(t)),v.next=8,Dr.awrap(n.catch(K));case 8:if(nu(i),this.uY&&this.sj(),this.Y_!==qg.Rg){v.next=13;break}return v.next=13,Dr.awrap(this.au(hm.u_,i));case 13:if(0!==this.Vc.seekable.length){v.next=19;break}return v.next=16,Dr.awrap(We.race([W_(this.Vc,"timeupdate",i),fu(100,i)]));case 16:nu(i),v.next=13;break;case 19:e=this.uj(t),r=this.py,s=!0,u=!1;case 23:if((r=this.py).b_>0&&!r.GD(e)&&(e=r.UN(e),s=!0),SP&&void 0!==(o=this.aj())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.hj())&&e>a)){v.next=37;break}return u=!0,v.next=33,Dr.awrap(this.cj(a,i));case 33:return v.next=35,Dr.awrap(W_(this.Vc,"seeked",i));case 35:nu(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Dr.awrap(this.cj(e,i));case 41:nu(i),h=this.Xg,r=this.py,e=r.UN(e),c=1;case 46:if(!(w.abs(e-h)>=1/6)){v.next=56;break}return r=this.py,e=DP(e,r,c),v.next=51,Dr.awrap(this.cj(e,i));case 51:nu(i),h=this.Xg,c++,v.next=46;break;case 56:if(this.Vc.seeking||this.Y_<qg.Ng){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Dr.awrap(uu(function(t){var n;return We.race([W_(f.Vc,"seeked",t),f.au([bf.Rf,bf._f,hm.u_],t),null==(n=f.JR)?void 0:n.au(cD.VP,t)].filter(H))},i));case 60:nu(i),v.next=23;break;case 63:this.vj(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!tu(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],We)},e.cj=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(nu(n),i=this.py,t=i.UN(t),!this.uY){s.next=18;break}e=!0;case 5:if(!(e||this.Y_<qg.Cg)){s.next=17;break}if((i=this.py).GD(t)||(t=i.UN(t),e=!0),!e){s.next=13;break}return e=!1,this.Yq=t,this.lj(this.Xg),s.abrupt("continue",5);case 13:return s.next=15,Dr.awrap(this.au([hm.u_,bf._f],n));case 15:s.next=5;break;case 17:nu(n);case 18:if(r=W_(this.Vc,"seeking",n),this.Vc.currentTime=t,this.Yq=void 0,this.lj(this.Xg),!this.Vc.seeking){s.next=25;break}return s.next=25,Dr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.uj=function(t){var n=this.Jm;if(n&&!n.GD(t)){var i=n.ZN(t,.05);if(i>-1){var e=n.RN(i);if(t<e)return e}}return t},e.aj=function(){if(this.JR&&this.JR.HX){var t=this.JR.FX,n=this.JR.zX,i=t&&n?t.FN(n):t||n;if(i&&0!==i.b_){var e=i.RN(i.b_-1),r=i.NN(i.b_-1);return w.max(e,r-.001)}}},e.hj=function(){if(this.JR&&this.JR.HX){var t=this.JR.zX;if(t&&0!==t.b_){var n=t.RN(t.b_-1),i=t.NN(t.b_-1)-.02;return i-=.001,w.max(n,i)}}},e.lj=function(t){this.jq!==t&&(this.jq=t,this.Qs(new bm(t)))},e.vj=function(){this.kC=!1,this.jq=NaN,this.uY&&this.dj(),this.Qs(new Am(this.Xg))},e.sj=function(){this.oY||(this.aY=this.Wg,this.oY=!0,this.nj())},e.dj=function(){this.oY&&(this.oY=!1,this.aY||this.$Y())},e.XX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===nb.pE&&kD.XX(i,this.Vc))return i;if(i.fs===nb.bE&&RN.XX(i))return i}},e.Vm=function(){this.pN=!1,sr(this.Vc)&&(this.Vc.style.display="none")},e.zm=function(){this.pN=!0,sr(this.Vc)&&(this.Vc.style.display="block")},e._E=function(t,n,i,e,r,s,u,o){var a=new $N(t,n,i,e,r,s,u,o);return this.Am.g_(a),this.qq.g_(a),a},e.xD=function(){return!0},e.MD=function(t,n,i,e){var r=s.createElement("track");r.src=aw(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=YE(),this.Vc.appendChild(r);var u=this.Vc.textTracks.getTrackById(r.id),o=new KC(u,r);return this.zq.g_(o),this.Fq.push(o),o},e.yE=function(t){this.Am.m_(t),this.qq.m_(t)},e.HD=function(){for(var t=0,n=this.Am.p_.slice();t<n.length;t++){n[t].Sd()}this.Am.k_();for(var i=0,e=this.Fq.slice();i<e.length;i++){var r=e[i];this.zq.m_(r),r.Sd()}zs(this.Fq)},e.DD=function(){var t=this.Vc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.vY),t.addEventListener("removetrack",this.wY),t.addEventListener("change",this._Y)),this.Vc.addEventListener("emptied",this.gY)},e.zD=function(){var t=this.Vc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.vY),t.removeEventListener("removetrack",this.wY),t.removeEventListener("change",this._Y)),this.Vc.removeEventListener("emptied",this.gY)},e.dY=function(t,n){if(M.Bn){if(t.kind===Ip.Kb)return void this.wj(t);if(t.kind===Ip.$S&&""===t.label&&""===t.language&&!CP(t))return void this._j(t,n)}NP(this.zq,t)||this.zq.g_(new KC(t,n))},e.wj=function(t){t.mode=Eg.H_;var n=new oP(t);this.zq.g_(n),this.qq.g_(n)},e._j=function(t,n){var i=this;t.addEventListener("cuechange",function e(){CP(t)&&(t.removeEventListener("cuechange",e),i.zq.g_(new KC(t,n)))}),t.mode=Eg.H_},e.lY=function(t){for(var n=this.Vc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.jh=function(t){var n=this;return this.Mq.ZU(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(nu(i),!n.JR){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.fs!==nb.pE){r.next=9;break}e=new kD(t,n,n.SX,n.ys),n.uY=!1,n.gj(new ON(n)),r.next=17;break;case 9:if(t.fs!==nb.bE){r.next=16;break}e=new RN(t,n,n.SX,n.ys),n.uY=pP,n.gj(n.uY?new xN(n):new ON(n)),bP&&(n.Zs(bf.Hf,n.mY),n.Zs(hm.u_,n.bY)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.JR=e,r.next=20,Dr.awrap(e._L());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.kY=function(){if(!this.hY){var t=this.Gg;this.hY=!0,this.Gg=t,this.Vc.playbackRate=0,this.Xq&&this.Xq.kW()}},e.yY=function(){if(this.hY){var t=this.Gg;this.hY=!1,this.Gg=t,this.AY()}},e.AY=function(){this.Vc.currentTime=this.Vc.currentTime,this.Xq&&this.Xq.kW()},e.gj=function(t){var n=this.Y_;this.Xq.xs(),this.Xq=t,this.Xq.Zs(hm.u_,this.js);var i=this.Y_;n!==i&&this.Qs(new Im(this.Xg,i))},e.k_=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.kC=!1,this.tY=uS.fC(),this.Jq.Fs(),this.Yq=void 0,this.jq=NaN,this.Qq=void 0,this.uY=!1,this.oY=!1,this.$R=void 0,this.eY=!1,this.Zq=void 0,this.rY=!1,this.sY&&(this.QY(),this.sY=!1),this.ij(new $s),this.gj(new ON(this)),this.Hq.k_(),this.yY(),bP&&(gI(this.fY),this.fY=0,this.tu(bf.Hf,this.mY),this.tu(hm.u_,this.bY)),n.next=20,Dr.awrap(this.Mq.Fs());case 20:return n.next=22,Dr.awrap(this.Mq.ZU(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.JR){n.next=4;break}return n.next=3,Dr.awrap(t.JR.xs());case 3:t.JR=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 22:case"end":return n.stop()}},null,this,null,We)},e.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sY=!1,this.UY(),this.zD(),t.next=5,Dr.awrap(this.k_());case 5:return t.next=7,Dr.awrap(this.Mq.Sd());case 7:return this.Hq.xs(),this.Xq.xs(),t.next=11,Dr.awrap(this.SX.xs());case 11:return this.HD(),this.Am.Sd(),this.zq.Sd(),t.next=16,Dr.awrap(this.Wq.Sd());case 16:this.Vq.Sd(),this.Gq.Sd(),this.$s();case 19:case"end":return t.stop()}},null,this,null,We)},e.QY=function(){this.SD.addEventListener("play",this.TY),this.SD.addEventListener("pause",this.SY),this.SD.addEventListener("timeupdate",this.OY),this.SD.addEventListener("progress",this.PY),this.SD.addEventListener("loadstart",this.BY),this.SD.addEventListener("ended",this.xY),this.SD.addEventListener("ratechange",this.DY),this.SD.addEventListener("volumechange",this.XY),this.SD.addEventListener("durationchange",this.CY),this.SD.addEventListener("resize",this.HY),this.SD.addEventListener("loadedmetadata",this.HY),this.SD.addEventListener("error",this.LY),this.SD.addEventListener("emptied",this.MY),As()?(this.Vc.addEventListener("encrypted",this.FY),this.Vc.addEventListener("waitingforkey",this.zY)):void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported?this.Vc.addEventListener("webkitneedkey",this.WY):Ts()?this.Vc.addEventListener("webkitneedkey",this.GY):void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported&&this.Vc.addEventListener("msneedkey",this.VY)},e.UY=function(){this.SD.removeEventListener("play",this.TY),this.SD.removeEventListener("pause",this.SY),this.SD.removeEventListener("timeupdate",this.OY),this.SD.removeEventListener("progress",this.PY),this.SD.removeEventListener("loadstart",this.BY),this.SD.removeEventListener("ended",this.xY),this.SD.removeEventListener("ratechange",this.DY),this.SD.removeEventListener("volumechange",this.XY),this.SD.removeEventListener("durationchange",this.CY),this.SD.removeEventListener("resize",this.HY),this.SD.removeEventListener("loadedmetadata",this.HY),this.SD.removeEventListener("error",this.LY),this.SD.removeEventListener("encrypted",this.FY),this.SD.removeEventListener("waitingforkey",this.zY),this.SD.removeEventListener("webkitneedkey",this.WY),this.SD.removeEventListener("webkitneedkey",this.GY),this.SD.removeEventListener("msneedkey",this.VY),this.SD.removeEventListener("emptied",this.MY)},e.mj=function(){var t;this.Uq||(this.tY=this.gy,this.Uq=new CN((t=this).Xg,t.Hg,t.Fg,t.Wg,t.qg,t.Vg,t.Gg,t.Qg,t.Y_),this.UY(),this.Uq.Zs(NN,this.js))},e.yj=function(){if(this.Uq){var t,n,i=this.Uq;this.Uq=void 0,this.Xq.kW(),t=this,(n=i).Hg===t.Hg||m(n.Hg)&&m(t.Hg)||t.Qs(new gm(t.Hg)),t.Vg=n.Vg,t.Qg=n.Qg,t.Gg=n.Gg,n.Wg?t.Pm():t.Cm().catch(K),n.Xg!==t.Xg||n.Y_>qg.Rg&&t.Y_===qg.Rg?t.xu(n.Xg):!n.qg&&t.qg?t.Qs(new bm(t.Xg)):n.qg&&!t.qg&&t.Y_>=qg.Ng&&t.Qs(new Am(t.Xg)),!n.Fg&&t.Fg&&t.Qs(new km(t.Xg)),i.xs(),this.QY()}},e.hD=function(t){this.$R=t,this.ij(this.$R),this.Qs(new UN(this.$R))},e.pj=function(){this.bj||(nO(this.Vc,i.Lr),this.cY=!0)},e.Aj=function(t){t.appendChild(this.Vc)},e.hW=function(){bP&&this.mY(),this.Xq.kW()},e.Km=function(){this.SX.Oq().catch(K)},A(n,[{key:"bW",get:function(){return this.hY}},{key:"Jm",get:function(){return this.JR?this.JR.Jm:uS.fC()}},{key:"$m",get:function(){var t=this.QD;if(t&&!m(t.getTime())){var n=1e3*this.Xg;return new Date(t.getTime()+n)}}},{key:"QD",get:function(){if(this.SD.getStartDate)return this.kC&&this.Qq||(this.Qq=this.SD.getStartDate()),this.Qq}},{key:"Xg",get:function(){return this.Uq?this.Uq.Xg:void 0!==this.Yq?this.Yq:this.Vc.currentTime}},{key:"NU",get:function(){return this.Lq}},{key:"Hg",get:function(){return this.Uq?this.Uq.Hg:this.JR?this.JR.Hg:this.Vc.duration}},{key:"Fg",get:function(){return this.qg?this.KY():this.Uq?this.Uq.Fg:this.Vc.ended||this.eY}},{key:"mu",get:function(){return this.$R}},{key:"SD",get:function(){return this.Vc}},{key:"Wg",get:function(){return this.oY?this.aY:this.Uq?this.Uq.Wg:this.Vc.paused}},{key:"gy",get:function(){return this.tY.YN(uS.aC(this.Vc.played))}},{key:"sT",get:function(){return this.Vc.offsetHeight*i.Lr.Fe}},{key:"Tk",get:function(){return this.Vc.offsetWidth*i.Lr.Fe}},{key:"XD",get:function(){return hS}},{key:"Y_",get:function(){return this.Xq.Y_}},{key:"py",get:function(){return this.JR?this.JR.py:uS.fC()}},{key:"qg",get:function(){return this.Uq?this.Uq.qg:this.kC}},{key:"Vg",get:function(){return this.Uq?this.Uq.Vg:this.Vc.muted},set:function(t){this.Uq?this.Uq.Vg=t:this.Vc.muted=t}},{key:"Gg",get:function(){return this.Uq?this.Uq.Gg:void 0!==this.nY?this.nY:this.Vc.playbackRate},set:function(t){this.Uq?this.Uq.Gg=t:this.Wg||this.hY?(this.nY=t,this.NY(t)):(this.nY=void 0,this.Vc.playbackRate=t)}},{key:"Tj",get:function(){return this.pN}},{key:"Qg",get:function(){return this.Uq?this.Uq.Qg:this.Vc.volume},set:function(t){this.Uq?this.Uq.Qg=t:this.Vc.volume=t}},{key:"Dm",get:function(){return this.Gq}},{key:"PU",get:function(){return this.AC}},{key:"ey",get:function(){return!!this.Vc.webkitCurrentPlaybackTargetIsWireless}},{key:"bj",get:function(){return this.cY}},{key:"Sj",get:function(){return Nr({},_D)}},{key:"ED",get:function(){return this.SX.ED},set:function(t){this.SX.ED=t}},{key:"xq",get:function(){return this.SX.xq}},{key:"Ay",get:function(){return this.rY},set:function(t){this.rY=t,this.sY&&!this.rY&&(this.sY=!1,this.QY())}}]),n}(wu);function IP(t){try{var n=Lo(t),i=new Vo;return Eo(Io(so(n,i,fo(n,i,!0)),!0))}catch(t){return}}var RP=.01;function DP(t,n,i){if(void 0===i&&(i=0),!n.b_)return 0;var e=n.UN(t),r=RP*i;return e===n.RN(0)?e+=r:e===n.NN(n.b_-1)&&(e-=r),e}function NP(t,n){for(var i=0,e=t.p_;i<e.length;i++){var r=e[i];if(r.Oy===n)return r}}function CP(t){return!!t.cues&&t.cues.length>0}var PP={jM:void 0,QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,rU:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0},BP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ww=void 0,n}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=PR(this)),this.Ww}},{key:"jM",get:function(){}},{key:"QM",get:function(){}},{key:"ZM",get:function(){}},{key:"KM",get:function(){}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"rU",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"iU",get:function(){}},{key:"eU",get:function(){}}]),n}(wu);new BP;var OP=function(t){function n(n,i,e){return t.call(this,n,i,e,new BP)||this}return S(n,t),n.prototype.Wm=function(){},A(n,[{key:"Yg",get:function(){return 0}},{key:"jg",get:function(){return 0}}]),n}(EP),xP="theoplayer-texttracks",LP=function(){function t(t){void 0===t&&(t=5),this.Ej=void 0;var n=le.document.createElement("div");n.className=xP,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Ej=n,this.zm()}var n=t.prototype;return n.Vm=function(){this.Ej.style.display="none"},n.zm=function(){this.Ej.style.display="block"},n.Aj=function(t){t.appendChild(this.Ej)},n.Sd=function(){$e(this.Ej)},A(t,[{key:"iy",get:function(){return this.Ej}}]),t}();function MP(t,n){return Nr({},n,lg({jM:(i=t).jM,QM:i.QM,ZM:i.ZM,KM:i.KM,JM:i.JM,$M:i.$M,rU:i.rU,tU:i.tU,nU:i.nU,iU:i.iU,eU:i.eU}));var i}function UP(t){return t.ZM&&ds(t.ZM,"%")?Number(t.ZM.replace("%",""))/100:t.ZM&&ds(t.ZM,"em")?Number(t.ZM.replace("em","")):1}var XP,HP,FP=function(){function t(t,n,i,e,r){var s=this;this.Ij=Br(),this.Rj=!0,this.Dj=void 0,this.Nj=Nr({},PP),this.Cj=[],this.rk=void 0,this.Vc=void 0,this.Lq=void 0,this.Pj=void 0,this.Bj=function(t){return s.mE(t.zy)},this.Oj=function(t){return s.removeCue(t.zy)},this.xj=function(){return s.Lj()},this.Mj=function(t){return s.Uj(t.zy)},this.Xj=function(t){return s.Hj(t.zy)},this.Fj=function(t){return s.zj(t.zy)},this.Vj=function(t){s.Wj(t.Tk,t.sT)},this.rk=t,this.Pj=this.Dj=r,this.Vc=this.Gj(i),this.Lq=e,n.appendChild(this.Vc)}var n=t.prototype;return n.qj=function(t){var n=this.Yj(t);if(!n)return!1;for(var i=0;i<n.length;i++){$e(n[i])}return this.jj(t),!0},n._L=function(){var t=this;this.Qj(),this.rk.j_.p_.forEach(function(n){return t.mE(n)}),this.NU.Zs("pO",this.Vj),this.Wj(this.NU.RO,this.NU.IO)},n.Zj=function(t){this.Nj=t,this.Dj=MP(this.Nj,this.Pj),this.Dj.jM&&(this.SD.style.fontFamily=this.Dj.jM),this.Dj.rU&&(this.SD.style.visibility=this.Dj.rU),this.Wj(this.NU.RO,this.NU.IO),this.Kj(!0)},n.Jj=function(){return this.Dj},n.$j=function(t){return this.Ij.has(t.B_)},n.Qj=function(){this.rk.Zs(Z_.jw,this.Bj),this.rk.Zs(Z_.Zw,this.Oj),this.rk.Zs(Z_.r_,this.xj)},n.tQ=function(){this.rk.tu(Z_.jw,this.Bj),this.rk.tu(Z_.Zw,this.Oj),this.rk.tu(Z_.r_,this.xj)},n.nQ=function(t){t.Zs(ky.Uy,this.Mj),t.Zs(ky.Hy,this.Xj),t.Zs(ky.c_,this.Fj)},n.iQ=function(t){t.tu(ky.Uy,this.Mj),t.tu(ky.Hy,this.Xj),t.tu(ky.c_,this.Fj)},n.mE=function(t){this.nQ(t),t.dk&&this.Uj(t)},n.removeCue=function(t){this.iQ(t),this.Hj(t)},n.Lj=function(){this.rk.W_===Eg.F_?this.eQ():this.rQ()},n.eQ=function(){if(this.Rj){this.Rj=!1;var t=this.NU.RO,n=this.NU.IO;this.Wj(t,n),this.Kj(!1)}},n.rQ=function(){this.Rj||(this.Rj=!0,this.Kj(!0))},n.Uj=function(t){this.Rj||t.dk&&!this.$j(t)&&this.Kj(!1)},n.Hj=function(t){this.$j(t)&&this.Kj(!1)},n.zj=function(t){(t.dk||this.$j(t))&&this.Kj(!0)},n.Kj=function(t){var n=this.Cj,i=this.Rj?[]:this.rk.Q_.p_.slice();this.sQ(i,n,t),this.Cj=i},n.Yj=function(t){var n;return null==(n=this.Ij.get(t.B_))?void 0:n.uQ},n.oQ=function(t,n){this.Ij.set(t.B_,{zy:t,uQ:n})},n.jj=function(t){this.Ij.delete(t.B_)},n.aQ=function(){return this.Cj.slice()},n.Sd=function(){var t=this;$e(this.SD),this.Ij.clear(),this.tQ(),this.rk.j_.p_.forEach(function(n){return t.iQ(n)}),this.NU.tu("pO",this.Vj)},A(t,[{key:"Yw",get:function(){return this.rk}},{key:"SD",get:function(){return this.Vc}},{key:"NU",get:function(){return this.Lq}},{key:"hQ",get:function(){return this.Dj}},{key:"cQ",get:function(){return this.Nj}}]),t}();function zP(t){return VP[t||"none"]}!function(t){t.fQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.vQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.lQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.dQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(XP||(XP={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(HP||(HP={}));var VP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},WP=Or({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),GP={QM:HP.WHITE,jM:"Arial, Helvetica, Sans-Serif",ZM:"100%",KM:HP.TRANSPARENT,JM:HP.TRANSPARENT,$M:"none",rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},qP=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,GP)||this}S(n,t);var i=n.prototype;return i.Gj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",nr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Wj=function(t,n){var i=w.min(t,n)/15;this.SD.style.fontSize=i+"px"},i.sQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.dk||this.qj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.wQ(u)}},i.wQ=function(t){var n=this.Yj(t);n||(n=this._Q(t),this.oQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SD.appendChild(r)}},i._Q=function(t){var n,i=[],e=t.jS,r=t.Kp,u=t.Gy;if(0===d.keys(r).length){tB(n=s.createElement("div"));for(var o=YP(u,e,t.QS,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=d.keys(r);c<f.length;c++){var v=f[c],l=s.createElement("div");l.id=v;var w=YP(u,e,t.QS,l);if(w){tB(l),QP(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.Zj=function(t){var n,i,e,r;n=this.SD,i=t,n.style.marginTop=(null!=(e=i.tU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.nU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",LR(this.SD,t)},n}(FP);function YP(t,n,i,e){var r,u;if(Qt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":jP(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",jP(n,t);break;case"DIV":jP(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");KP(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=hp(s.wi,["ebutts","tts","xml"]);JP(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&ZP(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];ZP(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=YP(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,w=l[v];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.Fi));return r?[r]:[]}function jP(t,n){var i=n.Oi(up,"id");i&&(t.id=i)}function QP(t,n,i,e){KP(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];JP(t,n,u,i[u],t)}}function ZP(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.Fi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){nr(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function KP(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=d.keys(e[o]);a<h.length;a++){var c=h[a],f=hp(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?KP(t,n,e[o][c],e,r):JP(t,n,f,e[o][c],r)}}}function JP(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=WP.get(e);t.style.fontFamily=s||e;break;case"fontSize":ds(e,"px")?e=_(e)/24+"em":ds(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=$P(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var v=$P(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ds(e,"c")){var p=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=p}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function $P(t){return"div"===t||"p"===t||"span"===t}function tB(t){nr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var nB,iB,eB=void 0;function rB(t,n){for(var i,e=nB.gQ,r="",s=[],u=t.charAt(n.Pu),o="",a={fs:iB.mQ,Ri:"",yQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case nB.gQ:switch(u){case"&":var h=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],eB||(eB=le.document.createElement("textarea")),eB.innerHTML=i,eB.value),n.Bu(h[0].length-1)):r+="&";break;case"<":if(r)return{fs:iB.kQ,Gy:r};e=nB.pQ;break;case"EOF":return{fs:iB.kQ,Gy:r};default:r+=u}break;case nB.pQ:switch(u){case"\t":case"\n":case"\f":case" ":e=nB.bQ;break;case".":e=nB.AQ;break;case"/":e=nB.TQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=nB.SQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=nB.EQ}break;case nB.EQ:switch(u){case"\t":case"\f":case" ":e=nB.bQ;break;case"\n":o=u,e=nB.bQ;break;case".":e=nB.AQ;break;case">":return n.Bu(1),{fs:iB.mQ,Ri:r,yQ:[]};case"EOF":return{fs:iB.mQ,Ri:r,yQ:[]};default:r+=u}break;case nB.AQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=nB.bQ;break;case"\n":s.push(o),o=u,e=nB.bQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{fs:iB.mQ,Ri:r,yQ:s};case"EOF":return s.push(o),{fs:iB.mQ,Ri:r,yQ:s};default:o+=u}break;case nB.bQ:switch(u){case"&":e=nB.IQ;break;case">":n.Bu(1);var c=o.trim();return c=c.replace(/\s/," "),{fs:iB.mQ,Ri:r,yQ:s,RQ:c};default:o+=u}break;case nB.IQ:for(var f="",v=n.Pu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=nB.bQ;break;case nB.TQ:switch(u){case">":return n.Bu(1),{fs:iB.DQ,Ri:r};case"EOF":return{fs:iB.DQ,Ri:r};default:r+=u}break;case nB.SQ:switch(u){case">":return n.Bu(1),{fs:iB.NQ,CQ:r};case"EOF":return{fs:iB.NQ,CQ:r};default:r+=u}}n.Bu(1)}return a}function sB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.gQ="Data",t.pQ="Tag",t.EQ="StartTag",t.AQ="StartTagClass",t.bQ="StartTagAnnotation",t.IQ="CharRefInAnnotation",t.TQ="EndTag",t.SQ="TimestampTag"}(nB||(nB={})),function(t){t.kQ="string",t.mQ="starttag",t.DQ="endtag",t.NQ="timestamp"}(iB||(iB={}));var uB,oB=function(){function t(t,n,i,e){this.BQ=void 0,this.OQ=void 0,this.Tk=void 0,this.sT=void 0,this.BQ=t,this.OQ=n,this.Tk=i,this.sT=e}var n=t.prototype;return n.xQ=function(t){return this.BQ<t.LQ&&this.LQ>t.BQ&&this.OQ<t.MQ&&this.MQ>t.OQ},n.Ey=function(t){return this.BQ<=t.BQ&&t.LQ<=this.LQ&&this.OQ<=t.OQ&&t.MQ<=this.MQ},n.Lu=function(){return new t(this.BQ,this.OQ,this.Tk,this.sT)},A(t,[{key:"LQ",get:function(){return this.BQ+this.Tk},set:function(t){this.BQ=t-this.Tk}},{key:"MQ",get:function(){return this.OQ+this.sT},set:function(t){this.OQ=t-this.sT}}]),t}(),aB={QM:HP.WHITE,jM:"sans-serif",ZM:"100%",KM:"rgba(0,0,0,0.8)",JM:HP.TRANSPARENT,$M:"none",rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},hB="theoplayer-webvtt-region-",cB="theoplayer-webvtt-styling-",fB="theoplayer-webvtt-voice-",vB="theoplayer-webvtt-default-style",lB=5.23,dB=1.14,wB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,aB)||this).UQ=Pr(),s.XQ=kB(3),s}S(n,t);var i=n.prototype;return i.Gj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,er(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.hQ.jM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(vB))return;for(var t=[],n=0;n<RB.length;n++){var i=RB[n],e=i[0],r=i[1];t.push("."+cB+e+" { color: "+r+" !important; }"),t.push("."+cB+"HQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("FQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=vB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i._L=function(){this.SD.appendChild(this.XQ),t.prototype._L.call(this)},i.Wj=function(t,n){var i=this,e=w.min(t/100,n/100),r=UP(this.hQ);this.UQ.forEach(function(t){var n=t.Ky,s=t.zQ;i.VQ(s,e,r,n)}),this.VQ(this.XQ,e,r)},i.Zj=function(n){LR(this.SD,n),t.prototype.Zj.call(this,n)},i.sQ=function(t,n,i){for(var e=this,r=this.SD,s=this.NU.IO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.Ky&&(Hs(u,a.Ky)||u.push(a.Ky))}this.UQ.forEach(function(t,n){var r=t.Ky,s=t.zQ;!i&&Hs(u,r)||($e(s),e.UQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.dk||this.qj(c)}var f=[],v=TB(this.XQ.getBoundingClientRect());f.push.apply(f,this.WQ(v));for(var l=0;l<u.length;l++){var d=u[l],w=void 0;this.UQ.has(d.P_)?w=this.UQ.get(d.P_).zQ:(w=pB(d,s),r.appendChild(w),this.UQ.set(d.P_,{Ky:d,zQ:w})),f.push(TB(w.getBoundingClientRect()))}for(var _=0;_<t.length;_++){var g=t[_],m=this.wQ(g,f,v);void 0!==m&&f.push(m)}},i.WQ=function(t){var n=[],i=this.hQ;if(void 0!==i.tU){var e=t.Lu();e.sT=i.tU,n.push(e)}if(void 0!==i.nU){var r=t.Lu();r.sT=i.nU,r.MQ=t.MQ,n.push(r)}return n},i.wQ=function(t,n,i){var e,r;t.Ky?(r=this.UQ.get(t.Ky.P_).zQ,"up"===t.Ky.pk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.XQ;var s=null==(e=this.Yj(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.GQ(t),r.appendChild(s),t.Ky||(t.Jy?function(t,n,i,e){var r=bB(t),s=r?i.sT:i.Tk,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=TB(n.getBoundingClientRect()),a=w.round(My(t));"rl"===t.$y&&(a=-(a+1));var h=u*a;"rl"===t.$y&&(h=h-o.Tk+u);a<0&&(h+=s,u=-u);r?o.OQ+=h:o.BQ+=h;var c=o.Lu(),f=!1;for(;!i.Ey(o)||AB(o,e);)if(r)if(u<0&&o.OQ<i.OQ||u>0&&o.MQ>i.MQ){if(o.OQ=c.OQ,f)break;u=-u,f=!0}else o.OQ+=u;else if(u<0&&o.BQ<i.BQ||u>0&&o.LQ>i.LQ){if(o.BQ=c.BQ,f)break;u=-u,f=!0}else o.BQ+=u;r?n.style.top=(o.OQ-i.OQ)/i.sT*100+"%":n.style.left=(o.BQ-i.BQ)/i.Tk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=TB(n.getBoundingClientRect());if(0===r.Tk||0===r.sT)return;bB(t)?"center"===t.jy?r.OQ-=r.sT/2:"end"===t.jy&&(r.OQ-=r.sT):"center"===t.jy?r.BQ-=r.Tk/2:"end"===t.jy&&(r.BQ-=r.Tk);var s,u=r.Lu(),o=u,a=1,h=!1;s=""===t.$y?[uB.POS_Y,uB.NEG_Y,uB.POS_X,uB.NEG_X]:"lr"===t.$y?[uB.POS_X,uB.NEG_X,uB.POS_Y,uB.NEG_Y]:[uB.NEG_X,uB.POS_X,uB.POS_Y,uB.NEG_Y];var c=g(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!EB(r,i,s[f],.01)&&(!i.Ey(r)||AB(r,e));)SB(r,s[f],c);if(i.Ey(r)){o=r.Lu(),h=!0;break}var v=(l=r,d=i,_=void 0,m=void 0,void 0,_=w.max(0,w.min(l.LQ,d.LQ)-w.max(l.BQ,d.BQ)),m=w.max(0,w.min(l.MQ,d.MQ)-w.max(l.OQ,d.OQ)),_*m/(l.Tk*l.sT));a>v&&(o=r.Lu(),a=v),r=u.Lu()}i.Ey(r)||(o=u.Lu())}var l,d,_,m;n.style.left=(o.BQ-i.BQ)/i.Tk*100+"%",n.style.top=(o.OQ-i.OQ)/i.sT*100+"%"}(t,s,i,n)),this.oQ(t,[s])),!t.Ky)return TB(s.getBoundingClientRect())},i.GQ=function(t){for(var n=new Vo,i=t.Gy,e=this.qQ(t),r={YQ:void 0,iy:e},u=r,o="",a="",h=[r],c=[],f=[];n.Pu<i.length;){var v=rB(i,n);if(v.fs===iB.kQ){var l=s.createElement("span");sB(l,v.Gy),_B(l,h),""!==o&&(l.lang=o),this.jQ(l,a),u.iy.appendChild(l)}else if(v.fs===iB.mQ){var d=v.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.iy.appendChild(w),u={YQ:v,iy:w},h.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.YQ)?void 0:_.Ri.toLowerCase())){var g=s.createElement("rt");u.iy.appendChild(g),u={YQ:v,iy:g},h.push(u)}break;case"c":case"v":u={YQ:v,iy:u.iy},h.push(u);break;case"font":var m,y=null==(m=v.RQ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={YQ:v,iy:u.iy},h.push(u));break;case"lang":var k;o=null!=(k=v.RQ)?k:"",c.push(o)}}else if(v.fs===iB.DQ){var p,b=v.Ri.toLowerCase(),A=null==(p=u.YQ)?void 0:p.Ri.toLowerCase();A===b?(h.pop(),u=h[h.length-1],"font"===b&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.fs===iB.NQ){var T=v.CQ,S=new Vo;try{Dk(T,S)}catch(t){at("ERROR collecting timestamp",t)}}}return e},i.jQ=function(t,n){var i=this.hQ,e=this.cQ;i.KM&&(t.style.background=i.KM);var r=e.QM||n||i.QM;r&&(t.style.color=r)},i.VQ=function(t,n,i,e){if(e){var r=gB(e,n);t.style.height=r*i+"px",t.style.left=mB(e)+"%",t.style.top=yB(e,n)+"px"}t.style.fontSize=lB*n*i+"px"},i.qQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.qy,function(t,n){"rl"===n.$y?t.style.writingMode="vertical-rl":"lr"===n.$y?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Hy(n);bB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Xy(n),s=Uy(n),u=Hy(n);if(bB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.Jy?0:My(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.Jy?0:My(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.hQ.JM;i&&(n.style.background=i);var e=this.hQ.QM;return e&&(n.style.color=e),n.style.textShadow=zP(this.hQ.$M),n},n}(FP);function _B(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.YQ){for(var r=0,s=e.YQ.yQ;r<s.length;r++){var u=s[r];tr(t,cB+u)}"v"===e.YQ.Ri.toLowerCase()&&e.YQ.RQ&&tr(t,fB+e.YQ.RQ)}}}function gB(t,n){return t._k*(lB*n)*dB}function mB(t){return t.bk-t.gk*t.Tk/100}function yB(t,n){var i=t.Ak,e=t.yk*gB(t,n)/100;return w.max(0,i-e)}function kB(t){var n=s.createElement("div");return n.className=hB+"default",er(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=lB*t+"px",n.style.lineHeight=dB+"em",n}function pB(t,n){var i=kB(n);i.className=hB+t.P_;var e=t.Tk,r=gB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=mB(t)+"%",i.style.right="",i.style.top=yB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function bB(t){return""===t.$y}function AB(t,n){return n.some(function(n){return t.xQ(n)})}function TB(t){return new oB(t.left,t.top,t.width,t.height)}function SB(t,n,i){switch(n){case uB.POS_X:t.BQ+=i;break;case uB.NEG_X:t.BQ-=i;break;case uB.POS_Y:t.OQ+=i;break;case uB.NEG_Y:t.OQ-=i}}function EB(t,n,i,e){switch(i){case uB.POS_X:return t.LQ>n.LQ+e;case uB.NEG_X:return t.BQ<n.BQ-e;case uB.POS_Y:return t.MQ>n.MQ+e;case uB.NEG_Y:return t.OQ<n.OQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(uB||(uB={}));var IB,RB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(IB||(IB={}));var DB={QM:HP.WHITE,jM:XP.lQ,ZM:"100%",KM:HP.BLACK,JM:"transparent",$M:"none",QQ:IB.FONT_REGULAR,rU:"visible",tU:void 0,nU:void 0,iU:void 0,eU:void 0},NB=[{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.GREEN,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.GREEN,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.BLUE,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.BLUE,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.CYAN,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.CYAN,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.RED,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.RED,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.YELLOW,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.YELLOW,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.MAGENTA,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.MAGENTA,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.WHITE,QQ:IB.FONT_ITALICS,KQ:0},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE_ITALICS,KQ:0},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:0},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:0},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:4},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:4},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:8},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:8},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:12},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:12},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:16},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:16},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:20},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:20},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:24},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:24},{ZQ:HP.WHITE,QQ:IB.FONT_REGULAR,KQ:28},{ZQ:HP.WHITE,QQ:IB.FONT_UNDERLINE,KQ:28}],CB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function PB(t,n){return nk(t.JQ,n.JQ)||Cs(t.fS,n.fS)}var BB=32,OB=function(){function t(t,n,i){this.$Q=void 0,this.tZ=t,this.nZ=n,this.Dj=i}var n=t.prototype;return n.iZ=function(){return this.$Q=this.eZ(),this.rZ(),this.sZ(),this.$Q},n.eZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.uZ/BB*this.nZ.oZ*100+"%",t.style.height=1.2*this.aZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.nZ.hZ?"calc(1em - 1ch)":"";var n=this.Dj.jM;n&&(t.style.fontFamily=n);var i=this.Dj.JM;return i&&(t.style.backgroundColor=i),t},n.rZ=function(){if(this.$Q){var t=this.fZ.cZ/15*100,n=this.fZ.KQ/BB*100,i=(BB-this.vZ.KQ-1)/BB*100,e=(15-this.vZ.cZ-1)/15*100;this.nZ.lZ||(n=i=1,this.$Q.style.width="98%"),e<t?this.$Q.style.bottom=e*this.nZ.oZ+"%":this.$Q.style.top=t*this.nZ.oZ+"%",i<n?this.$Q.style.right=i+"%":this.$Q.style.left=n+"%"}},n.sZ=function(){for(var t=this.tZ.dZ.sort(xB),n=0;n<t.length;n++)this.wZ(t[n-1],t[n]),this._Z(t[n]);this.wZ(t[t.length-1],void 0)},n._Z=function(n){var i,e=MP(this.Dj,n.gZ),r=t.mZ(e);sB(r,n.yZ),null==(i=this.$Q)||i.appendChild(r)},t.mZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.QQ!==IB.FONT_ITALICS&&t.QQ!==IB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.QQ!==IB.FONT_UNDERLINE&&t.QQ!==IB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.QM;i&&(n.style.color=i);var e=t.KM;return e&&(n.style.backgroundColor=e),n.style.textShadow=zP(t.$M),n.style.height="1.2em",n},n.wZ=function(t,n){var i=t?t.kZ.cZ:this.tZ.pZ.cZ,e=n?n.pZ.cZ:this.tZ.kZ.cZ,r=t?t.kZ.KQ:this.tZ.pZ.KQ,s=n?n.pZ.KQ:this.tZ.kZ.KQ;i<e&&(!n||t&&t.pZ.cZ!==n.pZ.cZ?this.bZ():this.AZ(this.tZ.kZ.KQ-r),r=this.tZ.pZ.KQ),r<s&&(n?this.AZ(s-r):this.bZ())},n.bZ=function(){var t,n=s.createElement("br");null==(t=this.$Q)||t.appendChild(n)},n.AZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",sB(i,_s(" ",t)),null==(n=this.$Q)||n.appendChild(i)}},A(t,[{key:"fZ",get:function(){return this.tZ.pZ}},{key:"vZ",get:function(){return this.tZ.kZ}},{key:"uZ",get:function(){return this.tZ.kZ.KQ-this.tZ.pZ.KQ+1}},{key:"aZ",get:function(){return this.tZ.kZ.cZ-this.tZ.pZ.cZ+1}}]),t}();function xB(t,n){return function(t,n){if(t.cZ!==n.cZ)return t.cZ-n.cZ;return t.KQ-n.KQ}(t.pZ,n.pZ)}var LB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,DB)||this).TZ=void 0,s.SZ=void 0,s}S(n,t);var i=n.prototype;return i.Gj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.hQ.jM&&(n.style.fontFamily=this.hQ.jM),n},i.Wj=function(t,n){this.EZ()},i.EZ=function(){var t,n=UP(this.hQ);this.SZ={oZ:(t=100*n)/100,hZ:t<=100,lZ:t<=150};var i=this.IZ/BB;this.TZ=i*n,this.SD.style.fontSize=this.TZ+"px"},i.sQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.dk||this.qj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.wQ(u)}},i.wQ=function(t){this.SZ&&this.SZ.lZ?this.RZ(80):this.RZ(100),this.EZ();var n=this.Yj(t);n||(n=this._Q(t),this.oQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.SD.appendChild(r)}},i._Q=function(t){var n=this;return t.Gy.map(function(t){return new OB(t,n.SZ,n.hQ).iZ()})},i.RZ=function(t){var n=(100-t)/2;this.SD.style.left=n+"%",this.SD.style.width=t+"%"},A(n,[{key:"IZ",get:function(){var t=this.SD.offsetWidth;return this.SZ&&this.SZ.lZ||(t*=.8),t}}]),n}(FP),MB=function(){function t(t,n,i,e,r){var s=this;this.DZ=void 0,this.Lq=void 0,this.Am=void 0,this.NZ=void 0,this.CZ=[],this.AC=void 0,this.PZ=function(t){var n=t.Yw;n.Zs(Z_.u_,s.BZ),n.Zs(Z_.a_,s.BZ),n instanceof KC&&(n.kG=s.kG),s.OZ(n)},this.BZ=function(t){var n=t.Yw;s.OZ(n)},this.xZ=function(t){var n=t.Yw;n.tu(Z_.u_,s.BZ),n.tu(Z_.a_,s.BZ),s.LZ(n)},this.MZ=function(){for(var t=s.kG,n=0,i=s.Am.p_;n<i.length;n++){var e=i[n];e instanceof KC&&(e.kG=t)}},this.UZ=function(){for(var t=0,n=s.CZ;t<n.length;t++){n[t].Zj(s.AC)}},this.XZ=function(){for(var t=0,n=s.CZ;t<n.length;t++){var i=n[t];i.Zj(Nr({},i.Jj(),{rU:"hidden"}))}},this.HZ=function(){for(var t=0,n=s.CZ;t<n.length;t++){var i=n[t];i.Zj(Nr({},i.Jj(),{rU:"visible"}))}},this.DZ=t,this.Lq=n,this.Am=i,this.NZ=r,this.AC=e,this.Am.Zs(q_.Hw,this.PZ),this.Am.Zs(q_.zw,this.xZ),this.Am.Zs(Z_.r_,this.BZ),this.NZ.Zs(rS.r_,this.MZ),this.AC.Zs("s_",this.UZ),this.MZ()}var n=t.prototype;return n.FZ=function(t){for(var n=0,i=this.CZ;n<i.length;n++){var e=i[n];if(e.Yw===t)return e}},t.zZ=function(t){switch(t.fs){case _y.TTML:case _y.SRT:case _y.WEBVTT:case _y.CEA608:return!0}return!1},n.VZ=function(t){switch(t.fs){case _y.TTML:return new qP(t,this.DZ,t.x_,this.Lq);case _y.SRT:case _y.WEBVTT:return new wB(t,this.DZ,t.x_,this.Lq);case _y.CEA608:return new LB(t,this.DZ,t.x_,this.Lq)}},n.WZ=function(t){var n=this.FZ(t);n||(n=this.VZ(t))&&(n._L(),n.Zj(this.AC),this.CZ.push(n),t.W_===Eg.F_&&n.eQ())},n.LZ=function(t){for(var n=this.CZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.Yw===t&&(e.Sd(),Xs(n,i))}},n.OZ=function(n){var i;(i=n.O_)!==Ip.Qb&&i!==Ip.$S||!t.zZ(n)||(n.Y_===wy.ERROR?this.LZ(n):this.WZ(n))},n.k_=function(){for(var t=0,n=this.CZ;t<n.length;t++){var i=n[t];i.Yw.tu(Z_.u_,this.BZ),i.Yw.tu(Z_.a_,this.BZ),i.Sd()}zs(this.CZ)},n.Sd=function(){this.k_();for(var t=0,n=this.CZ;t<n.length;t++){n[t].Sd()}this.Am.tu(q_.Hw,this.PZ),this.Am.tu(q_.zw,this.xZ),this.Am.tu(Z_.r_,this.BZ),this.NZ.tu(rS.r_,this.MZ),this.AC.tu("s_",this.UZ)},A(t,[{key:"kG",get:function(){return this.NZ.lC}}]),t}();function UB(t){var n=new CI,i=function(t){var n=[];return DI.ZO(t)&&n.push(new DI(t)),NI.ZO(t)&&n.push(new NI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.nx(r)}n.tx(i[0])}return n}var XB,HB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).GZ=void 0,s.qZ=void 0,s.YZ=void 0,s.YZ=UB(n),s.GZ=new LP,s.qZ=new MB(s.GZ.iy,s.NU,s.Dm,s.PU,s.XD),s}S(n,t);var i=n.prototype;return i.Wm=function(){return this.Vc},i.xs=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.YZ.Sd(),this.GZ.Sd(),this.qZ.Sd(),n.next=5,Dr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.Vm=function(){t.prototype.Vm.call(this),this.GZ.Vm()},i.zm=function(){t.prototype.zm.call(this),this.GZ.zm()},i.Aj=function(n){t.prototype.Aj.call(this,n),this.GZ.Aj(n)},A(n,[{key:"SD",get:function(){return this.Vc}},{key:"Yg",get:function(){return this.Vc.videoHeight}},{key:"jg",get:function(){return this.Vc.videoWidth}},{key:"XD",get:function(){return this.YZ}}]),n}(EP);!function(t){t.jZ="HELLO",t.QZ="HI_THERE",t.ZZ="INITIALIZE",t.KZ="APPEND_INIT",t.JZ="APPEND_DATA",t.$Z="ACK",t.tK="REMOVE",t.nK="DESTROY_SESSION"}(XB||(XB={}));var FB=function(){function t(){this.we=void 0,this.Fc=void 0,this.oX=new JR}var n=t.prototype;return n.iK=function(t){var n=this;return this.oX.ZU(function(t){var i,e,r,s,u,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(nu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Dr.awrap(W_(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Dr.awrap(W_(o.serviceWorker.controller,"activate",t));case 10:return s={kind:XB.jZ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,h.prev=15,h.next=18,Dr.awrap(W_(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===XB.QZ){h.next=23;break}throw new v("Could not set up message channel");case 23:n.Fc=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),tu(h.t0)&&n.eK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],We)},t)},n.rK=function(t,n){var i=this;return this.we,this.oX.ZU(function(){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Dr.awrap(W_(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.sK=function(){var t=this;return this.oX.ZU(function(){return t.eK()})},n.eK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:XB.nK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),zB=function(){function t(){this.uK=qy.Rp}var n=t.prototype;return n.oK=function(t,n){var i=t.Mk(n);this.uK=i.Ik(this.aK)?this.uK:i},n.hK=function(t){this.uK=t},A(t,[{key:"aK",get:function(){return this.uK}}]),t}(),VB=function(t){function n(n,i){var e;return(e=t.call(this)||this).cK=void 0,e.fK=void 0,e.ra=void 0,e.oX=new JR,e.vK=!1,e.lK=!1,e.JB=n,e.dK=i,e}S(n,t);var i=n.prototype;return i.mV=function(t,n){},i.yV=function(t,n){},i.HX=function(){return this.lK},i.kV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.tV=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.Vz=function(t,i,e){var r,s,u=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs===AD.GX){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.Fi,s=function(){var t,i,e,s,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=ip.RA(new DataView(r.buffer)),(i=Qk(t,uk.Ob)).length){c.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.ra,s=n.wK(i,e),o=u._K(i,e),a=r.buffer,h={kind:XB.JZ,mimeType:u.JB,segment:r,startPts:tk.Op(s).zp(),totalDuration:tk.Op(o).zp()},c.next=11,Dr.awrap(u.dK.rK(h,[a]));case 11:void 0===u.cK&&(u.cK=s),void 0===u.fK&&(u.fK=s),u.fK=u.fK.Sy(o),u.Qs(new gu(mD.VX));case 15:case"end":return c.stop()}},null,null,null,We)},i.abrupt("return",this.oX.ZU(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,u.vK=!0,n.next=5,Dr.awrap(s());case 5:return n.prev=5,u.vK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},e));case 5:case"end":return i.stop()}},null,this,null,We)},i.qz=function(t,n,i){var e,r,s=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.fs===AD.GX){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Fi,r=function(){var t,n,i,r;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=ip.RA(new DataView(e.buffer)),n=jk(t,uk.sb)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.VA.length){u.next=6;break}throw new v("Tracks not found");case 6:return s.ra=n.VA[0].JA.pA.yp,i=e.buffer,r={kind:XB.KZ,mimeType:s.JB,segment:e},u.next=11,Dr.awrap(s.dK.rK(r,[i]));case 11:s.Qs(new gu(mD.VX));case 12:case"end":return u.stop()}},null,null,null,We)},n.abrupt("return",this.oX.ZU(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,s.vK=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s.vK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.vV=function(){this.lK=!0},i.aV=function(){this.lK=!1},i.Qh=function(t,n,i){var e,r=this;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:XB.tK,mimeType:r.JB,endTime:tk.Np(n).zp()},i.next=3,Dr.awrap(r.dK.rK(t));case 3:r.cK=void 0,r.fK=void 0,r.Qs(new gu(mD.VX));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this.oX.ZU(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nu(t),n.prev=1,r.vK=!0,n.next=5,Dr.awrap(e());case 5:return n.prev=5,r.vK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.CX=function(t){return this.JB===t.Nl},i.PX=function(t){return this.JB=t.Nl,We.resolve()},n.wK=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.VA.length)throw new v("No tracks");if(!i.VA[0]._S)throw new v("No decode time");return new qy(i.VA[0]._S._S.toNumber(),n)},i._K=function(t,n){var i=0;return t.forEach(function(t){t.VA.forEach(function(t){t.wS.forEach(function(t){t.bS.forEach(function(t){var n;i+=null!=(n=t.Hg)?n:0})})})}),new qy(i,n)},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Dr.awrap(this.oX.Sd());case 3:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Jm",get:function(){return void 0===this.cK||void 0===this.fK?uS.fC():new uS([this.cK.Ep,this.fK.Ep])}},{key:"rc",get:function(){return{Nl:this.JB}}},{key:"AV",get:function(){return ty.Kl}},{key:"YB",get:function(){return this.JB}},{key:"TV",get:function(){return uS.fC()}},{key:"eL",get:function(){return 30},set:function(t){}},{key:"oL",get:function(){return 30},set:function(t){}},{key:"ux",get:function(){return this.vK}},{key:"gK",get:function(){return this.cK}},{key:"Wy",get:function(){return this.fK}}]),n}(wu),WB=function(){function t(t,n){this.Pc=void 0,this.nW=void 0,this.iW=void 0,this.Pc=t,this.iW=xs(n,function(t){return Boolean(t.YB.match(/video/))}),this.nW=xs(n,function(t){return Boolean(t.YB.match(/audio/))}),this.mK()}t.yK=function(n,i){for(var e=[],r=0;r<n.dW.length;r++){var s=n.dW[r].Nl;e.push(new VB(s,i))}return new t(n,e)};var n=t.prototype;return n.mK=function(){},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(We.all([this.nW,this.iW].filter(H).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.cW=function(t){},n.lW=function(t,n,i,e){},n.vV=function(){var t,n;null==(t=this.nW)||t.vV(),null==(n=this.iW)||n.vV()},n.aV=function(){var t,n;null==(t=this.nW)||t.aV(),null==(n=this.iW)||n.aV()},n.CX=function(t){return t===this.Pc},n.PX=function(t){return this.Pc=t,We.resolve()},A(t,[{key:"kK",get:function(){return[this.nW,this.iW].filter(H)}},{key:"KV",get:function(){return this.nW}},{key:"Jm",get:function(){return TN(this)}},{key:"rc",get:function(){return this.Pc}},{key:"Hg",get:function(){return 0}},{key:"HX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.nW)?void 0:n.HX())||t,s=null==(i=null==(e=this.iW)?void 0:e.HX())||i;return r&&s}},{key:"py",get:function(){return new uS([0,1/0])}},{key:"JV",get:function(){return this.iW}},{key:"Rm",get:function(){throw new v("Not implemented")}}]),t}(),GB=qy.qk,qB=new qy(-1/0),YB=qy.Rp,jB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Rk=function(t,n){return t.Bk(n)?Ss.Ds:t.lk(n)?Ss.Is:Ss.Rs},i.Sy=function(t,n){return t.Sy(n)},i.Mk=function(t,n){return t.Mk(n)},i.Pk=function(t,n){return t.Pk(n)},i.XN=function(){return GB},i.HN=function(){return YB},i.WN=function(){return qB},n.aC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new qy(t.start(e)),new qy(t.end(e)));return new n(i)},n.pK=function(t){for(var i=[],e=[],r=0;r<t.b_;r++)i.push(new qy(t.RN(r))),i.push(new qy(t.NN(r))),e.push(t.DN(r)),e.push(t.CN(r));return new n(i,e)},n.cC=function(t){return new n([t,t],[!0,!0])},i.MN=function(t,i){return new n(t,i)},i.xN=function(t){return t.Ep},n.fC=function(){return QB},n}(sS),QB=new jB([]),ZB=function(t){function n(n){var i;return(i=t.call(this)||this).bK=!0,i.dK=new FB,i.AK=new zB,i.JR=void 0,i.Xq=void 0,i.TK=!0,i.SK=new Go,i.kC=!1,i.Kq=We.resolve(),i.Jq=new Js,i.EK=!0,i.tY=uS.fC(),i.YZ=void 0,i.IK=void 0,i.cY=!1,i.rD=void 0,i.RK=function(){i.Wg||i.DK.b_<=0||i.Jm.b_<=0||i.AK.oK(new qy(i.Jm.NN(i.Jm.b_-1)),i.DK.NN(i.DK.b_-1))},i.NK=function(){i.Qs(new km(i.Xg))},i.CK=function(){i.Qs(new ym(i.Xg,i.$m))},i.PK=function(){i.Qs(new mm(i.Xg,i.Gg))},i.BK=function(){i.Qs(new Tm(i.Xg,i.Qg))},i.xK=function(){i.Qs(new gm(i.Hg))},i.LK=function(){i.Qs(new lb(i.Xg))},i.MK=function(){i.xu(i.Xg)},i.UK=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.EK&&i.Qs(new vm(i.Xg)),i.TK=!1,i.EK=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.XK=function(){i.TK=!0,i.Qs(new fm(i.Xg))},i.IK=n,i.Xq=new ON(Kt(i)),i.IK.setAttribute("id","player_video"),i.IK.setAttribute("x-webkit-airplay","deny"),i.IK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.IK.playsInline=!0,i.IK.style.width="100%",i.IK.style.height="100%",i.HK(),i.FK(),i.YZ=UB(i.IK),i}S(n,t);var e=n.prototype;return e.HK=function(){this.IK.addEventListener("timeupdate",this.RK),this.IK.addEventListener("ended",this.NK),this.IK.addEventListener("timeupdate",this.CK),this.IK.addEventListener("ratechange",this.PK),this.IK.addEventListener("volumechange",this.BK),this.IK.addEventListener("durationchange",this.xK),this.IK.addEventListener("playing",this.LK),this.IK.addEventListener("seeking",this.MK),this.IK.addEventListener("play",this.UK),this.IK.addEventListener("pause",this.XK)},e.zK=function(){this.IK.removeEventListener("timeupdate",this.RK),this.IK.removeEventListener("ended",this.NK),this.IK.removeEventListener("timeupdate",this.CK),this.IK.removeEventListener("ratechange",this.PK),this.IK.removeEventListener("volumechange",this.BK),this.IK.removeEventListener("durationchange",this.xK),this.IK.removeEventListener("playing",this.LK),this.IK.removeEventListener("seeking",this.MK),this.IK.removeEventListener("play",this.UK),this.IK.removeEventListener("pause",this.XK)},e.FK=function(){this.Xq.Zs(hm.u_,this.js)},e.VK=function(){this.Xq.tu(hm.u_,this.js)},e.xu=function(t,n){this.Jq.Fs(),this.Jq=new Js,this.Kq=this.rj(t,this.Kq,this.Jq.Ws).catch(K)},e.rj=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.tY=this.gy,r=null==(e=this.JR)?void 0:e.kK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.gK?t.gK.Ep:1/0})),this.kC=!0,this.Qs(new bm(t)),u.next=9,Dr.awrap(n.catch(K));case 9:if(nu(i),u.prev=10,this.bK||this.WK(),this.IK.load(),this.TK){u.next=17;break}return this.EK=!1,u.next=17,Dr.awrap(ru(this.IK.play(),i));case 17:if(!(this.Y_<qg.Ng)){u.next=22;break}return u.next=20,Dr.awrap(this.Xq.au(hm.u_,i));case 20:u.next=17;break;case 22:this.SK.Wu(),this.bK=!1,this.kC=!1,this.Qs(new Am(this.Xg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.SK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.GK(),this.AK.hK(new qy(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.Pm=function(){this.TK=!0,this.IK.pause()},e.Cm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.IK.src){t.next=9;break}return this.pj(),t.next=7,Dr.awrap(this.SK.Hu);case 7:t.next=11;break;case 9:return t.next=11,Dr.awrap(this.IK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.TK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],We)},e.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.dK&&this.dK.sK().catch(K),this.Jq.Fs(),this.zK(),this.VK(),this.Xq.xs(),this.$s();case 6:case"end":return t.stop()}},null,this,null,We)},e.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.dK&&this.dK.sK().catch(K),this.Jq.Fs(),this.IK.removeAttribute("src"),this.IK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.IK.removeAttribute("x-airplay-deny"),this.IK.load(),this.Xq.k_(),this.tY=uS.fC();case 8:case"end":return t.stop()}},null,this,null,We)},e.pj=function(){this.bj||(nO(this.IK,i.Lr),this.cY=!0)},e.WK=function(){var t,n=this.IK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.IK.videoWidth/this.IK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.IK.style.width=i+"px",this.IK.style.height=e+"px",this.IK.style.marginLeft=(r-i)/2+"px",this.IK.style.marginTop=(u-e)/2+"px",this.IK.style.backgroundColor="black"}},e.GK=function(){this.IK.style.width="100%",this.IK.style.height="100%",this.IK.style.marginLeft="",this.IK.style.marginTop="",this.IK.style.backgroundColor=""},e.MD=function(t,n,i,e){},e._E=function(t,n,i,e,r,s){},e.XX=function(t){},e.jD=function(){return kR(this.IK)},e.zm=function(){this.IK.style.display="block"},e.Vm=function(){this.IK.style.display="none"},e.mj=function(){},e.jh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs!==nb.pE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Dr.awrap(this.dK.iK());case 4:return n={kind:XB.ZZ,mediaBufferConfigs:t.dW.map(function(t){return t.Nl})},i.next=7,Dr.awrap(this.dK.rK(n));case 7:return this.JR=WB.yK(t,this.dK),this.IK.preload="none",this.IK.src="https://theo.proxy/"+this.dK.Fc+"/master.m3u8",i.abrupt("return",this.JR);case 11:case"end":return i.stop()}},null,this,null,We)},e.yj=function(){},e.yE=function(t){},e.HD=function(){},e.YD=function(t){},e.xD=function(){return!1},e.Aj=function(t){t.appendChild(this.IK)},e.Wm=function(){return this.IK},e.ZY=function(){},e.Km=function(){},A(n,[{key:"SD",get:function(){return this.IK}},{key:"bW",get:function(){return!1}},{key:"Xg",get:function(){return this.IK.currentTime+this.AK.aK.Ep}},{key:"Wg",get:function(){return this.IK.paused}},{key:"Qg",get:function(){return this.IK.volume},set:function(t){this.IK.volume=t}},{key:"Gg",get:function(){return this.IK.playbackRate},set:function(t){this.IK.playbackRate=t}},{key:"qK",get:function(){return this.IK.defaultPlaybackRate}},{key:"Jm",get:function(){var t,n;return null!=(t=null==(n=this.JR)?void 0:n.Jm)?t:uS.fC()}},{key:"DK",get:function(){return jB.aC(this.IK.buffered)}},{key:"gy",get:function(){var t=uS.hC(this.YK);return this.tY.YN(t.Bu(this.AK.aK.Ep))}},{key:"YK",get:function(){return jB.aC(this.IK.played)}},{key:"qg",get:function(){return this.kC}},{key:"Hg",get:function(){return this.IK.duration}},{key:"Vg",get:function(){return this.IK.muted},set:function(t){this.IK.muted=t}},{key:"gZ",get:function(){return this.IK.style}},{key:"Sj",get:function(){return Nr({},_D,{yX:!0,kX:300})}},{key:"Y_",get:function(){return this.Xq.Y_}},{key:"Yg",get:function(){return this.IK.videoHeight}},{key:"jg",get:function(){return this.IK.videoWidth}},{key:"Fg",get:function(){return this.IK.ended}},{key:"sT",get:function(){return this.IK.height||this.IK.clientHeight}},{key:"Tk",get:function(){return this.IK.width||this.IK.clientWidth}},{key:"ey",get:function(){return!1}},{key:"bj",get:function(){return this.cY}},{key:"$m",get:function(){}},{key:"NU",get:function(){}},{key:"mu",get:function(){}},{key:"XD",get:function(){return this.YZ}},{key:"py",get:function(){return this.JR?this.JR.py:uS.fC()}},{key:"QD",get:function(){}},{key:"Dm",get:function(){}},{key:"PU",get:function(){}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"Tj",get:function(){return"block"===this.IK.style.display}},{key:"ED",get:function(){return this.rD},set:function(t){this.rD=t}},{key:"xq",get:function(){}}]),n}(wu),KB=2,JB=[ty.dd,ty.wd];function $B(t){var n=s.createElement(t);return sr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),tO(n),n}function tO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),ur(t),t.pause(),t.playbackRate=1,t.preload=JT.dN,t.controls=!1,t.style.display="none",sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function nO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&hu(e),t.pause()}}var iO,eO,rO;function sO(t){return{get bandwidth(){return t.NR},get codecs(){return t.HF},get id(){return t.P_},get uid(){return t.B_},get name(){return t.x_},get averageBandwidth(){return t.jK},get label(){return t.x_},set label(n){t.x_=gg(n)},get height(){return t.sT},get width(){return t.Tk},get frameRate(){return t.QK},get firstFrame(){return t.ZK},get available(){return t.KK},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function uO(t){return{get bandwidth(){return t.NR},get codecs(){return t.HF},get id(){return t.P_},get uid(){return t.B_},get name(){return t.x_},get averageBandwidth(){return t.jK},get label(){return t.x_},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.x_=n},get audioSamplingRate(){return t.JK},get available(){return t.KK},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function oO(t,n){return[t,void 0!==n?t+n-1:xt]}function aO(t){return Boolean(t.JA)}function hO(t){return Boolean(t.$K)}ce=(iO={tJ:function(){function t(t,n,i,e,r){void 0===i&&(i=KB),void 0===e&&(e=JB),void 0===r&&(r=_f()),this.nJ=void 0,this.iJ=void 0,this.ys=void 0,this.eJ=void 0,this.Lq=void 0,this.AC=void 0,this.rJ=void 0,this.nJ=i,this.iJ=[].concat(e),this.ys=r,this.Lq=t,this.AC=n,this.eJ=Pr(),this.sJ()}var n=t.prototype;return n.EC=function(t){for(var n=0,i=this.RC;n<i.length;n++){i[n].Aj(t)}},n.TD=function(t){var n=xs(this.eJ.get(t),function(t){return t.KK});if(n)return n.KK=!1,n.uJ},n.oJ=function(t){if(!this.rJ)throw new v("Error creating iOS Safari MediaController");return this.rJ},n.VD=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.SD,i=n.tagName.toLowerCase(),r.next=4,Dr.awrap(t.k_());case 4:tO(n),(e=xs(this.eJ.get(i)||[],function(n){return t===n.uJ}))&&(e.KK=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.IC=function(){for(var t=0,n=this.RC;t<n.length;t++){n[t].pj()}},n.Sd=function(){for(var t=0,n=this.RC;t<n.length;t++){var i=n[t],e=i.SD;i.xs(),tO(e),$e(e)}},n.sJ=function(){for(var t=0,n=this.iJ;t<n.length;t++){var i=n[t],e=[];this.eJ.set(i,e);for(var r=0;r<this.nJ;r++){var s=$B(i),u=i===ty.dd?new OP(s,this.ys,this.Lq):new HB(s,this.ys,this.Lq,this.AC);e.push({uJ:u,KK:!0})}}if(M.Bn&&M.hn){var o=$B(ty.wd);this.rJ=new ZB(o)}},A(t,[{key:"RC",get:function(){for(var t=[],n=0,i=this.iJ;n<i.length;n++){var e=i[n],r=this.eJ.get(e).map(function(t){return t.uJ});t.push.apply(t,r)}return this.rJ&&t.push(this.rJ),t}}]),t}(),aJ:function(){function t(n){var i=this;this.hJ=new JR,this.cJ=function(){var n,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.pC.TD(ty.wd),e=n.SD,s.next=4,Dr.awrap(t.fJ(e));case 4:return r=s.sent,s.next=7,Dr.awrap(i.pC.VD(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,We)},this.pC=n}var n=t.prototype;return n.lX=function(){return this.hJ.ZU(this.cJ)},n.Xm=function(){this.pC.IC()},t.fJ=function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!M.En&&!M.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Dr.awrap(t.vJ());case 5:return i.next=7,Dr.awrap(t.lJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Dr.awrap(t.dJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,We)},t.lJ=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,j(n)){e.next=4;break}return e.abrupt("return",!M.dn);case 4:return i=fu(100),e.next=7,Dr.awrap(We.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],We)},t.dJ=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Dr.awrap(t.lJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,We)},t.vJ=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Sd=function(){this.hJ.Sd()},t}(),wJ:{uO:function(t){le.addEventListener("beforeunload",t)},gO:function(t){le.removeEventListener("beforeunload",t)}},_J:r}).tJ,fe=iO.aJ,ve=iO.wJ,le=iO._J,de=le&&le.location,we=le&&le.navigator,function(t){t.gJ="currentbufferingrenditionchange",t.mJ="yJ",t.kJ="pJ",t.bJ="AJ"}(eO||(eO={})),function(t){t[t.dd=0]="dd",t[t.wd=1]="wd",t[t.Qb=2]="Qb",t[t.TJ=3]="TJ"}(rO||(rO={}));var cO,fO,vO,lO=[rO.dd,rO.wd,rO.Qb,rO.TJ];function dO(t){return t?t.SJ?t.Ai+"@"+t.SJ.RN+"-"+(null!=(n=t.SJ.b_)?n:""):""+t.Ai:"";var n}function wO(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.SJ)return!0;if(n.SJ){var i=oO(t.SJ.RN,t.SJ.b_),e=oO(n.SJ.RN,n.SJ.b_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function _O(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.SJ)===Boolean(n.SJ)&&(!t.SJ||!n.SJ||t.SJ.RN===n.SJ.RN&&t.SJ.b_===n.SJ.b_))}function gO(t){var n=!!t.EJ||void 0;return{P_:t.P_,IJ:t.IJ,QD:t.QD,RJ:t.RJ,Hg:t.Hg,DJ:t.DJ,EJ:n,NJ:t.CJ,PJ:t.BJ,OJ:t.OJ,xJ:t.xJ}}!function(t){t[t.LJ=0]="LJ",t[t.MJ=1]="MJ"}(cO||(cO={})),function(t){t[t.wN=0]="wN",t[t.UJ=1]="UJ",t[t.XJ=2]="XJ"}(fO||(fO={})),function(t){t[t.Kl=0]="Kl",t[t.HJ=1]="HJ",t[t.FJ=2]="FJ"}(vO||(vO={}));var mO=function(t,n){this.B_=void 0,this.zJ=void 0,this.fs=void 0,this.VJ=void 0,this.WJ=void 0,this.GJ=void 0,this.wi=void 0,this.L_=void 0,this.qJ=void 0,this.YJ=void 0,this.jJ=void 0,this.B_=hy(),this.zJ=n,this.fs=t.fs,this.VJ=t.VJ,this.WJ=t.WJ,this.GJ=t.GJ,this.wi=t.wi,this.L_=t.L_,this.qJ=t.qJ,this.YJ=t.YJ,this.jJ=void 0===t.QJ};function yO(t,n){return t.fs===n.fs&&(t.wi===n.wi||!(!kO(t)||!kO(n)))}function kO(t){return t.fs===rO.wd&&t.VJ&&t.jJ&&void 0===t.L_}function pO(t,n){return t.zJ===n.zJ}function bO(t,n){for(var i=0;i<t.length;i++){if(pO(t[i],n))return!0}return!1}var AO,TO,SO=function(t){function n(n,i){var e;return(e=t.call(this,Z_.l_)||this).M_=void 0,e.Yw=void 0,e.M_=n||[],e.Yw=i,e}return S(n,t),n.prototype.qw=function(){return new EO(this.M_.map(function(t){return t.Gw}))},n}(j_),EO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(gu);!function(t){t.ZJ="alternative",t.KJ="main",t.JJ="commentary",t.$J="",t.tE="descriptions",t.t$="main-desc",t.n$="translation"}(AO||(AO={})),function(t){t.ZJ="alternative",t.KJ="main",t.JJ="commentary",t.$J="",t.$S="captions",t.i$="sign",t.Qb="subtitles"}(TO||(TO={}));var IO=function(t){function n(n,i,e){var r;return(r=t.call(this,Z_.f_)||this).e$=n,r.r$=i,r.s$=e,r}return S(n,t),n.prototype.qw=function(){return new RO(this.e$&&this.e$.Gw)},n}(j_),RO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(gu);function DO(t){return{NR:t.NR,$e:t.HF,sT:NO(t)?t.sT:0,fs:NO(t)?ty.wd:ty.dd,Tk:NO(t)?t.Tk:0}}function NO(t){var n=t;return void 0!==n.sT&&void 0!==n.Tk}var CO,PO=function(t){function n(){return t.call(this,Z_.NO_QUALITY)||this}return S(n,t),n}(gu),BO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Ry=void 0,u.oa=void 0,u.u$=void 0,u.o$=void 0,u.a$=void 0,u.Ww=void 0,u.Dy=void 0,u.h$=function(){var t=u.N_;t&&u.o$!==t&&(u.o$=t,u.Qs(new IO(t)))},u.c$=function(){var t=u.C_;u.a$!==t&&(u.a$=t,u.f$.Qs(new rg(Kt(u))),u.Qs(new rg(Kt(u))))},u.mN=n,u.f$=i,u.M_=e,u.o$=u.N_,u.a$=u.C_;var o=e.__(0);return u.Ry=null!=(r=null==o?void 0:o.v$.wi)?r:"",u.oa=null!=(s=null==o?void 0:o.v$.L_)?s:"",u.Dy=uy(),u.mN.Zs(eO.gJ,u.h$),u.mN.Zs(eO.mJ,u.c$),u}S(n,t);var e=n.prototype;return e.Py=function(t){this.C_=t},e.Sd=function(){this.$s(),this.mN.tu(eO.gJ,this.h$),this.mN.tu(eO.mJ,this.c$);for(var t=0,n=this.M_.p_;t<n.length;t++){n[t].Sd()}this.M_.k_()},A(n,[{key:"C_",get:function(){var t=this.l$();if(!t)return!1;for(var n=0,i=this.M_.p_;n<i.length;n++){if(i[n].v$===t)return!0}return!1},set:function(t){if(t!==this.C_&&t){for(var n=this.M_.__(0).v$,i=this.mN.d$,e=0,r=this.M_.p_;e<r.length;e++){var s=r[e];if(s.w$===i){n=s.v$;break}}this._$(n)}}},{key:"N_",get:function(){if(this.C_)for(var t=this.mN.g$,n=0,i=this.M_.p_;n<i.length;n++){var e=i[n];if(bO(t,e.v$))return e}}},{key:"Gw",get:function(){return this.Ww||(this.Ww=Ag(this)),this.Ww}},{key:"P_",get:function(){return this.Dy.toString()}},{key:"B_",get:function(){return this.Dy}},{key:"x_",get:function(){return this.Ry},set:function(t){t!==this.Ry&&(this.Ry=t,this.Qs(new ey(this)))}},{key:"L_",get:function(){return this.oa}},{key:"W_",get:function(){return this.C_?"enabled":"disabled"}},{key:"U_",get:function(){return this.u$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.N_?DO(n.N_):void 0;return i.Lr.Me(e,DO(t))}).filter(function(i){return n.M_.Ey(t)&&i.KK}):e=this.M_.p_.filter(function(t){return t.KK});0!==e.length?t!==this.u$&&(this.u$&&Vs(this.u$,e)||(this.u$=t?e:void 0,this.mN.m$(e.map(function(t){return t.w$})),1===e.length&&hu(this.mN.y$(e[0].w$,!1)),this.Qs(new SO(e,this)))):this.Qs(new PO)}}]),n}(wu),OO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.l$=function(){return this.mN.k$},i._$=function(t){hu(this.mN.p$(t))},A(n,[{key:"O_",get:function(){return AO.KJ}}]),n}(BO),xO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.l$=function(){return this.mN.b$},i._$=function(t){hu(this.mN.A$(t))},A(n,[{key:"O_",get:function(){return TO.KJ}}]),n}(BO),LO=function(t){function n(n,i){var e;return(e=t.call(this)||this).KK=!0,e.w$=n,e.v$=i,e}S(n,t);var i=n.prototype;return i.hE=function(){},i.Sd=function(){this.$s()},A(n,[{key:"P_",get:function(){return String(this.w$.P_)}},{key:"B_",get:function(){return this.w$.P_}},{key:"NR",get:function(){return this.w$.NR}},{key:"jK",get:function(){return this.w$.jK}},{key:"x_",get:function(){return this.v$.wi}},{key:"QJ",get:function(){return this.v$.zJ.T$()}}]),n}(wu),MO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return S(n,t),n.prototype.qw=function(){return uO(this)},A(n,[{key:"JK",get:function(){return 0}},{key:"HF",get:function(){var t;return(null==(t=this.w$.HF)?void 0:t.XF)||""}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(LO),UO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Ww=void 0,e}return S(n,t),n.prototype.qw=function(){return sO(this)},A(n,[{key:"HF",get:function(){var t;return(null==(t=this.w$.HF)?void 0:t.UF)||""}},{key:"ZK",get:function(){return 0}},{key:"QK",get:function(){return 0}},{key:"sT",get:function(){var t,n;return null!=(t=null==(n=this.w$.S$)?void 0:n.sT)?t:0}},{key:"Tk",get:function(){var t,n;return null!=(t=null==(n=this.w$.S$)?void 0:n.Tk)?t:0}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),n}(LO);!function(t){t.E$="FATAL",t.z_="ERROR",t.I$="WARNING",t.R$="INFO",t.D$="DEBUG"}(CO||(CO={}));var XO,HO=new(function(){function t(){this.C_=function(){return!1}}var n=t.prototype;return n.N$=function(t){if(!this.C_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.C$=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[CO.D$+" "+t+" -"].concat(e))}},n.cT=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[CO.R$+" "+t+" -"].concat(e))}},n.P$=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[CO.I$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[CO.z_+" "+t+" -"].concat(e))}},n.B$=function(t){if(this.N$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[CO.E$+" "+t+" -"].concat(e))}},t}()),FO="HLSPlaylistParser",zO=function(){function t(t,n,i){this.mN=t,this.O$=n,this.x$=i}var n=t.prototype;return n.L$=function(){var t,n,i=null==(t=this.mN.M$)?void 0:t.U$;if(i&&0!==i.length){for(var e=null!=(n=xs(i,function(t){return 0!==t.X$.length&&0!==t.H$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.X$;s<u.length;s++){var o=u[s],a=new iy,h=[];a.Sy(new MO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],v=0,l=f.X$;v<l.length;v++){var d=l[v];if(yO(d,o)&&!bO(h,d)){a.Sy(new MO(f,d)),h.push(d);break}}this.O$.g_(new OO(this.mN,this.O$,a))}for(var w=0,_=e.H$;w<_.length;w++){var g=_[w],m=new iy,y=[];m.Sy(new UO(e,g)),y.push(g);for(var k=0;k<r.length;k++)for(var p=r[k],b=0,A=p.H$;b<A.length;b++){var T=A[b];if(yO(T,g)&&!bO(y,T)){m.Sy(new UO(p,T)),y.push(T);break}}this.x$.g_(new xO(this.mN,this.x$,m))}}else HO.P$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.F$=function(){this.z$(this.O$),this.z$(this.x$)},n.z$=function(t){for(var n=[],i=0,e=t.p_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.M_.p_;u<o.length;u++){var a=o[u];Hs(a.w$.V$,a.v$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.M_.Qh(c),c.Sd()}0===r.M_.b_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.m_(v),v.Sd()}},t}(),VO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).TC=void 0,e.TC=i,e}return S(n,t),n.prototype.Yl=function(t){var n,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new rw(t),e=this.TC.Jx.DR(n)){o.next=4;break}return o.abrupt("return",this.lE.Yl(n));case 4:return e.$x(i.ir()/1e3),o.next=7,Dr.awrap(this.lE.Yl(t));case 7:return r=o.sent,e.tL(i.ir()/1e3),s=r.Dl().pipeThrough(new md(new WO(e))),u={Fi:s,Yl:r.Yl},o.abrupt("return",new ew(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.lE=void 0,this.lE=t}var n=t.prototype;return n.Yl=function(t){return this.lE.Yl(t)},n.Td=function(t){this.lE.Td(t)},n.Sd=function(){this.lE.Sd()},t}()),WO=function(){function t(t){this.qM=void 0,this.W$=t}var n=t.prototype;return n.start=function(t){this.qM=t},n.transform=function(t){this.W$.nL(i.ir()/1e3,t),this.qM.enqueue(t)},n.flush=function(){this.W$.iL(i.ir()/1e3)},t}(),GO=function(){function t(t){this.G$=void 0,this.q$=0,this.Y$=0,this.G$=w.exp(w.log(.5)/t)}var n=t.prototype;return n.j$=function(t,n){var i=w.pow(this.G$,t),e=n*(1-i)+i*this.q$;m(e)||(this.q$=e,this.Y$+=t)},n.PX=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.G$)if(0!==this.Y$){var i=this.oK,e=1-w.pow(n,this.Y$);this.q$=i*e,this.G$=n}else this.G$=n},A(t,[{key:"oK",get:function(){var t=1-w.pow(this.G$,this.Y$);return this.q$/t}}]),t}();!function(t){t.Q$="sample"}(XO||(XO={}));var qO=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.Z$),void 0===s&&(s=n.K$),(u=t.call(this)||this).J$=void 0,u.n0=void 0,u.i0=0,u.e0=void 0,u.r0=void 0,u.r0=r,u.J$=new GO(i),u.n0=new GO(e),u.e0=s,u}S(n,t);var i=n.prototype;return i.s0=function(t,n,i){if(0!==t){var e=8*n/t;this.J$.j$(i,e),this.n0.j$(i,e),this.i0+=n,this.Qs(new gu(XO.Q$))}},i.u0=function(){return this.i0>=this.r0},A(n,[{key:"oK",get:function(){return this.u0()?w.min(this.J$.oK,this.n0.oK):this.e0}}]),n}(wu);qO.Z$=128e3,qO.K$=5e5;var YO=function(){function t(n,i,e,r){void 0===n&&(n=t.o0),void 0===i&&(i=t.a0),void 0===e&&(e=t.K$),void 0===r&&(r=!1),this.J$=void 0,this.n0=void 0,this.h0=0,this.c0=[],this.f0=void 0,this.v0=6e4,this.l0=10,this.d0=void 0,this.w0=void 0,this.e0=void 0,this._0=void 0,this.d0=n,this.w0=i,this.e0=e,this._0=r,this.J$=new GO(n),this.n0=new GO(i)}var n=t.prototype;return n.j$=function(t){var n=i.ir(),e=t;this._0&&void 0!==this.f0&&n-this.f0>=this.v0&&this.k_(),this.h0+=1,this.J$.j$(1,e),this.n0.j$(1,e),this.c0.push(e),this.c0.length>this.l0&&this.c0.shift(),this.f0=n},n.u0=function(){return void 0!==this.f0&&i.ir()-this.f0<=this.v0},n.k_=function(){this.J$=new GO(this.d0),this.n0=new GO(this.w0),this.h0=0,this.c0=[],this.f0=void 0},A(t,[{key:"oK",get:function(){return this.u0()?w.max(this.J$.oK,this.n0.oK):this.e0}}]),t}();YO.o0=2,YO.a0=5,YO.K$=.1;var jO=function(){function t(t){this.g0=t}var n=t.prototype;return n.$x=function(t){for(var n=0,i=this.g0;n<i.length;n++){i[n].$x(t)}},n.tL=function(t){for(var n=0,i=this.g0;n<i.length;n++){i[n].tL(t)}},n.nL=function(t,n){for(var i=0,e=this.g0;i<e.length;i++){e[i].nL(t,n)}},n.iL=function(t){for(var n=0,i=this.g0;n<i.length;n++){i[n].iL(t)}},t}(),QO=function(){function t(t){this.m0=void 0,this.y0=void 0,this.m0=t}var n=t.prototype;return n.$x=function(t){this.y0=t},n.tL=function(t){this.m0.j$(t-this.y0)},n.nL=function(t){},n.iL=function(t){},t}(),ZO=function(){function t(t){this.k0=void 0,this.p0=void 0,this.b0=[],this.k0=t}var n=t.prototype;return n.nL=function(t,n){if(void 0!==this.p0){var i=t-this.p0,e=this.b0.length>0?this.b0.reduce(function(t,n){return n+t},0)/this.b0.length:0;i>e/2&&i<e+e/2&&this.k0.j$(i,n.length),this.b0.push(i),this.b0.length>100&&this.b0.shift(),this.p0=t}else this.p0=t},n.$x=function(t){},n.tL=function(t){},n.iL=function(t){},t}(),KO=function(){function t(t,n){void 0===n&&(n=0),this.k0=void 0,this.A0=void 0,this.T0=new JO,this.DG=0,this.S0=0,this.k0=t,this.A0=n}var n=t.prototype;return n.$x=function(t){},n.nL=function(t,n){var e=n.byteLength,r=this.S0;this.S0=e;var s=t-this.DG;this.DG=t,this.T0.TH(n);var u=!this.T0.E0(),o=e>=this.A0;r!==i.Lr.Qe&&u&&o&&this.k0.j$(s,e)},n.tL=function(t){this.DG=t},n.iL=function(t){},t}(),JO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).I0=void 0,n.R0=!1,n}S(n,t);var i=n.prototype;return i.E0=function(){return this.R0},i.TH=function(n){this.R0=!1,t.prototype.TH.call(this,n)},i.bH=function(n,i){this.I0&&this.I0!==uk.Fb||(this.R0=!0),t.prototype.bH.call(this,n,i),this.I0=n},i.PH=function(t){return!1},i.OH=function(t){},i.xH=function(t){},n}(PD),$O=function(t){function n(i,e,r,s){return void 0===i&&(i=n.o0),void 0===e&&(e=n.a0),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.j$=function(t,n){this.s0(t,n,t)},n}(qO);$O.o0=.5,$O.a0=5;var tx=function(){function t(t){this.k0=void 0,this.D0=void 0;var n=t.NR>0?t.NR:qO.K$,i=t.PR>0?t.PR:YO.K$;this.k0=new $O($O.o0,$O.a0,1,n),this.D0=new YO(YO.o0,YO.a0,i)}var n=t.prototype;return n.DR=function(t){if("segment"===t.fs)return new jO([new QO(this.D0),new ZO(this.k0),new jO([new ZO(this.k0),new KO(this.k0,1e3)])])},n.N0=function(t){this.k0=new $O($O.o0,$O.a0,1,t)},A(t,[{key:"NR",get:function(){return this.k0.oK}},{key:"PR",get:function(){return this.D0.oK}}]),t}(),nx=function(t){function n(n){var i;return(i=t.call(this,eO.bJ)||this).mu=n,i}return S(n,t),n}(gu),ix=function(){function t(t){this.uJ=t}return t.prototype.XX=function(t){var n={fs:nb.bE,ND:[],dW:[{Nl:t}]};return We.resolve(void 0!==this.uJ.XX([n]))},t}(),ex=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Hs(r,t)||1.1*t.NR<=i.NR}))},rx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Hs(r,t))return!0;for(var s=1/0,u=0,o=t.V$;u<o.length;u++){var a,h,c=o[u];s=w.min(s,null!=(a=null!=(h=c.zJ.C0)?h:c.zJ.P0)?a:1/0)}s===1/0&&(s=1);var f=3*i.PR+t.NR*s/i.NR;return t.NR<=n.NR||e>f}))},sx=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){return n.NR-t.NR}))},ux=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.B0&&!m(t.B0)})?Is(t,function(t,n){return n.B0-t.B0}):t)},ox=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){var i=Hs(r,t)?1:0;return(Hs(r,t)?1:0)-i}))},ax=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.HF||!n.HF||(t.HF.UF?!!n.HF.UF&&(t.HF.UF.split(".")[0]===n.HF.UF.split(".")[0]&&(t.HF.XF?!!n.HF.XF&&(t.HF.XF.split(".")[0]===n.HF.XF.split(".")[0]&&t.HF.FF===n.HF.FF):!n.HF.XF)):!n.HF.UF)}))},hx=function(){function t(t){this.O0=[ax,ex,rx,sx,ux,ox],this.TC=t}var n=t.prototype;return n.x0=function(t){this.O0=t},n.L0=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:HO.C$("AbrEvaluator","Performing optimal variant stream selection."),r=this.M0,s=t,u=0,o=this.O0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Dr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return HO.P$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Gs(t,function(t){return t.NR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,We)},A(t,[{key:"M0",get:function(){return this.TC.Jx}}]),t}();function cx(t,n,i,e){var r=[],s=xs(i,function(t){return t.U0===Vr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.U0!==Vr)for(var h=0,c=cs(a.U0);h<c.length;h++){var f=c[h];r.push({ec:f,MR:a.X0?[a.X0]:[],KI:void 0})}}if(r.length)return{HE:t,H0:{F0:u,FE:s.FE},z0:r,V0:n===ty.dd?e.slice():[],W0:n===ty.wd?e.slice():[],Dq:!1}}}}function fx(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Pr();return vx(e,r,t.z0),vx(e,r,n.z0),{HE:t.HE,H0:{F0:t.H0.F0,FE:null!=(i=t.H0.FE)?i:n.H0.FE},z0:e,V0:lx(t.V0,n.V0,Hs),W0:lx(t.W0,n.W0,Hs),Dq:t.Dq||n.Dq||!1}}function vx(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ec._s,u=void 0;n.has(s)?(u=n.get(s)).MR=lx(u.MR,r.MR,dx):(u=Nr({},r),t.push(u),n.set(s,u))}}function lx(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function dx(t,n){for(var i=0;i<t.length;i++){if(Mu(t[i],n))return!0}return!1}function wx(t,n){var i,e=t.G0;if(e){for(var r=t.YB,s=[],u=0,o=t.HF;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=cx(n||{},t.fs,e,s)}for(var h=0,c=t.q0;h<c.length;h++){i=fx(i,_x(c[h],n))}return i}function _x(t,n){return cx(n||{},t.fs,t.G0||[],[t.Nl])}function gx(t,n){switch(n.fs){case zr.$r:return t.widevine;case zr.Jr:return t.playready;case zr.us:return t.fairplay;case zr.rs:return t.clearkey}}function mx(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function yx(t,n,i,e){var r,s,u,o,a,h,c,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return",[]);case 2:return r=n.filter(function(t){return vs(t,"audio")}),s=n.filter(function(t){return vs(t,"video")}),u=[],o=i.map(function(t){return kx(t,e)}),l.next=8,Dr.awrap(We.all(o));case 8:for(a=l.sent.filter(H),h=bx(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],v=gx(t,f.ec),"cbcs",u.push({ec:f.ec,MR:f.MR,KI:f.KI,WD:[{initDataTypes:[f.ec.ls],audioCapabilities:mx(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:mx(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return l.abrupt("return",u);case 12:case"end":return l.stop()}},null,null,null,We)}function kx(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.QJ){s.next=2;break}return s.abrupt("return");case 2:if(t.Y0){s.next=4;break}return s.abrupt("return");case 4:if(t.md===fO.XJ){s.next=6;break}return s.abrupt("return");case 6:if(i=px(t.Y0)){s.next=9;break}return s.abrupt("return");case 9:if(i._s!==ns){s.next=13;break}return s.abrupt("return",{ec:i,MR:[],KI:t.QJ});case 13:return HO.cT("HLSDrmUtils","Fetching key uri "+t.QJ+"."),s.next=16,Dr.awrap(n.Yl({Ql:t.QJ}));case 16:return e=s.sent,s.next=19,Dr.awrap(e.Rl());case 19:return r=s.sent,s.abrupt("return",{ec:i,MR:[r],KI:void 0});case 21:case"end":return s.stop()}},null,null,null,We)}function px(t){return t===Kr?ss:t===Qr?rs:t===es?os:void 0}function bx(t,n){var i=function(t){var i=n.indexOf(t.ec._s);return i>=0?i:n.length};return Is(t,function(t,n){return i(t)-i(n)})}function Ax(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function Tx(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Sx(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Ex(t){var n=Cx(Sx(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function Ix(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:HO.P$(FO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function Rx(t,n){var e,r,s=Ix(t);try{e=s.URI?i.Or(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return rO.dd;case"VIDEO":return rO.wd;case"SUBTITLES":return rO.Qb;case"CLOSED-CAPTIONS":return rO.TJ}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,l="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,_=s.CHANNELS;if(u||HO.P$(FO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||HO.P$(FO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||HO.P$(FO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===rO.TJ?(e&&HO.P$(FO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||HO.P$(FO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):HO.P$(FO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&HO.P$(FO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&HO.P$(FO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===rO.Qb&&s.FORCED&&HO.P$(FO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{j0:a,Q0:_,Z0:w,qJ:u,WJ:f,VJ:c,GJ:l,YJ:d,L_:o,wi:h,fs:r,QJ:e}}function Dx(t,n,e){var r,s,u,o=Ix(t);try{r=i.Or(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Tk:i,sT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ls(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ls(o,"avc")||ls(o,"hvc1")||ls(o,"hev1")||ls(o,"dvh")?i=u:e=e?e+","+o:o}return{XF:n,UF:i,FF:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=Cx(o.BANDWIDTH),h=Cx(o["AVERAGE-BANDWIDTH"]),c=Cx(o.SCORE),f=Cx(o["FRAME-RATE"]),l=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=o["VIDEO-RANGE"],g=o.AUDIO,y=o.VIDEO,k=o.SUBTITLES,p=o["CLOSED-CAPTIONS"];if(void 0===a?HO.P$(FO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&HO.P$(FO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||HO.cT(FO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.UF&&void 0===u&&HO.cT(FO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Hs(["TYPE-0","TYPE-1","NONE"],l)||HO.P$(FO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Hs(["SDR","PQ","HLG"],_)||HO.P$(FO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{K0:d,J0:g,jK:h,NR:a,$0:p,HF:s,QK:f,n1:l,S$:u,B0:c,i1:k,QJ:r,e1:y,s1:_}}function Nx(t,n){var i=Ix(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return Dx(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Cx(t){var n=Number(t);return m(n)?void 0:n}function Px(t,n){var i,e,r=Ix(t);try{i=function(t){switch(t){case"NONE":return fO.wN;case"AES-128":return fO.UJ;case"SAMPLE-AES":return fO.XJ;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?Hx(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,l=r.KEYFORMATVERSIONS;if(i!==fO.wN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(px(o)!==ss)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=fO.XJ}else s=i;u=e,a=f?Wo(f):void 0,h=l?l.split("/").map(function(t){return Number(t)}):[1]}else s=fO.wN,(e||c||l||f)&&HO.P$(FO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{md:s,QJ:u,u1:a,Y0:o,o1:h}}function Bx(t){var n=Sx(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[Cx(e),r]}function Ox(t,n){var i=t.split("@"),e=Cx(i[0]),r=i.length>1?Cx(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{RN:r,b_:e}}function xx(t){if(void 0!==t)return Ox(t,void 0)}function Lx(t,n){return Ox(Sx(t),n)}function Mx(t,n){var i=Ix(t);try{return{Ai:Hx(i.URI,n),SJ:xx(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function Ux(t){var n=Sx(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function Xx(t){var n,i,e,r=Ix(t),s=r["START-DATE"],u=r["END-DATE"],o=Cx(r["PLANNED-DURATION"]),a=Cx(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Wo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Wo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Wo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ls(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)HO.P$(FO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||HO.P$(FO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var g=new Date(h.getTime()+1e3*a);c?c.getTime()!==g.getTime()&&(HO.P$(FO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=g):c=g}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||HO.P$(FO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&HO.P$(FO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&HO.P$(FO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&HO.P$(FO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{P_:w,IJ:_,QD:h,RJ:c,Hg:a,DJ:o,BJ:n,xJ:i,OJ:e,EJ:f,CJ:l}}function Hx(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Or(t,n)}function Fx(t,n){var i=Ix(t),e=Cx(i.DURATION),r=Hx(i.URI,n),s=xx(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Hg:e,QJ:{Ai:r,SJ:s},a1:u,h1:o}}function zx(t){var n=Ix(t);return{c1:"YES"===n["CAN-BLOCK-RELOAD"],f1:Cx(n["CAN-SKIP-UNTIL"]),v1:"YES"===n["CAN-SKIP-DATERANGES"],l1:Cx(n["HOLD-BACK"]),d1:Cx(n["PART-HOLD-BACK"])}}function Vx(t,n){var i=Ix(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=Hx(i.URI,n),r=Cx(i["LAST-MSN"]),s=Cx(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{QJ:e,w1:r,_1:s}}function Wx(t,n){var i,e=Ix(t),r=Cx(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{g1:r,m1:s,b1:n}}function Gx(t){var n=Cx(Ix(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function qx(t){switch(Sx(t)){case"VOD":return vO.HJ;case"EVENT":return vO.FJ;default:return HO.P$(FO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),vO.Kl}}function Yx(t,n){var i,e,r=Ix(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return cO.LJ;if("PART"===t)return cO.MJ;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=Hx(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=Cx(r["BYTERANGE-START"]),o=Cx(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={RN:u||0,b_:o}),{fs:i,QJ:{Ai:e,SJ:s}}}var jx=function(){function t(n){this.A1=0,this.T1=void 0,this.T1=t.S1(n)}var n=t.prototype;return n.E1=function(){var t=this.T1[this.A1];return this.A1+=1,t},n.I1=function(){return this.T1[this.A1]},n.Lu=function(){var n=new t("");return n.A1=0,n.T1=this.T1.slice(this.A1),n},t.S1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function Qx(t,n,i){var e=t.QJ,r=t.EA,s=t.R1,u=t.RN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=Ex(t);return m(n)?(HO.P$(FO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=Ix(t),i=Cx(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{D1:i,N1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":HO.P$(FO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:HO.cT(FO,"Ignoring unrecognized line or comment: "+n+".")}return{QJ:e,EA:r,R1:s,RN:u}}function Zx(t,n){return t.map(function(t){return t.md===fO.wN||t.u1?t:Nr({},t,{u1:Kx(n)})})}function Kx(t){var n=new DataView(new ArrayBuffer(16)),i=new Vo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;vo(t,n,e?s:r,e),vo(t,n,u,e)}(n,i,ft.fromNumber(t)),new y(n.buffer)}function Jx(t,n,e){HO.cT(FO,"Parsing M3U8 playlist at "+t+".");var r=new jx(e);if("#EXTM3U"!==r.E1())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Or(t)}catch(n){throw HO.P$(FO,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={QJ:r,R1:void 0,RN:void 0,EA:void 0},u=[],o=[],a=[],h=[];;){var c=n.E1();if(!c)break;try{var f=Ax(c);switch(f){case"#EXT-X-MEDIA":var l=Rx(c,r);u.push(l);break;case"#EXT-X-STREAM-INF":var d=Dx(c,r,n.E1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=Nx(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":HO.P$(FO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var _=Px(c,r);h.push(_);break;default:s=Qx(s,c,f)}}catch(t){HO.P$(FO,"Ignoring unparsable line: "+c,t)}}var g=s.EA,m=null!=(e=s.R1)&&e,y=s.RN;return void 0===g&&(HO.P$(FO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.B0})||a.some(function(t){return void 0!==t.B0}))&&(o.some(function(t){return void 0===t.B0})||a.some(function(t){return void 0===t.B0}))&&HO.P$(FO,"If one master playlist variant stream has a SCORE, all variants should have it."),{QJ:r,EA:g,R1:m,RN:y,C1:a,P1:h,JA:u,B1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,l,d,w,_,g,m,y,k,p,b,A,T={QJ:t,R1:void 0,RN:void 0,EA:void 0},S=[],E=!1,I=!1,R=[],D=Pr(),N=[],C=[],P=!1,B=!1,O=[],x=[],L=0,M=!1,U=vO.Kl,X=!1,H=0;try{A=i.Or(t)}catch(n){throw HO.P$(FO,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=e.Lu();void 0===k||void 0===p;){var z=F.E1();if(!z)break;try{switch(Tx(z)){case"#EXT-X-MEDIA-SEQUENCE":k=Ex(z);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=Ex(z)}}catch(t){HO.P$(FO,"Ignoring unparsable line: "+z,t)}}void 0===k&&(HO.cT(FO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===p&&(HO.cT(FO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var V=k,W=p;;){var G=e.E1();if(!G)break;var q=!1;try{var Y=Tx(G);switch(Y){case"#EXTINF":q=!0;var j=Bx(G);h=j[0],c=j[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=Lx(G,L))&&(L=f.RN+f.b_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,W++;break;case"#EXT-X-KEY":var Q,Z;q=!0;var K=Px(G,A);if(K.md===fO.wN){D.clear(),m=void 0;break}var J=null!=(Q=null==(Z=K.Y0)?void 0:Z.toString())?Q:"identity";D.set(J,K),K.md===fO.UJ&&(m=K);break;case"#EXT-X-MAP":q=!0,d=Mx(G,A),w=m;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,_=Ux(G);break;case"#EXT-X-GAP":q=!0,B=!0;break;case"#EXT-X-BITRATE":q=!0,g=Ex(G);break;case"#EXT-X-TARGETDURATION":s=Ex(G);break;case"#EXT-X-DATERANGE":var $=Xx(G);S.push($);break;case"#EXT-X-PART":q=!0;var tt=Fx(G,A);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=Yx(G,A);O.push(nt);break;case"#EXT-X-SKIP":R.length>0&&HO.P$(FO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=Wx(G,V);H=it.g1,b=it.m1,V+=it.g1;break;case"#EXT-X-SERVER-CONTROL":var et=zx(G);E=et.c1,u=et.f1,I=et.v1,o=et.l1,a=et.d1;break;case"#EXT-X-RENDITION-REPORT":var rt=Vx(G,A);x.push(rt);break;case"#EXT-X-PART-INF":y=Gx(G);break;case"#EXT-X-MEDIA-SEQUENCE":q&&HO.P$(FO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&HO.P$(FO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":U=qx(G);break;case"#EXT-X-I-FRAMES-ONLY":X=!0;break;default:if(ls(Y,"#"))T=Qx(T,G,Y);else{l=i.Or(G,A);var st=d?{QJ:d,O1:w}:void 0,ut={P1:Zx(xr(D),V),QS:N,L1:C,Hg:h,BD:c,M1:P,QJ:{SJ:f,Ai:l},U1:st,X1:_,h1:B,H1:g,b1:V,F1:W};R.push(ut),V++,N=[],C=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,l=void 0,_=void 0,B=!1,g=void 0}}}catch(t){HO.P$(FO,"Ignoring unparsable line: "+G,t)}}if(C.length){var ot=d?{QJ:d,O1:m}:void 0,at={P1:Zx(xr(D),V),QS:N,L1:C,Hg:h,BD:c,M1:P,QJ:void 0,U1:ot,X1:_,h1:B,H1:g,b1:V,F1:W};R.push(at)}var ht=T.EA,ct=null!=(r=T.R1)&&r,ft=T.RN;void 0===ht&&(HO.P$(FO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&HO.P$(FO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,lt=vt>0;lt||HO.P$(FO,"The HLS media playlist contains no segments.");var dt=lt&&R[vt-1].L1.length>0;return dt&&void 0===y&&HO.P$(FO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&HO.P$(FO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{c1:E,f1:u,v1:I,z1:S,F1:p,V1:M,R1:ct,l1:o,W1:X,b1:k,g1:H,d1:a,C0:y,G1:U,q1:O,m1:b,Y1:x,j1:s,$K:R,RN:ft,QJ:A,Q1:n,EA:ht}}(t,n,r)}var $x=function(){function t(t,n,i){var e,r,s,u;this.P_=tL++,this.zJ=void 0,this.NR=void 0,this.B0=void 0,this.S$=void 0,this.J0=void 0,this.e1=void 0,this.i1=void 0,this.$0=void 0,this.Z1=void 0,this.K1=void 0,this.J1=[],this.zJ=n,this.NR=t.NR,this.Z1=t.jK,this.B0=t.B0,this.K1=t.HF?nL(t.HF):void 0,this.S$=t.S$,this.J0=null!=(e=t.J0)?e:"n2"+this.P_,this.e1=null!=(r=t.e1)?r:"i2"+this.P_,this.i1=null!=(s=t.i1)?s:"e2"+this.P_,this.$0=null!=(u=t.$0)?u:"s2"+this.P_,this.J1=i}var n=t.prototype;return n.u2=function(t){for(var n=0,i=this.J1;n<i.length;n++){var e=i[n].zJ.u2(t);if(void 0!==e)return e}},n.o2=function(t){for(var n=0,i=this.J1;n<i.length;n++){var e=i[n].zJ.o2(t);if(void 0!==e)return e}},n.a2=function(t){for(var n=0,i=this.J1;n<i.length;n++){var e=i[n];if(e.fs===t&&e.jJ)return void Us(this.J1,e)}},A(t,[{key:"QJ",get:function(){return this.zJ.QJ}},{key:"HF",get:function(){return this.K1},set:function(t){this.K1=t?nL(t):void 0}},{key:"jK",get:function(){return this.Z1||this.NR}},{key:"h2",get:function(){var t,n;if(!this.J1.length)return uS.fC();var i=null!=(t=qs(this.J1,function(t){var n;return null!=(n=t.zJ.c2)?n:0}))?t:this.V$[0],e=i.zJ.$K;if(!e.length||e.length<2)return uS.fC();var r=i.zJ.V1?e[0].Vy:e[1].Vy,s=e[e.length-1],u=s.Vy+(null!=(n=s.Hg)?n:s.f2)-this.V$.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.zJ.d1)?e:n.zJ.l1)?i:0,t)},0);return u<r?uS.fC():new uS([r,u])}},{key:"V$",get:function(){return this.J1}},{key:"X$",get:function(){return this.J1.filter(function(t){return t.fs===rO.dd})}},{key:"H$",get:function(){return this.J1.filter(function(t){return t.fs===rO.wd})}},{key:"l2",get:function(){return this.J1.filter(function(t){return t.fs===rO.Qb})}},{key:"d2",get:function(){return this.J1.filter(function(t){return t.fs===rO.TJ})}}]),t}(),tL=0;function nL(t){return Nr({},t,{UF:t.UF?Lc(t.UF):void 0})}var iL=function(){function t(t,n,i,e,r){this.w2=void 0,this._2=void 0,this.Hg=void 0,this.QJ=void 0,this.a1=void 0,this.h1=void 0,this.g2=void 0,this.nk=void 0,this.m2=void 0,this.b2=void 0,this.w2=t,this._2=n,this.nk=i,this.g2=e,this.Hg=r.Hg,this.QJ=r.QJ,this.a1=r.a1,this.h1=r.h1}return t.prototype.A2=function(t,n){this.nk=t,this.g2=n},A(t,[{key:"Vy",get:function(){var t;return this.nk+(null!=(t=this.b2)?t:0)}},{key:"T2",get:function(){return this.g2}},{key:"P1",get:function(){return this.w2.P1}}]),t}();function eL(t){return void 0!==t.L1}var rL,sL=function(){function t(t,n,i,e){this.ua=void 0,this.X1=void 0,this.QJ=void 0,this.U1=void 0,this.h1=void 0,this.g2=void 0,this.b1=void 0,this.M1=void 0,this.F1=void 0,this.P1=void 0,this.nk=void 0,this.m2=void 0,this.S2=[],this.E2=0,this.I2=void 0,this.nk=t,this.U1=e.U1,this.g2=i,this.ua=e.Hg,this.X1=e.X1,this.QJ=e.QJ,this.h1=e.h1,this.b1=e.b1,this.M1=e.M1,this.F1=n,this.P1=e.P1,this.R2(e.L1)}var n=t.prototype;return n.D2=function(t){return this.S2[t]},n.N2=function(t){for(var n=0;n<this.S2.length;n++){var i=this.S2[n],e=i.Vy,r=e+i.Hg;if(e<=t&&t<=r)return t===r&&n+1<this.S2.length?this.S2[n+1]:i}},n.C2=function(t){for(var n=this.S2.length-1;n>=0;n--){var i=this.S2[n];if(i.Vy<=t)return i}},n.P2=function(t){for(var n=this.C2(t);n&&!n.a1&&n._2>0;)n=this.D2(n._2-1);return n},n.A2=function(t,n){this.g2=n,this.ua=t.Hg,this.R2(t.L1)},n.R2=function(t){this.S2.length>t.length&&(this.S2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.T2&&i===t.length-1,s=this.nk+n;if(i<this.S2.length)this.S2[i].A2(s,r);else{var u=new iL(this,i,s,r,e);this.S2.push(u)}n+=e.Hg}this.E2=n},n.B2=function(){zs(this.S2),this.E2=0},A(t,[{key:"Vy",get:function(){var t;return this.nk+(null!=(t=this.I2)?t:0)}},{key:"O2",get:function(){return this.nk}},{key:"Hg",get:function(){return this.ua}},{key:"T2",get:function(){return this.g2}},{key:"L1",get:function(){return this.S2}},{key:"f2",get:function(){return this.E2}},{key:"b2",get:function(){return this.I2},set:function(t){this.I2=t;for(var n=0,i=this.S2;n<i.length;n++){i[n].b2=t}}}]),t}();!function(t){t.L2="YES",t.M2="v2"}(rL||(rL={}));var uL=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}($t);var oL=function(t){function n(n,i){var e,r=aL(i,n.Hg,n.QD,n.RJ);return(e=t.call(this,i,r,void 0,!1,n.P_)||this).U2=void 0,e.X2=void 0,e.H2=void 0,e.ua=void 0,e.F2=void 0,e.z2=void 0,e.V2=void 0,e.W2=void 0,e.G2=void 0,e.q2=void 0,e.U2=n.IJ,e.X2=n.QD,e.H2=n.RJ,e.ua=n.Hg,e.F2=n.DJ,e.z2=Boolean(n.EJ),e.V2=n.NJ||{},e.W2=n.PJ,e.G2=n.OJ,e.q2=n.xJ,e.Y2(),e.j2(),e}S(n,t);var i=n.prototype;return i.Zh=function(t){var n=!1;void 0===this.U2&&void 0!==t.IJ&&(n=!0,this.U2=t.IJ),void 0===this.H2&&void 0!==t.RJ&&(n=!0,this.H2=t.RJ),void 0===this.ua&&void 0!==t.Hg&&(n=!0,this.ua=t.Hg),void 0===this.F2&&void 0!==t.DJ&&(n=!0,this.F2=t.DJ),!this.z2&&t.EJ&&(n=!0,this.z2=t.EJ),n=this.updateCustomAttributes(t,n),void 0===this.W2&&void 0!==t.PJ&&(n=!0,this.W2=t.PJ),void 0===this.G2&&void 0!==t.OJ&&(n=!0,this.G2=t.OJ),void 0===this.q2&&void 0!==t.xJ&&(n=!0,this.q2=t.xJ),this.Y2(),this.j2(),this.Q2(),n&&this.Qs(new Ny(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.NJ)for(var e=0,r=d.keys(t.NJ);e<r.length;e++){var s=r[e];void 0===this.V2[s]&&(i=!0,this.V2[s]=t.NJ[s])}return i},i.Y2=function(){this.ua&&!this.H2&&(this.H2=new Date(this.X2.getTime()+Gt(this.ua)))},i.j2=function(){this.H2&&!this.ua&&(this.ua=Wt(this.H2.getTime()-this.X2.getTime()))},i.Q2=function(){this.ek===1/0&&(this.H2||this.ua)&&(this.ek=aL(this.nk,this.ua,this.X2,this.H2))},A(n,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=hg(Iy(t=this),{get content(){return t.Gy},get class(){return t.IJ},get startDate(){return t.QD},get endDate(){return t.RJ},get duration(){return t.Hg},get plannedDuration(){return t.DJ},get endOnNext(){return t.EJ},get scte35Cmd(){return t.PJ},get scte35Out(){return t.OJ},get scte35In(){return t.xJ},get customAttributes(){return t.NJ}})),this.Ww}},{key:"IJ",get:function(){return this.U2}},{key:"QD",get:function(){return this.X2}},{key:"RJ",get:function(){return this.H2}},{key:"Hg",get:function(){return this.ua}},{key:"DJ",get:function(){return this.F2}},{key:"EJ",get:function(){return this.z2}},{key:"PJ",get:function(){return this.W2}},{key:"OJ",get:function(){return this.G2}},{key:"xJ",get:function(){return this.q2}},{key:"NJ",get:function(){return this.V2}}]),n}(Oy);function aL(t,n,i,e){return H(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var hL=function(t){function n(){return t.call(this,void 0,void 0,_y.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Zh=function(t,n){cL(this,fL(t),n)},i.mE=function(n){var i,e,r;i=this.j_.p_,e=n,(r=Ls(i,function(t){return t.IJ===e.IJ}))&&r.EJ&&r.Zh({P_:r.P_,RJ:e.QD}),t.prototype.mE.call(this,n)},n}(rP);function cL(t,n,i){for(var e=t.j_.p_,r=function(i){var r=e[i],s=xs(n,function(t){return t.P_===r.P_});s?r.Zh(s):t.sE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.QD;if(void 0!==a&&!t.WW(o.P_)){var h=i(a);t.mE(new oL(o,h))}}}function fL(t){for(var n=Pr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.P_)){var s=n.get(r.P_),u=Nr({},s,lg(r),{NJ:Nr({},s.NJ,r.NJ)});n.set(r.P_,u)}else n.set(r.P_,r),i.push(r.P_)}return i.map(function(t){return n.get(t)})}var vL=String.fromCharCode(95),lL=vL+"HLS_msn",dL=vL+"HLS_part",wL=vL+"HLS_skip",_L=function(){function t(t){this.QJ=void 0,this.Z2=void 0,this.K2=void 0,this.J2=void 0,this.n3=void 0,this.i3=void 0,this.e3=void 0,this.r3=void 0,this.s3=[],this.u3=[],this.I2=void 0,this.o3=!1,this.a3=void 0,this.h3=!1,this.c3=vO.Kl,this.eW=uS.fC(),this.f3=uS.fC(),this.ua=void 0,this.v3=-1/0,this.l3=void 0,this.QJ=t}var n=t.prototype;return n.T$=function(t){if(!t)return this.QJ;var n=i.Br(this.QJ);return void 0!==t.b1&&n.searchParams.append(lL,String(t.b1)),void 0!==t.d3&&n.searchParams.append(dL,String(t.d3)),void 0!==t.cA&&n.searchParams.append(wL,t.cA),n.href},n.w3=function(t){return xs(this.s3,function(n){return n.b1===t})},n._3=function(t){for(var n=0;n<this.s3.length;n++){var i,e=this.s3[n],r=e.Vy,s=r+(null!=(i=e.Hg)?i:e.f2);if(r<=t&&t<=s)return t===s&&n+1<this.s3.length?this.s3[n+1]:e}},n.u2=function(t){var n=this.g3();if(void 0!==n)return new Date(1e3*t+n)},n.o2=function(t){var n=this.g3();if(void 0!==n)return(t.getTime()-n)/1e3},n.g3=function(){for(var t=this.$K,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.X1)return i.X1.getTime()-1e3*i.Vy}},n.m3=function(t){switch(t){case cO.LJ:return this.K2;case cO.MJ:return this.J2;default:return}},n.A2=function(t){var n;void 0===this.n3&&(this.n3=null!=(n=t.j1)?n:this.y3(t));void 0===this.e3&&void 0!==t.l1&&(this.e3=t.l1),void 0===this.i3&&void 0!==t.C0&&(this.i3=t.C0),void 0===this.r3&&void 0!==t.d1&&(this.r3=t.d1),this.o3=t.c1,this.a3=t.f1,this.h3=t.v1,this.c3=t.G1,this.b3(t),this.A3(t);var e=xs(t.q1,function(t){return t.fs===cO.LJ}),r=xs(t.q1,function(t){return t.fs===cO.MJ});this.K2=e?{QJ:e.QJ,fs:e.fs,F1:t.F1}:void 0,this.J2=r?{QJ:r.QJ,fs:r.fs,F1:t.F1}:void 0,this.Z2=i.ir()/1e3,this.f3=this.T3(),this.eW=this.S3(this.f3),this.ua=this.E3()},n.T3=function(){var t,n=this.$K;if(0===n.length)return uS.fC();var i=n[0].Vy,e=n[n.length-1],r=e.Vy,s=null!=(t=e.Hg)?t:e.f2;return new uS([i,r+s])},n.S3=function(t){var n,i;if(0===t.b_||this.V1)return t;var e=t.RN(0),r=t.NN(0)-(null!=(n=null!=(i=this.d1)?i:this.l1)?n:0);return r<e?uS.cC(e):new uS([e,r])},n.E3=function(){return 0===this.s3.length?0:this.V1?(t=this.s3,n=function(t){var n;return null!=(n=t.Hg)?n:t.f2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.y3=function(t){for(var n,i=0,e=t.$K;i<e.length;i++){var r=e[i];if(void 0!==r.Hg){var s=w.max(1,w.round(r.Hg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.b3=function(t){if(0===t.$K.length)return zs(this.s3),void this.I3();var n=this.R3(t);if(n){var i,e,r;n.D3>0&&this.s3.splice(0,n.D3);var s=t.g1;if(s>0){if(s>this.s3.length)throw new uL("New playlist skips over missing segments.");var u=this.s3[s-1];if(void 0===u.Hg)throw new uL("New playlist skips over an incomplete segment.");i=u.O2+u.Hg,r=u.F1-t.F1,e=s;for(var o=0;o<s;o++)this.s3[o].B2()}else i=n.N3,r=0,e=0;for(var a=0;a<t.$K.length;a++,e++){var h=t.$K[a],c=t.V1&&a===t.$K.length-1,f=h.Hg,v=h.F1+r;if(e<this.s3.length){var l=this.s3[e];0,l.A2(h,c)}else{var d=new sL(i,v,c,h);d.b2=this.I2,this.s3.push(d)}void 0!==f&&(i+=f)}}},n.R3=function(t){if(0===this.s3.length)return{D3:0,N3:0};var n=this.s3[0].b1,i=this.s3[this.s3.length-1].b1,e=t.$K[0].b1-t.g1,r=t.$K[t.$K.length-1].b1,s=0,u=0;if(e<n)HO.P$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=Ls(t,function(t){return void 0!==t.X1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.M1)return;if(r.X1)return[r,n];n+=null!=(e=r.Hg)?e:0}return}(n.$K);if(void 0===e)return;var r=e[0],s=e[1];if(i.F1!==r.F1)return;var u=(r.X1.getTime()-i.X1.getTime())/1e3;return i.O2+u-s}(this.s3,t))?o:(h=this.s3,c=this.n3,v=h[h.length-1],l=null!=(f=v.Hg)?f:w.max(c,v.f2),v.O2+l),HO.C$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.s3.length,this.I3()}else{0;var a=Ms(this.s3,function(t){return t.b1===e});0,u=this.s3[a].O2,a>0&&(s=a)}var h,c,f,v,l;return{D3:s,N3:u}}HO.P$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.A3=function(t){var n=this,i=t.z1.map(gO);if(t.v1&&t.Q1.cA===rL.M2&&(i=this.u3.concat(i)),this.u3=fL(i),t.m1)for(var e=function(t,i){var e=i[t],r=Ms(n.u3,function(t){return t.P_===e});r>=0&&Xs(n.u3,r)},r=0,s=t.m1;r<s.length;r++)e(r,s)},n.C3=function(t,n){if(this.I2!==t){this.I2=t;for(var i=0,e=this.s3;i<e.length;i++){e[i].b2=this.I2}}this.l3=n},n.I3=function(){this.I2=void 0,this.l3=void 0},A(t,[{key:"V1",get:function(){return Boolean(xs(this.s3,function(t){return t.T2}))}},{key:"Hg",get:function(){return this.ua}},{key:"py",get:function(){return this.eW}},{key:"P3",get:function(){return this.f3}},{key:"P0",get:function(){return this.n3}},{key:"C0",get:function(){return this.i3}},{key:"l1",get:function(){return this.V1?0:this.e3?this.e3:this.n3?3*this.n3:void 0}},{key:"d1",get:function(){var t;return null!=(t=this.r3)?t:this.i3?3*this.i3:void 0}},{key:"B3",get:function(){var t,n,i;if(!this.V1&&0!==this.s3.length){var e=this.s3[this.s3.length-1],r=null!=(t=e.Hg)?t:e.f2,s=null!=(n=null!=(i=this.d1)?i:this.l1)?n:0;return e.Vy+r-s}}},{key:"c1",get:function(){return this.o3}},{key:"f1",get:function(){return this.a3}},{key:"v1",get:function(){return this.h3}},{key:"G1",get:function(){return this.c3}},{key:"O3",get:function(){return void 0!==this.C0}},{key:"x3",get:function(){if(this.V1)return!0;var t=i.ir()/1e3,n=this.c2,e=this.L3;return void 0!==n&&t-n<e}},{key:"c2",get:function(){return this.Z2}},{key:"b2",get:function(){return this.I2}},{key:"L3",get:function(){var t;return null!=(t=this.n3)?t:1}},{key:"$K",get:function(){return this.s3}},{key:"z1",get:function(){return this.u3}},{key:"M3",get:function(){return this.v3},set:function(t){this.v3=t}},{key:"U3",get:function(){return this.l3}}]),t}();var gL=function(){function t(){this.X3=[],this.H3=Br()}var n=t.prototype;return n.F3=function(t){var n=this.H3.get(t);return void 0!==n&&mL(n)},n.z3=function(t){return this.W3(t).V3.Hu},n.G3=function(t){var n=this.H3.get(t);if(!n||!mL(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.q3=function(t){return this.G3(t).Zp},n.Y3=function(t,n){var i=eL(n)?n:n.w2,e=this.G3(i.F1),r=t.Sy(e.Zp);if(e.j3){var s=tk.Np(n.Vy).Mk(r);if(s.Ok().Ik(sk)){var u=w.round(s.Ek()/rk.Ek());r=r.Sy(rk.vp(u))}}return r},n.Q3=function(t,n){return this.Y3(t,n).Mk(t)},n.Z3=function(t,n,i,e,r){var s=this.W3(t);void 0===s.Zp&&(s.K3.some(function(t){return t.J3===n})||(s.K3.push({J3:n,t4:i,n4:e.Tp(i.yp),j3:r}),this.i4(s)))},n.i4=function(t){if(!t.Zp&&this.e4(t)){var n=Ys(t.K3,yL);zs(t.K3),t.Zp=n.n4.Mk(n.t4),t.j3=n.j3,t.V3.Wu()}},n.e4=function(t){return this.X3.length>0&&this.X3.every(function(n){return t.K3.some(function(t){return t.J3===n})})},n.W3=function(t){if(this.H3.has(t))return this.H3.get(t);var n={Zp:void 0,j3:!1,V3:new Go,K3:[]};return this.H3.set(t,n),n},n.r4=function(t){var n=this;this.X3=t,this.H3.forEach(function(t){return n.i4(t)})},n.xs=function(){this.H3.forEach(function(t){return t.V3.Fs()}),this.H3.clear()},t}();function mL(t){return void 0!==t.Zp}function yL(t,n){return t.j3||n.j3?(i=t.t4,e=n.t4,r=i.Mk(e),i.Xk()||e.Xk()?r:(r.Dk(sk)?r=r.Mk(rk):r.Bk(sk.Lk())&&(r=r.Sy(rk)),r)).Rk(tk.qk):t.t4.Rk(n.t4);var i,e,r}var kL=function(){function t(t){this.s4=[],this.u4=[],this.o4=Pr(),this.a4=new gL,this.h4=t}var n=t.prototype;return n.A2=function(t,n){if(hO(t))if(0===this.s4.length)this.c4(t);else{if(!n)return void HO.P$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.zJ.A2(t)}else{if(0!==this.s4.length)return void HO.P$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.f4(t)}},n.c4=function(t){var n=this.v4(t.QJ);n.A2(t);var i=this.l4(rO.dd,n),e=this.l4(rO.wd,n),r=new $x({QJ:n.QJ,NR:0,jK:0,B0:NaN,HF:void 0,S$:void 0,QK:0,K0:[],n1:void 0,s1:void 0,J0:void 0,e1:void 0,i1:void 0,$0:void 0},n,[i,e]);this.s4.push(r)},n.f4=function(t){var n,i=this;(n=this.u4).push.apply(n,t.P1);for(var e=this.d4(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return pL(t.fs,t.qJ,n)&&(!t.jJ||t.zJ.QJ===n.QJ)}(t,r)});i.w4(r,s);var u=new $x(r,i.v4(r.QJ),s);i.s4.push(u)},s=0,u=t.B1;s<u.length;s++)r(s,u)},n.v4=function(t){var n=this.o4.get(t);return void 0===n&&(n=new _L(t),this.o4.set(t,n)),n},n.d4=function(t){for(var n=[],i=0,e=t.JA;i<e.length;i++){var r=e[i];if(void 0===r.QJ)for(var s=0,u=t.B1;s<u.length;s++){var o=u[s];if(pL(r.fs,r.qJ,o)){var a=new mO(r,this.v4(o.QJ));n.push(a)}}else{var h=new mO(r,this.v4(r.QJ));n.push(h)}}return n},n.l4=function(t,n){return new mO({fs:t,QJ:void 0,qJ:"",L_:void 0,j0:void 0,wi:"",VJ:!0,WJ:!1,GJ:!1,Z0:void 0,YJ:void 0,Q0:void 0},n)},n.w4=function(t,n){var i=n.filter(function(t){return t.fs===rO.dd}),e=n.filter(function(t){return t.fs===rO.wd}),r=t.HF&&(t.HF.UF||t.HF.XF);if((!r||t.HF.UF)&&0===e.length){var s=this.l4(rO.wd,this.v4(t.QJ));n.push(s)}if((!r||t.HF.XF)&&0===i.length){var u=this.l4(rO.dd,this.v4(t.QJ));n.push(u)}t.HF&&t.HF.FF},n._4=function(t){for(var n=0,i=this.s4;n<i.length;n++)for(var e=0,r=i[n].V$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.g4=function(t){for(var n=0,i=this.s4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.m4=function(t){for(var n=0,i=this.s4;n<i.length;n++){var e=i[n];if(Hs(e.V$,t))return e}},n.xs=function(){zs(this.s4),zs(this.u4),this.o4.clear(),this.a4.xs()},A(t,[{key:"y4",get:function(){return this.u4}},{key:"U$",get:function(){return this.s4}},{key:"WS",get:function(){return this.a4}}]),t}();function pL(t,n,i){switch(t){case rO.dd:return i.J0===n;case rO.wd:return i.e1===n;case rO.Qb:return i.i1===n;case rO.TJ:return i.$0===n}return!1}var bL=function(t){function n(n){var i;return(i=t.call(this,TL.b4)||this).v$=n,i}return S(n,t),n}(gu);function AL(t,n,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Dr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),iu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Dr.awrap(fu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var TL,SL=function(t){function n(n){var i;return(i=t.call(this,TL.A4)||this).v$=n,i}return S(n,t),n}(gu),EL="HlsModelUpdater";!function(t){t.b4="T4",t.A4="S4"}(TL||(TL={}));var IL=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).E4=void 0,r.I4=!1,r.R4=void 0,r.D4=void 0,r.N4=Br(),r.lE=n,r.C4=i,r.rootURI=e,r.E4=new kL(e),r}S(n,t);var e=n.prototype;return e.P4=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.E4.h4){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Dr.awrap(this.B4(n,{},2,t));case 5:if(aO(i=e.sent)||hO(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return aO(i)||HO.cT(EL,"Detected media playlist only HLS stream."),this.O4(i),e.next=12,Dr.awrap(this.x4(t));case 12:this.I4=!0;case 13:case"end":return e.stop()}},null,this,null,We)},e.L4=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.E4._4(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={b1:n,d3:i,cA:CL(r)},u=Gt(w.max(1,3*t.zJ.L3)),o.prev=5,o.next=8,Dr.awrap(this.M4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),iu(o.t0),this.U4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.X4=function(t,n){var i=this.E4._4(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={b1:void 0,d3:void 0,cA:CL(i)},r=Gt(w.max(1,3*t.zJ.L3));return this.M4(i,e,n,r)},e.H4=function(t,n){return this.N4.has(t.B_)||this.N4.set(t.B_,new Go),ru(this.N4.get(t.B_).Hu,n)},e.U4=function(t){this.Qs(new SL(t))},e.M4=function(t,n,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.zJ.T$(n),a.prev=1,a.next=4,Dr.awrap(this.B4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),iu(a.t0),t.zJ.M3=i.ir(),a.t0;case 12:if(hO(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.O4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof uL&&void 0!==n.cA)){a.next=23;break}return o=Nr({},n,{cA:void 0}),a.abrupt("return",this.M4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.R4||t===this.R4||this.R4.zJ.x3){a.next=35;break}return a.prev=25,a.next=28,Dr.awrap(this.X4(this.R4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),iu(a.t2),this.R4=t,this.F4();case 35:this.z4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],We)},e.B4=function(t,n,i,e,r){var s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return HO.cT(EL,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Dr.awrap(this.C4.V4([t]));case 4:if(s=h.sent,nu(e),void 0===s){h.next=8;break}return h.abrupt("return",Jx(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),iu(h.t0);case 14:return u={Ql:t,Wl:Af.$n,md:$d.GET,fs:tw.Jl,Ws:e,yd:r},h.next=17,Dr.awrap(AL(function(){return a.W4(u)},e,i));case 17:return o=h.sent,h.abrupt("return",Jx(o.jl,n,o.Fi));case 19:case"end":return h.stop()}},null,this,[[1,10]],We)},e.W4=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.lE.Yl(t));case 2:return n=e.sent,e.next=5,Dr.awrap(n.El());case 5:return i=e.sent,e.abrupt("return",{Fi:i,jl:n.jl});case 7:case"end":return e.stop()}},null,this,null,We)},e.x4=function(t){var n,i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:nu(t),n=[],i=0,e=this.E4.U$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.V$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Dr.awrap(this.C4.V4([o.zJ.QJ]));case 11:a=h.sent,nu(t),void 0===a||o.zJ.x3||n.push(this.X4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),iu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Dr.awrap(We.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],We)},e.F4=function(){for(var t=0,n=this.E4.U$;t<n.length;t++)for(var i=0,e=n[t].V$;i<e.length;i++){var r=e[i];r!==this.R4&&(void 0!==r.zJ.b2&&(r.zJ.x3?this.z4(r):r.zJ.I3()))}},e.z4=function(t){if(0!==t.zJ.$K.length){if(!this.R4)return this.R4=t,void this.R4.zJ.C3(0,void 0);if(this.G4(this.R4),!this.G4(t)&&void 0===t.zJ.b2){var n=this.q4(t,this.R4);HO.C$(EL,"Assuming global timeline offset of "+n+"s for rendition "+t.zJ.QJ+"."),t.zJ.C3(n,void 0)}}},e.q4=function(t,n){var i;if(RL(t)){var e=t.zJ.$K[0],r=n.zJ.$K[0];return HO.C$(EL,"Synchronizing by start of VOD: "+r.Vy+" vs "+e.Vy),r.Vy-e.O2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[i];if(r.F1>s.F1)i--;else if(r.F1<s.F1)e--;else if(r.M1){if(s.M1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.zJ.$K,n.zJ.$K);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return HO.C$(EL,"Synchronizing by start of discontinuity #"+o.F1+": "+o.Vy+" vs "+u.Vy),o.Vy-u.O2}var a=NL(t.zJ.$K);if(void 0!==a){var h=NL(n.zJ.$K);if(void 0!==h)return HO.C$(EL,"Synchronizing by PDT:",h.X1.toISOString()+" vs "+a.X1.getTime()),h.Vy-a.O2-(h.X1.getTime()-a.X1.getTime())/1e3}var c=DL(n),f=DL(t),v=null!=(i=t.zJ.b2)?i:0;return HO.C$(EL,"Synchronizing by last segment:",c+" vs "+f),c-f+v},e.G4=function(t){var n=this.E4._4(t);if(!n)return!1;if(RL(n))return!1;var i,e,r=(i=n.zJ.$K,e=this.E4.WS,Ls(i,function(t){return void 0!==t.m2&&e.F3(t.F1)}));if(void 0===r)return!1;if(n.zJ.U3===r.F1)return!0;var s=this.E4.WS.Y3(r.m2,r).Ek()-r.O2;return HO.C$(EL,"Synchronize by media timestamp: "+s+"s for rendition "+t.zJ.QJ+"."),n.zJ.C3(s,r.F1),(void 0===this.R4||void 0===this.R4.zJ.U3||this.R4.zJ.U3<r.F1)&&(this.R4=n),!0},e.O4=function(t,n){var i;(this.E4.A2(t,n),hO(t)&&n)&&(this.D4=n,this.Qs(new bL(n)),null==(i=this.N4.get(n.B_))||i.Wu(),this.N4.delete(n.B_))},e.Y4=function(t,n){var i=this.E4.g4(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.E4.U$;e<r.length;e++){var s=r[e];s.HF||(n.UF||s.a2(rO.wd),n.XF||s.a2(rO.dd))}i.HF=n},e.xs=function(){this.$s(),this.E4.xs(),this.N4.forEach(function(t){return t.Fs()}),this.N4.clear()},A(n,[{key:"j4",get:function(){return this.I4}},{key:"M$",get:function(){return this.E4}},{key:"Q4",get:function(){return this.D4}}]),n}(wu);function RL(t){return t.zJ.V1||t.zJ.G1===vO.FJ}function DL(t){var n,i=t.zJ.$K[t.zJ.$K.length-1];return i.Vy+(null!=(n=i.Hg)?n:i.f2)}function NL(t){return Ls(t,function(t){return void 0!==t.X1})}function CL(t){if(void 0!==t.zJ.f1&&!t.zJ.V1&&!(void 0===t.zJ.c2||i.ir()/1e3-t.zJ.c2>=t.zJ.f1/2))return t.zJ.v1?rL.M2:rL.L2}var PL=function(){function t(t,n,i){var e=this;this.Z4=void 0,this.K4=void 0,this.KR=void 0,this.J4=void 0,this.t6=void 0,this.n6=function(t){e.K4.hlsDateRange&&e.A3(t.v$)},this.K4=t,this.Z4=n,this.KR=i,this.J4=new Rp,this.Z4.Zs(TL.b4,this.n6)}return t.prototype.A3=function(t){if(0!==t.zJ.z1.length){this.t6||(this.t6=this.KR._E(Ip.Kb,void 0,void 0,void 0,void 0,_y.DATE_RANGE),this.J4.g_(this.t6));cL(this.t6,t.zJ.z1,function(n){var i;return null!=(i=t.zJ.o2(n))?i:NaN})}},A(t,[{key:"Dm",get:function(){return this.J4}}]),t}(),BL=function(t){function n(){return t.call(this,eO.gJ)||this}return S(n,t),n}(gu);var OL,xL=function(){function t(t){this.s3=[],this.Xz=void 0,this.i6=void 0,this.e6=t}var n=t.prototype;return n.r6=function(t){var n;return null==(n=this.s6(t))?void 0:n.v$},n.u6=function(t){this.Xz=t,this.o6()},n.a6=function(t,n,i,e,r,s){this.s3.push({b1:n,v$:t,h6:new uS([r,s]),c6:new uS([i,e])}),this.o6()},n.s6=function(t){for(var n=0,i=this.s3;n<i.length;n++){var e=i[n];if(e.c6.GD(t))return e}},n.f6=function(t){for(var n=0,i=this.s3;n<i.length;n++){var e=i[n];if(e.b1===t)return e}},n.vV=function(){var t=this.Jm;t.b_>0&&(this.i6=t.NN(t.b_-1))},n.o6=function(){var t=this.e6.Jm;this.s3=this.s3.filter(function(n){return 0!==t.FN(n.c6).b_})},A(t,[{key:"v6",get:function(){return this.Xz}},{key:"Jm",get:function(){return t=this.e6.Jm,n=this.e6.TV,i=n.iC(function(n,i){return t.$N(n,i,!1,!1)}),t.YN(i);var t,n,i}},{key:"$K",get:function(){return this.s3}},{key:"l6",get:function(){return this.i6}}]),t}(),LL=function(){function t(t,n,i,e,r){var s=this;this.e6=void 0,this.d6=void 0,this.w6=void 0,this.Vi=void 0,this._6=void 0,this.g6=void 0,this.pw=new Js,this.m6=uS.fC(),this.y6=function(t){s.g6&&(t?nR(t)&&s.k6?s._6.gL(s.e6.Jm.oC)?s.g6.Wu():s.g6.Gu(t):tu(t)?s.g6.Wu():s.g6.Gu(t):s.g6.Wu(),s.g6=void 0)},this.Vi=t,this.w6=i,this.e6=n,this.d6=e,this._6=r}var n=t.prototype;return n.p6=function(){if(this.b6)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.A6=function(t){this.e6!==t&&(this.p6(),this.e6=t,this.d6=new xL(t))},n.T6=function(){return this.g6?this.g6.Hu:We.resolve()},n.S6=function(t){var n,i,e=this.d6.l6,r=this.d6.Jm;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.LN().QN(this.E6).uC(s))?void 0:i.GD(e))&&n},n.I6=function(t){return this.d6.r6(t)},n.Fs=function(){this.pw.Fs(),this.pw=new Js},n.qz=function(t){var n=this;this.p6(),this.g6=new Go;var i=function(i){n.w6.R6(t),n.y6(i)};this.Yz(t,this.pw.Ws).then(i,i)},n.Yz=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return HO.C$("Buffering","Appending initializer",dO(t.D6.QJ)),i.next=3,Dr.awrap(this.e6.qz(t,n));case 3:HO.C$("Buffering","Appended initializer",dO(t.D6.QJ)),this.d6.u6(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.N6=function(t){var n=this;this.p6(),this.g6=new Go;var i=function(i){n.w6.R6(t),n.y6(i)};this.C6(t,this.pw.Ws).then(i,i)},n.C6=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.v$,r=t.b1,void 0!==e.zJ.P0){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.d6.Jm.PN,u=this.e6.Jm,HO.C$("Buffering","Appending",dO(t.D6.QJ)),g.next=9,Dr.awrap(this.e6.Vz(t,n));case 9:HO.C$("Buffering","Appended",dO(t.D6.QJ),s,this.d6.Jm.PN),o=t.Vy,a=o+t.Hg,h=t.D6,c=h.Vy,f=h.Vy+(null!=(i=h.Hg)?i:0),this.d6.a6(e,r,o,a,c,f),l=this.e6.Jm.QN(u),(d=this.d6.f6(r-1))?this.P6(d)?0===l.b_?Boolean(this.B6.f6(r))||(w=this.e6.TV.FN(new uS([o,a])),this.m6=this.m6.YN(w)):(this.m6=this.m6.QN(new uS([l.RN(0),a])),l.RN(0)>o&&(this.m6=this.m6.YN(new uS([o,l.RN(0)])))):this.m6=this.m6.QN(new uS([o,a])):0===l.b_?(_=this.e6.TV.FN(new uS([o,a])),this.m6=this.m6.YN(_)):l.RN(0)>o&&(this.m6=this.m6.YN(new uS([o,l.RN(0)]))),t.D6.T2&&this.d6.vV();case 20:case"end":return g.stop()}},null,this,null,We)},n.P6=function(t){var n=t.c6,i=n.RN(0),e=n.NN(n.b_-1),r=n.DN(0),s=n.CN(n.b_-1);return this.m6.KN(i,e,r,s)},A(t,[{key:"fs",get:function(){return this.Vi}},{key:"k6",get:function(){return this.Vi===ty.dd||this.Vi===ty.wd}},{key:"B6",get:function(){return this.d6}},{key:"E6",get:function(){return this.m6}},{key:"b6",get:function(){return void 0!==this.g6}}]),t}(),ML=function(){function t(t,n){this.O6=void 0,this.x6=t,this.lE=n}var n=t.prototype;return n.L6=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.M6(n,e));case 2:return r=s.sent,s.next=5,Dr.awrap(this.x6.L6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.M6=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.O6)?void 0:i.Ql)===t){u.next=10;break}return HO.C$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Dr.awrap(this.lE.Yl({Ql:t,Wl:Af.Gf,md:$d.GET,Ws:n,fs:tw.td,kd:nw.ld}));case 4:return e=u.sent,u.next=7,Dr.awrap(e.Rl());case 7:r=u.sent,s=new y(r),this.O6={Ql:t,Fi:s};case 10:return u.abrupt("return",this.O6.Fi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),UL=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.lE=t,this.C4=n,this.U6=i,this.X6=e,this.H6=r}var n=t.prototype;return n.Yl=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.F6(t,n,Af.Gf,i));case 2:return e=r.sent,r.t0=y,r.next=6,Dr.awrap(e.Rl(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,We)},n.z6=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.F6(t,n,Af.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Dl(i));case 4:case"end":return r.stop()}},null,this,null,We)},n.F6=function(t,n,i,e){var r,s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.SJ&&0===(r=oO(t.SJ.RN,t.SJ.b_))[0]&&r[1]===xt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new rw({Ql:t.Ai,Wl:i,Vl:s,bd:this.X6,md:$d.GET,fs:tw.$l,kd:n,pd:this.U6,Ws:e}),h.prev=3,h.next=6,Dr.awrap(this.C4.V6(t.Ai,r));case 6:if(o=h.sent,nu(e),void 0===o){h.next=10;break}return h.abrupt("return",new ew({Yl:u,Fi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),iu(h.t0);case 16:return h.next=18,Dr.awrap(AL(function(){return ru(a.lE.Yl(u),u.Ws)},e,this.H6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],We)},t}(),XL=function(){function t(t,n){this.Z4=void 0,this.W6=void 0,this.G6=void 0,this.q6=new Js,this.DG=-1/0,this.Y6=!1,this.Z4=t,this.W6=n,this.j6()}var n=t.prototype;return n.Q6=function(){return this.W6.zJ.c1},n.Z6=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.Q6()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Dr.awrap(this.K6());case 5:return nu(e),r.next=8,Dr.awrap(this.Z4.L4(this.W6,t,n,e));case 8:this.DG=i.ir(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),tu(r.t0)&&this.j6(),r.t0;case 15:this.j6();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.J6=function(t){return this.Z4.H4(this.W6,t)},n.j6=function(){var t=this;if(!this.G6&&!this.Y6){var n=function(){t.G6=void 0};this.G6=this.t5(this.q6.Ws).then(n,n)}},n.K6=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.G6){t.next=6;break}return this.q6.Fs(),this.q6=new Js,t.next=5,Dr.awrap(this.G6.catch(K));case 5:this.G6=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n.t5=function(t){var n,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.W6.zJ.V1||!this.W6.zJ.x3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.ir()-this.DG,e=1e3*this.W6.zJ.L3,!(n<e)){r.next=8;break}return r.next=8,Dr.awrap(fu(e-n,t));case 8:return r.prev=8,r.next=11,Dr.awrap(this.Z4.X4(this.W6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),iu(r.t0),this.Z4.U4(this.W6),r.t0;case 18:this.DG=i.ir(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.xs=function(){this.Y6=!0,hu(this.K6())},t}();!function(t){t[t.LJ=0]="LJ",t[t.MJ=1]="MJ",t[t.$l=2]="$l",t[t.n5=3]="n5"}(OL||(OL={}));var HL="AssetExtractor",FL=function(){function t(){this.i5=[]}var n=t.prototype;return n.e5=function(t,n,i){for(var e=n,r=0,s=this.i5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.RN)return!1;if(e<u.NN){if(i<=u.NN)return!0;e=u.NN}}return e>=t},n.r5=function(t,n){for(var i=[],e=0;e<this.i5.length;e+=1){var r=this.i5[e],s=t-r.RN,u=r.Fi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),h=Ho(r.Fi,o,a);h.length&&(e=this.s5(e,r,t,o,a),i.push(h))}return i},n.u5=function(t,n){this.i5.push({RN:t,NN:t+n.length,Fi:n})},n.s5=function(t,n,i,e,r){var s=t;this.i5.splice(s,1),s-=1,n.RN<i&&(s+=1,this.i5.splice(s,0,{RN:n.RN,NN:i,Fi:Ho(n.Fi,0,e)}));var u=i+r-e;return u<n.NN&&(s+=1,this.i5.splice(s,0,{RN:u,NN:n.NN,Fi:Ho(n.Fi,r)})),s},t}(),zL=function(){function t(t,n){this.ov=void 0,this.o5=n,this.ov=t.getReader()}var n=t.prototype;return n.a5=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.ov.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.o5=1/0,new v("No more data can be read from the given stream.");case 6:return this.o5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n.h5=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.ov.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"c5",get:function(){return this.o5}}]),t}(),VL=function(){function t(t,n,i,e){this.f5=void 0,this.ov=void 0,this.v5=void 0,this.l5=void 0,this.d5=void 0,this.w5=void 0,this._5=new Go,this.f5=t,this.ov=n,this.v5=i,this.l5=e,this.d5=new Go,this.w5=new Go}var n=t.prototype;return n.g5=function(){this.w5.Wu(),this.w5=new Go},n.m5=function(t){var n=GL(this.f5.SJ),i=n.y5,e=n.k5,r=this.v5.r5(i,e-i);HO.C$(HL,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Dr.awrap(this.d5.Hu);case 2:n=GL(this.f5.SJ),i=n.y5,e=n.k5,d.prev=3;case 4:return r=this.ov.c5,d.next=8,Dr.awrap(this.ov.a5());case 8:if(s=d.sent,u=s.length,HO.C$(HL,"Read "+u+" at "+r+" for extraction of "+dO(this.f5)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Ho(s,0,a),c=Ho(s,a),HO.C$(HL,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+dO(this.f5)),this.v5.u5(r,h),!(c.length>0)){d.next=23;break}return HO.C$(HL,"Extracting "+c.length+" bytes for extraction of "+dO(this.f5)),t.enqueue(c),this.g5(),d.abrupt("return",hu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return HO.C$(HL,"Extracting the read data range for extraction of "+dO(this.f5)),t.enqueue(s),this.g5(),d.abrupt("return",hu(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Ho(s,0,f=e-r),l=Ho(s,f),v.length>0&&(HO.C$(HL,"Extracting "+v.length+" bytes for extraction of "+dO(this.f5)),t.enqueue(v)),HO.C$(HL,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+dO(this.f5)),this.v5.u5(r+f,l),HO.C$(HL,"Extraction of "+dO(this.f5)+" completed as the entire request has been fulfilled."),this.p5(t),!this.l5){d.next=45;break}return HO.C$(HL,"Aborting stream upstream as no more bytes are needed from "+dO(this.f5)+"."),d.next=45,Dr.awrap(this.ov.h5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),HO.C$(HL,"Extraction of "+dO(this.f5)+" completed as the entire source stream has been read."),this.p5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],We)},n.p5=function(t){t.close(),this.g5(),this._5.Wu()},n.start=function(t){HO.C$(HL,"Preparing to push all collected data to controller for extraction of "+dO(this.f5)),this.m5(t),HO.C$(HL,"Collected data pushed to controller for extraction of "+dO(this.f5));var n=GL(this.f5.SJ).k5;this.ov.c5>=n?(HO.C$(HL,"Extraction of "+dO(this.f5)+" completed as the entire request has been fulfilled."),this.p5(t)):(HO.C$(HL,"Continuing read from original stream for extraction of "+dO(this.f5)),hu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.d5.Wu(),this.d5=new Go,this.w5.Hu},A(t,[{key:"b5",get:function(){return this._5.Hu}}]),t}(),WL=function(){function t(t,n){this.v5=void 0,this.A5=void 0,this.T5=void 0,this.f5=n;var i=GL(this.f5.SJ).y5;this.A5=new zL(t,i),this.v5=new FL}var n=t.prototype;return n.Ey=function(t){if(!wO(this.f5,t))return!1;var n=GL(t.SJ),i=n.y5,e=n.k5;return this.v5.e5(this.A5.c5,i,e)},n.S5=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.A5,e=this.v5,HO.cT(HL,"Extracting data from "+dO(t)+" out of "+dO(this.f5)),!this.T5){s.next=8;break}return HO.C$(HL,"Awaiting previous extraction before extracting "+dO(t)+" out of "+dO(this.f5)),s.next=8,Dr.awrap(this.T5);case 8:if(this.Ey(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new VL(t,i,e,n),this.T5=r.b5,s.abrupt("return",new ad(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function GL(t){if(t){var n=t.RN;return{y5:n,k5:void 0!==t.b_?n+t.b_:xt}}return{y5:0,k5:xt}}var qL,YL=function(){function t(t,n){this.pw=new Js,this.E5=void 0,this.f5=t,this.I5=n,this.E5=this.jh()}var n=t.prototype;return n.jh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.I5.z6(this.f5,nw.Kl,this.pw.Ws));case 2:return t=n.sent,n.abrupt("return",new WL(t,this.f5));case 4:case"end":return n.stop()}},null,this,null,We)},n.Ey=function(t){return wO(this.f5,t)},n.S5=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Dr.awrap(this.E5);case 3:return i=e.sent,e.next=6,Dr.awrap(ru(i.S5(t,n),this.pw.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Fs=function(){this.E5.catch(K),this.pw.Fs()},t}(),jL=function(t){function n(){return t.call(this,qL.R5)||this}return S(n,t),n}(gu),QL="HlsPlaylistDownloader";!function(t){t.R5="videosegmentdownloaded"}(qL||(qL={}));var ZL=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Vi=void 0,a.Z4=void 0,a.w6=void 0,a.I5=void 0,a.D5=void 0,a.W6=void 0,a.N5=void 0,a.C5=void 0,a.P5=void 0,a.B5=new Js,a.O5=void 0,a.x5=void 0,a.L5=void 0,a.M5=void 0,a.U5=function(t){a.C5&&(a.W6=a.C5,a.C5=void 0,a.O5=void 0,a.x5=void 0),a.P5&&(t&&!tu(t)?a.P5.Gu(t):a.P5.Wu(),a.P5=void 0)},a.Vi=n,a.Z4=e,a.w6=r,a.W6=i,a.N5=new XL(e,i),a.D5=new ML(o,s),a.I5=new UL(s,u,function(t){switch(t){case rO.wd:return iw.wd;case rO.dd:return iw.dd;case rO.Qb:case rO.TJ:return iw.$n;default:return iw.Kl}}(i.fs),!1),a}S(n,t);var e=n.prototype;return e.X5=function(t){this.N5.xs(),this.N5=new XL(this.Z4,t),this.b6?this.C5=t:(this.W6=t,this.O5=void 0,this.x5=void 0)},e.T6=function(){return this.P5?this.P5.Hu:We.resolve()},e.H5=function(){return this.w6.H5()},e.F5=function(t){this.w6.F5(t)},e.Fs=function(){var t,n;this.B5.Fs(),this.B5=new Js,null==(t=this.M5)||t.Fs(),null==(n=this.L5)||n.Fs(),this.M5=void 0,this.L5=void 0,this.O5=void 0,this.x5=void 0},e.xs=function(){this.N5.xs()},e.z5=function(t){var n=this.W6.zJ._3(t);if(!n)return!1;if(void 0!==this.O5){var i=n.b1===this.O5;return void 0!==this.x5?n.N2(t)===n.D2(this.x5)&&i:i}return!1},e.V5=function(t){var n;if(void 0===this.O5)n=this.W5(t);else if(n=this.G5(this.O5,this.x5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Vy,u=3*this.v$.zJ.P0;w.abs(s-t)>=u&&(n=this.W5(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h._2)&&void 0!==a.Hg?[a,void 0]:[a,h]}},e.W5=function(t){var n,i,e,r=this.W6.zJ.$K;if(0!==r.length){var s=r[r.length-1];if(s.Vy+(null!=(n=s.Hg)?n:s.f2)<=t)i=s,e=s.P2(t);else if(r[0].Vy>t)e=(i=r[0]).D2(0);else{var u;e=null==(u=i=this.W6.zJ._3(t))?void 0:u.P2(t)}return i?[i,e]:void 0}},e.G5=function(t,n){var i,e,r;if((i=this.W6.zJ.w3(t))&&void 0!==n){if(0===i.L1.length)return[i,void 0];e=i.D2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.W6.zJ.w3(t+1))?void 0:r.D2(0));return i?[i,e]:void 0},e.p6=function(){if(this.b6)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.q5=function(t){this.p6(),this.P5=new Go,this.Y5(t,this.B5.Ws).then(this.U5,this.U5)},e.j5=function(){this.N5.j6()},e.Y5=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.V5(t))||!this.N5.Q6()||void 0===this.O5){e.next=5;break}return e.next=4,Dr.awrap(this.N5.Z6(void 0===this.x5?this.O5+1:this.O5,void 0!==this.x5?this.x5+1:void 0,n));case 4:i=this.V5(t);case 5:if(i||!this.N5.Q6()||void 0===this.O5){e.next=9;break}return e.next=8,Dr.awrap(this.N5.Z6(this.O5+1,0,n));case 8:i=this.V5(t);case 9:if(i){e.next=16;break}return HO.cT(QL,"No next segment / part available, need to update playlist before continuing."),e.next=13,Dr.awrap(this.N5.J6(n));case 13:i=this.V5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.Q5=function(){return this.w6.Z5()},e.K5=function(){this.p6();try{var t=this.W6.zJ.m3(cO.LJ);t&&this.J5(t);var n=this.W6.zJ.m3(cO.MJ);n&&this.t8(n)}catch(t){throw iu(t),this.v$.zJ.M3=i.ir(),this.Z4.U4(this.v$),t}},e.J5=function(t){this.L5&&!this.L5.Ey(t.QJ)&&(this.L5.Fs(),this.L5=void 0),this.L5||(this.L5=new YL(t.QJ,this.I5))},e.t8=function(t){this.M5&&!this.M5.Ey(t.QJ)&&(this.M5.Fs(),this.M5=void 0),this.M5||(this.M5=new YL(t.QJ,this.I5))},e.n8=function(t,n,e){var r=this;this.p6(),HO.cT(QL,"Starting download of segment "+dO(t.QJ)+" and part "+(null==n?void 0:n._2)),this.P5=new Go,this.i8(t,n,e,this.B5.Ws).catch(function(t){throw iu(t),r.v$.zJ.M3=i.ir(),r.Z4.U4(r.v$),t}).then(this.U5,this.U5)},e.i8=function(t,n,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.U1){u.next=5;break}if(i&&_O(i.D6.QJ,t.U1.QJ)&&t.F1===i.F1){u.next=5;break}return u.next=4,Dr.awrap(this.e8(t.U1,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,Dr.awrap(this.r8(t,n,e));case 8:s=u.sent;case 9:this.w6.s8(s),"u8"===s.fs&&this.Vi===ty.wd&&this.Qs(new jL),HO.C$("Buffering","Download complete",dO(null!=(r=null==n?void 0:n.QJ)?r:t.QJ));case 12:case"end":return u.stop()}},null,this,null,We)},e.r8=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.M5){o.next=19;break}if(!this.M5.Ey(n.QJ)){o.next=17;break}return o.next=5,Dr.awrap(this.M5.S5(n.QJ));case 5:return r=o.sent,o.t0=y,o.next=9,Dr.awrap(Od(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Dr.awrap(this.L6(s,n.P1,i));case 13:u=o.sent,e=$L(n,u),o.next=19;break;case 17:this.M5.Fs(),this.M5=void 0;case 19:if(e){o.next=24;break}return HO.C$("Buffering","Start download",dO(n.QJ)),o.next=23,Dr.awrap(this.o8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return HO.C$("Buffering","Start download",dO(t.QJ)),o.next=29,Dr.awrap(this.a8(t,i));case 29:e=o.sent;case 30:return this.O5=t.b1,this.x5=null==n?void 0:n._2,o.abrupt("return",{fs:"u8",b1:t.b1,u8:e,v$:this.W6,F1:t.F1});case 33:case"end":return o.stop()}},null,this,null,We)},e.e8=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.L5){a.next=17;break}if(!this.L5.Ey(t.QJ)){a.next=14;break}return a.next=4,Dr.awrap(ru(this.L5.S5(t.QJ),i));case 4:return s=a.sent,a.t0=y,a.next=8,Dr.awrap(Od(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Dr.awrap(this.L6(u,t.O1?[t.O1]:[],i));case 12:o=a.sent,e=KL(t,n,o);case 14:HO.cT(QL,"MAP is required for segment, downloading MAP data."),null==(r=this.L5)||r.Fs(),this.L5=void 0;case 17:if(e){a.next=22;break}return HO.C$("Buffering","Start download",dO(t.QJ)),a.next=21,Dr.awrap(this.h8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{fs:"U1",U1:e,Vy:n.Vy,F1:n.F1,P1:n.P1});case 23:case"end":return a.stop()}},null,this,null,We)},e.h8=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.I5.Yl(t.QJ,nw.ed,i));case 2:return e=u.sent,r=t.O1?[t.O1]:[],u.next=6,Dr.awrap(this.L6(e,r,i));case 6:return s=u.sent,u.abrupt("return",KL(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e.a8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.QJ){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Dr.awrap(this.I5.Yl(t.QJ,nw.Kl,n));case 4:return i=r.sent,r.next=7,Dr.awrap(this.L6(i,t.P1,n));case 7:return e=r.sent,r.abrupt("return",JL(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e.o8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.I5.Yl(t.QJ,nw.Kl,n));case 2:return i=r.sent,r.next=5,Dr.awrap(this.L6(i,t.P1,n));case 5:return e=r.sent,r.abrupt("return",$L(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.L6=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=xs(n,function(t){return t.md===fO.UJ})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.QJ&&e.u1){r.next=6;break}return HO.mu(QL,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Dr.awrap(this.D5.L6(t,e.QJ,e.u1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},A(n,[{key:"b6",get:function(){return void 0!==this.P5}},{key:"v$",get:function(){var t;return null!=(t=this.C5)?t:this.W6}},{key:"c8",get:function(){if(!this.W6.zJ.V1)return!1;if(void 0===this.O5)return!1;var t=this.W6.zJ.$K[this.W6.zJ.$K.length-1];return t.b1===this.O5&&!(this.x5&&this.x5!==t.L1.length-1)}}]),n}(wu);function KL(t,n,i){return{Fi:{Fi:i,fs:AD.GX},fs:OL.LJ,D6:t,F1:n.F1}}function JL(t,n){return{Fi:{Fi:n,fs:AD.GX},fs:OL.$l,D6:t,F1:t.F1}}function $L(t,n){return{Fi:{Fi:n,fs:AD.GX},fs:OL.MJ,D6:t,F1:t.w2.F1}}var tM,nM=function(){function t(){this.f8=[],this.v8=Pr(),this.l8=void 0,this.d8=void 0}var n=t.prototype;return n.s8=function(t){"U1"===t.fs&&(this.d8=t.U1),this.f8.push(t),this.l8&&(this.l8.Wu(),this.l8=void 0)},n.H5=function(){return this.f8[0]},n.F5=function(t){Us(this.f8,t)},n.Z5=function(){return null!=this.l8||(this.l8=new Go),this.l8.Hu},n.w8=function(t){this._8(t.J3).w8(t)},n.g8=function(t){return this._8(t).g8()},n.R6=function(t){this._8(t.J3).R6(t)},n.m8=function(t){var n;null==(n=this.v8.get(t))||n.xs()},n.y8=function(t){return this._8(t).y8()},n._8=function(t){if(this.v8.has(t))return this.v8.get(t);var n=new iM;return this.v8.set(t,n),n},n.Nu=function(){this.k8(),this.p8()},n.k8=function(){this.d8=void 0,zs(this.f8)},n.p8=function(){this.v8.forEach(function(t){return t.Nu()})},n.xs=function(){this.v8.forEach(function(t){return t.xs()}),this.v8.clear(),this.Nu(),this.l8&&(this.l8.Gu(new $s),this.l8=void 0)},A(t,[{key:"v6",get:function(){return this.d8}},{key:"b8",get:function(){for(var t=uS.fC(),n=0,i=this.f8;n<i.length;n++){var e=i[n];if("u8"===e.fs){var r,s=e.u8.D6;t=t.YN(new uS([s.Vy,s.Vy+(null!=(r=s.Hg)?r:0)]))}}return t}},{key:"A8",get:function(){var t=uS.fC();return this.v8.forEach(function(n){t=t.YN(n.A8)}),t}}]),t}(),iM=function(){function t(){this.T8=[],this.S8=void 0}var n=t.prototype;return n.w8=function(t){this.T8.push(t),this.S8&&(this.S8.Wu(),this.S8=void 0)},n.g8=function(){return this.T8[0]},n.R6=function(t){Us(this.T8,t)},n.y8=function(){return null!=this.S8||(this.S8=new Go),this.S8.Hu},n.Nu=function(){zs(this.T8)},n.xs=function(){this.Nu(),this.S8&&(this.S8.Gu(new $s),this.S8=void 0)},A(t,[{key:"A8",get:function(){for(var t=uS.fC(),n=0,i=this.T8;n<i.length;n++){var e=i[n];"u8"===e.fs&&(t=t.YN(new uS([e.Vy,e.Vy+e.Hg])))}return t}}]),t}(),eM=function(){function t(t,n){this.E8=void 0,this.a4=void 0,this.I8=uS.fC(),this.E8=t,this.a4=n}var n=t.prototype;return n.qz=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Fi.Fi,this.R8(i),this.E8.fs!==_y.TTML){u.next=8;break}if(this.a4.F3(t.F1)){u.next=6;break}return u.next=6,Dr.awrap(ru(this.a4.z3(t.F1),n));case 6:for(e=this.D8(i,t.F1),r=0;r<e.length;r++)s=e[r],this.E8.mE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.Vz=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Fi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Vy,e=i+t.Hg,this.I8=this.I8.YN(new uS([i,e])),this.a4.F3(t.F1)){r.next=8;break}return r.next=8,Dr.awrap(ru(this.a4.z3(t.F1),n));case 8:this.Gz(t.Fi.Fi,t.F1,t.D6);case 9:case"end":return r.stop()}},null,this,null,We)},n.Gz=function(t,n,i){this.R8(t);for(var e=0,r=this.E8.fs===_y.WEBVTT?this.N8(t,i):this.D8(t,n);e<r.length;e++){var s=r[e];this.E8.mE(s)}},n.N8=function(t,n){for(var i,e,r=(void 0===e&&(e=ck),yk(Bo(Lo(t),new Vo),e)),s=r.j_,u=null!=(i=r.$p)?i:{ib:tk.qk,eb:tk.qk},o=0;o<s.length;o++){var a=s[o],h=tk.Np(a.Vy).Mk(u.eb).Sy(u.ib),c=this.a4.Y3(h,n).Ek(),f=c+(a.Wy-a.Vy);a.Vy=c,a.Wy=f}return s},n.D8=function(t,n){var i=this.a4.q3(n).Ek();return dp(t,this.E8,{jp:0,Qp:1/0,Zp:i},Nc.APPLICATION_MP4)},n.R8=function(t){this.E8.fs===_y.DEFAULT&&(this.E8.fs=this.C8(t)?_y.WEBVTT:_y.TTML)},n.C8=function(t){return Nk(Bo(xo(Lo(t),0,w.min(t.byteLength,7)),new Vo))},n.mV=function(t,n){},n.yV=function(t,n){},A(t,[{key:"Jm",get:function(){return this.I8}},{key:"TV",get:function(){return uS.fC()}}]),t}(),rM=function(t){function n(n,i){var e;return(e=t.call(this,tM.P8)||this).v$=n,e.HF=i,e}return S(n,t),n}(gu),sM=function(t){function n(n){var i;return(i=t.call(this,tM.B8)||this).v$=n,i}return S(n,t),n}(gu);!function(t){t.P8="O8",t.B8="x8"}(tM||(tM={}));var uM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).W6=void 0,s.w6=void 0,s.a4=void 0,s.L8=void 0,s.M8=void 0,s.pw=new Js,s.U8=function(t){s.M8&&(t&&!tu(t)?s.M8.Gu(t):(s.M8.Wu(),s.M8=void 0))},s.W6=n,s.w6=i,s.a4=e,s.L8=r,s}S(n,t);var i=n.prototype;return i.X5=function(t){this.W6!==t&&(this.Fs(),this.W6=t)},i.X8=function(t){for(var n=0,i=this.L8;n<i.length;n++){var e=i[n];Hs(t,e)||this.w6.m8(e)}this.L8=t},i.T6=function(){var t,n;return null!=(t=null==(n=this.M8)?void 0:n.Hu)?t:We.resolve()},i.p6=function(){if(this.b6)throw new v("Cannot perform new operation while transmuxer is still busy")},i.H8=function(t){var n=this;this.p6(),this.M8=new Go;var i=function(i){n.w6.F5(t),n.U8(i)};this.F8(t,this.pw.Ws).then(i,i)},i.z8=function(t){var n=this;this.p6(),this.M8=new Go;var i=function(i){n.w6.F5(t),n.U8(i)};this.V8(t,this.pw.Ws).then(i,i)},i.W8=function(t){this.Qs(new rM(this.W6,t))},i.G8=function(){this.Qs(new sM(this.W6))},i.w8=function(t){Hs(this.L8,t.J3)&&this.w6.w8(t)},i.q8=function(t){return this.w6.g8(t)},i.R6=function(t){this.w6.R6(t)},i.Y8=function(t){return this.w6.y8(t)},i.Fs=function(){this.pw.Fs(),this.pw=new Js},A(n,[{key:"v$",get:function(){return this.W6}},{key:"j8",get:function(){return this.L8}},{key:"b6",get:function(){return void 0!==this.M8}}]),n}(wu),oM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.F8=function(t,n){nu(n);var i={fs:"Q8",Fi:t.U1.Fi,J3:this.j8[0],F1:t.F1,Z8:{HF:"",P1:t.P1},Vy:t.Vy,v$:this.v$,D6:t.U1.D6};return this.w8(i),We.resolve()},i.V8=function(t,n){var i;nu(n);var e=t.u8.D6,r={fs:"u8",Fi:t.u8.Fi,J3:this.j8[0],b1:t.b1,Vy:e.Vy,Hg:null!=(i=e.Hg)?i:0,Zp:0,F1:t.F1,v$:t.v$,D6:t.u8.D6};return this.w8(r),We.resolve()},n}(uM),aM=function(){function t(t,n,i,e){this.K8=[],this.J8=t,this.w6=n,this.t9=i,this.TC=e}var n=t.prototype;return n.X5=function(t){this.J8.X5(t)},n.n9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.K8[t];if(!e.k6)throw new v("Invalid state");var r=Ms(i,function(t){return t.fs===e.fs});r>=0?(e.A6(i[r]),Xs(i,r)):Xs(n.K8,t)},r=this.K8.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new xL(u);this.K8.push(new LL(u.fs,u,this.w6,o,this))}i.length>0&&this.w6.Nu();var a=t.map(function(t){return t.fs});this.t9.X8(a)},n.gL=function(t){var n,i=(null==(n=this.TC)?void 0:n.gL(t))||!1;return i&&(this.Fs(),this.i9.Nu()),i},n.e9=function(t){for(var n=0,i=this.K8;n<i.length;n++){var e=i[n];if(e.fs!==ty.$n||e.b6)throw new v("Invalid state")}var r=new xL(t),s=new LL(ty.$n,t,this.w6,r,this);this.K8=[s]},n.r9=function(){for(var t=0,n=this.K8;t<n.length;t++){n[t].B6.o6()}},n.s9=function(t){var n=this.u9.uC(t,.001);return n?n.NN(n.b_-1):t},n.z5=function(t){return!!this.u9.uC(t,.001)||this.J8.z5(t)},n.o9=function(t){return this.a9.GD(t,.001)},n.h9=function(t,n,i){for(var e=0,r=this.K8;e<r.length;e++){var s=r[e].B6,u=s.l6;if(void 0!==u&&n>=u)return!s.Jm.LN().GD(u)}return n-t<i},n.Fs=function(){this.c9(),this.f9()},n.c9=function(){this.v9.Fs()},n.f9=function(){this.l9.Fs(),this.d9.forEach(function(t){return t.Fs()})},n.xs=function(){this.Fs(),this.v9.xs()},A(t,[{key:"d9",get:function(){return this.K8}},{key:"v9",get:function(){return this.J8}},{key:"l9",get:function(){return this.t9}},{key:"i9",get:function(){return this.w6}},{key:"v$",get:function(){return this.J8.v$}},{key:"v6",get:function(){var t=this.w6.v6;if(t)return t;if(this.K8.length>0){var n=this.K8[0].B6.v6;if(n&&this.K8.every(function(t){return t.B6.v6===n}))return n}}},{key:"u9",get:function(){if(0===this.K8.length)return uS.fC();for(var t=this.w6.b8.YN(this.w6.A8).LN(),n=new uS([0,1/0]),i=0,e=this.K8;i<e.length;i++){for(var r=e[i],s=r.B6.Jm,u=r.B6.$K,o=r.E6,a=0;a<u.length;a++)for(var h=u[a],c=h.h6.QN(h.c6),f=0;f<c.b_;f++)t.$N(c.RN(f),c.NN(f),!0,!0)&&(s=s.YN(c.sC(f)));n=n.FN(s).QN(o)}return n=n.YN(t)}},{key:"a9",get:function(){if(0===this.K8.length)return uS.fC();for(var t=this.w6.A8.LN(),n=new uS([0,1/0]),i=0,e=this.K8;i<e.length;i++){for(var r=e[i],s=r.B6.Jm,u=r.B6.$K,o=0;o<u.length;o++)for(var a=u[o],h=a.h6.QN(a.c6),c=0;c<h.b_;c++)t.$N(h.RN(c),h.NN(c),!0,!0)&&(s=s.YN(h.sC(c)));n=n.FN(s)}return n=n.YN(t)}}]),t}();var hM=function(t){function n(){return t.call(this,eO.kJ)||this}return S(n,t),n}(gu),cM=function(t){function n(){return t.call(this,eO.mJ)||this}return S(n,t),n}(gu),fM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Dc=void 0,e.e6=void 0,e.w9=new Go,e.fL=eR,e._9=!1,e.vL=KI,e.wV=new ID,e.Vi=n,e.g9=i,e}S(i,t);var e=i.prototype;return e.HX=function(){return this.e6?this.e6.HX():this._9},e.mV=function(t,n){HO.C$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.wV.KX(t,n),this.e6&&this.e6.mV(t,n)},e.yV=function(t,n){HO.C$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.wV.JX(t,n),this.e6&&this.e6.yV(t,n)},e.m9=function(t){this.e6=t,this.e6.oL=this.vL,this.e6.eL=this.fL;for(var n,i=this.wV.$X,e=0;e<i.b_;e++)this.e6.mV(i.RN(e),i.NN(e));this._9&&(HO.C$("LazyMediaBuffer","End of stream"),null==(n=this.e6)||n.vV());this.e6.Zs(mD.VX,this.js),this.w9.Wu(t)},e.y9=function(t){return ru(this.w9.Hu,t)},e.Vz=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.y9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Vz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.kV=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.y9());case 2:return t=n.sent,n.next=5,Dr.awrap(t.kV());case 5:case"end":return n.stop()}},null,this,null,We)},e.qz=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.y9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.qz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Qh=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.y9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Qh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.tV=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.y9());case 2:return i=e.sent,e.next=5,Dr.awrap(i.tV(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.vV=function(){this._9=!0,this.e6&&this.e6.vV()},e.CX=function(t){return!!this.e6&&this.e6.CX(t)},e.PX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.y9());case 2:return n=i.sent,i.next=5,Dr.awrap(n.PX(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.Sd=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s(),null==(t=this.e6)||t.tu(mD.VX,this.js);case 2:case"end":return n.stop()}},null,this,null,We)},A(i,[{key:"Nl",get:function(){return this.Dc}},{key:"AV",get:function(){return this.Vi}},{key:"rc",get:function(){if(!this.e6)throw new nf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.e6.rc}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t,this.e6&&(this.e6.eL=t)}},{key:"Jm",get:function(){return this.e6?this.e6.Jm:uS.fC()}},{key:"TV",get:function(){return this.e6?this.e6.TV:this.wV.$X}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.e6&&(this.e6.oL=t)}}]),i}(wu),vM="LazyMediaSource",lM=function(){function t(t,n,i){this.k9=void 0,this.p9=void 0,this.b9=new Go,this.JR=void 0,this.A9=!1,this.ua=NaN,this.lK=!1,this.T9=0,this.S9=1/0,this.E9=!1,this.I9=!1,this.KR=t,n&&(HO.C$(vM,"Created lazy media buffer for audio."),this.k9=new fM(ty.dd,this)),i&&(HO.C$(vM,"Created lazy media buffer for video."),this.p9=new fM(ty.wd,this))}var n=t.prototype;return n.cW=function(t){this.ua=t,this.JR&&this.JR.cW(t)},n.vV=function(){this.lK=!0,this.JR&&this.JR.vV()},n.aV=function(){this.lK=!1,this.JR&&this.JR.aV()},n.lW=function(t,n,i,e){this.T9=t,this.S9=n,this.E9=Boolean(i),this.I9=Boolean(e),this.JR&&this.JR.lW(t,n,i,e)},n.CX=function(t){return!this.JR||this.JR.CX(t)},n.PX=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.CX(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.JR){r.next=19;break}return this.KR.mj(),r.next=6,Dr.awrap(this.KR.jh(t));case 6:e=r.sent,m(this.ua)||e.cW(this.ua),this.lK&&e.vV(),e.lW(this.T9,this.S9,this.E9,this.I9),HO.C$(vM,"The MediaSource has been loaded."),this.A9=!0,this.JR=e,null==(n=this.k9)||n.m9(this.JR.KV),null==(i=this.p9)||i.m9(this.JR.JV),this.b9.Wu(e),this.KR.yj(),r.next=21;break;case 19:return r.next=21,Dr.awrap(this.JR.PX(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=3;break}return t.next=3,Dr.awrap(this.JR.xs());case 3:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"rc",get:function(){return{fs:nb.bE,dW:[],ND:[]}}},{key:"Rm",get:function(){throw new v("Not implemented")}},{key:"KV",get:function(){return this.k9}},{key:"JV",get:function(){return this.p9}},{key:"Jm",get:function(){return this.JR?this.JR.Jm:uS.fC()}},{key:"Hg",get:function(){return this.JR?this.JR.Hg:this.ua}},{key:"HX",get:function(){return!!this.JR&&this.JR.HX}},{key:"py",get:function(){return this.JR?this.JR.py:new uS([0,1/0])}}]),t}();function dM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=_M(i,"tag"),a=_M(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}dM(function(t,n){return"*"===n||t===n||vs(t,n+"-")},!0),dM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var wM=dM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function _M(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var gM,mM=function(t){function n(){return t.call(this,bf.Sf)||this}return S(n,t),n}(gu),yM=function(t){function n(){return t.call(this,bf.Tf)||this}return S(n,t),n}(gu),kM=16384,pM=71,bM=188;function AM(t){return null!==VC(Lo(t),new Vo)?gM.R9:function(t){return function(t){if(t.length<2*bM)return-1;for(var n=w.min(1e3,t.length-2*bM),i=0;i<=n;i++)if(t[i]===pM&&t[i+bM]===pM)return i;return-1}(t)>=0}(t)?gM.D9:TM(t)?gM._g:gM.Kl}function TM(t){var n=Oo(t,0,w.min(t.length,kM));return ip.NA(Lo(n))}!function(t){t[t.Kl=0]="Kl",t[t._g=1]="_g",t[t.D9=2]="D9",t[t.R9=3]="R9"}(gM||(gM={}));var SM=function(){function t(t,n,i,e){this.Vi=void 0,this.e6=void 0,this.N9=void 0,this.C9=void 0,this.P9=void 0,this.Vi=t,this.e6=n,this.C9=i,this.P9=e}var n=t.prototype;return n.B9=function(t){return this.e6===t},n.qz=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Dr.awrap(this.e6.qz(t.Fi,{O9:t.v$.B_},n));case 3:this.Vi===ty.wd&&TM(t.Fi.Fi)&&this.P9.x9(t.Fi.Fi);case 4:case"end":return i.stop()}},null,this,null,We)},n.Vz=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(nu(n),HO.cT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+dO(t.D6.QJ)),i=t.Vy,e=t.Vy+t.Hg,r={m2:t.Vy,Hg:t.Hg,Zp:t.Zp,O9:t.v$.B_},void 0===t.Fi){s.next=10;break}return s.next=9,Dr.awrap(this.e6.Vz(t.Fi,r,n));case 9:this.L9(t.Fi,t);case 10:this.M9(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.L9=function(t,n){if(TM(t.Fi)){var i=n.Vy,e=i+n.Hg,r=n.Zp;this.C9.a6(t.Fi,i,r),this.Vi===ty.wd&&this.P9.a6(t.Fi,i,e,r)}},n.M9=function(t,n){for(var i=this.e6.Jm,e=new uS([t,n]).QN(i),r=0;r<e.b_;r++)this.e6.mV(e.RN(r),e.NN(r));for(var s=0;s<i.b_;s++)this.e6.yV(i.RN(s),i.NN(s))},n.mV=function(t,n){this.e6.mV(t,n)},n.yV=function(t,n){this.e6.yV(t,n)},A(t,[{key:"fs",get:function(){return this.Vi}},{key:"Jm",get:function(){return this.e6.Jm}},{key:"TV",get:function(){return this.e6.TV}}]),t}(),EM=2500;var IM=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).U9=void 0,o.ke=void 0,o.X9=void 0,o.U9=e,o.ke=r,o.X9=s,o}return S(n,t),n.prototype.lk=function(n){return this===n||vg(this,n)&&t.prototype.lk.call(this,n)&&fg(this.Gy,n.Gy)},A(n,[{key:"TS",get:function(){return this.U9}},{key:"Ai",get:function(){return this.ke}},{key:"H9",get:function(){return this.X9}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=hg(Iy(t=this),{get schemeIDURI(){return t.TS},get value(){return t.Ai},get emsgID(){return t.H9}})),this.Ww}}]),n}(Oy);function RM(t,n){return t+" "+n}var DM,NM,CM=function(t){function n(n){var i;return(i=t.call(this)||this).vE=void 0,i.vE=n,i}S(n,t);var i=n.prototype;return i.a6=function(t,i,e){var r=ip.RA(Lo(t));if(r){var s=Qk(r,uk.Vb);if(s.length){var u=n.F9(r,i,e);this.z9(s,u,e)}}},i.z9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.EA?r.SS.toNumber()/r.yp+i:n+r.RS/r.yp)+r.ES/r.yp;"https://aomedia.org/emsg/ID3"===r.TS?this.V9(r,s):this.W9(r,s,u)}},i.W9=function(t,n,i){var e=RM(t.TS,t.Ai),r=this.G9(e);r||(r=this.q9(e),this.Y9(r)),r.mE(new IM(n,i,t.TS,t.Ai,t.P_,t.IS))},i.V9=function(t,n){var i=qC(Lo(t.IS));if(i){var e=RM(t.TS,t.Ai),r=this.G9(e);r||(r=this.j9(e),this.Y9(r));for(var s=0,u=i.hG;s<u.length;s++){var o=u[s],a=new eP(n,o);gC(a,r.j_.p_),r.mE(a)}}},n.F9=function(t,n,i){var e=jk(t,uk.Wb);return e?jt(e.FS,e.yp)+i:n},i.q9=function(t){var n=this.vE._E(Ip.Kb,"","","",void 0,_y.EMSG);return n.V_=t,n.W_=Eg.H_,n},i.j9=function(t){var n=this.vE._E(Ip.Kb,"","","",void 0,_y.ID3);return n.V_=t,n.W_=Eg.H_,n},i.k_=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.VA.p_;n<i.length;n++)e=i[n],this.vE.yE(e);return r.next=3,Dr.awrap(t.prototype.k_.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.Y9=function(t){return t.Y_=wy.LOADED,this.g_(t),t},i.G9=function(t){for(var n=0,i=this.VA.p_;n<i.length;n++){var e=i[n];if(e.V_===t)return e}},n}(Yp));function PM(t){return"function"==typeof t.Iu}function BM(t,n,i){if(!(i&&n.byte>=i)){var e=PM(t)?t.Iu(n.byte):t[n.byte];return n.byte+=1,e}}function OM(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+BM(t,n);return e}(t,n,2)}!function(t){t[t.Q9=0]="Q9",t[t.Z9=1]="Z9",t[t.K9=2]="K9",t[t.J9=3]="J9",t[t.t7=4]="t7",t[t.n7=5]="n7"}(DM||(DM={})),function(t){t[t.i7=0]="i7",t[t.e7=1]="e7",t[t.r7=2]="r7",t[t.s7=3]="s7"}(NM||(NM={}));var xM,LM=function(){function t(){this.u7=0,this.o7=[],this.QS={}}var n=t.prototype;return n.a7=function(t){this.o7=this.o7.concat(t.o7),this.u7+=t.b_},n.h7=function(t,n,i){var e=this.u7,r=i-n;r>0&&(this.o7.push({c7:n,f7:i,v7:r,l7:e,d7:t}),this.u7+=r)},n.Iu=function(t){for(var n=0,i=this.o7;n<i.length;n++){var e=i[n];if(e.l7<=t&&t<e.l7+e.v7)return e.d7[t+e.c7-e.l7]}},n.w7=function(t,n){for(var i=n,e=0,r=this.o7;e<r.length;e++)for(var s=r[e],u=s.f7,o=s.c7;o<u;o+=1,i+=1)t[i]=s.d7[o];return i},n._7=function(){for(var t=new y(this.u7),n=0,i=0,e=this.o7;i<e.length;i++)for(var r=e[i],s=r.f7,u=r.c7;u<s;u+=1,n+=1)t[n]=r.d7[u];return t},n.Lu=function(n){for(var i=new t,e=0,r=this.o7;e<r.length;e++){var s=r[e];i.h7(s.d7,s.c7,s.f7)}return i.QS=n||Nr({},this.QS),i},A(t,[{key:"b_",get:function(){return this.u7},set:function(t){var n=this.o7,i=this.u7-t;if(!(t>=this.u7))if(this.u7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.v7)return r.f7-=i,r.v7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.v7}else n.length=0}},{key:"Fi",get:function(){for(var t=new Array(this.u7),n=0,i=0,e=this.o7;i<e.length;i++)for(var r=e[i],s=r.f7,u=r.c7;u<s;u+=1,n+=1)t[n]=r.d7[u];return t}}]),t}();function MM(t,n,i){return i===DM.Q9?i:n!==NM.i7&&n!==NM.e7||i!==DM.Z9&&i!==DM.K9?t?n===NM.r7?DM.t7:n===NM.s7?DM.J9:DM.Q9:DM.n7:DM.K9}function UM(t,n,i,e){var r={byte:i},s=DM.Z9,u=[],o=31&BM(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=BM(n,r,e),c=4&h,f=3&h;s=MM(Boolean(c),f,s);var v=BM(n,r,e),l=BM(n,r,e);u.push({JQ:t,fS:-1,g7:!a,m7:Boolean(c),fs:f,uQ:s,y7:v,k7:l})}return u}function XM(t,n,i){var e=BM(t,n,i);if(!m(e))return String.fromCharCode(e)}function HM(t){var n=t.p7,i={byte:t.b7},e=t.A7,r=BM(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=OM(n,i);if(s===xM.T7||s===xM.S7){if(s===xM.S7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=XM(t,n);return e}(n,i,4))return;if(3===BM(n,i,e)){s===xM.T7&&(i.byte+=1);var u=t;return u.E7=i.byte,u}}}}function FM(t){return 4===t.I7}function zM(t){for(var n=t.filter(FM).map(HM).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,UM(r.R7,r.p7,r.E7,r.A7))}return i}!function(t){t[t.T7=47]="T7",t[t.S7=49]="S7"}(xM||(xM={}));var VM="und";var WM,GM=[{wi:"Abkhaz",eb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",eb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",eb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",eb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",eb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",eb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",eb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",eb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",eb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",eb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",eb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",eb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",eb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",eb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",eb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",eb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",eb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",eb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",eb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",eb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",eb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",eb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",eb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",eb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",eb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",eb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",eb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",eb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",eb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",eb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",eb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",eb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",eb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",eb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",eb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",eb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",eb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",eb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",eb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",eb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",eb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",eb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",eb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",eb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",eb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",eb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",eb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",eb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",eb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",eb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",eb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",eb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",eb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",eb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",eb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",eb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",eb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",eb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",eb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",eb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",eb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",eb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",eb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",eb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",eb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",eb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",eb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",eb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",eb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",eb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",eb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",eb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",eb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",eb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",eb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",eb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",eb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",eb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",eb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",eb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",eb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",eb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",eb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",eb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",eb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",eb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",eb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",eb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",eb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",eb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",eb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",eb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",eb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",eb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",eb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",eb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",eb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",eb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",eb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",eb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",eb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",eb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",eb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",eb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",eb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",eb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",eb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",eb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",eb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",eb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",eb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",eb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",eb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",eb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",eb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",eb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",eb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",eb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",eb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",eb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",eb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",eb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",eb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",eb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",eb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",eb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",eb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",eb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",eb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",eb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",eb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",eb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",eb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",eb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",eb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",eb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",eb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",eb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",eb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",eb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",eb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",eb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",eb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",eb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",eb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",eb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",eb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",eb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",eb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",eb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",eb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",eb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",eb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",eb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",eb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",eb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",eb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",eb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",eb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",eb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",eb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",eb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",eb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",eb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",eb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",eb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",eb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",eb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",eb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",eb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",eb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",eb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",eb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",eb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",eb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",eb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",eb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",eb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",eb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",eb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",eb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",eb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",eb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",eb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],qM=[128,64,32,16,8,4,2,1];function YM(t,n){var i=w.floor(n.bit/8),e=0==((PM(t)?t.Iu(i):t[i])&qM[n.bit%8])?0:1;return n.bit+=1,e}function jM(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+YM(t,n);return e}function QM(t,n){for(var i=0;0===YM(t,n)&&i<32;)i+=1;return jM(t,n,i)+w.pow(2,i)-1}function ZM(t,n){var i=QM(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function KM(t,n){var i,e=[],r={byte:1};do{e.push($M(t,n,r)),i=n.Iu(r.byte)}while(void 0!==i&&128!==i);return e}function JM(t,n){var i,e=0;do{e+=i=BM(t,n)}while(255===i);return e}function $M(t,n,i){var e=JM(n,i),r=JM(n,i),s=i.byte,u=s+r;return i.byte=u,{R7:t,I7:e,D7:r,b7:s,A7:u,p7:n}}!function(t){t[t.N7=1]="N7",t[t.C7=2]="C7",t[t.P7=3]="P7",t[t.B7=4]="B7",t[t.O7=5]="O7",t[t.x7=6]="x7",t[t.L7=7]="L7",t[t.M7=8]="M7",t[t.U7=9]="U7"}(WM||(WM={}));var tU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function nU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+ZM(t,n)+256)%256;e=0===r?e:r}}var iU=function(){function t(t){this.X7=void 0,this.H7=[],this.F7=0,this.X7=t}var n=t.prototype;return n.z7=function(){for(var t=this.H7,n=w.max(0,this.F7+t.length-2),i=this.X7,e=i.b_,r=0;n<e;n+=1){var s=i.Iu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.F7=n-t.length},n.V7=function(t){for(var n=this.H7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Iu=function(t){if(!(t>this.X7.b_))return t>this.F7&&this.z7(),this.X7.Iu(this.V7(t))},t}();var eU=24;function rU(t){var n=t.LF,i=new LM;return i.h7(Mo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new iU(t),a=0,h=0,c=0,f=0,v=o.Iu(1),l={bit:32};if(QM(o,l),100===v||110===v||122===v||144===v){var d=QM(o,l);if(3===d&&(n=YM(o,l)),QM(o,l),QM(o,l),YM(o,l),1===YM(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===YM(o,l)&&nU(o,l,_<6?16:64)}var g=QM(o,l),m=QM(o,l);if(0===m)QM(o,l);else if(1===m){YM(o,l),ZM(o,l),ZM(o,l);for(var y=QM(o,l),k=0;k<y;k+=1)ZM(o,l)}QM(o,l),YM(o,l);var p=QM(o,l),b=QM(o,l),A=YM(o,l);if(0===A&&YM(o,l),YM(o,l),1===YM(o,l)&&(a=QM(o,l),h=QM(o,l),c=QM(o,l),f=QM(o,l)),1===YM(o,l)){if(1===YM(o,l)){var T=jM(o,l,8);if(255===T)i=jM(o,l,16),e=jM(o,l,16);else{var S=tU[T];S&&(i=S[0],e=S[1])}}1===YM(o,l)&&YM(o,l),1===YM(o,l)&&(jM(o,l,3),YM(o,l),1===YM(o,l)&&(jM(o,l,8),jM(o,l,8),jM(o,l,8))),1===YM(o,l)&&(QM(o,l),QM(o,l)),1===(r=YM(o,l))&&(s=jM(o,l,32),u=jM(o,l,32),YM(o,l))}return{width:w.floor(16*(p+1)-2*a-2*h),height:w.floor((2-A)*(b+1)*16-2*c-2*f),nS:i,iS:e,W7:!!r&&u/(2*s),G7:n,q7:g}}(i).W7}function sU(t){var n=rU(t)||eU;return t.Y7/n}function uU(t){return t.fs===uk.Ob}var oU,aU=65536;function hU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.Y7,s=ft.fromNumber(t.AS||0),u=e.Sy(tk.Vk(s,r));return{j7:e.Ek(),Q7:e,Z7:u,K7:e}}(t,0,i,e),o=tk.Wk(t.Hg||0,i.Y7),a=t.IA||0,h=!(a&aU)&&(a>>24&3)!==oU.SAMPLE_DEPENDS_ON_OTHERS,c=Lo(r),f=new Vo;f.Pu<c.byteLength;){var v=fo(c,f);if((31&ao(c,f,1))===WM.x7){var l,d=new LM;d.h7(r,f.Pu-1,f.Pu+v-1);var w=KM(u.Z7,d);(l=s=s||[]).push.apply(l,zM(w))}f.Bu(v-1)}return Nr({},u,{Hg:o.Ek(),J7:o,ttt:u.Z7.Ek(),ntt:u.j7,itt:h,ett:s,rtt:!1,stt:!1})}function cU(t){return t.fs===uk.sb}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(oU||(oU={}));var fU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Oy),vU=function(){function t(t,n){this.cZ=t,this.KQ=n}return t.prototype.lk=function(t){return this.cZ===t.cZ&&this.KQ===t.KQ},t}(),lU=function(){function t(t,n){this.utt="",this.sU=t,this.ott=n}var n=t.prototype;return n.att=function(t){this.utt+=t},n.htt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.att(i)}},A(t,[{key:"yZ",get:function(){return this.utt}},{key:"dZ",get:function(){return[this]}},{key:"gZ",get:function(){return this.sU}},{key:"pZ",get:function(){return this.ott}},{key:"kZ",get:function(){return new vU(this.pZ.cZ,this.pZ.KQ+this.yZ.length-1)}}]),t}(),dU=function(){function t(){}var n=t.prototype;return n.ctt=function(t){return t.zp(this)},n.ftt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.zp(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.ltt=function(t,n){return new wU(t,n).dtt()},t}(),wU=function(){function t(t,n){this.wtt=[],this._tt=null,this.cZ=t,this.gtt=n}var n=t.prototype;return n.dtt=function(){if(this.mtt)return[];for(var t=0;t<this.cZ.length;t++)this.ytt(t);return this.ktt(),this.wtt},n.ptt=function(t){this._tt=new lU(DB,new vU(this.gtt,t))},n.ktt=function(){this._tt&&(this.wtt.push(this._tt),this._tt=null)},n.ytt=function(t){var n=this.cZ[t];_U(n)?this._tt&&this.ktt():(this._tt||this.ptt(t),this._tt.att(n))},A(t,[{key:"mtt",get:function(){return this.cZ.every(_U)}}]),t}();function _U(t){return null==t}var gU=function(){function t(){}return t.btt=function(t,n,i){if(!(n>=i)){var e=Ws(t,function(t,n){return new wU(t.map(function(t){return t?t.Att():null}),n).dtt()});if(0!==e.length)return new fU(n,i,e)}},t}(),mU="black",yU="white",kU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),pU=function(){function t(){this.Ttt=[],this.Stt=0,this.Ett=void 0;for(var t=0;t<BB;t++)this.Ttt.push(null);this.Ett=!1}var n=t.prototype;return n.Itt=function(t){for(var n=0;n<BB;n++)t&&(this.Ttt[n]=t.Ttt[n])},n.lk=function(t){for(var n=0;n<BB;n++)if(this.Ttt[n]!==t.Ttt[n])return!1;return!0},n.Rtt=function(){for(var t=0;t<BB;t++)if(null!==this.Ttt[t])return!1;return!0},n.Dtt=function(t){this.Stt!==t&&(this.Stt=t),this.Stt<0?this.Stt=0:this.Stt>BB&&(this.Stt=BB-1)},n.Ntt=function(t){var n=this.Stt+t;this.Dtt(n)},n.Ctt=function(){this.Ntt(-1),this.Ttt[this.Stt]=null},n.att=function(t){t>=144&&this.Ctt();var n,i=kU[n=t]?String.fromCharCode(kU[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Stt>=BB||(32===Number(t)?(this.Ttt[this.Stt]=this.Ett?"</i>":"<i>",this.Ett=!this.Ett):this.Ttt[this.Stt]=t,this.Ntt(1))},n.Ptt=function(t){for(var n=t;n<BB;n++)this.Ttt[n]=null},n.Nu=function(){this.Ptt(0),this.Stt=0},n.Btt=function(){this.Ptt(this.Stt)},n.Ott=function(t,n){for(var i=this.Ttt,e=null,r=0;r<BB;r++){var s=i[r];null===s?e=null:(e||(e={xtt:r,Ltt:t,Tk:0,sT:1,Ttt:[[]]},n.push(e)),e.Ttt[0].push(s),e.Tk++)}},n.zp=function(t,n){return t.ltt(this.Ttt,n)},t}();var bU,AU=function(){function t(t,n){this.Mtt=void 0,this.Utt=void 0,this.Xtt=void 0,this.Htt=void 0,this.Ftt=void 0,this.ztt=void 0,this.Vtt=void 0,this.Wtt=void 0,this.Gtt=void 0,this.Mtt=new Array(TU+1);for(var i=0;i<=TU;i++)this.Mtt[i]=new pU;this.Utt=1,this.Xtt=0,this.Htt=t,this.Ftt=n,this.ztt=!1,this.Vtt=!1,this.Wtt=yU,this.Gtt=mU,this.k_()}var n=t.prototype;return n.qtt=function(t,n){var i="CC"+(this.Htt<<1|this.Ftt+1);if(t>=n)return null;var e=(new dU).ftt(this.Mtt.slice(1));return 0===e.length?null:{zy:new fU(t,n,e),Dl:i,Ytt:this.Htt<<1|this.Ftt+1}},n.k_=function(){this.jtt(),this.Utt=1},n.Qtt=function(){return this.Utt},n.Ztt=function(t){this.Utt=t},n.Dtt=function(t){this.Mtt[this.Utt].Dtt(t)},n.Ntt=function(t){this.Mtt[this.Utt].Ntt(t)},n.Ktt=function(){return this.Xtt},n.Jtt=function(t){this.Xtt=t},n.att=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case bU.$tt:i=void 0!==EU[n]?EU[n]:String.fromCharCode(n);break;case bU.tnt:i=IU[n];break;case bU.nnt:this.int(),i=RU[n];break;case bU.ent:this.int(),i=DU[n]}i&&this.Mtt[this.Utt].addParsedChar(i)}},n.int=function(){this.Mtt[this.Utt].Ctt()},n.rnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Mtt[t+e]=this.Mtt[n+e];else for(var r=0;r<i;r++)this.Mtt[t+r]=this.Mtt[n+r]},n.snt=function(t,n){for(var i=0;i<=n;i++)this.Mtt[t+i]=new pU},n.jtt=function(){this.snt(0,TU)},n.unt=function(){this.Utt=this.Xtt>0?this.Xtt:0,this.jtt()},n.ont=function(t){this.ztt=t},n.ant=function(t){this.Vtt=t},n.hnt=function(t){this.Wtt=t},n.cnt=function(t){this.Gtt=t},t}(),TU=15;!function(t){t[t.$tt=0]="$tt",t[t.tnt=1]="tnt",t[t.nnt=2]="nnt",t[t.ent=3]="ent"}(bU||(bU={}));var SU,EU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},IU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},RU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},DU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},NU=function(){function t(t,n){this.Vi=void 0,this.fnt=void 0,this.vnt=void 0,this.lnt=void 0,this.dnt=void 0,this.wnt=void 0,this._nt=void 0,this.gnt=void 0,this.Vi=SU.wN,this.fnt=new AU(t,n),this.vnt=new AU(t,n),this.lnt=new AU(t,n),this.dnt=this.vnt,this.wnt=0,this._nt=void 0,this.gnt=!1}var n=t.prototype;return n.k_=function(){this.gnt=!0,this.wnt=0,this.Vi=SU.wN,this.dnt=this.vnt,this._nt=void 0,this.vnt.k_(),this.lnt.k_(),this.fnt.k_()},n.mnt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.ynt=function(t,n){var i=this.mnt(t,n),e=(30&n)>>1,r=yU,s=!1;e<7?r=OU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==SU.$n){var o=this.dnt;if(this.Vi===SU.knt&&i!==o.Qtt()){var a=1+o.Qtt()-o.Ktt(),h=1+i-o.Ktt();o.rnt(h,a,o.Ktt()),o.snt(0,h-1),o.snt(i+1,TU-i)}o.Ztt(i);var c=CB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{ZQ:NB[i].ZQ,QQ:NB[i].QQ,KQ:NB[i].KQ,cZ:t}}(c,n);o.Dtt(f.KQ),this.dnt.ont(u),this.dnt.ant(s),this.dnt.hnt(r),this.dnt.cnt(mU)}}},n.pnt=function(t,n){this.dnt.ont(!1),this.dnt.ant(!1),this.dnt.hnt(yU);var i=this.bnt(t,bU.$tt," ".charCodeAt(0)),e=yU,r=!1,s=1==(1&n);return"white_italics"===(e=OU[(14&n)>>1])&&(e="white",r=!0),this.dnt.ont(s),this.dnt.ant(r),this.dnt.hnt(e),i},n.bnt=function(t,n,i){if(this.dnt.att(n,i),this.Vi===SU.Ant||this.Vi===SU.knt){var e=this.Tnt(this.dnt,this.wnt,t);return this.wnt=t,e}return null},n.Tnt=function(t,n,i){return this.gnt?null:t.qtt(n,i)},n.Snt=function(t,n){var i=mU;0==(7&t)&&(i=BU[(14&n)>>1]),this.dnt.cnt(i)},n.Ent=function(t){var n=CU,i=t.Int,e=t.Rnt,r=null;switch(i){case n.RCL:this.Dnt();break;case n.BS:this.Nnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Cnt(2,e);break;case n.RU3:r=this.Cnt(3,e);break;case n.RU4:r=this.Cnt(4,e);break;case n.FON:r=this.Pnt(e);break;case n.RDC:this.Bnt(e);break;case n.TR:this.Ont();break;case n.RTD:this.xnt();break;case n.EDM:r=this.Lnt(e);break;case n.CR:r=this.Mnt(e);break;case n.ENM:this.Unt();break;case n.EOC:r=this.Xnt(e)}return r},n.Mnt=function(t){var n=this.dnt;if(this.Vi!==SU.knt)return null;var i=this.Tnt(n,this.wnt,t),e=n.Qtt()-n.Ktt()+1;return n.rnt(e-1,e,n.Ktt()),n.snt(0,e-1),n.snt(n.Qtt(),TU-n.Qtt()),this.wnt=t,i},n.Cnt=function(t,n){this.dnt=this.vnt;var i=this.dnt,e=null;return this.Vi!==SU.knt&&this.Vi!==SU.$n&&(e=this.Tnt(i,this.wnt,n),this.vnt.unt(),this.lnt.unt(),this.gnt=!1,i.Ztt(TU)),this.Vi=SU.knt,i.Jtt(t),e},n.Pnt=function(t){return this.bnt(t,bU.$tt," ".charCodeAt(0))},n.Lnt=function(t){var n=this.vnt,i=null;return this.Vi!==SU.$n&&(i=this.Tnt(n,this.wnt,t)),n.jtt(),this.gnt=!1,i},n.Bnt=function(t){this.Vi=SU.Ant,this.dnt=this.vnt,this.dnt.Jtt(0),this.wnt=t},n.Unt=function(){this.lnt.jtt()},n.Xnt=function(t){var n=null;this.Vi!==SU.$n&&(n=this.Tnt(this.vnt,this.wnt,t));var i=this.lnt;return this.lnt=this.vnt,this.vnt=i,this.Dnt(),this.wnt=t,n},n.Dnt=function(){this.Vi=SU.Hnt,this.dnt=this.lnt,this.dnt.Jtt(0)},n.Nnt=function(){this.dnt.int()},n.Ont=function(){this.fnt.k_(),this.gnt=!1,this.xnt()},n.xnt=function(){this.dnt=this.fnt,this.Vi=SU.$n},n.Fnt=function(t,n,i){return this.dnt.att(bU.$tt,n),this.bnt(t,bU.$tt,i)},n.znt=function(t,n,i){var e=1&n?bU.ent:bU.nnt;return this.bnt(t,e,i)},n.Vnt=function(t){var n=t.Wnt,i=t.Int,e=t.Rnt;if(this._nt===(n<<8|i))return this._nt=void 0,null;if(this._nt=n<<8|i,this.Gnt(n,i))this.ynt(n,i);else{if(this.qnt(n,i))return this.pnt(e,i);if(this.Ynt(n,i))this.Snt(n,i);else{if(this.jnt(n,i))return this.bnt(e,bU.tnt,i);if(this.Qnt(n,i))return this.znt(e,n,i);if(this.Znt(n,i))return this.Ent(t);this.isTabOffset(n)&&this.dnt.Ntt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Znt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Gnt=function(t,n){return 16==(240&t)&&64==(192&n)},n.qnt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Ynt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.jnt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Qnt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Knt=function(t){return 16==(112&t)},t}(),CU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.wN=0]="wN",t[t.Hnt=1]="Hnt",t[t.Ant=2]="Ant",t[t.knt=3]="knt",t[t.$n=4]="$n"}(SU||(SU={}));var PU,BU=["black","green","blue","cyan","red","yellow","magenta","black"],OU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],xU=function(){function t(t,n,i,e,r){this.Jnt=void 0,this.ztt=void 0,this.Vtt=void 0,this.Gtt=void 0,this.Wtt=void 0,this.Jnt=t,this.ztt=n,this.Vtt=i,this.Gtt=e,this.Wtt=r}var n=t.prototype;return n.Att=function(){return this.Jnt},n.$nt=function(){return this.ztt},n.tit=function(){return this.Vtt},n.nit=function(){return this.Gtt},n.iit=function(){return this.Wtt},t}(),LU=function(){function t(t){this.eit=void 0,this.pN=void 0,this.rit=void 0,this.sit=void 0,this.uit=void 0,this.oit=void 0,this.ait=void 0,this.hit=void 0,this.cit=void 0,this.fit=void 0,this.nk=void 0,this.Utt=void 0,this.vit=void 0,this.Vtt=void 0,this.ztt=void 0,this.Wtt=void 0,this.Gtt=void 0,this.eit=t,this.pN=!1,this.rit=!1,this.sit=0,this.uit=0,this.oit=0,this.ait=0,this.hit=0,this.cit=PU.dit,this.fit=[],this.nk=0,this.Utt=0,this.vit=0,this.Vtt=!1,this.ztt=!1,this.Wtt=yU,this.Gtt=mU,this.wit()}var n=t.prototype;return n._it=function(t,n,i,e,r,s,u){this.pN=t,this.uit=n,this.sit=i,this.oit=e,this.rit=r,this.ait=s,this.hit=u},n.wit=function(){this.fit=[];for(var t=0;t<UU;t++)this.fit.push(this.git())},n.git=function(){for(var t=[],n=0;n<MU;n++)t.push(null);return t},n.mit=function(t){this.yit()&&(this.fit[this.Utt][this.vit]=new xU(t,this.ztt,this.Vtt,this.Gtt,this.Wtt),this.vit++)},n.kit=function(){this.yit()&&(this.vit<=0&&this.Utt<=0||(this.vit<=0?(this.vit=this.hit-1,this.Utt--):this.vit--,this.fit[this.Utt][this.vit]=null))},n.yit=function(){var t=this.Utt<this.ait&&this.Utt>=0,n=this.vit<this.hit&&this.vit>=0;return t&&n},n.pit=function(){return this.pN},n.Ait=function(t){for(var n=0,i=t;i<UU;i++,n++)this.fit[n]=this.fit[i];for(var e=0;e<t;e++,n++)this.fit[n]=this.git()},n.Tit=function(){if(this.Utt+1>=this.ait)return this.Ait(1),void(this.vit=0);this.Utt++,this.vit=0},n.Sit=function(){this.fit[this.Utt]=this.git(),this.vit=0},n.qtt=function(t,n){if(this.nk>=t)return null;var i=gU.btt(this.fit,this.nk,t);return i?(this.Eit(t),{zy:i,Dl:"svc"+n,Ytt:n}):null},n.Iit=function(t,n){this.Utt=t,this.vit=n},n.Rit=function(t){this.Gtt=t},n.Dit=function(t){this.Wtt=t},n.Nit=function(t){this.ztt=t},n.Cit=function(t){this.Vtt=t},n.Pit=function(){this.Utt=0,this.vit=0,this.ztt=!1,this.Vtt=!1,this.Wtt=yU,this.Gtt=mU},n.Bit=function(t){this.cit=t},n.Oit=function(){this.pN=!0},n.Vm=function(){this.pN=!1},n.xit=function(){this.pN=!this.pN},n.Eit=function(t){this.nk=t},t}();!function(t){t[t.Lit=0]="Lit",t[t.Mit=1]="Mit",t[t.dit=2]="dit",t[t.Uit=3]="Uit"}(PU||(PU={}));var MU=42,UU=15,XU=function(){function t(t){this.Xit=void 0,this.Hit=void 0,this.Fit=void 0,this.Xit=t,this.Hit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Fit=void 0}var n=t.prototype;return n.zit=function(t){var n=t.Vit(),i=n.Ai,e=n.Rnt;i===WU&&(i=i<<16|t.Vit().Ai);return i>=0&&i<=31?this.Wit(i,e):i>=128&&i<=159?this.Git(t,i,e):(i>=4096&&i<=4127?this.qit(t,255&i):i>=4224&&i<=4255?this.Yit(t,255&i):i>=32&&i<=127?this.jit(i):i>=160&&i<=255?this.Qit(i):i>=4128&&i<=4223?this.Zit(255&i):i>=4256&&i<=4351&&this.Kit(255&i),null)},n.jit=function(t){this.Fit&&(127!==t?this.Fit.mit(String.fromCharCode(t)):this.Fit.mit("\u266a"))},n.Qit=function(t){this.Fit&&this.Fit.mit(String.fromCharCode(t))},n.Zit=function(t){if(this.Fit)if(void 0!==GU[t]){var n=GU[t];this.Fit.mit(n)}else this.Fit.mit("_")},n.Kit=function(t){this.Fit&&(160===t?this.Fit.mit("[CC]"):this.Fit.mit("_"))},n.Wit=function(t,n){if(!this.Fit)return null;var i=this.Fit,e=null;switch(t){case HU:i.kit();break;case zU:i.pit()&&(e=i.qtt(n,this.Xit)),i.Tit();break;case VU:i.pit()&&(e=i.qtt(n,this.Xit)),i.Sit();break;case FU:i.pit()&&(e=i.qtt(n,this.Xit)),i.wit(),i.Iit(0,0)}return e},n.Git=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Jit(e)}else{if(136===n){var r=t.Vit().Ai;return this.$it(r,i)}if(137===n){var s=t.Vit().Ai;this.tet(s,i)}else{if(138===n){var u=t.Vit().Ai;return this.net(u,i)}if(139===n){var o=t.Vit().Ai;return this.iet(o,i)}if(140===n){var a=t.Vit().Ai;return this.eet(a,i)}if(143===n)return this.k_(i);if(144===n)this.ret(t);else if(145===n)this.uet(t);else if(146===n)this.Iit(t);else if(151===n)this.oet(t);else if(n>=152&&n<=159){var h=(15&n)-8;this._it(t,h,i)}}}return null},n.qit=function(t,n){n>=8&&n<=15?t.cA(1):n>=16&&n<=23?t.cA(2):n>=24&&n<=31&&t.cA(3)},n.Yit=function(t,n){n>=128&&n<=135?t.cA(4):n>=136&&n<=143&&t.cA(5)},n.Jit=function(t){this.Hit[t]&&(this.Fit=this.Hit[t])},n.aet=Dr.mark(function t(n){var i;return Dr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Hit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.$it=function(t,n){for(var i=null,e=0,r=this.aet(t);e<r.length;e++){var s=r[e],u=this.Hit[s];u.pit()&&(i=u.qtt(n,this.Xit)),u.wit()}return i},n.tet=function(t,n){for(var i=0,e=this.aet(t);i<e.length;i++){var r=e[i],s=this.Hit[r];s.pit()||s.Eit(n),s.Oit()}},n.net=function(t,n){for(var i=null,e=0,r=this.aet(t);e<r.length;e++){var s=r[e],u=this.Hit[s];u.pit()&&(i=u.qtt(n,this.Xit)),u.Vm()}return i},n.iet=function(t,n){for(var i=null,e=0,r=this.aet(t);e<r.length;e++){var s=r[e],u=this.Hit[s];u.pit()?i=u.qtt(n,this.Xit):u.Eit(n),u.xit()}return i},n.eet=function(t,n){for(var i=null,e=0,r=this.aet(t);e<r.length;e++){var s=r[e],u=this.Hit[s];u.pit()&&(i=u.qtt(n,this.Xit)),this.Hit[s]=void 0}return i},n.k_=function(t){var n=this.eet(255,t);return this.Nu(),n},n.Nu=function(){this.Fit=void 0,this.Hit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.ret=function(t){t.cA(1);var n=t.Vit().Ai;if(this.Fit){var i=(128&n)>0,e=(64&n)>0;this.Fit.Cit(i),this.Fit.Nit(e)}},n.uet=function(t){var n=t.Vit().Ai,i=t.Vit().Ai;if(t.cA(1),this.Fit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.het(s,r,e),c=this.het(a,o,u);this.Fit.Dit(h),this.Fit.Rit(c)}},n.Iit=function(t){var n=t.Vit().Ai,i=t.Vit().Ai;if(this.Fit){var e=15&n,r=63&i;this.Fit.Iit(e,r)}},n.oet=function(t){t.cA(1),t.cA(1);var n=t.Vit().Ai;if(t.cA(1),this.Fit){var i=3&n;this.Fit.Bit(i)}},n._it=function(t,n,i){var e=void 0!==this.Hit[n];if(!e){var r=new LU(n);r.Eit(i),this.Hit[n]=r}var s=t.Vit().Ai,u=t.Vit().Ai,o=t.Vit().Ai,a=t.Vit().Ai,h=t.Vit().Ai,c=t.Vit().Ai,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&h);e&&0===(7&c)||this.Hit[n].Pit(),this.Hit[n]._it(f,v,d,_,l,w,g),this.Fit=this.Hit[n]},n.het=function(t,n,i){var e={0:0,1:0,2:1,3:1};return qU[e[t]<<2|e[n]<<1|e[i]]},t}(),HU=8,FU=12,zU=13,VU=14,WU=16,GU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},qU=["black","blue","green","cyan","red","magenta","yellow","white"],YU=function(){function t(){this.cet=void 0,this.fet=void 0,this.vet=void 0,this.cet=[],this.fet=null,this.vet=0}var n=t.prototype;return n.let=function(t){if(t.fs===NM.s7){var n=63&t.Ai;return this.vet=2*n-1,void(this.fet=[])}if(this.fet&&(this.vet>0&&(this.fet.push(t),this.vet--),0===this.vet)){var i=new jU(this.fet);this.cet.push(i),this.fet=null,this.vet=0}},n.det=function(){return this.cet},n.wet=function(){this.cet=[]},n.Nu=function(){this.cet=[],this.fet=[],this.vet=0},t}(),jU=function(){function t(t){this._et=void 0,this.met=void 0,this._et=0,this.met=t}var i=t.prototype;return i.yet=function(){return this._et<this.met.length},i.ket=function(){return this._et},i.Vit=function(){if(!this.yet())throw new nf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.met[this._et++]},i.cA=function(t){if(this._et+t>this.met.length)throw new nf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this._et+=t},t}(),QU=function(){function t(){this.pet=void 0,this.bet=void 0,this.Aet=void 0,this.Tet=void 0,this.Eet=void 0,this.Iet=void 0,this.Ret=void 0,this.Det=void 0,this.Net=!1,this.pet=[],this.bet=[],this.Aet=new YU,this.Tet=0,this.Eet=Or({CC1:new NU(0,0),CC2:new NU(0,1),CC3:new NU(1,0),CC4:new NU(1,1)}),this.Iet=0,this.Ret=0,this.Det=Br(),this.k_()}var i=t.prototype;return i.Nu=function(){this.Tet=0,this.pet=[],this.bet=[],this.Aet.Nu(),this.k_(),this.Det.forEach(function(t){t.Nu()})},i.k_=function(){this.Iet=0,this.Ret=0,this.Eet.forEach(function(t){t.k_()})},i.S5=function(t,n){if(t.m7){var i=t.y7,e=t.k7,r=t.fs;r===NM.i7||r===NM.e7?this.pet.push({Rnt:n,fs:r,Wnt:i,Int:e,Cet:this.pet.length}):this.Net&&(this.bet.push({Rnt:n,fs:r,Ai:i,Cet:this.bet.length}),this.bet.push({Rnt:n,fs:NM.r7,Ai:e,Cet:this.bet.length}))}},i.JP=function(){var t=[];Is(this.pet,function(t,n){return t.Rnt-n.Rnt||t.Cet-n.Cet}),Is(this.bet,function(t,n){return t.Rnt-n.Rnt||t.Cet-n.Cet});for(var n=0,i=this.pet;n<i.length;n++){var e=i[n],r=this.Pet(e);r&&t.push(r)}for(var s=0,u=this.bet;s<u.length;s++){var o=u[s];this.Aet.let(o)}for(var a=this.Aet.det(),h=0;h<a.length;h++){var c=a[h],f=this.Bet(c);t.push.apply(t,f)}return this.Aet.wet(),this.pet=[],this.bet=[],t},i.Pet=function(t){var n=t.fs;if(NU.Knt(t.Wnt)){var i=t.Wnt>>3&1;0===n?this.Iet=i:this.Ret=i}var e="CC"+(n<<1|(n?this.Ret:this.Iet)+1),r=this.Eet.get(e);return 255===t.Wnt&&255===t.Int||!t.Wnt&&!t.Int||!this.Oet(t.Wnt)||!this.Oet(t.Int)?(++this.Tet>=45&&this.k_(),null):(this.Tet=0,t.Wnt&=127,t.Int&=127,t.Wnt||t.Int?NU.Knt(t.Wnt)?r.Vnt(t):r.Fnt(t.Rnt,t.Wnt,t.Int):null)},i.Bet=function(t){var i=[];try{for(;t.yet();){var e=t.Vit().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Vit().Ai;if(0!==r){if(!this.Det.has(r)){var u=new XU(r);this.Det.set(r,u)}for(var o=this.Det.get(r),a=t.ket();t.ket()-a<s;){var h=o.zit(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof nf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Oet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),ZU=function(t){function n(n,i){var e;return(e=t.call(this,"xet")||this).Ytt=n,e.zy=i,e}return S(n,t),n}(gu),KU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Let=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.Met(e,e.JQ.Ek()+n)}this.JP()},n}(function(t){function n(){var n;return(n=t.call(this)||this).Uet=void 0,n.Uet=new QU,n}S(n,t);var i=n.prototype;return i.Met=function(t,n){this.Uet.S5(t,n)},i.JP=function(){for(var t=this.Uet.JP(),n=0;n<t.length;n++){var i=t[n];this.Qs(new ZU(i.Ytt,i.zy))}},i.k_=function(){this.Uet.Nu()},i.Sd=function(){this.$s(),this.Uet.Nu()},n}(wu)),JU=function(t){function n(n){var i;return(i=t.call(this)||this).Xet=void 0,i.Het=void 0,i.Fet=NaN,i.zet=NaN,i.Vet=void 0,i.vE=void 0,i.Wet=function(t){i.Get({qet:t.Ytt,Yet:""}).mE(t.zy)},i.vE=n,i.Vet=Br(),i.Xet=new KU,i.Xet.Zs("xet",i.Wet),i}S(n,t);var i=n.prototype;return i.jet=function(t){return this.Vet.get(t)},i.Get=function(t){var n=this.Vet.get(t.qet);return n||(n=this.Qet(t),this.Vet.set(t.qet,n)),n},i.Qet=function(t){var n,i=function(t){if(t!==VM)for(var n=t.toLowerCase(),i=0;i<GM.length;i++){var e=GM[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.Yet),e=i?i.wi:"";t.Zet&&(e="easy "+e),n=t.x_?"CC "+t.x_:e?"CC "+e:"CC"+t.qet;var r=this.vE._E(Ip.$S,n,n,e,!1,_y.CEA608);return this.g_(r),r},i.x9=function(t){var n=ip.RA(Lo(t));this.Het=function(t){for(var n=0;n<t.VA.length;n++){var i=t.VA[n],e={iT:(h=t.VA[n]).pA.iT,Y7:h.JA.pA.yp},r=i.JA.cT.lT.wT.gT,s=xs(r,function(t){return t.fs===uk.pb});if(!s){var u=xs(r.filter(function(t){return t.fs===uk.Bb}),function(t){var n;return(null==(n=t.ZT)?void 0:n.fs)===uk.pb});u&&(s=u.ZT)}if(s){var o=JD(Lo(s.VT.Fi),new Vo),a=s.GT;return Nr({},e,{iT:i.pA.iT,VT:zo(s.VT.Fi),Tk:s.Tk,sT:s.sT,iS:a&&a.iS,nS:a&&a.nS,Ket:o.PF,Jet:o.BF,O9:o.OF,LF:o.LF[0],MF:o.MF[0]})}}var h}(n.filter(cU)[0])},i.a6=function(t,n,i,e){if(this.Het&&(m(this.Fet)||!Ut(this.Fet,n,1e-5))){m(this.zet)||Ut(n,this.zet,1e-5)||this.Xet.k_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.QS.ett&&n.push.apply(n,e.QS.ett),delete e.QS.ett}for(var r=0;r<n.length;r+=1)n[r].fS=r;return n.sort(PB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(uU),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=xs(c.VA,function(t){return t.pA.iT===i.iT});if(f)for(var v=f.pA.sS||0,l=f.pA.uS||0,d=f._S?f._S._S:ft.ZERO,w=c.cS+(null!=(h=f.pA.gS)?h:ft.ZERO).toNumber(),_=0,g=f.wS;_<g.length;_++)for(var m=g[_],y=w+(m.cS||0),k=0,p=m.bS;k<p.length;k++){var b=p[k],A=b.Cu||l,T=new LM;T.h7(t,y,y+A);var S=tk.Vk(d,i.Y7);T.QS=r(b,c,i,S,Ho(t,y,y+A)),s.push(T),y+=A,d=d.add(b.Hg||v||o)}}return s}(t,ip.RA(Lo(t)),this.Het,sU,hU));this.Xet.Let(r,e),this.Fet=n,this.zet=i}},i.k_=function(){var n=this;return this.Xet.k_(),this.Vet.forEach(function(t){return n.m_(t)}),this.Vet.clear(),this.Het=void 0,this.Fet=NaN,this.zet=NaN,t.prototype.k_.call(this)},i.Sd=function(){return this.Xet.tu("xet",this.Wet),this.Xet.Sd(),t.prototype.Sd.call(this)},n}(Yp);function $U(t){if(t.fs===rO.TJ&&void 0!==t.YJ){var n=t.YJ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.YJ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var tX=function(){function t(t){this.C4=void 0,this.$et=!1,this.C4=t}var n=t.prototype;return n.trt=function(t,n){return this.$et?this.C4.trt(t,n):We.resolve(!1)},n.V6=function(t,n){return this.$et?this.C4.V6(t,n):We.resolve(void 0)},n.V4=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.C4.V4(t));case 2:return n=i.sent,this.$et=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,We)},n.HM=function(t){return this.C4.HM(t)},t}(),nX="LLHLSPlayer",iX=[hm.Bg,hm.Og,hm.xg,hm.Lg,hm.u_],eX=[bf.pf,bf.Df,bf.Cf,bf.lf],rX=50,sX=3e4,uX=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).KR=void 0,h.lE=void 0,h.uD=void 0,h.rD=void 0,h.nrt=void 0,h.irt=void 0,h.ert=void 0,h.rrt=void 0,h.C4=void 0,h.ym=void 0,h.pm=void 0,h.Am=void 0,h.urt=Br(),h.ort=void 0,h.art=void 0,h.eD=void 0,h.C9=void 0,h.P9=void 0,h.hrt=!1,h.dE=new Js,h.crt=void 0,h.K4=void 0,h.JR=void 0,h.E5=void 0,h.frt=void 0,h.vrt=new Js,h.lrt=void 0,h.Z4=void 0,h.drt=void 0,h.wrt=void 0,h._rt=void 0,h.grt=void 0,h.mrt=void 0,h.yrt=[],h.nW=void 0,h.iW=void 0,h.krt=void 0,h.prt=void 0,h.brt=void 0,h.t9=void 0,h.Art=new Js,h.Trt=void 0,h.Jq=new Js,h.Kq=void 0,h.Srt=-1,h.Ert=void 0,h.Irt=void 0,h.Rrt=void 0,h.Drt=void 0,h.Nrt=void 0,h.Crt=void 0,h.Prt=!0,h.Brt=0,h.Ort=!1,h.yC=1,h.nD=JT.wN,h.$R=void 0,h.tD=void 0,h.eW=uS.fC(),h.xrt=[],h.Lrt=void 0,h.Mrt=!1,h.Urt=void 0,h.Xrt=void 0,h.Hrt=!1,h.Frt=void 0,h.zrt=void 0,h.oD=new VT,h.handleContentProtectionErrorEvent=function(t){h.$R=$m(t.errorObject),h.tD=t.errorObject,h.js(t)},h.handleBufferingErrorEvent=function(t){h.hD(new nf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.Vrt=function(){h.Wrt();var t=h.Hg;t!==h.Urt&&(h.Urt=t,h.Qs(new gm(h.Urt)))},h.Grt=function(){h.Fg&&h.Qs(new km(h.Xg))},h.qrt=function(){h.Qs(new fm(h.Xg))},h.Yrt=function(){h.Qs(new vm(h.Xg))},h.vD=function(){void 0!==h.zrt&&i.jn(h.zrt),h.Qs(new lb(h.Xg))},h.jrt=function(){h.Qs(new pD(h.Xg))},h.IE=function(){h.Qs(new Im(h.Xg,h.Y_))},h.UG=function(){var t=h.g$;Vs(h.xrt,t)||(h.Qs(new BL),h.xrt=t),h.Qs(new ym(h.Xg,h.$m))},h.Qrt=function(){hu(h.L0())},h.oW=function(){h.Qs(new bm(h.Xg))},h.fD=function(){h.Qs(new Am(h.Xg))},h.Zrt=function(){h.Qs(new Tm(h.Xg,h.Qg))},h.Krt=function(){h.KR.qg?h.Qs(new vb(h.Xg)):(h.zrt=i.Qn(function(){h.Frt=void 0,hu(h.Jrt())},EM),h.Qs(new vb(h.Xg)))},h.$rt=function(t){tu(t)||Bp(t)||Op(t)||(h.tst(),hu(h.nst()),h.Qs(new nx(t)))},h.n6=function(){h.Wrt()},h.ist=function(t){hu(h.rst(t.v$))},h.sst=$(function(t){var n=[h.E5,h.Trt,h.Kq].filter(H);h.Jq=new Js,h.Kq=h.rj(n,t,h.Jq.Ws).catch(h.$rt)},rX),h.ust=function(t){if(!tu(t)){var i=t instanceof nf?t:new nf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.hD(i)}},h.onTextTrackChange=function(t){if(h.drt){var n=t.Yw,i=xs(h.drt.l2,function(t){return n===h.urt.get(t.B_)});i&&(n.W_===Eg.H_||n.W_===Eg.F_?(hu(h.ost(i)),h.urt.forEach(function(t){t!==n&&(t.W_=Eg.X_)})):h.grt&&h.grt===i&&hu(h.ast(h.wrt,h._rt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.hst===t||h.k$===t||h.b$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Dr.awrap(h.Z4.X4(t,n));case 4:t.zJ.M3=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},h.cst=function(){h.fst()},h.vst=function(){h.lst()},h.dst=function(t){if(t.v$.jJ){var n=h.Z4.M$.m4(t.v$);if(n&&!n.HF){h.Z4.Y4(n,t.HF),h.ort.F$();var i=h.drt;if(i){var e=void 0!==h.wrt&&!Hs(i.X$,h.wrt),r=void 0!==h._rt&&!Hs(i.H$,h._rt);(e||r)&&h.ast(e?void 0:h.wrt,r?void 0:h._rt,h.grt).catch(K)}}}},h.wst=function(t){h.Z4.G4(t.v$)},h.TC=s,h.x6=u,h._st=o,h.C4=new tX(a),h.KR=e,h.lE=new VO(r,h.TC),h.uD=new tx(h.TC.Jx),h.ert=new ix(h.KR),h.rrt=new hx(h.TC),h.ym=new ny,h.pm=new ny,h.ort=new zO(Kt(h),h.ym,h.pm),h.art=new Rp,h.eD=new Qp(h.KR,h.lE),h.C9=new CM(h.KR),h.P9=new JU(h.KR),h.Am=new HT([h.art,h.eD.VA,h.C9.VA,h.P9.VA]),h.rD=new UT(h.lE),h.KR.ED=h.rD,h.nrt=new aX(Kt(h),h.KR),h.irt=new wb(h.nrt,!0),h.gst(),h}S(e,t);var r=e.prototype;return r.mst=function(t){return Gs(t,function(t){return t.NR})},r.Jrt=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.yst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Dr.awrap(this.kst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.mst(t))){e.next=14;break}return e.next=13,Dr.awrap(this.y$(i,!0));case 13:this.uD.N0(i.NR);case 14:case"end":return e.stop()}},null,this,null,We)},r.Wrt=function(){var t=function(t){for(var n=new uS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.zJ.py;s.b_>0&&(n=n.FN(s),i=w.max(i,s.RN(0)))}if(n.b_>0)return n;return uS.cC(i)}([this.wrt,this._rt].filter(H));0!==t.b_&&(this.JR&&this.JR.HX&&this.pst&&(t=new uS([t.RN(0),this.JR.Hg])),this.eW=t,this.C9.fE(t.RN(0)),this.P9.fE(t.RN(0)))},r.Lm=function(){return!1},r.Gm=function(){return hS},r.Vm=function(){HO.cT(nX,"Hiding the player."),this.KR.Vm()},r.Pm=function(){HO.cT(nX,"Pausing the player."),this.KR.Pm()},r.Cm=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.KR.Cm(),this.hrt){n.next=4;break}return n.next=4,Dr.awrap(this.jh());case 4:return n.next=6,Dr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.bst=function(){this.$R=void 0,this.tD=void 0},r.hD=function(t){this.$R||(hu(this.k_()),this.$R=$m(t),this.tD=t,this.Qs(new Rm(t)))},r.zm=function(){HO.cT(nX,"Showing the player."),this.KR.zm()},r.Mm=function(){throw new v("Not implemented")},r.Um=function(){throw new v("Not implemented")},r.Km=function(){},r.xm=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(HO.cT(nX,"Setting the player source to "+t.src+"."),this.bst(),!this.crt||em(this.crt)){r.next=6;break}return r.next=5,Dr.awrap(this.k_());case 5:nu(e);case 6:if(t.src&&!em(t)){r.next=8;break}return r.abrupt("return");case 8:this.rD.xR(t.contentProtection),this.K4=t,this.Zs(eO.bJ,this.handleBufferingErrorEvent),this.Z4=new IL(this.lE,this.C4,i.Or(t.src)),this.Z4.Zs(TL.b4,this.n6),this.Z4.Zs(TL.A4,this.ist),this.lrt=new PL(t,this.Z4,this.KR),this.Am.WR(this.lrt.Dm),this.t9=this._st.yK(),n.textTracks&&this.OD(n.textTracks),tb(this.Am),this.Ast();case 20:case"end":return r.stop()}},null,this,null,We)},r.jh=function(){return this.E5?this.E5:(this.E5=this.Aw(this.dE.Ws).catch(this.ust),this.E5)},r.Aw=function(t){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(HO.cT(nX,"Loading the player."),this.Z4.j4){c.next=13;break}return c.prev=2,c.next=5,Dr.awrap(this.Z4.P4(t));case 5:this.Tst(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),iu(c.t0),this._y=!1,new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.mrt=this.Z4.M$.U$,this.mrt.length){c.next=16;break}throw new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Dr.awrap(this.Sst(this.mrt));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new nf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Dr.awrap(this.kst(e));case 23:(r=c.sent).length>0&&(e=r),HO.cT(nX,"Selecting initial active variant stream."),s=cX(e,null==(i=this.K4)?void 0:i.abr,this.TC),(u=vX(s.X$))&&HO.cT(nX,"Detected initial audio rendition."),(o=vX(s.H$))&&HO.cT(nX,"Detected initial video rendition."),(a=hX(s.l2))&&HO.cT(nX,"Detected initial subtitle rendition."),a||(h=hX(s.d2))&&HO.cT(nX,"Detected initial closed caption rendition."),this.Est(s),this.ort.L$(),this.Ist(s,h),this.ast(u,o,a).catch(K),this.hrt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],We)},r.Tst=function(){this.Hrt||(this.Hrt=!0,this.nrt.Rst())},r.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.eD.wE(i)}},r.Ist=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=$U(e);void 0!==r&&n.push({qet:r,Yet:e.L_||"",x_:e.wi})}return n}(t.d2),e=0;e<i.length;e++){var r=i[e];this.P9.Get(r)}if(void 0!==n){var s=$U(n);this.P9.jet(s).W_=Eg.F_}},r.Ast=function(){this.vrt.Fs(),this.vrt=new Js,this.frt=this.Dst(this.frt,this.vrt.Ws).catch(this.ust)},r.Dst=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.nD,!t){e.next=5;break}return e.next=4,Dr.awrap(t);case 4:nu(n);case 5:if(i!==JT.wN&&this.Z4){e.next=7;break}return e.abrupt("return");case 7:if(nu(n),this.Z4.j4){e.next=19;break}return e.prev=9,e.next=12,Dr.awrap(this.Z4.P4(n));case 12:this.Tst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),iu(e.t0),e.abrupt("return");case 19:if(i!==JT.Kb){e.next=21;break}return e.abrupt("return");case 21:nu(n),this.jh().catch(this.ust);case 23:case"end":return e.stop()}},null,this,[[9,15]],We)},r.m$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Nst(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.mrt=t},r.Nst=function(t){var n=this.M$;return!!n&&Hs(n.U$,t)},r.Cst=function(t){if(this.drt)return xs(this.drt.V$,function(n){return n===t})},r.Est=function(t){if(HO.cT(nX,"Setting active variant stream."),this.drt!==t){var n;if((null==(n=this.drt)?void 0:n.i1)!==(null==t?void 0:t.i1)){if(this.drt)for(var i=0,e=this.drt.l2;i<e.length;i++){var r=e[i];this.yE(r)}if(t)for(var s=0,u=t.l2;s<u.length;s++){var o=u[s];this.Pst(o)}}this.drt=t,this.Qs(new hM)}},r.Pst=function(t){var n=this.KR._E(Ip.Qb,void 0,t.wi,t.L_,t.VJ);this.art.g_(n),this.urt.set(t.B_,n),n.Zs(Z_.r_,this.onTextTrackChange)},r.yE=function(t){var n=this.urt.get(t.B_);n&&(n.tu(Z_.r_,this.onTextTrackChange),this.art.m_(n),this.urt.delete(t.B_),this.KR.yE(n))},r.yst=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.mrt)?t:this.M$.U$).length||this.mrt){r.next=4;break}return HO.cT(nX,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.mrt){r.next=7;break}return HO.cT(nX,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Dr.awrap(this.Sst(n));case 9:if((i=r.sent).length){r.next=13;break}return HO.P$(nX,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=lX(i)).length){r.next=22;break}if(!this.Ort){r.next=17;break}return r.abrupt("return",void 0);case 17:return HO.P$(nX,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.Brt++,r.next=21,Dr.awrap(this.Bst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r.L0=function(){var t,n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.yst());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.KR,o=void 0,a=void 0,o=u.Xg,a=u.Jm.uC(o),n=a?a.NN(0)-o:0,s.next=8,Dr.awrap(this.kst(t));case 8:return i=s.sent,s.next=11,Dr.awrap(this.rrt.L0(t,this.drt,n,i));case 11:if(e=s.sent,r=!!this.drt&&e.NR<this.drt.NR,!(!!r||this.Ost(e,t,n))){s.next=17;break}return s.next=17,Dr.awrap(this.y$(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,We)},r.Ost=function(t,n,e){var r,s;if(t===this.d$)return!1;if(t===this.mst(n))return!0;(!this.Frt||this.Frt.w$.NR>t.NR)&&(this.Frt={w$:t,j7:i.ir()});var u=i.ir()-this.Frt.j7,o=null!=(r=null==(s=this.b$)?void 0:s.zJ.P0)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.Bst=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Ort=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this._rt?xs(e.H$,function(t){return yO(t,u._rt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Dr.awrap(this.X4(r));case 11:r.zJ.M3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.Brt=0,o.next=24,Dr.awrap(this.xst());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.Brt),sX),o.next=29,Dr.awrap(fu(s));case 29:return this.Ort=!1,o.next=32,Dr.awrap(this.L0());case 32:case"end":return o.stop()}},null,this,[[5,15]],We)},r.Sst=function(t){var n,i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(js(t,function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.HF){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.HF.XF,n.t1){n.next=7;break}return n.next=6,Dr.awrap(i.ert.XX('audio/mp4; codecs="'+t.HF.XF+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.HF.UF,n.t2){n.next=14;break}return n.next=13,Dr.awrap(i.ert.XX('video/mp4; codecs="'+t.HF.UF+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.HF)?void 0:n.UF})&&(n=n.filter(function(t){return!t.HF||t.HF.UF})),n.some(function(t){var n;return null==(n=t.HF)?void 0:n.XF})&&(n=n.filter(function(t){return!t.HF||t.HF.XF})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.kst=function(t){var n=this;return js(t,function(t){var i,e,r,s,u=[vX(t.X$),vX(t.H$),hX(t.l2),hX(t.d2)].filter(H);return i=u,e=function(t){return n.Lst(t)},Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Dr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.Lst=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.zJ.$K.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.zJ.$K[0]).QJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.QJ,e=i.SJ?oO(i.SJ.RN,i.SJ.b_):void 0,r.prev=7,r.next=10,Dr.awrap(this.C4.trt(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.y$=function(t,n){var i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.hrt){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Nst(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.drt){u.next=9;break}return HO.cT(nX,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.wrt?xs(t.X$,function(t){return yO(t,s.wrt)}):void 0,e=this._rt?xs(t.H$,function(t){return yO(t,s._rt)}):void 0,r=this.grt?xs(t.l2,function(t){return yO(t,s.grt)}):void 0,this.Est(t),this.Frt=void 0,u.next=16,Dr.awrap(this.ast(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.p$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.hrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.drt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Cst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return HO.cT(nX,"Switching audio rendition"),i.next=12,Dr.awrap(this.ast(n,this._rt,this.grt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.A$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.hrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.drt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Cst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return HO.cT(nX,"Switching video rendition"),i.next=12,Dr.awrap(this.ast(this.wrt,n,this.grt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r.ost=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.hrt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.drt){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Cst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return HO.cT(nX,"Switching subtitle rendition"),i.next=12,Dr.awrap(this.ast(this.wrt,this._rt,n));case 12:case"end":return i.stop()}},null,this,null,We)},r.rst=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Ort){i.next=2;break}return i.abrupt("return");case 2:if(t.fs===rO.wd){i.next=7;break}return i.next=5,Dr.awrap(this.Mst(t,n));case 5:i.next=17;break;case 7:if(!(this.mrt&&this.mrt.length<=1)){i.next=15;break}if(this._rt===t){i.next=11;break}return i.next=11,Dr.awrap(this.ast(this.wrt,t,this.grt));case 11:return i.next=13,Dr.awrap(this.Mst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Dr.awrap(this.L0());case 17:case"end":return i.stop()}},null,this,null,We)},r.X4=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Z4.X4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),iu(i.t0),!Bp(i.t0)&&!Op(i.t0)){i.next=11;break}return i.next=11,Dr.awrap(this.rst(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r.Mst=function(t,n){var i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hs(this.yrt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.yrt.push(t),e.prev=3,e.next=6,Dr.awrap(AL(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,sX));case 6:if(e.prev=6,Us(this.yrt,t),t.zJ.M3!==-1/0){e.next=11;break}return e.next=11,Dr.awrap(this.xst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],We)},r.ast=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.wrt===t&&this._rt===n&&this.grt===i?We.resolve():void 0===t&&void 0===n?We.reject(new v("Trying to buffer no media renditions.")):(this.wrt=t,this._rt=n,this.grt=i,this.Wrt(),this.Qs(new cM),this.Jq.Fs(),this.Jq=new Js,this.Art.Fs(),this.Art=new Js,this.Trt=this.Ust([this.Trt,this.Kq].filter(H),t,n,i,e,r,s,this.Art.Ws).catch(this.$rt),this.Trt)},r.Ust=function(t,n,i,e,r,s,u,o){var a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return this.tst(),v.next=5,Dr.awrap(this.nst());case 5:return a=[],s&&this.JR&&this.JR.KV&&a.push(this.JR.KV.Qh(0,1/0)),u&&this.JR&&this.JR.JV&&a.push(this.JR.JV.Qh(0,1/0)),v.next=10,Dr.awrap(We.all(a));case 10:return nu(o),v.next=13,Dr.awrap(this.Xst(n,i,o));case 13:return this.Hst(n,i,r),this.Fst(e,r),nu(o),h=n&&i&&pO(n,i),c=[i,h?void 0:n,e].filter(H),v.prev=18,v.next=21,Dr.awrap(We.all(c.filter(function(t){return!t.zJ.x3}).map(function(t){var n;return null==(n=f.Z4)?void 0:n.H4(t,o)})));case 21:v.next=26;break;case 23:v.prev=23,v.t0=v.catch(18),iu(v.t0);case 26:nu(o),this.vW(),this.Wrt(),void 0!==this.Lrt?this.sst(this.Lrt):!this.Mrt&&c.every(function(t){return!t.zJ.V1})?this.sst(1/0):this.zst.length>0&&this.Vst();case 30:case"end":return v.stop()}},null,this,[[18,23]],We)},r.Xst=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.JR){c.next=7;break}if(s=void 0!==this.JR.KV,u=void 0!==this.JR.JV,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,Dr.awrap(this.Wst(t,n,this.drt));case 9:for(o=c.sent,nu(i),a=0,h=this.zst;a<h.length;a++)h[a].d9.forEach(function(t){return t.Fs()});if(this.KR.mj(),c.prev=13,!this.JR){c.next=17;break}return c.next=17,Dr.awrap(this.KR.k_());case 17:return c.next=19,Dr.awrap(this.Gst(o,e,r));case 19:this.JR=c.sent;case 20:return c.prev=20,this.KR.yj(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],We)},r.Wst=function(t,n,i){var e,r,s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.HF,a=[],o&&o.XF&&(h='audio/mp4; codecs="'+o.XF+'"',HO.cT(nX,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.UF&&(c='video/mp4; codecs="'+o.UF+'"',HO.cT(nX,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return HO.P$(nX,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.zJ.$K[0])?void 0:r.P1)?e:[],v=null!=(s=null==t?void 0:null==(u=t.zJ.$K[0])?void 0:u.P1)?s:[],l=this.Z4.M$,w.next=12,Dr.awrap(yx(this.K4.contentProtection,a,l.y4.concat(v).concat(f),this.lE));case 12:return d=w.sent,w.abrupt("return",{fs:nb.bE,dW:a.map(function(t){return{Nl:t}}),ND:d});case 14:case"end":return w.stop()}},null,this,null,We)},r.Gst=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Dr.awrap(this.KR.jh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new lM(this.KR,n,i);case 7:return this.JR=e,this.vW(),this.fst(),this.lst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.vW=function(){var t=this.JR;if(t&&m(t.Hg)){var n,i,e,r=null!=(n=null==(i=this.wrt)?void 0:i.zJ.Hg)?n:null==(e=this._rt)?void 0:e.zJ.Hg;void 0!==r&&r>0&&t.cW(r)}this.Wrt()},r.fst=function(){var t=this.JR;t&&(t.JV&&(t.JV.eL=this.TC.mL),t.KV&&(t.KV.eL=this.TC.mL))},r.lst=function(){var t=this.JR;t&&(t.JV&&(t.JV.oL=this.TC.oL),t.KV&&(t.KV.oL=this.TC.oL))},r.Hst=function(t,n,i){if(!this.JR)throw new v("Invalid state");this.JR.KV?this.nW&&this.nW.B9(this.JR.KV)||(this.nW=new SM(ty.dd,this.JR.KV,this.C9,this.P9)):this.nW=void 0,this.JR.JV?this.iW&&this.iW.B9(this.JR.JV)||(this.iW=new SM(ty.wd,this.JR.JV,this.C9,this.P9)):this.iW=void 0;var e,r,s,u,o,a,h,c,f,l,d,w,_,g,m=t&&n&&pO(t,n);if(this.iW&&n){var y=m&&this.nW?[this.iW,this.nW]:[this.iW];this.prt?this.prt.v$!==n&&(i&&(this.prt.Fs(),this.prt.i9.Nu()),this.prt.X5(n)):(this.prt=(e=n,r=y,this.KR,s=this.Z4,u=this.lE,o=this.C4,a=this.x6,h=this.t9,c=this.TC,f=new nM,l=new ZL(ty.wd,e,s,f,u,o,a),d=r.map(function(t){return t.fs}),w=h.qst(e,f,s.M$.WS,d),(_=new aM(l,f,w,c)).n9(r),_),this.prt.v9.Zs(qL.R5,this.Qrt),this.prt.l9.Zs(tM.P8,this.dst),this.prt.l9.Zs(tM.B8,this.wst)),this.prt.n9(y)}else{var k;null==(k=this.prt)||k.xs(),this.prt=void 0}this.nW&&t&&!m?(this.krt?this.krt.v$!==t&&(i&&(this.krt.Fs(),this.krt.i9.Nu()),this.krt.X5(t)):(this.krt=function(t,n,i,e,r,s,u,o,a){var h=new nM,c=new ZL(ty.dd,t,e,h,r,s,u),f=o.qst(t,h,e.M$.WS,[n.fs]),v=new aM(c,h,f,a);return v.n9([n]),v}(t,this.nW,this.KR,this.Z4,this.lE,this.C4,this.x6,this.t9,this.TC),this.krt.l9.Zs(tM.P8,this.dst),this.krt.l9.Zs(tM.B8,this.wst)),this.krt.n9([this.nW])):(null==(g=this.krt)||g.xs(),this.krt=void 0);this.Yst()},r.Fst=function(t,n){this.brt&&(this.brt.v9.v$===t?n&&(this.brt.Fs(),this.brt.i9.Nu()):(this.brt.xs(),this.brt=void 0));if(!this.brt&&t){var i=this.urt.get(t.B_);i.W_=Eg.F_,this.brt=function(t,n,i,e,r,s){var u=i.M$.WS,o=new eM(n,u),a=new nM,h=new ZL(ty.$n,t,i,a,e,r,s),c=new oM(t,a,u,ty.$n),f=new aM(h,a,c);return f.e9(o),f}(t,i,this.Z4,this.lE,this.C4,this.x6)}},r.Yst=function(){var t=[this.nW,this.iW].filter(H).map(function(t){return t.fs});this.Z4.M$.WS.r4(t)},r.rj=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return nu(i),r.next=5,Dr.awrap(this.nst());case 5:nu(i),this.Lrt=void 0,this.Xrt=void 0,this.Mrt=!0,e=this.jst.UN(n),this.KR.xu(e),this.hrt&&this.zst.length>0&&(this.Qst(this.KR.Xg),this.Vst());case 12:case"end":return r.stop()}},null,this,null,We)},r.Qst=function(t){for(var n=0,i=this.zst;n<i.length;n++){var e=i[n];e.z5(t)||(e.c9(),e.i9.k8()),e.o9(t)||(e.f9(),e.i9.p8())}},r.tst=function(){for(var t=0,n=this.zst;t<n.length;t++){n[t].Fs()}},r.nst=function(){return We.all([this.Zst(),this.Kst(),this.Jst()])},r.Vst=function(){this.$st(),this.tut(),this.nut()},r.xst=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.hrt&&this.zst.length>0)){t.next=6;break}return this.zst.forEach(function(t){return t.c9()}),t.next=4,Dr.awrap(this.Zst());case 4:this.$st(),this.zst.forEach(function(t){return t.v9.j5()});case 6:case"end":return t.stop()}},null,this,null,We)},r.$st=function(){var t=this;if(!this.Drt){var n=function(){t.Drt=void 0};this.Ert=new Js,this.Drt=this.iut(this.Ert.Ws).catch(this.$rt).then(n,n)}},r.Zst=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Ert)||t.Fs(),n=this.Drt,this.Drt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.iut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:nu(t),n=this.zst;case 2:for(i=[],e=this.KR.Xg,r=0;r<n.length;r++)s=n[r],u=s.v9,o=s.s9(e),u.b6?i.push(u.T6()):s.h9(e,o,this.TC.mL)&&((a=u.V5(o))?(c=a[0],f=a[1],u.n8(c,f,s.v6)):((h=u.v$.zJ.$K).length&&h[0].Vy>o&&(this.Xg=1/0),u.K5(),u.q5(o)),i.push(u.T6()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.v9.c8})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Dr.awrap(this.KR.au(bf.Hf,t));case 11:v.next=15;break;case 13:return v.next=15,Dr.awrap(ru(We.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,We)},r.tut=function(){var t=this;if(!this.Nrt){var n=function(){t.Nrt=void 0};this.Irt=new Js,this.Nrt=this.eut(this.Irt.Ws).catch(this.$rt).then(n,n)}},r.Kst=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Irt)||t.Fs(),n=this.Nrt,this.Nrt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.eut=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(t),n=this.zst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.v9,(u=r.l9).b6?i.push(u.T6()):(o=s.H5())?"u8"===o.fs?(u.z8(o),i.push(u.T6())):"U1"===o.fs&&(u.H8(o),i.push(u.T6())):i.push(s.Q5());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.v9.c8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.KR.au(bf.Hf,t));case 10:a.next=14;break;case 12:return a.next=14,Dr.awrap(ru(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.nut=function(){var t=this;if(!this.Crt){this.Rrt=new Js;var n=function(){t.Crt=void 0};this.Crt=this.rut(this.Rrt.Ws).catch(this.$rt).then(n,n)}},r.Jst=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Rrt)||t.Fs(),n=this.Crt,this.Crt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.rut=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l,d=this;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.zst).forEach(function(t){return t.r9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.l9,a=0,h=u.d9;a<h.length;a++)c=h[a],f=c.k6?i:e,c.b6?f.push(c.T6()):c.S6(this.KR.Xg)||((v=o.q8(c.fs))?"u8"===v.fs&&v.F1===this.Srt?(c.N6(v),f.push(c.T6())):"Q8"===v.fs&&v.F1===this.Srt&&(c.qz(v),f.push(c.T6())):r.push(o.Y8(c.fs)));if(0!==i.length){w.next=15;break}if(!((l=Ws(n,function(t){return t.d9.filter(function(t){return t.k6}).map(function(n){return t.l9.q8(n.fs)})})).length>0&&l.every(function(t){return void 0!==t&&"Q8"===t.fs&&t.F1!==d.Srt}))){w.next=15;break}return w.next=12,Dr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=qs(i=l,function(t){return t.F1}).F1,!i.every(function(t){return t.F1===e})){v.next=20;break}return r=Gs(i,function(t){return t.Vy}).Vy,v.next=7,Dr.awrap(d.sut(i));case 7:if(s=v.sent,!d.JR.CX(s)){v.next=15;break}return HO.C$("Discontinuity","Seamless switch from",d.JR.rc,"to",s),v.next=12,Dr.awrap(d.JR.PX(s));case 12:HO.C$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Dr.awrap(d.uut(r,s,t));case 17:d.Srt=i[0].F1,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.d9;a<h.length;a++)for(c=h[a],f=o.l9.q8(c.fs);f&&f.F1!==e;)o.l9.R6(f),f=o.l9.q8(c.fs);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.d9.length>0&&t.d9.every(function(t){return t.S6(d.KR.Xg)})})&&this.JR.vV(),w.abrupt("break",23);case 19:return w.next=21,Dr.awrap(ru(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.sut=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.Z8.HF}),i=n.map(function(t){return{Nl:t}}),(e=Ws(t,function(t){return t.Z8.P1})).push.apply(e,this.Z4.M$.y4),r=this.K4.contentProtection,u.next=7,Dr.awrap(yx(r,n,e,this.lE));case 7:return 0===(s=u.sent).length&&this.JR&&this.JR.rc.ND.length>0&&(s=this.JR.rc.ND),u.abrupt("return",{fs:nb.bE,dW:i,ND:s});case 10:case"end":return u.stop()}},null,this,null,We)},r.uut=function(t,n,i){var e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.JR,s=r.Hg,!(u=this.Xg<t)){h.next=19;break}h.prev=4,HO.C$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.vV();case 7:if(this.KR.Fg||!(this.KR.Xg<t)){h.next=12;break}return h.next=10,Dr.awrap(this.KR.au([bf.Hf,bf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.aV(),r.cW(s),h.t0;case 19:return HO.C$("Discontinuity","Perform hard switch from",null==(e=this.JR)?void 0:e.rc,"to",n),h.prev=20,this.Xg<t&&(this.Xg=t),this.KR.mj(),this.iW=void 0,this.nW=void 0,this.Yst(),h.next=28,Dr.awrap(this.KR.k_());case 28:return h.next=30,Dr.awrap(this.KR.jh(n));case 30:this.JR=h.sent,this.vW(),this.fst(),this.lst(),this.JR.JV&&(this.iW=new SM(ty.wd,this.JR.JV,this.C9,this.P9)),this.JR.KV&&(this.nW=new SM(ty.dd,this.JR.KV,this.C9,this.P9)),this.Yst();case 37:return h.prev=37,u&&hu(this.KR.Cm()),this.KR.yj(),h.finish(37);case 41:this.prt&&(o=void 0!==this.nW&&void 0===this.krt,a=o?[this.iW,this.nW]:[this.iW],this.prt.n9(a)),this.krt&&this.krt.n9([this.nW]),HO.C$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.out=function(t){return ru(cu(Ws(this.zst,function(t){return t.d9.map(function(t){return t.T6()})})),t)},r.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return HO.cT(nX,"Unloading the player."),this.aut(),this.bst(),t.next=5,Dr.awrap(this.k_());case 5:return this.KR.ED=void 0,this.art.Sd(),t.next=9,Dr.awrap(this.eD.Sd());case 9:return t.next=11,Dr.awrap(this.C9.Sd());case 11:return t.next=13,Dr.awrap(this.P9.Sd());case 13:this.ym.Sd(),this.pm.Sd(),this.Am.Sd(),this.irt.Sd(),this.nrt.xs(),this.x6.xs();case 19:case"end":return t.stop()}},null,this,null,We)},r.k_=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return HO.cT(nX,"Resetting the player."),this.tu(eO.bJ,this.handleBufferingErrorEvent),this.Srt=-1,this.vrt.Fs(),this.vrt=new Js,this.dE.Fs(),this.dE=new Js,this.Jq.Fs(),this.Jq=new Js,this.Art.Fs(),this.Art=new Js,t=[this.frt,this.E5,this.Kq,this.Trt].filter(H),n.next=14,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 14:return this.frt=void 0,this.E5=void 0,this.Kq=void 0,this.Trt=void 0,this.wrt=void 0,this._rt=void 0,this.grt=void 0,this.mrt=void 0,this.yrt=[],this.Est(void 0),this.tst(),n.next=27,Dr.awrap(this.nst());case 27:return this.krt&&(this.krt.xs(),this.krt=void 0),this.prt&&(this.prt.xs(),this.prt=void 0),this.brt&&(this.brt.xs(),this.brt=void 0),this.nW=void 0,this.iW=void 0,this.JR=void 0,this.t9&&(this.t9.xs(),this.t9=void 0),this.Z4&&(this.Z4.xs(),this.Z4=void 0),this.lrt&&(this.Am.qR(this.lrt.Dm),this.lrt=void 0),n.next=38,Dr.awrap(this.eD.k_());case 38:return n.next=40,Dr.awrap(this.C9.k_());case 40:return n.next=42,Dr.awrap(this.P9.k_());case 42:return this.KR.HD(),n.next=45,Dr.awrap(this.KR.k_());case 45:this.K4=void 0,this.crt=void 0,this.hrt=!1,this.yC=1,this.eW=uS.fC(),this.Lrt=void 0,this.Urt=void 0,this.Xrt=void 0,this.Mrt=!1,this.Hrt=!1,this.irt.k_(),this.hut(),this.Qs(new cm(this.Xg,this.Y_));case 58:case"end":return n.stop()}},null,this,null,We)},r.hut=function(){for(var t=0,n=this.ym.p_;t<n.length;t++){n[t].Sd()}for(var i=0,e=this.pm.p_;i<e.length;i++){e[i].Sd()}for(var r=0,s=this.Am.p_;r<s.length;r++){s[r].Sd()}this.ym.k_(),this.pm.k_(),this.Am.k_(),this.urt.clear()},r.gst=function(){this.irt.Zs(iX,this.js),this.irt.Zs(hm.Ug,this.vD),this.irt.Zs(hm.Mg,this.Krt),this.TC.Zs("rL",this.cst),this.TC.Zs("aL",this.vst),this.KR.Zs(eX,this.js),this.KR.Zs(bf.vf,this.handleContentProtectionErrorEvent),this.KR.Zs(bf._f,this.Vrt),this.KR.Zs(bf.mf,this.Grt),this.KR.Zs(bf.Ef,this.qrt),this.KR.Zs(bf.If,this.Yrt),this.KR.Zs(bf.Rf,this.jrt),this.KR.Zs(hm.u_,this.IE),this.KR.Zs(bf.Hf,this.UG),this.KR.Zs(bf.Bf,this.oW),this.KR.Zs(bf.Pf,this.fD),this.KR.Zs(bf.Ff,this.Zrt)},r.aut=function(){this.irt.tu(iX,this.js),this.irt.tu(hm.Ug,this.vD),this.irt.tu(hm.Mg,this.Krt),this.TC.tu("rL",this.cst),this.TC.tu("aL",this.vst),this.KR.tu(eX,this.js),this.KR.tu(bf.vf,this.handleContentProtectionErrorEvent),this.KR.tu(bf._f,this.Vrt),this.KR.tu(bf.mf,this.Grt),this.KR.tu(bf.Ef,this.qrt),this.KR.tu(bf.If,this.Yrt),this.KR.tu(bf.Rf,this.jrt),this.KR.tu(hm.u_,this.IE),this.KR.tu(bf.Hf,this.UG),this.KR.tu(bf.Bf,this.oW),this.KR.tu(bf.Pf,this.fD),this.KR.tu(bf.Ff,this.Zrt)},A(e,[{key:"pst",get:function(){for(var t=[this.wrt,this._rt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.zJ.V1)return!1;var e=i.zJ.$K,r=e[e.length-1];if(r&&r.F1!==this.Srt)return!1}return!0}},{key:"d$",get:function(){return this.drt}},{key:"k$",get:function(){return this.wrt}},{key:"b$",get:function(){return this._rt}},{key:"hst",get:function(){return this.grt}},{key:"Im",get:function(){return this.ym}},{key:"Jm",get:function(){return this.KR.Jm.qD()}},{key:"g$",get:function(){var t=[];if(this.drt)for(var n=this.KR.Xg,i=0,e=this.zst;i<e.length;i++)for(var r=0,s=e[i].d9;r<s.length;r++){var u=s[r].I6(n);u&&!Hs(t,u)&&t.push(u)}return t}},{key:"$m",get:function(){if(this.drt){var t=this.KR.Xg;return this.drt.u2(t)}},set:function(t){if(t&&this.drt){var n=this.drt.o2(t);void 0!==n&&(this.Xg=n)}}},{key:"Xg",get:function(){var t;return null!=(t=this.Lrt)?t:this.KR.Xg},set:function(t){HO.cT(nX,"Seeking to "+t+" s."),this.Lrt=t,this.Xrt=!0,this.Mrt=!0,this.Qs(new bm(t)),this.Jq.Fs(),this.sst(t)}},{key:"Hg",get:function(){var t,n,i,e,r,s,u;return this.pst?this.KR.Hg:null!=(t=null!=(n=null!=(i=null==(e=this.wrt)?void 0:e.zJ.Hg)?i:null==(r=this._rt)?void 0:r.zJ.Hg)?n:null==(s=this.Z4)?void 0:null==(u=s.Q4)?void 0:u.zJ.Hg)?t:1/0}},{key:"Fg",get:function(){if(!this.pst)return!1;if(this.qg){var t,n,i=this.Xg,e=null==(t=this.wrt)?void 0:t.zJ.Hg,r=null==(n=this._rt)?void 0:n.zJ.Hg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.KR.Fg}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Nm",get:function(){}},{key:"ey",get:function(){return!1}},{key:"lm",get:function(){return Nr({},{sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KR.jD())}},{key:"M$",get:function(){var t;return null==(t=this.Z4)?void 0:t.M$}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"_y",get:function(){return this.Prt},set:function(t){this.Prt!==t&&(this.Prt=t,this.Qs(t?new mM:new yM))}},{key:"Wg",get:function(){return this.KR.Wg}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){HO.cT(nX,"Setting playback rate to "+t+"."),this.KR.Gg=t}},{key:"gy",get:function(){return this.cut.qD()}},{key:"cut",get:function(){return this.KR.gy}},{key:"yy",get:function(){return this.nD},set:function(t){this.nD!==t&&(this.nD=t,this.Ast())}},{key:"Y_",get:function(){var t=this.KR.Y_;return this.Hrt&&(t=w.max(qg.Dg,t)),t}},{key:"py",get:function(){return this.jst.qD()}},{key:"jst",get:function(){var t=this.eW,n=[this.wrt,this._rt].filter(H);if(t.b_>0&&n.some(function(t){return!t.zJ.V1})){var i=this.cut,e=t.NN(t.b_-1);if(i.b_>0&&i.NN(i.b_-1)>e){var r=i.NN(i.b_-1),s=n.reduce(function(t,n){return t.FN(n.zJ.P3)},new uS([0,1/0]));s.b_>0&&(r=w.min(r,s.NN(s.b_-1))),t=t.YN(new uS([e,r]))}}return t}},{key:"qg",get:function(){var t;return null!=(t=this.Xrt)?t:this.KR.qg}},{key:"QD",get:function(){}},{key:"Dm",get:function(){return this.Am}},{key:"Rm",get:function(){return this.pm}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"jg",get:function(){return this.KR.jg}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){HO.cT(nX,"Setting volume to "+t+"."),this.KR.Qg=t}},{key:"by",get:function(){return this.oD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"ZD",get:function(){return this.uD}},{key:"zst",get:function(){return[this.krt,this.prt,this.brt].filter(H)}}]),e}(wu),oX=function(){function t(){}return t.prototype.JD=function(n,i){var e;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(Kg(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||Jb(e)){i.next=12;break}if(nA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Dr.awrap(t.fut(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,We)},t.fut=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Dr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Dr.awrap(i.Nr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Dr.awrap(i.Ir());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Dr.awrap(i.Sr());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,We)},t}(),aX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).mN=n,e}return S(n,t),n.prototype.Rst=function(){this.Qs(new Im(this.Xg,this.Y_))},A(n,[{key:"Y_",get:function(){return this.mN.Y_}}]),n}(_b);function hX(t){var n=xs(t,function(t){return t.VJ}),e=t.filter(function(t){return t.WJ}),r=i.Fr,s=e.map(function(t){return t.L_}).filter(H),u=wM(s,r);return u?xs(e,function(t){return t.L_===u}):n}function cX(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.HF&&t.HF.UF&&lN(t.HF.UF,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=fX(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=fX(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.sL.type){case qI.BANDWIDTH:var r=i.yL,s=e.filter(function(t){return t.NR<=r});if(s.length>0)return qs(s,function(t){return t.NR});case qI.PERFORMANCE:return Gs(e,function(t){return t.NR});case qI.QUALITY:return qs(e,function(t){return t.NR})}}function fX(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.HF&&t.HF.XF&&lN(t.HF.XF,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function vX(t){var n;return null!=(n=hX(t))?n:t[0]}function lX(t){return t.filter(function(t){return t.H$.some(function(t){return t.zJ.M3<i.ir()-sX})||0===t.H$.length})}var dX=function(){function t(){}var i=t.prototype;return i.L6=function(t,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Dr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},i.xs=function(){},t.mc=function(){return void 0!==typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),wX=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(gu),_X=["message","messageerror","error"],gX=function(t){function n(n){var i;return(i=t.call(this,Ig.z_)||this).error=n,i}return S(n,t),n}(gu),mX=function(t){function n(n){var i;return(i=t.call(this)||this).vut=void 0,i.lut=void 0,i.wut=[],i._ut=function(t){if(i.gut)t.mut();else{i.vut=t,i.vut.Zs(_X,i.js);for(var n=0,e=i.wut;n<e.length;n++){var r=e[n];t.yut(r.du,r.kut)}zs(i.wut)}},i.but=function(t){if(!i.gut){var n=t instanceof v?t:new v("Could not create Worker.");i.Qs(new gX(n)),i.mut()}},i.lut=new Js,n(i.lut.Ws).then(i._ut,i.but),i}S(n,t);var i=n.prototype;return i.yut=function(t,n){this.gut||(void 0!==this.vut?this.vut.yut(t,n):this.wut.push({du:t,kut:n}))},i.mut=function(){this.gut||(this.lut.Fs(),zs(this.wut),void 0!==this.vut&&this.vut.mut())},A(n,[{key:"gut",get:function(){return this.lut.Ws.Ns}}]),n}(wu);var yX=function(t){function n(n){var i;return(i=t.call(this)||this).vut=void 0,i.Aut=function(t){i.Qs(new wX("message",t.data))},i.Tut=function(t){i.Qs(new wX("messageerror",t.data))},i.LY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Qs(new gX(n)),i.mut()},i.vut=new k(n),i.vut.addEventListener("message",i.Aut),i.vut.addEventListener("messageerror",i.Tut),i.vut.addEventListener("error",i.LY),i}S(n,t);var i=n.prototype;return i.yut=function(t,n){n?this.vut.postMessage(t,n):this.vut.postMessage(t)},i.mut=function(){this.$s(),this.vut.removeEventListener("message",this.Aut),this.vut.removeEventListener("messageerror",this.Tut),this.vut.removeEventListener("error",this.LY),this.vut.terminate()},n}(wu),kX=0,pX="iframe.html",bX=function(n){function e(e,r){var u;(u=n.call(this)||this).Bh=void 0,u.Sut=void 0,u.Eut=void 0,u.Iut=void 0,u.Rut=function(){u.Eut.removeEventListener("load",u.Rut),u.Eut.contentWindow.postMessage({type:"initialize",id:u.Bh,script:u.Sut},"*")},u.Dut=function(t){t.origin===u.Iut&&t.data.id===u.Bh&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new gX(new v(t.data.data.message))),u.mut()):u.Qs(new wX("message",t.data.data))))},u.Bh=kX++,u.Sut=e;var o,a,h=i.Br(pX,r);return u.Eut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Iut=h.origin,u.Eut.addEventListener("load",u.Rut),t.addEventListener("message",u.Dut),u}S(e,n);var r=e.prototype;return r.yut=function(t,n){n?this.Eut.contentWindow.postMessage({type:"message",data:t},"*",n):this.Eut.contentWindow.postMessage({type:"message",data:t},"*")},r.mut=function(){var n;this.Eut.removeEventListener("load",this.Rut),t.removeEventListener("message",this.Dut),null==(n=this.Eut.contentWindow)||n.postMessage({type:"terminate"},"*"),$e(this.Eut)},e}(wu);function AX(t,n){return t=i.Or(t,n),new mX(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new yX(t),v.next=4,Dr.awrap(IX(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.mut(),iu(v.t0);case 11:if(!EX||!kf){v.next=42;break}return v.prev=12,v.next=15,Dr.awrap(i.Xw.Yl({Ql:t,md:$d.GET,Wl:Af.$n,Ws:e}));case 15:return o=v.sent,v.next=18,Dr.awrap(o.El(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),iu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,h=kf([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new yX(a),v.next=31,Dr.awrap(IX(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.mut(),iu(v.t2),EX=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new bX(t,n),v.next=46,Dr.awrap(IX(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.mut(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var TX,SX,EX=!0;function IX(t,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.au(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new nf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(G(s=e.data)&&"4.3.1"===s.Nut){r.next=7;break}throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.3.1).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}!function(t){t.Cut="L6",t.Put="h5"}(TX||(TX={})),function(t){t.But="Out",t.xut="Lut"}(SX||(SX={}));var RX=function(){function t(t){var e=this;this.Mut=void 0,this.Uut=void 0,this.vut=void 0,this.Xut=0,this.Hut=Pr(),this.Fut=function(t){var i=t.data,r=i.zut,s=e.Hut.get(r);s&&(e.Hut.delete(r),i.Vut===SX.But?s.Wu(i.Wut):i.Vut===SX.xut&&s.Gu(new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.ow=function(t){var i=new nf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.xs(i)},this.Mut=t;try{this.Uut=i.Or("theoplayer.d.js",t)}catch(t){throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.Gut=function(){var t=AX(this.Uut,this.Mut);return t.Zs("message",this.Fut),t.Zs("error",this.ow),t},e.L6=function(t,n,i){var e=""+ ++this.Xut,r={qut:TX.Cut,Yut:e,jut:t,Qut:n,Zut:i},s=new Go;return this.Hut.set(e,s),null!=this.vut||(this.vut=this.Gut()),this.vut.yut(r),s.Hu},e.xs=function(t){void 0===t&&(t=new $s),this.Hut.forEach(function(n){return n.Gu(t)}),this.Hut.clear(),this.vut&&(this.vut.mut(),this.vut=void 0)},t}();function DX(t,n){if(void 0===n.Kut)return{XF:void 0,UF:t};if(void 0===n.Jut)return{XF:t,UF:void 0};for(var i=Sc(t),e=CX(i),r=CX(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];UD(u)&&(e.boxes[s]=xX(u,n.Jut),r.boxes[s]=xX(u,n.Kut))}var o=e.serialize().join(),a=r.serialize().join();return{XF:o,UF:a}}function NX(t){var n=xs(t.boxes,LD);if(n){var i=xs(n.boxes,MD);if(i)return i.handlerType}}function CX(t){var n,i=new yc;return(n=i.boxes).push.apply(n,t.boxes),i}function PX(t){var n,i=new Bh;return(n=i.boxes).push.apply(n,t.boxes),i}var BX=8;function OX(t,n){for(var i=function(t){var n,i=new Gh;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=LX(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new sh(new y(n.getSize()-BX));else if(s instanceof Bh){var u=s,o=Ms(u.boxes,function(t){return t instanceof Ch&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=PX(u);h.boxes[o]=new sh(new y(a.getSize()-BX)),i.boxes[r]=h}}}return i}function xX(t,n){for(var i=function(t){var n,i=new ec;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof nc){var s=xs(r.boxes,XD);s&&s.trackId===n&&(i.boxes[e]=new sh(new y(r.getSize()-BX)))}}return i}function LX(t){return xs(t.boxes,xD).trackId}function MX(t,n,i){for(var e=xs(t.boxes,XD),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof Qh)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Tp(n).tp());else if(o instanceof jh)o.baseMediaDecodeTime-=i.Sk(n);else if(o instanceof $h&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Sk(n),o.samples=a}}}function UX(t,n){var i=jk(ip.RA(Lo(t)),uk.Ob);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r._S||0===r.wS.length||0===r.wS[0].bS.length)return"continue";for(var s=r.pA.iT,u=xs(n.VA,function(t){return t.iT===s}),o=0,a=1/0,h=0,c=r.pA.sS||0,f=0,v=r.wS;f<v.length;f++)for(var l=0,d=v[f].bS;l<d.length;l++){var w,_=d[l],g=_.AS||0,m=o+g,y=(o+=null!=(w=_.Hg)?w:c)+g;m<a&&(a=m),y>h&&(h=y)}var k=tk.Vk(r._S._S,u.yp);i.push({iT:s,$ut:k,gK:k.Sy(tk.Wk(a,u.yp)),tot:k.Sy(tk.Wk(o,u.yp)),iot:k.Sy(tk.Wk(h,u.yp))})},r=0,s=t.VA;r<s.length;r++)e(r,s);return i}(i,n)}var XX,HX=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Sw=void 0,u.eot=void 0,u.rot=void 0,u.uot=void 0,u.oot=void 0,u.aot=0,u.hot=0,u.cot=Br(),u.Sw=n,u}S(i,t);var e=i.prototype;return e.F8=function(n,i){return t.prototype.F8.call(this,n,i)},e.fot=function(t){var n;return this.cot.has(t.F1)?n=this.cot.get(t.F1):(n=AM(t.u8.Fi.Fi),this.cot.set(t.F1,n)),n},e.V8=function(i,e){var r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p,b,A,T,S,E,I,R;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:if(nu(e),s=this.fot(i),u=i.u8,s===gM.D9||s===gM.R9){D.next=5;break}return D.abrupt("return",t.prototype.V8.call(this,i,e));case 5:if(!u.D6.P1.some(zX)){D.next=7;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Sw.vot(),s!==gM.D9){D.next=14;break}return D.next=11,Dr.awrap(o.lot({data:u.Fi.Fi,metadata:this.eot}));case 11:a=D.sent,D.next=17;break;case 14:return D.next=16,Dr.awrap(o.dot({data:u.Fi.Fi,metadata:this.eot}));case 16:a=D.sent;case 17:if(nu(e),this.W8({XF:a.metadata.audio_codec,UF:a.metadata.video_codec,FF:void 0}),h=tk.Vk(ft.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=tk.Vk(ft.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.D6.m2=c,this.G8(),this.a4.F3(i.F1)){D.next=30;break}for(f=tk.Np(u.D6.Vy),v=0,l=this.j8;v<l.length;v++)d=l[v],this.a4.Z3(i.F1,d,h,f,!0);if(this.G8(),this.a4.F3(i.F1)){D.next=30;break}return D.next=30,Dr.awrap(ru(this.a4.z3(i.F1),e));case 30:if(w=this.a4.Q3(h,u.D6),this.eot=a.metadata,_={b1:i.b1,Vy:u.D6.Vy,Hg:null!=(r=u.D6.Hg)?r:0,Zp:w.Ek(),F1:i.F1,v$:i.v$,D6:u.D6},void 0!==a.data.audio_media||void 0!==a.data.video_media){D.next=36;break}for(g=0,m=this.j8;g<m.length;g++)y=m[g],k=Nr({fs:"u8",Fi:void 0,J3:y},_),this.w8(k);return D.abrupt("return");case 36:p=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.rot&&this.aot===i.F1&&Uu(this.rot,a.data.audio_init)||(b={fs:"Q8",Fi:{fs:AD.GX,Fi:a.data.audio_init},J3:ty.dd,F1:i.F1,Z8:{HF:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',P1:u.D6.P1},Vy:u.D6.Vy,v$:i.v$,D6:u.D6},this.rot=a.data.audio_init,this.aot=i.F1,this.w8(b)),A=Nr({fs:"u8",Fi:{fs:AD.GX,Fi:a.data.audio_media},J3:ty.dd},_),this.w8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.uot&&this.hot===i.F1&&Uu(this.uot,a.data.video_init)||(T={fs:"Q8",Fi:{fs:AD.GX,Fi:a.data.video_init},J3:ty.wd,F1:i.F1,Z8:{HF:'video/mp4; codecs="'+a.metadata.video_codec+'"',P1:u.D6.P1},Vy:u.D6.Vy,v$:i.v$,D6:u.D6},this.uot=a.data.video_init,this.hot=i.F1,this.oot=$D(Lo(a.data.video_init)),this.w8(T)),S=this.oot.VA[0],E=UX(a.data.video_media,this.oot)[0],I=this.wot(a.data.video_media,S,E,u.D6),this._ot=S,R=Nr({fs:"u8",Fi:{fs:AD.GX,Fi:I},J3:ty.wd},_),this.w8(R),p.push(E)),this.got=u.D6,this.mot=p;case 41:case"end":return D.stop()}},null,this,null,We)},e.Fs=function(){this.rot=void 0,this.uot=void 0,t.prototype.Fs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Fz=void 0,n.yot=void 0,n.got=void 0,n.mot=void 0,n._ot=void 0,n}S(n,t);var i=n.prototype;return i.F8=function(t,n){nu(n);var i=this.v$.fs,e=$D(Lo(t.U1.Fi.Fi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Fz=e;var r=function(t){for(var n,i,e,r=0,s=t.VA;r<s.length;r++){var u=s[r];n||(n=u.HF.XF),i||(i=u.HF.UF),e||(e=u.HF.FF)}if(n||i)return{XF:n,UF:i,FF:e};return}(e);r&&this.W8(r);var s=function(t){var n=Sc(t),i=xs(n.boxes,BD),e=i.boxes.filter(OD),r=xs(e,function(t){return NX(t)===lh.AUDIO}),s=xs(e,function(t){return NX(t)===lh.VIDEO}),u={Kut:r?LX(r):void 0,Jut:s?LX(s):void 0};if(!r||!s)return{XF:r?t:void 0,UF:s?t:void 0,QS:u};var o=CX(n),a=CX(n),h=n.boxes.indexOf(i);o.boxes[h]=OX(i,s),a.boxes[h]=OX(i,r);var c=o.serialize().join(),f=a.serialize().join();return{XF:c,UF:f,QS:u}}(t.U1.Fi.Fi);if(this.yot=s.QS,s.UF){var u=xs(e.VA,function(t){return t.iT===s.QS.Jut}),o={fs:"Q8",Fi:{fs:AD.GX,Fi:s.UF},J3:ty.wd,F1:t.F1,Z8:{HF:'video/mp4; codecs="'+u.HF.UF+'"',P1:t.P1},Vy:t.Vy,v$:this.v$,D6:t.U1.D6};this.w8(o)}if(s.XF){var a=xs(e.VA,function(t){return t.iT===s.QS.Kut}),h={fs:"Q8",Fi:{fs:AD.GX,Fi:s.XF},J3:ty.dd,F1:t.F1,Z8:{HF:'audio/mp4; codecs="'+a.HF.XF+'"',P1:t.P1},Vy:t.Vy,v$:this.v$,D6:t.U1.D6};this.w8(h)}return We.resolve()},i.V8=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p;return Dr.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(nu(n),e=t.u8.D6,r=this.v$.fs,HO.cT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+dO(e.QJ)),s=t.u8.Fi,(u=UX(s.Fi,this.Fz)).length>0&&(o=Ys(u.map(function(t){return t.gK}),nk),e.m2=o,this.G8()),this.a4.F3(t.F1)){b.next=13;break}if(a=tk.Np(e.Vy),u.length>0){for(h=Ys(u.map(function(t){return t.$ut}),nk),c=0,f=this.j8;c<f.length;c++)v=f[c],this.a4.Z3(t.F1,v,h,a,!1);this.G8()}if(this.a4.F3(t.F1)){b.next=13;break}return b.next=13,Dr.awrap(ru(this.a4.z3(t.F1),n));case 13:l=this.a4.q3(t.F1),d={b1:t.b1,Vy:e.Vy,Hg:null!=(i=e.Hg)?i:0,Zp:l.Ek(),F1:t.F1,v$:t.v$,D6:t.u8.D6},(w=DX(s.Fi,this.yot)).UF&&(_=this.yot.Jut,g=xs(this.Fz.VA,function(t){return t.iT===_}),m=xs(u,function(t){return t.iT===_}),y=this.wot(w.UF,g,m,e),this._ot=g,k=Nr({fs:"u8",Fi:{fs:AD.GX,Fi:y},J3:ty.wd},d),this.w8(k)),w.XF&&(p=Nr({fs:"u8",Fi:{fs:AD.GX,Fi:w.XF},J3:ty.dd},d),this.w8(p)),this.got=e,this.mot=u;case 20:case"end":return b.stop()}},null,this,null,We)},i.wot=function(t,n,i,e){if(!function(t){return eL(t)?t.M1:0===t._2&&t.w2.M1}(e))return t;if(!this.got||!this._ot||!this.mot)return t;var r=this._ot.iT,s=xs(this.mot,function(t){return t.iT===r}),u=this.a4.Y3(s.iot,this.got),o=this.a4.Y3(i.gK,e).Mk(u).Tp(n.yp);if(o.Ck(tk.qk))return t;if(o.Ik(tk.Np(.5)))return t;var a=eL(e)?e:e.w2;return HO.C$("Mp4Transmuxer","Stretching first video frame of segment #"+a.b1+" to fill gap of "+o.Ek()+"s"),function(t,n,i){var e=Sc(t),r=xs(e.boxes,UD);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof nc&&MX(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,v=r.boxes;f<v.length;f++){var l=v[f];l instanceof nc&&HD(l,c)}}return e.serialize().join()}(t,n.yp,o)},n}(uM)),FX=function(){function t(){}return t.prototype.qst=function(t,n,i,e){return new HX(this,t,n,i,e)},t}();function zX(t){return t.md===fO.XJ}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(XX||(XX={}));var VX=function(){function t(t){var e=this;this.Mut=void 0,this.Uut=void 0,this.kot=void 0,this.vut=void 0,this.Xut=0,this.Hut=Br(),this.pot=0,this.Fut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Hut.get(n.requestId);if(!i)return;e.Hut.delete(n.requestId),n.success?(i.Wu(n.output),e.bot()):i.Gu(new nf(n.errorCode,n.error))}else n.success||e.xs(new nf(n.errorCode,n.error))},this.ow=function(t){var i=new nf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.Mut=t,this.kot=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.yn;return!(t>0&&t<=56)}();var r=this.kot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Uut=i.Or(r,t)}catch(t){throw new nf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.vut=this.Gut()}var e=t.prototype;return e.lot=function(t){return this.Aot(XX.MPEGTS_TO_FMP4,t)},e.dot=function(t){return this.Aot(XX.RAW_AUDIO_TO_FMP4,t)},e.Gut=function(){var t=AX(this.Uut,this.Mut);return t.Zs("message",this.Fut),t.Zs("error",this.ow),t},e.bot=function(){this.kot||this.Hut.size>0||this.pot<10||(this.vut&&this.vut.mut(),this.vut=this.Gut(),this.pot=0)},e.Aot=function(t,n){var i=++this.Xut;this.pot+=1;var e={type:t,id:i,input:n},r=new Go;return this.Hut.set(i,r),this.vut.yut(e,[n.data.buffer]),r.Hu},e.xs=function(t){void 0===t&&(t=new $s),this.Hut.forEach(function(n){return n.Gu(t)}),this.Hut.clear(),this.vut.mut()},t}(),WX=function(t){function n(n){var i;return(i=t.call(this)||this).vut=void 0,i.Tot=n,i}S(n,t);var i=n.prototype;return i.vot=function(){var t;return null!=(t=this.vut)?t:this.vut=new VX(this.Tot)},i.xs=function(){this.vut&&(this.vut.xs(),this.vut=void 0)},n}(FX),GX=function(){function t(t){this.Tot=t}return t.prototype.yK=function(){return new WX(this.Tot)},t}(),qX=function(){function t(t){this.OR=void 0,this.OR=t}var n=t.prototype;return n.TD=function(t){return this.OR.TD(t)},n.oJ=function(t){return this.OR.oJ(t)},n.VD=function(t){return this.OR.VD(t)},t}(),YX=function(t){function n(n){var i;return(i=t.call(this)||this).KR=void 0,i.JR=void 0,i.Sot=new xg,i.Eot=function(t){return i.Ym(t)},i.KR=n,i.Sot.R_=n.Dm,i.KR.Zs(wD,i.Eot),i}S(n,t);var i=n.prototype;return i.IL=function(){return this.KR.Jm},i.DL=function(){return this.KR.$m},i.CL=function(){return this.KR.Xg},i.BL=function(){return this.KR.Hg},i.Iot=function(){return this.KR.QD},i.Rot=function(){return this.KR.Fg},i.Dot=function(){return this.KR.Wg},i.GL=function(){return this.KR.gy},i.jL=function(){return this.KR.Y_},i.QL=function(){return this.KR.py},i.ZL=function(){return this.KR.qg},i.KL=function(){return this.Sot},i.Jj=function(){return this.KR.PU},i.Not=function(){return this.KR.ED},i.Cot=function(t){this.KR.ED=t},i.Pot=function(){return this.KR.xq},i.jD=function(){return this.KR.jD()},i.Cm=function(){return this.KR.Cm()},i.Pm=function(){this.KR.Pm()},i.xu=function(t,n){this.KR.xu(t,n)},i.YD=function(t){this.KR.YD(t)},i.zm=function(){this.KR.zm()},i.Vm=function(){this.KR.Vm()},i._E=function(t,n,i,e,r,s,u){return this.KR._E(t,n,i,e,r,s,u)},i.xD=function(){return this.KR.xD()},i.MD=function(t,n,i,e){return this.KR.MD(t,n,i,e)},i.yE=function(t){this.KR.yE(t)},i.HD=function(){this.KR.HD()},i.XX=function(t){return this.KR.XX(t)},i.jh=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.KR.jh(t));case 2:return n=e.sent,i=t.fs===nb.pE?this.Bot(n):this.Oot(n),this.JR=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.JR){t.next=4;break}return t.next=3,Dr.awrap(this.JR.xs());case 3:this.JR=void 0;case 4:return t.next=6,Dr.awrap(this.KR.k_());case 6:case"end":return t.stop()}},null,this,null,We)},i.mj=function(){this.KR.mj()},i.yj=function(){this.KR.yj()},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.KR.tu(wD,this.Eot),this.Sot.R_=void 0,this.Sot.Sd(),!this.JR){t.next=8;break}return t.next=7,Dr.awrap(this.JR.xs());case 7:this.JR=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.pj=function(){this.KR.pj()},i.xot=function(t){this.KR.tu(wD,this.Eot),this.KR=t,this.Sot.R_=t.Dm,this.KR.Zs(wD,this.Eot)},i.Ym=function(t){this.Qs(t)},A(n,[{key:"Lot",get:function(){return this.KR}},{key:"Jm",get:function(){return this.IL()}},{key:"$m",get:function(){return this.DL()}},{key:"Xg",get:function(){return this.CL()}},{key:"NU",get:function(){return this.KR.NU}},{key:"Hg",get:function(){return this.BL()}},{key:"QD",get:function(){return this.Iot()}},{key:"Fg",get:function(){return this.Rot()}},{key:"mu",get:function(){return this.KR.mu}},{key:"sT",get:function(){return this.KR.sT}},{key:"Tk",get:function(){return this.KR.Tk}},{key:"XD",get:function(){return this.KR.XD}},{key:"Vg",get:function(){return this.KR.Vg},set:function(t){this.KR.Vg=t}},{key:"Wg",get:function(){return this.Dot()}},{key:"Gg",get:function(){return this.KR.Gg},set:function(t){this.KR.Gg=t}},{key:"gy",get:function(){return this.GL()}},{key:"Y_",get:function(){return this.jL()}},{key:"py",get:function(){return this.QL()}},{key:"qg",get:function(){return this.ZL()}},{key:"Dm",get:function(){return this.KL()}},{key:"PU",get:function(){return this.Jj()}},{key:"Tj",get:function(){return this.KR.Tj}},{key:"Qg",get:function(){return this.KR.Qg},set:function(t){this.KR.Qg=t}},{key:"bj",get:function(){return this.KR.bj}},{key:"ey",get:function(){return this.KR.ey}},{key:"Sj",get:function(){return this.KR.Sj}},{key:"ED",get:function(){return this.Not()},set:function(t){this.Cot(t)}},{key:"xq",get:function(){return this.Pot()}}]),n}(wu),jX=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Aj=function(t){this.KR.Aj(t)},i.ZY=function(){this.KR.ZY()},i.Km=function(){this.KR.Km()},A(n,[{key:"SD",get:function(){return this.KR.SD}},{key:"bW",get:function(){return this.KR.bW}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}}]),n}(YX),QX=function(){function t(t){this.JR=void 0,this.JR=t}var n=t.prototype;return n.dc=function(){return this.JR.rc},n.QL=function(){return this.JR.py},n.CX=function(t){return this.JR.CX(t)},n.PX=function(t){return this.JR.PX(t)},n.xs=function(){return We.resolve()},A(t,[{key:"rc",get:function(){return this.dc()}},{key:"py",get:function(){return this.QL()}},{key:"Rm",get:function(){return this.JR.Rm}}]),t}(),ZX=function(t){function n(n){var i;return(i=t.call(this,n)||this).nW=void 0,i.iW=void 0,i.Mot=function(t){return i.Uot(t)},i}S(n,t);var i=n.prototype;return i.IL=function(){return this.JR.Jm},i.BL=function(){return this.JR.Hg},i.Xot=function(){return this.JR.HX},i.cW=function(t){this.JR.cW(t)},i.lW=function(t,n,i,e){this.JR.lW(t,n,i,e)},i.vV=function(){this.JR.vV()},i.aV=function(){this.JR.aV()},i.xs=function(){return this.nW&&(this.nW.xs(),this.nW=void 0),this.iW&&(this.iW.xs(),this.iW=void 0),t.prototype.xs.call(this)},i.Hot=function(t){this.JR=t,this.nW?t.KV?this.nW.A6(t.KV):(this.nW.xs(),this.nW=void 0):t.KV&&(this.nW=this.Fot(t.KV),this.nW.Zs(SD,this.Mot)),this.iW?t.JV?this.iW.A6(t.JV):(this.iW.xs(),this.iW=void 0):t.JV&&(this.iW=this.Fot(t.JV),this.iW.Zs(SD,this.Mot))},i.Uot=function(t){},A(n,[{key:"KV",get:function(){return this.nW}},{key:"JV",get:function(){return this.iW}},{key:"Jm",get:function(){return this.IL()}},{key:"Hg",get:function(){return this.BL()}},{key:"HX",get:function(){return this.Xot()}}]),n}(QX),KX=function(t){function n(n){var i;return(i=t.call(this)||this).Pc=void 0,i.fL=0,i.vL=0,i.Pc=n,i}S(n,t);var i=n.prototype;return i.Vz=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.kV=function(){return We.reject(new v("Invalid media buffer"))},i.qz=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.HX=function(){return!1},i.vV=function(){},i.mV=function(t,n){},i.yV=function(t,n){},i.Qh=function(t,n,i){return We.resolve()},i.tV=function(t,n){return We.reject(new v("Invalid media buffer"))},i.Py=function(t,n){return We.reject(new v("Invalid media buffer"))},i.CX=function(t){return!1},i.PX=function(t){return We.reject(new v("Invalid media buffer"))},i.xs=function(){this.$s()},A(n,[{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t}},{key:"Jm",get:function(){return uS.fC()}},{key:"rc",get:function(){return this.Pc}},{key:"AV",get:function(){return ty.Kl}},{key:"TV",get:function(){return uS.fC()}},{key:"zot",get:function(){return!1}},{key:"eL",get:function(){return this.fL},set:function(t){this.fL=t}}]),n}(wu),JX=function(t){function n(n){var i;return(i=t.call(this,n)||this).KR=void 0,i}S(n,t);var i=n.prototype;return i.Vz=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return nu(i),e.next=3,Dr.awrap(this.Vot(this.KR.Xg,null==n?void 0:n.m2,null==n?void 0:n.Hg));case 3:if(nu(i),t.fs!==AD.Yf){e.next=10;break}return e.next=7,Dr.awrap(this.Wot(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Dr.awrap(this.Got(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.Wot=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Ld(e.Fi),s=r[0],u=r[1],e={fs:AD.Yf,Fi:s},o.prev=4,o.next=7,Dr.awrap(this.qot(e,n,i));case 7:return u.cancel(new $s).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!nR(o.t0)){o.next=20;break}return o.next=16,Dr.awrap(this.Vot(this.KR.Xg,n.m2,n.Hg,i));case 16:if(!o.sent){o.next=20;break}return e={fs:AD.Yf,Fi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.Got=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,nu(i),e.next=5,Dr.awrap(this.qot(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!nR(e.t0)){e.next=16;break}return e.next=13,Dr.awrap(this.Vot(this.KR.Xg,n.m2,n.Hg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i.Vot=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=tR(t,n,i,this.Jm,this.eL,this.oL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Dr.awrap(this.Yot(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,We)},i.qot=function(n,i,e){return t.prototype.Vz.call(this,n,i,e)},i.Yot=function(n,i,e){return t.prototype.Qh.call(this,n,i,e)},A(n,[{key:"uJ",get:function(){return this.KR},set:function(t){this.KR=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).e6=void 0,i.jot=function(t){return i.Ym(t)},i.e6=n,i.e6.Zs(SD,i.jot),i}S(n,t);var i=n.prototype;return i.Qot=function(){return this.e6.oL},i.Zot=function(t){this.e6.oL=t},i.IL=function(){return this.e6.Jm},i.dc=function(){return this.e6.rc},i.Kot=function(){return this.e6.TV},i.Jot=function(){return this.e6.eL},i.$ot=function(t){this.e6.eL=t},i.Vz=function(t,n,i){return this.e6.Vz(t,n,i)},i.kV=function(){return this.e6.kV()},i.qz=function(t,n,i){return this.e6.qz(t,n,i)},i.HX=function(){return this.e6.HX()},i.vV=function(){this.e6.vV()},i.mV=function(t,n){this.e6.mV(t,n)},i.yV=function(t,n){this.e6.yV(t,n)},i.Qh=function(t,n,i){return this.e6.Qh(t,n,i)},i.tV=function(t,n){return this.e6.tV(t,n)},i.CX=function(t){return this.e6.CX(t)},i.PX=function(t){return this.e6.PX(t)},i.Ym=function(t){this.Qs(t)},i.xs=function(){this.$s(),this.A6(new KX(this.rc))},i.A6=function(t){this.e6.tu(SD,this.jot),this.e6=t,this.e6.Zs(SD,this.jot)},A(n,[{key:"oL",get:function(){return this.Qot()},set:function(t){this.Zot(t)}},{key:"Jm",get:function(){return this.IL()}},{key:"rc",get:function(){return this.dc()}},{key:"AV",get:function(){return this.e6.AV}},{key:"TV",get:function(){return this.Kot()}},{key:"eL",get:function(){return this.Jot()},set:function(t){this.$ot(t)}}]),n}(wu)),$X=function(t){function n(n){var i;return(i=t.call(this,n)||this).KR=void 0,i.Hot(n),i}return S(n,t),n.prototype.Fot=function(t){var n=new JX(t);return n.uJ=this.KR,n},A(n,[{key:"uJ",get:function(){return this.KR},set:function(t){this.KR=t,this.nW&&(this.nW.uJ=t),this.iW&&(this.iW.uJ=t)}}]),n}(ZX),tH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"yy",get:function(){return this.JR.yy},set:function(t){this.JR.yy=t}}]),n}(QX),nH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Aj=function(t){this.KR.Aj(t)},i.ZY=function(){this.KR.ZY()},i.Km=function(){this.KR.Km()},i.Wm=function(){return this.KR.Wm()},A(n,[{key:"SD",get:function(){return this.KR.SD}},{key:"bW",get:function(){return this.KR.bW}},{key:"jg",get:function(){return this.KR.jg}},{key:"Yg",get:function(){return this.KR.Yg}},{key:"Ay",get:function(){return this.KR.Ay},set:function(t){this.KR.Ay=t}}]),n}(YX),iH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Oot=function(t){var n=new $X(t);return n.uJ=this,n},i.Bot=function(t){return new tH(t)},A(n,[{key:"Lot",get:function(){return this.KR}}]),n}(jX),eH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Oot=function(t){var n=new $X(t);return n.uJ=this,n},i.Bot=function(t){return new tH(t)},A(n,[{key:"Lot",get:function(){return this.KR}}]),n}(nH),rH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.TD=function(n){return n===ty.wd?new eH(t.prototype.TD.call(this,n)):n===ty.dd?new iH(t.prototype.TD.call(this,n)):void 0},i.VD=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Dr.awrap(i.xs());case 3:return e.next=5,Dr.awrap(t.prototype.VD.call(this,i.Lot));case 5:case"end":return e.stop()}},null,this,null,We)},n}(qX);function sH(t){return aw(t)}function uH(t,n){var i=aw(t);return n?""+i+n:""+i}var oH=function(){function t(t,n,i,e){this.nat=t,this.iat=n,this.eat=i,this.rat=e}var n=t.prototype;return n.V4=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.nat.sat(t.map(sH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.trt=function(t,n){var i=uH(t,n);return this.iat.Eu(i)},n.V6=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=uH(t,n),r.next=3,Dr.awrap(this.eat.Iu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.HM=function(t){return this.rat.Iu(t)},t}(),aH=function(){function t(){}var n=t.prototype;return n.uat=function(t){return We.resolve(!1)},n.oat=function(t){return We.reject(hH)},n.aat=function(t){return We.reject(hH)},n.Eu=function(t){return We.resolve(!1)},n.Iu=function(t){return We.resolve(void 0)},n.fat=function(t,n){return We.resolve(void 0)},n.sat=function(t){return We.resolve([])},n.vat=function(){return We.resolve([])},n.dat=function(t){return We.resolve([])},n.wat=function(t,n){return We.resolve([])},n.Qh=function(t){return We.reject(hH)},n._at=function(t){return We.reject(hH)},n.gat=function(){return We.reject(hH)},t}(),hH="Storage disabled",cH=function(){function t(){this.mat=void 0,this.$K=void 0,this.yat=void 0,this.pat=void 0,this.bat=void 0,this.mat=new aH,this.$K=new aH,this.yat=new aH,this.pat=new aH,this.bat=new aH}return t.yK=function(){return We.resolve(new t)},t.prototype.Aat=function(t){return We.reject(fH)},t}(),fH="Storage disabled",vH=function(){function t(t){var n=this;this.Hs=new Go,this.Tat=void 0,this.Hs.Wu(t),this.Hs.Hu.then(function(t){n.Tat=t})}var n=t.prototype;return n.uat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.uat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.oat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Tat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Sat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.oat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.aat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Tat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Sat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.aat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Eu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Iu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.fat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Tat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Sat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.fat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.sat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.sat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.vat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Tat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Sat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.vat());case 7:case"end":return n.stop()}},null,this,null,We)},n.dat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.dat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.wat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Tat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.Sat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.wat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Qh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qh(t));case 7:case"end":return i.stop()}},null,this,null,We)},n._at=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Sat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n._at(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.gat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Tat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.Sat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.gat());case 7:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"Sat",get:function(){return this.Hs.Hu}}]),t}(),lH=function(){function t(t){var n=this;this.Hs=new Go,this.Eat=void 0,this.$K=void 0,this.mat=void 0,this.yat=void 0,this.pat=void 0,this.bat=void 0,this.Hs.Wu(t);var i=this.Hs.Hu;i.then(function(t){n.Eat=t}),this.$K=new vH(i.then(function(t){return t.$K})),this.mat=new vH(i.then(function(t){return t.mat})),this.yat=new vH(i.then(function(t){return t.yat})),this.pat=new vH(i.then(function(t){return t.pat})),this.bat=new vH(i.then(function(t){return t.bat}))}return t.prototype.Aat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Eat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Iat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Dr.awrap(n.Aat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},A(t,[{key:"Iat",get:function(){return this.Hs.Hu}}]),t}();function dH(t){return new v("This storage cannot handle persistency type "+t)}var wH=function(){function t(){this.Ho=[]}var n=t.prototype;return n.uat=function(t){return We.resolve("temporary"===t)},n.oat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(dH(n)):(this.Rat(t.key),this.Ho.push(t),We.resolve())},n.aat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(dH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Rat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Ho.push(s)}return We.resolve()},n.Eu=function(t){return We.resolve(Boolean(this.Dat(t)))},n.Iu=function(t){return We.resolve(this.Dat(t))},n.fat=function(t,n){return We.resolve(this.Nat(t,n))},n.sat=function(t){var n=this,i=t?t.map(function(t){return n.Dat(t)}):this.Ho;return We.resolve(i.filter(H))},n.vat=function(){return We.resolve([].concat(this.Ho))},n.dat=function(t){return this.wat(t,"key")},n.wat=function(t,n){var i=this.Ho.filter(function(i){return i[n]===t});return We.resolve(i)},n.Qh=function(t){return this.Rat(t),We.resolve()},n._at=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Rat(i)}return We.resolve()},n.gat=function(){return zs(this.Ho),We.resolve()},n.Dat=function(t){return this.Nat(t,"key")},n.Nat=function(t,n){for(var i=0,e=this.Ho;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Rat=function(t){var n=this.Dat(t);n&&Us(this.Ho,n)},t}(),_H=function(){function t(){this.mat=void 0,this.$K=void 0,this.yat=void 0,this.pat=void 0,this.bat=void 0,this.mat=new wH,this.$K=new wH,this.yat=new wH,this.pat=new wH,this.bat=new wH}return t.yK=function(){return We.resolve(new t)},t.prototype.Aat=function(t){return t(this)},t}(),gH=function(){function t(t){this.Cat=t}var n=t.prototype;return n.uat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Cat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.uat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.oat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Cat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.uat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.oat(t));case 8:i++,s.next=2;break;case 11:throw dH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.aat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Cat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.uat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.aat(t));case 8:i++,s.next=2;break;case 11:throw dH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Eu=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Cat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Eu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Iu=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Cat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Dr.awrap(e.Iu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n.fat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Cat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Dr.awrap(r.fat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.sat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Cat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.sat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.vat=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Cat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Dr.awrap(e.vat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.dat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Cat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.dat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.wat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Cat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Dr.awrap(s.wat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.Qh=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Cat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Qh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n._at=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Cat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e._at(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.gat=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Cat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Dr.awrap(i.gat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function mH(t){return function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",yH.yK(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var yH=function(){function t(t){this.Pat=void 0,this.Bat=void 0,this.Oat=void 0,this.xat=void 0,this.Lat=void 0,this.Mat=void 0,this.Pat=t,this.Bat=new gH(t.map(function(t){return t.pat})),this.Oat=new gH(t.map(function(t){return t.bat})),this.xat=new gH(t.map(function(t){return t.yat})),this.Lat=new gH(t.map(function(t){return t.mat})),this.Mat=new gH(t.map(function(t){return t.$K}))}return t.yK=function(n){return We.resolve(new t(n))},t.prototype.Aat=function(n){var i=this;if(0===this.Pat.length)return n(this);var e=[],r=0;return this.Pat[r].Aat(function s(u){return e.push(u),++r<i.Pat.length?i.Pat[r].Aat(s):n(new t(e))})},A(t,[{key:"pat",get:function(){return this.Bat}},{key:"bat",get:function(){return this.Oat}},{key:"yat",get:function(){return this.xat}},{key:"mat",get:function(){return this.Lat}},{key:"$K",get:function(){return this.Mat}}]),t}(),kH=function(){function t(t){this.Uat=void 0,this.Xat=[],this.Hat=!0,this.Uat=t}var n=t.prototype;return n.yK=function(){return new lH(this.Fat())},n.Fat=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Hat){e.next=4;break}return e.next=3,Dr.awrap(We.resolve());case 3:this.Hat=!1;case 4:t=0,n=this.Xat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Dr.awrap(mH([_H.yK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Dr.awrap(mH([_H.yK,this.Uat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.gX=function(t){if(!this.Hat)throw new v("Registration overdue");this.Xat.push(t)},t}(),pH=function(){function t(){}return t.gX=function(n){t.OR.gX(n)},A(t,null,[{key:"Yn",get:function(){return t.zat||(t.zat=t.OR.yK()),t.zat}}]),t}();pH.OR=new kH(cH.yK),pH.zat=void 0;var bH=function(t){function n(n,i,e,r,s,u){var o,a=new rH(n),h=a.TD(ty.wd);return(o=t.call(this,h,i,e,r,s,u)||this).ZR=void 0,o.ZR=a,o}return S(n,t),n.prototype.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Sd.call(this));case 2:return n.next=4,Dr.awrap(this.ZR.VD(this.KR));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Wm=function(){if(void 0!==this.KR.Yg)return this.KR.Wm()},A(n,[{key:"Ay",get:function(){return!1},set:function(t){}}]),n}(uX));ZT(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KD=PT.yg,n}S(i,t);var e=i.prototype;return e.kI=function(t,n,i,e,r,s){return new bH(n,i,r,(u=e.libraryLocation,dX.mc()?new dX:new RX(u)),new GX(e.libraryLocation),new oH(pH.Yn.yat,pH.Yn.mat,pH.Yn.$K,pH.Yn.bat));var u},e.JD=function(i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(t.prototype.JD.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Hs(vD,"hls-legacy")){s.next=7;break}throw new nf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,We)},e.$D=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.JD=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!M.hn&&!M.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.JD.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,We)},n}(oX)))),HO.C_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var AH=[];function TH(){AH.shift()()}var SH,EH=function(){function t(t){this.Vat=void 0,this.Wat=void 0,this.Gat=void 0,this.Gat=t}var n=t.prototype;return n.qat=function(t){return this.Vat=this.Vat||{},void 0===this.Vat[t]&&(this.Vat[t]=[]),this.Vat[t]},n.addEventListener=function(t,n){var i=this.qat(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.Wat||(this.Wat=[])).push(t)},n.removeEventListener=function(t,n){var i=this.qat(t);n?Us(i,n):i.length=0},n.ou=function(t){var n=this.Wat;n&&Us(n,t)},n.$s=function(){this.Vat=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),AH.push(i),void a(TH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.qat(t.type).slice(),r=this.Wat&&this.Wat.slice(),s=0;s<e.length;s++){e[s].call(this.Gat||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.Gat||this,t)}},n.Yat=function(t){return Boolean(this.Vat&&this.Vat[t]&&this.Vat[t].length)},n.jat=function(){return this.Vat?d.keys(this.Vat):[]},t}(),IH=function(t){function n(n,i){var e,r=NH[n];return(e=t.call(this,r?r.du:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Qat,e.helpLinkText=r&&r.Zat,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}($t);!function(t){t.Kat="LICENSE_INVALID",t.Jat="MANIFEST_NOT_FOUND",t.$at="MANIFEST_CORS_ERROR",t.tht="INVALID_HLS_MANIFEST",t.nht="PLAYBACK_ISSUE",t.iht="AUDIO_ISSUE",t.eht="BROWSER_SUPPORT_ISSUE",t.rht="INVALID_KEY",t.xut="DECRYPTION_ERROR",t.sht="AD_BLOCK_DETECTED",t.uht="THEOPLAYER_NOT_INITIALIZED",t.z_="ERROR",t.oht="MANIFEST_SEQUENCE_RESET_ERROR",t.aht="PLAYER_INCORRECTLY_CONFIGURED",t.hht="UNSUPPORTED"}(SH||(SH={}));for(var RH,DH=[{Yu:SH.Kat,du:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:SH.Jat,du:"Could not load the manifest file."},{Yu:SH.$at,du:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Qat:"https://www.theoplayer.com/documentation/cors.html",cht:!1},{Yu:SH.tht,du:"The source of the player is an invalid HLS manifest.",Qat:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:SH.nht,du:"There appears to be a playback issue."},{Yu:SH.iht,du:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:SH.eht,du:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:SH.rht,du:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:SH.xut,du:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:SH.sht,du:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:SH.uht,du:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:SH.z_,du:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:SH.oht,du:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:SH.aht,du:"The player is incorrectly configured.",Qat:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:SH.hht,du:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],NH={},CH=0;CH<DH.length;CH++){var PH=DH[CH];NH[PH.Yu]=PH}function BH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function OH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function xH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function LH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Wo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var MH,UH="x-";function XH(t,n,i,e){var r=t.split("@"),s=BH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{QJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},fht:{RN:o,NN:o+u-1}}}function HH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,v=0,l=!1,d=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new IH(SH.tht,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<p.length;A+=1){var T=p[A].trim();if(d.push(T+""),OH(T,"#EXT")){if(OH(T,"#EXTINF"))c=(c=g(xH(T)))||.5;else if(OH(T,"#EXT-X-BYTERANGE"))f=xH(T);else if(OH(T,"#EXT-X-KEY"))(s=LH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=BH(s.uri,i);else if(OH(T,"#EXT-X-DISCONTINUITY")&&!OH(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(OH(T,"#EXT-X-STREAM-INF"))(r=LH(T))._2=h++,(A+=1)<p.length&&(r.uri=BH(p[A].trim(),i),b.streams.push(r));else if(OH(T,"#EXT-X-MEDIA")&&!OH(T,"#EXT-X-MEDIA-"))(u=LH(T)).uri&&(u.uri=BH(u.uri,i)),b.media.push(u);else if(OH(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(xH(T));else if(OH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.vht=!0,b.dht=_(xH(T),10);else if(OH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(xH(T),10),b.wht=!0,b._ht=a;else if(OH(T,"#EXT-X-TARGETDURATION"))b.targetDuration=_(xH(T),10),b.hasTargetDuration=!0;else if(OH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(OH(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(OH(T,"#EXT-X-MAP")){var S=LH(T),E=S.uri,I=S.byterange;o=I?XH(I,E,i,0):BH(E,i)}else if(OH(T,"#EXT-X-VERSION"))b.version=_(xH(T),10);else if(OH(T,"#EXT-X-DATERANGE")){var R=FH(T);b.dateRanges.push(R)}}else if(OH(T,"#"));else if(0!==T.length){f?k=(e=XH(f,T,i,k)).fht.NN+1:e=BH(T,i);var D,N=s&&Nr({},s);s&&void 0===s.iv&&(D=a%4294967295,N.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,D>>24,D>>16,D>>8,255&D])),b.fragments.push({start:0,duration:c,uri:e,_2:a,ght:l,F1:v,key:N,X1:m,mht:d,yht:!1,kht:o}),a+=1,c=0,f=null,l=!1,m=null,d=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].yht=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{pht:i,bht:e,Aht:n?t.fragments[n-1].duration:0,Tht:r/n,Sht:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t._2-n._2})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Xs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function FH(t){var n=LH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];ls(r,UH)&&(n[r.substr(UH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{P_:n.id,IJ:n.class,QD:e,RJ:r,Hg:n.duration,DJ:n["planned-duration"],EJ:s,NJ:i,PJ:u,OJ:o,xJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(MH||(MH={}));(RH={})[MH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",RH[MH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",RH[MH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",RH[MH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",RH[MH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",RH[MH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",RH[MH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var zH=function(){function t(){}return t.prototype.RA=function(t,n,i){return HH(t,n,i)},t}(),VH=3,WH=function(){function t(t,n,i){void 0===i&&(i=VH),this.lE=t,this.X6=n,this.Eht=i}var n=t.prototype;return n.Iht=function(t,n,i){return this.Rht(t,n,!0,i)},n.Dht=function(t,n,i){return this.Rht(t,n,!1,i)},n.Rht=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Eht)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Dr.awrap(fu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new rw({Ql:a,Wl:Af.$n,Vl:n,bd:this.X6,md:$d.GET,fs:tw.Jl,kd:nw.Kl,Ws:e}),i.next=14,Dr.awrap(this.lE.Yl(h));case 14:return c=i.sent,i.next=17,Dr.awrap(c.El(e));case 17:return f=i.sent,i.abrupt("return",{Nht:f,Cht:a,jl:c.jl});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),GH=function(){function t(t){this.Pht=void 0,this.Pht=t}return t.prototype.Bht=function(t,n,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Pht;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Dr.awrap(o.Bht(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),iu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),qH=function(){function t(t){this.C4=t}return t.prototype.Bht=function(t,n,i,e){var r;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.C4.V4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Nht:r.data,Cht:r.locationURL,jl:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),YH=function(){function t(t){this.Oht=t}return t.prototype.Bht=function(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Dr.awrap(this.Oht.Iht(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Dr.awrap(this.Oht.Dht(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function jH(t,n){return new GH([new qH(n),new YH(t)])}var QH=function(){function t(t,n,i){this.xht=t,this.Lht=n,this.Mht=i}var n=t.prototype;return n.Bht=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Dr.awrap(this.xht.Bht(t,n,i,e));case 3:return r=s.sent,s.next=6,Dr.awrap(this.Uht(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.Uht=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Lht.oat({key:sH(t.Cht),locationURL:aw(t.Cht),responseURL:aw(t.jl),data:t.Nht,references:[this.Mht.P_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function ZH(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var KH,JH=function(){function t(t,n,i){this.Pc=void 0,this.lE=void 0,this.xht=void 0,this.Xht=void 0,this.Xht=new zH,this.Pc=t,this.lE=i;var e=this.Pc&&this.Pc.crossOrigin===zg.Sg,r=new WH(i,e,1);this.xht=jH(r,new oH(pH.Yn.yat,pH.Yn.mat,pH.Yn.$K,pH.Yn.bat))}var n=t.prototype;return n.jh=function(t,n,i){var e=this.Aw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Aw=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Dr.awrap(this.xht.Bht([t],n));case 3:return i=r.sent,t=i.jl,e=this.Xht.RA(i.Nht,t,ZH(t)),r.abrupt("return",{vm:e,Hht:i.Nht});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof dw)){r.next=16;break}throw new IH(SH.Jat,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof ww)){r.next=24;break}if(0!==r.t0.Ud.zl){r.next=21;break}throw new IH(SH.$at,{code:"MFL3900",uri:t,status:r.t0.Ud.zl});case 21:throw new IH(SH.Jat,{code:"MFL4100",uri:t,status:r.t0.Ud.zl});case 22:r.next=25;break;case 24:throw new IH(SH.z_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),$H=function(t){function n(n,i){var e;return(e=t.call(this)||this).Fht=void 0,e.zht=void 0,e.Vht=void 0,e.Wht=void 0,e.Ght=void 0,e.qht=void 0,e.Yht=void 0,e.$R=void 0,e.Fht=new JH(i||{},pH.Yn.yat,n),e}S(n,t);var i=n.prototype;return i.Bm=function(){void 0!==this.Wht&&(h(this.Wht),this.Wht=void 0),this.Vht&&this.Vht.Yl&&(this.Vht=void 0)},i.jht=function(t){if(this.Yht)for(var n=0,i=this.Yht.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.Qht=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Sht<3*s)?1e3*u.pht:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.Zht=function(t){if(t.fragments.length>0)for(var n=this.jht(t.fragments[0].uri),i=n&&n._2||0,e=0,r=t.fragments;e<r.length;e++){r[e]._2+=i}},i.Kht=function(t,i,e,r,s,u){var o=this;if(this.Vht&&e===this.Vht.Yl){var h=QE()-i;if(r){this.Vht=void 0,this.$R=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.Vht=void 0;var f=u.vm,v=u.Hht;f.wht||this.Zht(f),t===this.zht&&(this.qht=f),this.Yht=f;var l=n.Qht(f,v,this.Ght,h);f.live?f.isMasterPlaylist||(this.Wht=a(function(){return o.Aw(t)},l)):this.Bm(),s&&s(r,u);var d={type:"Jht",manifest:f,manifestText:v};this.dispatchEvent(d),this.Ght=v}},i.Aw=function(t,n){var i=this,e=QE(),r=t;h(this.Wht),this.Wht=void 0;var s=this.Fht.jh(r,{},function(r,u){return i.Kht(t,e,s,r,n,u)});this.Vht={Yl:s,Ql:t}},i.RN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Yht?this.Yht.uri:this.zht))&&(this.Vht&&this.Vht.Ql===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("Jht",i);var r=t;n(null,{vm:r.manifest,Hht:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("Jht",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("Jht",i)):(this.Bm(),this.Aw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.$ht=function(t){t&&(this.Ght=void 0,this.qht&&this.qht.isMasterPlaylist?this.RN(t.uri):this.Yht&&!this.tct()&&this.RN(this.Yht.uri))},i.Sd=function(){this.Bm(),this.$s()},i.tct=function(){return!!this.Vht||!!this.Wht||!(!this.Yht||this.Yht.live)},A(n,[{key:"vm",get:function(){return this.Yht}},{key:"nct",get:function(){return this.qht}},{key:"ict",get:function(){return this.zht},set:function(t){this.Bm(),this.Ght=void 0,this.qht=void 0,this.Yht=void 0,this.zht=t}}]),n}(EH),tF=function(t){function n(){return t.call(this,"ect")||this}return S(n,t),n}(gu),nF=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rct=void 0,r.sct=void 0,r.uct=void 0,r.crt=void 0,r.act=void 0,r.lE=void 0,r.rq=void 0,r.hct=void 0,r.cct=function(){r.Qs(new tF)},r.crt=n,r.act=Nr({},i,{crossOrigin:r.crt.crossOrigin,withCredentials:r.crt.useCredentials,liveOffset:r.crt.liveOffset,hlsDateRange:r.crt.hlsDateRange}),r.lE=e,r.sct=[],r.rq=!1,r}S(n,t);var i=n.prototype;return i.fct=function(){if(this.uct)return this.uct.vm},i.RN=function(t){var n=this;hu(AL(function(){return n.vct()},t))},i.vct=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.lct());case 2:if((t=u.sent).isMasterPlaylist)for(this.rct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new $H(this.lE,this.act),this.sct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new $H(this.lE,this.act),this.sct.push({stream:{uri:t.uri},updater:s});this.hct&&(this.dct(this.hct.width,this.hct.height),this.hct=void 0),this.rq=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.wct=function(t,n){this.rq?this.dct(t,n):this.hct={width:t,height:n}},i.dct=function(t,n){this._ct();var i=this.gct(t,n);i&&(this.uct=i.updater,this.uct.addEventListener("Jht",this.cct),i.updater.RN(i.stream.uri))},i._ct=function(){this.uct&&(this.uct.Bm(),this.uct.removeEventListener("Jht",this.cct),this.uct=void 0)},i.gct=function(t,n){return 1===this.sct.length?this.sct[0]:xs(this.sct,function(i){return i.stream.width===t&&i.stream.height===n})},i.lct=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new JH(this.act,pH.Yn.yat,this.lE),i.next=3,Dr.awrap(t.jh(this.crt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.vm);case 5:case"end":return i.stop()}},null,this,null,We)},i.Sd=function(){this._ct();for(var t=0,n=this.sct;t<n.length;t++){n[t].updater.Sd()}zs(this.sct)},n}(wu),iF=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).mct=void 0,r.yct=void 0,r.LM=void 0,r.kct=!1,r.t6=void 0,r.qq=void 0,r.handleManifestUpdate=function(){var t=r.mct.fct();if(t){var n=r.QD;if(n){var i=n.getTime(),e=r.t6;e||(e=new hL,r.t6=e),e.Zh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.kct&&e.j_.b_>0&&(r.Dm.g_(e),r.qq.g_(e),r.kct=!0)}}},r.pct=function(){r.mct&&r.mct.wct(r.jg,r.Yg)},r.yct=i,r.LM=e,r.qq=new iP(Kt(r)),r.Zs(bf.Cf,r.pct),r}S(n,t);var i=n.prototype;return i.xm=function(n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.xm.call(this,n,i,e));case 2:n.hlsDateRange&&this.bct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.bct=function(t,n,i){this.mct&&(this.mct.tu("ect",this.handleManifestUpdate),this.mct.Sd()),this.mct=new nF(t,n,this.yct),this.mct.Zs("ect",this.handleManifestUpdate),this.mct.RN(i)},i.k_=function(){return this.t6&&(this.Dm.m_(this.t6),this.qq.m_(this.t6),this.t6.Sd(),this.t6=void 0,this.kct=!1),this.qq.k_(),t.prototype.k_.call(this)},i.Sd=function(){return this.tu(bf.Cf,this.pct),this.mct&&(this.mct.tu("ect",this.handleManifestUpdate),this.mct.Sd()),this.qq.Sd(),t.prototype.Sd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Act=void 0,i.Act=n;for(var e=0;e<nS.length;e++){var r=nS[e];i.Act.Zs(r,i.js)}return i}S(n,t);var i=n.prototype;return i.Lm=function(){return this.Act.Lm()},i.Gm=function(){return this.Act.Gm()},i.Wm=function(){return this.Act.Wm()},i.Vm=function(){return this.Act.Vm()},i.Km=function(){return this.Act.Km()},i.Pm=function(){return this.Act.Pm()},i.Cm=function(){return this.Act.Cm()},i.k_=function(){return this.Act.k_()},i.xm=function(t,n,i){return this.Act.xm(t,n,i)},i.zm=function(){return this.Act.zm()},i.Mm=function(){return this.Act.Mm()},i.Um=function(){return this.Act.Um()},i.Sd=function(){this.$s();for(var t=0;t<nS.length;t++){var n=nS[t];this.Act.tu(n,this.js)}return this.Act.Sd()},A(n,[{key:"Im",get:function(){return this.Act.Im}},{key:"Jm",get:function(){return this.Act.Jm}},{key:"$m",get:function(){return this.Act.$m},set:function(t){this.Act.$m=t}},{key:"Xg",get:function(){return this.Act.Xg},set:function(t){this.Act.Xg=t}},{key:"Hg",get:function(){return this.Act.Hg}},{key:"Fg",get:function(){return this.Act.Fg}},{key:"zg",get:function(){return this.Act.zg}},{key:"Nm",get:function(){return this.Act.Nm}},{key:"mu",get:function(){return this.Act.mu}},{key:"ey",get:function(){return this.Act.ey}},{key:"lm",get:function(){return this.Act.lm}},{key:"Vg",get:function(){return this.Act.Vg},set:function(t){this.Act.Vg=t}},{key:"_y",get:function(){return this.Act._y}},{key:"Wg",get:function(){return this.Act.Wg}},{key:"Gg",get:function(){return this.Act.Gg},set:function(t){this.Act.Gg=t}},{key:"gy",get:function(){return this.Act.gy}},{key:"yy",get:function(){return this.Act.yy},set:function(t){this.Act.yy=t}},{key:"Y_",get:function(){return this.Act.Y_}},{key:"py",get:function(){return this.Act.py}},{key:"qg",get:function(){return this.Act.qg}},{key:"QD",get:function(){return this.Act.QD}},{key:"Dm",get:function(){return this.Act.Dm}},{key:"Yg",get:function(){return this.Act.Yg}},{key:"Rm",get:function(){return this.Act.Rm}},{key:"jg",get:function(){return this.Act.jg}},{key:"Qg",get:function(){return this.Act.Qg},set:function(t){this.Act.Qg=t}},{key:"by",get:function(){return this.Act.by}},{key:"Ay",get:function(){return this.Act.Ay},set:function(t){this.Act.Ay=t}},{key:"ZD",get:function(){return this.Act.ZD}}]),n}(Lg));KH=function(t,n,i){return new iF(t,n,i)},jT.iN().eN(KH);var eF=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},rF=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),sF={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(sF,sF.exports);var uF=sF.exports;function oF(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function aF(t){return JSON.stringify(t,sF.exports.getSerialize(oF))}var hF={},cF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(cF);var fF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(fF);var vF={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(vF),d.defineProperty(hF,"__esModule",{value:!0});var lF=cF.isS,dF=cF.isChar,wF=cF.isNameStartChar,_F=cF.isNameChar,gF=cF.S_LIST,mF=cF.NAME_RE,yF=fF.isChar,kF=vF.isNCNameStartChar,pF=vF.isNCNameChar,bF=vF.NC_NAME_RE;const AF="http://www.w3.org/XML/1998/namespace",TF="http://www.w3.org/2000/xmlns/",SF={__proto__:null,xml:AF,xmlns:TF},EF={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},IF=-1,RF=-2,DF=0,NF=1,CF=2,PF=3,BF=4,OF=5,xF=6,LF=7,MF=8,UF=9,XF=10,HF=11,FF=12,zF=13,VF=14,WF=15,GF=16,qF=17,YF=18,jF=19,QF=20,ZF=21,KF=22,JF=23,$F=24,tz=25,nz=26,iz=27,ez=28,rz=29,sz=30,uz=31,oz=32,az=33,hz=34,cz=35,fz=36,vz=37,lz=38,dz=39,wz=40,_z=41,gz=42,mz=43,yz=44,kz=9,pz=10,bz=13,Az=32,Tz=33,Sz=38,Ez=45,Iz=47,Rz=59,Dz=60,Nz=61,Cz=62,Pz=63,Bz=91,Oz=93,xz=133,Lz=8232,Mz=t=>34===t||39===t,Uz=[34,39],Xz=[...Uz,Bz,Cz],Hz=[...Uz,Dz,Oz],Fz=[Nz,Pz,...gF],zz=[...gF,Cz,Sz,Dz];function Vz(t,n,i){switch(n){case"xml":i!==AF&&t.fail(`xml prefix must be bound to ${AF}.`);break;case"xmlns":i!==TF&&t.fail(`xmlns prefix must be bound to ${TF}.`)}switch(i){case TF:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${TF}.`);break;case AF:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Wz=t=>bF.test(t),Gz=t=>mF.test(t),qz=0,Yz=1,jz=2;hF.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Qz={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var Zz=hF.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=kF,this.nameCheck=pF,this.isName=Wz,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},SF);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Vz(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=wF,this.nameCheck=_F,this.isName=Gz,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.do}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=qz,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?zF:DF,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.do=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(EF),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Qz[t]]=n}off(t){this[Qz[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===bz||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return IF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Az||i===kz)return i;switch(i){case pz:return this.line++,this.column=0,this.positionAtNewLine=this.position,pz;case bz:return t.charCodeAt(n+1)===pz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,RF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return IF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Lz||i===kz)return i;switch(i){case pz:return this.line++,this.column=0,this.positionAtNewLine=this.position,pz;case bz:{const i=t.charCodeAt(n+1);i!==pz&&i!==xz||(this.i=n+2)}case xz:case Lz:return this.line++,this.column=0,this.positionAtNewLine=this.position,RF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===RF?pz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===RF,s=r?pz:e;if(s===IF||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case RF:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=pz;break;case IF:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===IF)return this.name+=t.slice(n),IF;if(!_F(i))return this.name+=t.slice(n,this.prevI),i===RF?pz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===IF||!lF(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=dF,this.getCode=this.getCode10):(this.isChar=yF,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=NF}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case Dz:if(this.state=WF,0!==this.text.length)throw new v("no-empty text at start");break;case IF:break;default:this.unget(),this.state=zF,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Xz);switch(n){case Cz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=zF,this.doctype=!0;break;case IF:break;default:this.text+=String.fromCodePoint(n),n===Bz?this.state=BF:Mz(n)&&(this.state=PF,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=CF)}sDTD(){const t=this.captureTo(Hz);t!==IF&&(this.text+=String.fromCodePoint(t),t===Oz?this.state=CF:t===Dz?this.state=xF:Mz(t)&&(this.state=OF,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=BF,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Tz:this.state=LF,this.openWakaBang="";break;case Pz:this.state=HF;break;default:this.state=BF}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?MF:BF,this.openWakaBang="")}sDTDComment(){this.captureToChar(Ez)&&(this.text+="-",this.state=UF)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Ez?XF:MF}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Cz?this.state=BF:(this.fail("malformed comment."),this.state=MF)}sDTDPI(){this.captureToChar(Pz)&&(this.text+="?",this.state=FF)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Cz&&(this.state=BF)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case RF:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Rz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===zF&&void 0===this.textHandler||(this.text+=r);break t}case IF:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(wF(t))this.state=hz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case Iz:this.state=mz,this.xmlDeclPossible=!1;break;case Tz:this.state=GF,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Pz:this.state=JF;break;default:this.fail("disallowed character in tag name"),this.state=zF,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=QF,this.openWakaBang="";break;case"--":this.state=qF,this.openWakaBang="";break;case"DOCTYPE":this.state=CF,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Ez)&&(this.state=YF)}sCommentEnding(){var t;const n=this.getCodeNorm();n===Ez?(this.state=jF,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=qF)}sCommentEnded(){const t=this.getCodeNorm();t!==Cz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=qF):this.state=zF}sCData(){this.captureToChar(Oz)&&(this.state=ZF)}sCDataEnding(){const t=this.getCodeNorm();t===Oz?this.state=KF:(this.text+=`]${String.fromCodePoint(t)}`,this.state=QF)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Cz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=zF;break;case Oz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=QF}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=$F):t===Pz||lF(t)?(this.fail("processing instruction without a target."),this.state=t===Pz?nz:tz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=$F)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===IF)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Pz;e||lF(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?az:iz):this.state=e?nz:tz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Pz?this.state=nz:lF(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Pz)&&(this.state=nz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Cz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=zF}else n===Pz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=tz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Pz?t!==IF&&(this.state=ez,this.name=String.fromCodePoint(t)):this.state=az}sXMLDeclName(){const t=this.captureTo(Fz);if(t===Pz)return this.state=az,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(lF(t)||t===Nz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Nz?sz:rz}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Pz)return this.state=az,void this.fail("XML declaration is incomplete.");lF(t)||(t!==Nz&&this.fail("value required."),this.state=sz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Pz)return this.state=az,void this.fail("XML declaration is incomplete.");lF(t)||(Mz(t)?this.q=t:(this.fail("value must be quoted."),this.q=Az),this.state=uz)}sXMLDeclValue(){const t=this.captureTo([this.q,Pz]);if(t===Pz)return this.state=az,this.text="",void this.fail("XML declaration is incomplete.");if(t===IF)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=oz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Pz?(lF(t)||(this.fail("whitespace required."),this.unget()),this.state=iz):this.state=az}sXMLDeclEnding(){var t;this.getCodeNorm()===Cz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=zF):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===IF)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Cz:this.openTag();break;case Iz:this.state=cz;break;default:lF(n)||this.fail("disallowed character in tag name."),this.state=fz}}sOpenTagSlash(){this.getCode()===Cz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=fz)}sAttrib(){const t=this.skipSpaces();t!==IF&&(wF(t)?(this.unget(),this.state=vz):t===Cz?this.openTag():t===Iz?this.state=cz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Nz?this.state=dz:lF(t)?this.state=lz:t===Cz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==IF&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case IF:return;case Nz:this.state=dz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Cz?this.openTag():wF(t)?(this.unget(),this.state=vz):(this.fail("disallowed character in attribute name."),this.state=fz)}}sAttribValue(){const t=this.getCodeNorm();Mz(t)?(this.q=t,this.state=wz):lF(t)||(this.fail("unquoted attribute value."),this.state=gz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=_z);case Sz:return this.text+=n.slice(i,this.prevI),this.state=VF,void(this.entityReturnState=wz);case pz:case RF:case kz:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case Dz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case IF:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();lF(t)?this.state=fz:t===Cz?this.openTag():t===Iz?this.state=cz:wF(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=vz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(zz);switch(t){case Sz:this.state=VF,this.entityReturnState=gz;break;case Dz:this.fail("disallowed character.");break;case IF:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Cz?this.openTag():this.state=fz}}sCloseTag(){const t=this.captureNameChars();t===Cz?this.closeTag():lF(t)?this.state=yz:t!==IF&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Cz:this.closeTag();break;case IF:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case Dz:if(this.state=WF,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=qz;break t;case Sz:this.state=VF,this.entityReturnState=zF,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=qz;break t;case Oz:switch(n){case qz:n=Yz;break;case Yz:n=jz;break;case jz:break;default:throw new v("impossible state")}break;case Cz:n===jz&&this.fail('the string "]]>" is disallowed in char data.'),n=qz;break;case RF:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=qz;break;case IF:void 0!==e&&(this.text+=i.slice(t));break t;default:n=qz}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case Dz:if(this.state=WF,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case Sz:this.state=VF,this.entityReturnState=zF,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case RF:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case IF:void 0!==i&&(this.text+=n.slice(t));break t;default:lF(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Vz(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Vz(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==DF&&this.state!==zF&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.do=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?TF:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=zF,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=zF,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=zF,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},Kz=function(){function t(){}return t.prototype.ui=function(t){var n=new Zz({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new rV,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new iV(t))}),n.on("cdata",function(t){r(new eV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new tV({di:n,_i:""===i?void 0:i,Tct:""===s?void 0:s}),o=t.attributes,a=0,h=d.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,v=c.local,l=c.uri,w=c.value,_=new Jz({di:v,Ai:w,_i:""===l?void 0:l,Tct:""===f?void 0:f});u.Sct(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new tn(t)}),n.write(t).close(),i},t}(),Jz=function(){function t(t){this.Ect=void 0,this.Ict=void 0,this.Rct=void 0,this.ke=void 0,this.Ect=t.di,this.ke=t.Ai,this.Ict=t._i,this.Rct=t.Tct}var n=t.prototype;return n.ai=function(t){return this===t||!!uV(this,t)&&(this.Ect===t.Ect&&this.Ict===t.Ict&&this.Rct===t.Rct&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,Tct:this.gi})},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){return this.Ect}},{key:"wi",get:function(){return void 0===this.Rct?this.Ect:this.Rct+":"+this.Ect}},{key:"_i",get:function(){return this.Ict}},{key:"gi",get:function(){return this.Rct}},{key:"Ai",get:function(){return this.ke}}]),t}(),$z=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return sV(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return sV(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},A(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(sV)}}]),t}(),tV=function(t){function n(n){var i;return(i=t.call(this)||this).Ect=void 0,i.Ict=void 0,i.Rct=void 0,i.Dct=[],i.Ect=n.di,i.Ict=n._i,i.Rct=n.Tct,i}S(n,t);var i=n.prototype;return i.Nct=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];sV(e)?e.Nct(t):t.push(e.Fi)}},i.Oi=function(t,n){for(var i=0,e=this.Dct;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.Dct;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.Sct=function(t){this.Dct.push(t)},i.xi=function(t){for(var n=0;n<this.Dct.length;n++)if(this.Dct[n].wi===t)return void this.Dct.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.Dct.length;i++)if(this.Dct[i].di===n&&this.Dct[i]._i===t)return void this.Dct.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.Sct(new Jz({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.Sct(new Jz({di:e[e.length-1],Ai:i,_i:t,Tct:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,Tct:this.gi});return this.Xi.forEach(function(t){return i.Sct(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!uV(this,t)&&(this.Ect===t.Ect&&this.Rct===t.Rct&&this.Ict===t.Ict&&(oV(this.Xi,t.Xi)&&oV(this.Ii,t.Ii)))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"Xi",get:function(){return this.Dct}},{key:"di",get:function(){return this.Ect}},{key:"_i",get:function(){return this.Ict}},{key:"gi",get:function(){return this.Rct}},{key:"Ri",get:function(){return void 0===this.Rct?this.Ect:this.Rct+":"+this.Ect}},{key:"Hi",get:function(){var t=[];return this.Nct(t),t.join("")}}]),n}($z),nV=function(){function t(t){this.Gi=void 0,this.Gi=t}return A(t,[{key:"Fi",get:function(){return this.Gi}}]),t}(),iV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!uV(this,t)&&this.Fi===t.Fi},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(nV),eV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!uV(this,t)&&this.Fi===t.Fi},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(nV),rV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!uV(this,t)&&oV(this.Ii,t.Ii)},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}($z);function sV(t){return Qt(t)}function uV(t,n){return t.Kn===n.Kn}function oV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var aV,hV=["adBreak"],cV=["adBreak"];function fV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Ub(t,hV)})})})}function vV(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,Ub(t,cV)})})}function lV(t){return"string"==typeof t.date?new Date(t.date):t.date}function dV(t){var n;return t.cue.track?(n=_V(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=_V(t.cue,""),n}function wV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function _V(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new Kz).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=gV(o);s[u]={type:aV.Cct,value:a}}else yV(o)?s[u]={type:aV.Pct,value:o}:s[u]={type:aV.kQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=gV(t.scte35Cmd),i.scte35Out=gV(t.scte35Out),i.scte35In=gV(t.scte35In),i.customAttributes=s}var h}(),i}function gV(t){if(void 0!==t)return Ou(t)}function mV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(_V(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(_V(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function yV(t){return"number"==typeof t}!function(t){t.kQ="daterange-ca-type_string",t.Pct="daterange-ca-type_number",t.Cct="daterange-ca-type_arraybuffer"}(aV||(aV={}));var kV={cue:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=dV(t)}return n},textTrack:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;TV().register(i);var e=AV()[SV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=dV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(_V(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:mV(t.track),date:lV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=TV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case bf.Ff:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=mV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=vV(t.ad);break;case"adloaded":case"adimpression":n.ad=fV(t.ad);break;case"aderror":t.Bct&&(n.Bct=t.Bct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=fV(t.ad)}return wV(n)},minimizeCueHelper:function(t){var n={};return n.date=lV(t),n.type=t.type,n.cue=dV(t),n.track={uid:t.cue.track.uid},n},adReplacer:fV,adBreakReplacer:vV,removeCircularReferences:wV},pV=function(){this.stringify=aF,this.minimize=kV};function bV(){return le.self}function AV(){return bV().THEOplayerBridge}function TV(){return bV().THEOCueMirrorMap}function SV(){return bV().THEOplayerGlobalID}function EV(){var t=bV();if(t.THEOplayerBridge){var n=new eF;t.THEOplayerBridge=hg(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new eF;t.THEOplayerUtils||(t.THEOplayerUtils=new pV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new rF)}EV();var IV,RV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(gu),DV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new RV(t,n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(Mg),NV=function(t){function n(n,i){var e;return(e=t.call(this)||this).Oct=void 0,e.xct=void 0,e.Lct=function(t){e.Oct.rK("THEOplayerABRSetTargetBuffer",t.eL),e.Qs(t)},e.Mct=function(t){e.Oct.rK("THEOplayerABRSetStrategy",t.sL),e.Qs(t)},e.Oct=n,e.xct=i,e.xct.Zs("rL",e.Lct),e.xct.Zs("uL",e.Mct),e}return S(n,t),n.prototype.gL=function(t){return this.xct.gL(t)},A(n,[{key:"yL",get:function(){var t;switch(this.sL.type){case qI.PERFORMANCE:return 1;case qI.QUALITY:return 0;case qI.BANDWIDTH:return null!=(t=this.sL.metadata)&&t.bitrate&&!m(this.sL.metadata.bitrate)?this.sL.metadata.bitrate:0;default:return 0}}},{key:"Gw",get:function(){return this.xct.Gw}},{key:"sL",get:function(){return this.xct.sL},set:function(t){this.xct.sL=t}},{key:"eL",get:function(){return this.xct.eL},set:function(t){this.xct.eL=t}},{key:"mL",get:function(){return this.xct.mL}},{key:"oL",get:function(){return this.xct.oL},set:function(t){this.xct.oL=t}},{key:"hL",get:function(){return this.xct.hL}},{key:"Jx",get:function(){return this.xct.Jx}}]),n}(wu),CV=function(){function t(t,n,i){this.Pc=void 0,this.ys=void 0,this.Vc=void 0,this.ic=void 0,this.Pc=t,this.ys=i,this.Vc=n}var n=t.prototype;return n.yE=function(t){throw new v("Not implemented yet.")},n.DX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.NX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.CX=function(t){return!1},n.PX=function(t){return We.resolve(void 0)},n.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.NX(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.NX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.OX(t),i.next=3,Dr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.OX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ic)){i.next=5;break}return i.next=4,Dr.awrap(n.cc(this.Vc));case 4:this.ic=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Dr.awrap(t.hc(this.Vc));case 8:this.ic=t;case 9:case"end":return i.stop()}},null,this,null,We)},n._E=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"rc",get:function(){return this.Pc}},{key:"yy",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"py",get:function(){return new uS([0,1/0])}},{key:"Dm",get:function(){throw new v("Not implemented yet.")}},{key:"Uct",get:function(){throw new v("Not implemented yet")}},{key:"Rm",get:function(){throw new v("Not implemented yet.")}},{key:"Xct",get:function(){throw new v("Not implemented yet")}},{key:"Hct",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Fct="webkitneedkey",t.zct="webkitkeymessage",t.Vct="webkitkeyerror"}(IV||(IV={}));var PV=function(t){function n(n,i){var e;return(e=t.call(this,IV.Fct)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(gu),BV=function(t){function n(n,i){var e;return(e=t.call(this,IV.zct)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(gu),OV=function(t){function n(){return t.call(this,IV.Vct)||this}return S(n,t),n}(gu),xV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).yc=new Go,u.Bc=void 0,u.bc=new Eu,u.xc=new Go,u.Wct=function(t){u.Bc?(u.Bc.Gu(void 0),u.Bc=void 0):u.Ic("internal-error"),u.Qs(new bu)},u.Gct=function(t){u.Bc&&(u.Bc.Wu(void 0),u.Bc=void 0),u.Qs(new pu(Kt(u),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},u.Dc=n,u.Vh=i,u.qct=e,u.Fc=r,u.Mc=s,u}S(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Uc){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Dr.awrap(this.Yct(Xo(n),e));case 5:this.Ic("usable"),this.xc.Wu(),this.xc=new Go;case 8:case"end":return t.stop()}},null,this,null,We)},i.jh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.Zh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Xo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Bc=new Go,this.qct.Zh(this.Fc,n),i.next=7,Dr.awrap(this.Bc.Hu);case 7:case"end":return i.stop()}},null,this,null,We)},i.qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.xc);case 2:return this.qct.tu(IV.zct,this.Gct),this.qct.tu(IV.Vct,this.Wct),this.xc.Fs(),this.yc.Wu(void 0),t.abrupt("return",this.yc.Hu);case 7:case"end":return t.stop()}},null,this,null,We)},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.Yct=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=tf(t,n,this.Mc),this.qct.Zs(IV.zct,this.Gct),this.qct.Zs(IV.Vct,this.Wct),this.qct.bq(this.Fc,i);case 4:case"end":return e.stop()}},null,this,null,We)},i.Ic=function(t){this.bc.Nu(),this.bc.Du(Su,t),this.Qs(new ku(this))},A(n,[{key:"nc",get:function(){return this.Fc}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Hu}},{key:"tc",get:function(){return this.bc}}]),n}(wu),LV=function(){function t(t,n,i){this.jct=void 0,this.Fc=void 0,this.Mc=void 0,this.qct=void 0,this.Vh=void 0,this.Pc=void 0,this.Dc=void 0,this.qct=t,this.Vh=n,this.Pc=i;var e=Xc(i)||"video/mp4";this.Dc=xc(e)}var i=t.prototype;return i.uc=function(t){var i;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new nf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new xV(this.Dc,this.Vh,this.qct,this.Fc,this.Mc),this.jct=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.ac=function(t){return this.Mc=Xo(t),We.resolve(!0)},i.hc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.cc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"ec",get:function(){return this.Vh}},{key:"rc",get:function(){return this.Pc}},{key:"sessionId",set:function(t){this.Fc=t}}]),t}(),MV=function(){function t(t,n,i){this.Qct=t,this.Vh=n,this.Pc=i}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new LV(this.Qct,this.Vh,this.Pc));case 1:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),UV=function(){function t(t){this.Qct=void 0,this.Qct=t}return t.prototype.Ss=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Mc(XV,yu,t,e))){s.next=6;break}return s.abrupt("return",new MV(this.Qct,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function XV(t,n){return t===is}var HV,FV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Pq=function(t,n){return!0},n}(kP),zV=function(t){function n(n,i,e){var r;return void 0===e&&(e=new UV(i)),(r=t.call(this)||this).JR=void 0,r.ys=void 0,r.SX=void 0,r.Mq=new JR,r.Zct=void 0,r.Qct=void 0,r.Kct=!1,r.Fc=void 0,r.Lc=null,r.Jct={sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.$ct=function(t){"boolean"==typeof t.detail.casting&&(r.Kct=t.detail.casting,r.Qs(new yy(r.Kct)))},r.tft=function(t){r.Fc=t.sessionId,r.Lc&&(r.Lc.sessionId=r.Fc);var n=t.initData;if(n){var i=IP(n);if(!i)return;r.Qs(new Au(qr,i))}else r.Qs(new Au(qr,new ArrayBuffer(0)))},r.Zct=n,r.Qct=i,r.Qct.Zs(IV.Fct,r.tft),r.ys=e,r.SX=new FV(Kt(r)),r.nft(),r}S(n,t);var i=n.prototype;return i.XX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===nb.pE)return i}},i.xs=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.k_());case 2:return this.$s(),this.ift(),this.Qct.tu(IV.Fct,this.tft),t.next=7,Dr.awrap(this.SX.xs());case 7:case"end":return t.stop()}},null,this,null,We)},i.Vm=function(){throw new v("Not implemented yet")},i._E=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.xD=function(){return!1},i.MD=function(t,n,i,e){throw new v("Not implemented yet")},i.yE=function(t){throw new v("Not implemented yet")},i.HD=function(){throw new v("Not implemented yet")},i.jh=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Mq.ZU(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.fs!==nb.pE){r.next=8;break}return nu(i),e=new CV(t,n,n.ys),n.JR=e,n.SX.jh(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.Pm=function(){throw new v("Not implemented yet")},i.Cm=function(){throw new v("Not implemented yet")},i.k_=function(){var t=this;return this.Mq.Fs(),this.Mq.ZU(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.JR){n.next=4;break}return n.next=3,Dr.awrap(t.JR.xs());case 3:t.JR=void 0;case 4:return n.next=6,Dr.awrap(t.SX.k_());case 6:case"end":return n.stop()}},null,null,null,We)})},i.xu=function(t,n){throw new v("Not implemented yet")},i.YD=function(t){throw new v("Not implemented yet")},i.zm=function(){throw new v("Not implemented yet")},i.jD=function(){return this.Jct},i.nft=function(){this.Zct.addEventListener("airPlayIsCasting",this.$ct)},i.ift=function(){this.Zct.removeEventListener("airPlayIsCasting",this.$ct)},i.webkitSetMediaKeys=function(t){this.Lc=t||null,this.Lc&&(this.Lc.sessionId=this.Fc)},i.pj=function(){},i.mj=function(){throw new v("Not implemented yet")},i.yj=function(){throw new v("Not implemented yet")},A(n,[{key:"$m",get:function(){throw new v("Not implemented yet")}},{key:"Jm",get:function(){throw new v("Not implemented yet")}},{key:"Xg",get:function(){throw new v("Not implemented yet")}},{key:"NU",get:function(){throw new v("Not implemented yet")}},{key:"Hg",get:function(){throw new v("Not implemented yet")}},{key:"Fg",get:function(){throw new v("Not implemented yet")}},{key:"mu",get:function(){throw new v("Not implemented yet")}},{key:"sT",get:function(){throw new v("Not implemented yet")}},{key:"ey",get:function(){return this.Kct}},{key:"Vg",get:function(){throw new v("Not implemented yet")}},{key:"Wg",get:function(){throw new v("Not implemented yet")}},{key:"Gg",get:function(){throw new v("Not implemented yet")}},{key:"gy",get:function(){throw new v("Not implemented yet")}},{key:"Y_",get:function(){throw new v("Not implemented yet")}},{key:"py",get:function(){throw new v("Not implemented yet")}},{key:"qg",get:function(){throw new v("Not implemented yet")}},{key:"Tj",get:function(){throw new v("Not implemented yet")}},{key:"Qg",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Tk",get:function(){throw new v("Not implemented yet")}},{key:"XD",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Lc}},{key:"Sj",get:function(){return _D}},{key:"Dm",get:function(){throw new v("Not implemented yet")}},{key:"PU",get:function(){throw new v("Not implemented yet")}},{key:"QD",get:function(){throw new v("Not implemented yet")}},{key:"bj",get:function(){return!0}},{key:"ED",get:function(){return this.SX.ED},set:function(t){this.SX.ED=t}},{key:"xq",get:function(){return this.SX.xq}}]),n}(Lg),VV=function(t){function n(n){var i;return(i=t.call(this,bf.Wf)||this).Jct=n,i}return S(n,t),n}(gu);function WV(t){switch(t.type){case HV.kQ:return t.value;case HV.Pct:return wg(t.value);case HV.Cct:return Pu(t.value);default:return}}function GV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.kQ="daterange-ca-type_string",t.Pct="daterange-ca-type_number",t.Cct="daterange-ca-type_arraybuffer"}(HV||(HV={}));var qV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).oR=void 0,u.eft=void 0,u.oR=n,u.eft=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.oR}},{key:"timestamp",get:function(){return this.eft}}]),n}(nf),YV=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return S(n,t),n}(qV),jV=function(){function t(t,n){this.Am=void 0,this.qq=void 0,this.Am=new Rp,this.qq=new $C(t,n)}var n=t.prototype;return n._E=function(t,n,i,e,r,s,u){var o=new $N(t,n,i,e,r,s,u);return this.Am.g_(o),this.qq.g_(o),o},n.yE=function(t){this.Am.m_(t),this.qq.m_(t),t.Sd()},n.k_=function(){for(var t=0,n=this.Am.p_.slice();t<n.length;t++){n[t].Sd()}this.Am.k_(),this.qq.k_()},n.Sd=function(){this.k_(),this.Am.Sd(),this.qq.Sd()},A(t,[{key:"Dm",get:function(){return this.Am}}]),t}(),QV=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this)._C=0,u.gW=!1,u.$R=void 0,u.tD=void 0,u.rft=void 0,u.mC=!0,u.yC=1,u.ym=void 0,u.pm=void 0,u.zq=void 0,u.Wq=void 0,u.Am=void 0,u.vE=void 0,u.ua=void 0,u.I8=uS.fC(),u.eW=uS.fC(),u.gC=!1,u.tY=uS.fC(),u.kC=void 0,u.sft=void 0,u.uft=void 0,u.mW=qg.Rg,u.AE=qg.Rg,u.Zct=void 0,u.qq=void 0,u.eD=void 0,u.Oct=void 0,u.crt=void 0,u.TC=void 0,u.KR=void 0,u.rD=void 0,u.Qct=void 0,u.Jct={sy:0,uy:0,oy:0,vy:0,ly:0,wy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.JR=void 0,u.oft=void 0,u.uD=new MT,u.oD=new VT,u.setCurrentTime=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.py.length){n.next=4;break}return u._C=t,n.next=4,Dr.awrap(u.Zct.au("seekablechange"));case 4:u._C=u.updateCurrentTime(t),u.Oct.rK("THEOplayerSetCurrentTime",u._C),u.kC=!0,u.Qs(new bm(u._C));case 8:case"end":return n.stop()}},null,null,null,We)},u.aft=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.I8=new uS(i),u.Qs(new pD(u.Xg))}},u.hft=function(t){u.mW=t.detail.readyState,u.Qs(new Sm(+t.detail.currentTime,u.Y_)),u.cft()},u.fft=function(t){u.mW=t.detail.readyState,u.Qs(new Em(+t.detail.currentTime,u.Y_)),u.cft()},u.vft=function(t){if(t.detail){var n=+t.detail.duration;u.ua=n,u.Qs(new gm(u.Hg))}},u.lft=function(t){t.detail&&(u.gW=!0,u.Qs(new km(+t.detail.currentTime)))},u.aD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);GV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.tD=new YV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.$R=$m(u.tD),u.Qs(new Rm(u.tD))):GV(i)&&(u.tD=new qV(i.name,i.message,void 0,i.code,i.timestamp),u.$R=$m(u.tD),u.Qs(new Rm(u.tD)))}},u.dft=function(t){u.Qs(new bD)},u.wft=function(t){u.mW=t.detail.readyState,u.Qs(new pm(+t.detail.currentTime,u.Y_)),u.cft()},u._ft=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.py.length){n.next=3;break}return n.next=3,Dr.awrap(u.Zct.au("seekablechange"));case 3:u.mW=t.detail.readyState,u.Qs(new _m(+t.detail.currentTime,u.Y_)),u.cft();case 6:case"end":return n.stop()}},null,null,null,We)},u.gft=function(t){t.detail&&u.mC&&(u.mC=!1,u.Qs(new vm(+t.detail.currentTime)))},u.mft=function(t){t.detail&&(u.mC||(u.mC=!0,u.Qs(new fm(+t.detail.currentTime))))},u.yft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.tY=new uS(i)}},u.kft=function(t){t.detail&&u.Qs(new lb(+t.detail.currentTime))},u.pft=function(t){t.detail&&(u.yC=t.detail.playbackRate,u.Qs(new mm(+t.detail.currentTime,u.yC)))},u.bft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.eW=new uS(i)}},u.Aft=function(t){t.detail&&(u._C=+t.detail.currentTime,u.kC=!1,u.Qs(new ym(u._C,u.rft)),u.Qs(new Am(u._C)))},u.Tft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ua&&(u.gW=!1),u.kC=!0,u.Qs(new bm(n))}},u.Sft=function(t){t.detail&&(t.detail.currentDate&&(u.rft=new Date(1e3*t.detail.currentDate)),u._C=+t.detail.currentTime,u.Qs(new ym(u._C,u.rft)))},u.Eft=function(t){u.sft=t.detail.height,u.uft=t.detail.width},u.Ift=function(t){t.detail&&u.Qs(new vb(+t.detail.currentTime))},u.Rft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Im.g_(new ly(n))},u.Dft=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.ym.b_;s++){var o=u.Im.__(s);o.L_==e&&o.x_==r?i=u.ym.__(s):1==o.C_&&(n=u.ym.__(s))}i&&n&&(i.C_=!0,n.C_=!1)},u.Nft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Rm.g_(new my(n))},u.PZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Ip.Kb&&e===_y.ID3?(n=new sP("",t.detail.label)).W_=Eg.H_:i===Ip.Kb&&e===_y.DATE_RANGE?(n=new hL,u.oft=n):n=new $N(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.zq.g_(n),u.qq.g_(n)},u.Cft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new eP(wg(e.startTime),s,e.uid),a=u.Pft();a&&a.mE(o)}},u.Bft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Ly(wg(r.startTime),wg(r.endTime),r.content,!1),o=null!=(e=u.Oft(Ip.Qb))?e:u.Oft(Ip.$S);o&&(o.fs=_y.WEBVTT,o.mE(s))}},u.jY=function(t){t.type===bf.vf&&(u.$R=$m(t.errorObject)),u.js(t)},u.xft=function(t){t.detail&&(u.Jct.uy=t.detail.corruptedVideoFrames,u.Jct.sy=t.detail.droppedVideoFrames,u.Qs(new VV(u.lm)))},u.Lft=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={P_:t.id};if(void 0!==t.startDate&&(n.QD=new Date(t.startDate)),void 0!==t.endDate&&(n.RJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=WV(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.NJ=e}void 0!==t.scte35Cmd&&(n.PJ=Pu(t.scte35Cmd)),void 0!==t.scte35In&&(n.xJ=Pu(t.scte35In)),void 0!==t.scte35Out&&(n.OJ=Pu(t.scte35Out)),void 0!==t.startTime&&(n.Vy=t.startTime),n.IJ=t.class,n.Hg=wg(t.duration),n.DJ=wg(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Vy?t.Vy:(new Date).getTime(),e=new oL(t,i);u.oft.mE(e),u.oft.Zh(n,i)})};var o=r.uid;u.Oct=u.getSdkBridge(o),u.Zct=new DV,AV()[o].sdkEventBus=u.Zct,u.ym=new ny,u.pm=new ny;var a=u.Mft(e);return u.vE=new jV(Kt(u),new tP),u.qq=new iP(Kt(u)),u.eD=new Qp(u.vE,a),u.zq=new Rp,u.Wq=new aP(u.vE,u.zq),u.Am=new HT([u.zq,u.eD.VA,u.Wq.VA]),u.Qct=u.getFairPlayControllerBridge(u.Oct),u.KR=new zV(u.Zct,u.Qct),u.rD=new UT(a),u.KR.ED=u.rD,u.observeMediaElement(),u.DD(),u.TC=new NV(u.Oct,s),u.TC.Zs("rL",function(){u.Oct.rK("THEOplayerSetPreferredForwardBufferDuration",u.TC.eL)}),u}S(n,t);var i=n.prototype;return i.Gm=function(){return hS},i.zm=function(){this.Oct.rK("THEOplayerShow",{})},i.Vm=function(){this.Oct.rK("THEOplayerHide",{})},i.Uft=function(){var t=this;this.Oct.rK("THEOplayerSetInitialPreferredPeakBitRate",this.TC.yL);this.Zs("playing",function n(){t.Oct.rK("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.xm=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.crt=t,i=Nr({},n,{sources:{src:t.src,type:Vg.yg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Oct.rK("THEOplayerSourceChange",i),e={fs:nb.pE,Z_:t.src,Nl:t.type,ND:this.CD(t),PD:t.crossOrigin,BD:n.metadata&&n.metadata.title},this.rD.xR(t.contentProtection),s.next=7,Dr.awrap(this.KR.jh(e));case 7:this.JR=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==_y.WEBVTT})).length>0&&this.OD(r),tb(this.Dm),this.Uft();case 11:case"end":return s.stop()}},null,this,null,We)},i.CD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:us,WD:[{initDataTypes:[us.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Cm=function(){this.mC=!1,this.Qs(new vm(this.Xg)),this.Oct.rK("THEOplayerPlay",{})},i.Pm=function(){this.mC=!0,this.Qs(new fm(this.Xg)),this.Oct.rK("THEOplayerPause",{})},i.Wm=function(){},i.k_=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._C=0,this.gW=!1,this.$R=void 0,this.tD=void 0,this.mC=!0,this.yC=1,this.ua=void 0,this.eW=uS.fC(),this.I8=uS.fC(),this.sft=void 0,this.uft=void 0,this.mW=qg.Rg,this.AE=qg.Rg,this.ym.k_(),this.pm.k_(),this.zq.k_(),this.Am.k_(),t.next=19,Dr.awrap(this.Wq.k_());case 19:return t.next=21,Dr.awrap(this.eD.k_());case 21:return this.vE.k_(),this.qq.k_(),this.crt=void 0,t.next=26,Dr.awrap(this.KR.k_());case 26:case"end":return t.stop()}},null,this,null,We)},i.Mm=function(){this.Oct.rK("THEOplayerShowAirPlayPicker",{})},i.Um=function(){this.Oct.rK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.lm.uy=t.uy,this.lm.sy=t.sy},i.Sd=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.k_());case 2:return this.$s(),this.unobserveMediaElement(),this.zD(),this.KR.ED=void 0,t.next=8,Dr.awrap(this.KR.xs());case 8:return this.ym.Sd(),this.pm.Sd(),this.zq.Sd(),this.Am.Sd(),t.next=14,Dr.awrap(this.Wq.Sd());case 14:return t.next=16,Dr.awrap(this.eD.Sd());case 16:this.vE.Sd(),this.qq.Sd();case 18:case"end":return t.stop()}},null,this,null,We)},i.OD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eD.wE(i)}},i.cft=function(){var t=this.AE,n=this.mW;t!==n&&(this.AE=n,this.Qs(new Im(this.Xg,n)))},i.observeMediaElement=function(){this.KR.Zs(bf.sf,this.js),this.KR.Zs([bf.lf,bf.vf],this.jY),this.Zct.addEventListener("play",this.gft),this.Zct.addEventListener("pause",this.mft),this.Zct.addEventListener("seeking",this.Tft),this.Zct.addEventListener("seeked",this.Aft),this.Zct.addEventListener("ratechange",this.pft),this.Zct.addEventListener("durationchange",this.vft),this.Zct.addEventListener("timeupdate",this.Sft),this.Zct.addEventListener("waiting",this.Ift),this.Zct.addEventListener("playing",this.kft),this.Zct.addEventListener("ended",this.lft),this.Zct.addEventListener("loadedmetadata",this._ft),this.Zct.addEventListener("loadeddata",this.wft),this.Zct.addEventListener("loadstart",this.dft),this.Zct.addEventListener("canplay",this.hft),this.Zct.addEventListener("canplaythrough",this.fft),this.Zct.addEventListener("error",this.aD),this.Zct.addEventListener("seekablechange",this.bft),this.Zct.addEventListener("videosizechange",this.Eft),this.Zct.addEventListener("bufferedchange",this.aft),this.Zct.addEventListener("playedchange",this.yft),this.Zct.addEventListener("metricschange",this.xft),this.Zct.addEventListener("addDateRangeCues",this.Lft)},i.unobserveMediaElement=function(){this.KR.tu(bf.sf,this.js),this.KR.tu([bf.lf,bf.vf],this.jY),this.Zct.removeEventListener("play",this.gft),this.Zct.removeEventListener("pause",this.mft),this.Zct.removeEventListener("seeking",this.Tft),this.Zct.removeEventListener("seeked",this.Aft),this.Zct.removeEventListener("ratechange",this.pft),this.Zct.removeEventListener("durationchange",this.vft),this.Zct.removeEventListener("timeupdate",this.Sft),this.Zct.removeEventListener("waiting",this.Ift),this.Zct.removeEventListener("playing",this.kft),this.Zct.removeEventListener("ended",this.lft),this.Zct.removeEventListener("loadedmetadata",this._ft),this.Zct.removeEventListener("loadeddata",this.wft),this.Zct.removeEventListener("loadstart",this.dft),this.Zct.removeEventListener("canplay",this.hft),this.Zct.removeEventListener("canplaythrough",this.fft),this.Zct.removeEventListener("error",this.aD),this.Zct.removeEventListener("seekablechange",this.bft),this.Zct.removeEventListener("videosizechange",this.Eft),this.Zct.removeEventListener("bufferedchange",this.aft),this.Zct.removeEventListener("playedchange",this.yft),this.Zct.removeEventListener("metricschange",this.xft),this.Zct.removeEventListener("addDateRangeCues",this.Lft)},i.updateCurrentTime=function(t){var n=this.py.start(0),i=this.py.end(0);return w.min(w.max(t,n),i)},i.Pft=function(){for(var t=0,n=this.Am.p_;t<n.length;t++){var i=n[t];if(i.O_===Ip.Kb&&i.fs===_y.ID3)return i}},i.Oft=function(t){for(var n=0,i=this.Am.p_;n<i.length;n++){var e=i[n],r=e.W_===Eg.F_,s=e.O_===t;if(r&&s)return e}},i.DD=function(){this.Zct.addEventListener("addaudiotrack",this.Rft),this.Zct.addEventListener("enableaudiotrack",this.Dft),this.Zct.addEventListener("addvideotrack",this.Nft),this.Zct.addEventListener("addtexttrack",this.PZ),this.Zct.addEventListener("addtexttrackid3cues",this.Cft),this.Zct.addEventListener("addtexttrackcues",this.Bft)},i.zD=function(){this.Zct.removeEventListener("addaudiotrack",this.Rft),this.Zct.removeEventListener("enableaudiotrack",this.Dft),this.Zct.removeEventListener("addvideotrack",this.Nft),this.Zct.removeEventListener("addtexttrack",this.PZ),this.Zct.removeEventListener("addtexttrackid3cues",this.Cft),this.Zct.removeEventListener("addtexttrackcues",this.Bft)},i.Km=function(){},A(n,[{key:"Im",get:function(){return this.ym}},{key:"Jm",get:function(){return this.I8.qD()}},{key:"$m",get:function(){return this.rft?this.rft:null},set:function(t){this.Oct.rK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.rft=t}},{key:"Xg",get:function(){return this._C},set:function(t){this.setCurrentTime(t)}},{key:"Hg",get:function(){return this.ua}},{key:"Fg",get:function(){return this.gW}},{key:"mu",get:function(){return this.$R}},{key:"zg",get:function(){return this.tD}},{key:"Nm",get:function(){}},{key:"ey",get:function(){return this.KR.ey}},{key:"lm",get:function(){return this.Jct}},{key:"Vg",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.Oct.rK("THEOplayerSetMuted",t),this.gC=t,this.Qs(new Tm(this.Xg,t?0:1)))}},{key:"Wg",get:function(){return this.mC}},{key:"Gg",get:function(){return this.yC},set:function(t){this.Oct.rK("THEOplayerSetPlaybackRate",t),this.yC=t}},{key:"gy",get:function(){return this.tY.qD()}},{key:"yy",get:function(){return JT.wN},set:function(t){}},{key:"Y_",get:function(){return this.mW}},{key:"py",get:function(){return this.eW.qD()}},{key:"qg",get:function(){return this.kC}},{key:"QD",get:function(){}},{key:"Dm",get:function(){return this.Am}},{key:"Yg",get:function(){return this.sft}},{key:"jg",get:function(){return this.uft}},{key:"Qg",get:function(){return 1},set:function(t){}},{key:"by",get:function(){return this.oD}},{key:"Rm",get:function(){return this.pm}},{key:"ZD",get:function(){return this.uD}},{key:"Ay",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!0}}]),n}(Lg),ZV=function(){function t(){this.KD=PT.ER}var n=t.prototype;return n.JD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Zg(n.type))return!1;var e=n.contentProtection;if(e&&!Jb(e)){if(!nA(e))return!1;if(!t.fut(e))return!1}return!0},t.fut=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.$D=function(){return!1},t}(),KV=function(){function t(){this.Xft=r.webkit}return t.prototype.rK=function(t,n){this.Xft.messageHandlers[t]&&this.Xft.messageHandlers[t].postMessage(n)},t}(),JV=function(t){function n(n){var i;return(i=t.call(this)||this).Oct=void 0,i.Zct=void 0,i.Hft=function(t){var n=Pu(t.detail.initData),e=t.detail.sessionId;i.Qs(new PV(n,e))},i.Fft=function(t){var n=new y(Fu(t.detail.message)),e=t.detail.destinationURL;i.Qs(new BV(n,e))},i.zft=function(t){i.Qs(new OV)},i.Oct=n,i.Zct=new DV,AV().fairplayController={sdkEventBus:i.Zct},i.Vft(),i}S(n,t);var i=n.prototype;return i.Vft=function(){this.Zct.addEventListener(IV.Fct,this.Hft),this.Zct.addEventListener(IV.zct,this.Fft),this.Zct.addEventListener(IV.Vct,this.zft)},i.bq=function(t,n){var i={playerId:SV(),data:zu(n.buffer),sessionId:t};this.Oct.rK("THEOplayerCreateKeySession",i)},i.Zh=function(t,n){var i={playerId:SV(),data:zu(n.buffer),sessionId:t};this.Oct.rK("THEOplayerUpdateKey",i)},n}(Lg),$V=function(t){var n=this;this.Zct=void 0,this.Wft=void 0,this.Gft=function(){n.Wft.HZ()},this.qft=function(){n.Wft.XZ()},this.Zct=new DV,this.Wft=t,this.Zct.addEventListener("showTracks",this.Gft),this.Zct.addEventListener("hideTracks",this.qft),AV().texttracks={sdkEventBus:this.Zct}},tW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).GZ=void 0,o.qZ=void 0,o.Yft=void 0;var a=i.TD(ty.wd);return o.GZ=new LP,o.GZ.Aj(n),o.qZ=new MB(o.GZ.iy,a.NU,o.Dm,u,a.XD),o.Yft=new $V(o.qZ),i.VD(a),le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.add("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.zm=function(){t.prototype.zm.call(this),this.GZ.zm()},i.Vm=function(){t.prototype.Vm.call(this),this.GZ.Vm()},i.Lm=function(){return!0},i.getSdkBridge=function(){return new KV},i.getFairPlayControllerBridge=function(){return iW},i.Mft=function(t){return t},i.Sd=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="#000000",n.next=3,Dr.awrap(t.prototype.Sd.call(this));case 3:this.qZ.Sd(),this.GZ.Sd();case 5:case"end":return n.stop()}},null,this,null,We)},n}(QV);ZT(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.kI=function(t,n,i,e,r,s){return new tW(t,n,i,e,r,s)},i.JD=function(n,i){if(n.type){var e=ar();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.JD.call(this,n,i)},n}(ZV)));var nW,iW=new JV(new KV),eW=function(t){function n(){return t.call(this,"jft")||this}return S(n,t),n.prototype.qw=function(){return new rW},n}(j_),rW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(gu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(nW||(nW={}));var sW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Qft=new Lg,n.js=function(t){n.Qs(t)},n}S(n,t);var i=n.prototype;return i.qw=function(){return n=function(t){var n=t.Zft.map(function(t){return t.Gw});return n.item=function(n){n|=0;var i=t.__(n);return i&&i.Gw||void 0},n}(t=this),i=new lR(t,n),n.addEventListener=function(t,n){i.Zs(t,n)},n.removeEventListener=function(t,n){i.tu(t,n)},n;var t,n,i},i.Zs=function(t,n){this.Qft.Zs(t,n)},i.Js=function(t){this.Qft.Js(t)},i.$s=function(){this.Qft.$s()},i.Qs=function(t){this.Qft.Qs(t)},i.tu=function(t,n){this.Qft.tu(t,n)},i.uu=function(t){this.Qft.uu(t)},i.ou=function(t){this.Qft.ou(t)},i.au=function(t,n){return this.Qft.au(t,n)},n}(function(){function t(){this.Su=[],this.Ww=void 0}var n=t.prototype;return n.__=function(t){return this.Su[t]},n.Sy=function(t){this.Su.push(t),this.Ww&&this.Ww.push(t.Gw),this.Kft(t)},n.Jft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Sy(i)}},n.$ft=function(t,n){n>=0&&n<=this.Su.length&&(this.Su.splice(n,0,t),this.Ww&&this.Ww.splice(n,0,t.Gw),this.Kft(t))},n.Ey=function(t){return Hs(this.Su,t)},n.Qh=function(t){this.tvt(this.Su.indexOf(t))},n.tvt=function(t){if(t>=0&&t<this.Su.length){var n=this.Su[t];Xs(this.Su,t),this.Ww&&Xs(this.Ww,t),this.nvt(n)}},n.Nu=function(){var t=this.Su.slice();zs(this.Su),this.Ww&&zs(this.Ww);for(var n=0;n<t.length;n++){var i=t[n];this.nvt(i)}},A(t,[{key:"Zft",get:function(){return this.Su}},{key:"b_",get:function(){return this.Su.length}},{key:"Gw",get:function(){return this.Ww||(this.Ww=this.qw()),this.Ww}}]),t}());var uW,oW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(gu),aW=function(t){function n(n){var i;return(i=t.call(this,"evt")||this).ivt=n,i}return S(n,t),n.prototype.qw=function(){return new oW(this.ivt.Gw)},n}(j_),hW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(gu),cW=function(t){function n(n){var i;return(i=t.call(this,"rvt")||this).task=n,i}return S(n,t),n.prototype.qw=function(){return new hW(this.task.Gw)},n}(j_),fW=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.Kft=function(t){this.Qs(new aW(t))},i.nvt=function(t){this.Qs(new cW(t))},n}(sW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(uW||(uW={}));var vW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).svt=uW.UNINITIALISED,r.GU=new fW,r.Lht=void 0,r.uvt=void 0,r.ovt=void 0,r.ovt=i,r.uvt=e,r.Lht=n,r.Xm(),r}S(n,t);var i=n.prototype;return i.Xm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.avt());case 2:this.cvt(uW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.avt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.fvt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.fvt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Lht.vat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.ovt.vvt(i.id,i.sourceDescription,i.parameters,this.uvt),this.lvt(e),this.GU.Sy(e);case 4:case"end":return r.stop()}},null,this,null,We)},i.cvt=function(t){this.svt=t,this.Qs(new eW)},i.vvt=function(t,n,i){void 0===i&&(i="persistent");var e=this.ovt.dvt(t,n,i);return this.wvt(e,i),this.GU.Sy(e),this.lvt(e),e},i.wvt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this._vt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i._vt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.Lht.oat({key:t.P_,id:t.P_,sourceDescription:t.cN,parameters:t.wc},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.lvt=function(t){var n=this;t.Zs("jft",function(){t.zl===nW.EVICTED&&n.GU.Qh(t)})},A(n,[{key:"zl",get:function(){return this.svt}},{key:"gvt",get:function(){return this.GU}}]),n}(wu);function lW(t,n){return function(t,n){var i=t.Tk&&n.Tk,e=t.sT&&n.sT;return i||e?i&&e?t.Tk*t.sT-n.Tk*n.sT:i?t.Tk-n.Tk:e?t.sT-n.sT:(t.Tk||1)*(t.sT||1)-(n.Tk||1)*(n.sT||1):0}(t,n)||function(t,n){return t.NR-n.NR}(t,n)}var dW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(gu),wW=function(t){function n(){return t.call(this,"mvt")||this}return S(n,t),n.prototype.qw=function(){return new dW},n}(j_),_W=function(){function t(t,n,i){if(this.yvt=void 0,this.kvt=t,this.Ty=n,this.pvt=i,0===this.Ty.size)this.yvt=uS.fC();else{var e=new uS([-1/0,1/0]);this.Ty.forEach(function(t){e=e.FN(t.timeRanges)}),this.yvt=e}}return t.prototype.lk=function(t){return!!fg(this.Ty,t.Ty)&&(!!Ht(this.kvt,t.kvt)&&(!!Ht(this.oC,t.oC)&&(!!Ht(this.bvt,t.bvt)&&this.Avt.nC(t.Avt))))},t.Tvt=function(){return mW},A(t,[{key:"oC",get:function(){return this.pvt}},{key:"Svt",get:function(){return this.kvt}},{key:"bvt",get:function(){return this.Avt.oC}},{key:"Evt",get:function(){var t=0,n=0;return this.Ty.forEach(function(i){t+=i.timeRanges.oC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"Avt",get:function(){return this.yvt}}]),t}(),gW=Pr(),mW=new _W(0,gW,NaN);function yW(t,n){if(q(t)){if(vs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var kW,pW=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"Ivt"}}]),n}($t);function bW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Rvt;r<s.length;r++)u=s[r],e.push(AW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Hg:t.Nvt.Dvt(),Cvt:[t.Pvt],Rvt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function AW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Bvt;r<s.length;r++)u=s[r],e.push(TW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{Ovt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function TW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.xvt;r<s.length;r++)SW(u=s[r])||e.push(DW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{VA:o,fs:t.fs});case 6:case"end":return a.stop()}},null,null,null,We)}function SW(t){return t.q0.every(RW)}!function(t){t[t.gg=0]="gg",t[t.yg=1]="yg"}(kW||(kW={}));var EW,IW=1;function RW(t){return t.Lvt!==IW&&Boolean(t.Lvt)}function DW(t,n,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.q0;r<s.length;r++)RW(u=s[r])||e.push(CW(u,i));return v.next=4,Dr.awrap(We.all(e));case 4:return o=v.sent,a=t.HF[0],h=t.G0,c=h?NW(a,h):void 0,f=wx(t,n),v.abrupt("return",{M_:o,L_:t.Yet,fs:t.fs,ND:c,Mvt:f});case 10:case"end":return v.stop()}},null,null,null,We)}function NW(t,n){for(var i=[],e=function(t){return t?vs(t,"avc")?Nc.VIDEO_H264:vs(t,"hev")||vs(t,"hvc")||vs(t,"hvt")||vs(t,"lhv")||vs(t,"lhe")||vs(t,"lht")?Nc.VIDEO_H265:vs(t,"mp4")?Nc.VIDEO_MP4:vs(t,"mpeg2")?Nc.VIDEO_MPEG2:vs(t,"mpeg")?Nc.VIDEO_MPEG:Nc.VIDEO_UNKNOWN:Nc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.U0.split(":").pop(),o=s.X0;i.push({mimeType:e,uuid:u,data:o})}return{type:kW.gg,schemeType:Wr,schemeDatas:i}}function CW(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(PW(t,n));case 2:r=u.sent,s={P_:OW(t),WS:r,NR:t.NR,$e:t.$e,sT:t.sT,fs:t.fs,Tk:t.Tk},u.t0=t.fs,u.next=u.t0===ty.$n?7:u.t0===ty.wd?8:u.t0===ty.dd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.QK=null!=(i=null==(e=t.QK)?void 0:e.Ek())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.JK,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function PW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Uvt,t.kht&&i.push({Vy:0,Hg:0,Xvt:t.kht}),r=e.Hvt(),s=r;case 5:if(!s){c.next=17;break}if(!t.Fvt(s)){c.next=13;break}return c.next=9,Dr.awrap(t.zvt(s,n,(new Js).Ws));case 9:for(u=c.sent,o=0;o<u.b_;o++)i.push(BW(u.Vvt(o),t));c.next=14;break;case 13:i.push(BW(s,t));case 14:s=e.Wvt(s),c.next=5;break;case 17:return a=e.Gvt(),h=a.Wy-r.Vy,c.abrupt("return",{Hg:h,$K:i});case 20:case"end":return c.stop()}},null,null,null,We)}function BW(t,n){return{Vy:t.Vy,Hg:t.Hg,Xvt:n.qvt(t)}}function OW(t){return t.Yvt.RN+"-"+(""+t.P_)}function xW(t,n){return function(t,n){for(var i={},e=0;e<lO.length;e++){var r=lO[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],v=LW(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.qJ]||(n[e.qJ]={fs:e.fs,JA:[]}),n[e.qJ].JA.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.JA;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.fs])?a:i[o]={};c[h.wi]||(c[h.wi]=[]),c[h.wi].push(h)}return i}(t),n)}function LW(t,n,i){for(var e=t.qJ,r={v$:t,U$:[]},s=0;s<i.length;s++){var u=i[s];pL(n,e,u)&&r.U$.push(u)}return r}function MW(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(n.Bht([t],{}));case 2:return i=e.sent,e.abrupt("return",Jx(i.jl,{},i.Nht));case 4:case"end":return e.stop()}},null,null,null,We)}function UW(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!aO(t)){i.next=4;break}return i.abrupt("return",XW(t,n));case 4:return i.abrupt("return",(r=void 0,{Hg:(r=jW(e=t)).Hg,Cvt:[e.QJ],Rvt:[{Ovt:[{fs:ty.Kl,VA:[{fs:ty.Kl,L_:VM,M_:[{P_:e.QJ,WS:r,NR:0,$e:"",sT:0,fs:ty.Kl,Tk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function XW(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=xW(t.JA,t.B1),s.next=3,Dr.awrap(zW(i,n));case 3:return e=s.sent,s.next=6,Dr.awrap(FW(t.B1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Hg:HW(e),Cvt:[t.QJ],Rvt:[{Ovt:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function HW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].VA;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.M_.map(function(t){return t.WS.Hg})))}return n}function FW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Dr.awrap(YW(a.QJ,n));case 6:(h=c.sent).NR=a.NR,h.$e=a.HF?[(f=a.HF).XF,f.UF,f.FF].filter(H).join(","):"",h.sT=null!=(r=null==(s=a.S$)?void 0:s.sT)?r:0,h.Tk=null!=(u=null==(o=a.S$)?void 0:o.Tk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{fs:ty.Kl,VA:[{L_:VM,fs:ty.Kl,M_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,We)}function zW(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<lO.length)){o.next=13;break}if(r=lO[e],!(s=t[r])){o.next=10;break}return o.next=8,Dr.awrap(VW(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,We)}function VW(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Dr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Dr.awrap(WW(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{fs:GW(n),VA:e});case 12:case"end":return o.stop()}},null,null,null,We)}function WW(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].v$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Dr.awrap(qW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{L_:e.L_||VM,fs:GW(e.fs),M_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function GW(t){switch(t){case rO.dd:return ty.dd;case rO.wd:return ty.wd;case rO.Qb:case rO.TJ:return ty.$n;default:return ty.Kl}}function qW(t,n){var i,e,r;return YW((e=(i=t).v$.QJ,r=i.U$.map(function(t){return t.QJ}),e||(r.length?r[0]:void 0)),n)}function YW(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Hg:0,$K:[]},!t){r.next=6;break}return r.next=4,Dr.awrap(MW(t,n));case 4:hO(e=r.sent)&&(i=jW(e));case 6:return r.abrupt("return",{P_:t||"default",jvt:t,WS:i,NR:0,$e:"",sT:0,fs:ty.Kl,Tk:0});case 7:case"end":return r.stop()}},null,null,null,We)}function jW(t){for(var n,i=[],e=0,r=0,s=t.$K;r<s.length;r++){var u=s[r],o=e;!u.U1||void 0!==n&&_O(u.U1.QJ,n)||(i.push(QW(u.U1,o)),n=u.U1.QJ),i.push(ZW(u,o)),e+=u.Hg}return{Hg:e,$K:i}}function QW(t,n){return{Vy:n,Hg:0,Xvt:KW(t.QJ)}}function ZW(t,n){return{Vy:n,Hg:t.Hg,Xvt:KW(t.QJ)}}function KW(t){return{Ql:t.Ai,fht:t.SJ?[t.SJ.RN,t.SJ.RN+t.SJ.b_]:void 0,bd:!1}}!function(t){t.pE="static",t.bE="dynamic"}(EW||(EW={}));var JW,$W=31536e3,tG=2592e3,nG=86400,iG=3600,eG=60,rG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,sG=function(){function t(t){this.Qvt=void 0;var n=t.match(rG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Qvt=i*$W+e*tG+r*nG+s*iG+u*eG+o}var n=t.prototype;return n.Dvt=function(){return this.Qvt},n.Zvt=function(){return 1e3*this.Qvt},A(t,[{key:"j7",get:function(){return tk.Np(this.Qvt,1e3)}}]),t}();!function(t){t.Kvt="progressive",t.Jvt="interlaced",t.Kl="unknown"}(JW||(JW={}));var uG=function(){function t(t,n){this.$vt=t,this.tlt=n}return t.prototype.Ek=function(){return this.$vt/this.tlt},t}(),oG=/^(?:true|false)$/i,aG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function hG(t){if(void 0!==t)return new sG(t)}function cG(t){if(void 0!==t){var n=t.match(aG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),p=Number(a),b=Number("0."+(h||"")),A=w.round(1e3*b);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,p,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function fG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[lG(n[1]),lG(n[2])]}}function vG(t){if(void 0!==t){if(!m(Number(t)))try{return ft.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function lG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function dG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new uG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function wG(t){if(void 0!==t){if(oG.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function _G(t){return{Ql:t.Hi,nlt:wG(t.Bi("availabilityTimeComplete")),ilt:lG(t.Bi("availabilityTimeOffset"))}}function gG(t){return t.map(_G)}function mG(t){var n,i,e,r,s,u,o=DG(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),h=op(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Fu(h.Hi)),!u){var c=op(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Pu(t.Hi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new Vo;vo(o,a,r),vo(o,a,1886614376),vo(o,a,0),uo(o,a,i),vo(o,a,e),uo(o,a,n),0;return u.buffer}(c))}return{FE:a,X0:u,U0:o.U0,Ai:o.Ai}}function yG(t){return{elt:t.Bi("sourceURL"),fht:fG(t.Bi("range"))}}function kG(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=lG(t.Bi("r"));n.push({Hg:i,Vy:e,rlt:r})}function pG(t){return{slt:t.Bi("index"),ult:fG(t.Bi("indexRange")),JA:t.Bi("media"),olt:fG(t.Bi("mediaRange"))}}function bG(t){var n,i;return Nr({},SG(t),{hlt:(n=t.Ei("SegmentURL"),(i=n.map(pG)).length>0?i:void 0),clt:t.Bi("xlink:href"),flt:t.Bi("xlink:actuate")})}function AG(t){var n=t.map(bG);return n.length>0?n:void 0}function TG(t){var n=wG(t.Bi("availabilityTimeComplete")),i=lG(t.Bi("availabilityTimeOffset")),e=fG(t.Bi("indexRange")),r=wG(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?yG(s[0]):void 0,o=vG(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{nlt:n,ilt:i,ult:e,vlt:r,llt:u,dlt:o,wlt:1===a.length?yG(a[0]):void 0,_lt:hG(t.Bi("timeShiftBufferDepth")),yp:lG(t.Bi("timescale"))}}function SG(t){var n=TG(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?yG(i[0]):void 0,r=lG(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Nr({},n,{glt:e,Hg:r,Uvt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)kG(i[e],n);return n}(s[0]):void 0,ylt:lG(t.Bi("startNumber")),klt:lG(t.Bi("endNumber"))})}function EG(t){return Nr({},SG(t),{plt:t.Bi("bitstreamSwitching"),blt:t.Bi("index"),Alt:t.Bi("initialization"),Tlt:t.Bi("media")})}function IG(t){return{JK:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(lG)):1===n.length?n.map(lG)[0]:void 0}}(t.Bi("audioSamplingRate")),HF:t.Bi("codecs"),Slt:wG(t.Bi("codingDependency")),G0:function(t){if(0!==t.length)return t.map(mG)}(t.Ei("ContentProtection")),Elt:t.Ei("EssentialProperty").map(NG),QK:dG(t.Bi("frameRate")),sT:lG(t.Bi("height")),Lvt:lG(t.Bi("maxPlayoutRate")),Ilt:lG(t.Bi("maximumSAPPeriod")),YB:t.Bi("mimeType"),Rlt:t.Bi("profiles"),Dlt:t.Bi("sar"),Nlt:function(t){switch(t){case JW.Kvt:case JW.Jvt:case JW.Kl:return t;default:return}}(t.Bi("scanType")),Clt:t.Bi("segmentProfiles"),Plt:lG(t.Bi("startWithSAP")),Tk:lG(t.Bi("width"))}}function RG(t){var n=IG(t),i=lG(t.Bi("bandwidth")),e=gG(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=lG(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?TG(a[0]):void 0,c=AG(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{NR:i,Blt:e,Olt:r,P_:s,xlt:u,Llt:o,Mlt:h,Ult:c,Xlt:1===f.length?EG(f[0]):void 0})}function DG(t){return{U0:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function NG(t){return DG(t)}function CG(t){return DG(t)}function PG(t){return DG(t)}function BG(t){var n,i=IG(t),e=function(t){return t.map(PG)}(t.Ei("Accessibility")),r=gG(t.Ei("BaseURL")),s=wG(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=lG(t.Bi("group")),a=lG(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.Hi)||"",c=t.Bi("lang"),f=lG(t.Bi("maxBandwidth")),l=dG(t.Bi("maxFrameRate")),d=lG(t.Bi("maxHeight")),w=lG(t.Bi("maxWidth")),_=lG(t.Bi("minBandwidth")),g=dG(t.Bi("minFrameRate")),m=lG(t.Bi("minHeight")),y=lG(t.Bi("minWidth")),k=t.Bi("par"),p=t.Ei("Representation").map(RG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(CG)}(t.Ei("Role")),A=wG(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?TG(T[0]):void 0,E=AG(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,D=1===I.length?EG(I[0]):void 0,N=lG(t.Bi("selectionPriority")),C=N||1,P=wG(t.Bi("subsegmentAlignment"))||!1;try{R=lG(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{Hlt:e,Blt:r,glt:s,Nl:u,Flt:o,P_:a,x_:h,L_:c,zlt:f,Vlt:l,Wlt:d,Glt:w,qlt:_,Ylt:g,jlt:m,Qlt:y,Zlt:k,q0:p,Klt:b,Jlt:A,Mlt:S,Ult:E,Xlt:D,KD:C,$lt:P,tdt:R,ndt:t.Bi("xlink:actuate")||"onRequest",idt:t.Bi("xlink:href")})}function OG(t){var n=vG(t.Bi("presentationTime"))||ft.ZERO,i=vG(t.Bi("duration")),e=lG(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Hi;return{SS:n,Hg:i,P_:e,Xi:r,Fi:""!==s.trim()?s:t.Bi("messageData")||""}}function xG(t){return{idt:t.Bi("xlink:href"),ndt:t.Bi("xlink:actuate"),U0:t.Bi("schemeIdUri"),Ai:t.Bi("value"),yp:lG(t.Bi("timescale")),dlt:vG(t.Bi("presentationTimeOffset")),jB:t.Ei("Event").map(OG)}}function LG(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?DG(i[0]):void 0,r=t.Ei("AdaptationSet").map(BG),s=gG(t.Ei("BaseURL")),u=wG(t.Bi("bitstreamSwitching")),o=hG(t.Bi("duration")),a=t.Ei("EventStream").map(xG),h=t.Bi("id"),c=n&&hG(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?TG(f[0]):void 0,d=AG(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?EG(w[0]):void 0,g=hG(t.Bi("start"));t.Ei("Subset");var m=t.Bi("xlink:href");return{xvt:r,edt:e,Blt:s,glt:u,Hg:o,rdt:a,P_:h,sdt:c,Mlt:l,Ult:d,Xlt:_,RN:g,ndt:t.Bi("xlink:actuate"),idt:m}}function MG(t){var n=t.Bi("schemeIdUri");if(n)return{U0:n,Ai:t.Bi("value")}}function UG(t,n){var i=cG(t.Bi("availabilityEndTime")),e=cG(t.Bi("availabilityStartTime")),r=gG(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Hi}),o=hG(t.Bi("maxSegmentDuration")),a=hG(t.Bi("maxSubsegmentDuration")),h=hG(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=hG(t.Bi("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=hG(t.Bi("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(LG(t[i],t[i+1]));return n}(t.Ei("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{udt:i,odt:e,Blt:r,P_:s,adt:u,hdt:n,cdt:o,fdt:a,Nvt:h,vdt:c,ldt:f,Rvt:l,Rlt:d,ddt:cG(t.Bi("publishTime")),wdt:hG(t.Bi("suggestedPresentationDelay")),_lt:hG(t.Bi("timeShiftBufferDepth")),fs:function(t){switch(t){case EW.pE:case EW.bE:return t;default:return}}(t.Bi("type")),_dt:function(t){for(var n=[],i=0;i<t.length;i++){var e=MG(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var XG,HG=function(){function t(){}return t.prototype.bct=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return UG(t,n)}(i.ui(t).zi,n)},t}(),FG=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(gu),zG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).B_=void 0,u.Ry=void 0,u.gdt=void 0,u.P_=n,u.NR=i,u.HF=e,u.QJ=s,u.B_=hy(),u.Ry=r||"",u.gdt=!0,u}return S(n,t),n.prototype.hE=function(){this.gdt=!1,this.Qs(new FG(this.Gw))},A(n,[{key:"x_",get:function(){return this.Ry},set:function(t){this.Ry!==t&&(this.Ry=t,this.Qs(new FG(this.Gw)))}},{key:"jK",get:function(){}},{key:"KK",get:function(){return this.gdt}}]),n}(wu),VG=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).Ww=void 0,c.QK=u,c.Tk=o,c.sT=a,c.ZK=h,c}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=sO(this)),this.Ww}}]),n}(zG),WG=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Ww=void 0,o.JK=u,o}return S(n,t),A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=uO(this)),this.Ww}}]),n}(zG);!function(t){t.mdt="ydt",t.kdt="pdt"}(XG||(XG={}));var GG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).bdt=function(t){n.Qs(t)},n}return S(n,t),A(n,[{key:"Adt",get:function(){var t=this.Tdt();return null==t?void 0:t.RN}},{key:"Sdt",get:function(){var t=this.Tdt();return null==t?void 0:t.NN}}]),n}(wu);function qG(t){return Z(t.Edt)}var YG=function(t){function n(n,i){var e;if((e=t.call(this)||this).Idt=void 0,e.Ww=void 0,e.E4=void 0,e.Rdt=void 0,e.Ddt=void 0,e.Idt=n,e.E4=i,e.E4.Zs(XG.mdt,e.bdt),e.fs===ty.wd){var r,s,u=null!=(r=null==(s=e.QK)?void 0:s.Ek())?r:NaN;e.Rdt=new VG(e.P_,e.NR,e.$e,"","",u,e.Tk,e.sT)}else e.fs===ty.dd?e.Rdt=new WG(e.P_,e.NR,e.$e,"","",e.JK):e.Rdt=void 0;return e}S(n,t);var i=n.prototype;return i.qvt=function(t){var n=qG(t)?this.E4.Ndt(t):this.E4.qvt(t);return{Ql:n.Ql,fht:n.fht,bd:this.Cdt.bd}},i.Pdt=function(){return this.E4.Pdt()},i.Tdt=function(){return this.E4.Tdt()},i.Bdt=function(){return this.E4.Bdt()},i.Fvt=function(t){return this.E4.Fvt(t)},i.zvt=function(t,n,i){return this.E4.zvt(t,this.Cdt.bd,n,i)},i.Odt=function(t){return qG(t)?this.Uvt.xdt(t):this.Uvt.Odt(t)},i.Ldt=function(t){return qG(t)?this.Uvt.Mdt(t):this.Uvt.Ldt(t)},i.Sd=function(){this.E4.tu(XG.mdt,this.bdt)},A(n,[{key:"Udt",get:function(){return this.Idt}},{key:"JK",get:function(){var t;return null!=(t=this.E4.Fi.JK)?t:this.Udt.JK}},{key:"NR",get:function(){return this.E4.Fi.NR||0}},{key:"HF",get:function(){var t=this.E4.Fi;return t.HF?[t.HF]:this.Udt.HF}},{key:"Xdt",get:function(){var t=this.E4.Fi;return t.HF?[t.HF]:[]}},{key:"$e",get:function(){return this.E4.Fi.HF||this.Udt.$e}},{key:"Slt",get:function(){return this.E4.Fi.Slt||this.Udt.Slt}},{key:"G0",get:function(){return this.E4.Fi.G0||this.Udt.G0}},{key:"Nl",get:function(){return this.YB+'; codecs="'+this.$e+'"'}},{key:"Elt",get:function(){var t=this.E4.Fi;return t.Elt.length?t.Elt:this.Udt.Elt}},{key:"Gw",get:function(){return this.Ww||(this.Ww=(t=this,{get id(){return t.P_},get type(){return t.fs},get bandwidth(){return t.NR},get width(){return t.Tk},get height(){return t.sT},get frameRate(){var n,i;return null!=(n=null==(i=t.QK)?void 0:i.Ek())?n:NaN},get audioSamplingRate(){return t.JK}}));var t}},{key:"QK",get:function(){var t;return null!=(t=this.E4.Fi.QK)?t:this.Udt.QK}},{key:"sT",get:function(){return this.E4.Fi.sT||this.Udt.sT}},{key:"P_",get:function(){return this.E4.Fi.P_||""}},{key:"Hdt",get:function(){return this.Ddt},set:function(t){this.Ddt=t}},{key:"kht",get:function(){var t=this.E4.Fdt();if(t)return{Ql:t.Ql,fht:t.fht,bd:this.Cdt.bd}}},{key:"Lvt",get:function(){return this.E4.Fi.Lvt||this.Udt.Lvt||1}},{key:"Ilt",get:function(){return this.E4.Fi.Ilt||this.Udt.Ilt}},{key:"Cdt",get:function(){return this.Yvt.Cdt}},{key:"YB",get:function(){return this.E4.Fi.YB||this.Udt.YB}},{key:"Yvt",get:function(){return this.Udt.Yvt}},{key:"Rlt",get:function(){return this.E4.Fi.Rlt||this.Udt.Rlt}},{key:"e$",get:function(){return this.Rdt}},{key:"Dlt",get:function(){return this.E4.Fi.Dlt||this.Udt.Dlt}},{key:"Nlt",get:function(){return this.E4.Fi.Nlt||this.Udt.Nlt}},{key:"zdt",get:function(){return this.E4.zdt}},{key:"Clt",get:function(){return this.E4.Fi.Clt||this.Udt.Clt}},{key:"Uvt",get:function(){return this.E4.Uvt}},{key:"Plt",get:function(){return this.E4.Fi.Plt||this.Udt.Plt}},{key:"fs",get:function(){var t=this.YB.split("/")[0];return"application"===t||"text"===t||Up(this.YB,this.HF)?ty.$n:"video"===t?ty.wd:"audio"===t?ty.dd:"image"===t?ty._d:ty.Kl}},{key:"Tk",get:function(){return this.E4.Fi.Tk||this.Udt.Tk}}]),n}(GG),jG=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vdt=[],e.E4=void 0,e.Wdt=void 0,e.Gdt=[],e.Wdt=n,e.E4=i,e.E4.Zs(XG.mdt,e.bdt),e}S(n,t);var i=n.prototype;return i.Zh=function(t,n){var i,e=this;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Gdt.length){r.next=6;break}return this.Gdt=[],i=this.E4.q0.map(function(i){return e.qdt(i,t,n)}),r.next=5,Dr.awrap(We.all(i));case 5:this.Gdt=r.sent.filter(H);case 6:this.Ydt();case 7:case"end":return r.stop()}},null,this,null,We)},i.qdt=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new YG(this,t),s.next=3,Dr.awrap(n(e));case 3:if(r=s.sent,nu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.Ydt=function(){if(!this.Gdt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Tdt=function(){return this.E4.Tdt()},i.Bdt=function(){return this.E4.Bdt()},i.Sd=function(){this.E4.tu(XG.mdt,this.bdt);for(var t=0,n=this.Gdt;t<n.length;t++){n[t].Sd()}zs(this.Gdt)},A(n,[{key:"Hlt",get:function(){return this.E4.Fi.Hlt}},{key:"JK",get:function(){var t;return null!=(t=this.E4.Fi.JK)?t:-1}},{key:"HF",get:function(){if(this.E4.Fi.HF)return[this.E4.Fi.HF];for(var t=[],n=0,i=this.q0;n<i.length;n++){var e=i[n];e.Xdt.length&&-1===t.indexOf(e.$e)&&t.push(e.$e)}return t}},{key:"$e",get:function(){return this.HF.join()}},{key:"Slt",get:function(){return this.E4.Fi.Slt}},{key:"G0",get:function(){return this.E4.Fi.G0}},{key:"Nl",get:function(){return this.YB+'; codecs="'+this.$e+'"'}},{key:"Elt",get:function(){return this.Vdt}},{key:"QK",get:function(){return this.E4.Fi.QK}},{key:"Flt",get:function(){return this.E4.Fi.Flt}},{key:"sT",get:function(){return this.E4.Fi.sT||0}},{key:"P_",get:function(){return this.E4.Fi.P_}},{key:"x_",get:function(){return this.E4.Fi.x_||""}},{key:"Lvt",get:function(){return this.E4.Fi.Lvt}},{key:"Ilt",get:function(){return this.E4.Fi.Ilt}},{key:"Cdt",get:function(){return this.Yvt.Cdt}},{key:"YB",get:function(){return this.E4.Fi.YB||this.Gdt[0].YB}},{key:"Yvt",get:function(){return this.Wdt}},{key:"Rlt",get:function(){return this.E4.Fi.Rlt}},{key:"q0",get:function(){return this.Gdt}},{key:"Klt",get:function(){return this.E4.Fi.Klt||[]}},{key:"Dlt",get:function(){return this.E4.Fi.Dlt}},{key:"Nlt",get:function(){return this.E4.Fi.Nlt}},{key:"Clt",get:function(){return this.E4.Fi.Clt}},{key:"KD",get:function(){return this.E4.Fi.KD}},{key:"Plt",get:function(){return this.E4.Fi.Plt}},{key:"fs",get:function(){var t=(this.E4.Fi.Nl||this.YB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Up(this.YB,this.HF)?ty.$n:"video"===t?ty.wd:"audio"===t?ty.dd:"image"===t?ty._d:ty.Kl}},{key:"Tk",get:function(){return this.E4.Fi.Tk||0}},{key:"Yet",get:function(){return this.E4.Fi.L_||""}},{key:"jdt",get:function(){return this.Adt}},{key:"Qdt",get:function(){var t=this.jdt,n=this.Sdt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.Cdt.Zdt);return w.max(t,i)}}}]),n}(GG);function QG(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var ZG=function(){function t(t,n){this.Wdt=void 0,this.Kdt=void 0,this.ra=void 0,this.Jdt=void 0,this.$dt=void 0,this.Wdt=t,this.Kdt=n,this.ra=n.yp,this.Jdt=n.ilt,this.$dt=n.dlt}var n=t.prototype;return n.twt=function(t){var n=t-this.Wdt.RN;if(!(n<0||n>=this.Wdt.Hg)){var i=this.nwt();return void 0!==i&&Ut(i,n,1e-5)?this.Hvt():this.iwt(n)}},n.ewt=function(t){var n=t-this.Wdt.RN;if(!(n<0))return this.rwt(w.min(n,this.Wdt.Hg))},n.Hvt=function(){return this.swt(0)},n.Gvt=function(){var t=this.Wdt.Hg;if(isFinite(t))return this.rwt(t)},n.Pdt=function(t){if(this.Wdt.uwt.fs===EW.bE){var n=this.owt(t);if(!n)return;return{awt:t,hwt:this.cwt(t),fwt:n}}var i=this.Hvt();if(i)return{awt:t,hwt:i,fwt:this.Gvt()}},n.Bdt=function(t,n){if(n){var i=this.vwt(n.hwt),e=this.Wvt(n.fwt);if(e){var r=this.lwt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Hvt();if(s){var u=this.lwt(s);if(t.getTime()<u.getTime())return u}var o=this.Wdt.uwt.odt;return t.getTime()<o.getTime()?o:void 0},n.owt=function(t){var n=(t.getTime()-this.Wdt.uwt.odt.getTime())/1e3-this.Wdt.RN+this.Jdt,i=this.rwt(Mt(n,0,this.Wdt.Hg));if(i&&(i=this.dwt(i,t))){for(var e=this.Wvt(i);e&&this.wwt(e,t);)i=e,e=this.Wvt(i);return i}},n.cwt=function(t){var n,i=this.Kdt._lt;if(i){var e=(t.getTime()-this.Wdt.uwt.odt.getTime())/1e3-this.Wdt.RN-i.Dvt();(n=this.rwt(Mt(e,0,this.Wdt.Hg)))||(n=this.Hvt())}else n=this.Hvt();if(n&&(n=this.dwt(n,t))){for(var r=this._wt(n);r&&this.wwt(r,t);)n=r,r=this._wt(n);return n}},n.dwt=function(t,n){for(var i=t;i&&this.lwt(i).getTime()>n.getTime();)i=this._wt(i);if(i){var e=this.vwt(i);if(e&&e.getTime()<=n.getTime()){var r=this._wt(i);for(r&&this.wwt(r,n)&&(i=r);i;){if(this.lwt(i).getTime()>n.getTime())return;if(this.wwt(i,n))break;i=this.Wvt(i)}if(!i)return}return i}},n.wwt=function(t,n){if(this.lwt(t).getTime()>n.getTime())return!1;var i=this.vwt(t);return!(i&&n.getTime()>=i.getTime())},n.gwt=function(t,n){if(this.mwt(t).getTime()>n.getTime())return!1;var i=this.vwt(t);return!(i&&n.getTime()>=i.getTime())},n.ywt=function(t,n,i){var e=jt(n,this.ra)+this.Wdt.RN;return{slt:t,kwt:n,Vy:e,Hg:i,Wy:e+i}},n.mwt=function(t){return this.Wdt.uwt.fs===EW.bE?new Date(this.Wdt.uwt.odt.getTime()+1e3*(t.Vy+t.Hg)):this.Wdt.uwt.odt},n.lwt=function(t){var n=this.mwt(t);return this.Wdt.uwt.fs===EW.bE?new Date(n.getTime()-1e3*this.Jdt):n},n.vwt=function(t){var n=1/0;if(this.Wdt.uwt.fs===EW.bE){var i=this.Kdt._lt;i&&(n=this.mwt(t).getTime()+1e3*t.Hg+i.Zvt())}var e=this.Wdt.uwt.udt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.pwt=function(t,n){return t.slt+n},n.Fvt=function(t){return!1},n.zvt=function(t,n,i,e,r){var s=this.bwt(t);if(!s)return We.reject(new v("Invalid segment"));var u=this.Awt(s.slt);return u?We.resolve(u):this.Twt(s.slt,n,i,e,r)},n.Awt=function(t){},n.Twt=function(t,n,i,e,r){return We.reject(new v("Not supported"))},n._wt=function(t){var n=this.bwt(t);if(n)return this.swt(n.slt-1)},n.Wvt=function(t){var n=this.bwt(t);if(n)return this.swt(n.slt+1)},n.bwt=function(t){var n=this.swt(t.slt);if(n&&n.Vy===t.Vy)return n;var i=this.twt(t.Vy);return i&&i.Vy===t.Vy?i:void 0},n.Swt=function(t){var n=this.Ewt(t);if(n&&this.Fvt(n.slt)){var i=this.Awt(n.slt);if(i)return i.Swt(t)}},n.Ewt=function(t){return this.swt(t.Iwt)},n.Odt=function(t){var n=this.bwt(t);return!!n&&0===n.slt},n.xdt=function(t){var n=this.Swt(t);return!!n&&0===n.Edt},n.Ldt=function(t){var n=this.bwt(t);if(!n)return!1;var i=this.Gvt();return!!i&&n.slt===i.slt},n.Mdt=function(t){var n=this.Swt(t);if(!n)return!1;var i=this.Gvt();if(!i||n.Iwt!==i.slt)return!1;var e=this.Awt(n.Iwt);return n.Edt+1===e.b_},A(t,[{key:"Zp",get:function(){return this.Wdt.RN-jt(this.$dt,this.ra)}},{key:"dlt",get:function(){return jt(this.$dt,this.ra)}}]),t}(),KG=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Rwt=void 0,e.Dwt=void 0;var r=n.Nwt,s=n.Hg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Dwt=r,e.Rwt=s,e}S(n,t);var i=n.prototype;return i.swt=function(t){if(!(t<0)){var n=this.Dwt.multiply(t),i=jt(n,this.ra),e=this.Wdt.Hg;if(!(i>=e)){var r=this.Cwt();if(void 0!==r){if(t>r)return;if(t===r)return this.ywt(t,n,e-i)}return isFinite(e)&&i+this.Rwt>e?this.ywt(t,n,e-i):this.ywt(t,n,this.Rwt)}}},i.nwt=function(){return 0},i.iwt=function(t){var n=w.floor(t/this.Rwt),i=this.Cwt();return void 0!==i&&n>=i?this.swt(i):this.swt(n)},i.rwt=function(t){if(t>=this.Wdt.Hg){var n=w.ceil(this.Wdt.Hg/this.Rwt)-1,i=this.Cwt();return void 0!==i&&n>=i?this.swt(i):this.swt(n)}return this.iwt(t)},i.Cwt=function(){var t,n=this.Kdt.klt;if(void 0!==n)return n-(null!=(t=this.Kdt.ylt)?t:1);if(isFinite(this.Wdt.Hg)){var i=this.Kdt.Pwt;if(void 0!==i&&i>0)return i-1}},i.Bwt=function(){if(isFinite(this.Wdt.Hg))return this.Gvt()},i.Owt=function(t,n){return this.Dwt.multiply(t.slt+(n-1))},i.Zh=function(){},n}(ZG);function JG(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Vy,u=t[r].Wy;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Vy,c=o+1<i?t[o+1].Vy:a.Wy;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var $G=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).s3=[],e.xwt=void 0,e.Fet=ft.ZERO,e.Zh(),e}S(n,t);var i=n.prototype;return i.swt=function(t){if(!(t<0))return t<this.s3.length?this.s3[t].u8:this.Lwt(t-this.s3.length)},i.nwt=function(){if(this.s3.length>0)return jt(this.s3[0].Vy,this.ra)},i.iwt=function(t){if(this.xwt&&jt(this.xwt.Vy,this.ra)<=t){var n=jt(this.xwt.Vy,this.ra),i=jt(this.xwt.Hg,this.ra),e=w.floor((t-n)/i);return this.Lwt(e)}if(this.s3.length>0&&Ut(t,jt(this.s3[0].Vy,this.ra),1e-5))return this.s3[0].u8;var r=JG(this.s3,ft.fromNumber(t*this.ra));return r<0?void 0:this.s3[r].u8},i.rwt=function(t){if(!this.xwt&&this.s3.length>0){var n=this.s3[this.s3.length-1];if(i=t,e=jt(n.Wy,this.ra),Bs(i,e,1e-5)>=0)return n.u8}var i,e,r=this.nwt();return r&&t<r?this.s3[0].u8:this.iwt(t)},i.Bwt=function(){return isFinite(this.Wdt.Hg)?this.Gvt():this.swt(this.s3.length-1)},i.Owt=function(t){return this.Mwt(t)},i.Lwt=function(t){if(this.xwt){var n=this.xwt.Vy,i=this.xwt.Hg,e=n.add(i.multiply(t)),r=jt(e,this.ra),s=this.Wdt.Hg;if(!(r>=s)){var u=this.s3.length+t,o=w.min(jt(i,this.ra),r+s);return this.ywt(u,e,o)}}},i.Mwt=function(t){return t.kwt.add(this.$dt)},i.Zh=function(){var t=this.Kdt.Fi.Uvt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.b3(t)},i.b3=function(t){var n=this.$dt;this.Uwt(t,n);var i=this.Xwt(t);this.Hwt(t,n,i.Fwt,i.Iwt)},i.Uwt=function(t,n){var i=this.s3;if(0===t.length)zs(i);else{for(var e=t[0],r=e.Vy?ft.fromString(e.Vy,!1).subtract(n):ft.ZERO,s=0;s<i.length&&i[s].Vy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Xwt=function(t){for(var n=this.s3,i=this.Fet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].rlt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Vy.greaterThanOrEqual(i))break;if(n[r].u8.slt===r)r=u+1;else for(;r<=u;)n[r].u8.slt=r,r++;0,e++}return{Fwt:e,Iwt:r}},i.Hwt=function(t,n,i,e){for(var r,s=this.s3,u=i,o=e;u<t.length;){var a=t[u],h=ft.fromString(a.Hg,!1),c=a.rlt||0,f=void 0;if(a.Vy){if(f=ft.fromString(a.Vy,!1).subtract(n),o>0){var v=s[o-1];v.Wy.greaterThan(f)&&(v.Hg=f.subtract(v.Vy),v.Wy=v.Vy.add(v.Hg))}}else f=o>0?s[o-1].Wy:ft.ZERO;if(c<0){if(u+1===t.length){r={Vy:f,Hg:h};break}for(var l=ft.fromString(t[u+1].Vy,!1).subtract(n);f.lessThan(l);){var d=f.add(h);this.zwt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var _=f.add(h);this.zwt(s,o,f,h,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Fet=s[s.length-1].Vy),this.xwt=r},i.zwt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Hg.equals(e)?s.u8.slt=n:t[n]={Vy:i,Hg:e,Wy:r,u8:this.ywt(n,i,jt(e,this.ra))}}else t.push({Vy:i,Hg:e,Wy:r,u8:this.ywt(n,i,jt(e,this.ra))})},n}(ZG),tq=function(){function t(t,n,i){this.Yvt=void 0,this.Vwt=void 0,this.Gi=void 0,this.Wwt=void 0,this.Gwt=void 0,this.Yvt=t,this.Vwt=n,this.Gi=i}var n=t.prototype;return n.qwt=function(){if(this.Gwt=this.Ywt(),this.Gwt)return this.Gwt;if(this.Vwt)return this.Vwt.Uvt;throw new v("Missing media segment information.")},n.Fdt=function(t){var n=this.llt;if(n)return{Ql:(void 0!==n.elt?i.Br(n.elt,t.Blt[0]):t.Blt[0]).href,fht:n.fht};var e=this.ult;return e?{Ql:t.Blt[0].href,fht:[0,e[0]-1]}:void 0},n.Zh=function(t){this.Gi=t,this.Gwt&&this.Gwt.Zh()},A(t,[{key:"Fi",get:function(){return this.Gi}},{key:"ilt",get:function(){return this.Gi&&void 0!==this.Gi.ilt?this.Gi.ilt:this.Vwt?this.Vwt.ilt:0}},{key:"dlt",get:function(){return this.Gi&&void 0!==this.Gi.dlt?this.Gi.dlt:this.Vwt?this.Vwt.dlt:ft.ZERO}},{key:"_lt",get:function(){return this.Gi&&void 0!==this.Gi._lt?this.Gi._lt:this.Vwt?this.Vwt._lt:this.Yvt.uwt._lt}},{key:"yp",get:function(){return this.Gi&&void 0!==this.Gi.yp?this.Gi.yp:this.Vwt&&this.Vwt.yp?this.Vwt.yp:1}},{key:"ult",get:function(){return this.Gi&&void 0!==this.Gi.ult?this.Gi.ult:this.Vwt?this.Vwt.ult:void 0}},{key:"llt",get:function(){return this.Gi&&void 0!==this.Gi.llt?this.Gi.llt:this.Vwt?this.Vwt.llt:void 0}},{key:"Uvt",get:function(){return this.Wwt||(this.Wwt=this.qwt()),this.Wwt}}]),t}(),nq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ywt=function(){return this.Gi.Uvt?new $G(this,this.Yvt):void 0!==this.Gi.Hg?new KG(this,this.Yvt):void 0},A(n,[{key:"Hg",get:function(){return void 0!==this.Gi.Hg?this.Gi.Hg/this.yp:this.Vwt&&this.Vwt instanceof n?this.Vwt.Hg:void 0}},{key:"Nwt",get:function(){return void 0!==this.Gi.Hg?ft.fromNumber(this.Gi.Hg):this.Vwt&&this.Vwt instanceof n?this.Vwt.Nwt:void 0}},{key:"ylt",get:function(){return void 0!==this.Gi.ylt?this.Gi.ylt:this.Vwt&&this.Vwt instanceof n?this.Vwt.ylt:void 0}},{key:"klt",get:function(){return void 0!==this.Gi.klt?this.Gi.klt:this.Vwt&&this.Vwt instanceof n?this.Vwt.klt:void 0}}]),n}(tq),iq=function(){function t(t){this.jwt=void 0,this.jwt=t}return t.prototype.Wu=function(t){return this.jwt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=gs(u,Number(e),"0")})},t}();var eq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Qwt=void 0,r.Zwt=void 0,r.Qwt=e.Alt?new iq(e.Alt):void 0,r.Zwt=e.Tlt?new iq(e.Tlt):void 0,r}S(n,t);var e=n.prototype;return e.Fdt=function(n){var e=this.Alt;if(!e)return t.prototype.Fdt.call(this,n);var r=e.Wu({Bandwidth:n.Fi.NR,RepresentationID:n.Fi.P_});return{Ql:i.Or(r,n.Blt[0])}},e.qvt=function(t,n){var e,r=null!=(e=n.zdt.ylt)?e:1,s=this.Tlt.Wu({Bandwidth:n.Fi.NR,Number:n.Uvt.pwt(t,r),RepresentationID:n.Fi.P_,Time:n.Uvt.Owt(t,r)});return{Ql:i.Or(s,n.Blt[0])}},e.Ndt=function(t,n){},A(n,[{key:"Alt",get:function(){return this.Qwt?this.Qwt:this.Vwt&&this.Vwt instanceof n?this.Vwt.Alt:void 0}},{key:"Tlt",get:function(){return this.Zwt?this.Zwt:this.Vwt&&this.Vwt instanceof n?this.Vwt.Tlt:void 0}},{key:"Pwt",get:function(){}}]),n}(nq),rq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.qvt=function(t,n){var e=this.Gi.hlt[t.slt],r=n.Blt[0];return{Ql:(e.JA?i.Br(e.JA,r):r).href,fht:e.olt}},e.Ndt=function(t,n){},A(n,[{key:"Pwt",get:function(){return void 0!==this.Gi.hlt?this.Gi.hlt.length:this.Vwt&&this.Vwt instanceof nq?this.Vwt.Pwt:void 0}}]),n}(nq),sq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Iwt=void 0,u.y5=void 0,u.yp=void 0,u.Kwt=void 0,u.dlt=void 0,u.Jwt=void 0,u.Iwt=n,u.y5=i,u.yp=e.yp,u.Kwt=r,u.dlt=s,u.Jwt=u.$wt(e),u}S(n,t);var i=n.prototype;return i.Vvt=function(t){if(t>=0&&t<this.b_)return this.t_t(this.Jwt[t])},i.n_t=function(t){var n=this.i_t(t);if(this.Jwt.length>0){var i=this.Jwt[0];if(n<=jt(i.Vy,this.yp))return this.t_t(i)}var e=JG(this.Jwt,ft.fromNumber(n*this.yp));if(!(e<0))return this.t_t(this.Jwt[e])},i.e_t=function(t){var n=this.i_t(t);if(this.Jwt.length>0){var i=this.Jwt[this.Jwt.length-1];if(n>=jt(i.Wy,this.yp))return this.t_t(i)}return this.n_t(t)},i.t_t=function(t){var n=jt(t.Vy,this.yp)-this.dlt,i=n+this.Kwt,e=jt(t.Hg,this.yp);return{Iwt:this.Iwt,Edt:t.slt,Vy:i,kwt:ft.fromNumber(n*this.yp),Hg:e,Wy:i+e,SJ:[this.y5+t.y5,this.y5+t.k5]}},i.$wt=function(t){for(var n=[],i=t.FS,e=t.zS.toNumber(),r=0,s=0,u=t.WS;s<u.length;s++){var o=u[s],a=o.LS,h=ft.fromNumber(o.Hg),c=i.add(h);0===o.xS&&n.push({slt:r++,Vy:i,Hg:h,Wy:c,y5:e,k5:e+a-1}),e+=a,i=c}return n},i.i_t=function(t){return t-this.Kwt+this.dlt},A(n,[{key:"b_",get:function(){return this.Jwt.length}}]),n}(function(){function t(){}return t.prototype.Swt=function(t){var n=this.Vvt(t.Edt);if(n&&n.Vy===t.Vy)return n;var i=this.n_t(t.Vy);return i&&i.Vy===t.Vy?i:void 0},t}()),uq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).r_t=void 0,e.s_t=void 0,e.u_t=void 0,e.r_t=n.ult,e.s_t=e.ywt(0,ft.ZERO,e.Wdt.Hg),e}S(n,t);var i=n.prototype;return i.swt=function(t){if(0===t)return this.s_t},i.nwt=function(){return 0},i.iwt=function(t){return this.s_t},i.rwt=function(t){return this.iwt(t)},i.Bwt=function(){return this.s_t},i.Owt=function(t,n){return ft.ZERO},i.Pdt=function(t){var n=this.o_t(t);return n&&{awt:t,hwt:n,fwt:n}},i.o_t=function(t){var n=this.s_t;return this.wwt(n,t)?n:void 0},i.owt=function(t){return this.o_t(t)},i.cwt=function(t){return this.o_t(t)},i.Zh=function(){},i.Fvt=function(t){return 0===t&&void 0!==this.r_t},i.Awt=function(t){return this.u_t},i.Twt=function(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.Blt[0].href,u=this.r_t,a.next=4,Dr.awrap(e.a_t(s,u,i,r));case 4:return o=a.sent,this.u_t=this.h_t(t,o),a.abrupt("return",this.u_t);case 7:case"end":return a.stop()}},null,this,null,We)},i.h_t=function(t,n){var i=this.r_t,e=Kk.mA(new DataView(n),new Vo);if(e.fs!==uk.Wb)throw new v("Invalid segment index");var r=ip.UA(e.Fi),s=i[1]+1;return new sq(t,s,r,this.Wdt.RN,jt(this.$dt,this.ra))},n}(ZG),oq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qvt=function(t,n){return{Ql:n.Blt[0].href}},i.Ndt=function(t,n){return{Ql:n.Blt[0].href,fht:t.SJ}},i.Ywt=function(){return new uq(this,this.Yvt)},A(n,[{key:"ylt",get:function(){}}]),n}(tq),aq=function(t){function n(){return t.call(this,XG.mdt)||this}return S(n,t),n}(gu);var hq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Sw=void 0,r.Gi=void 0,r.c_t=void 0,r.Kdt=void 0,r.f_t=1/0,r.v_t=void 0,r.Sw=i,r.l_t(n,e),r}S(n,t);var i=n.prototype;return i.d_t=function(){return this.Kdt||this.Sw&&this.Sw.d_t()},i.w_t=function(t){var n=this.Yvt,i=this.Sw&&this.Sw.d_t();this.Gi.Xlt?this.Kdt=new eq(n,i,this.Gi.Xlt):this.Gi.Ult?this.Kdt=new rq(n,i,this.Gi.Ult[0]):this.Gi.Mlt?this.Kdt=new oq(n,i,this.Gi.Mlt):t&&!i&&(this.Kdt=new oq(n,i,void 0))},i.l_t=function(t,n){this.Gi=t,this.c_t=t.Blt&&t.Blt.length>0?QG(t.Blt.map(function(t){return t.Ql}),n):n.slice(),this.Kdt&&(t.Xlt?this.Kdt.Zh(t.Xlt):t.Ult?this.Kdt.Zh(t.Ult[0]):t.Mlt&&this.Kdt.Zh(t.Mlt))},i.Tdt=function(){var t;return null==(t=this.v_t)?void 0:t.__t},i.Bdt=function(){var t;return null==(t=this.v_t)?void 0:t.g_t},i.m_t=function(t){var n=this.f_t,i=this.Yvt.Hg,e=this.v_t,r=this.y_t(t);e&&Ut(i,n,1e-5)&&lq(e,r)||(this.f_t=i,this.v_t=r,this.Qs(new aq))},i.xs=function(){this.$s()},A(n,[{key:"Fi",get:function(){return this.Gi}},{key:"Blt",get:function(){return this.c_t}}]),n}(wu);function cq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Tdt();if(e){n=e.RN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Tdt();if(u){r=u.NN;break}}if(void 0!==r)return{RN:n,NN:r}}}function fq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Tdt();if(!r)return;if((n=w.max(n,r.RN))>=(i=w.min(i,r.NN)))return}return{RN:n,NN:i}}}function vq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Bdt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function lq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.g_t,n.g_t)&&function(t,n){return t&&n?Ut(t.RN,n.RN,1e-5)&&Ut(t.NN,n.NN,1e-5):t===n}(t.__t,n.__t)}var dq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).Wdt=void 0,r.Bh=void 0,r.k_t=void 0,r.Wdt=n,r.Bh=i,r.k_t=e.slice();for(var s=0;s<e.length;s++){e[s].Zs(XG.mdt,r.bdt)}return r}S(n,t);var i=n.prototype;return i.Tdt=function(){return fq(this.k_t)},i.Bdt=function(){for(var t,n=0,i=this.k_t;n<i.length;n++){var e=i[n].Bdt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Sd=function(){this.$s();for(var t=0,n=this.k_t;t<n.length;t++){n[t].tu(XG.mdt,this.bdt)}},A(n,[{key:"xvt",get:function(){return this.k_t}},{key:"HF",get:function(){return this.xvt.reduce(function(t,n){for(var i=0,e=n.HF;i<e.length;i++){var r=e[i];Hs(t,r)||t.push(r)}return t},[])}},{key:"$e",get:function(){return this.HF.length>0?this.HF[0]:""}},{key:"fs",get:function(){return this.k_t[0].fs}},{key:"P_",get:function(){return this.Bh}},{key:"Cdt",get:function(){return this.Wdt.Cdt}},{key:"YB",get:function(){return this.k_t[0].YB}},{key:"Yvt",get:function(){return this.Wdt}},{key:"q0",get:function(){return Ws(this.xvt,function(t){return t.q0})}}]),n}(GG),wq=function(t){function n(){return t.call(this,XG.kdt)||this}return S(n,t),n}(gu);function _q(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Flt;void 0===s||(r=xs(n,function(t){return t.P_===s})),r||(r={P_:s,xvt:[]},n.push(r)),r.xvt.push(e)},e=0;e<t.length;e++)i(e);return n}var gq,mq=function(t){function n(n,i){var e;return(e=t.call(this)||this).E4=void 0,e.k_t=[],e.p_t=[],e.b_t=void 0,e.A_t=!1,e.b_t=n,e.E4=i,e.E4.Zs(XG.mdt,e.bdt),e}S(n,t);var i=n.prototype;return i.T_t=function(t,n){if(0!==this.p_t.length){for(var i=t,e=0,r=this.p_t;e<r.length;e++){var s=r[e],u=s.fs;if(u===ty.dd||u===ty.wd){var o=s.Sdt;if(void 0===o)return;i=n(i,o)}}return i}},i.S_t=function(){this.A_t||(this.A_t=!0,this.Qs(new wq),this.Sd())},i.Zh=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.k_t.length){i.next=7;break}return i.next=3,Dr.awrap(this.E_t(this.E4.xvt,t,n));case 3:this.I_t(this.k_t),nu(n),i.next=9;break;case 7:return i.next=9,Dr.awrap(this.R_t(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.E_t=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new jG(this,r),u.prev=4,u.next=7,Dr.awrap(s.Zh(n,i));case 7:this.k_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),iu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.I_t=function(t){for(var n=_q(t),i=0;i<n.length;i++){var e=n[i],r=new dq(this,e.P_,e.xvt);this.p_t.push(r)}},i.R_t=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.k_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Dr.awrap(r.Zh(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.Tdt=function(){return this.E4.Tdt()},i.Bdt=function(){return this.E4.Bdt()},i.Sd=function(){this.$s(),this.E4.tu(XG.mdt,this.bdt);for(var t=0,n=this.p_t;t<n.length;t++){n[t].Sd()}for(var i=0,e=this.k_t;i<e.length;i++){e[i].Sd()}zs(this.k_t),zs(this.p_t)},A(n,[{key:"xvt",get:function(){return this.k_t}},{key:"Bvt",get:function(){return this.p_t}},{key:"edt",get:function(){return this.E4.Fi.edt}},{key:"Hg",get:function(){return this.E4.Hg}},{key:"NN",get:function(){return this.RN+this.Hg}},{key:"rdt",get:function(){return this.E4.Fi.rdt||[]}},{key:"P_",get:function(){return this.E4.P_}},{key:"pdt",get:function(){return this.A_t}},{key:"Cdt",get:function(){return this.b_t}},{key:"D_t",get:function(){return this.b_t.N_t(this)}},{key:"Yvt",get:function(){return this}},{key:"C_t",get:function(){return this.b_t.P_t(this)}},{key:"B_t",get:function(){return this.T_t(1/0,w.min)}},{key:"O_t",get:function(){return this.T_t(0,w.max)}},{key:"RN",get:function(){return this.E4.RN}},{key:"bd",get:function(){return this.Cdt.bd}}]),n}(GG),yq=function(t){function n(){return t.call(this,bf.bf)||this}return S(n,t),n}(gu);!function(t){t.x_t="L_t"}(gq||(gq={}));var kq=function(t){function n(){return t.call(this,gq.x_t)||this}return S(n,t),n}(gu),pq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Blt)||this).Idt=void 0,e.M_t=void 0,e.Idt=i,e.w_t(!0),e}S(n,t);var i=n.prototype;return i.Fvt=function(t){return!!Cc(this.YB)&&this.Uvt.Fvt(t.slt)},i.zvt=function(t,n,i,e){return this.Uvt.zvt(t,this,n,i,e)},i.Fdt=function(){return this.zdt.Fdt(this)},i.qvt=function(t){return this.zdt.qvt(t,this)},i.Ndt=function(t){return this.zdt.Ndt(t,this)},i.Pdt=function(){return this.M_t},i.y_t=function(t){var n=this.Uvt,i=n.Pdt(t),e=i&&function(t,n){var i,e=t.hwt,r=t.fwt,s=t.awt,u=e.Vy,o=n.mwt(r);if(o.getTime()<=s.getTime())i=r.Wy;else{var a=(o.getTime()-s.getTime())/1e3,h=w.max(r.Hg-a,0);i=r.Vy+h}return{RN:u,NN:i}}(i,n),r=this.Uvt.Bdt(t,i);return this.M_t=i,{awt:t,__t:e,g_t:r}},i.Zh=function(t){this.l_t(t,this.Idt.Blt)},A(n,[{key:"Udt",get:function(){return this.Idt}},{key:"Yvt",get:function(){return this.Idt.Yvt}},{key:"uwt",get:function(){return this.Idt.uwt}},{key:"YB",get:function(){return this.Gi.YB||this.Idt.YB}},{key:"zdt",get:function(){return this.d_t()}},{key:"Uvt",get:function(){return this.zdt.Uvt}}]),n}(hq),bq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Blt)||this).Wdt=void 0,e.Gdt=void 0,e.Wdt=i,e.w_t(!1),e.Gdt=n.q0.map(function(t){return new pq(t,Kt(e))}),e}S(n,t);var i=n.prototype;return i.Zh=function(t){this.l_t(t,this.Wdt.Blt);var n=t.q0||[];if(this.Gdt.length!==n.length)throw new v("Expected "+this.Gdt.length+' representations in adaptation set "'+t.P_+'", found '+n.length);for(var i=0;i<n.length;i++)this.Gdt[i].Zh(n[i])},i.m_t=function(n){for(var i=0,e=this.Gdt;i<e.length;i++){e[i].m_t(n)}t.prototype.m_t.call(this,n)},i.y_t=function(t){return{awt:t,__t:fq(this.Gdt),g_t:vq(this.Gdt)}},i.xs=function(){for(var n=0,i=this.Gdt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},A(n,[{key:"q0",get:function(){return this.Gdt}},{key:"Yvt",get:function(){return this.Wdt}},{key:"uwt",get:function(){return this.Wdt.uwt}},{key:"Flt",get:function(){return this.Gi.Flt}},{key:"YB",get:function(){var t;return this.Gi.YB||(null==(t=this.Gdt[0])?void 0:t.Fi.YB)||""}}]),n}(hq),Aq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Blt)||this).U_t=void 0,s.ZS=void 0,s.ua=void 0,s.k_t=void 0,s.p_t=[],s.U_t=n,s.ZS=e,s.ua=r,s.w_t(!1),s.k_t=(i.xvt||[]).map(function(t){return new bq(t,Kt(s))}),s.p_t=_q(s.k_t),s}S(n,t);var i=n.prototype;return i.Zh=function(t,n){this.l_t(t,this.U_t.Blt),this.ua=n;var i=t.xvt||[];if(this.k_t.length!==i.length)throw new v("Expected "+this.k_t.length+' adaptation sets in period "'+t.P_+'", found '+i.length);for(var e=0;e<i.length;e++)this.k_t[e].Zh(i[e])},i.m_t=function(n){for(var i=0,e=this.k_t;i<e.length;i++){e[i].m_t(n)}t.prototype.m_t.call(this,n)},i.y_t=function(t){return{awt:t,__t:fq(this.k_t),g_t:vq(this.k_t)}},i.xs=function(){for(var n=0,i=this.k_t;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},A(n,[{key:"xvt",get:function(){return this.k_t}},{key:"Bvt",get:function(){return this.p_t}},{key:"Yvt",get:function(){return this}},{key:"uwt",get:function(){return this.U_t}},{key:"P_",get:function(){return this.Gi.P_}},{key:"RN",get:function(){return this.ZS}},{key:"Hg",get:function(){return this.ua}}]),n}(hq),Tq=new Date("2000-01-01"),Sq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.X_t=void 0,s.H_t=void 0,s.DG=void 0,s.F_t=void 0,s.v_t=void 0,s.c_t=void 0,s.z_t=void 0,s.V_t=void 0,s.W_t=void 0,s.G_t=[],s.X_t=i,s.Zh(n,e,r),n.fs===EW.bE){var u=s.Bwt();u&&u.udt&&u.udt.getTime()<Tq.getTime()&&(s.W_t=new Date(s.ddt.getTime()-1e3*(u.u8.Vy+u.u8.Hg)),s.m_t(r))}return s}S(n,t);var e=n.prototype;return e.Tdt=function(){var t;return null==(t=this.v_t)?void 0:t.__t},e.Bdt=function(){var t;return null==(t=this.v_t)?void 0:t.g_t},e.Zh=function(t,n,e,r){var s;this.Gi=t,this.H_t=n,this.F_t=null!=r?r:e,this.DG=e;var u,o=[(u=n,i.Br(".",u))];this.c_t=t.Blt&&t.Blt.length>0?QG(t.Blt.map(function(t){return t.Ql}),o):o,this.z_t=t.adt&&t.adt.length>0?QG(t.adt,this.c_t):[];var a=this.z_t.map(function(t){return t.href}),h=n.href;Hs(a,h)||(this.z_t.push(n),a.push(h));var c=this.X_t.href;Hs(a,c)||(this.z_t.push(this.X_t),a.push(c)),this.V_t=null==(s=t.Nvt)?void 0:s.Dvt();var f=t.fs===EW.bE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.RN)u=s.RN.Dvt();else if(r>0&&t[r-1].Hg){var o=e[r-1],a=t[r-1].Hg.Dvt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Fi:t[c],RN:e[c],Hg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.Hg?v.Hg.Dvt():i-l),h.push({Fi:v,RN:l,Hg:d})}return h}(t.Rvt,f,this.V_t);this.q_t(v),this.m_t(e)},e.q_t=function(t){var n=this.G_t;if(0!==t.length){for(var i=t[0].Fi.P_,e=0;e<n.length&&n[e].P_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Zh(o.Fi,o.Hg)}else n.push(new Aq(this,o.Fi,o.RN,o.Hg))}}else zs(n)},e.m_t=function(t){for(var n=0,i=this.G_t;n<i.length;n++){i[n].m_t(t)}var e=this.v_t,r=this.y_t(t);e&&lq(e,r)||(this.v_t=r,this.Qs(new aq))},e.y_t=function(t){return{awt:t,__t:cq(this.G_t),g_t:vq(this.G_t)}},e.Bwt=function(){if(0!==this.G_t.length){var t=this.G_t[this.G_t.length-1];if(!isFinite(t.Hg)&&0!==t.xvt.length){var n=t.xvt[0];if(0!==n.q0.length){var i=n.q0[0].Uvt,e=i.Bwt();if(e)return{u8:e,udt:i.vwt(e)}}}}},e.xs=function(){this.$s();for(var t=0,n=this.G_t;t<n.length;t++){n[t].xs()}},A(n,[{key:"Fi",get:function(){return this.Gi}},{key:"fs",get:function(){return this.Gi.fs||EW.pE}},{key:"odt",get:function(){return this.W_t||this.Gi.odt||this.ddt}},{key:"udt",get:function(){return this.Gi.udt}},{key:"Nvt",get:function(){return this.V_t}},{key:"Blt",get:function(){return this.c_t}},{key:"adt",get:function(){return this.z_t}},{key:"Rvt",get:function(){return this.G_t}},{key:"ddt",get:function(){return this.Gi.ddt||this.DG}},{key:"_lt",get:function(){return this.Gi._lt}},{key:"Y_t",get:function(){return this.F_t}},{key:"j_t",get:function(){return this.DG}}]),n}(wu);var Eq=function(){function t(t,n,i){this.Q_t=0,this.lE=t,this.Z_t=n,this.K_t=i}var n=t.prototype;return n._L=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.J_t(t,this.lE,this.Z_t,this.K_t).catch(eu));case 2:case"end":return n.stop()}},null,this,null,We)},n.$_t=function(){return new Date(Vt()+this.Q_t)},n.J_t=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Dr.awrap(this.tgt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}nu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Dr.awrap(this.ngt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.Q_t=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,We)},n.ngt=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.U0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Dr.awrap(this.tgt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n.tgt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.Yl({Ql:n,md:$d.GET,Wl:Af.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Dr.awrap(e.El());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),iu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),Iq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).igt=void 0,s.E4=void 0,s.egt=void 0,s.Prt=!0,s.G_t=[],s.rgt=void 0,s.sgt=void 0,s.ugt=void 0,s.lE=void 0,s.ogt=void 0,s.rgt=n,s.egt=n.Z_,s.sgt=i,s.lE=e,s.igt=r,s.ogt=new Eq(s.lE,s.igt,s.rgt.agt),s}S(n,t);var e=n.prototype;return e.hgt=function(t){var n=this._y;this.Prt=t,n!==this._y&&this.Qs(new kq)},e.Zh=function(t,n,e){var r,s,u,o,a,h,c,f,v,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.hdt?i.Br(t.hdt,this.egt):this.egt,void 0!==this.E4){g.next=10;break}return g.next=6,Dr.awrap(this.ogt._L(t._dt));case 6:this.E4=new Sq(t,this.egt,o,this.$_t()),this.E4.Zs(XG.mdt,this.js),g.next=11;break;case 10:this.E4.Zh(t,o,this.$_t(),n);case 11:if(0===(a=this.E4.Rvt).length)h=this.G_t.slice(),zs(this.G_t);else{for(c=a[0].P_,f=0;f<this.G_t.length&&this.G_t[f].P_!==c;)f++;for(h=this.G_t.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.G_t.length?d=this.G_t[v]:(d=new mq(this,l),s.push(d)),u.push(d.Zh(this.sgt,e))}return g.next=15,Dr.awrap(We.all(u));case 15:for((r=this.G_t).push.apply(r,s),w=0,_=h;w<_.length;w++)_[w].S_t();this.Qs(new yq);case 18:case"end":return g.stop()}},null,this,null,We)},e.$_t=function(){return this.ogt.$_t()},e.P_t=function(t){var n=this.G_t.indexOf(t);if(n>0)return this.G_t[n-1]},e.N_t=function(t){var n=this.G_t.indexOf(t);if(n>=0&&n+1<this.G_t.length)return this.G_t[n+1]},e.Tdt=function(){return this.E4?this.E4.Tdt():void 0},e.Bdt=function(){return this.E4&&this.E4.Bdt()},e.m_t=function(t){this.E4&&this.E4.m_t(t)},e.Sd=function(){this.$s(),this.ugt=void 0,this.hgt(!1);for(var t=0,n=this.G_t;t<n.length;t++){n[t].Sd()}zs(this.G_t),this.E4&&this.E4.xs()},A(n,[{key:"udt",get:function(){return this.E4&&this.E4.udt}},{key:"odt",get:function(){return this.E4&&this.E4.odt}},{key:"P_",get:function(){return this.E4&&this.E4.Fi.P_}},{key:"Y_t",get:function(){var t;return null==(t=this.E4)?void 0:t.Y_t}},{key:"cgt",get:function(){var t;return null==(t=this.E4)?void 0:t.j_t}},{key:"adt",get:function(){return this.E4?this.E4.adt.map(function(t){return t.href}):[this.Pvt]}},{key:"Pvt",get:function(){return this.egt.href}},{key:"cdt",get:function(){return this.E4&&this.E4.Fi.cdt}},{key:"fdt",get:function(){return this.E4&&this.E4.Fi.fdt}},{key:"Nvt",get:function(){return this.E4&&this.E4.Fi.Nvt}},{key:"vdt",get:function(){return this.E4&&this.E4.Fi.vdt}},{key:"ldt",get:function(){var t,n,i=(null==(t=this.E4)?void 0:null==(n=t.Fi.ldt)?void 0:n.Zvt())||0;return w.max(i,Dq)}},{key:"_y",get:function(){return this.Prt}},{key:"Rvt",get:function(){return this.G_t}},{key:"fgt",get:function(){return this.fs===EW.bE?this.Zdt:this.vgt}},{key:"lgt",get:function(){var t=this.fgt;if(void 0!==t)for(var n=0,i=this.Rvt;n<i.length;n++){var e=i[n];if(e.RN<=t&&e.NN>t)return e}}},{key:"Rlt",get:function(){return this.E4&&this.E4.Fi.Rlt}},{key:"ddt",get:function(){return this.E4&&this.E4.ddt}},{key:"B_t",get:function(){for(var t=this.G_t.length-1;t>=0;t-=1){var n=this.G_t[t].B_t;if(n)return n}}},{key:"Zdt",get:function(){var t=this.B_t;if(void 0!==t){var n=t-this.dgt;return w.max(n,this.vgt)}}},{key:"vgt",get:function(){for(var t=0,n=this.G_t;t<n.length;t++){var i=n[t].Adt;if(void 0!==i)return i}}},{key:"bd",get:function(){return Boolean(this.rgt.bd)}},{key:"dgt",get:function(){var t=this.E4&&this.E4.Fi.wdt;return t?t.Dvt():this.fs===EW.bE?this.wgt:0}},{key:"wgt",get:function(){return this.rgt.wgt?this.rgt.wgt:1.5*this.vdt.Dvt()}},{key:"_lt",get:function(){return this.E4&&this.E4._lt}},{key:"fs",get:function(){return this.E4?this.E4.fs:void 0}}]),n}(wu),Rq=function(){function t(t,n,i,e){this.b_t=void 0,this.b_t=new Iq(t,n,i,e)}return A(t,[{key:"Cdt",get:function(){return this.b_t}}]),t}(),Dq=1e3,Nq=w.pow(2,31)-1,Cq=function(){function t(t,n,i,e){var r=this;this.xht=void 0,this.E4=void 0,this._gt=void 0,this.ggt=void 0,this.mgt=void 0,this.ygt=new Js,this.kgt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.E4.Cdt.$_t(),e.next=4,Dr.awrap(r.pgt(r.E4.Cdt.adt,t));case 4:return i=e.sent,e.next=7,Dr.awrap(r.E4.Cdt.Zh(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Bp(e.t0)&&r.E4.Cdt.hgt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.xht=e,this.E4=new Rq(t,n,i,this.ygt.Ws)}var n=t.prototype;return n.Aw=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.E4.Cdt.Qs(new bD),n.prev=1,n.next=4,Dr.awrap(AL(this.kgt,t));case 4:this.E4.Cdt.hgt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),iu(n.t0),this.ggt=void 0,this.E4.Cdt.hgt(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this._gt=this.bgt(this.ygt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.bgt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.E4.Cdt.fs!==EW.bE){n.next=6;break}return n.next=4,Dr.awrap(ru(this.Agt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.Tgt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(nu(t),!((n=this.Sgt())>0)){e.next=6;break}return i=w.min(n,Nq),e.next=6,Dr.awrap(fu(i,t));case 6:return e.prev=6,e.next=9,Dr.awrap(AL(this.kgt,t,1/0,Dq,3e4));case 9:this.E4.Cdt.hgt(!0);case 10:return e.prev=10,this.mgt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],We)},n.Sgt=function(){var t=this.E4.Cdt.$_t().getTime()-this.E4.Cdt.Y_t.getTime();return this.E4.Cdt.ldt-t},n.Egt=function(t){var n=this.E4.Cdt.Bdt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.E4.Cdt.m_t(t);var e=this.E4.Cdt.Bdt();return e?e.getTime()-t.getTime():NaN},n.Igt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.mgt||(this.mgt=this.Tgt(t)),(n=new Js).zs(t),i.prev=3,i.next=6,Dr.awrap(We.race([this.mgt,this.Rgt(n.Ws)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),eu(i.t0);case 11:return i.prev=11,n.Fs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.Rgt=function(t){var n=this.E4.Cdt.$_t(),i=this.Egt(n);if(!m(i))return this.Dgt(i,t)},n.Dgt=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(fu(t,n));case 2:i=this.E4.Cdt.$_t(),this.E4.Cdt.m_t(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.pgt=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.xht.Bht(t,{},n,!1));case 2:return i=r.sent,e=new HG,r.abrupt("return",e.bct(i.Nht,i.jl));case 5:case"end":return r.stop()}},null,this,null,We)},n.Sd=function(){return this.ygt.Fs(),this._gt=void 0,this.ggt=void 0,this.mgt=void 0,this.E4.Cdt.Sd(),We.resolve()},A(t,[{key:"M$",get:function(){return this.E4}},{key:"Ngt",get:function(){return this.ggt||(this.ggt=this.Aw(this.ygt.Ws),hu(this.ggt)),this.ggt}},{key:"Agt",get:function(){return this.E4.Cdt.cgt&&this.E4.Cdt.fs===EW.bE?this.Igt(this.ygt.Ws):this.Ngt}}]),t}(),Pq=function(){function t(t,n,i){this.xht=t,this.Cgt=n,this.Pgt=i}var n=t.prototype;return n.Bgt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!Kg(n=t.type)){i.next=9;break}return i.next=6,Dr.awrap(this.Ogt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Zg(n)){i.next=15;break}return i.next=12,Dr.awrap(this.xgt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.Ogt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(MW(t.src,this.xht));case 3:return n=i.sent,i.next=6,Dr.awrap(UW(n,this.xht));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.xgt=function(t){var n;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Cq({Z_:i.Br(t.src),wgt:t.liveOffset,agt:t.timeServer,bd:t.useCredentials},this.Pgt,uw.Cd,this.xht),e.next=4,Dr.awrap(n.Ngt);case 4:return e.next=6,Dr.awrap(bW(n.M$.Cdt,t.contentProtection,this.Cgt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}();var Bq=function(){function t(t){this.Lgt=void 0,this.Mgt=[],this.Ugt=0,this.Lgt=t}var n=t.prototype;return n.Xgt=function(){var t=new Go;return this.Mgt.push(t),this.Hgt(),t.Hu},n.Fgt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t);case 2:this.Ugt-=1,this.Hgt(),0===this.Mgt.length&&0===this.Ugt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.Hgt=function(){this.Mgt.length>0&&this.Ugt<this.Lgt&&(this.Mgt.shift().Wu(),this.Ugt+=1)},t}();function Oq(t,n){for(var i=0,e=0,r=t.WS.$K.map(function(t){return t.Hg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var xq=function(t){function n(n,e,r,s,u,o,a,h){var c,f,v,l,d;void 0===h&&(v=M.En||M.Tn,l=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=v&&!l,h=function(t){var n,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Nl,MediaSource.isTypeSupported(e)||Xp(t.YB,t.HF)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.$e)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.G0){u.next=13;break}return r=t.G0,s=Ws(r,function(t){return cs(t.U0)}).filter(H),u.next=10,Dr.awrap(Qs(s,function(t){return i.Cr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}),(c=t.call(this)||this).Mht=void 0,c.zgt=void 0,c.Vgt=new Go,c.Wgt=void 0,c.Yht=void 0,c.Ggt=_W.Tvt(),c.pvt=void 0,c.qgt=void 0,c.mm=void 0,c.Ygt=void 0,c.Eat=void 0,c.xht=void 0,c.jgt=void 0,c.Cgt=void 0,c.Pgt=void 0,c.uvt=void 0,c.Mht=n,c.Eat=e,c.xht=r,c.Ygt=s,c.jgt=u,c.Cgt=o,c.Pgt=h,c.uvt=a,c.qgt=-1;var w=c.Mht.cN.sources[0];return c.Wgt=w,c.mm=c.Xm(),c.zgt=new Bq(c.Mht.wc.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.Xm=function(){var t,n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,g,m,y,k,p,b,A,T,S,E,I,R=this;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:return t=new Pq(this.xht,this.Cgt,this.Pgt),D.next=3,Dr.awrap(t.Bgt(this.Wgt));case 3:return this.Yht=D.sent,n=this.Mht.wc.amount,i=this.Yht.Hg,e=yW(n,i),this.pvt=e,s=sH(this.Yht.Cvt[0]),D.next=11,Dr.awrap(this.Eat.mat.wat(s,"manifestURL"));case 11:for(u=D.sent.filter(function(t){return Hs(t.references,R.Mht.P_)}),o=[],a=this.Mht.wc.bandwidth,h=0,c=this.Yht.Rvt;h<c.length;h++)for(f=c[h],v=0,l=f.Ovt;v<l.length;v++)for(d=l[v],_=0,g=Mq(d.VA);_<g.length;_++)for(m=g[_],y=0,k=Uq(m.M_,a);y<k.length;y++)p=k[y],o.push(p);if(this.qgt=w.ceil(o.map(function(t){return t.NR*Oq(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Pr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new uS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.YN(e).qN(5e-4);else{var r,s=xs(o,function(t){return t.P_===i}),a=w.min(R.pvt,null!=(r=null==s?void 0:s.WS.Hg)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new _W(A,b,this.pvt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.P_,{timeRanges:uS.fC(),totalQualityDurationToCache:w.min(I.WS.Hg,this.pvt)});r=new _W(0,b,this.pvt)}this.Qgt=r;case 19:case"end":return D.stop()}},null,this,null,We)},e.Zgt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.mm);case 2:return n.next=4,Dr.awrap(this.Kgt(this.Yht,t));case 4:return n.next=6,Dr.awrap(this.Vgt.Hu);case 6:case"end":return n.stop()}},null,this,null,We)},e.Kgt=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Cvt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Dr.awrap(this.Jgt());case 4:for(i=[],e=0,r=t.Rvt;e<r.length;e++)s=r[e],i.push(this.$gt(s,t.Cvt[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.Jgt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Ygt.vat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Dr.awrap(this.Eat.yat.Iu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Dr.awrap(Lq(e,this.Mht.P_,this.Eat.yat,this.uvt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Dr.awrap(this.Eat.yat.oat(i,this.uvt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new pW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Dr.awrap(this.Ygt.gat());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.$gt=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.Ovt;r<s.length;r++)for(u=s[r],o=Mq(u.VA),a=0;a<o.length;a++)h=o[a],e.push(this.tmt(h,n,i));return c.abrupt("return",We.all(e));case 3:case"end":return c.stop()}},null,this,null,We)},e.tmt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Mht.wc.bandwidth,r=Uq(t.M_,e),t.fs!==ty.wd||!t.Mvt||!t.Mvt.HE.widevine||"persistent"!==t.Mvt.HE.widevine.licenseType){a.next=6;break}return a.next=5,Dr.awrap(this.nmt(t.Mvt));case 5:nu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.imt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e.imt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:nu(i),e=t.WS.$K[0].Vy,r=e+this.pvt,s=0,u=t.WS.$K;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Vy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.emt(i));case 10:return a.next=12,Dr.awrap(this.zgt.Xgt());case 12:hu(this.zgt.Fgt(this.rmt(o,t,n),this.Vgt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.emt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ns){n.next=4;break}return n.next=3,Dr.awrap(this.Vgt.Hu);case 3:throw new $s;case 4:case"end":return n.stop()}},null,this,null,We)},e.smt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.mm);case 2:return t.abrupt("return",this.Yht);case 3:case"end":return t.stop()}},null,this,null,We)},e.nmt=function(t){return We.resolve()},e.umt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ot("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,We)},e.rmt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Eat.mat,r=uH(t.Xvt.Ql,t.Xvt.fht),f.next=4,Dr.awrap(e.Iu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Dr.awrap(Lq(s,this.Mht.P_,e,this.uvt));case 8:this.omt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Dr.awrap(this.amt(t.Xvt));case 14:return u=f.sent,o=this.hmt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Dr.awrap(this.Eat.Aat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.mat.oat(a,c.uvt));case 2:return n.next=4,Dr.awrap(t.$K.oat(h,c.uvt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this.omt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new pW("Unable to store segment with url: "+t.Xvt.Ql,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.amt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.jgt.cmt(t,!1));case 2:return n=i.sent,i.next=5,Dr.awrap(this.fmt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.fmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Rl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.hmt=function(t,n,i,e){var r=uH(t.Xvt.Ql,t.Xvt.fht),s=t.Vy,u=t.Hg,o=this.vmt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:sH(i),qualityId:n.P_,byteSize:o,startsAndEnds:new uS([s,s+u]).PN,references:[this.Mht.P_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:sH(i),data:e}}},e.vmt=function(t){return t.buffer.byteLength},e.omt=function(t,n){var i=t.qualityId,e=this.Ggt,r=e.Ty;r.get(i).timeRanges=r.get(i).timeRanges.YN(new uS(t.startsAndEnds)).qN(5e-4),this.Qgt=new _W(n?e.Svt+t.byteSize:e.Svt,r,this.pvt)},A(n,[{key:"lmt",get:function(){return this.qgt}},{key:"Qgt",get:function(){return this.Ggt},set:function(t){this.Ggt.lk(t)||(this.Ggt=t,t.lk(_W.Tvt())||this.Qs(new wW))}}]),n}(wu);function Lq(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Hs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Dr.awrap(i.oat(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function Mq(t){return t.length?[t[0]]:[]}function Uq(t,n){if(!t.length)return[];var i=[].concat(t).sort(lW),e=i.filter(function(t){return t.NR<=n});return e.length>0?[e.pop()]:[i.shift()]}var Xq=function(){function t(t){this.lE=void 0,this.oX=new JR,this.lE=t}var n=t.prototype;return n.Yl=function(t){var n=this,i=new Go;return this.oX.ZU(function(e){return n.dmt(i,t,e)},t.Ws).catch(K),i.Hu},n.Td=function(t){return this.lE.Td(t)},n.dmt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return nu(i),e=new rw({Ql:n.Ql,Ws:i},n),r=this.lE.Yl(e),t.Wu(r),u.next=6,Dr.awrap(r);case 6:return s=u.sent,u.next=9,Dr.awrap(s.Ml());case 9:case"end":return u.stop()}},null,this,null,We)},n.Sd=function(){this.oX.Sd()},t}(),Hq=function(){function t(t,n){this.lE=void 0,this.wmt=void 0,this.U6=void 0,this.lE=t,this.wmt=new Xq(t),this.U6=n}var n=t.prototype;return n.cmt=function(t,n,i){return this.w3(t,n,!0,!1,void 0,i)},n.n8=function(t,n,i,e){return this.w3(t,n,!1,!1,i,e)},n._mt=function(t,n,i,e){return this.w3(t,n,!1,!0,i,e)},n.w3=function(n,i,e,r,s,u){var o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return nu(u),a.next=3,Dr.awrap(this.a8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.gmt(o));case 8:return a.abrupt("return",this.mmt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.mmt=function(t){return t},t.gmt=function(t){return t},n.a8=function(t,n,i,e,r){var s=new rw({Ql:t.Ql,Wl:Af.Gf,Vl:t.fht?{Range:"bytes="+t.fht[0]+"-"+t.fht[1]}:void 0,bd:t.bd,md:$d.GET,fs:tw.$l,kd:i?nw.ed:nw.Kl,pd:this.U6,yd:e,Ws:r});return n?this.wmt.Yl(s):this.lE.Yl(s)},t}(),Fq=function(){function t(t){this.lE=void 0,this.lE=t}return t.prototype.a_t=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.lE.Yl({Ql:t,Wl:Af.Gf,Vl:{Range:"bytes="+n[0]+"-"+n[1]},bd:i,md:$d.GET,fs:tw.Kl,Ws:e}));case 2:return r=s.sent,s.next=5,Dr.awrap(r.Rl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),zq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).u8=void 0,r.u8=n,r}return S(n,t),n}($t),Vq=function(){function t(t){this.C4=void 0,this.C4=t}return t.prototype.a_t=function(t,n,i,e){var r,s;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.C4.V6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Dr.awrap(this.C4.V6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Ho(new y(s.buffer),n[0],n[1]));case 10:throw new zq({Ql:t,fht:n,bd:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),Wq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new uS([0,0]).PN,references:[]},Gq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},qq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).ymt=void 0,u.kmt=void 0,u.Eat=void 0,u.uvt=void 0,u.ymt=new Fq(i),u.Eat=e,u.kmt=r,u.uvt=s,u}S(n,t);var i=n.prototype;return i.a_t=function(n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.prototype.a_t.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),iu(u.t0);case 9:return u.next=11,Dr.awrap(this.ymt.a_t(n,i,e,r));case 11:return s=u.sent,u.next=14,Dr.awrap(this.pmt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.pmt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.kmt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Eat.mat,s=uH(t,i),v.next=6,Dr.awrap(r.Iu(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Dr.awrap(Lq(u,this.kmt,r,this.uvt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.hmt(s,o,this.kmt),h=a.segmentMetadataEntry,c=a.segmentEntry,v.next=17,Dr.awrap(this.Eat.Aat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.mat.oat(h,f.uvt));case 2:return n.next=4,Dr.awrap(t.$K.oat(c,f.uvt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new pW("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],We)},n.hmt=function(t,n,i){return{segmentMetadataEntry:Nr({},Wq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},Gq,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(Vq);var Yq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.bmt=function(t,n,i,e,r,s,u){return new xq(t,n,i,e,r,s,u)},n}(function(){function t(t){this.lE=t}return t.prototype.yK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.cN.sources[0].useCredentials),r=new Hq(this.lE,iw.Kl),s=new WH(this.lE,e),u=new oH(n.yat,n.mat,n.$K,n.bat),o=function(t,n,i,e,r){return new qq(n,t,i,e,r)}(this.lE,u,n,t.P_,i),a=new wH,h=new QH(jH(s,u),a,t);return this.bmt(t,n,h,a,r,o,i)},t}());function jq(t){var n,i={get id(){return t.P_},get status(){return t.zl},get source(){return t.cN},get parameters(){return t.wc},get duration(){return t.Hg},get cached(){return t.Amt.qD()},get secondsCached(){return t.Tmt},get percentageCached(){return t.Smt},get bytes(){return t.Emt},get bytesCached(){return t.Imt},get license(){return t.hO.Gw},start:function(){t.RN()},pause:function(){t.Pm()},remove:function(){t.Qh()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}};return n=new vR(t,["mvt","jft"],i),i}var Qq=function(){function t(t,n,i){this.Mht=t,this.Eat=n,this.Yht=i}var n=t.prototype;return n.Rmt=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Eat.Aat(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.Dmt(n));case 2:return i.next=4,Dr.awrap(t.Nmt(n));case 4:return i.next=6,Dr.awrap(t.Cmt(n));case 6:return i.next=8,Dr.awrap(t.Pmt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.Dmt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pat,i=this.Mht.P_,e.next=4,Dr.awrap(n.Qh(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.Nmt=function(t){var n,i,e,r,s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.mat,i=t.$K,nm(e=this.Mht.cN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=sH(e.src),h.next=8,Dr.awrap(n.wat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Hs(t.references,a.Mht.P_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Us((o=s[u]).references,this.Mht.P_),0!==o.references.length){h.next=20;break}return h.next=16,Dr.awrap(n.Qh(o.key));case 16:return h.next=18,Dr.awrap(i.Qh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Dr.awrap(n.oat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,We)},n.Cmt=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.yat,i=this.Bmt(),o.next=4,Dr.awrap(n.sat(i));case 4:e=o.sent.filter(function(t){return Hs(t.references,u.Mht.P_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Us((s=e[r]).references,this.Mht.P_),0!==s.references.length){o.next=14;break}return o.next=12,Dr.awrap(n.Qh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Dr.awrap(n.oat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n.Bmt=function(){if(!this.Yht)return[];var t=this.Mht.cN.sources[0];if(!nm(t))return[];var n=sH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Rvt;i<e.length;i++)for(var r=0,s=e[i].Ovt;r<s.length;r++)for(var u=0,o=s[r].VA;u<o.length;u++)for(var a=0,h=o[u].M_;a<h.length;a++){var c=h[a];c.jvt&&n.push(c.jvt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Yht).map(function(t){return{src:t}}).map(function(t){return sH(t.src)});return[n].concat(i)},n.Pmt=function(t){var n,i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.bat,u.next=3,Dr.awrap(n.vat());case 3:i=u.sent.filter(function(t){return Hs(t.references,s.Mht.P_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Us((r=i[e]).references,this.Mht.P_),0!==r.references.length){u.next=14;break}return u.next=11,Dr.awrap(n.Qh(r.key));case 11:this.Omt(r),u.next=16;break;case 14:return u.next=16,Dr.awrap(n.oat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.Omt=function(t){},t}(),Zq=new(function(){function t(){}return t.prototype.yK=function(t,n,i){return new Qq(t,n,i)},t}());var Kq=function(){function t(t,n){this.Ww=void 0,this.Sw=t,this.xmt=n}var n=t.prototype;return n.Lmt=function(t){this.Mmt(t)},n.Mmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.xmt.umt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Sw.cvt(nW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},A(t,[{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{renew:function(n){t.Lmt(n)}})),this.Ww}}]),t}(),Jq=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bh=void 0,o.svt=void 0,o.Ww=void 0,o.crt=void 0,o.Umt=void 0,o.Eat=void 0,o.xmt=void 0,o.Xmt=new Js,o.Hmt=void 0,o.evictOnLoading=function(){o.tu("jft",o.evictOnLoading),o.Fmt()},o.Bh=n,o.crt=i,o.Umt=e,o.Eat=r,o.xmt=s.yK(Kt(o),o.Eat,u),o.Hmt=new Kq(Kt(o),o.xmt),o.svt=1===o.xmt.Qgt.Evt?nW.DONE:nW.IDLE,o.xmt.Zs("mvt",function(t){o.js(t),1===o.Smt&&o.cvt(nW.DONE)});var h=new Date,c=o.Umt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.Fmt()},c),o}S(n,t);var i=n.prototype;return i.cvt=function(t){this.svt!==t&&(this.svt=t,this.Qs(new eW))},i.RN=function(){this.svt===nW.EVICTED||this.svt===nW.DONE||this.zmt()},i.zmt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.cvt(nW.LOADING),t=new Js,this.Xmt=t,n.next=6,Dr.awrap(this.xmt.Zgt(t.Ws));case 6:this.cvt(nW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),tu(n.t0)?this.cvt(nW.IDLE):this.cvt(nW.ERROR);case 12:return n.prev=12,this.Xmt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.Pm=function(){this.Xmt.Fs()},i.Qh=function(){this.zl===nW.LOADING?(this.Zs("jft",this.evictOnLoading),this.Pm()):this.Fmt()},i.Fmt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.xmt.smt());case 3:return t=n.sent,n.next=6,Dr.awrap(Zq.yK(this,this.Eat,t).Rmt());case 6:this.xmt.Qgt=_W.Tvt(),this.cvt(nW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.cvt(nW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=jq(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"hO",get:function(){return this.Hmt}},{key:"zl",get:function(){return this.svt}},{key:"cN",get:function(){return this.crt}},{key:"wc",get:function(){return this.Umt}},{key:"Hg",get:function(){return this.xmt.Qgt.oC}},{key:"Amt",get:function(){return this.xmt.Qgt.Avt}},{key:"Tmt",get:function(){return this.xmt.Qgt.bvt}},{key:"Smt",get:function(){return this.xmt.Qgt.Evt}},{key:"Emt",get:function(){return this.xmt.lmt}},{key:"Imt",get:function(){return this.xmt.Qgt.Svt}}]),n}(Lg);var $q=function(){function t(t,n){this.Eat=t,this.Vmt=n}var n=t.prototype;return n.dvt=function(t,n,i){var e=YE();return this.vvt(e,t,n,i)},n.vvt=function(t,n,i,e){return new Jq(t,n,i,this.Eat,this.Vmt,e)},t}(),tY=30,nY=5;function iY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!vs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&vs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+tY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return nY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var eY,rY,sY,uY,oY,aY,hY=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ww=void 0,e.Wmt=n,e.mU=i,e.Wmt.Zs("jft",e.js),e}return S(n,t),n.prototype.Gmt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=dE(t),r=iY(n),eE(e))throw new v("Invalid source description");return this.Wmt.vvt(e,r).Gw},A(n,[{key:"Gw",get:function(){var t,n,i;return this.Ww||(this.Ww=(i={get status(){return t.zl},get tasks(){return t.gvt},get network(){return t.CU.Gw},createTask:function(n,i){return t.Gmt(n,i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new lR(t=this,i),i)),this.Ww}},{key:"zl",get:function(){return this.Wmt.zl}},{key:"gvt",get:function(){return this.Wmt.gvt.Gw}},{key:"CU",get:function(){return this.mU}}]),n}(Lg);(eY=new YI(i.Xw,!1),rY=pH.Yn,sY=new Yq(eY),uY=new $q(rY,sY),oY=new QI(eY),aY=new vW(rY.pat,uY,"persistent"),new hY(aY,oY)).Gw;var cY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bh=void 0,s.svt=void 0,s.Ww=void 0,s.crt=void 0,s.Umt=void 0,s.ua=0,s.qmt=uS.fC(),s.Ymt=0,s.jmt=0,s.Wmt=void 0,s.Bh=n,s.svt=nW.IDLE,s.crt=i,s.Umt=e,s.Wmt=r,s}S(n,t);var i=n.prototype;return i.RN=function(){this.Wmt.startCachingTask(this)},i.Qh=function(){this.Wmt.removeCachingTask(this)},A(n,[{key:"Gw",get:function(){return this.Ww||(this.Ww=jq(this)),this.Ww}},{key:"P_",get:function(){return this.Bh}},{key:"zl",get:function(){return this.svt},set:function(t){this.svt!==t&&(this.svt=t,this.Qs(new eW))}},{key:"cN",get:function(){return this.crt}},{key:"wc",get:function(){return this.Umt}},{key:"Hg",get:function(){return this.ua},set:function(t){this.ua=t}},{key:"Amt",get:function(){return this.qmt},set:function(t){this.qmt=t}},{key:"Tmt",get:function(){return this.Ymt},set:function(t){this.Ymt=t}},{key:"Smt",get:function(){return this.jmt},set:function(t){this.jmt=t,this.Qs(new wW)}}]),n}(Mg),fY=30;function vY(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+fY),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var lY=function(t){function n(){var n;return(n=t.call(this)||this).svt=uW.UNINITIALISED,n.GU=new fW,n.Oct=void 0,n.Zct=void 0,n.Qmt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.zl=nW.EVICTED,i.Smt=0,i.Tmt=0,i.Hg=0,i.Amt=uS.fC(),n.GU.Qh(i))}},n.Zmt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.zl=e);var r=t.detail.percentage;r&&(i.Smt=r);var s=t.detail.duration;s&&(i.Hg=s);var u=t.detail.seconds;u&&(i.Tmt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Amt=new uS(a)}}}},n.Kmt=function(t){if(t.detail){var i=dE(JSON.parse(t.detail.source));if(!n.Jmt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.vvt(i,vY(e),s)}}},n.$mt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.vvt(dE(r),vY(i),s);u.zl=t.detail.status,u.Smt=t.detail.percentage,u.Hg=t.detail.duration,u.Tmt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.Amt=new uS(a)}},n.tyt=function(t){t.detail&&n.cvt(t.detail.status)},n.Oct=new KV,n.Zct=new DV,AV().cache={sdkEventBus:n.Zct},n.Vft(),n}S(n,t);var i=n.prototype;return i.cvt=function(t){this.svt!==t&&(this.svt=t,this.Qs(new eW))},i.vvt=function(t,n,i){void 0===i&&(i=void 0);var e=new cY(i||YE(),t,n,this);return this.GU.Sy(e),i||this.Oct.rK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.P_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.GU.Zft;n<i.length;n++){var e=i[n];if(e.P_===t)return e}},i.Jmt=function(t){for(var n=wY(t.sources),i=0,e=this.GU.Zft;i<e.length;i++){if(wY(e[i].cN.sources).src===n.src)return!0}return!1},i.Vft=function(){this.Zct.addEventListener("deleteTask",this.Qmt),this.Zct.addEventListener("updateValues",this.Zmt),this.Zct.addEventListener("newTask",this.Kmt),this.Zct.addEventListener("restoreTask",this.$mt),this.Zct.addEventListener("setCacheStatus",this.tyt)},i.startCachingTask=function(t){this.Oct.rK("THEOplayerCacheStartCachingTask",{id:t.P_})},i.removeCachingTask=function(t){this.Oct.rK("THEOplayerCacheRemoveCachingTask",{id:t.P_})},A(n,[{key:"zl",get:function(){return this.svt}},{key:"gvt",get:function(){return this.GU}}]),n}(wu),dY=function(t){function n(n){var i;return(i=t.call(this,n)||this).nyt=n,i.nyt.Zs("jft",i.js),i}return S(n,t),n.prototype.Gmt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=dE(t),e=vY(n),eE(i))throw new v("Invalid source description");if(!wY(i.sources))throw new v("The provided sources can't be cached");return this.nyt.vvt(i,e).Gw},n}(hY);function wY(t){for(var n=0;n<t.length;n++){var i=t[n];if(Kg(i.type))return i}}var _Y,gY,mY=function(){var t=new lY;return new dY(t)}().Gw;!function(t){t.iyt="any",t.eyt="natural",t.ryt="landscape",t.syt="portrait",t.uyt="portrait-primary",t.oyt="portrait-secondary",t.ayt="landscape-primary",t.hyt="landscape-secondary"}(_Y||(_Y={})),function(t){t.uyt="portrait-primary",t.oyt="portrait-secondary",t.ayt="landscape-primary",t.hyt="landscape-secondary"}(gY||(gY={}));var yY,kY,pY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Oct=new KV,n.cyt=_Y.eyt,n.fyt=gY.uyt,n.vyt=gY.uyt,n.lyt=gY.uyt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.cyt=t,n.Oct.rK("THEOplayerOrientationLock",t),n.dyt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.cyt=_Y.eyt,t.Oct.rK("THEOplayerOrientationUnlock"),t.type=t.vyt,t.dyt(),n()})},i.dyt=function(){var t=this.lyt,n=this.type;t!==n&&(this.lyt=n,this.Qs(new gu("change")))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n.wyt=function(t){switch(t){case _Y.uyt:return[gY.uyt];case _Y.oyt:return[gY.oyt];case _Y.syt:return[gY.uyt,gY.oyt];case _Y.ayt:return[gY.ayt];case _Y.hyt:return[gY.hyt];case _Y.ryt:return[gY.ayt,gY.hyt];case _Y.eyt:return[gY.uyt,gY.ayt,gY.hyt];case _Y.iyt:return[gY.uyt,gY.oyt,gY.ayt,gY.hyt]}},n._yt=function(t,i){return n.wyt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.fyt},set:function(t){this.vyt=t,n._yt(t,this.cyt)?(this.fyt=t,this.dyt()):(t===gY.ayt&&this.cyt===_Y.hyt&&(this.fyt=gY.hyt,this.dyt()),t===gY.hyt&&this.cyt===_Y.ayt&&(this.fyt=gY.ayt,this.dyt()))}},{key:"angle",get:function(){switch(this.type){case gY.ayt:return-90;case gY.hyt:return 90;case gY.uyt:return 0;case gY.oyt:return 180;default:return 0}}}]),n}(Mg);pY.Yn=new pY,r.screen.orientation=pY.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.gyt="unavailable",t.myt="available",t.yyt="presenting"}(yY||(yY={})),zR(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.xm=function(n){t.prototype.xm.call(this,n);var i=this.Gw;this.Gw.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===yY.yyt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(_Y.hyt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},MR.OU),function(t){t.Hw="addtrack",t.zw="removetrack",t.r_="change",t.c_="update"}(kY||(kY={}));var bY=function(t,n,i){this.type=kY.r_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},AY=function(t,n){this.type=kY.Hw,this.mediaType=t,this.mediaTrack=n},TY=function(t,n){this.type=kY.zw,this.mediaType=t,this.mediaTrack=n},SY=function(t,n){this.type=kY.c_,this.mediaType=t,this.mediaTrack=n},EY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.kyt=function(t){var n=new bY(e.type,t.track,e.mediaTracks);e.messageDispatcher.pyt(n)},this.byt=function(t){var n=new AY(e.type,t.track);e.messageDispatcher.pyt(n),t.track.addEventListener("update",e.Ayt)},this.Tyt=function(t){var n=new TY(e.type,t.track);e.messageDispatcher.pyt(n)},this.Ayt=function(t){var n=new SY(e.type,t.track);e.messageDispatcher.pyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Vft()}return t.prototype.Vft=function(){this.mediaTracks.addEventListener("change",this.kyt),this.mediaTracks.addEventListener("addtrack",this.byt),this.mediaTracks.addEventListener("removetrack",this.Tyt)},t}(),IY=function(){function t(){this.Syt=void 0,this.Syt=new KV}return t.prototype.pyt=function(t){this.Syt.rK(t.type,aF(t))},t}();GR(function(t){if(t.Gw.audioTracks){var n=new IY;new EY("audio",t.Gw.audioTracks,n)}if(t.Gw.videoTracks){var i=new IY;new EY("video",t.Gw.videoTracks,i)}});var RY,DY="nativePromiseCallback",NY=function(t){function n(n){var i;return(i=t.call(this,DY)||this).detail=n,i}return S(n,t),n}(gu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(RY||(RY={}));var CY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new NY(n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(DV),PY=function(){function t(){var t=this;this.Syt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case RY.RESOLVE:i.Wu(n.detail.data);break;case RY.REJECT:i.Gu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new CY;AV().nativePromise={sdkEventBus:n},n.addEventListener(DY,this.handleNativePromiseEvent)}return t.prototype.Eyt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Go;return this.promisesMap[e]=s,null==(i=this.Syt)||i.rK(n.type,uF(r)),s.Hu},t}();PY.messageIdTracker=-1;var BY,OY=function(t){function n(){var n;return(n=t.call(this)||this).Syt=new KV,n}return S(n,t),n}(PY),xY=function(){function n(t){this.playerID=t}return n.prototype.rK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),LY=function(t){function n(n){var i;return(i=t.call(this)||this).Syt=new xY(n),i}return S(n,t),n}(PY);!function(t){t.Hw="TextTrackListAddTrack",t.zw="TextTrackListRemoveTrack",t.r_="TextTrackListChange"}(BY||(BY={}));var MY,UY=function(t){this.type=BY.Hw,this.textTrack=t},XY=function(t){this.type=BY.zw,this.textTrack=t},HY=function(t){this.type=BY.r_,this.textTrack=t};!function(t){t.jw="TextTrackAddCue",t.Zw="TextTrackRemoveCue",t.Jw="TextTrackEnterCue",t.t_="TextTrackExitCue",t.i_="TextTrackCueChange"}(MY||(MY={}));var FY,zY=function(t,n){this.type=MY.jw,this.textTrackCue=t,this.textTrackUid=n},VY=function(t,n){this.type=MY.Zw,this.textTrackCue=t,this.textTrackUid=n},WY=function(t,n){this.type=MY.Jw,this.textTrackCue=t,this.textTrackUid=n},GY=function(t,n){this.type=MY.t_,this.textTrackCue=t,this.textTrackUid=n},qY=function(t){this.type=MY.i_,this.textTrackUid=t};!function(t){t.Uy="TextTrackCueEnter",t.Hy="TextTrackCueExit",t.c_="TextTrackCueUpdate"}(FY||(FY={}));var YY=function(t){this.type=FY.Uy,this.textTrackCue=t},jY=function(t){this.type=FY.Hy,this.textTrackCue=t},QY=function(t){this.type=FY.c_,this.textTrackCue=t},ZY=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Iyt=function(t){var i=KY(t.cue),e=new YY(i);n.messageDispatcher.Eyt(e).then()},this.Ryt=function(t){var i=KY(t.cue),e=new jY(i);n.messageDispatcher.Eyt(e).then()},this.Dyt=function(t){var i=KY(t.cue),e=new QY(i);n.messageDispatcher.Eyt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.Vft=function(t){t.addEventListener("enter",this.Iyt),t.addEventListener("exit",this.Ryt),t.addEventListener("update",this.Dyt)},n.uu=function(t){t.removeEventListener("enter",this.Iyt),t.removeEventListener("exit",this.Ryt),t.removeEventListener("update",this.Dyt)},t}();function KY(t){var n=_V(t,t.track.type);return delete n.track,n}var JY=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Nyt=function(t){var n,e=KY(t.cue),r=new zY(e,t.cue.track.uid);i.messageDispatcher.Eyt(r).then(),null==(n=i.textTrackCueBridge)||n.Vft(t.cue)},this.Cyt=function(t){var n,e=KY(t.cue),r=new VY(e,t.cue.track.uid);i.messageDispatcher.Eyt(r).then(),null==(n=i.textTrackCueBridge)||n.uu(t.cue)},this.Iyt=function(t){var n=KY(t.cue),e=new WY(n,t.cue.track.uid);i.messageDispatcher.Eyt(e).then()},this.Ryt=function(t){var n=KY(t.cue),e=new GY(n,t.cue.track.uid);i.messageDispatcher.Eyt(e).then()},this.Pyt=function(t){var n=new qY(t.track.uid);i.messageDispatcher.Eyt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new ZY(e))}var n=t.prototype;return n.Vft=function(t){t.addEventListener("addcue",this.Nyt),t.addEventListener("removecue",this.Cyt),t.addEventListener("entercue",this.Iyt),t.addEventListener("exitcue",this.Ryt),t.addEventListener("cuechange",this.Pyt)},n.uu=function(t){t.removeEventListener("addcue",this.Nyt),t.removeEventListener("removecue",this.Cyt),t.removeEventListener("entercue",this.Iyt),t.removeEventListener("exitcue",this.Ryt),t.removeEventListener("cuechange",this.Pyt)},n.initMessageDispatcher=function(t){return M.Vn?new OY:M.Wn&&void 0!==t?new LY(t):void 0},t}(),$Y=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.byt=function(t){var n,i=new UY(t.track);e.messageDispatcher.Eyt(i).then(),null==(n=e.textTrackBridge)||n.Vft(t.track)},this.Tyt=function(t){var n,i=new XY(t.track);e.messageDispatcher.Eyt(i).then(),null==(n=e.textTrackBridge)||n.uu(t.track)},this.Byt=function(t){var n=new HY(t.track);e.messageDispatcher.Eyt(n).then()},this.Oyt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.xyt(i);r&&(this.textTrackBridge=new JY(r,i)),this.Vft(),this.sdkEventBus=new DV,AV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Oyt)}var n=t.prototype;return n.Vft=function(){this.textTracks.addEventListener("addtrack",this.byt),this.textTracks.addEventListener("removetrack",this.Tyt),this.textTracks.addEventListener("change",this.Byt)},n.xyt=function(t){return M.Vn?new OY:M.Wn&&void 0!==t?new LY(t):void 0},t}();GR(function(t){if(t.Gw.textTracks){var n=new OY;new $Y(t.Gw.textTracks,n)}});var tj,nj,ij=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case tj.Lyt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qs(new ej(i));break;default:0}},n}(DV),ej=function(t){function n(n){var i;return(i=t.call(this,tj.Lyt)||this).detail=n,i}return S(n,t),n}(gu);!function(t){t.Lyt="registerContentProtectionIntegration"}(tj||(tj={})),function(t){t.Myt="certifiateRequest",t.Uyt="certifiateResponse",t.Xyt="licenseRequest",t.Hyt="licenseResponse",t.Fyt="extractFairplayContentId",t.zyt="buildContentProtection",t.Vyt="registerContentProtectionCallback"}(nj||(nj={}));var rj,sj,uj=function(t,n){this.type=nj.Vyt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(rj||(rj={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(sj||(sj={}));var oj=function(t,n){this.type=nj.zyt,this.value=t,this.integrationId=n},aj=function(t,n){this.type=nj.Myt,this.value=t,this.integrationId=n},hj=function(t,n){this.type=nj.Uyt,this.value=t,this.integrationId=n},cj=function(t,n){this.type=nj.Fyt,this.value=t,this.integrationId=n},fj=function(t,n){this.type=nj.Xyt,this.value=t,this.integrationId=n},vj=function(t,n){this.type=nj.Hyt,this.value=t,this.integrationId=n},lj=function(){function t(t,n){this.Wyt=void 0,this.pI=void 0,this.Wyt=t,this.pI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new aj(i,this.pI),a.prev=2,a.next=5,Dr.awrap(this.Wyt.Eyt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.Gyt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.qyt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new Zm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new hj(e,this.pI),o.next=5,Dr.awrap(this.Wyt.Eyt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new fj(e,this.pI),h.prev=3,h.next=6,Dr.awrap(this.Wyt.Eyt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.Gyt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.qyt(u)){h.next=17;break}return a=new y(u),h.abrupt("return",a);case 17:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new Zm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new vj(r,this.pI),a.next=6,Dr.awrap(this.Wyt.Eyt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new Zm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new cj(t,this.pI),r.next=3,Dr.awrap(this.Wyt.Eyt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new Zm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Gyt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.qyt=function(t){return!!new y(t)},t}(),dj=function(){function t(t){this.Wyt=void 0,this.Wyt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new lj(this.Wyt,t.integration),i=new oj({drmConfiguration:t},t.integration);return this.Wyt.Eyt(i),n},t}(),wj=function(t){function n(){var n;return(n=t.call(this)||this).Wyt=new OY,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.Wyt}}]),n}(function(){var t=this;this.Zct=void 0,this.Yyt=function(n){var i=new dj(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:Wb.II.AI(r,s,i)};t.messageDispatcher.Eyt(new uj(u,r))},this.Zct=new ij,AV().contentProtectionIntegration={sdkEventBus:this.Zct},this.Zct.addEventListener(tj.Lyt,this.Yyt)});GR(function(t){new wj});var _j=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(gu);var gj,mj=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jyt=function(){},e.Qyt(),e}S(n,t);var e=n.prototype;return e.Zyt=function(){this.mN&&this.mN.tu(bf.sf,this.handleAirplayChangedEvent),this.mN=this.Zx,this.mN.Zs(bf.sf,this.handleAirplayChangedEvent)},e.Kyt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mN){t.next=2;break}return t.abrupt("return");case 2:this.Jyt(HS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e.$yt=function(){this.Jyt(HS.AVAILABLE)},e.Mm=function(){i.Lr.ze&&(this.tkt.Xm(),this.nkt.Fs(),this.nkt=new Js,hu(this.ikt(this.nkt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Ww=void 0,e.tkt=void 0,e.mN=void 0,e.Zx=void 0,e.me=HS.UNAVAILABLE,e.nkt=new Js,e.jyt=void 0,e.handleAirplayChangedEvent=function(){e.mN&&e.mN.ey?e.Kyt():e.uQ===HS.CONNECTED&&e.$yt()},e.tkt=n,e.Zx=i,e}S(n,t);var e=n.prototype;return e.Qyt=function(){this.Zyt(),this.tkt.Zs("sourcechange",this.jyt),i.Lr.ze&&this.Jyt(HS.AVAILABLE)},e.preloadPlayer=function(t){if(nu(t),this.mN.Y_<qg.Dg){var n=this.mN.au("loadedmetadata",t);return this.mN.yy=JT.Kb,n}return We.resolve()},e.Jyt=function(t){t!==this.me&&(this.me=t,this.Qs(new _j(this.me)))},e.ikt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.preloadPlayer(t));case 2:this.Zx.Mm();case 3:case"end":return n.stop()}},null,this,null,We)},e.Um=function(){i.Lr.ze&&this.mN.Um()},e.Sd=function(){this.$s(),this.tkt.tu("sourcechange",this.jyt),this.nkt.Fs()},A(n,[{key:"IM",get:function(){return this.uQ===HS.CONNECTED}},{key:"uQ",get:function(){return this.me}},{key:"Gw",get:function(){var t;return this.Ww||(this.Ww=(t=this,{get casting(){return t.IM},get state(){return t.uQ},start:function(){t.Mm()},stop:function(){t.Um()},addEventListener:function(n,i){var e=yg(n,gg);t.Zs(e,i)},removeEventListener:function(n,i){var e=yg(n,gg);t.tu(e,i)}})),this.Ww}}]),n}(wu));zR(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.qw=function(){var n=this.DU.Gw;return hg(t.prototype.qw.call(this),{get cast(){return n}})},n}(t)},MR.BU),zR(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ekt=void 0,e.ekt=new mj(Kt(e),e.kM),e.DU.RM(e.ekt),e.Zs("currentsourcechange",function(){e.ekt.Zyt()}),e}S(n,t);var i=n.prototype;return i.qw=function(){var n=this,i=t.prototype.qw.call(this);return hg(i.cast,{get airplay(){return n.ekt.Gw}}),i},i.Sd=function(){this.ekt.Sd(),t.prototype.Sd.call(this)},n}(t)},MR.BU),function(t){t.rkt="airplaystatechange"}(gj||(gj={}));var yj=function(t){this.type=gj.rkt,this.state=t},kj=function(t){function n(n){var i;return(i=t.call(this)||this).skt=void 0,i.ukt=function(t){var n=new yj(t.state);i.pyt(n)},i.skt=n,i.Vft(n),i}return S(n,t),n.prototype.Vft=function(t){t.addEventListener("statechange",this.ukt)},n}(IY);GR(function(t){var n;null!=(n=t.Gw.cast)&&n.airplay&&new kj(t.Gw.cast.airplay)}),n.ChromelessPlayer=hD,n.Player=hD,n.cache=mY,n.createGlobals=EV,n.features=vD,n.getCueMirrorMap=TV,n.getGlobalId=SV,n.getSdkEventBridge=AV,n.playerSuiteVersion="2022.4.1",n.players=lD,n.registerContentProtectionIntegration=dD,n.utils=fD,n.version="4.3.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
