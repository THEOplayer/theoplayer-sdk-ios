/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.3 (4.1.0)
 Created: 2022-09-27T14:15:41.463Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,c=t.clearTimeout,h=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,b=(t.WorkerGlobalScope,t.XMLHttpRequest);function p(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&p(t.prototype,n),i&&p(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=D?g(D[1]):0,this.Y=/Android/i.test(E),this.j=N?g(N[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.K=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=this.Z||this.ft||this.Y||this.ot,this.dt=/CriOS/i.test(E),this.wt=Boolean(t.chrome&&/google/i.test(o.vendor))||this.dt,this._t=this.wt&&/Edg\//i.test(o.userAgent),this.yt=R?_(R[1],10):0,this.kt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.bt=I?_(I[1],10):0,this.At=/SMART-TV.*Tizen/i.test(E),this.Tt=O?g(O[1]):0,this.St=/webos|web0s/i.test(E),this.Et=/Edge\/\d+/i.test(E),this.It=/Trident/i.test(E),this.Rt=this.It&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(E),this.Dt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Ct=P?g(P[1]):0,this.Pt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.At,this.Bt=C?g(C[2]):0,this.Ot=Boolean(B),this.xt=B?g(B[1]):0,this.Lt=/CrKey/.test(E),this.Mt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Ut="ios"===e.I,this.Xt="ios"===e.g,this.Ft=this.Xt||this.Ut,this.Ht="ios"===e.R,this.zt="ios"===e.N,this.Vt="ios"===e.M}return A(n,[{key:"Wt",get:function(){return this.U}},{key:"Gt",get:function(){return this.F}},{key:"qt",get:function(){return this.V}},{key:"Yt",get:function(){return this.G}},{key:"jt",get:function(){return this.Y}},{key:"Qt",get:function(){return this.j}},{key:"Zt",get:function(){return this.Z}},{key:"Kt",get:function(){return this.K}},{key:"Jt",get:function(){return this.J}},{key:"$t",get:function(){return this.nt}},{key:"in",get:function(){return this.ut}},{key:"un",get:function(){return this.ft}},{key:"cn",get:function(){return this.ct}},{key:"hn",get:function(){return this.ot}},{key:"fn",get:function(){return this.vt}},{key:"vn",get:function(){return this.dt}},{key:"dn",get:function(){return this.wt}},{key:"wn",get:function(){return this.bt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.yt}},{key:"pn",get:function(){return this.At}},{key:"An",get:function(){return this.Tt}},{key:"Tn",get:function(){return this.St}},{key:"Sn",get:function(){return this.Et}},{key:"En",get:function(){return this.It}},{key:"In",get:function(){return this.Rt}},{key:"Rn",get:function(){return this.Nt}},{key:"Nn",get:function(){return this.Dt}},{key:"Dn",get:function(){return this.Ct}},{key:"Cn",get:function(){return this.Pt}},{key:"Pn",get:function(){return this.Bt}},{key:"Bn",get:function(){return this.Ot}},{key:"On",get:function(){return this.xt}},{key:"xn",get:function(){return this.Lt}},{key:"Ln",get:function(){return this.Mt}},{key:"Mn",get:function(){return!(!this.Tn&&!this.pn)&&this.wn<=56}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ft}},{key:"Hn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.zt}},{key:"Vn",get:function(){return this.Vt}},{key:"Wn",get:function(){return this.kt}}]),n}();x.Gn=new x;var L=x.Gn,M={}.hasOwnProperty,U={}.toString;function X(t){return null!=t}function F(t){return void 0===t}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function z(t){return V(t)&&M.call(t,"length")&&Q(t.length)}function V(t){return"object"==typeof t&&null!==t}function W(t){return V(t)&&t.constructor&&t.constructor===d}function G(t){return"string"==typeof t}function q(t){return"boolean"==typeof t}function Y(t){return Boolean(t)&&"function"==typeof t.then}function j(t){return"[object Date]"===U.call(t)}function Q(t){return"number"==typeof t}var Z=function(){},K=function(t){return t};function J(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,c=e&&!r;void 0!==r&&i.qn(r),r=i.Yn(function(){r=void 0,e||t.apply(a,u)},n),c&&t.apply(a,u)}}var $=!(L.En&&!L.In),tt=t.console;function nt(t){if(V(t))try{return JSON.stringify(t)}catch(t){}return t}function it(t){return t.map(nt).join(" ")}function et(t){var n=tt&&tt[t];return n?n.bind&&$?n.bind(tt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];tt[t](it(i))}:void 0}var rt,st=et("log")||Z,ut=et("warn")||st.bind(void 0,"WARNING:"),ot=et("error")||st.bind(void 0,"ERROR:"),at=(rt=tt&&tt.assert)?rt.bind&&$?rt.bind(tt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];tt.assert(t,it(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ht(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ft(t){return!0===(t&&t.jn)}function vt(t){var n=w.clz32(t&-t);return t?31-n:n}ht.prototype.jn,d.defineProperty(ht.prototype,"jn",{value:!0}),ht.isLong=ft;var lt={},dt={};function wt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=dt[t])?e:(i=gt(t,0,!0),r&&(dt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=lt[t])?e:(i=gt(t,t<0?-1:0,!1),r&&(lt[t]=i),i)}function _t(t,n){if(m(t))return n?Et:St;if(n){if(t<0)return Et;if(t>=pt)return Ct}else{if(t<=-At)return Pt;if(t+1>=At)return Dt}return t<0?_t(-t,n).neg():gt(t%bt|0,t/bt|0,n)}function gt(t,n,i){return new ht(t,n,i)}ht.fromInt=wt,ht.fromNumber=_t,ht.fromBits=gt;var mt=w.pow;function yt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Et:St;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return yt(t.substring(1),n,i).neg();for(var r=_t(mt(i,8)),s=St,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var c=_t(mt(i,o));s=s.mul(c).add(_t(a))}else s=(s=s.mul(r)).add(_t(a))}return s.unsigned=n,s}function kt(t,n){return"number"==typeof t?_t(t,n):"string"==typeof t?yt(t,n):gt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ht.fromString=yt,ht.fromValue=kt;var bt=4294967296,pt=bt*bt,At=pt/2,Tt=wt(1<<24),St=wt(0);ht.ZERO=St;var Et=wt(0,!0);ht.UZERO=Et;var It=wt(1);ht.ONE=It;var Rt=wt(1,!0);ht.UONE=Rt;var Nt=wt(-1);ht.NEG_ONE=Nt;var Dt=gt(-1,2147483647,!1);ht.MAX_VALUE=Dt;var Ct=gt(-1,-1,!0);ht.MAX_UNSIGNED_VALUE=Ct;var Pt=gt(0,-2147483648,!1);ht.MIN_VALUE=Pt;var Bt=ht.prototype;Bt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Bt.toNumber=function(){return this.unsigned?(this.high>>>0)*bt+(this.low>>>0):this.high*bt+(this.low>>>0)},Bt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pt)){var n=_t(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=_t(mt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Bt.getHighBits=function(){return this.high},Bt.getHighBitsUnsigned=function(){return this.high>>>0},Bt.getLowBits=function(){return this.low},Bt.getLowBitsUnsigned=function(){return this.low>>>0},Bt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Bt.isZero=function(){return 0===this.high&&0===this.low},Bt.eqz=Bt.isZero,Bt.isNegative=function(){return!this.unsigned&&this.high<0},Bt.isPositive=function(){return this.unsigned||this.high>=0},Bt.isOdd=function(){return 1==(1&this.low)},Bt.isEven=function(){return 0==(1&this.low)},Bt.equals=function(t){return ft(t)||(t=kt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Bt.eq=Bt.equals,Bt.notEquals=function(t){return!this.eq(t)},Bt.neq=Bt.notEquals,Bt.ne=Bt.notEquals,Bt.lessThan=function(t){return this.comp(t)<0},Bt.lt=Bt.lessThan,Bt.lessThanOrEqual=function(t){return this.comp(t)<=0},Bt.lte=Bt.lessThanOrEqual,Bt.le=Bt.lessThanOrEqual,Bt.greaterThan=function(t){return this.comp(t)>0},Bt.gt=Bt.greaterThan,Bt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Bt.gte=Bt.greaterThanOrEqual,Bt.ge=Bt.greaterThanOrEqual,Bt.compare=function(t){if(ft(t)||(t=kt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Bt.comp=Bt.compare,Bt.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(It)},Bt.neg=Bt.negate,Bt.add=function(t){ft(t)||(t=kt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=r+(65535&t.low))>>>16,c+=(h+=e+o)>>>16,a+=(c+=i+u)>>>16,a+=n+s,gt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Bt.subtract=function(t){return ft(t)||(t=kt(t)),this.add(t.neg())},Bt.sub=Bt.subtract,Bt.multiply=function(t){if(this.isZero())return this;if(ft(t)||(t=kt(t)),ct)return gt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Et:St;if(this.eq(Pt))return t.isOdd()?Pt:St;if(t.eq(Pt))return this.isOdd()?Pt:St;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Tt)&&t.lt(Tt))return _t(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=r*a)>>>16,h+=(f+=e*a)>>>16,f&=65535,h+=(f+=r*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=e*o)>>>16,h&=65535,c+=(h+=r*u)>>>16,c+=n*a+i*o+e*u+r*s,gt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Bt.mul=Bt.multiply,Bt.divide=function(t){if(ft(t)||(t=kt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?gt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Et:St;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Et;if(t.gt(this.shru(1)))return Rt;e=Et}else{if(this.eq(Pt))return t.eq(It)||t.eq(Nt)?Pt:t.eq(Pt)?It:(n=this.shr(1).div(t).shl(1)).eq(St)?t.isNegative()?It:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Pt))return this.unsigned?Et:St;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=St}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:mt(2,r-48),u=_t(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=_t(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=It),e=e.add(u),i=i.sub(o)}return e},Bt.div=Bt.divide,Bt.modulo=function(t){return ft(t)||(t=kt(t)),ct?gt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Bt.mod=Bt.modulo,Bt.rem=Bt.modulo,Bt.not=function(){return gt(~this.low,~this.high,this.unsigned)},Bt.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Bt.clz=Bt.countLeadingZeros,Bt.countTrailingZeros=function(){return this.low?vt(this.low):vt(this.high)+32},Bt.ctz=Bt.countTrailingZeros,Bt.and=function(t){return ft(t)||(t=kt(t)),gt(this.low&t.low,this.high&t.high,this.unsigned)},Bt.or=function(t){return ft(t)||(t=kt(t)),gt(this.low|t.low,this.high|t.high,this.unsigned)},Bt.xor=function(t){return ft(t)||(t=kt(t)),gt(this.low^t.low,this.high^t.high,this.unsigned)},Bt.shiftLeft=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):gt(0,this.low<<t-32,this.unsigned)},Bt.shl=Bt.shiftLeft,Bt.shiftRight=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):gt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Bt.shr=Bt.shiftRight,Bt.shiftRightUnsigned=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):gt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Bt.shru=Bt.shiftRightUnsigned,Bt.shr_u=Bt.shiftRightUnsigned,Bt.rotateLeft=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?gt(this.high,this.low,this.unsigned):t<32?(n=32-t,gt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),gt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Bt.rotl=Bt.rotateLeft,Bt.rotateRight=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?gt(this.high,this.low,this.unsigned):t<32?(n=32-t,gt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),gt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Bt.rotr=Bt.rotateRight,Bt.toSigned=function(){return this.unsigned?gt(this.low,this.high,!1):this},Bt.toUnsigned=function(){return this.unsigned?this:gt(this.low,this.high,!0)},Bt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Bt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Bt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ht.fromBytes=function(t,n,i){return i?ht.fromBytesLE(t,n):ht.fromBytesBE(t,n)},ht.fromBytesLE=function(t,n){return new ht(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ht.fromBytesBE=function(t,n){return new ht(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ot=9007199254740991,xt=w.pow(2,-52);function Lt(t,n,i){return w.min(w.max(t,n),i)}function Mt(t,n,i){return t===n||w.abs(t-n)<=i}function Ut(t){return t!=t}function Xt(t,n){return t===n||Ut(t)&&Ut(n)}function Ft(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Ht(t){return!m(t.getTime())}function zt(){return Date.now()||(new Date).getTime()}function Vt(t){return t/1e3}function Wt(t){return 1e3*t}var Gt,qt=ht.fromNumber(Ot);function Yt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(qt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function jt(t){return t.Qn===Gt.Zn}function Qt(t){return t.Qn===Gt.Kn}function Zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Zn=1]="Zn",t[t.Jn=2]="Jn",t[t.Kn=3]="Kn",t[t.$n=4]="$n",t[t.ni=9]="ni"}(Gt||(Gt={}));var Kt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Kt.prototype=d.create(v.prototype)).constructor=Kt;var Jt=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Zt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Kt),$t=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Jt),tn=function(){function t(){}return t.prototype.ei=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new $t(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new $t;return new an(n)},t}(),nn=function(){function t(t){this.ri=void 0,this.ri=t}var n=t.prototype;return n.ui=function(t){return this.ri.isEqualNode(t.ri)},n.oi=function(n){return new t(this.ri.cloneNode(n))},A(t,[{key:"Qn",get:function(){return Gt.Jn}},{key:"ai",get:function(){var t;return null!=(t=this.ri.localName)?t:fn(this.ri.nodeName)}},{key:"ci",get:function(){return this.ri.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ri.namespaceURI)?t:void 0}},{key:"wi",get:function(){var t;return null!=(t=this.ri.prefix)?t:void 0}},{key:"_i",get:function(){return this.ri.nodeValue}}]),t}(),en=function(){function t(t){this.gi=void 0,this.Ai=void 0,this.gi=t}var n=t.prototype;return n.Ti=function(t){return this.Si.filter(function(n){return cn(n)&&n.Ei===t})},n.Ii=function(t,n){return this.Si.filter(function(i){return cn(i)&&i.ai===n&&i.di===t})},n.Ri=function(t){this.gi.appendChild(t.Ni),this.Ai&&this.Ai.push(t)},n.ui=function(t){return this.gi.isEqualNode(t.Ni)},A(t,[{key:"Si",get:function(){return void 0===this.Ai&&(this.Ai=function(t){for(var n=[],i=0;i<t.length;i++){var e=hn(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.Ai}},{key:"Di",get:function(){return this.Si.filter(cn)}},{key:"Ni",get:function(){return this.gi}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Ci=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Pi=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Bi=function(t){this.gi.removeAttribute(t)},i.Oi=function(t,n){this.gi.removeAttributeNS(t,n)},i.xi=function(t,n){this.gi.setAttribute(t,n)},i.Li=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.Zn}},{key:"ai",get:function(){var t;return null!=(t=this.gi.localName)?t:fn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"wi",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"Ei",get:function(){return this.gi.nodeName}},{key:"Mi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new nn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ui",get:function(){return this.gi.textContent}}]),n}(en),sn=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ui=function(t){return this.Xi===t.Xi},A(t,[{key:"Xi",get:function(){return this.gi.nodeValue}},{key:"Ni",get:function(){return this.gi}}]),t}(),un=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.Kn}}]),n}(sn),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.$n}}]),n}(sn),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.ni}},{key:"Fi",get:function(){return new rn(this.gi.documentElement)}}]),n}(en);function cn(t){return jt(t)}function hn(t){switch(t.nodeType){case Gt.Zn:return new rn(t);case Gt.Kn:return new un(t);case Gt.$n:return new on(t)}}function fn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function vn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function ln(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){dn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&dn(i,null,t.length,t),t}function dn(t,n,i,e){var r,s,u,o,a,c=t.length,h=0,f=2*i;for(r=0;r<c;r+=f)for(u=(s=r+i)+i,s>c&&(s=c),u>c&&(u=c),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<s)e[h++]=t[o++];else{if(!(a<u))break;e[h++]=t[a++]}}var wn=/[a-zA-Z]/,_n=/[0-9]/,gn=/[0-9a-fA-F]/,mn=/^0x/i,yn=/^[0-9]+$/,kn=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,pn=d.prototype.toString,An=Array.isArray||function(t){return"[object Array]"===pn.call(t)},Tn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Sn(t){return An(t)?t:Array.from(t)}function En(t){return t>=65&&t<=90}function In(t){return En(t)||function(t){return t>=97&&t<=122}(t)}function Rn(t){return t>=48&&t<=57}function Nn(t){return Rn(t)||In(t)}function Dn(t){return Rn(t)||t>=65&&t<=70||t>=97&&t<=102}function Cn(t){return En(t)?t+32:t}function Pn(t){return Rn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Bn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var On=w.min,xn=String.fromCharCode,Ln=16384;function Mn(t){for(var n=t.length,i=[],e=0;e<n;e+=Ln){var r=On(e+Ln,n);i.push(xn.apply(null,t.slice(e,r)))}return i.join("")}var Un=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Fn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Hn=w.floor,zn=String.fromCharCode;function Vn(t){throw new RangeError(Fn[t])}function Wn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Gn,qn,Yn,jn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qn=function(t,n,i){var e=0;for(t=i?Hn(t/700):t>>1,t+=Hn(t/n);t>455;e+=36)t=Hn(t/35);return Hn(e+36*t/(t+38))},Zn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Un.test(t)?"xn--"+function(t){for(var n=[],i=(t=Wn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(zn(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=h+1;f-e>Hn((2147483647-r)/w)&&Vn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Vn("overflow"),m==e){for(var y=r,k=36;;k+=36){var b=k<=s?1:k>=s+26?26:k-s;if(y<b)break;var p=y-b,A=36-b;n.push(zn(jn(b+p%A,0))),y=Hn(p/A)}n.push(zn(jn(y,0))),s=Qn(r,w,h==c),r=0,++h}}++r,++e}return n.join("")}(t):t})};function Kn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Mn(n)}function Jn(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $n(t,n){return t>>n&63|128}function ti(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Jn(t),n.push(t>>12&15|224),n.push($n(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($n(t,12)),n.push($n(t,6))),n.push(63&t|128)):n.push(t)}function ni(t){for(var n=[],i=0;i<t.length;i++){ti(t[i],n)}return n}function ii(){if(Yn>=qn)throw new v("Invalid byte index");var t=255&Gn[Yn];if(Yn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ei(){var t,n;if(Yn>qn)throw new v("Invalid byte index");if(Yn===qn)return!1;if(t=255&Gn[Yn],Yn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ii())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ii()<<6|ii())>=2048)return Jn(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ii()<<12|ii()<<6|ii())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function ri(t){return[37,Bn(t>>4),Bn(15&t)]}function si(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ui(t){return si(t)||32===t||34===t||60===t||62===t||96===t}function oi(t){return ui(t)||35===t||63===t||123===t||125===t}function ai(t){return oi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ci(t){return t<33||t>126||34===t||35===t||60===t||62===t}function hi(t){return ci(t)||39===t}function fi(t,n){if(!n(t))return[t];for(var i=ni([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ri(s))}return e}function vi(t,n){for(var i=[],e=0,r=Wn(t);e<r.length;e++){var s=r[e];i.push.apply(i,fi(s,n))}return Kn(i)}function li(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Dn(t[e+1])&&Dn(t[e+2])){var s=Pn(t[e+1])<<4|Pn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ni(t))}function di(t){return Kn(function(t){Gn=t.slice(),qn=Gn.length,Yn=0;for(var n,i=[];!1!==(n=ei());)i.push(n);return i}(li(Wn(t))))}function wi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<s&&":"===t[c]){if(!(c+1<s&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<s;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<s&&gn.test(t[c]);)h=h<<4|_(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<s;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!_n.test(t[c]))throw new l;for(;c<s&&_n.test(t[c]);){var w=_(t[c],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}c+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===s)throw new l}else if(c<s)throw new l;u[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function _i(t){var n=10,i=yn;return mn.test(t)?(t=t.slice(2),n=16,i=kn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var gi={Hi:4},mi=/[\0\t\n\r #%/:?@\[\\\]]/,yi=/[\0\t\n\r #/:?@\[\\\]]/;function ki(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Hi:2,zi:wi(t.slice(1,-1))}}if(!n)return function(t){if(yi.test(t))throw new l("Invalid code point in opaque host");var n=vi(t,si);return""===n?gi:{Hi:3,Vi:n}}(t);var i=function(t){return function(t){return Zn(t.toLowerCase())}(t)}(di(t));if(mi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=_i(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Hi:1,zi:e}:""===i?gi:{Hi:0,Wi:i}}function bi(t){switch(t.Hi){case 0:return t.Wi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.zi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.zi)+"]";case 3:return t.Vi;case 4:return""}}var pi=/\+/g;function Ai(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(pi," "),o=o.replace(pi," ");var a=di(u),c=di(o);i.push([a,c])}}return i}function Ti(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Si(ni(Wn(e[0])))+"="+Si(ni(Wn(e[1])))}return n}function Si(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,ri(r))}return Mn(i)}var Ei=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ii(t){var n=""+t,i=Ei.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Di(s)||r===i-1)e.push(Ri);else{var u=t.charCodeAt(r+1);Di(u)?(e.push(s,u),r++):e.push(Ri)}else e.push(s)}return t.slice(0,n)+Mn(e)}(n,i.index):n}var Ri=65533,Ni=function(t){return 55296==(63488&t)},Di=function(t){return 0!=(1024&t)};function Ci(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Pi(t){t.Gi.length=0}function Bi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Gi,Ai(n))}function Oi(t){if(t.qi){var n=Ti(t.Gi);""===n&&(n=null),t.qi.qi.Yi=n}}var xi=function(){function t(t){if(void 0===t&&(t=void 0),this.qi=null,null==t)this.Gi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof xi&&An(s.Gi)&&(!Tn||s[Symbol.iterator]===Li))this.Gi=t.Gi.slice();else if(function(t){return null!=t&&(!!An(t)||!!Tn&&"function"==typeof t[Symbol.iterator])}(t)){this.Gi=[];for(var n=0,i=Sn(t);n<i.length;n++){var e=Sn(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Gi.push([Ii(e[0]),Ii(e[1])])}}else for(var r in this.Gi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Gi.push([Ii(r),Ii(t[r])]);else(t=Ii(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Gi=Ai(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ii(t),n=Ii(n),this.Gi.push([t,n]),Oi(this)},n.delete=function(t){t=Ii(t);for(var n=this.Gi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Oi(this)},n.get=function(t){t=Ii(t);for(var n=this.Gi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ii(t);for(var n=this.Gi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ii(t);for(var n=this.Gi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ii(t),n=Ii(n);for(var i=this.Gi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Oi(this)},n.sort=function(){ln(this.Gi,Ci),Oi(this)},n.toString=function(){return Ti(this.Gi)},n.entries=function(){return new Fi(this.Gi,Mi)},n.keys=function(){return new Fi(this.Gi,Ui)},n.values=function(){return new Fi(this.Gi,Xi)},n.forEach=function(t){var n=this;this.Gi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Li=xi.prototype.entries;Tn&&(xi.prototype[Symbol.iterator]=Li);var Mi=function(t){return[t[0],t[1]]},Ui=function(t){return t[0]},Xi=function(t){return t[1]},Fi=function(){function t(t,n){this.ji=0,this.Gi=t,this.Qi=n}return t.prototype.next=function(){return this.ji<this.Gi.length?{done:!1,value:this.Qi(this.Gi[this.ji++])}:{done:!0,value:void 0}},t}(),Hi="null";var zi=d.create(null);zi.ftp=21,zi.file=0,zi.gopher=70,zi.http=80,zi.https=443,zi.ws=80,zi.wss=443;var Vi=/^(?:\.|%2e)$/i,Wi=/^(?:\.|%2e){2}$/i;function Gi(t){return Vi.test(t)}function qi(t){return Wi.test(t)}function Yi(t){return void 0!==zi[t]}function ji(t){return Yi(t.Zi)}function Qi(t){return""!==t.Ki||""!==t.Ji}function Zi(t){var n=t.length;if(!(n>=2))return!1;if(!Ji(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ki(t){return 2===t.length&&wn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ji(t){return 2===t.length&&Ki(Mn(t))}function $i(t){return Ki(t)&&":"===t[1]}function te(t){var n=t.$i;0!==n.length&&("file"===t.Zi&&1===n.length&&$i(n[0])||n.pop())}function ne(t){return null===t.re||gi===t.re||t.ue||"file"===t.Zi}var ie=-1,ee=/\t|\n|\r/g,re=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function se(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new oe,t=t.replace(re,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,c=Wn(t=t.replace(ee,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:ie;switch(r){case 0:if(!In(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Cn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Cn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Kn(s);if(null!==e){if(Yi(i.Zi)&&!Yi(d))return;if(!Yi(i.Zi)&&Yi(d))return;if((Qi(i)||null!==i.oe)&&"file"===d)return;if("file"===i.Zi&&(i.re===gi||null===i.re))return}if(i.Zi=d,null!==e)return void(ji(i)&&i.oe===zi[i.Zi]&&(i.oe=null));s.length=0,"file"===i.Zi?r=13:ji(i)&&n&&n.Zi===i.Zi?r=3:ji(i)?r=7:47===c[f+1]?(r=4,f+=1):(i.ue=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.ue&&35!==v)throw new l("Invalid scheme");n.ue&&35===v?(i.Zi=n.Zi,i.$i=n.$i.slice(),i.Yi=n.Yi,i.fe="",i.ue=!0,r=20):"file"!==n.Zi?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===c[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Zi=n.Zi,ie===v?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.Yi=n.Yi):47===v?r=6:63===v?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.Yi="",r=19):35===v?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.Yi=n.Yi,i.fe="",r=20):92===v&&ji(i)?r=6:(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.$i.pop(),r=17,f-=1);break;case 6:!ji(i)||47!==v&&92!==v?47===v?r=9:(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==c[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Kn(fi(g,ai));a?i.Ji+=m:i.Ki+=m}else a=!0}s.length=0}else if(ie===v||47===v||63===v||35===v||ji(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Zi)f-=1,r=15;else if(58!==v||o)if(ie===v||47===v||63===v||35===v||ji(i)&&92===v){if(f-=1,ji(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Qi(i)||null!==i.oe))return;var y=ki(Kn(s),ji(i));if(i.re=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=ki(Kn(s),ji(i));if(i.re=k,s.length=0,r=12,11===e)return}break;case 12:if(Rn(v))s.push(v);else{if(!(ie===v||47===v||63===v||35===v||ji(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var b=_(Kn(s),10);if(b>65535)throw new l("Invalid port");i.oe=b===zi[i.Zi]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Zi="file",47===v||92===v?r=14:n&&"file"===n.Zi?ie===v?(i.re=n.re,i.$i=n.$i.slice(),i.Yi=n.Yi):63===v?(i.re=n.re,i.$i=n.$i.slice(),i.Yi="",r=19):35===v?(i.re=n.re,i.$i=n.$i.slice(),i.Yi=n.Yi,i.fe="",r=20):(Zi(c.slice(f))||(i.re=n.re,i.$i=n.$i.slice(),te(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Zi&&!Zi(c.slice(f))&&($i(n.$i[0])?i.$i.push(n.$i[0]):i.re=n.re),r=17,f-=1);break;case 15:if(ie===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Ji(s))r=17;else if(0===s.length){if(i.re=gi,null!==e)return;r=16}else{var p=ki(Kn(s),ji(i));if(0===p.Hi&&"localhost"===p.Wi&&(p=gi),i.re=p,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:ji(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Yi="",r=19):null===e&&35===v?(i.fe="",r=20):ie!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ie===v||47===v||ji(i)&&92===v||null===e&&(63===v||35===v)){var A=Kn(s);if(qi(A)?(te(i),47===v||ji(i)&&92===v||i.$i.push("")):!Gi(A)||47===v||ji(i)&&92===v?Gi(A)||("file"===i.Zi&&0===i.$i.length&&Ji(s)&&(gi!==i.re&&null!==i.re&&(i.re=gi),s[1]=58,A=Kn(s)),i.$i.push(A)):i.$i.push(""),s.length=0,"file"===i.Zi&&(ie===v||63===v||35===v))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===v?(i.Yi="",r=19):35===v&&(i.fe="",r=20)}else s.push.apply(s,fi(v,oi));break;case 18:63===v?(i.Yi="",r=19):35===v?(i.fe="",r=20):ie!==v&&(i.$i[0]+=Kn(fi(v,si)));break;case 19:null===e&&35===v?(i.fe="",r=20):ie!==v&&(i.Yi+=Kn(fi(v,ji(i)?hi:ci)));break;case 20:ie===v||0===v||(i.fe+=Kn(fi(v,ui)))}f++}return i}function ue(t,n,i,e){try{se(t,n,i,e)}catch(t){}}var oe=function(){this.Zi="",this.Ki="",this.Ji="",this.re=null,this.oe=null,this.$i=[],this.Yi=null,this.fe=null,this.ue=!1};function ae(t){switch(t.Zi){case"blob":var n;try{n=se(t.$i[0],null)}catch(t){return Hi}return ae(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Zi,e=t.re,r=t.oe,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return Hi}var i,e,r}var ce,he,fe,ve,le,de,we=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof we&&"object"==typeof i.qi)r=n.qi;else try{r=se(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=se(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.Yi;this.qi=e,this.Yi=function(t){var n=new xi;return null!==t&&Bi(n,t),n}(s),this.Yi.qi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Zi+":";if(null!==t.re?(i+="//",Qi(t)&&(i+=t.Ki,""!==t.Ji&&(i+=":"+t.Ji),i+="@"),i+=bi(t.re),null!==t.oe&&(i+=":"+t.oe)):null===t.re&&"file"===t.Zi&&(i+="//"),t.ue)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.Yi&&(i+="?"+t.Yi),n||null===t.fe||(i+="#"+t.fe),i}(this.qi)},set:function(t){var n;try{n=se(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.qi=n,Pi(this.Yi);var i=this.qi.Yi;null!==i&&Bi(this.Yi,i)}},{key:"origin",get:function(){return ae(this.qi)}},{key:"protocol",get:function(){return this.qi.Zi+":"},set:function(t){ue(t+":",null,this.qi,0)}},{key:"username",get:function(){return this.qi.Ki},set:function(t){ne(this.qi)||(this.qi.Ki=vi(t,ai))}},{key:"password",get:function(){return this.qi.Ji},set:function(t){ne(this.qi)||(this.qi.Ji=vi(t,ai))}},{key:"host",get:function(){var t=this.qi,n=t.re;if(null===n)return"";var i=t.oe,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.qi.ue||ue(t,null,this.qi,10)}},{key:"hostname",get:function(){var t=this.qi.re;return null===t?"":bi(t)},set:function(t){this.qi.ue||ue(t,null,this.qi,11)}},{key:"port",get:function(){var t=this.qi.oe;return null===t?"":""+t},set:function(t){ne(this.qi)||(""===t?this.qi.oe=null:ue(t,null,this.qi,12))}},{key:"pathname",get:function(){var t=this.qi.$i;return this.qi.ue?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.qi.ue||(this.qi.$i.length=0,ue(t,null,this.qi,16))}},{key:"search",get:function(){var t=this.qi.Yi;return null===t||""===t?"":"?"+t},set:function(t){t=Ii(t);var n=this.qi;if(""===t)return n.Yi=null,void Pi(this.Yi);"?"===t[0]&&(t=t.slice(1)),n.Yi="",ue(t,null,n,19),Bi(this.Yi,t)}},{key:"searchParams",get:function(){return this.Yi}},{key:"hash",get:function(){var t=this.qi.fe;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.qi.fe="",ue(t,null,this.qi,20)):this.qi.fe=null}}])&&vn(n.prototype,i),e&&vn(n,e),t}();function _e(t){return t.document&&t.document.baseURI||t.location.href||""}var ge=a;function me(t){return Boolean(t&&void 0!==t.length)}function ye(){}function ke(t){if(!(this instanceof ke))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.we=0,this._e=!1,this.me=void 0,this.ye=[],Ee(t,this)}function be(t,n){for(;3===t.we;)t=t.me;0!==t.we?(t._e=!0,ke.ke(function(){var i=1===t.we?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.me)}catch(t){return void Ae(n.promise,t)}pe(n.promise,e)}else(1===t.we?pe:Ae)(n.promise,t.me)})):t.ye.push(n)}function pe(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof ke)return t.we=3,t.me=n,void Te(t);if("function"==typeof i)return void Ee((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.we=1,t.me=n,Te(t)}catch(n){Ae(t,n)}var e,r}function Ae(t,n){t.we=2,t.me=n,Te(t)}function Te(t){2===t.we&&0===t.ye.length&&ke.ke(function(){t._e||ke.pe(t.me)});for(var n=0,i=t.ye.length;n<i;n++)be(t,t.ye[n]);t.ye=null}function Se(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ee(t,n){var i=!1;try{t(function(t){i||(i=!0,pe(n,t))},function(t){i||(i=!0,Ae(n,t))})}catch(t){if(i)return;i=!0,Ae(n,t)}}ke.prototype.catch=function(t){return this.then(null,t)},ke.prototype.then=function(t,n){var i=new this.constructor(ye);return be(this,new Se(t,n,i)),i},ke.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},ke.all=function(t){return new ke(function(n,i){if(!me(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},ke.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},ke.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ke?t:new ke(function(n){n(t)})},ke.reject=function(t){return new ke(function(n,i){i(t)})},ke.race=function(t){return new ke(function(n,i){if(!me(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)ke.resolve(t[e]).then(n,i)})},ke.ke="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){ge(t,0)},ke.pe=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Ie=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Re=o?o.userAgent:"",Ne=Re.match(/Firefox\/([0-9]+)/i),De=null!=Ne,Ce=Ne?Number(Ne[1]):0,Pe=Re.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Be=null!=Pe,Oe=Pe?Number(Pe[3]):0,xe=function(){function t(t){this.Ae=0,this.Te=0,this.Vi=[],this.Se=t}return t.prototype.Ee=function(t){var n=this.length();this.Ie(n+1);var i=this.Te+n&this.Se-1;this.Vi[i]=t,this.Ae=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Se<n)this.Ee(t);else{var i=this.Te+n-1,e=this.Se-1;this.Vi[i&e]=t,this.Ae=n}},t.prototype.shift=function(){var t=this.Te,n=this.Vi[t];return this.Vi[t]=void 0,this.Te=t+1&this.Se-1,this.Ae--,n},t.prototype.length=function(){return this.Ae},t.prototype.Ie=function(t){this.Se<t&&this.Re(this.Se<<1)},t.prototype.Re=function(t){var n=this.Se;this.Se=t;var i=this.Te+this.Ae&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Vi,0,n,i)},t}();var Le="unhandledrejection",Me=t.PromiseRejectionEvent,Ue=t.CustomEvent;function Xe(t){return new Me(Le,{reason:t,promise:Ie.reject(t).catch(function(){}),cancelable:!0})}function Fe(t){var n=new Ue(Le,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function He(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Le,!1,!0,{reason:t}),n}var ze,Ve,We,Ge,qe,Ye,je,Qe=function(t){return(Qe=function(){try{var t=Ie.resolve(),n=new Me(Le,{reason:"error",promise:t});return Le===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new Ue(Le,{detail:{reason:"error"}});return Le===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Fe:He)(t)};if(Ie&&!(De&&Ce<60||Be&&Oe<15))Ve=Ie;else{Ve=ke;var Ze=null!==(ze=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Ie;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==ze?ze:ke.ke,Ke=(We=Ze,Ge=new xe(16),qe=!1,{Ne:function(t){Ge.push(t),qe||(qe=!0,We(Ye))},De:Ye=function(){for(;Ge.length()>0;)Ge.shift()();qe=!1}});ke.ke=Ke.Ne,ke.pe=function(n){try{var i=Qe(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Je(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function tr(t,n){L.pn&&L.An<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function nr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function ir(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function er(t){t.removeAttribute("title")}function rr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function sr(t){t.src&&(t.removeAttribute("src"),t.load())}function ur(){return void 0!==s?s.createElement("video"):void 0}function or(){return je||(je=ur()),je}var ar=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),cr=or(),hr=!(!cr||!cr.webkitShowPlaybackTargetPicker),fr=function(){function t(){this.Ce=void 0,this.Pe=!1,this.Wt=ar,this.fn=!1,this.Be=!0,this.Oe=!0}var n=t.prototype;return n.xe=function(){return 0},n.Le=function(t,n){return!0},n.Me=function(t){return t>=1/6*2},A(t,[{key:"Ue",get:function(){return void 0===this.Ce&&(this.Ce=this.xe()),this.Ce}},{key:"Xe",get:function(){return r.devicePixelRatio||1}},{key:"Fe",get:function(){return hr}},{key:"He",get:function(){return!1}},{key:"ze",get:function(){return!0}},{key:"Ve",get:function(){return L.Cn||L.un}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return!0}},{key:"qe",get:function(){return!1}},{key:"Ye",get:function(){}},{key:"je",get:function(){return!0}},{key:"Qe",get:function(){return!1}}]),t}(),vr=function(){var t=ur();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.$t)return!1;var t=ur();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var lr=function(t){function n(n){var i;return(i=t.call(this)||this).Ze=void 0,i.Ze=n,i.Ze&&(i.Pe=i.Ze.Pe,i.Wt=i.Ze.Wt,i.Be=vr&&i.Ze.Be),i}S(n,t);var i=n.prototype;return i.xe=function(){return this.Ze?this.Ze.Ue:t.prototype.xe.call(this)},i.Le=function(n,i){return this.Ze?this.Ze.Le(n,i):t.prototype.Le.call(this,n,i)},i.Me=function(n){return this.Ze?this.Ze.Me(n):t.prototype.Me.call(this,n)},A(n,[{key:"Ye",get:function(){var t;return null==(t=this.Ze)?void 0:t.Ye}},{key:"je",get:function(){var t,n;return null==(t=null==(n=this.Ze)?void 0:n.je)||t}}]),n}(fr),dr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Pe=!0,i.fn=!0,i}return S(n,t),A(n,[{key:"qe",get:function(){return L.un}}]),n}(lr),wr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.xe=function(){return ve.MediaSource?t.prototype.xe.call(this):1},A(n,[{key:"qe",get:function(){return!0}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(n,i){return t.prototype.Le.call(this,n,i)},A(n,[{key:"He",get:function(){return L.An<3}},{key:"ze",get:function(){return L.An>=3}},{key:"Qe",get:function(){return L.An<3}}]),n}(lr),gr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(fr),mr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(t,n){if(t&&t.Ke&&n&&n.Ke){var i=yr(t.Ke,"mp4a.40.2")&&yr(n.Ke,"mp4a.40.5"),e=yr(t.Ke,"mp4a.40.5")&&yr(n.Ke,"mp4a.40.2"),r=yr(t.Ke,"mp4a.40.2")&&yr(n.Ke,"mp4a.40.34"),s=yr(t.Ke,"mp4a.40.34")&&yr(n.Ke,"mp4a.40.2"),u=yr(t.Ke,"mp4a.40.5")&&yr(n.Ke,"mp4a.40.34"),o=yr(t.Ke,"mp4a.40.34")&&yr(n.Ke,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"Ye",get:function(){if(L.Gt)return 4096}}]),n}(gr);function yr(t,n){return t.indexOf(n)>-1}var kr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(t){return t>=2},n}(gr),br=function(t){function n(){var n;return(n=t.call(this)||this).Pe=L.Pn>=11,n.Be=L.Cn&&!(L.un&&L.Pn<10),n}return S(n,t),n}(gr),pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"We",get:function(){return!1}}]),n}(lr),Ar=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"je",get:function(){return!L.qt||(L._n?92!==L.yn:L.wn>=100)}}]),n}(gr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"qe",get:function(){return!0}}]),n}(lr),Sr=function(){function n(){var n;this.Je=void 0,this.$e=new tn,this.ir=new Er,this.er=(n=function(){if(L.Nn)return new mr;if(L.Sn||L.En)return new kr;if(L.Cn)return new br;if(L.dn)return new Ar;return new gr}(),L.un?new wr(n):L.fn?new dr(n):L.pn?new _r(n):L.Tn?new pr(n):L.Gt?new Tr(n):new lr(n)),this.rr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Je=function(){return t.performance.now()}:this.Je=zt}var i=n.prototype;return i.dr=function(){st.apply(void 0,arguments)},i.wr=function(){ut.apply(void 0,arguments)},i._r=function(){ot.apply(void 0,arguments)},i.gr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,[t].concat(i))},i.Yn=function(t,n){return a(t,n)},i.yr=function(t,n){return h(t,n)},i.qn=function(t){c(t)},i.pr=function(t){f(t)},i.ei=function(t){return this.$e.ei(t)},i.Ar=function(){return this.Tr.Ar()},i.Sr=function(){return this.Tr.Sr()},i.Er=function(){return this.Tr.Er()},i.Ir=function(){return this.Tr.Ir()},i.Rr=function(){return this.Tr.Rr()},i.Nr=function(t,n){return this.Tr.Nr(t,n)},i.Dr=function(t){return this.Tr.Dr(t)},i.Cr=function(t,n){var i;return void 0===n&&(n=_e(ve)),i="object"!=typeof n||n instanceof we?n:n.href,new we(t,i)},i.Pr=function(n,i){if(void 0===i&&(i=_e(ve)),this.rr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Cr(n,i).href},A(n,[{key:"Br",get:function(){return this.ir}},{key:"Or",get:function(){return this.er}},{key:"xr",get:function(){return{Lr:o&&o.userAgent.match(/Android /i)?"Android":"other",Mr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ur",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Xr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Er=function(){function t(){}return A(t,[{key:"Fr",get:function(){return o.oscpu}},{key:"Or",get:function(){return o.platform}},{key:"Hr",get:function(){return o.vendor}},{key:"zr",get:function(){return o.vendorSub}}]),t}();var Ir={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.Vr=function(t,n,i){var e=h;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Wr=i.arg;else if("throw"===i.method){if(e===h)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=c(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function b(){}var p={};p[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(p=T);var S=b.prototype=y.prototype=d.create(p);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Vr(n,t)}})}function I(t){var n;this.Vr=function(i,r){function s(){return new Ve(function(n,s){!function n(i,r,s,u){var o=c(t[i],t,r);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&e.call(h,"Gr")?Ve.resolve(h.Gr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Ve.resolve(h).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=c(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=b,b.constructor=k,b[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Gr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Wr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),c=e.call(u,"finallyLoc");if(a&&c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!c)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Ir.exports);var Rr=Ir.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Dr(){var t=d.create(null);return t.qr=void 0,delete t.qr,t}function Cr(){return new Mr}function Pr(){return new Fr}function Br(t){var n=Cr();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}function Or(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var xr,Lr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Mr=Lr||(xr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Dr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Dr(),this.size=0},n.keys=function(){return new xr(this.data,function(t,n){return n})},n.values=function(){return new xr(this.data,function(t,n){return t[n]})},n.entries=function(){return new xr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ur,Xr,Fr=Lr||(Ur=function(){function t(t,n){this.Yr=void 0,this.jr=void 0,this.Yr=t,this.jr=n}var n=t.prototype;return n.next=function(){var t=this.Yr.next();return t.done?t:{value:this.jr(t.value),done:!1}},t}(),function(){function t(){this.Qr=Cr()}var n=t.prototype;return n.get=function(t){return this.Qr.get(""+t)},n.set=function(t,n){return this.Qr.set(""+t,n),this},n.has=function(t){return this.Qr.has(""+t)},n.delete=function(t){return this.Qr.delete(""+t)},n.clear=function(){this.Qr.clear()},n.keys=function(){return new Ur(this.Qr.keys(),function(t){return Number(t)})},n.values=function(){return this.Qr.values()},n.entries=function(){return new Ur(this.Qr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Qr.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.Qr.size}}]),t}());!function(t){t.Zr="9a04f079-9840-4286-ab92-e65be0885f95",t.Kr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Jr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.$r="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Xr||(Xr={}));var Hr,zr="urn:mpeg:dash:mp4protection:2011",Vr="cenc",Wr="sinf",Gr="skd",qr=Xr.Zr,Yr="urn:uuid:"+qr,jr="com.microsoft.playready",Qr=Xr.Kr,Zr="urn:uuid:"+Qr,Kr=Xr.Jr,Jr="urn:uuid:"+Kr,$r=Xr.$r,ts="urn:uuid:"+$r,ns="com.apple.fps.1_0",is="com.apple.streamingkeydelivery";!function(t){t.Zr="playready",t.Kr="widevine",t.$r="fairplay",t.Jr="clearkey",t.rs="aes128"}(Hr||(Hr={}));var es={us:Hr.Zr,hs:jr,fs:"cenc",vs:qr,ls:Yr,ds:"PlayReady"},rs={us:Hr.Kr,hs:"com.widevine.alpha",fs:"cenc",vs:Qr,ls:Zr,ds:"Widevine"},ss={us:Hr.$r,hs:ns,fs:"skd",vs:$r,ls:ts,ds:"FairPlay"},us={us:Hr.$r,hs:"com.apple.fps",fs:"sinf",vs:$r,ls:ts,ds:"FairPlay"},os={us:Hr.Jr,hs:"org.w3.clearkey",fs:"cenc",vs:Kr,ls:Jr,ds:"ClearKey"},as=[es,rs,ss,os];function cs(t){return as.filter(function(n){return n.ls===t.toLowerCase()})}function hs(t,n,i){return t.split(n).join(i)}function fs(t,n){return null!=t&&-1!==t.indexOf(n)}function vs(t,n){return null!=t&&t.substr(0,n.length)===n}function ls(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ds(t,n){return t.toUpperCase()===n.toUpperCase()}function ws(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function _s(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=ws(e,r/e.length)),e.slice(0,r)+t)}function gs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ys(n)}var ms=16384;function ys(t){var n=t.length;if(n<=ms)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ms)i.push(String.fromCharCode.apply(String,t.slice(e,e+ms)));return i.join("")}var ks=L.dn&&L.wn>=42||L.Nn&&L.Dn>=38||L.Sn||L.In||L.Bn&&L.On>=29;function bs(t,n){return fs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ps(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function As(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ts,Ss=function(){function t(t){this._s=void 0,this.gs=Cr(),this.ys=void 0,this._s=t}var n=t.prototype;return n.Rr=function(){return this.Dr(rs)},n.Sr=function(){return this.Dr(os)},n.Ir=function(){return this.Dr(es)},n.Er=function(){return this.Dr(ss)},n.Dr=function(t){var n=t.ls,i=this.gs.get(n);if(i)return i;var e=this.Nr(t,'video/mp4; codecs="avc1.42000a"');return this.gs.set(n,e),e},n.Nr=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this._s.As(t.hs,[bs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Rr.awrap(this._s.As(t.hs,[bs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],Ve)},n.Ar=function(){return this.ys||(this.ys=this.Ts()),this.ys},n.Ts=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==le.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ks){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Rr.awrap(this.Sr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,Ve)},t}();function Es(t,n){return Rs(t.slice(),n)}function Is(t,n){var i=Rs(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Rs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,c=t.length,h=0,f=2*i;for(s=0;s<c;s+=f)for(r=(u=s+i)+i,u>c&&(u=c),r>c&&(r=c),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<u)e[h++]=t[o++];else{if(!(a<r))break;e[h++]=t[a++]}}!function(t){t[t.Ss=0]="Ss",t[t.Es=1]="Es",t[t.Is=-1]="Is"}(Ts||(Ts={}));var Ds=function(t,n){return(0|t)-(0|n)},Cs=function(t,n){return t===n?Ts.Ss:t<n?Ts.Is:t>n?Ts.Es:m(t)?m(n)?Ts.Ss:Ts.Es:Ts.Is};function Ps(t,n,i){return Mt(t,n,i)?Ts.Ss:Cs(t,n)}var Bs=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<xt||i<w.max(w.abs(t),w.abs(n))*xt}(t,n)?Ts.Ss:Cs(t,n)};function Os(t,n,i){var e=Ls(t,n,i);return-1===e?void 0:t[e]}function xs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Ms(t,n){var i=t.indexOf(n);return-1!==i&&(Us(t,i),!0)}function Us(t,n){t.splice(n,1)}function Xs(t,n){return-1!==t.indexOf(n)}function Fs(t,n){for(var i=0;i<n.length;i++){if(!Xs(t,n[i]))return!1}return!0}function Hs(t){t.length=0}function zs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Vs(t,n){return Gs(t,function(t,i){return Cs(n(t),n(i))})}function Ws(t,n){return function(t,n){return Gs(t,function(t,i){return n(i,t)})}(t,function(t,i){return Cs(n(t),n(i))})}function Gs(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function qs(t,n){return Ve.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function Ys(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Rr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,Ve)}function js(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Qs=function(){function t(){this.Rs=!1,this.Ns=!1,this.Ds=[],this.Cs=[]}var n=t.prototype;return n.Ps=function(){if(!this.Rs&&!this.Ns){this.Rs=!0;for(var t=0,n=this.Ds.slice();t<n.length;t++){(0,n[t])()}this.Bs()}},n.Bs=function(){if(!this.Ns){this.Ns=!0;for(var t=0,n=this.Cs.slice();t<n.length;t++){(0,n[t])()}Hs(this.Ds),Hs(this.Cs)}},n.Os=function(t){this.Ns||this.Ds.push(t)},n.xs=function(t){this.Ns||Ms(this.Ds,t)},n.Ls=function(t){this.Ns||this.Cs.push(t)},n.Ms=function(t){this.Ns||Ms(this.Cs,t)},t}(),Zs=function(){function t(){this.Us=new Qs}var n=t.prototype;return n.Xs=function(){this.Us.Ps()},n.Bs=function(){this.Us.Bs()},n.Fs=function(t){var n=this.Us;if(!n.Rs)if(t.Rs)n.Ps();else if(!n.Ns&&!t.Ns){var i=function(){e(),n.Ps()},e=function e(){t.xs(i),t.Ms(e),n.xs(i),n.Ms(e)};t.Os(i),t.Ls(e),n.Os(i),n.Ls(e)}},n.Hs=function(){var n=new t,i=new t,e=n.zs,r=i.zs,s=this.Us,u=function(){e.Rs&&r.Ns||r.Rs&&e.Ns?s.Ps():e.Ns&&r.Ns&&s.Bs()};e.Os(u),r.Os(u),e.Ls(u),r.Ls(u),n.Fs(s),i.Fs(s);return s.Ls(function(){e.xs(u),r.xs(u),e.Ms(u),r.Ms(u)}),[n,i]},A(t,[{key:"zs",get:function(){return this.Us}}]),t}(),Ks=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Jt);function Js(t){return t instanceof v&&"AbortError"===t.name}function $s(t){if(t&&t.Rs)throw new Ks}function tu(t){if(Js(t))throw t}function nu(t){if(!Js(t))throw t}function iu(t,n){return n?new Ve(function(i,e){if(n.Rs)return t.catch(Z),e(new Ks);var r=function t(){n.xs(t),e(new Ks)};n.Os(r),t.then(function(t){n.xs(r),i(t)},function(t){n.xs(r),e(t)})}):t}function eu(t,n){return t.then(function(t){return n.Bs(),t},function(t){throw n.Bs(),t})}function ru(t,n){var i=new Zs;return n&&i.Fs(n),t(i.zs).then(function(t){return i.Xs(),t},function(t){throw i.Xs(),t})}var su=Ve.resolve();function uu(t){su.then(t)}function ou(t){t.then(Z,Z)}function au(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(Ve.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],Ve)}function cu(t,n){return new Ve(function(e,r){if(void 0!==n&&n.Rs)r(new Ks);else{var s=i.Yn(function(){void 0!==n&&n.xs(u),e()},t),u=function(){i.qn(s),r(new Ks)};void 0!==n&&n.Os(u)}})}function hu(t){return t&&"function"!=typeof t?t.slice():t}function fu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var vu,lu=function(){function t(t){var n=this;this.Vs=Dr(),this.Ws=void 0,this.Gs=void 0,this.qs=function(t){n.Ys(t)},this.Gs=t||this}var n=t.prototype;return n.js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Qs(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Qs(e,n)}},n.Qs=function(t,n){var i=this.Vs[t];i?"function"==typeof i?this.Vs[t]=[i,n]:i.push(n):this.Vs[t]=n},n.Zs=function(t){if("function"==typeof t){var n=this.Ws;n?"function"==typeof n?this.Ws=[n,t]:n.push(t):this.Ws=t}},n.Ks=function(){this.Vs=Dr(),this.Ws=void 0},n.Ys=function(t){var n=hu(this.Vs[t.type]),i=hu(this.Ws);fu(this.Gs,t,n),fu(this.Gs,t,i)},n.Js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.$s(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.$s(e,n)}},n.$s=function(t,n){var i=this.Vs[t];i&&("function"==typeof i?i===n&&(this.Vs[t]=void 0):Ms(i,n))},n.tu=function(t){if("string"==typeof t)this.Vs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Vs[i]=void 0}},n.nu=function(t){var n=this.Ws;n&&("function"==typeof n?n===t&&(this.Ws=void 0):Ms(n,t))},n.uu=function(t,n){var i=this;return new Ve(function(e,r){if(n&&n.Rs)return r(new Ks);var s=function(t){o(),e(t)},u=function(){o(),r(new Ks)},o=function(){i.Js(t,s),n&&n.xs(u)};i.js(t,s),n&&n.Os(u)})},t}(),du=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ys=function(n){var i=this;uu(function(){t.prototype.Ys.call(i,n)})},n}(lu),wu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},_u=["cenc"],gu=["cbcs","cbcs-1-9"],mu=function(t){function n(n){var i;return(i=t.call(this,"au")||this).ou=n,i}return S(n,t),n}(wu),yu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"fu")||this).ou=n,s.vu=i,s.fu=e,s.du=r,s}return S(n,t),n}(wu),ku=function(t){function n(){return t.call(this,"wu")||this}return S(n,t),n}(wu);!function(t){t._u="mu",t.yu="bu"}(vu||(vu={}));var bu=function(t){function n(n,i){var e;return(e=t.call(this,vu._u)||this).fs=n,e.pu=i,e}return S(n,t),n}(wu),pu=function(t){function n(){return t.call(this,vu.yu)||this}return S(n,t),n}(wu),Au=new y([0]).buffer,Tu=function(){function t(){this.Au=void 0,this.Au=[]}var n=t.prototype;return n.Tu=function(t){for(var n=0,i=this.Au;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Su=function(t){for(var n=0,i=this.Au;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Eu=function(t,n){this.Au.forEach(function(n){return t(n[1],n[0])},n)},n.Iu=function(t,n){this.Au.push([t,n])},n.Ru=function(){Hs(this.Au)},A(t,[{key:"Nu",get:function(){return this.Au.length}}]),t}(),Su="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Eu=16383,Iu=/[\t\n\f\r ]/g;function Ru(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Nu()}function Nu(){throw new v("Invalid base64 input")}function Du(t){var n=t;Iu.test(n)&&(n=n.replace(Iu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Nu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,c=0;a<o;a+=4)r=Ru(n.charCodeAt(a))<<18|Ru(n.charCodeAt(a+1))<<12|Ru(n.charCodeAt(a+2))<<6|Ru(n.charCodeAt(a+3)),u[c++]=r>>16&255,u[c++]=r>>8&255,u[c++]=255&r;return 2===s?(r=Ru(n.charCodeAt(a))<<2|Ru(n.charCodeAt(a+1))>>4,u[c++]=255&r):1===s&&(r=Ru(n.charCodeAt(a))<<10|Ru(n.charCodeAt(a+1))<<4|Ru(n.charCodeAt(a+2))>>2,u[c++]=r>>8&255,u[c++]=255&r),u}function Cu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Su[e>>2]+Su[(3&e)<<4|r>>4]+Su[(15&r)<<2|s>>6]+Su[63&s]));return u.join("")}function Pu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Eu)e.push(Cu(t,s,w.min(r,s+Eu)));if(1===i){var u=t[n-1];e.push(Su[u>>2]+Su[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Su[o>>2]+Su[(3&o)<<4|a>>4]+Su[(15&a)<<2]+"=")}return e.join("")}var Bu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ou=ArrayBuffer.isView||function(t){return t&&Xs(Bu,U.call(t))};function xu(t,n){return t===n||t.byteLength===n.byteLength&&Lu(new y(t),new y(n))}function Lu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Mu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Uu(t,n)}function Uu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Xu(t){return Du(t).buffer}function Fu(t){return Pu(new y(t))}function Hu(t){return Pu(So(t))}function zu(t,n){var i=n.Du,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Cu(1),(e&r)===r?1:0}function Vu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+zu(t,n);return e}var Wu=function(){function t(t){void 0===t&&(t=0),this.Pu=t}var n=t.prototype;return n.Cu=function(t){this.Pu+=t},n.Bu=function(t){this.Pu=t},n.Ou=function(){return new t(this.Du)},A(t,[{key:"Du",get:function(){return this.Pu}}]),t}();function Gu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function qu(t,n){return t>>n&63|128}function Yu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Gu(t),n.push(t>>12&15|224),n.push(qu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(qu(t,12)),n.push(qu(t,6))),n.push(63&t|128)):n.push(t)}function ju(t,n){if(n.Du>=t.length)throw new v("Invalid byte index");var i=255&t[n.Du];if(n.Cu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Qu(t,n){var i=n.Du;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Cu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|ju(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|ju(t,n)<<6|ju(t,n);if(s>=2048)return Gu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|ju(t,n)<<12|ju(t,n)<<6|ju(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Zu=65279;var Ku=[128,64,32,16,8,4,2,1],Ju=function(){function t(t){this.xu=t}return t.prototype.Lu=function(t){return $u(this.xu,t)},t}();function $u(t,n){return(t&n)===n}function to(t,n){return $u(t,Ku[n])}function no(t,n){var i=t.getUint8(n.Du);return n.Cu(1),i}function io(t,n,i){t.setUint8(n.Du,i),n.Cu(1)}function eo(t,n,i){var e=Bo(Lo(t),n.Du,n.Du+i);return n.Cu(e.byteLength),e}function ro(t,n,i){Lo(t).set(Lo(i),n.Du),n.Cu(i.byteLength)}function so(t,n,i){return n.Du+i<=t.byteLength}function uo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=no(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+no(t,n);return e}(t,n,i)}function oo(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Du,i);return n.Cu(2),e}function ao(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Du,i,e),n.Cu(2)}function co(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Du,i);return n.Cu(4),e}function ho(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Du,i,e),n.Cu(4)}function fo(t,n,i){void 0===i&&(i=!1);var e=co(t,n,i),r=co(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!0)}function vo(t,n){var i=no(t,n);if(i)return String.fromCharCode(i)}function lo(t,n){return go(t,n)}function wo(t,n,i){for(var e="",r=0;r<i;r++)e+=vo(t,n);return e}function _o(t,n){var i,e=no(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&no(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&no(t,n))+(63&no(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&no(t,n))+64*(63&no(t,n))+(63&no(t,n))),i}function go(t,n){return mo(t,n,!0)}function mo(t,n,i){for(var e=[];n.Du<t.byteLength;){var r=no(t,n);if(i&&!r)break;e.push(r)}return ys(e)}function yo(t,n){if(n.Du+2<=t.byteLength){var i=t.getUint8(n.Du),e=t.getUint8(n.Du+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function ko(t,n){var i=yo(t,n);return void 0!==i&&n.Cu(2),bo(t,n,!0===i)}function bo(t,n,i){return void 0===i&&(i=!1),po(t,n,i,!0)}function po(t,n,i,e){for(var r=[];n.Du+2<=t.byteLength;){var s=oo(t,n,i);if(e&&!s)break;r.push(s)}return ys(r)}function Ao(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ao(t,n,i.charCodeAt(s),e)}}function To(t){return mo(xo(t),new zo,!1)}function So(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)io(t,n,i.charCodeAt(r))}(xo(n),new zo,t),n}function Eo(t,n){return void 0===n&&(n=!1),po(xo(t),new zo,n,!1)}function Io(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ao(xo(i),new zo,t,n),i}function Ro(t,n){return n.Du+3<=t.byteLength&&(239===t.getUint8(n.Du)&&187===t.getUint8(n.Du+1)&&191===t.getUint8(n.Du+2))}function No(t,n){return function(t,n,i){var e=[];Ro(t,n)&&n.Cu(3);for(;n.Du<t.byteLength;){var r=_o(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return gs(e)}(t,n,!0)}function Do(t){return gs(function(t,n){var i,e=[],r=new zo;if(!n){if(!1===(i=Qu(t,r)))return e;i===Zu||e.push(i)}for(;!1!==(i=Qu(t,r));)e.push(i);return e}(Lo(t)))}function Co(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Yu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Po(t,n){if(Ro(t,n))return No(t,n);if(void 0!==yo(t,n))return ko(t,n);if(n.Du+4<=t.byteLength){if(0===t.getUint8(n.Du)&&0===t.getUint8(n.Du+2))return bo(t,n,!1);if(0===t.getUint8(n.Du+1)&&0===t.getUint8(n.Du+3))return bo(t,n,!0)}return No(t,n)}function Bo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function xo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return t instanceof ArrayBuffer||Ou(t)}function Uo(t){return t instanceof ArrayBuffer?new y(t):Lo(t)}function Xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Fo(Bo(t,n,i))}function Fo(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Ho(t){return[].slice.call(t)}var zo=function(){function t(t){void 0===t&&(t=0),this.Pu=t}var n=t.prototype;return n.Cu=function(t){this.Pu+=t},n.Bu=function(t){this.Pu=t},n.Ou=function(){return new t(this.Du)},n.Mu=function(){return new Wu(this.Du<<3)},A(t,[{key:"Du",get:function(){return this.Pu}}]),t}();function Vo(t){var n=t.toLowerCase(),i=0,e=0;vs(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Wo=function(){function t(){var t=this;this.Uu=void 0,this.Xu=void 0,this.Fu=void 0,this.Uu=new Ve(function(n,i){t.Xu=n,t.Fu=i})}var n=t.prototype;return n.Hu=function(t){this.Xu&&(this.Xu(t),this.Bs())},n.Vu=function(t){this.Fu&&(this.Fu(t),this.Bs())},n.Xs=function(){this.Uu.catch(Z),this.Vu(new Ks)},n.Bs=function(){this.Xu=void 0,this.Fu=void 0},t}();function Go(){return new y([8,4]).buffer}function qo(t){return xu(t,Go())}function Yo(t,n){return t===jr?function(t){if(t.byteLength<2*jo.length)return t;if(Eo(new DataView(t,0,2*jo.length),!0)===jo)return t;return n=t,Io('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Fu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var jo="<PlayReady";var Qo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Wu=void 0,s.Gu=void 0,s.Wu=i,s.Gu=e,s}return S(n,t),n}(Jt),Zo=function(t,n){return(Zo=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Ko(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Zo(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function Jo(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function $o(t,n,i){return w.min(w.max(t,n),i)}function ta(t,n){return t>>8-n}function na(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Yu=t,this.ju=n}t.prototype.get=function(t){var n=this.Yu.get(t);if(0===this.ju||void 0===n)return n;var i=this.Yu.get(t+1)||0,e=n&(1<<8-this.ju)-1,r=i>>8-this.ju;return(e<<this.ju)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Yu.get(w.floor((t+this.ju)/8));if(void 0!==n)return(n&1<<7-this.ju-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Yu.bitLength-this.ju},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Yu.length},enumerable:!1,configurable:!0})}();var ia=function(){function t(t){this.Qu=t,this.Zu=0,this.Ku=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Zu+this.Ku},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Zu===this.Qu.length&&0===this.Ku},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Zu,bit:this.Ku}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Qu);return n.seek(this.Zu,this.Ku),n},t.prototype.canReadBits=function(t){return 8*this.Zu+t+this.Ku<=8*this.Qu.length},t.prototype.canReadBytes=function(t){return 0===this.Ku?this.Zu+t<=this.Qu.length:this.Zu+t<this.Qu.length},t.prototype.incBit=function(){this.Ku++,this.Ku>7&&(this.Zu++,this.Ku=0)},t.prototype.seek=function(t,n){this.Zu=t,this.Ku=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Qu.get(this.Zu)>>7-this.Ku&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Ku)return this.Qu.get(this.Zu++);var t=na(this.Qu.get(this.Zu),8-this.Ku),n=ta(this.Qu.get(this.Zu+1),this.Ku);return this.Zu++,t<<this.Ku|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Ku&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Ku+t;this.Zu+=n>>3,this.Ku=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ea=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},ra=function(){function t(){this.Ju=[],this.$u=[],this.Ae=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.$u.length)this.$u.push(0);else{var e=this.$u[this.$u.length-1]+this.Ju[this.Ju.length-1].length;this.$u.push(e)}this.Ju.push(t.subarray(n,n+i)),this.Ae+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ju;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ju=[],this.$u=[],this.Ae=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.$u[n];return this.Ju[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ju.length<1)return-1;if(this.Ju.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ju[0];return"number"==typeof t?Jo(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Jo(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.$u,t,ea)},t.prototype.join=function(){if(1===this.Ju.length)return this.Ju[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=$o(n,0,this.length),r=$o(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ju[u],a=e,c=a-this.$u[u];a+o.length-c<r;)s.pushRange(o,c,o.length-c),u+=1,c=(a+=o.length-c)-this.$u[u],o=this.Ju[u];var h=r-a;return s.pushRange(o,c,h),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ju.length-1,e=this.Ju[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ju[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),sa=function(){function t(n){this.uo=n||t.BUFFER_CHUNK_SIZE,this.oo=!1,this.ao=new ra,this.Qu=new y(this.uo),this.do=0,this._o=0,this.Ku=7}return t.prototype.closeByte=function(){this.Qu[this.do++]=this._o,this.do>=this.uo&&this.closeBuffer(),this._o=0,this.Ku=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.do&&(this.ao.pushRange(this.Qu,0,this.do),t&&(this.Qu=new y(this.uo)),this.do=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ku},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.oo)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.oo=!0,this.ao},t.prototype.writeBit=function(t){if(this.oo)throw new v("Cannot write to a closed BitWriter.");this._o|=t<<this.Ku,0===this.Ku?this.closeByte():this.Ku--},t.prototype.writeByte=function(t){if(this.oo)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this._o=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ku;this._o|=ta(t,n+1),this.closeByte(),this._o=na(t,8-n)<<n+1,this.Ku=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.oo)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.do+t.length<=this.uo?(this.Qu.set(t,this.do),this.do+=t.length,this.do===this.uo&&this.closeBuffer()):(this.closeBuffer(),this.ao.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ku;this._o|=ta(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=na(t[i-1],8-n),r=ta(t[i],n+1);this._o=e<<n+1|r,this.closeByte()}this._o=na(t[t.length-1],8-n)<<n+1,this.Ku=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ua=function(){function t(t){this.rb=new ra,this.mo=t}return t.prototype.closeWriter=function(){void 0!==this.mo&&(this.rb=this.rb.concat(this.mo.close()),this.mo=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.mo&&(this.mo=new sa),this.mo},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),oa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ua;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function aa(t,n){return t instanceof ht?64===n:t<w.pow(2,n)}function ca(t,n){return w.round(t*w.pow(2,n))}function ha(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function fa(t,n){return t/w.pow(2,n)}var va=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.po},set:function(t){this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(oa),la=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(ra.from(this.data))},n}(oa),da=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function wa(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=_a)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=_a)i.push(String.fromCharCode.apply(String,t.slice(e,e+_a)));return i.join("")}(n)}var _a=16384;var ga=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ma(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ya(t,n,i){return n.offset+i<=t.byteLength}function ka(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function ba(t,n,i){void 0===i&&(i=!1);var e=ka(t,n,i),r=ka(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!0)}function pa(t,n){var i=ma(t,n);if(i)return String.fromCharCode(i)}function Aa(t,n,i){for(var e="",r=0;r<i;r++)e+=pa(t,n);return e}function Ta(t,n){var i,e=ma(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ma(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ma(t,n))+(63&ma(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ma(t,n))+64*(63&ma(t,n))+(63&ma(t,n))),i}function Sa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ta(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return wa(e)}(t,n,!0)}function Ea(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ia(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ra(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Na=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new da(this.offset<<3)},t}(),Da=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ma(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ka(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=ka(t,n,i),r=ka(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ba(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=Ea(Ra(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ka(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Aa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Sa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ca(t,n){return t.type===n}var Pa=8;function Ba(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Oa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Oa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ya(t,n,Pa)){var e=n.offset+Pa;return{complete:!1,neededOffset:e}}var r=ka(t,n),s=Aa(t,n,4);if(1===r){if(!ya(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=ba(t,n).toNumber()}if("uuid"===s){if(!ya(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Aa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,c,h,f={type:r.type,offset:i,data:new Da((a=t,c=i,h=u,void 0===c&&(c=0),void 0===h&&(h=a.byteLength),new DataView(a.buffer,a.byteOffset+c,h-c)),new Na(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function xa(t){return{version:t>>24,flags:new ga(16777215&t)}}function La(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ma(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ua(t){var n=t.nextUint32Array(9);return{a:fa(n[0],16),b:fa(n[1],16),u:fa(n[2],30),c:fa(n[3],16),d:fa(n[4],16),v:fa(n[5],30),x:fa(n[6],16),y:fa(n[7],16),w:fa(n[8],30)}}function Xa(t){return new la(t.type,Ea(Ra(t.data.data),t.data.cursor.offset))}var Fa=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Ko(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.Ao},set:function(t){this.Ao=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(va);function Ha(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Fa(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Ko(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Fa);var za=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.To},set:function(t){if(!aa(t,8))throw new v("Provided tag does not fit in 8 bits.");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Ko(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.So},set:function(t){if(!aa(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.So=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Eo},set:function(t){if(!aa(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Eo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Io},set:function(t){if(!aa(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Ro},set:function(t){if(!aa(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.No},set:function(t){if(!aa(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(za),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Ko(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(ra.from(this.data))}}(za);var Va=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Ko(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(za);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Va(r.fixed28BitMode),s}Ko(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.Do},set:function(t){if(!aa(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Co},set:function(t){if(!aa(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Co=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Po},set:function(t){if(t&&!aa(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Bo},set:function(t){if(t&&!aa(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(za);var Wa=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Ko(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(oa),Ga=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Wa),qa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Ko(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Oo},set:function(t){if(!aa(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ga),Ya=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Ko(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.xo},set:function(t){if(!aa(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Lo},set:function(t){if(!aa(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Mo},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ca(this.sampleRate,16),32),this.extra&&ha(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Ko(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Xo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Fo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ho},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.zo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Vo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Wo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Go},set:function(t){if(!aa(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.qo},set:function(t){if(!aa(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(oa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(va),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Yo},set:function(t){this.flags=void 0===t?1:0,this.Yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Yo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(){return t.call(this,"dinf")||this}Ko(n,t)}(Ga);var ja=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.po},set:function(t){this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Wa);!function(t){function n(){return t.call(this,"dref",0,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ja);var Qa=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!aa(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(va),Za=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa);function Ja(t){for(var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,c=void 0;0===e?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===e?new Za(u,r.raw):new Ka(u,r.raw)}var $a=function(t){function n(){return t.call(this,"edts")||this}return Ko(n,t),n}(Ga);function tc(t){for(var n=new $a,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"elst")?n.boxes.push(Ja(r)):n.boxes.push(Xa(r))}return n}var nc=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Ko(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.jo},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Qo},set:function(t){if(!aa(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Zo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(oa),ic=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Ko(n,t),n}(nc);function ec(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ic(i,e,r)}var rc=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(ra.from(this.data))},n}(oa),sc=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Ko(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.ra},set:function(t){if(!cc(t))throw new v("Expected an ISO-639-2/T language code");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(va),uc=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(sc),oc=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(sc);function ac(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=new ia(ra.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var c=o.map(function(t){return String.fromCharCode(t+96)}).join("");return cc(c)||(c="und"),n.skip(2),0===e?new uc(s,c,r.raw):new oc(s,c,r.raw)}function cc(t){return/^[a-z]{3}$/.test(t)}var hc=function(t){function n(){return t.call(this,"mdia")||this}return Ko(n,t),n}(Ga);function fc(t){for(var n=new hc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mdhd")?n.boxes.push(ac(r)):Ca(r,"hdlr")?n.boxes.push(Ha(r)):n.boxes.push(Xa(r))}return n}var vc,lc=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new ra,n}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(oa);function dc(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new lc;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(ja),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(vc||(vc={}));var wc,_c,gc={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mc(t,n){n.writer.writeUInt(ca(t.a,16),32),n.writer.writeUInt(ca(t.b,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.c,16),32),n.writer.writeUInt(ca(t.d,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.x,16),32),n.writer.writeUInt(ca(t.y,16),32),n.writer.writeUInt(ca(1,30),32)}function yc(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:wc.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:_c.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:_c.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:_c.UNKNOWN,2)}function kc(t,n){var i,e,r;n.writer.writeUInt(0,4),yc(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(wc||(wc={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(_c||(_c={}));var bc=function(){return function(){}}(),pc=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Ko(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.ua},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Vi},set:function(t){if(!aa(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.Vi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(ra.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(ra.from(this.data))},n}(va),Ac=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Ko(n,t),n}(pc),Tc=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Ko(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.oa},set:function(t){if(!aa(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(ra.from(e))}},n}(pc);function Sc(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Tc(i,o,e):new Ac(i,o)}var Ec=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.va},set:function(t){if(!aa(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Ic=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ec),Rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ec);function Nc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Ic(n.nextUint32(),r.raw):new Rc(n.nextUint64(),r.raw)}var Dc=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ma},set:function(t){if(!aa(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ya},set:function(t){if(!aa(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(!aa(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ta},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),kc(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(va);function Cc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Ma(new ia(ra.from(n.nextUint8Array(4))));return new Dc(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:c},e,r.raw)}var Pc=function(t){function n(){return t.call(this,"mvex")||this}return Ko(n,t),n}(Ga);function Bc(t){for(var n=new Pc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mehd")?n.boxes.push(Nc(r)):Ca(r,"trex")?n.boxes.push(Cc(r)):n.boxes.push(Xa(r))}return n}var Oc=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=r.matrix)&&void 0!==c?c:gc,h.Sa=e,h}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Ea},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Ia},set:function(t){if(!aa(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ra},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Sa},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!aa(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ca(this.rate,16),32),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mc(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(va),xc=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Oc),Lc=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Oc);function Mc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=fa(n.nextUint32(),16),o=fa(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ua(n);n.skip(24);var c=n.nextUint32();return 0===e?new xc(s,c,{rate:u,volume:o,matrix:a},r.raw):new Lc(s,c,{rate:u,volume:o,matrix:a},r.raw)}var Uc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,c,h,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:gc,f}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!aa(t,32))throw new v("trackId cannot exceed 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Ia},set:function(t){if(!aa(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Na},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Da},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Ca},set:function(t){if(!aa(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Pa},set:function(t){if(!aa(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ra},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),mc(this.matrix,n),n.writer.writeUInt(ca(this.width,16),32),n.writer.writeUInt(ca(this.height,16),32)},n}(va),Xc=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Uc),Fc=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uc);function Hc(t){var n,i,e,r,s=t.data,u=xa(s.nextUint32()),o=u.version,a=u.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=fa(s.nextInt16(),8);s.skip(2);var _=Ua(s),g=fa(s.nextUint32(),16),m=fa(s.nextUint32(),16);return 0===o?new Xc({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Fc({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var zc=function(t){function n(){return t.call(this,"trak")||this}return Ko(n,t),n}(Ga);function Vc(t){for(var n=new zc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tkhd")?n.boxes.push(Hc(r)):Ca(r,"mdia")?n.boxes.push(fc(r)):Ca(r,"edts")?n.boxes.push(tc(r)):n.boxes.push(Xa(r))}return n}var Wc=function(t){function n(){return t.call(this,"moov")||this}return Ko(n,t),n}(Ga);function Gc(t){for(var n=new Wc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mvhd")?n.boxes.push(Mc(r)):Ca(r,"trak")?n.boxes.push(Vc(r)):Ca(r,"mvex")?n.boxes.push(Bc(r)):Ca(r,"pssh")?n.boxes.push(Sc(r)):n.boxes.push(Xa(r))}return n}var qc=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Ba},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Yc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(qc),jc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(qc);function Qc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Yc(n.nextUint32(),r.raw):new jc(n.nextUint64(),r.raw)}var Zc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Oa},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!aa(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.xa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!aa(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ya},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&kc(this.defaultSampleFlags,n)},n}(va);function Kc(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=Boolean(e.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,l=c?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ma(new ia(ra.from(n.nextUint8Array(4)))):void 0;return new Zc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var Jc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Ko(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.La},set:function(t){if(t&&!aa(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Ma},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){var n,i;if(!aa(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!aa(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!aa(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!aa(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!aa(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!aa(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&kc(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&kc(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(va);function $c(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ma(new ia(ra.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<h;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ma(new ia(ra.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new Jc(i,f,v)}var th=function(t){function n(){return t.call(this,"traf")||this}return Ko(n,t),n}(Ga);function nh(t){for(var n=new th,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tfhd")?n.boxes.push(Kc(r)):Ca(r,"tfdt")?n.boxes.push(Qc(r)):Ca(r,"trun")?n.boxes.push($c(r)):n.boxes.push(Xa(r))}return n}var ih=function(t){function n(){return t.call(this,"moof")||this}return Ko(n,t),n}(Ga);function eh(t){for(var n=new ih,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"traf")?n.boxes.push(nh(r)):Ca(r,"pssh")?n.boxes.push(Sc(r)):n.boxes.push(Xa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Ko(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Xa},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(va);var rh=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Ko(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.Fa},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(oa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Ko(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ha},set:function(t){if(!aa(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Va},set:function(t){if(!aa(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(oa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ga),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new rh(n),r}Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(oa);var sh=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){var n=this;if(!aa(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Wa},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(va);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(sh),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(sh),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ga},set:function(t){if(!aa(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ga=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.qa},set:function(t){if(!aa(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.qa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Wa},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(va),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){yc(e[i],n)}}}(va),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ja);var uh=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Ko(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.Ya},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(va);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Ko(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(uh),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Ko(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Qa},set:function(t){if(!aa(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(uh),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ma},set:function(t){if(!aa(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(uh),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Ko(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Za},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){if(!aa(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(va),function(t){function n(){return t.call(this,"stbl")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.firstChunk,32)||!aa(t.sampleDescriptionIndex,32)||!aa(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(va),function(t){function n(){return t.call(this,"schi")||this}Ko(n,t)}(Ga),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Ko(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.Ka},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.Ka=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Ja},set:function(t){if(!aa(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.Ja=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.$a},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.$a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(va);var oh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.tc},set:function(t){if(!aa(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.nc},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.nc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ic},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ic=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.ec},set:function(t){if(!aa(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!aa(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!aa(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!aa(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.ec=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(va),ah=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(oh),ch=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(oh);var hh=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Ko(n,t),n}(nc);function fh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new hh(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Ko(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.rc},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!aa(ca(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.rc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ca(this.balance,8),16),n.writer.writeUInt(0,16)}}(va),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(va),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("The provided trackId does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(ja),function(t){function n(){return t.call(this,"udta")||this}Ko(n,t)}(Ga);var vh={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=vh);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Ko(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.uc},set:function(t){if(!aa(t.red,16)||!aa(t.green,16)||!aa(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.uc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(va);var lh=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=r.depth)&&void 0!==h?h:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Ko(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Na},set:function(t){if(!aa(t,16))throw new v("Provided width does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Da},set:function(t){if(!aa(t,16))throw new v("Provided height does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.ac},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.ac=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.cc},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.cc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.hc},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.hc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.fc},set:function(t){if(!aa(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.fc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.vc},set:function(t){if(!aa(t,16))throw new v("Provided depth does not fit in 16 bits.");this.vc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ca(this.horizontalResolution,16),32),n.writer.writeUInt(ca(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ha(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(ra.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(va),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Ya),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(lh),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(qa),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(oa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.lc},set:function(t){if(!aa(t,8))throw new v("Provided version does not fit in 8 bits.");this.lc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.dc},set:function(t){if(!aa(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.dc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.wc},set:function(t){if(!aa(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.wc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this._c},set:function(t){if(!aa(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this._c=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.gc},set:function(t){if(!aa(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.gc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.mc},set:function(t){if(!aa(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.mc=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(ra.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(ra.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Ko(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(lh),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Ko(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Io},set:function(t){if(!aa(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.yc},set:function(t){if(!aa(t,32))throw new v("Provided max does not fit in 32 bits.");this.yc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.kc},set:function(t){if(!aa(t,32))throw new v("Provided avg does not fit in 32 bits.");this.kc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(oa);var dh=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Ko(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.bc},set:function(t){if(!aa(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.bc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.pc},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.pc=t,this.Ac=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Tc},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Tc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ac},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Ac=t,this.pc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ha(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ha(t.writer,this.constantIv))},n}(va);!function(t){function n(n){return t.call(this,0,n)||this}Ko(n,t)}(dh);var wh=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Ko(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Sc},set:function(t){if(!aa(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Sc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ec},set:function(t){if(!aa(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Ec=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(dh);function _h(t){return void 0!==t.iv}function gh(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new wh(n),i}Ko(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(bc),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Ko(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){var n;if(!aa(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(_h(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=gh(r)),!0===n&&!gh(r)||!1===n&&gh(r))throw new v("Mix of samples with and without subsamples detected.");if(gh(r)){if(!aa(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!aa(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!aa(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];_h(r)&&(n+=r.iv.length),gh(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(_h(r)&&ha(n.writer,r.iv),gh(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(va),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Ko(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ic},set:function(t){if(!aa(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Ic=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Rc},set:function(t){if(!aa(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Rc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Nc},set:function(t){if(!aa(t,32))throw new v("The provided id does not fit in 32 bits.");this.Nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(ra.from(this.data))}}(va);var mh=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ua,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function yh(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Oa(i,e);if(!r.complete)return;if(Ca(r.box,n))return r.box}}(new Da(Ia(i),new Na),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var kh=yh("moov",Gc),bh=yh("sidx",function(t){var n,i,e=t.data,r=xa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var c=e.nextUint16(),h=[],f=0;f<c;f++){var v=new ia(ra.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);h.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new ah(o,a,n,i,h,u.raw):new ch(o,a,n,i,h,u.raw)}),ph=yh("moof",eh),Ah=yh("pssh",Sc);function Th(t){return function(t){for(var n=new mh,i=0,e=Ba(t);i<e.length;i++){var r=e[i];Ca(r,"ftyp")?n.boxes.push(ec(r)):Ca(r,"styp")?n.boxes.push(fh(r)):Ca(r,"moov")?n.boxes.push(Gc(r)):Ca(r,"moof")?n.boxes.push(eh(r)):Ca(r,"mdat")?n.boxes.push(dc(r)):n.boxes.push(Xa(r))}return n}(new Da(Ia(t),new Na))}var Sh=function(t){function n(n,i){var e;(e=t.call(this)||this).Dc=void 0,e.Cc=!1,e.Pc=void 0,e.Bc=void 0,e.Oc=function(){e.xc()},e.Lc=function(t){e.Ys(new yu(Zt(e),t.messageType,Yo(e.Mc,t.message)))},e.Uc=function(){e.Cc=!0,e.Dc.Nu>0&&(e.Dc.Ru(),e.Ys(new mu(Zt(e)))),e.Xc.removeEventListener("keystatuseschange",e.Oc),e.Xc.removeEventListener("message",e.Lc)},e.Xc=n,e.Mc=i,e.Xc.addEventListener("keystatuseschange",e.Oc),e.Xc.addEventListener("message",e.Lc),e.Dc=new Tu;var r=[];return e.Xc.closed&&r.push(Ve.resolve(e.Xc.closed)),e.Bc=new Wo,r.push(e.Bc.Uu),e.Pc=Ve.race(r).then(e.Uc,e.Uc),e.xc(),e}S(n,t);var i=n.prototype;return i.Fc=function(){if(this.Cc)return this.Pc;var t=[];return t.push(Ve.resolve(this.Xc.close())),t.push(cu(1e3)),this.Bc.Hu(Ve.race(t).catch(Eh)),this.Cc=!0,this.Pc},i.Hc=function(t,n,i){if(L.cn){var e=Ah(Uo(n));if(1===e.version)n=new Ac(e.systemId,e.data).serialize().join()}return Ve.resolve(this.Xc.generateRequest(t,n)).catch(Eh)},i.zc=function(t){return Ve.resolve(this.Xc.load(t)).catch(Eh)},i.Vc=function(){return Ve.resolve(this.Xc.remove()).catch(Eh)},i.Wc=function(t){return Ve.resolve(this.Xc.update(t)).catch(Eh)},i.xc=function(){var t=this;this.Dc.Ru(),this.Xc.keyStatuses.forEach(function(n,i){t.Gc(i,n)}),this.Ys(new mu(this))},i.Gc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Uo(t);if(this.Mc===jr&&16===e.byteLength){var r=xo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Mc===jr&&"status-pending"===n&&(n="usable"),this.Dc.Iu(e,n)},A(n,[{key:"qc",get:function(){return this.Pc}},{key:"Yc",get:function(){return this.Xc.expiration}},{key:"jc",get:function(){return this.Dc}},{key:"Qc",get:function(){return this.Xc.sessionId}}]),n}(lu);function Eh(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Qo(t.message,void 0,n,t)}var Ih=function(){function t(t,n,i){this.Zc=t,this.Kc=n,this.Jc=i}var n=t.prototype;return n.$c=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Sh(this.Zc.createSession(t),this.Kc));case 1:case"end":return n.stop()}},null,this,null,Ve)},n.nh=function(t){return Ve.resolve(this.Zc.setServerCertificate(t))},n.ih=function(t){return Ve.resolve(t.setMediaKeys(this.Zc))},n.eh=function(t){return Ve.resolve(t.setMediaKeys(null))},t}(),Rh=function(){function t(t,n,i){this.rh=t,this.Mc=n,this.sh=i}var n=t.prototype;return n.uh=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.rh.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Ih(t,this.Mc,this.sh));case 4:case"end":return n.stop()}},null,this,null,Ve)},n.oh=function(){return this.sh},A(t,[{key:"Kc",get:function(){return this.rh.keySystem}}]),t}(),Nh={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Dh(t){return fs(t,Nh.APPLICATION_MP4)||fs(t,Nh.VIDEO_MP4)||fs(t,Nh.AUDIO_MP4)}var Ch=function(){function t(t,n){this.us=void 0,this.ah=void 0,this.us=t,this.ah=n}return t.prototype.hh=function(t){for(var n=0,i=this.ah;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Ph(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ch(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var c=r[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Bh(r.substr(u,a));h&&s.push(h),u=a+1}}if(u!==r.length){var f=Bh(r.substr(u));f&&s.push(f)}return new Ch(e,s)}function Bh(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Oh(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function xh(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+_s((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Lh(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,fh:e.fh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Mh(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Mh(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Mh(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Xs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Oh(e.contentType))))}function Uh(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Xh(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Fh(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Hh))||!(!t.videoCapabilities||!t.videoCapabilities.some(Hh))}function Hh(t){return!t.robustness}function zh(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Vh=function(){function t(){}return t.prototype.As=function(t,n){var i,e,r,s,u,a,c,h;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.fh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Xh(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Xh(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Fh)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?zh(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?zh(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Rr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Rh(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Rr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return c=f.sent,h=c.getConfiguration(),f.abrupt("return",new Rh(c,t,h));case 19:case"end":return f.stop()}},null,null,[[4,12]],Ve)},t.vh=function(){return ps()},t}(),Wh=function(t){function n(n,i){var e;return(e=t.call(this)||this).Cc=!1,e.lh=void 0,e.dh=void 0,e.wh=void 0,e._h=void 0,e.gh=void 0,e.Uc=function(){e.Cc=!0,e.lh.Hu(void 0),e.gh&&(e.gh.removeEventListener("mskeyclose",e.Uc),e.gh.removeEventListener("mskeymessage",e.yh),e.gh.removeEventListener("mskeyerror",e.kh),e.gh.removeEventListener("mskeyadded",e.ph))},e.yh=function(t){e.wh&&(e.wh.Hu(void 0),e.wh=void 0),e.Ys(new yu(Zt(e),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},e.kh=function(){var t=e.gh&&e.gh.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);if(e.wh)e.wh.Vu(n),e.wh=void 0;else if(e.dh)e.dh.Vu(n),e.dh=void 0;else switch(n.Wu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ah("output-not-allowed");break;default:e.Ah("internal-error")}}},e.ph=function(){e.wh&&(e.Ah("usable"),e.wh.Hu(void 0),e.wh=void 0),e.dh&&(e.Ah("usable"),e.dh.Hu(void 0),e.dh=void 0)},e.Th=n,e.Sh=i,e.lh=new Wo,e._h=new Tu,e}S(n,t);var i=n.prototype;return i.Hc=function(t,n,i){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),this.wh=new Wo,this.$c(Uo(n),i),t.next=5,Rr.awrap(this.wh.Uu);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.$c=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Ih;return(i=n?this.Th.createSession(this.Sh,t,e):this.Th.createSession(this.Sh,t)).addEventListener("mskeyclose",this.Uc),i.addEventListener("mskeymessage",this.yh),i.addEventListener("mskeyerror",this.kh),i.addEventListener("mskeyadded",this.ph),this.gh=i,this.Ah("status-pending"),i},i.zc=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Wc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.dh=new Wo,this.Eh(),this.gh){i.next=4;break}return i.abrupt("return",Ve.resolve());case 4:if(0!==(n=Uo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.gh.update(n),i.next=10,Rr.awrap(this.dh.Uu);case 10:case"end":return i.stop()}},null,this,null,Ve)},i.Fc=function(){return!this.Cc&&this.gh&&(this.Cc=!0,this.gh.close()),this.lh.Uu},i.Vc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Eh=function(){if(this.Cc)throw new l("Already closing or closed.")},i.Ah=function(t){this._h.Ru(),this._h.Iu(Au,t),this.Ys(new mu(this))},A(n,[{key:"Qc",get:function(){return this.gh&&this.gh.sessionId||""}},{key:"Yc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return this._h}}]),n}(lu),Gh=function(){function t(t,n,i){this.Sh=void 0,this.Th=t,this.Kc=n,this.Jc=i;var e=Uh(i)||"video/mp4";this.Sh=Oh(e)}var n=t.prototype;return n.$c=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Wh(this.Th,this.Sh));case 1:case"end":return t.stop()}},null,this,null,Ve)},n.nh=function(t){return Ve.resolve(!1)},n.ih=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Th):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Th),t.removeEventListener("loadedmetadata",i)}),Ve.resolve()},n.eh=function(t){return Ve.resolve()},t}(),qh=function(){function t(t,n){this.Mc=t,this.Rh=n}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){var t=new ve.MSMediaKeys(this.Mc);return Ve.resolve(new Gh(t,this.Mc,this.Rh))},A(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),Yh=function(){function t(){}return t.prototype.As=function(t,n){try{return Ve.resolve(function(t,n){if(!jh())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lh(Qh,_u,t,e);if(r)return new qh(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ve.reject(t)}},t.vh=function(){return jh()},t}();function jh(){return void 0!==ve.MSMediaKeys&&"function"==typeof ve.MSMediaKeys.isTypeSupported}function Qh(t,n){return ve.MSMediaKeys.isTypeSupported(t,n)}var Zh,Kh,Jh=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lh=new Wo,r.Nh=void 0,r._h=new Tu,r.Dh=void 0,r.Ch=new Wo,r.kh=function(){var t=r.Dh&&r.Dh.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);r.Nh?(r.Nh.Vu(n),r.Nh=void 0):n.Wu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ah("output-not-allowed"):r.Ah("internal-error"),r.Ys(new ku)}},r.yh=function(t){r.Nh&&(r.Nh.Hu(void 0),r.Nh=void 0),r.Ys(new yu(Zt(r),"license-request",Fo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ph=n,r.Sh=i,r.Bh=e,r}S(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Oh;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=$h(Uo(n),e,this.Bh);return this.Dh=this.Ph.createSession(this.Sh,r),this.Dh.addEventListener("webkitkeymessage",this.yh,!1),this.Dh.addEventListener("webkitkeyerror",this.kh,!1),this.Ah("usable"),this.Ch.Hu(this.Dh),this.Ch=new Wo,Ve.resolve()},i.zc=function(t){return Ve.resolve(!0)},i.Wc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Nh=new Wo,i.t0=this.Dh,i.t0){i.next=9;break}return i.next=8,Rr.awrap(this.Ch.Uu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Rr.awrap(this.Nh.Uu);case 13:case"end":return i.stop()}},null,this,null,Ve)},i.Fc=function(){var t=this.Dh;return t&&(t.removeEventListener("webkitkeymessage",this.yh,!1),t.removeEventListener("webkitkeyerror",this.kh,!1),t.close()),this.Ch.Xs(),this.lh.Hu(void 0),this.lh.Uu},i.Vc=function(){return Ve.resolve(void 0)},i.Ah=function(t){this._h.Ru(),this._h.Iu(Au,t),this.Ys(new mu(this))},A(n,[{key:"Qc",get:function(){return this.Dh?this.Dh.sessionId:""}},{key:"Yc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return this._h}}]),n}(lu);function $h(t,n,i){var e=Do(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new zo;return ho(o,a,r,!0),Ao(o,a,e,!0),ho(o,a,s,!0),Ao(o,a,n,!0),ho(o,a,i.byteLength,!0),ro(o,a,i),new y(u)}n.ErrorCode=void 0,(Zh=n.ErrorCode||(n.ErrorCode={}))[Zh.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Zh[Zh.LICENSE_ERROR=2e3]="LICENSE_ERROR",Zh[Zh.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Zh[Zh.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Zh[Zh.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Zh[Zh.SOURCE_INVALID=3e3]="SOURCE_INVALID",Zh[Zh.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Zh[Zh.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Zh[Zh.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Zh[Zh.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Zh[Zh.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Zh[Zh.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Zh[Zh.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Zh[Zh.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Zh[Zh.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Zh[Zh.NETWORK_ERROR=6e3]="NETWORK_ERROR",Zh[Zh.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Zh[Zh.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Zh[Zh.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Zh[Zh.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Zh[Zh.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Zh[Zh.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Zh[Zh.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Zh[Zh.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Zh[Zh.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Zh[Zh.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Zh[Zh.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Zh[Zh.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Zh[Zh.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Zh[Zh.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Zh[Zh.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Zh[Zh.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Zh[Zh.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Zh[Zh.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Zh[Zh.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Zh[Zh.AD_ERROR=1e4]="AD_ERROR",Zh[Zh.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Zh[Zh.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Kh=n.ErrorCategory||(n.ErrorCategory={}))[Kh.CONFIGURATION=1]="CONFIGURATION",Kh[Kh.LICENSE=2]="LICENSE",Kh[Kh.SOURCE=3]="SOURCE",Kh[Kh.MANIFEST=4]="MANIFEST",Kh[Kh.MEDIA=5]="MEDIA",Kh[Kh.NETWORK=6]="NETWORK",Kh[Kh.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Kh[Kh.SUBTITLE=8]="SUBTITLE",Kh[Kh.VR=9]="VR",Kh[Kh.AD=10]="AD",Kh[Kh.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var tf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Jt);var nf=function(){function t(t,n,i){this.Sh=void 0,this.Bh=void 0,this.Ph=t,this.Kc=n,this.Jc=i;var e=Uh(i)||"video/mp4";this.Sh=Oh(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ph},i.$c=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Jh(this.Ph,this.Sh,this.Bh));case 3:case"end":return t.stop()}},null,this,null,Ve)},i.nh=function(t){return this.Bh=Uo(t),Ve.resolve(!0)},i.ih=function(t){return t.webkitSetMediaKeys(this.Ph),Ve.resolve()},i.eh=function(t){return t.webkitSetMediaKeys(null),Ve.resolve()},t}(),ef=function(){function t(t,n){this.Mc=t,this.Rh=n}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){var t=new ve.WebKitMediaKeys(this.Mc);return Ve.resolve(new nf(t,this.Mc,this.Rh))},A(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),rf=function(){function t(){}return t.prototype.As=function(t,n){try{return Ve.resolve(function(t,n){if(t!==ns)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!sf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lh(uf,gu,t,e);if(r)return new ef(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ve.reject(t)}},t.vh=function(){return sf()},t}();function sf(){return void 0!==ve.WebKitMediaKeys&&"function"==typeof ve.WebKitMediaKeys.isTypeSupported}function uf(t,n){return ve.WebKitMediaKeys.isTypeSupported(t,n)}var of,af=function(){function t(t){this.Lh=t}return t.prototype.As=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Lh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Rr.awrap(r.As(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],Ve)},t}(),cf=function(t){function n(n){var i;return(i=t.call(this)||this).wh=void 0,i.Nh=void 0,i.lh=void 0,i.oo=!1,i.Mh=void 0,i.Uh=void 0,i.Xh=void 0,i.Fh=void 0,i.Hh=void 0,i.Mc=n,i.lh=new Wo,i.Uh="",i.Hh=new Wo,i.Xh=new Tu,i}S(n,t);var i=n.prototype;return i.Vh=function(){this.Nh&&(this.Ah("usable"),this.Nh.Hu(void 0),this.Nh=void 0)},i.Wh=function(t){var n=new Qo("Unknown CDM error",t.errorCode,t.systemCode);this.Nh?(this.Nh.Vu(n),this.Nh=void 0):this.wh?(this.wh.Vu(n),this.wh=void 0):n.Wu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ah("output-restricted"):1===n.Gu?this.Ah("expired"):this.Ah("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.wh&&(this.wh.Hu(void 0),this.wh=void 0),this.Ys(new yu(this,"license-request",Yo(this.Mc,Fo(t.message).buffer),t.defaultURL||void 0)))},i.qh=function(t){this.Fh||(this.Fh=t,this.Hh.Hu(t))},i.Fc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.oo=!0,this.lh.Hu(void 0);case 3:case"end":return t.stop()}},null,this,null,Ve)},i.Hc=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.wh=new Wo,this.Mh=Uo(n),t.t0=this.Fh,t.t0){t.next=8;break}return t.next=7,Rr.awrap(this.Hh.Uu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Mc,this.Mh),t.next=12,Rr.awrap(this.wh.Uu);case 12:case"end":return t.stop()}},null,this,null,Ve)},i.zc=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Vc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,Ve)},i.Wc=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Nh=new Wo,n.t0=this.Fh,n.t0){n.next=7;break}return n.next=6,Rr.awrap(this.Hh.Uu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Mc,Uo(t),this.Mh,this.Qc),n.next=11,Rr.awrap(this.Nh.Uu);case 11:case"end":return n.stop()}},null,this,null,Ve)},i.throwIfClosed=function(){if(this.oo)throw new l("Already closing or closed.")},i.Ah=function(t){this.Xh.Ru(),this.Xh.Iu(Au,t),this.Ys(new mu(this))},A(n,[{key:"jc",get:function(){return this.Xh}},{key:"Qc",get:function(){return this.Uh},set:function(t){this.Uh=t}},{key:"qc",get:function(){return this.lh.Uu}},{key:"Yc",get:function(){return NaN}}]),n}(lu),hf=function(){function t(t,n){var i=this;this.Fh=void 0,this.Yh=Cr(),this.jh=[],this.ph=function(t){var n=i.Qh(t.sessionId);n&&n.Vh()},this.Zh=function(t){var n=i.Qh(t.sessionId);n&&n.Wh(t)},this.Kh=function(t){var n=i.Qh(t.sessionId);n&&n.Gh(t)},this.Kc=t,this.Jc=n}var n=t.prototype;return n.ih=function(t){return this.Fh=t,this.Fh.addEventListener("webkitkeyadded",this.ph),this.Fh.addEventListener("webkitkeyerror",this.Zh),this.Fh.addEventListener("webkitkeymessage",this.Kh),this.Yh.forEach(function(n,i){return n.qh(t)}),this.jh.forEach(function(n){return n.qh(t)}),Ve.resolve()},n.eh=function(t){return t.removeEventListener("webkitkeyadded",this.ph),t.removeEventListener("webkitkeyerror",this.Zh),t.removeEventListener("webkitkeymessage",this.Kh),this.Fh=void 0,Ve.resolve()},n.$c=function(t,n,i){var e;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new cf(this.Kc),this.Fh&&e.qh(this.Fh),this.jh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,Ve)},n.nh=function(t){return Ve.resolve(!1)},n.Qh=function(t){if(t){var n=this.Yh.get(t);return n||((n=this.jh.shift())?(n.Qc=t,this.Yh.set(t,n),n):void 0)}},t}(),ff=function(){function t(t,n){this.Kc=t,this.Jh=n}var n=t.prototype;return n.uh=function(){return Ve.resolve(new hf(this.Kc,this.Jh))},n.oh=function(){return this.Jh},t}(),vf=function(){function t(){}return t.prototype.As=function(t,n){try{return Ve.resolve(lf(t,n))}catch(t){return Ve.reject(t)}},t.vh=function(){return As()},t}();function lf(t,n){if(!vf.vh())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lh(df,_u,t,e);if(r)return new ff(t,r)}throw new l("Unsupported key system configuration for "+t)}function df(t,n){var i=or();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function wf(){return of||(of=function(){var t=[];rf.vh()&&t.push(new rf);Vh.vh()&&t.push(new Vh);Yh.vh()&&t.push(new Yh);vf.vh()&&t.push(new vf);return new af(t)}()),of}var _f=function(){function t(){this.$h=Cr()}var n=t.prototype;return n.Ru=function(t){this.$h.delete(t)},n.tf=function(){this.$h.clear()},n.Su=function(t){return this.$h.get(t)},n.nf=function(t,n){this.$h.set(t,n)},t}(),gf=function(){function t(){}return t.if=function(){return t.Gn||(t.Gn=mf.vh()?new mf:new _f),t.Gn},t.Ru=function(n){t.if().Ru(n)},t.tf=function(){t.if().tf()},t.Su=function(n){return t.if().Su(n)},t.nf=function(n,i){t.if().nf(n,i)},t}();gf.Gn=void 0;var mf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.vh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ru=function(n){t.sessionStorage.removeItem(n)},e.tf=function(){t.sessionStorage.clear()},e.Su=function(n){return t.sessionStorage[n]},e.nf=function(n,i){t.sessionStorage[n]=i},i}(gf);var yf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function kf(t,n,i){var e=yf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var bf,pf;!function(t){t.ef="rf",t.sf="uf",t.cf="contentprotectionerror",t.hf="contentprotectionsuccess",t.vf="currentsourcechange",t.lf="destroy",t.df="durationchange",t.wf="emptied",t._u="encrypted",t._f="ended",t.gf="mf",t.yf="loadstart",t.kf="manifestupdate",t.bf="nosupportedrepresentationfound",t.pf="offline",t.Af="online",t.Tf="pause",t.Sf="play",t.Ef="progress",t.If="ratechange",t.Rf="representationchange",t.Nf="resize",t.Df="seeked",t.Cf="seeking",t.Pf="segmentnotfound",t.Bf="Of",t.xf="Lf",t.Mf="sourcechange",t.Uf="timeupdate",t.Xf="volumechange",t.Ff="Hf",t.zf="metricschange"}(bf||(bf={})),function(t){t.Vf="arraybuffer",t.Wf="json",t.Gf="stream",t.Kn="text"}(pf||(pf={}));var Af=function(){function t(n){var i=this;this.Qr=void 0,this.Qr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Tf(i),e=Sf(e);var r=i.toLowerCase();if(this.Qr.hasOwnProperty(r)){var s=this.Qr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Qr[r]=[i,e]},n.delete=function(t){var n=Tf(t).toLowerCase();delete this.Qr[n]},n.get=function(t){var n=Tf(t).toLowerCase();return this.Qr.hasOwnProperty(n)?this.Qr[n][1]:null},n.has=function(t){var n=Tf(t).toLowerCase();return this.Qr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Tf(i)).toLowerCase();this.Qr[e]=[i,Sf(n)]},n.forEach=function(t,n){for(var i in this.Qr)this.Qr.hasOwnProperty(i)&&t.call(n,this.Qr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Qr)if(this.Qr.hasOwnProperty(n)){var i=this.Qr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.qf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Yf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.jf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Tf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Sf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function If(){}var Rf=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Nf(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Df=If,Cf=Ve,Pf=Ve.prototype.then,Bf=Ve.resolve.bind(Cf),Of=Ve.reject.bind(Cf);function xf(t){return new Cf(t)}function Lf(t){return Bf(t)}function Mf(t){return Of(t)}function Uf(t,n,i){return Pf.call(t,n,i)}function Xf(t,n,i){Uf(Uf(t,n,i),void 0,Df)}function Ff(t,n){Xf(t,n)}function Hf(t,n){Xf(t,void 0,n)}function zf(t,n,i){return Uf(t,n,i)}function Vf(t){Uf(t,void 0,Df)}var Wf=function(){var t=Rf&&Rf.queueMicrotask;if("function"==typeof t)return t;var n=Lf(void 0);return function(t){return Uf(n,t)}}();function Gf(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function qf(t,n,i){try{return Lf(Gf(t,n,i))}catch(t){return Mf(t)}}var Yf=function(){function t(){this.Qf=0,this.Zf=0,this.Te={Kf:[],Jf:void 0},this.$f=this.Te,this.Qf=0,this.Zf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Zf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.$f,i=n;16383===n.Kf.length&&(i={Kf:[],Jf:void 0}),n.Kf.push(t),i!==n&&(this.$f=i,n.Jf=i),++this.Zf},t.prototype.shift=function(){var t=this.Te,n=t,i=this.Qf,e=i+1,r=t.Kf,s=r[i];return 16384===e&&(n=t.Jf,e=0),--this.Zf,this.Qf=e,t!==n&&(this.Te=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qf,i=this.Te,e=i.Kf;!(n===e.length&&void 0===i.Jf||n===e.length&&(n=0,0===(e=(i=i.Jf).Kf).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Te,n=this.Qf;return t.Kf[n]},t}();function jf(t,n){t.tv=n,n.ev=t,"readable"===n.we?Jf(t):"closed"===n.we?function(t){Jf(t),nv(t)}(t):$f(t,n.rv)}function Qf(t,n){return Zd(t.tv,n)}function Zf(t){"readable"===t.tv.we?tv(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){$f(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.tv.ev=void 0,t.tv=void 0}function Kf(t){return new l("Cannot "+t+" a stream using a released reader")}function Jf(t){t.Pc=xf(function(n,i){t.uv=n,t.ov=i})}function $f(t,n){Jf(t),tv(t,n)}function tv(t,n){void 0!==t.ov&&(Vf(t.Pc),t.ov(n),t.uv=void 0,t.ov=void 0)}function nv(t){void 0!==t.uv&&(t.uv(void 0),t.uv=void 0,t.ov=void 0)}var iv=Ef("[[AbortSteps]]"),ev=Ef("[[ErrorSteps]]"),rv=Ef("[[CancelSteps]]"),sv=Ef("[[PullSteps]]"),uv=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},ov=w.trunc||function(t){return t<0?w.ceil(t):w.floor(t)};function av(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new l(n+" is not an object.");var i}function cv(t,n){if("function"!=typeof t)throw new l(n+" is not a function.")}function hv(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new l(n+" is not an object.")}function fv(t,n,i){if(void 0===t)throw new l("Parameter "+n+" is required in '"+i+"'.")}function vv(t,n,i){if(void 0===t)throw new l(n+" is required in '"+i+"'.")}function lv(t){return Number(t)}function dv(t){return 0===t?0:t}function wv(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=dv(e),!uv(e))throw new l(n+" is not a finite number");if((e=function(t){return dv(ov(t))}(e))<0||e>i)throw new l(n+" is outside the accepted range of 0 to "+i+", inclusive");return uv(e)&&0!==e?e:0}function _v(t,n){if(!jd(t))throw new l(n+" is not a ReadableStream.")}function gv(t){return new Tv(t)}function mv(t,n){t.ev.hv.push(n)}function yv(t,n,i){var e=t.ev.hv.shift();i?e.fv():e.vv(n)}function kv(t){return t.ev.hv.length}function bv(t){var n=t.ev;return void 0!==n&&!!Sv(n)}var pv,Av,Tv=function(){function t(t){if(fv(t,1,"ReadableStreamDefaultReader"),_v(t,"First parameter"),Qd(t))throw new l("This stream has already been locked for exclusive reading by another reader");jf(this,t),this.hv=new Yf}return d.defineProperty(t.prototype,"closed",{get:function(){return Sv(this)?this.Pc:Mf(Iv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Sv(this)?void 0===this.tv?Mf(Kf("cancel")):Qf(this,t):Mf(Iv("cancel"))},t.prototype.read=function(){if(!Sv(this))return Mf(Iv("read"));if(void 0===this.tv)return Mf(Kf("read from"));var t,n,i=xf(function(i,e){t=i,n=e});return Ev(this,{vv:function(n){return t({value:n,done:!1})},fv:function(){return t({value:void 0,done:!0})},wv:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Sv(this))throw Iv("releaseLock");if(void 0!==this.tv){if(this.hv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Zf(this)}},t}();function Sv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"hv")&&t instanceof Tv)}function Ev(t,n){var i=t.tv;i._v=!0,"closed"===i.we?n.fv():"errored"===i.we?n.wv(i.rv):i.mv[sv](n)}function Iv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}d.defineProperties(Tv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Tv.prototype,Ef.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Ef.asyncIterator&&((pv={})[Ef.asyncIterator]=function(){return this},Av=pv,d.defineProperty(Av,Ef.asyncIterator,{enumerable:!1}));var Rv=function(){function t(t,n){this.yv=void 0,this.bv=!1,this.ev=t,this.pv=n}return t.prototype.next=function(){var t=this,n=function(){return t.Av()};return this.yv=this.yv?zf(this.yv,n,n):n(),this.yv},t.prototype.return=function(t){var n=this,i=function(){return n.Tv(t)};return this.yv?zf(this.yv,i,i):i()},t.prototype.Av=function(){var t=this;if(this.bv)return Ve.resolve({value:void 0,done:!0});var n,i,e=this.ev;if(void 0===e.tv)return Mf(Kf("iterate"));var r=xf(function(t,e){n=t,i=e});return Ev(e,{vv:function(i){t.yv=void 0,Wf(function(){return n({value:i,done:!1})})},fv:function(){t.yv=void 0,t.bv=!0,Zf(e),n({value:void 0,done:!0})},wv:function(n){t.yv=void 0,t.bv=!0,Zf(e),i(n)}}),r},t.prototype.Tv=function(t){if(this.bv)return Ve.resolve({value:t,done:!0});this.bv=!0;var n=this.ev;if(void 0===n.tv)return Mf(Kf("finish iterating"));if(!this.pv){var i=Qf(n,t);return Zf(n),zf(i,function(){return{value:t,done:!0}})}return Zf(n),Lf({value:t,done:!0})},t}(),Nv={next:function(){return Dv(this)?this.Sv.next():Mf(Cv("next"))},return:function(t){return Dv(this)?this.Sv.return(t):Mf(Cv("return"))}};function Dv(t){if(!Nf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Sv"))return!1;try{return t.Sv instanceof Rv}catch(t){return!1}}function Cv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Av&&d.setPrototypeOf(Nv,Av);var Pv=Number.isNaN||function(t){return t!=t};function Bv(t){return t.slice()}function Ov(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function xv(t){return t}function Lv(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Ov(r,0,t,n,e),r}function Mv(t){var n=Lv(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function Uv(t){var n=t.Ev.shift();return t.Iv-=n.size,t.Iv<0&&(t.Iv=0),n.value}function Xv(t,n,i){if("number"!=typeof(e=i)||Pv(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Ev.push({value:n,size:i}),t.Iv+=i}function Fv(t){t.Ev=new Yf,t.Iv=0}var Hv=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"view",{get:function(){if(!Wv(this))throw vl("view");return this.Rv},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Wv(this))throw vl("respond");if(fv(t,1,"respond"),t=wv(t,"First parameter"),void 0===this.Nv)throw new l("This BYOB request has been invalidated");this.Rv.buffer,cl(this.Nv,t)},t.prototype.respondWithNewView=function(t){if(!Wv(this))throw vl("respondWithNewView");if(fv(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");if(void 0===this.Nv)throw new l("This BYOB request has been invalidated");t.buffer,hl(this.Nv,t)},t}();d.defineProperties(Hv.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Hv.prototype,Ef.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var zv=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Vv(this))throw ll("byobRequest");return ol(this)},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Vv(this))throw ll("desiredSize");return al(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Vv(this))throw ll("close");if(this.Dv)throw new l("The stream has already been closed; do not close it again!");var t=this.Cv.we;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");rl(this)},t.prototype.enqueue=function(t){if(!Vv(this))throw ll("enqueue");if(fv(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new l("chunk must be an array buffer view");if(0===t.byteLength)throw new l("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new l("chunk's buffer must have non-zero byteLength");if(this.Dv)throw new l("stream is closed or draining");var n=this.Cv.we;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");sl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Vv(this))throw ll("error");ul(this,t)},t.prototype[rv]=function(t){qv(this),Fv(this);var n=this.Pv(t);return el(this),n},t.prototype[sv]=function(t){var n=this.Cv;if(this.Iv>0){var i=this.Ev.shift();this.Iv-=i.byteLength,Jv(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.vv(e)}else{var r=this.Bv;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.wv(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Ov.push(u)}mv(n,t),Gv(this)}},t}();function Vv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Cv")&&t instanceof zv)}function Wv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Nv")&&t instanceof Hv)}function Gv(t){(function(t){var n=t.Cv;if("readable"!==n.we)return!1;if(t.Dv)return!1;if(!t.xv)return!1;if(bv(n)&&kv(n)>0)return!0;if(gl(n)&&_l(n)>0)return!0;if(al(t)>0)return!0;return!1})(t)&&(t.Lv?t.Mv=!0:(t.Lv=!0,Xf(t.Uv(),function(){t.Lv=!1,t.Mv&&(t.Mv=!1,Gv(t))},function(n){ul(t,n)})))}function qv(t){$v(t),t.Ov=new Yf}function Yv(t,n){var i=!1;"closed"===t.we&&(i=!0);var e=jv(n);"default"===n.readerType?yv(t,e,i):function(t,n,i){var e=t.ev.Xv.shift();i?e.fv(n):e.vv(n)}(t,e,i)}function jv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Qv(t,n,i,e){t.Ev.push({buffer:n,byteOffset:i,byteLength:e}),t.Iv+=e}function Zv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Iv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var c=t.Ev;o>0;){var h=c.peek(),f=w.min(o,h.byteLength),v=n.byteOffset+n.bytesFilled;Ov(n.buffer,v,h.buffer,h.byteOffset,f),h.byteLength===f?c.shift():(h.byteOffset+=f,h.byteLength-=f),t.Iv-=f,Kv(t,f,n),o-=f}return a}function Kv(t,n,i){i.bytesFilled+=n}function Jv(t){0===t.Iv&&t.Dv?(el(t),Kd(t.Cv)):Gv(t)}function $v(t){null!==t.Fv&&(t.Fv.Nv=void 0,t.Fv.Rv=null,t.Fv=null)}function tl(t){for(;t.Ov.length>0;){if(0===t.Iv)return;var n=t.Ov.peek();Zv(t,n)&&(il(t),Yv(t.Cv,n))}}function nl(t,n){var i=t.Ov.peek();$v(t),"closed"===t.Cv.we?function(t,n){var i=t.Cv;if(gl(i))for(;_l(i)>0;)Yv(i,il(t))}(t):function(t,n,i){if(Kv(0,n,i),!(i.bytesFilled<i.elementSize)){il(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Lv(i.buffer,r-e,r);Qv(t,s,0,s.byteLength)}i.bytesFilled-=e,Yv(t.Cv,i),tl(t)}}(t,n,i),Gv(t)}function il(t){return t.Ov.shift()}function el(t){t.Uv=void 0,t.Pv=void 0}function rl(t){var n=t.Cv;if(!t.Dv&&"readable"===n.we)if(t.Iv>0)t.Dv=!0;else{if(t.Ov.length>0)if(t.Ov.peek().bytesFilled>0){var i=new l("Insufficient bytes to fill elements in the given buffer");throw ul(t,i),i}el(t),Kd(n)}}function sl(t,n){var i=t.Cv;if(!t.Dv&&"readable"===i.we){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=xv(e);if(t.Ov.length>0){var o=t.Ov.peek();o.buffer,0,o.buffer=xv(o.buffer)}if($v(t),bv(i))if(0===kv(i))Qv(t,u,r,s);else t.Ov.length>0&&il(t),yv(i,new y(u,r,s),!1);else gl(i)?(Qv(t,u,r,s),tl(t)):Qv(t,u,r,s);Gv(t)}}function ul(t,n){var i=t.Cv;"readable"===i.we&&(qv(t),Fv(t),el(t),Jd(i,n))}function ol(t){if(null===t.Fv&&t.Ov.length>0){var n=t.Ov.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=d.create(Hv.prototype);!function(t,n,i){t.Nv=n,t.Rv=i}(e,t,i),t.Fv=e}return t.Fv}function al(t){var n=t.Cv.we;return"errored"===n?null:"closed"===n?0:t.Hv-t.Iv}function cl(t,n){var i=t.Ov.peek();if("closed"===t.Cv.we){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new l("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=xv(i.buffer),nl(t,n)}function hl(t,n){var i=t.Ov.peek();if("closed"===t.Cv.we){if(0!==n.byteLength)throw new l("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new l("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=xv(n.buffer),nl(t,e)}function fl(t,n,i,e,r,s,u){n.Cv=t,n.Mv=!1,n.Lv=!1,n.Fv=null,n.Ev=n.Iv=void 0,Fv(n),n.Dv=!1,n.xv=!1,n.Hv=s,n.Uv=e,n.Pv=r,n.Bv=u,n.Ov=new Yf,t.mv=n,Xf(Lf(i()),function(){n.xv=!0,Gv(n)},function(t){ul(n,t)})}function vl(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ll(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function dl(t){return new ml(t)}function wl(t,n){t.ev.Xv.push(n)}function _l(t){return t.ev.Xv.length}function gl(t){var n=t.ev;return void 0!==n&&!!yl(n)}d.defineProperties(zv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(zv.prototype,Ef.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var ml=function(){function t(t){if(fv(t,1,"ReadableStreamBYOBReader"),_v(t,"First parameter"),Qd(t))throw new l("This stream has already been locked for exclusive reading by another reader");if(!Vv(t.mv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");jf(this,t),this.Xv=new Yf}return d.defineProperty(t.prototype,"closed",{get:function(){return yl(this)?this.Pc:Mf(bl("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),yl(this)?void 0===this.tv?Mf(Kf("cancel")):Qf(this,t):Mf(bl("cancel"))},t.prototype.read=function(t){if(!yl(this))return Mf(bl("read"));if(!ArrayBuffer.isView(t))return Mf(new l("view must be an array buffer view"));if(0===t.byteLength)return Mf(new l("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Mf(new l("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.tv)return Mf(Kf("read from"));var n,i,e=xf(function(t,e){n=t,i=e});return kl(this,t,{vv:function(t){return n({value:t,done:!1})},fv:function(t){return n({value:t,done:!0})},wv:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!yl(this))throw bl("releaseLock");if(void 0!==this.tv){if(this.Xv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Zf(this)}},t}();function yl(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Xv")&&t instanceof ml)}function kl(t,n,i){var e=t.tv;e._v=!0,"errored"===e.we?i.wv(e.rv):function(t,n,i){var e=t.Cv,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=xv(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Ov.length>0)return t.Ov.push(o),void wl(e,i);if("closed"!==e.we){if(t.Iv>0){if(Zv(t,o)){var a=jv(o);return Jv(t),void i.vv(a)}if(t.Dv){var c=new l("Insufficient bytes to fill elements in the given buffer");return ul(t,c),void i.wv(c)}}t.Ov.push(o),wl(e,i),Gv(t)}else{var h=new s(o.buffer,o.byteOffset,0);i.fv(h)}}(e.mv,n,i)}function bl(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function pl(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Pv(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Al(t){var n=t.size;return n||function(){return 1}}function Tl(t,n){av(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:lv(i),size:void 0===e?void 0:Sl(e,n+" has member 'size' that")}}function Sl(t,n){return cv(t,n),function(n){return lv(t(n))}}function El(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function Il(t,n,i){return cv(t,i),function(){return qf(t,n,[])}}function Rl(t,n,i){return cv(t,i),function(i){return Gf(t,n,[i])}}function Nl(t,n,i){return cv(t,i),function(i,e){return qf(t,n,[i,e])}}function Dl(t,n){if(!xl(t))throw new l(n+" is not a WritableStream.")}d.defineProperties(ml.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(ml.prototype,Ef.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Cl="function"==typeof AbortController;var Pl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:hv(t,"First parameter");var i=Tl(n,"Second parameter"),e=function(t,n){av(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:El(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Il(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Rl(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Nl(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Ol(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Al(i);!function(t,n,i,e){var r=d.create($l.prototype),s=function(){},u=function(){return Lf(void 0)},o=function(){return Lf(void 0)},a=function(){return Lf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(a=function(t){return n.abort(t)});nd(t,r,s,u,o,a,i,e)}(this,e,pl(i,1),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!xl(this))throw ad("locked");return Ll(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),xl(this)?Ll(this)?Mf(new l("Cannot abort a stream that already has a writer")):Ml(this,t):Mf(ad("abort"))},t.prototype.close=function(){return xl(this)?Ll(this)?Mf(new l("Cannot close a stream that already has a writer")):zl(this)?Mf(new l("Cannot close an already-closing stream")):Ul(this):Mf(ad("close"))},t.prototype.getWriter=function(){if(!xl(this))throw ad("getWriter");return Bl(this)},t}();function Bl(t){return new Gl(t)}function Ol(t){t.we="writable",t.rv=void 0,t.mo=void 0,t.zv=void 0,t.Vv=new Yf,t.Wv=void 0,t.Gv=void 0,t.qv=void 0,t.Yv=void 0,t.Qv=!1}function xl(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"zv")&&t instanceof Pl)}function Ll(t){return void 0!==t.mo}function Ml(t,n){var i;if("closed"===t.we||"errored"===t.we)return Lf(void 0);t.zv.Zv=n,null===(i=t.zv.Kv)||void 0===i||i.abort();var e=t.we;if("closed"===e||"errored"===e)return Lf(void 0);if(void 0!==t.Yv)return t.Yv.Jv;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=xf(function(i,e){t.Yv={Jv:void 0,Xu:i,Fu:e,$v:n,il:r}});return t.Yv.Jv=s,r||Fl(t,n),s}function Ul(t){var n=t.we;if("closed"===n||"errored"===n)return Mf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=xf(function(n,i){var e={Xu:n,Fu:i};t.Gv=e}),r=t.mo;return void 0!==r&&t.Qv&&"writable"===n&&kd(r),Xv(i=t.zv,Jl,0),rd(i),e}function Xl(t,n){"writable"!==t.we?Hl(t):Fl(t,n)}function Fl(t,n){var i=t.zv;t.we="erroring",t.rv=n;var e=t.mo;void 0!==e&&Ql(e,n),!function(t){if(void 0===t.Wv&&void 0===t.qv)return!1;return!0}(t)&&i.xv&&Hl(t)}function Hl(t){t.we="errored",t.zv[ev]();var n=t.rv;if(t.Vv.forEach(function(t){t.Fu(n)}),t.Vv=new Yf,void 0!==t.Yv){var i=t.Yv;if(t.Yv=void 0,i.il)return i.Fu(n),void Vl(t);Xf(t.zv[iv](i.$v),function(){i.Xu(),Vl(t)},function(n){i.Fu(n),Vl(t)})}else Vl(t)}function zl(t){return void 0!==t.Gv||void 0!==t.qv}function Vl(t){void 0!==t.Gv&&(t.Gv.Fu(t.rv),t.Gv=void 0);var n=t.mo;void 0!==n&&dd(n,t.rv)}function Wl(t,n){var i=t.mo;void 0!==i&&n!==t.Qv&&(n?function(t){_d(t)}(i):kd(i)),t.Qv=n}d.defineProperties(Pl.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Pl.prototype,Ef.toStringTag,{value:"WritableStream",configurable:!0});var Gl=function(){function t(t){if(fv(t,1,"WritableStreamDefaultWriter"),Dl(t,"First parameter"),Ll(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.ul=t,t.mo=this;var n,i=t.we;if("writable"===i)!zl(t)&&t.Qv?_d(this):md(this),vd(this);else if("erroring"===i)gd(this,t.rv),vd(this);else if("closed"===i)md(this),vd(n=this),wd(n);else{var e=t.rv;gd(this,e),ld(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return ql(this)?this.Pc:Mf(hd("closed"))},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ql(this))throw hd("desiredSize");if(void 0===this.ul)throw fd("desiredSize");return function(t){var n=t.ul,i=n.we;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return ed(n.zv)}(this)},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return ql(this)?this.ol:Mf(hd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ql(this)?void 0===this.ul?Mf(fd("abort")):function(t,n){return Ml(t.ul,n)}(this,t):Mf(hd("abort"))},t.prototype.close=function(){if(!ql(this))return Mf(hd("close"));var t=this.ul;return void 0===t?Mf(fd("close")):zl(t)?Mf(new l("Cannot close an already-closing stream")):Yl(this)},t.prototype.releaseLock=function(){if(!ql(this))throw hd("releaseLock");void 0!==this.ul&&Zl(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),ql(this)?void 0===this.ul?Mf(fd("write to")):Kl(this,t):Mf(hd("write"))},t}();function ql(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"ul")&&t instanceof Gl)}function Yl(t){return Ul(t.ul)}function jl(t,n){"pending"===t.al?dd(t,n):function(t,n){ld(t,n)}(t,n)}function Ql(t,n){"pending"===t.cl?yd(t,n):function(t,n){gd(t,n)}(t,n)}function Zl(t){var n=t.ul,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Ql(t,i),jl(t,i),n.mo=void 0,t.ul=void 0}function Kl(t,n){var i=t.ul,e=i.zv,r=function(t,n){try{return t.hl(n)}catch(n){return sd(t,n),1}}(e,n);if(i!==t.ul)return Mf(fd("write to"));var s=i.we;if("errored"===s)return Mf(i.rv);if(zl(i)||"closed"===s)return Mf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Mf(i.rv);var u=function(t){return xf(function(n,i){var e={Xu:n,Fu:i};t.Vv.push(e)})}(i);return function(t,n,i){try{Xv(t,n,i)}catch(n){return void sd(t,n)}var e=t.fl;if(!zl(e)&&"writable"===e.we){var r=ud(t);Wl(e,r)}rd(t)}(e,n,r),u}d.defineProperties(Gl.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Gl.prototype,Ef.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Jl={},$l=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"abortReason",{get:function(){if(!td(this))throw cd("abortReason");return this.Zv},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"signal",{get:function(){if(!td(this))throw cd("signal");if(void 0===this.Kv)throw new l("WritableStreamDefaultController.prototype.signal is not supported");return this.Kv.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!td(this))throw cd("error");"writable"===this.fl.we&&od(this,t)},t.prototype[iv]=function(t){var n=this.vl(t);return id(this),n},t.prototype[ev]=function(){Fv(this)},t}();function td(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"fl")&&t instanceof $l)}function nd(t,n,i,e,r,s,u,o){n.fl=t,t.zv=n,n.Ev=void 0,n.Iv=void 0,Fv(n),n.Zv=void 0,n.Kv=function(){if(Cl)return new AbortController}(),n.xv=!1,n.hl=o,n.Hv=u,n.ll=e,n.dl=r,n.vl=s;var a=ud(n);Wl(t,a),Xf(Lf(i()),function(){n.xv=!0,rd(n)},function(i){n.xv=!0,Xl(t,i)})}function id(t){t.ll=void 0,t.dl=void 0,t.vl=void 0,t.hl=void 0}function ed(t){return t.Hv-t.Iv}function rd(t){var n=t.fl;if(t.xv&&void 0===n.Wv)if("erroring"!==n.we){if(0!==t.Ev.length){var i=t.Ev.peek().value;i===Jl?function(t){var n=t.fl;(function(t){t.qv=t.Gv,t.Gv=void 0})(n),Uv(t);var i=t.dl();id(t),Xf(i,function(){!function(t){t.qv.Xu(void 0),t.qv=void 0,"erroring"===t.we&&(t.rv=void 0,void 0!==t.Yv&&(t.Yv.Xu(),t.Yv=void 0)),t.we="closed";var n=t.mo;void 0!==n&&wd(n)}(n)},function(t){!function(t,n){t.qv.Fu(n),t.qv=void 0,void 0!==t.Yv&&(t.Yv.Fu(n),t.Yv=void 0),Xl(t,n)}(n,t)})}(t):function(t,n){var i=t.fl;(function(t){t.Wv=t.Vv.shift()})(i),Xf(t.ll(n),function(){!function(t){t.Wv.Xu(void 0),t.Wv=void 0}(i);var n=i.we;if(Uv(t),!zl(i)&&"writable"===n){var e=ud(t);Wl(i,e)}rd(t)},function(n){"writable"===i.we&&id(t),function(t,n){t.Wv.Fu(n),t.Wv=void 0,Xl(t,n)}(i,n)})}(t,i)}}else Hl(n)}function sd(t,n){"writable"===t.fl.we&&od(t,n)}function ud(t){return ed(t)<=0}function od(t,n){var i=t.fl;id(t),Fl(i,n)}function ad(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function cd(t){return new l("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function hd(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function fd(t){return new l("Cannot "+t+" a stream using a released writer")}function vd(t){t.Pc=xf(function(n,i){t.uv=n,t.ov=i,t.al="pending"})}function ld(t,n){vd(t),dd(t,n)}function dd(t,n){void 0!==t.ov&&(Vf(t.Pc),t.ov(n),t.uv=void 0,t.ov=void 0,t.al="rejected")}function wd(t){void 0!==t.uv&&(t.uv(void 0),t.uv=void 0,t.ov=void 0,t.al="resolved")}function _d(t){t.ol=xf(function(n,i){t.wl=n,t._l=i}),t.cl="pending"}function gd(t,n){_d(t),yd(t,n)}function md(t){_d(t),kd(t)}function yd(t,n){void 0!==t._l&&(Vf(t.ol),t._l(n),t.wl=void 0,t._l=void 0,t.cl="rejected")}function kd(t){void 0!==t.wl&&(t.wl(void 0),t.wl=void 0,t._l=void 0,t.cl="fulfilled")}d.defineProperties($l.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty($l.prototype,Ef.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var bd="undefined"!=typeof DOMException?DOMException:void 0;var pd,Ad=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(bd)?bd:((pd=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(pd.prototype,"constructor",{value:pd,writable:!0,configurable:!0}),pd);function Td(t,n,i,e,r,s){var u=gv(t),o=Bl(n);t._v=!0;var a=!1,c=Lf(void 0);return xf(function(h,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new Ad("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.we?Ml(n,i):Lf(void 0)}),r||s.push(function(){return"readable"===t.we?Zd(t,i):Lf(void 0)}),k(function(){return Ve.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Pc,function(t){e?b(!0,t):k(function(){return Ml(n,t)},!0,t)}),y(n,o.Pc,function(n){r?b(!0,n):k(function(){return Zd(t,n)},!0,n)}),d=t,w=u.Pc,_=function(){i?b():k(function(){return function(t){var n=t.ul,i=n.we;return zl(n)||"closed"===i?Lf(void 0):"errored"===i?Mf(n.rv):Yl(t)}(o)})},"closed"===d.we?_():Ff(w,_),zl(n)||"closed"===n.we){var g=new l("the destination writable stream closed before all data could be piped to it");r?b(!0,g):k(function(){return Zd(t,g)},!0,g)}function m(){var t=c;return Uf(c,function(){return t!==c?m():void 0})}function y(t,n,i){"errored"===t.we?i(t.rv):Hf(n,i)}function k(t,i,e){function r(){Xf(t(),function(){return p(i,e)},function(t){return p(!0,t)})}a||(a=!0,"writable"!==n.we||zl(n)?r():Ff(m(),r))}function b(t,i){a||(a=!0,"writable"!==n.we||zl(n)?p(t,i):Ff(m(),function(){return p(t,i)}))}function p(t,n){Zl(o),Zf(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):h(void 0)}Vf(xf(function(t,n){!function i(e){e?t():Uf(a?Lf(!0):Uf(o.ol,function(){return xf(function(t,n){Ev(u,{vv:function(n){c=Uf(Kl(o,n),void 0,If),t(!1)},fv:function(){return t(!0)},wv:n})})}),i,n)}(!1)}))})}var Sd=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ed(this))throw Ld("desiredSize");return Bd(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ed(this))throw Ld("close");if(!Od(this))throw new l("The stream is not in a state that permits close");Dd(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Ed(this))throw Ld("enqueue");if(!Od(this))throw new l("The stream is not in a state that permits enqueue");return Cd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ed(this))throw Ld("error");Pd(this,t)},t.prototype[rv]=function(t){Fv(this);var n=this.Pv(t);return Nd(this),n},t.prototype[sv]=function(t){var n=this.yl;if(this.Ev.length>0){var i=Uv(this);this.Dv&&0===this.Ev.length?(Nd(this),Kd(n)):Id(this),t.vv(i)}else mv(n,t),Id(this)},t}();function Ed(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"yl")&&t instanceof Sd)}function Id(t){Rd(t)&&(t.Lv?t.Mv=!0:(t.Lv=!0,Xf(t.Uv(),function(){t.Lv=!1,t.Mv&&(t.Mv=!1,Id(t))},function(n){Pd(t,n)})))}function Rd(t){var n=t.yl;return!!Od(t)&&(!!t.xv&&(!!(Qd(n)&&kv(n)>0)||Bd(t)>0))}function Nd(t){t.Uv=void 0,t.Pv=void 0,t.hl=void 0}function Dd(t){if(Od(t)){var n=t.yl;t.Dv=!0,0===t.Ev.length&&(Nd(t),Kd(n))}}function Cd(t,n){if(Od(t)){var i=t.yl;if(Qd(i)&&kv(i)>0)yv(i,n,!1);else{var e=void 0;try{e=t.hl(n)}catch(n){throw Pd(t,n),n}try{Xv(t,n,e)}catch(n){throw Pd(t,n),n}}Id(t)}}function Pd(t,n){var i=t.yl;"readable"===i.we&&(Fv(t),Nd(t),Jd(i,n))}function Bd(t){var n=t.yl.we;return"errored"===n?null:"closed"===n?0:t.Hv-t.Iv}function Od(t){var n=t.yl.we;return!t.Dv&&"readable"===n}function xd(t,n,i,e,r,s,u){n.yl=t,n.Ev=void 0,n.Iv=void 0,Fv(n),n.xv=!1,n.Dv=!1,n.Mv=!1,n.Lv=!1,n.hl=u,n.Hv=s,n.Uv=e,n.Pv=r,t.mv=n,Xf(Lf(i()),function(){n.xv=!0,Id(n)},function(t){Pd(n,t)})}function Ld(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Md(t,n){return Vv(t.mv)?function(t){var n,i,e,r,s,u=gv(t),o=!1,a=!1,c=!1,h=!1,f=!1,v=xf(function(t){s=t});function l(t){Hf(t.Pc,function(n){t===u&&(ul(e.mv,n),ul(r.mv,n),h&&f||s(void 0))})}function d(){yl(u)&&(Zf(u),l(u=gv(t)));var n={vv:function(n){Wf(function(){a=!1,c=!1;var i=n,u=n;if(!h&&!f)try{u=Mv(n)}catch(n){return ul(e.mv,n),ul(r.mv,n),void s(Zd(t,n))}h||sl(e.mv,i),f||sl(r.mv,u),o=!1,a?_():c&&g()})},fv:function(){o=!1,h||rl(e.mv),f||rl(r.mv),e.mv.Ov.length>0&&cl(e.mv,0),r.mv.Ov.length>0&&cl(r.mv,0),h&&f||s(void 0)},wv:function(){o=!1}};Ev(u,n)}function w(n,i){Sv(u)&&(Zf(u),l(u=dl(t)));var v=i?r:e,d=i?e:r,w={vv:function(n){Wf(function(){a=!1,c=!1;var e=i?f:h,r=i?h:f;if(r)e||hl(v.mv,n);else{var u=void 0;try{u=Mv(n)}catch(n){return ul(v.mv,n),ul(d.mv,n),void s(Zd(t,n))}e||hl(v.mv,n),sl(d.mv,u)}o=!1,a?_():c&&g()})},fv:function(t){o=!1;var n=i?f:h,e=i?h:f;n||rl(v.mv),e||rl(d.mv),void 0!==t&&(n||hl(v.mv,t),!e&&d.mv.Ov.length>0&&cl(d.mv,0)),n&&e||s(void 0)},wv:function(){o=!1}};kl(u,n,w)}function _(){if(o)return a=!0,Lf(void 0);o=!0;var t=ol(e.mv);return null===t?d():w(t.Rv,!1),Lf(void 0)}function g(){if(o)return c=!0,Lf(void 0);o=!0;var t=ol(r.mv);return null===t?d():w(t.Rv,!0),Lf(void 0)}function m(){}return e=qd(m,_,function(e){if(h=!0,n=e,f){var r=Bv([n,i]),u=Zd(t,r);s(u)}return v}),r=qd(m,g,function(e){if(f=!0,i=e,h){var r=Bv([n,i]),u=Zd(t,r);s(u)}return v}),l(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=gv(t),a=!1,c=!1,h=!1,f=!1,v=xf(function(t){u=t});function l(){if(a)return c=!0,Lf(void 0);a=!0;var t={vv:function(t){Wf(function(){c=!1;var n=t,i=t;h||Cd(r.mv,n),f||Cd(s.mv,i),a=!1,c&&l()})},fv:function(){a=!1,h||Dd(r.mv),f||Dd(s.mv),h&&f||u(void 0)},wv:function(){a=!1}};return Ev(o,t),Lf(void 0)}function d(){}return r=Gd(d,l,function(n){if(h=!0,i=n,f){var r=Bv([i,e]),s=Zd(t,r);u(s)}return v}),s=Gd(d,l,function(n){if(f=!0,e=n,h){var r=Bv([i,e]),s=Zd(t,r);u(s)}return v}),Hf(o.Pc,function(t){Pd(r.mv,t),Pd(s.mv,t),h&&f||u(void 0)}),[r,s]}(t)}function Ud(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function Xd(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function Fd(t,n,i){return cv(t,i),function(i){return Gf(t,n,[i])}}function Hd(t,n){if("bytes"!==(t=""+t))throw new l(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function zd(t,n){if("byob"!==(t=""+t))throw new l(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Vd(t,n){av(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new l(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}d.defineProperties(Sd.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Sd.prototype,Ef.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Wd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:hv(t,"First parameter");var i=Tl(n,"Second parameter"),e=function(t,n){av(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:wv(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Ud(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Xd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Fd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Hd(o,n+" has member 'type' that")}}(t,"First parameter");if(Yd(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=d.create(zv.prototype),r=function(){},s=function(){return Lf(void 0)},u=function(){return Lf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new l("autoAllocateChunkSize must be greater than 0");fl(t,e,r,s,u,i,o)}(this,e,pl(i,0))}else{var r=Al(i);!function(t,n,i,e){var r=d.create(Sd.prototype),s=function(){},u=function(){return Lf(void 0)},o=function(){return Lf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),xd(t,r,s,u,o,i,e)}(this,e,pl(i,1),r)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!jd(this))throw $d("locked");return Qd(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),jd(this)?Qd(this)?Mf(new l("Cannot cancel a stream that already has a reader")):Zd(this,t):Mf($d("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!jd(this))throw $d("getReader");return void 0===function(t,n){av(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:zd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?gv(this):dl(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!jd(this))throw $d("pipeThrough");fv(t,1,"pipeThrough");var i=function(t,n){av(t,n);var i=null==t?void 0:t.readable;vv(i,"readable","ReadableWritablePair"),_v(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return vv(e,"writable","ReadableWritablePair"),Dl(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Vd(n,"Second parameter");if(Qd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ll(i.writable))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Vf(Td(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!jd(this))return Mf($d("pipeTo"));if(void 0===t)return Mf("Parameter 1 is required in 'pipeTo'.");if(!xl(t))return Mf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Vd(n,"Second parameter")}catch(t){return Mf(t)}return Qd(this)?Mf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ll(t)?Mf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Td(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!jd(this))throw $d("tee");return Bv(Md(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!jd(this))throw $d("values");var n,i,e,r,s,u=function(t,n){av(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=gv(n),r=new Rv(e,i),(s=d.create(Nv)).Sv=r,s},t}();function Gd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(Wd.prototype);return Yd(s),xd(s,d.create(Sd.prototype),t,n,i,e,r),s}function qd(t,n,i){var e=d.create(Wd.prototype);return Yd(e),fl(e,d.create(zv.prototype),t,n,i,0,void 0),e}function Yd(t){t.we="readable",t.ev=void 0,t.rv=void 0,t._v=!1}function jd(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"mv")&&t instanceof Wd)}function Qd(t){return void 0!==t.ev}function Zd(t,n){if(t._v=!0,"closed"===t.we)return Lf(void 0);if("errored"===t.we)return Mf(t.rv);Kd(t);var i=t.ev;return void 0!==i&&yl(i)&&(i.Xv.forEach(function(t){t.fv(void 0)}),i.Xv=new Yf),zf(t.mv[rv](n),If)}function Kd(t){t.we="closed";var n=t.ev;void 0!==n&&(nv(n),Sv(n)&&(n.hv.forEach(function(t){t.fv()}),n.hv=new Yf))}function Jd(t,n){t.we="errored",t.rv=n;var i=t.ev;void 0!==i&&(tv(i,n),Sv(i)?(i.hv.forEach(function(t){t.wv(n)}),i.hv=new Yf):(i.Xv.forEach(function(t){t.wv(n)}),i.Xv=new Yf))}function $d(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function tw(t,n){av(t,n);var i=null==t?void 0:t.highWaterMark;return vv(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:lv(i)}}d.defineProperties(Wd.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Wd.prototype,Ef.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Ef.asyncIterator&&d.defineProperty(Wd.prototype,Ef.asyncIterator,{value:Wd.prototype.values,writable:!0,configurable:!0});var nw=function(t){return t.byteLength};try{d.defineProperty(nw,"name",{value:"size",configurable:!0})}catch(pv){}var iw=function(){function t(t){fv(t,1,"ByteLengthQueuingStrategy"),t=tw(t,"First parameter"),this.bl=t.highWaterMark}return d.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!rw(this))throw ew("highWaterMark");return this.bl},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"size",{get:function(){if(!rw(this))throw ew("size");return nw},enumerable:!1,configurable:!0}),t}();function ew(t){return new l("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function rw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"bl")&&t instanceof iw)}d.defineProperties(iw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(iw.prototype,Ef.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var sw=function(){return 1};try{d.defineProperty(sw,"name",{value:"size",configurable:!0})}catch(pv){}var uw=function(){function t(t){fv(t,1,"CountQueuingStrategy"),t=tw(t,"First parameter"),this.Al=t.highWaterMark}return d.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!aw(this))throw ow("highWaterMark");return this.Al},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"size",{get:function(){if(!aw(this))throw ow("size");return sw},enumerable:!1,configurable:!0}),t}();function ow(t){return new l("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function aw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Al")&&t instanceof uw)}function cw(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function hw(t,n,i){return cv(t,i),function(i){return Gf(t,n,[i])}}function fw(t,n,i){return cv(t,i),function(i,e){return qf(t,n,[i,e])}}d.defineProperties(uw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(uw.prototype,Ef.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var vw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Tl(n,"Second parameter"),r=Tl(i,"Third parameter"),s=function(t,n){av(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:cw(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:hw(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:fw(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=pl(r,0),a=Al(r),c=pl(e,1),h=Al(e);!function(t,n,i,e,r,s){function u(){return n}t.Tl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Pl.prototype);return Ol(u),nd(u,d.create($l.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Sl;if(t.Qv){var e=t.El;return zf(e,function(){var e=t.Tl,r=e.we;if("erroring"===r)throw e.rv;return bw(i,n)})}return bw(i,n)}(t,n)},function(){return function(t){var n=t.Il,i=t.Sl,e=i.Rl();return yw(i),zf(e,function(){if("errored"===n.we)throw n.rv;Dd(n.mv)},function(i){throw dw(t,i),n.rv})}(t)},function(n){return function(t,n){return dw(t,n),Lf(void 0)}(t,n)},i,e),t.Il=Gd(u,function(){return function(t){return _w(t,!1),t.El}(t)},function(n){return ww(t,n),Lf(void 0)},r,s),t.Qv=void 0,t.El=void 0,t.Nl=void 0,_w(t,!0),t.Sl=void 0}(this,xf(function(t){u=t}),c,h,o,a),function(t,n){var i=d.create(gw.prototype),e=function(t){try{return kw(i,t),Lf(void 0)}catch(t){return Mf(t)}},r=function(){return Lf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.Dl=t,t.Sl=n,n.Cl=i,n.Rl=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.Sl)):u(void 0)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!lw(this))throw Aw("readable");return this.Il},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!lw(this))throw Aw("writable");return this.Tl},enumerable:!1,configurable:!0}),t}();function lw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Sl")&&t instanceof vw)}function dw(t,n){Pd(t.Il.mv,n),ww(t,n)}function ww(t,n){yw(t.Sl),sd(t.Tl.zv,n),t.Qv&&_w(t,!1)}function _w(t,n){void 0!==t.El&&t.Nl(),t.El=xf(function(n){t.Nl=n}),t.Qv=n}d.defineProperties(vw.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(vw.prototype,Ef.toStringTag,{value:"TransformStream",configurable:!0});var gw=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!mw(this))throw pw("desiredSize");return Bd(this.Dl.Il.mv)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!mw(this))throw pw("enqueue");kw(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!mw(this))throw pw("error");var n;n=t,dw(this.Dl,n)},t.prototype.terminate=function(){if(!mw(this))throw pw("terminate");!function(t){var n=t.Dl;Dd(n.Il.mv);var i=new l("TransformStream terminated");ww(n,i)}(this)},t}();function mw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Dl")&&t instanceof gw)}function yw(t){t.Cl=void 0,t.Rl=void 0}function kw(t,n){var i=t.Dl,e=i.Il.mv;if(!Od(e))throw new l("Readable side is not in a state that permits enqueue");try{Cd(e,n)}catch(t){throw ww(i,t),i.Il.rv}(function(t){return!Rd(t)})(e)!==i.Qv&&_w(i,!0)}function bw(t,n){return zf(t.Cl(n),void 0,function(n){throw dw(t.Dl,n),n})}function pw(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Aw(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}d.defineProperties(gw.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(gw.prototype,Ef.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Tw,Sw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Jt);function Ew(t){return n=[t],new Wd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Iw(t){return Ew(new y(t))}function Rw(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Wo,s=function(){u();var t=new Ks;e.cancel(t).catch(Z),r.Vu(t)},u=function(){i&&(i.xs(s),i=void 0)};i&&(i.Rs?s():i.Os(s));var o=[];return Ve.resolve(e.read()).then(function t(n){return n.done?(u(),Ve.resolve(o)):(o.push(n.value),Ve.resolve(e.read()).then(t))}).then(function(t){u(),r.Hu(t)},function(t){u(),r.Vu(t)}),r.Uu}(t,n).then(function(t){return Mu(t).buffer})}function Nw(t,n){var i=n,e=new vw,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Xs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function Dw(t){var n=new vw,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=H(n)?n[0]===n[1]||Js(n[0])&&Js(n[1])?n[0]:new Sw(n):n,t.cancel(i).catch(Z)}),i.tee()}function Cw(t){return Do(new y(t))}function Pw(t){return Co(t).buffer}!function(t){t[t.Gf=0]="Gf",t[t.Pl=1]="Pl"}(Tw||(Tw={}));var Bw="content-type",Ow="text/plain;charset=UTF-8",xw=function(){function t(){}var n=t.prototype;return n.Bl=function(t){return this.Ol(t).then(JSON.parse)},n.xl=function(t,n){switch(t){case pf.Vf:return this.Ll(n);case pf.Wf:return this.Bl(n);case pf.Gf:return this.Ml();case pf.Kn:return this.Ol(n);default:throw new l}},t}();function Lw(t,n,i){if(t instanceof xw)return t;if(t instanceof Wd)return function(t,n){return new Uw({us:Tw.Gf,Ml:t,Ul:Mw(n)})}(t,i);var e=Mw(i),r=Ve.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{us:pf.Kn,Xl:t,Ul:n||Ow};if(t instanceof ArrayBuffer||Ou(t))return{us:pf.Vf,Xl:Gw(t),Ul:n};if(W(t)||H(t))return{us:pf.Wf,Xl:t,Ul:n};throw new l("Unsupported BodyInit type")}return{us:pf.Kn,Xl:null,Ul:n}}(t,e)});return new Uw({us:Tw.Pl,Uu:r,Fl:n})}function Mw(t){return(t.get(Bw)||"").toLowerCase()}var Uw=function(t){function n(n){var i;return(i=t.call(this)||this).Hl=!1,i.zl=void 0,i.Vl=new Wo,i.Vl.Uu.catch(Z),i.Wl(n),i}S(n,t);var i=n.prototype;return i.Gl=function(){return this.Vl.Uu},i.Ol=function(t){return this.ql(Xw,t)},i.Bl=function(t){return this.ql(Hw,t)},i.Ll=function(t){return this.ql(Vw,t)},i.Ml=function(){return this.Yl((t=this.zl).us===Tw.Gf?t.Ml:Nw(t.Uu.then(Ww).then(Iw),t.Fl));var t},i.ql=function(t,n){if(this.Hl)return Ve.reject(new l("Already used"));this.Hl=!0;var i=t(this.zl,n);return this.Vl.Hu(i.then(Z)),i},i.Yl=function(t){if(this.Hl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.Hl=!0;var n=new vw,i=Ve.resolve(t.pipeTo(n.writable));return this.Vl.Hu(i),n.readable},i.Wl=function(t){this.zl=t,t.us===Tw.Pl&&t.Uu.catch(Z)},i.jl=function(){if(this.Hl)throw new l("Already used");var t=function(t){if(t.us===Tw.Gf){var n=t.Ml.tee(),i=n[0],e=n[1];return[{us:t.us,Ml:i,Ul:t.Ul},{us:t.us,Ml:e,Ul:t.Ul}]}var r=t.Fl.Hs(),s=r[0],u=r[1];return[{us:t.us,Uu:t.Uu,Fl:s},{us:t.us,Uu:t.Uu,Fl:u}]}(this.zl),i=t[0],e=t[1];return this.Wl(i),new n(e)},A(n,[{key:"Ql",get:function(){return this.Hl}}]),n}(xw);function Xw(t,n){return t.us===Tw.Gf?Rw(t.Ml,n).then(Cw):(n&&t.Fl.Fs(n),eu(t.Uu.then(Fw),t.Fl))}function Fw(t){switch(t.us){case pf.Kn:return Ve.resolve(t.Xl||"");case pf.Vf:return Ve.resolve(t.Xl).then(Cw);case pf.Wf:return Ve.resolve(t.Xl).then(JSON.stringify)}}function Hw(t,n){return t.us===Tw.Gf?Xw(t,n).then(JSON.parse):(n&&t.Fl.Fs(n),eu(t.Uu.then(zw),t.Fl))}function zw(t){return t.us===pf.Wf?Ve.resolve(t.Xl):Fw(t).then(JSON.parse)}function Vw(t,n){return t.us===Tw.Gf?Rw(t.Ml,n):(n&&t.Fl.Fs(n),eu(t.Uu.then(Ww),t.Fl))}function Ww(t){switch(t.us){case pf.Vf:return Ve.resolve(t.Xl);case pf.Kn:case pf.Wf:return Fw(t).then(Pw)}}function Gw(t){return t instanceof ArrayBuffer?t:Fo(Lo(t)).buffer}function qw(t){return t.Zl>=200&&t.Zl<=299||304===t.Zl}var Yw,jw,Qw,Zw,Kw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Kl,s=i.Jl,u=i.Zl,o=i.$l,a=i.td):(r=[],s=pf.Kn,u=200,o="OK",a=!1);var c=n.ed,h=new Af(n.Kl||r),f=n.Jl||s,v=n.rd||(i&&i.ed===c?i.rd:c.ud),l=i?i.od:null,d=Lw(void 0!==n.Xi?n.Xi:l,n.Fl||new Zs,h);return(e=t.call(this,d)||this).Kl=void 0,e.ed=void 0,e.rd=void 0,e.Jl=void 0,e.Zl=void 0,e.$l=void 0,e.td=void 0,e.Kl=h,e.ed=c,e.rd=v,e.Jl=f,e.Zl=void 0!==n.Zl?n.Zl:u,e.$l=void 0!==n.$l?String(n.$l):o,e.td=n.td||a,e}S(n,t);var i=n.prototype;return i.Xi=function(t){return this.xl(this.Jl,t)},i.Ou=function(){return new n({Xi:this.jl(),ed:this.ed},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).od=void 0,i.od=n,i}S(n,t);var i=n.prototype;return i.Gl=function(){return this.od.Gl()},i.Ol=function(t){return this.od.Ol(t)},i.Bl=function(t){return this.od.Bl(t)},i.Ll=function(t){return this.od.Ll(t)},i.Ml=function(){return this.od.Ml()},i.jl=function(){return this.od.jl()},A(n,[{key:"Ql",get:function(){return this.od.Ql}}]),n}(xw));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Yw||(Yw={})),function(t){t.hd="",t.fd="manifest",t.vd="segment",t.ld="content-protection"}(jw||(jw={})),function(t){t.hd="",t.dd="initialization-segment",t.wd="fairplay-license",t._d="fairplay-certificate",t.md="widevine-license",t.yd="widevine-certificate",t.kd="playready-license",t.bd="clearkey-license",t.pd="aes128-key"}(Qw||(Qw={})),function(t){t.hd="",t.Ad="audio",t.Td="video",t.Kn="text",t.Sd="image"}(Zw||(Zw={}));var Jw=function(t,n){this.Xl=void 0,this.Kl=void 0,this.Ed=void 0,this.Jl=void 0,this.Id=void 0,this.zs=void 0,this.us=void 0,this.Rd=void 0,this.Nd=void 0,this.ud=void 0,this.Dd=void 0,this.Cd=void 0;var i,e,r,s,u,o,a,c,h,f,v,l=t.ud;n?(i=n.Xl,e=n.Kl,r=n.Ed,s=n.Jl,u=n.Id,o=n.zs,a=n.us,c=n.Rd,h=n.Nd,f=n.Dd,v=n.Cd):(i=null,e={},r=Yw.GET,s=pf.Kn,u=0,a=jw.hd,c=Qw.hd,h=Zw.hd,f=!1),this.ud=l,this.Xl=t.Xl||i,this.Kl=new Af(t.Kl||e),this.Ed=t.Ed||r,this.Jl=t.Jl||s,this.Id=void 0!==t.Id?Number(t.Id)||0:u,this.zs=t.zs||o||(new Zs).zs,this.us=t.us||a,this.Rd=t.Rd||c,this.Nd=t.Nd||h,this.Dd=void 0!==t.Dd?Boolean(t.Dd):f,this.Cd=t.Cd||v},$w=function(){function t(){}var n=t.prototype;return n.ed=function(t){var n=function(t){return new Kw({Xi:null,Kl:{},ed:t,rd:t.ud,Jl:t.Jl,Zl:0,$l:bf.pf})}(new Jw(t));return Ve.resolve(n)},n.Pd=function(t){},n.Bd=function(){},t}();var t_=function(){function t(t,n){void 0===n&&(n=!0),this.Od=void 0,this.xd=void 0,this.Od=t,this.xd=n}var n=t.prototype;return n.ed=function(t){var n=this.Ld(t);return this.Od.ed(n)},n.Pd=function(t){return this.Od.Pd(this.Md(t))},n.Ld=function(n){var i=new Jw(n);if(!this.xd){var e=t.Ud(i.ud);i=new Jw({ud:e},i)}return i},n.Md=function(n){var i=n.ud;return this.xd||(i=t.Ud(i)),{ud:i,Xl:n.Xl}},t.Ud=function(t){return i.Ur&&vs(t,"http://")?t.replace(":","s:"):t},n.Bd=function(){this.Od.Bd()},A(t,null,[{key:"Xd",get:function(){return t.Fd||(t.Fd=new t(new $w)),t.Fd}}]),t}();function n_(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function i_(t,n){var e=i.Pr(t);return n&&!ls(e,"/")&&(e+="/"),e}t_.Fd=void 0;var e_,r_=/cache:(.+)?(?=&|$)/,s_="http://webcache.googleusercontent.com/search?q=cache:";function u_(t){if(!vs(t,s_))return"";var n=i.Cr(t).search.match(r_);return n&&n.length>1?n[1]:""}!function(t){t.Hd="HttpOpenError",t.zd="HttpResponseError",t.Vd="HttpTimeoutError"}(e_||(e_={}));var o_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Wd=void 0,r.Wd=n,r}return S(n,t),A(n,[{key:"ed",get:function(){return this.Wd}}]),n}(Jt);var a_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.ud+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return e_.Hd}}]),n}(o_);var c_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ed,null!=e?e:function(t){return"Error while loading "+t.ed.ud+", status code "+t.Zl}(n),i)||this).Gd=void 0,r.Gd=n,r}return S(n,t),A(n,[{key:"name",get:function(){return e_.zd}},{key:"qd",get:function(){return this.Gd}}]),n}(o_);var h_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.ud+" timed out after "+t.Id+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return e_.Vd}}]),n}(o_),f_=function(t,n){return(f_=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function v_(t,n){function i(){this.constructor=t}f_(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var l_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var d_=function(){var t=l_.Blob;if(t)try{return new t,function(t,n){return new l_.Blob(t,n)}}catch(t){}var n,i=l_.BlobBuilder||l_.WebKitBlobBuilder||l_.MozBlobBuilder||l_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),w_="function"==typeof Wd?Wd:void 0;function __(t){return t&&"function"==typeof t.getReader}function g_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&__(i)}catch(t){return!1}}var m_=function(){function t(t,n){this.ev=t,this.Yd=n}return t.prototype.pull=function(t){var n=this;return this.ev.read().then(function(i){n.Yd&&n.Yd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.ev.cancel(t)},t}();function y_(t,n){return n.constructor===t?n:new t(new m_(n.getReader()),{highWaterMark:0})}var k_=function(){function t(t,n){this.jd=t,this.Qd=n}return t.prototype.pull=function(t){return this.jd().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Qd&&this.Qd(t)},t}();function b_(t,n,i){return new t(new k_(n,i),{highWaterMark:0})}var p_={searchParams:"URLSearchParams"in l_,iterable:"Symbol"in l_&&"iterator"in Symbol,blob:"FileReader"in l_&&!!d_,formData:"FormData"in l_,arrayBuffer:"ArrayBuffer"in l_,stream:g_(w_),streamRequest:"Request"in l_&&"body"in l_.Request.prototype,streamResponse:"Response"in l_&&"body"in l_.Response.prototype,abort:"AbortController"in l_&&"Request"in l_&&"signal"in l_.Request.prototype,encoding:"TextEncoder"in l_&&"TextDecoder"in l_,url:"URL"in l_&&function(t){try{return new l_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in l_&&/Firefox\//.test(l_.navigator.userAgent)};function A_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function T_(t){return"string"!=typeof t&&(t=String(t)),t}function S_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return p_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var E_=function(){function t(t){var n=this;this.Qr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return p_.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=A_(t),n=T_(n);var i=t.toLowerCase();if(this.Qr.hasOwnProperty(i)){var e=this.Qr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Qr[i]=[t,n]},t.prototype.delete=function(t){var n=A_(t).toLowerCase();delete this.Qr[n]},t.prototype.get=function(t){var n=A_(t).toLowerCase();return this.Qr.hasOwnProperty(n)?this.Qr[n][1]:null},t.prototype.has=function(t){var n=A_(t).toLowerCase();return this.Qr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=A_(t)).toLowerCase();this.Qr[i]=[t,T_(n)]},t.prototype.forEach=function(t,n){for(var i in this.Qr)this.Qr.hasOwnProperty(i)&&t.call(n,this.Qr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),S_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),S_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),S_(t)},t.prototype.asList=function(){var t=[];for(var n in this.Qr)if(this.Qr.hasOwnProperty(n)){var i=this.Qr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function I_(){}p_.iterable&&(E_.prototype[Symbol.iterator]=E_.prototype.entries);var R_,N_,D_,C_=w.min,P_=String.fromCharCode,B_=16384;function O_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=B_){var r=C_(e+B_,n);i.push(P_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function x_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function L_(t,n){return t>>n&63|128}function M_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(x_(t),n.push(t>>12&15|224),n.push(L_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(L_(t,12)),n.push(L_(t,6))),n.push(63&t|128)):n.push(t)}function U_(){if(D_>=N_)throw new v("Invalid byte index");var t=255&R_[D_];if(D_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function X_(){var t,n;if(D_>N_)throw new v("Invalid byte index");if(D_===N_)return!1;if(t=255&R_[D_],D_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|U_())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|U_()<<6|U_())>=2048)return x_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|U_()<<12|U_()<<6|U_())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var F_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function H_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function z_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function V_(t){return t&&DataView.prototype.isPrototypeOf(t)}var W_,G_=ArrayBuffer.isView||function(t){return t&&(F_.indexOf(d.prototype.toString.call(t))>-1||V_(t))};function q_(t){if(t.bodyUsed)return Ve.reject(new l("Already used"));t.bodyUsed=!0}function Y_(t){return new Ve(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function j_(t){return p_.encoding?new l_.TextDecoder("utf-8").decode(new y(t)):O_(function(t){N_=(R_=t).length,D_=0;for(var n,i=[];!1!==(n=X_());)i.push(n);return i}(new y(t)))}function Q_(t){return p_.encoding?(new l_.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)M_(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Z_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?Ve.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function K_(t){return Z_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function J_(t){return t.slice?t.slice(0):$_(new y(t))}function $_(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function tg(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function ng(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.Zd===W_.Kd){if(!n.Jd.tee)throw new v("could not clone ReadableStream body");var i=n.Jd.tee(),e=i[0],r=i[1];return n.body=e,n.Jd=e,n.$d=e,r}return n.Zd===W_.Vf?J_(n.Jd):n.Zd===W_.Pl?n.Jd.then(ng):n.$d}!function(t){t[t.Kn=0]="Kn",t[t.nw=1]="nw",t[t.iw=2]="iw",t[t.Vf=3]="Vf",t[t.Kd=4]="Kd",t[t.Pl=5]="Pl"}(W_||(W_={}));var ig=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.$d=n||null,n)if("string"==typeof n)this.Zd=W_.Kn,this.Jd=n;else if((s=n)&&"function"==typeof s.then)this.Zd=W_.Pl,this.Jd=Ve.resolve(n).then(function(n){return new t(n,i)}),this.Jd.catch(I_);else if(p_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Zd=W_.nw,this.Jd=n;else if(p_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Zd=W_.iw,this.Jd=n;else if(p_.searchParams&&H_(n))this.Zd=W_.Kn,this.Jd=n.toString();else if(p_.arrayBuffer&&(z_(n)||G_(n)))V_(n)&&(this.$d=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Zd=W_.Vf,this.Jd=z_(e=n)?J_(e):$_(e);else{if(!p_.stream||!__(n))throw new v("unsupported BodyInit type");n=y_(w_,n),this.Zd=W_.Kd,this.Jd=n,this.$d=n}else this.Zd=W_.Kn,this.Jd="";this.ew="",i.has("content-type")?this.ew=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.ew="text/plain;charset=UTF-8":u.Zd===W_.nw&&u.Jd.type?this.ew=u.Jd.type:p_.searchParams&&H_(n)&&(this.ew="application/x-www-form-urlencoded;charset=UTF-8"),this.ew&&i.set("content-type",this.ew)),p_.stream&&(null==n?this.body=null:u.Zd===W_.Kd?this.body=u.Jd:this.body=b_(w_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=q_(this);return e||(this.Zd===W_.nw?(t=this.Jd,n=new FileReader,i=Y_(n),n.readAsText(t),i):this.Zd===W_.Vf?Ve.resolve(this.Jd).then(j_):this.Zd===W_.Kd?K_(this.Jd).then(j_):this.Zd===W_.Pl?this.Jd.then(function(t){return t.text()}):this.Zd===W_.iw?Ve.reject(new v("could not read FormData body as text")):Ve.resolve(this.Jd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();p_.blob&&(ig.prototype.blob=function(){var t,n,i=q_(this);return i||(this.Zd===W_.nw?Ve.resolve(this.Jd):this.Zd===W_.Vf?Ve.resolve(d_([this.Jd],{type:this.ew})):this.Zd===W_.Kd?(t=this.Jd,n=this.ew,Z_(t).then(function(t){return d_(t,{type:n||""})})):this.Zd===W_.Pl?this.Jd.then(function(t){return t.blob()}):this.Zd===W_.iw?Ve.reject(new v("could not read FormData body as Blob")):Ve.resolve(d_([this.Jd],{type:this.ew})))}),p_.arrayBuffer&&(ig.prototype.arrayBuffer=function(){var t,n,i;return this.Zd===W_.Vf?q_(this)||Ve.resolve(this.Jd):this.Zd===W_.nw?q_(this)||(t=this.Jd,n=new FileReader,i=Y_(n),n.readAsArrayBuffer(t),i):this.Zd===W_.Kd?K_(this.Jd):this.Zd===W_.Pl?q_(this)||this.Jd.then(function(t){return t.arrayBuffer()}):this.Zd===W_.iw?Ve.reject(new v("could not read FormData body as ArrayBuffer")):Ve.resolve(this.Jd).then(Q_)}),p_.formData&&(ig.prototype.formData=function(){return this.Zd===W_.iw?q_(this)||Ve.resolve(this.Jd):this.text().then(tg)});var eg=[301,302,303,307,308],rg=function(t){function n(n,i){var e=this,r=new E_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return v_(n,t),n.prototype.clone=function(){return new n(ng(this),{status:this.status,statusText:this.statusText,headers:new E_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===eg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(ig);var sg,ug=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(e):r).listeners||f.call(c(t)),d.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(sg=ug)&&sg.__esModule&&d.prototype.hasOwnProperty.call(sg,"default")&&sg.default,ug.AbortSignal;var og=ug.AbortController,ag=l_.DOMException;try{new ag}catch(t){(ag=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),ag.prototype.constructor=ag}var cg=og;function hg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function fg(t,n,i){return new Ve(function(e,r){if(n.signal.aborted)return t.catch(I_),r(vg());var s=function(){n.signal.removeEventListener("abort",s),r(vg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function vg(){return new ag("Aborted","AbortError")}var lg,dg="moz-chunked-arraybuffer";function wg(t){try{var n=new b;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(lg||(lg={}));var _g=function(){function t(t,n){var i=this;this.uw=!1,this.Wd=t,this.ow=n,this.aw=new b,this.cw=new Ve(function(t,n){i.hw=t,i.fw=n})}return t.prototype.send=function(){var t=this;return this.vw().then(function(n){return t.lw(n,t.ow),t.cw})},t.prototype.vw=function(){var t=this.Wd;return t.Zd===W_.Kd?t.arrayBuffer():Ve.resolve(t.$d)},t.prototype.dw=function(t){this.Wd.onprogress&&this.Wd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.ww=function(t){this.fw(t)},t.prototype._w=function(){this.ww(new l("Network request failed"))},t.prototype.gw=function(){this.ww(new l("Network request failed"))},t.prototype.mw=function(){this.ww(vg())},t.prototype.lw=function(t,n){var i=this,e=this.Wd,r=this.aw,s=function(){return i.yw()};if(e.signal.aborted)return this.mw();r.onreadystatechange=function(){if(r.readyState>=lg.HEADERS_RECEIVED&&!i.uw){var t=function(t){var n=new E_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.uw=!0,i.bw(n)}},r.onprogress=function(t){return i.dw(t)},r.onload=function(){return i.pw()},r.onerror=function(){return i._w()},r.ontimeout=function(){return i.gw()},r.onabort=function(){return i.mw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.yw=function(){this.mw(),this.aw.abort()},t}(),gg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Aw=void 0,e.Tw=void 0,e}return v_(n,t),n.prototype.bw=function(t){var n=this;this.Aw=new Ve(function(t,i){n.Tw=t,n.Sw=i}),this.hw(new rg(this.Aw,t))},n.prototype.pw=function(){var t=this.aw.response;if(null==t){var n=this.ow;""===n||"text"===n?t=this.aw.responseText:"document"===n?t=this.aw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=d_([]))}this.Tw(t)},n.prototype.ww=function(n){t.prototype.ww.call(this,n),this.Sw&&this.Sw(n)},n}(_g),mg=function(t){function n(n){var i=t.call(this,n,dg)||this;return i.Ew=void 0,i.Iw=void 0,i.Rw=!1,i}return v_(n,t),n.prototype.bw=function(t){var n=this;this.Ew=new w_({start:function(t){n.Iw=t},cancel:function(){n.Rw=!0,n.yw()}}),this.hw(new rg(this.Ew,t))},n.prototype.dw=function(n){this.Rw||this.Iw.enqueue(new y(this.aw.response)),t.prototype.dw.call(this,n)},n.prototype.pw=function(){this.Iw.close()},n.prototype.ww=function(n){t.prototype.ww.call(this,n),this.Iw&&!this.Rw&&(this.Rw=!0,this.Iw.error(n))},n}(_g),yg=function(){var t=p_.firefox&&wg(dg);return yg=function(){return t},t},kg=function(){var t;return t=p_.arrayBuffer&&wg("arraybuffer")?"arraybuffer":p_.blob&&wg("blob")?"blob":"",kg=function(){return t},t};function bg(t){return(p_.stream&&yg()?new mg(t):new gg(t,kg())).send()}var pg=l_.fetch,Ag=l_.Request;l_.Response;var Tg=l_.AbortController;var Sg=["http:","https:"];var Eg=function(){try{if(p_.streamRequest){var t=new Ag("about:blank",{body:"",method:"POST"}).body;if(t&&g_(t.constructor))return t.constructor}}catch(t){}}();function Ig(t,n,i){var e;if(p_.stream){var r=void 0;if(p_.streamResponse){var s=t.body;r=s&&y_(w_,s)}else r=b_(w_,function(){return fg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new m_(n.getReader(),i),{highWaterMark:0})}(w_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Rg(t.headers))),e=r}else{var u=fg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return Ve.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Rg(t.headers))),e=u}return new rg(e,t)}function Rg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Ng(t){var n=new cg;return t.signal&&hg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Zd===W_.Kd?p_.streamRequest&&Eg?Ve.resolve(y_(Eg,r.Jd)):fg(t.arrayBuffer(),n,!1):fg(Ve.resolve(t.$d),n,!1),p_.abort){var s=new Tg;hg(s,n.signal),e=s.signal}return i.then(function(n){return new Ag(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof E_?i:new E_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return pg(i).then(function(i){return Ig(i,n,t.onprogress)})})}var Dg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Cg=function(t){function n(i,e){var r,s,u,o,a,c,h,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new E_(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.$d||(w=i.$d,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!e.headers&&u||(u=new E_(e.headers)),e&&(c="about:client",h=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Dg.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new cg).signal,d.referrer=void 0!==e.referrer?e.referrer:c,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return v_(n,t),n.prototype.clone=function(){return new n(this,{body:ng(this)})},n}(ig),Pg="function"==typeof pg&&p_.stream&&p_.streamResponse&&p_.url;function Bg(t,n){return new Ve(function(i){var e=new Cg(t,n);i((Pg&&function(t){try{return Sg.indexOf(new l_.URL(t,l_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Ng:bg)(e))})}Bg.polyfill=!0;var Og=function(){function t(t){this.qd=void 0,this.Wd=void 0,this.Kv=new Zs,this.Gd=void 0,this.Nw=!1,this.Wd=t,this.Kv.Fs(t.zs),this.qd=this.Dw()}var n=t.prototype;return n.Dw=function(){var t,n,e,r,s,u,o,c,h=this;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Wd).Id&&a(function(){h.Nw=!0,h.Kv.Xs()},t.Id),f.prev=2,n=Bg(t.ud,{method:t.Ed,headers:t.Kl.qf(),body:t.Xl,credentials:t.Dd?"include":"same-origin",signal:Mg(this.Kv.zs),onprogress:t.Cd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new a_(t,f.t0);case 9:return f.prev=9,f.next=12,Rr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),Js(r=this.Cw(f.t1))&&this.Kv.Xs(),r;case 20:if(s=e.url||t.ud,u=0===e.status&&"file:"===(v=s,i.Cr(v).protocol)?200:e.status,o=new xg(this,e,this.Kv),c=new Kw({Xi:o,ed:t,Jl:t.Jl,Kl:new Af(e.headers.asList()),Zl:u,$l:e.statusText,rd:s}),this.Gd=c,!qw(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new c_(c);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],Ve)},n.Cw=function(t){return Js(t)?this.Nw?new h_(this.Wd):new Ks(t.message,t):this.Gd?new c_(this.Gd,t):new a_(this.Wd,t)},t}(),xg=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Pw=void 0,r.Bw=void 0,r.Kv=void 0,r.Vl=new Wo,r.Pw=n,r.Bw=i,r.Kv=e,r.Vl.Uu.catch(Z),r}S(n,t);var i=n.prototype;return i.Gl=function(){return this.Vl.Uu},i.Ol=function(t){return this.ql(this.Bw.text(),t)},i.Ll=function(t){return this.ql(this.Bw.arrayBuffer(),t)},i.Ml=function(){var t=this.Bw.body;return t?this.Yl(t):Nw(this.Ll().then(Iw),this.Kv)},i.jl=function(){var t=this.Bw.clone(),i=this.Kv.Hs(),e=i[0],r=i[1];return this.Kv=e,new n(this.Pw,t,r)},i.ql=function(t,n){var i=this;n&&this.Kv.Fs(n);var e=Ve.resolve(t).catch(function(t){throw i.Pw.Cw(t)});return e=eu(e,this.Kv),this.Vl.Hu(e.then(Z)),e},i.Yl=function(t){var n=this,i=new vw,e=Ve.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Pw.Cw(t);throw i.writable.abort(e).catch(Z),e});return e=eu(e,this.Kv),this.Vl.Hu(e.then(Z)),i.readable},A(n,[{key:"Ql",get:function(){return this.Bw.bodyUsed}}]),n}(xw),Lg="abort";function Mg(t){var n=new cg;if(t.Rs)n.abort();else if(!t.Ns){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Lg,i),t.xs(i),t.Ms(e)};n.signal.addEventListener(Lg,i),t.Os(i),t.Ls(e)}return n.signal}function Ug(t,n,i){return new Ve(function(e,r){if(i&&i.Rs)return r(new Ks);var s=function(t){o(),e(t)},u=function(){o(),r(new Ks)},o=function(){t.removeEventListener(n,s),i&&i.xs(u)};t.addEventListener(n,s),i&&i.Os(u)})}var Xg,Fg,Hg=function(){function t(){}var n=t.prototype;return n.ed=function(t){return new Og(t).qd},n.Pd=function(t){if(de&&de.sendBeacon)de.sendBeacon(t.ud,yf([t.Xl],{type:t.Ul}));else{var n=t.Ul?{"Content-type":t.Ul}:void 0;ou(this.ed(new Jw({Ed:Yw.POST,ud:t.ud,Xl:t.Xl,Kl:n})))}},n.Bd=function(){},t}();Xg=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Ow=void 0,i.xw=function(){if(L.cn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Lw=L.Mn,i.Mw=void 0,i}return S(i,n),A(i,[{key:"Tr",get:function(){return this.Ow||(this.Ow=new Ss(wf())),this.Ow}},{key:"Uw",get:function(){return this.xw}},{key:"Xw",get:function(){return this.Lw}},{key:"Fw",get:function(){return!1}},{key:"Hw",get:function(){return gf.if()}},{key:"zw",get:function(){return{Vw:kf}}},{key:"Ww",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Gw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"qw",get:function(){return this.Mw||(this.Mw=new t_(new Hg)),this.Mw}}]),i}(Sr)),i=Xg,function(t){t.Yw="jw",t.Qw="Zw"}(Fg||(Fg={})),Fg.Yw,Fg.Qw;var zg=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kw=void 0,e}return S(n,t),A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),n}(wu);function Vg(t){return Boolean(t&&t.Jw)}var Wg,Gg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(zg),qg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(wu),Yg=function(t){function n(n){var i;return(i=t.call(this,Fg.Yw)||this).t_=n,i}return S(n,t),n.prototype.$w=function(){return new jg(this.t_.Jw)},n}(Gg),jg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(qg),Qg=function(t){function n(n){var i;return(i=t.call(this,Fg.Qw)||this).t_=n,i}return S(n,t),n.prototype.$w=function(){return new Zg(this.t_.Jw)},n}(Gg),Zg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(qg);!function(t){t.n_="i_",t.e_="r_",t.s_="u_",t.o_="a_",t.c_="h_",t.f_="v_",t.l_="d_",t.w_="__",t.g_="Wc",t.m_="y_",t.k_="b_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Wg||(Wg={}));var Kg=function(t){function n(){var n;return(n=t.call(this)||this).p_=[],n.Kw=void 0,n}S(n,t);var i=n.prototype;return i.A_=function(t){return this.p_[t]},i.T_=function(t){return!(!t||Xs(this.p_,t))&&(this.p_.push(t),this.Kw&&this.Kw.push(t.Jw),t.js(Wg.f_,this.qs),this.Ys(new Yg(t)),!0)},i.S_=function(t){if(!t)return!1;var n=this.p_.indexOf(t);return!(n<0)&&(Us(this.p_,n),this.Kw&&Us(this.Kw,n),t.Js(Wg.f_,this.qs),this.Ys(new Qg(t)),!0)},i.E_=function(t){return Xs(this.p_,t)},i.I_=function(){for(var t=this.p_,n=t.length-1;n>=0;n-=1)this.S_(t[n])},i.Bd=function(){this.I_(),this.Ks()},A(n,[{key:"R_",get:function(){return this.p_}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"N_",get:function(){return this.p_.length}}]),n}(lu),Jg=function(t){function n(n){var i;return(i=t.call(this,Wg.f_)||this).t_=n,i}return S(n,t),n.prototype.$w=function(){return new $g(this.t_.Jw)},n}(Gg),$g=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(qg),tm=function(t){function n(){var n;return(n=t.call(this)||this).D_=void 0,n.C_=function(t){var i=t.t_;n.T_(i)},n.P_=function(t){var i=t.t_;n.S_(i)},n}S(n,t);var i=n.prototype;return i.B_=function(t){t.js(Fg.Yw,this.C_),t.js(Fg.Qw,this.P_)},i.O_=function(t){t.Js(Fg.Yw,this.C_),t.Js(Fg.Qw,this.P_)},i.Bd=function(){this.D_&&this.D_.Bd(),t.prototype.Bd.call(this)},A(n,[{key:"x_",get:function(){return this.D_},set:function(t){var n=this.D_;if(t!==n){if(n){this.O_(n);for(var i=0,e=n.R_;i<e.length;i++){var r=e[i];t&&t.E_(r)||this.S_(r)}}if(this.D_=t,t){for(var s=[],u=0,o=t.R_;u<o.length;u++){var a=o[u];this.T_(a),this.L_(a)&&s.push(a)}this.B_(t);for(var c=0;c<s.length;c++){var h=s[c];h.Ys(new Jg(h))}}}}}]),n}(Kg),nm=d.freeze||K;function im(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function em(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function rm(t){if(W(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=rm(t[i]));return n}if(H(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=rm(t[r]));return e}return t}function sm(t,n){return t===n||!(!t||!n)&&(!(!V(t)||!V(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!sm(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!sm(t[s],n[s]))return!1}return!0}(t,n)))}function um(t,n){return t.constructor===n.constructor}function om(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function am(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function cm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function hm(t){var n=cm(t);if(m(n))throw new v("Expected a valid number.");return n}function fm(t){return"string"==typeof t?t:""}function vm(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function lm(t,n){return z(t)?vm(t,n):n(t)}var dm=[Fg.Yw,Fg.Qw,Wg.f_];function wm(t){var n,i=t.R_.map(function(t){return t.Jw});return i.item=function(n){var i=0|n,e=t.A_(i);return e&&e.Jw||void 0},i.addEventListener=function(t,i){n.js(t,i)},i.removeEventListener=function(t,i){n.Js(t,i)},n=new du(i),t.js(dm,function(t){return n.Ys(t.Jw)}),i}function _m(){}function gm(t){var n,i=[Wg.g_,Wg.f_,Wg.m_,Wg.k_,Wg.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.M_&&t.M_.Jw},get enabled(){return t.U_},set enabled(n){t.U_=am(n)},get id(){return t.X_},get uid(){return t.F_},get kind(){return t.H_},get label(){return t.z_},set label(n){t.z_=fm(n)},get language(){return t.V_},get qualities(){return t.W_.Jw},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.W_.R_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Jw===o&&i.push(s)}return i}(t,H(n)?n:[n]):[]).length>0?t.G_=i:t.G_=void 0},get targetQuality(){if(t.G_)return 1===t.G_.length?t.G_[0].Jw:t.G_.map(function(t){return t.Jw})},addEventListener:function(t,i){var e=lm(t,fm);n.js(e,i)},removeEventListener:function(t,i){var e=lm(t,fm);n.Js(e,i)}};return n=new du(e),t.js(i,function(t){return n.Ys(t.Jw)}),d.defineProperty(e,"constructor",{value:_m}),e}function mm(){}function ym(t){var n=wm(t);return d.defineProperty(n,"constructor",{value:mm}),n}var km,bm,pm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$w=function(){return ym(this)},i.L_=function(t){return t.U_},n}(tm);function Am(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case km.q_:case km.Y_:case km.j_:return n}}else if("number"==typeof t)switch(t){case 0:return km.q_;case 1:return km.Y_;case 2:return km.j_}return km.q_}function Tm(){}function Sm(t){var n,i=[Wg.f_,Wg.g_,Wg.n_,Wg.e_,Wg.s_,Wg.o_,Wg.c_,Wg.l_,Wg.w_],e=[bm.Q_],r={get kind(){return t.H_},get label(){return t.z_},set label(n){t.z_=fm(n)},get language(){return t.V_},get id(){return t.X_},get uid(){return t.F_},get inBandMetadataTrackDispatchType(){return t.Z_},get mode(){return t.K_},set mode(n){n!==km.j_&&n!==km.Y_&&n!==km.q_||t.J_(n)},get forced(){return Boolean(t.eg)},get type(){return t.us},get readyState(){return Rm(t.rg)},get cues(){return t.K_===km.q_?null:t.og.Jw},get activeCues(){return t.K_===km.q_?null:t.ag.Jw},get src(){return t.cg||""},addEventListener:function(t,i){var e=lm(t,fm);n.js(e,i)},removeEventListener:function(t,i){var e=lm(t,fm);n.Js(e,i)}};return n=new du(t),t.js(i,function(t){return n.Ys(t.Jw)}),t.js(e,function(t){return n.Ys(t)}),d.defineProperty(r,"constructor",{value:Tm}),r}function Em(){}function Im(t){var n=wm(t);return d.defineProperty(n,"constructor",{value:Em}),n}function Rm(t){return t}!function(t){t.q_="disabled",t.Y_="hidden",t.j_="showing"}(km||(km={})),function(t){t.Q_="error"}(bm||(bm={}));var Nm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$w=function(){return Im(this)},i.L_=function(t){return t.K_===km.j_},n}(tm),Dm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Zs=function(n){t.prototype.Zs.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},n}(lu),Cm=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Dm),Pm=function(t){function n(){return t.call(this,bf.gf)||this}return S(n,t),n}(wu),Bm=function(t){function n(n){var i;return(i=t.call(this,bf.vf)||this).currentSource=n,i}return S(n,t),n}(wu),Om=function(){function t(){}return t.hg=function(n,i){var e=t.fg(n,i);return e?t.vg(e):0},t.dg=function(){return i.Ww||"default"},t.wg=function(){return i.Gw||"unknown"},t.fg=function(n,e){var r,s=null==(r=i.Hw)?void 0:r.Su(e),u=s&&JSON.parse(s);if(u&&u[n])return t._g(u,n,e)},t.vg=function(t){var n=t.availableBandwidth;return n||0},t._g=function(n,i,e){if(!t.gg(n,i))return n[i];t.yg(n,i,e)},t.yg=function(t,n,e){var r;delete t[n],null==(r=i.Hw)||r.nf(e,JSON.stringify(t))},t.gg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.pg=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Ag=function(n){var i=t.dg();t.Tg(i,"theoplayer-stored-network-info",n,zt())},t.Tg=function(n,e,r,s){var u,o,a=null==(u=i.Hw)?void 0:u.Su(e),c=a?JSON.parse(a):void 0,h=t.pg(c,n,r,s);null==(o=i.Hw)||o.nf(e,JSON.stringify(h))},t.Sg=function(){var n=t.dg();return t.hg(n,"theoplayer-stored-network-info")},t}();var xm,Lm,Mm,Um,Xm,Fm,Hm="1ADD53F3";function zm(t){return{chromecast:function(t){return{appID:t&&t.appID?fm(t.appID):Hm}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return xm.AUTO;case"manual":return xm.MANUAL;case"disabled":return xm.DISABLED;default:return xm.MANUAL}}(t?t.strategy:void 0)}}function Vm(t){var n,i=Mm.Eg;return(n=t)&&fs(n,"mpd")&&(i=Mm.Ig),function(t){return!!t&&fs(t,"m3u8")}(t)&&(i=Mm.Rg),i}function Wm(t){return!!t&&vs(t.toLowerCase(),Mm.Ig)}function Gm(t){if(!t)return!1;var n=t.toLowerCase();return vs(n,Mm.Rg)||vs(n,Mm.Ng)}function qm(t){return V(t)&&V(t.ssai)&&"google-dai"===t.ssai.integration}function Ym(t){return V(t)&&G(t.integration)&&"verizon-media"===t.integration}function jm(t){if(G(t))return!t;if(Ym(t))return!t.id;if(qm(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Qm(t){return Boolean(V(t)&&G(t.src))}function Zm(t){return G(t)||Qm(t)||qm(t)||Ym(t)}function Km(t){if(t){if(Zm(t))return jm(t);for(var n=0;n<t.length;n++){if(!jm(t[n]))return!1}return!0}return!0}function Jm(){return{crossOrigin:Lm.Dg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function $m(){return Nr({},Jm(),{src:void 0,type:Mm.Eg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function ty(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Um.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Xm.NONE;case"midroll-and-postroll":default:return Xm.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=am(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Um.INSECURE;case"disabled":return Um.DISABLED;case"enabled":default:return Um.ENABLED}}(t.vpaidMode)),H(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:am(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function ny(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function iy(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(xm||(xm={})),function(t){t.Dg="",t.Cg="anonymous",t.Pg="use-credentials"}(Lm||(Lm={})),function(t){t.Ig="application/dash+xml",t.Rg="application/vnd.apple.mpegurl",t.Ng="application/x-mpegurl",t.Eg="video/mp4",t.Bg="application/vnd.theoplayer.hesp+json",t.Og="application/vnd.theo.hesp+json"}(Mm||(Mm={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Um||(Um={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Xm||(Xm={})),function(t){t[t.xg=0]="xg",t[t.Lg=1]="Lg",t[t.Mg=2]="Mg",t[t.Ug=3]="Ug",t[t.Xg=4]="Xg"}(Fm||(Fm={}));var ey,ry=function(t){function n(n,i){var e;return void 0===i&&(i=Fm.xg),(e=t.call(this,bf.wf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),sy=function(t){function n(n){var i;return(i=t.call(this,bf.Tf)||this).currentTime=n,i}return S(n,t),n}(wu),uy=function(t){function n(n){var i;return(i=t.call(this,bf.Sf)||this).currentTime=n,i}return S(n,t),n}(wu);!function(t){t.Fg="canplay",t.Hg="canplaythrough",t.zg="loadeddata",t.Vg="loadedmetadata",t.l_="readystatechange",t.Wg="waiting",t.Gg="playing"}(ey||(ey={}));var oy,ay,cy=[ey.Fg,ey.Hg,ey.zg,ey.Vg,ey.l_,ey.Wg,ey.Gg],hy=function(t){function n(n,i){var e;return void 0===i&&(i=Fm.Lg),(e=t.call(this,ey.Vg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),fy=function(t){function n(n){var i;return(i=t.call(this,bf.df)||this).duration=n,i}return S(n,t),n}(wu),vy=function(t){function n(n,i){var e;return(e=t.call(this,bf.If)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(wu),ly=function(t){function n(n,i){var e;return(e=t.call(this,bf.Uf)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(wu),dy=function(t){function n(n){var i;return(i=t.call(this,bf._f)||this).currentTime=n,i}return S(n,t),n}(wu),wy=function(t){function n(n,i){var e;return void 0===i&&(i=Fm.Mg),(e=t.call(this,ey.zg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),_y=function(t){function n(n){var i;return(i=t.call(this,bf.Cf)||this).currentTime=n,i}return S(n,t),n}(wu),gy=function(t){function n(n){var i;return(i=t.call(this,bf.Df)||this).currentTime=n,i}return S(n,t),n}(wu),my=function(t){function n(n,i){var e;return(e=t.call(this,bf.Xf)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(wu),yy=function(t){function n(n,i){var e;return void 0===i&&(i=Fm.Ug),(e=t.call(this,ey.Fg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),ky=function(t){function n(n,i){var e;return void 0===i&&(i=Fm.Xg),(e=t.call(this,ey.Hg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),by=function(t){function n(n,i){var e;return(e=t.call(this,ey.l_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),py=function(t){function n(n){var i;return(i=t.call(this,bm.Q_)||this).errorObject=n,i}return S(n,t),n.prototype.$w=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(zg);function Ay(t){switch(t){case oy.ALL:case oy.CONTENT:return t;default:return oy.NONE}}function Ty(t){var n,e,r,s=rm(t||{});return s.libraryLocation&&(s.libraryLocation=i_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=zm(s.cast),s.ads=ty(s.ads),s.analytics=ny(s.analytics),s.mutedAutoplay=Ay(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=G(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return i_(t)}catch(t){return void i.wr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Sy(t){return{qg:t.qg,Yg:t.Yg,jg:t.jg,wu:t.wu,Qg:t.Qg,Zg:t.Zg,Kg:t.Kg,Jg:t.Jg,rg:t.rg,$g:t.$g,tm:t.tm,nm:t.nm,im:t.im}}function Ey(t,n,i){if(n!==i){var e=n.qg,r=n.Yg,s=n.Zg,u=n.Kg,o=n.Jg,a=n.rg,c=n.$g;n.nm,n.tm;var h=n.im,f=i.qg,v=i.Yg,l=i.jg,d=i.Qg,w=i.Zg,_=i.Kg,g=i.Jg,y=i.rg,k=i.$g;i.nm,i.tm;var b=i.im;a!==Fm.xg&&t.Ys(new ry(f,y)),_&&!u?t.Ys(new sy(f)):!_&&u&&t.Ys(new uy(f)),y>=Fm.Lg&&t.Ys(new hy(f,y)),v===r||m(v)&&m(r)||t.Ys(new fy(v)),g!==o&&t.Ys(new vy(f,g)),f!==e&&t.Ys(new ly(f,void 0)),l&&t.Ys(new dy(f)),y>=Fm.Mg&&t.Ys(new wy(f,y)),k&&!c?t.Ys(new _y(f)):!k&&c&&t.Ys(new gy(f)),b===h&&w===s||t.Ys(new my(f,b)),y>=Fm.Ug&&t.Ys(new yy(f,y)),y>=Fm.Xg&&t.Ys(new ky(f,y)),y!==a&&t.Ys(new by(f,y)),d&&t.Ys(new py(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(oy||(oy={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(ay||(ay={}));var Iy=400,Ry=.25,Ny={um:.2,cm:.45,hm:.7,fm:3,vm:Ly,lm:My},Dy={um:.4,cm:.65,hm:1,fm:3,vm:Ly,lm:My},Cy={um:.4,cm:.7,hm:.9,fm:3,vm:Ly,lm:My},Py={um:.4,cm:.65,hm:1,fm:3,vm:Ly,lm:My},By={um:.5,cm:1.125,hm:1.75,fm:2.55,vm:Ly,lm:My};function Oy(){var t;return t=i.Or.Ve?Py:i.Or.qe?Dy:i.Or.Ge?"Android"===i.xr.Lr?Cy:Ny:By,i.xr.Mr?function(t){if(i.xr.Mr){var n=(Iy+250)/1e3,e=w.max(n,t.um),r=w.max(e+Ry,t.cm),s=w.max(r+Ry,t.hm);return{um:e,cm:r,hm:s,fm:w.max(s+Ry,t.fm),vm:Ly,lm:My}}return t}(t):t}var xy,Ly=.92,My=1.08;function Uy(t){return{goLive:function(){return t.dm()},get isLive(){return t.wm},get currentServerLiveTime(){return t._m},get currentLatency(){return t.gm},get latency(){return t.mm},set latency(n){if(!function(t){if(!V(t))return!1;var n=t,i=X(n.target)&&"number"==typeof n.target&&X(n.windowEnd)&&"number"==typeof n.windowEnd&&X(n.windowStart)&&"number"==typeof n.windowStart&&X(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.mm=n},get manifest(){return t.ym},get metrics(){return t.pm},addEventListener:function(n,i){t.js(Fy(n),i)},removeEventListener:function(n,i){t.Js(Fy(n),i)}}}!function(t){t[t.q_=0]="q_",t[t.Am=1]="Am",t[t.Tm=2]="Tm"}(xy||(xy={}));var Xy=["analytic","golive","nogolive","bufferedchange"];function Fy(t){var n=lm(t,fm);return(G(n)?[n]:n).filter(function(t){return Xs(Xy,t)})}var Hy,zy=function(t){function n(){var n,i;return(n=t.call(this)||this).D_=void 0,n.Kw=void 0,n.Sm={windowStart:(i=Oy()).um,windowEnd:i.hm,target:i.cm,maxOffset:i.fm},n.D_=void 0,n}S(n,t);var i=n.prototype;return i.B_=function(t){t.js(Xy,this.qs)},i.O_=function(t){t.Js(Xy,this.qs)},i.dm=function(){var t;null==(t=this.D_)||t.dm()},i.Bd=function(){this.Ks(),this.D_&&this.O_(this.D_),this.D_=void 0},A(n,[{key:"x_",get:function(){return this.D_},set:function(t){var n=this.D_;t!==n&&(n&&this.O_(n),t&&this.B_(t),this.D_=t,this.D_&&(this.D_.mm=this.Sm))}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Uy(this)),this.Kw}},{key:"_m",get:function(){var t;return null==(t=this.D_)?void 0:t._m}},{key:"gm",get:function(){var t;return null==(t=this.D_)?void 0:t.gm}},{key:"wm",get:function(){return!!this.D_&&this.D_.wm}},{key:"mm",get:function(){return this.D_?this.D_.mm:this.Sm},set:function(t){this.D_&&(this.D_.mm=t),this.Sm=t}},{key:"ym",get:function(){var t;return null==(t=this.D_)?void 0:t.ym}},{key:"pm",get:function(){var t;return null==(t=this.D_)?void 0:t.pm}}]),n}(lu),Vy=function(t){function n(n){var i;return(i=t.call(this)||this).D_=void 0,i.Em=[],i.Im=!1,i.Rm=new pm,i.Nm=new pm,i.Dm=new Nm,i.Cm=new zy,i.Pm=!1,i.Bm(n),n.Zs(i.qs),i.D_=n,i.Rm.x_=n.Om,i.Nm.x_=n.xm,i.Dm.x_=n.Lm,i.Cm.x_=n.Mm,i}S(n,t);var i=n.prototype;return i.Um=function(){this.D_.Um()},i.Xm=function(){this.D_.Xm()},i.Fm=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",au(this.Em.map(function(t){return t.Fm()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ve)},i.Hm=function(){return this.D_.Hm()},i.zm=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),i.next=3,Rr.awrap(this.D_.zm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.Vm=function(){return this.x_.Vm()},i.Wm=function(){this.x_.Wm()},i.Gm=function(){this.x_.Gm()},i.qm=function(){if(!this.Im){for(var t=0,n=this.Em;t<n.length;t++){n[t].qm()}this.Im=!0}},i.Ym=function(t){this.D_.Ym(t)},i.jm=function(){this.D_.jm()},i.Qm=function(){this.D_.Qm()},i.Zm=function(){this.D_.Zm()},i.Km=function(){return this.D_.Km()},i.Jm=function(){return this.D_.Jm()},i.$m=function(){for(var t=[],n=0,i=this.Em;n<i.length;n++){var e=i[n];t.push.apply(t,e.$m())}return t},i.iy=function(t){for(var n=!1,i=0,e=this.Em;i<e.length;i++){n=e[i].iy(t)||n}return n},i.Ys=function(n){this.iy(n)||t.prototype.Ys.call(this,n)},i.Bm=function(t){this.Em.push(t)},i.ey=function(t){Ms(this.Em,t)},i.sy=function(t){if(t!==this.D_){var n=this.D_;n.jm(),n.nu(this.qs);var i=Sy(this),e=this.uy,r=this.Jm();this.D_=t,this.Rm.x_=t.Om,this.Nm.x_=t.xm,this.Dm.x_=t.Lm,this.Cm.x_=t.Mm,Ey(this,i,this);var s=this.uy;s!==e&&this.Ys(new Bm(s)),this.Jm()!==r&&this.Ys(new Pm),t.Zs(this.qs),t.Ym(n)}},i.oy=function(){},i.Bd=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Ks(),this.D_.jm(),t=0,n=this.Em;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Rr.awrap(i.Bd());case 7:t++,e.next=3;break;case 10:this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),this.Cm.Bd();case 14:case"end":return e.stop()}},null,this,null,Ve)},i.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",au(this.Em.map(function(t){return t.I_()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"Om",get:function(){return this.Rm}},{key:"Lm",get:function(){return this.Dm}},{key:"xm",get:function(){return this.Nm}},{key:"vy",get:function(){return this.D_.vy}},{key:"ly",get:function(){return this.D_.ly},set:function(t){this.D_.ly=t}},{key:"uy",get:function(){return this.D_.uy}},{key:"qg",get:function(){return this.D_.qg},set:function(t){this.D_.qg=t}},{key:"Yg",get:function(){return this.D_.Yg}},{key:"wy",get:function(){return this.D_.wy}},{key:"jg",get:function(){return this.D_.jg}},{key:"wu",get:function(){return this.D_.wu}},{key:"Qg",get:function(){return this.D_.Qg}},{key:"Mm",get:function(){return this.Cm}},{key:"_y",get:function(){return this.D_._y}},{key:"pm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.gy,i+=a.yy,e+=a.by,r+=a.py,s+=a.Ay,u.amountOfBufferedAudioSegments+=a.Ty.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Ty.amountOfBufferedVideoSegments}return{gy:n,yy:i,by:e,py:r,Ay:s,Ty:u}}(this.Em.map(function(t){return t.pm}))}},{key:"Zg",get:function(){return this.D_.Zg},set:function(t){this.D_.Zg=t}},{key:"Sy",get:function(){return this.D_.Sy}},{key:"Kg",get:function(){return this.D_.Kg}},{key:"Jg",get:function(){return this.D_.Jg},set:function(t){this.D_.Jg=t}},{key:"Ey",get:function(){return this.D_.Ey}},{key:"Iy",get:function(){return this.D_.Iy},set:function(t){this.D_.Iy=t}},{key:"rg",get:function(){return this.D_.rg}},{key:"Ry",get:function(){return this.D_.Ry}},{key:"$g",get:function(){return this.D_.$g}},{key:"tm",get:function(){return this.D_.tm}},{key:"nm",get:function(){return this.D_.nm}},{key:"im",get:function(){return this.D_.im},set:function(t){this.D_.im=t}},{key:"Ny",get:function(){return this.D_.Ny}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"x_",get:function(){return this.D_},set:function(t){this.sy(t)}}]),n}(Cm),Wy=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this,n,i,e)||this).url=void 0,c.status=void 0,c.statusText=void 0,c.response=void 0,c.systemCode=void 0,c.url=r,c.status=s,c.statusText=u,c.response=o,c.systemCode=a,c}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(tf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Hy||(Hy={}));var Gy=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Zt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Kt);function qy(t){im(t,"MEDIA_ERR_ABORTED",Hy.ABORTED),im(t,"MEDIA_ERR_NETWORK",Hy.NETWORK),im(t,"MEDIA_ERR_DECODE",Hy.DECODE),im(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Hy.SRC_NOT_SUPPORTED),im(t,"MEDIA_ERR_ENCRYPTED",Hy.ENCRYPTED)}function Yy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Gy(Hy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Gy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Hy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Hy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Hy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Hy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Hy.NETWORK;if(i===n.ErrorCategory.SOURCE)return Hy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Hy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Hy.ENCRYPTED;if(i===n.ErrorCategory.AD)return Hy.ADVERTISEMENT_ERROR;return Hy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}qy(Gy),qy(Gy.prototype);var jy,Qy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.T_=function(n){return t.prototype.T_.call(this,n)},i.$w=function(){return ym(this)},n}(Kg);!function(t){t.Ad="audio",t.Td="video",t.Kn="text",t.Sd="image",t.hd="unknown"}(jy||(jy={}));var Zy=function(){function t(){this.Cy=[],this.Kw=void 0}var n=t.prototype;return n.Py=function(t){this.Cy.push(t),this.Kw&&this.Kw.push(t.Jw)},n.Vc=function(t){Ms(this.Cy,t),this.Kw&&Ms(this.Kw,t.Jw)},n.A_=function(t){return this.Cy[t]},n.By=function(t){return H(t)?Fs(this.Cy,t):Xs(this.Cy,t)},n.I_=function(){Hs(this.Cy),this.Kw&&Hs(this.Kw)},A(t,[{key:"R_",get:function(){return this.Cy}},{key:"N_",get:function(){return this.Cy.length}},{key:"Jw",get:function(){var t,n;return this.Kw||(this.Kw=((n=(t=this).R_.map(function(t){return t.Jw})).item=function(n){var i=0|n,e=t.A_(i);return e&&e.Jw||void 0},n)),this.Kw}}]),t}(),Ky=function(t){function n(n){var i;return(i=t.call(this,Wg.g_)||this).t_=n,i}return S(n,t),n.prototype.$w=function(){return new Jy(this.t_.Jw)},n}(Gg),Jy=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(qg),$y=0;function tk(){return $y++}var nk=0;var ik=0;function ek(){return ik++}var rk=0;function sk(){return rk++}var uk=0;var ok=function(t){function n(n){var i;return(i=t.call(this)||this).us=jy.Ad,i.Oy=void 0,i.Nc=void 0,i.xy=void 0,i.Ly=void 0,i.My=!1,i.Cy=void 0,i.Kw=void 0,i.Oy=n,i.Ly=tk(),i.Nc=uk+++"",i.xy=n.label,i.Cy=new Zy,i.Uy(),i}S(n,t);var i=n.prototype;return i.Xy=function(t){this.U_=t},i.Uy=function(){this.U_=this.Fy},A(n,[{key:"M_",get:function(){}},{key:"U_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Fy=t,this.Ys(new Jg(this)))}},{key:"Fy",get:function(){return this.Oy.enabled},set:function(t){this.Oy.enabled=t}},{key:"Jw",get:function(){return this.Kw||(this.Kw=gm(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"H_",get:function(){return this.Oy.kind}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new Ky(this)))}},{key:"V_",get:function(){return this.Oy.language}},{key:"K_",get:function(){return this.U_?"enabled":"disabled"}},{key:"Hy",get:function(){return this.Oy}},{key:"W_",get:function(){return this.Cy}},{key:"G_",get:function(){},set:function(t){}}]),n}(lu),ak=0;var ck,hk,fk,vk=function(t){function n(n){var i;return(i=t.call(this)||this).us=jy.Td,i.Oy=void 0,i.Nc=void 0,i.Ly=void 0,i.My=!1,i.Cy=void 0,i.xy=void 0,i.Kw=void 0,i.Oy=n,i.Ly=tk(),i.Nc=ak+++"",i.Cy=new Zy,i.xy=n.label,i.Uy(),i}S(n,t);var i=n.prototype;return i.Uy=function(){this.U_=this.Fy},i.Xy=function(t){this.U_=t},A(n,[{key:"M_",get:function(){}},{key:"U_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Fy=t,this.Ys(new Jg(this)))}},{key:"Fy",get:function(){return!!this.Oy.selected},set:function(t){this.Oy.selected=t}},{key:"Jw",get:function(){return this.Kw||(this.Kw=gm(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"H_",get:function(){return"main"}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new Ky(this)))}},{key:"V_",get:function(){return this.Oy.language}},{key:"K_",get:function(){return this.U_?"enabled":"disabled"}},{key:"Hy",get:function(){return this.Oy}},{key:"W_",get:function(){return this.Cy}},{key:"G_",get:function(){},set:function(t){}}]),n}(lu),lk=function(t){function n(n){var i;return(i=t.call(this,bf.ef)||this)._y=n,i}return S(n,t),n}(wu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(ck||(ck={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(hk||(hk={})),function(t){t.zy="cue",t.Vy="region",t.Wy="stylesheet"}(fk||(fk={}));var dk,wk={"line-left":"start",center:"middle","line-right":"end"},_k={start:"line-left",middle:"center",end:"line-right"};function gk(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function mk(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.Gy="qy",t.Yy="jy",t.g_="Wc"}(dk||(dk={}));var yk=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Qy=i,e}return S(n,t),n}(Gg),kk=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(qg);function bk(t){var n,i=[dk.Gy,dk.Yy,dk.g_],e={get track(){return t.t_.Jw},get id(){return t.X_},get uid(){return t.F_},get startTime(){return t.Zy},get endTime(){return t.Ky},get content(){return t.Jy},addEventListener:function(t,i){var e=lm(t,fm);n.js(e,i)},removeEventListener:function(t,i){var e=lm(t,fm);n.Js(e,i)}};return n=new du(e),t.js(i,function(t){return n.Ys(t.Jw)}),e}function pk(){}function Ak(t){return em(bk(t),{get align(){return t.$y},get line(){return t.nk},get lineAlign(){return t.ek},get position(){return t.rk},get positionAlign(){return t.ck},get region(){return t.hk?t.hk.Jw:null},get size(){return t.Nu},get snapToLines(){return t.fk},get text(){return t.Jy},get vertical(){return t.vk}})}var Tk=function(t){function n(n){return t.call(this,dk.g_,n)||this}return S(n,t),n.prototype.$w=function(){return new Sk(this.Qy.Jw)},n}(yk),Sk=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(kk),Ek=.02;function Ik(t,n){return Mt(t.Zy,n.Zy,Ek)&&Mt(t.Ky,n.Ky,Ek)&&t.X_===n.X_}var Rk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Ly=void 0,u.Nc=void 0,u.lk=void 0,u.dk=void 0,u.Kw=void 0,u.wk=void 0,u._k=!1,u.gk=void 0,u.yk=void 0,u.bk=-1,u.Ly=sk(),u.lk=n,u.dk=i,u.gk=e,u.yk=Boolean(r),u.Nc=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.$w=function(){return bk(this)},i.pk=function(t){return this===t||um(this,t)&&Ik(this,t)},i.Bd=function(){this.Ks()},A(n,[{key:"Zy",get:function(){return this.lk},set:function(t){this.lk!==t&&(this.lk=t,this.Ys(new Tk(this)))}},{key:"Ky",get:function(){return this.dk},set:function(t){this.dk!==t&&(this.dk=t,this.Ys(new Tk(this)))}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"Ak",get:function(){return this._k},set:function(t){this._k=t}},{key:"t_",get:function(){return this.wk},set:function(t){this.wk=t}},{key:"Jy",get:function(){return this.gk},set:function(t){this.gk!==t&&(this.gk=t,this.Ys(new Tk(this)))}},{key:"Tk",get:function(){return this.yk},set:function(t){this.yk=t}}]),n}(lu);function Nk(t,n){return t.Jy===n.Jy&&t.nk===n.nk&&t.ek===n.ek&&t.rk===n.rk&&t.ck===n.ck&&t.hk===n.hk&&t.fk===n.fk&&t.Nu===n.Nu&&t.$y===n.$y&&t.vk===n.vk}var Dk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).nk="auto",u.ek="start",u.rk="auto",u.ck="auto",u.hk=void 0,u.fk=!0,u.Nu=100,u.$y="center",u.vk="",u}return S(n,t),n.prototype.pk=function(n){return this===n||um(this,n)&&t.prototype.pk.call(this,n)&&Nk(this,n)},A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=Ak(this)),this.Kw}},{key:"us",get:function(){return fk.zy}}]),n}(Rk);function Ck(t){var n=Q(t.nk)?t.nk:g(t.nk);return m(n)||t.fk||!(n<0||n>100)?m(n)?t.fk?-1:100:n:100}function Pk(t){return mk(t.rk,t.$y)}function Bk(t){return gk(t.ck,t.$y)}function Ok(t){var n,i=Bk(t),e=Pk(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Nu,n)}function xk(t){return{get id(){return t.X_},get identifier(){return t.X_},get lines(){return t.Sk},get regionAnchorX(){return t.Ek},get regionAnchorY(){return t.Ik},get scrollValue(){return t.Rk},get viewportAnchorX(){return t.Nk},get viewportAnchorY(){return t.Dk},get width(){return t.Ck}}}var Lk=function(){function t(t,n,i,e,r,s,u,o){this.Kw=void 0,this.X_=t,this.Ck=n,this.Sk=i,this.Ek=e,this.Ik=r,this.Nk=s,this.Dk=u,this.Rk=o}return A(t,[{key:"Jw",get:function(){return this.Kw||(this.Kw=xk(this)),this.Kw}},{key:"us",get:function(){return fk.Vy}}]),t}(),Mk=function(){function t(){}var n=t.prototype;return n.Pk=function(t){return this.Bk()*t},n.Ok=function(t){return this.xk(t)>0},n.Lk=function(t){return this.xk(t)>=0},n.Mk=function(t,n){return this.Xk(t).Uk(n)},n.pk=function(t){return 0===this.xk(t)},n.Fk=function(t){return this.xk(t)<0},n.Uk=function(t){return this.xk(t)<=0},n.Hk=function(){return this.zk()?this.Vk():this},n.Wk=function(t){return this.Py(t.Vk())},n.Xk=function(t){return this.Wk(t).Hk()},t}();function Uk(t,n){return t.Gk()?n.Gk()?Ts.Ss:Ts.Es:n.Gk()?Ts.Is:t.qk()?n.qk()&&t.zk()===n.zk()?Ts.Ss:t.zk()?Ts.Is:Ts.Es:n.zk()?Ts.Es:Ts.Is}var Xk=function(){function t(t,n){this.Yk=void 0,this.jk=void 0,this.Yk=t,this.jk=n}t.Qk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Zk=function(n){return n.unsigned?new t(n,ht.UZERO):new t(n,n.isNegative()?ht.NEG_ONE:ht.ZERO)},t.Kk=function(n,i){if(m(n))return i?t.Jk:t.$k;if(i){if(n<0)return t.Jk;if(n>=3.402823669209385e38)return t.ib}else{if(n<=-1.7014118346046923e38)return t.eb;if(n+1>=1.7014118346046923e38)return t.sb}return n<0?t.Kk(-n,i).Vk():t.Qk(ht.fromNumber(n%0x10000000000000000),ht.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.ub=function(){return this.jk.unsigned},n.ob=function(){return this.Yk.isZero()&&this.jk.isZero()},n.zk=function(){return this.jk.isNegative()},n.cb=function(){return this.ub()?t.Qk(this.Yk,this.jk,!1):this},n.hb=function(){return this.ub()?this:t.Qk(this.Yk,this.jk,!0)},n.fb=function(){return this.Yk},n.Bk=function(){return this.zk()?-this.Vk().Bk():0x10000000000000000*this.jk.toNumber()+this.Yk.toUnsigned().toNumber()},n.vb=function(){return this.Yk.toInt()},n.pk=function(t){return(this.ub()===t.ub()||this.jk.getHighBits()>>>31!=1||t.jk.getHighBits()>>>31!=1)&&(this.jk.toUnsigned().eq(t.jk.toUnsigned())&&this.Yk.toUnsigned().eq(t.Yk.toUnsigned()))},n.xk=function(t){if(this.pk(t))return Ts.Ss;var n=this.zk(),i=t.zk();if(n&&!i)return Ts.Is;if(!n&&i)return Ts.Es;if(!this.ub())return this.Wk(t).zk()?Ts.Is:Ts.Es;var e=this.hb(),r=t.hb(),s=r.jk.comp(e.jk);return s>0||0===s&&r.Yk.gt(e.Yk)?Ts.Is:Ts.Es},n.Fk=function(t){return this.xk(t)<0},n.Uk=function(t){return this.xk(t)<=0},n.wb=function(t){return this.xk(t)>0},n._b=function(t){return this.xk(t)>=0},n.gb=function(){return new t(this.Yk.not(),this.jk.not())},n.mb=function(n){return new t(this.Yk.and(n.Yk),this.jk.and(n.jk))},n.yb=function(n){return new t(this.Yk.or(n.Yk),this.jk.or(n.jk))},n.kb=function(n){var i=127&n;return 0===i?this:i<64?t.Qk(this.Yk.shl(i),this.jk.shl(i).or(this.Yk.shru(64-i)),this.ub()):t.Qk(ht.ZERO,this.Yk.shl(i-64),this.ub())},n.bb=function(n){var i=127&n;return 0===i?this:i<64?t.Qk(this.Yk.shru(i).or(this.jk.shl(64-i)),this.jk.shr(i),this.ub()):t.Qk(this.jk.shr(i-64),this.jk.isNegative()?ht.NEG_ONE:ht.ZERO,this.ub())},n.pb=function(n){var i=127&n;return 0===i?this:i<64?t.Qk(this.Yk.shru(i).or(this.jk.shl(64-i)),this.jk.shru(i),this.ub()):64===i?t.Qk(this.jk,ht.ZERO,this.ub()):t.Qk(this.jk.shru(i-64),ht.ZERO,this.ub())},n.Py=function(n){var i=this.jk.high>>>16,e=65535&this.jk.high,r=this.jk.low>>>16,s=65535&this.jk.low,u=this.Yk.high>>>16,o=65535&this.Yk.high,a=this.Yk.low>>>16,c=65535&this.Yk.low,h=n.jk.high>>>16,f=65535&n.jk.high,v=n.jk.low>>>16,l=65535&n.jk.low,d=n.Yk.high>>>16,w=65535&n.Yk.high,_=n.Yk.low>>>16,g=0,m=0,y=0,k=0,b=0,p=0,A=0,T=0;A+=(T+=c+(65535&n.Yk.low))>>>16,T&=65535,p+=(A+=a+_)>>>16,A&=65535,b+=(p+=o+w)>>>16,p&=65535,k+=(b+=u+d)>>>16,b&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+h,g&=65535;var S=this.ub(),E=ht.fromBits(y<<16|k,g<<16|m,S),I=ht.fromBits(A<<16|T,b<<16|p,S);return t.Qk(I,E,S)},n.Wk=function(t){return this.Py(t.Vk())},n.Vk=function(){return this.gb().Py(t.Ab)},n.Tb=function(n){if(this.ob()||n.ob())return this.ub()?t.Jk:t.$k;if(this.zk())return n.zk()?this.Vk().Tb(n.Vk()):this.Vk().Tb(n).Vk();if(n.zk())return this.Tb(n.Vk()).Vk();if(this.jk.isZero()&&0===this.Yk.high&&n.jk.isZero()&&0===n.Yk.high)return t.Zk(this.Yk.multiply(n.Yk));var i=ht.fromBits(4294967295,0,!0),e=this.Yk.and(i),r=this.Yk.shru(32),s=this.jk.and(i),u=this.jk.shru(32),o=n.Yk.and(i),a=n.Yk.shru(32),c=n.jk.and(i),h=n.jk.shru(32),f=ht.UZERO,v=ht.UZERO,l=ht.UZERO,d=ht.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(c)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(c)).add(e.mul(h)).and(i);var w=ht.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ht.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Qk(w,_,this.ub())},n.Sb=function(n){var i,e,r=n;if(r.ob())throw new RangeError("division by zero");if(this.ob())return this.ub()?[t.Jk,t.Jk]:[t.$k,t.$k];if(this.ub()){if(r.ub()||(r=r.hb()),r.wb(this))return[t.Jk,this];if(r.wb(this.pb(1)))return[e=t.Eb,i=this.Wk(r)];e=t.Jk}else{if(this.pk(t.eb)){if(r.pk(t.Ab)||r.pk(t.Ib))return[t.eb,t.$k];if(r.pk(t.eb))return[t.Ab,t.$k];var s=this.bb(1).Rb(r).kb(1);return s.pk(t.$k)?e=r.zk()?t.Ab:t.Ib:(i=this.Wk(r.Tb(s)),e=s.Py(i.Rb(r))),[e,i=this.Wk(r.Tb(e))]}if(r.pk(t.eb))return this.ub()?[t.Jk,this]:[t.$k,this];if(this.zk()){if(r.zk())return this.Vk().Sb(r.Vk());var u=this.Vk().Sb(r);return e=u[0],i=u[1],[e.Vk(),i.Vk()]}if(r.zk()){var o=this.Sb(r.Vk());return e=o[0],i=o[1],[e.Vk(),i.Vk()]}e=t.$k}for(i=this;i._b(r);){for(var a=w.max(1,w.floor(i.Bk()/r.Bk())),c=w.ceil(w.log(a)/w.LN2),h=c<=48?1:w.pow(2,c-48),f=t.Kk(a),v=f.Tb(r);v.zk()||v.wb(i);)a-=h,v=(f=t.Kk(a,this.ub())).Tb(r);f.ob()&&(f=t.Ab),e=e.Py(f),i=i.Wk(v)}return[e,i]},n.Rb=function(t){return this.Sb(t)[0]},n.Nb=function(t){return this.Sb(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.ob())return"0";if(this.zk()){if(this.pk(t.eb)){var e=t.Kk(i),r=this.Rb(e),s=r.Tb(e).Wk(this);return r.toString(i)+s.vb().toString(i)}return"-"+this.Vk().toString(i)}for(var u=t.Kk(w.pow(i,6),this.ub()),o=this,a="";;){var c=o.Rb(u),h=(o.Wk(c.Tb(u)).vb()>>>0).toString(i);if((o=c).ob())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();Xk.$k=Xk.Zk(ht.ZERO),Xk.Jk=Xk.Zk(ht.UZERO),Xk.Ab=Xk.Zk(ht.ONE),Xk.Eb=Xk.Zk(ht.UONE),Xk.Ib=Xk.Zk(ht.NEG_ONE),Xk.sb=Xk.Qk(ht.NEG_ONE,ht.MAX_VALUE,!1),Xk.ib=Xk.Qk(ht.MAX_UNSIGNED_VALUE,ht.MAX_UNSIGNED_VALUE,!0),Xk.eb=Xk.Qk(ht.ZERO,ht.MIN_VALUE,!1);var Fk=function(){function t(t,n){void 0===n&&(n=1),this.Db=void 0,this.Cb=void 0,this.Db=t,this.Cb=n}t.Pb=function(n){return new t(w.ceil(n.Db),n.Cb)},t.Bb=function(n){return new t(w.floor(n.Db),n.Cb)},t.Ob=function(t,n){return t.Lk(n)?t:n},t.xb=function(t,n){return t.Uk(n)?t:n};var n=t.prototype;return n.Py=function(n){return this.Cb>=n.Cb?new t(this.Db+n.Lb(this.Cb).Db,this.Cb):new t(this.Lb(n.Cb).Db+n.Db,n.Cb)},n.Ok=function(t){return t.Fk(this)},n.Lk=function(t){return t.Uk(this)},n.Xk=function(n){return this.Cb>=n.Cb?new t(w.abs(this.Db-n.Lb(this.Cb).Db),this.Cb):n.Xk(this)},n.Mk=function(t,n){return this.Xk(t).Uk(n)},n.xk=function(t){return i=t,(n=this).Cb>=i.Cb?Bs(n.Db,i.Lb(n.Cb).Db):Bs(n.Lb(i.Cb).Db,i.Db);var n,i},n.pk=function(t){return 0===this.xk(t)},n.Fk=function(t){return this.xk(t)<0},n.Uk=function(t){return this.xk(t)<=0},n.Lb=function(n){return new t(this.Db*(n/this.Cb),n)},n.Wk=function(n){return this.Cb>=n.Cb?new t(this.Db-n.Lb(this.Cb).Db,this.Cb):new t(this.Lb(n.Cb).Db-n.Db,n.Cb)},n.Mb=function(n){return new t(this.Db*n,this.Cb)},A(t,[{key:"qk",get:function(){return!isFinite(this.Db)}},{key:"Ub",get:function(){return this.Db/this.Cb}}]),t}();Fk.Xb=new Fk(1/6,1),Fk.$k=new Fk(0),Fk.Fb=new Fk(1/0),Fk.Hb=1e6;var Hk=function(t){function n(n,i){var e;return(e=t.call(this)||this)._i=void 0,e.Cb=void 0,e._i=n.toSigned(),e.Cb=i>>>0,e}S(n,t),n.zb=function(t,i){return void 0===i&&(i=1e6),n.Kk(t*i,i)},n.Kk=function(t,i){return m(t)?n.Vb:t===1/0?n.Wb:t===-1/0?n.Gb:new n(ht.fromNumber(t),i)},n.Zk=function(t,i){return new n(t,i)},n.qb=function(t){return n.zb(t.Ub,1e6)},n.Yb=function(t){return new n(ht.fromNumber(t.getTime()),1e3)},n.Ob=function(t,n){return t.Lk(n)?t:n},n.xb=function(t,n){return t.Uk(n)?t:n},n.jb=function(t,i,e){return n.Ob(i,n.xb(e,t))};var i=n.prototype;return i.zk=function(){return this._i.isNegative()},i.ob=function(){return 0!==this.Cb&&this._i.isZero()},i.qk=function(){return 0===this.Cb&&!this._i.isZero()},i.Gk=function(){return 0===this.Cb&&this._i.isZero()},i.Bk=function(){if(0===this.Cb)return this._i.isZero()?NaN:this._i.isNegative()?-1/0:1/0;var t=this._i.divide(this.Cb),n=this._i.subtract(t.multiply(this.Cb));return t.toNumber()+n.toNumber()/this.Cb},i.fb=function(){if(0===this.Cb)throw new v("Failed to convert timestamp");return this._i},i.Qb=function(){return new Date(0===this.Cb?NaN:this.Lb(1e3)._i.toNumber())},i.Zb=function(){return new Fk(0===this.Cb?this.Bk():this._i.toNumber(),this.Cb)},i.Lb=function(t,i){void 0===i&&(i=Wk.Kb);var e=this.Cb;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t.Sb(n),r=e[0],s=e[1];if(s.ob())return r;if(i===Wk.Kb)return s.zk()?r.Wk(Xk.Ab):r;if(i===Wk.Jb)return s.zk()?r:r.Py(Xk.Ab);var u=s.Tb(Xk.Kk(2));return u.zk()?u.Vk().Fk(n)?r:r.Wk(Xk.Ab):u.Fk(n)?r:r.Py(Xk.Ab)}(Xk.Zk(this._i).Tb(Xk.Kk(t/r)),Xk.Kk(e/r),i).fb(),t)},i.xk=function(t){if(this===t)return Ts.Ss;if(0===this.Cb||0===t.Cb)return Uk(this,t);if(this.ob())return t.ob()?Ts.Ss:t.zk()?Ts.Es:Ts.Is;if(t.ob())return this.zk()?Ts.Is:Ts.Es;var n=w.min(this.Cb,t.Cb),i=this.Lb(n,Wk.$b)._i,e=t.Lb(n,Wk.$b)._i;return i.compare(e)},i.Vk=function(){return 0===this.Cb?zk(this):new n(this._i.negate(),this.Cb)},i.Py=function(t){if(0===this.Cb||0===t.Cb)return Vk(this,t);if(this.ob())return t;if(t.ob())return this;var i=w.max(this.Cb,t.Cb),e=this.Lb(i,Wk.$b),r=t.Lb(i,Wk.$b);return new n(e._i.add(r._i),i)},i.Tb=function(t){if(this.Gk()||m(t))return n.Vb;if(this.qk()||!isFinite(t)){if(this.ob()||0===t)return n.Vb;var i=this.zk()?n.Gb:n.Wb;return t<0?i.Vk():i}return this.ob()?this:new n(0===t?ht.ZERO:this._i.multiply(t),this.Cb)},i.Rb=function(t){if(this.Gk()||m(t))return n.Vb;if(this.qk())return isFinite(t)?0===t?1/t<0?this.Vk():this:t<0?this.Vk():this:n.Vb;if(!isFinite(t))return new n(ht.ZERO,this.Cb);if(this.ob())return 0===t?n.Vb:new n(ht.ZERO,this.Cb);if(0===t){var i=this.zk()?n.Gb:n.Wb;return 1/t<0?i.Vk():i}return new n(this._i.divide(t),this.Cb)},i.tp=function(){return[this._i.low,this._i.high,this.Cb]},n}(Mk);function zk(t){return t.Gk()?t:t.zk()?Hk.Wb:Hk.Gb}function Vk(t,n){return t.Gk()||n.Gk()?Hk.Vb:t.qk()&&n.qk()?t.zk()===n.zk()?t:Hk.Vb:t.qk()?t:n}Hk.$k=new Hk(ht.ZERO,1e6),Hk.Vb=new Hk(ht.ZERO,0),Hk.Wb=new Hk(ht.ONE,0),Hk.Gb=new Hk(ht.NEG_ONE,0);var Wk,Gk=function(t){function n(n,i){var e;return(e=t.call(this)||this)._i=void 0,e.Cb=void 0,e._i=BigInt.asIntN(64,n),e.Cb=i>>>0,e}S(n,t),n.zb=function(t,i){return void 0===i&&(i=1e6),n.Kk(t*i,i)},n.Kk=function(t,i){return m(t)?n.Vb:t===1/0?n.Wb:t===-1/0?n.Gb:new n(BigInt(w.floor(t)),i)},n.Zk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.qb=function(t){return n.zb(t.Ub,1e6)},n.Yb=function(t){return n.Kk(t.getTime(),1e3)},n.Ob=function(t,n){return t.Lk(n)?t:n},n.xb=function(t,n){return t.Uk(n)?t:n},n.jb=function(t,i,e){return n.Ob(i,n.xb(e,t))};var i=n.prototype;return i.zk=function(){return this._i<BigInt(0)},i.ob=function(){return 0!==this.Cb&&this._i===BigInt(0)},i.qk=function(){return 0===this.Cb&&this._i!==BigInt(0)},i.Gk=function(){return 0===this.Cb&&this._i===BigInt(0)},i.Bk=function(){if(0===this.Cb)return this._i===BigInt(0)?NaN:this._i<BigInt(0)?-1/0:1/0;var t=this._i/BigInt(this.Cb),n=this._i-t*BigInt(this.Cb);return Number(t)+Number(n)/this.Cb},i.fb=function(){if(0===this.Cb)throw new v("Failed to convert timestamp");return this.np()},i.np=function(){var t=this._i&BigInt(4294967295),n=this._i>>BigInt(32)&BigInt(4294967295);return ht.fromBits(Number(t),Number(n))},i.Qb=function(){return new Date(0===this.Cb?NaN:Number(this.Lb(1e3)._i))},i.Zb=function(){return new Fk(0===this.Cb?this.Bk():Number(this._i),this.Cb)},i.Lb=function(t,i){void 0===i&&(i=Wk.Kb);var e=this.Cb;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Wk.Kb)return r<BigInt(0)?e-BigInt(1):e;if(i===Wk.Jb)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this._i*BigInt(t/r),BigInt(e/r),i),t)},i.xk=function(t){if(this===t)return Ts.Ss;if(0===this.Cb||0===t.Cb)return Uk(this,t);if(this.ob())return t.ob()?Ts.Ss:t.zk()?Ts.Es:Ts.Is;if(t.ob())return this.zk()?Ts.Is:Ts.Es;var n=w.min(this.Cb,t.Cb),i=this.Lb(n,Wk.$b)._i,e=t.Lb(n,Wk.$b)._i;return i>e?Ts.Es:i<e?Ts.Is:Ts.Ss},i.Vk=function(){return 0===this.Cb?qk(this):new n(-this._i,this.Cb)},i.Py=function(t){if(0===this.Cb||0===t.Cb)return Yk(this,t);if(this.ob())return t;if(t.ob())return this;var i=w.max(this.Cb,t.Cb),e=this.Lb(i,Wk.$b),r=t.Lb(i,Wk.$b);return new n(e._i+r._i,i)},i.Tb=function(t){if(this.Gk()||m(t))return n.Vb;if(this.qk()||!isFinite(t)){if(this.ob()||0===t)return n.Vb;var i=this.zk()?n.Gb:n.Wb;return t<0?i.Vk():i}return this.ob()?this:new n(0===t?BigInt(0):this._i*BigInt(t),this.Cb)},i.Rb=function(t){if(this.Gk()||m(t))return n.Vb;if(this.qk())return isFinite(t)?0===t?1/t<0?this.Vk():this:t<0?this.Vk():this:n.Vb;if(!isFinite(t))return new n(BigInt(0),this.Cb);if(this.ob())return 0===t?n.Vb:new n(BigInt(0),this.Cb);if(0===t){var i=this.zk()?n.Gb:n.Wb;return 1/t<0?i.Vk():i}return new n(this._i/BigInt(t),this.Cb)},i.tp=function(){var t=this.np();return[t.low,t.high,this.Cb]},A(n,null,[{key:"$k",get:function(){return n.ip||(n.ip=new n(BigInt(0),1e6)),n.ip}},{key:"Vb",get:function(){return n.ep||(n.ep=new n(BigInt(0),0)),n.ep}},{key:"Wb",get:function(){return n.rp||(n.rp=new n(BigInt(1),0)),n.rp}},{key:"Gb",get:function(){return n.sp||(n.sp=new n(BigInt(-1),0)),n.sp}}]),n}(Mk);function qk(t){return t.Gk()?t:t.zk()?Gk.Wb:Gk.Gb}function Yk(t,n){return t.Gk()||n.Gk()?Gk.Vb:t.qk()&&n.qk()?t.zk()===n.zk()?t:Gk.Vb:t.qk()?t:n}Gk.ip=void 0,Gk.ep=void 0,Gk.rp=void 0,Gk.sp=void 0,function(t){t[t.Kb=0]="Kb",t[t.Jb=1]="Jb",t[t.$b=2]="$b"}(Wk||(Wk={}));var jk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Gk:Hk;var Qk=9e4,Zk=w.pow(2,33),Kk=jk.Kk(Zk,Qk),Jk=Kk.Rb(2);var $k,tb,nb,ib,eb={op:0,ap:1/0,cp:0},rb=6,sb=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],ub=[" ","\t","\n","\f","\r"],ob=/^\d*$/,ab=/.*[0-9]+.*/,cb=/^[\d.-]+$/,hb=/(^\.|\.$)/,fb=/(\D\.|\.\D)/;function vb(t,n){void 0===n&&(n=eb);var i={og:[],hp:[],fp:[]},e=lb(t),r=new zo;if(Tb(e),db(e,function(t){return"\n"!==t},r),r.Du>=e.length)return i;(r.Cu(1),"\n"!==e.charAt(r.Du))?mb(wb(e,r,!1,!0,i,n),i):r.Cu(1);for(db(e,function(t){return"\n"===t},r);r.Du<e.length;){mb(wb(e,r,!1,!1,i,n),i),db(e,function(t){return"\n"===t},r)}return i}function lb(t){var n=hs(t,"\0"," "),i=hs(n,"\r\n","\n");return hs(i,"\r","\n")}function db(t,n,i){for(var e=i.Du;i.Du<t.length&&n(t.charAt(i.Du));)i.Cu(1);return t.substring(e,i.Du)}function wb(t,n,e,r,s,u){for(var o,a=0,c=n.Du,h="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=db(t,function(t){return"\n"!==t},n),a++,n.Du>=t.length?f=!0:n.Cu(1),fs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Bu(c);break}v=!0,c=n.Du,l=new Dk(0,0,"",!1,h);try{yb(o,s.hp,l,u),h=""}catch(t){i.wr(t),l=null}}else{if(""===o)break;r&&vs(o,"X-TIMESTAMP-MAP")&&(s.vp=_b(o)),r||2!==a||e||(ds("STYLE",h.replace(/ /g,""))?(d={us:fk.Wy},h=""):ds("REGION",h.replace(/ /g,""))&&(w=new Lk("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.Du}if(l)return l.Jy=h,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&fs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":xb(o,n);break;case"WIDTH":Ub(o,n);break;case"LINES":Mb(o,n);break;case"REGIONANCHOR":var a=Ob(o);a&&(n.Ek=a[0],n.Ik=a[1]);break;case"VIEWPORTANCHOR":var c=Ob(o);c&&(n.Nk=c[0],n.Dk=c[1]);break;case"SCROLL":Lb(o,n)}}}}(h,w),w;return null}function _b(t){var n,i,e=t.split("=")[1].trim().split(","),r=gb(e[0].trim(),"MPEGTS")?e[0]:e[1],s=gb(e[0].trim(),"LOCAL")?e[0]:e[1];return{lp:(i=Number(r.split(/:(.*)/)[1].trim())||0,jk.Kk(i,Qk)),dp:jk.zb(null!=(n=pb(s.split(/:(.*)/)[1].trim(),new zo))?n:0)}}function gb(t,n){return vs(t,n)}function mb(t,n){t&&function(t){return t.us===fk.zy}(t)?n.og.push(t):t&&function(t){return t.us===fk.Vy}(t)?n.hp.push(t):t&&function(t){return t.us===fk.Wy}(t)&&n.fp.push(t)}function yb(t,n,i,e){var r=new zo;if(Sb(t,r),i.Zy=kb(pb(t,r),e),Sb(t,r),"--\x3e"!==t.substring(r.Du,r.Du+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Cu(3),Sb(t,r),i.Ky=kb(pb(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&fs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Db(a,n,i);break;case"VERTICAL":Pb(a,n);break;case"D":Bb(a,n);break;case"LINE":case"L":Rb(a,n);break;case"POSITION":case"T":Nb(a,n);break;case"SIZE":case"S":Cb(a,n);break;case"ALIGN":case"A":Ib(a,n)}}}}(t.substring(r.Du,t.length),i,n)}function kb(t,n){return t+n.op}function bb(t){return/^[0-9]$/.test(t)}function pb(t,n){var i,e,r,s=hs(t,",","."),u=!1;if(n.Du>=s.length||!bb(s.charAt(n.Du)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=db(s,bb,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Du>=s.length||":"!==s.charAt(n.Du))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var c=db(s,bb,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var h=_(c,10);if(u||n.Du<s.length&&":"===s.charAt(n.Du)){if(n.Du>=s.length||":"!==s.charAt(n.Du))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var f=db(s,bb,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=h,r=_(f,10)}else i=0,e=a,r=h;if(n.Du>=s.length||"."!==s.charAt(n.Du))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var l=db(s,bb,n),d=_(l,10);if(h>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Ab(t){return Tb(lb(t))}function Tb(t){if(t.length<rb)return!1;for(var n=0;n<sb.length;n++){if(vs(t,sb[n]))return!0}return!1}function Sb(t,n){for(;n.Du<t.length&&(i=t.charAt(n.Du),Xs(ub,i));)n.Cu(1);var i}function Eb(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Ib(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.$y=i;break;case"middle":n.$y="center"}}function Rb(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),ab.test(i)){var s,u;if(ls(i,"%")){var o=Eb(i);if(null===o)return;s=o,u=!1}else{if(!cb.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!fb.test(i)||hb.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.nk=s,n.fk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.ek=e;break;case"middle":n.ek="center"}}}function Nb(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Eb(i);if(null!==s)switch(n.rk=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.ck=e;break;case"start":n.ck="line-left";break;case"middle":n.ck="center";break;case"end":n.ck="line-right"}}function Db(t,n,i){var e=xs(i,function(n){return n.X_===t});void 0!==e&&(n.hk=e)}function Cb(t,n){var i=Eb(t);null!==i&&(n.Nu=i)}function Pb(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.vk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.vk="lr";break;default:n.vk=""}}function Bb(t,n){"VERTICAL"===t.toUpperCase()?n.vk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.vk="lr")}function Ob(t){if(t.indexOf(",")>=0){var n=Eb(t.substring(0,t.indexOf(","))),i=Eb(t.substring(t.indexOf(",")+1,t.length));return[Lt(n||0,0,100),Lt(i||100,0,100)]}return null}function xb(t,n){n.X_=t}function Lb(t,n){"up"===t.toLowerCase()&&(n.Rk="up")}function Mb(t,n){ob.test(t)&&(n.Sk=_(t))}function Ub(t,n){var i=Eb(t);null!==i&&(n.Ck=i)}!function(t){t.wp="moov",t._p="mvhd",t.gp="trak",t.mp="tkhd",t.yp="mdia",t.kp="mdhd",t.bp="hdlr",t.pp="minf",t.Ap="stbl",t.Tp="stsd",t.Sp="stsc",t.Ep="mvex",t.Ip="trex",t.Rp="avc1",t.Np="avcC",t.Dp="hev1",t.Cp="hvc1",t.Pp="hvcC",t.Bp="pasp",t.Op="mp4a",t.xp="esds",t.Lp="wvtt",t.Mp="vttC",t.Up="vlab",t.Xp="enca",t.Fp="encv",t.Hp="moof",t.zp="mfhd",t.Vp="traf",t.Wp="tfhd",t.Gp="trun",t.qp="tfdt",t.Yp="senc",t.jp="mdat",t.Qp="pssh",t.Zp="emsg",t.Kp="sidx",t.Jp="styp",t.$p="ftyp",t.tA="sinf",t.nA="frma"}($k||($k={})),function(t){t.Td="vide",t.Ad="soun",t.iA="subt",t.eA="hint",t.rA="meta",t.sA="auxv"}(tb||(tb={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(nb||(nb={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ib||(ib={}));var Xb=function(){function t(t,n){this.Xi=void 0,this.uA=void 0,this.Xi=t,this.uA=n}var n=t.prototype;return n.oA=function(){return no(this.Xi,this.uA)},n.aA=function(){return oo(this.Xi,this.uA)},n.cA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Du,i);return n.Cu(2),e}(this.Xi,this.uA)},n.hA=function(){return co(this.Xi,this.uA)},n.fA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Du,i);return n.Cu(4),e}(this.Xi,this.uA)},n.vA=function(){return fo(this.Xi,this.uA)},n.lA=function(t){return eo(this.Xi,this.uA,t)},n.dA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(co(t,n));return e}(this.Xi,this.uA,t)},n.wA=function(t){return wo(this.Xi,this.uA,t)},n._A=function(){return No(this.Xi,this.uA)},n.gA=function(t){this.uA.Cu(t)},n.Ou=function(){return new t(this.Xi,this.uA.Ou())},t}();function Fb(t,n){return t.us===n}function Hb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Fb(e,n))return e}}function zb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Fb(r,n)&&i.push(r)}return i}var Vb=function(t){function n(n,i){var e;return(e=t.call(this)||this).mA=n,e.yA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Jt),Wb=function(){function t(){}return t.kA=function(n){var i=n.Xi,e=n.uA,r=t.bA(i,e,!1);if(!r.pA)throw new Vb(e.Du,r.Di);return r.Di},t.bA=function(n,i,e){for(var r=[];i.Du<n.byteLength;){var s=t.AA(n,i,e);if(!s.pA)return{pA:!1,Di:r};r.push(s.TA)}return{pA:!0,Di:r}},t.SA=function(n,i){var e=t.AA(n,i,!1);if(!e.pA)throw new Vb(i.Du);return e.TA},t.EA=function(n,i){for(var e=n.Xi,r=n.uA;r.Du<e.byteLength;){var s=t.AA(e,r,!1);if(!s.pA)return;if(s.TA.us===i)return s.TA}},t.AA=function(n,i,e){var r=i.Du,s=t.IA(n,i);if(!s.pA)return s;var u=s.RA,o=u.Nu;if(0===o){if(e)return i.Bu(r),{pA:!1,NA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var c=a;return i.Bu(r),{pA:!1,NA:c}}var h={us:u.us,Du:r,Xi:new Xb(Oo(n,r,a),new zo(u.DA))};return i.Bu(a),{pA:!0,TA:h}},t.IA=function(t,n){var i=n.Du;if(!so(t,n,8))return{pA:!1,NA:n.Du+8};var e=co(t,n),r=wo(t,n,4);if(1===e){if(!so(t,n,8)){var s=n.Du+8;return n.Bu(i),{pA:!1,NA:s}}e=fo(t,n).toNumber()}if("uuid"===r){if(!so(t,n,16)){var u=n.Du+16;return n.Bu(i),{pA:!1,NA:u}}r=wo(t,n,16)}return{pA:!0,RA:{us:r,Nu:e,DA:n.Du-i}}},t.CA=function(t,n,i){var e=t.Xi,r=t.uA,s=Bo(Lo(e),r.Du,e.byteLength);return i&&(s=Fo(s)),r.Cu(s.byteLength),{us:n,Xi:s}},t.PA=function(n,i,e){var r=jb(n.hA());return{us:i,BA:r.version,OA:r.flags,Xi:t.CA(n,i,e).Xi}},t}();function Gb(t,n){var i=qb(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function qb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.us===n)return e.Xi}}function Yb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.us===n&&i.push(r.Xi)}return i}function jb(t){return{version:t>>24,flags:new Ju(16777215&t)}}var Qb=function(){function t(){}return t.xA=function(n){for(var i=[],e=Wb.kA(new Xb(n,new zo)),r=0;r<e.length;r++){var s=e[r],u=t.LA(s);u&&i.push(u)}return i},t.MA=function(t){return Wb.bA(t,new zo,!1).Di.some(this.UA)},t.XA=function(n){return Yb(Wb.kA(new Xb(n,new zo)),$k.Qp).map(t.FA)},t.HA=function(n){return Yb(Wb.kA(n.Xi),$k.Qp).map(t.FA)},t.UA=function(t){return t.us===$k.$p||t.us===$k.Jp||t.us===$k.wp||t.us===$k.Hp||t.us===$k.jp||t.us===$k.Kp||t.us===$k.Zp},t.LA=function(n){switch(n.us){case $k.wp:return t.zA(n.Xi);case $k.Hp:return t.VA(n.Xi,n.Du);case $k.jp:return t.WA(n.Xi);case $k.Kp:return t.GA(n.Xi);case $k.Zp:return t.qA(n.Xi)}},t.zA=function(n){var i=Wb.kA(n),e=Gb(i,$k._p),r=Yb(i,$k.gp),s=qb(i,$k.Ep),u=t.YA(e),o=r.map(t.jA),a=s?t.QA(s):void 0;return{us:$k.wp,RA:u,ZA:o,KA:a}},t.YA=function(t){var n=jb(t.hA()),i=n.version,e=n.flags,r=1===i?t.vA():t.hA(),s=1===i?t.vA():t.hA(),u=t.hA(),o=1===i?t.vA():t.hA(),a=t.hA(),c=t.aA()>>8;t.gA(2),t.gA(8);var h=t.dA(9);t.gA(24);var f=t.hA();return{us:$k._p,BA:i,OA:e,JA:r,$A:s,Cb:u,Yg:o,tT:a,im:c,nT:h,iT:f}},t.jA=function(n){var i=Wb.kA(n),e=Gb(i,$k.mp),r=Gb(i,$k.yp),s=t.eT(e),u=t.rT(r);return{us:$k.gp,RA:s,sT:u}},t.eT=function(t){var n=jb(t.hA()),i=n.version,e=n.flags,r=1===i?t.vA():t.hA(),s=1===i?t.vA():t.hA(),u=t.hA();t.gA(4);var o=1===i?t.vA():t.hA();t.gA(8);var a=t.cA(),c=t.cA(),h=t.cA()/w.pow(2,8);t.gA(2);var f=t.dA(9),v=t.hA()/w.pow(2,16),l=t.hA()/w.pow(2,16);return{us:$k.mp,uT:e.Lu(1),oT:e.Lu(2),aT:e.Lu(4),JA:r,$A:s,cT:u,Yg:o,hT:a,fT:c,im:h,nT:f,Ck:v,vT:l}},t.rT=function(n){var i=Wb.kA(n),e=Gb(i,$k.kp),r=Gb(i,$k.bp),s=Gb(i,$k.pp),u=t.lT(e),o=t.dT(r),a=t.wT(s);return{us:$k.yp,RA:u,_T:o,gT:a}},t.lT=function(t){var n=jb(t.hA()),i=n.version,e=n.flags,r=1===i?t.vA():t.hA(),s=1===i?t.vA():t.hA(),u=t.hA(),o=1===i?t.vA():t.hA();return t.aA(),t.gA(2),{us:$k.kp,BA:i,OA:e,JA:r,$A:s,Cb:u,Yg:o}},t.dT=function(t){var n=jb(t.hA()),i=n.version,e=n.flags;t.gA(4);var r=t.wA(4);t.gA(12);var s=t._A();return{us:$k.bp,BA:i,OA:e,mT:r,ci:s}},t.wT=function(n){var i=Gb(Wb.kA(n),$k.Ap),e=t.yT(i);return{us:$k.pp,kT:e}},t.yT=function(n){var i=Gb(Wb.kA(n),$k.Tp),e=t.bT(i);return{us:$k.Ap,pT:e}},t.bT=function(n){var i=jb(n.hA()),e=i.version,r=i.flags;n.hA();for(var s=[],u=Wb.kA(n),o=0;o<u.length;o++){var a=u[o],c=t.AT(a.Xi,a.us);c&&s.push(c)}return{us:$k.Tp,BA:e,OA:r,TT:s}},t.AT=function(n,i){var e=t.ST(n,i);return e||((e=t.ET(n,i))||(i===$k.Lp?t.IT(n):void 0))},t.ST=function(n,i){return i===$k.Op?t.RT(n):i===$k.Xp?t.NT(n):void 0},t.ET=function(n,i){return i===$k.Rp?t.DT(n):i===$k.Dp||i===$k.Cp?t.CT(n,i):i===$k.Fp?t.PT(n):void 0},t.BT=function(t,n){return t.gA(6),{us:n,OT:t.aA()}},t.xT=function(n,i){var e=t.BT(n,i);n.gA(8);var r=n.aA(),s=n.aA();return n.gA(2),n.gA(2),Nr({},e,{LT:r,MT:s,UT:n.hA()>>>16})},t.XT=function(n,i){var e=t.BT(n,i);n.gA(2),n.gA(2),n.gA(12);var r=n.aA(),s=n.aA(),u=n.hA(),o=n.hA();n.gA(4);var a=n.aA();n.gA(32);var c=n.aA();return n.gA(2),Nr({},e,{Ck:r,vT:s,FT:u,HT:o,zT:a,VT:c})},t.RT=function(n){var i=t.xT(n,$k.Op),e=Gb(Wb.kA(n),$k.xp);return Nr({},i,{WT:t.GT(e)})},t.IT=function(n){var i=t.BT(n,$k.Lp),e=Wb.kA(n),r=Gb(e,$k.Mp),s=t.qT(r),u=qb(e,$k.Up);return Nr({},i,{YT:s,jT:u?t.QT(u):u})},t.qT=function(t){return{us:$k.Mp,Jc:t._A()}},t.QT=function(t){return{us:$k.Up,z_:t._A()}},t.GT=function(t){return Wb.PA(t,$k.xp,!0)},t.DT=function(n){var i=t.XT(n,$k.Rp),e=Wb.kA(n),r=Gb(e,$k.Np),s=qb(e,$k.Bp);return Nr({},i,{ZT:t.KT(r),JT:s?t.$T(s):void 0})},t.CT=function(n,i){var e=t.XT(n,i),r=Gb(Wb.kA(n),$k.Pp);return Nr({},e,{tS:t.nS(r)})},t.PT=function(n){var i=n.Ou(),e=t.XT(n,$k.Fp),r=Gb(Wb.kA(n),$k.tA),s=t.iS(r);return Nr({},e,{eS:t.ET(i,s.sS.rS),uS:s})},t.NT=function(n){var i=n.Ou(),e=t.xT(n,$k.Xp),r=Gb(Wb.kA(n),$k.tA),s=t.iS(r);return Nr({},e,{eS:t.ST(i,s.sS.rS),uS:s})},t.iS=function(n){var i=Gb(Wb.kA(n),$k.nA),e=t.oS(i);return{us:$k.tA,sS:e}},t.oS=function(t){var n=t.wA(4);return{us:$k.nA,rS:n}},t.KT=function(t){return Wb.CA(t,$k.Np,!0)},t.nS=function(t){return Wb.CA(t,$k.Pp,!0)},t.$T=function(t){var n=t.hA(),i=t.hA();return{us:$k.Bp,aS:n,cS:i}},t.QA=function(n){var i=Yb(Wb.kA(n),$k.Ip).map(t.hS);return{us:$k.Ep,ZA:i}},t.hS=function(t){var n=jb(t.hA()),i=n.version,e=n.flags,r=t.hA(),s=t.hA(),u=t.hA(),o=t.hA(),a=t.hA();return{us:$k.Ip,BA:i,OA:e,cT:r,fS:s,vS:u,lS:o,dS:a}},t.VA=function(n,i){var e=Wb.kA(n),r=Gb(e,$k.zp),s=Yb(e,$k.Vp),u=t.wS(r),o=s.map(t._S);return{us:$k.Hp,gS:i,RA:u,ZA:o}},t.wS=function(t){var n=jb(t.hA()),i=n.version,e=n.flags,r=t.hA();return{us:$k.zp,BA:i,OA:e,mS:r}},t._S=function(n){var i=Wb.kA(n),e=Gb(i,$k.Wp),r=Yb(i,$k.Gp),s=qb(i,$k.qp),u=t.yS(e),o=r.map(function(n){return t.kS(n,u)}),a=s?t.bS(s):void 0;return{us:$k.Vp,RA:u,pS:o,AS:a}},t.yS=function(t){var n=jb(t.hA()),i=n.version,e=n.flags,r=t.hA(),s=e.Lu(nb.BASE_DATA_OFFSET_PRESENT)?t.vA():void 0,u=e.Lu(nb.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.hA():void 0,o=e.Lu(nb.DEFAULT_SAMPLE_DURATION_PRESENT)?t.hA():void 0,a=e.Lu(nb.DEFAULT_SAMPLE_SIZE_PRESENT)?t.hA():void 0,c=e.Lu(nb.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.hA():void 0;return{us:$k.Wp,BA:i,OA:e,cT:r,TS:s,SS:u,vS:o,lS:a,dS:c}},t.kS=function(n,i){for(var e=jb(n.hA()),r=e.version,s=e.flags,u=n.hA(),o=s.Lu(ib.DATA_OFFSET_PRESENT)?n.fA():void 0,a=s.Lu(ib.FIRST_SAMPLE_FLAGS_PRESENT)?n.hA():void 0,c=[],h=0;h<u;h++){var f=t.ES(n,s,r,i);0===h&&void 0!==a&&(f.OA=a),c.push(f)}return{us:$k.Gp,BA:r,OA:s,IS:u,gS:o,RS:a,NS:c}},t.ES=function(t,n,i,e){return{Yg:n.Lu(ib.SAMPLE_DURATION_PRESENT)?t.hA():e.vS,Nu:n.Lu(ib.SAMPLE_SIZE_PRESENT)?t.hA():e.lS,OA:n.Lu(ib.SAMPLE_FLAGS_PRESENT)?t.hA():e.dS,DS:n.Lu(ib.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.hA():t.fA():void 0}},t.qA=function(t){var n=t.Xi,i=t.uA,e=jb(co(n,i)),r=e.version,s=e.flags;if(1===r){var u=co(n,i),o=fo(n,i),a=co(n,i),c=co(n,i),h=lo(n,i),f=lo(n,i),v=Xo(Lo(n),i.Du,n.byteLength);return i.Cu(v.byteLength),{us:$k.Zp,BA:r,OA:s,CS:h,_i:f,Cb:u,PS:o,OS:a,X_:c,xS:v}}var l=lo(n,i),d=lo(n,i),w=co(n,i),_=co(n,i),g=co(n,i),m=co(n,i),y=Xo(Lo(n),i.Du,n.byteLength);return i.Cu(y.byteLength),{us:$k.Zp,OA:s,BA:r,CS:l,_i:d,Cb:w,LS:_,OS:g,X_:m,xS:y}},t.WA=function(t){return Wb.CA(t,$k.jp,!1)},t.FA=function(n){var i=n.Xi,e=n.uA,r=Fo(Lo(i)).buffer,s=jb(co(i,e)),u=s.version,o=s.flags,a=t.MS(i,e),c=[];if(u>0)for(var h=co(i,e),f=0;f<h;f++){var v=eo(i,e,16);c.push(v)}var l=co(i,e),d=new y(r,e.Du,l);return e.Cu(i.byteLength),{us:$k.Qp,BA:u,OA:o,US:a,XS:c,FS:l,Xi:d,HS:r}},t.MS=function(t,n){for(var i="",e=0;e<4;e++){var r=no(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=no(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=no(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=no(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=no(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.GA=function(t){var n,i,e=t.Xi,r=t.uA,s=jb(co(e,r)),u=s.version,o=s.flags,a=co(e,r),c=co(e,r);0===u?(n=ht.fromBits(co(e,r),0,!0),i=ht.fromBits(co(e,r),0,!0)):(n=fo(e,r),i=fo(e,r)),r.Cu(2);for(var h=oo(e,r),f=[],v=0;v<h;v+=1){var l=co(e,r),d=l>>31&1,w=2147483647&l,_=co(e,r),g=co(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({zS:d,VS:w,Yg:_,WS:m,GS:y,qS:k})}return{us:$k.Kp,BA:u,OA:o,YS:a,Cb:c,jS:n,QS:i,ZS:h,KS:f}},t.bS=function(t){var n,i=t.Xi,e=t.uA,r=jb(co(i,e)),s=r.version,u=r.flags;return n=0===s?ht.fromBits(co(i,e),0,!0):fo(i,e),{us:$k.qp,BA:s,OA:u,AS:n}},t}();function Zb(t){return t&&"Ni"in t?t.Ni:t}var Kb=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).JS=void 0,a.$S=void 0,a.tE=void 0,a.JS=s,a.$S=u,a.tE=o||void 0,a}return S(n,t),n.prototype.pk=function(n){return this===n||!!um(this,n)&&(!!t.prototype.pk.call(this,n)&&(!!sm(this.nE,n.nE)&&(!!sm(this.hp,n.hp)&&(this.iE&&n.iE?!!this.iE.ui(n.iE)&&(this.Jy&&n.Jy?this.Jy.ui(n.Jy):this.Jy===n.Jy):this.iE===n.iE))))},A(n,[{key:"nE",get:function(){return this.JS}},{key:"hp",get:function(){return this.$S}},{key:"iE",get:function(){return this.tE}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=em(bk(t=this),{get styles(){return t.nE},get regions(){return t.hp},get metadata(){return Zb(t.iE)},get content(){return Zb(t.Jy)}})),this.Kw}}]),n}(Rk),Jb=function(){function t(t,n,i){this.Rv=void 0,this.eE=void 0,this.rE=void 0,this.eE=t,this.rE=n,jt(i)?this.Rv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Bi(s)}return i}(0,0,i):this.Rv=i}return A(t,[{key:"sE",get:function(){return this.Rv.oi(!0)}},{key:"Zy",get:function(){return this.eE}},{key:"Ky",get:function(){return this.rE}}]),t}();var $b="http://www.w3.org/XML/1998/namespace";function tp(t,n,i,e){var r=t.Ii(i,n);return 0===r.length&&(r=t.Ti(e+":"+n)),r}function np(t,n){return function(t,n){var i=t.Di.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Di)}return e}(t,function(t){return t.Ei===n})}function ip(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ep(t,n){for(var i=t.Mi,e={},r=0;r<i.length;r++)e[ip(i[r].ci,n)]=i[r]._i;return e}var rp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,sp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,up="http://www.w3.org/ns/ttml";function op(t,n,i,e){void 0===i&&(i=eb),void 0===e&&(e=Nh.APPLICATION_TTML_XML);var r=[],s=xo(t);return e===Nh.APPLICATION_MP4?r=function(t,n,i){var e=Hb(Qb.xA(t),$k.jp);if(!e)return[];return hp(xo(e.Xi),n,i)}(s,n,i):e===Nh.APPLICATION_TTML_XML&&(r=hp(s,n,i)),r}function ap(t,n,i){return void 0===i&&(i=eb),fp(t,n,i)}function cp(t,n){for(var i=function t(n){var i=[];var e;if(jt(n)){(e=n.Ci("region"))&&i.push(e);for(var r=n.Si,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.sE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function hp(t,n,i){return fp(Po(t,new zo),n,i)}function fp(t,n,e){var r,s=[];try{r=i.ei(t)}catch(t){return s}var u=r.Fi;if("tt"!==u.ai)return s;var o=u&&u.Ii(up,"head")[0],a=u&&u.Ii(up,"body")[0],c=["ebutts","tts","xml"];if(!a||!o)return s;for(var h=function(t,n){for(var i={},e=t.Ii(up,"styling")[0],r=e&&e.Ii(up,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Pi($b,"id");i[o]=ep(u,n)}return i}(o,c),f=function(t,n){var i=rm(t),e=dp(n.Ci("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=dp(i[u].extent);if(o){var a=vp(o[0],e[0]),c=vp(o[1],e[1]);i[u].extent=a+" "+c}var h=dp(i[u].origin);if(h){var f=vp(h[0],e[0]),v=vp(h[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Ii(up,"layout")[0],r=e&&e.Ii(up,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Pi($b,"id");if(o){i[o]=ep(u,n);var a=gp(u,n);for(var c in a)M.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),u),v=o.Ii(up,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var c=[];if(jt(n)){var h,f;s=null!=(h=_p(n.Ci("begin"),r))?h:s,u=_p(n.Ci("dur"),0),o=null!=(f=_p(n.Ci("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Si,l=0;l<v.length;l++)("body"===n.ai||"div"===n.ai)&&v[l].Qn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Zy,s.Ky)}e.sort(Cs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Us(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=wp(d[w],d[w+1],a);if(_.length<=0&&mp(n)){var g=n.oi(!1);c.push(new Jb(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.oi(!1);_.forEach(function(n){return t.Ri(n.sE)}),c.push(new Jb(d[w],d[w+1],t))}()}return c}(a,e.op,e.ap,e.cp),w=0;w<l.length;w++){var _=l[w],g=cp(f,_);s.push(new Kb(_.Zy,_.Ky,_.sE,!1,h,g,v))}return s}function vp(t,n){var i=lp(t),e=lp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function lp(t){return ls(t,"px")?"px":ls(t,"em")?"em":ls(t,"c")?"c":ls(t,"%")?"%":void 0}function dp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function wp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Zy,u=i[r].Ky;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function _p(t,n){if(t){if(rp.test(t)){var i=rp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(sp.test(t)){var o=sp.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function gp(t,n){for(var i={},e=t.Ti("style")||[],r=0;r<e.length;r++){var s=ep(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function mp(t){if(jt(t)){var n=t.ai.toUpperCase(),i=Boolean(t.Ci("smpte:backgroundImage"));return"BR"===n||i}return t.Qn===Gt.Kn}function yp(t){var n=function(t){try{return i.ei(t).Fi}catch(t){}}(t);return"tt"===(null==n?void 0:n.ai)}var kp,bp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.T_=function(n){return t.prototype.T_.call(this,n)},i.S_=function(n){var i=t.prototype.S_.call(this,n);return i&&(n.K_=km.q_),i},i.$w=function(){return Im(this)},n}(Kg);!function(t){t.iA="subtitles",t.uE="captions",t.oE="descriptions",t.aE="chapters",t.rA="metadata",t.cE="thumbnails"}(kp||(kp={}));var pp=[kp.iA,kp.uE,kp.oE,kp.aE,kp.rA,kp.cE];function Ap(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Xs(pp,t)}(n)?n:n?kp.rA:kp.iA}var Tp,Sp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(tf);function Ep(t){return t instanceof o_}function Ip(t){return t instanceof c_}function Rp(t){return fs(t,Tp.hE)}function Np(t){return t.some(Dp)}function Dp(t){return fs(t,Tp.fE)||fs(t,Tp.Lp)}function Cp(t,n){return Dh(t)&&Np(n)}function Pp(t,n){return!!t&&(Dh(t)?function(t){return t.some(Rp)}(n)||Np(n):fs(t,Nh.APPLICATION_TTML_XML)||fs(t,Nh.TEXT_VTT)||fs(t,Nh.IMAGE_JPEG))}function Bp(t,n){return t===kp.cE||t===kp.rA&&n===kp.cE}function Op(t,n,i,e){for(var r=0,s=t.og.R_;r<s.length;r++){var u=s[r];if(u.Zy>i)break;n<=u.Ky&&e.push(u)}}function xp(t,n){return Ds(t.F_,n.F_)}function Lp(t,i){var e=i,r=0;if(Ep(t)&&t.name===e_.Hd)e=t.ed.ud;else if(Ip(t)){var s=t.qd;if(e=s.rd,0===(r=s.Zl))return new Sp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Sp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Mp(t,i,e,r){var s=function(t){switch(t){case hk.WEBVTT:return"WebVTT";case hk.SRT:return"SRT";case hk.TTML:return"TTML";default:return""}}(t);return new Sp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Up(t){return Ab(t)?hk.WEBVTT:yp(t)?hk.TTML:hk.SRT}function Xp(t,n){for(var i=[],e=0,r=t.og.R_;e<r.length;e++){var s=r[e];if(s.Ky<=n)i.push(s);else if(s.Zy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.vE(o)}}!function(t){t.fE="vtt",t.Lp="wvtt",t.hE="stpp"}(Tp||(Tp={}));var Fp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZA=new bp,n.lE=function(t){var i=t.t_;n.dE(i)},n}S(n,t);var i=n.prototype;return i.T_=function(t){t.js(Wg.f_,this.lE),this.ZA.T_(t),this.dE(t)},i.S_=function(t){t.Js(Wg.f_,this.lE),t.K_=km.q_,this.ZA.S_(t)},i.wE=function(t){},i._E=function(t){},i.dE=function(t){t.K_!==km.q_?this.wE(t):this._E(t)},i.gE=function(){for(var t=0,n=this.ZA.R_;t<n.length;t++){var i=n[t];i.Js(Wg.f_,this.lE),i.Bd()}},i.mE=function(t){if(t>0)for(var n=0,i=this.ZA.R_;n<i.length;n++){Xp(i[n],t)}},i.I_=function(){return this.gE(),this.ZA.I_(),Ve.resolve()},i.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,Rr.awrap(this.I_());case 3:this.ZA.Bd();case 4:case"end":return t.stop()}},null,this,null,Ve)},n}(lu),Hp=function(t){function n(n){var i;return(i=t.call(this,bm.Q_)||this).errorObject=n,i}return S(n,t),n.prototype.$w=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(zg),zp=function(t){function n(n,i){var e;return(e=t.call(this)||this).yE=void 0,e.kE=void 0,e.bE=new Zs,e.yE=n,e.kE=i,e}S(n,t);var i=n.prototype;return i.pE=function(t){if(t.src){var n=t.kind||kp.iA,i=this.yE.AE(n,t.id,t.label,t.srclang,t.default);return i.cg=i_(t.src),this.T_(i),i}},i.TE=function(t,n){var i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.rg=ck.LOADING,i=new Jw({ud:t.cg,Jl:pf.Kn,Ed:Yw.GET,zs:n}),v.prev=2,v.next=5,Rr.awrap(this.kE.ed(i));case 5:return s=v.sent,r=s.Zl,v.next=9,Rr.awrap(s.Ol());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),tu(v.t0),t.rg=ck.ERROR,t.Ys(new Hp(Lp(v.t0,t.cg))),v.abrupt("return");case 18:for(v.prev=18,u=Up(e),t.us=u,o=[],u===hk.WEBVTT||u===hk.SRT?(a=vb(e),o=a.og):u===hk.TTML&&(o=ap(e,t)),c=0,h=o;c<h.length;c++)f=h[c],t.SE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),tu(v.t1),t.rg=ck.ERROR,t.Ys(new Hp(Mp(t.us,t.cg,r,v.t1))),v.abrupt("return");case 32:t.rg=ck.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],Ve)},i.wE=function(t){Xs(this.ZA.R_,t)&&t.rg===ck.NONE&&this.TE(t,this.bE.zs).catch(nu)},i.zc=function(){},i.I_=function(){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.bE.Xs(),this.bE=new Zs,n=0,i=this.ZA.R_;n<i.length;n++)e=i[n],this.yE.EE(e);return r.next=5,Rr.awrap(t.prototype.I_.call(this));case 5:case"end":return r.stop()}},null,this,null,Ve)},n}(Fp);function Vp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.H_===n&&e.IE)return e}}function Wp(t,n){Gp(Vp(t.R_,n))}function Gp(t){void 0!==t&&(t.K_=km.j_)}function qp(t,n){Gp(Vp(t.R_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.H_===n)return e}}(t.R_,n))}function Yp(t){for(var n=0;n<pp.length;n++){var i=pp[n];i===kp.aE?qp(t,i):Wp(t,i)}}var jp,Qp=function(t){function n(){return t.call(this,bf.Nf)||this}return S(n,t),n}(wu);!function(t){t[t.RE=0]="RE",t[t.NE=1]="NE"}(jp||(jp={}));var Zp=t,Kp=Zp.MediaSource,Jp=Zp.WebKitMediaSource,$p=Zp.TextTrack,tA=s&&s.createElement("video");s&&s.documentElement.style;var nA=L.Gt&&L.Bn&&L.On<=26;L.fn;var iA=!(!Kp&&!Jp),eA=!!$p;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.un,L.Nn&&L.Dn,tA&&tA.canPlayType&&(""!==tA.canPlayType("application/vnd.apple.mpegURL")||L.jt&&!L.Nn&&L.Qt);tA&&tA.canPlayType&&tA.canPlayType("video/mp4");var rA=iA&&!L.Cn&&!L.En&&!L.Sn&&((Kp||Jp).isTypeSupported?(Kp||Jp).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):tA&&tA.canPlayType&&""!==tA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));iA&&!L.Cn&&(rA||((Kp||Jp).isTypeSupported?(Kp||Jp).isTypeSupported("audio/mpeg"):tA&&tA.canPlayType&&tA.canPlayType("audio/mpeg"))),iA&&(!L.Rn||!L.Gt)&&(Kp||Jp).isTypeSupported&&(Kp||Jp).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),L.Cn||L.En||L.Sn,L.In,L.Cn,L.En&&L.qt&&L.Yt;try{r&&r.top!==r.self}catch(t){!0}var sA=function(t){function n(n){var i;return(i=t.call(this,ey.Wg)||this).currentTime=n,i}return S(n,t),n}(wu),uA=function(t){function n(n){var i;return(i=t.call(this,ey.Gg)||this).currentTime=n,i}return S(n,t),n}(wu),oA=[ey.l_,ey.Gg,bf.Sf,bf.Tf],aA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).DE=Fm.xg,e.CE=!0,e.PE=!1,e.BE=!1,e.OE=function(t){var n=e.xE.rg;n!==e.DE&&e.Ys(new by(t.currentTime,n)),n===Fm.xg&&(e.PE=!1,e.BE=!1),e.LE(n),e.ME(n),e.UE(n),e.maybeDispatchCanPlayThroughEvent(n),e.XE(n),e.FE(n),e.DE=n},e.HE=function(){e.FE(e.DE),e.XE(e.DE),e.CE=e.xE.Kg},e.zE=function(){e.CE=e.xE.Kg},e.xE=n,e.VE=i,e.xE.js(ey.l_,e.OE),e.xE.js(bf.Sf,e.HE),e.xE.js(bf.Tf,e.zE),e.VE&&e.xE.js(ey.Gg,e.qs),e}S(n,t);var i=n.prototype;return i.LE=function(t){!this.BE&&t>=Fm.Lg&&(this.BE=!0,this.Ys(new hy(this.xE.qg,t)))},i.ME=function(t){!this.PE&&t>=Fm.Mg&&(this.PE=!0,this.Ys(new wy(this.xE.qg,t)))},i.XE=function(t){this.VE||(t>=Fm.Ug&&this.DE<Fm.Ug&&!this.xE.Kg||this.WE&&t>=Fm.Ug)&&this.Ys(new uA(this.xE.qg))},i.FE=function(t){!this.GE(t)||this.xE.jg||this.xE.wu||this.Ys(new sA(this.xE.qg))},i.UE=function(t){this.DE<=Fm.Mg&&t>=Fm.Ug&&this.Ys(new yy(this.xE.qg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Fm.Xg&&this.Ys(new ky(this.xE.qg,t))},i.GE=function(t){var n=!this.xE.Kg&&t<=Fm.Mg,i=!this.CE&&this.DE<=Fm.Mg;return n&&!i},i.I_=function(){this.DE=Fm.xg,this.CE=!0,this.PE=!1,this.BE=!1},i.Bd=function(){this.Ks(),this.VE&&this.xE.Js(ey.Gg,this.qs),this.xE.Js(bf.Sf,this.HE),this.xE.Js(bf.Tf,this.zE),this.xE.Js(ey.l_,this.OE)},A(n,[{key:"WE",get:function(){return!this.xE.Kg&&this.CE}}]),n}(lu),cA=function(t){function n(n){var i;return(i=t.call(this)||this).xE=n,i.xE.js(oA,i.qs),i}return S(n,t),n.prototype.Bs=function(){this.Ks(),this.xE.Js(oA,this.qs)},A(n,[{key:"qg",get:function(){return this.xE.qg}},{key:"jg",get:function(){return this.xE.jg}},{key:"wu",get:function(){return this.xE.wu}},{key:"Kg",get:function(){return this.xE.Kg}},{key:"rg",get:function(){return this.xE.rg}}]),n}(lu),hA="titanium",fA="conax",vA="ezdrm",lA="irdeto",dA="vudrm",wA="verimatrix",_A="keyos",gA="drmtoday",mA="expressplay",yA="azure",kA="xstream",bA="vimond",pA="axinom",AA="uplynk",TA="comcast",SA="custom",EA=function(){function t(t,n,i,e,r){this.Kc=void 0,this.qE=void 0,this.YE=void 0,this.jE=void 0,this.kE=void 0,this.QE=void 0,this.ZE=void 0,this.Kc=t,this.qE=n,this.YE=i,this.kE=e,this.ZE=r,this.jE=this.KE(n)}var e=t.prototype;return e.JE=function(){return this.QE},e.$E=function(t){this.QE=t},e.tI=function(){return this.jE.licenseAcquisitionURL||this.JE()},e.nI=function(t){return Ve.resolve()},e.iI=function(t,n){return Ve.resolve(void 0)},e.eI=function(t,i,e,r){var s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.rI(t,i,e,r)).ud){o.next=3;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Rr.awrap(this.qw.ed(s));case 6:return u=o.sent,o.next=9,Rr.awrap(u.xl(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),tu(o.t0),o.next=17,Rr.awrap(this.sI(o.t0,s.ud,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],Ve)},e.rI=function(t,n,i,e){var r=this.uI().qf(),s=this.Dd,u={ud:this.oI(),Jl:n,Kl:r,Xl:t,Dd:s,Ed:Yw.POST,Id:0,zs:e,us:jw.ld,Rd:i};return new Jw(u)},e.aI=function(t,n){return Ve.resolve(t)},e.cI=function(t,n,i,e){return Ve.resolve(t)},e.uI=function(){return new Af(this.jE.headers||{})},e.sI=function(t,i,e){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,Ve)},e.oI=function(t,n){var e=n,r=this.jE.queryParameters;if(!e){var s=this.tI();if(!s)return"";e=s}if(r||t){var u=i.Cr(e);t&&n_(u,t),r&&n_(u,r),e=u.href}return e},e.hI=function(t,n){return IA(t)},e.fI=function(t){return new y(t)},e.vI=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(this.hI(t,i));case 2:return e=u.sent,u.next=5,Rr.awrap(this.eI(e,this.ZE,n,i));case 5:return r=u.sent,s=this.fI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,Ve)},e.Bd=function(){},A(t,[{key:"qw",get:function(){return this.kE}},{key:"lI",get:function(){return!1}},{key:"dI",get:function(){var t=this.jE.certificate;if(t)return G(t)?Du(t):Uo(t)}},{key:"wI",get:function(){return!1}},{key:"Dd",get:function(){return Boolean(this.jE.useCredentials)}}]),t}();function IA(t){return Ve.resolve(Fo(t).buffer)}var RA,NA,DA=function(t){function n(n,i,e,r){return t.call(this,rs,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.KE=function(t){return t.widevine||{}},i._I=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.dI){i.next=2;break}return i.abrupt("return",this.dI);case 2:return i.abrupt("return",this.gI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.gI=function(n,i){return t.prototype.vI.call(this,n,Qw.md,i)},n}(EA);function CA(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function PA(t){return X(t.token&&t.deviceId)}function BA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&X(i.PreAuthorization)}function OA(t){var n=t;return PA(n)&&""!==n.token&&""!==n.deviceId&&!BA(n)}(NA=RA||(RA={})).mI=!1,NA.yI=!1,NA.kI=!1,NA.bI=!1,NA.LOG_ADS_DETAILS=!1,NA.LOG_CHROMECAST_DETAILS=!1,NA.LOG_CUSTOM_DRM=!1,NA.LOG_BUFFERING_VIDEO_MAIN=!1,NA.LOG_BUFFERING_VIDEO_SELECTION=!1,NA.LOG_BUFFERING_AUDIO_MAIN=!1,NA.LOG_BUFFERING_AUDIO_SELECTION=!1,NA.pI=!1,NA.AI=!1,NA.LOG_LCEVC_DETAILS=!1;var xA,LA=function(){function t(t,n,i){this.TI=t,this.Mc=n,this.SI=i}return t.prototype.EI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.SI.build(t))},A(t,[{key:"II",get:function(){return this.TI}},{key:"Kc",get:function(){return this.Mc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(xA||(xA={}));var MA=function(){function t(){this.RI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.NI(t,e,r)){case xA.FAILED:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case xA.OVERRIDDEN:var s=iT(e);i.wr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case xA.SUCCEEDED:iT(e);0}},e.NI=function(t,n,i){var e=iT(n);if(!e)return xA.FAILED;for(var r=xA.SUCCEEDED,s=0,u=this.RI.slice();s<u.length;s++){var o=u[s];o.II===t&&o.Kc===e&&(r=xA.OVERRIDDEN,Ms(this.RI,o))}return this.RI.push(new LA(t,e,i)),r},e.DI=function(t,n){return void 0!==this.CI(t,n)},e.BI=function(t,n,i){var e=this.CI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.EI(i)},e.CI=function(t,n){for(var i=0,e=this.RI;i<e.length;i++){var r=e[i];if(r.II===t&&(!n||r.Kc===n))return r}},t}();MA.OI=new MA;var UA=["customdata"],XA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function FA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function HA(t){return t&&void 0!==t.licenseAcquisitionURL}var zA,VA=HA,WA=HA;function GA(t){if(!t)return!0;if(QA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return FA(n)&&FA(i)&&FA(e)&&FA(r)&&FA(s)}function qA(t){var n=OA(t),i=function(t){var n,i=t;return BA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!PA(i)}(t);return(!n||!i)&&(n||i)}function YA(t){return t.integration===lA}function jA(t){var n=t;if(!n)return!1;if(GA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(QA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!VA(e))return!1;if(r&&!WA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(MA.OI.DI(n.integration))return!0;switch(n.integration){case hA:if(!function(t){return t.integration===hA&&(ZA(t)||KA(t))}(t))return!1;break;case dA:if(!JA(t))return!1;break;case wA:if(!function(t){return t.integration===wA}(t))return!1;break;case lA:if(!YA(t))return!1;break;case fA:if(!qA(t))return!1;break;case vA:if(!function(t){return t.integration===vA}(t))return!1;break;case _A:if(!QA(t))return!1;break;case gA:if(!function(t){var n=t;return n.integration===gA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case mA:if(!function(t){return t.integration===mA}(t))return!1;break;case kA:if(!$A(t))return!1;break;case bA:if(!function(t){return t.integration===bA}(t))return!1;break;case pA:if(!tT(t))return!1;break;case yA:if(!function(t){var n=t;return n.integration===yA&&void 0!==n.token}(t))return!1;break;case AA:if(!function(t){return t.integration===AA}(t))return!1;break;case TA:if(!function(t){var n=t;return n&&X(n.releasePid)&&X(n.accountId)&&X(n.token)}(t))return!1;break;case SA:return!0;default:return!1}}return!0}function QA(t){return t.integration===_A}function ZA(t){return void 0!==t.authToken}function KA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function JA(t){var n=t;return n.integration===dA&&void 0!==n.token}function $A(t){var n=t;return n&&n.integration===kA&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function tT(t){var n=t;return n.integration===pA&&void 0!==n.token}function nT(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:XA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},c=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),h=null!=s?s:{};return h.customdata,Nr({},CA(h,UA),{licenseAcquisitionURL:u,headers:c})}function iT(t){switch(t.toLowerCase()){case"widevine":case Zr:return Zr;case"playready":case Yr:return Yr;case"fairplay":case ts:return ts}}function eT(t,i){switch(t){case Vr:return function(t){for(var n={},i=Qb.XA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.US]=r.HS}return n}(i);case Wr:case Gr:return function(t){var n;return(n={})[$r]=t,n}(i);default:throw new tf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Kr="Widevine",t.Zr="PlayreadyV2",t.xI="PlayreadyV2",t.LI="PlayreadyV3",t.$r="Fairplay"}(zA||(zA={}));var rT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function sT(t,n){var e,r,s,u,o=rT[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Br)?void 0:e.Or,OSVersion:null==(r=i.Br)?void 0:r.Fr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Br)?void 0:s.Hr,DeviceModel:null==(u=i.Br)?void 0:u.zr}}}function uT(t,i){if(!t.accountName)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function oT(t,n,i){var e;if(ZA(t))e={AuthToken:t.authToken,Payload:n};else{if(!KA(t))throw uT(t,i);e={LatensRegistration:sT(t,i),Payload:n}}return Hu(JSON.stringify(e))}function aT(t,i,e){var r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.qd){a.next=3;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Rr.awrap(s.Bl(e));case 7:u=a.sent,o=cT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ed.ud,s.Zl,s.$l,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],Ve)}function cT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var hT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Wf)||this).MI=void 0,r}S(e,t),e.UI=function(){return i.Or.We?"required":"optional"};var r=e.prototype;return r.sI=function(t,n,i){return aT(t,n,i)},r.nI=function(t){return this.MI?iu(this.MI.Uu,t):(this.MI=new Wo,Ve.resolve())},r.hI=function(t,i){var e,r;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.qE){i.next=3;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Pu(t),i.abrupt("return",oT(e,r,zA.Kr));case 5:case"end":return i.stop()}},null,this,null,Ve)},r.fI=function(t){if(!t.license)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Du(t.license)},r.XI=function(t){return Ve.resolve(new y(t))},r._I=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.FI(),r.next=3,Rr.awrap(this.hI(t,n));case 3:return i=r.sent,r.next=6,Rr.awrap(this.eI(i,pf.Vf,Qw.yd,n));case 6:return e=r.sent,r.next=9,Rr.awrap(this.XI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ve)},r.gI=function(n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(t.prototype.gI.call(this,n,i));case 2:return e=r.sent,this.FI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,Ve)},r.FI=function(){this.MI||(this.MI=new Wo),this.MI.Hu()},r.Bd=function(){this.MI&&this.MI.Xs(),t.prototype.Bd.call(this)},e}(DA),fT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).$E("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.hI=function(t,i){var e,r,s,u;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(IA(t));case 2:if(e=i.sent,r=this.YE,s=Ho(new y(e)),u=this.HI){i.next=8;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,Ve)},A(i,[{key:"HI",get:function(){if(JA(this.qE))return this.qE.token}}]),i}(DA);function vT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var lT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).$E("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.oI=function(n,i){var e=n;return YA(this.qE)&&(e=vT(this.qE,e)),t.prototype.oI.call(this,e,i)},n}(DA),dT="Conax-Custom-Data";function wT(t,n,i){var e=t&&qA(t)&&t;if(e&&!i.has(dT)){var r=OA(e)?e.token:void 0,s=OA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(dT,u)}return i}var _T=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).$E("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this);return wT(this.qE,"Widevine",n)},n}(DA);function gT(t){var n=To(new y(t));return Du(JSON.parse(n).license)}function mT(t){return"string"==typeof t.token?t.token:Hu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function yT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var kT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).$E("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.fI=function(t){return gT(t)},i.uI=function(){return yT(t.prototype.uI.call(this),this.HI,this.qE)},A(n,[{key:"HI",get:function(){return mT(this.qE)}}]),n}(DA),bT=function(t){function n(n,i,e){return t.call(this,n,i,e,pf.Vf)||this}return S(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this),i=this.qE.token;return n.set("Authorization","Bearer "+i),n},n}(DA);function pT(t,i,e,r){var s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if($A(t)){v.next=2;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Af).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",c={drmType:i,licenseType:a,streamId:o},h={ud:t.ticketAcquisitionURL,Jl:pf.Wf,Kl:s,Ed:Yw.POST,Xl:JSON.stringify(c),zs:r},v.next=13,Rr.awrap(e.ed(h));case 13:return f=v.sent,v.next=16,Rr.awrap(f.Bl());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,Ve)}var AT=function(t){function n(n,i,e){return t.call(this,n,i,e,pf.Wf)||this}S(n,t);var i=n.prototype;return i.uI=function(){var n=t.prototype.uI.call(this);return n.set("Content-Type","application/json"),n},i.hI=function(n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Fu(n.buffer),r=this.qE,o.next=4,Rr.awrap(pT(r,"widevine_modular",this.qw,i));case 4:return s=o.sent,this.$E(s.licenseServerUrl),u=So(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.hI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,Ve)},i.fI=function(t){return Du(t.license)},n}(DA),TT=function(t){function i(n,i,e){return t.call(this,n,i,e,pf.Vf)||this}return S(i,t),i.prototype.uI=function(){if(!tT(this.qE))throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.uI.call(this);return i.set("X-AxDRM-Message",this.qE.token),i},i}(DA);function ST(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var ET=function(t){function n(n,i,e){var r;return(r=t.call(this,es,n,i,e,pf.Vf)||this).zI=void 0,r}S(n,t);var e=n.prototype;return e.KE=function(t){return t.playready||{}},e.uI=function(){var n=new Af(this.zI);return n.jf(t.prototype.uI.call(this)),n},e.VI=function(t){return t.length>=1&&t[0].Si.length>0},e.iI=function(n){var i=this.qE.playready.customData;if(i){var e=ST(i),r=ST('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Pu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ve.resolve({playready:{Ih:r}})}return t.prototype.iI.call(this,n)},e.hI=function(t,n){var i;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(IA(t));case 2:return i=n.sent,n.abrupt("return",this.WI(i));case 4:case"end":return n.stop()}},null,this,null,Ve)},e.WI=function(t){var n,e,r,s,u,o,a,c,h,f,v,l,d,w,_,g;return Rr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=bo(o,new zo,!0),m.prev=3,c=i.ei(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(h=null==(n=c.Ti("PlayReadyKeyMessage")[0])?void 0:n.Ti("LicenseAcquisition")[0],f=null!=(e=null==h?void 0:h.Ti("Challenge"))?e:[],this.VI(f)&&(u=Xu(f[0].Ui)),v=new Af,l=null!=(r=null==h?void 0:null==(s=h.Ti("HttpHeaders")[0])?void 0:s.Ti("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ti("name")[0].Ui,g=w.Ti("value")[0].Ui,v.append(_,g);return this.zI=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],Ve)},e._I=function(t,n){return Ve.resolve(t)},e.gI=function(n,i){return t.prototype.vI.call(this,n,Qw.kd,i)},n}(EA),IT=function(){function t(n){this.lc=void 0,this.GI=n,this.lc=t.qI(n)}return t.qI=function(t){return"3"===t.version?zA.LI:zA.xI},t.prototype.YI=function(){var t={};if(this.lc===zA.LI){var n={LatensRegistration:sT(this.GI,zA.LI)};t["X-TITANIUM-DRM-CDATA"]=Hu(JSON.stringify(n))}return t},A(t,[{key:"jI",get:function(){return this.lc}},{key:"fh",get:function(){return this.lc===zA.xI}}]),t}();var RT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).QI=void 0,r.QI=new IT(r.qE),r}S(e,t);var r=e.prototype;return r.iI=function(t){var i=this.qE;if(!this.qE)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(KA(i)){var e={};return e.playready={Ih:NT(i,this.QI.jI)},Ve.resolve(e)}return Ve.reject(uT(i,zA.Zr))},r.uI=function(){var n=new Af(this.QI.YI());return n.jf(t.prototype.uI.call(this)),n},r.sI=function(t,e,r){var s,u,o,a,c,h,f,v;return Rr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.qd){l.next=3;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Rr.awrap(s.Ll(r));case 6:a=l.sent,c=To(new y(a)),(h=i.ei(c))&&(f=np(h,"CustomData")).length>0&&(u=JSON.parse(f[0].Ui),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Zl,s.$l,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],Ve)},r.VI=function(t){if(1!==t.length)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(ET);function NT(t,n){var i=sT(t,n),e=i.DeviceInfo.FormatVersion,r=Hu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Io(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Io('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Pu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var DT,CT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.VI=function(t){if(1!==t.length)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.oI=function(n,i){var e=Nr({},n||{},{token:this.HI});return t.prototype.oI.call(this,e,i)},A(i,[{key:"HI",get:function(){if(JA(this.qE))return this.qE.token}}]),i}(ET),PT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.oI=function(n,i){var e=n;return YA(this.qE)&&(e=vT(this.qE,e)),t.prototype.oI.call(this,e,i)},n}(ET),BT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this);return wT(this.qE,"PlayReady",n)},n}(ET),OT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$E("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.fI=function(n){return(vs(To(new y(n)),"<?xml")?DT.ZI:DT.Bl)===DT.Bl?gT(n):t.prototype.fI.call(this,new y(n))},i.uI=function(){return yT(t.prototype.uI.call(this),this.HI,this.qE)},A(n,[{key:"HI",get:function(){return mT(this.qE)}}]),n}(ET);!function(t){t[t.ZI=0]="ZI",t[t.Bl=1]="Bl"}(DT||(DT={}));var xT,LT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KI=void 0,r}S(n,t);var i=n.prototype;return i.uI=function(){var n=t.prototype.uI.call(this);return this.KI&&n.set("Ticket",this.KI),n.set("Content-Type","text/xml"),n},i.hI=function(n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.qE,s.next=3,Rr.awrap(pT(e,"playready",this.qw,i));case 3:return r=s.sent,this.$E(r.licenseServerUrl),this.KI=r.ticket,s.abrupt("return",t.prototype.hI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,Ve)},n}(ET),MT=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.uI=function(){if(!tT(this.qE))throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.uI.call(this);return i.set("X-AxDRM-Message",this.qE.token),i},i}(ET);!function(t){t.Wf="application/json",t.JI="application/x-www-form-urlencoded",t.$I="application/octet-stream",t.Kn="text/plain;charset=UTF-8"}(xT||(xT={}));var UT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.Kc,i,e,r,s)||this).tR="",u.nR=void 0,u.iR=void 0,u.iR=n.eR,u}S(n,t);var i=n.prototype;return i.rR=function(){return this.jE.certificateURL||this.nR},i.sR=function(t){this.nR=t},i.hI=function(t){return Ve.resolve(this.uR(t,this.tR))},i.uR=function(t,n){return"spc="+encodeURIComponent(Pu(t))+"&assetId="+encodeURIComponent(n)},i.KE=function(t){return t.fairplay||{}},i.oR=function(t){var n=t.indexOf("?");if(n>=0)return Ve.resolve(t.substr(n+1));var i=t.split("/");return Ve.resolve(i[i.length-1])},i.iI=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.iR)?n:Do(new y(t)),s.next=3,Rr.awrap(this.oR(i));case 3:return e=s.sent,this.tR=e,(r={}).fairplay={Oh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,Ve)},i.uI=function(){var n=t.prototype.uI.call(this);return n.set("Content-Type",this.aR),n},i._I=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dI){t.next=2;break}return t.abrupt("return",this.dI);case 2:return t.next=4,Rr.awrap(this.cR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.gI=function(n,i){return t.prototype.vI.call(this,n,Qw.wd,i)},i.hR=function(t){var n=this.rR(),i=this.uI(),e={ud:n,Jl:pf.Vf,Kl:i,Ed:Yw.GET,Dd:!1,Xl:null,Id:0,zs:t,us:jw.ld,Rd:Qw._d};return new Jw(e)},i.cR=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.hR(t),r.next=3,Rr.awrap(this.qw.ed(n));case 3:return i=r.sent,r.next=6,Rr.awrap(i.Ll());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,Ve)},i.fI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Du(i)}else n=new y(t);return n},i.oI=function(n,i){var e=t.prototype.oI.call(this,n,i);return vs(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"wI",get:function(){return!0}},{key:"aR",get:function(){return xT.JI}}]),n}(EA),XT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}S(n,t);var i=n.prototype;return i.oR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return Ve.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return Ve.resolve(i)},i.hI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},i.fI=function(t){return new y(t)},i.oI=function(n,i){var e=n||{};return e.p1=zt(),t.prototype.oI.call(this,e,i)},A(n,[{key:"aR",get:function(){return xT.$I}}]),n}(UT),FT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Vf)||this).$E("https://fairplay-license.drm.technology/license"),s.sR("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.uR=function(t,n){var i={token:this.HI,contentId:n,payload:Pu(t)};return JSON.stringify(i)},e.fI=function(t){return new y(t)},e.uI=function(){var n=t.prototype.uI.call(this);return n.set("x-vudrm-token",this.HI),n},A(i,[{key:"aR",get:function(){return xT.Wf}},{key:"HI",get:function(){if(!JA(this.qE))throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.qE.token}}]),i}(UT),HT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",zT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",VT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}return S(i,t),i.prototype.fI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,HT)}if(!i)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,zT);return i}(To(new DataView(i)));return t.prototype.fI.call(this,e)},i}(UT);var WT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Wf)||this}S(i,t);var e=i.prototype;return e.hI=function(t){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.qE){r.next=3;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Pu(t),r.abrupt("return",oT(i,e,zA.$r));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.fI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Xu(i.license);return new y(r)}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.sI=function(t,n,i){return aT(t,n,i)},A(i,[{key:"aR",get:function(){return xT.Wf}}]),i}(UT),GT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Vf)||this).$E("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.sR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.rR=function(){var n=t.prototype.rR.call(this);if(!n)return n;var e=i.Cr(n),r=this.qE;return YA(r)&&n_(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.oR=function(n){return YA(this.qE)?Ve.resolve(this.qE.contentId):t.prototype.oR.call(this,n)},e.hI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.fI=function(t){return new y(t)},e.oI=function(n,i){var e=n;return YA(this.qE)&&(e=function(t,n){return Nr({},vT(t,n),{KeyId:t.keyId})}(this.qE,e)),t.prototype.oI.call(this,e,i)},A(n,[{key:"aR",get:function(){return xT.$I}}]),n}(UT),qT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,pf.Kn)||this,!qA(e))throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.$E("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.uI=function(){var n=t.prototype.uI.call(this);return wT(this.qE,"FairPlay",n)},e.cR=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.rR(),i={ud:n,Jl:pf.Vf,Kl:{},Ed:Yw.GET,Dd:!1,Xl:null,Id:0,zs:t,us:jw.ld,Rd:Qw._d},s.next=4,Rr.awrap(this.qw.ed(i));case 4:return e=s.sent,s.next=7,Rr.awrap(e.Ll());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,Ve)},e.hI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.oR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ve.resolve(To(Du(n)))):Ve.resolve("unknown")},e.fI=function(t){try{var n=JSON.parse(t);return new y(Xu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(UT),YT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Kn)||this).$E(XA[Hr.$r]),s}S(i,t);var e=i.prototype;return e.oR=function(t){return vs(t,"skd://")?Ve.resolve(t.substring("skd://".length,40)):Ve.reject(new Wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.uR=function(t,n){return"spc="+Pu(t)+"&assetId="+n},i}(UT),jT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Kn)||this).$E("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.uR=function(t,n){var i="spc="+encodeURIComponent(Pu(t))+"&"+encodeURI(n);return"persistent"===this.jE.licenseType?i+"&offline=true":i},i.uI=function(){return yT(t.prototype.uI.call(this),this.HI,this.qE)},A(n,[{key:"HI",get:function(){return mT(this.qE)}}]),n}(UT),QT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}S(n,t);var e=n.prototype;return e.oR=function(t){var n=t;return vs(n,"skd:")&&(n="http:"+n.substring(4)),vs(n,"http:")||vs(n,"https:")?Ve.resolve(i.Cr(n).hostname):Ve.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.hI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.fI=function(t){return new y(t)},A(n,[{key:"aR",get:function(){return xT.$I}}]),n}(UT),ZT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pf.Kn)||this}return S(n,t),n.prototype.uI=function(){var n=t.prototype.uI.call(this),i=this.qE.token;return n.set("Authorization","Bearer "+i),n},n}(UT),KT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,pf.Wf)||this,!$A(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.cR=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.rR(),i=this.uI(),e={ud:n,Jl:pf.Wf,Kl:i,Ed:Yw.POST,zs:t,us:jw.ld,Rd:Qw._d},u.next=5,Rr.awrap(this.qw.ed(e));case 5:return r=u.sent,u.next=8,Rr.awrap(r.Bl());case 8:return s=u.sent,u.abrupt("return",new y(Du(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,Ve)},i.gI=function(t,n,i){var e,r,s,u,o,a,c;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Pu(t),r=this.qE,i.next=5,Rr.awrap(pT(r,"fairplay",this.qw,n));case 5:return s=i.sent,u=So(JSON.stringify({spc:e,ticket:s.ticket})),o={ud:this.tI(),Jl:pf.Wf,Kl:this.uI(),Ed:Yw.POST,Xl:u,Id:0,zs:n,us:jw.ld,Rd:Qw.wd},i.next=10,Rr.awrap(this.qw.ed(o));case 10:return a=i.sent,i.next=13,Rr.awrap(a.Bl());case 13:return c=i.sent,i.abrupt("return",Du(c.licence));case 15:case"end":return i.stop()}},null,this,null,Ve)},A(n,[{key:"aR",get:function(){return xT.Wf}}]),n}(UT),JT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Kn)||this}S(i,t);var e=i.prototype;return e.uR=function(t,n){return Pu(t)},e.fI=function(i){if(0===i.length)throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.fI.call(this,i)},e.uI=function(){var n=t.prototype.uI.call(this);return n.set("Content-Type","text/plain"),n},i}(UT),$T=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}S(i,t);var e=i.prototype;return e.uR=function(t,n){return t},e.fI=function(t){return new y(t)},e.uI=function(){if(!tT(this.qE))throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.uI.call(this);return i.set("X-AxDRM-Message",this.qE.token),i},A(i,[{key:"aR",get:function(){return xT.Wf}}]),i}(UT),tS=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Wf)||this).fR=void 0,s}S(e,t);var r=e.prototype;return r.uR=function(t,n){var i={spc:Pu(t)};return JSON.stringify(i)},r.oR=function(t){var e=i.Cr(t);return this.fR=t,e.searchParams.has("b")?Ve.resolve(e.searchParams.get("b")):Ve.reject(new Wy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.oI=function(n,i){var e=this.tI();return!e&&this.fR&&(e=this.fR),e&&(e=e.replace("skd://","https://")),t.prototype.oI.call(this,n,i||e)},r.fI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Du(i.ckc)}catch(t){throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"aR",get:function(){return xT.Kn}}]),e}(UT),nS=function(){function t(t,n){this.vR=t,this.lR=n}var n=t.prototype;return n.dR=function(t){return this.vR(t)},n.wR=function(t,n){throw new l(n+" must be "+this.lR+". (Received: "+t+")")},t}();new nS(function(t){return!0},"any");var iS=new nS(Q,"a number"),eS=new nS(G,"a string"),rS=new nS(q,"a boolean");new nS(j,"a date"),new nS(F,"undefined"),new nS(V,"an object"),new nS(function(t){return null===t},"null"),new nS(function(t){return null==t},"null or undefined");var sS,uS=(sS={responseCode:iS,isException:rS,description:eS,title:eS,correlationId:eS},{dR:function(t){if(!V(t))return!1;for(var n=0,i=d.keys(sS);n<i.length;n++){var e=i[n];if(!sS[e].dR(t[e]))return!1}return!0},wR:function(t,n){if(!V(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(sS);i<e.length;i++){var r=e[i],s=sS[r];if(!s.dR(t[r]))return s.wR(t[r],n+"."+String(r))}throw new l}});function oS(t,n,i,e,r){var s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=aS(t,n,i,r),u.next=3,Rr.awrap(cS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,Ve)}function aS(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Cr(t);return n_(e,n),e.toString()}(e,s)),o=new Af({});o.append("Content-Type","application/json");var a=Pu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{ud:u,Jl:pf.Kn,Kl:o,Ed:Yw.POST,Xl:JSON.stringify(c),zs:r,us:jw.ld,Rd:Qw.wd}}function cS(t,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(i.ed(t));case 2:return e=s.sent,s.next=5,Rr.awrap(e.Bl());case 5:if(r=s.sent,!uS.dR(r)){s.next=8;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.ud,r.responseCode);case 8:return s.abrupt("return",Du(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,Ve)}var hS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Vf)||this)._R=void 0,s._R=i,s}S(n,t);var i=n.prototype;return i.oR=function(n){var i=n.replace("FairPlay",this._R.releasePid);return t.prototype.oR.call(this,i)},i.gI=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(oS(t,this._R,this.tI(),this.qw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,Ve)},n}(UT),fS=function(t){function i(n,i,e){return t.call(this,os,n,i,e,pf.Vf)||this}S(i,t);var e=i.prototype;return e.KE=function(t){return t.clearkey||{}},e.eI=function(i,e,r,s){var u,o;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.jE,!this.tI()){e.next=5;break}return e.abrupt("return",t.prototype.eI.call(this,i,this.ZE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",So(JSON.stringify(o)).buffer);case 10:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,Ve)},e._I=function(t,n){return Ve.resolve(new y(0))},e.gI=function(n,i){return t.prototype.vI.call(this,n,Qw.bd,i)},i}(EA),vS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(DA),lS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function dS(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=AS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",Ve.resolve(n));case 5:return u.next=8,Rr.awrap(iu(Ve.resolve(r.call(t,e)),i));case 8:if(!Mo(s=u.sent)){u.next=11;break}return u.abrupt("return",Uo(s));case 11:return u.abrupt("return",pS(Nr({},lS,s)));case 12:case"end":return u.stop()}},null,null,null,Ve)}function wS(t,n,i,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=bS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ve.resolve(n));case 5:return a.next=8,Rr.awrap(iu(Ve.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,Ve)}function _S(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(mS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",pS(r));case 6:case"end":return s.stop()}},null,null,null,Ve)}function gS(t,n,i,e,r,s){var u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=kS(i,r),a.next=3,Rr.awrap(yS(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Uo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,Ve)}function mS(t,n,i,e){var r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=kS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",Ve.resolve(s));case 5:return o.next=8,Rr.awrap(iu(Ve.resolve(r.call(t,s)),e));case 8:if(!Mo(u=o.sent)){o.next=11;break}return o.abrupt("return",Uo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},lS,u));case 12:case"end":return o.stop()}},null,null,null,Ve)}function yS(t,n,i,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=bS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ve.resolve(n));case 5:return a.next=8,Rr.awrap(iu(Ve.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,Ve)}function kS(t,n){return Nr({},AS(t),{fairplaySkdUrl:n})}function bS(t,n,i){return{url:i.rd,status:i.Zl,statusText:i.$l,headers:i.Kl.qf(),body:t,request:n}}function pS(t){return new Jw({ud:t.url,Ed:t.method,Kl:t.headers,Xl:t.body,Dd:t.useCredentials})}function AS(t){var n;return{url:t.ud,body:null!=(n=TS(t.Xl))?n:null,headers:t.Kl.qf(),method:t.Ed,useCredentials:t.Dd}}function TS(t){if(t)return"string"==typeof t?Co(t):t instanceof ArrayBuffer?new y(t):Ou(t)?Lo(t):void 0}var SS,ES=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).gR=void 0,s.gR=r,s}S(i,t);var e=i.prototype;return e._I=function(t,n){return Ve.resolve(t)},e.gI=function(t,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Rr.awrap(this.WI(Fo(t).buffer));case 2:return e=a.sent,r=this.rI(e,pf.Vf,Qw.kd,i),a.next=6,Rr.awrap(_S(this.gR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.ud){a.next=12;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Rr.awrap(this.qw.ed(s));case 15:return u=a.sent,a.next=18,Rr.awrap(u.Ll(i));case 18:return o=a.sent,a.t0=y,a.next=22,Rr.awrap(gS(this.gR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),tu(a.t2),new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],Ve)},i}(ET),IS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,pf.Vf)||this).gR=void 0,s.gR=r,s}S(i,t);var e=i.prototype;return e._I=function(t,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.dI){a.next=2;break}return a.abrupt("return",this.dI);case 2:return e=this.rI(t,pf.Vf,Qw.yd,i),a.next=5,Rr.awrap(dS(this.gR,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.ud){a.next=11;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Rr.awrap(this.qw.ed(r));case 14:return s=a.sent,a.next=17,Rr.awrap(s.Ll(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),tu(a.t0),new Wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=kS(e,void 0),a.next=27,Rr.awrap(wS(this.gR,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],Ve)},e.gI=function(t,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.rI(t,pf.Vf,Qw.md,i),o.next=3,Rr.awrap(_S(this.gR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.ud){o.next=9;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Rr.awrap(this.qw.ed(r));case 12:return s=o.sent,o.next=15,Rr.awrap(s.Ll(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),tu(o.t0),new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Rr.awrap(gS(this.gR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],Ve)},i}(vS),RS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,pf.Vf)||this).gR=void 0,u.mR=void 0,u.gR=s,u}S(i,t);var e=i.prototype;return e._I=function(t,i){var e,r,s,u,o;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dI){t.next=2;break}return t.abrupt("return",this.dI);case 2:return e=this.hR(i),t.next=5,Rr.awrap(dS(this.gR,e,i));case 5:if(r=t.sent,!Ou(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Rr.awrap(this.qw.ed(r));case 11:return s=t.sent,t.next=14,Rr.awrap(s.Ll());case 14:return u=t.sent,o=kS(e,void 0),t.next=18,Rr.awrap(wS(this.gR,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),tu(t.t0),new Wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],Ve)},e.gI=function(t,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.rI(t,pf.Vf,Qw.wd,i),o.next=3,Rr.awrap(_S(this.gR,e,this.mR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.ud){o.next=9;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Rr.awrap(this.qw.ed(r));case 12:return s=o.sent,o.next=15,Rr.awrap(s.Ll(i));case 15:return u=o.sent,o.t0=y,o.next=19,Rr.awrap(gS(this.gR,u,e,s,this.mR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),tu(o.t2),new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],Ve)},e.oR=function(n){var i;return this.mR=n,null!=(i=this.gR)&&i.extractFairplayContentId?Ve.resolve(this.gR.extractFairplayContentId(n)):t.prototype.oR.call(this,n)},i}(UT),NS=function(){function t(){}var n=t.prototype;return n.yR=function(t,n,i,e){switch(t.Kc.us){case Hr.Kr:return this.kR(n,i,e);case Hr.Zr:return this.bR(n,i,e);case Hr.$r:return this.pR(t,n,i,e);case Hr.Jr:default:return this.AR(n,i,e)}},n.kR=function(t,n,i){var e,r=(e=t).integration===SA&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&MA.OI.DI(r,Zr)){var s=MA.OI.BI(r,Zr,t);return new IS(t,n,i,s)}switch(r){case hA:return new hT(t,n,i);case dA:return new fT(t,n,i);case lA:return new lT(t,n,i);case fA:return new _T(t,n,i);case gA:return new kT(t,n,i);case yA:return new bT(t,n,i);case kA:return new AT(t,n,i);case pA:return new TT(t,n,i);case _A:default:return new vS(t,n,i,pf.Vf)}},n.bR=function(t,n,i){var e=t.integration;if(e&&MA.OI.DI(e,Yr)){var r=MA.OI.BI(e,Yr,t);return new ES(t,n,i,r)}switch(e){case hA:return new RT(t,n,i);case dA:return new CT(t,n,i);case lA:return new PT(t,n,i);case fA:return new BT(t,n,i);case gA:return new OT(t,n,i);case kA:return new LT(t,n,i);case pA:return new MT(t,n,i);case _A:default:return new ET(t,n,i)}},n.pR=function(t,n,i,e){var r=n.integration;if(r&&MA.OI.DI(r,ts)){var s=MA.OI.BI(r,ts,n);return new RS(t,n,i,e,s)}switch(r){case vA:return new XT(t,n,i,e);case dA:return new FT(t,n,i,e);case wA:return new VT(t,n,i,e);case hA:return new WT(t,n,i,e);case lA:return new GT(t,n,i,e);case fA:return new qT(t,n,i,e);case _A:return new YT(t,n,i,e);case gA:return new jT(t,n,i,e);case mA:return new QT(t,n,i,e);case yA:return new ZT(t,n,i,e);case kA:return new KT(t,n,i,e);case bA:return new JT(t,n,i,e);case pA:return new $T(t,n,i,e);case AA:return new tS(t,n,i,e);case TA:return new hS(t,n,i,e);default:return new UT(t,n,i,e,pf.Kn)}},n.AR=function(t,n,i){return new fS(t,n,i)},n.SR=function(t){return t.us===Hr.Zr||t.us===Hr.Kr||t.us===Hr.$r||t.us===Hr.Jr},n.fh=function(t,n){var i;if(t.us!==Hr.Zr)return!1;if(X(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!MA.OI.DI(e,ts))&&(e===hA&&new IT(n).fh)},n.UI=function(t,n){if(t.us===Hr.Kr){var i=n.integration;if(!i||!MA.OI.DI(i,ts))return i===hA?hT.UI():void 0}},t}();!function(t){t[t.ER=0]="ER",t[t.IR=1]="IR",t[t.RR=2]="RR",t[t.NR=3]="NR",t[t.DR=4]="DR",t[t.Rg=5]="Rg",t[t.PR=6]="PR",t[t.OR=7]="OR",t[t.Og=8]="Og",t[t.xR=9]="xR",t[t.LR=10]="LR"}(SS||(SS={}));var DS=function(){function t(){}return t.prototype.MR=function(t){},A(t,[{key:"UR",get:function(){return 0}},{key:"XR",get:function(){return 0}}]),t}(),CS=function(){function t(t,n){void 0===n&&(n=new NS),this.kE=void 0,this.FR=void 0,this.GI=void 0,this.kE=t,this.FR=n}var n=t.prototype;return n.HR=function(t){this.GI=t},n.UI=function(t){var n=this.GI;if(void 0!==n)return this.FR.UI(t,n)},n.fh=function(t){var n=this.GI;return void 0!==n&&this.FR.fh(t,n)},n.zR=function(t){var n={Kc:t.Kc,WR:t.WR||[],eR:t.eR},i=this.FR.yR(n,this.GI||{},t.YE,this.kE);return new PS(i)},t}(),PS=function(){function t(t){this.GR=void 0,this.GR=t}var n=t.prototype;return n.nI=function(t){return this.GR.nI(t)},n.iI=function(t,n,i){return this.GR.iI(n,i)},n.wI=function(){return this.GR.wI||void 0!==this.GR.dI},n._I=function(t,n){return this.GR._I(t,n)},n.gI=function(t,n,i){return n&&this.GR.$E(n),this.GR.gI(t,i)},n.Bs=function(){this.GR.Bd()},t}(),BS=function(t){function n(n){var i;(i=t.call(this)||this).qR=[],i.YR=function(t){i.T_(t.t_)},i.jR=function(t){var n=t.t_;i.QR(n)||i.S_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.ZR(r)}return i}S(n,t);var i=n.prototype;return i.ZR=function(t){this.qR.push(t);for(var n=0,i=t.R_;n<i.length;n++){var e=i[n];this.T_(e)}this.KR(t)},i.JR=function(t){Ms(this.qR,t),this.$R(t);for(var n=0,i=t.R_;n<i.length;n++){var e=i[n];this.QR(e)||this.S_(e)}},i.QR=function(t){for(var n=0,i=this.qR;n<i.length;n++){if(i[n].E_(t))return!0}return!1},i.KR=function(t){t.js(Fg.Yw,this.YR),t.js(Fg.Qw,this.jR)},i.$R=function(t){t.Js(Fg.Yw,this.YR),t.Js(Fg.Qw,this.jR)},i.Bd=function(){for(;this.qR.length>0;)this.JR(this.qR[0]);t.prototype.Bd.call(this)},i.$w=function(){return Im(this)},n}(Kg);function OS(t){return{get enabled(){return t.U_},set enabled(n){t.U_=am(n)},get currentLatency(){return t.gm},get streamConfiguration(){if(void 0!==t.tN)return function(t){return{get minimumOffset(){return t.um},get maximumOffset(){return t.hm},get targetOffset(){return t.cm},get forceSeekOffset(){return t.fm},get minimumPlaybackRate(){return t.vm},get maximumPlaybackRate(){return t.lm}}}(t.tN)},get configuration(){return function(t){return{get minimumOffset(){return t.um},set minimumOffset(n){t.um=cm(n)},get maximumOffset(){return t.hm},set maximumOffset(n){t.hm=cm(n)},get targetOffset(){return t.cm},set targetOffset(n){t.cm=cm(n)},get forceSeekOffset(){return t.fm},set forceSeekOffset(n){t.fm=cm(n)},get minimumPlaybackRate(){return t.vm},set minimumPlaybackRate(n){t.vm=cm(n)},get maximumPlaybackRate(){return t.lm},set maximumPlaybackRate(n){t.lm=cm(n)},update:function(n){t.Wc(function(t){var n={};void 0!==t.minimumOffset&&(n.um=cm(t.minimumOffset));void 0!==t.maximumOffset&&(n.hm=cm(t.maximumOffset));void 0!==t.targetOffset&&(n.cm=cm(t.targetOffset));void 0!==t.forceSeekOffset&&(n.fm=cm(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.vm=cm(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.lm=cm(t.maximumPlaybackRate));return n}(n))}}}(t.Jc)}}}var xS,LS=function(){function t(){this.Kw=void 0,this.nN=void 0,this.nN={fm:0,hm:0,lm:0,um:0,vm:0,cm:0,Wc:Z}}return A(t,[{key:"Jw",get:function(){return null!=this.Kw||(this.Kw=OS(this)),this.Kw}},{key:"U_",get:function(){return!1},set:function(t){}},{key:"gm",get:function(){}},{key:"tN",get:function(){}},{key:"Jc",get:function(){return this.nN}}]),t}();function MS(){return xS||(xS=ve&&ve.document&&ve.document.createElement("video")),xS}var US=function(t){function i(i,e,r,s,u,o,a){var c;return void 0===o&&(o=new NS),void 0===a&&(a=wf()),(c=t.call(this)||this).iN=void 0,c.eN=void 0,c.rN=void 0,c.Rm=void 0,c.Nm=void 0,c.Dm=void 0,c.sN=void 0,c.uN=void 0,c.oN=void 0,c.aN=void 0,c.cN=void 0,c.kE=void 0,c._s=void 0,c.hN=void 0,c.fN=void 0,c.vN=new DS,c.lN=new LS,c.dN=function(t){var i=t.wu,e=i.code,r=new tf(function(t){switch(t){case Hy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Hy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Hy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Hy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Hy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Hy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Hy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new Gy(e,r.message,i.message);c.wN(r,s)},c._N=function(){c.Ys(new ly(c.qg,c.ly))},c.gN=function(t){c.Kg||(c.fN=void 0),c.Ys(t)},c.mN=function(t){c.fN=void 0,c.Ys(t)},c.yN=function(){c.Ys(new lk(c._y))},c.kN=function(){c.nm>0&&c.tm>0&&c.Ys(new Qp)},c.bN=function(t){c.Rm.T_(new ok(t.track))},c.pN=function(t){var n=FS(c.Rm,t.track);n&&c.Rm.S_(n)},c.AN=function(){c.TN(c.Rm)},c.SN=function(t){c.Nm.T_(new vk(t.track))},c.EN=function(t){var n=FS(c.Nm,t.track);n&&c.Nm.S_(n)},c.IN=function(){c.TN(c.Nm)},c.RN=function(t){c.Ys(t),c.wN(t.errorObject,Yy(t.errorObject))},c.iN=e,c.kE=r,c._s=a,c.eN=c.iN.NN(jy.Td),c.oN=c.eN.DN.preload,c.aN=new aA(c.eN,!0),c.aN.js(cy,c.qs),c.hN=new CS(r,o),c.eN.CN=c.hN,c.PN(),c.Rm=new Qy,c.Nm=new Qy,c.BN(),c.cN=new zp(c.eN,c.kE),c.Dm=new BS([c.eN.Lm]),c.Qm(),c}S(i,t);var e=i.prototype;return e.Zm=function(){this.eN.Zm()},e.Qm=function(){this.eN.Qm()},e.zm=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return $s(i),e={us:jp.RE,cg:t.src,Ul:t.type,ON:this.xN(t),Iy:this.oN,LN:t.crossOrigin,MN:n.metadata&&n.metadata.title},this.hN.HR(t.contentProtection),r.next=5,Rr.awrap(this.eN.zc(e));case 5:this.rN=r.sent,$s(i),n.textTracks&&this.UN(n.textTracks),Yp(this.Lm);case 9:case"end":return r.stop()}},null,this,null,Ve)},e.UN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.eN.XN()&&L.un&&eA&&!Bp(i.kind,i.label)&&this.FN(i)){var e,r=null!=(e=i.kind)?e:kp.iA;this.eN.HN(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.cN.pE(i)}}},e.FN=function(t){return!t.format||"webvtt"===t.format},e.Um=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr.awrap(this.eN.Um());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.zN){t.next=12;break}return t.next=10,Rr.awrap(this.eN.uu(bf.Ef));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],Ve)},e.Xm=function(){this.eN.Xm()},e.Vm=function(){return void 0!==this.eN.DN.webkitShowPlaybackTargetPicker},e.Wm=function(){this.eN.DN.webkitShowPlaybackTargetPicker&&this.eN.DN.webkitShowPlaybackTargetPicker()},e.Gm=function(){this.eN.DN.webkitShowPlaybackTargetPicker&&this.eN.DN.webkitShowPlaybackTargetPicker()},e.Km=function(){return this.eN.DN},e.Jm=function(){return this.eN.VN},e.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sN=void 0,this.uN=void 0,this.rN=void 0,t.next=5,Rr.awrap(this.cN.I_());case 5:return this.eN.WN(),t.next=8,Rr.awrap(this.eN.I_());case 8:this.aN.I_(),this.Iy=this.oN,this.Om.I_(),this.xm.I_(),this.fN=void 0;case 13:case"end":return t.stop()}},null,this,null,Ve)},e.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.I_());case 2:return this.Ks(),this.GN(),this.qN(),this.aN.Bd(),this.eN.CN=void 0,t.next=9,Rr.awrap(this.iN.YN(this.eN));case 9:return this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),t.next=14,Rr.awrap(this.cN.Bd());case 14:case"end":return t.stop()}},null,this,null,Ve)},e.PN=function(){this.eN.js(bf.Sf,this.qs),this.eN.js(bf.Tf,this.qs),this.eN.js(bf.Uf,this._N),this.eN.js(bf.Ef,this.qs),this.eN.js(bf.yf,this.qs),this.eN.js(bf.Cf,this.qs),this.eN.js(bf.Df,this.gN),this.eN.js(bf._f,this.qs),this.eN.js(bf.If,this.qs),this.eN.js(bf.Xf,this.qs),this.eN.js(bf.df,this.qs),this.eN.js(bf.Nf,this.kN),this.eN.js(ey.Gg,this.mN),this.eN.js(bm.Q_,this.dN),this.eN.js(bf.hf,this.qs),this.eN.js(bf.cf,this.RN),this.eN.DN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.yN)},e.GN=function(){this.eN.Js(bf.Sf,this.qs),this.eN.Js(bf.Tf,this.qs),this.eN.Js(bf.Uf,this._N),this.eN.Js(bf.Ef,this.qs),this.eN.Js(bf.yf,this.qs),this.eN.Js(bf.Cf,this.qs),this.eN.Js(bf.Df,this.gN),this.eN.Js(bf._f,this.qs),this.eN.Js(bf.If,this.qs),this.eN.Js(bf.Xf,this.qs),this.eN.Js(bf.df,this.qs),this.eN.Js(bf.Nf,this.kN),this.eN.Js(ey.Gg,this.mN),this.eN.Js(bm.Q_,this.dN),this.eN.Js(bf.hf,this.qs),this.eN.Js(bf.cf,this.RN),this.eN.DN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.yN)},e.xN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Kc:ss,jN:[{initDataTypes:[ss.fs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.BN=function(){var t=this.eN.DN.audioTracks,n=this.eN.DN.videoTracks;t&&(t.addEventListener("addtrack",this.bN),t.addEventListener("removetrack",this.pN),t.addEventListener("change",this.AN)),n&&(n.addEventListener("addtrack",this.SN),n.addEventListener("removetrack",this.EN),n.addEventListener("change",this.IN))},e.qN=function(){var t=this.eN.DN.audioTracks,n=this.eN.DN.videoTracks;t&&(t.removeEventListener("addtrack",this.bN),t.removeEventListener("removetrack",this.pN),t.removeEventListener("change",this.AN)),n&&(n.removeEventListener("addtrack",this.SN),n.removeEventListener("removetrack",this.EN),n.removeEventListener("change",this.IN))},e.TN=function(t){for(var n=0;n<t.N_;n++){t.A_(n).Uy()}},e.oy=function(){this.eN.oy()},e.wN=function(t,n){this.sN||(this.sN=n,this.uN=t,this.Ys(new py(t)))},A(i,[{key:"zN",get:function(){var t=this.eN.vy,n=this.qg;return t.QN(n,.01)}},{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.eN.vy.ZN()}},{key:"ly",get:function(){return this.eN.ly},set:function(t){t&&this.eN.KN(t)}},{key:"qg",get:function(){return void 0!==this.fN?this.fN:this.eN.qg},set:function(t){this._y&&(this.fN=t),this.eN.Bu(t)}},{key:"Yg",get:function(){return this.eN.Yg}},{key:"jg",get:function(){return this.eN.jg}},{key:"wu",get:function(){return this.sN}},{key:"Qg",get:function(){return this.uN}},{key:"Mm",get:function(){}},{key:"_y",get:function(){return this.eN._y}},{key:"pm",get:function(){return Nr({},{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.eN.JN())}},{key:"Zg",get:function(){return this.eN.Zg},set:function(t){this.eN.Zg=t}},{key:"Sy",get:function(){return!0}},{key:"Kg",get:function(){return this.eN.Kg}},{key:"Jg",get:function(){return this.eN.Jg},set:function(t){this.eN.Jg=t}},{key:"Ey",get:function(){return this.eN.DN.played}},{key:"Iy",get:function(){return this.oN},set:function(t){this.oN=t,this.rN&&(this.rN.Iy=t)}},{key:"rg",get:function(){return this.eN.rg}},{key:"Ry",get:function(){return this.eN.Ry.ZN()}},{key:"$g",get:function(){return this.eN.$g}},{key:"$N",get:function(){return this.eN.$N}},{key:"Lm",get:function(){return this.Dm}},{key:"xm",get:function(){return this.Nm}},{key:"tm",get:function(){return this.eN.tm}},{key:"nm",get:function(){return this.eN.nm}},{key:"im",get:function(){return this.eN.im},set:function(t){this.eN.im=t}},{key:"Ny",get:function(){return this.lN}},{key:"Dy",get:function(){return this.eN.Dy},set:function(t){this.eN.Dy=t}},{key:"tD",get:function(){return this.vN}}]),i}(Dm);var XS=function(){function t(){this.nD=SS.LR}var n=t.prototype;return n.EI=function(t,n,i,e,r,s){return new US(t,n,i,e,r)},n.iD=function(t,n){return function(t){return!t.type||!(!MS().canPlayType||!MS().canPlayType(t.type))}(t)},n.eD=function(){return!1},t}();function FS(t,n){for(var i=0,e=t.R_;i<e.length;i++){var r=e[i];if(r.Hy===n)return r}}var HS=function(){function t(){this.rD=new XS,this.sD=[]}t.uD=function(){return this.Gn};var n=t.prototype;return n.oD=function(t){this.sD.push(t)},n.EI=function(t,n,i,e,r,s){for(var u=this.rD.EI(t,n,i,e,r,s),o=0,a=this.sD;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.iD=function(t,n){return this.rD.iD(t,n)},n.eD=function(){return!1},A(t,[{key:"nD",get:function(){return this.rD.nD}}]),t}();function zS(t,n){return Ds(t.nD,n.nD)}function VS(t){WS.Gn.aD(t)}HS.Gn=new HS;var WS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cD=HS.uD(),n}S(n,t);var i=n.prototype;return i.hD=function(t){this.cD=t},i.fD=function(){return this.cD},i.vD=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Rr.awrap(this.lD(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{dD:e,wD:r});case 8:i++,a.next=1;break;case 11:s=this.cD,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.iD(o,n)){a.next=17;break}return a.abrupt("return",{dD:o,wD:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{dD:t[0],wD:s});case 21:case"end":return a.stop()}},null,this,null,Ve)},n}(function(){function t(){this._D=[]}var n=t.prototype;return n.aD=function(t){this._D.push(t),this._D.sort(zS)},n.lD=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this._D;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Y(s=r.iD(t,n))){u.next=10;break}return u.next=7,Rr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,Ve)},t}());WS.Gn=new WS;var GS,qS=function(){function t(t){this.gD=void 0,this.gD=ve&&ve.document&&ve.document.createElement("div"),ir(this.gD),t.appendChild(this.gD)}return t.prototype.Bd=function(){Je(this.gD)},t}();function YS(t){switch(t){case GS.mD:case"":return GS.mD;case GS.rA:return GS.rA;case GS.yD:default:return GS.yD}}!function(t){t.LR="",t.yD="none",t.rA="metadata",t.mD="auto"}(GS||(GS={}));var jS=[bm.Q_,bf.wf,bf._u,bf.zf,bf.ef,bf.gf,bf.pf,bf.Af,bf.Bf,bf.xf,ey.Fg,ey.Hg,ey.zg,ey.Vg,ey.l_,ey.Wg,ey.Gg,bf.cf,bf.hf,bf.df,bf._f,bf.yf,bf.kf,bf.Sf,bf.Ef,bf.Tf,bf.If,bf.Nf,bf.Cf,bf.Df,bf.Uf,bf.Xf,bf.Rf,bf.bf,bf.Pf],QS=function(t){function n(n,i){var e;return(e=t.call(this)||this).kD=void 0,e.bD=void 0,e.pD=void 0,e.TD=void 0,e.oN=GS.yD,e.SD=void 0,e.ED=!0,e.Rm=new pm,e.Nm=new pm,e.Dm=new Nm,e.Cm=new zy,e.kD=n,e.pD=i,e.pD.Iy=e.Iy,e.RD(),e}S(n,t);var i=n.prototype;return i.Xm=function(){this.pD.Xm()},i.Um=function(){var t=this.pD.Um();Y(t)&&ou(t)},i.Fm=function(){return this.zm(void 0)},i.qm=function(){},i.iy=function(t){return!1},i.RD=function(){this.Rm.x_=this.pD.Om,this.Nm.x_=this.pD.xm,this.Dm.x_=this.pD.Lm,this.Cm.x_=this.pD.Mm,this.pD.js(jS,this.qs)},i.ND=function(){this.pD.Js(jS,this.qs),this.Rm.x_=void 0,this.Nm.x_=void 0,this.Dm.x_=void 0,this.Cm.x_=void 0},i.Hm=function(){return this.SD},i.zm=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if($s(n),this.SD=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!Km(i=t.sources.filter(iy))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Rr.awrap(this.kD.vD(i,t));case 9:if(e=a.sent,$s(n),r=e.dD,s=e.wD,u=this.Jm(),o=Sy(this),this.bD===s&&!this.wu){a.next=25;break}return this.ND(),a.next=19,Rr.awrap(this.pD.Bd());case 19:$s(n),this.bD=s,this.pD=this.DD(s),ZS(this.pD,o),Ey(this,o,this),this.RD();case 25:return this.pD.Iy=this.Iy,this.ED?this.pD.Qm():this.pD.Zm(),a.next=29,Rr.awrap(this.pD.zm(r,t,n));case 29:$s(n),this.CD(r),this.Jm()!==u&&this.Ys(new Pm);case 32:case"end":return a.stop()}},null,this,null,Ve)},i.CD=function(t){this.TD!==t&&(this.TD=t,this.Ys(new Bm(t)))},i.Vm=function(){return this.pD.Vm()},i.Wm=function(){this.pD.Wm()},i.Gm=function(){this.pD.Gm()},i.Jm=function(){return this.pD.Jm()},i.oy=function(){this.pD.oy()},i.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SD=void 0,this.CD(void 0),t.next=4,Rr.awrap(this.pD.I_());case 4:case"end":return t.stop()}},null,this,null,Ve)},i.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,Rr.awrap(this.I_());case 3:return t.next=5,Rr.awrap(this.pD.Bd());case 5:this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),this.Cm.Bd();case 9:case"end":return t.stop()}},null,this,null,Ve)},i.Qm=function(){this.ED=!0,this.pD.Qm()},i.Zm=function(){this.ED=!1,this.pD.Zm()},A(n,[{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.pD.vy}},{key:"wu",get:function(){return this.pD.wu}},{key:"Qg",get:function(){return this.pD.Qg}},{key:"ly",get:function(){return this.pD.ly},set:function(t){this.pD.ly=t}},{key:"uy",get:function(){return this.TD}},{key:"qg",get:function(){return this.pD.qg},set:function(t){this.pD.qg=t}},{key:"Yg",get:function(){return this.pD.Yg}},{key:"jg",get:function(){return this.pD.jg}},{key:"Mm",get:function(){return this.Cm}},{key:"_y",get:function(){return this.pD._y}},{key:"pm",get:function(){return this.pD.pm}},{key:"Zg",get:function(){return this.pD.Zg},set:function(t){this.pD.Zg=t}},{key:"Sy",get:function(){return this.pD.Sy}},{key:"Kg",get:function(){return this.pD.Kg}},{key:"Jg",get:function(){return this.pD.Jg},set:function(t){this.pD.Jg=t}},{key:"Ey",get:function(){return this.pD.Ey}},{key:"Iy",get:function(){return this.oN},set:function(t){this.oN=t,this.pD&&(this.pD.Iy=this.oN)}},{key:"rg",get:function(){return this.pD.rg}},{key:"Ry",get:function(){return this.pD.Ry}},{key:"$g",get:function(){return this.pD.$g}},{key:"Lm",get:function(){return this.Dm}},{key:"tm",get:function(){return this.pD.tm}},{key:"xm",get:function(){return this.Nm}},{key:"nm",get:function(){return this.pD.nm}},{key:"im",get:function(){return this.pD.im},set:function(t){this.pD.im=t}},{key:"Ny",get:function(){return this.pD.Ny}},{key:"tD",get:function(){return this.pD.tD}}]),n}(lu);function ZS(t,n){t.Zg!==n.Zg&&(t.Zg=n.Zg),t.im!==n.im&&(t.im=n.im),t.Jg!==n.Jg&&(t.Jg=n.Jg)}var KS,JS=function(t){function n(n,i){var e;return(e=t.call(this)||this).N_=void 0,e.PD=void 0,e.BD=void 0,e.N_=n.length>>1,e.PD=n,e.BD=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.N_),e}S(n,t);var i=n.prototype;return i.OD=function(t){return this.PD[2*t]},i.xD=function(t){return this.BD[2*t]},i.LD=function(t){return this.PD[2*t+1]},i.MD=function(t){return this.BD[2*t+1]},A(n,[{key:"UD",get:function(){return this.PD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.pk=function(t,n){return 0===this.xk(t,n)},n.wb=function(t,n){return this.xk(t,n)>0},n._b=function(t,n){return this.xk(t,n)>=0},n.Fk=function(t,n){return this.xk(t,n)<0},n.Uk=function(t,n){return this.xk(t,n)<=0},n.xb=function(t,n){return this.Fk(t,n)?t:n},n.Ob=function(t,n){return this.wb(t,n)?t:n},n.XD=function(t,n,i){return i?this.Uk(t,n):this.Fk(t,n)},n.ZN=function(){var t=this;return{get length(){return t.N_},start:function(n){var i=0|n;return t.FD(i),t.HD(t.OD(i))},end:function(n){var i=0|n;return t.FD(i),t.HD(t.LD(i))}}},n.zD=function(){for(var t=new Array(2*this.N_),n=new Array(2*this.N_),i=0;i<this.N_;i++)t[2*i]=this.OD(i),t[2*i+1]=this.LD(i),n[2*i]=!0,n[2*i+1]=!0;return this.VD(t,n)},n.FD=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.N_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.N_+")")},n.WD=function(t){if(0===this.N_)return this.GD();if(this.QN(t))return t;if(this.Uk(t,this.OD(0)))return this.OD(0);if(this._b(t,this.LD(this.N_-1)))return this.LD(this.N_-1);for(var n,i=this.qD(),e=0;e<this.N_;e++){var r=this.OD(e),s=this.Xk(r,t);this.Fk(s,i)&&(n=r,i=s);var u=this.LD(e),o=this.Xk(this.LD(e),t);this.Fk(o,i)&&(n=u,i=o)}return n},n.YD=function(t){for(var n=0,i=0,e=[],r=[];n<this.N_&&i<t.N_;){var s=this.OD(n),u=this.LD(n),o=this.xD(n),a=this.MD(n),c=t.OD(i),h=t.LD(i),f=t.xD(i),v=t.MD(i),l=this.Ob(s,c),d=this.xb(u,h),w=void 0;w=this.pk(s,c)?o&&f:this.pk(l,s)?o:f;var _=void 0;_=this.pk(u,h)?a&&v:this.pk(d,u)?a:v,(this.Fk(l,d)||w&&_&&this.pk(l,d))&&(e.push(l,d),r.push(w,_));var g=this.xk(this.LD(n),t.LD(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.VD(e,r)},n.jD=function(){var t=this.QD(),n=t.N_;if(0===n)return this.VD([t.ZD(),t.qD()],[!1,!1]);var i=[],e=[],r=t.OD(0);t.pk(r,t.ZD())||(i.push(t.ZD(),r),e.push(!1,!t.xD(0)));for(var s=0;s<n-1;s++)i.push(t.LD(s),t.OD(s+1)),e.push(!t.MD(s),!t.xD(s+1));var u=t.LD(n-1);return t.pk(u,t.qD())||(i.push(u,t.qD()),e.push(!t.MD(n-1),!1)),t.VD(i,e)},n.KD=function(t){for(var n=0,i=0,e=this.N_,r=t.N_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.OD(n),c=this.LD(n),h=t.OD(i),f=t.LD(i);this.Fk(a,h)||this.pk(a,h)&&this.Fk(c,f)?(s[o]=a,s[o+1]=c,u[o]=this.xD(n),u[o+1]=this.MD(n),n++):(s[o]=h,s[o+1]=f,u[o]=t.xD(i),u[o+1]=t.MD(i),i++),o+=2}for(;n<e;)s[o]=this.OD(n),s[o+1]=this.LD(n),u[o]=this.xD(n),u[o+1]=this.MD(n),n++,o+=2;for(;i<r;)s[o]=t.OD(i),s[o+1]=t.LD(i),u[o]=t.xD(i),u[o+1]=t.MD(i),i++,o+=2;return this.VD(s,u)},n.JD=function(t){void 0===t&&(t=this.GD());var n=this.N_;if(n<2)return this;for(var i=[],e=[],r=this.OD(0),s=this.LD(0),u=this.xD(0),o=this.MD(0),a=1;a<n;a++){var c=this.OD(a),h=this.LD(a),f=this.xD(a),v=this.MD(a);this.Fk(r,c)&&this.wb(s,h)||(this.pk(r,c)&&(u=f=u||f),this.pk(s,h)&&(o=v=o||v),this.XD(c,this.Py(s,t),o||f)?(s=h,o=v):(i.push(r,s),e.push(u,o),r=c,s=h,u=f,o=v))}return i.push(r,s),e.push(u,o),this.VD(i,e).QD()},n.QD=function(){for(var t=[],n=[],i=0;i<this.N_;i++){var e=this.OD(i),r=this.LD(i),s=this.xD(i),u=this.MD(i);this.pk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.VD(t,n)},n.$D=function(t){return this.N_?t.N_?this.KD(t).JD():this:t},n.tC=function(t){var n=this.QD(),i=t.QD(),e=n.jD(),r=i.jD(),s=e.YD(i),u=r.YD(n);return s.$D(u)},n.Cu=function(t){if(this.pk(t,this.GD()))return this;for(var n=[],i=[],e=0;e<this.N_;e++){var r=this.Py(this.OD(e),t),s=this.Py(this.LD(e),t);n.push(r,s),i.push(this.xD(e),this.MD(e))}return this.VD(n,i)},n.nC=function(t){return 0===this.N_||0===t.N_?this:this.QD().YD(t.QD().jD())},n.QN=function(t,n){return this.iC(t,n)>=0},n.eC=function(t,n,i,e,r){return this.rC(t,n,i,e,r)>=0},n.sC=function(t,n,i,e,r){return this.uC(t,n,i,e,r)>=0},n.oC=function(t){if(t.N_!==this.N_)return!1;for(var n=0;n<this.N_;n++)if(!this.pk(this.OD(n),t.OD(n))||!this.pk(this.LD(n),t.LD(n))||this.xD(n)!==t.xD(n)||this.MD(n)!==t.MD(n))return!1;return!0},n.aC=function(t){for(var n=[],i=[],e=0;e<this.N_;e++){var r=this.OD(e),s=this.LD(e),u=this.xD(e),o=this.MD(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.VD(n,i)},n.uC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.GD());for(var s=this.Wk(t,r),u=this.Py(n,r),o=0;o<this.N_;o+=1)if(this.XD(this.OD(o),u,!e||this.xD(o))&&this.XD(s,this.LD(o),!i||this.MD(o)))return o;return-1},n.rC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.GD());for(var s=this.Py(t,r),u=this.Wk(n,r),o=0;o<this.N_;o+=1)if(this.XD(this.OD(o),s,!i||this.xD(o))&&this.XD(u,this.LD(o),!e||this.MD(o)))return o;return-1},n.iC=function(t,n){return this.rC(t,t,!0,!0,n)},n.cC=function(t,n){void 0===n&&(n=this.GD());for(var i=this.Py(t,n),e=this.N_-1;e>=0;e-=1)if(this.XD(this.OD(e),i,this.xD(e)))return e;return-1},n.hC=function(t,n){void 0===n&&(n=this.GD());for(var i=this.Wk(t,n),e=0;e<this.N_;e+=1)if(this.XD(i,this.LD(e),this.MD(e)))return e;return-1},n.fC=function(t){return this.FD(t),this.VD([this.OD(t),this.LD(t)],[this.xD(t),this.MD(t)])},n.vC=function(t,n){var i=this.iC(t,n);return i<0?void 0:this.fC(i)},A(t,[{key:"lC",get:function(){for(var t=this.GD(),n=0;n<this.N_;n++){var i=this.Wk(this.LD(n),this.OD(n));t=this.Py(t,i)}return t}}]),t}()),$S=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.xk=function(t,n){return t<n?Ts.Is:t===n?Ts.Ss:Ts.Es},i.Py=function(t,n){return t+n},i.Wk=function(t,n){return t-n},i.Xk=function(t,n){return w.abs(t-n)},i.GD=function(){return 0},i.qD=function(){return 1/0},i.ZD=function(){return-1/0},n.dC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.wC=function(t){for(var i=[],e=[],r=0;r<t.N_;r++)i.push(t.OD(r).Ub),i.push(t.LD(r).Ub),e.push(t.xD(r)),e.push(t.MD(r));return new n(i,e)},n._C=function(t){return new n([t,t],[!0,!0])},i.VD=function(t,i){return new n(t,i)},i.HD=function(t){return t},n.gC=function(){return tE},n}(JS),tE=new $S([]);!function(t){t.f_="fullscreenchange",t.mC="fullscreensupportchange",t.Q_="fullscreenerror"}(KS||(KS={}));var nE=function(t){function n(){return t.call(this,KS.Q_)||this}return S(n,t),n}(wu),iE=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qy=function(){this.Ys(new nE)},i.jy=function(){},i.Bd=function(){this.Ks()},A(n,[{key:"yC",get:function(){return!1}},{key:"kC",get:function(){return!1}}]),n}(lu)),eE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).iN=void 0,n.eN=void 0,n}S(n,t);var i=n.prototype;return i.Km=function(){var t;return null==(t=this.eN)?void 0:t.DN},i.Bd=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.prototype.Bd.call(this));case 2:if(!this.eN){n.next=6;break}return n.next=5,Rr.awrap(this.iN.YN(this.eN));case 5:this.eN=void 0;case 6:case"end":return n.stop()}},null,this,null,Ve)},A(n,[{key:"bC",set:function(t){this.iN=t,this.eN=t.NN(jy.Td)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).pC=0,n.AC=!1,n.TC=!0,n.SC=1,n.EC=!1,n.Ia=1,n.Om=new Qy,n.vy=$S.gC().ZN(),n.Yg=NaN,n.jg=!1,n.wu=void 0,n.Qg=void 0,n.Mm=void 0,n._y=!1,n.Sy=!0,n.Ey=$S.gC().ZN(),n.Iy=GS.yD,n.rg=Fm.xg,n.Ry=$S.gC().ZN(),n.$N=void 0,n.Lm=new bp,n.tm=0,n.xm=new Qy,n.nm=0,n.Ny=new LS,n.vN=new DS,n}S(n,t);var i=n.prototype;return i.Qm=function(){},i.Zm=function(){},i.Um=function(){this.TC&&(this.TC=!1,this.Ys(new uy(this.qg)),this.Ys(new sA(this.qg)))},i.Xm=function(){this.TC||(this.TC=!0,this.Ys(new ly(this.qg,this.ly)),this.Ys(new sy(this.qg)))},i.zm=function(t,n){return Ve.resolve()},i.Vm=function(){return!1},i.Wm=function(){},i.Gm=function(){},i.Jm=function(){return iE},i.oy=function(){},i.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.pC=0,this.EC=!1,this.Xm(),this.Ys(new ry(this.pC));case 4:case"end":return t.stop()}},null,this,null,Ve)},i.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ks(),this.Om.Bd(),this.Lm.Bd(),this.xm.Bd();case 4:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"ly",get:function(){},set:function(t){}},{key:"qg",get:function(){return this.pC},set:function(t){this.pC!==t&&(this.pC=t,this.EC=!0,this.Ys(new _y(this.qg)))}},{key:"pm",get:function(){return{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Zg",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.AC=t,this.Ys(new my(this.qg,this.im)))}},{key:"Kg",get:function(){return this.TC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.Ys(new vy(this.qg,this.Jg)))}},{key:"$g",get:function(){return this.EC}},{key:"im",get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t,this.Ys(new my(this.qg,this.im)))}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"tD",get:function(){return this.vN}}]),n}(lu)),rE=function(t){function n(n,i,e,r,s,u){var o,a=new eE;return(o=t.call(this,WS.Gn,a)||this).Rh=void 0,o.IC=void 0,o.RC=void 0,o.NC=void 0,o.kE=void 0,o.DC=void 0,o.BC=void 0,o.RC=n,o.Rh=i,o.kE=e,o.DC=r,o.NC=u,o.IC=new ce(s,o.NC),o.IC.OC(o.RC),a.bC=o.IC,o.BC=new qS(o.RC),o}S(n,t);var i=n.prototype;return i.qm=function(){t.prototype.qm.call(this),this.IC.xC()},i.Ym=function(t){var n,i,e,r;n=this,e=(i=t).im,r=i.Zg,n.im=e,n.Zg=r},i.jm=function(){},i.DD=function(t){return t.EI(this.RC,this.IC,this.kE,this.Rh,this.DC,this.NC)},i.Km=function(){return this.pD.Km()},i.$m=function(){return this.IC.LC.map(function(t){return t.DN})},i.Zs=function(n){t.prototype.Zs.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},i.Bd=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.prototype.Bd.call(this));case 2:this.IC.Bd(),this.BC.Bd();case 4:case"end":return n.stop()}},null,this,null,Ve)},A(n,[{key:"wy",get:function(){return this.RC}},{key:"Dy",get:function(){return this.pD.Dy},set:function(t){this.pD.Dy=t}}]),n}(QS),sE=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).RC=void 0,r.MC=void 0,r.UC=void 0,r.XC=void 0,r.FC=void 0,r.lN=new LS,r.RC=n,r.MC=i,r.XC=new Qy,r.FC=new bp,r.UC=e,r}S(n,t);var i=n.prototype;return i.iy=function(t){return!0},i.Zm=function(){},i.Um=function(){throw this.Ys(new py(this.UC)),this.MC},i.Xm=function(){},i.Hm=function(){},i.zm=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw $s(n),this.Ys(new py(this.UC)),this.MC;case 3:case"end":return t.stop()}},null,this,null,Ve)},i.Qm=function(){},i.Fm=function(){return Ve.resolve()},i.Km=function(){},i.Jm=function(){return iE},i.$m=function(){return[]},i.qm=function(){},i.Ym=function(t){},i.jm=function(){},i.Vm=function(){return!1},i.Wm=function(){},i.Gm=function(){},i.oy=function(){},i.I_=function(){return Ve.resolve()},i.Bd=function(){return this.Ks(),this.XC.Bd(),this.FC.Bd(),Ve.resolve()},A(n,[{key:"Om",get:function(){return this.XC}},{key:"vy",get:function(){return $S.gC().ZN()}},{key:"ly",get:function(){return new Date(NaN)},set:function(t){}},{key:"uy",get:function(){}},{key:"qg",get:function(){return 0},set:function(t){}},{key:"Yg",get:function(){return 0}},{key:"wy",get:function(){return this.RC}},{key:"jg",get:function(){return!0}},{key:"wu",get:function(){return this.MC}},{key:"Qg",get:function(){return this.UC}},{key:"Mm",get:function(){}},{key:"pm",get:function(){return{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Zg",get:function(){return!1},set:function(t){}},{key:"Sy",get:function(){return!0}},{key:"Kg",get:function(){return!0}},{key:"Jg",get:function(){return 0},set:function(t){}},{key:"Ey",get:function(){return $S.gC().ZN()}},{key:"Iy",get:function(){return GS.yD},set:function(t){}},{key:"rg",get:function(){return Fm.xg}},{key:"Ry",get:function(){return $S.gC().ZN()}},{key:"$g",get:function(){return!1}},{key:"Lm",get:function(){return this.FC}},{key:"tm",get:function(){return 0}},{key:"xm",get:function(){return this.XC}},{key:"nm",get:function(){return 0}},{key:"im",get:function(){return 1},set:function(t){}},{key:"Ny",get:function(){return this.lN}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"_y",get:function(){return!1}}]),n}(Cm);function uE(t){if(t&&V(t))return Nr({},t,{integration:oE(t.integration),fairplay:lE(t.fairplay),widevine:aE(t.widevine),playready:cE(t.playready),clearkey:dE(t.clearkey),aes128:wE(t.aes128),integrationParameters:_E(t.integrationParameters),preferredKeySystems:gE(t.preferredKeySystems)})}function oE(t){if(G(t))return t}function aE(t){if(t&&V(t))return{persistentState:hE(t.persistentState),distinctiveIdentifier:hE(t.distinctiveIdentifier),audioRobustness:fE(t.audioRobustness),videoRobustness:fE(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:vE(t.licenseType),headers:t.headers,useCredentials:!!q(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||Mo(t.certificate)?t.certificate:void 0}}function cE(t){if(t){var n=aE(t);if(n)return Nr({},n,{customData:G(t.customData)?t.customData:void 0})}}function hE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function fE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function vE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function lE(t){if(t){var n=aE(t);if(n)return Nr({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function dE(t){if(t){var n=aE(t);if(n)return Nr({},n,{keys:H(t.keys)?t.keys.map(function(t){return function(t){if(!t||!V(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(X):void 0})}}function wE(t){if(V(t))return{useCredentials:q(t.useCredentials)?t.useCredentials:void 0}}function _E(t){if(V(t))return t}function gE(t){return t&&H(t)?t.map(function(t){return iT(t)}).filter(X):[Zr,Yr,ts]}var mE,yE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(wu),kE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).HC=[],e.zC=void 0,e.VC=function(t){uu(function(){e.qs(t)})},e.zC=i?e.VC:e.qs,e}S(n,t);var i=n.prototype;return i.WC=function(t){t.Zs(this.zC),this.HC.push(t)},i.GC=function(t){t.nu(this.zC),Ms(this.HC,t)},i.Bd=function(){this.Ks();for(var t=0,n=this.HC;t<n.length;t++){n[t].nu(this.zC)}Hs(this.HC)},n}(Dm),bE=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(kE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(mE||(mE={}));var pE,AE=function(t){function i(n){var i;return(i=t.call(this)||this).qC=void 0,i.YC=void 0,i.jC=!1,i.QC=!1,i.ZC=void 0,i.KC=void 0,i.JC=void 0,i.Kw=void 0,i.$C=function(){return i.tP()},i.nP=function(){return i.iP()},i.JC=n,i.qC=i.YC=i.ZC=i.KC=mE.INLINE,i.JC.js(KS.f_,i.$C),i.JC.js(KS.Q_,i.nP),i.eP(),i}S(i,t);var e=i.prototype;return e.$w=function(){return t=this,i={get currentMode(){return t.rP()},requestMode:function(n){var i=SE(n);i&&t.sP(i)},supportsMode:function(n){var i=SE(n);return!!i&&t.uP(i)},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},(n=new kE(i,!0)).WC(t),i;var t,n,i},e.sP=function(t){this.oP(t,t)},e.oP=function(t,n){this.YC!==n&&(this.jC=!0,this.qC=t,this.aP(n,this.YC),t!==mE.FULLSCREEN&&(this.ZC=t),this.jC=!1,this.eP())},e.rP=function(){return this.QC?mE.FULLSCREEN:mE.INLINE},e.uP=function(t){switch(t){case mE.FULLSCREEN:return this.JC.kC;case mE.INLINE:return!0}return!1},e.eP=function(){if(!this.jC){var t=this.YC,n=this.rP();this.YC=n,n!==mE.FULLSCREEN&&(this.KC=n),t!==n&&this.Ys(new yE(n))}},e.aP=function(t,n){var i=t===mE.FULLSCREEN;this.QC=i,i!==this.JC.yC&&(i?this.JC.qy():this.JC.jy())},e.tP=function(){if(!this.jC){var t=this.JC.yC;this.QC=t,t?this.oP(mE.FULLSCREEN,mE.FULLSCREEN):t||this.qC!==mE.FULLSCREEN?this.eP():this.oP(this.ZC,this.KC)}},e.iP=function(){this.tP(),this.Ys(new py(new tf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Bd=function(){this.JC.Bd(),this.Ks()},A(i,[{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),i}(Dm),TE={qg:0,Yg:NaN,jg:!1,wu:void 0,Qg:void 0,Zg:!1,Kg:!0,Jg:1,rg:Fm.xg,$g:!1,tm:0,nm:0,im:1};function SE(t){switch(t){case mE.INLINE:case mE.FULLSCREEN:case mE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(pE||(pE={}));var EE,IE,RE,NE,DE,CE,PE,BE,OE=function(){function t(){this.cP=[]}var n=t.prototype;return n.hP=function(t){var n=this.fP.filter(function(n){return n.vP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.lP=function(t){this.cP.push(t)},A(t,[{key:"fP",get:function(){return this.cP}}]),t}();OE.Gn=new OE,function(t){t.Gg="PLAYING",t.Tm="PAUSED",t.dP="SEEK",t.wP="STALLED",t._P="FAILED",t.gP="INITIAL_BUFFERING",t.mP="NO_ACCESS"}(EE||(EE={})),function(t){t.yP="HTTP_REQUEST_STATUS_CODE_1XX",t.kP="HTTP_REQUEST_STATUS_CODE_2XX",t.bP="HTTP_REQUEST_STATUS_CODE_3XX",t.pP="HTTP_REQUEST_STATUS_CODE_4XX",t.AP="HTTP_REQUEST_STATUS_CODE_5XX",t.TP="BUFFER_LENGTH",t.SP="BYTES_RECEIVED",t.EP="SEGMENT_READ_BITRATE",t.IP="SEGMENT_PROFILE_BITRATE",t.RP="NUMBER_OF_FRAMES_DROPPED",t.NP="PLAYBACK_POSITION",t.DP="NUMBER_OF_FRAMES_DECODED",t.CP="PLAYBACK_DELTA_TO_ORIGIN",t.PP="STREAM_DELTA_TO_ORIGIN",t.BP="ORIGIN_TIMESTAMP"}(IE||(IE={})),function(t){t.OP="MANIFEST_URI",t.xP="ASSET_DURATION",t.LP="NUMBER_OF_CONTENT_PROFILES",t.MP="CDN",t.UP="CONTENT_TITLE",t.XP="SERVICE_NAME",t.FP="CONTENT_TYPE",t.HP="CONTENT_DESCRIPTION"}(RE||(RE={})),function(t){t.zP="shutdown_normal_shutdown"}(NE||(NE={})),function(t){t.VP="session/",t.WP="internalError/",t.GP="drmError/",t.qP="caError/",t.YP="networkError/"}(DE||(DE={})),function(t){t.jP="userAction",t.QP="endOfStreamReached"}(CE||(CE={})),function(t){t.PAUSE="ZP",t.RESUME="KP"}(PE||(PE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(BE||(BE={}));var xE,LE,ME,UE,XE,FE="agama";function HE(t){return function(t){switch(t){case xE.NONE:case xE.HORIZONTAL:case xE.VERTICAL:return!0;default:return!1}}(t)?t:xE.NONE}function zE(t){switch(t){case"":return xE.NONE;case"horizontal":return xE.HORIZONTAL;case"vertical":return xE.VERTICAL;default:throw new l}}function VE(t){if(!t||!G(t))return LE.mD;switch(t){case"always":return LE.JP;case"never":return LE.$P;default:return LE.mD}}function WE(t){if(!t||!G(t))return ME.mD;switch(t){case"playlist":return ME.tB;case"media":return ME.nB;default:return ME.mD}}function GE(t,n){return t.length>0?t:n.length>0?n:void 0}function qE(t){if(null!==t)return t}function YE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:qE(t.streamActivityMonitorID),adTagParameters:V(t.adTagParameters)?t.adTagParameters:{},authToken:qE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.wr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.wr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.wr("A Live DAI configuration was provided without valid assetKey which is required.")}i.wr("A DAI configuration was provided without a valid availabilityType which is required.")}function jE(t){if(!jA(t)||!t.integration)return t;switch(t.integration){case _A:return n=t,i=nT(Hr.Kr,n),e=nT(Hr.Zr,n),r=n[Hr.$r]&&nT(Hr.$r,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(xE||(xE={})),function(t){t.mD="auto",t.JP="always",t.$P="never"}(LE||(LE={})),function(t){t.mD="auto",t.tB="playlist",t.nB="media"}(ME||(ME={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(UE||(UE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(XE||(XE={}));var QE="https://content.uplynk.com";function ZE(t){if(!t)return!0;var n,i,e=!(Zm(n=t.sources)||z(n)&&Zm(n[0]))||Km(t.sources),r=!t.ads||(!(i=t.ads)||H(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function KE(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(Qm(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function JE(t,n,i){return Ym(t)?function(t,n,i){var e=Nr({},Jm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:UE.VERIZON_MEDIA,id:"",prefix:QE,preplayParameters:{},playbackUrlParameters:{},assetType:XE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:z(r)&&G(r[0])?r:V(s=r)&&G(s.userId)&&(z(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return XE.CHANNEL;case"event":return XE.EVENT;case"asset":default:return XE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=am(t.contentProtected));t.assetInfo?e.assetInfo=am(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=fm(t.prefix)||QE);return e.ping=(u=e.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!q(o.adImpressions)&&o.adImpressions,c=!!q(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=q(o.linearAdData)?o.linearAdData:u!==XE.ASSET):u!==XE.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),e=tI(e=nI(e=$E(e,t),n,i),t,i);var u,o,a,c,h}(t,n,i):function(t,n,i){var e=$m(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=Vm(t),r){var s=uE(r);e.contentProtection=jE(s)}}else if(Qm(t)||qm(t)){e.src=t.src,e.type=t.type||Vm(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Mm.Bg||t.type===Mm.Og}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=V(h=t)&&G(h.integration)&&"mediatailor"===h.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,c=uE(a);e.contentProtection=jE(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return YE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=$E(e,t)}var h;return e=tI(e=nI(e,n,i),t,i)}(t,n,i)}function $E(t,n){var i;n.useCredentials?t.crossOrigin=Lm.Pg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Lm.Cg:case Lm.Pg:return t;default:return Lm.Dg}}(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=am(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=am(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:VE(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:WE(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,X(n)?Boolean(n):void 0)};var n}(n.hls)),n.lcevc&&(t.lcevc=am(n.lcevc));var e=void 0!==n.experimentalRendering?am(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?am(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function tI(t,n,i){return t.abr=function(t,n){var i=vm(null==t?void 0:t.preferredAudioCodecs,fm),e=vm(null==t?void 0:t.preferredVideoCodecs,fm),r=vm(null==n?void 0:n.preferredAudioCodecs,fm),s=vm(null==n?void 0:n.preferredVideoCodecs,fm),u=GE(i,r),o=GE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function nI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!X(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!X(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Lm.Dg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Lm.Cg),t.useCredentials=t.crossOrigin===Lm.Pg,G(r)&&!t.timeServer&&(t.timeServer=r),t}function iI(t){var n={src:""};if(t&&t.src){if(n.src=fm(t.src),"default"in t&&(n.default=am(t.default)),n.kind=Ap(t.kind),function(t){switch(t){case hk.DEFAULT:case hk.SRT:case hk.TTML:case hk.WEBVTT:case hk.EMSG:case hk.EVENT_STREAM:case hk.ID3:case hk.CEA608:case hk.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function eI(t,n){if(W(t))try{return n.hP(t).iB(t)}catch(t){return}}function rI(t){return G(t.sources)&&""!==t.sources||V(t.sources)&&G(t.sources.src)}function sI(t){return t.integration===pE.SPOTX&&!m(t.id)}function uI(t){return"freewheel"===t.integration}function oI(t,n,i){if(void 0===i&&(i=OE.Gn),ZE(t))return{sources:[$m()]};var e=rm(t);if(e.sources=function(t,n,i){if(Zm(t))return[JE(t,n,i)];if(z(t)&&Zm(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(JE(s,n,i))}return e}return[$m()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=eI(s,n))&&(rI(s)||sI(s)||uI(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!Km(e.sources),c=e.ads&&e.ads.length>0;if(a&&!c?delete e.ads:c&&!a&&(e.sources=[]),"textTracks"in e){var h=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=iI(r)).src&&n.push(r)}return n}(e.textTracks);0===h.length?delete e.textTracks:e.textTracks=h}if("poster"in e&&(e.poster=fm(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=HE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?zE(u.stereoMode):xE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=ny(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=rm(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==FE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Ay(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=cm(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var aI=function(){function t(t){this.eB=t}return t.prototype.rB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.eB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.eB.indexOf(t.charAt(n))<<18|this.eB.indexOf(t.charAt(n+1))<<12|(s=this.eB.indexOf(t.charAt(n+2)))<<6|(u=this.eB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.sB=function(t,n){var i,e,r,s,u,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.eB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,c[o/3]=this.eB.charAt(e)+this.eB.charAt(r)+this.eB.charAt(s)+this.eB.charAt(u);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.dp=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.uB=new t(t.dp.rB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function cI(t){return"string"==typeof t}function hI(t){return"number"==typeof t}var fI={}.toString;var vI,lI=Array.isArray||function(t){return"[object Array]"===fI.call(t)};function dI(t,n){return lI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(vI||(vI={}));var wI,_I=d.keys(vI).map(function(t){return vI[t]});function gI(t){return-1!==_I.indexOf(t)}function mI(t){try{var n=aI.uB.rB(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=cI(t.key),e=cI(t.customer_id),r=hI(t.generation_date),s=hI(t.expiration_date),u=dI(t.domains_page,cI),o=dI(t.domains_source,cI),a=dI(t.sdks,gI),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&e&&r&&s&&u&&o&&a&&c))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function yI(){return wI||(wI={ud:le.href,oB:ve.parent&&ve.parent!==r,aB:pI()}),wI}var kI,bI=["http:","https:","ftp:","ws:","wss:"];function pI(){try{return ve.top.location.href}catch(t){return ve&&ve.document&&ve.document.referrer}}!function(t){t[t.cB=0]="cB",t[t.hB=1]="hB",t[t.fB=2]="fB"}(kI||(kI={}));var AI,TI=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.vB=t,this.lB=n,this.dB=i,this.wB=e,this._B=r,this.gB=s,this.mB=u,this.yB=o};!function(t){t.hB="expired",t.kB="invaliddomain",t.bB="invalidsource",t.Q_="error"}(AI||(AI={}));var SI=function(){function t(t,n,i){this.pB=void 0,this.AB=t,this.TB=n,this.Yo=i,this.pB=CI(this.Yo)}var n=t.prototype;return n.SB=function(t,n){var i=this;if(!ZE(t)&&0!==n.dB.length&&!RI(n.dB)){var e=[];if(Zm(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.EB(t,n)})){var r=AI.bB,s=BI.IB(r);throw new tf(EI(r),s)}}},n.RB=function(n){return this.NB(n.mB)&&this.DB(n)?t.CB(n.wB)?kI.cB:kI.hB:kI.fB},n.NB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.PB(t)})},n.PB=function(t){return"ios"===function(t){switch(t){case vI.ANDROID:return e.g;case vI.ANDROIDTV:case vI.FIRETV:return e.I;case vI.IOS:return e.R;case vI.TVOS:return e.N;case vI.CHROMECAST:case vI.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.CB=function(t){var n=Number(new Date);return!!t&&n<=t},n.DB=function(t){return!(this.pB&&0!==t.lB.length&&!RI(t.lB))||!!(this.pB&&this.BB(t.lB)&&this.OB(t.lB))},n.BB=function(t){return NI(this.Yo.ud,t)},n.OB=function(t){if(!this.Yo.oB)return!0;if(this.AB)return!0;var n=this.xB();return!!n&&NI(n,t)},n.xB=function(){if(this.Yo.oB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Yo.aB?this.Yo.aB:void 0}},n.EB=function(n,i){return!!t.LB(n,i.dB)},t.LB=function(t,n){return NI(this.MB(t),n)},t.MB=function(t){return G(t)?t:Qm(t)&&t.src||""},t}();function EI(t){switch(t){case AI.kB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case AI.bB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case AI.hB:return n.ErrorCode.LICENSE_EXPIRED;case AI.Q_:return n.ErrorCode.LICENSE_ERROR}}function II(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),c=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function RI(t){return t.some(function(t){return"*"===t})}function NI(t,n){var e=i.Cr(t);if(!DI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(II(e.hostname,s))return!0;if(II(u_(t),s))return!0}return!1}function DI(t){return-1!==bI.indexOf(t.protocol)}function CI(t){var n=i.Cr(t.ud);return DI(n)&&!II(n.hostname,"localhost")&&!function(t){return II(t.hostname,"theoplayer.doubleclick.net")}(n)}var PI,BI=function(){function t(){}return t.IB=function(t){return t===AI.kB?this.UB:t===AI.bB?this.XB:t===AI.hB?this.FB:this.HB},t}();function OI(t){var n=[t.mS,t.zB,t.VB];switch(t.zB){case PI.WB:n.push(t.cg);break;case PI.GB:n.push(t.qg),n.push(t.wu);break;case PI.qB:n.push(t.wu)}return n}BI.HB="The license for this player is invalid.",BI.FB="The usage license for this video player has expired.",BI.UB="The current domain is incompatible with the license for this player.",BI.XB="The provided video source is incompatible with the license for this player.",function(t){t[t.WB=1]="WB",t[t.GB=4]="GB",t[t.qB=5]="qB"}(PI||(PI={}));for(var xI=new Array(256),LI=0;LI<256;LI+=1)xI[LI]=(LI<16?"0":"")+LI.toString(16);function MI(){var t=zt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return xI[255&n]+xI[n>>>8&255]+xI[n>>>16&255]+xI[n>>>24&255]+"-"+xI[255&i]+xI[i>>>8&255]+"-"+xI[i>>>16&15|64]+xI[i>>>24&255]+"-"+xI[63&e|128]+xI[e>>>8&255]+"-"+xI[e>>>16&255]+xI[e>>>24&255]+xI[255&r]+xI[r>>>8&255]+xI[r>>>16&255]+xI[r>>>24&255]}var UI=function(){function t(t){this.eB=void 0,this.eB=t}var n=t.prototype;return n.rB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.eB.indexOf(t.charAt(n))<<18|this.eB.indexOf(t.charAt(n+1))<<12|(s=this.eB.indexOf(t.charAt(n+2)))<<6|(u=this.eB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.sB=function(t){var n,i,e,r,s,u,o,a=[],c="";if((u=t.length%3)>0)for(;u++<3;)c+=this.eB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.eB.charAt(i)+this.eB.charAt(e)+this.eB.charAt(r)+this.eB.charAt(s);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function XI(){return i.Je()}UI.dp=new UI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),UI.uB=new UI(UI.dp.rB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var FI,HI="theoplayer-session-id";function zI(){if(!FI){var t=gf.Su(HI);t?FI=t:(FI=MI(),gf.nf(HI,FI))}return FI}var VI=/[^\x00-\x7E]/g;function WI(t){return"\\u"+_s(t.charCodeAt(0).toString(16),4,"0")}var GI=0,qI=1,YI=6e4;function jI(t){var n,i,e,r,s,u=(n=function(t){return[t.YB,t.Qc,t.vB,t.BA,t.jB,t.QB,t.ZB.map(OI)]}(t),i=[],e=n,r=function(t,n){if(V(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(VI,WI));return UI.uB.sB(u)}var QI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=UI.dp),void 0===r&&(r=GI),void 0===s&&(s=qI),this.KB=[],this.JB=null,this.$B=0,this.tO="unknown",this.Xa=0,this.nO=void 0,this.iO=function(){XI()-u.$B>YI&&u.De()},this.eO=function(){u.De(!0)},this.lc=t,this.kE=n,this.rO=i,this.sO=e,this.uO=r,this.oO=s,fe.aO(this.eO),this.nO=h(this.iO,YI)}var n=t.prototype;return n.cO=function(){return Boolean(this.jB)},n.hO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.rO.fO());case 2:if(i.sent.yB){i.next=5;break}return i.abrupt("return");case 5:return n={zB:PI.WB,VB:zt(),cg:t},i.next=8,Rr.awrap(this.vO(n));case 8:case"end":return i.stop()}},null,this,null,Ve)},n.lO=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={zB:PI.GB,VB:zt(),qg:n,wu:t},e.next=3,Rr.awrap(this.vO(i));case 3:case"end":return e.stop()}},null,this,null,Ve)},n.dO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={zB:PI.qB,VB:zt(),wu:t},i.next=3,Rr.awrap(this.vO(n));case 3:case"end":return i.stop()}},null,this,null,Ve)},n.vO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.rO.fO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.sO.sB(n.vB)){i.next=6;break}if(t.zB===PI.qB){i.next=6;break}return i.abrupt("return");case 6:if(t.zB===PI.WB?this.wO():this.cO()||this.wO(),t.mS=this.Xa++,this.KB.push(t),(e=t.zB)!==PI.WB&&e!==PI.qB){i.next=14;break}return i.next=12,Rr.awrap(this.De());case 12:i.next=19;break;case 14:if(!(this.KB.length>this.uO)){i.next=19;break}return i.next=17,Rr.awrap(this._O());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,Ve)},n.De=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.KB.length>0)){n.next=6;break}return n.next=4,Rr.awrap(this._O(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,Ve)},n.gO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.rO.fO());case 2:return n=i.sent,i.abrupt("return",{YB:zt(),Qc:zI(),vB:this.sO.sB(n.vB)||"dev",BA:this.lc,jB:this.JB,QB:this.tO,ZB:t});case 4:case"end":return i.stop()}},null,this,null,Ve)},n._O=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.KB.splice(0,this.oO),e.next=4,Rr.awrap(this.gO(n));case 4:i=e.sent,t?this.Pd(i):this.mO(i),this.$B=XI();case 7:case"end":return e.stop()}},null,this,null,Ve)},n.mO=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=jI(t),i=new Jw({ud:"https://license.theoplayer.com",Xl:n,Dd:!1,Jl:pf.Kn,Kl:{"Content-Type":xT.JI},Id:4e3,Ed:Yw.POST}),r.prev=2,r.next=5,Rr.awrap(this.kE.ed(i));case 5:return e=r.sent,r.next=8,Rr.awrap(e.Ll());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],Ve)},n.Pd=function(t){var n=jI(t);this.kE.Pd({ud:"https://license.theoplayer.com",Xl:n,Ul:xT.JI})},n.wO=function(){this.cO()&&this.De(),this.JB=MI(),this.Xa=0},n.Bd=function(){fe.yO(this.eO),f(this.nO),this.De()},A(t,[{key:"ZB",get:function(){return this.KB}},{key:"jB",get:function(){return this.JB}}]),t}();var ZI=L.En||L.un&&L.Pn<13;function KI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var JI=function(){function t(t){this.wD=void 0,this.Kw=void 0,this.kO=void 0,this.wD=t}var n=t.prototype;return n.bO=function(t){if(!t||!t.drawImage)return!1;var n=this.wD.Km();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.pO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.wD,a=o.Km();if(!a)return!1;if(ZI){this.kO||(this.kO=s.createElement("canvas"));var c=this.kO,h=c.getContext("2d"),f=o.nm,l=o.tm,d=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),d===f&&w===l||(c.width=f,c.height=l),h.drawImage(a,0,0,f,l);var _=!1;f>0&&KI(h,f-1,0)&&(c.width=d,_=!0),l>0&&KI(h,0,l-1)&&(c.height=w,_=!0),_&&h.drawImage(a,0,0,f,l),a=c}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Jw",get:function(){return this.Kw||(this.Kw=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.bO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.pO(n,i,e,r,s,u)}}));var t}}]),t}(),$I=function(t){function n(n,i){var e;return(e=t.call(this,"AO")||this).Ck=n,e.vT=i,e}return S(n,t),n.prototype.$w=function(){return new tR(this.Ck,this.vT)},n}(zg),tR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(wu),nR=function(t,n){this.wy=void 0,this.TO=void 0,this.wy=t,this.TO=n},iR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).SO=void 0,e.EO=0,e.IO=0,e.RO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.IO=n.width,e.EO=n.height,e.TO(e.IO,e.EO)}},e.SO=new ve.ResizeObserver(e.RO),e.SO.observe(e.wy),e}return S(n,t),n.prototype.Bd=function(){this.SO.disconnect()},A(n,[{key:"DO",get:function(){return this.EO}},{key:"CO",get:function(){return this.IO}}]),n}(nR),eR=0;var rR,sR=c,uR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,oR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function aR(){return rR||(rR=ve&&ve.document&&ve.document.createElement("span")),rR}uR&&oR||(uR=function(t){var n=XI(),i=w.max(0,16-(n-eR)),e=a(function(){return t(n+i)},i);return eR=n+i,e},oR=sR),uR=uR.bind(t),oR=oR.bind(t);var cR=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==ve&&"function"==typeof ve.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});ve.addEventListener("testPassiveEventSupport",Z,n),ve.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}}();var hR=Cr();function fR(t){return hR.has(t)||hR.set(t,function(t){var n=aR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<cR.length;e++){var r=cR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),hR.get(t)}function vR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function lR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[fR("transition")]="0s"}var dR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).PO=void 0,u.BO=0,u.IO=NaN,u.EO=NaN,u.OO=void 0,u.xO=void 0,u.LO=void 0,u.MO=void 0,u.UO=void 0,u.I_=function(){u.xO.style.width=1e5+"px",u.xO.style.height=1e5+"px",u.OO.scrollLeft=1e5,u.OO.scrollTop=1e5,u.LO.scrollLeft=1e5,u.LO.scrollTop=1e5,0===u.LO.scrollTop&&uR(u.I_)},u.XO=function(){var t=u.CO,n=u.DO;u.TO(t,n),u.IO=t,u.EO=n,u.I_(),u.BO=0},u.FO=function(){if(!u.BO){var t=u.CO,n=u.DO;t===u.IO&&n===u.EO||(u.BO=uR(u.XO))}},u.HO=function(){u.UO||(u.UO=a(u.zO,66))},u.zO=function(){u.UO=void 0,u.VO()},u.VO=function(){u.FO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var c,h=s.createElement("div");return u.PO=h,u.OO=s.createElement("div"),u.xO=s.createElement("div"),u.LO=s.createElement("div"),u.MO=s.createElement("div"),vR(u.OO),vR(u.LO),lR(u.xO),lR(c=u.MO),c.style.width="200%",c.style.height="200%",h.appendChild(u.OO),h.appendChild(u.LO),u.OO.appendChild(u.xO),u.LO.appendChild(u.MO),n.appendChild(h),u.OO.addEventListener("scroll",u.FO),u.LO.addEventListener("scroll",u.FO),r&&r.addEventListener("resize",u.HO),u.FO(),u}return S(n,t),n.prototype.Bd=function(){oR(this.BO),this.BO=0,this.OO.removeEventListener("scroll",this.FO),this.LO.removeEventListener("scroll",this.FO),Je(this.PO),r&&r.removeEventListener("resize",this.HO)},A(n,[{key:"DO",get:function(){return this.wy.getBoundingClientRect().height||this.EO||0}},{key:"CO",get:function(){return this.wy.getBoundingClientRect().width||this.IO||0}}]),n}(nR),wR=function(t){function n(n){var i;return(i=t.call(this)||this).wy=void 0,i.SO=void 0,i.RO=function(t,n){i.Ys(new $I(t,n))},i.wy=n,i}S(n,t);var i=n.prototype;return i.ih=function(t){this.SO||("function"==typeof ve.ResizeObserver?this.SO=new iR(this.wy,this.RO):this.SO=new dR(this.wy,this.RO,t))},i.Bd=function(){this.Ks(),this.SO&&(this.SO.Bd(),this.SO=void 0)},A(n,[{key:"DO",get:function(){return this.SO?this.SO.DO:0}},{key:"CO",get:function(){return this.SO?this.SO.CO:0}}]),n}(lu),_R=function(t){function n(){return t.call(this,KS.f_)||this}return S(n,t),n}(wu);var gR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{WO:i[0],GO:i[1],qO:i[2],YO:i[3],jO:i[4],QO:i[5]}}}(),mR=function(t){function n(){return t.call(this,KS.mC)||this}return S(n,t),n}(wu),yR=function(t){function n(i){var e;return(e=t.call(this)||this).wy=void 0,e.kC=void 0,e.yC=!1,e.ZO=function(){return e.$C()},e.KO=function(){return e.nP()},e.wy=i,e.kC=n.JO(i),s.addEventListener(gR.jO,e.ZO),e.$C(),e}S(n,t),n.JO=function(t){return Boolean(gR&&s[gR.YO]&&gR.WO in t)};var i=n.prototype;return i.qy=function(){var t=this.wy[gR.WO]();t&&t.then?t.then(this.ZO,this.KO):(s.removeEventListener(gR.QO,this.KO),s.addEventListener(gR.QO,this.KO))},i.jy=function(){var t=s[gR.GO]();t&&t.then?t.then(this.ZO,this.KO):(s.removeEventListener(gR.QO,this.KO),s.addEventListener(gR.QO,this.KO))},i.$C=function(){var t=this.yC,n=this.wy===s[gR.qO];this.yC=n,t!==n&&this.Ys(new _R)},i.nP=function(){this.Ys(new nE)},i.Bd=function(){this.Ks(),s.removeEventListener(gR.jO,this.ZO),s.removeEventListener(gR.QO,this.KO)},n}(lu),kR=function(t){function n(i){var e;return(e=t.call(this)||this).wy=void 0,e.kC=void 0,e.yC=!1,e.ZO=function(){return e.$C()},e.wy=i,e.kC=n.JO(i),e.wy.addEventListener("webkitbeginfullscreen",e.ZO),e.wy.addEventListener("webkitendfullscreen",e.ZO),e.wy.addEventListener("webkitpresentationmodechanged",e.ZO),e.$C(),e}S(n,t),n.JO=function(t){return L.un&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.qy=function(){var t=this;this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("fullscreen")?L.un?requestAnimationFrame(function(){return t.wy.webkitSetPresentationMode("fullscreen")}):this.wy.webkitSetPresentationMode("fullscreen"):this.wy.webkitEnterFullscreen()},i.jy=function(){this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("inline")?this.wy.webkitSetPresentationMode("inline"):this.wy.webkitExitFullscreen()},i.$C=function(){var t,n=this.yC;t=this.wy.webkitPresentationMode?"fullscreen"===this.wy.webkitPresentationMode:!!this.wy.webkitDisplayingFullscreen,this.yC=t,n!==t&&this.Ys(new _R)},i.Bd=function(){this.Ks(),this.wy.removeEventListener("webkitbeginfullscreen",this.ZO),this.wy.removeEventListener("webkitendfullscreen",this.ZO),this.wy.removeEventListener("webkitpresentationmodechanged",this.ZO)},n}(lu),bR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$O=[],n.tx=void 0,n.QC=!1,n.$C=function(){var t=n.QC,i=n.nx();t!==i&&(n.QC=i,n.Ys(new _R))},n}S(n,t);var i=n.prototype;return i.qy=function(){this.tx?this.tx.qy():this.Ys(new nE)},i.jy=function(){for(var t=0,n=this.$O;t<n.length;t++){var i=n[t];i.yC&&i.jy()}},i.ix=function(t){this.tx=t},i.ex=function(t){this.$O.push(t),t.js(KS.f_,this.$C),t.js(KS.Q_,this.qs),this.$C()},i.sx=function(t){Ms(this.$O,t),t.Js(KS.f_,this.$C),t.Js(KS.Q_,this.qs)},i.nx=function(){for(var t=0,n=this.$O;t<n.length;t++){if(n[t].yC)return!0}return!1},i.I_=function(){this.tx=void 0,this.QC=!1;for(var t=this.$O.slice(),n=0;n<t.length;n++){var i=t[n];this.sx(i),i.Bd()}this.$C()},i.Bd=function(){this.Ks(),this.I_()},A(n,[{key:"kC",get:function(){return!!this.tx&&this.tx.kC}},{key:"yC",get:function(){return this.QC}}]),n}(lu),pR=function(t){function n(n,i){var e;return(e=t.call(this)||this).wD=void 0,e.ux=void 0,e.ox=void 0,e.ax=!1,e.hx=function(){return e.Wc()},e.$C=function(t){e.ax||e.Ys(t)},e.wD=n,e.ux=i,e.ox=iE,e.vx(),e.wD.js(bf.gf,e.hx),e.Wc(),e}S(n,t);var i=n.prototype;return i.qy=function(){this.ux&&this.ox.qy()},i.jy=function(){this.ox.jy()},i.vx=function(){this.ox.js(KS.f_,this.$C),this.ox.js(KS.Q_,this.qs)},i.lx=function(){this.ox.Js(KS.f_,this.$C),this.ox.Js(KS.Q_,this.qs)},i.Wc=function(){var t=this.ox,n=this.wD.Jm();if(t!==n){this.ax=!0;var i=this.yC,e=this.kC;i&&this.jy(),this.lx(),this.ox=n,this.vx(),i&&!this.yC&&this.kC?this.qy():this.jy(),this.ax=!1,e!==this.kC&&this.Ys(new mR),i!==this.yC&&this.Ys(new _R)}},i.Bd=function(){this.Ks(),this.lx(),this.wD.Js(bf.gf,this.hx)},A(n,[{key:"kC",get:function(){return!!this.ux&&this.ox.kC}},{key:"yC",get:function(){return this.ox.yC}}]),n}(lu);function AR(t){var n;return{get url(){return t.ud},get method(){return t.Ed},get headers(){return n||(n=t.Kl.qf()),n},get body(){return t.Xl},get useCredentials(){return t.Dd},get type(){return RR(t.us)},get subType(){return DR(t.Rd)},get mediaType(){return PR(t.Nd)},get responseType(){return SR(t.Jl)}}}function TR(t){switch(t.toLowerCase()){case"arraybuffer":return pf.Vf;case"json":return pf.Wf;case"stream":return pf.Gf;case"text":default:return pf.Kn}}function SR(t){return t}function ER(t){switch(t.toUpperCase()){case"POST":return Yw.POST;case"PUT":return Yw.PUT;case"DELETE":return Yw.DELETE;case"HEAD":return Yw.HEAD;case"OPTIONS":return Yw.OPTIONS;case"GET":default:return Yw.GET}}function IR(t){switch(t.toLowerCase()){case"manifest":return jw.fd;case"segment":return jw.vd;case"content-protection":return jw.ld;default:return jw.hd}}function RR(t){return t}function NR(t){switch(t.toLowerCase()){case"initialization-segment":return Qw.dd;case"fairplay-license":return Qw.wd;case"fairplay-certificate":return Qw._d;case"widevine-license":return Qw.md;case"widevine-certificate":return Qw.yd;case"playready-license":return Qw.kd;case"clearkey-license":return Qw.bd;case"aes128-key":return Qw.pd;default:return Qw.hd}}function DR(t){return t}function CR(t){switch(t.toLowerCase()){case"audio":return Zw.Ad;case"video":return Zw.Td;case"text":return Zw.Kn;case"image":return Zw.Sd;case"":default:return Zw.hd}}function PR(t){return t}var BR=function(){function t(t,n){this.wx=new Wo,this._x=[],this.Kw=void 0,this.gx=!1,this.Gd=void 0,this.mx=0,this.yx=t,this.kx=n}var n=t.prototype;return n.pA=function(){this.gx=!0,this.wx.Hu(null)},n.bx=function(){this.wx.Vu(new Sw(this._x))},n.Ax=function(t){if(!this.Tx)throw new l("Cannot respond more than once");if(!V(t))throw new l("Expected valid response");this.Gd=this.Sx(t),this.pA()},n.Ex=function(){try{var t=this.kx(this.Jw);t?this.Ix(t):this.Rx||this.Nx||this.pA()}catch(t){this._x.push(t),this.bx()}},n.Ix=function(t){if(this.Nx)throw new v("Request has been redirected or a response already exists");if(Y(t))this.Dx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Wo;try{var i=t(function(t){t?n.Vu(t):n.Hu(void 0)});Y(i)&&n.Hu(i)}catch(t){n.Vu(t)}this.Dx(n.Uu)}},n.Dx=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.mx++,n.next=4,Rr.awrap(t);case 4:this.mx--,this.Rx||this.Nx||(this._x.length?this.bx():this.pA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.mx--,this._x.push(n.t0),this.Rx||this.Nx||this.bx();case 13:case"end":return n.stop()}},null,this,[[0,8]],Ve)},A(t,[{key:"Cx",get:function(){return this.wx.Uu}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.Px()),this.Kw}},{key:"Nx",get:function(){return this.gx}},{key:"Tx",get:function(){return!this.gx}},{key:"Rx",get:function(){return this.mx>0}},{key:"qd",get:function(){return this.Gd}}]),t}(),OR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Bx=void 0,r.Bx=e,r.Ex(),r}S(n,t),n.Ox=function(t,n,i){var e=void 0===t.body?i:t.body;return new Kw({Xi:e,ed:n.ed,Jl:n.ed.Jl,Kl:t.headers,Zl:t.status,$l:t.statusText,rd:t.url,td:!0},n)};var i=n.prototype;return i.Px=function(){return i=AR((t=this).ed),{get closed(){return!t.Tx},get request(){return i},get url(){return t.ud},get status(){return t.Zl},get statusText(){return t.$l},get headers(){return n||(n=t.Kl.qf()),n},get body(){return t.Xl},respondWith:function(n){return t.Ax(n)},waitUntil:function(n){return t.Ix(n)}};var t,n,i},i.Sx=function(t){return n.Ox(t,this.yx,this.Bx)},A(n,[{key:"Xl",get:function(){return this.Bx}},{key:"Kl",get:function(){return this.yx.Kl}},{key:"ed",get:function(){return this.yx.ed}},{key:"qd",get:function(){return this.Gd}},{key:"Zl",get:function(){return this.yx.Zl}},{key:"$l",get:function(){return this.yx.$l}},{key:"ud",get:function(){return this.yx.rd}}]),n}(BR),xR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xx=void 0,r.Lx=void 0,r.Lx=e,r.Ex(),r}S(n,t);var i=n.prototype;return i.Px=function(){return t=this,{get url(){return t.ud},get method(){return t.Ed},get headers(){return n||(n=t.Kl.qf()),n},get body(){return t.Xl},get closed(){return!t.Tx},get useCredentials(){return t.Dd},get type(){return RR(t.us)},get subType(){return DR(t.Rd)},get mediaType(){return PR(t.Nd)},get responseType(){return SR(t.Jl)},redirect:function(n){return t.Mx(n)},respondWith:function(n){return t.Ax(n)},waitUntil:function(n){return t.Ix(n)}};var t,n},i.Sx=function(t){var n=this.yx.Xl,i=new Kw({Xi:n,Kl:{},ed:this.yx,rd:this.yx.ud,Jl:this.yx.Jl,Zl:200,$l:"OK"});return OR.Ox(t,i,n)},i.Mx=function(t){if(!this.Tx)throw new l("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.xx=function(t,n){return new Jw({ud:void 0===t.url?n.ud:t.url,Ed:void 0!==t.method?ER(t.method):void 0,Kl:t.headers,Xl:t.body,Dd:t.useCredentials,us:void 0!==t.type?IR(t.type):void 0,Rd:void 0!==t.subType?NR(t.subType):void 0,Nd:void 0!==t.mediaType?CR(t.mediaType):void 0,Jl:void 0!==t.responseType?TR(t.responseType):void 0},n)}(n,this.yx),this.pA()},A(n,[{key:"Xl",get:function(){return this.yx.Xl}},{key:"Tx",get:function(){return this.Lx&&!this.gx}},{key:"Kl",get:function(){return this.yx.Kl}},{key:"Ed",get:function(){return this.yx.Ed}},{key:"Ux",get:function(){return this.xx}},{key:"qd",get:function(){return this.Gd}},{key:"Jl",get:function(){return this.yx.Jl}},{key:"Id",get:function(){return this.yx.Id}},{key:"zs",get:function(){return this.yx.zs}},{key:"us",get:function(){return this.yx.us}},{key:"Rd",get:function(){return this.yx.Rd}},{key:"Nd",get:function(){return this.yx.Nd}},{key:"ud",get:function(){return this.yx.ud}},{key:"Dd",get:function(){return this.yx.Dd}},{key:"Cd",get:function(){return this.yx.Cd}}]),n}(BR);var LR,MR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new UR(n);return(e=t.call(this,r,i)||this).Xx=void 0,e.Xx=r,e}S(n,t);var i=n.prototype;return i.Fx=function(t){this.Xx.Fx(t)},i.Hx=function(t){this.Xx.Hx(t)},i.zx=function(t){this.Xx.zx(t)},i.Vx=function(t){this.Xx.Vx(t)},i.Wx=function(t){this.Xx.Wx(t)},n}(t_),UR=function(){function t(t){this.Od=void 0,this.Gx=[],this.qx=[],this.Od=t}var n=t.prototype;return n.ed=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this.Yx(t,t.zs));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof o_)){i.next=12;break}return i.next=11,Rr.awrap(this.jx(i.t0,t.zs));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Rr.awrap(this.Qx(n,t.zs));case 15:if(!qw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new c_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],Ve)},n.Pd=function(t){return this.Od.Pd(t)},n.Yx=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:$s(n),i=t,r=0,s=this.Gx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],$s(n),(o=new xR(i,u,!e)).Nx){a.next=17;break}return a.prev=8,a.next=11,Rr.awrap(o.Cx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Ux&&!e?i=o.Ux:o.qd&&!e&&(e=o.qd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Od.ed(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],Ve)},n.jx=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof c_?t.qd:new Kw({Xi:null,ed:t.ed,Zl:0,$l:""}),r.next=3,Rr.awrap(this.Qx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!qw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new c_(e);case 13:case"end":return r.stop()}},null,this,null,Ve)},n.Qx=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.qx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],$s(n),a.next=7,Rr.awrap(Ve.resolve(i.Ou().Xi(n)));case 7:if(u=a.sent,(o=new OR(i,s,u)).Nx){a.next=19;break}return a.prev=10,a.next=13,Rr.awrap(o.Cx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.qd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],Ve)},n.Fx=function(t){this.Gx.unshift(t)},n.Hx=function(t){this.Gx.push(t)},n.zx=function(t){Ms(this.Gx,t)},n.Vx=function(t){this.qx.unshift(t)},n.Wx=function(t){Ms(this.qx,t)},n.Bd=function(){this.Od.Bd(),Hs(this.Gx),Hs(this.qx)},t}(),XR=function(){function t(t){this.Kw=void 0,this.kE=t}var n=t.prototype;return n.Fx=function(t){this.kE.Fx(t)},n.zx=function(t){this.kE.zx(t)},n.Vx=function(t){this.kE.Vx(t)},n.Wx=function(t){this.kE.Wx(t)},A(t,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{addRequestInterceptor:function(n){t.Fx(n)},removeRequestInterceptor:function(n){t.zx(n)},addResponseInterceptor:function(n){t.Vx(n)},removeResponseInterceptor:function(n){t.Wx(n)}})),this.Kw}}]),t}(),FR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Kw=void 0,r.Zx=function(t){r.Ys(t)},r.Kx=function(t){r.Ys(t)},r.Jx=n,r.kE=i,r.DC=e,r.Jx.js(bf.Af,r.Zx),r.Jx.js(bf.pf,r.Kx),r}S(n,t);var i=n.prototype;return i.$x=function(t){this.DC.$x(t)},i.Fx=function(t){this.kE.Fx(t)},i.zx=function(t){this.kE.zx(t)},i.Vx=function(t){this.kE.Vx(t)},i.Wx=function(t){this.kE.Wx(t)},i.Bd=function(){this.Ks(),this.Jx.Js(bf.Af,this.Zx),this.Jx.Js(bf.pf,this.Kx)},A(n,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{get online(){return t.Sy},get estimator(){return n=t.tL,{get bandwidth(){return n.UR},get roundTripTime(){return n.XR}};var n},setEstimator:function(n){t.$x(function(t){if(t)return{get UR(){return hm(t.bandwidth)},get XR(){return hm(t.roundTripTime)},MR:function(n){return function(t){if(t)return{nL:function(n){t.markRequestStart(n)},iL:function(n){t.markResponseStart(n)},eL:function(n,i){t.markResponseData(n,i)},rL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(AR(n)))}}}(n))},addRequestInterceptor:function(n){t.Fx(n)},removeRequestInterceptor:function(n){t.zx(n)},addResponseInterceptor:function(n){t.Vx(n)},removeResponseInterceptor:function(n){t.Wx(n)},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Js(n,i)}})),this.Kw}},{key:"Sy",get:function(){return this.Jx.Sy}},{key:"tL",get:function(){return this.DC.tL}}]),n}(lu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(LR||(LR={}));var HR=30,zR=1,VR=5;function WR(t,n,i,e,r,s){var u=[],o=t-w.max(s,zR),a=t+r;if(n&&i){var c=Lt(i,zR,VR),h=n-c;o=w.min(o,h);var f=n+i+c;a=w.max(a,f)}return 0!==o&&e.sC(0,o)&&u.push([0,o]),e.sC(a,1/0)&&u.push([a,1/0]),u}function GR(t){return t instanceof v&&"QuotaExceededError"===t.name}var qR={type:LR.BANDWIDTH},YR=20,jR=60;function QR(t){var n,i,e,r=rm(qR);return G(t)?r.type=ZR(t):V(t)&&function(t){switch(t){case LR.PERFORMANCE:case LR.QUALITY:case LR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=ZR(t.type)),V(t)&&V(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=cm(n.bitrate),m(e)||(i.bitrate=e),i)),r}function ZR(t){switch(t){case"bandwidth":return LR.BANDWIDTH;case"performance":return LR.PERFORMANCE;case"quality":return LR.QUALITY}}var KR=function(t){function n(n){var i;return(i=t.call(this,"uL")||this).sL=n,i}return S(n,t),n}(wu),JR=function(t){function n(n){var i;return(i=t.call(this,"aL")||this).oL=n,i}return S(n,t),n}(wu),$R=function(t){function n(n){var i;return(i=t.call(this,"hL")||this).cL=n,i}return S(n,t),n}(wu),tN=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Kw=(i=Zt(n),{get strategy(){return{metadata:(t=i.oL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.oL=QR(t)},get targetBuffer(){return i.sL},set targetBuffer(t){var n=cm(t);m(n)||(i.sL=n>jR?jR:n)},get bufferLookbackWindow(){return i.cL},set bufferLookbackWindow(t){var n=cm(t);m(n)||(i.cL=n<=0?HR:n)},get maxBufferLength(){return i.fL}}),n.vL=qR,n.lL=YR,n.dL=HR,n.wL=1/0,n._L=void 0,n.gL=void 0,n}S(n,t);var i=n.prototype;return i.mL=function(t){this.gL=t},i.$x=function(t){this._L=t},i.yL=function(t){var n=w.min(t,.8*this.wL);if(n=w.max(10,n),this.wL===n)return!1;var i=this.kL;this.wL=n;var e=this.kL;return e!==i&&this.Ys(new KR(e)),!0},A(n,[{key:"bL",get:function(){switch(this.vL.type){case LR.PERFORMANCE:return 0;case LR.QUALITY:return 1/0;case LR.BANDWIDTH:return this.vL.metadata&&void 0!==this.vL.metadata.bitrate?this.vL.metadata.bitrate:8*Om.Sg();default:return 8*Om.Sg()}}},{key:"Jw",get:function(){return this.Kw}},{key:"oL",get:function(){return this.vL},set:function(t){this.vL=t,this.Ys(new JR(t))}},{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t,this.Ys(new KR(t))}},{key:"kL",get:function(){return w.min(this.lL,this.wL)}},{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t,this.Ys(new $R(t))}},{key:"fL",get:function(){return this.wL}},{key:"tL",get:function(){var t;return null!=(t=this._L)?t:this.gL.tD}}]),n}(lu),nN=function(t){function n(){return t.call(this,"v_")||this}return S(n,t),n.prototype.$w=function(){return new iN},n}(zg),iN=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(wu),eN=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).pL=void 0,r.KB=void 0,r.AL=function(t){Vg(t)&&uu(function(){r.Ys(t.Jw)})},r.pL=n,r.KB=i;for(var s=0,u=r.KB;s<u.length;s++){var o=u[s];r.pL.js(o,r.AL)}return r}return S(n,t),n.prototype.Bd=function(){this.Ks();for(var t=0,n=this.KB;t<n.length;t++){var i=n[t];this.pL.Js(i,this.AL)}},n}(lu),rN=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).pL=void 0,e.AL=function(t){Vg(t)&&uu(function(){e.Ys(t.Jw)})},e.pL=n,e.pL.Zs(e.AL),e}return S(n,t),n.prototype.Bd=function(){this.Ks(),this.pL.nu(this.AL)},n}(Dm),sN=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(rN);var uN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lk=0,n.dk=1/0,n.Kw=void 0,n}S(n,t);var i=n.prototype;return i.I_=function(){0===this.lk&&this.dk===1/0||(this.lk=0,this.dk=1/0,this.Ys(new nN))},i.TL=function(){return new $S([this.Zy,this.Ky],[!0,!0])},A(n,[{key:"Zy",get:function(){return this.lk},set:function(t){if(this.Ky<=t)throw new v("Start time of a clip should be smaller than the end time.");this.lk!==t&&(this.lk=t,this.Ys(new nN))}},{key:"Ky",get:function(){return this.dk},set:function(t){if(t<=this.Zy)throw new v("End time of a clip should be larger than the start time.");this.dk!==t&&(this.dk=t,this.Ys(new nN))}},{key:"Jw",get:function(){var t,n,i;return this.Kw||(this.Kw=(i={get startTime(){return t.Zy},set startTime(n){t.Zy=n},get endTime(){return t.Ky},set endTime(n){t.Ky=n},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new rN(t=this,i),i)),this.Kw}}]),n}(Dm),oN=function(t){function n(n){var i;return(i=t.call(this)||this).SL=function(t){i.EL(t)||i.Ys(t)},i.IL=n,i.IL.Zs(i.SL),i}S(n,t);var i=n.prototype;return i.RL=function(){return this.IL.Om},i.$m=function(){return this.IL.$m()},i.NL=function(){return this.IL.vy},i.DL=function(){return this.IL.uy},i.CL=function(){return this.IL.ly},i.PL=function(t){this.IL.ly=t},i.BL=function(){return this.IL.qg},i.OL=function(t){this.IL.qg=t},i.xL=function(){return this.IL.Yg},i.LL=function(){return this.IL.wy},i.ML=function(){return this.IL.jg},i.UL=function(){return this.IL.wu},i.XL=function(){return this.IL.Qg},i.FL=function(){return this.IL._y},i.HL=function(){return this.IL.Zg},i.zL=function(t){this.IL.Zg=t},i.VL=function(){return this.IL.Sy},i.WL=function(){return this.IL.Kg},i.GL=function(){return this.IL.Jg},i.qL=function(t){this.IL.Jg=t},i.YL=function(){return this.IL.Ey},i.jL=function(){return this.IL.Iy},i.QL=function(t){this.IL.Iy=t},i.ZL=function(){return this.IL.rg},i.KL=function(){return this.IL.Ry},i.JL=function(){return this.IL.$g},i.Hm=function(){return this.IL.Hm()},i.zm=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),i.next=3,Rr.awrap(this.IL.zm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.$L=function(){return this.IL.Lm},i.tM=function(){return this.IL.tm},i.nM=function(){return this.IL.xm},i.iM=function(){return this.IL.nm},i.eM=function(){return this.IL.im},i.rM=function(t){this.IL.im=t},i.Jm=function(){return this.IL.Jm()},i.Km=function(){return this.IL.Km()},i.Ym=function(t){this.IL.Ym(t)},i.jm=function(){this.IL.jm()},i.Zm=function(){this.IL.Zm()},i.qm=function(){this.IL.qm()},i.Xm=function(){this.IL.Xm()},i.Um=function(){this.IL.Um()},i.Qm=function(){this.IL.Qm()},i.Fm=function(){return this.IL.Fm()},i.Vm=function(){return this.IL.Vm()},i.Wm=function(){this.IL.Wm()},i.Gm=function(){this.IL.Gm()},i.I_=function(){return this.IL.I_()},i.Bd=function(){return this.IL.Bd()},i.oy=function(){this.IL.oy()},i.iy=function(t){return this.IL.iy(t)},i.EL=function(t){return!1},A(n,[{key:"Om",get:function(){return this.RL()}},{key:"vy",get:function(){return this.NL()}},{key:"ly",get:function(){return this.CL()},set:function(t){this.PL(t)}},{key:"uy",get:function(){return this.DL()}},{key:"qg",get:function(){return this.BL()},set:function(t){this.OL(t)}},{key:"Yg",get:function(){return this.xL()}},{key:"wy",get:function(){return this.LL()}},{key:"jg",get:function(){return this.ML()}},{key:"wu",get:function(){return this.UL()}},{key:"Qg",get:function(){return this.XL()}},{key:"Mm",get:function(){return this.IL.Mm}},{key:"_y",get:function(){return this.FL()}},{key:"pm",get:function(){return this.IL.pm}},{key:"Zg",get:function(){return this.HL()},set:function(t){this.zL(t)}},{key:"Sy",get:function(){return this.VL()}},{key:"Kg",get:function(){return this.WL()}},{key:"Jg",get:function(){return this.GL()},set:function(t){this.qL(t)}},{key:"Ey",get:function(){return this.YL()}},{key:"Iy",get:function(){return this.jL()},set:function(t){this.QL(t)}},{key:"rg",get:function(){return this.ZL()}},{key:"Ry",get:function(){return this.KL()}},{key:"$g",get:function(){return this.JL()}},{key:"Lm",get:function(){return this.$L()}},{key:"tm",get:function(){return this.tM()}},{key:"xm",get:function(){return this.nM()}},{key:"nm",get:function(){return this.iM()}},{key:"im",get:function(){return this.eM()},set:function(t){this.rM(t)}},{key:"Ny",get:function(){return this.IL.Ny}},{key:"Dy",get:function(){return this.IL.Dy},set:function(t){this.IL.Dy=t}}]),n}(Cm),aN=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).sM=void 0,r.uM=!1,r.oM=void 0,r.aM=!1,r.cM=function(){r.hM(),r.fM()},r._N=function(){r.vM(),r.fM(),r.lM&&r.qg>=r.sM.Ky-n.dM&&!r.jg&&(r.oM=uR(r._N))},r.wM=function(){r.aM=!0},r._M=function(){r.aM&&(r.aM=!1,r.fM())},r.sM=e,r.sM.js("v_",r.cM),r.IL.js("timeupdate",r._N),r}S(n,t);var i=n.prototype;return i.OL=function(n){var i=this.sM.TL().WD(n);t.prototype.OL.call(this,i),this.fM()},i.ML=function(){return t.prototype.ML.call(this)||this.uM},i.KL=function(){return $S.dC(t.prototype.KL.call(this)).YD(this.sM.TL()).ZN()},i.Um=function(){this.ML()?this.OL(this.gM.start(0)):this.hM(),t.prototype.Um.call(this),this.fM()},i.zm=function(n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return $s(i),this.uM=!1,this.sM.I_(),e.next=5,Rr.awrap(t.prototype.zm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,Ve)},i.Bd=function(){return this.sM.Js("v_",this.cM),this.IL.Js("timeupdate",this._N),this.vM(),t.prototype.Bd.call(this)},i.EL=function(n){switch(n.type){case"seeking":return this.Ys(n),this.wM(),!0;case"seeked":case"emptied":return this.Ys(n),this._M(),!0;case"ended":if(this.lM)return!0}return t.prototype.EL.call(this,n)},i.vM=function(){this.oM&&(oR(this.oM),this.oM=void 0)},i.fM=function(){var t=this.qg,i=this.lM&&t>=this.sM.Ky-n.Xb;this.uM&&!i?(this.uM=!1,this.Kg&&this.Um()):this.uM||!i||this.$g||this.aM||(this.uM=!0,this.Ys(new dy(t)),this.Xm())},i.hM=function(){if(this.Yg!==1/0){var t=this.gM,i=$S.dC(t).WD(this.qg);Mt(this.qg,i,n.Xb)||this.OL(i)}},A(n,[{key:"gM",get:function(){return this.KL().length?this.KL():this.sM.TL().ZN()}},{key:"lM",get:function(){return this.sM.Ky<this.Yg}}]),n}(oN);aN.dM=1,aN.Xb=.001;var cN=function(){function t(){this.mM=void 0,this.mM=!1}return A(t,[{key:"yM",get:function(){return this.mM},set:function(t){this.mM=t}}]),t}(),hN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).mM=void 0,e.kM=!1,e.bM=!1,e.mM=i,e}S(n,t);var i=n.prototype;return i.ML=function(){return!this.mM.yM&&t.prototype.ML.call(this)},i.Xm=function(){this.bM=!0,t.prototype.Xm.call(this)},i.Um=function(){this.bM=!1,t.prototype.Um.call(this)},i.EL=function(n){if(this.mM.yM)switch(n.type){case"ended":return this.qg=0,this.bM||(this.$g?this.kM=!0:this.Um()),!0;case"seeked":this.kM&&(this.kM=!1,this.Um());break;case"pause":if(this.kM||t.prototype.ML.call(this))return!0}return t.prototype.EL.call(this,n)},n}(oN);var fN=function(){function t(t){var n;this.Kw=(n=this,{get currentBandwidthEstimate(){return n.py},get corruptedVideoFrames(){return n.yy},get droppedVideoFrames(){return n.gy},get totalBytesLoaded(){return n.Ay},get bufferedSegments(){return n.Ty}}),this.pD=t}return A(t,[{key:"Jw",get:function(){return this.Kw}},{key:"yy",get:function(){return this.pD.pM.pm.yy}},{key:"py",get:function(){return this.pD.pM.pm.py}},{key:"gy",get:function(){return this.pD.pM.pm.gy}},{key:"AM",get:function(){throw new v("Not implemented")}},{key:"TM",get:function(){throw new v("Not implemented")}},{key:"Ay",get:function(){return this.pD.pM.pm.Ay}},{key:"by",get:function(){return this.pD.pM.pm.by}},{key:"Ty",get:function(){return this.pD.pM.pm.Ty}}]),t}();function vN(t){if(!t||!rr(t))return{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{gy:n.droppedVideoFrames,yy:n.corruptedVideoFrames||0,by:n.totalVideoFrames}}return{gy:t.webkitDroppedFrameCount||0,yy:0,by:t.webkitDecodedFrameCount||0}}var lN=function(t){function n(){return t.call(this,"SM")||this}return S(n,t),n.prototype.$w=function(){return new dN},n}(zg),dN=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(wu);var wN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).EM=[],n.Kw=void 0,n.IM=function(){return n.Ys(new lN)},n}S(n,t);var i=n.prototype;return i.RM=function(t){this.EM.push(t),t.js("statechange",this.IM)},i.Bd=function(){var t=this;this.EM.forEach(function(n){n.Js("statechange",t.IM)}),Hs(this.EM)},A(n,[{key:"NM",get:function(){return this.EM.some(function(t){return t.NM})}},{key:"Jw",get:function(){var t,n,i;return this.Kw||(this.Kw=(i={get casting(){return t.NM},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new sN(t=this,i),i)),this.Kw}}]),n}(Cm),_N=function(){function t(){}return t.DM=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new Jw({ud:t,Jl:pf.Kn,Ed:Yw.GET}),s.next=4,Rr.awrap(n.ed(i));case 4:return e=s.sent,s.next=7,Rr.awrap(e.Xi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),Js(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],Ve)},t.CM=function(t){try{var i=mI(t);return new TI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new tf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.PM=function(t){void 0===t&&(t=UI.dp),i.wr("The baked-in license is used. Please update the configuration with your license.");var n=t.rB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.rB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.rB(n)}),s=Number(new Date(Number(t.rB("COD|aHpHa:p3Ceo3Co\"\""))));return new TI(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new TI(t.vB,t.lB,t.dB,864e13,t._B,Date.now(),t.mB,t.yB)},t}(),gN=function(){function t(){}return t.if=function(){return t.Gn||(t.Gn=mN.vh()?new mN:new _f),t.Gn},t.Ru=function(n){t.if().Ru(n)},t.tf=function(){t.if().tf()},t.Su=function(n){return t.if().Su(n)},t.nf=function(n,i){t.if().nf(n,i)},t.BM=function(n){var i=t.Su(n);if(void 0!==i)return g(i)},t.OM=function(n){return"true"===t.Su(n)},t}();gN.Gn=void 0;var mN=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.vh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ru=function(n){t.localStorage.removeItem(n)},e.tf=function(){t.localStorage.clear()},e.Su=function(n){return t.localStorage[n]},e.nf=function(n,i){t.localStorage[n]=i},i}(gN),yN=w.floor(14399999*w.random()-72e5),kN=function(){function t(t,n,i,e,r,s){this.pB=void 0,this.kE=t,this.xM=n,this.LM=i,this.rO=e,this.MM=r,this.Yo=s,this.pB=CI(s)}var i=t.prototype;return i.UM=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.XM(this.MM.license,this.MM.licenseUrl));case 2:t=n.sent,this.rO.FM(t);case 4:case"end":return n.stop()}},null,this,null,Ve)},i.XM=function(t,i){var e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=_N.CM(t):e||(r=_N.PM()),e||(e="https://validate.theoplayer.com/1/"+r.vB),s=this.HM(),!r){v.next=14;break}if((u=this.xM.RB(r))!==kI.cB){v.next=14;break}if(!this.zM(r.wB)||!this.zM(null==s?void 0:s.wB)){v.next=13;break}return v.next=10,Rr.awrap(this.VM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.xM.RB(s)!==kI.cB){v.next=24;break}if(!this.zM(null==s?void 0:s.wB)){v.next=23;break}return v.next=20,Rr.awrap(this.VM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:gN.Ru("THEOplayer.license");case 25:return v.next=27,Rr.awrap(_N.DM(e,this.kE));case 27:if(!(c=v.sent)){v.next=37;break}if(h=_N.CM(c),this.xM.RB(h)!==kI.cB){v.next=34;break}return gN.nf("THEOplayer.license",c),v.abrupt("return",h);case 34:gN.Ru("THEOplayer.license"),v.next=39;break;case 37:if(this.pB||!r||u!==kI.hB||e!=="https://validate.theoplayer.com/1/"+r.vB){v.next=39;break}return v.abrupt("return",_N.convertLicenseToDummyLicense(r));case 39:if(!r&&!h){v.next=43;break}this.WM(null!=(f=r)?f:h,new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,Ve)},i.SB=function(t){var n,i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Rr.awrap(this.rO.fO());case 2:if(n=a.sent,!this.zM(n.wB)){a.next=9;break}return e=null!=(i=this.MM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.vB,a.next=7,Rr.awrap(this.VM(e));case 7:(r=a.sent)&&(this.rO.FM(r),n=r);case 9:if(a.prev=9,(s=this.xM.RB(n))!==kI.fB){a.next=16;break}throw u=AI.kB,new tf(EI(u),BI.IB(u));case 16:if(s!==kI.hB){a.next=19;break}throw o=AI.hB,new tf(EI(o),BI.IB(o));case 19:this.xM.SB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.GM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],Ve)},i.VM=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rr.awrap(_N.DM(t,this.kE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=_N.CM(n),this.xM.RB(i)!==kI.cB){e.next=11;break}return gN.nf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],Ve)},i.zM=function(t){return!t||Number(new Date)+2592e5+yN>=t},i.HM=function(){var t=gN.Su("THEOplayer.license");if(t)return _N.CM(t)},i.WM=function(t,n){this.rO.FM(t),this.GM(n)},i.GM=function(t){throw ot(t.message),this.LM.dO(t.message),t},t}(),bN=function(){function t(){this.qM=void 0,this.YM=new Wo}var n=t.prototype;return n.FM=function(t){this.qM=t,this.YM.Hu()},n.fO=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.qM){t.next=2;break}return t.abrupt("return",Ve.resolve(this.qM));case 2:return t.next=4,Rr.awrap(this.YM.Uu);case 4:return t.abrupt("return",this.qM);case 5:case"end":return t.stop()}},null,this,null,Ve)},A(t,[{key:"jM",get:function(){return this.qM}}]),t}(),pN=function(t){function n(){return t.call(this,"v_")||this}return S(n,t),n.prototype.$w=function(){return new AN},n}(zg),AN=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(wu);function TN(t){var n,i={get fontFamily(){return t.QM},set fontFamily(n){t.QM=n},get fontColor(){return t.ZM},set fontColor(n){t.ZM=n},get fontSize(){return t.KM},set fontSize(n){t.KM=n},get backgroundColor(){return t.JM},set backgroundColor(n){t.JM=n},get windowColor(){return t.$M},set windowColor(n){t.$M=n},get edgeStyle(){return t.tU},set edgeStyle(n){t.tU=n},addEventListener:function(t,i){var e=lm(t,fm);n.js(e,i)},removeEventListener:function(t,i){var e=lm(t,fm);n.Js(e,i)}};return n=new du(i),t.js(["v_"],function(t){return n.Ys(t.Jw)}),i}var SN,EN,IN={QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,tU:void 0,nU:void 0},RN="THEOplayer.textTrackStyle.",NN=function(t){function n(){var i;return(i=t.call(this)||this).iU=void 0,i.Kw=void 0,i.iU=n.eU(),i}return S(n,t),n.prototype.Wc=function(t){this.iU=Nr({},this.iU,t),n.rU(this.iU),this.Ys(new pN)},n.eU=function(){var t=Nr({},IN);return t.QM=gN.Su(RN+"fontFamily")||t.QM,t.ZM=gN.Su(RN+"fontColor")||t.ZM,t.KM=gN.Su(RN+"fontSize")||t.KM,t.JM=gN.Su(RN+"backgroundColor")||t.JM,t.$M=gN.Su(RN+"windowColor")||t.$M,t.tU=gN.Su(RN+"edgeStyle")||t.tU,t},n.rU=function(t){gN.nf(RN+"fontFamily",t.QM||""),gN.nf(RN+"fontColor",t.ZM||""),gN.nf(RN+"fontSize",t.KM||""),gN.nf(RN+"backgroundColor",t.JM||""),gN.nf(RN+"windowColor",t.$M||""),gN.nf(RN+"edgeStyle",t.tU||"")},A(n,[{key:"sU",get:function(){return this.iU}},{key:"QM",get:function(){return this.iU.QM},set:function(t){this.Wc({QM:t})}},{key:"ZM",get:function(){return this.iU.ZM},set:function(t){this.Wc({ZM:t})}},{key:"KM",get:function(){return this.iU.KM},set:function(t){this.Wc({KM:t})}},{key:"JM",get:function(){return this.iU.JM},set:function(t){this.Wc({JM:t})}},{key:"$M",get:function(){return this.iU.$M},set:function(t){this.Wc({$M:t})}},{key:"tU",get:function(){return this.iU.tU},set:function(t){this.Wc({tU:t})}},{key:"nU",get:function(){return this.iU.nU}},{key:"Jw",get:function(){return this.Kw||(this.Kw=TN(this)),this.Kw}}]),n}(lu),DN=function(t){function n(n,e){var r;(r=t.call(this)||this).uU=void 0,r.Jc=void 0,r.pM=void 0,r.oU=void 0,r.qw=void 0,r.sM=void 0,r.mM=void 0,r.aU=void 0,r.cU=void 0,r.DC=void 0,r.xM=void 0,r.hU=void 0,r.fU=void 0,r.NC=void 0,r.vU=!1,r.Im=!1,r.Ly=void 0,r.lU=!1,r.dU=void 0,r.wU=void 0,r._U=void 0,r.gU=void 0,r.mU=void 0,r.yU=function(t){if(!r.lU){r.lU=!0;var n=r.uU,i=Yy(t);r.pM.x_=new sE(r.wy,i,t),ou(n.Bd())}},r.kU=function(t){r.Ys(t.Jw)},r.bU=function(t){t.type!==bf.Af&&t.type!==bf.pf&&r.Ys(t)};var s=cm(e.uid);m(s)?r.Ly=nk++:r.Ly=s,r.Jc=e;var u=i.qw,o=new bN;r.oU=new QI("4.1.0",u,o),r.qw=new MR(u,e.allowMixedContent),r.DC=new tN,r.xM=new SI(e.isEmbeddable,"4.1.0",yI()),r.mU=new kN(u,r.xM,r.oU,o,e,yI()),r.mU.UM().catch(r.yU),r.hU=new wR(n),r.hU.js("AO",r.kU),r.NC=new NN,r.sM=new uN,r.mM=new cN;var a=new rE(n,e,r.qw,r.DC,r.hU,r.NC);r.DC.mL(a);var c=a;c=new aN(c,r.pU),c=new hN(c,r.yM),r.uU=c,r.pM=new Vy(r.uU),r.pM.Zs(r.bU),r.gU=new fN(Zt(r)),r.wU=new FR(r.pM,r.qw,r.DC),r.aU=new JI(Zt(r)),r.fU=new pR(r.pM,e.allowNativeFullscreen),r.cU=new AE(r.fU),r.hU.ih();var h=new ce(r.hU,r.NC,1,[jy.Td]);return r.dU=new he(h),r._U=new wN,r}S(n,t);var e=n.prototype;return e.zL=function(t){this.pM.Zg=t,t||this.Kg||this.qm()},e.rM=function(t){this.pM.im=t},e.AU=function(){Ey(this,TE,this)},e.Um=function(){this.pM.Um()},e.Xm=function(){this.pM.Xm()},e.zm=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.mU.SB(t).catch(this.yU),i=CN(t),e.next=5,Rr.awrap(this.pM.zm(i,n));case 5:case"end":return e.stop()}},null,this,null,Ve)},e.qm=function(){this.Im||(this.pM.qm(),this.dU.qm(),this.Im=!0)},e.yC=function(){return this.cU.rP()===mE.FULLSCREEN},e.Qm=function(){this.pM.Qm()},e.Zm=function(){this.pM.Zm()},e.Km=function(){return this.pM.Km()},e.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.pM.Fm());case 2:return t.next=4,Rr.awrap(this.pM.I_());case 4:case"end":return t.stop()}},null,this,null,Ve)},e.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this._U.Bd(),this.qw.Bd(),this.wU.Bd(),this.fU.Bd(),this.cU.Bd(),this.hU.Bd(),this.oU.Bd(),this.dU.Bd(),t.next=11,Rr.awrap(this.pM.Bd());case 11:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"TU",get:function(){return this.DC}},{key:"Pm",get:function(){return this.vU},set:function(t){this.vU=t,this.pM.Pm=t}},{key:"SU",get:function(){return this.dU}},{key:"Om",get:function(){return this.pM.Om}},{key:"EU",get:function(){return this._U}},{key:"IU",get:function(){return this.hU}},{key:"Mm",get:function(){return this.pM.Mm}},{key:"pm",get:function(){return this.gU}},{key:"RU",get:function(){return this.wU}},{key:"Lm",get:function(){return this.pM.Lm}},{key:"NU",get:function(){return this.NC}},{key:"xm",get:function(){return this.pM.xm}},{key:"vy",get:function(){return this.pM.vy}},{key:"pU",get:function(){return this.sM}},{key:"yM",get:function(){return this.mM}},{key:"qg",get:function(){return this.pM.qg},set:function(t){this.pM.qg=t}},{key:"ly",get:function(){return this.pM.ly},set:function(t){this.pM.ly=t}},{key:"uy",get:function(){return this.pM.uy}},{key:"Yg",get:function(){return this.pM.Yg}},{key:"wy",get:function(){return this.pM.wy}},{key:"jg",get:function(){return this.pM.jg}},{key:"wu",get:function(){return this.pM.wu}},{key:"Qg",get:function(){return this.pM.Qg}},{key:"Zg",get:function(){return this.pM.Zg},set:function(t){var n=Boolean(t);this.zL(n)}},{key:"Kg",get:function(){return this.pM.Kg}},{key:"Jg",get:function(){return this.pM.Jg},set:function(t){this.pM.Jg=t}},{key:"Ey",get:function(){return this.pM.Ey}},{key:"Iy",get:function(){return this.pM.Iy},set:function(t){this.pM.Iy=YS(t)}},{key:"rg",get:function(){return this.pM.rg}},{key:"Ry",get:function(){return this.pM.Ry}},{key:"$g",get:function(){return this.pM.$g}},{key:"F_",get:function(){return this.Ly}},{key:"tm",get:function(){return this.pM.tm}},{key:"nm",get:function(){return this.pM.nm}},{key:"im",get:function(){return this.pM.im},set:function(t){var n=Lt(Number(t),0,1)||0;this.rM(n)}},{key:"Ny",get:function(){return this.pM.Ny}}]),n}(Cm);function CN(t){t.sources;var n=t.sources.filter(function(t){return F(t.integration)});return t.sources=n,t}!function(t){t[t.DU=0]="DU",t[t.CU=1]="CU"}(SN||(SN={})),function(t){t[t.PU=0]="PU"}(EN||(EN={}));var PN={};function BN(t,n){(PN[n]||(PN[n]=[])).push(t)}function ON(t,n){var i=t;if(PN[n])for(var e=0,r=PN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var xN=[];function LN(t){xN.push(t)}var MN=t.CustomEvent;var UN=function(){try{var t=new MN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},XN=function(){function t(t,n){var i=this;this.pD=void 0,this.BU=void 0,this.OU=!1,this.xU=function(t){i.BU.lO(t.error,i.qg)},this.LU=function(){i.BU.hO(i.MU),i.pD.removeEventListener("playing",i.LU),i.OU=!1},this.UU=function(){i.OU||(i.pD.addEventListener("playing",i.LU),i.OU=!0)},this.BU=n,this.pD=t,this.pD.addEventListener("error",this.xU),this.pD.addEventListener("sourcechange",this.UU),this.UU()}return t.prototype.I_=function(){},A(t,[{key:"qg",get:function(){var t=this.pD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"MU",get:function(){return this.pD.src||""}}]),t}();LN(function(t){new XN(t.Jw,t.oU)});var FN="theoplayer-stored-volume",HN="theoplayer-stored-mutedstate";BN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=gN.BM(FN);(void 0===r||m(r))&&(r=1);var s=gN.OM(HN)||!1;e.im=r,e.Zg=s}return e}S(n,t);var i=n.prototype;return i.zL=function(n){this.Jc.persistVolume&&gN.nf(HN,""+Boolean(n)),t.prototype.zL.call(this,n)},i.rM=function(n){this.Jc.persistVolume&&gN.nf(FN,""+Number(n)),t.prototype.rM.call(this,n)},n}(t)},SN.CU);var zN=new(function(){function t(){this.XU=[],this.Kw=void 0}var n=t.prototype;return n.A_=function(t){return this.XU[t]},n.FU=function(t){this.XU.push(t),this.Jw.push(t.Jw)},n.Vc=function(t){var n=this.XU.indexOf(t);n<0||(Us(this.XU,n),this.Kw&&Us(this.Kw,n))},n.HU=function(t){for(var n=0,i=this.XU;n<i.length;n++){var e=i[n];if(e.F_===t)return e}},A(t,[{key:"N_",get:function(){return this.XU.length}},{key:"Jw",get:function(){return this.Kw||(this.Kw=function(t){for(var n=[],i=0;i<t.N_;i++)n[i]=t.A_(i).Jw;return n.getPlayerByUID=function(n){var i=t.HU(n);return i&&i.Jw},n}(this)),this.Kw}}]),t}()),VN=function(){function t(t){var n=this;this.zU=[],this.VU=void 0,this.Kv=new Zs,this.WU=void 0,this.GU=function(){return 0===n.zU.length?n.WU?WN(n.WU,n.Kv.zs).then(n.qU,n.qU):n.qU():n.zU.shift()().then(n.GU)},this.qU=function(){if(0!==n.zU.length)return n.GU();n.VU=void 0},this.WU=t}var n=t.prototype;return n.YU=function(t,n){var i=this;return new Ve(function(e){var r=new Zs;r.Fs(i.Kv.zs),n&&r.Fs(n);var s=function(){r.Bs()};i.zU.push(function(){var n=WN(t,r.zs);return e(n),n.then(s,s)}),i.VU||(i.VU=i.GU())})},n.Xs=function(){return this.jU(!0)},n.Bd=function(){return this.WU=void 0,this.jU(!1)},n.jU=function(t){var n=this.VU;return this.Kv.Xs(),t&&(this.Kv=new Zs),Ve.resolve(n)},t}();function WN(t,n){return new Ve(function(i){return i(t(n))})}var GN,qN=function(t){function n(n){var i;return(i=t.call(this,bf.Mf)||this).source=n,i}return S(n,t),n}(wu),YN=function(t){function n(){var n;return(n=t.call(this)||this).pC=void 0,n.TC=void 0,n.EC=void 0,n.SC=void 0,n.pC=0,n.TC=!0,n.EC=!1,n.SC=1,n}S(n,t);var i=n.prototype;return i.Um=function(){this.TC&&(this.TC=!1,this.Ys(new uy(this.qg)),this.Ys(new sA(this.qg)))},i.Xm=function(){this.TC||(this.TC=!0,this.Ys(new ly(this.qg,this.ly)),this.Ys(new sy(this.qg)))},i.I_=function(){this.pC=0,this.EC=!1,this.SC=1,this.Xm(),this.Ys(new ry(this.pC))},i.Bd=function(){this.Ks()},i.Zm=function(){},i.Qm=function(){},A(n,[{key:"ly",get:function(){},set:function(t){}},{key:"qg",get:function(){return this.pC},set:function(t){this.EC&&this.pC===t||(this.pC=t,this.EC=!0,this.Ys(new _y(this.qg)))}},{key:"Kg",get:function(){return this.TC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.Ys(new vy(this.qg,this.Jg)))}},{key:"rg",get:function(){return Fm.xg}},{key:"$g",get:function(){return this.EC}}]),n}(Dm),jN=function(t){function n(){return t.call(this,bf.lf)||this}return S(n,t),n}(wu),QN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},ZN={visibility:"hidden"},KN={visibility:"visible"},JN=function(){function t(t){var n,i=this;this.gD=void 0,this.pD=void 0,this.QU=!1,this.ZU=void 0,this.KU=void 0,this.JU=function(t){var n;i.QU=!1,i.ZU=null==(n=t.source)?void 0:n.poster,i.Wc()},this.HE=function(){i.QU=!0,i.Zm()},this.pD=t,this.RD(),this.gD=((n=ve&&ve.document&&ve.document.createElement("div")).className="theoplayer-poster",nr(QN,n),n),t.wy.appendChild(this.gD)}var n=t.prototype;return n.Wc=function(){var t=this.pD.Kg,n=this.QU;this.ud?this.gD.style.backgroundImage='url("'+this.ud.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.gD.style.backgroundImage="",t&&this.ud&&!n?this.Qm():this.Zm()},n.Qm=function(){nr(ZN,this.pD.wy),nr(KN,this.gD)},n.Zm=function(){nr(ZN,this.gD),nr(KN,this.pD.wy)},n.RD=function(){this.pD.js("sourcechange",this.JU),this.pD.js("play",this.HE)},n.Bd=function(){this.pD.Js("sourcechange",this.JU),this.pD.Js("play",this.HE),Je(this.gD)},A(t,[{key:"ud",get:function(){return void 0!==this.ZU?this.ZU:void 0!==this.KU?this.KU:void 0}},{key:"$U",set:function(t){this.KU=t,this.Wc()}}]),t}();function $N(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).pD=void 0,r.tX=void 0,r.nX=void 0,r.iX=void 0,r.eX=void 0,r.rX=void 0,r.sX=void 0,r.uX=void 0,r.ED=void 0,r.SD=void 0,r.sN=void 0,r.MC=void 0,r.Kw=void 0,r.oX=function(t){t.type!==bf.If&&r.uX.push(t)},r.tX=new t(n,e),r.nX=new YN,r.pD=r.tX,r.iX=new JN(Zt(r)),r.rX=new VN,r.sX=!1,r.uX=[],r.ED=!0,r.RD(),r}S(e,i);var r=e.prototype;return r.YU=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.rX.YU(t,n).catch(nu));case 1:case"end":return i.stop()}},null,this,null,Ve)},r.aX=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),this.tX.Zs(this.oX),i.next=4,Rr.awrap(this.tX.zm(t,n));case 4:this.tX.nu(this.oX);case 5:case"end":return i.stop()}},null,this,null,Ve)},r.cX=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Hm())&&!ZE(t)&&this.Pm&&this.Kg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.Jc.mutedAutoplay,e.next=6,Rr.awrap(this.SU.hX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.fX(),e.abrupt("break",14);case 12:return(this.Zg||n===oy.ALL)&&(this.Zg=!0,this.Um()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,Ve)},r.zm=function(t){var i=this,e=this.SD;e&&!ZE(e)&&this.Ys(new ry(0,0)),this.I_(),this.SD=t,ou(this.YU(function(e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return $s(e),r.prev=1,r.next=4,Rr.awrap(i.aX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.SD=void 0,i.wN((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof tf?s:s instanceof v?new tf(u,s.message,s):new tf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Rr.awrap(i.vX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],Ve)}))},r.vX=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lX(this.tX),this.Ys(new qN(this.Hm())),t.next=4,Rr.awrap(this.cX());case 4:case"end":return t.stop()}},null,this,null,Ve)},r.OL=function(t){this.pD.qg=t},r.UL=function(){var t;return null!=(t=this.MC)?t:this.tX.wu},r.XL=function(){var t;return null!=(t=this.sN)?t:this.tX.Qg},r.wN=function(t){void 0===this.XL()&&(this.sN=t,this.MC=Yy(t),this.Ys(new py(t)))},r.Um=function(){this.pD.Um()},r.fX=function(){this.Zg||this.qm(),this.Um()},r.qm=function(){this.tX.qm()},r.Xm=function(){this.pD.Xm()},r.Fm=function(){this.zm(void 0)},r.Qm=function(){this.ED=!0,this.pD.Qm()},r.Zm=function(){this.ED=!1,this.pD.Zm()},r.AU=function(){this.tX.AU()},r.rM=function(t){this.tX.rM(t)},r.zL=function(t){this.tX.zL(t)},r.dX=function(t){this.eX=t,t.FU(this)},r.yC=function(){return this.tX.yC()},r.Hm=function(){return this.SD},r.Km=function(){return this.tX.Km()},r.BL=function(){return this.tX.qg},r.xL=function(){return this.tX.Yg},r.NL=function(){return this.tX.vy},r.YL=function(){return this.tX.Ey},r.KL=function(){return this.tX.Ry},r.I_=function(){var t=this;this.SD=void 0,this.sN=void 0,this.MC=void 0,Hs(this.uX),this.nX.I_(),this.lX(this.nX),this.rX.Xs(),ou(this.rX.YU(function(n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),i.next=3,Rr.awrap(t.tX.I_());case 3:case"end":return i.stop()}},null,null,null,Ve)}))},r.Bd=function(){var t=this;this.Ys(new jN),this.iX.Bd(),this.ND(),this.I_(),ou(this.YU(function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.tX.Bd());case 2:t.eX&&(t.eX.Vc(t),t.eX=void 0),t.rX.Bd();case 4:case"end":return n.stop()}},null,null,null,Ve)})),this.Ks()},r.lX=function(t){if(this.pD!==t){var n=this.pD.Kg,i=this.pD.qg,e=this.pD.Jg,r=this.pD.$g;this.ND(),t===this.tX?((r||t.qg!==i)&&(t.qg=i),t.Jg!==e&&(t.Jg=e),n?t.Xm():t.Um()):this.Jc.retainPlaybackRateOnSourceChange?t.Jg=e:1!==e&&this.Ys(new vy(this.BL(),1)),this.pD=t,this.RD();for(var s=0,u=this.uX;s<u.length;s++){var o=u[s];this.Ys(o)}Hs(this.uX),this.ED?t.Qm():t.Zm()}},r.RD=function(){this.pD.Zs(this.qs)},r.ND=function(){this.pD.nu(this.qs)},r.$w=function(){return t=this,e=function(n){i=n;var e=oI(n,t.Jc);t.zm(e)},r={get abr(){return t.TU.Jw},get audioTracks(){return t.Om.Jw},get autoplay(){return t.Pm},set autoplay(n){t.Pm=Boolean(n)},get buffered(){return t.NL()},get canvas(){return t.aU.Jw},get clip(){return t.pU.Jw},get currentProgramDateTime(){var n;return null!=(n=t.ly)?n:null},set currentProgramDateTime(n){t.ly=null!=n?n:void 0},get currentTime(){return t.BL()},set currentTime(n){t.OL(Number(n))},get duration(){return t.xL()},get element(){return t.wy},get ended(){return t.jg},get error(){return t.UL()},get errorObject(){return t.XL()},get loop(){return t.yM.yM},set loop(n){t.yM.yM=Boolean(n)},get metrics(){return t.pm.Jw},get muted(){return t.Zg},set muted(n){t.zL(n)},get network(){return t.RU.Jw},get paused(){return t.Kg},get playbackRate(){return t.Jg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Jg=i},get played(){return t.YL()},get poster(){return t.wX},set poster(n){t.wX=fm(n)},get preload(){return t.Iy},set preload(n){t.Iy=n},get presentation(){return t.cU.Jw},get readyState(){return t.rg},get seekable(){return t.KL()},get seeking(){return t.$g},get source(){return i},set source(t){e(t)},get src(){return KE(t.Hm())},set src(t){e({sources:t})},get textTracks(){return t.Lm.Jw},get textTrackStyle(){return t.NU.Jw},get uid(){return t.F_},get videoHeight(){return t.tm},get videoTracks(){return t.xm.Jw},get videoWidth(){return t.nm},get volume(){return t.im},set volume(n){t.rM(Number(n))},get latency(){return t.Ny.Jw},destroy:function(){t.Bd(),t=null,i=void 0},play:function(){t.fX()},pause:function(){t.Xm()},stop:function(){i=void 0,t.Fm()},prepareWithUserAction:function(){t.qm()},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)},setSource:function(t){e(t)}},(n=new bE(r,!0)).WC(t),r;var t,n,i,e,r},A(e,[{key:"oU",get:function(){return this.tX.oU}},{key:"aU",get:function(){return this.tX.aU}},{key:"Jc",get:function(){return this.tX.Jc}},{key:"uU",get:function(){return this.tX.uU}},{key:"qw",get:function(){return this.tX.qw}},{key:"VN",get:function(){return this.tX.fU}},{key:"cU",get:function(){return this.tX.cU}},{key:"hU",get:function(){return this.tX.hU}},{key:"pM",get:function(){return this.tX.pM}},{key:"TU",get:function(){return this.tX.TU}},{key:"Pm",get:function(){return this.tX.Pm},set:function(t){this.tX.Pm=t,this.cX()}},{key:"SU",get:function(){return this.tX.SU}},{key:"Om",get:function(){return this.tX.Om}},{key:"EU",get:function(){return this.tX.EU}},{key:"IU",get:function(){return this.tX.hU}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"Mm",get:function(){return this.tX.Mm}},{key:"pm",get:function(){return this.tX.pm}},{key:"RU",get:function(){return this.tX.RU}},{key:"Lm",get:function(){return this.tX.Lm}},{key:"NU",get:function(){return this.tX.NU}},{key:"xm",get:function(){return this.tX.xm}},{key:"pU",get:function(){return this.tX.pU}},{key:"yM",get:function(){return this.tX.yM}},{key:"ly",get:function(){return this.pD.ly},set:function(t){this.pD.ly=t}},{key:"uy",get:function(){return this.tX.uy}},{key:"wy",get:function(){return this.tX.wy}},{key:"jg",get:function(){return this.tX.jg}},{key:"Zg",get:function(){return this.tX.Zg},set:function(t){this.tX.Zg=t}},{key:"Kg",get:function(){return this.pD.Kg}},{key:"wX",get:function(){return this.iX.ud||""},set:function(t){this.iX.$U=t}},{key:"Jg",get:function(){return this.tX.Jg},set:function(t){this.pD.Jg=t}},{key:"Iy",get:function(){return this.tX.Iy},set:function(t){this.tX.Iy=YS(t)}},{key:"rg",get:function(){return this.pD.rg}},{key:"$g",get:function(){return this.pD.$g}},{key:"F_",get:function(){return this.tX.F_}},{key:"tm",get:function(){return this.tX.tm}},{key:"nm",get:function(){return this.tX.nm}},{key:"im",get:function(){return this.tX.im},set:function(t){this.tX.im=t}},{key:"Ny",get:function(){return this.tX.Ny}}]),e}(Cm)}function tD(t,n){var i=Ty(n),e=new(GN||(GN=ON(GN=$N(DN),SN.DU),GN=ON(GN,SN.CU)),GN)(t,i),r=e.Jw;return e.AU(),e.dX(zN),d.defineProperty(r,"constructor",{value:tD}),r=nm(r),function(t){for(var n=0;n<xN.length;n++)(0,xN[n])(t)}(e),r}uu(function(){t.dispatchEvent&&t.dispatchEvent(UN("theoplayerready"))});var nD,iD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Pu(t)},n.decode=function(t){return Du(t)},t}())},eD=["hls","airplay"],rD=zN.Jw,sD=MA.OI.registerContentProtectionIntegration.bind(MA.OI),uD=[bf.Sf,bf.Tf,ey.Gg,bf.Uf,bf.Ef,bf.yf,bf.Cf,bf.Df,bf._f,bf.If,bf.Xf,bf.df,ey.l_,bf.Nf,bm.Q_,vu._u,vu.yu,bf.hf,bf.cf,bf.Ff],oD={_X:!1,gX:50},aD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.QP="mX"}(nD||(nD={}));var cD,hD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Rh=void 0,s.eN=void 0,s.Fh=void 0,s.yX=!1,s.kX=new Wo,s.bX=!1,s.rX=new VN,s.pX=void 0,s._s=void 0,s.Zc=void 0,s.AX=function(){s.bX=!0},s.TX=function(){s.SX(!0)},s.Rh=n,s.eN=i,s.Fh=i.DN,s.pX=e,s._s=r,s.Fh.addEventListener("loadedmetadata",s.AX);for(var u=0;u<aD.length;u++){var o=aD[u];s.Fh.addEventListener(o,s.TX)}return s}S(i,t);var e=i.prototype;return e.EX=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this._s.As(t.hs,n));case 2:return i=r.sent,r.next=5,Rr.awrap(i.uh());case 5:return e=r.sent,r.next=8,Rr.awrap(this.IX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ve)},e.RX=function(t){var n=this.Zc;return n?0!==t.ON.length&&t.ON.some(function(t){return t.Kc.hs===n.Kc}):0===t.ON.length||!this.bX},e.NX=function(t){return this.pX.NX(t),this.Rh=t,Ve.resolve()},e.Bs=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Ks(),this.Fh.removeEventListener("loadedmetadata",this.AX),t=0;t<aD.length;t++)n=aD[t],this.Fh.removeEventListener(n,this.TX);return i.next=5,Rr.awrap(this.rX.Bd());case 5:return i.next=7,Rr.awrap(this.DX());case 7:return i.next=9,Rr.awrap(this.pX.I_());case 9:return i.next=11,Rr.awrap(this.IX(void 0));case 11:case"end":return i.stop()}},null,this,null,Ve)},e.SX=function(t){t!==this.yX&&(this.yX=t,t?this.kX.Hu(void 0):this.kX=new Wo)},e.IX=function(t){var n=this;return this.rX.YU(function(){return n.CX(t)})},e.CX=function(t){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Fh.src){e.next=4;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Fh.src){e.next=6;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.yX){e.next=9;break}return e.next=9,Rr.awrap(this.kX.Uu);case 9:if(!(i=this.Zc)){e.next=14;break}return e.next=13,Rr.awrap(i.eh(this.Fh));case 13:this.Zc=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Rr.awrap(t.ih(this.Fh));case 17:this.Zc=t;case 18:case"end":return e.stop()}},null,this,null,Ve)},e.zm=function(t){var n=this;return this.rX.YU(function(){return n.PX(t)})},e.PX=function(t){this.SX(!1);var n=this.eN.Jg;this.Fh.src=t,this.eN.Jg=n},e.BX=function(t){var n=this;return this.rX.YU(function(){return n.OX(t)})},e.OX=function(t){this.PX(t),this.Fh.load()},e.DX=function(){var t=this;return this.rX.YU(function(){return t.xX()})},e.xX=function(){this.SX(!1),sr(this.Fh)},A(i,[{key:"Om",get:function(){throw new v("Not implemented")}},{key:"Jc",get:function(){return this.Rh}},{key:"DN",get:function(){return this.Fh}},{key:"xm",get:function(){throw new v("Not implemented")}}]),i}(lu),fD=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.mL=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.Jc,n.t0=t.LN,n.next=n.t0===Lm.Cg?4:n.t0===Lm.Pg?4:(n.t0,Lm.Dg,6);break;case 4:return this.Fh.setAttribute("crossorigin",t.LN),n.abrupt("break",8);case 6:return this.Fh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Iy?this.Fh.preload=t.Iy:this.Fh.preload=GS.LR,void 0!==t.MN?this.Fh.title=t.MN:er(this.Fh),n.next=12,Rr.awrap(this.zm(t.cg));case 12:this.pX.zc(this,t);case 13:case"end":return n.stop()}},null,this,null,Ve)},i.RX=function(t){return!1},i.NX=function(t){return Ve.resolve(void 0)},i.Bs=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return er(this.Fh),n.next=3,Rr.awrap(t.prototype.Bs.call(this));case 3:case"end":return n.stop()}},null,this,null,Ve)},n.LX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Ul))},A(n,[{key:"vy",get:function(){return $S.dC(this.Fh.buffered)}},{key:"Yg",get:function(){return this.Fh.duration}},{key:"MX",get:function(){var t=this.Yg;if(!isFinite(t))return!1;var n=this.vy;return 0!==n.N_&&t-n.LD(n.N_-1)<1/6}},{key:"Iy",get:function(){return this.Fh.preload},set:function(t){this.Fh.preload=t}},{key:"Ry",get:function(){return $S.dC(this.Fh.seekable)}},{key:"UX",get:function(){return this.vy}},{key:"XX",get:function(){if(rr(this.Fh)&&(this.Fh.videoWidth>0||this.Fh.videoHeight>0))return this.vy}}]),n}(hD),vD=function(t){function n(n){var i;return(i=t.call(this,bf.Ef)||this).currentTime=n,i}return S(n,t),n}(wu),lD=function(t){function n(){return t.call(this,bf.yf)||this}return S(n,t),n}(wu);!function(t){t.FX="HX"}(cD||(cD={}));var dD,wD,_D=[cD.FX];!function(t){t[t.zX=0]="zX",t[t.Gf=1]="Gf",t[t.VX=2]="VX"}(dD||(dD={})),function(t){t.WX="GX"}(wD||(wD={}));var gD=function(t){function n(n){var i;return(i=t.call(this,wD.WX)||this).qX=n,i}return S(n,t),n}(wu),mD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).YX=$S.gC(),n}S(n,t);var i=n.prototype;return i.jX=function(t,n){var i=new $S([t,n]);this.YX=this.YX.$D(i),this.Ys(new gD(i))},i.QX=function(t,n){this.YX=this.YX.nC(new $S([t,n]))},i.I_=function(){this.YX=$S.gC()},i.Bd=function(){this.Ks()},A(n,[{key:"ZX",get:function(){return this.YX}}]),n}(lu);function yD(t,n){return void 0===n&&(n=new uw({highWaterMark:1/0})),new Wd(new bD(t,n),{highWaterMark:0})}var kD,bD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.ev=void 0,this.KX=void 0,this.JX=void 0,this.Ev=[],this.Iv=0,this.YM=void 0,this.$X=!1,this.tF=void 0,this.nF=function(t){return t.done?(i.iF(),void i.YM.close()):(i.Ev.push(t.value),i.Iv+=i.KX(t.value),i.$X&&i.iF(),i.eF()?i.ev.read().then(i.nF):void 0)},this._w=function(t){i.iF(),i.YM.error(t)},this.ev=t.getReader(),this.KX=r,this.JX=u}var n=t.prototype;return n.start=function(t){this.YM=t,this.eF()&&this.rF()},n.pull=function(){this.Ev.length>0?this.iF():this.$X=!0,this.eF()&&this.rF()},n.cancel=function(t){return Hs(this.Ev),this.Iv=0,this.$X=!1,this.ev.cancel(t)},n.iF=function(){if(0!==this.Ev.length){var t=this.Ev;this.Ev=[],this.Iv=0,this.$X=!1,this.YM.enqueue(t)}},n.eF=function(){return!!this.$X||this.JX-this.Iv>0},n.rF=function(){var t=this;if(!this.tF){var n=this.ev.read().then(this.nF).catch(this._w);this.tF=n;var i=function(){t.tF===n&&(t.tF=void 0)};n.then(i,i)}},t}(),pD=function(){function t(){this.sF=[],this.Nu=0}var n=t.prototype;return n.FU=function(t){this.sF.push(t),this.Nu+=t.byteLength},n.uF=function(t){if(this.Nu<=t)return this.oF();for(var n=this.sF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Bo(n[e],0,s)),i+=s}return{sF:r,Nu:i}},n.aF=function(t){var n=this.uF(t);return 1===n.sF.length?n.sF[0]:Uu(n.sF,n.Nu)},n.oF=function(){return{sF:this.sF,Nu:this.Nu}},n.cF=function(t){if(this.Nu<=t)return this.hF();for(var n=this.sF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Bo(n[0],0,s)),n[0]=Bo(n[0],s),i+=s}return this.Nu-=i,{sF:r,Nu:i}},n.fF=function(t){var n=this.cF(t);return 1===n.sF.length?n.sF[0]:Uu(n.sF,n.Nu)},n.hF=function(){var t=this.oF();return this.sF=[],this.Nu=0,t},n.vF=function(){var t=1===this.sF.length?this.sF[0]:Uu(this.sF,this.Nu);return this.sF=[],this.Nu=0,t},t}();!function(t){t[t.lF=0]="lF",t[t.dF=1]="dF",t[t.wF=2]="wF"}(kD||(kD={}));var AD=function(){var t=n.prototype;function n(){this.Ev=new pD,this.we=kD.lF,this._F=0,this.gF=0,this.mF()}return t.yF=function(t,n){},t.kF=function(){},t.bF=function(t){this.Ev.FU(t),this.pF(!1)},t.AF=function(){this.pF(!0)},t.TF=function(){return this.we!==kD.lF||0!==this.Ev.Nu},t.pF=function(t){for(;0!==this.Ev.Nu;){if(!t&&this._F>this.Ev.Nu)return;switch(this.we){case kD.lF:this.SF(t);break;case kD.dF:this.EF(t);break;case kD.wF:this.IF(t)}}},t.mF=function(){this.we=kD.lF,this._F=8},t.SF=function(t){var n=xo(this.Ev.aF(this._F)),i=new zo,e=Wb.IA(n,i);if(!e.pA)return this._F=e.NA,void(t&&this._F>this.Ev.Nu&&this.RF(this.Ev.Nu));var r=e.RA.us,s=e.RA.Nu;0===s&&(s=1/0),this.yF(r,s),this.NF(r)?this.DF(s):this.RF(s)},t.DF=function(t){this.we=kD.dF,this._F=t},t.EF=function(t){var n=xo(this.Ev.fF(this._F)),i=new zo,e=Wb.AA(n,i,!t);if(!e.pA)throw new Vb(i.Du);this.kF(),this.CF(e.TA),this.mF()},t.RF=function(t){this.we=kD.wF,this._F=0,this.gF=t},t.IF=function(t){var n=this.Ev.cF(this.gF);this.gF-=n.Nu;for(var i=0,e=n.sF;i<e.length;i++){var r=e[i];this.PF(r)}(0===this.gF||t&&this.gF===1/0)&&(this.kF(),this.mF())},n}(),TD=function(t){function n(n){var i;return(i=t.call(this)||this).YM=void 0,i.BF=void 0,i.OF=void 0,i.xF=void 0,i.BF=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.YM=t},i.transform=function(t){this.bF(t)},i.flush=function(){this.AF()},i.NF=function(t){return t===$k.wp||t===$k.Hp||t===$k.Kp},i.CF=function(t){var n=this.LF(t);this.YM.enqueue(n)},i.PF=function(t){this.YM.enqueue(t)},i.LF=function(t){var n=Lo(t.Xi.Xi);switch(t.us){case"moov":return this.MF(n);case"sidx":return this.UF(n);case"moof":return this.XF(n)}return n},i.MF=function(t){for(var n=kh(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof xc?n.boxes[i]=this.FF(e):e instanceof Lc?n.boxes[i]=this.HF(e):e instanceof zc&&this.zF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Pc&&this.VF(u)}return n.serialize().join()},i.FF=function(t){this.OF=t.timescale;var n=ED(ht.fromNumber(t.duration,!0),this.WF,this.BF);return 0!==n.getHighBits()?this.HF(function(t){return new Lc({creation:ht.fromNumber(t.creationTime,!0),modification:ht.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ht.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.BF,t.duration=n.toInt(),t)},i.HF=function(t){return this.OF=t.timescale,t.timescale=this.BF,t.duration=ED(t.duration,this.WF,this.BF),t},i.zF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Xc?t.boxes[n]=this.GF(i):i instanceof Fc?t.boxes[n]=this.qF(i):i instanceof hc?this.YF(i):i instanceof $a&&this.jF(i)}},i.GF=function(t){var n=ED(ht.fromNumber(t.duration,!0),this.WF,this.BF);return 0!==n.getHighBits()?this.qF(function(t){return new Fc({creation:ht.fromNumber(t.creationTime,!0),modification:ht.fromNumber(t.modificationTime,!0),duration:ht.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.qF=function(t){return t.duration=ED(t.duration,this.WF,this.BF),t},i.YF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof uc?t.boxes[n]=this.QF(i):i instanceof oc&&(t.boxes[n]=this.ZF(i))}},i.QF=function(t){this.xF=t.timescale;var n=ED(ht.fromNumber(t.duration,!0),this.KF,this.BF);return 0!==n.getHighBits()?this.ZF(function(t){return new oc({creation:ht.fromNumber(t.creationTime,!0),modification:ht.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ht.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.BF,t.duration=n.toInt(),t)},i.ZF=function(t){return this.xF=t.timescale,t.timescale=this.BF,t.duration=ED(t.duration,this.KF,this.BF),t},i.jF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Za?this.JF(e):e instanceof Ka&&this.tH(e)}},i.JF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=SD(e.mediaTime,this.WF,this.BF),e.segmentDuration=SD(e.segmentDuration,this.WF,this.BF)}},i.tH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=ED(e.mediaTime,this.WF,this.BF),e.segmentDuration=ED(e.segmentDuration,this.WF,this.BF)}},i.VF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Dc?this.nH(i):i instanceof Ic?t.boxes[n]=this.iH(i):i instanceof Rc&&(t.boxes[n]=this.eH(i))}},i.nH=function(t){t.defaultSampleDuration=SD(t.defaultSampleDuration,this.KF,this.BF)},i.iH=function(t){var n=ED(ht.fromNumber(t.fragmentDuration,!0),this.WF,this.BF);return 0!==n.getHighBits()?this.eH(function(t){return new Rc(ht.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.eH=function(t){return t.fragmentDuration=ED(t.fragmentDuration,this.WF,this.BF),t},i.UF=function(t){var n=bh(t);return(n=n instanceof ah?this.rH(n):this.sH(n)).serialize().join()},i.rH=function(t){var n=t.timescale,i=ED(ht.fromNumber(t.earliestPresentationTime,!0),n,this.BF);if(0!==i.getHighBits())return this.sH(function(t){return new ch(t.referenceId,t.timescale,ht.fromNumber(t.earliestPresentationTime,!0),ht.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.BF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=SD(s.subsegmentDuration,n,this.BF)}return t},i.sH=function(t){var n=t.timescale;t.timescale=this.BF,t.earliestPresentationTime=ED(t.earliestPresentationTime,n,this.BF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=SD(r.subsegmentDuration,n,this.BF)}return t},i.XF=function(t){for(var n=ph(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof th&&this.uH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof th&&this.oH(h,o)}return n.serialize().join()},i.uH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Zc?this.aH(i):i instanceof Yc?t.boxes[n]=this.cH(i):i instanceof jc?t.boxes[n]=this.hH(i):i instanceof Jc&&this.fH(i)}},i.aH=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=SD(t.defaultSampleDuration,this.KF,this.BF))},i.cH=function(t){var n=ED(ht.fromNumber(t.baseMediaDecodeTime,!0),this.KF,this.BF);return 0!==n.getHighBits()?this.hH(function(t){return new jc(ht.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.hH=function(t){return t.baseMediaDecodeTime=ED(t.baseMediaDecodeTime,this.KF,this.BF),t},i.fH=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var a=o[u];if(void 0!==a.duration){var c=SD(s+=a.duration,this.KF,this.BF);a.duration=c-r,r=c}void 0!==a.compositionTimeOffset&&(a.compositionTimeOffset=(n=a.compositionTimeOffset,i=this.KF,e=this.BF,ht.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.oH=function(t,n){var i=Os(t.boxes,ID);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof Jc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},A(n,[{key:"WF",get:function(){if(void 0===this.OF)throw new v("Expected to have found a movie header timescale.");return this.OF}},{key:"KF",get:function(){if(void 0===this.xF)throw new v("Expected to have found a media header timescale.");return this.xF}}]),n}(AD);function SD(t,n,i){return ht.fromInt(t,!0).multiply(i).divide(n).toNumber()}function ED(t,n,i){return Xk.Zk(t).Tb(Xk.Kk(i,!0)).Rb(Xk.Kk(n,!0)).fb()}function ID(t){return t instanceof Zc}var RD,ND,DD,CD=1e5,PD=function(){function t(t){this.vH=void 0,this.vH=new TD(t)}return t.prototype.lH=function(t){return t.pipeThrough(new vw(this.vH))},t}();function BD(t,n,i){var e=no(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function OD(t,n){BD(t,n,RD.dH);var i,e,r,s=xD(t,n),u=n.Du+s,o=oo(t,n),a=no(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=oo(t,n)),c)&&(e=wo(t,n,no(t,n)));h&&(r=wo(t,n,2));var v=function(t,n){BD(t,n,RD.wH);var i,e=xD(t,n),r=n.Du+e,s=no(t,n),u=no(t,n),o=u>>2,a=0!=(2&u),c=uo(t,n,3),h=co(t,n),f=co(t,n);if(n.Du<r){var v=function(t,n){return t.getUint8(n.Du)}(t,n);v===RD._H&&(i=function(t,n){BD(t,n,RD._H);var i=xD(t,n),e=eo(t,n,i);return{gH:RD._H,mH:e}}(t,n))}return n.Bu(r),{gH:RD.wH,yH:s,kH:o,bH:a,pH:c,AH:h,TH:f,SH:i}}(t,n);return n.Bu(u),{gH:RD.dH,X_:o,EH:i,ud:e,IH:f,RH:r,NH:v}}function xD(t,n){for(var i=0,e=0;e<4;e++){var r=no(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function LD(t,n){for(var i=no(t,n),e=no(t,n),r=no(t,n),s=no(t,n),u=3&no(t,n),o=31&no(t,n),a=[],c=0;c<o;c++){var h=oo(t,n);a.push(eo(t,n,h))}for(var f=no(t,n),v=[],l=0;l<f;l++){var d=oo(t,n);v.push(eo(t,n,d))}return{DH:i,CH:e,PH:r,BH:s,OH:u,xH:a,LH:v}}function MD(t,n){var i=Hb(Qb.xA(t),$k.Hp);if(i&&0!==i.ZA.length)return UD(i,n)}function UD(t,n){for(var i,e=0,r=t.ZA;e<r.length;e++){var s,u=r[e],o=null==(s=u.AS)?void 0:s.AS;o&&function(){var t=u.RA.cT,e=Os(n.ZA,function(n){return n.cT===t}),r=jk.Zk(o,e.Cb);i=i?jk.xb(i,r):r}()}return i}function XD(t){var n=Hb(Qb.xA(t),$k.wp);if(n){for(var i=n.RA.Cb,e=[],r=0,s=n.ZA;r<s.length;r++){for(var u=s[r],o=u.RA.cT,a=u.sT.RA.Cb,c=void 0,h=void 0,f=0,v=u.sT.gT.kT.pT.TT;f<v.length;f++){var l,d,w=FD(v[f]);if(w)c=null!=(l=w.MH)?l:c,h=null!=(d=w.UH)?d:h}e.push({cT:o,Cb:a,XH:{MH:c,UH:h,FH:void 0}})}return{Cb:i,ZA:e}}}function FD(t){var n,i;if(t.us===$k.Rp)n=function(t){return"avc1."+HD(t.CH,2)+HD(t.PH,2)+HD(t.BH,2)}(LD(xo(t.ZT.Xi),new zo));else if(t.us===$k.Dp||t.us===$k.Cp){var e=function(t,n){for(var i=n.Mu(),e=Vu(t,i,8),r=Vu(t,i,2),s=Vu(t,i,1),u=Vu(t,i,5),o=Vu(t,i,32),a=[],c=0;c<6;c++)a.push(Vu(t,i,8));var h=Vu(t,i,8);i.Cu(4);var f=Vu(t,i,12);i.Cu(6);var v=Vu(t,i,2);i.Cu(6);var l=Vu(t,i,2);i.Cu(5);var d=Vu(t,i,3);i.Cu(5);for(var w=Vu(t,i,3),_=Vu(t,i,16),g=Vu(t,i,2),m=Vu(t,i,3),y=Vu(t,i,1),k=Vu(t,i,2),b=Vu(t,i,8),p=[],A=0;A<b;A++){var T=Vu(t,i,1);i.Cu(1);for(var S=Vu(t,i,6),E=Vu(t,i,16),I=[],R=0;R<E;R++){var N=Vu(t,i,16),D=eo(t,new zo(i.Du>>3),N);i.Cu(8*N),I.push({HH:N,zH:D})}p.push({VH:T,WH:S,GH:E,qH:I})}return{DH:e,YH:r,jH:s,QH:u,ZH:a,KH:h,JH:f,$H:v,tz:o,nz:l,iz:d,ez:w,rz:_,sz:m,oz:y,cz:g,OH:k,fz:b,vz:p}}(xo(t.tS.Xi),new zo);n=function(t,n){var i=t.toString()+".";switch(n.YH){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.QH.toString()+".",i+=(e=n.tz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.jH){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.KH.toString();for(var s=n.ZH.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.ZH[u].toString(16).toUpperCase();return i}(t.us,e)}else{if(t.us!==$k.Op)return(t.us===$k.Fp||t.us===$k.Xp)&&t.eS?FD(t.eS):void 0;i=function(t){var n=t.NH;switch(n.yH){case ND.lz:return function(t){var n;if(null==(n=t.SH)||!n.mH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Vu(t,n,5);31===i&&(i=32+Vu(t,n,6));var e,r=Vu(t,n,4);return 15===r&&(e=Vu(t,n,24)),{wz:i,_z:r,gz:e,mz:Vu(t,n,4)}}(xo(t.SH.mH),new Wu).wz}(n);case ND.yz:return"mp4a.40.2";case ND.kz:return"mp4a.40.34"}}(OD(xo(t.WT.Xi),new zo))}return{MH:n,UH:i,FH:void 0}}function HD(t,n){return _s(t.toString(16),n,"0")}function zD(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.us,e.next=e.t0===dD.zX?3:e.t0===dD.Gf?4:e.t0===dD.VX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Rr.awrap(Rw(t.Xi,n));case 6:return i=e.sent,$s(n),e.abrupt("return",{us:dD.zX,Xi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,Ve)}!function(t){t[t.dH=3]="dH",t[t.wH=4]="wH",t[t._H=5]="_H"}(RD||(RD={})),function(t){t[t.lz=64]="lz",t[t.yz=103]="yz",t[t.kz=107]="kz"}(ND||(ND={})),function(t){t[t.bz=0]="bz",t[t.pz=1]="pz",t[t.yz=2]="yz",t[t.Az=5]="Az",t[t.Tz=34]="Tz"}(DD||(DD={}));var VD=20,WD=L.Cn,GD=function(t){function n(n,e,r,s,u){var o;return(o=t.call(this)||this).Sz=void 0,o.Ez=void 0,o.Iz=void 0,o.Rz=void 0,o.Nz=void 0,o.lL=VD,o.dL=HR,o.Dz=!1,o.Cz=!1,o.Pz=void 0,o.Bz=new Zs,o.Oz=void 0,o.xz=!1,o.Lz=void 0,o.Mz=!1,o.Uz=void 0,o.Xz=function(){o.Dz=!1},o.Sz=e,o.Ez=n,o.Iz=r,o.Iz.addEventListener("updateend",o.Xz),o.Rz=s,o.Nz=u,o.Mz=qD(s.Ul,u),i.Or.Qe&&(o.Oz=new PD(CD)),o}S(n,t);var e=n.prototype;return e.Fz=function(t,n,i){var e=this;switch(t.us){case dD.zX:case dD.Gf:return this.Hz(function(i){return e.zz(t,n,i)},i);case dD.VX:throw new v("Opaque segments are not supported on web.")}},e.Vz=function(t,n){var i=this;switch(t.us){case dD.zX:return this.Hz(function(n){return i.Wz(t,n)},n);case dD.Gf:throw new v("Streaming initialization segments are not supported on web.");case dD.VX:throw new v("Opaque initialization segments are not supported on web.")}},e.Wz=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Mz){i.next=3;break}return this.Uz=XD(xo(t.Xi)),i.abrupt("return");case 3:return i.next=5,Rr.awrap(this.Gz(t,void 0,n));case 5:WD&&(this.xz=!1,this.Lz=t);case 6:case"end":return i.stop()}},null,this,null,Ve)},e.zz=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(WD&&this.xz&&this.Lz)){u.next=3;break}return u.next=3,Rr.awrap(this.Wz(this.Lz,i));case 3:if(u.prev=3,$s(i),!this.Mz||!this.Uz){u.next=12;break}return u.next=8,Rr.awrap(zD(t,i));case 8:r=u.sent,o=r.Xi,a=this.Uz,c=void 0,h=void 0,f=void 0,c=Qb.xA(xo(o)),h=UD(Hb(c,$k.Hp),a),f=Hb(c,$k.jp),s={Zy:h.Bk(),qz:f.Xi},t={us:dD.zX,Xi:s.qz},n=Nr({},n,{cp:s.Zy+(null!=(e=n.cp)?e:0)});case 12:return u.next=14,Rr.awrap(this.Gz(t,n,i));case 14:this.Ys(new wu(cD.FX));case 15:return u.prev=15,t.us===dD.Gf&&t.Xi.cancel(new Ks).catch(Z),u.finish(15);case 18:case"end":return u.stop()}var o,a,c,h,f},null,this,[[3,,15,18]],Ve)},e.Gz=function(t,n,e){var r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:$s(e),n&&this.Yz(n),u.t0=t.us,u.next=u.t0===dD.zX?5:u.t0===dD.Gf?13:21;break;case 5:if(!i.Or.Qe){u.next=10;break}return r=this.Oz.lH(Ew(t.Xi)),u.next=9,Rr.awrap(this.jz(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,Rr.awrap(this.Qz(t.Xi));case 12:return u.abrupt("return",u.sent);case 13:if(!i.Or.Qe){u.next=18;break}return s=this.Oz.lH(t.Xi),u.next=17,Rr.awrap(this.jz(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,Rr.awrap(this.jz(t.Xi,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,Ve)},e.jz=function(t,n){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=this.Ez.vy,e=yD(t),r=e.getReader(),s=!1,h.prev=4;case 5:return h.next=8,Rr.awrap(iu(r.read(),n));case 8:if(!(u=h.sent).done){h.next=12;break}return s=!1,h.abrupt("break",19);case 12:return $s(n),o=Mu(u.value),s=!0,h.next=17,Rr.awrap(this.Qz(o));case 17:h.next=5;break;case 19:h.next=36;break;case 21:if(h.prev=21,h.t0=h.catch(4),r.cancel(h.t0).catch(Z),!s){h.next=35;break}return h.next=27,Rr.awrap(this.Zz());case 27:a=this.Ez.vy.YD(i.jD()),c=0;case 29:if(!(c<a.N_)){h.next=35;break}return h.next=32,Rr.awrap(this.Kz(a.OD(c),a.LD(c)));case 32:c++,h.next=29;break;case 35:throw h.t0;case 36:case"end":return h.stop()}},null,this,[[4,21]],Ve)},e.Jz=function(t,n){var i=this;return this.Hz(function(){return i.$z(t,n)})},e.$z=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Iz.appendWindowStart===t&&this.Iz.appendWindowEnd===n){i.next=6;break}return i.next=3,Rr.awrap(this.Zz());case 3:this.Iz.appendWindowStart=0,this.Iz.appendWindowEnd=n,this.Iz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,Ve)},e.Yz=function(t){this.Iz.timestampOffset!==t.cp&&(this.Iz.timestampOffset=t.cp)},e.Qz=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Iz.appendBuffer(t),this.Cz=!0,n.next=4,Rr.awrap(this.tV());case 4:case"end":return n.stop()}},null,this,null,Ve)},e.nV=function(t,n,i){var e=this;return this.Hz(function(i){return e.Kz(t,n,i)},i)},e.Kz=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return $s(i),this.Iz.remove(t,n),e.next=4,Rr.awrap(this.tV());case 4:case"end":return e.stop()}},null,this,null,Ve)},e.tV=function(){var t=this,n=this.Ez.vy;return new Ve(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},c=function(){h(),s&&!r?(n.oC(t.Ez.vy)||t.Ys(new wu(cD.FX)),i()):e(new v(r))},h=function(){t.Iz.removeEventListener("update",u),t.Iz.removeEventListener("error",o),t.Iz.removeEventListener("abort",a),t.Iz.removeEventListener("updateend",c)};t.Iz.addEventListener("update",u),t.Iz.addEventListener("error",o),t.Iz.addEventListener("abort",a),t.Iz.addEventListener("updateend",c)})},e.iV=function(){var t=this;return this.Hz(function(){return t.Zz()})},e.Zz=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Sz.rg===cC.Hd){t.next=2;break}return t.abrupt("return");case 2:WD&&(this.xz=!0),this.Iz.updating&&(this.Dz=!0);try{this.Iz.abort()}catch(t){0,this.Dz=!1}if(!this.ax){t.next=8;break}return t.next=8,Rr.awrap(this.tV().catch(Z));case 8:case"end":return t.stop()}},null,this,null,Ve)},e.eV=function(){return"function"==typeof this.Iz.changeType},e.NX=function(t){var n;this.rV(),this.Sz.rg!==cC.sV&&(this.Rz=t,this.Nz=null!=(n=lC(t.Ul))?n:t.Ul,this.Mz=qD(t.Ul,this.Nz),this.eV()&&this.Iz.changeType(this.Nz))},e.uV=function(){this.Sz.rg!==cC._f||this.Pz||this.ax||(this.Iz.timestampOffset=this.Iz.timestampOffset,this.Sz.oV())},e.Hz=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.rV(),(i=new Zs).Fs(this.Bz.zs),n&&i.Fs(n),e.prev=4,this.Pz=t(i.zs),e.next=8,Rr.awrap(this.Pz);case 8:if(this.Sz.oV(),!this.ax){e.next=12;break}return e.next=12,Rr.awrap(this.tV());case 12:return e.prev=12,this.Pz=void 0,i.Bs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],Ve)},e.rV=function(){if(this.Pz)throw new v("Internal error")},e.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),this.Bz.Xs(),!this.Pz){t.next=6;break}return t.next=5,Rr.awrap(this.Pz.catch(Z));case 5:this.Pz=void 0;case 6:this.Iz.removeEventListener("updateend",this.Xz);case 7:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t}},{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t}},{key:"ax",get:function(){return this.Dz||this.Iz.updating}}]),n}(lu);function qD(t,n){return vs(t,"audio/mp4")&&vs(n,"audio/mpeg")}var YD=function(){function t(t,n){this.aV=void 0,this.Iz=void 0,this.cV=void 0,this.aV=n,this.Iz=t}var n=t.prototype;return n.MX=function(){return!!this.cV&&this.vy.zD().QN(this.cV)},n.hV=function(){var t=this.vy;this.cV=t.N_>0?t.LD(t.N_-1):0,this.aV.fV()},n.uV=function(){this.cV=void 0},A(t,[{key:"vy",get:function(){if(this.aV.rg===cC.sV)return $S.gC();var t=$S.dC(this.Iz.buffered).YD(new $S([0,1/0])),n=this.cV;return void 0!==n&&t.N_>0&&t.LD(t.N_-1)===n&&(t=t.$D($S._C(n))),t}}]),t}();function jD(t){var n=t.hh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function QD(t,n){var i=ZD(t)||KD(t),e=ZD(n)||KD(n);return!i&&!e||t===n}function ZD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function KD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function JD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function $D(t,n,i,e,r,s,u){var o=new YD(r,t),a=new GD(o,t,r,i,s);return new tC(t,n,i,e,o,a,u)}var tC=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Sz=void 0,a.Rh=void 0,a.vV=void 0,a.eN=void 0,a.Sh=void 0,a.lV=void 0,a.Ez=void 0,a.dV=void 0,a.wV=Cr(),a.Sz=n,a.Rh=e,a.Sh=e.Ul,a.vV=r,a.eN=i,a.Ez=s,a.dV=u,a.lV=o,a.dV.js(cD.FX,a.qs),a}S(n,t);var i=n.prototype;return i.MX=function(){return this.Ez.MX()},i.hV=function(){this.Ez.hV()},i.uV=function(){this.Ez.uV(),this.dV.uV()},i._V=function(t,n){this.lV.jX(t,n)},i.gV=function(t,n){this.lV.QX(t,n)},i.mV=function(){return this.dV.iV()},i.Fz=function(t,n,i){return this.dV.Fz(t,n,i)},i.Vz=function(t,n,i){return this.dV.Vz(t,i)},i.Jz=function(t,n){return this.dV.Jz(t,n)},i.Vc=function(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.gV(t,n),e=this.vy,s.next=4,Rr.awrap(this.dV.nV(t,n,i));case 4:r=0!==e.N_&&0===this.vy.N_,(L.xn||L.Tn)&&r&&this.eN.Bu(this.eN.qg);case 6:case"end":return s.stop()}},null,this,null,Ve)},i.RX=function(t){var n=t.Ul;if(this.Sh===n)return!0;var i=this.wV.get(n);if(void 0!==i)return i;var e=this.yV(t);return this.wV.set(n,e),e},i.yV=function(t){var n=lC(t.Ul);if(void 0===n)return!1;var i=Ph(this.Sh),e=Ph(n),r=jD(i),s=jD(e);if(this.dV.eV()){if(!function(t,n){return js(t,n,QD)}(r,s))return!1}else{if(i.us!==e.us)return!1;if(!function(t,n){return js(t,n,JD)}(r,s))return!1}return!0},i.NX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Ul,this.Sh!==n&&(this.wV.clear(),this.dV.NX(t),this.Sh=n),this.Rh=t,this.Sz.kV();case 4:case"end":return i.stop()}},null,this,null,Ve)},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wV.clear(),this.Ks(),this.lV.Bd(),t.prev=3,this.dV.Js(cD.FX,this.qs),t.next=7,Rr.awrap(this.dV.Bs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],Ve)},A(n,[{key:"vy",get:function(){return this.Ez.vy}},{key:"Jc",get:function(){return this.Rh}},{key:"Ul",get:function(){return this.Sh}},{key:"bV",get:function(){return this.vV}},{key:"pV",get:function(){return this.lV.ZX}},{key:"sL",get:function(){return this.dV.sL},set:function(t){this.dV.sL=t}},{key:"cL",get:function(){return this.dV.cL},set:function(t){this.dV.cL=t}},{key:"ax",get:function(){return this.dV.ax}}]),n}(lu),nC=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.AV=void 0,this.OD=t,this.LD=n,this.TV=i,this.SV=e,this.AV=XI()}return t.prototype.EV=function(){var t=this.OD,n=this.LD;if(this.TV||this.SV){var i=.001*(XI()-this.AV);this.TV&&(t+=i),this.SV&&(n+=i)}return t>=n?$S.gC():new $S([t,n])},t}(),iC=100,eC=1e3,rC=1e4,sC=.01,uC=[bf.Sf,bf.Tf,bf.Cf,bf.Df,bf._f,bf.If,ey.l_,bm.Q_],oC=function(){function t(t,n){var e=this;this.DE=Fm.xg,this.RV=!1,this.NV=[],this.DV=void 0,this.CV=0,this.PV=0,this.BV=0,this.OV=0,this.xV=0,this.LV=eC,this.MV=function(t){var n=e.eN.qg;t.qX.QN(n)&&e.UV(n)},this.XV=J(function(){e.FV(ey.l_)},iC),this.HV=J(function(){e.FV(bf.Ef)},iC),this.zV=function(){e.VV()?e.WV():e.GV()},this.qV=function(){var t=e.CV,n=e.BV,r=e.eN.qg,s=i.Je(),u=t!==r;if(u||!e.VV())return e.CV=r,e.BV=s,void(u&&(e.xV=0,e.LV=eC));if(n>0&&s>n+e.LV){var o=r+e.xV*sC,a=e.Ez.vy;a.QN(o)||(o=e.YV(r,a)),e.CV=o,e.BV=s,e.xV++,e.LV=w.min(2*e.LV,rC),e.eN.Bu(o)}},this.Ez=t,this.eN=n,this.eN.js(ey.l_,this.XV),this.eN.js(bf.Ef,this.HV),this.eN.js(uC,this.zV)}var n=t.prototype;return n.jV=function(t){this.NV.push(t),t.js(wD.WX,this.MV)},n.Bd=function(){var t=this;this.GV(),this.DE=Fm.xg,this.eN.Js(ey.l_,this.XV),this.eN.Js(bf.Ef,this.HV),this.eN.Js(uC,this.zV),this.NV.forEach(function(n){return n.Js(wD.WX,t.MV)}),void 0!==this.DV&&(i.qn(this.DV),this.DV=void 0),this.RV=!0},n.FV=function(t){if(!this.RV){var n=this.eN.rg;if(n<=Fm.Mg){var i=this.eN.qg,e=this.Ez.vy,r=e.iC(i),s=e.LD(r);-1!==r&&(t===ey.l_&&n<this.DE||t===bf.Ef&&n===this.DE)&&s<i+.5&&(i=s),this.UV(i)}t===ey.l_&&(this.DE=n)}},n.UV=function(t){var n=this;if(this.eN.jg)return!1;var e=this.ZX.zD().nC(this.Ez.vy),r=e.iC(t);if(-1!==r&&!(w.abs(e.OD(r)-e.LD(r))<=.001)){if(i.Xw){if(void 0!==this.DV)return!1;this.PV=this.eN.qg,this.DV=i.Yn(function(){n.PV===n.eN.qg&&n.eN.Bu(e.LD(r)),n.DV=void 0},1500)}else this.eN.Bu(e.LD(r));return!0}return!1},n.WV=function(){0===this.OV&&(this.OV=i.yr(this.qV,250))},n.GV=function(){0!==this.OV&&(i.pr(this.OV),this.OV=0),this.eN.$g||(this.BV=0)},n.VV=function(){return!this.eN.Kg&&!this.eN.$g&&0!==this.eN.Jg&&!this.eN.jg&&!this.eN.wu&&this.eN.rg>=Fm.Ug},n.YV=function(t,n){var i=n.iC(t);return i>-1?n.LD(i):t},A(t,[{key:"ZX",get:function(){return this.NV.reduce(function(t,n){return t.$D(n.ZX)},$S.gC())}}]),t}();function aC(t){var n=[];if(t.QV&&n.push(t.QV.vy),t.ZV&&n.push(t.ZV.vy),0===n.length)return $S.gC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.N_>0&&(i=w.max(i,r.LD(r.N_-1)))}for(var s=t.MX,u=new $S([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.N_>0&&(a=a.$D(new $S([a.LD(a.N_-1),i],[!0,!0]))),u=u.YD(a)}return u}var cC,hC=L.Sn||L.En;!function(t){t.sV="closed",t.Hd="open",t._f="ended"}(cC||(cC={}));var fC=function(){function t(){}return t.prototype.KV=function(){return new MediaSource},t}(),vC=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new fC),(u=t.call(this,n,i,e,r)||this).JV=void 0,u.$V=void 0,u.tW=void 0,u.nW=new nC(0,1/0),u.rN=void 0,u.iW=void 0,u.eW=void 0,u.rW=!1,u.sW=function(){u.uW()},u.oW=function(){u.eN.oW()},u.JV=s,u.rN=u.JV.KV(),u.eN.js(bf.Cf,u.sW),u.eW=new oC(Zt(u),u.eN),u}S(n,t);var i=n.prototype;return i.aW=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.cW()?this.hW(t):this.iW=t},i.hW=function(t){var n=t===1/0,i=n?Ot:t;if(n&&this.rN.setLiveSeekableRange){var e=w.pow(2,39);this.rN.setLiveSeekableRange(0,e)}this.rN.duration=i,this.iW=void 0},i.fW=function(t,n,i,e){this.nW=new nC(t,n,!!i,!!e)},i.mL=function(){var t,n,i,e,r,s,u,o,a,c,h;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Rh,n=Os(t.vW,function(t){return vs(t.Ul,"audio")}),i=Os(t.vW,function(t){return vs(t.Ul,"video")}),f.next=5,Rr.awrap(this.lW());case 5:n&&(r=new mD,this.eW.jV(r),s=null!=(e=lC(n.Ul))?e:n.Ul,u=this.rN.addSourceBuffer(s),this.$V=$D(this,this.eN,n,jy.Ad,u,s,r),this.$V.js(cD.FX,this.oW)),i&&(a=new mD,this.eW.jV(a),c=null!=(o=lC(i.Ul))?o:i.Ul,h=this.rN.addSourceBuffer(c),this.tW=$D(this,this.eN,i,jy.Td,h,c,a),this.tW.js(cD.FX,this.oW)),this.pX.zc(this,t);case 8:case"end":return f.stop()}},null,this,null,Ve)},i.lW=function(){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.rN),i.next=3,Rr.awrap(t.prototype.BX.call(this,n));case 3:if(this.rg===cC.Hd){i.next=6;break}return i.next=6,Rr.awrap(Ug(this.rN,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,Ve)},i.cW=function(){if(this.rg!==cC.Hd)return!1;var t=this.$V&&this.$V.ax,n=this.tW&&this.tW.ax;return!(t||n)},i.hV=function(){this.rW=!0,this.$V&&this.$V.hV(),this.tW&&this.tW.hV(),this.rW=!1,this.uW()},i.uV=function(){this.$V&&this.$V.uV(),this.tW&&this.tW.uV()},i.RX=function(n){var i=Os(n.vW,function(t){return vs(t.Ul,"audio")}),e=Os(n.vW,function(t){return vs(t.Ul,"video")});if(this.$V){if(!i)return!1;if(!this.$V.RX(i))return!1}else if(i)return!1;if(this.tW){if(!e)return!1;if(!this.tW.RX(e))return!1}else if(e)return!1;return!!t.prototype.RX.call(this,n)},i.NX=function(n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Os(n.vW,function(t){return vs(t.Ul,"audio")}),e=Os(n.vW,function(t){return vs(t.Ul,"video")}),r=[],this.$V&&r.push(this.$V.NX(i)),this.tW&&r.push(this.tW.NX(e)),s.next=7,Rr.awrap(Ve.all(r));case 7:return s.next=9,Rr.awrap(t.prototype.NX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,Ve)},i.Bs=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.$V){n.next=4;break}return n.next=3,Rr.awrap(this.$V.Bs());case 3:this.$V=void 0;case 4:if(!this.tW){n.next=8;break}return n.next=7,Rr.awrap(this.tW.Bs());case 7:this.tW=void 0;case 8:return this.Fh.src&&URL.revokeObjectURL(this.Fh.src),this.eN.Js(bf.Cf,this.sW),this.eW.Bd(),n.next=13,Rr.awrap(t.prototype.Bs.call(this));case 13:case"end":return n.stop()}},null,this,null,Ve)},i.kV=function(){var t=this,n=this.Rh,i=n.vW.map(function(n){return vs(n.Ul,"audio")&&t.$V?t.$V.Jc:vs(n.Ul,"video")&&t.tW?t.tW.Jc:n});this.Rh=Nr({},n,{vW:i})},i.fV=function(){this.rW||this.uW()},i.uW=function(){this.dW&&this.cW()&&(this.rN.endOfStream(),this.iW=void 0,this.Ys(new wu(nD.QP)),this.eN.oW())},i.oV=function(){this.cW()&&(this.MX?this.uW():void 0!==this.iW&&this.hW(this.iW))},i.UV=function(t){return this.eW.UV(t)},n.LX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.vW;n<i.length;n++){if(void 0===lC(i[n].Ul))return!1}return!0},A(n,[{key:"QV",get:function(){return this.$V}},{key:"ZV",get:function(){return this.tW}},{key:"Yg",get:function(){if(this.iW)return this.iW;var t=this.rN.duration;return t===Ot?1/0:t}},{key:"vy",get:function(){return hC?aC(this):(t=this,n=$S.dC(this.Fh.buffered),(i=n).N_>0&&t.MX&&(i=i.$D($S._C(i.LD(i.N_-1)))),i);var t,n,i}},{key:"UX",get:function(){var t;return null==(t=this.$V)?void 0:t.vy}},{key:"XX",get:function(){var t;return null==(t=this.tW)?void 0:t.vy}},{key:"Ry",get:function(){return this.nW.EV().YD(new $S([0,this.Yg],[!0,!0]))}},{key:"MX",get:function(){return(!this.$V||this.$V.MX())&&(!this.tW||this.tW.MX())}},{key:"rg",get:function(){return this.rN.readyState}},{key:"dW",get:function(){if(!this.MX)return!1;var t=this.vy;return 0!==t.N_&&t.OD(t.N_-1)<=this.eN.qg}}]),n}(hD);function lC(t){var n=Ph(t),i="audio/mp4"===n.us&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(jD(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!L.Cn))return t;if(i){var e=Os(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var dC=[bf.Xf,bf.If,bf.Cf,bf.Sf,bf.Tf],wC=function(t){function n(n,i,e,r,s,u,o,a,c){var h;return(h=t.call(this)||this).pC=n,h.ea=i,h.wW=e,h.TC=r,h.EC=s,h.AC=u,h.SC=o,h.Ia=a,h._W=c,h}S(n,t);var i=n.prototype;return i.Xm=function(){this.TC||(this.TC=!0,this.Ys(new sy(this.qg)))},i.Um=function(){this.TC&&(this.TC=!1,this.Ys(new uy(this.qg)))},i.Bs=function(){this.Ks()},A(n,[{key:"qg",get:function(){return this.pC},set:function(t){this.qg!==t&&(this.pC=t,this.EC=!0,this.Ys(new _y(this.qg)))}},{key:"Yg",get:function(){return this.ea}},{key:"jg",get:function(){return this.wW}},{key:"Kg",get:function(){return this.TC}},{key:"rg",get:function(){return this._W}},{key:"$g",get:function(){return this.EC}},{key:"Zg",get:function(){return this.AC},set:function(t){this.Zg!==t&&(this.AC=t,this.Ys(new my(this.qg,this.im)))}},{key:"Jg",get:function(){return this.SC},set:function(t){this.Jg!==t&&(this.SC=t,this.Ys(new vy(this.qg,this.Jg)))}},{key:"im",get:function(){return this.Ia},set:function(t){this.im!==t&&(this.Ia=t,this.Ys(new my(this.qg,this.im)))}}]),n}(lu);var _C=function(t){function n(n){var i;return(i=t.call(this)||this).eN=void 0,i.DE=Fm.xg,i.gW=function(){i.mW()},i.eN=n,i}S(n,t);var i=n.prototype;return i.yW=function(t){this.DE!==t&&(this.DE=t,this.Ys(new by(this.eN.qg,t)))},i.mW=function(){this.yW(this.ZL())},i.I_=function(){this.yW(Fm.xg)},i.Bs=function(){this.Ks()},A(n,[{key:"rg",get:function(){return this.ZL()}}]),n}(lu),gC=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],mC=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<gC.length;e++){var r=gC[e];i.eN.DN.addEventListener(r,i.gW)}return i}S(n,t);var i=n.prototype;return i.ZL=function(){var t=this.eN.DN.readyState;return t>Fm.Mg&&this.eN.kW?Fm.Mg:(this.eN.DN.seeking&&t>Fm.Lg&&(t=Fm.Lg),t)},i.Bs=function(){for(var n=0;n<gC.length;n++){var i=gC[n];this.eN.DN.removeEventListener(i,this.gW)}t.prototype.Bs.call(this)},n}(_C),yC=function(t){function n(n){var i;(i=t.call(this,n)||this).eN.js(bf.Cf,i.gW);for(var e=0;e<gC.length;e++){var r=gC[e];i.eN.DN.addEventListener(r,i.gW)}return i}S(n,t);var i=n.prototype;return i.ZL=function(){if(this.eN.DN.readyState===Fm.xg)return Fm.xg;var t=this.bW(),n=t?t.LD-t.OD:0;if(!t)return Fm.Lg;var i=this.eN.Jg;return this.pW()||n>=3*i?Fm.Xg:n>=3?Fm.Ug:Fm.Mg},i.bW=function(){var t=this.eN.qg,n=this.eN.vy.JD(.04),i=n.iC(t);if(!(i<0))return{OD:t,LD:n.LD(i)}},i.pW=function(){if(this.eN.jg)return!0;var t=this.eN.Yg,n=this.bW();return!!n&&t-n.LD<=1/6},i.Bs=function(){this.eN.Js(bf.Cf,this.gW);for(var n=0;n<gC.length;n++){var i=gC[n];this.eN.DN.removeEventListener(i,this.gW)}t.prototype.Bs.call(this)},n}(_C),kC=[ey.l_,bf.Sf,bf.Tf,bf.Cf,bf.Df,bf._f,bm.Q_],bC=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fh=void 0,i.AW=!1,i.TW=function(){i.AW=!0,i.Wc()},i.Fh=n.DN,i.Fh.addEventListener(ey.Gg,i.TW),i}S(n,t);var i=n.prototype;return i.SW=function(){return this.AW&&t.prototype.SW.call(this)},i.Wc=function(){this.AW&&(this.Fh.paused||this.Fh.ended||this.Fh.error)&&(this.AW=!1),t.prototype.Wc.call(this)},i.I_=function(){t.prototype.I_.call(this),this.AW=!1},i.Bs=function(){this.Fh.removeEventListener(ey.Gg,this.TW),t.prototype.Bs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).xE=void 0,i.EW=!1,i.hx=function(){i.Wc()},i.xE=n,i.xE.js(kC,i.hx),i}S(n,t);var i=n.prototype;return i.IW=function(){return this.xE.rg<Fm.Ug},i.SW=function(){return!this.xE.$g&&!(this.xE.Kg||this.xE.jg||this.xE.wu||this.IW())},i.Wc=function(){var t=this.EW;this.EW=this.SW(),!t&&this.EW&&this.Ys(new uA(this.xE.qg))},i.I_=function(){this.EW=!1},i.Bs=function(){this.Ks(),this.xE.Js(kC,this.hx)},n}(lu)),pC=function(t){function n(n){var i;return(i=t.call(this,bm.Q_)||this).wu=void 0,i.wu=n,i}return S(n,t),n}(wu);function AC(t,n){return t.Zy<=n&&t.Ky>n}function TC(t,n){return function(t,n){return Ps(t.Zy,n.Zy,Ek)}(t,n)||function(t,n){return Ps(t.Ky,n.Ky,Ek)}(t,n)}function SC(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var c=o+(a-o>>1),h=e(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(r&&c>s&&0===e(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,K,TC,!0);if(i<0)return i;for(;i<t.length&&TC(n,t[i])===Ts.Ss;i++)if(t[i].pk(n))return i;return-(i+1)}function EC(t){var n=t.t_;if(!n)return-1;if(t instanceof Rk)return n.RW(t);var i=n.og;if(!i)return-1;var e=SC(i.R_,t);return e>=0?e:-1}function IC(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var c=t[s],h=n[u];c===h?(s++,u++):i(h,c)<=0?(o.push(h),u++):(a.push(c),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{NW:o,DW:a}}(t,n,TC);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var RC=function(){function t(t){this.PW=void 0,this.Kw=void 0,this.PW=t}var n=t.prototype;return n.$w=function(){return function(t){for(var n=[],i=0;i<t.N_;i++)n[i]=t.Su(i).Jw;return n.item=function(n){var i=0|n,e=t.Su(i);return e&&e.Jw||void 0},d.defineProperty(n,"constructor",{value:pk}),n}(this)},n.By=function(t){for(var n=this.PW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.pk(e))return!0}return!1},n.Su=function(t){return this.PW[t]},A(t,[{key:"R_",get:function(){return this.PW}},{key:"N_",get:function(){return this.PW.length}},{key:"Jw",get:function(){if(this.Kw){var t=this.PW;this.Kw.length=t.length;for(var n=0;n<t.length;n++)this.Kw[n]=t[n].Jw}else this.Kw=this.$w();return this.Kw}}]),t}(),NC=function(t){function n(n,i){var e;return(e=t.call(this,Wg.l_)||this).t_=n,e.rg=i,e}return S(n,t),n.prototype.$w=function(){return new DC(this.t_.Jw,Rm(this.rg))},n}(Gg),DC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(qg),CC=function(t){function n(n){var i;return(i=t.call(this,Wg.w_)||this).t_=n,i}return S(n,t),n.prototype.$w=function(){return new PC(this.t_.Jw)},n}(Gg),PC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(qg),BC=function(t){function n(n){var i;return(i=t.call(this,Wg.n_)||this).Qy=n,i}return S(n,t),n.prototype.$w=function(){return new OC(this.Qy.Jw)},n}(Gg),OC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(qg),xC=function(t){function n(n){var i;return(i=t.call(this,Wg.e_)||this).Qy=n,i}return S(n,t),n.prototype.$w=function(){return new LC(this.Qy.Jw)},n}(Gg),LC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(qg),MC=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this)||this).Kw=void 0,c.Nc=void 0,c.Ly=tk(),c.BW=!1,c.OW=void 0,c.xW=void 0,c.xy=void 0,c.ra=void 0,c.qC=km.q_,c._W=ck.NONE,c.LW=void 0,c.Hi=void 0,c.MW=void 0,c.PW=[],c.UW=[],c.XW=void 0,c.FW=void 0,c.HW=0,c.zW=0,c.Nc=i||"",c.OW=a||"",c.xW=n,c.ra=r||"",c.BW=Boolean(s),c.MW=Boolean(o),c.Hi=u||hk.DEFAULT,c.xy=e||"",c.XW=new RC(c.PW),c.FW=new RC(c.UW),c}S(n,t);var i=n.prototype;return i.VW=function(t){return Os(this.XW.R_,function(n){return n.X_===t})},i.$w=function(){return Sm(this)},i.oP=function(t){var n=Am(t);n!==this.K_&&(this.qC=n,n===km.q_&&(this.UW.forEach(function(t){t.Ak=!1}),Hs(this.UW),this.zW=0),this.Ys(new Jg(this)))},i.SE=function(t){if(t&&!t.t_){var n=SC(this.og.R_,t);if(!(n>=0)){t.t_=this;var i=-(n+1);this.PW.splice(i,0,t),this.WW(i),t.bk=i,i<this.zW&&(this.zW=i),this.Ys(new BC(t))}}},i.vE=function(t){if(t&&t.t_===this){var n=this.RW(t);if(!(n<0)){t.Ak=!1;var i=this.UW,e=SC(i,t);e>=0&&Us(i,e),Us(this.PW,n),this.WW(n),t.bk=-1,this.zW>n&&--this.zW,this.Ys(new xC(t))}}},i.GW=function(t,n){var i=this.UW,e=this.PW,r=this.zW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){AC(i[u],t)||(s=!0,Us(i,u))}for(;r<e.length&&e[r].Zy<=t;){var o=e[r];if(0===t)break;AC(o,t)&&!Xs(i,o)&&(s=!0,i.push(o)),r++}s&&Is(i,TC),this.zW=r},i.RW=function(t){return(-1===t.bk||t.bk>=this.HW)&&this.qW(),t.bk},i.qW=function(){for(var t=this.PW,n=this.HW;n<t.length;n++)t[n].bk=n;this.HW=t.length},i.WW=function(t){t<this.HW&&(this.HW=t)},i.J_=function(t){this.eg||(this.K_=t)},i.Bd=function(){this.Ks();for(var t=this.PW.slice(),n=0;n<t.length;n++){t[n].Bd()}Hs(this.PW),Hs(this.UW)},A(n,[{key:"ag",get:function(){return this.FW}},{key:"og",get:function(){return this.XW}},{key:"IE",get:function(){return this.BW},set:function(t){this.BW=t}},{key:"eg",get:function(){return this.MW}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"F_",get:function(){return this.Ly}},{key:"Z_",get:function(){return this.OW},set:function(t){this.OW=t}},{key:"H_",get:function(){return this.xW}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new Ky(this)))}},{key:"V_",get:function(){return this.ra}},{key:"K_",get:function(){return this.qC},set:function(t){this.oP(t)}},{key:"rg",get:function(){return this._W},set:function(t){this._W!==t&&(this._W=t,this.Ys(new NC(this,this._W)))}},{key:"cg",get:function(){return this.LW},set:function(t){this.LW=t}},{key:"us",get:function(){return this.Hi},set:function(t){this.Hi!==t&&(this.Hi=t,this.Ys(new CC(this)))}}]),n}(lu),UC=function(t){function n(n,i){var e;return(e=t.call(this,dk.Gy,n)||this).Db=i,e}return S(n,t),n.prototype.$w=function(){return new XC(this.Qy.Jw)},n}(yk),XC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(kk),FC=function(t){function n(n,i){var e;return(e=t.call(this,dk.Yy,n)||this).Db=i,e}return S(n,t),n.prototype.$w=function(){return new HC(this.Qy.Jw)},n}(yk),HC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(kk),zC=function(t){function n(n){var i;return(i=t.call(this,Wg.s_)||this).Qy=n,i}return S(n,t),n.prototype.$w=function(){return new VC(this.Qy.Jw)},n}(Gg),VC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(qg),WC=function(t){function n(n){var i;return(i=t.call(this,Wg.o_)||this).Qy=n,i}return S(n,t),n.prototype.$w=function(){return new GC(this.Qy.Jw)},n}(Gg),GC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(qg),qC=function(t){function n(n){var i;return(i=t.call(this)||this).YW=void 0,i.gk=void 0,i.Ly=void 0,i.wk=void 0,i.Kw=void 0,i._k=!1,i.jW=function(){i.Ak=!0},i.QW=function(){i.Ak=!1},i.Ly=sk(),i.YW=n,i.YW.addEventListener("enter",i.jW),i.YW.addEventListener("exit",i.QW),i}S(n,t);var i=n.prototype;return i.$w=function(){return bk(this)},i.pk=function(t){return this===t||um(this,t)&&Ik(this,t)},i.Bd=function(){this.Ks(),this.YW.removeEventListener("enter",this.jW),this.YW.removeEventListener("exit",this.QW)},A(n,[{key:"F_",get:function(){return this.Ly}},{key:"Zy",get:function(){return this.YW.startTime},set:function(t){this.YW.startTime=t}},{key:"Ky",get:function(){return this.YW.endTime},set:function(t){this.YW.endTime=t}},{key:"Jy",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"Tk",get:function(){return!!this.YW.pauseOnExit},set:function(t){this.YW.pauseOnExit=!!t}},{key:"t_",get:function(){return this.wk},set:function(t){this.wk=t}},{key:"X_",get:function(){return this.YW.id||""}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"Ak",get:function(){return this._k},set:function(t){this.Ak!==t&&(this._k=t,t?(this.Ys(new UC(this,this.Zy)),this.wk&&this.wk.Ys(new zC(this))):(this.Ys(new FC(this,this.Ky)),this.wk&&this.wk.Ys(new WC(this))))}}]),n}(Dm),YC=function(t){function n(n){var i;return(i=t.call(this,Wg.c_)||this).t_=n,i}return S(n,t),n.prototype.$w=function(){return new jC(this.t_.Jw)},n}(Gg),jC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(qg);function QC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new ZC(t),t.THEOplayerVTTRegion=n),n}}var ZC=function(){function t(t){this.ZW=void 0,this.Kw=void 0,this.ZW=t}return A(t,[{key:"KW",get:function(){return this.ZW}},{key:"X_",get:function(){return this.ZW.id||""}},{key:"Ck",get:function(){return+this.ZW.width||0},set:function(t){this.ZW.width=t||0}},{key:"Sk",get:function(){return+this.ZW.lines||0},set:function(t){this.ZW.lines=t||0}},{key:"Ek",get:function(){return+this.ZW.regionAnchorX||0},set:function(t){this.ZW.regionAnchorX=t||0}},{key:"Ik",get:function(){return+this.ZW.regionAnchorY||0},set:function(t){this.ZW.regionAnchorY=t||0}},{key:"Nk",get:function(){return+this.ZW.viewportAnchorX||0},set:function(t){this.ZW.viewportAnchorX=t||0}},{key:"Dk",get:function(){return+this.ZW.viewportAnchorY||0},set:function(t){this.ZW.viewportAnchorY=t||0}},{key:"Rk",get:function(){return this.ZW.scroll||""}},{key:"Jw",get:function(){return this.Kw||(this.Kw=xk(this)),this.Kw}}]),t}();var KC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"Jy",get:function(){return this.YW.text},set:function(t){this.YW.text=t}},{key:"vk",get:function(){return this.YW.vertical||""},set:function(t){this.YW.vertical=t||""}},{key:"fk",get:function(){return this.YW.snapToLines},set:function(t){this.YW.snapToLines=t}},{key:"nk",get:function(){return this.YW.line},set:function(t){this.YW.line=t}},{key:"Nu",get:function(){return+this.YW.size},set:function(t){this.YW.size=Lt(t,0,100)}}]),n}(qC),JC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.pk=function(n){return this===n||um(this,n)&&t.prototype.pk.call(this,n)&&Nk(this,n)},A(n,[{key:"hk",get:function(){return QC(this.YW.region)}},{key:"ek",get:function(){return this.YW.lineAlign||"start"},set:function(t){this.YW.lineAlign=t||"start"}},{key:"rk",get:function(){return this.YW.position},set:function(t){this.YW.position=t}},{key:"ck",get:function(){return this.YW.positionAlign||"auto"},set:function(t){this.YW.positionAlign=t||"auto"}},{key:"$y",get:function(){return this.YW.align||"center"},set:function(t){this.YW.align=t||"center"}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Ak(this)),this.Kw}}]),n}(KC),$C=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.pk=function(n){return this===n||um(this,n)&&t.prototype.pk.call(this,n)&&Nk(this,n)},A(n,[{key:"hk",get:function(){return QC(this.KW)}},{key:"KW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.YW.track,this.YW.regionId)}},{key:"ek",get:function(){return"middle"===(t=this.YW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.YW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"rk",get:function(){return this.YW.position},set:function(t){var n,i;this.YW.position=(n=t,i=this.$y,mk(n,i))}},{key:"ck",get:function(){return t=this.YW.positionAlign||"middle",_k[t];var t},set:function(t){var n,i;this.YW.positionAlign=(n=t||"center",i=this.$y,wk[gk(n,i)])}},{key:"$y",get:function(){return"middle"===(t=this.YW.align||"middle")?"center":t;var t},set:function(t){var n;this.YW.align="center"===(n=t||"center")?"middle":n}},{key:"Jw",get:function(){return this.Kw||(this.Kw=Ak(this)),this.Kw}}]),n}(KC);function tP(t,n){return t.Jy===n.Jy}function nP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Zy<t.Zy)iP(n,i,t.Zy);else{var e=n[0];if(e.Zy>t.Zy)t.Ky=e.Zy;else{var r=SC(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Zy<t.Zy&&iP(n,u,t.Zy);if(s<n.length){var o=n[s];t.Ky=o.Zy}}}}}}function iP(t,n,i){for(var e=t[n].Zy,r=n;r>=0&&t[r].Zy===e;r--)t[r].Ky=i}function eP(t){return bk(t)}var rP,sP,uP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).JW=void 0,e.JW=i,e}return S(n,t),n.prototype.pk=function(n){return this===n||um(this,n)&&t.prototype.pk.call(this,n)&&tP(this,n)},A(n,[{key:"Jy",get:function(){return this.JW}},{key:"Jw",get:function(){return this.Kw||(this.Kw=eP(this)),this.Kw}}]),n}(qC);function oP(t){switch(t){case rP.ISO_8859_1:case rP.UTF16_BOM:case rP.UTF16:case rP.UTF8:return!0}return!1}function aP(t){switch(t){case rP.ISO_8859_1:return go;case rP.UTF16_BOM:return ko;case rP.UTF16:return bo;case rP.UTF8:return No}}function cP(t,n){var i=n.Du,e=t.byteLength,r=Lo(t);return n.Cu(e-i),Xo(r,i,e).buffer}function hP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function fP(t,n,i){var e=no(t,n);if(oP(e)){var r=aP(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function vP(t,n,i){var e=no(t,n);if(oP(e)){var r=aP(e);return{id:i,mimeType:go(t,n),fileName:r(t,n),description:r(t,n),data:cP(t,n)}}}function lP(t,n,i){var e=no(t,n);if(oP(e)){for(var r=aP(e),s=[];n.Du<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function dP(t,n,i){var e=no(t,n);if(oP(e)){for(var r=aP(e),s=wo(t,n,3),u=no(t,n),o=no(t,n),a=r(t,n),c=!1,h=[];n.Du<t.byteLength;){var f=void 0;if(e===rP.UTF16_BOM){var v=yo(t,n);void 0===v?v=c:c=v,f=bo(t,n,v)}else f=r(t,n);if(!f||n.Du+4>t.byteLength)break;h.push({text:f,timestamp:co(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:h}}}function wP(t,n,i){return{id:i,ownerIdentifier:go(t,n),identifier:cP(t,n)}}function _P(t,n,i){var e=no(t,n);if(oP(e)){var r=aP(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function gP(t,n,i){var e=no(t,n);if(oP(e))return{id:i,text:aP(e)(t,n)}}function mP(t,n,i){return{id:i,url:go(t,n)}}function yP(t,n,i){var e=no(t,n);if(oP(e)){var r=aP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function kP(t,n,i){var e=no(t,n);if(oP(e))return{id:i,description:aP(e)(t,n),url:go(t,n)}}function bP(t,n,i){switch(i){case"COM":return fP(t,n,i);case"GEO":return vP(t,n,i);case"IPL":return lP(t,n,i);case"PIC":return function(t,n,i){var e=no(t,n);if(oP(e)){var r,s,u=aP(e),o=wo(t,n,3),a=no(t,n),c=u(t,n);return"--\x3e"===o?(r=o,s=go(t,n)):(r="image/"+o.toLowerCase(),s=cP(t,n)),{id:i,mimeType:r,pictureType:a,description:c,data:s}}}(t,n,i);case"SLT":return dP(t,n,i);case"TXX":return yP(t,n,i);case"UFI":return wP(t,n,i);case"ULT":return _P(t,n,i);case"WXX":return kP(t,n,i);default:if("T"===i.charAt(0))return gP(t,n,i);if("W"===i.charAt(0))return mP(t,n,i)}}function pP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=no(t,n);if(oP(e)){var r=aP(e),s=go(t,n);return{id:i,mimeType:s,pictureType:no(t,n),description:r(t,n),data:"--\x3e"===s?go(t,n):cP(t,n)}}}(t,n,i);case"COMM":return fP(t,n,i);case"COMR":return function(t,n,i){var e=no(t,n);if(oP(e)){var r,s,u=aP(e),o=go(t,n),a=wo(t,n,8),c=go(t,n),h=no(t,n),f=u(t,n),v=u(t,n);return n.Du<t.byteLength&&(r=go(t,n)||"image/",s=cP(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return vP(t,n,i);case"IPLS":return lP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:go(t,n),data:cP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:no(t,n),position:co(t,n)}}(t,n,i);case"SYLT":return dP(t,n,i);case"TXXX":return yP(t,n,i);case"UFID":return wP(t,n,i);case"USER":return function(t,n,i){var e=no(t,n);if(oP(e)){var r=aP(e);return{id:i,language:wo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return _P(t,n,i);case"WXXX":return kP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return gP(t,n,i);default:var e=i.charAt(0);if("T"===e)return gP(t,n,i);if("W"===e)return mP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(rP||(rP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(sP||(sP={}));var AP=10;function TP(t,n){return(127&no(t,n))<<21|(127&no(t,n))<<14|(127&no(t,n))<<7|127&no(t,n)}function SP(t,n){switch(t){case sP.V24:return{$W:to(n,0),tG:to(n,1),nG:to(n,2),iG:to(n,3)};case sP.V23:return{$W:to(n,0),tG:to(n,1),nG:to(n,2)};case sP.V22:return{$W:to(n,0),eG:to(n,1)}}}function EP(t,n,i){switch(i.BA){case sP.V23:i.OA.tG&&function(t,n){var i=n.Du,e=co(t,n)+4,r=32768&oo(t,n);n.Bu(i+e),r&&co(t,n)}(t,n);break;case sP.V24:i.OA.tG&&function(t,n){var i=n.Du,e=TP(t,n);n.Bu(i+e)}(t,n)}}function IP(t,n){if(t.byteLength-n.Du<AP)return null;if(73!==no(t,n)||68!==no(t,n)||51!==no(t,n))return null;var i=no(t,n),e=no(t,n);if(!function(t){switch(t){case sP.V22:case sP.V23:case sP.V24:return!0}return!1}(i))return null;var r=no(t,n),s=TP(t,n);return{BA:i,rG:e,OA:SP(i,r),sG:s}}function RP(t,n,i){switch(i.BA){case sP.V22:return function(t,n,i){return{X_:wo(t,n,3),Nu:uo(t,n,3)}}(t,n);case sP.V23:return function(t,n,i){var e=wo(t,n,4),r=co(t,n);no(t,n);var s=no(t,n);return{X_:e,Nu:r,OA:{eG:to(s,0),uG:to(s,1),groupingIdentity:to(s,2)}}}(t,n);case sP.V24:return function(t,n,i){var e=wo(t,n,4),r=TP(t,n);no(t,n);var s=no(t,n);return{X_:e,Nu:r,OA:{groupingIdentity:to(s,1),eG:to(s,4),uG:to(s,5),$W:to(s,6),oG:to(s,7)}}}(t,n)}}function NP(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function DP(t,n){var i=n||new zo,e=IP(t,i);return e?{RA:e,aG:function(t,n,i){var e=[],r=n.Du,s=Oo(t,r,r+i.sG),u=new zo;switch(n.Cu(i.sG),i.BA){case sP.V22:case sP.V23:i.OA.$W&&(s=NP(s))}EP(t,n,i);for(;u.Du<s.byteLength;)e.push(CP(s,u,i));return e}(t,i,e)}:null}function CP(t,n,i){var e,r,s=RP(t,n,i),u=n.Du,o=Oo(t,u,u+s.Nu);switch(n.Cu(s.Nu),i.BA){case sP.V22:var a=s;e=bP(r=o,new zo,a.X_);break;case sP.V23:var c=s,h=new zo;!function(t,n,i){var e,r,s,u=i.OA;u.eG&&(e=co(t,n)),u.uG&&(r=no(t,n)),u.groupingIdentity&&(s=no(t,n))}(o,h,c),e=pP(r=Oo(o,h.Du,o.byteLength),new zo,c.X_);break;case sP.V24:var f=s,v=new zo;f.OA.$W&&(o=NP(o)),function(t,n,i){var e,r,s,u,o=i.OA;o.groupingIdentity&&(e=no(t,n)),o.eG&&(r=co(t,n)),o.uG&&(s=no(t,n)),o.oG&&(u=TP(t,n))}(o,v,f),e=pP(r=Oo(o,v.Du,o.byteLength),new zo,f.X_)}if(!e){var l=Fo(Lo(r));e=hP(s.X_,l.buffer)}return e}function PP(t){return function(t,n,i){return gP(t,n,i)}(new DataView(t.data),new zo,t.key)}function BP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return PP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return hP(t.key,t.data)}(t)}var OP="org.id3";var xP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Oy=void 0,r.cG=void 0,r.PW=[],r.UW=[],r.XW=void 0,r.FW=void 0,r.Ly=void 0,r.xy=void 0,r.qC=km.q_,r._W=ck.NONE,r.Kw=void 0,r.LW=void 0,r.Hi=hk.DEFAULT,r.hG=void 0,r.fG=function(){r.vG(),r.Oy.removeEventListener("cuechange",r.fG)},r.lG=function(){r.K_!==km.q_&&(r.dG(),r.GW(),r.PW.length&&r.wG(ck.LOADING))},r._G=function(){r.wG(ck.LOADED)},r.gG=function(){r.wG(ck.ERROR)},r.Oy=n,r.hG=e,r.Oy.addEventListener("cuechange",r.fG),r.Oy.addEventListener("cuechange",r.lG),r.cG=i,r.cG&&(r.LW=i_(r.cG.src),r.cG.addEventListener("load",r._G),r.cG.addEventListener("error",r.gG)),r.Ly=tk(),r.xy=n.label||"",r.XW=new RC(r.PW),r.FW=new RC(r.UW),r.K_=r.mG,uu(function(){r.lG(),r.wG(ck.NONE)}),r}S(n,t);var i=n.prototype;return i.$w=function(){return Sm(this)},i.vG=function(){var t=this.K_;this.yG||t!==km.j_?this.mG=t:this.mG=km.Y_},i.kG=function(){var t=this.K_,n=this.mG;t!==n&&(this.yG||t!==km.j_||n!==km.Y_)&&("metadata"===this.H_&&n===km.q_?this.K_=t:this.K_=n)},i.mW=function(t){this._W!==t&&(this._W=t,this.Ys(new NC(this,t)))},i.wG=function(t){var n=w.max(this._W,this.bG,t);this.mW(n)},n.pG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.AG=function(t){var i=n.pG(t);if(i)return i;if(z(i=this.TG(t)))for(var e=0,r=i;e<r.length;e++){r[e].t_=this}else i.t_=this;return t.THEOplayerTextTrackCue=i,i},i.TG=function(t){return(n=t)&&n.type===OP&&n.value?(this.us=hk.ID3,function(t){var n;try{n=BP(t.value)}catch(t){n=hP("")}return new uP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.us=hk.ID3,function(t){var n=[];try{var i=DP(new DataView(t.data));if(i)for(var e=0,r=i.aG;e<r.length;e++){var s=r[e];n.push(new uP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.us=hk.WEBVTT,function(t){return"regionId"in t}(t)?new $C(t):new JC(t)):new qC(t);var n},i.SG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.AG(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.dG=function(){for(var t=this.SG(this.Oy.cues),n=IC(this.PW,t),i=0,e=n.DW;i<e.length;i++){var r=e[i];r.Js(dk.Yy,this.lG),r.Js(dk.Gy,this.lG),this.Ys(new xC(r))}for(var s=0,u=n.NW;s<u.length;s++){var o=u[s];o.js(dk.Gy,this.lG),o.js(dk.Yy,this.lG),this.Ys(new BC(o))}},i.GW=function(){for(var t=this.SG(this.Oy.activeCues),n=IC(this.UW,t),i=0,e=n.DW;i<e.length;i++){e[i].Ak=!1}for(var r=0,s=n.NW;r<s.length;r++){s[r].Ak=!0}(n.NW.length||n.DW.length)&&this.Ys(new YC(this))},i.J_=function(t){this.K_=t},i.Bd=function(){this.Ks();for(var t=this.PW.slice(),n=0;n<t.length;n++){t[n].Bd()}Hs(this.PW),Hs(this.UW),this.Oy.removeEventListener("cuechange",this.lG),this.cG&&(this.Oy.removeEventListener("load",this._G),this.Oy.removeEventListener("error",this.gG)),this.cG&&Je(this.cG)},A(n,[{key:"ag",get:function(){return this.FW}},{key:"IE",get:function(){return this.cG?this.cG.default:void 0}},{key:"og",get:function(){return this.XW}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}},{key:"X_",get:function(){return this.Oy.id||this.cG&&this.cG.id||""}},{key:"F_",get:function(){return this.Ly}},{key:"Z_",get:function(){return this.Oy.inBandMetadataTrackDispatchType||""}},{key:"H_",get:function(){return this.Oy.kind||kp.iA}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.z_&&(this.xy=t,this.Ys(new Ky(this)))}},{key:"V_",get:function(){return this.Oy.language||""}},{key:"K_",get:function(){return this.qC},set:function(t){var n=this.K_;this.qC=Am(t),this.vG();var i=this.K_;n!==i&&this.Ys(new Jg(this)),i!==km.q_&&this.wG(ck.LOADING)}},{key:"mG",get:function(){return Am(this.Oy.mode)},set:function(t){this.Oy.mode=t}},{key:"Hy",get:function(){return this.Oy}},{key:"rg",get:function(){return this._W}},{key:"bG",get:function(){return this.cG?+this.cG.readyState||ck.NONE:ck.LOADED}},{key:"cg",get:function(){return this.LW}},{key:"us",get:function(){return this.Hi},set:function(t){this.Hi!==t&&(this.Hi=t,this.Ys(new CC(this)))}},{key:"yG",get:function(){return this.hG},set:function(t){this.hG=t,this.vG()}}]),n}(lu);function LP(t,n){return Cs(t.Db,n.Db)||function(t,n){return t.t_===n.t_?Ds(EC(t),EC(n)):xp(t.t_,n.t_)}(t.Qy,n.Qy)||function(t,n){return t===n?Ts.Ss:t===dk.Gy?Ts.Is:Ts.Es}(t.type,n.type)}var MP=function(){function t(t,n){var i=this;this.pD=void 0,this.EG=void 0,this.Dm=[],this.IG=0,this.RG=0,this.NG=[],this.DG=[],this.CG=!1,this.PG=!1,this.BG=void 0,this.OG=function(){i.IG=0,i.xG(),i.LG()},this.MG=function(){i.xG(),i.LG()},this.UG=function(){i.PG=!0,i.BG=i.pD.qg,i.XG()},this.FG=function(){i.xG(),i.LG()},this.HG=function(){i.zG(),i.xG(),i.LG()},this.VG=function(t){Xs(i.DG,t.Qy)||i.DG.push(t.Qy),i.WG()},this.GG=function(t){Ms(i.NG,t.Qy),Ms(i.DG,t.Qy),i.WG()},this.EG=n,this.pD=t,t.js(bf.Uf,this.MG),t.js(bf.Sf,this.MG),t.js(ey.Gg,this.MG),t.js(bf.Tf,this.MG),t.js(bf.Cf,this.UG),t.js(bf.Df,this.FG),this.WG()}var n=t.prototype;return n.I_=function(){Hs(this.NG);for(var t=0,n=this.Dm.slice();t<n.length;t++){var i=n[t];this.S_(i)}this.XG(),this.IG=0,this.RG=0,this.CG=!1,this.PG=!1,this.BG=void 0},n.T_=function(t){if(!Xs(this.Dm,t)){if(this.Dm.push(t),t.js(Wg.n_,this.VG),t.js(Wg.e_,this.GG),t.js(Wg.f_,this.HG),t.og.N_>0){for(var n=0,i=t.og.R_;n<i.length;n++){var e=i[n];this.DG.push(e)}this.WG()}this.zG()}},n.S_=function(t){if(Ms(this.Dm,t)){if(t.Js(Wg.n_,this.VG),t.Js(Wg.e_,this.GG),t.Js(Wg.f_,this.HG),t.og.N_>0){for(var n=0,i=t.og.R_;n<i.length;n++){var e=i[n];Ms(this.NG,e),Ms(this.DG,e)}this.WG()}this.zG()}},n.zG=function(){this.CG=this.Dm.some(function(t){return t.K_!==km.q_})},n.LG=function(){this.pD.$g||this.pD.Kg?this.XG():this.WG()},n.WG=function(){this.CG&&(this.IG||(this.IG=this.EG.Ne(this.OG)))},n.XG=function(){this.IG&&(this.EG.qG(this.IG),this.IG=0)},n.xG=function(){var t;if(this.CG&&!this.pD.$g){var n=this.Dm,i=this.RG,e=null!=(t=this.BG)?t:this.pD.qg,r=e-i<-.1,s=this.PG||r;s&&e>i&&e-i<.1&&(s=!1),this.PG=!1,this.BG=void 0;for(var u,o=[],a=0;a<n.length;a++){var c=n[a];if(c.K_!==km.q_){c.GW(e,s);for(var h=0,f=c.ag.R_;h<f.length;h++){var v=f[h];o.push(v)}}}if(s)u=this.NG;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.K_!==km.q_&&Op(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Xs(o,u[_])&&Us(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.Zy>i&&y.Ky<=e&&(g.push(y),Us(u,m))}for(var k=0,b=this.DG;k<b.length;k++){Ms(g,b[k])}Hs(this.DG);for(var p=[],A=[],T=0;T<g.length;T++){var S=g[T];S.Ak||p.push(new UC(S,S.Zy)),p.push(new FC(S,w.max(S.Zy,S.Ky))),S.Ak=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Ak&&(p.push(new FC(R,w.max(R.Zy,R.Ky))),R.Ak=!1)}for(var N=0;N<o.length;N++){var D=o[N];D.Ak||(p.push(new UC(D,D.Zy)),D.Ak=!0)}p.sort(LP);for(var C=0;C<p.length;C++){var P=p[C],B=P.Qy;B.Ys(P);var O=B.t_;O&&(P.type===dk.Gy?O.Ys(new zC(B)):O.Ys(new WC(B)),Xs(A,O)||A.push(O))}A.sort(xp);for(var x=0;x<A.length;x++){var L=A[x];L.Ys(new YC(L))}this.RG=e,this.NG=o}},n.Bd=function(){this.I_(),this.pD.Js(bf.Uf,this.MG),this.pD.Js(bf.Sf,this.MG),this.pD.Js(ey.Gg,this.MG),this.pD.Js(bf.Tf,this.MG),this.pD.Js(bf.Cf,this.UG),this.pD.Js(bf.Df,this.FG)},t}(),UP=function(){function t(){}var n=t.prototype;return n.Ne=function(t){return uR(t)},n.qG=function(t){oR(t)},t}(),XP=new UP,FP=function(t){function n(n,i){return void 0===i&&(i=XP),t.call(this,n,i)||this}return S(n,t),n}(MP),HP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.pk=function(n){return this===n||um(this,n)&&t.prototype.pk.call(this,n)&&tP(this,n)},A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=eP(this)),this.Kw}}]),n}(Rk),zP=function(t){function n(n,i,e){return void 0===e&&(e=hk.DEFAULT),t.call(this,kp.rA,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(MC),VP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).us=hk.ID3,e}S(n,t);var i=n.prototype;return i.SE=function(n){nP(n,this.PW),t.prototype.SE.call(this,n)},i.$w=function(){return Sm(this)},n}(zP);function WP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=BP(t.value);return t.THEOplayerTextTrackCue=new HP(i,e),t.THEOplayerTextTrackCue}var GP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Oy=void 0,i.lG=function(){i.K_!==km.q_&&(i.dG(),i.wG(ck.LOADED))},i.Oy=n,i.Oy.addEventListener("cuechange",i.lG),i.K_=i.mG,uu(function(){i.lG()}),i}S(n,t);var i=n.prototype;return i.oP=function(n){t.prototype.oP.call(this,n),this.mG=this.K_},i.wG=function(t){this.rg=w.max(this.rg,t)},i.dG=function(){var t=this.Oy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(WP(t[e]||t.item(e)));return Is(i,TC),i}(t),i=IC(this.og.R_.slice(),n),e=0,r=i.DW;e<r.length;e++){var s=r[e];this.vE(s)}for(var u=0,o=i.NW;u<o.length;u++){var a=o[u];this.SE(a)}}},i.Bd=function(){this.Oy.removeEventListener("cuechange",this.lG),t.prototype.Bd.call(this)},A(n,[{key:"X_",get:function(){return this.Oy.id||""}},{key:"Z_",get:function(){return this.Oy.inBandMetadataTrackDispatchType||""}},{key:"V_",get:function(){return this.Oy.language||""}},{key:"mG",get:function(){return Am(this.Oy.mode)},set:function(t){this.Oy.mode=t}},{key:"Hy",get:function(){return this.Oy}}]),n}(VP),qP=function(t){function n(n,i){var e;return(e=t.call(this)||this).YG=Pr(),e.YR=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.t_).us){i.next=4;break}return i.next=4,Rr.awrap(n.uu(Wg.w_));case 4:if(n.us===hk.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.og.N_){i.next=11;break}return i.next=9,Rr.awrap(n.uu(Wg.n_));case 9:i.next=6;break;case 11:e.jG(n);case 12:case"end":return i.stop()}},null,null,null,Ve)},e.jR=function(t){var n=t.t_;if(n.us===hk.ID3&&e.YG.has(n.F_)){var i=e.YG.get(n.F_);e.S_(i),e.yE.EE(i),n.Js(Wg.n_,e.QG)}},e.QG=function(t){YP(t.Qy)&&e.ZG(t.Qy)},e.yE=n,e.KG=i,e.JG(),e}S(n,t);var i=n.prototype;return i.JG=function(){this.KG.js(Fg.Yw,this.YR),this.KG.js(Fg.Qw,this.jR)},i.$G=function(){this.KG.Js(Fg.Yw,this.YR),this.KG.Js(Fg.Qw,this.jR)},i.jG=function(t){var n=t.og.R_[0];if(YP(n)){var i=function(t){var n=t.match(jP);if(!n)return;return{t_:n[1],V_:n[2]}}(n.Jy.description),e=i.t_,r=i.V_;if(!this.tq(e,r)){var s=this.yE.AE(kp.iA,t.X_,e,r,!1,hk.TTML);this.T_(s),this.YG.set(t.F_,s);for(var u=0,o=t.og.R_;u<o.length;u++){var a=o[u];YP(a)&&this.ZG(a)}t.js(Wg.n_,this.QG)}}},i.tq=function(t,n){return this.ZA.R_.some(function(i){return i.z_===t&&i.V_===n})},i.ZG=function(t){if(t.t_)for(var n=this.YG.get(t.t_.F_),i=ap(t.Jy.text,n,{op:0,ap:1/0,cp:t.Zy}),e=0;e<i.length;e++){var r=i[e];n.SE(r)}},i.I_=function(){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.KG.R_;n<i.length;n++)i[n].Js(Wg.n_,this.QG);for(e=0,r=this.ZA.R_;e<r.length;e++)s=r[e],this.yE.EE(s);return this.YG.clear(),u.next=5,Rr.awrap(t.prototype.I_.call(this));case 5:case"end":return u.stop()}},null,this,null,Ve)},i.Bd=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.$G(),n.next=3,Rr.awrap(t.prototype.Bd.call(this));case 3:case"end":return n.stop()}},null,this,null,Ve)},n}(Fp);function YP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Jy)&&jP.test(n.description);var n}var jP=/^Track:(.+),Lang:(.+)$/;var QP=function(t){function n(n){var i;return(i=t.call(this,bf.cf)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(wu),ZP=function(t){function n(){return t.call(this,bf.hf)||this}return S(n,t),n}(wu),KP=function(t){function n(n){var i;return(i=t.call(this,"Hf")||this).nq=n,i}return S(n,t),n}(wu),JP=new VN,$P=function(t){function n(n){var i;return(i=t.call(this,"Fc")||this).session=n,i}return S(n,t),n}(wu),tB=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).iq=!1,u.rq=!1,u.Kv=new Zs,u.uq=void 0,u.Lc=function(t){if(!u.Kv.zs.Rs)switch(t.vu){case"license-request":u.aI(t.fu,t.du).catch(function(t){return u.kh(t)});break;default:u.kh(new Wy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.vu))}},u.oq=function(t){u.aq.jc.Eu(function(t,n){switch(t){case"usable":i.Yn(function(){u.rq=!0,u.Ys(new ZP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ys(new KP(n))}})},u.cq=function(t){u.kh(new Wy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.aq=e,u.hq=r,u.fq=s,e.js("fu",u.Lc),e.js("au",u.oq),e.js("wu",u.cq),e.qc.then(function(){return u.vq()}),u}S(e,t);var r=e.prototype;return r.Hc=function(){var t=this;return this.iq=!0,JP.YU(function(n){return t.lq(n)},this.Kv.zs)},r.lq=function(t){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,$s(t),s.next=4,Rr.awrap(this.hq.nI(t));case 4:return s.next=6,Rr.awrap(this.hq.iI(this.fq.fs,this.fq.pu,t));case 6:return i=s.sent,s.next=9,Rr.awrap(this.aq.Hc(this.fq.fs,this.fq.pu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),tu(s.t0),e=s.t0 instanceof Qo?s.t0.Gu:void 0,r=new Wy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.kh(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],Ve)},r.aI=function(t,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!qo(t)){u.next=7;break}return u.next=4,Rr.awrap(this.hq._I(new y(t),this.Kv.zs));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,Rr.awrap(this.hq.gI(new y(t),i,this.Kv.zs));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!Js(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:if(!this.Kv.zs.Rs){u.next=19;break}return u.abrupt("return");case 19:return u.prev=19,this.uq=new Wo,u.next=23,Rr.awrap(this.aq.Wc(e));case 23:this.uq.Hu(cu(100)),u.next=31;break;case 26:throw u.prev=26,u.t1=u.catch(19),null==(r=this.uq)||r.Hu(),s=u.t1 instanceof Qo?u.t1.Gu:void 0,new Wy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,s);case 31:case"end":return u.stop()}},null,this,[[0,12],[19,26]],Ve)},r.kh=function(t){var i=t instanceof Wy?t:new Wy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ys(new QP(i)),this.Fc()},r.vq=function(){this.aq.Js("fu",this.Lc),this.aq.Js("au",this.oq),this.aq.Js("wu",this.cq),this.rq=!1,this.Kv.Xs(),this.Ys(new $P(this))},r.Fc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),!this.uq){t.next=4;break}return t.next=4,Rr.awrap(this.uq.Uu);case 4:return this.vq(),t.next=7,Rr.awrap(this.aq.Fc().catch(Z));case 7:case"end":return t.stop()}},null,this,null,Ve)},e}(lu),nB=[bf.hf,bf.cf,bf.Ff],iB=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Mc=void 0,r.Zc=void 0,r.dq=void 0,r.wq=[],r._q=void 0,r.gq=[],r.mq=function(t){t.session.Js(nB,r.qs),t.session.Js("Fc",r.mq),Ms(r.wq,t.session)},r.Mc=n,r.Zc=i,r.dq=e,r}S(n,t);var i=n.prototype;return i.wI=function(){return this.dq.wI()},i.yq=function(t){return this._q||(this._q=this.kq(t)),this._q},i.kq=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(t),i.next=3,Rr.awrap(this.dq._I(new y(Go()),t));case 3:if(n=i.sent,$s(t),this.Zc){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Rr.awrap(this.Zc.nh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,Ve)},i.bq=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Zc){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.gq.push(t),e.next=6,Rr.awrap(this.Zc.$c("temporary"));case 6:return n=e.sent,i=new tB(n,this.dq,t),this.wq.push(i),i.js(nB,this.qs),i.js("Fc",this.mq),e.abrupt("return",i);case 12:return e.prev=12,Ms(this.gq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],Ve)},i.pq=function(t){if(t.Aq)return!1;for(var n=0,i=this.wq;n<i.length;n++){if(eB(i[n].fq,t))return!0}for(var e=0,r=this.gq;e<r.length;e++){if(eB(r[e],t))return!0}return!1},i.Bd=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Zc=void 0,this.Ks(),t=this.wq.slice(),Hs(this.wq),n.next=6,Rr.awrap(Ve.all(t.map(function(t){return t.Fc()})));case 6:this.dq.Bs();case 7:case"end":return n.stop()}},null,this,null,Ve)},A(n,[{key:"Kc",get:function(){return this.Mc}}]),n}(lu);function eB(t,n){return!t.Aq&&t.fs===n.fs&&xu(t.pu,n.pu)}var rB=function(t){function e(n){var i;return(i=t.call(this)||this).eN=void 0,i.Kv=new Zs,i.rX=new VN,i.Rh=void 0,i.dq=void 0,i.rN=void 0,i.Mc=void 0,i.Tq=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(i.Sq(t.fs,t.pu,i.Kv.zs));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Js(n.t0)||i.kh(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],Ve)},i.eN=n,i.eN.js(vu._u,i.Tq),i}S(e,t);var r=e.prototype;return r.zc=function(t,n){this.rN=t,this.NX(n)},r.NX=function(t){this.Rh=t,this.Eq(this.Kv.zs).catch(nu)},r.Eq=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Or.ze){n.next=5;break}return n.next=3,Rr.awrap(this.Iq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Rh||!this.Rh.Rq){n.next=9;break}return n.next=8,Rr.awrap(this.Nq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,Ve)},r.Iq=function(t){var n,i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Rh)?void 0:n.ON){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Rh)?void 0:u.ON)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,c=null!=(h=o.WR)?h:[];case 8:if(!(a<c.length)){v.next=22;break}return f=c[a],v.prev=10,v.next=13,Rr.awrap(this.Sq(o.Kc.fs,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),tu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],Ve)},r.Sq=function(t,e,r){var s,u,o,a,c,h,f,v,l,d;return Rr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if($s(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Rh&&this.Rh.ON.length){w.next=5;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Vr||t===Gr||t===Wr){w.next=8;break}return w.abrupt("return");case 8:s=eT(t,e),u=this.Rh.ON,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(c=u[a],$s(r),(h=s[c.Kc.vs])&&c.Kc.fs===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Rr.awrap(this.Dq(c,r));case 20:if(!(f=w.sent).wI()){w.next=24;break}return w.next=24,Rr.awrap(f.yq());case 24:if(v=this.eN._y,l={fs:c.Kc.fs,pu:h,Aq:v},!this.Cq(f,l)){w.next=32;break}return w.next=29,Rr.awrap(f.bq(l));case 29:return d=w.sent,w.next=32,Rr.awrap(d.Hc());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),tu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Rr.awrap(i.Ar());case 44:if(!w.sent){w.next=48;break}throw new Wy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],Ve)},r.Nq=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Rh)?void 0:n.ON){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],$s(t),u.prev=7,u.next=10,Rr.awrap(this.Dq(r,t));case 10:if(!(s=u.sent).wI()){u.next=14;break}return u.next=14,Rr.awrap(s.yq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),tu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],Ve)},r.Cq=function(t,n){return i.Or.He||!t.pq(n)},r.Dq=function(t,n){var i=this;return this.rX.YU(function(n){return i.Pq(t,n)},n)},r.Pq=function(t,n){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if($s(n),this.Rh&&this.dq&&this.rN){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Mc){o.next=7;break}if(this.Mc.Kc===t.Kc){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Mc);case 7:return i=this.dq,e=Nr({},t,{jN:t.jN.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.UI(t.Kc),fh:n.fh||i.fh(t.Kc)})})}),o.next=11,Rr.awrap(this.rN.EX(e.Kc,e.jN));case 11:return r=o.sent,s=i.zR(e),(u=new iB(e.Kc,r,s)).js([bf.hf,bf.cf,bf.Ff],this.qs),this.Mc=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,Ve)},r.kh=function(t){var i=t instanceof Wy?t:new Wy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ys(new QP(i))},r.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rN=void 0,this.Rh=void 0,this.Kv.Xs(),this.Kv=new Zs,t.next=6,Rr.awrap(this.Bq());case 6:case"end":return t.stop()}},null,this,null,Ve)},r.Bq=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.rX.Xs());case 2:if(!(t=this.Mc)){n.next=8;break}return t.Js(bf.Ff,this.qs),this.Mc=void 0,n.next=8,Rr.awrap(t.Bd());case 8:case"end":return n.stop()}},null,this,null,Ve)},r.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this.eN.Js(vu._u,this.Tq),t.next=4,Rr.awrap(this.I_());case 4:return t.next=6,Rr.awrap(this.rX.Bd());case 6:case"end":return t.stop()}},null,this,null,Ve)},A(e,[{key:"Oq",get:function(){var t;return null==(t=this.Mc)?void 0:t.Kc}},{key:"CN",get:function(){return this.dq},set:function(t){this.dq=t}}]),e}(lu),sB=L.Sn||L.En,uB=L.Wn,oB=.5,aB=5,cB=L.Cn,hB=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Fh=void 0,s.xq=void 0,s.sN=void 0,s.ED=!0,s.rN=void 0,s.Lq=new VN,s.Mq=void 0,s.Uq=void 0,s.Xq=void 0,s.pX=void 0,s.Dm=void 0,s.NC=void 0,s.Fq=[],s.Hq=void 0,s.zq=void 0,s.Vq=void 0,s.Wq=void 0,s.Gq=void 0,s.qq=void 0,s.Yq=NaN,s.jq=void 0,s.Qq=void 0,s.EC=!1,s.Zq=Ve.resolve(),s.Kq=new Zs,s.Jq=[],s.$q=$S.gC(),s.tY=void 0,s.nY=1,s.iY=!1,s.eY=!1,s.rY=!1,s.sY=!1,s._s=void 0,s.uY=!1,s.oY=!1,s.aY=!1,s.cY=!1,s.hY=0,s.fY=function(t){var n=t.track,i=s.vY(n);s.lY(n,i)},s.dY=function(t){var n=dB(s.Hq,t.track);n&&s.Hq.S_(n)},s.wY=function(){for(var t=0;t<s.Dm.N_;t++){var n=s.Dm.A_(t);n instanceof xP&&n.kG()}},s._Y=function(){s.Hq.I_()},s.gY=function(){var t=s.rN,n=t.QV,i=t.ZV;if(n&&i)if(t.MX)s.mY();else if(t.rg!==cC.sV){var e=n.vy,r=i.vy;if(0!==e.N_&&0!==r.N_){var u=s.qg;if(u<e.OD(0)||u<r.OD(0))s.mY();else if(e.QN(u)!==r.QN(u)){if(t.UV(u))return;s.yY()}else{if(s.mY(),!s.hY&&s.Xq.SW())e.tC(r).sC(u,u+oB)&&(s.hY=uR(s.kY))}}else s.mY()}},s.kY=function(){s.hY=0,s.gY()},s.bY=function(){if(!(s.$g||s.rg>=Fm.Ug)){0;var t=s.rN,n=t.QV,i=t.ZV;if(n&&i){var e=s.qg,r=n.vy,u=i.vy;if(r.QN(e)&&u.QN(e))r.tC(u).sC(e-aB,e)&&(s.aY?s.mY():s.pY())}}},s.AY=function(){s.Ys(new uy(s.qg))},s.TY=function(){s.SY(new Ks),s.Ys(new sy(s.qg))},s.EY=function(){s.IY(),s.Ys(new uA(s.qg))},s.RY=function(){s.NY(s.Jg)},s.DY=function(){s.Ys(new fy(s.Yg))},s.CY=function(){s.Ys(new vD(s.qg))},s.PY=function(){s.Ys(new lD)},s.BY=function(){var t=s.qg,n=s.$g,i=s.rg<Fm.Ug&&!s.jg,e=void 0!==s.Qq,r=e&&s.Qq!==t;(n||!e||r&&!i)&&(s.Ys(new ly(s.qg,void 0)),s.Qq=t)},s.OY=function(){!s.iY&&s.jg&&(s.iY=!0,s.Ys(new dy(s.qg)))},s.xY=function(){if(null!==s.Fh.error){var t,n=s.Fh.error;s.wN(new Gy(null!=(t=n.code)?t:Hy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.LY=function(){s.eY&&(s.MY(),s.rY=!0)},s.UY=function(){s.Ys(new my(s.qg,s.im))},s.XY=function(){s.nm>0&&s.tm>0&&s.Ys(new Qp)},s.FY=function(t){s.Ys(new bu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.HY=function(){s.Ys(new pu)},s.zY=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.Ys(new bu(Vr,i))},s.VY=function(t){if(t.initData){var n=fB(t.initData);if(!n)return;s.Ys(new bu(Gr,n))}else s.Ys(new bu(Gr,new ArrayBuffer(0)))},s.WY=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.Ys(new bu(Vr,i))},s.GY=function(){s.IY()},s.qY=function(t){s.SY(t)},s.YY=function(t){s.Ys(t),t.type===bf.cf&&s.wN(Yy(t.errorObject))},s.Fh=n,s._s=i,s.xq=e,s.NC=r,s.Uq=new mC(Zt(s)),s.Uq.js(ey.l_,s.qs),s.Xq=new bC(Zt(s)),s.Xq.js(ey.Gg,s.EY),s.pX=new rB(Zt(s)),s.pX.js([bf.hf,bf.cf,bf.Ff],s.YY),s.Dm=new bp,s.Hq=new bp,s.zq=new BS([s.Dm,s.Hq]),s.Vq=new qP(Zt(s),s.zq),s.Wq=new BS([s.zq,s.Vq.ZA]),s.Gq=new FP(Zt(s)),s.jY(),s.BN(),s}S(n,t);var e=n.prototype;return e.QY=function(){this.DN.ended||this.qg===this.Yg||(this.iY=!1)},e.ZY=function(){return void 0!==this.qq&&this.Yg===this.qq},e.NY=function(t){this.nY!==t&&(this.nY=t,this.Ys(new vy(this.qg,t)))},e.JN=function(){return vN(this.Fh)},e.Um=function(){var t=this.KY();return this.JY(),t},e.JY=function(){this.uY?this.oY&&(this.oY=!1,this.Ys(new uy(this.qg))):this.$Y()},e.$Y=function(){if(this.Mq)this.Mq.Um();else{L.Cn&&!L.un&&this.Fh.preload===GS.yD&&(this.Fh.preload=GS.rA);var t=this.Jg,n=this.Fh.play();t!==this.DN.playbackRate&&(this.Jg=t),Y(n)?n.then(this.GY,this.qY):this.Xq.SW()&&this.IY()}},e.Xm=function(){this.uY?this.oY||(this.oY=!0,this.Ys(new sy(this.qg))):this.tj()},e.tj=function(){this.Mq?this.Mq.Xm():(this.Fh.pause(),this.Xq.Wc()),this.nj(new Ks)},e.KY=function(){var t=new Wo;return this.Jq.push(t),t.Uu},e.ij=function(){for(var t=0,n=this.Jq;t<n.length;t++){n[t].Hu(void 0)}Hs(this.Jq)},e.nj=function(t){for(var n=0,i=this.Jq;n<i.length;n++){i[n].Vu(t)}Hs(this.Jq)},e.IY=function(){this.uY||this.Mq||this.ij()},e.SY=function(t){this.uY||this.Mq||this.nj(t)},e.Bu=function(t,n){this.Mq?this.Mq.qg=t:(this.Kq.Xs(),this.Kq=new Zs,this.Zq=this.ej(t,this.Zq,this.Kq.zs).catch(Z))},e.KN=function(t){var n=this.$N;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Bu(i)}},e.ej=function(t,n,i){var e,r,s,u,o,a,c,h,f=this;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.qq=t,this.Yq=t,this.EC=!0,this.iY&&!this.ZY()&&(this.iY=!1),this.Ys(new _y(t)),v.next=8,Rr.awrap(n.catch(Z));case 8:if($s(i),this.sY&&this.rj(),this.rg!==Fm.xg){v.next=13;break}return v.next=13,Rr.awrap(this.uu(ey.l_,i));case 13:if(0!==this.Fh.seekable.length){v.next=19;break}return v.next=16,Rr.awrap(Ve.race([Ug(this.Fh,"timeupdate",i),cu(100,i)]));case 16:$s(i),v.next=13;break;case 19:e=this.sj(t),r=this.Ry,s=!0,u=!1;case 23:if((r=this.Ry).N_>0&&!r.QN(e)&&(e=r.WD(e),s=!0),cB&&void 0!==(o=this.uj())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.aj())&&e>a)){v.next=37;break}return u=!0,v.next=33,Rr.awrap(this.cj(a,i));case 33:return v.next=35,Rr.awrap(Ug(this.Fh,"seeked",i));case 35:$s(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Rr.awrap(this.cj(e,i));case 41:$s(i),c=this.qg,r=this.Ry,e=r.WD(e),h=1;case 46:if(!(w.abs(e-c)>=1/6)){v.next=56;break}return r=this.Ry,e=lB(e,r,h),v.next=51,Rr.awrap(this.cj(e,i));case 51:$s(i),c=this.qg,h++,v.next=46;break;case 56:if(this.Fh.seeking||this.rg<Fm.Mg){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Rr.awrap(ru(function(t){var n;return Ve.race([Ug(f.Fh,"seeked",t),f.uu([bf.Ef,bf.df,ey.l_],t),null==(n=f.rN)?void 0:n.uu(nD.QP,t)].filter(X))},i));case 60:$s(i),v.next=23;break;case 63:this.hj(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!Js(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],Ve)},e.cj=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if($s(n),i=this.Ry,t=i.WD(t),!this.sY){s.next=18;break}e=!0;case 5:if(!(e||this.rg<Fm.Ug)){s.next=17;break}if((i=this.Ry).QN(t)||(t=i.WD(t),e=!0),!e){s.next=13;break}return e=!1,this.qq=t,this.vj(this.qg),s.abrupt("continue",5);case 13:return s.next=15,Rr.awrap(this.uu([ey.l_,bf.df],n));case 15:s.next=5;break;case 17:$s(n);case 18:if(r=Ug(this.Fh,"seeking",n),this.Fh.currentTime=t,this.qq=void 0,this.vj(this.qg),!this.Fh.seeking){s.next=25;break}return s.next=25,Rr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,Ve)},e.sj=function(t){var n=this.vy;if(n&&!n.QN(t)){var i=n.iC(t,.05);if(i>-1){var e=n.OD(i);if(t<e)return e}}return t},e.uj=function(){if(this.rN&&this.rN.MX){var t=this.rN.UX,n=this.rN.XX,i=t&&n?t.YD(n):t||n;if(i&&0!==i.N_){var e=i.OD(i.N_-1),r=i.LD(i.N_-1);return w.max(e,r-.001)}}},e.aj=function(){if(this.rN&&this.rN.MX){var t=this.rN.XX;if(t&&0!==t.N_){var n=t.OD(t.N_-1),i=t.LD(t.N_-1)-.02;return i-=.001,w.max(n,i)}}},e.vj=function(t){this.Yq!==t&&(this.Yq=t,this.Ys(new _y(t)))},e.hj=function(){this.EC=!1,this.Yq=NaN,this.sY&&this.lj(),this.Ys(new gy(this.qg))},e.rj=function(){this.uY||(this.oY=this.Kg,this.uY=!0,this.tj())},e.lj=function(){this.uY&&(this.uY=!1,this.oY||this.JY())},e.LX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.us===jp.RE&&fD.LX(i,this.Fh))return i;if(i.us===jp.NE&&vC.LX(i))return i}},e.Zm=function(){this.ED=!1,rr(this.Fh)&&(this.Fh.style.display="none")},e.Qm=function(){this.ED=!0,rr(this.Fh)&&(this.Fh.style.display="block")},e.AE=function(t,n,i,e,r,s,u,o){var a=new MC(t,n,i,e,r,s,u,o);return this.Dm.T_(a),this.Gq.T_(a),a},e.XN=function(){return!0},e.HN=function(t,n,i,e){var r=s.createElement("track");r.src=i_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=MI(),this.Fh.appendChild(r);var u=this.Fh.textTracks.getTrackById(r.id),o=new xP(u,r);return this.Hq.T_(o),this.Fq.push(o),o},e.EE=function(t){this.Dm.S_(t),this.Gq.S_(t)},e.WN=function(){for(var t=0,n=this.Dm.R_.slice();t<n.length;t++){n[t].Bd()}this.Dm.I_();for(var i=0,e=this.Fq.slice();i<e.length;i++){var r=e[i];this.Hq.S_(r),r.Bd()}Hs(this.Fq)},e.BN=function(){var t=this.Fh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.fY),t.addEventListener("removetrack",this.dY),t.addEventListener("change",this.wY)),this.Fh.addEventListener("emptied",this._Y)},e.qN=function(){var t=this.Fh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.fY),t.removeEventListener("removetrack",this.dY),t.removeEventListener("change",this.wY)),this.Fh.removeEventListener("emptied",this._Y)},e.lY=function(t,n){if(L.Cn){if(t.kind===kp.rA)return void this.dj(t);if(t.kind===kp.uE&&""===t.label&&""===t.language&&!wB(t))return void this.wj(t,n)}dB(this.Hq,t)||this.Hq.T_(new xP(t,n))},e.dj=function(t){t.mode=km.Y_;var n=new GP(t);this.Hq.T_(n),this.Gq.T_(n)},e.wj=function(t,n){var i=this;t.addEventListener("cuechange",function e(){wB(t)&&(t.removeEventListener("cuechange",e),i.Hq.T_(new xP(t,n)))}),t.mode=km.Y_},e.vY=function(t){for(var n=this.Fh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.zc=function(t){var n=this;return this.Lq.YU(function(i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if($s(i),!n.rN){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.us!==jp.RE){r.next=9;break}e=new fD(t,n,n.pX,n._s),n.sY=!1,n._j(new mC(n)),r.next=17;break;case 9:if(t.us!==jp.NE){r.next=16;break}e=new vC(t,n,n.pX,n._s),n.sY=sB,n._j(n.sY?new yC(n):new mC(n)),uB&&(n.js(bf.Uf,n.gY),n.js(ey.l_,n.bY)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.rN=e,r.next=20,Rr.awrap(e.mL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,Ve)})},e.yY=function(){if(!this.aY){var t=this.Jg;this.aY=!0,this.Jg=t,this.Fh.playbackRate=0,this.Uq&&this.Uq.mW()}},e.mY=function(){if(this.aY){var t=this.Jg;this.aY=!1,this.Jg=t,this.pY()}},e.pY=function(){this.Fh.currentTime=this.Fh.currentTime,this.Uq&&this.Uq.mW()},e._j=function(t){var n=this.rg;this.Uq.Bs(),this.Uq=t,this.Uq.js(ey.l_,this.qs);var i=this.rg;n!==i&&this.Ys(new by(this.qg,i))},e.I_=function(){var t=this;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.EC=!1,this.$q=$S.gC(),this.Kq.Xs(),this.qq=void 0,this.Yq=NaN,this.jq=void 0,this.sY=!1,this.uY=!1,this.sN=void 0,this.iY=!1,this.Qq=void 0,this.eY=!1,this.rY&&(this.jY(),this.rY=!1),this.nj(new Ks),this._j(new mC(this)),this.Xq.I_(),this.mY(),uB&&(oR(this.hY),this.hY=0,this.Js(bf.Uf,this.gY),this.Js(ey.l_,this.bY)),n.next=20,Rr.awrap(this.Lq.Xs());case 20:return n.next=22,Rr.awrap(this.Lq.YU(function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.rN){n.next=4;break}return n.next=3,Rr.awrap(t.rN.Bs());case 3:t.rN=void 0;case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 22:case"end":return n.stop()}},null,this,null,Ve)},e.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rY=!1,this.MY(),this.qN(),t.next=5,Rr.awrap(this.I_());case 5:return t.next=7,Rr.awrap(this.Lq.Bd());case 7:return this.Xq.Bs(),this.Uq.Bs(),t.next=11,Rr.awrap(this.pX.Bs());case 11:return this.WN(),this.Dm.Bd(),this.Hq.Bd(),t.next=16,Rr.awrap(this.Vq.Bd());case 16:this.zq.Bd(),this.Wq.Bd(),this.Ks();case 19:case"end":return t.stop()}},null,this,null,Ve)},e.jY=function(){this.DN.addEventListener("play",this.AY),this.DN.addEventListener("pause",this.TY),this.DN.addEventListener("timeupdate",this.BY),this.DN.addEventListener("progress",this.CY),this.DN.addEventListener("loadstart",this.PY),this.DN.addEventListener("ended",this.OY),this.DN.addEventListener("ratechange",this.RY),this.DN.addEventListener("volumechange",this.UY),this.DN.addEventListener("durationchange",this.DY),this.DN.addEventListener("resize",this.XY),this.DN.addEventListener("loadedmetadata",this.XY),this.DN.addEventListener("error",this.xY),this.DN.addEventListener("emptied",this.LY),ps()?(this.Fh.addEventListener("encrypted",this.FY),this.Fh.addEventListener("waitingforkey",this.HY)):void 0!==ve.WebKitMediaKeys&&"function"==typeof ve.WebKitMediaKeys.isTypeSupported?this.Fh.addEventListener("webkitneedkey",this.VY):As()?this.Fh.addEventListener("webkitneedkey",this.WY):void 0!==ve.MSMediaKeys&&"function"==typeof ve.MSMediaKeys.isTypeSupported&&this.Fh.addEventListener("msneedkey",this.zY)},e.MY=function(){this.DN.removeEventListener("play",this.AY),this.DN.removeEventListener("pause",this.TY),this.DN.removeEventListener("timeupdate",this.BY),this.DN.removeEventListener("progress",this.CY),this.DN.removeEventListener("loadstart",this.PY),this.DN.removeEventListener("ended",this.OY),this.DN.removeEventListener("ratechange",this.RY),this.DN.removeEventListener("volumechange",this.UY),this.DN.removeEventListener("durationchange",this.DY),this.DN.removeEventListener("resize",this.XY),this.DN.removeEventListener("loadedmetadata",this.XY),this.DN.removeEventListener("error",this.xY),this.DN.removeEventListener("encrypted",this.FY),this.DN.removeEventListener("waitingforkey",this.HY),this.DN.removeEventListener("webkitneedkey",this.VY),this.DN.removeEventListener("webkitneedkey",this.WY),this.DN.removeEventListener("msneedkey",this.zY),this.DN.removeEventListener("emptied",this.LY)},e.gj=function(){var t;this.Mq||(this.$q=this.Ey,this.Mq=new wC((t=this).qg,t.Yg,t.jg,t.Kg,t.$g,t.Zg,t.Jg,t.im,t.rg),this.MY(),this.Mq.js(dC,this.qs))},e.mj=function(){if(this.Mq){var t,n,i=this.Mq;this.Mq=void 0,this.Uq.mW(),t=this,(n=i).Yg===t.Yg||m(n.Yg)&&m(t.Yg)||t.Ys(new fy(t.Yg)),t.Zg=n.Zg,t.im=n.im,t.Jg=n.Jg,n.Kg?t.Xm():t.Um().catch(Z),n.qg!==t.qg||n.rg>Fm.xg&&t.rg===Fm.xg?t.Bu(n.qg):!n.$g&&t.$g?t.Ys(new _y(t.qg)):n.$g&&!t.$g&&t.rg>=Fm.Mg&&t.Ys(new gy(t.qg)),!n.jg&&t.jg&&t.Ys(new dy(t.qg)),i.Bs(),this.jY()}},e.wN=function(t){this.sN=t,this.nj(this.sN),this.Ys(new pC(this.sN))},e.yj=function(){this.bj||(XO(this.Fh,i.Or),this.cY=!0)},e.pj=function(t){t.appendChild(this.Fh)},e.oW=function(){uB&&this.gY(),this.Uq.mW()},e.oy=function(){this.pX.Bq().catch(Z)},A(n,[{key:"kW",get:function(){return this.aY}},{key:"vy",get:function(){return this.rN?this.rN.vy:$S.gC()}},{key:"ly",get:function(){var t=this.$N;if(t&&!m(t.getTime())){var n=1e3*this.qg;return new Date(t.getTime()+n)}}},{key:"$N",get:function(){if(this.DN.getStartDate)return this.EC&&this.jq||(this.jq=this.DN.getStartDate()),this.jq}},{key:"qg",get:function(){return this.Mq?this.Mq.qg:void 0!==this.qq?this.qq:this.Fh.currentTime}},{key:"IU",get:function(){return this.xq}},{key:"Yg",get:function(){return this.Mq?this.Mq.Yg:this.rN?this.rN.Yg:this.Fh.duration}},{key:"jg",get:function(){return this.$g?this.ZY():this.Mq?this.Mq.jg:this.Fh.ended||this.iY}},{key:"wu",get:function(){return this.sN}},{key:"DN",get:function(){return this.Fh}},{key:"Kg",get:function(){return this.uY?this.oY:this.Mq?this.Mq.Kg:this.Fh.paused}},{key:"Ey",get:function(){return this.$q.$D($S.dC(this.Fh.played))}},{key:"vT",get:function(){return this.Fh.offsetHeight*i.Or.Xe}},{key:"Ck",get:function(){return this.Fh.offsetWidth*i.Or.Xe}},{key:"VN",get:function(){return iE}},{key:"rg",get:function(){return this.Uq.rg}},{key:"Ry",get:function(){return this.rN?this.rN.Ry:$S.gC()}},{key:"$g",get:function(){return this.Mq?this.Mq.$g:this.EC}},{key:"Zg",get:function(){return this.Mq?this.Mq.Zg:this.Fh.muted},set:function(t){this.Mq?this.Mq.Zg=t:this.Fh.muted=t}},{key:"Jg",get:function(){return this.Mq?this.Mq.Jg:void 0!==this.tY?this.tY:this.Fh.playbackRate},set:function(t){this.Mq?this.Mq.Jg=t:this.Kg||this.aY?(this.tY=t,this.NY(t)):(this.tY=void 0,this.Fh.playbackRate=t)}},{key:"Aj",get:function(){return this.ED}},{key:"im",get:function(){return this.Mq?this.Mq.im:this.Fh.volume},set:function(t){this.Mq?this.Mq.im=t:this.Fh.volume=t}},{key:"Lm",get:function(){return this.Wq}},{key:"NU",get:function(){return this.NC}},{key:"_y",get:function(){return!!this.Fh.webkitCurrentPlaybackTargetIsWireless}},{key:"bj",get:function(){return this.cY}},{key:"Tj",get:function(){return Nr({},oD)}},{key:"CN",get:function(){return this.pX.CN},set:function(t){this.pX.CN=t}},{key:"Oq",get:function(){return this.pX.Oq}},{key:"Dy",get:function(){return this.eY},set:function(t){this.eY=t,this.rY&&!this.eY&&(this.rY=!1,this.jY())}}]),n}(lu);function fB(t){try{var n=xo(t),i=new zo;return So(Eo(eo(n,i,co(n,i,!0)),!0))}catch(t){return}}var vB=.01;function lB(t,n,i){if(void 0===i&&(i=0),!n.N_)return 0;var e=n.WD(t),r=vB*i;return e===n.OD(0)?e+=r:e===n.LD(n.N_-1)&&(e-=r),e}function dB(t,n){for(var i=0,e=t.R_;i<e.length;i++){var r=e[i];if(r.Hy===n)return r}}function wB(t){return!!t.cues&&t.cues.length>0}var _B={QM:void 0,ZM:void 0,KM:void 0,JM:void 0,$M:void 0,tU:void 0,nU:void 0},gB=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Kw=void 0,n}return S(n,t),A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=TN(this)),this.Kw}},{key:"QM",get:function(){}},{key:"ZM",get:function(){}},{key:"KM",get:function(){}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}}]),n}(lu);new gB;var mB=function(t){function n(n,i,e){return t.call(this,n,i,e,new gB)||this}return S(n,t),n.prototype.Km=function(){},A(n,[{key:"tm",get:function(){return 0}},{key:"nm",get:function(){return 0}}]),n}(hB),yB="theoplayer-texttracks",kB=function(){function t(t){void 0===t&&(t=5),this.Sj=void 0;var n=ve.document.createElement("div");n.className=yB,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Sj=n,this.Qm()}var n=t.prototype;return n.Zm=function(){this.Sj.style.display="none"},n.Qm=function(){this.Sj.style.display="block"},n.pj=function(t){t.appendChild(this.Sj)},n.Bd=function(){Je(this.Sj)},A(t,[{key:"wy",get:function(){return this.Sj}}]),t}();function bB(t,n){return t?Nr({},n,om({JM:t.JM,KM:t.KM,ZM:t.ZM,QM:t.QM,$M:t.$M,tU:t.tU,nU:t.nU})):n}function pB(t){return t.KM&&ls(t.KM,"%")?Number(t.KM.replace("%",""))/100:t.KM&&ls(t.KM,"em")?Number(t.KM.replace("em","")):1}var AB,TB,SB=function(){function t(t,n,i,e,r){var s=this;this.Ej=Pr(),this.Ij=!0,this.Rj=void 0,this.Nj=Nr({},_B),this.Dj=[],this.wk=void 0,this.Fh=void 0,this.xq=void 0,this.Cj=void 0,this.Pj=function(t){return s.SE(t.Qy)},this.Bj=function(t){return s.removeCue(t.Qy)},this.Oj=function(){return s.xj()},this.Lj=function(t){return s.Mj(t.Qy)},this.Uj=function(t){return s.Xj(t.Qy)},this.Fj=function(t){return s.Hj(t.Qy)},this.zj=function(t){s.Vj(t.Ck,t.vT)},this.wk=t,this.Cj=this.Rj=r,this.Fh=this.Wj(i),this.xq=e,n.appendChild(this.Fh)}var n=t.prototype;return n.Gj=function(t){var n=this.qj(t);if(!n)return!1;for(var i=0;i<n.length;i++){Je(n[i])}return this.Yj(t),!0},n.mL=function(){var t=this;this.jj(),this.wk.og.R_.forEach(function(n){return t.SE(n)}),this.IU.js("AO",this.zj),this.Vj(this.IU.CO,this.IU.DO)},n.Qj=function(t){this.Nj=t,this.Rj=bB(this.Nj,this.Cj),this.Rj.QM&&(this.DN.style.fontFamily=this.Rj.QM),this.Rj.nU&&(this.DN.style.visibility=this.Rj.nU),this.Vj(this.IU.CO,this.IU.DO),this.Zj(!0)},n.Kj=function(){return this.Rj},n.Jj=function(t){return this.Ej.has(t.F_)},n.jj=function(){this.wk.js(Wg.n_,this.Pj),this.wk.js(Wg.e_,this.Bj),this.wk.js(Wg.f_,this.Oj)},n.$j=function(){this.wk.Js(Wg.n_,this.Pj),this.wk.Js(Wg.e_,this.Bj),this.wk.Js(Wg.f_,this.Oj)},n.tQ=function(t){t.js(dk.Gy,this.Lj),t.js(dk.Yy,this.Uj),t.js(dk.g_,this.Fj)},n.nQ=function(t){t.Js(dk.Gy,this.Lj),t.Js(dk.Yy,this.Uj),t.Js(dk.g_,this.Fj)},n.SE=function(t){this.tQ(t),t.Ak&&this.Mj(t)},n.removeCue=function(t){this.nQ(t),this.Xj(t)},n.xj=function(){this.wk.K_===km.j_?this.iQ():this.eQ()},n.iQ=function(){if(this.Ij){this.Ij=!1;var t=this.IU.CO,n=this.IU.DO;this.Vj(t,n),this.Zj(!1)}},n.eQ=function(){this.Ij||(this.Ij=!0,this.Zj(!0))},n.Mj=function(t){this.Ij||t.Ak&&!this.Jj(t)&&this.Zj(!1)},n.Xj=function(t){this.Jj(t)&&this.Zj(!1)},n.Hj=function(t){(t.Ak||this.Jj(t))&&this.Zj(!0)},n.Zj=function(t){var n=this.Dj,i=this.Ij?[]:this.wk.ag.R_.slice();this.rQ(i,n,t),this.Dj=i},n.qj=function(t){var n;return null==(n=this.Ej.get(t.F_))?void 0:n.sQ},n.uQ=function(t,n){this.Ej.set(t.F_,{Qy:t,sQ:n})},n.Yj=function(t){this.Ej.delete(t.F_)},n.oQ=function(){return this.Dj.slice()},n.Bd=function(){var t=this;Je(this.DN),this.Ej.clear(),this.$j(),this.wk.og.R_.forEach(function(n){return t.nQ(n)}),this.IU.Js("AO",this.zj)},A(t,[{key:"t_",get:function(){return this.wk}},{key:"DN",get:function(){return this.Fh}},{key:"IU",get:function(){return this.xq}},{key:"aQ",get:function(){return this.Rj}},{key:"cQ",get:function(){return this.Nj}}]),t}();function EB(t){return IB[t||"none"]}!function(t){t.hQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.fQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.vQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.lQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(AB||(AB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(TB||(TB={}));var IB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},RB=Br({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),NB={ZM:TB.WHITE,QM:"Arial, Helvetica, Sans-Serif",KM:"100%",JM:TB.TRANSPARENT,$M:TB.TRANSPARENT,tU:"none",nU:"visible"},DB=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,NB)||this}S(n,t);var i=n.prototype;return i.Wj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",tr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Vj=function(t,n){var i=w.min(t,n)/15;this.DN.style.fontSize=i+"px"},i.rQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ak||this.Gj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.dQ(u)}},i.dQ=function(t){var n=this.qj(t);n||(n=this.wQ(t),this.uQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.DN.appendChild(r)}},i.wQ=function(t){var n,i=[],e=t.nE,r=t.hp,u=t.Jy;if(0===d.keys(r).length){UB(n=s.createElement("div"));for(var o=CB(u,e,t.iE,void 0),a=0;a<o.length;a++){var c=o[a];n.appendChild(c)}i.push(n)}else for(var h=0,f=d.keys(r);h<f.length;h++){var v=f[h],l=s.createElement("div");l.id=v;var w=CB(u,e,t.iE,l);if(w){UB(l),BB(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.Qj=function(t){},n}(SB);function CB(t,n,i,e){var r,u;if(jt(t)&&("SPAN"===(u=t).ai.toUpperCase()||"P"===u.ai.toUpperCase()||"BR"===u.ai.toUpperCase()||"DIV"===u.ai.toUpperCase()||"BODY"===u.ai.toUpperCase())){var o=function t(n){var i=n.Ci("region");if("p"===n.ai.toLowerCase())return i;var e=[];for(var r=0,s=n.Di;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.ai.toUpperCase()?e:function(t){var n;switch(t.ai.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":PB(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",PB(n,t);break;case"DIV":PB(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Ci("style");xB(t,n.ai,r,i,e),function(t,n,i){for(var e=0,r=n.Mi;e<r.length;e++){var s=r[e],u=ip(s.ci,["ebutts","tts","xml"]);LB(t,n.ai,u,s._i,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Ci("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Di;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Mi.some(function(t){return"id"===t.ai&&t._i===e})});r&&OB(t,r,n,!0)}!function(t,n){var i=n.Di[0];if(!i||"metadata"!==i.ai.toLowerCase())return;var e=i.Di[0];OB(t,e,n)}(t,n)}(r,t,i));for(var a=[],c=t.Si,h=0;h<c.length;h++){var f=CB(c[h],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.ai.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,w=l[v];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Qt(t)&&(r=s.createTextNode(t.Xi));return r?[r]:[]}function PB(t,n){var i=n.Pi($b,"id");i&&(t.id=i)}function BB(t,n,i,e){xB(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];LB(t,n,u,i[u],t)}}function OB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Si.length>0?t.Si[0]:null;return n&&Qt(n)?"data:image/png;base64,"+n.Xi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){tr(t.style,"flex");var i=n.Ci("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Ci("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function xB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,c=d.keys(e[o]);a<c.length;a++){var h=c[a],f=ip(h,["ebutts","tts","xml"]);"style"===f.toLowerCase()?xB(t,n,e[o][h],e,r):LB(t,n,f,e[o][h],r)}}}function LB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=RB.get(e);t.style.fontFamily=s||e;break;case"fontSize":ls(e,"px")?e=_(e)/24+"em":ls(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,c,h=MB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],c=f[1]):a=c="100%",h&&(h.style.height=c,h.style.width=a);break;case"origin":var v=MB(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ls(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function MB(t){return"div"===t||"p"===t||"span"===t}function UB(t){tr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var XB,FB,HB=void 0;function zB(t,n){for(var i,e=XB._Q,r="",s=[],u=t.charAt(n.Du),o="",a={us:FB.gQ,Ei:"",mQ:[]};n.Du<t.length+1;){switch(u=n.Du<t.length?t.charAt(n.Du):"EOF",e){case XB._Q:switch(u){case"&":var c=t.substring(n.Du).match(/&#?[0-9a-zA-Z]+;/);c?(r+=(i=c[0],HB||(HB=ve.document.createElement("textarea")),HB.innerHTML=i,HB.value),n.Cu(c[0].length-1)):r+="&";break;case"<":if(r)return{us:FB.yQ,Jy:r};e=XB.kQ;break;case"EOF":return{us:FB.yQ,Jy:r};default:r+=u}break;case XB.kQ:switch(u){case"\t":case"\n":case"\f":case" ":e=XB.bQ;break;case".":e=XB.pQ;break;case"/":e=XB.AQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=XB.TQ;break;case">":return n.Cu(1),a;case"EOF":return a;default:r=u,e=XB.SQ}break;case XB.SQ:switch(u){case"\t":case"\f":case" ":e=XB.bQ;break;case"\n":o=u,e=XB.bQ;break;case".":e=XB.pQ;break;case">":return n.Cu(1),{us:FB.gQ,Ei:r,mQ:[]};case"EOF":return{us:FB.gQ,Ei:r,mQ:[]};default:r+=u}break;case XB.pQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=XB.bQ;break;case"\n":s.push(o),o=u,e=XB.bQ;break;case".":s.push(o),o="";break;case">":return n.Cu(1),s.push(o),{us:FB.gQ,Ei:r,mQ:s};case"EOF":return s.push(o),{us:FB.gQ,Ei:r,mQ:s};default:o+=u}break;case XB.bQ:switch(u){case"&":e=XB.EQ;break;case">":n.Cu(1);var h=o.trim();return h=h.replace(/\s/," "),{us:FB.gQ,Ei:r,mQ:s,IQ:h};default:o+=u}break;case XB.EQ:for(var f="",v=n.Du;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=XB.bQ;break;case XB.AQ:switch(u){case">":return n.Cu(1),{us:FB.RQ,Ei:r};case"EOF":return{us:FB.RQ,Ei:r};default:r+=u}break;case XB.TQ:switch(u){case">":return n.Cu(1),{us:FB.NQ,DQ:r};case"EOF":return{us:FB.NQ,DQ:r};default:r+=u}}n.Cu(1)}return a}function VB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t._Q="Data",t.kQ="Tag",t.SQ="StartTag",t.pQ="StartTagClass",t.bQ="StartTagAnnotation",t.EQ="CharRefInAnnotation",t.AQ="EndTag",t.TQ="TimestampTag"}(XB||(XB={})),function(t){t.yQ="string",t.gQ="starttag",t.RQ="endtag",t.NQ="timestamp"}(FB||(FB={}));var WB,GB=function(){function t(t,n,i,e){this.CQ=void 0,this.BQ=void 0,this.Ck=void 0,this.vT=void 0,this.CQ=t,this.BQ=n,this.Ck=i,this.vT=e}var n=t.prototype;return n.OQ=function(t){return this.CQ<t.xQ&&this.xQ>t.CQ&&this.BQ<t.LQ&&this.LQ>t.BQ},n.By=function(t){return this.CQ<=t.CQ&&t.xQ<=this.xQ&&this.BQ<=t.BQ&&t.LQ<=this.LQ},n.Ou=function(){return new t(this.CQ,this.BQ,this.Ck,this.vT)},A(t,[{key:"xQ",get:function(){return this.CQ+this.Ck},set:function(t){this.CQ=t-this.Ck}},{key:"LQ",get:function(){return this.BQ+this.vT},set:function(t){this.BQ=t-this.vT}}]),t}(),qB={ZM:TB.WHITE,QM:"sans-serif",KM:"100%",JM:"rgba(0,0,0,0.8)",$M:TB.TRANSPARENT,tU:"none",nU:"visible"},YB="theoplayer-webvtt-region-",jB="theoplayer-webvtt-styling-",QB="theoplayer-webvtt-voice-",ZB="theoplayer-webvtt-default-style",KB=5.23,JB=1.14,$B=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qB)||this).MQ=Cr(),s.UQ=rO(3),s}S(n,t);var i=n.prototype;return i.Wj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,ir(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.aQ.QM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(ZB))return;for(var t=[],n=0;n<vO.length;n++){var i=vO[n],e=i[0],r=i[1];t.push("."+jB+e+" { color: "+r+" !important; }"),t.push("."+jB+"XQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("FQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=ZB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.mL=function(){this.DN.appendChild(this.UQ),t.prototype.mL.call(this)},i.Vj=function(t,n){var i=this,e=w.min(t/100,n/100),r=pB(this.aQ);this.MQ.forEach(function(t){var n=t.hk,s=t.HQ;i.zQ(s,e,r,n)}),this.zQ(this.UQ,e,r),this.VQ()},i.VQ=function(){var t=pB(this.aQ);this.UQ.style.margin=t>=1.5?"0":1/t+"em"},i.rQ=function(t,n,i){for(var e=this,r=this.DN,s=this.IU.DO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.hk&&(Xs(u,a.hk)||u.push(a.hk))}this.MQ.forEach(function(t,n){var r=t.hk,s=t.HQ;!i&&Xs(u,r)||(Je(s),e.MQ.delete(n))});for(var c=0;c<n.length;c++){var h=n[c];!i&&h.Ak||this.Gj(h)}for(var f=[],v=0;v<u.length;v++){var l=u[v],d=void 0;this.MQ.has(l.X_)?d=this.MQ.get(l.X_).HQ:(d=sO(l,s),r.appendChild(d),this.MQ.set(l.X_,{hk:l,HQ:d})),f.push(aO(d.getBoundingClientRect()))}for(var w=aO(this.UQ.getBoundingClientRect()),_=0;_<t.length;_++){var g=t[_],m=this.dQ(g,f,w);void 0!==m&&f.push(m)}},i.dQ=function(t,n,i){var e,r;t.hk?(r=this.MQ.get(t.hk.X_).HQ,"up"===t.hk.Rk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.UQ;var s=null==(e=this.qj(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.WQ(t),r.appendChild(s),t.hk||(t.fk?function(t,n,i,e){var r=uO(t),s=r?i.vT:i.Ck,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=aO(n.getBoundingClientRect()),a=w.round(Ck(t));"rl"===t.vk&&(a=-(a+1));var c=u*a;"rl"===t.vk&&(c=c-o.Ck+u);a<0&&(c+=s,u=-u);r?o.BQ+=c:o.CQ+=c;var h=o.Ou(),f=!1;for(;!i.By(o)||oO(o,e);)if(r)if(u<0&&o.BQ<i.BQ||u>0&&o.LQ>i.LQ){if(o.BQ=h.BQ,f)break;u=-u,f=!0}else o.BQ+=u;else if(u<0&&o.CQ<i.CQ||u>0&&o.xQ>i.xQ){if(o.CQ=h.CQ,f)break;u=-u,f=!0}else o.CQ+=u;r?n.style.top=(o.BQ-i.BQ)/i.vT*100+"%":n.style.left=(o.CQ-i.CQ)/i.Ck*100+"%"}(t,s,i,n):function(t,n,i,e){var r=aO(n.getBoundingClientRect());if(0===r.Ck||0===r.vT)return;uO(t)?"center"===t.ek?r.BQ-=r.vT/2:"end"===t.ek&&(r.BQ-=r.vT):"center"===t.ek?r.CQ-=r.Ck/2:"end"===t.ek&&(r.CQ-=r.Ck);var s,u=r.Ou(),o=u,a=1,c=!1;s=""===t.vk?[WB.POS_Y,WB.NEG_Y,WB.POS_X,WB.NEG_X]:"lr"===t.vk?[WB.POS_X,WB.NEG_X,WB.POS_Y,WB.NEG_Y]:[WB.NEG_X,WB.POS_X,WB.POS_Y,WB.NEG_Y];var h=g(getComputedStyle(n).lineHeight)/4;if(h>0){for(var f=0;f<s.length&&!c;f++){for(;!hO(r,i,s[f],.01)&&(!i.By(r)||oO(r,e));)cO(r,s[f],h);if(i.By(r)){o=r.Ou(),c=!0;break}var v=(l=r,d=i,_=void 0,m=void 0,void 0,_=w.max(0,w.min(l.xQ,d.xQ)-w.max(l.CQ,d.CQ)),m=w.max(0,w.min(l.LQ,d.LQ)-w.max(l.BQ,d.BQ)),_*m/(l.Ck*l.vT));a>v&&(o=r.Ou(),a=v),r=u.Ou()}i.By(r)||(o=u.Ou())}var l,d,_,m;n.style.left=(o.CQ-i.CQ)/i.Ck*100+"%",n.style.top=(o.BQ-i.BQ)/i.vT*100+"%"}(t,s,i,n)),this.uQ(t,[s])),!t.hk)return aO(s.getBoundingClientRect())},i.WQ=function(t){for(var n=new zo,i=t.Jy,e=this.GQ(t),r={qQ:void 0,wy:e},u=r,o="",a="",c=[r],h=[],f=[];n.Du<i.length;){var v=zB(i,n);if(v.us===FB.yQ){var l=s.createElement("span");VB(l,v.Jy),tO(l,c),""!==o&&(l.lang=o),this.YQ(l,a),u.wy.appendChild(l)}else if(v.us===FB.gQ){var d=v.Ei.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.wy.appendChild(w),u={qQ:v,wy:w},c.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.qQ)?void 0:_.Ei.toLowerCase())){var g=s.createElement("rt");u.wy.appendChild(g),u={qQ:v,wy:g},c.push(u)}break;case"c":case"v":u={qQ:v,wy:u.wy},c.push(u);break;case"font":var m,y=null==(m=v.IQ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={qQ:v,wy:u.wy},c.push(u));break;case"lang":var k;o=null!=(k=v.IQ)?k:"",h.push(o)}}else if(v.us===FB.RQ){var b,p=v.Ei.toLowerCase(),A=null==(b=u.qQ)?void 0:b.Ei.toLowerCase();A===p?(c.pop(),u=c[c.length-1],"font"===p&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===p?(c.pop(),c.pop(),u=c[c.length-1]):"lang"===p&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.us===FB.NQ){var T=v.DQ,S=new zo;try{pb(T,S)}catch(t){ot("ERROR collecting timestamp",t)}}}return e},i.YQ=function(t,n){var i=this.aQ,e=this.cQ;i.JM&&(t.style.background=i.JM);var r=e.ZM||n||i.ZM;r&&(t.style.color=r)},i.zQ=function(t,n,i,e){if(e){var r=nO(e,n);t.style.height=r*i+"px",t.style.left=iO(e)+"%",t.style.top=eO(e,n)+"px"}t.style.fontSize=KB*n*i+"px"},i.GQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.$y,function(t,n){"rl"===n.vk?t.style.writingMode="vertical-rl":"lr"===n.vk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Ok(n);uO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Bk(n),s=Pk(n),u=Ok(n);if(uO(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.fk?0:Ck(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.fk?0:Ck(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.aQ.$M;i&&(n.style.background=i);var e=this.aQ.ZM;return e&&(n.style.color=e),n.style.textShadow=EB(this.aQ.tU),n},n}(SB);function tO(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.qQ){for(var r=0,s=e.qQ.mQ;r<s.length;r++){var u=s[r];$e(t,jB+u)}"v"===e.qQ.Ei.toLowerCase()&&e.qQ.IQ&&$e(t,QB+e.qQ.IQ)}}}function nO(t,n){return t.Sk*(KB*n)*JB}function iO(t){return t.Nk-t.Ek*t.Ck/100}function eO(t,n){var i=t.Dk,e=t.Ik*nO(t,n)/100;return w.max(0,i-e)}function rO(t){var n=s.createElement("div");return n.className=YB+"default",ir(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=KB*t+"px",n.style.lineHeight=JB+"em",n}function sO(t,n){var i=rO(n);i.className=YB+t.X_;var e=t.Ck,r=nO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=iO(t)+"%",i.style.right="",i.style.top=eO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function uO(t){return""===t.vk}function oO(t,n){return n.some(function(n){return t.OQ(n)})}function aO(t){return new GB(t.left,t.top,t.width,t.height)}function cO(t,n,i){switch(n){case WB.POS_X:t.CQ+=i;break;case WB.NEG_X:t.CQ-=i;break;case WB.POS_Y:t.BQ+=i;break;case WB.NEG_Y:t.BQ-=i}}function hO(t,n,i,e){switch(i){case WB.POS_X:return t.xQ>n.xQ+e;case WB.NEG_X:return t.CQ<n.CQ-e;case WB.POS_Y:return t.LQ>n.LQ+e;case WB.NEG_Y:return t.BQ<n.BQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(WB||(WB={}));var fO,vO=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(fO||(fO={}));var lO={ZM:TB.WHITE,QM:AB.vQ,KM:"100%",JM:TB.BLACK,$M:"transparent",tU:"none",jQ:fO.FONT_REGULAR,nU:"visible"},dO=[{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.GREEN,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.GREEN,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.BLUE,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.BLUE,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.CYAN,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.CYAN,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.RED,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.RED,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.YELLOW,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.YELLOW,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.MAGENTA,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.MAGENTA,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.WHITE,jQ:fO.FONT_ITALICS,ZQ:0},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE_ITALICS,ZQ:0},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:0},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:0},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:4},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:4},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:8},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:8},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:12},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:12},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:16},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:16},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:20},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:20},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:24},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:24},{QQ:TB.WHITE,jQ:fO.FONT_REGULAR,ZQ:28},{QQ:TB.WHITE,jQ:fO.FONT_UNDERLINE,ZQ:28}],wO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function _O(t,n){return i=t.KQ,e=n.KQ,i.xk(e)||Ds(t.mS,n.mS);var i,e}var gO=32,mO=function(){function t(t,n,i){this.JQ=void 0,this.$Q=t,this.tZ=n,this.Rj=i}var n=t.prototype;return n.nZ=function(){return this.JQ=this.iZ(),this.eZ(),this.rZ(),this.JQ},n.iZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.sZ/gO*this.tZ.uZ*100+"%",t.style.height=1.2*this.oZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.tZ.aZ?"calc(1em - 1ch)":"";var n=this.Rj.QM;n&&(t.style.fontFamily=n);var i=this.Rj.$M;return i&&(t.style.backgroundColor=i),t},n.eZ=function(){if(this.JQ){var t=this.hZ.cZ/15*100,n=this.hZ.ZQ/gO*100,i=(gO-this.fZ.ZQ-1)/gO*100,e=(15-this.fZ.cZ-1)/15*100;this.tZ.vZ||(n=i=1,this.JQ.style.width="98%"),e<t?this.JQ.style.bottom=e*this.tZ.uZ+"%":this.JQ.style.top=t*this.tZ.uZ+"%",i<n?this.JQ.style.right=i+"%":this.JQ.style.left=n+"%"}},n.rZ=function(){for(var t=this.$Q.lZ.sort(yO),n=0;n<t.length;n++)this.dZ(t[n-1],t[n]),this.wZ(t[n]);this.dZ(t[t.length-1],void 0)},n.wZ=function(n){var i,e=bB(this.Rj,n._Z),r=t.gZ(e);VB(r,n.mZ),null==(i=this.JQ)||i.appendChild(r)},t.gZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.jQ!==fO.FONT_ITALICS&&t.jQ!==fO.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.jQ!==fO.FONT_UNDERLINE&&t.jQ!==fO.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.ZM;i&&(n.style.color=i);var e=t.JM;return e&&(n.style.backgroundColor=e),n.style.textShadow=EB(t.tU),n.style.height="1.2em",n},n.dZ=function(t,n){var i=t?t.yZ.cZ:this.$Q.kZ.cZ,e=n?n.kZ.cZ:this.$Q.yZ.cZ,r=t?t.yZ.ZQ:this.$Q.kZ.ZQ,s=n?n.kZ.ZQ:this.$Q.yZ.ZQ;i<e&&(!n||t&&t.kZ.cZ!==n.kZ.cZ?this.bZ():this.pZ(this.$Q.yZ.ZQ-r),r=this.$Q.kZ.ZQ),r<s&&(n?this.pZ(s-r):this.bZ())},n.bZ=function(){var t,n=s.createElement("br");null==(t=this.JQ)||t.appendChild(n)},n.pZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",VB(i,ws(" ",t)),null==(n=this.JQ)||n.appendChild(i)}},A(t,[{key:"hZ",get:function(){return this.$Q.kZ}},{key:"fZ",get:function(){return this.$Q.yZ}},{key:"sZ",get:function(){return this.$Q.yZ.ZQ-this.$Q.kZ.ZQ+1}},{key:"oZ",get:function(){return this.$Q.yZ.cZ-this.$Q.kZ.cZ+1}}]),t}();function yO(t,n){return function(t,n){if(t.cZ!==n.cZ)return t.cZ-n.cZ;return t.ZQ-n.ZQ}(t.kZ,n.kZ)}var kO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,lO)||this).AZ=void 0,s.TZ=void 0,s}S(n,t);var i=n.prototype;return i.Wj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.aQ.QM&&(n.style.fontFamily=this.aQ.QM),n},i.Vj=function(t,n){this.SZ()},i.SZ=function(){var t,n=pB(this.aQ);this.TZ={uZ:(t=100*n)/100,aZ:t<=100,vZ:t<=150};var i=this.EZ/gO;this.AZ=i*n,this.DN.style.fontSize=this.AZ+"px"},i.rQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Ak||this.Gj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.dQ(u)}},i.dQ=function(t){this.TZ&&this.TZ.vZ?this.IZ(80):this.IZ(100),this.SZ();var n=this.qj(t);n||(n=this.wQ(t),this.uQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.DN.appendChild(r)}},i.wQ=function(t){var n=this;return t.Jy.map(function(t){return new mO(t,n.TZ,n.aQ).nZ()})},i.IZ=function(t){var n=(100-t)/2;this.DN.style.left=n+"%",this.DN.style.width=t+"%"},A(n,[{key:"EZ",get:function(){var t=this.DN.offsetWidth;return this.TZ&&this.TZ.vZ||(t*=.8),t}}]),n}(SB),bO=function(){function t(t,n,i,e,r){var s=this;this.RZ=void 0,this.xq=void 0,this.Dm=void 0,this.NZ=void 0,this.DZ=[],this.NC=void 0,this.CZ=function(t){var n=t.t_;n.js(Wg.l_,s.PZ),n.js(Wg.w_,s.PZ),n instanceof xP&&(n.yG=s.yG),s.BZ(n)},this.PZ=function(t){var n=t.t_;s.BZ(n)},this.OZ=function(t){var n=t.t_;n.Js(Wg.l_,s.PZ),n.Js(Wg.w_,s.PZ),s.xZ(n)},this.LZ=function(){for(var t=s.yG,n=0,i=s.Dm.R_;n<i.length;n++){var e=i[n];e instanceof xP&&(e.yG=t)}},this.MZ=function(){for(var t=0,n=s.DZ;t<n.length;t++){n[t].Qj(s.NC)}},this.UZ=function(){for(var t=0,n=s.DZ;t<n.length;t++){var i=n[t];i.Qj(Nr({},i.Kj(),{nU:"hidden"}))}},this.XZ=function(){for(var t=0,n=s.DZ;t<n.length;t++){var i=n[t];i.Qj(Nr({},i.Kj(),{nU:"visible"}))}},this.RZ=t,this.xq=n,this.Dm=i,this.NZ=r,this.NC=e,this.Dm.js(Fg.Yw,this.CZ),this.Dm.js(Fg.Qw,this.OZ),this.Dm.js(Wg.f_,this.PZ),this.NZ.js(KS.f_,this.LZ),this.NC.js("v_",this.MZ),this.LZ()}var n=t.prototype;return n.FZ=function(t){for(var n=0,i=this.DZ;n<i.length;n++){var e=i[n];if(e.t_===t)return e}},t.HZ=function(t){switch(t.us){case hk.TTML:case hk.SRT:case hk.WEBVTT:case hk.CEA608:return!0}return!1},n.zZ=function(t){switch(t.us){case hk.TTML:return new DB(t,this.RZ,t.z_,this.xq);case hk.SRT:case hk.WEBVTT:return new $B(t,this.RZ,t.z_,this.xq);case hk.CEA608:return new kO(t,this.RZ,t.z_,this.xq)}},n.VZ=function(t){var n=this.FZ(t);n||(n=this.zZ(t))&&(n.mL(),n.Qj(this.NC),this.DZ.push(n),t.K_===km.j_&&n.iQ())},n.xZ=function(t){for(var n=this.DZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.t_===t&&(e.Bd(),Us(n,i))}},n.BZ=function(n){var i;(i=n.H_)!==kp.iA&&i!==kp.uE||!t.HZ(n)||(n.rg===ck.ERROR?this.xZ(n):this.VZ(n))},n.I_=function(){for(var t=0,n=this.DZ;t<n.length;t++){var i=n[t];i.t_.Js(Wg.l_,this.PZ),i.t_.Js(Wg.w_,this.PZ),i.Bd()}Hs(this.DZ)},n.Bd=function(){this.I_();for(var t=0,n=this.DZ;t<n.length;t++){n[t].Bd()}this.Dm.Js(Fg.Yw,this.CZ),this.Dm.Js(Fg.Qw,this.OZ),this.Dm.Js(Wg.f_,this.PZ),this.NZ.Js(KS.f_,this.LZ),this.NC.Js("v_",this.MZ)},A(t,[{key:"yG",get:function(){return this.NZ.yC}}]),t}();function pO(t){var n=new bR,i=function(t){var n=[];return yR.JO(t)&&n.push(new yR(t)),kR.JO(t)&&n.push(new kR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.ex(r)}n.ix(i[0])}return n}var AO,TO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).WZ=void 0,s.GZ=void 0,s.qZ=void 0,s.qZ=pO(n),s.WZ=new kB,s.GZ=new bO(s.WZ.wy,s.IU,s.Lm,s.NU,s.VN),s}S(n,t);var i=n.prototype;return i.Km=function(){return this.Fh},i.Bs=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.qZ.Bd(),this.WZ.Bd(),this.GZ.Bd(),n.next=5,Rr.awrap(t.prototype.Bs.call(this));case 5:case"end":return n.stop()}},null,this,null,Ve)},i.Zm=function(){t.prototype.Zm.call(this),this.WZ.Zm()},i.Qm=function(){t.prototype.Qm.call(this),this.WZ.Qm()},i.pj=function(n){t.prototype.pj.call(this,n),this.WZ.pj(n)},A(n,[{key:"DN",get:function(){return this.Fh}},{key:"tm",get:function(){return this.Fh.videoHeight}},{key:"nm",get:function(){return this.Fh.videoWidth}},{key:"VN",get:function(){return this.qZ}}]),n}(hB);!function(t){t.YZ="HELLO",t.jZ="HI_THERE",t.QZ="INITIALIZE",t.ZZ="APPEND_INIT",t.KZ="APPEND_DATA",t.JZ="ACK",t.$Z="REMOVE",t.tK="DESTROY_SESSION"}(AO||(AO={}));var SO=function(){function t(){this.oe=void 0,this.Uh=void 0,this.rX=new VN}var n=t.prototype;return n.nK=function(t){var n=this;return this.rX.YU(function(t){var i,e,r,s,u,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if($s(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){c.next=7;break}return c.next=7,Rr.awrap(Ug(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){c.next=10;break}return c.next=10,Rr.awrap(Ug(o.serviceWorker.controller,"activate",t));case 10:return s={kind:AO.YZ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.oe=e,c.prev=15,c.next=18,Rr.awrap(Ug(e,"message",t));case 18:if(u=c.sent,(a=u.data).kind===AO.jZ){c.next=23;break}throw new v("Could not set up message channel");case 23:n.Uh=a.sessionId,c.next=30;break;case 26:throw c.prev=26,c.t0=c.catch(15),Js(c.t0)&&n.iK(),c.t0;case 30:case"end":return c.stop()}},null,null,[[15,26]],Ve)},t)},n.eK=function(t,n){var i=this;return this.oe,this.rX.YU(function(){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.oe){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.oe.postMessage(t,n),r.next=7,Rr.awrap(Ug(i.oe,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,Ve)})},n.rK=function(){var t=this;return this.rX.YU(function(){return t.iK()})},n.iK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.oe){var t={kind:AO.tK};this.oe.postMessage(t),this.oe.close(),this.oe=void 0}},t}(),EO=function(){function t(){this.sK=Fk.Fb}var n=t.prototype;return n.uK=function(t,n){var i=t.Wk(n);this.sK=i.Ok(this.oK)?this.sK:i},n.aK=function(t){this.sK=t},A(t,[{key:"oK",get:function(){return this.sK}}]),t}(),IO=function(t){function n(n,i){var e;return(e=t.call(this)||this).cK=void 0,e.hK=void 0,e.$o=void 0,e.rX=new VN,e.fK=!1,e.vK=!1,e.tO=n,e.lK=i,e}S(n,t);var i=n.prototype;return i._V=function(t,n){},i.gV=function(t,n){},i.MX=function(){return this.vK},i.mV=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ve)},i.Jz=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ve)},i.Fz=function(t,i,e){var r,s,u=this;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.us===dD.zX){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.Xi,s=function(){var t,i,e,s,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=Qb.xA(new DataView(r.buffer)),(i=zb(t,$k.Hp)).length){h.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.$o,s=n.dK(i,e),o=u.wK(i,e),a=r.buffer,c={kind:AO.KZ,mimeType:u.tO,segment:r,startPts:jk.qb(s).tp(),totalDuration:jk.qb(o).tp()},h.next=11,Rr.awrap(u.lK.eK(c,[a]));case 11:void 0===u.cK&&(u.cK=s),void 0===u.hK&&(u.hK=s),u.hK=u.hK.Py(o),u.Ys(new wu(cD.FX));case 15:case"end":return h.stop()}},null,null,null,Ve)},i.abrupt("return",this.rX.YU(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return $s(t),n.prev=1,u.fK=!0,n.next=5,Rr.awrap(s());case 5:return n.prev=5,u.fK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},e));case 5:case"end":return i.stop()}},null,this,null,Ve)},i.Vz=function(t,n,i){var e,r,s=this;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.us===dD.zX){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Xi,r=function(){var t,n,i,r;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Qb.xA(new DataView(e.buffer)),n=Hb(t,$k.wp)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.ZA.length){u.next=6;break}throw new v("Tracks not found");case 6:return s.$o=n.ZA[0].sT.RA.Cb,i=e.buffer,r={kind:AO.ZZ,mimeType:s.tO,segment:e},u.next=11,Rr.awrap(s.lK.eK(r,[i]));case 11:s.Ys(new wu(cD.FX));case 12:case"end":return u.stop()}},null,null,null,Ve)},n.abrupt("return",this.rX.YU(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return $s(t),n.prev=1,s.fK=!0,n.next=5,Rr.awrap(r());case 5:return n.prev=5,s.fK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},i));case 5:case"end":return n.stop()}},null,this,null,Ve)},i.hV=function(){this.vK=!0},i.uV=function(){this.vK=!1},i.Vc=function(t,n,i){var e,r=this;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:AO.$Z,mimeType:r.tO,endTime:jk.zb(n).tp()},i.next=3,Rr.awrap(r.lK.eK(t));case 3:r.cK=void 0,r.hK=void 0,r.Ys(new wu(cD.FX));case 6:case"end":return i.stop()}},null,null,null,Ve)},t.abrupt("return",this.rX.YU(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return $s(t),n.prev=1,r.fK=!0,n.next=5,Rr.awrap(e());case 5:return n.prev=5,r.fK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},i));case 2:case"end":return t.stop()}},null,this,null,Ve)},i.RX=function(t){return this.tO===t.Ul},i.NX=function(t){return this.tO=t.Ul,Ve.resolve()},n.dK=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.ZA.length)throw new v("No tracks");if(!i.ZA[0].AS)throw new v("No decode time");return new Fk(i.ZA[0].AS.AS.toNumber(),n)},i.wK=function(t,n){var i=0;return t.forEach(function(t){t.ZA.forEach(function(t){t.pS.forEach(function(t){t.NS.forEach(function(t){var n;i+=null!=(n=t.Yg)?n:0})})})}),new Fk(i,n)},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,Rr.awrap(this.rX.Bd());case 3:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"vy",get:function(){return void 0===this.cK||void 0===this.hK?$S.gC():new $S([this.cK.Ub,this.hK.Ub])}},{key:"Jc",get:function(){return{Ul:this.tO}}},{key:"bV",get:function(){return jy.hd}},{key:"QB",get:function(){return this.tO}},{key:"pV",get:function(){return $S.gC()}},{key:"sL",get:function(){return 30},set:function(t){}},{key:"cL",get:function(){return 30},set:function(t){}},{key:"ax",get:function(){return this.fK}},{key:"_K",get:function(){return this.cK}},{key:"Ky",get:function(){return this.hK}}]),n}(lu),RO=function(){function t(t,n){this.Rh=void 0,this.$V=void 0,this.tW=void 0,this.Rh=t,this.tW=Os(n,function(t){return Boolean(t.QB.match(/video/))}),this.$V=Os(n,function(t){return Boolean(t.QB.match(/audio/))}),this.gK()}t.mK=function(n,i){for(var e=[],r=0;r<n.vW.length;r++){var s=n.vW[r].Ul;e.push(new IO(s,i))}return new t(n,e)};var n=t.prototype;return n.gK=function(){},n.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(Ve.all([this.$V,this.tW].filter(X).map(function(t){return t.Bs()})));case 2:case"end":return t.stop()}},null,this,null,Ve)},n.aW=function(t){},n.fW=function(t,n,i,e){},n.hV=function(){var t,n;null==(t=this.$V)||t.hV(),null==(n=this.tW)||n.hV()},n.uV=function(){var t,n;null==(t=this.$V)||t.uV(),null==(n=this.tW)||n.uV()},n.RX=function(t){return t===this.Rh},n.NX=function(t){return this.Rh=t,Ve.resolve()},A(t,[{key:"yK",get:function(){return[this.$V,this.tW].filter(X)}},{key:"QV",get:function(){return this.$V}},{key:"vy",get:function(){return aC(this)}},{key:"Jc",get:function(){return this.Rh}},{key:"Yg",get:function(){return 0}},{key:"MX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.$V)?void 0:n.MX())||t,s=null==(i=null==(e=this.tW)?void 0:e.MX())||i;return r&&s}},{key:"Ry",get:function(){return new $S([0,1/0])}},{key:"ZV",get:function(){return this.tW}},{key:"xm",get:function(){throw new v("Not implemented")}}]),t}(),NO=Fk.$k,DO=new Fk(-1/0),CO=Fk.Fb,PO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.xk=function(t,n){return t.Fk(n)?Ts.Is:t.pk(n)?Ts.Ss:Ts.Es},i.Py=function(t,n){return t.Py(n)},i.Wk=function(t,n){return t.Wk(n)},i.Xk=function(t,n){return t.Xk(n)},i.GD=function(){return NO},i.qD=function(){return CO},i.ZD=function(){return DO},n.dC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Fk(t.start(e)),new Fk(t.end(e)));return new n(i)},n.kK=function(t){for(var i=[],e=[],r=0;r<t.N_;r++)i.push(new Fk(t.OD(r))),i.push(new Fk(t.LD(r))),e.push(t.xD(r)),e.push(t.MD(r));return new n(i,e)},n._C=function(t){return new n([t,t],[!0,!0])},i.VD=function(t,i){return new n(t,i)},i.HD=function(t){return t.Ub},n.gC=function(){return BO},n}(JS),BO=new PO([]),OO=function(t){function n(n){var i;return(i=t.call(this)||this).bK=!0,i.lK=new SO,i.pK=new EO,i.rN=void 0,i.Uq=void 0,i.AK=!0,i.TK=new Wo,i.EC=!1,i.Zq=Ve.resolve(),i.Kq=new Zs,i.SK=!0,i.$q=$S.gC(),i.qZ=void 0,i.EK=void 0,i.cY=!1,i.hN=void 0,i.IK=function(){i.Kg||i.RK.N_<=0||i.vy.N_<=0||i.pK.uK(new Fk(i.vy.LD(i.vy.N_-1)),i.RK.LD(i.RK.N_-1))},i.NK=function(){i.Ys(new dy(i.qg))},i.DK=function(){i.Ys(new ly(i.qg,i.ly))},i.CK=function(){i.Ys(new vy(i.qg,i.Jg))},i.PK=function(){i.Ys(new my(i.qg,i.im))},i.BK=function(){i.Ys(new fy(i.Yg))},i.xK=function(){i.Ys(new uA(i.qg))},i.LK=function(){i.Bu(i.qg)},i.MK=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.SK&&i.Ys(new uy(i.qg)),i.AK=!1,i.SK=!0;case 3:case"end":return t.stop()}},null,null,null,Ve)},i.UK=function(){i.AK=!0,i.Ys(new sy(i.qg))},i.EK=n,i.Uq=new mC(Zt(i)),i.EK.setAttribute("id","player_video"),i.EK.setAttribute("x-webkit-airplay","deny"),i.EK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.EK.playsInline=!0,i.EK.style.width="100%",i.EK.style.height="100%",i.XK(),i.FK(),i.qZ=pO(i.EK),i}S(n,t);var e=n.prototype;return e.XK=function(){this.EK.addEventListener("timeupdate",this.IK),this.EK.addEventListener("ended",this.NK),this.EK.addEventListener("timeupdate",this.DK),this.EK.addEventListener("ratechange",this.CK),this.EK.addEventListener("volumechange",this.PK),this.EK.addEventListener("durationchange",this.BK),this.EK.addEventListener("playing",this.xK),this.EK.addEventListener("seeking",this.LK),this.EK.addEventListener("play",this.MK),this.EK.addEventListener("pause",this.UK)},e.HK=function(){this.EK.removeEventListener("timeupdate",this.IK),this.EK.removeEventListener("ended",this.NK),this.EK.removeEventListener("timeupdate",this.DK),this.EK.removeEventListener("ratechange",this.CK),this.EK.removeEventListener("volumechange",this.PK),this.EK.removeEventListener("durationchange",this.BK),this.EK.removeEventListener("playing",this.xK),this.EK.removeEventListener("seeking",this.LK),this.EK.removeEventListener("play",this.MK),this.EK.removeEventListener("pause",this.UK)},e.FK=function(){this.Uq.js(ey.l_,this.qs)},e.zK=function(){this.Uq.Js(ey.l_,this.qs)},e.Bu=function(t,n){this.Kq.Xs(),this.Kq=new Zs,this.Zq=this.ej(t,this.Zq,this.Kq.zs).catch(Z)},e.ej=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.$q=this.Ey,r=null==(e=this.rN)?void 0:e.yK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t._K?t._K.Ub:1/0})),this.EC=!0,this.Ys(new _y(t)),u.next=9,Rr.awrap(n.catch(Z));case 9:if($s(i),u.prev=10,this.bK||this.VK(),this.EK.load(),this.AK){u.next=17;break}return this.SK=!1,u.next=17,Rr.awrap(iu(this.EK.play(),i));case 17:if(!(this.rg<Fm.Mg)){u.next=22;break}return u.next=20,Rr.awrap(this.Uq.uu(ey.l_,i));case 20:u.next=17;break;case 22:this.TK.Hu(),this.bK=!1,this.EC=!1,this.Ys(new gy(this.qg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.TK.Vu(u.t0),u.t0;case 32:return u.prev=32,this.WK(),this.pK.aK(new Fk(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],Ve)},e.Xm=function(){this.AK=!0,this.EK.pause()},e.Um=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.AK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.EK.src){t.next=9;break}return this.yj(),t.next=7,Rr.awrap(this.TK.Uu);case 7:t.next=11;break;case 9:return t.next=11,Rr.awrap(this.EK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.AK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],Ve)},e.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.lK&&this.lK.rK().catch(Z),this.Kq.Xs(),this.HK(),this.zK(),this.Uq.Bs(),this.Ks();case 6:case"end":return t.stop()}},null,this,null,Ve)},e.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.lK&&this.lK.rK().catch(Z),this.Kq.Xs(),this.EK.removeAttribute("src"),this.EK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.EK.removeAttribute("x-airplay-deny"),this.EK.load(),this.Uq.I_(),this.$q=$S.gC();case 8:case"end":return t.stop()}},null,this,null,Ve)},e.yj=function(){this.bj||(XO(this.EK,i.Or),this.cY=!0)},e.VK=function(){var t,n=this.EK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.EK.videoWidth/this.EK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.EK.style.width=i+"px",this.EK.style.height=e+"px",this.EK.style.marginLeft=(r-i)/2+"px",this.EK.style.marginTop=(u-e)/2+"px",this.EK.style.backgroundColor="black"}},e.WK=function(){this.EK.style.width="100%",this.EK.style.height="100%",this.EK.style.marginLeft="",this.EK.style.marginTop="",this.EK.style.backgroundColor=""},e.HN=function(t,n,i,e){},e.AE=function(t,n,i,e,r,s){},e.LX=function(t){},e.JN=function(){return vN(this.EK)},e.Qm=function(){this.EK.style.display="block"},e.Zm=function(){this.EK.style.display="none"},e.gj=function(){},e.zc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.us!==jp.RE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Rr.awrap(this.lK.nK());case 4:return n={kind:AO.QZ,mediaBufferConfigs:t.vW.map(function(t){return t.Ul})},i.next=7,Rr.awrap(this.lK.eK(n));case 7:return this.rN=RO.mK(t,this.lK),this.EK.preload="none",this.EK.src="https://theo.proxy/"+this.lK.Uh+"/master.m3u8",i.abrupt("return",this.rN);case 11:case"end":return i.stop()}},null,this,null,Ve)},e.mj=function(){},e.EE=function(t){},e.WN=function(){},e.KN=function(t){},e.XN=function(){return!1},e.pj=function(t){t.appendChild(this.EK)},e.Km=function(){return this.EK},e.QY=function(){},e.oy=function(){},A(n,[{key:"DN",get:function(){return this.EK}},{key:"kW",get:function(){return!1}},{key:"qg",get:function(){return this.EK.currentTime+this.pK.oK.Ub}},{key:"Kg",get:function(){return this.EK.paused}},{key:"im",get:function(){return this.EK.volume},set:function(t){this.EK.volume=t}},{key:"Jg",get:function(){return this.EK.playbackRate},set:function(t){this.EK.playbackRate=t}},{key:"GK",get:function(){return this.EK.defaultPlaybackRate}},{key:"vy",get:function(){var t,n;return null!=(t=null==(n=this.rN)?void 0:n.vy)?t:$S.gC()}},{key:"RK",get:function(){return PO.dC(this.EK.buffered)}},{key:"Ey",get:function(){var t=$S.wC(this.qK);return this.$q.$D(t.Cu(this.pK.oK.Ub))}},{key:"qK",get:function(){return PO.dC(this.EK.played)}},{key:"$g",get:function(){return this.EC}},{key:"Yg",get:function(){return this.EK.duration}},{key:"Zg",get:function(){return this.EK.muted},set:function(t){this.EK.muted=t}},{key:"_Z",get:function(){return this.EK.style}},{key:"Tj",get:function(){return Nr({},oD,{_X:!0,gX:300})}},{key:"rg",get:function(){return this.Uq.rg}},{key:"tm",get:function(){return this.EK.videoHeight}},{key:"nm",get:function(){return this.EK.videoWidth}},{key:"jg",get:function(){return this.EK.ended}},{key:"vT",get:function(){return 0}},{key:"Ck",get:function(){return 0}},{key:"_y",get:function(){return!1}},{key:"bj",get:function(){return this.cY}},{key:"ly",get:function(){}},{key:"IU",get:function(){}},{key:"wu",get:function(){}},{key:"VN",get:function(){return this.qZ}},{key:"Ry",get:function(){return this.rN?this.rN.Ry:$S.gC()}},{key:"$N",get:function(){}},{key:"Lm",get:function(){}},{key:"NU",get:function(){}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"Aj",get:function(){return"block"===this.EK.style.display}},{key:"CN",get:function(){return this.hN},set:function(t){this.hN=t}},{key:"Oq",get:function(){}}]),n}(lu),xO=2,LO=[jy.Ad,jy.Td];function MO(t){var n=s.createElement(t);return rr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),UO(n),n}function UO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),sr(t),t.pause(),t.playbackRate=1,t.preload=GS.mD,t.controls=!1,t.style.display="none",rr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function XO(t,n){if(n.Be){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Y(e)&&ou(e),t.pause()}}var FO,HO;function zO(t){return{get bandwidth(){return t.UR},get codecs(){return t.XH},get id(){return t.X_},get uid(){return t.F_},get name(){return t.z_},get averageBandwidth(){return t.YK},get label(){return t.z_},set label(n){t.z_=fm(n)},get height(){return t.vT},get width(){return t.Ck},get frameRate(){return t.jK},get firstFrame(){return t.QK},get available(){return t.ZK},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Js(n,i)}}}function VO(t){return{get bandwidth(){return t.UR},get codecs(){return t.XH},get id(){return t.X_},get uid(){return t.F_},get name(){return t.z_},get averageBandwidth(){return t.YK},get label(){return t.z_},set label(n){if(!G(n))throw new v("Unexpected - The provided label is not a string");t.z_=n},get audioSamplingRate(){return t.KK},get available(){return t.ZK},addEventListener:function(n,i){t.js(n,i)},removeEventListener:function(n,i){t.Js(n,i)}}}ce=(FO={JK:function(){function t(t,n,i,e,r){void 0===i&&(i=xO),void 0===e&&(e=LO),void 0===r&&(r=wf()),this.$K=void 0,this.tJ=void 0,this._s=void 0,this.nJ=void 0,this.xq=void 0,this.NC=void 0,this.iJ=void 0,this.$K=i,this.tJ=[].concat(e),this._s=r,this.xq=t,this.NC=n,this.nJ=Cr(),this.eJ()}var n=t.prototype;return n.OC=function(t){for(var n=0,i=this.LC;n<i.length;n++){i[n].pj(t)}},n.NN=function(t){var n=Os(this.nJ.get(t),function(t){return t.ZK});if(n)return n.ZK=!1,n.rJ},n.sJ=function(t){if(!this.iJ)throw new v("Error creating iOS Safari MediaController");return this.iJ},n.YN=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.DN,i=n.tagName.toLowerCase(),r.next=4,Rr.awrap(t.I_());case 4:UO(n),(e=Os(this.nJ.get(i)||[],function(n){return t===n.rJ}))&&(e.ZK=!0);case 7:case"end":return r.stop()}},null,this,null,Ve)},n.xC=function(){for(var t=0,n=this.LC;t<n.length;t++){n[t].yj()}},n.Bd=function(){for(var t=0,n=this.LC;t<n.length;t++){var i=n[t],e=i.DN;i.Bs(),UO(e),Je(e)}},n.eJ=function(){for(var t=0,n=this.tJ;t<n.length;t++){var i=n[t],e=[];this.nJ.set(i,e);for(var r=0;r<this.$K;r++){var s=MO(i),u=i===jy.Ad?new mB(s,this._s,this.xq):new TO(s,this._s,this.xq,this.NC);e.push({rJ:u,ZK:!0})}}if(L.Cn&&L.un){var o=MO(jy.Td);this.iJ=new OO(o)}},A(t,[{key:"LC",get:function(){for(var t=[],n=0,i=this.tJ;n<i.length;n++){var e=i[n],r=this.nJ.get(e).map(function(t){return t.rJ});t.push.apply(t,r)}return this.iJ&&t.push(this.iJ),t}}]),t}(),uJ:function(){function t(n){var i=this;this.oJ=new VN,this.aJ=function(){var n,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.IC.NN(jy.Td),e=n.DN,s.next=4,Rr.awrap(t.cJ(e));case 4:return r=s.sent,s.next=7,Rr.awrap(i.IC.YN(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,Ve)},this.IC=n}var n=t.prototype;return n.hX=function(){return this.oJ.YU(this.aJ)},n.qm=function(){this.IC.xC()},t.cJ=function(n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.Tn&&!L.pn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Rr.awrap(t.hJ());case 5:return i.next=7,Rr.awrap(t.fJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Rr.awrap(t.vJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,Ve)},t.fJ=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,Y(n)){e.next=4;break}return e.abrupt("return",!L.fn);case 4:return i=cu(100),e.next=7,Rr.awrap(Ve.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],Ve)},t.vJ=function(n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Rr.awrap(t.fJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,Ve)},t.hJ=function(){return new Ve(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Bd=function(){this.oJ.Bd()},t}(),lJ:{aO:function(t){ve.addEventListener("beforeunload",t)},yO:function(t){ve.removeEventListener("beforeunload",t)}},dJ:r}).JK,he=FO.uJ,fe=FO.lJ,ve=FO.dJ,le=ve&&ve.location,de=ve&&ve.navigator,function(t){t.wJ="currentbufferingrenditionchange",t._J="gJ",t.mJ="yJ",t.kJ="bJ"}(HO||(HO={}));var WO=function(t,n){this.F_=void 0,this.pJ=void 0,this.us=void 0,this.AJ=void 0,this.TJ=void 0,this.SJ=void 0,this.ci=void 0,this.V_=void 0,this.EJ=void 0,this.IJ=void 0,this.RJ=void 0,this.F_=ek(),this.pJ=n,this.us=t.us,this.AJ=t.AJ,this.TJ=t.TJ,this.SJ=t.SJ,this.ci=t.ci,this.V_=t.V_,this.EJ=t.EJ,this.IJ=t.IJ,this.RJ=void 0===t.NJ};function GO(t,n){return t.us===n.us&&t.ci===n.ci}function qO(t,n){return t.pJ===n.pJ}function YO(t,n){for(var i=0;i<t.length;i++){if(qO(t[i],n))return!0}return!1}var jO,QO,ZO=function(t){function n(n,i){var e;return(e=t.call(this,Wg.k_)||this).W_=void 0,e.t_=void 0,e.W_=n||[],e.t_=i,e}return S(n,t),n.prototype.$w=function(){return new KO(this.W_.map(function(t){return t.Jw}))},n}(zg),KO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(wu);!function(t){t.DJ="alternative",t.CJ="main",t.PJ="commentary",t.BJ="",t.oE="descriptions",t.OJ="main-desc",t.xJ="translation"}(jO||(jO={})),function(t){t.DJ="alternative",t.CJ="main",t.PJ="commentary",t.BJ="",t.uE="captions",t.LJ="sign",t.iA="subtitles"}(QO||(QO={}));var JO=function(t){function n(n,i,e){var r;return(r=t.call(this,Wg.m_)||this).MJ=n,r.UJ=i,r.XJ=e,r}return S(n,t),n.prototype.$w=function(){return new $O(this.MJ&&this.MJ.Jw)},n}(zg),$O=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(wu);function tx(t){return{UR:t.UR,Ke:t.XH,vT:nx(t)?t.vT:0,us:nx(t)?jy.Td:jy.Ad,Ck:nx(t)?t.Ck:0}}function nx(t){var n=t;return void 0!==n.vT&&void 0!==n.Ck}var ix,ex=function(t){function n(){return t.call(this,Wg.NO_QUALITY)||this}return S(n,t),n}(wu),rx=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).xy=void 0,u.ra=void 0,u.FJ=void 0,u.HJ=void 0,u.zJ=void 0,u.Kw=void 0,u.Ly=void 0,u.VJ=function(){var t=u.M_;t&&u.HJ!==t&&(u.HJ=t,u.Ys(new JO(t)))},u.WJ=function(){var t=u.U_;u.zJ!==t&&(u.zJ=t,u.GJ.Ys(new Jg(Zt(u))),u.Ys(new Jg(Zt(u))))},u.pD=n,u.GJ=i,u.W_=e,u.HJ=u.M_,u.zJ=u.U_;var o=e.A_(0);return u.xy=null!=(r=null==o?void 0:o.qJ.ci)?r:"",u.ra=null!=(s=null==o?void 0:o.qJ.V_)?s:"",u.Ly=tk(),u.pD.js(HO.wJ,u.VJ),u.pD.js(HO._J,u.WJ),u}S(n,t);var e=n.prototype;return e.Xy=function(t){this.U_=t},e.Bd=function(){this.Ks(),this.pD.Js(HO.wJ,this.VJ),this.pD.Js(HO._J,this.WJ);for(var t=0,n=this.W_.R_;t<n.length;t++){n[t].Bd()}this.W_.I_()},A(n,[{key:"U_",get:function(){var t=this.YJ();if(!t)return!1;for(var n=0,i=this.W_.R_;n<i.length;n++){if(i[n].qJ===t)return!0}return!1},set:function(t){if(t!==this.U_&&t){for(var n=this.W_.A_(0).qJ,i=this.pD.jJ,e=0,r=this.W_.R_;e<r.length;e++){var s=r[e];if(s.QJ===i){n=s.qJ;break}}this.ZJ(n)}}},{key:"M_",get:function(){if(this.U_)for(var t=this.pD.KJ,n=0,i=this.W_.R_;n<i.length;n++){var e=i[n];if(YO(t,e.qJ))return e}}},{key:"Jw",get:function(){return this.Kw||(this.Kw=gm(this)),this.Kw}},{key:"X_",get:function(){return this.Ly.toString()}},{key:"F_",get:function(){return this.Ly}},{key:"z_",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.Ys(new Ky(this)))}},{key:"V_",get:function(){return this.ra}},{key:"K_",get:function(){return this.U_?"enabled":"disabled"}},{key:"G_",get:function(){return this.FJ},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.M_?tx(n.M_):void 0;return i.Or.Le(e,tx(t))}).filter(function(i){return n.W_.By(t)&&i.ZK}):e=this.W_.R_.filter(function(t){return t.ZK});0!==e.length?t!==this.FJ&&(this.FJ&&Fs(this.FJ,e)&&Fs(e,this.FJ)||(this.FJ=t?e:void 0,1===e.length?(ou(this.pD.JJ(e[0].QJ,!1)),this.pD.$J([])):this.pD.$J(e.map(function(t){return t.QJ})),this.Ys(new ZO(e,this)))):this.Ys(new ex)}}]),n}(lu),sx=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.YJ=function(){return this.pD.t$},i.ZJ=function(t){ou(this.pD.n$(t))},A(n,[{key:"H_",get:function(){return jO.CJ}}]),n}(rx),ux=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.YJ=function(){return this.pD.i$},i.ZJ=function(t){ou(this.pD.e$(t))},A(n,[{key:"H_",get:function(){return QO.CJ}}]),n}(rx),ox=function(t){function n(n,i){var e;return(e=t.call(this)||this).ZK=!0,e.QJ=n,e.qJ=i,e}S(n,t);var i=n.prototype;return i._E=function(){},i.Bd=function(){this.Ks()},A(n,[{key:"X_",get:function(){return String(this.QJ.X_)}},{key:"F_",get:function(){return this.QJ.X_}},{key:"UR",get:function(){return this.QJ.UR}},{key:"YK",get:function(){return this.QJ.YK}},{key:"z_",get:function(){return this.qJ.ci}},{key:"NJ",get:function(){return this.qJ.pJ.r$()}}]),n}(lu),ax=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kw=void 0,e}return S(n,t),n.prototype.$w=function(){return VO(this)},A(n,[{key:"KK",get:function(){return 0}},{key:"XH",get:function(){var t;return(null==(t=this.QJ.XH)?void 0:t.UH)||""}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),n}(ox),cx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kw=void 0,e}return S(n,t),n.prototype.$w=function(){return zO(this)},A(n,[{key:"XH",get:function(){var t;return(null==(t=this.QJ.XH)?void 0:t.MH)||""}},{key:"QK",get:function(){return 0}},{key:"jK",get:function(){return 0}},{key:"vT",get:function(){var t,n;return null!=(t=null==(n=this.QJ.s$)?void 0:n.vT)?t:0}},{key:"Ck",get:function(){var t,n;return null!=(t=null==(n=this.QJ.s$)?void 0:n.Ck)?t:0}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),n}(ox);!function(t){t.u$="FATAL",t.Q_="ERROR",t.o$="WARNING",t.a$="INFO",t.c$="DEBUG"}(ix||(ix={}));var hx,fx=new(function(){function t(){this.U_=function(){return!1}}var n=t.prototype;return n.h$=function(t){if(!this.U_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.f$=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.dr.apply(i,[ix.c$+" "+t+" -"].concat(e))}},n.gT=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.dr.apply(i,[ix.a$+" "+t+" -"].concat(e))}},n.v$=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.wr.apply(i,[ix.o$+" "+t+" -"].concat(e))}},n.wu=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[ix.Q_+" "+t+" -"].concat(e))}},n.l$=function(t){if(this.h$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[ix.u$+" "+t+" -"].concat(e))}},t}()),vx="HLSPlaylistParser",lx=function(){function t(t,n,i){this.pD=t,this.d$=n,this.w$=i}var n=t.prototype;return n._$=function(){var t,n,i=null==(t=this.pD.g$)?void 0:t.m$;if(i&&0!==i.length){for(var e=null!=(n=Os(i,function(t){return 0!==t.y$.length&&0!==t.k$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.y$;s<u.length;s++){var o=u[s],a=new Zy,c=[];a.Py(new ax(e,o)),c.push(o);for(var h=0;h<r.length;h++)for(var f=r[h],v=0,l=f.y$;v<l.length;v++){var d=l[v];if(GO(d,o)&&!YO(c,d)){a.Py(new ax(f,d)),c.push(d);break}}this.d$.T_(new sx(this.pD,this.d$,a))}for(var w=0,_=e.k$;w<_.length;w++){var g=_[w],m=new Zy,y=[];m.Py(new cx(e,g)),y.push(g);for(var k=0;k<r.length;k++)for(var b=r[k],p=0,A=b.k$;p<A.length;p++){var T=A[p];if(GO(T,g)&&!YO(y,T)){m.Py(new cx(b,T)),y.push(T);break}}this.w$.T_(new ux(this.pD,this.w$,m))}}else fx.v$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.b$=function(){this.p$(this.d$),this.p$(this.w$)},n.p$=function(t){for(var n=[],i=0,e=t.R_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.W_.R_;u<o.length;u++){var a=o[u];Xs(a.QJ.A$,a.qJ)||s.push(a)}for(var c=0;c<s.length;c++){var h=s[c];r.W_.Vc(h),h.Bd()}0===r.W_.N_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.S_(v),v.Bd()}},t}(),dx=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).DC=void 0,e.DC=i,e}return S(n,t),n.prototype.ed=function(t){var n,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new Jw(t),e=this.DC.tL.MR(n)){o.next=4;break}return o.abrupt("return",this.kE.ed(n));case 4:return e.nL(i.Je()/1e3),o.next=7,Rr.awrap(this.kE.ed(t));case 7:return r=o.sent,e.iL(i.Je()/1e3),s=r.Ml().pipeThrough(new vw(new wx(e))),u={Xi:s,ed:r.ed},o.abrupt("return",new Kw(u,r));case 12:case"end":return o.stop()}},null,this,null,Ve)},n}(function(){function t(t){this.kE=void 0,this.kE=t}var n=t.prototype;return n.ed=function(t){return this.kE.ed(t)},n.Pd=function(t){this.kE.Pd(t)},n.Bd=function(){this.kE.Bd()},t}()),wx=function(){function t(t){this.YM=void 0,this.T$=t}var n=t.prototype;return n.start=function(t){this.YM=t},n.transform=function(t){this.T$.eL(i.Je()/1e3,t),this.YM.enqueue(t)},n.flush=function(){this.T$.rL(i.Je()/1e3)},t}(),_x=function(){function t(t){this.S$=void 0,this.E$=0,this.I$=0,this.S$=w.exp(w.log(.5)/t)}var n=t.prototype;return n.R$=function(t,n){var i=w.pow(this.S$,t),e=n*(1-i)+i*this.E$;m(e)||(this.E$=e,this.I$+=t)},n.NX=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.S$)if(0!==this.I$){var i=this.uK,e=1-w.pow(n,this.I$);this.E$=i*e,this.S$=n}else this.S$=n},A(t,[{key:"uK",get:function(){var t=1-w.pow(this.S$,this.I$);return this.E$/t}}]),t}();!function(t){t.N$="sample"}(hx||(hx={}));var gx=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.D$),void 0===s&&(s=n.C$),(u=t.call(this)||this).P$=void 0,u.B$=void 0,u.O$=0,u.x$=void 0,u.L$=void 0,u.L$=r,u.P$=new _x(i),u.B$=new _x(e),u.x$=s,u}S(n,t);var i=n.prototype;return i.M$=function(t,n,i){if(0!==t){var e=8*n/t;this.P$.R$(i,e),this.B$.R$(i,e),this.O$+=n,this.Ys(new wu(hx.N$))}},i.U$=function(){return this.O$>=this.L$},A(n,[{key:"uK",get:function(){return this.U$()?w.min(this.P$.uK,this.B$.uK):this.x$}}]),n}(lu);gx.D$=128e3,gx.C$=5e5;var mx=function(){function t(n,i,e,r){void 0===n&&(n=t.X$),void 0===i&&(i=t.F$),void 0===e&&(e=t.C$),void 0===r&&(r=!1),this.P$=void 0,this.B$=void 0,this.H$=0,this.z$=[],this.V$=void 0,this.W$=6e4,this.G$=10,this.q$=void 0,this.Y$=void 0,this.x$=void 0,this.j$=void 0,this.q$=n,this.Y$=i,this.x$=e,this.j$=r,this.P$=new _x(n),this.B$=new _x(i)}var n=t.prototype;return n.R$=function(t){var n=i.Je(),e=t;this.j$&&void 0!==this.V$&&n-this.V$>=this.W$&&this.I_(),this.H$+=1,this.P$.R$(1,e),this.B$.R$(1,e),this.z$.push(e),this.z$.length>this.G$&&this.z$.shift(),this.V$=n},n.U$=function(){return void 0!==this.V$&&i.Je()-this.V$<=this.W$},n.I_=function(){this.P$=new _x(this.q$),this.B$=new _x(this.Y$),this.H$=0,this.z$=[],this.V$=void 0},A(t,[{key:"uK",get:function(){return this.U$()?w.max(this.P$.uK,this.B$.uK):this.x$}}]),t}();mx.X$=2,mx.F$=5,mx.C$=.1;var yx=function(){function t(t){this.Q$=t}var n=t.prototype;return n.nL=function(t){for(var n=0,i=this.Q$;n<i.length;n++){i[n].nL(t)}},n.iL=function(t){for(var n=0,i=this.Q$;n<i.length;n++){i[n].iL(t)}},n.eL=function(t,n){for(var i=0,e=this.Q$;i<e.length;i++){e[i].eL(t,n)}},n.rL=function(t){for(var n=0,i=this.Q$;n<i.length;n++){i[n].rL(t)}},t}(),kx=function(){function t(t){this.Z$=void 0,this.K$=void 0,this.Z$=t}var n=t.prototype;return n.nL=function(t){this.K$=t},n.iL=function(t){this.Z$.R$(t-this.K$)},n.eL=function(t){},n.rL=function(t){},t}(),bx=function(){function t(t){this.J$=void 0,this.n0=void 0,this.i0=[],this.J$=t}var n=t.prototype;return n.eL=function(t,n){if(void 0!==this.n0){var i=t-this.n0,e=this.i0.length>0?this.i0.reduce(function(t,n){return n+t},0)/this.i0.length:0;i>e/2&&i<e+e/2&&this.J$.R$(i,n.length),this.i0.push(i),this.i0.length>100&&this.i0.shift(),this.n0=t}else this.n0=t},n.nL=function(t){},n.iL=function(t){},n.rL=function(t){},t}(),px=function(){function t(t,n){void 0===n&&(n=0),this.J$=void 0,this.e0=void 0,this.r0=new Ax,this.RG=0,this.s0=0,this.J$=t,this.e0=n}var n=t.prototype;return n.nL=function(t){},n.eL=function(t,n){var e=n.byteLength,r=this.s0;this.s0=e;var s=t-this.RG;this.RG=t,this.r0.bF(n);var u=!this.r0.u0(),o=e>=this.e0;r!==i.Or.Ye&&u&&o&&this.J$.R$(s,e)},n.iL=function(t){this.RG=t},n.rL=function(t){},t}(),Ax=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).o0=void 0,n.a0=!1,n}S(n,t);var i=n.prototype;return i.u0=function(){return this.a0},i.bF=function(n){this.a0=!1,t.prototype.bF.call(this,n)},i.yF=function(n,i){this.o0&&this.o0!==$k.jp||(this.a0=!0),t.prototype.yF.call(this,n,i),this.o0=n},i.NF=function(t){return!1},i.CF=function(t){},i.PF=function(t){},n}(AD),Tx=function(t){function n(i,e,r,s){return void 0===i&&(i=n.X$),void 0===e&&(e=n.F$),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.R$=function(t,n){this.M$(t,n,t)},n}(gx);Tx.X$=.5,Tx.F$=5;var Sx=function(){function t(t){this.J$=void 0,this.c0=void 0;var n=t.UR>0?t.UR:gx.C$,i=t.XR>0?t.XR:mx.C$;this.J$=new Tx(Tx.X$,Tx.F$,1,n),this.c0=new mx(mx.X$,mx.F$,i)}var n=t.prototype;return n.MR=function(t){if("segment"===t.us)return new yx([new kx(this.c0),new bx(this.J$),new yx([new bx(this.J$),new px(this.J$,1e3)])])},n.h0=function(t){this.J$=new Tx(Tx.X$,Tx.F$,1,t)},A(t,[{key:"UR",get:function(){return this.J$.uK}},{key:"XR",get:function(){return this.c0.uK}}]),t}(),Ex=function(t){function n(n){var i;return(i=t.call(this,HO.kJ)||this).wu=n,i}return S(n,t),n}(wu),Ix=function(){function t(t){this.rJ=t}return t.prototype.LX=function(t){var n={us:jp.NE,ON:[],vW:[{Ul:t}]};return Ve.resolve(void 0!==this.rJ.LX([n]))},t}(),Rx=function(t,n,i,e,r){return Ve.resolve(t.filter(function(t){return!!Xs(r,t)||1.1*t.UR<=i.UR}))},Nx=function(t,n,i,e,r){return Ve.resolve(t.filter(function(t){if(Xs(r,t))return!0;for(var s=1/0,u=0,o=t.A$;u<o.length;u++){var a,c,h=o[u];s=w.min(s,null!=(a=null!=(c=h.pJ.f0)?c:h.pJ.v0)?a:1/0)}s===1/0&&(s=1);var f=3*i.XR+t.UR*s/i.UR;return t.UR<=n.UR||e>f}))},Dx=function(t,n,i,e,r){return Ve.resolve(Es(t,function(t,n){return n.UR-t.UR}))},Cx=function(t,n,i,e,r){return Ve.resolve(t.every(function(t){return t.l0&&!m(t.l0)})?Es(t,function(t,n){return n.l0-t.l0}):t)},Px=function(t,n,i,e,r){return Ve.resolve(Es(t,function(t,n){var i=Xs(r,t)?1:0;return(Xs(r,t)?1:0)-i}))},Bx=function(t,n,i,e,r){return Ve.resolve(t.filter(function(t){return!t.XH||!n.XH||(t.XH.MH?!!n.XH.MH&&(t.XH.MH.split(".")[0]===n.XH.MH.split(".")[0]&&(t.XH.UH?!!n.XH.UH&&(t.XH.UH.split(".")[0]===n.XH.UH.split(".")[0]&&t.XH.FH===n.XH.FH):!n.XH.UH)):!n.XH.MH)}))},Ox=function(){function t(t){this.d0=[Bx,Rx,Nx,Dx,Cx,Px],this.DC=t}var n=t.prototype;return n.w0=function(t){this.d0=t},n._0=function(t,n,i,e){var r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t.length){c.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:fx.f$("AbrEvaluator","Performing optimal variant stream selection."),r=this.g0,s=t,u=0,o=this.d0;case 6:if(!(u<o.length)){c.next=14;break}return a=o[u],c.next=10,Rr.awrap(a(s,n,r,i,e));case 10:s=c.sent;case 11:u++,c.next=6;break;case 14:if(s.length){c.next=17;break}return fx.v$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),c.abrupt("return",Vs(t,function(t){return t.UR}));case 17:return c.abrupt("return",s[0]);case 18:case"end":return c.stop()}},null,this,null,Ve)},A(t,[{key:"g0",get:function(){return this.DC.tL}}]),t}();var xx=function(t){function n(n,i){var e,r=Lx(i,n.Yg,n.$N,n.m0);return(e=t.call(this,i,r,void 0,!1,n.X_)||this).y0=void 0,e.k0=void 0,e.b0=void 0,e.ea=void 0,e.p0=void 0,e.A0=void 0,e.T0=void 0,e.S0=void 0,e.E0=void 0,e.I0=void 0,e.y0=n.R0,e.k0=n.$N,e.b0=n.m0,e.ea=n.Yg,e.p0=n.N0,e.A0=Boolean(n.D0),e.T0=n.C0||{},e.S0=n.P0,e.E0=n.B0,e.I0=n.O0,e.x0(),e.L0(),e}S(n,t);var i=n.prototype;return i.Wc=function(t){var n=!1;void 0===this.y0&&void 0!==t.R0&&(n=!0,this.y0=t.R0),void 0===this.b0&&void 0!==t.m0&&(n=!0,this.b0=t.m0),void 0===this.ea&&void 0!==t.Yg&&(n=!0,this.ea=t.Yg),void 0===this.p0&&void 0!==t.N0&&(n=!0,this.p0=t.N0),!this.A0&&t.D0&&(n=!0,this.A0=t.D0),n=this.updateCustomAttributes(t,n),void 0===this.S0&&void 0!==t.P0&&(n=!0,this.S0=t.P0),void 0===this.E0&&void 0!==t.B0&&(n=!0,this.E0=t.B0),void 0===this.I0&&void 0!==t.O0&&(n=!0,this.I0=t.O0),this.x0(),this.L0(),this.M0(),n&&this.Ys(new Tk(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.C0)for(var e=0,r=d.keys(t.C0);e<r.length;e++){var s=r[e];void 0===this.T0[s]&&(i=!0,this.T0[s]=t.C0[s])}return i},i.x0=function(){this.ea&&!this.b0&&(this.b0=new Date(this.k0.getTime()+Wt(this.ea)))},i.L0=function(){this.b0&&!this.ea&&(this.ea=Vt(this.b0.getTime()-this.k0.getTime()))},i.M0=function(){this.dk===1/0&&(this.b0||this.ea)&&(this.dk=Lx(this.lk,this.ea,this.k0,this.b0))},A(n,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=em(bk(t=this),{get content(){return t.Jy},get class(){return t.R0},get startDate(){return t.$N},get endDate(){return t.m0},get duration(){return t.Yg},get plannedDuration(){return t.N0},get endOnNext(){return t.D0},get scte35Cmd(){return t.P0},get scte35Out(){return t.B0},get scte35In(){return t.O0},get customAttributes(){return t.C0}})),this.Kw}},{key:"R0",get:function(){return this.y0}},{key:"$N",get:function(){return this.k0}},{key:"m0",get:function(){return this.b0}},{key:"Yg",get:function(){return this.ea}},{key:"N0",get:function(){return this.p0}},{key:"D0",get:function(){return this.A0}},{key:"P0",get:function(){return this.S0}},{key:"B0",get:function(){return this.E0}},{key:"O0",get:function(){return this.I0}},{key:"C0",get:function(){return this.T0}}]),n}(Rk);function Lx(t,n,i,e){return X(n)?t+n:e?t+(Vt(e.getTime())-Vt(i.getTime())):1/0}var Mx=function(t){function n(){return t.call(this,void 0,void 0,hk.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Wc=function(t,n){Ux(this,Xx(t),n)},i.SE=function(n){var i,e,r;i=this.og.R_,e=n,(r=xs(i,function(t){return t.R0===e.R0}))&&r.D0&&r.Wc({X_:r.X_,m0:e.$N}),t.prototype.SE.call(this,n)},n}(zP);function Ux(t,n,i){for(var e=t.og.R_,r=function(i){var r=e[i],s=Os(n,function(t){return t.X_===r.X_});s?r.Wc(s):t.vE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.$N;if(void 0!==a&&!t.VW(o.X_)){var c=i(a);t.SE(new xx(o,c))}}}function Xx(t){for(var n=Cr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.X_)){var s=n.get(r.X_),u=Nr({},s,om(r),{C0:Nr({},s.C0,r.C0)});n.set(r.X_,u)}else n.set(r.X_,r),i.push(r.X_)}return i.map(function(t){return n.get(t)})}var Fx,Hx=function(){function t(t,n,i){var e=this;this.U0=void 0,this.X0=void 0,this.eN=void 0,this.F0=void 0,this.H0=void 0,this.z0=function(t){e.X0.hlsDateRange&&e.V0(t.qJ)},this.X0=t,this.U0=n,this.eN=i,this.F0=new bp,this.U0.js("W0",this.z0)}return t.prototype.V0=function(t){if(0!==t.pJ.G0.length){this.H0||(this.H0=this.eN.AE(kp.rA,void 0,void 0,void 0,void 0,hk.DATE_RANGE),this.F0.T_(this.H0));Ux(this.H0,t.pJ.G0,function(n){var i;return null!=(i=t.pJ.q0(n))?i:NaN})}},A(t,[{key:"Lm",get:function(){return this.F0}}]),t}();function zx(t,n){return[t,void 0!==n?t+n-1:Ot]}function Vx(t){return Boolean(t.sT)}function Wx(t){return Boolean(t.Y0)}!function(t){t[t.Ad=0]="Ad",t[t.Td=1]="Td",t[t.iA=2]="iA",t[t.j0=3]="j0"}(Fx||(Fx={}));var Gx,qx,Yx,jx=[Fx.Ad,Fx.Td,Fx.iA,Fx.j0];function Qx(t){return t?t.Q0?t._i+"@"+t.Q0.OD+"-"+(null!=(n=t.Q0.N_)?n:""):""+t._i:"";var n}function Zx(t,n){if(n===t)return!0;if(n._i!==t._i)return!1;if(!t.Q0)return!0;if(n.Q0){var i=zx(t.Q0.OD,t.Q0.N_),e=zx(n.Q0.OD,n.Q0.N_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function Kx(t,n){return t===n||t._i===n._i&&(Boolean(t.Q0)===Boolean(n.Q0)&&(!t.Q0||!n.Q0||t.Q0.OD===n.Q0.OD&&t.Q0.N_===n.Q0.N_))}function Jx(t){var n=!!t.D0||void 0;return{X_:t.X_,R0:t.R0,$N:t.$N,m0:t.m0,Yg:t.Yg,N0:t.N0,D0:n,C0:t.Z0,P0:t.K0,B0:t.B0,O0:t.O0}}function $x(t,n,i,e){var r=[],s=Os(i,function(t){return t.J0===zr});if(void 0!==s){var u=s._i?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s._i.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.J0!==zr)for(var c=0,h=cs(a.J0);c<h.length;c++){var f=h[c];r.push({Kc:f,WR:a.$0?[a.$0]:[],eR:void 0})}}if(r.length)return{qE:t,n1:{i1:u,YE:s.YE},e1:r,s1:n===jy.Ad?e.slice():[],u1:n===jy.Td?e.slice():[],Rq:!1}}}}function tL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Cr();return nL(e,r,t.e1),nL(e,r,n.e1),{qE:t.qE,n1:{i1:t.n1.i1,YE:null!=(i=t.n1.YE)?i:n.n1.YE},e1:e,s1:iL(t.s1,n.s1,Xs),u1:iL(t.u1,n.u1,Xs),Rq:t.Rq||n.Rq||!1}}function nL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.Kc.ls,u=void 0;n.has(s)?(u=n.get(s)).WR=iL(u.WR,r.WR,eL):(u=Nr({},r),t.push(u),n.set(s,u))}}function iL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function eL(t,n){for(var i=0;i<t.length;i++){if(xu(t[i],n))return!0}return!1}function rL(t,n){var i,e=t.o1;if(e){for(var r=t.QB,s=[],u=0,o=t.XH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=$x(n||{},t.us,e,s)}for(var c=0,h=t.a1;c<h.length;c++){i=tL(i,sL(h[c],n))}return i}function sL(t,n){return $x(n||{},t.us,t.o1||[],[t.Ul])}function uL(t,n){switch(n.us){case Hr.Kr:return t.widevine;case Hr.Zr:return t.playready;case Hr.$r:return t.fairplay;case Hr.Jr:return t.clearkey}}function oL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function aL(t,n,i,e){var r,s,u,o,a,c,h,f,v;return Rr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return",[]);case 2:return r=n.filter(function(t){return fs(t,"audio")}),s=n.filter(function(t){return fs(t,"video")}),u=[],o=i.map(function(t){return cL(t,e)}),l.next=8,Rr.awrap(Ve.all(o));case 8:for(a=l.sent.filter(X),c=fL(a,t.preferredKeySystems),h=0;h<c.length;h++)f=c[h],v=uL(t,f.Kc),"cbcs",u.push({Kc:f.Kc,WR:f.WR,eR:f.eR,jN:[{initDataTypes:[f.Kc.fs],audioCapabilities:oL(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:oL(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return l.abrupt("return",u);case 12:case"end":return l.stop()}},null,null,null,Ve)}function cL(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.NJ){s.next=2;break}return s.abrupt("return");case 2:if(t.c1){s.next=4;break}return s.abrupt("return");case 4:if(t.Ed===qx.h1){s.next=6;break}return s.abrupt("return");case 6:if(i=hL(t.c1)){s.next=9;break}return s.abrupt("return");case 9:if(i.ls!==ts){s.next=13;break}return s.abrupt("return",{Kc:i,WR:[],eR:t.NJ});case 13:return fx.gT("HLSDrmUtils","Fetching key uri "+t.NJ+"."),s.next=16,Rr.awrap(n.ed({ud:t.NJ}));case 16:return e=s.sent,s.next=19,Rr.awrap(e.Ll());case 19:return r=s.sent,s.abrupt("return",{Kc:i,WR:[r],eR:void 0});case 21:case"end":return s.stop()}},null,null,null,Ve)}function hL(t){return t===Zr?rs:t===jr?es:t===is?us:void 0}function fL(t,n){var i=function(t){var i=n.indexOf(t.Kc.ls);return i>=0?i:n.length};return Es(t,function(t,n){return i(t)-i(n)})}function vL(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function lL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function dL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function wL(t){var n=yL(dL(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function _L(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:fx.v$(vx,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function gL(t,n){var e=_L(t),r=LL(function(){return e.URI?i.Pr(e.URI,n):void 0}),s=e["GROUP-ID"],u=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,l=e["INSTREAM-ID"],d=e.CHARACTERISTICS,w=e.CHANNELS,_=LL(function(){return function(t){switch(t){case"AUDIO":return Fx.Ad;case"VIDEO":return Fx.Td;case"SUBTITLES":return Fx.iA;case"CLOSED-CAPTIONS":return Fx.j0}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)});if(s||fx.v$(vx,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),u||fx.v$(vx,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||fx.v$(vx,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),_.f1===Fx.j0?(r&&fx.v$(vx,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),l?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(l)||fx.v$(vx,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):fx.v$(vx,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):l&&fx.v$(vx,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&fx.v$(vx,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),_.f1===Fx.iA&&e.FORCED&&fx.v$(vx,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===s||void 0===a||r.v1||_.v1)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");var g=r.f1;return{l1:o,d1:w,w1:d,EJ:s,TJ:h,AJ:c,SJ:f,IJ:l,V_:u,ci:a,us:_.f1,NJ:g}}function mL(t,n,e){var r=_L(t),s=LL(function(){var t;return i.Pr(null!=(t=e||r.URI)?t:"",n)}),u=yL(r.BANDWIDTH),o=yL(r["AVERAGE-BANDWIDTH"]),a=yL(r.SCORE),c=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();vs(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:vs(o,"avc")||vs(o,"hvc1")||vs(o,"hev1")||vs(o,"dvh")?i=u:e=e?e+","+o:o}return{UH:n,MH:i,FH:e}}(r.CODECS),h=LL(function(){return function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Ck:i,vT:e}}(r.RESOLUTION)}),f=yL(r["FRAME-RATE"]),l=r["HDCP-LEVEL"],d=[];if(void 0!==r["ALLOWED-CPC"]){var w=r["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=r["VIDEO-RANGE"],g=r.AUDIO,y=r.VIDEO,k=r.SUBTITLES,b=r["CLOSED-CAPTIONS"];if(s.v1&&fx.v$(vx,"#EXT-X-STREAM-INF tag has no valid URI: "+t+"."),void 0===u?fx.v$(vx,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==o&&o>u&&fx.v$(vx,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),c||fx.gT(vx,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),c&&c.MH&&h.v1&&fx.gT(vx,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Xs(["TYPE-0","TYPE-1","NONE"],l)||fx.v$(vx,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Xs(["SDR","PQ","HLG"],_)||fx.v$(vx,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===u||s.v1||h.v1)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");var p=s.f1;return{_1:d,g1:g,YK:o,UR:u,m1:b,XH:c,jK:f,b1:l,s$:h.f1,l0:a,A1:k,NJ:p,T1:y,S1:_}}function yL(t){var n=Number(t);return m(n)?void 0:n}function kL(t,n){var e,r,s,u,o=_L(t),a=LL(function(){return function(t){switch(t){case"NONE":return qx.yD;case"AES-128":return qx.E1;case"SAMPLE-AES":return qx.h1;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(o.METHOD)}),c=LL(function(){var t;return i.Pr(null!=(t=o.URI)?t:"",n)}),h=o.KEYFORMAT,f=o.IV,l=o.KEYFORMATVERSIONS;if(!a.v1)if(a.f1!==qx.yD){if(e=h||"identity","SAMPLE-AES-CENC"===a.f1||"SAMPLE-AES-CTR"===a.f1)hL(e)!==rs?fx.v$(vx,"#EXT-X-KEY tag with METHOD="+a.f1+" is only compatible with Widevine."):r=qx.h1;else r=a.f1;s=f?Vo(f):void 0,u=l?l.split("/").map(function(t){return Number(t)}):[1]}else r=qx.yD,(void 0!==o.URI||h||l||f)&&fx.v$(vx,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");if(a.v1||c.v1||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".");return{Ed:r,NJ:c.f1,I1:s,c1:e,R1:u}}function bL(t){var n=dL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[yL(e),r]}function pL(t,n){var i=t.split("@"),e=yL(i[0]),r=i.length>1?yL(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{OD:r,N_:e}}function AL(t){if(void 0!==t)return pL(t,void 0)}function TL(t,n){return pL(dL(t),n)}function SL(t,n){var i=_L(t),e=LL(function(){return RL(i.URI,n)}),r=LL(function(){return AL(i.BYTERANGE)});if(e.v1||r.v1)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".");return{_i:e.f1,Q0:r.f1}}function EL(t){var n=dL(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Ht(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function IL(t){var n,i,e,r=_L(t),s=r["START-DATE"],u=r["END-DATE"],o=yL(r["PLANNED-DURATION"]),a=yL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Vo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Vo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Vo(r["SCTE35-OUT"]).buffer);var c,h,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&vs(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)fx.v$(vx,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(c=new Date(s),h=void 0!==u?new Date(u):void 0,Ht(c)||fx.v$(vx,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(fx.v$(vx,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(r.CLASS||fx.v$(vx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&fx.v$(vx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&fx.v$(vx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&fx.v$(vx,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===c)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{X_:w,R0:_,$N:c,m0:h,Yg:a,N0:o,K0:n,O0:i,B0:e,D0:f,Z0:l}}function RL(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Pr(t,n)}function NL(t,n){var i=_L(t),e=yL(i.DURATION),r=LL(function(){return RL(i.URI,n)}),s=LL(function(){return AL(i.BYTERANGE)}),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(!e||r.v1)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Yg:e,NJ:{_i:r.f1,Q0:s.f1},N1:u,D1:o}}function DL(t){var n=_L(t);return{C1:"YES"===n["CAN-BLOCK-RELOAD"],P1:yL(n["CAN-SKIP-UNTIL"]),B1:"YES"===n["CAN-SKIP-DATERANGES"],O1:yL(n["HOLD-BACK"]),L1:yL(n["PART-HOLD-BACK"])}}function CL(t,n){var i=_L(t),e=LL(function(){var t;return RL(null!=(t=i.URI)?t:"",n)}),r=yL(i["LAST-MSN"]),s=yL(i["LAST-PART"]);if(void 0===i.URI&&fx.gT(vx,"Assuming #EXT-X-RENDITION-REPORT tag without URI attribute refers to the current media playlist: "+t+"."),void 0===i["LAST-MSN"]&&fx.gT(vx,"Assuming #EXT-X-RENDITION-REPORT tag without LAST-MSN attribute refers to the current media playlist: "+t+"."),void 0===i["LAST-PART"]&&fx.gT(vx,"Assuming #EXT-X-RENDITION-REPORT tag without LAST-PART attribute refers to the current media playlist: "+t+"."),e.v1)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{NJ:e.f1,M1:r,U1:s}}function PL(t,n){var i,e=_L(t),r=yL(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{X1:r,F1:s,H1:n}}function BL(t){var n=yL(_L(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function OL(t){switch(dL(t)){case"VOD":return Yx.z1;case"EVENT":return Yx.V1;default:return fx.v$(vx,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),Yx.hd}}function xL(t,n){var i,e=_L(t),r=LL(function(){return function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return Gx.W1;if("PART"===t)return Gx.G1;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE)}),s=LL(function(){return RL(e.URI,n)}),u=yL(e["BYTERANGE-START"]),o=yL(e["BYTERANGE-LENGTH"]);if(void 0===u&&void 0===o||(i={OD:u||0,N_:o}),r.v1||s.v1)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".");return{us:r.f1,NJ:{_i:s.f1,Q0:i}}}function LL(t){var n;try{n=t()}catch(t){return fx.v$(vx,t.message),{f1:void 0,v1:!0}}return{f1:n,v1:!1}}!function(t){t[t.W1=0]="W1",t[t.G1=1]="G1"}(Gx||(Gx={})),function(t){t[t.yD=0]="yD",t[t.E1=1]="E1",t[t.h1=2]="h1"}(qx||(qx={})),function(t){t[t.hd=0]="hd",t[t.z1=1]="z1",t[t.V1=2]="V1"}(Yx||(Yx={}));var ML=function(){function t(n){this.q1=0,this.Y1=void 0,this.Y1=t.j1(n)}var n=t.prototype;return n.Q1=function(){var t=this.Y1[this.q1];return this.q1+=1,t},n.Z1=function(){return this.Y1[this.q1]},n.Ou=function(){var n=new t("");return n.q1=0,n.Y1=this.Y1.slice(this.q1),n},t.j1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function UL(t,n,i){var e=t.NJ,r=t.BA,s=t.K1,u=t.OD;switch(i){case"#EXT-X-VERSION":r=function(t){var n=wL(t);return m(n)?(fx.v$(vx,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=_L(t),i=yL(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{J1:i,n2:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":fx.v$(vx,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:fx.gT(vx,"Ignoring unrecognized line or comment: "+n+".")}return{NJ:e,BA:r,K1:s,OD:u}}function XL(t,n){return t.map(function(t){return t.Ed===qx.yD||t.I1?t:Nr({},t,{I1:FL(n)})})}function FL(t){var n=new DataView(new ArrayBuffer(16)),i=new zo;return i.Cu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;ho(t,n,e?s:r,e),ho(t,n,u,e)}(n,i,ht.fromNumber(t)),new y(n.buffer)}function HL(t,n,e){fx.gT(vx,"Parsing M3U8 playlist at "+t+".");var r=new ML(e);if("#EXTM3U"!==r.Q1())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){for(var e={NJ:t,K1:void 0,OD:void 0,BA:void 0},r=[],s=[],u=[],o=[];;){var a=n.Q1();if(!a)break;try{var c=vL(a);switch(c){case"#EXT-X-MEDIA":var h=gL(a,t);r.push(h);break;case"#EXT-X-STREAM-INF":var f=mL(a,t,n.Q1());s.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var l=mL(a,t);u.push(l);break;case"#EXT-X-SESSION-DATA":fx.v$(vx,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=kL(a,t);o.push(d);break;default:e=UL(e,a,c)}}catch(t){fx.v$(vx,"Ignoring unparsable line: "+a,t)}}var w=e.NJ,_=e.BA,g=e.K1,m=e.OD;if(void 0===w?fx.v$(vx,"The master playlist has no valid base URI: "+w+"."):w=i.Pr(w),void 0===g&&(fx.v$(vx,"The playlist has no #EXT-X-INDEPENDENT-SEGMENT, assuming segments are not independent."),g=!1),void 0===_&&(fx.v$(vx,"The playlist has no #EXT-X-VERSION, assuming version is 2."),_=2),_>=8&&(s.some(function(t){return void 0!==t.l0})||u.some(function(t){return void 0!==t.l0}))&&(s.some(function(t){return void 0===t.l0})||u.some(function(t){return void 0===t.l0}))&&fx.v$(vx,"If one master playlist variant stream has a SCORE, all variants should have it."),void 0===w)throw new v("HLSPlaylistParser - Could not parse HLS master playlist: "+w);return{NJ:w,BA:_,K1:g,OD:m,i2:u,e2:o,sT:r,s2:s}}(t,r):function(t,n,e){for(var r,s,u,o,a,c,h,f,l,d,w,_,g,m,y,k,b,p={NJ:t,K1:void 0,OD:void 0,BA:void 0},A=[],T=!1,S=!1,E=[],I=Cr(),R=[],N=[],D=!1,C=!1,P=[],B=[],O=0,x=!1,L=Yx.hd,M=!1,U=0,X=e.Ou();void 0===y||void 0===k;){var F=X.Q1();if(!F)break;try{switch(lL(F)){case"#EXT-X-MEDIA-SEQUENCE":y=wL(F);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":k=wL(F)}}catch(t){fx.v$(vx,"Ignoring unparsable line: "+F,t)}}void 0===y&&(fx.gT(vx,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),y=0),void 0===k&&(fx.gT(vx,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),k=0);for(var H=y,z=k;;){var V=e.Q1();if(!V)break;var W=!1;try{var G=lL(V);switch(G){case"#EXTINF":W=!0;var q=bL(V);a=q[0],c=q[1];break;case"#EXT-X-BYTERANGE":W=!0,(h=TL(V,O))&&(O=h.OD+h.N_);break;case"#EXT-X-DISCONTINUITY":W=!0,D=!0,z++;break;case"#EXT-X-KEY":var Y,j;W=!0;var Q=kL(V,t);if(Q.Ed===qx.yD){I.clear(),g=void 0;break}var Z=null!=(Y=null==(j=Q.c1)?void 0:j.toString())?Y:"identity";I.set(Z,Q),Q.Ed===qx.E1&&(g=Q);break;case"#EXT-X-MAP":W=!0,l=SL(V,t),d=g;break;case"#EXT-X-PROGRAM-DATE-TIME":W=!0,w=EL(V);break;case"#EXT-X-GAP":W=!0,C=!0;break;case"#EXT-X-BITRATE":W=!0,_=wL(V);break;case"#EXT-X-TARGETDURATION":r=wL(V);break;case"#EXT-X-DATERANGE":var K=IL(V);A.push(K);break;case"#EXT-X-PART":W=!0;var J=NL(V,t);N.push(J);break;case"#EXT-X-PRELOAD-HINT":var $=xL(V,t);P.push($);break;case"#EXT-X-SKIP":E.length>0&&fx.v$(vx,"#EXT-X-SKIP must appear before any #EXTINF tags."),W=!0;var tt=PL(V,H);U=tt.X1,b=tt.F1,H+=tt.X1;break;case"#EXT-X-SERVER-CONTROL":var nt=DL(V);T=nt.C1,s=nt.P1,S=nt.B1,u=nt.O1,o=nt.L1;break;case"#EXT-X-RENDITION-REPORT":var it=CL(V,t);B.push(it);break;case"#EXT-X-PART-INF":m=BL(V);break;case"#EXT-X-MEDIA-SEQUENCE":W&&fx.v$(vx,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":W&&fx.v$(vx,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":x=!0;break;case"#EXT-X-PLAYLIST-TYPE":L=OL(V);break;case"#EXT-X-I-FRAMES-ONLY":M=!0;break;default:if(vs(G,"#"))p=UL(p,V,G);else{f=i.Pr(V,t);var et=l?{NJ:l,u2:d}:void 0,rt={e2:XL(Or(I),H),iE:R,o2:N,Yg:a,MN:c,a2:D,NJ:{Q0:h,_i:f},c2:et,h2:w,D1:C,f2:_,H1:H,l2:z};E.push(rt),H++,R=[],N=[],a=void 0,a=void 0,c=void 0,D=!1,h=void 0,f=void 0,w=void 0,C=!1,_=void 0}}}catch(t){fx.v$(vx,"Ignoring unparsable line: "+V,t)}}if(N.length){var st=l?{NJ:l,u2:g}:void 0,ut={e2:XL(Or(I),H),iE:R,o2:N,Yg:a,MN:c,a2:D,NJ:void 0,c2:st,h2:w,D1:C,f2:_,H1:H,l2:z};E.push(ut)}var ot=t,at=p.BA,ct=p.K1,ht=p.OD;try{ot=i.Pr(ot)}catch(n){fx.v$(vx,"The media playlist has no valid base URI: "+t+".",n),ot=void 0}void 0===ct&&(fx.v$(vx,"The media playlist has no #EXT-X-INDEPENDENT-SEGMENT tag, assuming segments are not independent."),ct=!1),void 0===at&&(fx.v$(vx,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&fx.v$(vx,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||fx.v$(vx,"The HLS media playlist contains no segments.");var lt=vt&&E[ft-1].o2.length>0;lt&&void 0===m&&fx.v$(vx,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),lt&&void 0===o&&fx.v$(vx,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts.");for(var dt=[],wt=0;wt<B.length;wt++){var _t=B[wt],gt=_t.NJ,mt=_t.M1,yt=_t.U1;void 0!==gt&&void 0!==mt&&void 0!==yt||(fx.v$(vx,"Detected #EXT-X-RENDITION-REPORT tag with missing required attributes, assuming it refers to the containing HLS media playlist."),gt=t,mt=H+E.length,yt=E.length>0?E[E.length-1].o2.length-1:0),dt.push({NJ:gt,M1:mt,U1:yt})}if(void 0===ot||void 0===r)throw new v("HLSPlaylistParser - Could not parse HLS media playlist.");return{C1:T,P1:s,B1:S,G0:A,l2:k,d2:x,K1:ct,O1:u,w2:M,H1:y,X1:U,L1:o,f0:m,_2:L,g2:P,F1:b,m2:dt,b2:r,Y0:E,OD:ht,NJ:ot,A2:n,BA:at}}(t,n,r)}function zL(t){return t.reduce(function(t,n){return t+n},0)}var VL=function(){function t(t,n,i){var e,r,s,u;this.X_=WL++,this.pJ=void 0,this.UR=void 0,this.l0=void 0,this.s$=void 0,this.g1=void 0,this.T1=void 0,this.A1=void 0,this.m1=void 0,this.T2=void 0,this.S2=void 0,this.E2=[],this.pJ=n,this.UR=t.UR,this.T2=t.YK,this.l0=t.l0,this.S2=t.XH?GL(t.XH):void 0,this.s$=t.s$,this.g1=null!=(e=t.g1)?e:"I2"+this.X_,this.T1=null!=(r=t.T1)?r:"R2"+this.X_,this.A1=null!=(s=t.A1)?s:"N2"+this.X_,this.m1=null!=(u=t.m1)?u:"D2"+this.X_,this.E2=i}var n=t.prototype;return n.C2=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n].pJ.C2(t);if(void 0!==e)return e}},n.q0=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n].pJ.q0(t);if(void 0!==e)return e}},n.P2=function(t){for(var n=0,i=this.E2;n<i.length;n++){var e=i[n];if(e.us===t&&e.RJ)return void Ms(this.E2,e)}},A(t,[{key:"NJ",get:function(){return this.pJ.NJ}},{key:"XH",get:function(){return this.S2},set:function(t){this.S2=t?GL(t):void 0}},{key:"YK",get:function(){return this.T2||this.UR}},{key:"B2",get:function(){var t,n;if(!this.E2.length)return $S.gC();var i=null!=(t=Ws(this.E2,function(t){var n;return null!=(n=t.pJ.O2)?n:0}))?t:this.A$[0],e=i.pJ.Y0;if(!e.length||e.length<2)return $S.gC();var r=i.pJ.d2?e[0].Zy:e[1].Zy,s=e[e.length-1],u=s.Zy+(null!=(n=s.Yg)?n:zL(s.o2.map(function(t){return t.Yg})))-this.A$.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.pJ.L1)?e:n.pJ.O1)?i:0,t)},0);return u<r?$S.gC():new $S([r,u])}},{key:"A$",get:function(){return this.E2}},{key:"y$",get:function(){return this.E2.filter(function(t){return t.us===Fx.Ad})}},{key:"k$",get:function(){return this.E2.filter(function(t){return t.us===Fx.Td})}},{key:"L2",get:function(){return this.E2.filter(function(t){return t.us===Fx.iA})}},{key:"M2",get:function(){return this.E2.filter(function(t){return t.us===Fx.j0})}}]),t}(),WL=0;function GL(t){return Nr({},t,{MH:t.MH?xh(t.MH):void 0})}var qL=function(){function t(t,n,i,e,r){this.U2=void 0,this.X2=void 0,this.Yg=void 0,this.NJ=void 0,this.N1=void 0,this.D1=void 0,this.F2=void 0,this.lk=void 0,this.H2=void 0,this.U2=t,this.X2=n,this.lk=i,this.F2=e,this.Yg=r.Yg,this.NJ=r.NJ,this.N1=r.N1,this.D1=r.D1}return A(t,[{key:"Zy",get:function(){var t;return this.lk+(null!=(t=this.H2)?t:0)}},{key:"e2",get:function(){return this.U2.e2}}]),t}();var YL,jL=function(){function t(t,n,i,e){this.Yg=void 0,this.h2=void 0,this.NJ=void 0,this.c2=void 0,this.D1=void 0,this.F2=void 0,this.H1=void 0,this.a2=void 0,this.l2=void 0,this.e2=void 0,this.lk=void 0,this.z2=[],this.V2=void 0,this.lk=t,this.c2=e.c2,this.F2=i,this.Yg=e.Yg,this.h2=e.h2,this.NJ=e.NJ,this.D1=e.D1,this.H1=e.H1,this.a2=e.a2,this.l2=n,this.e2=e.e2,this.W2(e)}var n=t.prototype;return n.G2=function(t){return this.z2[t]},n.q2=function(t){for(var n=0;n<this.z2.length;n++){var i=this.z2[n],e=i.Zy,r=e+i.Yg;if(e<=t&&t<=r)return t===r&&n+1<this.z2.length?this.z2[n+1]:i}},n.Y2=function(t){for(var n=this.z2.length-1;n>=0;n--){var i=this.z2[n];if(i.Zy<=t)return i}},n.j2=function(t){for(var n=this.Y2(t);n&&!n.N1&&n.X2>0;)n=this.G2(n.X2-1);return n},n.W2=function(t){if(t.o2.length)for(var n=0,i=0;i<t.o2.length;i++){var e=t.o2[i],r=!!this.F2&&i===t.o2.length-1,s=this.lk+n,u=new qL(this,i,s,r,e);this.z2.push(u),n+=e.Yg}},n.Q2=function(){Hs(this.z2)},A(t,[{key:"Zy",get:function(){var t;return this.lk+(null!=(t=this.V2)?t:0)}},{key:"Z2",get:function(){return this.lk}},{key:"o2",get:function(){return this.z2}},{key:"H2",get:function(){return this.V2},set:function(t){this.V2=t;for(var n=0,i=this.z2;n<i.length;n++){i[n].H2=t}}}]),t}();!function(t){t.K2="YES",t.J2="v2"}(YL||(YL={}));var QL=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Jt),ZL=String.fromCharCode(95),KL=ZL+"HLS_msn",JL=ZL+"HLS_part",$L=ZL+"HLS_skip",tM=function(){function t(t){this.NJ=void 0,this.n3=void 0,this.i3=void 0,this.e3=void 0,this.r3=void 0,this.s3=void 0,this.u3=void 0,this.o3=void 0,this.a3=[],this.c3=[],this.V2=void 0,this.h3=!1,this.f3=void 0,this.v3=!1,this.nW=$S.gC(),this.ea=void 0,this.l3=-1/0,this.NJ=t}var n=t.prototype;return n.r$=function(t){if(!t)return this.NJ;var n=i.Cr(this.NJ);return void 0!==t.H1&&n.searchParams.append(KL,String(t.H1)),void 0!==t.d3&&n.searchParams.append(JL,String(t.d3)),void 0!==t.gA&&n.searchParams.append($L,t.gA),n.href},n.w3=function(t){return Os(this.a3,function(n){return n.H1===t})},n._3=function(t){for(var n=0;n<this.a3.length;n++){var i,e=this.a3[n],r=e.Zy,s=r+(null!=(i=e.Yg)?i:zL(e.o2.map(function(t){return t.Yg})));if(r<=t&&t<=s)return t===s&&n+1<this.a3.length?this.a3[n+1]:e}},n.C2=function(t){var n=this.g3();if(void 0!==n)return new Date(1e3*t+n)},n.q0=function(t){var n=this.g3();if(void 0!==n)return(t.getTime()-n)/1e3},n.g3=function(){for(var t=this.Y0,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.h2)return i.h2.getTime()-1e3*i.Zy}},n.m3=function(t){switch(t){case Gx.W1:return this.i3;case Gx.G1:return this.e3;default:return}},n.y3=function(t){void 0!==this.r3||m(t.b2)||(this.r3=t.b2),void 0===this.r3&&(this.r3=this.b3(t)),void 0===this.u3&&void 0!==t.O1&&(this.u3=t.O1),void 0===this.s3&&void 0!==t.f0&&(this.s3=t.f0),void 0===this.o3&&void 0!==t.L1&&(this.o3=t.L1),this.h3=t.C1,this.f3=t.P1,this.v3=t.B1,this.A3(t),this.V0(t);for(var n=0,e=t.g2;n<e.length;n++){var r=e[n];switch(r.us){case Gx.W1:this.i3={NJ:r.NJ,us:r.us,l2:t.l2};break;case Gx.G1:this.e3={NJ:r.NJ,us:r.us,l2:t.l2}}}this.n3=i.Je()/1e3,this.nW=this.T3(),this.ea=this.S3()},n.T3=function(){var t,n,i,e=this.Y0;if(0===e.length)return $S.gC();var r=e[0].Zy,s=e[e.length-1],u=s.Zy+(null!=(t=s.Yg)?t:zL(s.o2.map(function(t){return t.Yg})))-(null!=(n=null!=(i=this.L1)?i:this.O1)?n:0);return u<r?$S.gC():new $S([r,u])},n.S3=function(){var t;if(0===this.a3.length)return 0;if(!this.d2)return 1/0;var n=zL(this.a3.slice(0,this.a3.length-1).map(function(t){var n;return null!=(n=t.Yg)?n:0})),i=this.a3[this.a3.length-1];return n+(null!=(t=i.Yg)?t:zL(i.o2.map(function(t){return t.Yg})))},n.b3=function(t){for(var n,i=0,e=t.Y0;i<e.length;i++){var r=e[i];if(void 0!==r.Yg){var s=w.max(1,w.round(r.Yg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.A3=function(t){if(0===t.Y0.length)return Hs(this.a3),void(this.H2=void 0);var n,i,e,r=0,s=t.X1;if(this.a3.length>0){var u=this.a3[0].H1,o=this.a3[this.a3.length-1].H1,a=t.Y0[0].H1-s,c=t.Y0[t.Y0.length-1].H1;if(a<u)return void fx.v$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+a+", but previous playlist already started at "+u+")");if(c<o)return void fx.v$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+c+", but previous playlist already ended at "+o+")");if(o<a){var h;r=null!=(h=function(t,n){var i=xs(t,function(t){return void 0!==t.h2});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.a2)return;if(r.h2)return[r,n];n+=null!=(e=r.Yg)?e:0}return}(n.Y0);if(void 0===e)return;var r=e[0],s=e[1];if(i.l2!==r.l2)return;var u=(r.h2.getTime()-i.h2.getTime())/1e3;return i.Zy+u-s}(this.a3,t))?h:function(t,n,i){var e,r=t[t.length-1],s=n.Y0[0],u=r.Z2+(null!=(e=r.Yg)?e:i),o=s.H1-r.H1-1;return u+o*i}(this.a3,t,this.v0),Hs(this.a3)}else{0;var f=Ls(this.a3,function(t){return t.H1===a});0,r=this.a3[f].Z2,f>0&&this.a3.splice(0,f)}}if(s>0){if(s>this.a3.length)throw new QL("New playlist skips over missing segments.");var v=this.a3[s-1];if(void 0===v.Yg)throw new QL("New playlist skips over an incomplete segment.");n=v.Z2+v.Yg,e=v.l2-t.l2;for(var l=0,d=i=this.a3.slice(0,s);l<d.length;l++){d[l].Q2()}}else n=r,e=0,i=[];for(var w=0;w<t.Y0.length;w++){var _=t.Y0[w],g=t.d2&&w===t.Y0.length-1,m=_.Yg,y=_.l2+e,k=new jL(n,y,g,_);k.H2=this.V2,i.push(k),void 0!==m&&(n+=m)}this.a3=i},n.V0=function(t){var n=this,i=t.G0.map(Jx);if(t.B1&&t.A2.gA===YL.J2&&(i=this.c3.concat(i)),this.c3=Xx(i),t.F1)for(var e=function(t,i){var e=i[t],r=Ls(n.c3,function(t){return t.X_===e});r>=0&&Us(n.c3,r)},r=0,s=t.F1;r<s.length;r++)e(r,s)},A(t,[{key:"E3",get:function(){return this.i3}},{key:"I3",get:function(){return this.e3}},{key:"d2",get:function(){return Boolean(Os(this.a3,function(t){return t.F2}))}},{key:"Yg",get:function(){return this.ea}},{key:"Ry",get:function(){return this.nW}},{key:"v0",get:function(){return this.r3}},{key:"f0",get:function(){return this.s3}},{key:"O1",get:function(){return this.d2?0:this.u3?this.u3:this.r3?3*this.r3:void 0}},{key:"L1",get:function(){var t;return null!=(t=this.o3)?t:this.s3?3*this.s3:void 0}},{key:"R3",get:function(){var t;if(!this.d2&&this.a3.length){var n=this.a3[this.a3.length-1],i=null!=(t=this.L1)?t:0;return void 0===n.Yg?n.o2.length?n.Zy+n.o2[0].Yg*n.o2.length-i:n.Zy-i:n.Zy+n.Yg-i}}},{key:"C1",get:function(){return this.h3}},{key:"P1",get:function(){return this.f3}},{key:"B1",get:function(){return this.v3}},{key:"N3",get:function(){return void 0!==this.f0}},{key:"D3",get:function(){if(this.d2)return!0;var t=i.Je()/1e3,n=this.O2,e=this.C3;return void 0!==n&&t-n<e}},{key:"O2",get:function(){return this.n3}},{key:"H2",get:function(){return this.V2},set:function(t){this.V2=t;for(var n=0,i=this.a3;n<i.length;n++){i[n].H2=this.V2}}},{key:"C3",get:function(){var t;return null!=(t=this.r3)?t:1}},{key:"Y0",get:function(){return this.a3}},{key:"G0",get:function(){return this.c3}},{key:"P3",get:function(){return this.l3},set:function(t){this.l3=t}}]),t}();var nM=function(){function t(t){this.B3=[],this.O3=[],this.x3=Cr(),this.L3=t}var n=t.prototype;return n.y3=function(t,n){if(Wx(t))if(0===this.B3.length)this.M3(t);else{if(!n)return void fx.v$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.pJ.y3(t)}else{if(0!==this.B3.length)return void fx.v$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.U3(t)}},n.M3=function(t){var n=this.X3(t.NJ);n.y3(t);var i=this.F3(Fx.Ad,n),e=this.F3(Fx.Td,n),r=new VL({NJ:n.NJ,UR:0,YK:0,l0:NaN,XH:void 0,s$:void 0,jK:0,_1:[],b1:void 0,S1:void 0,g1:void 0,T1:void 0,A1:void 0,m1:void 0},n,[i,e]);this.B3.push(r)},n.U3=function(t){var n,i=this;(n=this.O3).push.apply(n,t.e2);for(var e=this.H3(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return iM(t.us,t.EJ,n)&&(!t.RJ||t.pJ.NJ===n.NJ)}(t,r)});i.z3(r,s);var u=new VL(r,i.X3(r.NJ),s);i.B3.push(u)},s=0,u=t.s2;s<u.length;s++)r(s,u)},n.X3=function(t){var n=this.x3.get(t);return void 0===n&&(n=new tM(t),this.x3.set(t,n)),n},n.H3=function(t){for(var n=[],i=0,e=t.sT;i<e.length;i++){var r=e[i];if(void 0===r.NJ)for(var s=0,u=t.s2;s<u.length;s++){var o=u[s];if(iM(r.us,r.EJ,o)){var a=new WO(r,this.X3(o.NJ));n.push(a)}}else{var c=new WO(r,this.X3(r.NJ));n.push(c)}}return n},n.F3=function(t,n){return new WO({us:t,NJ:void 0,EJ:"",V_:void 0,l1:void 0,ci:"",AJ:!0,TJ:!1,SJ:!1,w1:void 0,IJ:void 0,d1:void 0},n)},n.z3=function(t,n){var i=n.filter(function(t){return t.us===Fx.Ad}),e=n.filter(function(t){return t.us===Fx.Td}),r=t.XH&&(t.XH.MH||t.XH.UH);if((!r||t.XH.MH)&&0===e.length){var s=this.F3(Fx.Td,this.X3(t.NJ));n.push(s)}if((!r||t.XH.UH)&&0===i.length){var u=this.F3(Fx.Ad,this.X3(t.NJ));n.push(u)}t.XH&&t.XH.FH},n.V3=function(t){for(var n=0,i=this.B3;n<i.length;n++)for(var e=0,r=i[n].A$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.W3=function(t){for(var n=0,i=this.B3;n<i.length;n++){var e=i[n];if(e===t)return e}},n.G3=function(t){for(var n=0,i=this.B3;n<i.length;n++){var e=i[n];if(Xs(e.A$,t))return e}},A(t,[{key:"q3",get:function(){return this.O3}},{key:"m$",get:function(){return this.B3}}]),t}();function iM(t,n,i){switch(t){case Fx.Ad:return i.g1===n;case Fx.Td:return i.T1===n;case Fx.iA:return i.A1===n;case Fx.j0:return i.m1===n}return!1}var eM=function(t){function n(n){var i;return(i=t.call(this,"W0")||this).qJ=n,i}return S(n,t),n}(wu);function rM(t,n,i,e,r){var s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Rr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),tu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Rr.awrap(cu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],Ve)}var sM=function(t){function n(n){var i;return(i=t.call(this,"Y3")||this).qJ=n,i}return S(n,t),n}(wu),uM="HlsModelUpdate",oM=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).j3=void 0,r.Q3=!1,r.Z3=void 0,r.K3=void 0,r.J3=Pr(),r.kE=n,r.t4=i,r.rootURI=e,r.j3=new nM(e),r}S(n,t);var e=n.prototype;return e.n4=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.j3.L3){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Rr.awrap(this.i4(n,{},2,t));case 5:if(Vx(i=e.sent)||Wx(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return Vx(i)||fx.gT(uM,"Detected media playlist only HLS stream."),this.e4(i),e.next=12,Rr.awrap(this.r4(t));case 12:this.Q3=!0;case 13:case"end":return e.stop()}},null,this,null,Ve)},e.s4=function(t,n,i,e){var r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.j3.V3(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={H1:n,d3:i,gA:fM(r)},u=Wt(w.max(1,3*t.pJ.C3)),o.prev=5,o.next=8,Rr.awrap(this.u4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),tu(o.t0),this.o4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],Ve)},e.a4=function(t,n){var i=this.j3.V3(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={H1:void 0,d3:void 0,gA:fM(i)},r=Wt(w.max(1,3*t.pJ.C3));return this.u4(i,e,n,r)},e.c4=function(t,n){return this.J3.has(t.F_)||this.J3.set(t.F_,new Wo),iu(this.J3.get(t.F_).Uu,n)},e.o4=function(t){this.Ys(new sM(t))},e.u4=function(t,n,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.pJ.r$(n),a.prev=1,a.next=4,Rr.awrap(this.i4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),tu(a.t0),t.pJ.P3=i.Je(),a.t0;case 12:if(Wx(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.e4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof QL&&void 0!==n.gA)){a.next=23;break}return o=Nr({},n,{gA:void 0}),a.abrupt("return",this.u4(t,o,e,r));case 23:throw a.t1;case 24:if(t!==this.Z3){a.next=26;break}return a.abrupt("return");case 26:if(void 0===t.pJ.H2){a.next=28;break}return a.abrupt("return");case 28:if(this.Z3){a.next=33;break}this.Z3=t,this.Z3.pJ.H2=0,a.next=45;break;case 33:if(this.Z3.pJ.D3){a.next=44;break}return a.prev=34,a.next=37,Rr.awrap(this.a4(this.Z3,e));case 37:a.next=44;break;case 39:a.prev=39,a.t2=a.catch(34),tu(a.t2),this.Z3=t,this.h4();case 44:this.f4(t);case 45:case"end":return a.stop()}},null,this,[[1,7],[14,18],[34,39]],Ve)},e.i4=function(t,n,i,e,r){var s,u,o,a=this;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return fx.gT(uM,"Loading HLS playlist at "+t+"."),c.prev=1,c.next=4,Rr.awrap(this.t4.v4([t]));case 4:if(s=c.sent,$s(e),void 0===s){c.next=8;break}return c.abrupt("return",HL(s.responseURL,{},s.data));case 8:c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),tu(c.t0);case 14:return u={ud:t,Jl:pf.Kn,Ed:Yw.GET,us:jw.fd,zs:e,Id:r},c.next=17,Rr.awrap(rM(function(){return a.l4(u)},e,i));case 17:return o=c.sent,c.abrupt("return",HL(o.rd,n,o.Xi));case 19:case"end":return c.stop()}},null,this,[[1,10]],Ve)},e.l4=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.kE.ed(t));case 2:return n=e.sent,e.next=5,Rr.awrap(n.Ol());case 5:return i=e.sent,e.abrupt("return",{Xi:i,rd:n.rd});case 7:case"end":return e.stop()}},null,this,null,Ve)},e.r4=function(t){var n,i,e,r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:$s(t),n=[],i=0,e=this.j3.m$;case 3:if(!(i<e.length)){c.next=26;break}r=e[i],s=0,u=r.A$;case 6:if(!(s<u.length)){c.next=23;break}return o=u[s],c.prev=8,c.next=11,Rr.awrap(this.t4.v4([o.pJ.NJ]));case 11:a=c.sent,$s(t),void 0===a||o.pJ.D3||n.push(this.a4(o,t)),c.next=20;break;case 16:c.prev=16,c.t0=c.catch(8),tu(c.t0);case 20:s++,c.next=6;break;case 23:i++,c.next=3;break;case 26:return c.next=28,Rr.awrap(Ve.all(n));case 28:case"end":return c.stop()}},null,this,[[8,16]],Ve)},e.h4=function(){for(var t=0,n=this.j3.m$;t<n.length;t++)for(var i=0,e=n[t].A$;i<e.length;i++){var r=e[i];r!==this.Z3&&(void 0!==r.pJ.H2&&(r.pJ.D3?this.f4(r):r.pJ.H2=void 0))}},e.f4=function(t){if(t.pJ.Y0.length&&this.Z3){if(t.pJ.Y0.length&&t.pJ.d2)return t.pJ.H2=0,void fx.gT(uM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".");var n=function(t,n){var i=cM(t);if(0===i.length)return;var e=cM(n);if(0===n.length)return;for(var r=e.length-1;r>=0;r--)for(var s=e[r],u=0;u<i.length;u++){var o=i[u];if(s.l2===o.l2)return{segment:o,referenceSegment:s}}return}(t.pJ.Y0,this.Z3.pJ.Y0);if(void 0!==n){var i=n.segment,e=n.referenceSegment;return t.pJ.H2=e.Zy-i.Zy,void fx.gT(uM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".")}var r=hM(t.pJ.Y0);if(void 0!==r){var s=hM(this.Z3.pJ.Y0);if(void 0!==s){var u=s.Zy-r.Zy,o=(s.h2.getTime()-r.h2.getTime())/1e3;return t.pJ.H2=u-o,void fx.gT(uM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".")}}t.pJ.H2=aM(this.Z3)-aM(t),fx.gT(uM,"Assuming global timeline offset of "+t.pJ.H2+"s for rendition "+t.pJ.NJ+".")}},e.e4=function(t,n){var i;(this.j3.y3(t,n),Wx(t)&&n)&&(this.K3=n,this.Ys(new eM(n)),null==(i=this.J3.get(n.F_))||i.Hu(),this.J3.delete(n.F_))},e.d4=function(t,n){var i=this.j3.W3(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.j3.m$;e<r.length;e++){var s=r[e];s.XH||(n.MH||s.P2(Fx.Td),n.UH||s.P2(Fx.Ad))}i.XH=n},A(n,[{key:"w4",get:function(){return this.Q3}},{key:"g$",get:function(){return this.j3}},{key:"_4",get:function(){return this.K3}}]),n}(lu);function aM(t){var n,i=t.pJ.Y0[t.pJ.Y0.length-1];return i.Zy+(null!=(n=i.Yg)?n:zL(i.o2.map(function(t){return t.Yg})))}function cM(t){return t.filter(function(t){return t.a2})}function hM(t){for(var n=t.length-1;n>=0;n--)if(void 0!==t[n].h2)return t[n]}function fM(t){if(void 0!==t.pJ.P1&&!t.pJ.d2&&!(void 0===t.pJ.O2||i.Je()/1e3-t.pJ.O2>=t.pJ.P1/2))return t.pJ.B1?YL.J2:YL.K2}var vM=function(t){function n(){return t.call(this,HO.wJ)||this}return S(n,t),n}(wu);var lM,dM=function(){function t(t){this.a3=[],this.Lz=void 0,this.g4=void 0,this.m4=t}var n=t.prototype;return n.y4=function(t){var n;return null==(n=this.b4(t))?void 0:n.qJ},n.A4=function(t){this.Lz=t,this.T4()},n.S4=function(t,n,i,e,r,s){this.a3.push({H1:n,qJ:t,E4:new $S([r,s]),I4:new $S([i,e])}),this.T4()},n.b4=function(t){for(var n=0,i=this.a3;n<i.length;n++){var e=i[n];if(e.I4.QN(t))return e}},n.R4=function(t){for(var n=0,i=this.a3;n<i.length;n++){var e=i[n];if(e.H1===t)return e}},n.hV=function(){var t=this.vy;t.N_>0&&(this.g4=t.LD(t.N_-1))},n.T4=function(){var t=this.m4.vy;this.a3=this.a3.filter(function(n){return 0!==t.YD(n.I4).N_})},A(t,[{key:"N4",get:function(){return this.Lz}},{key:"vy",get:function(){return t=this.m4.vy,n=this.m4.pV,i=n.aC(function(n,i){return t.sC(n,i,!1,!1)}),t.$D(i);var t,n,i}},{key:"Y0",get:function(){return this.a3}},{key:"D4",get:function(){return this.g4}}]),t}(),wM=function(){function t(t,n,i,e){var r=this;this.m4=void 0,this.C4=void 0,this.P4=void 0,this.Hi=void 0,this.B4=void 0,this.Kv=new Zs,this.O4=$S.gC(),this.x4=function(t){r.B4&&(t&&!Js(t)?r.B4.Vu(t):r.B4.Hu(),r.B4=void 0)},this.Hi=t,this.P4=i,this.m4=n,this.C4=e}var n=t.prototype;return n.L4=function(){if(this.M4)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.U4=function(t){this.m4!==t&&(this.L4(),this.m4=t,this.C4=new dM(t))},n.X4=function(){return this.B4?this.B4.Uu:Ve.resolve()},n.F4=function(t){var n,i,e=this.C4.D4,r=this.C4.vy;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.zD().nC(this.H4).vC(s))?void 0:i.QN(e))&&n},n.z4=function(t){return this.C4.y4(t)},n.Xs=function(){this.Kv.Xs(),this.Kv=new Zs},n.Vz=function(t){var n=this;this.L4(),this.B4=new Wo;var i=function(i){n.P4.V4(t),n.x4(i)};this.Wz(t,this.Kv.zs).then(i,i)},n.Wz=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fx.f$("Buffering","Appending initializer",Qx(t.W4.NJ)),i.next=3,Rr.awrap(this.m4.Vz(t,n));case 3:fx.f$("Buffering","Appended initializer",Qx(t.W4.NJ)),this.C4.A4(t);case 5:case"end":return i.stop()}},null,this,null,Ve)},n.G4=function(t){var n=this;this.L4(),this.B4=new Wo;var i=function(i){n.P4.V4(t),n.x4(i)};this.q4(t,this.Kv.zs).then(i,i)},n.q4=function(t,n){var i,e,r,s,u,o,a,c,h,f,l,d,w,_;return Rr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.qJ,r=t.H1,void 0!==e.pJ.v0){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Hi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.C4.vy.UD,u=this.m4.vy,fx.f$("Buffering","Appending",Qx(t.W4.NJ)),g.next=9,Rr.awrap(this.m4.Fz(t,n));case 9:fx.f$("Buffering","Appended",Qx(t.W4.NJ),s,this.C4.vy.UD),o=t.Zy,a=o+t.Yg,c=t.W4,h=c.Zy,f=c.Zy+(null!=(i=c.Yg)?i:0),this.C4.S4(e,r,o,a,h,f),l=this.m4.vy.nC(u),(d=this.C4.R4(r-1))?this.Y4(d)?0===l.N_?Boolean(this.j4.R4(r))||(w=this.m4.pV.YD(new $S([o,a])),this.O4=this.O4.$D(w)):(this.O4=this.O4.nC(new $S([l.OD(0),a])),l.OD(0)>o&&(this.O4=this.O4.$D(new $S([o,l.OD(0)])))):this.O4=this.O4.nC(new $S([o,a])):0===l.N_?(_=this.m4.pV.YD(new $S([o,a])),this.O4=this.O4.$D(_)):l.OD(0)>o&&(this.O4=this.O4.$D(new $S([o,l.OD(0)]))),t.W4.F2&&this.C4.hV();case 20:case"end":return g.stop()}},null,this,null,Ve)},n.Y4=function(t){var n=t.I4,i=n.OD(0),e=n.LD(n.N_-1),r=n.xD(0),s=n.MD(n.N_-1);return this.O4.eC(i,e,r,s)},A(t,[{key:"us",get:function(){return this.Hi}},{key:"Q4",get:function(){return this.Hi===jy.Ad||this.Hi===jy.Td}},{key:"j4",get:function(){return this.C4}},{key:"H4",get:function(){return this.O4}},{key:"M4",get:function(){return void 0!==this.B4}}]),t}(),_M=function(){function t(t,n){this.Z4=void 0,this.K4=t,this.kE=n}var n=t.prototype;return n.J4=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.t6(n,e));case 2:return r=s.sent,s.next=5,Rr.awrap(this.K4.J4(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ve)},n.t6=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.Z4)?void 0:i.ud)===t){u.next=10;break}return fx.f$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Rr.awrap(this.kE.ed({ud:t,Jl:pf.Vf,Ed:Yw.GET,zs:n,us:jw.ld,Rd:Qw.pd}));case 4:return e=u.sent,u.next=7,Rr.awrap(e.Ll());case 7:r=u.sent,s=new y(r),this.Z4={ud:t,Xi:s};case 10:return u.abrupt("return",this.Z4.Xi);case 11:case"end":return u.stop()}},null,this,null,Ve)},t}(),gM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.kE=t,this.t4=n,this.n6=i,this.i6=e,this.e6=r}var n=t.prototype;return n.ed=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.r6(t,n,pf.Vf,i));case 2:return e=r.sent,r.t0=y,r.next=6,Rr.awrap(e.Ll(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,Ve)},n.s6=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.r6(t,n,pf.Gf,i));case 2:return e=r.sent,r.abrupt("return",e.Ml(i));case 4:case"end":return r.stop()}},null,this,null,Ve)},n.r6=function(t,n,i,e){var r,s,u,o,a=this;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t.Q0&&0===(r=zx(t.Q0.OD,t.Q0.N_))[0]&&r[1]===Ot&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new Jw({ud:t._i,Jl:i,Kl:s,Dd:this.i6,Ed:Yw.GET,us:jw.vd,Rd:n,Nd:this.n6,zs:e}),c.prev=3,c.next=6,Rr.awrap(this.t4.u6(t._i,r));case 6:if(o=c.sent,$s(e),void 0===o){c.next=10;break}return c.abrupt("return",new Kw({ed:u,Xi:o.buffer}));case 10:c.next=16;break;case 12:c.prev=12,c.t0=c.catch(3),tu(c.t0);case 16:return c.next=18,Rr.awrap(rM(function(){return iu(a.kE.ed(u),u.zs)},e,this.e6));case 18:return c.abrupt("return",c.sent);case 19:case"end":return c.stop()}},null,this,[[3,12]],Ve)},t}(),mM=function(){function t(t,n){this.U0=void 0,this.o6=void 0,this.a6=void 0,this.c6=new Zs,this.RG=-1/0,this.h6=!1,this.U0=t,this.o6=n,this.f6()}var n=t.prototype;return n.v6=function(){return this.o6.pJ.C1},n.l6=function(t,n,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.v6()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Rr.awrap(this.d6());case 5:return $s(e),r.next=8,Rr.awrap(this.U0.s4(this.o6,t,n,e));case 8:this.RG=i.Je(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),Js(r.t0)&&this.f6(),r.t0;case 15:this.f6();case 16:case"end":return r.stop()}},null,this,[[2,11]],Ve)},n.w6=function(t){return this.U0.c4(this.o6,t)},n.f6=function(){var t=this;if(!this.a6&&!this.h6){var n=function(){t.a6=void 0};this.a6=this._6(this.c6.zs).then(n,n)}},n.d6=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.a6){t.next=6;break}return this.c6.Xs(),this.c6=new Zs,t.next=5,Rr.awrap(this.a6.catch(Z));case 5:this.a6=void 0;case 6:case"end":return t.stop()}},null,this,null,Ve)},n._6=function(t){var n,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.o6.pJ.d2||!this.o6.pJ.D3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.Je()-this.RG,e=1e3*this.o6.pJ.C3,!(n<e)){r.next=8;break}return r.next=8,Rr.awrap(cu(e-n,t));case 8:return r.prev=8,r.next=11,Rr.awrap(this.U0.a4(this.o6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),tu(r.t0),this.U0.o4(this.o6),r.t0;case 18:this.RG=i.Je(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],Ve)},n.Bs=function(){this.h6=!0,ou(this.d6())},t}();!function(t){t[t.W1=0]="W1",t[t.G1=1]="G1",t[t.vd=2]="vd",t[t.g6=3]="g6"}(lM||(lM={}));var yM="AssetExtractor",kM=function(){function t(){this.m6=[]}var n=t.prototype;return n.y6=function(t,n,i){for(var e=n,r=0,s=this.m6;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.OD)return!1;if(e<u.LD){if(i<=u.LD)return!0;e=u.LD}}return e>=t},n.k6=function(t,n){for(var i=[],e=0;e<this.m6.length;e+=1){var r=this.m6[e],s=t-r.OD,u=r.Xi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),c=Xo(r.Xi,o,a);c.length&&(e=this.b6(e,r,t,o,a),i.push(c))}return i},n.p6=function(t,n){this.m6.push({OD:t,LD:t+n.length,Xi:n})},n.b6=function(t,n,i,e,r){var s=t;this.m6.splice(s,1),s-=1,n.OD<i&&(s+=1,this.m6.splice(s,0,{OD:n.OD,LD:i,Xi:Xo(n.Xi,0,e)}));var u=i+r-e;return u<n.LD&&(s+=1,this.m6.splice(s,0,{OD:u,LD:n.LD,Xi:Xo(n.Xi,r)})),s},t}(),bM=function(){function t(t,n){this.ev=void 0,this.A6=n,this.ev=t.getReader()}var n=t.prototype;return n.T6=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.ev.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.A6=1/0,new v("No more data can be read from the given stream.");case 6:return this.A6+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,Ve)},n.S6=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.ev.cancel(t));case 2:case"end":return n.stop()}},null,this,null,Ve)},A(t,[{key:"E6",get:function(){return this.A6}}]),t}(),pM=function(){function t(t,n,i,e){this.I6=void 0,this.ev=void 0,this.R6=void 0,this.N6=void 0,this.D6=void 0,this.C6=void 0,this.P6=new Wo,this.I6=t,this.ev=n,this.R6=i,this.N6=e,this.D6=new Wo,this.C6=new Wo}var n=t.prototype;return n.B6=function(){this.C6.Hu(),this.C6=new Wo},n.O6=function(t){var n=TM(this.I6.Q0),i=n.x6,e=n.L6,r=this.R6.k6(i,e-i);fx.f$(yM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,c,h,f,v,l;return Rr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Rr.awrap(this.D6.Uu);case 2:n=TM(this.I6.Q0),i=n.x6,e=n.L6,d.prev=3;case 4:return r=this.ev.E6,d.next=8,Rr.awrap(this.ev.T6());case 8:if(s=d.sent,u=s.length,fx.f$(yM,"Read "+u+" at "+r+" for extraction of "+Qx(this.I6)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(c=Xo(s,0,a),h=Xo(s,a),fx.f$(yM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+Qx(this.I6)),this.R6.p6(r,c),!(h.length>0)){d.next=23;break}return fx.f$(yM,"Extracting "+h.length+" bytes for extraction of "+Qx(this.I6)),t.enqueue(h),this.B6(),d.abrupt("return",ou(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return fx.f$(yM,"Extracting the read data range for extraction of "+Qx(this.I6)),t.enqueue(s),this.B6(),d.abrupt("return",ou(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Xo(s,0,f=e-r),l=Xo(s,f),v.length>0&&(fx.f$(yM,"Extracting "+v.length+" bytes for extraction of "+Qx(this.I6)),t.enqueue(v)),fx.f$(yM,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+Qx(this.I6)),this.R6.p6(r+f,l),fx.f$(yM,"Extraction of "+Qx(this.I6)+" completed as the entire request has been fulfilled."),this.M6(t),!this.N6){d.next=45;break}return fx.f$(yM,"Aborting stream upstream as no more bytes are needed from "+Qx(this.I6)+"."),d.next=45,Rr.awrap(this.ev.S6("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),fx.f$(yM,"Extraction of "+Qx(this.I6)+" completed as the entire source stream has been read."),this.M6(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],Ve)},n.M6=function(t){t.close(),this.B6(),this.P6.Hu()},n.start=function(t){fx.f$(yM,"Preparing to push all collected data to controller for extraction of "+Qx(this.I6)),this.O6(t),fx.f$(yM,"Collected data pushed to controller for extraction of "+Qx(this.I6));var n=TM(this.I6.Q0).L6;this.ev.E6>=n?(fx.f$(yM,"Extraction of "+Qx(this.I6)+" completed as the entire request has been fulfilled."),this.M6(t)):(fx.f$(yM,"Continuing read from original stream for extraction of "+Qx(this.I6)),ou(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.D6.Hu(),this.D6=new Wo,this.C6.Uu},A(t,[{key:"U6",get:function(){return this.P6.Uu}}]),t}(),AM=function(){function t(t,n){this.R6=void 0,this.X6=void 0,this.F6=void 0,this.I6=n;var i=TM(this.I6.Q0).x6;this.X6=new bM(t,i),this.R6=new kM}var n=t.prototype;return n.By=function(t){if(!Zx(this.I6,t))return!1;var n=TM(t.Q0),i=n.x6,e=n.L6;return this.R6.y6(this.X6.E6,i,e)},n.H6=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.X6,e=this.R6,fx.gT(yM,"Extracting data from "+Qx(t)+" out of "+Qx(this.I6)),!this.F6){s.next=8;break}return fx.f$(yM,"Awaiting previous extraction before extracting "+Qx(t)+" out of "+Qx(this.I6)),s.next=8,Rr.awrap(this.F6);case 8:if(this.By(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new pM(t,i,e,n),this.F6=r.U6,s.abrupt("return",new Wd(r));case 13:case"end":return s.stop()}},null,this,null,Ve)},t}();function TM(t){if(t){var n=t.OD;return{x6:n,L6:void 0!==t.N_?n+t.N_:Ot}}return{x6:0,L6:Ot}}var SM,EM=function(){function t(t,n){this.Kv=new Zs,this.z6=void 0,this.I6=t,this.V6=n,this.z6=this.zc()}var n=t.prototype;return n.zc=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.V6.s6(this.I6,Qw.hd,this.Kv.zs));case 2:return t=n.sent,n.abrupt("return",new AM(t,this.I6));case 4:case"end":return n.stop()}},null,this,null,Ve)},n.By=function(t){return Zx(this.I6,t)},n.H6=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Rr.awrap(this.z6);case 3:return i=e.sent,e.next=6,Rr.awrap(iu(i.H6(t,n),this.Kv.zs));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,Ve)},n.Xs=function(){this.z6.catch(Z),this.Kv.Xs()},t}(),IM=function(t){function n(){return t.call(this,SM.W6)||this}return S(n,t),n}(wu),RM="HlsPlaylistDownloader";!function(t){t.W6="videosegmentdownloaded"}(SM||(SM={}));var NM=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Hi=void 0,a.U0=void 0,a.P4=void 0,a.V6=void 0,a.G6=void 0,a.o6=void 0,a.q6=void 0,a.Y6=void 0,a.j6=void 0,a.Q6=new Zs,a.Z6=void 0,a.K6=void 0,a.J6=void 0,a.t5=void 0,a.n5=function(t){a.Y6&&(a.o6=a.Y6,a.Y6=void 0,a.Z6=void 0,a.K6=void 0),a.j6&&(t&&!Js(t)?a.j6.Vu(t):a.j6.Hu(),a.j6=void 0)},a.Hi=n,a.U0=e,a.P4=r,a.o6=i,a.q6=new mM(e,i),a.G6=new _M(o,s),a.V6=new gM(s,u,function(t){switch(t){case Fx.Td:return Zw.Td;case Fx.Ad:return Zw.Ad;case Fx.iA:case Fx.j0:return Zw.Kn;default:return Zw.hd}}(i.us),!1),a}S(n,t);var e=n.prototype;return e.i5=function(t){this.q6.Bs(),this.q6=new mM(this.U0,t),this.M4?this.Y6=t:(this.o6=t,this.Z6=void 0,this.K6=void 0)},e.X4=function(){return this.j6?this.j6.Uu:Ve.resolve()},e.e5=function(){return this.P4.e5()},e.r5=function(t){this.P4.r5(t)},e.Xs=function(){var t,n;this.Q6.Xs(),this.Q6=new Zs,null==(t=this.t5)||t.Xs(),null==(n=this.J6)||n.Xs(),this.t5=void 0,this.J6=void 0,this.Z6=void 0,this.K6=void 0},e.Bs=function(){this.q6.Bs()},e.s5=function(t){var n=this.o6.pJ._3(t);if(!n)return!1;if(void 0!==this.Z6){var i=n.H1===this.Z6;return void 0!==this.K6?n.q2(t)===n.G2(this.K6)&&i:i}return!1},e.u5=function(t){var n;if(void 0===this.Z6)n=this.o5(t);else if(n=this.a5(this.Z6,this.K6)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Zy,u=3*this.qJ.pJ.v0;w.abs(s-t)>=u&&(n=this.o5(t))}if(n){var o=n,a=o[0],c=o[1];return 0===(null==c?void 0:c.X2)&&void 0!==a.Yg?[a,void 0]:[a,c]}},e.o5=function(t){var n,i,e,r=this.o6.pJ.Y0;if(0!==r.length){var s=r[r.length-1];if(s.Zy+(null!=(n=s.Yg)?n:zL(s.o2.map(function(t){return t.Yg})))<=t)i=s,e=s.j2(t);else if(r[0].Zy>t)e=(i=r[0]).G2(0);else{var u;e=null==(u=i=this.o6.pJ._3(t))?void 0:u.j2(t)}return i?[i,e]:void 0}},e.a5=function(t,n){var i,e,r;if((i=this.o6.pJ.w3(t))&&void 0!==n){if(0===i.o2.length)return[i,void 0];e=i.G2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.o6.pJ.w3(t+1))?void 0:r.G2(0));return i?[i,e]:void 0},e.L4=function(){if(this.M4)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.c5=function(t){this.L4(),this.j6=new Wo,this.h5(t,this.Q6.zs).then(this.n5,this.n5)},e.f5=function(){this.q6.f6()},e.h5=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.u5(t))||!this.q6.v6()||void 0===this.Z6){e.next=5;break}return e.next=4,Rr.awrap(this.q6.l6(void 0===this.K6?this.Z6+1:this.Z6,void 0!==this.K6?this.K6+1:void 0,n));case 4:i=this.u5(t);case 5:if(i||!this.q6.v6()||void 0===this.Z6){e.next=9;break}return e.next=8,Rr.awrap(this.q6.l6(this.Z6+1,0,n));case 8:i=this.u5(t);case 9:if(i){e.next=16;break}return fx.gT(RM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Rr.awrap(this.q6.w6(n));case 13:i=this.u5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,Ve)},e.v5=function(){return this.P4.l5()},e.d5=function(){this.L4();try{var t=this.o6.pJ.m3(Gx.W1);t&&this.w5(t);var n=this.o6.pJ.m3(Gx.G1);n&&this._5(n)}catch(t){throw tu(t),this.qJ.pJ.P3=i.Je(),this.U0.o4(this.qJ),t}},e.w5=function(t){this.J6&&!this.J6.By(t.NJ)&&(this.J6.Xs(),this.J6=void 0),this.J6||(this.J6=new EM(t.NJ,this.V6))},e._5=function(t){this.t5&&!this.t5.By(t.NJ)&&(this.t5.Xs(),this.t5=void 0),this.t5||(this.t5=new EM(t.NJ,this.V6))},e.g5=function(t,n,e){var r=this;this.L4(),fx.gT(RM,"Starting download of segment "+Qx(t.NJ)+" and part "+(null==n?void 0:n.X2)),this.j6=new Wo,this.m5(t,n,e,this.Q6.zs).catch(function(t){throw tu(t),r.qJ.pJ.P3=i.Je(),r.U0.o4(r.qJ),t}).then(this.n5,this.n5)},e.m5=function(t,n,i,e){var r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.c2){u.next=5;break}if(i&&Kx(i.W4.NJ,t.c2.NJ)&&t.l2===i.l2){u.next=5;break}return u.next=4,Rr.awrap(this.y5(t.c2,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,Rr.awrap(this.k5(t,n,e));case 8:s=u.sent;case 9:this.P4.b5(s),"p5"===s.us&&this.Hi===jy.Td&&this.Ys(new IM),fx.f$("Buffering","Download complete",Qx(null!=(r=null==n?void 0:n.NJ)?r:t.NJ));case 12:case"end":return u.stop()}},null,this,null,Ve)},e.k5=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.t5){o.next=19;break}if(!this.t5.By(n.NJ)){o.next=17;break}return o.next=5,Rr.awrap(this.t5.H6(n.NJ));case 5:return r=o.sent,o.t0=y,o.next=9,Rr.awrap(Rw(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Rr.awrap(this.J4(s,n.e2,i));case 13:u=o.sent,e=PM(n,u),o.next=19;break;case 17:this.t5.Xs(),this.t5=void 0;case 19:if(e){o.next=24;break}return fx.f$("Buffering","Start download",Qx(n.NJ)),o.next=23,Rr.awrap(this.A5(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return fx.f$("Buffering","Start download",Qx(t.NJ)),o.next=29,Rr.awrap(this.T5(t,i));case 29:e=o.sent;case 30:return this.Z6=t.H1,this.K6=null==n?void 0:n.X2,o.abrupt("return",{us:"p5",H1:t.H1,p5:e,qJ:this.o6,l2:t.l2});case 33:case"end":return o.stop()}},null,this,null,Ve)},e.y5=function(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.J6){a.next=17;break}if(!this.J6.By(t.NJ)){a.next=14;break}return a.next=4,Rr.awrap(iu(this.J6.H6(t.NJ),i));case 4:return s=a.sent,a.t0=y,a.next=8,Rr.awrap(Rw(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Rr.awrap(this.J4(u,t.u2?[t.u2]:[],i));case 12:o=a.sent,e=DM(t,n,o);case 14:fx.gT(RM,"MAP is required for segment, downloading MAP data."),null==(r=this.J6)||r.Xs(),this.J6=void 0;case 17:if(e){a.next=22;break}return fx.f$("Buffering","Start download",Qx(t.NJ)),a.next=21,Rr.awrap(this.S5(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{us:"c2",c2:e,Zy:n.Zy,l2:n.l2,e2:n.e2});case 23:case"end":return a.stop()}},null,this,null,Ve)},e.S5=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(this.V6.ed(t.NJ,Qw.dd,i));case 2:return e=u.sent,r=t.u2?[t.u2]:[],u.next=6,Rr.awrap(this.J4(e,r,i));case 6:return s=u.sent,u.abrupt("return",DM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,Ve)},e.T5=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.NJ){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Rr.awrap(this.V6.ed(t.NJ,Qw.hd,n));case 4:return i=r.sent,r.next=7,Rr.awrap(this.J4(i,t.e2,n));case 7:return e=r.sent,r.abrupt("return",CM(t,e));case 9:case"end":return r.stop()}},null,this,null,Ve)},e.A5=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.V6.ed(t.NJ,Qw.hd,n));case 2:return i=r.sent,r.next=5,Rr.awrap(this.J4(i,t.e2,n));case 5:return e=r.sent,r.abrupt("return",PM(t,e));case 7:case"end":return r.stop()}},null,this,null,Ve)},e.J4=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Os(n,function(t){return t.Ed===qx.E1})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.NJ&&e.I1){r.next=6;break}return fx.wu(RM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Rr.awrap(this.G6.J4(t,e.NJ,e.I1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,Ve)},A(n,[{key:"M4",get:function(){return void 0!==this.j6}},{key:"qJ",get:function(){var t;return null!=(t=this.Y6)?t:this.o6}},{key:"E5",get:function(){if(!this.o6.pJ.d2)return!1;if(void 0===this.Z6)return!1;var t=this.o6.pJ.Y0[this.o6.pJ.Y0.length-1];return t.H1===this.Z6&&!(this.K6&&this.K6!==t.o2.length-1)}}]),n}(lu);function DM(t,n,i){return{Xi:{Xi:i,us:dD.zX},us:lM.W1,W4:t,l2:n.l2}}function CM(t,n){return{Xi:{Xi:n,us:dD.zX},us:lM.vd,W4:t,l2:t.l2}}function PM(t,n){return{Xi:{Xi:n,us:dD.zX},us:lM.G1,W4:t,l2:t.U2.l2}}var BM,OM=function(){function t(){this.I5=[],this.R5=Cr(),this.N5=void 0,this.D5=void 0}var n=t.prototype;return n.b5=function(t){"c2"===t.us&&(this.D5=t.c2),this.I5.push(t),this.N5&&(this.N5.Hu(),this.N5=void 0)},n.e5=function(){return this.I5[0]},n.r5=function(t){Ms(this.I5,t)},n.l5=function(){return null!=this.N5||(this.N5=new Wo),this.N5.Uu},n.C5=function(t){this.P5(t.B5).C5(t)},n.O5=function(t){return this.P5(t).O5()},n.V4=function(t){this.P5(t.B5).V4(t)},n.x5=function(t){var n;null==(n=this.R5.get(t))||n.Bs()},n.L5=function(t){return this.P5(t).L5()},n.P5=function(t){if(this.R5.has(t))return this.R5.get(t);var n=new xM;return this.R5.set(t,n),n},n.Ru=function(){this.M5(),this.U5()},n.M5=function(){this.D5=void 0,Hs(this.I5)},n.U5=function(){this.R5.forEach(function(t){return t.Ru()})},n.Bs=function(){this.R5.forEach(function(t){return t.Bs()}),this.R5.clear(),this.Ru(),this.N5&&(this.N5.Vu(new Ks),this.N5=void 0)},A(t,[{key:"N4",get:function(){return this.D5}},{key:"X5",get:function(){for(var t=$S.gC(),n=0,i=this.I5;n<i.length;n++){var e=i[n];if("p5"===e.us){var r,s=e.p5.W4;t=t.$D(new $S([s.Zy,s.Zy+(null!=(r=s.Yg)?r:0)]))}}return t}},{key:"F5",get:function(){var t=$S.gC();return this.R5.forEach(function(n){t=t.$D(n.F5)}),t}}]),t}(),xM=function(){function t(){this.H5=[],this.z5=void 0}var n=t.prototype;return n.C5=function(t){this.H5.push(t),this.z5&&(this.z5.Hu(),this.z5=void 0)},n.O5=function(){return this.H5[0]},n.V4=function(t){Ms(this.H5,t)},n.L5=function(){return null!=this.z5||(this.z5=new Wo),this.z5.Uu},n.Ru=function(){Hs(this.H5)},n.Bs=function(){this.Ru(),this.z5&&(this.z5.Vu(new Ks),this.z5=void 0)},A(t,[{key:"F5",get:function(){for(var t=$S.gC(),n=0,i=this.H5;n<i.length;n++){var e=i[n];"p5"===e.us&&(t=t.$D(new $S([e.Zy,e.Zy+e.Yg])))}return t}}]),t}(),LM=function(){function t(t,n){this.V5=void 0,this.W5=void 0,this.G5=$S.gC(),this.V5=t,this.W5=n}var n=t.prototype;return n.Vz=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Xi.Xi,this.q5(i),this.V5.us!==hk.TTML){u.next=8;break}if(this.W5.Y5(t.l2)){u.next=6;break}return u.next=6,Rr.awrap(iu(this.W5.j5(t.l2),n));case 6:for(e=this.Q5(i,t.l2),r=0;r<e.length;r++)s=e[r],this.V5.SE(s);case 8:case"end":return u.stop()}},null,this,null,Ve)},n.Fz=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Xi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Zy,e=i+t.Yg,this.G5=this.G5.$D(new $S([i,e])),this.W5.Y5(t.l2)){r.next=8;break}return r.next=8,Rr.awrap(iu(this.W5.j5(t.l2),n));case 8:this.zz(t.Xi.Xi,t.l2,t.W4);case 9:case"end":return r.stop()}},null,this,null,Ve)},n.zz=function(t,n,i){this.q5(t);for(var e=0,r=this.V5.us===hk.WEBVTT?this.Z5(t,i):this.Q5(t,n);e<r.length;e++){var s=r[e];this.V5.SE(s)}},n.Z5=function(t,n){for(var i,e,r=(void 0===e&&(e=eb),vb(Po(xo(t),new zo),e)),s=r.og,u=null!=(i=r.vp)?i:{lp:jk.$k,dp:jk.$k},o=0;o<s.length;o++){var a=s[o],c=jk.zb(a.Zy).Wk(u.dp).Py(u.lp),h=this.W5.K5(c,n).Bk(),f=h+(a.Ky-a.Zy);a.Zy=h,a.Ky=f}return s},n.Q5=function(t,n){var i=this.W5.J5(n).Bk();return op(t,this.V5,{op:0,ap:1/0,cp:i},Nh.APPLICATION_MP4)},n.q5=function(t){this.V5.us===hk.DEFAULT&&(this.V5.us=this.t8(t)?hk.WEBVTT:hk.TTML)},n.t8=function(t){return Ab(Po(Oo(xo(t),0,w.min(t.byteLength,7)),new zo))},n._V=function(t,n){},n.gV=function(t,n){},A(t,[{key:"vy",get:function(){return this.G5}},{key:"pV",get:function(){return $S.gC()}}]),t}(),MM=function(t){function n(n,i){var e;return(e=t.call(this,BM.n8)||this).qJ=n,e.XH=i,e}return S(n,t),n}(wu);!function(t){t.n8="i8"}(BM||(BM={}));var UM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).o6=void 0,s.P4=void 0,s.W5=void 0,s.e8=void 0,s.r8=void 0,s.Kv=new Zs,s.s8=function(t){s.r8&&(t&&!Js(t)?s.r8.Vu(t):(s.r8.Hu(),s.r8=void 0))},s.o6=n,s.P4=i,s.W5=e,s.e8=r,s}S(n,t);var i=n.prototype;return i.i5=function(t){this.o6!==t&&(this.Xs(),this.o6=t)},i.u8=function(t){for(var n=0,i=this.e8;n<i.length;n++){var e=i[n];Xs(t,e)||this.P4.x5(e)}this.e8=t},i.X4=function(){var t,n;return null!=(t=null==(n=this.r8)?void 0:n.Uu)?t:Ve.resolve()},i.L4=function(){if(this.M4)throw new v("Cannot perform new operation while transmuxer is still busy")},i.o8=function(t){var n=this;this.L4(),this.r8=new Wo;var i=function(i){n.P4.r5(t),n.s8(i)};this.a8(t,this.Kv.zs).then(i,i)},i.c8=function(t){var n=this;this.L4(),this.r8=new Wo;var i=function(i){n.P4.r5(t),n.s8(i)};this.h8(t,this.Kv.zs).then(i,i)},i.f8=function(t){this.Ys(new MM(this.o6,t))},i.C5=function(t){Xs(this.e8,t.B5)&&this.P4.C5(t)},i.v8=function(t){return this.P4.O5(t)},i.V4=function(t){this.P4.V4(t)},i.l8=function(t){return this.P4.L5(t)},i.Xs=function(){this.Kv.Xs(),this.Kv=new Zs},A(n,[{key:"qJ",get:function(){return this.o6}},{key:"d8",get:function(){return this.e8}},{key:"M4",get:function(){return void 0!==this.r8}}]),n}(lu),XM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.a8=function(t,n){$s(n);var i={us:"w8",Xi:t.c2.Xi,B5:this.d8[0],l2:t.l2,_8:{XH:"",e2:t.e2},Zy:t.Zy,qJ:this.qJ,W4:t.c2.W4};return this.C5(i),Ve.resolve()},i.h8=function(t,n){var i;$s(n);var e=t.p5.W4,r={us:"p5",Xi:t.p5.Xi,B5:this.d8[0],H1:t.H1,Zy:e.Zy,Yg:null!=(i=e.Yg)?i:0,cp:0,l2:t.l2,qJ:t.qJ,W4:t.p5.W4};return this.C5(r),Ve.resolve()},n}(UM),FM=function(){function t(t,n,i){this.g8=[],this.m8=t,this.P4=n,this.y8=i}var n=t.prototype;return n.i5=function(t){this.m8.i5(t)},n.k8=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.g8[t];if(!e.Q4)throw new v("Invalid state");var r=Ls(i,function(t){return t.us===e.us});r>=0?(e.U4(i[r]),Us(i,r)):Us(n.g8,t)},r=this.g8.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new dM(u);this.g8.push(new wM(u.us,u,this.P4,o))}i.length>0&&this.P4.Ru();var a=t.map(function(t){return t.us});this.y8.u8(a)},n.b8=function(t){for(var n=0,i=this.g8;n<i.length;n++){var e=i[n];if(e.us!==jy.Kn||e.M4)throw new v("Invalid state")}var r=new dM(t),s=new wM(jy.Kn,t,this.P4,r);this.g8=[s]},n.p8=function(){for(var t=0,n=this.g8;t<n.length;t++){n[t].j4.T4()}},n.A8=function(t){var n=this.T8.vC(t,.001);return n?n.LD(n.N_-1):t},n.s5=function(t){return!!this.T8.vC(t,.001)||this.m8.s5(t)},n.S8=function(t){return this.E8.QN(t,.001)},n.I8=function(t,n,i){for(var e=0,r=this.g8;e<r.length;e++){var s=r[e].j4,u=s.D4;if(void 0!==u&&n>=u)return!s.vy.zD().QN(u)}return n-t<i},n.Xs=function(){this.R8(),this.N8()},n.R8=function(){this.D8.Xs()},n.N8=function(){this.C8.Xs(),this.P8.forEach(function(t){return t.Xs()})},n.Bs=function(){this.Xs(),this.D8.Bs()},A(t,[{key:"P8",get:function(){return this.g8}},{key:"D8",get:function(){return this.m8}},{key:"C8",get:function(){return this.y8}},{key:"B8",get:function(){return this.P4}},{key:"qJ",get:function(){return this.m8.qJ}},{key:"N4",get:function(){var t=this.P4.N4;if(t)return t;if(this.g8.length>0){var n=this.g8[0].j4.N4;if(n&&this.g8.every(function(t){return t.j4.N4===n}))return n}}},{key:"T8",get:function(){if(0===this.g8.length)return $S.gC();for(var t=this.P4.X5.$D(this.P4.F5).zD(),n=new $S([0,1/0]),i=0,e=this.g8;i<e.length;i++){for(var r=e[i],s=r.j4.vy,u=r.j4.Y0,o=r.H4,a=0;a<u.length;a++)for(var c=u[a],h=c.E4.nC(c.I4),f=0;f<h.N_;f++)t.sC(h.OD(f),h.LD(f),!0,!0)&&(s=s.$D(h.fC(f)));n=n.YD(s).nC(o)}return n=n.$D(t)}},{key:"E8",get:function(){if(0===this.g8.length)return $S.gC();for(var t=this.P4.F5.zD(),n=new $S([0,1/0]),i=0,e=this.g8;i<e.length;i++){for(var r=e[i],s=r.j4.vy,u=r.j4.Y0,o=0;o<u.length;o++)for(var a=u[o],c=a.E4.nC(a.I4),h=0;h<c.N_;h++)t.sC(c.OD(h),c.LD(h),!0,!0)&&(s=s.$D(c.fC(h)));n=n.YD(s)}return n=n.$D(t)}}]),t}();var HM=function(t){function n(){return t.call(this,HO.mJ)||this}return S(n,t),n}(wu),zM=function(t){function n(){return t.call(this,HO._J)||this}return S(n,t),n}(wu),VM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Sh=void 0,e.m4=void 0,e.O8=new Wo,e.lL=YR,e.x8=!1,e.dL=HR,e.lV=new mD,e.Hi=n,e.L8=i,e}S(i,t);var e=i.prototype;return e.MX=function(){return this.m4?this.m4.MX():this.x8},e._V=function(t,n){fx.f$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.lV.jX(t,n),this.m4&&this.m4._V(t,n)},e.gV=function(t,n){fx.f$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.lV.QX(t,n),this.m4&&this.m4.gV(t,n)},e.M8=function(t){this.m4=t,this.m4.cL=this.dL,this.m4.sL=this.lL;for(var n,i=this.lV.ZX,e=0;e<i.N_;e++)this.m4._V(i.OD(e),i.LD(e));this.x8&&(fx.f$("LazyMediaBuffer","End of stream"),null==(n=this.m4)||n.hV());this.m4.js(cD.FX,this.qs),this.O8.Hu(t)},e.U8=function(t){return iu(this.O8.Uu,t)},e.Fz=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.U8(i));case 2:return e=r.sent,r.next=5,Rr.awrap(e.Fz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.mV=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.U8());case 2:return t=n.sent,n.next=5,Rr.awrap(t.mV());case 5:case"end":return n.stop()}},null,this,null,Ve)},e.Vz=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.U8(i));case 2:return e=r.sent,r.next=5,Rr.awrap(e.Vz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.Vc=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.U8(i));case 2:return e=r.sent,r.next=5,Rr.awrap(e.Vc(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.Jz=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.U8());case 2:return i=e.sent,e.next=5,Rr.awrap(i.Jz(t,n));case 5:case"end":return e.stop()}},null,this,null,Ve)},e.hV=function(){this.x8=!0,this.m4&&this.m4.hV()},e.RX=function(t){return!!this.m4&&this.m4.RX(t)},e.NX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.U8());case 2:return n=i.sent,i.next=5,Rr.awrap(n.NX(t));case 5:case"end":return i.stop()}},null,this,null,Ve)},e.Bd=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.Ks(),null==(t=this.m4)||t.Js(cD.FX,this.qs);case 2:case"end":return n.stop()}},null,this,null,Ve)},A(i,[{key:"Ul",get:function(){return this.Sh}},{key:"bV",get:function(){return this.Hi}},{key:"Jc",get:function(){if(!this.m4)throw new tf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.m4.Jc}},{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t,this.m4&&(this.m4.sL=t)}},{key:"vy",get:function(){return this.m4?this.m4.vy:$S.gC()}},{key:"pV",get:function(){return this.m4?this.m4.pV:this.lV.ZX}},{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t,this.m4&&(this.m4.cL=t)}}]),i}(lu),WM="LazyMediaSource",GM=function(){function t(t,n,i){this.X8=void 0,this.F8=void 0,this.H8=new Wo,this.rN=void 0,this.z8=!1,this.ea=NaN,this.vK=!1,this.V8=0,this.W8=1/0,this.G8=!1,this.q8=!1,this.eN=t,n&&(fx.f$(WM,"Created lazy media buffer for audio."),this.X8=new VM(jy.Ad,this)),i&&(fx.f$(WM,"Created lazy media buffer for video."),this.F8=new VM(jy.Td,this))}var n=t.prototype;return n.aW=function(t){this.ea=t,this.rN&&this.rN.aW(t)},n.hV=function(){this.vK=!0,this.rN&&this.rN.hV()},n.uV=function(){this.vK=!1,this.rN&&this.rN.uV()},n.fW=function(t,n,i,e){this.V8=t,this.W8=n,this.G8=Boolean(i),this.q8=Boolean(e),this.rN&&this.rN.fW(t,n,i,e)},n.RX=function(t){return!this.rN||this.rN.RX(t)},n.NX=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.RX(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.rN){r.next=19;break}return this.eN.gj(),r.next=6,Rr.awrap(this.eN.zc(t));case 6:e=r.sent,m(this.ea)||e.aW(this.ea),this.vK&&e.hV(),e.fW(this.V8,this.W8,this.G8,this.q8),fx.f$(WM,"The MediaSource has been loaded."),this.z8=!0,this.rN=e,null==(n=this.X8)||n.M8(this.rN.QV),null==(i=this.F8)||i.M8(this.rN.ZV),this.H8.Hu(e),this.eN.mj(),r.next=21;break;case 19:return r.next=21,Rr.awrap(this.rN.NX(t));case 21:case"end":return r.stop()}},null,this,null,Ve)},n.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rN){t.next=3;break}return t.next=3,Rr.awrap(this.rN.Bs());case 3:case"end":return t.stop()}},null,this,null,Ve)},A(t,[{key:"Jc",get:function(){return{us:jp.NE,vW:[],ON:[]}}},{key:"xm",get:function(){throw new v("Not implemented")}},{key:"QV",get:function(){return this.X8}},{key:"ZV",get:function(){return this.F8}},{key:"vy",get:function(){return this.rN?this.rN.vy:$S.gC()}},{key:"Yg",get:function(){return this.rN?this.rN.Yg:this.ea}},{key:"MX",get:function(){return!!this.rN&&this.rN.MX}},{key:"Ry",get:function(){return this.rN?this.rN.Ry:new $S([0,1/0])}}]),t}();function qM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=jM(i,"tag"),a=jM(null==e?"*":e,"range"),c=[],h=-1;for(;++h<a.length;)if(r=a[h].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];c.push(o[s])}else u.push(o[s]);o=u}return n?c:void 0}}qM(function(t,n){return"*"===n||t===n||fs(t,n+"-")},!0),qM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var YM=qM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function jM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var QM,ZM=function(t){function n(){return t.call(this,bf.Af)||this}return S(n,t),n}(wu),KM=function(t){function n(){return t.call(this,bf.pf)||this}return S(n,t),n}(wu),JM=16384,$M=71,tU=188;function nU(t){return null!==IP(xo(t),new zo)?QM.Y8:function(t){return function(t){if(t.length<2*tU)return-1;for(var n=w.min(1e3,t.length-2*tU),i=0;i<=n;i++)if(t[i]===$M&&t[i+tU]===$M)return i;return-1}(t)>=0}(t)?QM.j8:iU(t)?QM.Eg:QM.hd}function iU(t){var n=Bo(t,0,w.min(t.length,JM));return Qb.MA(xo(n))}!function(t){t[t.hd=0]="hd",t[t.Eg=1]="Eg",t[t.j8=2]="j8",t[t.Y8=3]="Y8"}(QM||(QM={}));var eU=function(){function t(t,n,i,e){this.Hi=void 0,this.m4=void 0,this.Q8=void 0,this.Z8=void 0,this.K8=void 0,this.Hi=t,this.m4=n,this.Z8=i,this.K8=e}var n=t.prototype;return n.J8=function(t){return this.m4===t},n.Vz=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Rr.awrap(this.m4.Vz(t.Xi,{t9:t.qJ.F_},n));case 3:this.Hi===jy.Td&&iU(t.Xi.Xi)&&this.K8.n9(t.Xi.Xi);case 4:case"end":return i.stop()}},null,this,null,Ve)},n.Fz=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if($s(n),fx.gT("HlsMediaBuffer","Got media data, appending to "+this.Hi+" MediaBuffer: "+Qx(t.W4.NJ)),i=t.Zy,e=t.Zy+t.Yg,r={i9:t.Zy,Yg:t.Yg,cp:t.cp,t9:t.qJ.F_},void 0===t.Xi){s.next=10;break}return s.next=9,Rr.awrap(this.m4.Fz(t.Xi,r,n));case 9:this.e9(t.Xi,t);case 10:this.r9(i,e);case 11:case"end":return s.stop()}},null,this,null,Ve)},n.e9=function(t,n){if(iU(t.Xi)){var i=n.Zy,e=i+n.Yg,r=n.cp;this.Z8.S4(t.Xi,i,r),this.Hi===jy.Td&&this.K8.S4(t.Xi,i,e,r)}},n.r9=function(t,n){for(var i=this.m4.vy,e=new $S([t,n]).nC(i),r=0;r<e.N_;r++)this.m4._V(e.OD(r),e.LD(r));for(var s=0;s<i.N_;s++)this.m4.gV(i.OD(s),i.LD(s))},n._V=function(t,n){this.m4._V(t,n)},n.gV=function(t,n){this.m4.gV(t,n)},A(t,[{key:"us",get:function(){return this.Hi}},{key:"vy",get:function(){return this.m4.vy}},{key:"pV",get:function(){return this.m4.pV}}]),t}(),rU=function(){function t(){this.s9=[],this.u9=Pr()}var n=t.prototype;return n.Y5=function(t){var n;return void 0!==(null==(n=this.u9.get(t))?void 0:n.cp)},n.j5=function(t){return this.a9(t).o9.Uu},n.J5=function(t){var n=this.u9.get(t);if(!n||!n.cp)throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n.cp},n.c9=function(t,n){var i=void 0!==n.o2?n:n.U2;return t.Py(this.J5(i.l2))},n.h9=function(t,n){return this.K5(t,n).Wk(t)},n.K5=function(t,n){var i=this.c9(t,n),e=jk.zb(n.Zy).Wk(i);if(e.Hk().Ok(Jk)){var r=w.round(e.Bk()/Kk.Bk());i=i.Py(Kk.Tb(r))}return i},n.f9=function(t,n,i,e,r){var s=this.a9(t);void 0===s.cp&&(s.v9.some(function(t){return t.B5===n})||(s.v9.push({B5:n,l9:i,d9:e.Lb(i.Cb),w9:r}),this._9(s)))},n._9=function(t){if(!t.cp&&this.g9(t)){var n=Gs(t.v9,sU);Hs(t.v9),t.cp=n.d9.Wk(n.l9),t.o9.Hu()}},n.g9=function(t){return this.s9.length>0&&this.s9.every(function(n){return t.v9.some(function(t){return t.B5===n})})},n.a9=function(t){if(this.u9.has(t))return this.u9.get(t);var n={cp:void 0,o9:new Wo,v9:[]};return this.u9.set(t,n),n},n.m9=function(t){var n=this;this.s9=t,this.u9.forEach(function(t){return n._9(t)})},n.Bs=function(){this.u9.forEach(function(t){return t.o9.Xs()}),this.u9.clear()},t}();function sU(t,n){return t.w9||n.w9?(i=t.l9,e=n.l9,r=i.Wk(e),i.qk()||e.qk()?r:(r.Lk(Jk)?r=r.Wk(Kk):r.Fk(Jk.Vk())&&(r=r.Py(Kk)),r)).xk(jk.$k):t.l9.xk(n.l9);var i,e,r}var uU=2500;var oU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).y9=void 0,o.me=void 0,o.k9=void 0,o.y9=e,o.me=r,o.k9=s,o}return S(n,t),n.prototype.pk=function(n){return this===n||um(this,n)&&t.prototype.pk.call(this,n)&&sm(this.Jy,n.Jy)},A(n,[{key:"CS",get:function(){return this.y9}},{key:"_i",get:function(){return this.me}},{key:"b9",get:function(){return this.k9}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=em(bk(t=this),{get schemeIDURI(){return t.CS},get value(){return t._i},get emsgID(){return t.b9}})),this.Kw}}]),n}(Rk);function aU(t,n){return t+" "+n}var cU,hU,fU=function(t){function n(n){var i;return(i=t.call(this)||this).yE=void 0,i.yE=n,i}S(n,t);var i=n.prototype;return i.S4=function(t,i,e){var r=Qb.xA(xo(t));if(r){var s=zb(r,$k.Zp);if(s.length){var u=n.p9(r,i,e);this.A9(s,u,e)}}},i.A9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.BA?r.PS.toNumber()/r.Cb+i:n+r.LS/r.Cb)+r.OS/r.Cb;"https://aomedia.org/emsg/ID3"===r.CS?this.T9(r,s):this.S9(r,s,u)}},i.S9=function(t,n,i){var e=aU(t.CS,t._i),r=this.E9(e);r||(r=this.I9(e),this.R9(r)),r.SE(new oU(n,i,t.CS,t._i,t.X_,t.xS))},i.T9=function(t,n){var i=DP(xo(t.xS));if(i){var e=aU(t.CS,t._i),r=this.E9(e);r||(r=this.N9(e),this.R9(r));for(var s=0,u=i.aG;s<u.length;s++){var o=u[s],a=new HP(n,o);nP(a,r.og.R_),r.SE(a)}}},n.p9=function(t,n,i){var e=Hb(t,$k.Kp);return e?Yt(e.jS,e.Cb)+i:n},i.I9=function(t){var n=this.yE.AE(kp.rA,"","","",void 0,hk.EMSG);return n.Z_=t,n.K_=km.Y_,n},i.N9=function(t){var n=this.yE.AE(kp.rA,"","","",void 0,hk.ID3);return n.Z_=t,n.K_=km.Y_,n},i.I_=function(){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.ZA.R_;n<i.length;n++)e=i[n],this.yE.EE(e);return r.next=3,Rr.awrap(t.prototype.I_.call(this));case 3:case"end":return r.stop()}},null,this,null,Ve)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.R9=function(t){return t.rg=ck.LOADED,this.T_(t),t},i.E9=function(t){for(var n=0,i=this.ZA.R_;n<i.length;n++){var e=i[n];if(e.Z_===t)return e}},n}(Fp));function vU(t){return"function"==typeof t.Su}function lU(t,n,i){if(!(i&&n.byte>=i)){var e=vU(t)?t.Su(n.byte):t[n.byte];return n.byte+=1,e}}function dU(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+lU(t,n);return e}(t,n,2)}!function(t){t[t.D9=0]="D9",t[t.C9=1]="C9",t[t.P9=2]="P9",t[t.B9=3]="B9",t[t.O9=4]="O9",t[t.x9=5]="x9"}(cU||(cU={})),function(t){t[t.L9=0]="L9",t[t.M9=1]="M9",t[t.U9=2]="U9",t[t.X9=3]="X9"}(hU||(hU={}));var wU,_U=function(){function t(){this.F9=0,this.H9=[],this.iE={}}var n=t.prototype;return n.z9=function(t){this.H9=this.H9.concat(t.H9),this.F9+=t.N_},n.V9=function(t,n,i){var e=this.F9,r=i-n;r>0&&(this.H9.push({W9:n,G9:i,q9:r,Y9:e,j9:t}),this.F9+=r)},n.Su=function(t){for(var n=0,i=this.H9;n<i.length;n++){var e=i[n];if(e.Y9<=t&&t<e.Y9+e.q9)return e.j9[t+e.W9-e.Y9]}},n.Q9=function(t,n){for(var i=n,e=0,r=this.H9;e<r.length;e++)for(var s=r[e],u=s.G9,o=s.W9;o<u;o+=1,i+=1)t[i]=s.j9[o];return i},n.Z9=function(){for(var t=new y(this.F9),n=0,i=0,e=this.H9;i<e.length;i++)for(var r=e[i],s=r.G9,u=r.W9;u<s;u+=1,n+=1)t[n]=r.j9[u];return t},n.Ou=function(n){for(var i=new t,e=0,r=this.H9;e<r.length;e++){var s=r[e];i.V9(s.j9,s.W9,s.G9)}return i.iE=n||Nr({},this.iE),i},A(t,[{key:"N_",get:function(){return this.F9},set:function(t){var n=this.H9,i=this.F9-t;if(!(t>=this.F9))if(this.F9=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.q9)return r.G9-=i,r.q9-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.q9}else n.length=0}},{key:"Xi",get:function(){for(var t=new Array(this.F9),n=0,i=0,e=this.H9;i<e.length;i++)for(var r=e[i],s=r.G9,u=r.W9;u<s;u+=1,n+=1)t[n]=r.j9[u];return t}}]),t}();function gU(t,n,i){return i===cU.D9?i:n!==hU.L9&&n!==hU.M9||i!==cU.C9&&i!==cU.P9?t?n===hU.U9?cU.O9:n===hU.X9?cU.B9:cU.D9:cU.x9:cU.P9}function mU(t,n,i,e){var r={byte:i},s=cU.C9,u=[],o=31&lU(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var c=lU(n,r,e),h=4&c,f=3&c;s=gU(Boolean(h),f,s);var v=lU(n,r,e),l=lU(n,r,e);u.push({KQ:t,mS:-1,K9:!a,J9:Boolean(h),us:f,sQ:s,t7:v,n7:l})}return u}function yU(t,n,i){var e=lU(t,n,i);if(!m(e))return String.fromCharCode(e)}function kU(t){var n=t.i7,i={byte:t.e7},e=t.r7,r=lU(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=dU(n,i);if(s===wU.s7||s===wU.u7){if(s===wU.u7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=yU(t,n);return e}(n,i,4))return;if(3===lU(n,i,e)){s===wU.s7&&(i.byte+=1);var u=t;return u.o7=i.byte,u}}}}function bU(t){return 4===t.a7}function pU(t){for(var n=t.filter(bU).map(kU).filter(X),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,mU(r.c7,r.i7,r.o7,r.r7))}return i}!function(t){t[t.s7=47]="s7",t[t.u7=49]="u7"}(wU||(wU={}));var AU="und";var TU,SU=[{ci:"Abkhaz",dp:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{ci:"Afar",dp:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{ci:"Afrikaans",dp:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{ci:"Akan",dp:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{ci:"Albanian",dp:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{ci:"Amharic",dp:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{ci:"Arabic",dp:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{ci:"Aragonese",dp:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{ci:"Armenian",dp:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{ci:"Assamese",dp:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{ci:"Avaric",dp:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{ci:"Avestan",dp:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{ci:"Aymara",dp:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{ci:"Azerbaijani",dp:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{ci:"Bambara",dp:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{ci:"Bashkir",dp:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{ci:"Basque",dp:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{ci:"Belarusian",dp:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{ci:"Bengali",dp:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{ci:"Bihari",dp:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{ci:"Bislama",dp:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{ci:"Bosnian",dp:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{ci:"Breton",dp:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{ci:"Bulgarian",dp:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{ci:"Burmese",dp:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{ci:"Catalan",dp:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{ci:"Chamorro",dp:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{ci:"Chechen",dp:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{ci:"Chichewa",dp:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{ci:"Chinese",dp:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{ci:"Chuvash",dp:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{ci:"Cornish",dp:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{ci:"Corsican",dp:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{ci:"Cree",dp:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{ci:"Croatian",dp:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{ci:"Czech",dp:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{ci:"Danish",dp:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{ci:"Divehi",dp:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{ci:"Dutch",dp:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{ci:"Dzongkha",dp:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{ci:"English",dp:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{ci:"Esperanto",dp:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{ci:"Estonian",dp:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{ci:"Ewe",dp:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{ci:"Faroese",dp:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{ci:"Fijian",dp:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{ci:"Finnish",dp:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{ci:"French",dp:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{ci:"Fula",dp:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{ci:"Galician",dp:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{ci:"Georgian",dp:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{ci:"German",dp:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{ci:"Greek",dp:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{ci:"Guaran\xed",dp:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{ci:"Gujarati",dp:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{ci:"Haitian",dp:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{ci:"Hausa",dp:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{ci:"Hebrew",dp:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{ci:"Herero",dp:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{ci:"Hindi",dp:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{ci:"Hiri Motu",dp:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{ci:"Hungarian",dp:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{ci:"Interlingua",dp:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{ci:"Indonesian",dp:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{ci:"Interlingue",dp:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{ci:"Irish",dp:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{ci:"Igbo",dp:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{ci:"Inupiaq",dp:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{ci:"Ido",dp:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{ci:"Icelandic",dp:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{ci:"Italian",dp:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{ci:"Inuktitut",dp:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{ci:"Japanese",dp:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{ci:"Javanese",dp:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{ci:"Kalaallisut",dp:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{ci:"Kannada",dp:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{ci:"Kanuri",dp:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{ci:"Kashmiri",dp:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{ci:"Kazakh",dp:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{ci:"Khmer",dp:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{ci:"Kikuyu",dp:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{ci:"Kinyarwanda",dp:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{ci:"Kyrgyz",dp:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{ci:"Komi",dp:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{ci:"Kongo",dp:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{ci:"Korean",dp:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{ci:"Kurdish",dp:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{ci:"Kwanyama",dp:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{ci:"Latin",dp:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{ci:"Luxembourgish",dp:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{ci:"Ganda",dp:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{ci:"Limburgish",dp:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{ci:"Lingala",dp:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{ci:"Lao",dp:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{ci:"Lithuanian",dp:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{ci:"Luba-Katanga",dp:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{ci:"Latvian",dp:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{ci:"Manx",dp:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{ci:"Macedonian",dp:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{ci:"Malagasy",dp:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{ci:"Malay",dp:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{ci:"Malayalam",dp:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{ci:"Maltese",dp:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{ci:"M\u0101ori",dp:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{ci:"Marathi",dp:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{ci:"Marshallese",dp:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{ci:"Mongolian",dp:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{ci:"Nauru",dp:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{ci:"Navajo",dp:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{ci:"Northern Ndebele",dp:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{ci:"Nepali",dp:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{ci:"Ndonga",dp:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{ci:"Norwegian Bokm\xe5l",dp:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{ci:"Norwegian Nynorsk",dp:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{ci:"Norwegian",dp:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{ci:"Nuosu",dp:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{ci:"Southern Ndebele",dp:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{ci:"Occitan",dp:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{ci:"Ojibwe",dp:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{ci:"Old Church Slavonic",dp:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{ci:"Oromo",dp:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{ci:"Oriya",dp:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{ci:"Ossetian",dp:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{ci:"Panjabi",dp:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{ci:"P\u0101li",dp:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{ci:"Persian",dp:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{ci:"Polish",dp:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{ci:"Pashto",dp:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{ci:"Portuguese",dp:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{ci:"Quechua",dp:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{ci:"Romansh",dp:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{ci:"Kirundi",dp:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{ci:"Romanian",dp:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{ci:"Russian",dp:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{ci:"Sanskrit",dp:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{ci:"Sardinian",dp:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{ci:"Sindhi",dp:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{ci:"Northern Sami",dp:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{ci:"Samoan",dp:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{ci:"Sango",dp:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{ci:"Serbian",dp:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{ci:"Gaelic",dp:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{ci:"Shona",dp:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{ci:"Sinhala",dp:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{ci:"Slovak",dp:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{ci:"Slovene",dp:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{ci:"Somali",dp:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{ci:"Southern Sotho",dp:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{ci:"Spanish",dp:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{ci:"Sundanese",dp:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{ci:"Swahili",dp:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{ci:"Swati",dp:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{ci:"Swedish",dp:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{ci:"Tamil",dp:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{ci:"Telugu",dp:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{ci:"Tajik",dp:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{ci:"Thai",dp:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{ci:"Tigrinya",dp:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{ci:"Tibetan Standard",dp:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{ci:"Turkmen",dp:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{ci:"Tagalog",dp:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{ci:"Tswana",dp:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{ci:"Tonga",dp:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{ci:"Turkish",dp:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{ci:"Tsonga",dp:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{ci:"Tatar",dp:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{ci:"Twi",dp:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{ci:"Tahitian",dp:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{ci:"Uyghur",dp:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{ci:"Ukrainian",dp:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{ci:"Urdu",dp:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{ci:"Uzbek",dp:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{ci:"Venda",dp:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{ci:"Vietnamese",dp:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{ci:"Volap\xfck",dp:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{ci:"Walloon",dp:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{ci:"Welsh",dp:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{ci:"Wolof",dp:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{ci:"Western Frisian",dp:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{ci:"Xhosa",dp:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{ci:"Yiddish",dp:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{ci:"Yoruba",dp:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{ci:"Zhuang",dp:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{ci:"Zulu",dp:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],EU=[128,64,32,16,8,4,2,1];function IU(t,n){var i=w.floor(n.bit/8),e=0==((vU(t)?t.Su(i):t[i])&EU[n.bit%8])?0:1;return n.bit+=1,e}function RU(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+IU(t,n);return e}function NU(t,n){for(var i=0;0===IU(t,n)&&i<32;)i+=1;return RU(t,n,i)+w.pow(2,i)-1}function DU(t,n){var i=NU(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function CU(t,n){var i,e=[],r={byte:1};do{e.push(BU(t,n,r)),i=n.Su(r.byte)}while(void 0!==i&&128!==i);return e}function PU(t,n){var i,e=0;do{e+=i=lU(t,n)}while(255===i);return e}function BU(t,n,i){var e=PU(n,i),r=PU(n,i),s=i.byte,u=s+r;return i.byte=u,{c7:t,a7:e,h7:r,e7:s,r7:u,i7:n}}!function(t){t[t.f7=1]="f7",t[t.v7=2]="v7",t[t.l7=3]="l7",t[t.d7=4]="d7",t[t.w7=5]="w7",t[t._7=6]="_7",t[t.g7=7]="g7",t[t.m7=8]="m7",t[t.y7=9]="y7"}(TU||(TU={}));var OU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function xU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+DU(t,n)+256)%256;e=0===r?e:r}}var LU=function(){function t(t){this.k7=void 0,this.b7=[],this.p7=0,this.k7=t}var n=t.prototype;return n.A7=function(){for(var t=this.b7,n=w.max(0,this.p7+t.length-2),i=this.k7,e=i.N_,r=0;n<e;n+=1){var s=i.Su(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.p7=n-t.length},n.T7=function(t){for(var n=this.b7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Su=function(t){if(!(t>this.k7.N_))return t>this.p7&&this.A7(),this.k7.Su(this.T7(t))},t}();var MU=24;function UU(t){var n=t.xH,i=new _U;return i.V9(Lo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new LU(t),a=0,c=0,h=0,f=0,v=o.Su(1),l={bit:32};if(NU(o,l),100===v||110===v||122===v||144===v){var d=NU(o,l);if(3===d&&(n=IU(o,l)),NU(o,l),NU(o,l),IU(o,l),1===IU(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===IU(o,l)&&xU(o,l,_<6?16:64)}var g=NU(o,l),m=NU(o,l);if(0===m)NU(o,l);else if(1===m){IU(o,l),DU(o,l),DU(o,l);for(var y=NU(o,l),k=0;k<y;k+=1)DU(o,l)}NU(o,l),IU(o,l);var b=NU(o,l),p=NU(o,l),A=IU(o,l);if(0===A&&IU(o,l),IU(o,l),1===IU(o,l)&&(a=NU(o,l),c=NU(o,l),h=NU(o,l),f=NU(o,l)),1===IU(o,l)){if(1===IU(o,l)){var T=RU(o,l,8);if(255===T)i=RU(o,l,16),e=RU(o,l,16);else{var S=OU[T];S&&(i=S[0],e=S[1])}}1===IU(o,l)&&IU(o,l),1===IU(o,l)&&(RU(o,l,3),IU(o,l),1===IU(o,l)&&(RU(o,l,8),RU(o,l,8),RU(o,l,8))),1===IU(o,l)&&(NU(o,l),NU(o,l)),1===(r=IU(o,l))&&(s=RU(o,l,32),u=RU(o,l,32),IU(o,l))}return{width:w.floor(16*(b+1)-2*a-2*c),height:w.floor((2-A)*(p+1)*16-2*h-2*f),aS:i,cS:e,S7:!!r&&u/(2*s),E7:n,I7:g}}(i).S7}function XU(t){var n=UU(t)||MU;return t.R7/n}function FU(t){return t.us===$k.Hp}var HU,zU=65536;function VU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.R7,s=ht.fromNumber(t.DS||0),u=e.Py(jk.Zk(s,r));return{N7:e.Bk(),D7:e,C7:u,P7:e}}(t,0,i,e),o=jk.Kk(t.Yg||0,i.R7),a=t.OA||0,c=!(a&zU)&&(a>>24&3)!==HU.SAMPLE_DEPENDS_ON_OTHERS,h=xo(r),f=new zo;f.Du<h.byteLength;){var v=co(h,f);if((31&uo(h,f,1))===TU._7){var l,d=new _U;d.V9(r,f.Du-1,f.Du+v-1);var w=CU(u.C7,d);(l=s=s||[]).push.apply(l,pU(w))}f.Cu(v-1)}return Nr({},u,{Yg:o.Bk(),B7:o,O7:u.C7.Bk(),x7:u.N7,L7:c,M7:s,U7:!1,X7:!1})}function WU(t){return t.us===$k.wp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(HU||(HU={}));var GU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Rk),qU=function(){function t(t,n){this.cZ=t,this.ZQ=n}return t.prototype.pk=function(t){return this.cZ===t.cZ&&this.ZQ===t.ZQ},t}(),YU=function(){function t(t,n){this.F7="",this.iU=t,this.H7=n}var n=t.prototype;return n.z7=function(t){this.F7+=t},n.V7=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.z7(i)}},A(t,[{key:"mZ",get:function(){return this.F7}},{key:"lZ",get:function(){return[this]}},{key:"_Z",get:function(){return this.iU}},{key:"kZ",get:function(){return this.H7}},{key:"yZ",get:function(){return new qU(this.kZ.cZ,this.kZ.ZQ+this.mZ.length-1)}}]),t}(),jU=function(){function t(){}var n=t.prototype;return n.W7=function(t){return t.tp(this)},n.G7=function(t){var n,i,e=this,r=t.map(function(t,n){return t.tp(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.q7=function(t,n){return new QU(t,n).Y7()},t}(),QU=function(){function t(t,n){this.j7=[],this.Q7=null,this.cZ=t,this.Z7=n}var n=t.prototype;return n.Y7=function(){if(this.K7)return[];for(var t=0;t<this.cZ.length;t++)this.J7(t);return this.ttt(),this.j7},n.ntt=function(t){this.Q7=new YU(lO,new qU(this.Z7,t))},n.ttt=function(){this.Q7&&(this.j7.push(this.Q7),this.Q7=null)},n.J7=function(t){var n=this.cZ[t];ZU(n)?this.Q7&&this.ttt():(this.Q7||this.ntt(t),this.Q7.z7(n))},A(t,[{key:"K7",get:function(){return this.cZ.every(ZU)}}]),t}();function ZU(t){return null==t}var KU=function(){function t(){}return t.itt=function(t,n,i){if(!(n>=i)){var e=zs(t,function(t,n){return new QU(t.map(function(t){return t?t.ett():null}),n).Y7()});if(0!==e.length)return new GU(n,i,e)}},t}(),JU="black",$U="white",tX=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),nX=function(){function t(){this.rtt=[],this.stt=0,this.utt=void 0;for(var t=0;t<gO;t++)this.rtt.push(null);this.utt=!1}var n=t.prototype;return n.ott=function(t){for(var n=0;n<gO;n++)t&&(this.rtt[n]=t.rtt[n])},n.pk=function(t){for(var n=0;n<gO;n++)if(this.rtt[n]!==t.rtt[n])return!1;return!0},n.att=function(){for(var t=0;t<gO;t++)if(null!==this.rtt[t])return!1;return!0},n.ctt=function(t){this.stt!==t&&(this.stt=t),this.stt<0?this.stt=0:this.stt>gO&&(this.stt=gO-1)},n.htt=function(t){var n=this.stt+t;this.ctt(n)},n.ftt=function(){this.htt(-1),this.rtt[this.stt]=null},n.z7=function(t){t>=144&&this.ftt();var n,i=tX[n=t]?String.fromCharCode(tX[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.stt>=gO||(32===Number(t)?(this.rtt[this.stt]=this.utt?"</i>":"<i>",this.utt=!this.utt):this.rtt[this.stt]=t,this.htt(1))},n.ltt=function(t){for(var n=t;n<gO;n++)this.rtt[n]=null},n.Ru=function(){this.ltt(0),this.stt=0},n.dtt=function(){this.ltt(this.stt)},n.wtt=function(t,n){for(var i=this.rtt,e=null,r=0;r<gO;r++){var s=i[r];null===s?e=null:(e||(e={_tt:r,gtt:t,Ck:0,vT:1,rtt:[[]]},n.push(e)),e.rtt[0].push(s),e.Ck++)}},n.tp=function(t,n){return t.q7(this.rtt,n)},t}();var iX,eX=function(){function t(t,n){this.mtt=void 0,this.ytt=void 0,this.ktt=void 0,this.btt=void 0,this.ptt=void 0,this.Att=void 0,this.Ttt=void 0,this.Stt=void 0,this.Ett=void 0,this.mtt=new Array(rX+1);for(var i=0;i<=rX;i++)this.mtt[i]=new nX;this.ytt=1,this.ktt=0,this.btt=t,this.ptt=n,this.Att=!1,this.Ttt=!1,this.Stt=$U,this.Ett=JU,this.I_()}var n=t.prototype;return n.Itt=function(t,n){var i="CC"+(this.btt<<1|this.ptt+1);if(t>=n)return null;var e=(new jU).G7(this.mtt.slice(1));return 0===e.length?null:{Qy:new GU(t,n,e),Ml:i,Rtt:this.btt<<1|this.ptt+1}},n.I_=function(){this.Ntt(),this.ytt=1},n.Dtt=function(){return this.ytt},n.Ctt=function(t){this.ytt=t},n.ctt=function(t){this.mtt[this.ytt].ctt(t)},n.htt=function(t){this.mtt[this.ytt].htt(t)},n.Ptt=function(){return this.ktt},n.Btt=function(t){this.ktt=t},n.z7=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case iX.Ott:i=void 0!==uX[n]?uX[n]:String.fromCharCode(n);break;case iX.xtt:i=oX[n];break;case iX.Ltt:this.Mtt(),i=aX[n];break;case iX.Utt:this.Mtt(),i=cX[n]}i&&this.mtt[this.ytt].addParsedChar(i)}},n.Mtt=function(){this.mtt[this.ytt].ftt()},n.Xtt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.mtt[t+e]=this.mtt[n+e];else for(var r=0;r<i;r++)this.mtt[t+r]=this.mtt[n+r]},n.Ftt=function(t,n){for(var i=0;i<=n;i++)this.mtt[t+i]=new nX},n.Ntt=function(){this.Ftt(0,rX)},n.Htt=function(){this.ytt=this.ktt>0?this.ktt:0,this.Ntt()},n.ztt=function(t){this.Att=t},n.Vtt=function(t){this.Ttt=t},n.Wtt=function(t){this.Stt=t},n.Gtt=function(t){this.Ett=t},t}(),rX=15;!function(t){t[t.Ott=0]="Ott",t[t.xtt=1]="xtt",t[t.Ltt=2]="Ltt",t[t.Utt=3]="Utt"}(iX||(iX={}));var sX,uX={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},oX={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},aX={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},cX={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},hX=function(){function t(t,n){this.Hi=void 0,this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.Ktt=void 0,this.Jtt=void 0,this.Hi=sX.yD,this.qtt=new eX(t,n),this.Ytt=new eX(t,n),this.jtt=new eX(t,n),this.Qtt=this.Ytt,this.Ztt=0,this.Ktt=void 0,this.Jtt=!1}var n=t.prototype;return n.I_=function(){this.Jtt=!0,this.Ztt=0,this.Hi=sX.yD,this.Qtt=this.Ytt,this.Ktt=void 0,this.Ytt.I_(),this.jtt.I_(),this.qtt.I_()},n.$tt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.tnt=function(t,n){var i=this.$tt(t,n),e=(30&n)>>1,r=$U,s=!1;e<7?r=dX[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Hi!==sX.Kn){var o=this.Qtt;if(this.Hi===sX.nnt&&i!==o.Dtt()){var a=1+o.Dtt()-o.Ptt(),c=1+i-o.Ptt();o.Xtt(c,a,o.Ptt()),o.Ftt(0,c-1),o.Ftt(i+1,rX-i)}o.Ctt(i);var h=wO[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{QQ:dO[i].QQ,jQ:dO[i].jQ,ZQ:dO[i].ZQ,cZ:t}}(h,n);o.ctt(f.ZQ),this.Qtt.ztt(u),this.Qtt.Vtt(s),this.Qtt.Wtt(r),this.Qtt.Gtt(JU)}}},n.int=function(t,n){this.Qtt.ztt(!1),this.Qtt.Vtt(!1),this.Qtt.Wtt($U);var i=this.ent(t,iX.Ott," ".charCodeAt(0)),e=$U,r=!1,s=1==(1&n);return"white_italics"===(e=dX[(14&n)>>1])&&(e="white",r=!0),this.Qtt.ztt(s),this.Qtt.Vtt(r),this.Qtt.Wtt(e),i},n.ent=function(t,n,i){if(this.Qtt.z7(n,i),this.Hi===sX.rnt||this.Hi===sX.nnt){var e=this.snt(this.Qtt,this.Ztt,t);return this.Ztt=t,e}return null},n.snt=function(t,n,i){return this.Jtt?null:t.Itt(n,i)},n.unt=function(t,n){var i=JU;0==(7&t)&&(i=lX[(14&n)>>1]),this.Qtt.Gtt(i)},n.ont=function(t){var n=fX,i=t.ant,e=t.cnt,r=null;switch(i){case n.RCL:this.hnt();break;case n.BS:this.fnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.vnt(2,e);break;case n.RU3:r=this.vnt(3,e);break;case n.RU4:r=this.vnt(4,e);break;case n.FON:r=this.lnt(e);break;case n.RDC:this.dnt(e);break;case n.TR:this.wnt();break;case n.RTD:this._nt();break;case n.EDM:r=this.gnt(e);break;case n.CR:r=this.mnt(e);break;case n.ENM:this.ynt();break;case n.EOC:r=this.knt(e)}return r},n.mnt=function(t){var n=this.Qtt;if(this.Hi!==sX.nnt)return null;var i=this.snt(n,this.Ztt,t),e=n.Dtt()-n.Ptt()+1;return n.Xtt(e-1,e,n.Ptt()),n.Ftt(0,e-1),n.Ftt(n.Dtt(),rX-n.Dtt()),this.Ztt=t,i},n.vnt=function(t,n){this.Qtt=this.Ytt;var i=this.Qtt,e=null;return this.Hi!==sX.nnt&&this.Hi!==sX.Kn&&(e=this.snt(i,this.Ztt,n),this.Ytt.Htt(),this.jtt.Htt(),this.Jtt=!1,i.Ctt(rX)),this.Hi=sX.nnt,i.Btt(t),e},n.lnt=function(t){return this.ent(t,iX.Ott," ".charCodeAt(0))},n.gnt=function(t){var n=this.Ytt,i=null;return this.Hi!==sX.Kn&&(i=this.snt(n,this.Ztt,t)),n.Ntt(),this.Jtt=!1,i},n.dnt=function(t){this.Hi=sX.rnt,this.Qtt=this.Ytt,this.Qtt.Btt(0),this.Ztt=t},n.ynt=function(){this.jtt.Ntt()},n.knt=function(t){var n=null;this.Hi!==sX.Kn&&(n=this.snt(this.Ytt,this.Ztt,t));var i=this.jtt;return this.jtt=this.Ytt,this.Ytt=i,this.hnt(),this.Ztt=t,n},n.hnt=function(){this.Hi=sX.bnt,this.Qtt=this.jtt,this.Qtt.Btt(0)},n.fnt=function(){this.Qtt.Mtt()},n.wnt=function(){this.qtt.I_(),this.Jtt=!1,this._nt()},n._nt=function(){this.Qtt=this.qtt,this.Hi=sX.Kn},n.pnt=function(t,n,i){return this.Qtt.z7(iX.Ott,n),this.ent(t,iX.Ott,i)},n.Ant=function(t,n,i){var e=1&n?iX.Utt:iX.Ltt;return this.ent(t,e,i)},n.Tnt=function(t){var n=t.Snt,i=t.ant,e=t.cnt;if(this.Ktt===(n<<8|i))return this.Ktt=void 0,null;if(this.Ktt=n<<8|i,this.Ent(n,i))this.tnt(n,i);else{if(this.Int(n,i))return this.int(e,i);if(this.Rnt(n,i))this.unt(n,i);else{if(this.Nnt(n,i))return this.ent(e,iX.xtt,i);if(this.Dnt(n,i))return this.Ant(e,n,i);if(this.Cnt(n,i))return this.ont(t);this.isTabOffset(n)&&this.Qtt.htt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Cnt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Ent=function(t,n){return 16==(240&t)&&64==(192&n)},n.Int=function(t,n){return 17==(247&t)&&32==(240&n)},n.Rnt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Nnt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Dnt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Pnt=function(t){return 16==(112&t)},t}(),fX={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.yD=0]="yD",t[t.bnt=1]="bnt",t[t.rnt=2]="rnt",t[t.nnt=3]="nnt",t[t.Kn=4]="Kn"}(sX||(sX={}));var vX,lX=["black","green","blue","cyan","red","yellow","magenta","black"],dX=["white","green","blue","cyan","red","yellow","magenta","white_italics"],wX=function(){function t(t,n,i,e,r){this.Bnt=void 0,this.Att=void 0,this.Ttt=void 0,this.Ett=void 0,this.Stt=void 0,this.Bnt=t,this.Att=n,this.Ttt=i,this.Ett=e,this.Stt=r}var n=t.prototype;return n.ett=function(){return this.Bnt},n.Ont=function(){return this.Att},n.xnt=function(){return this.Ttt},n.Lnt=function(){return this.Ett},n.Mnt=function(){return this.Stt},t}(),_X=function(){function t(t){this.Unt=void 0,this.ED=void 0,this.Xnt=void 0,this.Fnt=void 0,this.Hnt=void 0,this.znt=void 0,this.Vnt=void 0,this.Wnt=void 0,this.Gnt=void 0,this.qnt=void 0,this.lk=void 0,this.ytt=void 0,this.Ynt=void 0,this.Ttt=void 0,this.Att=void 0,this.Stt=void 0,this.Ett=void 0,this.Unt=t,this.ED=!1,this.Xnt=!1,this.Fnt=0,this.Hnt=0,this.znt=0,this.Vnt=0,this.Wnt=0,this.Gnt=vX.jnt,this.qnt=[],this.lk=0,this.ytt=0,this.Ynt=0,this.Ttt=!1,this.Att=!1,this.Stt=$U,this.Ett=JU,this.Qnt()}var n=t.prototype;return n.Znt=function(t,n,i,e,r,s,u){this.ED=t,this.Hnt=n,this.Fnt=i,this.znt=e,this.Xnt=r,this.Vnt=s,this.Wnt=u},n.Qnt=function(){this.qnt=[];for(var t=0;t<mX;t++)this.qnt.push(this.Knt())},n.Knt=function(){for(var t=[],n=0;n<gX;n++)t.push(null);return t},n.Jnt=function(t){this.$nt()&&(this.qnt[this.ytt][this.Ynt]=new wX(t,this.Att,this.Ttt,this.Ett,this.Stt),this.Ynt++)},n.tit=function(){this.$nt()&&(this.Ynt<=0&&this.ytt<=0||(this.Ynt<=0?(this.Ynt=this.Wnt-1,this.ytt--):this.Ynt--,this.qnt[this.ytt][this.Ynt]=null))},n.$nt=function(){var t=this.ytt<this.Vnt&&this.ytt>=0,n=this.Ynt<this.Wnt&&this.Ynt>=0;return t&&n},n.nit=function(){return this.ED},n.iit=function(t){for(var n=0,i=t;i<mX;i++,n++)this.qnt[n]=this.qnt[i];for(var e=0;e<t;e++,n++)this.qnt[n]=this.Knt()},n.eit=function(){if(this.ytt+1>=this.Vnt)return this.iit(1),void(this.Ynt=0);this.ytt++,this.Ynt=0},n.rit=function(){this.qnt[this.ytt]=this.Knt(),this.Ynt=0},n.Itt=function(t,n){if(this.lk>=t)return null;var i=KU.itt(this.qnt,this.lk,t);return i?(this.sit(t),{Qy:i,Ml:"svc"+n,Rtt:n}):null},n.uit=function(t,n){this.ytt=t,this.Ynt=n},n.oit=function(t){this.Ett=t},n.ait=function(t){this.Stt=t},n.cit=function(t){this.Att=t},n.hit=function(t){this.Ttt=t},n.fit=function(){this.ytt=0,this.Ynt=0,this.Att=!1,this.Ttt=!1,this.Stt=$U,this.Ett=JU},n.vit=function(t){this.Gnt=t},n.dit=function(){this.ED=!0},n.Zm=function(){this.ED=!1},n.wit=function(){this.ED=!this.ED},n.sit=function(t){this.lk=t},t}();!function(t){t[t._it=0]="_it",t[t.git=1]="git",t[t.jnt=2]="jnt",t[t.mit=3]="mit"}(vX||(vX={}));var gX=42,mX=15,yX=function(){function t(t){this.yit=void 0,this.kit=void 0,this.pit=void 0,this.yit=t,this.kit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.pit=void 0}var n=t.prototype;return n.Ait=function(t){var n=t.Tit(),i=n._i,e=n.cnt;i===TX&&(i=i<<16|t.Tit()._i);return i>=0&&i<=31?this.Sit(i,e):i>=128&&i<=159?this.Eit(t,i,e):(i>=4096&&i<=4127?this.Iit(t,255&i):i>=4224&&i<=4255?this.Rit(t,255&i):i>=32&&i<=127?this.Nit(i):i>=160&&i<=255?this.Dit(i):i>=4128&&i<=4223?this.Cit(255&i):i>=4256&&i<=4351&&this.Pit(255&i),null)},n.Nit=function(t){this.pit&&(127!==t?this.pit.Jnt(String.fromCharCode(t)):this.pit.Jnt("\u266a"))},n.Dit=function(t){this.pit&&this.pit.Jnt(String.fromCharCode(t))},n.Cit=function(t){if(this.pit)if(void 0!==SX[t]){var n=SX[t];this.pit.Jnt(n)}else this.pit.Jnt("_")},n.Pit=function(t){this.pit&&(160===t?this.pit.Jnt("[CC]"):this.pit.Jnt("_"))},n.Sit=function(t,n){if(!this.pit)return null;var i=this.pit,e=null;switch(t){case kX:i.tit();break;case pX:i.nit()&&(e=i.Itt(n,this.yit)),i.eit();break;case AX:i.nit()&&(e=i.Itt(n,this.yit)),i.rit();break;case bX:i.nit()&&(e=i.Itt(n,this.yit)),i.Qnt(),i.uit(0,0)}return e},n.Eit=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Bit(e)}else{if(136===n){var r=t.Tit()._i;return this.Oit(r,i)}if(137===n){var s=t.Tit()._i;this.xit(s,i)}else{if(138===n){var u=t.Tit()._i;return this.Lit(u,i)}if(139===n){var o=t.Tit()._i;return this.Mit(o,i)}if(140===n){var a=t.Tit()._i;return this.Uit(a,i)}if(143===n)return this.I_(i);if(144===n)this.Xit(t);else if(145===n)this.Fit(t);else if(146===n)this.uit(t);else if(151===n)this.Hit(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Znt(t,c,i)}}}return null},n.Iit=function(t,n){n>=8&&n<=15?t.gA(1):n>=16&&n<=23?t.gA(2):n>=24&&n<=31&&t.gA(3)},n.Rit=function(t,n){n>=128&&n<=135?t.gA(4):n>=136&&n<=143&&t.gA(5)},n.Bit=function(t){this.kit[t]&&(this.pit=this.kit[t])},n.zit=Rr.mark(function t(n){var i;return Rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.kit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Oit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()&&(i=u.Itt(n,this.yit)),u.Qnt()}return i},n.xit=function(t,n){for(var i=0,e=this.zit(t);i<e.length;i++){var r=e[i],s=this.kit[r];s.nit()||s.sit(n),s.dit()}},n.Lit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()&&(i=u.Itt(n,this.yit)),u.Zm()}return i},n.Mit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()?i=u.Itt(n,this.yit):u.sit(n),u.wit()}return i},n.Uit=function(t,n){for(var i=null,e=0,r=this.zit(t);e<r.length;e++){var s=r[e],u=this.kit[s];u.nit()&&(i=u.Itt(n,this.yit)),this.kit[s]=void 0}return i},n.I_=function(t){var n=this.Uit(255,t);return this.Ru(),n},n.Ru=function(){this.pit=void 0,this.kit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Xit=function(t){t.gA(1);var n=t.Tit()._i;if(this.pit){var i=(128&n)>0,e=(64&n)>0;this.pit.hit(i),this.pit.cit(e)}},n.Fit=function(t){var n=t.Tit()._i,i=t.Tit()._i;if(t.gA(1),this.pit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Vit(s,r,e),h=this.Vit(a,o,u);this.pit.ait(c),this.pit.oit(h)}},n.uit=function(t){var n=t.Tit()._i,i=t.Tit()._i;if(this.pit){var e=15&n,r=63&i;this.pit.uit(e,r)}},n.Hit=function(t){t.gA(1),t.gA(1);var n=t.Tit()._i;if(t.gA(1),this.pit){var i=3&n;this.pit.vit(i)}},n.Znt=function(t,n,i){var e=void 0!==this.kit[n];if(!e){var r=new _X(n);r.sit(i),this.kit[n]=r}var s=t.Tit()._i,u=t.Tit()._i,o=t.Tit()._i,a=t.Tit()._i,c=t.Tit()._i,h=t.Tit()._i,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&c);e&&0===(7&h)||this.kit[n].fit(),this.kit[n].Znt(f,v,d,_,l,w,g),this.pit=this.kit[n]},n.Vit=function(t,n,i){var e={0:0,1:0,2:1,3:1};return EX[e[t]<<2|e[n]<<1|e[i]]},t}(),kX=8,bX=12,pX=13,AX=14,TX=16,SX={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},EX=["black","blue","green","cyan","red","magenta","yellow","white"],IX=function(){function t(){this.Wit=void 0,this.Git=void 0,this.qit=void 0,this.Wit=[],this.Git=null,this.qit=0}var n=t.prototype;return n.Yit=function(t){if(t.us===hU.X9){var n=63&t._i;return this.qit=2*n-1,void(this.Git=[])}if(this.Git&&(this.qit>0&&(this.Git.push(t),this.qit--),0===this.qit)){var i=new RX(this.Git);this.Wit.push(i),this.Git=null,this.qit=0}},n.jit=function(){return this.Wit},n.Qit=function(){this.Wit=[]},n.Ru=function(){this.Wit=[],this.Git=[],this.qit=0},t}(),RX=function(){function t(t){this.Zit=void 0,this.Kit=void 0,this.Zit=0,this.Kit=t}var i=t.prototype;return i.Jit=function(){return this.Zit<this.Kit.length},i.$it=function(){return this.Zit},i.Tit=function(){if(!this.Jit())throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Kit[this.Zit++]},i.gA=function(t){if(this.Zit+t>this.Kit.length)throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Zit+=t},t}(),NX=function(){function t(){this.tet=void 0,this.net=void 0,this.iet=void 0,this.eet=void 0,this.ret=void 0,this.uet=void 0,this.oet=void 0,this.aet=void 0,this.cet=!1,this.tet=[],this.net=[],this.iet=new IX,this.eet=0,this.ret=Br({CC1:new hX(0,0),CC2:new hX(0,1),CC3:new hX(1,0),CC4:new hX(1,1)}),this.uet=0,this.oet=0,this.aet=Pr(),this.I_()}var i=t.prototype;return i.Ru=function(){this.eet=0,this.tet=[],this.net=[],this.iet.Ru(),this.I_(),this.aet.forEach(function(t){t.Ru()})},i.I_=function(){this.uet=0,this.oet=0,this.ret.forEach(function(t){t.I_()})},i.H6=function(t,n){if(t.J9){var i=t.t7,e=t.n7,r=t.us;r===hU.L9||r===hU.M9?this.tet.push({cnt:n,us:r,Snt:i,ant:e,het:this.tet.length}):this.cet&&(this.net.push({cnt:n,us:r,_i:i,het:this.net.length}),this.net.push({cnt:n,us:hU.U9,_i:e,het:this.net.length}))}},i.rB=function(){var t=[];Es(this.tet,function(t,n){return t.cnt-n.cnt||t.het-n.het}),Es(this.net,function(t,n){return t.cnt-n.cnt||t.het-n.het});for(var n=0,i=this.tet;n<i.length;n++){var e=i[n],r=this.fet(e);r&&t.push(r)}for(var s=0,u=this.net;s<u.length;s++){var o=u[s];this.iet.Yit(o)}for(var a=this.iet.jit(),c=0;c<a.length;c++){var h=a[c],f=this.vet(h);t.push.apply(t,f)}return this.iet.Qit(),this.tet=[],this.net=[],t},i.fet=function(t){var n=t.us;if(hX.Pnt(t.Snt)){var i=t.Snt>>3&1;0===n?this.uet=i:this.oet=i}var e="CC"+(n<<1|(n?this.oet:this.uet)+1),r=this.ret.get(e);return 255===t.Snt&&255===t.ant||!t.Snt&&!t.ant||!this.let(t.Snt)||!this.let(t.ant)?(++this.eet>=45&&this.I_(),null):(this.eet=0,t.Snt&=127,t.ant&=127,t.Snt||t.ant?hX.Pnt(t.Snt)?r.Tnt(t):r.pnt(t.cnt,t.Snt,t.ant):null)},i.vet=function(t){var i=[];try{for(;t.Jit();){var e=t.Tit()._i,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Tit()._i;if(0!==r){if(!this.aet.has(r)){var u=new yX(r);this.aet.set(r,u)}for(var o=this.aet.get(r),a=t.$it();t.$it()-a<s;){var c=o.Ait(t);c&&i.push(c)}}}}catch(t){if(!(t instanceof tf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.let=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),DX=function(t){function n(n,i){var e;return(e=t.call(this,"det")||this).Rtt=n,e.Qy=i,e}return S(n,t),n}(wu),CX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.wet=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this._et(e,e.KQ.Bk()+n)}this.rB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).met=void 0,n.met=new NX,n}S(n,t);var i=n.prototype;return i._et=function(t,n){this.met.H6(t,n)},i.rB=function(){for(var t=this.met.rB(),n=0;n<t.length;n++){var i=t[n];this.Ys(new DX(i.Rtt,i.Qy))}},i.I_=function(){this.met.Ru()},i.Bd=function(){this.Ks(),this.met.Ru()},n}(lu)),PX=function(t){function n(n){var i;return(i=t.call(this)||this).yet=void 0,i.ket=void 0,i.bet=NaN,i.pet=NaN,i.Aet=void 0,i.yE=void 0,i.Tet=function(t){i.Eet({Iet:t.Rtt,Ret:""}).SE(t.Qy)},i.yE=n,i.Aet=Pr(),i.yet=new CX,i.yet.js("det",i.Tet),i}S(n,t);var i=n.prototype;return i.Net=function(t){return this.Aet.get(t)},i.Eet=function(t){var n=this.Aet.get(t.Iet);return n||(n=this.Det(t),this.Aet.set(t.Iet,n)),n},i.Det=function(t){var n,i=function(t){if(t!==AU)for(var n=t.toLowerCase(),i=0;i<SU.length;i++){var e=SU[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.Ret),e=i?i.ci:"";t.Cet&&(e="easy "+e),n=t.z_?"CC "+t.z_:e?"CC "+e:"CC"+t.Iet;var r=this.yE.AE(kp.uE,n,n,e,!1,hk.CEA608);return this.T_(r),r},i.n9=function(t){var n=Qb.xA(xo(t));this.ket=function(t){for(var n=0;n<t.ZA.length;n++){var i=t.ZA[n],e={cT:(c=t.ZA[n]).RA.cT,R7:c.sT.RA.Cb},r=i.sT.gT.kT.pT.TT,s=Os(r,function(t){return t.us===$k.Rp});if(!s){var u=Os(r.filter(function(t){return t.us===$k.Fp}),function(t){var n;return(null==(n=t.eS)?void 0:n.us)===$k.Rp});u&&(s=u.eS)}if(s){var o=LD(xo(s.ZT.Xi),new zo),a=s.JT;return Nr({},e,{cT:i.RA.cT,ZT:Ho(s.ZT.Xi),Ck:s.Ck,vT:s.vT,cS:a&&a.cS,aS:a&&a.aS,Pet:o.CH,Bet:o.PH,t9:o.BH,xH:o.xH[0],LH:o.LH[0]})}}var c}(n.filter(WU)[0])},i.S4=function(t,n,i,e){if(this.ket&&(m(this.bet)||!Mt(this.bet,n,1e-5))){m(this.pet)||Mt(n,this.pet,1e-5)||this.yet.I_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.iE.M7&&n.push.apply(n,e.iE.M7),delete e.iE.M7}for(var r=0;r<n.length;r+=1)n[r].mS=r;return n.sort(_O)}(function(t,n,i,e,r){for(var s=[],u=n.filter(FU),o=e(i),a=0;a<u.length;a++){var c,h=u[a],f=Os(h.ZA,function(t){return t.RA.cT===i.cT});if(f)for(var v=f.RA.vS||0,l=f.RA.lS||0,d=f.AS?f.AS.AS:ht.ZERO,w=h.gS+(null!=(c=f.RA.TS)?c:ht.ZERO).toNumber(),_=0,g=f.pS;_<g.length;_++)for(var m=g[_],y=w+(m.gS||0),k=0,b=m.NS;k<b.length;k++){var p=b[k],A=p.Nu||l,T=new _U;T.V9(t,y,y+A);var S=jk.Zk(d,i.R7);T.iE=r(p,h,i,S,Xo(t,y,y+A)),s.push(T),y+=A,d=d.add(p.Yg||v||o)}}return s}(t,Qb.xA(xo(t)),this.ket,XU,VU));this.yet.wet(r,e),this.bet=n,this.pet=i}},i.I_=function(){var n=this;return this.yet.I_(),this.Aet.forEach(function(t){return n.S_(t)}),this.Aet.clear(),this.ket=void 0,this.bet=NaN,this.pet=NaN,t.prototype.I_.call(this)},i.Bd=function(){return this.yet.Js("det",this.Tet),this.yet.Bd(),t.prototype.Bd.call(this)},n}(Fp);function BX(t){if(t.us===Fx.j0&&void 0!==t.IJ){var n=t.IJ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.IJ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var OX="LLHLSPlayer",xX=[ey.Fg,ey.Hg,ey.zg,ey.Vg,ey.l_],LX=[bf.yf,bf.If,bf.Nf,bf.hf],MX=50,UX=3e4,XX=function(t){function e(e,r,s,u,o,a){var c;return(c=t.call(this)||this).eN=void 0,c.kE=void 0,c.vN=void 0,c.hN=void 0,c.Oet=void 0,c.xet=void 0,c.Let=void 0,c.Met=void 0,c.Rm=void 0,c.Nm=void 0,c.Dm=void 0,c.Uet=Pr(),c.Xet=void 0,c.Fet=void 0,c.cN=void 0,c.Z8=void 0,c.K8=void 0,c.Het=!1,c.bE=new Zs,c.zet=void 0,c.X0=void 0,c.rN=void 0,c.z6=void 0,c.Vet=void 0,c.Wet=new Zs,c.Get=void 0,c.U0=void 0,c.qet=void 0,c.Yet=void 0,c.jet=void 0,c.Qet=void 0,c.Zet=void 0,c.Ket=[],c.$V=void 0,c.tW=void 0,c.Jet=void 0,c.$et=void 0,c.trt=void 0,c.W5=void 0,c.y8=void 0,c.nrt=new Zs,c.irt=void 0,c.Kq=new Zs,c.Zq=void 0,c.ert=-1,c.rrt=void 0,c.urt=void 0,c.ort=void 0,c.art=void 0,c.crt=void 0,c.hrt=void 0,c.frt=!0,c.vrt=0,c.lrt=!1,c.SC=1,c.oN=GS.yD,c.sN=void 0,c.uN=void 0,c.nW=$S.gC(),c.drt=[],c.wrt=void 0,c._rt=!1,c.grt=void 0,c.mrt=void 0,c.yrt=!1,c.krt=void 0,c.brt=void 0,c.lN=new LS,c.handleContentProtectionErrorEvent=function(t){c.sN=Yy(t.errorObject),c.uN=t.errorObject,c.qs(t)},c.handleBufferingErrorEvent=function(t){c.wN(new tf(n.ErrorCode.MEDIA_LOAD_ERROR,t.wu.message,t.wu))},c.prt=function(){c.Art();var t=c.Yg;t!==c.grt&&(c.grt=t,c.Ys(new fy(c.grt)))},c.Trt=function(){c.jg&&c.Ys(new dy(c.qg))},c.Srt=function(){c.Ys(new sy(c.qg))},c.Ert=function(){c.Ys(new uy(c.qg))},c.mN=function(){void 0!==c.brt&&i.qn(c.brt),c.Ys(new uA(c.qg))},c.Irt=function(){c.Ys(new vD(c.qg))},c.OE=function(){c.Ys(new by(c.qg,c.rg))},c.MG=function(){var t=c.KJ;Fs(c.drt,t)&&Fs(t,c.drt)||(c.Ys(new vM),c.drt=t),c.Ys(new ly(c.qg,c.ly))},c.Rrt=function(){ou(c._0())},c.sW=function(){c.Ys(new _y(c.qg))},c.gN=function(){c.Ys(new gy(c.qg))},c.Nrt=function(){c.Ys(new my(c.qg,c.im))},c.Drt=function(){c.eN.$g?c.Ys(new sA(c.qg)):(c.brt=i.Yn(function(){c.krt=void 0,ou(c.Crt())},uU),c.Ys(new sA(c.qg)))},c.Prt=function(t){Js(t)||Ep(t)||Ip(t)||(c.Brt(),ou(c.Ort()),c.Ys(new Ex(t)))},c.z0=function(){c.Art()},c.xrt=function(t){ou(c.Lrt(t.qJ))},c.Mrt=J(function(t){var n=[c.z6,c.irt,c.Zq].filter(X);c.Kq=new Zs,c.Zq=c.ej(n,t,c.Kq.zs).catch(c.Prt)},MX),c.Urt=function(t){if(!Js(t)){var i=t instanceof tf?t:new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);c.wN(i)}},c.onTextTrackChange=function(t){if(c.qet){var n=t.t_,i=Os(c.qet.L2,function(t){return n===c.Uet.get(t.F_)});i&&(n.K_===km.Y_||n.K_===km.j_?(ou(c.Xrt(i)),c.Uet.forEach(function(t){t!==n&&(t.K_=km.q_)})):c.Qet&&c.Qet===i&&ou(c.Frt(c.Yet,c.jet,void 0)))}},c.retryOfflineRenditionsCallback=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(c.Hrt===t||c.t$===t||c.i$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Rr.awrap(c.U0.a4(t,n));case 4:t.pJ.P3=-1/0;case 5:case"end":return i.stop()}},null,null,null,Ve)},c.zrt=function(){c.Vrt()},c.Wrt=function(){c.Grt()},c.qrt=function(t){if(t.qJ.RJ){var n=c.U0.g$.G3(t.qJ);if(n&&!n.XH){c.U0.d4(n,t.XH),c.Xet.b$();var i=c.qet;if(i){var e=void 0!==c.Yet&&!Xs(i.y$,c.Yet),r=void 0!==c.jet&&!Xs(i.k$,c.jet);(e||r)&&c.Frt(e?void 0:c.Yet,r?void 0:c.jet,c.Qet).catch(Z)}}}},c.DC=s,c.K4=u,c.Yrt=o,c.t4=a,c.eN=e,c.kE=new dx(r,c.DC),c.vN=new Sx(c.DC.tL),c.Let=new Ix(c.eN),c.Met=new Ox(c.DC),c.Rm=new Qy,c.Nm=new Qy,c.Xet=new lx(Zt(c),c.Rm,c.Nm),c.Fet=new bp,c.cN=new zp(c.eN,c.kE),c.Z8=new fU(c.eN),c.K8=new PX(c.eN),c.Dm=new BS([c.Fet,c.cN.ZA,c.Z8.ZA,c.K8.ZA]),c.hN=new CS(c.kE),c.eN.CN=c.hN,c.Oet=new HX(Zt(c),c.eN),c.xet=new aA(c.Oet,!0),c.jrt(),c}S(e,t);var r=e.prototype;return r.Qrt=function(t){return Vs(t,function(t){return t.UR})},r.Crt=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.Zrt());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Rr.awrap(this.Krt(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Qrt(t))){e.next=14;break}return e.next=13,Rr.awrap(this.JJ(i,!0));case 13:this.vN.h0(i.UR);case 14:case"end":return e.stop()}},null,this,null,Ve)},r.Art=function(){var t=zX([this.Yet,this.jet].filter(X));0!==t.N_&&(this.rN&&this.rN.MX&&this.Jrt&&(t=new $S([t.OD(0),this.rN.Yg])),this.nW=t,this.Z8.mE(t.OD(0)),this.K8.mE(t.OD(0)))},r.Vm=function(){return!1},r.Jm=function(){return iE},r.Zm=function(){fx.gT(OX,"Hiding the player."),this.eN.Zm()},r.Xm=function(){fx.gT(OX,"Pausing the player."),this.eN.Xm()},r.Um=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.eN.Um(),this.Het){n.next=4;break}return n.next=4,Rr.awrap(this.zc());case 4:return n.next=6,Rr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,Ve)},r.$rt=function(){this.sN=void 0,this.uN=void 0},r.wN=function(t){this.sN||(ou(this.I_()),this.sN=Yy(t),this.uN=t,this.Ys(new py(t)))},r.Qm=function(){fx.gT(OX,"Showing the player."),this.eN.Qm()},r.Wm=function(){throw new v("Not implemented")},r.Gm=function(){throw new v("Not implemented")},r.oy=function(){},r.zm=function(t,n,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(fx.gT(OX,"Setting the player source to "+t.src+"."),this.$rt(),!this.zet||Km(this.zet)){r.next=6;break}return r.next=5,Rr.awrap(this.I_());case 5:$s(e);case 6:if(t.src&&!Km(t)){r.next=8;break}return r.abrupt("return");case 8:this.hN.HR(t.contentProtection),this.X0=t,this.js(HO.kJ,this.handleBufferingErrorEvent),this.U0=new oM(this.kE,this.t4,i.Pr(t.src)),this.U0.js("W0",this.z0),this.U0.js("Y3",this.xrt),this.Get=new Hx(t,this.U0,this.eN),this.Dm.ZR(this.Get.Lm),this.y8=this.Yrt.mK(),this.W5=new rU,n.textTracks&&this.UN(n.textTracks),Yp(this.Dm),this.tst();case 21:case"end":return r.stop()}},null,this,null,Ve)},r.zc=function(){return this.z6?this.z6:(this.z6=this.Dw(this.bE.zs).catch(this.Urt),this.z6)},r.Dw=function(t){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(fx.gT(OX,"Loading the player."),this.U0.w4){h.next=13;break}return h.prev=2,h.next=5,Rr.awrap(this.U0.n4(t));case 5:this.nst(),h.next=13;break;case 8:throw h.prev=8,h.t0=h.catch(2),tu(h.t0),this.Sy=!1,new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+h.t0.message,h.t0);case 13:if(this.Zet=this.U0.g$.m$,this.Zet.length){h.next=16;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return h.next=18,Rr.awrap(this.ist(this.Zet));case 18:if(0!==(e=h.sent).length){h.next=21;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return h.next=23,Rr.awrap(this.Krt(e));case 23:(r=h.sent).length>0&&(e=r),fx.gT(OX,"Selecting initial active variant stream."),s=WX(e,null==(i=this.X0)?void 0:i.abr,this.DC),(u=qX(s.y$))&&fx.gT(OX,"Detected initial audio rendition."),(o=qX(s.k$))&&fx.gT(OX,"Detected initial video rendition."),(a=VX(s.L2))&&fx.gT(OX,"Detected initial subtitle rendition."),a||(c=VX(s.M2))&&fx.gT(OX,"Detected initial closed caption rendition."),this.rst(s),this.Xet._$(),this.sst(s,c),this.Frt(u,o,a).catch(Z),this.Het=!0;case 39:case"end":return h.stop()}},null,this,[[2,8]],Ve)},r.nst=function(){this.yrt||(this.yrt=!0,this.Oet.ust())},r.UN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.cN.pE(i)}},r.sst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=BX(e);void 0!==r&&n.push({Iet:r,Ret:e.V_||"",z_:e.ci})}return n}(t.M2),e=0;e<i.length;e++){var r=i[e];this.K8.Eet(r)}if(void 0!==n){var s=BX(n);this.K8.Net(s).K_=km.j_}},r.tst=function(){this.Wet.Xs(),this.Wet=new Zs,this.Vet=this.ost(this.Vet,this.Wet.zs).catch(this.Urt)},r.ost=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.oN,!t){e.next=5;break}return e.next=4,Rr.awrap(t);case 4:$s(n);case 5:if(i!==GS.yD&&this.U0){e.next=7;break}return e.abrupt("return");case 7:if($s(n),this.U0.w4){e.next=19;break}return e.prev=9,e.next=12,Rr.awrap(this.U0.n4(n));case 12:this.nst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),tu(e.t0),e.abrupt("return");case 19:if(i!==GS.rA){e.next=21;break}return e.abrupt("return");case 21:$s(n),this.zc().catch(this.Urt);case 23:case"end":return e.stop()}},null,this,[[9,15]],Ve)},r.$J=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.ast(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Zet=t},r.ast=function(t){var n=this.g$;return!!n&&Xs(n.m$,t)},r.cst=function(t){if(this.qet)return Os(this.qet.A$,function(n){return n===t})},r.rst=function(t){if(fx.gT(OX,"Setting active variant stream."),this.qet!==t){var n;if((null==(n=this.qet)?void 0:n.A1)!==(null==t?void 0:t.A1)){if(this.qet)for(var i=0,e=this.qet.L2;i<e.length;i++){var r=e[i];this.EE(r)}if(t)for(var s=0,u=t.L2;s<u.length;s++){var o=u[s];this.hst(o)}}this.qet=t,this.Ys(new HM)}},r.hst=function(t){var n=this.eN.AE(kp.iA,void 0,t.ci,t.V_,t.AJ);this.Fet.T_(n),this.Uet.set(t.F_,n),n.js(Wg.f_,this.onTextTrackChange)},r.EE=function(t){var n=this.Uet.get(t.F_);n&&(n.Js(Wg.f_,this.onTextTrackChange),this.Fet.S_(n),this.Uet.delete(t.F_),this.eN.EE(n))},r.Zrt=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Zet)?t:this.g$.m$).length||this.Zet){r.next=4;break}return fx.gT(OX,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Zet){r.next=7;break}return fx.gT(OX,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Rr.awrap(this.ist(n));case 9:if((i=r.sent).length){r.next=13;break}return fx.v$(OX,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=YX(i)).length){r.next=22;break}if(!this.lrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return fx.v$(OX,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.vrt++,r.next=21,Rr.awrap(this.fst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,Ve)},r._0=function(){var t,n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.Zrt());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.eN,o=void 0,a=void 0,o=u.qg,a=u.vy.vC(o),n=a?a.LD(0)-o:0,s.next=8,Rr.awrap(this.Krt(t));case 8:return i=s.sent,s.next=11,Rr.awrap(this.Met._0(t,this.qet,n,i));case 11:if(e=s.sent,r=!!this.qet&&e.UR<this.qet.UR,!(!!r||this.vst(e,t,n))){s.next=17;break}return s.next=17,Rr.awrap(this.JJ(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,Ve)},r.vst=function(t,n,e){var r,s;if(t===this.jJ)return!1;if(t===this.Qrt(n))return!0;(!this.krt||this.krt.QJ.UR>t.UR)&&(this.krt={QJ:t,N7:i.Je()});var u=i.Je()-this.krt.N7,o=null!=(r=null==(s=this.i$)?void 0:s.pJ.v0)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.fst=function(t){var n,i,e,r,s,u=this;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.lrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.jet?Os(e.k$,function(t){return GO(t,u.jet)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Rr.awrap(this.a4(r));case 11:r.pJ.P3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.vrt=0,o.next=24,Rr.awrap(this.lst());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.vrt),UX),o.next=29,Rr.awrap(cu(s));case 29:return this.lrt=!1,o.next=32,Rr.awrap(this._0());case 32:case"end":return o.stop()}},null,this,[[5,15]],Ve)},r.ist=function(t){var n,i=this;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(qs(t,function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.XH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.XH.UH,n.t1){n.next=7;break}return n.next=6,Rr.awrap(i.Let.LX('audio/mp4; codecs="'+t.XH.UH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.XH.MH,n.t2){n.next=14;break}return n.next=13,Rr.awrap(i.Let.LX('video/mp4; codecs="'+t.XH.MH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,Ve)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.XH)?void 0:n.MH})&&(n=n.filter(function(t){return!t.XH||t.XH.MH})),n.some(function(t){var n;return null==(n=t.XH)?void 0:n.UH})&&(n=n.filter(function(t){return!t.XH||t.XH.UH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,Ve)},r.Krt=function(t){var n=this;return qs(t,function(t){var i,e,r,s,u=[qX(t.y$),qX(t.k$),VX(t.L2),VX(t.M2)].filter(X);return i=u,e=function(t){return n.dst(t)},Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Rr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,Ve)})},r.dst=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.pJ.Y0.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.pJ.Y0[0]).NJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.NJ,e=i.Q0?zx(i.Q0.OD,i.Q0.N_):void 0,r.prev=7,r.next=10,Rr.awrap(this.t4.wst(i._i,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],Ve)},r.JJ=function(t,n){var i,e,r,s=this;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Het){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.ast(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.qet){u.next=9;break}return fx.gT(OX,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Yet?Os(t.y$,function(t){return GO(t,s.Yet)}):void 0,e=this.jet?Os(t.k$,function(t){return GO(t,s.jet)}):void 0,r=this.Qet?Os(t.L2,function(t){return GO(t,s.Qet)}):void 0,this.rst(t),this.krt=void 0,u.next=16,Rr.awrap(this.Frt(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,Ve)},r.n$=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Het){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.qet){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.cst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return fx.gT(OX,"Switching audio rendition"),i.next=12,Rr.awrap(this.Frt(n,this.jet,this.Qet,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,Ve)},r.e$=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Het){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.qet){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.cst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return fx.gT(OX,"Switching video rendition"),i.next=12,Rr.awrap(this.Frt(this.Yet,n,this.Qet,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,Ve)},r.Xrt=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Het){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.qet){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.cst(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return fx.gT(OX,"Switching subtitle rendition"),i.next=12,Rr.awrap(this.Frt(this.Yet,this.jet,n));case 12:case"end":return i.stop()}},null,this,null,Ve)},r.Lrt=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lrt){e.next=2;break}return e.abrupt("return");case 2:if(t.us===Fx.Td){e.next=7;break}return e.next=5,Rr.awrap(this._st(t,n));case 5:e.next=17;break;case 7:if(0!==(null==(i=this.Zet)?void 0:i.length)){e.next=15;break}if(this.jet===t){e.next=11;break}return e.next=11,Rr.awrap(this.Frt(this.Yet,t,this.Qet));case 11:return e.next=13,Rr.awrap(this._st(t,n));case 13:e.next=17;break;case 15:return e.next=17,Rr.awrap(this._0());case 17:case"end":return e.stop()}},null,this,null,Ve)},r.a4=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this.U0.a4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),tu(i.t0),!Ep(i.t0)&&!Ip(i.t0)){i.next=11;break}return i.next=11,Rr.awrap(this.Lrt(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],Ve)},r._st=function(t,n){var i=this;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xs(this.Ket,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Ket.push(t),e.prev=3,e.next=6,Rr.awrap(rM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,UX));case 6:if(e.prev=6,Ms(this.Ket,t),t.pJ.P3!==-1/0){e.next=11;break}return e.next=11,Rr.awrap(this.lst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],Ve)},r.Frt=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Yet===t&&this.jet===n&&this.Qet===i?Ve.resolve():void 0===t&&void 0===n?Ve.reject(new v("Trying to buffer no media renditions.")):(this.Yet=t,this.jet=n,this.Qet=i,this.Art(),this.Ys(new zM),this.Kq.Xs(),this.Kq=new Zs,this.nrt.Xs(),this.nrt=new Zs,this.irt=this.gst([this.irt,this.Zq].filter(X),t,n,i,e,r,s,this.nrt.zs).catch(this.Prt),this.irt)},r.gst=function(t,n,i,e,r,s,u,o){var a,c,h,f,v=this;return Rr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 2:return this.Brt(),l.next=5,Rr.awrap(this.Ort());case 5:return a=[],s&&this.rN&&this.rN.QV&&a.push(this.rN.QV.Vc(0,1/0)),u&&this.rN&&this.rN.ZV&&a.push(this.rN.ZV.Vc(0,1/0)),l.next=10,Rr.awrap(Ve.all(a));case 10:return $s(o),l.next=13,Rr.awrap(this.mst(n,i,o));case 13:return this.yst(n,i,r),this.kst(e,r),$s(o),c=n&&i&&qO(n,i),h=[i,c?void 0:n,e].filter(X),l.prev=18,l.next=21,Rr.awrap(Ve.all(h.filter(function(t){return!t.pJ.D3}).map(function(t){var n;return null==(n=v.U0)?void 0:n.c4(t,o)})));case 21:l.next=26;break;case 23:l.prev=23,l.t0=l.catch(18),tu(l.t0);case 26:$s(o),this.hW(),this.Art(),void 0!==this.wrt?this.Mrt(this.wrt):!this._rt&&h.every(function(t){return!t.pJ.d2})?(f=zX(h),this.Mrt(f.WD(1/0))):this.bst.length>0&&this.pst();case 30:case"end":return l.stop()}},null,this,[[18,23]],Ve)},r.mst=function(t,n,i){var e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.rN){h.next=7;break}if(s=void 0!==this.rN.QV,u=void 0!==this.rN.ZV,e!==s||r!==u){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,Rr.awrap(this.Ast(t,n,this.qet));case 9:for(o=h.sent,$s(i),a=0,c=this.bst;a<c.length;a++)c[a].P8.forEach(function(t){return t.Xs()});if(this.eN.gj(),h.prev=13,!this.rN){h.next=17;break}return h.next=17,Rr.awrap(this.eN.I_());case 17:return h.next=19,Rr.awrap(this.Tst(o,e,r));case 19:this.rN=h.sent;case 20:return h.prev=20,this.eN.mj(),h.finish(20);case 23:case"end":return h.stop()}},null,this,[[13,,20,23]],Ve)},r.Ast=function(t,n,i){var e,r,s,u,o,a,c,h,f,v,l,d;return Rr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.XH,a=[],o&&o.UH&&(c='audio/mp4; codecs="'+o.UH+'"',fx.gT(OX,"Configuring MediaSource for initial audio rendition with codec: "+c+"."),a.push(c)),o&&o.MH&&(h='video/mp4; codecs="'+o.MH+'"',fx.gT(OX,"Configuring MediaSource for initial video rendition with codec: "+h+"."),a.push(h)),0!==a.length){w.next=7;break}return fx.v$(OX,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.pJ.Y0[0])?void 0:r.e2)?e:[],v=null!=(s=null==t?void 0:null==(u=t.pJ.Y0[0])?void 0:u.e2)?s:[],l=this.U0.g$,w.next=12,Rr.awrap(aL(this.X0.contentProtection,a,l.q3.concat(v).concat(f),this.kE));case 12:return d=w.sent,w.abrupt("return",{us:jp.NE,vW:a.map(function(t){return{Ul:t}}),ON:d});case 14:case"end":return w.stop()}},null,this,null,Ve)},r.Tst=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Rr.awrap(this.eN.zc(t));case 3:e=r.sent,r.next=7;break;case 6:e=new GM(this.eN,n,i);case 7:return this.rN=e,this.hW(),this.Vrt(),this.Grt(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,Ve)},r.hW=function(){var t=this.rN;if(t&&m(t.Yg)){var n,i,e,r=null!=(n=null==(i=this.Yet)?void 0:i.pJ.Yg)?n:null==(e=this.jet)?void 0:e.pJ.Yg;void 0!==r&&r>0&&t.aW(r)}this.Art()},r.Vrt=function(){var t=this.rN;t&&(t.ZV&&(t.ZV.sL=this.DC.kL),t.QV&&(t.QV.sL=this.DC.kL))},r.Grt=function(){var t=this.rN;t&&(t.ZV&&(t.ZV.cL=this.DC.cL),t.QV&&(t.QV.cL=this.DC.cL))},r.yst=function(t,n,i){if(!this.rN)throw new v("Invalid state");this.rN.QV?this.$V&&this.$V.J8(this.rN.QV)||(this.$V=new eU(jy.Ad,this.rN.QV,this.Z8,this.K8)):this.$V=void 0,this.rN.ZV?this.tW&&this.tW.J8(this.rN.ZV)||(this.tW=new eU(jy.Td,this.rN.ZV,this.Z8,this.K8)):this.tW=void 0;var e,r,s,u,o,a,c,h,f,l,d,w,_,g,m=t&&n&&qO(t,n);if(this.tW&&n){var y=m&&this.$V?[this.tW,this.$V]:[this.tW];this.$et?this.$et.qJ!==n&&(i&&(this.$et.Xs(),this.$et.B8.Ru()),this.$et.i5(n)):(this.$et=(e=n,r=y,this.eN,s=this.U0,u=this.kE,o=this.t4,a=this.K4,c=this.W5,h=this.y8,f=new OM,l=new NM(jy.Td,e,s,f,u,o,a),d=r.map(function(t){return t.us}),w=h.Sst(e,f,c,d),(_=new FM(l,f,w)).k8(r),_),this.$et.D8.js(SM.W6,this.Rrt),this.$et.C8.js(BM.n8,this.qrt)),this.$et.k8(y)}else{var k;null==(k=this.$et)||k.Bs(),this.$et=void 0}this.$V&&t&&!m?(this.Jet?this.Jet.qJ!==t&&(i&&(this.Jet.Xs(),this.Jet.B8.Ru()),this.Jet.i5(t)):(this.Jet=function(t,n,i,e,r,s,u,o,a){var c=new OM,h=new NM(jy.Ad,t,e,c,r,s,u),f=a.Sst(t,c,o,[n.us]),v=new FM(h,c,f);return v.k8([n]),v}(t,this.$V,this.eN,this.U0,this.kE,this.t4,this.K4,this.W5,this.y8),this.Jet.C8.js(BM.n8,this.qrt)),this.Jet.k8([this.$V])):(null==(g=this.Jet)||g.Bs(),this.Jet=void 0);this.Est()},r.kst=function(t,n){this.trt&&(this.trt.D8.qJ===t?n&&(this.trt.Xs(),this.trt.B8.Ru()):(this.trt.Bs(),this.trt=void 0));if(!this.trt&&t){var i=this.Uet.get(t.F_);i.K_=km.j_,this.trt=function(t,n,i,e,r,s,u){var o=new LM(n,u),a=new OM,c=new NM(jy.Kn,t,i,a,e,r,s),h=new XM(t,a,u,jy.Kn),f=new FM(c,a,h);return f.b8(o),f}(t,i,this.U0,this.kE,this.t4,this.K4,this.W5)}},r.Est=function(){var t=[this.$V,this.tW].filter(X).map(function(t){return t.us});this.W5.m9(t)},r.ej=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 2:return $s(i),e.next=5,Rr.awrap(this.Ort());case 5:$s(i),this.wrt=void 0,this.mrt=void 0,this._rt=!0,this.eN.Bu(n),this.Het&&this.bst.length>0&&(this.Ist(this.eN.qg),this.pst());case 11:case"end":return e.stop()}},null,this,null,Ve)},r.Ist=function(t){for(var n=0,i=this.bst;n<i.length;n++){var e=i[n];e.s5(t)||(e.R8(),e.B8.M5()),e.S8(t)||(e.N8(),e.B8.U5())}},r.Brt=function(){for(var t=0,n=this.bst;t<n.length;t++){n[t].Xs()}},r.Ort=function(){return Ve.all([this.Rst(),this.Nst(),this.Dst()])},r.pst=function(){this.Cst(),this.Pst(),this.Bst()},r.lst=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Het&&this.bst.length>0)){t.next=6;break}return this.bst.forEach(function(t){return t.R8()}),t.next=4,Rr.awrap(this.Rst());case 4:this.Cst(),this.bst.forEach(function(t){return t.D8.f5()});case 6:case"end":return t.stop()}},null,this,null,Ve)},r.Cst=function(){var t=this;if(!this.art){var n=function(){t.art=void 0};this.rrt=new Zs,this.art=this.Ost(this.rrt.zs).catch(this.Prt).then(n,n)}},r.Rst=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.rrt)||t.Xs(),n=this.art,this.art=void 0,!n){i.next=6;break}return i.next=6,Rr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},r.Ost=function(t){var n,i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:$s(t),n=this.bst;case 2:for(i=[],e=this.eN.qg,r=0;r<n.length;r++)s=n[r],u=s.D8,o=s.A8(e),u.M4?i.push(u.X4()):s.I8(e,o,this.DC.kL)&&((a=u.u5(o))?(h=a[0],f=a[1],u.g5(h,f,s.N4)):((c=u.qJ.pJ.Y0).length&&c[0].Zy>o&&(this.qg=this.Ry.end(this.Ry.length-1)),u.d5(),u.c5(o)),i.push(u.X4()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.D8.E5})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Rr.awrap(this.eN.uu(bf.Uf,t));case 11:v.next=15;break;case 13:return v.next=15,Rr.awrap(iu(Ve.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,Ve)},r.Pst=function(){var t=this;if(!this.crt){var n=function(){t.crt=void 0};this.urt=new Zs,this.crt=this.xst(this.urt.zs).catch(this.Prt).then(n,n)}},r.Nst=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.urt)||t.Xs(),n=this.crt,this.crt=void 0,!n){i.next=6;break}return i.next=6,Rr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},r.xst=function(t){var n,i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:$s(t),n=this.bst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.D8,(u=r.C8).M4?i.push(u.X4()):(o=s.e5())?"p5"===o.us?(u.c8(o),i.push(u.X4())):"c2"===o.us&&(u.o8(o),i.push(u.X4())):i.push(s.v5());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.D8.E5})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Rr.awrap(this.eN.uu(bf.Uf,t));case 10:a.next=14;break;case 12:return a.next=14,Rr.awrap(iu(Ve.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,Ve)},r.Bst=function(){var t=this;if(!this.hrt){this.ort=new Zs;var n=function(){t.hrt=void 0};this.hrt=this.Lst(this.ort.zs).catch(this.Prt).then(n,n)}},r.Dst=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.ort)||t.Xs(),n=this.hrt,this.hrt=void 0,!n){i.next=6;break}return i.next=6,Rr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},r.Lst=function(t){var n,i,e,r,s,u,o,a,c,h,f,v,l,d=this;return Rr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.bst).forEach(function(t){return t.p8()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.C8,a=0,c=u.P8;a<c.length;a++)h=c[a],f=h.Q4?i:e,h.M4?f.push(h.X4()):h.F4(this.eN.qg)||((v=o.v8(h.us))?"p5"===v.us&&v.l2===this.ert?(h.G4(v),f.push(h.X4())):"w8"===v.us&&v.l2===this.ert&&(h.Vz(v),f.push(h.X4())):r.push(o.l8(h.us)));if(0!==i.length){w.next=15;break}if(!((l=zs(n,function(t){return t.P8.filter(function(t){return t.Q4}).map(function(n){return t.C8.v8(n.us)})})).length>0&&l.every(function(t){return void 0!==t&&"w8"===t.us&&t.l2!==d.ert}))){w.next=15;break}return w.next=12,Rr.awrap(function(){var i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=Ws(i=l,function(t){return t.l2}).l2,!i.every(function(t){return t.l2===e})){v.next=20;break}return r=Vs(i,function(t){return t.Zy}).Zy,v.next=7,Rr.awrap(d.Mst(i));case 7:if(s=v.sent,!d.rN.RX(s)){v.next=15;break}return fx.f$("Discontinuity","Seamless switch from",d.rN.Jc,"to",s),v.next=12,Rr.awrap(d.rN.NX(s));case 12:fx.f$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Rr.awrap(d.Ust(r,s,t));case 17:d.ert=i[0].l2,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,c=o.P8;a<c.length;a++)for(h=c[a],f=o.C8.v8(h.us);f&&f.l2!==e;)o.C8.V4(f),f=o.C8.v8(h.us);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,Ve)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.P8.length>0&&t.P8.every(function(t){return t.F4(d.eN.qg)})})&&this.rN.hV(),w.abrupt("break",23);case 19:return w.next=21,Rr.awrap(iu(Ve.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,Ve)},r.Mst=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t._8.XH}),i=n.map(function(t){return{Ul:t}}),(e=zs(t,function(t){return t._8.e2})).push.apply(e,this.U0.g$.q3),r=this.X0.contentProtection,u.next=7,Rr.awrap(aL(r,n,e,this.kE));case 7:return 0===(s=u.sent).length&&this.rN&&this.rN.Jc.ON.length>0&&(s=this.rN.Jc.ON),u.abrupt("return",{us:jp.NE,vW:i,ON:s});case 10:case"end":return u.stop()}},null,this,null,Ve)},r.Ust=function(t,n,i){var e,r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=this.rN,s=r.Yg,!(u=this.qg<t)){c.next=19;break}c.prev=4,fx.f$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.hV();case 7:if(this.eN.jg||!(this.eN.qg<t)){c.next=12;break}return c.next=10,Rr.awrap(this.eN.uu([bf.Uf,bf._f],i));case 10:c.next=7;break;case 12:c.next=19;break;case 14:throw c.prev=14,c.t0=c.catch(4),r.uV(),r.aW(s),c.t0;case 19:return fx.f$("Discontinuity","Perform hard switch from",null==(e=this.rN)?void 0:e.Jc,"to",n),c.prev=20,this.qg<t&&(this.qg=t),this.eN.gj(),this.tW=void 0,this.$V=void 0,this.Est(),c.next=28,Rr.awrap(this.eN.I_());case 28:return c.next=30,Rr.awrap(this.eN.zc(n));case 30:this.rN=c.sent,this.hW(),this.Vrt(),this.Grt(),this.rN.ZV&&(this.tW=new eU(jy.Td,this.rN.ZV,this.Z8,this.K8)),this.rN.QV&&(this.$V=new eU(jy.Ad,this.rN.QV,this.Z8,this.K8)),this.Est();case 37:return c.prev=37,u&&ou(this.eN.Um()),this.eN.mj(),c.finish(37);case 41:this.$et&&(o=void 0!==this.$V&&void 0===this.Jet,a=o?[this.tW,this.$V]:[this.tW],this.$et.k8(a)),this.Jet&&this.Jet.k8([this.$V]),fx.f$("Discontinuity","Hard switch complete.");case 44:case"end":return c.stop()}},null,this,[[4,14],[20,,37,41]],Ve)},r.Xst=function(t){return iu(au(zs(this.bst,function(t){return t.P8.map(function(t){return t.X4()})})),t)},r.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return fx.gT(OX,"Unloading the player."),this.Fst(),this.$rt(),t.next=5,Rr.awrap(this.I_());case 5:return this.eN.CN=void 0,this.Fet.Bd(),t.next=9,Rr.awrap(this.cN.Bd());case 9:return t.next=11,Rr.awrap(this.Z8.Bd());case 11:return t.next=13,Rr.awrap(this.K8.Bd());case 13:this.Rm.Bd(),this.Nm.Bd(),this.Dm.Bd(),this.xet.Bd(),this.Oet.Bs();case 18:case"end":return t.stop()}},null,this,null,Ve)},r.I_=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fx.gT(OX,"Resetting the player."),this.Js(HO.kJ,this.handleBufferingErrorEvent),this.ert=-1,this.Wet.Xs(),this.Wet=new Zs,this.bE.Xs(),this.bE=new Zs,this.Kq.Xs(),this.Kq=new Zs,this.nrt.Xs(),this.nrt=new Zs,t=[this.Vet,this.z6,this.Zq,this.irt].filter(X),n.next=14,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 14:return this.Vet=void 0,this.z6=void 0,this.Zq=void 0,this.irt=void 0,this.Yet=void 0,this.jet=void 0,this.Qet=void 0,this.Zet=void 0,this.Ket=[],this.rst(void 0),this.Brt(),n.next=27,Rr.awrap(this.Ort());case 27:return this.Jet&&(this.Jet.Bs(),this.Jet=void 0),this.$et&&(this.$et.Bs(),this.$et=void 0),this.trt&&(this.trt.Bs(),this.trt=void 0),this.$V=void 0,this.tW=void 0,this.rN=void 0,this.y8&&(this.y8.Bs(),this.y8=void 0),this.W5&&(this.W5.Bs(),this.W5=void 0),this.U0&&(this.U0.Js("W0",this.z0),this.U0.Js("Y3",this.xrt),this.U0=void 0),this.Get&&(this.Dm.JR(this.Get.Lm),this.Get=void 0),n.next=39,Rr.awrap(this.cN.I_());case 39:return n.next=41,Rr.awrap(this.Z8.I_());case 41:return n.next=43,Rr.awrap(this.K8.I_());case 43:return this.eN.WN(),n.next=46,Rr.awrap(this.eN.I_());case 46:this.X0=void 0,this.zet=void 0,this.Het=!1,this.SC=1,this.nW=$S.gC(),this.wrt=void 0,this.grt=void 0,this.mrt=void 0,this._rt=!1,this.yrt=!1,this.xet.I_(),this.Hst(),this.Ys(new ry(this.qg,this.rg));case 59:case"end":return n.stop()}},null,this,null,Ve)},r.Hst=function(){for(var t=0,n=this.Rm.R_;t<n.length;t++){n[t].Bd()}for(var i=0,e=this.Nm.R_;i<e.length;i++){e[i].Bd()}for(var r=0,s=this.Dm.R_;r<s.length;r++){s[r].Bd()}this.Rm.I_(),this.Nm.I_(),this.Dm.I_(),this.Uet.clear()},r.jrt=function(){this.xet.js(xX,this.qs),this.xet.js(ey.Gg,this.mN),this.xet.js(ey.Wg,this.Drt),this.DC.js("uL",this.zrt),this.DC.js("hL",this.Wrt),this.eN.js(LX,this.qs),this.eN.js(bf.cf,this.handleContentProtectionErrorEvent),this.eN.js(bf.df,this.prt),this.eN.js(bf._f,this.Trt),this.eN.js(bf.Tf,this.Srt),this.eN.js(bf.Sf,this.Ert),this.eN.js(bf.Ef,this.Irt),this.eN.js(ey.l_,this.OE),this.eN.js(bf.Uf,this.MG),this.eN.js(bf.Cf,this.sW),this.eN.js(bf.Df,this.gN),this.eN.js(bf.Xf,this.Nrt)},r.Fst=function(){this.xet.Js(xX,this.qs),this.xet.Js(ey.Gg,this.mN),this.xet.Js(ey.Wg,this.Drt),this.DC.Js("uL",this.zrt),this.DC.Js("hL",this.Wrt),this.eN.Js(LX,this.qs),this.eN.Js(bf.cf,this.handleContentProtectionErrorEvent),this.eN.Js(bf.df,this.prt),this.eN.Js(bf._f,this.Trt),this.eN.Js(bf.Tf,this.Srt),this.eN.Js(bf.Sf,this.Ert),this.eN.Js(bf.Ef,this.Irt),this.eN.Js(ey.l_,this.OE),this.eN.Js(bf.Uf,this.MG),this.eN.Js(bf.Cf,this.sW),this.eN.Js(bf.Df,this.gN),this.eN.Js(bf.Xf,this.Nrt)},A(e,[{key:"Jrt",get:function(){for(var t=[this.Yet,this.jet].filter(X),n=0;n<t.length;n++){var i=t[n];if(!i.pJ.d2)return!1;var e=i.pJ.Y0,r=e[e.length-1];if(r&&r.l2!==this.ert)return!1}return!0}},{key:"jJ",get:function(){return this.qet}},{key:"t$",get:function(){return this.Yet}},{key:"i$",get:function(){return this.jet}},{key:"Hrt",get:function(){return this.Qet}},{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.eN.vy.ZN()}},{key:"KJ",get:function(){var t=[];if(this.qet)for(var n=this.eN.qg,i=0,e=this.bst;i<e.length;i++)for(var r=0,s=e[i].P8;r<s.length;r++){var u=s[r].z4(n);u&&!Xs(t,u)&&t.push(u)}return t}},{key:"ly",get:function(){if(this.qet){var t=this.eN.qg;return this.qet.C2(t)}},set:function(t){if(t&&this.qet){var n=this.qet.q0(t);void 0!==n&&(this.qg=n)}}},{key:"qg",get:function(){var t;return null!=(t=this.wrt)?t:this.eN.qg},set:function(t){fx.gT(OX,"Seeking to "+t+" s."),this.wrt=t,this.mrt=!0,this._rt=!0,this.Ys(new _y(t)),this.Kq.Xs(),this.Mrt(t)}},{key:"Yg",get:function(){var t,n,i,e,r,s,u;return this.Jrt?this.eN.Yg:null!=(t=null!=(n=null!=(i=null==(e=this.Yet)?void 0:e.pJ.Yg)?i:null==(r=this.jet)?void 0:r.pJ.Yg)?n:null==(s=this.U0)?void 0:null==(u=s._4)?void 0:u.pJ.Yg)?t:1/0}},{key:"jg",get:function(){if(!this.Jrt)return!1;if(this.$g){var t,n,i=this.qg,e=null==(t=this.Yet)?void 0:t.pJ.Yg,r=null==(n=this.jet)?void 0:n.pJ.Yg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.eN.jg}},{key:"wu",get:function(){return this.sN}},{key:"Qg",get:function(){return this.uN}},{key:"Mm",get:function(){}},{key:"_y",get:function(){return!1}},{key:"pm",get:function(){return Nr({},{gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.eN.JN())}},{key:"g$",get:function(){var t;return null==(t=this.U0)?void 0:t.g$}},{key:"Zg",get:function(){return this.eN.Zg},set:function(t){this.eN.Zg=t}},{key:"Sy",get:function(){return this.frt},set:function(t){this.frt!==t&&(this.frt=t,this.Ys(t?new ZM:new KM))}},{key:"Kg",get:function(){return this.eN.Kg}},{key:"Jg",get:function(){return this.eN.Jg},set:function(t){fx.gT(OX,"Setting playback rate to "+t+"."),this.eN.Jg=t}},{key:"Ey",get:function(){return this.eN.Ey.ZN()}},{key:"Iy",get:function(){return this.oN},set:function(t){this.oN!==t&&(this.oN=t,this.tst())}},{key:"rg",get:function(){var t=this.eN.rg;return this.yrt&&(t=w.max(Fm.Lg,t)),t}},{key:"Ry",get:function(){return this.nW.ZN()}},{key:"$g",get:function(){var t;return null!=(t=this.mrt)?t:this.eN.$g}},{key:"$N",get:function(){}},{key:"Lm",get:function(){return this.Dm}},{key:"xm",get:function(){return this.Nm}},{key:"tm",get:function(){return this.eN.tm}},{key:"nm",get:function(){return this.eN.nm}},{key:"im",get:function(){return this.eN.im},set:function(t){fx.gT(OX,"Setting volume to "+t+"."),this.eN.im=t}},{key:"Ny",get:function(){return this.lN}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"tD",get:function(){return this.vN}},{key:"bst",get:function(){return[this.Jet,this.$et,this.trt].filter(X)}}]),e}(lu),FX=function(){function t(){}return t.prototype.iD=function(t,n){return Gm(t.type)},t}(),HX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).pD=n,e}return S(n,t),n.prototype.ust=function(){this.Ys(new by(this.qg,this.rg))},A(n,[{key:"rg",get:function(){return this.pD.rg}}]),n}(cA);function zX(t){return t.reduce(function(t,n){return t.YD(n.pJ.Ry)},new $S([0,1/0]))}function VX(t){var n=Os(t,function(t){return t.AJ}),e=t.filter(function(t){return t.TJ}),r=i.Xr,s=e.map(function(t){return t.V_}).filter(X),u=YM(s,r);return u?Os(e,function(t){return t.V_===u}):n}function WX(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.XH&&t.XH.MH&&JD(t.XH.MH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=GX(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=GX(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.oL.type){case LR.BANDWIDTH:var r=i.bL,s=e.filter(function(t){return t.UR<=r});if(s.length>0)return Ws(s,function(t){return t.UR});case LR.PERFORMANCE:return Vs(e,function(t){return t.UR});case LR.QUALITY:return Ws(e,function(t){return t.UR})}}function GX(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.XH&&t.XH.UH&&JD(t.XH.UH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function qX(t){var n;return null!=(n=VX(t))?n:t[0]}function YX(t){return t.filter(function(t){return t.k$.some(function(t){return t.pJ.P3<i.Je()-UX})||0===t.k$.length})}var jX=function(){function t(){}return t.prototype.J4=function(t,i,e){var r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Rr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],Ve)},t}();function QX(t,n){if(void 0===n.zst)return{UH:void 0,MH:t};if(void 0===n.Vst)return{UH:t,MH:void 0};for(var i=Th(t),e=KX(i),r=KX(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];u instanceof ih&&(e.boxes[s]=nF(u,n.Vst),r.boxes[s]=nF(u,n.zst))}var o=e.serialize().join(),a=r.serialize().join();return{UH:o,MH:a}}function ZX(t){var n=Os(t.boxes,uF);if(n){var i=Os(n.boxes,oF);if(i)return i.handlerType}}function KX(t){var n,i=new mh;return(n=i.boxes).push.apply(n,t.boxes),i}function JX(t){var n,i=new Pc;return(n=i.boxes).push.apply(n,t.boxes),i}var $X=8;function tF(t,n){for(var i=function(t){var n,i=new Wc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=iF(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new rc(new y(n.getSize()-$X));else if(s instanceof Pc){var u=s,o=Ls(u.boxes,function(t){return t instanceof Dc&&t.trackId===e});if(o>=0){var a=u.boxes[o],c=JX(u);c.boxes[o]=new rc(new y(a.getSize()-$X)),i.boxes[r]=c}}}return i}function nF(t,n){for(var i=function(t){var n,i=new ih;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof th){var s=Os(r.boxes,aF);s&&s.trackId===n&&(i.boxes[e]=new rc(new y(r.getSize()-$X)))}}return i}function iF(t){return Os(t.boxes,sF).trackId}function eF(t){return t instanceof Wc}function rF(t){return t instanceof zc}function sF(t){return t instanceof Xc||t instanceof Fc}function uF(t){return t instanceof hc}function oF(t){return t instanceof Fa}function aF(t){return t instanceof Zc}function cF(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(xo(t.Xi));case 2:if(e=s.sent,$s(i),void 0!==(r=e?MD(e,n):void 0)){s.next=7;break}throw new v("Mp4Transmuxer - Unable to parse segment or part.");case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,Ve)}var hF,fF=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Pw=void 0,u.Wst=void 0,u.Gst=void 0,u.qst=void 0,u.Yst=0,u.jst=0,u.Qst=Pr(),u.Pw=n,u}S(n,t);var e=n.prototype;return e.a8=function(n,i){return t.prototype.a8.call(this,n,i)},e.Zst=function(t){var n;return this.Qst.has(t.l2)?n=this.Qst.get(t.l2):(n=nU(t.p5.Xi.Xi),this.Qst.set(t.l2,n)),n},e.h8=function(n,e){var r,s,u,o,a,c,h,f,v,l,d,w,_,g,m,y,k,b,p,A;return Rr.async(function(T){for(;;)switch(T.prev=T.next){case 0:if($s(e),s=this.Zst(n),u=n.p5,s===QM.j8||s===QM.Y8){T.next=5;break}return T.abrupt("return",t.prototype.h8.call(this,n,e));case 5:if(o=this.Pw.Kst(),s!==QM.j8){T.next=12;break}return T.next=9,Rr.awrap(o.Jst({data:u.Xi.Xi,metadata:this.Wst}));case 9:a=T.sent,T.next=15;break;case 12:return T.next=14,Rr.awrap(o.$st({data:u.Xi.Xi,metadata:this.Wst}));case 14:a=T.sent;case 15:if($s(e),this.f8({UH:a.metadata.audio_codec,MH:a.metadata.video_codec,FH:void 0}),c=jk.Zk(ht.fromBits(a.metadata.first_timestamp_low,a.metadata.first_timestamp_high),a.metadata.first_timestamp_timescale),i.Or.Qe&&(c=c.Lb(CD)),this.W5.Y5(n.l2)){T.next=25;break}for(h=jk.zb(u.W4.Zy),f=0,v=this.d8;f<v.length;f++)l=v[f],this.W5.f9(n.l2,l,c,h,!0);if(this.W5.Y5(n.l2)){T.next=25;break}return T.next=25,Rr.awrap(iu(this.W5.j5(n.l2),e));case 25:if(d=this.W5.h9(c,u.W4),this.Wst=a.metadata,w={H1:n.H1,Zy:u.W4.Zy,Yg:null!=(r=u.W4.Yg)?r:0,cp:d.Bk(),l2:n.l2,qJ:n.qJ,W4:u.W4},void 0!==a.data.audio_media||void 0!==a.data.video_media){T.next=31;break}for(_=0,g=this.d8;_<g.length;_++)m=g[_],y=Nr({us:"p5",Xi:void 0,B5:m},w),this.C5(y);return T.abrupt("return");case 31:void 0!==a.data.audio_media&&(!a.data.audio_init||this.Gst&&this.Yst===n.l2&&Lu(this.Gst,a.data.audio_init)||(k={us:"w8",Xi:{us:dD.zX,Xi:a.data.audio_init},B5:jy.Ad,l2:n.l2,_8:{XH:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',e2:u.W4.e2},Zy:u.W4.Zy,qJ:n.qJ,W4:u.W4},this.Gst=a.data.audio_init,this.Yst=n.l2,this.C5(k)),b=Nr({us:"p5",Xi:{us:dD.zX,Xi:a.data.audio_media},B5:jy.Ad},w),this.C5(b)),void 0!==a.data.video_media&&(!a.data.video_init||this.qst&&this.jst===n.l2&&Lu(this.qst,a.data.video_init)||(p={us:"w8",Xi:{us:dD.zX,Xi:a.data.video_init},B5:jy.Td,l2:n.l2,_8:{XH:'video/mp4; codecs="'+a.metadata.video_codec+'"',e2:u.W4.e2},Zy:u.W4.Zy,qJ:n.qJ,W4:u.W4},this.qst=a.data.video_init,this.jst=n.l2,this.C5(p)),A=Nr({us:"p5",Xi:{us:dD.zX,Xi:a.data.video_media},B5:jy.Td},w),this.C5(A));case 33:case"end":return T.stop()}},null,this,null,Ve)},e.Xs=function(){this.Gst=void 0,this.qst=void 0,t.prototype.Xs.call(this)},n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Uz=void 0,n.tut=void 0,n}S(n,t);var i=n.prototype;return i.a8=function(t,n){$s(n);var i=this.qJ.us,e=XD(xo(t.c2.Xi.Xi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Uz=e;var r=function(t){for(var n,i,e,r=0,s=t.ZA;r<s.length;r++){var u=s[r];n||(n=u.XH.UH),i||(i=u.XH.MH),e||(e=u.XH.FH)}if(n||i)return{UH:n,MH:i,FH:e};return}(e);r&&this.f8(r);var s=function(t){var n=Th(t),i=Os(n.boxes,eF),e=i.boxes.filter(rF),r=Os(e,function(t){return ZX(t)===vc.AUDIO}),s=Os(e,function(t){return ZX(t)===vc.VIDEO}),u={zst:r?iF(r):void 0,Vst:s?iF(s):void 0};if(!r||!s)return{UH:r?t:void 0,MH:s?t:void 0,iE:u};var o=KX(n),a=KX(n),c=n.boxes.indexOf(i);o.boxes[c]=tF(i,s),a.boxes[c]=tF(i,r);var h=o.serialize().join(),f=a.serialize().join();return{UH:h,MH:f,iE:u}}(t.c2.Xi.Xi);if(this.tut=s.iE,s.MH){var u=Os(e.ZA,function(t){return t.cT===s.iE.Vst}),o={us:"w8",Xi:{us:dD.zX,Xi:s.MH},B5:jy.Td,l2:t.l2,_8:{XH:'video/mp4; codecs="'+u.XH.MH+'"',e2:t.e2},Zy:t.Zy,qJ:this.qJ,W4:t.c2.W4};this.C5(o)}if(s.UH){var a=Os(e.ZA,function(t){return t.cT===s.iE.zst}),c={us:"w8",Xi:{us:dD.zX,Xi:s.UH},B5:jy.Ad,l2:t.l2,_8:{XH:'audio/mp4; codecs="'+a.XH.UH+'"',e2:t.e2},Zy:t.Zy,qJ:this.qJ,W4:t.c2.W4};this.C5(c)}return Ve.resolve()},i.h8=function(t,n){var i,e,r,s,u,o,a,c,h,f,v,l,d,w;return Rr.async(function(_){for(;;)switch(_.prev=_.next){case 0:if($s(n),e=t.p5.W4,r=this.qJ.us,fx.gT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+Qx(e.NJ)),s=t.p5.Xi,this.W5.Y5(t.l2)){_.next=14;break}return _.next=8,Rr.awrap(cF(s,this.Uz,n));case 8:for(u=_.sent,o=jk.zb(e.Zy),a=0,c=this.d8;a<c.length;a++)h=c[a],this.W5.f9(t.l2,h,u,o,!1);if(this.W5.Y5(t.l2)){_.next=14;break}return _.next=14,Rr.awrap(iu(this.W5.j5(t.l2),n));case 14:f=this.W5.J5(t.l2),v={H1:t.H1,Zy:e.Zy,Yg:null!=(i=e.Yg)?i:0,cp:f.Bk(),l2:t.l2,qJ:t.qJ,W4:t.p5.W4},(l=QX(s.Xi,this.tut)).MH&&(d=Nr({us:"p5",Xi:{us:dD.zX,Xi:l.MH},B5:jy.Td},v),this.C5(d)),l.UH&&(w=Nr({us:"p5",Xi:{us:dD.zX,Xi:l.UH},B5:jy.Ad},v),this.C5(w));case 19:case"end":return _.stop()}},null,this,null,Ve)},n}(UM)),vF=function(){function t(){}return t.prototype.Sst=function(t,n,i,e){return new fF(this,t,n,i,e)},t}();!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(hF||(hF={}));var lF=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(wu),dF=["message","messageerror","error"],wF=function(t){function n(n){var i;return(i=t.call(this,bm.Q_)||this).error=n,i}return S(n,t),n}(wu),_F=function(t){function n(n){var i;return(i=t.call(this)||this).nut=void 0,i.iut=void 0,i.eut=[],i.rut=function(t){if(i.sut)t.uut();else{i.nut=t,i.nut.js(dF,i.qs);for(var n=0,e=i.eut;n<e.length;n++){var r=e[n];t.out(r.fu,r.aut)}Hs(i.eut)}},i.cut=function(t){if(!i.sut){var n=t instanceof v?t:new v("Could not create Worker.");i.Ys(new wF(n)),i.uut()}},i.iut=new Zs,n(i.iut.zs).then(i.rut,i.cut),i}S(n,t);var i=n.prototype;return i.out=function(t,n){this.sut||(void 0!==this.nut?this.nut.out(t,n):this.eut.push({fu:t,aut:n}))},i.uut=function(){this.sut||(this.iut.Xs(),Hs(this.eut),void 0!==this.nut&&this.nut.uut())},A(n,[{key:"sut",get:function(){return this.iut.zs.Rs}}]),n}(lu);var gF=function(t){function n(n){var i;return(i=t.call(this)||this).nut=void 0,i.hut=function(t){i.Ys(new lF("message",t.data))},i.fut=function(t){i.Ys(new lF("messageerror",t.data))},i.xY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Ys(new wF(n)),i.uut()},i.nut=new k(n),i.nut.addEventListener("message",i.hut),i.nut.addEventListener("messageerror",i.fut),i.nut.addEventListener("error",i.xY),i}S(n,t);var i=n.prototype;return i.out=function(t,n){n?this.nut.postMessage(t,n):this.nut.postMessage(t)},i.uut=function(){this.Ks(),this.nut.removeEventListener("message",this.hut),this.nut.removeEventListener("messageerror",this.fut),this.nut.removeEventListener("error",this.xY),this.nut.terminate()},n}(lu),mF=0,yF="iframe.html",kF=function(n){function e(e,r){var u;(u=n.call(this)||this).Nc=void 0,u.vut=void 0,u.lut=void 0,u.wut=void 0,u._ut=function(){u.lut.removeEventListener("load",u._ut),u.lut.contentWindow.postMessage({type:"initialize",id:u.Nc,script:u.vut},"*")},u.gut=function(t){t.origin===u.wut&&t.data.id===u.Nc&&("initialized"===t.data.type||("error"===t.data.type?(u.Ys(new wF(new v(t.data.data.message))),u.uut()):u.Ys(new lF("message",t.data.data))))},u.Nc=mF++,u.vut=e;var o,a,c=i.Cr(yF,r);return u.lut=(o=c.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.wut=c.origin,u.lut.addEventListener("load",u._ut),t.addEventListener("message",u.gut),u}S(e,n);var r=e.prototype;return r.out=function(t,n){n?this.lut.contentWindow.postMessage({type:"message",data:t},"*",n):this.lut.contentWindow.postMessage({type:"message",data:t},"*")},r.uut=function(){var n;this.lut.removeEventListener("load",this._ut),t.removeEventListener("message",this.gut),null==(n=this.lut.contentWindow)||n.postMessage({type:"terminate"},"*"),Je(this.lut)},e}(lu);function bF(t,n){return t=i.Pr(t,n),new _F(function(e){return function(t,n,e){var r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new gF(t),v.next=4,Rr.awrap(AF(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.uut(),tu(v.t0);case 11:if(!pF||!yf){v.next=42;break}return v.prev=12,v.next=15,Rr.awrap(i.qw.ed({ud:t,Ed:Yw.GET,Jl:pf.Kn,zs:e}));case 15:return o=v.sent,v.next=18,Rr.awrap(o.Ol(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),tu(v.t1),TF(v.t1);case 25:return v.prev=25,c=yf([u],{type:"application/javascript"}),a=URL.createObjectURL(c),r=new gF(a),v.next=31,Rr.awrap(AF(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(h=r)||h.uut(),tu(v.t2),pF=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new kF(t,n),v.next=46,Rr.awrap(AF(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.uut(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],Ve)}(t,n,e)})}var pF=!0;function AF(t,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(t.uu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw TF(e.error);case 5:if(W(s=e.data)&&"4.1.0"===s.mut){r.next=7;break}throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.1.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,Ve)}function TF(t){return new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}var SF=function(){function t(t){var e=this;this.yut=void 0,this.kut=void 0,this.but=void 0,this.nut=void 0,this.Aut=0,this.Tut=Pr(),this.Sut=0,this.Eut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Tut.get(n.requestId);if(!i)return;e.Tut.delete(n.requestId),n.success?(i.Hu(n.output),e.Iut()):i.Vu(new tf(n.errorCode,n.error))}else n.success||e.Bs(new tf(n.errorCode,n.error))},this.ww=function(t){var i=new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Bs(i)},this.yut=t,this.but=function(){if("undefined"==typeof WebAssembly)return!1;var t=L.wn;return!(t>0&&t<=56)}();var r=this.but?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.kut=i.Pr(r,t)}catch(t){throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.nut=this.Rut()}var e=t.prototype;return e.Jst=function(t){return this.Nut(hF.MPEGTS_TO_FMP4,t)},e.$st=function(t){return this.Nut(hF.RAW_AUDIO_TO_FMP4,t)},e.Rut=function(){var t=bF(this.kut,this.yut);return t.js("message",this.Eut),t.js("error",this.ww),t},e.Iut=function(){this.but||this.Tut.size>0||this.Sut<10||(this.nut&&this.nut.uut(),this.nut=this.Rut(),this.Sut=0)},e.Nut=function(t,n){var i=++this.Aut;this.Sut+=1;var e={type:t,id:i,input:n},r=new Wo;return this.Tut.set(i,r),this.nut.out(e,[n.data.buffer]),r.Uu},e.Bs=function(t){void 0===t&&(t=new Ks),this.Tut.forEach(function(n){return n.Vu(t)}),this.Tut.clear(),this.nut.uut()},t}(),EF=function(t){function n(n){var i;return(i=t.call(this)||this).nut=void 0,i.Dut=n,i}S(n,t);var i=n.prototype;return i.Kst=function(){var t;return null!=(t=this.nut)?t:this.nut=new SF(this.Dut)},i.Bs=function(){this.nut&&(this.nut.Bs(),this.nut=void 0)},n}(vF),IF=function(){function t(t){this.Dut=t}return t.prototype.mK=function(){return new EF(this.Dut)},t}(),RF=function(){function t(t){this.FR=void 0,this.FR=t}var n=t.prototype;return n.NN=function(t){return this.FR.NN(t)},n.sJ=function(t){return this.FR.sJ(t)},n.YN=function(t){return this.FR.YN(t)},t}(),NF=function(t){function n(n){var i;return(i=t.call(this)||this).eN=void 0,i.rN=void 0,i.Cut=new Nm,i.Put=function(t){return i.iy(t)},i.eN=n,i.Cut.x_=n.Lm,i.eN.js(uD,i.Put),i}S(n,t);var i=n.prototype;return i.NL=function(){return this.eN.vy},i.CL=function(){return this.eN.ly},i.BL=function(){return this.eN.qg},i.xL=function(){return this.eN.Yg},i.But=function(){return this.eN.$N},i.Out=function(){return this.eN.jg},i.xut=function(){return this.eN.Kg},i.YL=function(){return this.eN.Ey},i.ZL=function(){return this.eN.rg},i.KL=function(){return this.eN.Ry},i.JL=function(){return this.eN.$g},i.$L=function(){return this.Cut},i.Kj=function(){return this.eN.NU},i.Lut=function(){return this.eN.CN},i.Mut=function(t){this.eN.CN=t},i.Uut=function(){return this.eN.Oq},i.JN=function(){return this.eN.JN()},i.Um=function(){return this.eN.Um()},i.Xm=function(){this.eN.Xm()},i.Bu=function(t,n){this.eN.Bu(t,n)},i.KN=function(t){this.eN.KN(t)},i.Qm=function(){this.eN.Qm()},i.Zm=function(){this.eN.Zm()},i.AE=function(t,n,i,e,r,s,u){return this.eN.AE(t,n,i,e,r,s,u)},i.XN=function(){return this.eN.XN()},i.HN=function(t,n,i,e){return this.eN.HN(t,n,i,e)},i.EE=function(t){this.eN.EE(t)},i.WN=function(){this.eN.WN()},i.LX=function(t){return this.eN.LX(t)},i.zc=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.eN.zc(t));case 2:return n=e.sent,i=t.us===jp.RE?this.Xut(n):this.Fut(n),this.rN=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,Ve)},i.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.rN){t.next=4;break}return t.next=3,Rr.awrap(this.rN.Bs());case 3:this.rN=void 0;case 4:return t.next=6,Rr.awrap(this.eN.I_());case 6:case"end":return t.stop()}},null,this,null,Ve)},i.gj=function(){this.eN.gj()},i.mj=function(){this.eN.mj()},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),this.eN.Js(uD,this.Put),this.Cut.x_=void 0,this.Cut.Bd(),!this.rN){t.next=8;break}return t.next=7,Rr.awrap(this.rN.Bs());case 7:this.rN=void 0;case 8:case"end":return t.stop()}},null,this,null,Ve)},i.yj=function(){this.eN.yj()},i.Hut=function(t){this.eN.Js(uD,this.Put),this.eN=t,this.Cut.x_=t.Lm,this.eN.js(uD,this.Put)},i.iy=function(t){this.Ys(t)},A(n,[{key:"zut",get:function(){return this.eN}},{key:"vy",get:function(){return this.NL()}},{key:"ly",get:function(){return this.CL()}},{key:"qg",get:function(){return this.BL()}},{key:"IU",get:function(){return this.eN.IU}},{key:"Yg",get:function(){return this.xL()}},{key:"$N",get:function(){return this.But()}},{key:"jg",get:function(){return this.Out()}},{key:"wu",get:function(){return this.eN.wu}},{key:"vT",get:function(){return this.eN.vT}},{key:"Ck",get:function(){return this.eN.Ck}},{key:"VN",get:function(){return this.eN.VN}},{key:"Zg",get:function(){return this.eN.Zg},set:function(t){this.eN.Zg=t}},{key:"Kg",get:function(){return this.xut()}},{key:"Jg",get:function(){return this.eN.Jg},set:function(t){this.eN.Jg=t}},{key:"Ey",get:function(){return this.YL()}},{key:"rg",get:function(){return this.ZL()}},{key:"Ry",get:function(){return this.KL()}},{key:"$g",get:function(){return this.JL()}},{key:"Lm",get:function(){return this.$L()}},{key:"NU",get:function(){return this.Kj()}},{key:"Aj",get:function(){return this.eN.Aj}},{key:"im",get:function(){return this.eN.im},set:function(t){this.eN.im=t}},{key:"bj",get:function(){return this.eN.bj}},{key:"_y",get:function(){return this.eN._y}},{key:"Tj",get:function(){return this.eN.Tj}},{key:"CN",get:function(){return this.Lut()},set:function(t){this.Mut(t)}},{key:"Oq",get:function(){return this.Uut()}}]),n}(lu),DF=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.pj=function(t){this.eN.pj(t)},i.QY=function(){this.eN.QY()},i.oy=function(){this.eN.oy()},A(n,[{key:"DN",get:function(){return this.eN.DN}},{key:"kW",get:function(){return this.eN.kW}},{key:"Dy",get:function(){return this.eN.Dy},set:function(t){this.eN.Dy=t}}]),n}(NF),CF=function(){function t(t){this.rN=void 0,this.rN=t}var n=t.prototype;return n.oh=function(){return this.rN.Jc},n.KL=function(){return this.rN.Ry},n.RX=function(t){return this.rN.RX(t)},n.NX=function(t){return this.rN.NX(t)},n.Bs=function(){return Ve.resolve()},A(t,[{key:"Jc",get:function(){return this.oh()}},{key:"Ry",get:function(){return this.KL()}},{key:"xm",get:function(){return this.rN.xm}}]),t}(),PF=function(t){function n(n){var i;return(i=t.call(this,n)||this).$V=void 0,i.tW=void 0,i.Vut=function(t){return i.Wut(t)},i}S(n,t);var i=n.prototype;return i.NL=function(){return this.rN.vy},i.xL=function(){return this.rN.Yg},i.Gut=function(){return this.rN.MX},i.aW=function(t){this.rN.aW(t)},i.fW=function(t,n,i,e){this.rN.fW(t,n,i,e)},i.hV=function(){this.rN.hV()},i.uV=function(){this.rN.uV()},i.Bs=function(){return this.$V&&(this.$V.Bs(),this.$V=void 0),this.tW&&(this.tW.Bs(),this.tW=void 0),t.prototype.Bs.call(this)},i.qut=function(t){this.rN=t,this.$V?t.QV?this.$V.U4(t.QV):(this.$V.Bs(),this.$V=void 0):t.QV&&(this.$V=this.Yut(t.QV),this.$V.js(_D,this.Vut)),this.tW?t.ZV?this.tW.U4(t.ZV):(this.tW.Bs(),this.tW=void 0):t.ZV&&(this.tW=this.Yut(t.ZV),this.tW.js(_D,this.Vut))},i.Wut=function(t){},A(n,[{key:"QV",get:function(){return this.$V}},{key:"ZV",get:function(){return this.tW}},{key:"vy",get:function(){return this.NL()}},{key:"Yg",get:function(){return this.xL()}},{key:"MX",get:function(){return this.Gut()}}]),n}(CF),BF=function(t){function n(n){var i;return(i=t.call(this)||this).Rh=void 0,i.lL=0,i.dL=0,i.Rh=n,i}S(n,t);var i=n.prototype;return i.Fz=function(t,n,i){return Ve.reject(new v("Invalid media buffer"))},i.mV=function(){return Ve.reject(new v("Invalid media buffer"))},i.Vz=function(t,n,i){return Ve.reject(new v("Invalid media buffer"))},i.MX=function(){return!1},i.hV=function(){},i._V=function(t,n){},i.gV=function(t,n){},i.Vc=function(t,n,i){return Ve.resolve()},i.Jz=function(t,n){return Ve.reject(new v("Invalid media buffer"))},i.Xy=function(t,n){return Ve.reject(new v("Invalid media buffer"))},i.RX=function(t){return!1},i.NX=function(t){return Ve.reject(new v("Invalid media buffer"))},i.Bs=function(){this.Ks()},A(n,[{key:"cL",get:function(){return this.dL},set:function(t){this.dL=t}},{key:"vy",get:function(){return $S.gC()}},{key:"Jc",get:function(){return this.Rh}},{key:"bV",get:function(){return jy.hd}},{key:"pV",get:function(){return $S.gC()}},{key:"jut",get:function(){return!1}},{key:"sL",get:function(){return this.lL},set:function(t){this.lL=t}}]),n}(lu),OF=function(t){function n(n){var i;return(i=t.call(this,n)||this).eN=void 0,i}S(n,t);var i=n.prototype;return i.Fz=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return $s(i),e.next=3,Rr.awrap(this.Qut(this.eN.qg,null==n?void 0:n.i9,null==n?void 0:n.Yg));case 3:if($s(i),t.us!==dD.Gf){e.next=10;break}return e.next=7,Rr.awrap(this.Zut(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Rr.awrap(this.Kut(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,Ve)},i.Zut=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Dw(e.Xi),s=r[0],u=r[1],e={us:dD.Gf,Xi:s},o.prev=4,o.next=7,Rr.awrap(this.Jut(e,n,i));case 7:return u.cancel(new Ks).catch(Z),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!GR(o.t0)){o.next=20;break}return o.next=16,Rr.awrap(this.Qut(this.eN.qg,n.i9,n.Yg,i));case 16:if(!o.sent){o.next=20;break}return e={us:dD.Gf,Xi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(Z),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],Ve)},i.Kut=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,$s(i),e.next=5,Rr.awrap(this.Jut(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!GR(e.t0)){e.next=16;break}return e.next=13,Rr.awrap(this.Qut(this.eN.qg,n.i9,n.Yg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],Ve)},i.Qut=function(t,n,i,e){var r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:r=WR(t,n,i,this.vy,this.sL,this.cL),s=0;case 2:if(!(s<r.length)){c.next=9;break}return u=r[s],o=u[0],a=u[1],c.next=6,Rr.awrap(this.$ut(o,a,e));case 6:s++,c.next=2;break;case 9:return c.abrupt("return",r.length>0);case 10:case"end":return c.stop()}},null,this,null,Ve)},i.Jut=function(n,i,e){return t.prototype.Fz.call(this,n,i,e)},i.$ut=function(n,i,e){return t.prototype.Vc.call(this,n,i,e)},A(n,[{key:"rJ",get:function(){return this.eN},set:function(t){this.eN=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).m4=void 0,i.tot=function(t){return i.iy(t)},i.m4=n,i.m4.js(_D,i.tot),i}S(n,t);var i=n.prototype;return i.iot=function(){return this.m4.cL},i.eot=function(t){this.m4.cL=t},i.NL=function(){return this.m4.vy},i.oh=function(){return this.m4.Jc},i.rot=function(){return this.m4.pV},i.uot=function(){return this.m4.sL},i.oot=function(t){this.m4.sL=t},i.Fz=function(t,n,i){return this.m4.Fz(t,n,i)},i.mV=function(){return this.m4.mV()},i.Vz=function(t,n,i){return this.m4.Vz(t,n,i)},i.MX=function(){return this.m4.MX()},i.hV=function(){this.m4.hV()},i._V=function(t,n){this.m4._V(t,n)},i.gV=function(t,n){this.m4.gV(t,n)},i.Vc=function(t,n,i){return this.m4.Vc(t,n,i)},i.Jz=function(t,n){return this.m4.Jz(t,n)},i.RX=function(t){return this.m4.RX(t)},i.NX=function(t){return this.m4.NX(t)},i.iy=function(t){this.Ys(t)},i.Bs=function(){this.Ks(),this.U4(new BF(this.Jc))},i.U4=function(t){this.m4.Js(_D,this.tot),this.m4=t,this.m4.js(_D,this.tot)},A(n,[{key:"cL",get:function(){return this.iot()},set:function(t){this.eot(t)}},{key:"vy",get:function(){return this.NL()}},{key:"Jc",get:function(){return this.oh()}},{key:"bV",get:function(){return this.m4.bV}},{key:"pV",get:function(){return this.rot()}},{key:"sL",get:function(){return this.uot()},set:function(t){this.oot(t)}}]),n}(lu)),xF=function(t){function n(n){var i;return(i=t.call(this,n)||this).eN=void 0,i.qut(n),i}return S(n,t),n.prototype.Yut=function(t){var n=new OF(t);return n.rJ=this.eN,n},A(n,[{key:"rJ",get:function(){return this.eN},set:function(t){this.eN=t,this.$V&&(this.$V.rJ=t),this.tW&&(this.tW.rJ=t)}}]),n}(PF),LF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Iy",get:function(){return this.rN.Iy},set:function(t){this.rN.Iy=t}}]),n}(CF),MF=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.pj=function(t){this.eN.pj(t)},i.QY=function(){this.eN.QY()},i.oy=function(){this.eN.oy()},i.Km=function(){return this.eN.Km()},A(n,[{key:"DN",get:function(){return this.eN.DN}},{key:"kW",get:function(){return this.eN.kW}},{key:"nm",get:function(){return this.eN.nm}},{key:"tm",get:function(){return this.eN.tm}},{key:"Dy",get:function(){return this.eN.Dy},set:function(t){this.eN.Dy=t}}]),n}(NF),UF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Fut=function(t){var n=new xF(t);return n.rJ=this,n},i.Xut=function(t){return new LF(t)},A(n,[{key:"zut",get:function(){return this.eN}}]),n}(DF),XF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Fut=function(t){var n=new xF(t);return n.rJ=this,n},i.Xut=function(t){return new LF(t)},A(n,[{key:"zut",get:function(){return this.eN}}]),n}(MF),FF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.NN=function(n){return n===jy.Td?new XF(t.prototype.NN.call(this,n)):n===jy.Ad?new UF(t.prototype.NN.call(this,n)):void 0},i.YN=function(n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Rr.awrap(i.Bs());case 3:return e.next=5,Rr.awrap(t.prototype.YN.call(this,i.zut));case 5:case"end":return e.stop()}},null,this,null,Ve)},n}(RF);function HF(t){return i_(t)}function zF(t,n){var i=i_(t);return n?""+i+n:""+i}var VF=function(){function t(t,n,i,e){this.aot=t,this.cot=n,this.hot=i,this.fot=e}var n=t.prototype;return n.v4=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.aot.vot(t.map(HF)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,Ve)},n.wst=function(t,n){var i=zF(t,n);return this.cot.Tu(i)},n.u6=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=zF(t,n),r.next=3,Rr.awrap(this.hot.Su(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,Ve)},n.HM=function(t){return this.fot.Su(t)},t}(),WF=function(){function t(){}var n=t.prototype;return n.lot=function(t){return Ve.resolve(!1)},n.dot=function(t){return Ve.reject(GF)},n.wot=function(t){return Ve.reject(GF)},n.Tu=function(t){return Ve.resolve(!1)},n.Su=function(t){return Ve.resolve(void 0)},n._ot=function(t,n){return Ve.resolve(void 0)},n.vot=function(t){return Ve.resolve([])},n.got=function(){return Ve.resolve([])},n.mot=function(t){return Ve.resolve([])},n.yot=function(t,n){return Ve.resolve([])},n.Vc=function(t){return Ve.reject(GF)},n.kot=function(t){return Ve.reject(GF)},n.bot=function(){return Ve.reject(GF)},t}(),GF="Storage disabled",qF=function(){function t(){this.pot=void 0,this.Y0=void 0,this.Aot=void 0,this.Tot=void 0,this.Sot=void 0,this.pot=new WF,this.Y0=new WF,this.Aot=new WF,this.Tot=new WF,this.Sot=new WF}return t.mK=function(){return Ve.resolve(new t)},t.prototype.Eot=function(t){return Ve.reject(YF)},t}(),YF="Storage disabled",jF=function(){function t(t){var n=this;this.Us=new Wo,this.Iot=void 0,this.Us.Hu(t),this.Us.Uu.then(function(t){n.Iot=t})}var n=t.prototype;return n.lot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.lot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.dot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.dot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.wot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.wot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.Tu=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Tu(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.Su=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Su(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n._ot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i._ot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.vot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.vot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.got=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Iot,n.t0){n.next=5;break}return n.next=4,Rr.awrap(this.Rot);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.got());case 7:case"end":return n.stop()}},null,this,null,Ve)},n.mot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.mot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.yot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Iot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Rot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.yot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.Vc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Vc(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.kot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Iot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Rot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.kot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.bot=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Iot,n.t0){n.next=5;break}return n.next=4,Rr.awrap(this.Rot);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.bot());case 7:case"end":return n.stop()}},null,this,null,Ve)},A(t,[{key:"Rot",get:function(){return this.Us.Uu}}]),t}(),QF=function(){function t(t){var n=this;this.Us=new Wo,this.Not=void 0,this.Y0=void 0,this.pot=void 0,this.Aot=void 0,this.Tot=void 0,this.Sot=void 0,this.Us.Hu(t);var i=this.Us.Uu;i.then(function(t){n.Not=t}),this.Y0=new jF(i.then(function(t){return t.Y0})),this.pot=new jF(i.then(function(t){return t.pot})),this.Aot=new jF(i.then(function(t){return t.Aot})),this.Tot=new jF(i.then(function(t){return t.Tot})),this.Sot=new jF(i.then(function(t){return t.Sot}))}return t.prototype.Eot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Not,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Dot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Rr.awrap(n.Eot(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,Ve)},A(t,[{key:"Dot",get:function(){return this.Us.Uu}}]),t}();function ZF(t){return new v("This storage cannot handle persistency type "+t)}var KF=function(){function t(){this.Uo=[]}var n=t.prototype;return n.lot=function(t){return Ve.resolve("temporary"===t)},n.dot=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?Ve.reject(ZF(n)):(this.Cot(t.key),this.Uo.push(t),Ve.resolve())},n.wot=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return Ve.reject(ZF(n));for(var i=0;i<t.length;i++){var e=t[i];this.Cot(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Uo.push(s)}return Ve.resolve()},n.Tu=function(t){return Ve.resolve(Boolean(this.Pot(t)))},n.Su=function(t){return Ve.resolve(this.Pot(t))},n._ot=function(t,n){return Ve.resolve(this.Bot(t,n))},n.vot=function(t){var n=this,i=t?t.map(function(t){return n.Pot(t)}):this.Uo;return Ve.resolve(i.filter(X))},n.got=function(){return Ve.resolve([].concat(this.Uo))},n.mot=function(t){return this.yot(t,"key")},n.yot=function(t,n){var i=this.Uo.filter(function(i){return i[n]===t});return Ve.resolve(i)},n.Vc=function(t){return this.Cot(t),Ve.resolve()},n.kot=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Cot(i)}return Ve.resolve()},n.bot=function(){return Hs(this.Uo),Ve.resolve()},n.Pot=function(t){return this.Bot(t,"key")},n.Bot=function(t,n){for(var i=0,e=this.Uo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Cot=function(t){var n=this.Pot(t);n&&Ms(this.Uo,n)},t}(),JF=function(){function t(){this.pot=void 0,this.Y0=void 0,this.Aot=void 0,this.Tot=void 0,this.Sot=void 0,this.pot=new KF,this.Y0=new KF,this.Aot=new KF,this.Tot=new KF,this.Sot=new KF}return t.mK=function(){return Ve.resolve(new t)},t.prototype.Eot=function(t){return t(this)},t}(),$F=function(){function t(t){this.Oot=t}var n=t.prototype;return n.lot=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Rr.awrap(e.lot(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ve)},n.dot=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Rr.awrap(r.lot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.dot(t));case 8:i++,s.next=2;break;case 11:throw ZF(n);case 12:case"end":return s.stop()}},null,this,null,Ve)},n.wot=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Rr.awrap(r.lot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.wot(t));case 8:i++,s.next=2;break;case 11:throw ZF(n);case 12:case"end":return s.stop()}},null,this,null,Ve)},n.Tu=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Rr.awrap(e.Tu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ve)},n.Su=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Rr.awrap(e.Su(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,Ve)},n._ot=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Oot;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Rr.awrap(r._ot(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,Ve)},n.vot=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Rr.awrap(r.vot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ve)},n.got=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Oot;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Rr.awrap(e.got());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,Ve)},n.mot=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Oot;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Rr.awrap(r.mot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ve)},n.yot=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Oot;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Rr.awrap(s.yot(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,Ve)},n.Vc=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Rr.awrap(e.Vc(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ve)},n.kot=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Oot;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Rr.awrap(e.kot(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ve)},n.bot=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Oot;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Rr.awrap(i.bot());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,Ve)},t}();function tH(t){return function(){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(Ve.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",nH.mK(n));case 4:case"end":return i.stop()}},null,null,null,Ve)}}var nH=function(){function t(t){this.xot=void 0,this.Lot=void 0,this.Mot=void 0,this.Uot=void 0,this.Xot=void 0,this.Fot=void 0,this.xot=t,this.Lot=new $F(t.map(function(t){return t.Tot})),this.Mot=new $F(t.map(function(t){return t.Sot})),this.Uot=new $F(t.map(function(t){return t.Aot})),this.Xot=new $F(t.map(function(t){return t.pot})),this.Fot=new $F(t.map(function(t){return t.Y0}))}return t.mK=function(n){return Ve.resolve(new t(n))},t.prototype.Eot=function(n){var i=this;if(0===this.xot.length)return n(this);var e=[],r=0;return this.xot[r].Eot(function s(u){return e.push(u),++r<i.xot.length?i.xot[r].Eot(s):n(new t(e))})},A(t,[{key:"Tot",get:function(){return this.Lot}},{key:"Sot",get:function(){return this.Mot}},{key:"Aot",get:function(){return this.Uot}},{key:"pot",get:function(){return this.Xot}},{key:"Y0",get:function(){return this.Fot}}]),t}(),iH=function(){function t(t){this.Hot=void 0,this.zot=[],this.Vot=!0,this.Hot=t}var n=t.prototype;return n.mK=function(){return new QF(this.Wot())},n.Wot=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Vot){e.next=4;break}return e.next=3,Rr.awrap(Ve.resolve());case 3:this.Vot=!1;case 4:t=0,n=this.zot;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Rr.awrap(tH([JF.mK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Rr.awrap(tH([JF.mK,this.Hot])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],Ve)},n.dX=function(t){if(!this.Vot)throw new v("Registration overdue");this.zot.push(t)},t}(),eH=function(){function t(){}return t.dX=function(n){t.FR.dX(n)},A(t,null,[{key:"Gn",get:function(){return t.Got||(t.Got=t.FR.mK()),t.Got}}]),t}();eH.FR=new iH(qF.mK),eH.Got=void 0;var rH=function(t){function n(n,i,e,r,s,u){var o,a=new FF(n),c=a.NN(jy.Td);return(o=t.call(this,c,i,e,r,s,u)||this).iN=void 0,o.iN=a,o}return S(n,t),n.prototype.Bd=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.prototype.Bd.call(this));case 2:return n.next=4,Rr.awrap(this.iN.YN(this.eN));case 4:case"end":return n.stop()}},null,this,null,Ve)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Km=function(){if(void 0!==this.eN.tm)return this.eN.Km()},A(n,[{key:"Dy",get:function(){return!1},set:function(t){}}]),n}(XX));VS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nD=SS.Rg,n}S(i,t);var e=i.prototype;return e.EI=function(t,n,i,e,r,s){return new rH(n,i,r,new jX,new IF(e.libraryLocation),new VF(eH.Gn.Aot,eH.Gn.pot,eH.Gn.Y0,eH.Gn.Sot))},e.iD=function(i,e){var r;if(!t.prototype.iD.call(this,i,e))return!1;if(null!=(r=i.hls)&&r.useLegacy){if(!Xs(eD,"hls-legacy"))throw new tf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');return!1}return!0},e.eD=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.iD=function(n,i){var e;return!!r.MediaSource&&(!L.un&&!L.Hn&&(!i.manifestMetadataTrack&&((!L.Cn||null==(e=n.contentProtection)||!e.fairplay)&&t.prototype.iD.call(this,n,i))))},n}(FX)))),fx.U_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var sH=[];function uH(){sH.shift()()}var oH,aH=function(){function t(t){this.qot=void 0,this.Yot=void 0,this.jot=void 0,this.jot=t}var n=t.prototype;return n.Qot=function(t){return this.qot=this.qot||{},void 0===this.qot[t]&&(this.qot[t]=[]),this.qot[t]},n.addEventListener=function(t,n){var i=this.Qot(t);-1===i.indexOf(n)&&i.push(n)},n.Zs=function(t){(this.Yot||(this.Yot=[])).push(t)},n.removeEventListener=function(t,n){var i=this.Qot(t);n?Ms(i,n):i.length=0},n.nu=function(t){var n=this.Yot;n&&Ms(n,t)},n.Ks=function(){this.qot=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),sH.push(i),void a(uH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.Qot(t.type).slice(),r=this.Yot&&this.Yot.slice(),s=0;s<e.length;s++){e[s].call(this.jot||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.jot||this,t)}},n.Zot=function(t){return Boolean(this.qot&&this.qot[t]&&this.qot[t].length)},n.Kot=function(){return this.qot?d.keys(this.qot):[]},t}(),cH=function(t){function n(n,i){var e,r=vH[n];return(e=t.call(this,r?r.fu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Jot,e.helpLinkText=r&&r.$ot,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Jt);!function(t){t.nat="LICENSE_INVALID",t.iat="MANIFEST_NOT_FOUND",t.eat="MANIFEST_CORS_ERROR",t.rat="INVALID_HLS_MANIFEST",t.sat="PLAYBACK_ISSUE",t.uat="AUDIO_ISSUE",t.oat="BROWSER_SUPPORT_ISSUE",t.aat="INVALID_KEY",t.fat="DECRYPTION_ERROR",t.vat="AD_BLOCK_DETECTED",t.dat="THEOPLAYER_NOT_INITIALIZED",t.Q_="ERROR",t.wat="MANIFEST_SEQUENCE_RESET_ERROR",t._at="PLAYER_INCORRECTLY_CONFIGURED",t.gat="UNSUPPORTED"}(oH||(oH={}));for(var hH,fH=[{Wu:oH.nat,fu:"The license for this player is invalid. Please contact your service provider for additional information."},{Wu:oH.iat,fu:"Could not load the manifest file."},{Wu:oH.eat,fu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Jot:"https://www.theoplayer.com/documentation/cors.html",mat:!1},{Wu:oH.rat,fu:"The source of the player is an invalid HLS manifest.",Jot:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Wu:oH.sat,fu:"There appears to be a playback issue."},{Wu:oH.uat,fu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Wu:oH.oat,fu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Wu:oH.aat,fu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Wu:oH.fat,fu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Wu:oH.vat,fu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Wu:oH.dat,fu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Wu:oH.Q_,fu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Wu:oH.wat,fu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Wu:oH._at,fu:"The player is incorrectly configured.",Jot:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Wu:oH.gat,fu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],vH={},lH=0;lH<fH.length;lH++){var dH=fH[lH];vH[dH.Wu]=dH}function wH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function _H(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function gH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function mH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Vo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var yH,kH="x-";function bH(t,n,i,e){var r=t.split("@"),s=wH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{NJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},yat:{OD:o,LD:o+u-1}}}function pH(t,n,i){var e,r,s,u,o,a=0,c=0,h=0,f=null,v=0,l=!1,d=[],m=null,k=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new cH(oH.rat,{code:"HMP2670",uri:n});for(var p={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),_H(T,"#EXT")){if(_H(T,"#EXTINF"))h=(h=g(gH(T)))||.5;else if(_H(T,"#EXT-X-BYTERANGE"))f=gH(T);else if(_H(T,"#EXT-X-KEY"))(s=mH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=wH(s.uri,i);else if(_H(T,"#EXT-X-DISCONTINUITY")&&!_H(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(_H(T,"#EXT-X-STREAM-INF"))(r=mH(T)).X2=c++,(A+=1)<b.length&&(r.uri=wH(b[A].trim(),i),p.streams.push(r));else if(_H(T,"#EXT-X-MEDIA")&&!_H(T,"#EXT-X-MEDIA-"))(u=mH(T)).uri&&(u.uri=wH(u.uri,i)),p.media.push(u);else if(_H(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(gH(T));else if(_H(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))p.bat=!0,p.pat=_(gH(T),10);else if(_H(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(gH(T),10),p.Aat=!0,p.Tat=a;else if(_H(T,"#EXT-X-TARGETDURATION"))p.targetDuration=_(gH(T),10),p.hasTargetDuration=!0;else if(_H(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))p.isEvent=!0;else if(_H(T,"#EXT-X-ENDLIST"))p.live=!1,p.hasEnd=!0;else if(_H(T,"#EXT-X-MAP")){var S=mH(T),E=S.uri,I=S.byterange;o=I?bH(I,E,i,0):wH(E,i)}else if(_H(T,"#EXT-X-VERSION"))p.version=_(gH(T),10);else if(_H(T,"#EXT-X-DATERANGE")){var R=AH(T);p.dateRanges.push(R)}}else if(_H(T,"#"));else if(0!==T.length){f?k=(e=bH(f,T,i,k)).yat.LD+1:e=wH(T,i);var N,D=s&&Nr({},s);s&&void 0===s.iv&&(N=a%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),p.fragments.push({start:0,duration:h,uri:e,X2:a,Sat:l,l2:v,key:D,h2:m,Eat:d,Iat:!1,Rat:o}),a+=1,h=0,f=null,l=!1,m=null,d=[]}}return p.hasEnd&&p.fragments.length&&(p.fragments[p.fragments.length-1].Iat=!0),p.isMasterPlaylist=0!==p.streams.length,p.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{Nat:i,Dat:e,Cat:n?t.fragments[n-1].duration:0,Pat:r/n,Bat:r}}(p),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(p),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(p),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.X2-n.X2})}(p),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Us(t.media,s)}}(p,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(p),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(p),p}function AH(t){var n=mH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];vs(r,kH)&&(n[r.substr(kH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{X_:n.id,R0:n.class,$N:e,m0:r,Yg:n.duration,N0:n["planned-duration"],D0:s,C0:i,P0:u,B0:o,O0:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(yH||(yH={}));(hH={})[yH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",hH[yH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",hH[yH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",hH[yH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",hH[yH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",hH[yH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",hH[yH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var TH=function(){function t(){}return t.prototype.xA=function(t,n,i){return pH(t,n,i)},t}(),SH=3,EH=function(){function t(t,n,i){void 0===i&&(i=SH),this.kE=t,this.i6=n,this.Oat=i}var n=t.prototype;return n.xat=function(t,n,i){return this.Lat(t,n,!0,i)},n.Mat=function(t,n,i){return this.Lat(t,n,!1,i)},n.Lat=function(t,n,i,e){var r,s,u,o,a,c,h,f;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Oat)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Rr.awrap(cu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,c=new Jw({ud:a,Jl:pf.Kn,Kl:n,Dd:this.i6,Ed:Yw.GET,us:jw.fd,Rd:Qw.hd,zs:e}),i.next=14,Rr.awrap(this.kE.ed(c));case 14:return h=i.sent,i.next=17,Rr.awrap(h.Ol(e));case 17:return f=i.sent,i.abrupt("return",{Uat:f,Xat:a,rd:h.rd});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],Ve)},t}(),IH=function(){function t(t){this.Fat=void 0,this.Fat=t}return t.prototype.Hat=function(t,n,i,e){var r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Fat;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Rr.awrap(o.Hat(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),tu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],Ve)},t}(),RH=function(){function t(t){this.t4=t}return t.prototype.Hat=function(t,n,i,e){var r;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.t4.v4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Uat:r.data,Xat:r.locationURL,rd:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,Ve)},t}(),NH=function(){function t(t){this.zat=t}return t.prototype.Hat=function(t,n,i,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Rr.awrap(this.zat.xat(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Rr.awrap(this.zat.Mat(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ve)},t}();function DH(t,n){return new IH([new RH(n),new NH(t)])}var CH=function(){function t(t,n,i){this.Vat=t,this.Wat=n,this.Gat=i}var n=t.prototype;return n.Hat=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Rr.awrap(this.Vat.Hat(t,n,i,e));case 3:return r=s.sent,s.next=6,Rr.awrap(this.qat(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,Ve)},n.qat=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.Wat.dot({key:HF(t.Xat),locationURL:i_(t.Xat),responseURL:i_(t.rd),data:t.Uat,references:[this.Gat.X_]}));case 2:case"end":return n.stop()}},null,this,null,Ve)},t}();function PH(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var BH,OH=function(){function t(t,n,i){this.Rh=void 0,this.kE=void 0,this.Vat=void 0,this.Yat=void 0,this.Yat=new TH,this.Rh=t,this.kE=i;var e=this.Rh&&this.Rh.crossOrigin===Lm.Pg,r=new EH(i,e,1);this.Vat=DH(r,new VF(eH.Gn.Aot,eH.Gn.pot,eH.Gn.Y0,eH.Gn.Sot))}var n=t.prototype;return n.zc=function(t,n,i){var e=this.Dw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Dw=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Rr.awrap(this.Vat.Hat([t],n));case 3:return i=r.sent,t=i.rd,e=this.Yat.xA(i.Uat,t,PH(t)),r.abrupt("return",{ym:e,jat:i.Uat});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof a_)){r.next=16;break}throw new cH(oH.iat,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof c_)){r.next=24;break}if(0!==r.t0.qd.Zl){r.next=21;break}throw new cH(oH.eat,{code:"MFL3900",uri:t,status:r.t0.qd.Zl});case 21:throw new cH(oH.iat,{code:"MFL4100",uri:t,status:r.t0.qd.Zl});case 22:r.next=25;break;case 24:throw new cH(oH.Q_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],Ve)},t}(),xH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qat=void 0,e.Zat=void 0,e.Kat=void 0,e.Jat=void 0,e.$at=void 0,e.tct=void 0,e.nct=void 0,e.sN=void 0,e.Qat=new OH(i||{},eH.Gn.Aot,n),e}S(n,t);var i=n.prototype;return i.Fm=function(){void 0!==this.Jat&&(c(this.Jat),this.Jat=void 0),this.Kat&&this.Kat.ed&&(this.Kat=void 0)},i.ict=function(t){if(this.nct)for(var n=0,i=this.nct.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.ect=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Bat<3*s)?1e3*u.Nat:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.rct=function(t){if(t.fragments.length>0)for(var n=this.ict(t.fragments[0].uri),i=n&&n.X2||0,e=0,r=t.fragments;e<r.length;e++){r[e].X2+=i}},i.sct=function(t,i,e,r,s,u){var o=this;if(this.Kat&&e===this.Kat.ed){var c=XI()-i;if(r){this.Kat=void 0,this.sN=r;var h={type:"wu",wu:r};return this.dispatchEvent(h),s&&s(r)}this.Kat=void 0;var f=u.ym,v=u.jat;f.Aat||this.rct(f),t===this.Zat&&(this.tct=f),this.nct=f;var l=n.ect(f,v,this.$at,c);f.live?f.isMasterPlaylist||(this.Jat=a(function(){return o.Dw(t)},l)):this.Fm(),s&&s(r,u);var d={type:"uct",manifest:f,manifestText:v};this.dispatchEvent(d),this.$at=v}},i.Dw=function(t,n){var i=this,e=XI(),r=t;c(this.Jat),this.Jat=void 0;var s=this.Qat.zc(r,{},function(r,u){return i.sct(t,e,s,r,n,u)});this.Kat={ed:s,ud:t}},i.OD=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.nct?this.nct.uri:this.Zat))&&(this.Kat&&this.Kat.ud===t?n&&(i=function(t){s.removeEventListener("wu",e),s.removeEventListener("uct",i);var r=t;n(null,{ym:r.manifest,jat:r.manifestText})},e=function(t){s.removeEventListener("wu",e),s.removeEventListener("uct",i),n(t.wu)},this.addEventListener("wu",e),this.addEventListener("uct",i)):(this.Fm(),this.Dw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.act=function(t){t&&(this.$at=void 0,this.tct&&this.tct.isMasterPlaylist?this.OD(t.uri):this.nct&&!this.cct()&&this.OD(this.nct.uri))},i.Bd=function(){this.Fm(),this.Ks()},i.cct=function(){return!!this.Kat||!!this.Jat||!(!this.nct||this.nct.live)},A(n,[{key:"ym",get:function(){return this.nct}},{key:"hct",get:function(){return this.tct}},{key:"fct",get:function(){return this.Zat},set:function(t){this.Fm(),this.$at=void 0,this.tct=void 0,this.nct=void 0,this.Zat=t}}]),n}(aH),LH=function(t){function n(){return t.call(this,"vct")||this}return S(n,t),n}(wu),MH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lct=void 0,r.dct=void 0,r.wct=void 0,r.zet=void 0,r._ct=void 0,r.kE=void 0,r.iq=void 0,r.gct=void 0,r.mct=function(){r.Ys(new LH)},r.zet=n,r._ct=Nr({},i,{crossOrigin:r.zet.crossOrigin,withCredentials:r.zet.useCredentials,liveOffset:r.zet.liveOffset,hlsDateRange:r.zet.hlsDateRange}),r.kE=e,r.dct=[],r.iq=!1,r}S(n,t);var i=n.prototype;return i.yct=function(){if(this.wct)return this.wct.ym},i.OD=function(t){var n=this;ou(rM(function(){return n.kct()},t))},i.kct=function(){var t,n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(this.bct());case 2:if((t=u.sent).isMasterPlaylist)for(this.lct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new xH(this.kE,this._ct),this.dct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new xH(this.kE,this._ct),this.dct.push({stream:{uri:t.uri},updater:s});this.gct&&(this.pct(this.gct.width,this.gct.height),this.gct=void 0),this.iq=!0;case 6:case"end":return u.stop()}},null,this,null,Ve)},i.Act=function(t,n){this.iq?this.pct(t,n):this.gct={width:t,height:n}},i.pct=function(t,n){this.Tct();var i=this.Sct(t,n);i&&(this.wct=i.updater,this.wct.addEventListener("uct",this.mct),i.updater.OD(i.stream.uri))},i.Tct=function(){this.wct&&(this.wct.Fm(),this.wct.removeEventListener("uct",this.mct),this.wct=void 0)},i.Sct=function(t,n){return 1===this.dct.length?this.dct[0]:Os(this.dct,function(i){return i.stream.width===t&&i.stream.height===n})},i.bct=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new OH(this._ct,eH.Gn.Aot,this.kE),i.next=3,Rr.awrap(t.zc(this.zet.src,{}));case 3:return n=i.sent,i.abrupt("return",n.ym);case 5:case"end":return i.stop()}},null,this,null,Ve)},i.Bd=function(){this.Tct();for(var t=0,n=this.dct;t<n.length;t++){n[t].updater.Bd()}Hs(this.dct)},n}(lu),UH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Ect=void 0,r.Ict=void 0,r.MM=void 0,r.Rct=!1,r.H0=void 0,r.Gq=void 0,r.handleManifestUpdate=function(){var t=r.Ect.yct();if(t){var n=r.$N;if(n){var i=n.getTime(),e=r.H0;e||(e=new Mx,r.H0=e),e.Wc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Rct&&e.og.N_>0&&(r.Lm.T_(e),r.Gq.T_(e),r.Rct=!0)}}},r.Nct=function(){r.Ect&&r.Ect.Act(r.nm,r.tm)},r.Ict=i,r.MM=e,r.Gq=new FP(Zt(r)),r.js(bf.Nf,r.Nct),r}S(n,t);var i=n.prototype;return i.zm=function(n,i,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(t.prototype.zm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Dct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,Ve)},i.Dct=function(t,n,i){this.Ect&&(this.Ect.Js("vct",this.handleManifestUpdate),this.Ect.Bd()),this.Ect=new MH(t,n,this.Ict),this.Ect.js("vct",this.handleManifestUpdate),this.Ect.OD(i)},i.I_=function(){return this.H0&&(this.Lm.S_(this.H0),this.Gq.S_(this.H0),this.H0.Bd(),this.H0=void 0,this.Rct=!1),this.Gq.I_(),t.prototype.I_.call(this)},i.Bd=function(){return this.Js(bf.Nf,this.Nct),this.Ect&&(this.Ect.Js("vct",this.handleManifestUpdate),this.Ect.Bd()),this.Gq.Bd(),t.prototype.Bd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Cct=void 0,i.Cct=n;for(var e=0;e<jS.length;e++){var r=jS[e];i.Cct.js(r,i.qs)}return i}S(n,t);var i=n.prototype;return i.Vm=function(){return this.Cct.Vm()},i.Jm=function(){return this.Cct.Jm()},i.Km=function(){return this.Cct.Km()},i.Zm=function(){return this.Cct.Zm()},i.oy=function(){return this.Cct.oy()},i.Xm=function(){return this.Cct.Xm()},i.Um=function(){return this.Cct.Um()},i.I_=function(){return this.Cct.I_()},i.zm=function(t,n,i){return this.Cct.zm(t,n,i)},i.Qm=function(){return this.Cct.Qm()},i.Wm=function(){return this.Cct.Wm()},i.Gm=function(){return this.Cct.Gm()},i.Bd=function(){this.Ks();for(var t=0;t<jS.length;t++){var n=jS[t];this.Cct.Js(n,this.qs)}return this.Cct.Bd()},A(n,[{key:"Om",get:function(){return this.Cct.Om}},{key:"vy",get:function(){return this.Cct.vy}},{key:"ly",get:function(){return this.Cct.ly},set:function(t){this.Cct.ly=t}},{key:"qg",get:function(){return this.Cct.qg},set:function(t){this.Cct.qg=t}},{key:"Yg",get:function(){return this.Cct.Yg}},{key:"jg",get:function(){return this.Cct.jg}},{key:"Qg",get:function(){return this.Cct.Qg}},{key:"Mm",get:function(){return this.Cct.Mm}},{key:"wu",get:function(){return this.Cct.wu}},{key:"_y",get:function(){return this.Cct._y}},{key:"pm",get:function(){return this.Cct.pm}},{key:"Zg",get:function(){return this.Cct.Zg},set:function(t){this.Cct.Zg=t}},{key:"Sy",get:function(){return this.Cct.Sy}},{key:"Kg",get:function(){return this.Cct.Kg}},{key:"Jg",get:function(){return this.Cct.Jg},set:function(t){this.Cct.Jg=t}},{key:"Ey",get:function(){return this.Cct.Ey}},{key:"Iy",get:function(){return this.Cct.Iy},set:function(t){this.Cct.Iy=t}},{key:"rg",get:function(){return this.Cct.rg}},{key:"Ry",get:function(){return this.Cct.Ry}},{key:"$g",get:function(){return this.Cct.$g}},{key:"$N",get:function(){return this.Cct.$N}},{key:"Lm",get:function(){return this.Cct.Lm}},{key:"tm",get:function(){return this.Cct.tm}},{key:"xm",get:function(){return this.Cct.xm}},{key:"nm",get:function(){return this.Cct.nm}},{key:"im",get:function(){return this.Cct.im},set:function(t){this.Cct.im=t}},{key:"Ny",get:function(){return this.Cct.Ny}},{key:"Dy",get:function(){return this.Cct.Dy},set:function(t){this.Cct.Dy=t}},{key:"tD",get:function(){return this.Cct.tD}}]),n}(Dm));BH=function(t,n,i){return new UH(t,n,i)},HS.uD().oD(BH);var XH=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},FH=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),HH={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(HH,HH.exports);var zH=HH.exports;function VH(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function WH(t){return JSON.stringify(t,HH.exports.getSerialize(VH))}var GH={},qH={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(qH);var YH={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(YH);var jH={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(jH),d.defineProperty(GH,"__esModule",{value:!0});var QH=qH.isS,ZH=qH.isChar,KH=qH.isNameStartChar,JH=qH.isNameChar,$H=qH.S_LIST,tz=qH.NAME_RE,nz=YH.isChar,iz=jH.isNCNameStartChar,ez=jH.isNCNameChar,rz=jH.NC_NAME_RE;const sz="http://www.w3.org/XML/1998/namespace",uz="http://www.w3.org/2000/xmlns/",oz={__proto__:null,xml:sz,xmlns:uz},az={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},cz=-1,hz=-2,fz=0,vz=1,lz=2,dz=3,wz=4,_z=5,gz=6,mz=7,yz=8,kz=9,bz=10,pz=11,Az=12,Tz=13,Sz=14,Ez=15,Iz=16,Rz=17,Nz=18,Dz=19,Cz=20,Pz=21,Bz=22,Oz=23,xz=24,Lz=25,Mz=26,Uz=27,Xz=28,Fz=29,Hz=30,zz=31,Vz=32,Wz=33,Gz=34,qz=35,Yz=36,jz=37,Qz=38,Zz=39,Kz=40,Jz=41,$z=42,tV=43,nV=44,iV=9,eV=10,rV=13,sV=32,uV=33,oV=38,aV=45,cV=47,hV=59,fV=60,vV=61,lV=62,dV=63,wV=91,_V=93,gV=133,mV=8232,yV=t=>34===t||39===t,kV=[34,39],bV=[...kV,wV,lV],pV=[...kV,fV,_V],AV=[vV,dV,...$H],TV=[...$H,lV,oV,fV];function SV(t,n,i){switch(n){case"xml":i!==sz&&t.fail(`xml prefix must be bound to ${sz}.`);break;case"xmlns":i!==uz&&t.fail(`xmlns prefix must be bound to ${uz}.`)}switch(i){case uz:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${uz}.`);break;case sz:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const EV=t=>rz.test(t),IV=t=>tz.test(t),RV=0,NV=1,DV=2;GH.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const CV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var PV=GH.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=iz,this.nameCheck=ez,this.isName=EV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},oz);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))SV(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=KH,this.nameCheck=JH,this.isName=IV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.oo}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=RV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?Tz:fz,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.oo=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(az),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[CV[t]]=n}off(t){this[CV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===rV||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return cz;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=sV||i===iV)return i;switch(i){case eV:return this.line++,this.column=0,this.positionAtNewLine=this.position,eV;case rV:return t.charCodeAt(n+1)===eV&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,hz;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return cz;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==mV||i===iV)return i;switch(i){case eV:return this.line++,this.column=0,this.positionAtNewLine=this.position,eV;case rV:{const i=t.charCodeAt(n+1);i!==eV&&i!==gV||(this.i=n+2)}case gV:case mV:return this.line++,this.column=0,this.positionAtNewLine=this.position,hz;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===hz?eV:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===hz,s=r?eV:e;if(s===cz||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case hz:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=eV;break;case cz:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===cz)return this.name+=t.slice(n),cz;if(!JH(i))return this.name+=t.slice(n,this.prevI),i===hz?eV:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===cz||!QH(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=ZH,this.getCode=this.getCode10):(this.isChar=nz,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=vz}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case fV:if(this.state=Ez,0!==this.text.length)throw new v("no-empty text at start");break;case cz:break;default:this.unget(),this.state=Tz,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(bV);switch(n){case lV:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=Tz,this.doctype=!0;break;case cz:break;default:this.text+=String.fromCodePoint(n),n===wV?this.state=wz:yV(n)&&(this.state=dz,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=lz)}sDTD(){const t=this.captureTo(pV);t!==cz&&(this.text+=String.fromCodePoint(t),t===_V?this.state=lz:t===fV?this.state=gz:yV(t)&&(this.state=_z,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=wz,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case uV:this.state=mz,this.openWakaBang="";break;case dV:this.state=pz;break;default:this.state=wz}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?yz:wz,this.openWakaBang="")}sDTDComment(){this.captureToChar(aV)&&(this.text+="-",this.state=kz)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===aV?bz:yz}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===lV?this.state=wz:(this.fail("malformed comment."),this.state=yz)}sDTDPI(){this.captureToChar(dV)&&(this.text+="?",this.state=Az)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===lV&&(this.state=wz)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case hz:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case hV:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===Tz&&void 0===this.textHandler||(this.text+=r);break t}case cz:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(KH(t))this.state=Gz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case cV:this.state=tV,this.xmlDeclPossible=!1;break;case uV:this.state=Iz,this.openWakaBang="",this.xmlDeclPossible=!1;break;case dV:this.state=Oz;break;default:this.fail("disallowed character in tag name"),this.state=Tz,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Cz,this.openWakaBang="";break;case"--":this.state=Rz,this.openWakaBang="";break;case"DOCTYPE":this.state=lz,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(aV)&&(this.state=Nz)}sCommentEnding(){var t;const n=this.getCodeNorm();n===aV?(this.state=Dz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=Rz)}sCommentEnded(){const t=this.getCodeNorm();t!==lV?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=Rz):this.state=Tz}sCData(){this.captureToChar(_V)&&(this.state=Pz)}sCDataEnding(){const t=this.getCodeNorm();t===_V?this.state=Bz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=Cz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case lV:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=Tz;break;case _V:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=Cz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=xz):t===dV||QH(t)?(this.fail("processing instruction without a target."),this.state=t===dV?Mz:Lz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=xz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===cz)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===dV;e||QH(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?Wz:Uz):this.state=e?Mz:Lz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===dV?this.state=Mz:QH(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(dV)&&(this.state=Mz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===lV){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=Tz}else n===dV?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=Lz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==dV?t!==cz&&(this.state=Xz,this.name=String.fromCodePoint(t)):this.state=Wz}sXMLDeclName(){const t=this.captureTo(AV);if(t===dV)return this.state=Wz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(QH(t)||t===vV){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===vV?Hz:Fz}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===dV)return this.state=Wz,void this.fail("XML declaration is incomplete.");QH(t)||(t!==vV&&this.fail("value required."),this.state=Hz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===dV)return this.state=Wz,void this.fail("XML declaration is incomplete.");QH(t)||(yV(t)?this.q=t:(this.fail("value must be quoted."),this.q=sV),this.state=zz)}sXMLDeclValue(){const t=this.captureTo([this.q,dV]);if(t===dV)return this.state=Wz,this.text="",void this.fail("XML declaration is incomplete.");if(t===cz)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Vz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==dV?(QH(t)||(this.fail("whitespace required."),this.unget()),this.state=Uz):this.state=Wz}sXMLDeclEnding(){var t;this.getCodeNorm()===lV?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Tz):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===cz)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case lV:this.openTag();break;case cV:this.state=qz;break;default:QH(n)||this.fail("disallowed character in tag name."),this.state=Yz}}sOpenTagSlash(){this.getCode()===lV?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Yz)}sAttrib(){const t=this.skipSpaces();t!==cz&&(KH(t)?(this.unget(),this.state=jz):t===lV?this.openTag():t===cV?this.state=qz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===vV?this.state=Zz:QH(t)?this.state=Qz:t===lV?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==cz&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case cz:return;case vV:this.state=Zz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===lV?this.openTag():KH(t)?(this.unget(),this.state=jz):(this.fail("disallowed character in attribute name."),this.state=Yz)}}sAttribValue(){const t=this.getCodeNorm();yV(t)?(this.q=t,this.state=Kz):QH(t)||(this.fail("unquoted attribute value."),this.state=$z,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=Jz);case oV:return this.text+=n.slice(i,this.prevI),this.state=Sz,void(this.entityReturnState=Kz);case eV:case hz:case iV:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case fV:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case cz:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();QH(t)?this.state=Yz:t===lV?this.openTag():t===cV?this.state=qz:KH(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=jz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(TV);switch(t){case oV:this.state=Sz,this.entityReturnState=$z;break;case fV:this.fail("disallowed character.");break;case cz:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===lV?this.openTag():this.state=Yz}}sCloseTag(){const t=this.captureNameChars();t===lV?this.closeTag():QH(t)?this.state=nV:t!==cz&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case lV:this.closeTag();break;case cz:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case fV:if(this.state=Ez,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=RV;break t;case oV:this.state=Sz,this.entityReturnState=Tz,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=RV;break t;case _V:switch(n){case RV:n=NV;break;case NV:n=DV;break;case DV:break;default:throw new v("impossible state")}break;case lV:n===DV&&this.fail('the string "]]>" is disallowed in char data.'),n=RV;break;case hz:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=RV;break;case cz:void 0!==e&&(this.text+=i.slice(t));break t;default:n=RV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case fV:if(this.state=Ez,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case oV:this.state=Sz,this.entityReturnState=Tz,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case hz:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case cz:void 0!==i&&(this.text+=n.slice(t));break t;default:QH(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,SV(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,SV(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==fz&&this.state!==Tz&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.oo=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?uz:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=Tz,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=Tz,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=Tz,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},BV=function(){function t(){}return t.prototype.ei=function(t){var n=new PV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new FV,e=[i];function r(t){e[e.length-1].Ri(t)}return n.on("text",function(t){e.length>1&&r(new UV(t))}),n.on("cdata",function(t){r(new XV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new LV({ai:n,di:""===i?void 0:i,Pct:""===s?void 0:s}),o=t.attributes,a=0,c=d.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,l=h.uri,w=h.value,_=new OV({ai:v,_i:w,di:""===l?void 0:l,Pct:""===f?void 0:f});u.Bct(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new $t(t)}),n.write(t).close(),i},t}(),OV=function(){function t(t){this.Oct=void 0,this.xct=void 0,this.Lct=void 0,this.me=void 0,this.Oct=t.ai,this.me=t._i,this.xct=t.di,this.Lct=t.Pct}var n=t.prototype;return n.ui=function(t){return this===t||!!zV(this,t)&&(this.Oct===t.Oct&&this.xct===t.xct&&this.Lct===t.Lct&&this.me===t.me)},n.oi=function(){return new t({ai:this.ai,_i:this._i,di:this.di,Pct:this.wi})},A(t,[{key:"Qn",get:function(){return Gt.Jn}},{key:"ai",get:function(){return this.Oct}},{key:"ci",get:function(){return void 0===this.Lct?this.Oct:this.Lct+":"+this.Oct}},{key:"di",get:function(){return this.xct}},{key:"wi",get:function(){return this.Lct}},{key:"_i",get:function(){return this.me}}]),t}(),xV=function(){function t(){this.Ai=[]}var n=t.prototype;return n.Ti=function(t){return this.Ai.filter(function(n){return HV(n)&&n.Ei===t})},n.Ii=function(t,n){return this.Ai.filter(function(i){return HV(i)&&i.ai===n&&i.di===t})},n.Ri=function(t){this.Ai.push(t)},A(t,[{key:"Si",get:function(){return this.Ai}},{key:"Di",get:function(){return this.Ai.filter(HV)}}]),t}(),LV=function(t){function n(n){var i;return(i=t.call(this)||this).Oct=void 0,i.xct=void 0,i.Lct=void 0,i.Mct=[],i.Oct=n.ai,i.xct=n.di,i.Lct=n.Pct,i}S(n,t);var i=n.prototype;return i.Uct=function(t){for(var n=0,i=this.Si;n<i.length;n++){var e=i[n];HV(e)?e.Uct(t):t.push(e.Xi)}},i.Pi=function(t,n){for(var i=0,e=this.Mct;i<e.length;i++){var r=e[i];if(r.ai===n&&r.di===t)return r._i}},i.Ci=function(t){for(var n=0,i=this.Mct;n<i.length;n++){var e=i[n];if(e.ci===t)return e._i}},i.Bct=function(t){this.Mct.push(t)},i.Bi=function(t){for(var n=0;n<this.Mct.length;n++)if(this.Mct[n].ci===t)return void this.Mct.splice(n,1)},i.Oi=function(t,n){for(var i=0;i<this.Mct.length;i++)if(this.Mct[i].ai===n&&this.Mct[i].di===t)return void this.Mct.splice(i,1)},i.xi=function(t,n){this.Bi(t),this.Bct(new OV({ai:t,_i:n}))},i.Li=function(t,n,i){this.Bi(n);var e=n.split(":");this.Bct(new OV({ai:e[e.length-1],_i:i,di:t,Pct:e.length>1?e[0]:void 0}))},i.oi=function(t){var i=new n({ai:this.ai,di:this.di,Pct:this.wi});return this.Mi.forEach(function(t){return i.Bct(t.oi())}),t&&this.Si.forEach(function(n){return i.Ri(n.oi(t))}),i},i.ui=function(t){return this===t||!!zV(this,t)&&(this.Oct===t.Oct&&this.Lct===t.Lct&&this.xct===t.xct&&(VV(this.Mi,t.Mi)&&VV(this.Si,t.Si)))},A(n,[{key:"Qn",get:function(){return Gt.Zn}},{key:"Mi",get:function(){return this.Mct}},{key:"ai",get:function(){return this.Oct}},{key:"di",get:function(){return this.xct}},{key:"wi",get:function(){return this.Lct}},{key:"Ei",get:function(){return void 0===this.Lct?this.Oct:this.Lct+":"+this.Oct}},{key:"Ui",get:function(){var t=[];return this.Uct(t),t.join("")}}]),n}(xV),MV=function(){function t(t){this.Vi=void 0,this.Vi=t}return A(t,[{key:"Xi",get:function(){return this.Vi}}]),t}(),UV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.oi=function(){return new n(this.Xi)},i.ui=function(t){return this===t||!!zV(this,t)&&this.Xi===t.Xi},A(n,[{key:"Qn",get:function(){return Gt.Kn}}]),n}(MV),XV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.oi=function(){return new n(this.Xi)},i.ui=function(t){return this===t||!!zV(this,t)&&this.Xi===t.Xi},A(n,[{key:"Qn",get:function(){return Gt.$n}}]),n}(MV),FV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.oi=function(t){var i=new n;return t&&this.Si.forEach(function(n){return i.Ri(n.oi(t))}),i},i.ui=function(t){return this===t||!!zV(this,t)&&VV(this.Si,t.Si)},A(n,[{key:"Qn",get:function(){return Gt.ni}},{key:"Fi",get:function(){return this.Di[0]}}]),n}(xV);function HV(t){return jt(t)}function zV(t,n){return t.Qn===n.Qn}function VV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ui(n[i]))return!1;return!0}var WV,GV=["adBreak"],qV=["adBreak"];function YV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,CA(t,GV)})})})}function jV(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,CA(t,qV)})})}function QV(t){return"string"==typeof t.date?new Date(t.date):t.date}function ZV(t){var n;return t.cue.track?(n=JV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=JV(t.cue,""),n}function KV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function JV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new BV).ei(e.firstChild.outerHTML).Fi.Mi.forEach(function(t){r[t.ai]=t._i}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(c=o)&&null!==c){var a=$V(o);s[u]={type:WV.Xct,value:a}}else nW(o)?s[u]={type:WV.Fct,value:o}:s[u]={type:WV.yQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=$V(t.scte35Cmd),i.scte35Out=$V(t.scte35Out),i.scte35In=$V(t.scte35In),i.customAttributes=s}var c}(),i}function $V(t){if(void 0!==t)return Pu(t)}function tW(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(JV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(JV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function nW(t){return"number"==typeof t}!function(t){t.yQ="daterange-ca-type_string",t.Fct="daterange-ca-type_number",t.Xct="daterange-ca-type_arraybuffer"}(WV||(WV={}));var iW={cue:function(t){var n={};switch(n.date=QV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=ZV(t)}return n},textTrack:function(t){var n={};switch(n.date=QV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;uW().register(i);var e=sW()[oW()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=ZV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(JV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:tW(t.track),date:QV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=uW();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=QV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case bf.Xf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=tW(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=jV(t.ad);break;case"adloaded":case"adimpression":n.ad=YV(t.ad);break;case"aderror":t.Hct&&(n.Hct=t.Hct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=YV(t.ad)}return KV(n)},minimizeCueHelper:function(t){var n={};return n.date=QV(t),n.type=t.type,n.cue=ZV(t),n.track={uid:t.cue.track.uid},n},adReplacer:YV,adBreakReplacer:jV,removeCircularReferences:KV},eW=function(){this.stringify=WH,this.minimize=iW};function rW(){return ve.self}function sW(){return rW().THEOplayerBridge}function uW(){return rW().THEOCueMirrorMap}function oW(){return rW().THEOplayerGlobalID}function aW(){var t=rW();if(t.THEOplayerBridge){var n=new XH;t.THEOplayerBridge=em(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new XH;t.THEOplayerUtils||(t.THEOplayerUtils=new eW),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new FH)}aW();var cW,hW=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(wu),fW=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ys(new hW(t,n))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n}(Cm),vW=function(t){function n(n,i){var e;return(e=t.call(this)||this).zct=void 0,e.Vct=void 0,e.Wct=function(t){e.zct.eK("THEOplayerABRSetTargetBuffer",t.sL),e.Ys(t)},e.Gct=function(t){e.zct.eK("THEOplayerABRSetStrategy",t.oL),e.Ys(t)},e.zct=n,e.Vct=i,e.Vct.js("uL",e.Wct),e.Vct.js("aL",e.Gct),e}return S(n,t),n.prototype.yL=function(t){return this.Vct.yL(t)},A(n,[{key:"bL",get:function(){var t;switch(this.oL.type){case LR.PERFORMANCE:return 1;case LR.QUALITY:return 0;case LR.BANDWIDTH:return null!=(t=this.oL.metadata)&&t.bitrate&&!m(this.oL.metadata.bitrate)?this.oL.metadata.bitrate:0;default:return 0}}},{key:"Jw",get:function(){return this.Vct.Jw}},{key:"oL",get:function(){return this.Vct.oL},set:function(t){this.Vct.oL=t}},{key:"sL",get:function(){return this.Vct.sL},set:function(t){this.Vct.sL=t}},{key:"kL",get:function(){return this.Vct.kL}},{key:"cL",get:function(){return this.Vct.cL},set:function(t){this.Vct.cL=t}},{key:"fL",get:function(){return this.Vct.fL}},{key:"tL",get:function(){return this.Vct.tL}}]),n}(lu),lW=function(){function t(t,n,i){this.Rh=void 0,this._s=void 0,this.Fh=void 0,this.Zc=void 0,this.Rh=t,this._s=i,this.Fh=n}var n=t.prototype;return n.EE=function(t){throw new v("Not implemented yet.")},n.EX=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this._s.As(t.hs,n));case 2:return i=r.sent,r.next=5,Rr.awrap(i.uh());case 5:return e=r.sent,r.next=8,Rr.awrap(this.IX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ve)},n.RX=function(t){return!1},n.NX=function(t){return Ve.resolve(void 0)},n.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.IX(void 0));case 2:case"end":return t.stop()}},null,this,null,Ve)},n.IX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.CX(t),i.next=3,Rr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,Ve)},n.CX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.Zc)){i.next=5;break}return i.next=4,Rr.awrap(n.eh(this.Fh));case 4:this.Zc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Rr.awrap(t.ih(this.Fh));case 8:this.Zc=t;case 9:case"end":return i.stop()}},null,this,null,Ve)},n.AE=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"Jc",get:function(){return this.Rh}},{key:"Iy",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Ry",get:function(){return new $S([0,1/0])}},{key:"Lm",get:function(){throw new v("Not implemented yet.")}},{key:"qct",get:function(){throw new v("Not implemented yet")}},{key:"xm",get:function(){throw new v("Not implemented yet.")}},{key:"Yct",get:function(){throw new v("Not implemented yet")}},{key:"jct",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Qct="webkitneedkey",t.Zct="webkitkeymessage",t.Kct="webkitkeyerror"}(cW||(cW={}));var dW=function(t){function n(n,i){var e;return(e=t.call(this,cW.Qct)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(wu),wW=function(t){function n(n,i){var e;return(e=t.call(this,cW.Zct)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(wu),_W=function(t){function n(){return t.call(this,cW.Kct)||this}return S(n,t),n}(wu),gW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).lh=new Wo,u.Nh=void 0,u._h=new Tu,u.Ch=new Wo,u.Jct=function(t){u.Nh?(u.Nh.Vu(void 0),u.Nh=void 0):u.Ah("internal-error"),u.Ys(new ku)},u.$ct=function(t){u.Nh&&(u.Nh.Hu(void 0),u.Nh=void 0),u.Ys(new yu(Zt(u),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},u.Sh=n,u.Mc=i,u.tht=e,u.Uh=r,u.Bh=s,u}S(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var e;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Oh){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Rr.awrap(this.nht(Uo(n),e));case 5:this.Ah("usable"),this.Ch.Hu(),this.Ch=new Wo;case 8:case"end":return t.stop()}},null,this,null,Ve)},i.zc=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,Ve)},i.Wc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Nh=new Wo,this.tht.Wc(this.Uh,n),i.next=7,Rr.awrap(this.Nh.Uu);case 7:case"end":return i.stop()}},null,this,null,Ve)},i.Fc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.Ch);case 2:return this.tht.Js(cW.Zct,this.$ct),this.tht.Js(cW.Kct,this.Jct),this.Ch.Xs(),this.lh.Hu(void 0),t.abrupt("return",this.lh.Uu);case 7:case"end":return t.stop()}},null,this,null,Ve)},i.Vc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,Ve)},i.nht=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=$h(t,n,this.Bh),this.tht.js(cW.Zct,this.$ct),this.tht.js(cW.Kct,this.Jct),this.tht.bq(this.Uh,i);case 4:case"end":return e.stop()}},null,this,null,Ve)},i.Ah=function(t){this._h.Ru(),this._h.Iu(Au,t),this.Ys(new mu(this))},A(n,[{key:"Qc",get:function(){return this.Uh}},{key:"Yc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return this._h}}]),n}(lu),mW=function(){function t(t,n,i){this.iht=void 0,this.Uh=void 0,this.Bh=void 0,this.tht=void 0,this.Mc=void 0,this.Rh=void 0,this.Sh=void 0,this.tht=t,this.Mc=n,this.Rh=i;var e=Uh(i)||"video/mp4";this.Sh=Oh(e)}var i=t.prototype;return i.$c=function(t){var i;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new gW(this.Sh,this.Mc,this.tht,this.Uh,this.Bh),this.iht=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.nh=function(t){return this.Bh=Uo(t),Ve.resolve(!0)},i.ih=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,Ve)},i.eh=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,Ve)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"Kc",get:function(){return this.Mc}},{key:"Jc",get:function(){return this.Rh}},{key:"sessionId",set:function(t){this.Uh=t}}]),t}(),yW=function(){function t(t,n,i){this.eht=t,this.Mc=n,this.Rh=i}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new mW(this.eht,this.Mc,this.Rh));case 1:case"end":return t.stop()}},null,this,null,Ve)},A(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),kW=function(){function t(t){this.eht=void 0,this.eht=t}return t.prototype.As=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Lh(bW,gu,t,e))){s.next=6;break}return s.abrupt("return",new yW(this.eht,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,Ve)},t}();function bW(t,n){return t===ns}var pW,AW=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Cq=function(t,n){return!0},n}(rB),TW=function(t){function n(n,i,e){var r;return void 0===e&&(e=new kW(i)),(r=t.call(this)||this).rN=void 0,r._s=void 0,r.pX=void 0,r.Lq=new VN,r.rht=void 0,r.eht=void 0,r.sht=!1,r.Uh=void 0,r.Ph=null,r.uht={gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.oht=function(t){"boolean"==typeof t.detail.casting&&(r.sht=t.detail.casting,r.Ys(new lk(r.sht)))},r.aht=function(t){r.Uh=t.sessionId,r.Ph&&(r.Ph.sessionId=r.Uh);var n=t.initData;if(n){var i=fB(n);if(!i)return;r.Ys(new bu(Gr,i))}else r.Ys(new bu(Gr,new ArrayBuffer(0)))},r.rht=n,r.eht=i,r.eht.js(cW.Qct,r.aht),r._s=e,r.pX=new AW(Zt(r)),r.cht(),r}S(n,t);var i=n.prototype;return i.LX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.us===jp.RE)return i}},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.I_());case 2:return this.Ks(),this.hht(),this.eht.Js(cW.Qct,this.aht),t.next=7,Rr.awrap(this.pX.Bs());case 7:case"end":return t.stop()}},null,this,null,Ve)},i.Zm=function(){throw new v("Not implemented yet")},i.AE=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.XN=function(){return!1},i.HN=function(t,n,i,e){throw new v("Not implemented yet")},i.EE=function(t){throw new v("Not implemented yet")},i.WN=function(){throw new v("Not implemented yet")},i.zc=function(t){var n=this;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Lq.YU(function(i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.us!==jp.RE){r.next=8;break}return $s(i),e=new lW(t,n,n._s),n.rN=e,n.pX.zc(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,Ve)}));case 1:case"end":return i.stop()}},null,this,null,Ve)},i.Xm=function(){throw new v("Not implemented yet")},i.Um=function(){throw new v("Not implemented yet")},i.I_=function(){var t=this;return this.Lq.Xs(),this.Lq.YU(function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.rN){n.next=4;break}return n.next=3,Rr.awrap(t.rN.Bs());case 3:t.rN=void 0;case 4:return n.next=6,Rr.awrap(t.pX.I_());case 6:case"end":return n.stop()}},null,null,null,Ve)})},i.Bu=function(t,n){throw new v("Not implemented yet")},i.KN=function(t){throw new v("Not implemented yet")},i.Qm=function(){throw new v("Not implemented yet")},i.JN=function(){return this.uht},i.cht=function(){this.rht.addEventListener("airPlayIsCasting",this.oht)},i.hht=function(){this.rht.removeEventListener("airPlayIsCasting",this.oht)},i.webkitSetMediaKeys=function(t){this.Ph=t||null,this.Ph&&(this.Ph.sessionId=this.Uh)},i.yj=function(){},i.gj=function(){throw new v("Not implemented yet")},i.mj=function(){throw new v("Not implemented yet")},A(n,[{key:"ly",get:function(){throw new v("Not implemented yet")}},{key:"vy",get:function(){throw new v("Not implemented yet")}},{key:"qg",get:function(){throw new v("Not implemented yet")}},{key:"IU",get:function(){throw new v("Not implemented yet")}},{key:"Yg",get:function(){throw new v("Not implemented yet")}},{key:"jg",get:function(){throw new v("Not implemented yet")}},{key:"wu",get:function(){throw new v("Not implemented yet")}},{key:"vT",get:function(){throw new v("Not implemented yet")}},{key:"_y",get:function(){return this.sht}},{key:"Zg",get:function(){throw new v("Not implemented yet")}},{key:"Kg",get:function(){throw new v("Not implemented yet")}},{key:"Jg",get:function(){throw new v("Not implemented yet")}},{key:"Ey",get:function(){throw new v("Not implemented yet")}},{key:"rg",get:function(){throw new v("Not implemented yet")}},{key:"Ry",get:function(){throw new v("Not implemented yet")}},{key:"$g",get:function(){throw new v("Not implemented yet")}},{key:"Aj",get:function(){throw new v("Not implemented yet")}},{key:"im",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Ck",get:function(){throw new v("Not implemented yet")}},{key:"VN",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ph}},{key:"Tj",get:function(){return oD}},{key:"Lm",get:function(){throw new v("Not implemented yet")}},{key:"NU",get:function(){throw new v("Not implemented yet")}},{key:"$N",get:function(){throw new v("Not implemented yet")}},{key:"bj",get:function(){return!0}},{key:"CN",get:function(){return this.pX.CN},set:function(t){this.pX.CN=t}},{key:"Oq",get:function(){return this.pX.Oq}}]),n}(Dm),SW=function(t){function n(n){var i;return(i=t.call(this,bf.zf)||this).uht=n,i}return S(n,t),n}(wu);function EW(t){switch(t.type){case pW.yQ:return t.value;case pW.Fct:return cm(t.value);case pW.Xct:return Du(t.value);default:return}}function IW(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.yQ="daterange-ca-type_string",t.Fct="daterange-ca-type_number",t.Xct="daterange-ca-type_arraybuffer"}(pW||(pW={}));var RW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).lR=void 0,u.fht=void 0,u.lR=n,u.fht=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.lR}},{key:"timestamp",get:function(){return this.fht}}]),n}(tf),NW=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this,n,i,e,r,a)||this).url=void 0,c.status=void 0,c.errorComment=void 0,c.url=s,c.status=u,c.errorComment=o,c}return S(n,t),n}(RW),DW=function(){function t(t,n){this.Dm=void 0,this.Gq=void 0,this.Dm=new bp,this.Gq=new MP(t,n)}var n=t.prototype;return n.AE=function(t,n,i,e,r,s,u){var o=new MC(t,n,i,e,r,s,u);return this.Dm.T_(o),this.Gq.T_(o),o},n.EE=function(t){this.Dm.S_(t),this.Gq.S_(t),t.Bd()},n.I_=function(){for(var t=0,n=this.Dm.R_.slice();t<n.length;t++){n[t].Bd()}this.Dm.I_(),this.Gq.I_()},n.Bd=function(){this.I_(),this.Dm.Bd(),this.Gq.Bd()},A(t,[{key:"Lm",get:function(){return this.Dm}}]),t}(),CW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).pC=0,u.wW=!1,u.sN=void 0,u.uN=void 0,u.vht=void 0,u.TC=!0,u.SC=1,u.Rm=void 0,u.Nm=void 0,u.Hq=void 0,u.Vq=void 0,u.Dm=void 0,u.yE=void 0,u.ea=void 0,u.G5=$S.gC(),u.nW=$S.gC(),u.AC=!1,u.$q=$S.gC(),u.EC=void 0,u.dht=void 0,u.wht=void 0,u._W=Fm.xg,u.DE=Fm.xg,u.rht=void 0,u.Gq=void 0,u.cN=void 0,u.zct=void 0,u.zet=void 0,u.DC=void 0,u.eN=void 0,u.hN=void 0,u.eht=void 0,u.uht={gy:0,yy:0,by:0,py:0,Ay:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.rN=void 0,u._ht=void 0,u.vN=new DS,u.lN=new LS,u.setCurrentTime=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ry.length){n.next=4;break}return u.pC=t,n.next=4,Rr.awrap(u.rht.uu("seekablechange"));case 4:u.pC=u.updateCurrentTime(t),u.zct.eK("THEOplayerSetCurrentTime",u.pC),u.EC=!0,u.Ys(new _y(u.pC));case 8:case"end":return n.stop()}},null,null,null,Ve)},u.ght=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.G5=new $S(i),u.Ys(new vD(u.qg))}},u.mht=function(t){u._W=t.detail.readyState,u.Ys(new yy(+t.detail.currentTime,u.rg)),u.yht()},u.kht=function(t){u._W=t.detail.readyState,u.Ys(new ky(+t.detail.currentTime,u.rg)),u.yht()},u.bht=function(t){if(t.detail){var n=+t.detail.duration;u.ea=n,u.Ys(new fy(u.Yg))}},u.pht=function(t){t.detail&&(u.wW=!0,u.Ys(new dy(+t.detail.currentTime)))},u.dN=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);IW(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.uN=new NW(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.sN=Yy(u.uN),u.Ys(new py(u.uN))):IW(i)&&(u.uN=new RW(i.name,i.message,void 0,i.code,i.timestamp),u.sN=Yy(u.uN),u.Ys(new py(u.uN)))}},u.Aht=function(t){u.Ys(new lD)},u.Tht=function(t){u._W=t.detail.readyState,u.Ys(new wy(+t.detail.currentTime,u.rg)),u.yht()},u.Sht=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ry.length){n.next=3;break}return n.next=3,Rr.awrap(u.rht.uu("seekablechange"));case 3:u._W=t.detail.readyState,u.Ys(new hy(+t.detail.currentTime,u.rg)),u.yht();case 6:case"end":return n.stop()}},null,null,null,Ve)},u.Eht=function(t){t.detail&&u.TC&&(u.TC=!1,u.Ys(new uy(+t.detail.currentTime)))},u.Iht=function(t){t.detail&&(u.TC||(u.TC=!0,u.Ys(new sy(+t.detail.currentTime))))},u.Rht=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.$q=new $S(i)}},u.Nht=function(t){t.detail&&u.Ys(new uA(+t.detail.currentTime))},u.Dht=function(t){t.detail&&(u.SC=t.detail.playbackRate,u.Ys(new vy(+t.detail.currentTime,u.SC)))},u.Cht=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.nW=new $S(i)}},u.Pht=function(t){t.detail&&(u.pC=+t.detail.currentTime,u.EC=!1,u.Ys(new ly(u.pC,u.vht)),u.Ys(new gy(u.pC)))},u.Bht=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ea&&(u.wW=!1),u.EC=!0,u.Ys(new _y(n))}},u.Oht=function(t){t.detail&&(t.detail.currentDate&&(u.vht=new Date(1e3*t.detail.currentDate)),u.pC=+t.detail.currentTime,u.Ys(new ly(u.pC,u.vht)))},u.xht=function(t){u.dht=t.detail.height,u.wht=t.detail.width},u.Lht=function(t){t.detail&&u.Ys(new sA(+t.detail.currentTime))},u.Mht=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Om.T_(new ok(n))},u.Uht=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Rm.N_;s++){var o=u.Om.A_(s);o.V_==e&&o.z_==r?i=u.Rm.A_(s):1==o.U_&&(n=u.Rm.A_(s))}i&&n&&(i.U_=!0,n.U_=!1)},u.Xht=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.xm.T_(new vk(n))},u.CZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===kp.rA&&e===hk.ID3?(n=new VP("",t.detail.label)).K_=km.Y_:i===kp.rA&&e===hk.DATE_RANGE?(n=new Mx,u._ht=n):n=new MC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Hq.T_(n),u.Gq.T_(n)},u.Fht=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new HP(cm(e.startTime),s,e.uid),a=u.Hht();a&&a.SE(o)}},u.zht=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Dk(cm(r.startTime),cm(r.endTime),r.content,!1),o=null!=(e=u.Vht(kp.iA))?e:u.Vht(kp.uE);o&&(o.us=hk.WEBVTT,o.SE(s))}},u.YY=function(t){t.type===bf.cf&&(u.sN=Yy(t.errorObject)),u.qs(t)},u.Wht=function(t){t.detail&&(u.uht.yy=t.detail.corruptedVideoFrames,u.uht.gy=t.detail.droppedVideoFrames,u.Ys(new SW(u.pm)))},u.Ght=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={X_:t.id};if(void 0!==t.startDate&&(n.$N=new Date(t.startDate)),void 0!==t.endDate&&(n.m0=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=EW(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.C0=e}void 0!==t.scte35Cmd&&(n.P0=Du(t.scte35Cmd)),void 0!==t.scte35In&&(n.O0=Du(t.scte35In)),void 0!==t.scte35Out&&(n.B0=Du(t.scte35Out)),void 0!==t.startTime&&(n.Zy=t.startTime),n.R0=t.class,n.Yg=cm(t.duration),n.N0=cm(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Zy?t.Zy:(new Date).getTime(),e=new xx(t,i);u._ht.SE(e),u._ht.Wc(n,i)})};var o=r.uid;u.zct=u.getSdkBridge(o),u.rht=new fW,sW()[o].sdkEventBus=u.rht,u.Rm=new Qy,u.Nm=new Qy;var a=u.qht(e);return u.yE=new DW(Zt(u),new UP),u.Gq=new FP(Zt(u)),u.cN=new zp(u.yE,a),u.Hq=new bp,u.Vq=new qP(u.yE,u.Hq),u.Dm=new BS([u.Hq,u.cN.ZA,u.Vq.ZA]),u.eht=u.getFairPlayControllerBridge(u.zct),u.eN=new TW(u.rht,u.eht),u.hN=new CS(a),u.eN.CN=u.hN,u.observeMediaElement(),u.BN(),u.DC=new vW(u.zct,s),u.DC.js("uL",function(){u.zct.eK("THEOplayerSetPreferredForwardBufferDuration",u.DC.sL)}),u}S(n,t);var i=n.prototype;return i.Jm=function(){return iE},i.Qm=function(){this.zct.eK("THEOplayerShow",{})},i.Zm=function(){this.zct.eK("THEOplayerHide",{})},i.Yht=function(){var t=this;this.zct.eK("THEOplayerSetInitialPreferredPeakBitRate",this.DC.bL);this.js("playing",function n(){t.zct.eK("THEOplayerSetInitialPreferredPeakBitRate",0),t.Js("playing",n)})},i.zm=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.zet=t,i=Nr({},n,{sources:{src:t.src,type:Mm.Rg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.zct.eK("THEOplayerSourceChange",i),e={us:jp.RE,cg:t.src,Ul:t.type,ON:this.xN(t),LN:t.crossOrigin,MN:n.metadata&&n.metadata.title},this.hN.HR(t.contentProtection),s.next=7,Rr.awrap(this.eN.zc(e));case 7:this.rN=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==hk.WEBVTT})).length>0&&this.UN(r),Yp(this.Lm),this.Yht();case 11:case"end":return s.stop()}},null,this,null,Ve)},i.xN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Kc:ss,jN:[{initDataTypes:[ss.fs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Um=function(){this.TC=!1,this.Ys(new uy(this.qg)),this.zct.eK("THEOplayerPlay",{})},i.Xm=function(){this.TC=!0,this.Ys(new sy(this.qg)),this.zct.eK("THEOplayerPause",{})},i.Km=function(){},i.I_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pC=0,this.wW=!1,this.sN=void 0,this.uN=void 0,this.TC=!0,this.SC=1,this.ea=void 0,this.nW=$S.gC(),this.G5=$S.gC(),this.dht=void 0,this.wht=void 0,this._W=Fm.xg,this.DE=Fm.xg,this.Rm.I_(),this.Nm.I_(),this.Hq.I_(),this.Dm.I_(),t.next=19,Rr.awrap(this.Vq.I_());case 19:return t.next=21,Rr.awrap(this.cN.I_());case 21:return this.yE.I_(),this.Gq.I_(),this.zet=void 0,t.next=26,Rr.awrap(this.eN.I_());case 26:case"end":return t.stop()}},null,this,null,Ve)},i.Wm=function(){this.zct.eK("THEOplayerShowAirPlayPicker",{})},i.Gm=function(){this.zct.eK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.pm.yy=t.yy,this.pm.gy=t.gy},i.Bd=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.I_());case 2:return this.Ks(),this.unobserveMediaElement(),this.qN(),this.eN.CN=void 0,t.next=8,Rr.awrap(this.eN.Bs());case 8:return this.Rm.Bd(),this.Nm.Bd(),this.Hq.Bd(),this.Dm.Bd(),t.next=14,Rr.awrap(this.Vq.Bd());case 14:return t.next=16,Rr.awrap(this.cN.Bd());case 16:this.yE.Bd(),this.Gq.Bd();case 18:case"end":return t.stop()}},null,this,null,Ve)},i.UN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cN.pE(i)}},i.yht=function(){var t=this.DE,n=this._W;t!==n&&(this.DE=n,this.Ys(new by(this.qg,n)))},i.observeMediaElement=function(){this.eN.js(bf.ef,this.qs),this.eN.js([bf.hf,bf.cf],this.YY),this.rht.addEventListener("play",this.Eht),this.rht.addEventListener("pause",this.Iht),this.rht.addEventListener("seeking",this.Bht),this.rht.addEventListener("seeked",this.Pht),this.rht.addEventListener("ratechange",this.Dht),this.rht.addEventListener("durationchange",this.bht),this.rht.addEventListener("timeupdate",this.Oht),this.rht.addEventListener("waiting",this.Lht),this.rht.addEventListener("playing",this.Nht),this.rht.addEventListener("ended",this.pht),this.rht.addEventListener("loadedmetadata",this.Sht),this.rht.addEventListener("loadeddata",this.Tht),this.rht.addEventListener("loadstart",this.Aht),this.rht.addEventListener("canplay",this.mht),this.rht.addEventListener("canplaythrough",this.kht),this.rht.addEventListener("error",this.dN),this.rht.addEventListener("seekablechange",this.Cht),this.rht.addEventListener("videosizechange",this.xht),this.rht.addEventListener("bufferedchange",this.ght),this.rht.addEventListener("playedchange",this.Rht),this.rht.addEventListener("metricschange",this.Wht),this.rht.addEventListener("addDateRangeCues",this.Ght)},i.unobserveMediaElement=function(){this.eN.Js(bf.ef,this.qs),this.eN.Js([bf.hf,bf.cf],this.YY),this.rht.removeEventListener("play",this.Eht),this.rht.removeEventListener("pause",this.Iht),this.rht.removeEventListener("seeking",this.Bht),this.rht.removeEventListener("seeked",this.Pht),this.rht.removeEventListener("ratechange",this.Dht),this.rht.removeEventListener("durationchange",this.bht),this.rht.removeEventListener("timeupdate",this.Oht),this.rht.removeEventListener("waiting",this.Lht),this.rht.removeEventListener("playing",this.Nht),this.rht.removeEventListener("ended",this.pht),this.rht.removeEventListener("loadedmetadata",this.Sht),this.rht.removeEventListener("loadeddata",this.Tht),this.rht.removeEventListener("loadstart",this.Aht),this.rht.removeEventListener("canplay",this.mht),this.rht.removeEventListener("canplaythrough",this.kht),this.rht.removeEventListener("error",this.dN),this.rht.removeEventListener("seekablechange",this.Cht),this.rht.removeEventListener("videosizechange",this.xht),this.rht.removeEventListener("bufferedchange",this.ght),this.rht.removeEventListener("playedchange",this.Rht),this.rht.removeEventListener("metricschange",this.Wht),this.rht.removeEventListener("addDateRangeCues",this.Ght)},i.updateCurrentTime=function(t){var n=this.Ry.start(0),i=this.Ry.end(0);return w.min(w.max(t,n),i)},i.Hht=function(){for(var t=0,n=this.Dm.R_;t<n.length;t++){var i=n[t];if(i.H_===kp.rA&&i.us===hk.ID3)return i}},i.Vht=function(t){for(var n=0,i=this.Dm.R_;n<i.length;n++){var e=i[n],r=e.K_===km.j_,s=e.H_===t;if(r&&s)return e}},i.BN=function(){this.rht.addEventListener("addaudiotrack",this.Mht),this.rht.addEventListener("enableaudiotrack",this.Uht),this.rht.addEventListener("addvideotrack",this.Xht),this.rht.addEventListener("addtexttrack",this.CZ),this.rht.addEventListener("addtexttrackid3cues",this.Fht),this.rht.addEventListener("addtexttrackcues",this.zht)},i.qN=function(){this.rht.removeEventListener("addaudiotrack",this.Mht),this.rht.removeEventListener("enableaudiotrack",this.Uht),this.rht.removeEventListener("addvideotrack",this.Xht),this.rht.removeEventListener("addtexttrack",this.CZ),this.rht.removeEventListener("addtexttrackid3cues",this.Fht),this.rht.removeEventListener("addtexttrackcues",this.zht)},i.oy=function(){},A(n,[{key:"Om",get:function(){return this.Rm}},{key:"vy",get:function(){return this.G5.ZN()}},{key:"ly",get:function(){return this.vht?this.vht:null},set:function(t){this.zct.eK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.vht=t}},{key:"qg",get:function(){return this.pC},set:function(t){this.setCurrentTime(t)}},{key:"Yg",get:function(){return this.ea}},{key:"jg",get:function(){return this.wW}},{key:"wu",get:function(){return this.sN}},{key:"Qg",get:function(){return this.uN}},{key:"Mm",get:function(){}},{key:"_y",get:function(){return this.eN._y}},{key:"pm",get:function(){return this.uht}},{key:"Zg",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.zct.eK("THEOplayerSetMuted",t),this.AC=t,this.Ys(new my(this.qg,t?0:1)))}},{key:"Kg",get:function(){return this.TC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.zct.eK("THEOplayerSetPlaybackRate",t),this.SC=t}},{key:"Ey",get:function(){return this.$q.ZN()}},{key:"Iy",get:function(){return GS.yD},set:function(t){}},{key:"rg",get:function(){return this._W}},{key:"Ry",get:function(){return this.nW.ZN()}},{key:"$g",get:function(){return this.EC}},{key:"$N",get:function(){}},{key:"Lm",get:function(){return this.Dm}},{key:"tm",get:function(){return this.dht}},{key:"nm",get:function(){return this.wht}},{key:"im",get:function(){return 1},set:function(t){}},{key:"Ny",get:function(){return this.lN}},{key:"xm",get:function(){return this.Nm}},{key:"tD",get:function(){return this.vN}},{key:"Dy",get:function(){return!1},set:function(t){}},{key:"Sy",get:function(){return!0}}]),n}(Dm),PW=function(){function t(){this.nD=SS.OR}var n=t.prototype;return n.iD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Wm(n.type))return!1;var e=n.contentProtection;if(e&&!GA(e)){if(!jA(e))return!1;if(!t.jht(e))return!1}return!0},t.jht=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.eD=function(){return!1},t}(),BW=function(){function t(){this.Qht=r.webkit}return t.prototype.eK=function(t,n){this.Qht.messageHandlers[t]&&this.Qht.messageHandlers[t].postMessage(n)},t}(),OW=function(t){function n(n){var i;return(i=t.call(this)||this).zct=void 0,i.rht=void 0,i.Zht=function(t){var n=Du(t.detail.initData),e=t.detail.sessionId;i.Ys(new dW(n,e))},i.Kht=function(t){var n=new y(Xu(t.detail.message)),e=t.detail.destinationURL;i.Ys(new wW(n,e))},i.Jht=function(t){i.Ys(new _W)},i.zct=n,i.rht=new fW,sW().fairplayController={sdkEventBus:i.rht},i.$ht(),i}S(n,t);var i=n.prototype;return i.$ht=function(){this.rht.addEventListener(cW.Qct,this.Zht),this.rht.addEventListener(cW.Zct,this.Kht),this.rht.addEventListener(cW.Kct,this.Jht)},i.bq=function(t,n){var i={playerId:oW(),data:Fu(n.buffer),sessionId:t};this.zct.eK("THEOplayerCreateKeySession",i)},i.Wc=function(t,n){var i={playerId:oW(),data:Fu(n.buffer),sessionId:t};this.zct.eK("THEOplayerUpdateKey",i)},n}(Dm),xW=function(t){var n=this;this.rht=void 0,this.tft=void 0,this.nft=function(){n.tft.XZ()},this.ift=function(){n.tft.UZ()},this.rht=new fW,this.tft=t,this.rht.addEventListener("showTracks",this.nft),this.rht.addEventListener("hideTracks",this.ift),sW().texttracks={sdkEventBus:this.rht}},LW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).WZ=void 0,o.GZ=void 0,o.eft=void 0;var a=i.NN(jy.Td);return o.WZ=new kB,o.WZ.pj(n),o.GZ=new bO(o.WZ.wy,a.IU,o.Lm,u,a.VN),o.eft=new xW(o.GZ),i.YN(a),ve.document.querySelector(".vjs-tech")?ve.document.querySelector(".player-div").classList.add("theo-ios-sdk"):ve.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.Qm=function(){t.prototype.Qm.call(this),this.WZ.Qm()},i.Zm=function(){t.prototype.Zm.call(this),this.WZ.Zm()},i.Vm=function(){return!0},i.getSdkBridge=function(){return new BW},i.getFairPlayControllerBridge=function(){return UW},i.qht=function(t){return t},i.Bd=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ve.document.querySelector(".vjs-tech")?ve.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):ve.document.querySelector(".player-div").style.background="#000000",n.next=3,Rr.awrap(t.prototype.Bd.call(this));case 3:this.GZ.Bd(),this.WZ.Bd();case 5:case"end":return n.stop()}},null,this,null,Ve)},n}(CW);VS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.EI=function(t,n,i,e,r,s){return new LW(t,n,i,e,r,s)},i.iD=function(n,i){if(n.type){var e=or();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.iD.call(this,n,i)},n}(PW)));var MW,UW=new OW(new BW),XW=function(t){function n(){return t.call(this,"rft")||this}return S(n,t),n.prototype.$w=function(){return new FW},n}(zg),FW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(wu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(MW||(MW={}));var HW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sft=new Dm,n.qs=function(t){n.Ys(t)},n}S(n,t);var i=n.prototype;return i.$w=function(){return n=function(t){var n=t.uft.map(function(t){return t.Jw});return n.item=function(n){n|=0;var i=t.A_(n);return i&&i.Jw||void 0},n}(t=this),i=new rN(t,n),n.addEventListener=function(t,n){i.js(t,n)},n.removeEventListener=function(t,n){i.Js(t,n)},n;var t,n,i},i.js=function(t,n){this.sft.js(t,n)},i.Zs=function(t){this.sft.Zs(t)},i.Ks=function(){this.sft.Ks()},i.Ys=function(t){this.sft.Ys(t)},i.Js=function(t,n){this.sft.Js(t,n)},i.tu=function(t){this.sft.tu(t)},i.nu=function(t){this.sft.nu(t)},i.uu=function(t,n){return this.sft.uu(t,n)},n}(function(){function t(){this.Au=[],this.Kw=void 0}var n=t.prototype;return n.A_=function(t){return this.Au[t]},n.Py=function(t){this.Au.push(t),this.Kw&&this.Kw.push(t.Jw),this.oft(t)},n.aft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Py(i)}},n.cft=function(t,n){n>=0&&n<=this.Au.length&&(this.Au.splice(n,0,t),this.Kw&&this.Kw.splice(n,0,t.Jw),this.oft(t))},n.By=function(t){return Xs(this.Au,t)},n.Vc=function(t){this.hft(this.Au.indexOf(t))},n.hft=function(t){if(t>=0&&t<this.Au.length){var n=this.Au[t];Us(this.Au,t),this.Kw&&Us(this.Kw,t),this.fft(n)}},n.Ru=function(){var t=this.Au.slice();Hs(this.Au),this.Kw&&Hs(this.Kw);for(var n=0;n<t.length;n++){var i=t[n];this.fft(i)}},A(t,[{key:"uft",get:function(){return this.Au}},{key:"N_",get:function(){return this.Au.length}},{key:"Jw",get:function(){return this.Kw||(this.Kw=this.$w()),this.Kw}}]),t}());var zW,VW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(wu),WW=function(t){function n(n){var i;return(i=t.call(this,"lft")||this).vft=n,i}return S(n,t),n.prototype.$w=function(){return new VW(this.vft.Jw)},n}(zg),GW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(wu),qW=function(t){function n(n){var i;return(i=t.call(this,"dft")||this).task=n,i}return S(n,t),n.prototype.$w=function(){return new GW(this.task.Jw)},n}(zg),YW=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.oft=function(t){this.Ys(new WW(t))},i.fft=function(t){this.Ys(new qW(t))},n}(HW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(zW||(zW={}));var jW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wft=zW.UNINITIALISED,r.zU=new YW,r.Wat=void 0,r._ft=void 0,r.gft=void 0,r.gft=i,r._ft=e,r.Wat=n,r.qm(),r}S(n,t);var i=n.prototype;return i.qm=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.mft());case 2:this.yft(zW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,Ve)},i.mft=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr.awrap(this.kft());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],Ve)},i.kft=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.Wat.got());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.gft.bft(i.id,i.sourceDescription,i.parameters,this._ft),this.pft(e),this.zU.Py(e);case 4:case"end":return r.stop()}},null,this,null,Ve)},i.yft=function(t){this.wft=t,this.Ys(new XW)},i.bft=function(t,n,i){void 0===i&&(i="persistent");var e=this.gft.Aft(t,n,i);return this.Tft(e,i),this.zU.Py(e),this.pft(e),e},i.Tft=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this.Sft(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],Ve)},i.Sft=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.Wat.dot({key:t.X_,id:t.X_,sourceDescription:t.dD,parameters:t.ah},n));case 2:case"end":return i.stop()}},null,this,null,Ve)},i.pft=function(t){var n=this;t.js("rft",function(){t.Zl===MW.EVICTED&&n.zU.Vc(t)})},A(n,[{key:"Zl",get:function(){return this.wft}},{key:"Eft",get:function(){return this.zU}}]),n}(lu);function QW(t,n){return function(t,n){var i=t.Ck&&n.Ck,e=t.vT&&n.vT;return i||e?i&&e?t.Ck*t.vT-n.Ck*n.vT:i?t.Ck-n.Ck:e?t.vT-n.vT:(t.Ck||1)*(t.vT||1)-(n.Ck||1)*(n.vT||1):0}(t,n)||function(t,n){return t.UR-n.UR}(t,n)}var ZW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(wu),KW=function(t){function n(){return t.call(this,"Ift")||this}return S(n,t),n.prototype.$w=function(){return new ZW},n}(zg),JW=function(){function t(t,n,i){if(this.Rft=void 0,this.Nft=t,this.Cy=n,this.Dft=i,0===this.Cy.size)this.Rft=$S.gC();else{var e=new $S([-1/0,1/0]);this.Cy.forEach(function(t){e=e.YD(t.timeRanges)}),this.Rft=e}}return t.prototype.pk=function(t){return!!sm(this.Cy,t.Cy)&&(!!Xt(this.Nft,t.Nft)&&(!!Xt(this.lC,t.lC)&&(!!Xt(this.Cft,t.Cft)&&this.Pft.oC(t.Pft))))},t.Bft=function(){return tG},A(t,[{key:"lC",get:function(){return this.Dft}},{key:"Oft",get:function(){return this.Nft}},{key:"Cft",get:function(){return this.Pft.lC}},{key:"xft",get:function(){var t=0,n=0;return this.Cy.forEach(function(i){t+=i.timeRanges.lC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"Pft",get:function(){return this.Rft}}]),t}(),$W=Cr(),tG=new JW(0,$W,NaN);function nG(t,n){if(G(t)){if(fs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var iG,eG=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"Lft"}}]),n}(Jt);function rG(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Mft;r<s.length;r++)u=s[r],e.push(sG(u,n,i));return a.next=4,Rr.awrap(Ve.all(e));case 4:return o=a.sent,a.abrupt("return",{Yg:t.Xft.Uft(),Fft:[t.Hft],Mft:o});case 6:case"end":return a.stop()}},null,null,null,Ve)}function sG(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.zft;r<s.length;r++)u=s[r],e.push(uG(u,n,i));return a.next=4,Rr.awrap(Ve.all(e));case 4:return o=a.sent,a.abrupt("return",{Vft:o});case 6:case"end":return a.stop()}},null,null,null,Ve)}function uG(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Wft;r<s.length;r++)oG(u=s[r])||e.push(fG(u,n,i));return a.next=4,Rr.awrap(Ve.all(e));case 4:return o=a.sent,a.abrupt("return",{ZA:o,us:t.us});case 6:case"end":return a.stop()}},null,null,null,Ve)}function oG(t){return t.a1.every(hG)}!function(t){t[t.Ig=0]="Ig",t[t.Rg=1]="Rg"}(iG||(iG={}));var aG,cG=1;function hG(t){return t.Gft!==cG&&Boolean(t.Gft)}function fG(t,n,i){var e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.a1;r<s.length;r++)hG(u=s[r])||e.push(lG(u,i));return v.next=4,Rr.awrap(Ve.all(e));case 4:return o=v.sent,a=t.XH[0],c=t.o1,h=c?vG(a,c):void 0,f=rL(t,n),v.abrupt("return",{W_:o,V_:t.Ret,us:t.us,ON:h,qft:f});case 10:case"end":return v.stop()}},null,null,null,Ve)}function vG(t,n){for(var i=[],e=function(t){return t?fs(t,"avc")?Nh.VIDEO_H264:fs(t,"hev")||fs(t,"hvc")||fs(t,"hvt")||fs(t,"lhv")||fs(t,"lhe")||fs(t,"lht")?Nh.VIDEO_H265:fs(t,"mp4")?Nh.VIDEO_MP4:fs(t,"mpeg2")?Nh.VIDEO_MPEG2:fs(t,"mpeg")?Nh.VIDEO_MPEG:Nh.VIDEO_UNKNOWN:Nh.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.J0.split(":").pop(),o=s.$0;i.push({mimeType:e,uuid:u,data:o})}return{type:iG.Ig,schemeType:Vr,schemeDatas:i}}function lG(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(dG(t,n));case 2:r=u.sent,s={X_:_G(t),KS:r,UR:t.UR,Ke:t.Ke,vT:t.vT,us:t.us,Ck:t.Ck},u.t0=t.us,u.next=u.t0===jy.Kn?7:u.t0===jy.Td?8:u.t0===jy.Ad?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.jK=null!=(i=null==(e=t.jK)?void 0:e.Bk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.KK,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,Ve)}function dG(t,n){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.Yft,t.Rat&&i.push({Zy:0,Yg:0,jft:t.Rat}),r=e.Qft(),s=r;case 5:if(!s){h.next=17;break}if(!t.Zft(s)){h.next=13;break}return h.next=9,Rr.awrap(t.Kft(s,n,(new Zs).zs));case 9:for(u=h.sent,o=0;o<u.N_;o++)i.push(wG(u.Jft(o),t));h.next=14;break;case 13:i.push(wG(s,t));case 14:s=e.$ft(s),h.next=5;break;case 17:return a=e.tvt(),c=a.Ky-r.Zy,h.abrupt("return",{Yg:c,Y0:i});case 20:case"end":return h.stop()}},null,null,null,Ve)}function wG(t,n){return{Zy:t.Zy,Yg:t.Yg,jft:n.nvt(t)}}function _G(t){return t.ivt.OD+"-"+(""+t.X_)}function gG(t,n){return function(t,n){for(var i={},e=0;e<jx.length;e++){var r=jx[e],s=t[r],u={};for(var o in s){for(var a=[],c=s[o],h=0;h<c.length;h++){var f=c[h],v=mG(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.EJ]||(n[e.EJ]={us:e.us,sT:[]}),n[e.EJ].sT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.sT;s<u.length;s++){var o,a,c=u[s],h=null!=(a=i[o=r.us])?a:i[o]={};h[c.ci]||(h[c.ci]=[]),h[c.ci].push(c)}return i}(t),n)}function mG(t,n,i){for(var e=t.EJ,r={qJ:t,m$:[]},s=0;s<i.length;s++){var u=i[s];iM(n,e,u)&&r.m$.push(u)}return r}function yG(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(n.Hat([t],{}));case 2:return i=e.sent,e.abrupt("return",HL(i.rd,{},i.Uat));case 4:case"end":return e.stop()}},null,null,null,Ve)}function kG(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!Vx(t)){i.next=4;break}return i.abrupt("return",bG(t,n));case 4:return i.abrupt("return",(r=void 0,{Yg:(r=DG(e=t)).Yg,Fft:[e.NJ],Mft:[{Vft:[{us:jy.hd,ZA:[{us:jy.hd,V_:AU,W_:[{X_:e.NJ,KS:r,UR:0,Ke:"",vT:0,us:jy.hd,Ck:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,Ve)}function bG(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=gG(t.sT,t.s2),s.next=3,Rr.awrap(TG(i,n));case 3:return e=s.sent,s.next=6,Rr.awrap(AG(t.s2,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Yg:pG(e),Fft:[t.NJ],Mft:[{Vft:e}]});case 9:case"end":return s.stop()}},null,null,null,Ve)}function pG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].ZA;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.W_.map(function(t){return t.KS.Yg})))}return n}function AG(t,n){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){h.next=15;break}return a=t[e],h.next=6,Rr.awrap(NG(a.NJ,n));case 6:(c=h.sent).UR=a.UR,c.Ke=a.XH?[(f=a.XH).UH,f.MH,f.FH].filter(X).join(","):"",c.vT=null!=(r=null==(s=a.s$)?void 0:s.vT)?r:0,c.Ck=null!=(u=null==(o=a.s$)?void 0:o.Ck)?u:0,i.push(c);case 12:e++,h.next=2;break;case 15:return h.abrupt("return",{us:jy.hd,ZA:[{V_:AU,us:jy.hd,W_:i}]});case 16:case"end":return h.stop()}var f},null,null,null,Ve)}function TG(t,n){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<jx.length)){o.next=13;break}if(r=jx[e],!(s=t[r])){o.next=10;break}return o.next=8,Rr.awrap(SG(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,Ve)}function SG(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Rr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Rr.awrap(EG(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{us:IG(n),ZA:e});case 12:case"end":return o.stop()}},null,null,null,Ve)}function EG(t,n){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].qJ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Rr.awrap(RG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{V_:e.V_||AU,us:IG(e.us),W_:i});case 13:case"end":return o.stop()}},null,null,null,Ve)}function IG(t){switch(t){case Fx.Ad:return jy.Ad;case Fx.Td:return jy.Td;case Fx.iA:case Fx.j0:return jy.Kn;default:return jy.hd}}function RG(t,n){var i,e,r;return NG((e=(i=t).qJ.NJ,r=i.m$.map(function(t){return t.NJ}),e||(r.length?r[0]:void 0)),n)}function NG(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Yg:0,Y0:[]},!t){r.next=6;break}return r.next=4,Rr.awrap(yG(t,n));case 4:Wx(e=r.sent)&&(i=DG(e));case 6:return r.abrupt("return",{X_:t||"default",evt:t,KS:i,UR:0,Ke:"",vT:0,us:jy.hd,Ck:0});case 7:case"end":return r.stop()}},null,null,null,Ve)}function DG(t){for(var n,i=[],e=0,r=0,s=t.Y0;r<s.length;r++){var u=s[r],o=e;!u.c2||void 0!==n&&Kx(u.c2.NJ,n)||(i.push(CG(u.c2,o)),n=u.c2.NJ),i.push(PG(u,o)),e+=u.Yg}return{Yg:e,Y0:i}}function CG(t,n){return{Zy:n,Yg:0,jft:BG(t.NJ)}}function PG(t,n){return{Zy:n,Yg:t.Yg,jft:BG(t.NJ)}}function BG(t){return{ud:t._i,yat:t.Q0?[t.Q0.OD,t.Q0.OD+t.Q0.N_]:void 0,Dd:!1}}!function(t){t.RE="static",t.NE="dynamic"}(aG||(aG={}));var OG,xG=31536e3,LG=2592e3,MG=86400,UG=3600,XG=60,FG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,HG=function(){function t(t){this.rvt=void 0;var n=t.match(FG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.rvt=i*xG+e*LG+r*MG+s*UG+u*XG+o}var n=t.prototype;return n.Uft=function(){return this.rvt},n.svt=function(){return 1e3*this.rvt},A(t,[{key:"N7",get:function(){return jk.zb(this.rvt,1e3)}}]),t}();!function(t){t.uvt="progressive",t.ovt="interlaced",t.hd="unknown"}(OG||(OG={}));var zG=function(){function t(t,n){this.avt=t,this.cvt=n}return t.prototype.Bk=function(){return this.avt/this.cvt},t}(),VG=/^(?:true|false)$/i,WG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function GG(t){if(void 0!==t)return new HG(t)}function qG(t){if(void 0!==t){var n=t.match(WG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),b=Number(a),p=Number("0."+(c||"")),A=w.round(1e3*p);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,b,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function YG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[QG(n[1]),QG(n[2])]}}function jG(t){if(void 0!==t){if(!m(Number(t)))try{return ht.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function QG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function ZG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new zG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function KG(t){if(void 0!==t){if(VG.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function JG(t){return{ud:t.Ui,fvt:KG(t.Ci("availabilityTimeComplete")),vvt:QG(t.Ci("availabilityTimeOffset"))}}function $G(t){return t.map(JG)}function tq(t){var n,i,e,r,s,u,o=fq(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Pi(e,i))&&(s=n.Ci(r+":"+i)),s),c=tp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(u=Xu(c.Ui)),!u){var h=tp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(u=function(t){var n=Du(t.Ui),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new zo;ho(o,a,r),ho(o,a,1886614376),ho(o,a,0),ro(o,a,i),ho(o,a,e),ro(o,a,n),0;return u.buffer}(h))}return{YE:a,$0:u,J0:o.J0,_i:o._i}}function nq(t){return{lvt:t.Ci("sourceURL"),yat:YG(t.Ci("range"))}}function iq(t,n){var i=t.Ci("d"),e=t.Ci("t"),r=QG(t.Ci("r"));n.push({Yg:i,Zy:e,dvt:r})}function eq(t){return{wvt:t.Ci("index"),_vt:YG(t.Ci("indexRange")),sT:t.Ci("media"),gvt:YG(t.Ci("mediaRange"))}}function rq(t){var n,i;return Nr({},oq(t),{mvt:(n=t.Ti("SegmentURL"),(i=n.map(eq)).length>0?i:void 0),yvt:t.Ci("xlink:href"),kvt:t.Ci("xlink:actuate")})}function sq(t){var n=t.map(rq);return n.length>0?n:void 0}function uq(t){var n=KG(t.Ci("availabilityTimeComplete")),i=QG(t.Ci("availabilityTimeOffset")),e=YG(t.Ci("indexRange")),r=KG(t.Ci("indexRangeExact")),s=t.Ti("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one Initialization element.");var u=1===s.length?nq(s[0]):void 0,o=jG(t.Ci("presentationTimeOffset")),a=t.Ti("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one RepresentationIndex element.");return{fvt:n,vvt:i,_vt:e,bvt:r,pvt:u,Avt:o,Tvt:1===a.length?nq(a[0]):void 0,Svt:GG(t.Ci("timeShiftBufferDepth")),Cb:QG(t.Ci("timescale"))}}function oq(t){var n=uq(t),i=t.Ti("BitstreamSwitching"),e=i.length>0?nq(i[0]):void 0,r=QG(t.Ci("duration")),s=t.Ti("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one SegmentTimeline element.");return Nr({},n,{Evt:e,Yg:r,Yft:1===s.length?function(t){for(var n=[],i=t.Ti("S"),e=0;e<i.length;e++)iq(i[e],n);return n}(s[0]):void 0,Ivt:QG(t.Ci("startNumber")),Rvt:QG(t.Ci("endNumber"))})}function aq(t){return Nr({},oq(t),{Nvt:t.Ci("bitstreamSwitching"),Dvt:t.Ci("index"),Cvt:t.Ci("initialization"),Pvt:t.Ci("media")})}function cq(t){return{KK:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(QG)):1===n.length?n.map(QG)[0]:void 0}}(t.Ci("audioSamplingRate")),XH:t.Ci("codecs"),Bvt:KG(t.Ci("codingDependency")),o1:function(t){if(0!==t.length)return t.map(tq)}(t.Ti("ContentProtection")),Ovt:t.Ti("EssentialProperty").map(vq),jK:ZG(t.Ci("frameRate")),vT:QG(t.Ci("height")),Gft:QG(t.Ci("maxPlayoutRate")),xvt:QG(t.Ci("maximumSAPPeriod")),QB:t.Ci("mimeType"),Lvt:t.Ci("profiles"),Mvt:t.Ci("sar"),Uvt:function(t){switch(t){case OG.uvt:case OG.ovt:case OG.hd:return t;default:return}}(t.Ci("scanType")),Xvt:t.Ci("segmentProfiles"),Fvt:QG(t.Ci("startWithSAP")),Ck:QG(t.Ci("width"))}}function hq(t){var n=cq(t),i=QG(t.Ci("bandwidth")),e=$G(t.Ti("BaseURL")),r=t.Ci("dependencyId"),s=t.Ci("id"),u=t.Ci("mediaStreamStructureId"),o=QG(t.Ci("qualityRanking")),a=t.Ti("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?uq(a[0]):void 0,h=sq(t.Ti("SegmentList")),f=t.Ti("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{UR:i,Hvt:e,zvt:r,X_:s,Vvt:u,Wvt:o,Gvt:c,qvt:h,Yvt:1===f.length?aq(f[0]):void 0})}function fq(t){return{J0:t.Ci("schemeIdUri"),_i:t.Ci("value")}}function vq(t){return fq(t)}function lq(t){return fq(t)}function dq(t){return fq(t)}function wq(t){var n,i=cq(t),e=function(t){return t.map(dq)}(t.Ti("Accessibility")),r=$G(t.Ti("BaseURL")),s=KG(t.Ci("bitstreamSwitching")),u=t.Ci("contentType"),o=QG(t.Ci("group")),a=QG(t.Ci("id")),c=(null==(n=t.Ti("Label")[0])?void 0:n.Ui)||"",h=t.Ci("lang"),f=QG(t.Ci("maxBandwidth")),l=ZG(t.Ci("maxFrameRate")),d=QG(t.Ci("maxHeight")),w=QG(t.Ci("maxWidth")),_=QG(t.Ci("minBandwidth")),g=ZG(t.Ci("minFrameRate")),m=QG(t.Ci("minHeight")),y=QG(t.Ci("minWidth")),k=t.Ci("par"),b=t.Ti("Representation").map(hq);if(0===b.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var p=function(t){return t.map(lq)}(t.Ti("Role")),A=KG(t.Ci("segmentAlignment"))||!1,T=t.Ti("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?uq(T[0]):void 0,E=sq(t.Ti("SegmentList")),I=t.Ti("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,N=1===I.length?aq(I[0]):void 0,D=QG(t.Ci("selectionPriority")),C=D||1,P=KG(t.Ci("subsegmentAlignment"))||!1;try{R=QG(t.Ci("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{jvt:e,Hvt:r,Evt:s,Ul:u,Qvt:o,X_:a,z_:c,V_:h,Zvt:f,Kvt:l,Jvt:d,$vt:w,tlt:_,nlt:g,ilt:m,elt:y,rlt:k,a1:b,slt:p,ult:A,Gvt:S,qvt:E,Yvt:N,nD:C,olt:P,clt:R,hlt:t.Ci("xlink:actuate")||"onRequest",flt:t.Ci("xlink:href")})}function _q(t){var n=jG(t.Ci("presentationTime"))||ht.ZERO,i=jG(t.Ci("duration")),e=QG(t.Ci("id")),r=function(t){for(var n=t.Mi,i={},e=0;e<n.length;e++)i[n[e].ci]=n[e]._i;return i}(t),s=t.Ui;return{PS:n,Yg:i,X_:e,Mi:r,Xi:""!==s.trim()?s:t.Ci("messageData")||""}}function gq(t){return{flt:t.Ci("xlink:href"),hlt:t.Ci("xlink:actuate"),J0:t.Ci("schemeIdUri"),_i:t.Ci("value"),Cb:QG(t.Ci("timescale")),Avt:jG(t.Ci("presentationTimeOffset")),ZB:t.Ti("Event").map(_q)}}function mq(t,n){var i=t.Ti("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?fq(i[0]):void 0,r=t.Ti("AdaptationSet").map(wq),s=$G(t.Ti("BaseURL")),u=KG(t.Ci("bitstreamSwitching")),o=GG(t.Ci("duration")),a=t.Ti("EventStream").map(gq),c=t.Ci("id"),h=n&&GG(n.Ci("start")),f=t.Ti("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?uq(f[0]):void 0,d=sq(t.Ti("SegmentBase")),w=t.Ti("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?aq(w[0]):void 0,g=GG(t.Ci("start"));t.Ti("Subset");var m=t.Ci("xlink:href");return{Wft:r,vlt:e,Hvt:s,Evt:u,Yg:o,llt:a,X_:c,dlt:h,Gvt:l,qvt:d,Yvt:_,OD:g,hlt:t.Ci("xlink:actuate"),flt:m}}function yq(t){var n=t.Ci("schemeIdUri");if(n)return{J0:n,_i:t.Ci("value")}}function kq(t,n){var i=qG(t.Ci("availabilityEndTime")),e=qG(t.Ci("availabilityStartTime")),r=$G(t.Ti("BaseURL")),s=t.Ci("id"),u=t.Ti("Location").map(function(t){return""+t.Ui}),o=GG(t.Ci("maxSegmentDuration")),a=GG(t.Ci("maxSubsegmentDuration")),c=GG(t.Ci("mediaPresentationDuration"));t.Ti("Metrics");var h=GG(t.Ci("minBufferTime"));if(!h)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=GG(t.Ci("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(mq(t[i],t[i+1]));return n}(t.Ti("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Ci("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{wlt:i,_lt:e,Hvt:r,X_:s,glt:u,ylt:n,klt:o,blt:a,Xft:c,plt:h,Alt:f,Mft:l,Lvt:d,Tlt:qG(t.Ci("publishTime")),Slt:GG(t.Ci("suggestedPresentationDelay")),Svt:GG(t.Ci("timeShiftBufferDepth")),us:function(t){switch(t){case aG.RE:case aG.NE:return t;default:return}}(t.Ci("type")),Elt:function(t){for(var n=[],i=0;i<t.length;i++){var e=yq(t[i]);e&&n.push(e)}return n}(t.Ti("UTCTiming"))}}var bq,pq=function(){function t(){}return t.prototype.Dct=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return kq(t,n)}(i.ei(t).Fi,n)},t}(),Aq=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(wu),Tq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).F_=void 0,u.xy=void 0,u.Ilt=void 0,u.X_=n,u.UR=i,u.XH=e,u.NJ=s,u.F_=ek(),u.xy=r||"",u.Ilt=!0,u}return S(n,t),n.prototype._E=function(){this.Ilt=!1,this.Ys(new Aq(this.Jw))},A(n,[{key:"z_",get:function(){return this.xy},set:function(t){this.xy!==t&&(this.xy=t,this.Ys(new Aq(this.Jw)))}},{key:"YK",get:function(){}},{key:"ZK",get:function(){return this.Ilt}}]),n}(lu),Sq=function(t){function n(n,i,e,r,s,u,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,e,r,s)||this).Kw=void 0,h.jK=u,h.Ck=o,h.vT=a,h.QK=c,h}return S(n,t),A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=zO(this)),this.Kw}}]),n}(Tq),Eq=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Kw=void 0,o.KK=u,o}return S(n,t),A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=VO(this)),this.Kw}}]),n}(Tq);!function(t){t.Rlt="Nlt",t.Dlt="Clt"}(bq||(bq={}));var Iq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Plt=function(t){n.Ys(t)},n}return S(n,t),A(n,[{key:"Blt",get:function(){var t=this.Olt();return null==t?void 0:t.OD}},{key:"xlt",get:function(){var t=this.Olt();return null==t?void 0:t.LD}}]),n}(lu);function Rq(t){return Q(t.Llt)}var Nq=function(t){function n(n,i){var e;if((e=t.call(this)||this).Mlt=void 0,e.Kw=void 0,e.j3=void 0,e.Ult=void 0,e.Xlt=void 0,e.Mlt=n,e.j3=i,e.j3.js(bq.Rlt,e.Plt),e.us===jy.Td){var r,s,u=null!=(r=null==(s=e.jK)?void 0:s.Bk())?r:NaN;e.Ult=new Sq(e.X_,e.UR,e.Ke,"","",u,e.Ck,e.vT)}else e.us===jy.Ad?e.Ult=new Eq(e.X_,e.UR,e.Ke,"","",e.KK):e.Ult=void 0;return e}S(n,t);var i=n.prototype;return i.nvt=function(t){var n=Rq(t)?this.j3.Flt(t):this.j3.nvt(t);return{ud:n.ud,yat:n.yat,Dd:this.Hlt.Dd}},i.zlt=function(){return this.j3.zlt()},i.Olt=function(){return this.j3.Olt()},i.Vlt=function(){return this.j3.Vlt()},i.Zft=function(t){return this.j3.Zft(t)},i.Kft=function(t,n,i){return this.j3.Kft(t,this.Hlt.Dd,n,i)},i.Wlt=function(t){return Rq(t)?this.Yft.Glt(t):this.Yft.Wlt(t)},i.qlt=function(t){return Rq(t)?this.Yft.Ylt(t):this.Yft.qlt(t)},i.Bd=function(){this.j3.Js(bq.Rlt,this.Plt)},A(n,[{key:"jlt",get:function(){return this.Mlt}},{key:"KK",get:function(){var t;return null!=(t=this.j3.Xi.KK)?t:this.jlt.KK}},{key:"UR",get:function(){return this.j3.Xi.UR||0}},{key:"XH",get:function(){var t=this.j3.Xi;return t.XH?[t.XH]:this.jlt.XH}},{key:"Qlt",get:function(){var t=this.j3.Xi;return t.XH?[t.XH]:[]}},{key:"Ke",get:function(){return this.j3.Xi.XH||this.jlt.Ke}},{key:"Bvt",get:function(){return this.j3.Xi.Bvt||this.jlt.Bvt}},{key:"o1",get:function(){return this.j3.Xi.o1||this.jlt.o1}},{key:"Ul",get:function(){return this.QB+'; codecs="'+this.Ke+'"'}},{key:"Ovt",get:function(){var t=this.j3.Xi;return t.Ovt.length?t.Ovt:this.jlt.Ovt}},{key:"Jw",get:function(){return this.Kw||(this.Kw=(t=this,{get id(){return t.X_},get type(){return t.us},get bandwidth(){return t.UR},get width(){return t.Ck},get height(){return t.vT},get frameRate(){var n,i;return null!=(n=null==(i=t.jK)?void 0:i.Bk())?n:NaN},get audioSamplingRate(){return t.KK}}));var t}},{key:"jK",get:function(){var t;return null!=(t=this.j3.Xi.jK)?t:this.jlt.jK}},{key:"vT",get:function(){return this.j3.Xi.vT||this.jlt.vT}},{key:"X_",get:function(){return this.j3.Xi.X_||""}},{key:"Zlt",get:function(){return this.Xlt},set:function(t){this.Xlt=t}},{key:"Rat",get:function(){var t=this.j3.Klt();if(t)return{ud:t.ud,yat:t.yat,Dd:this.Hlt.Dd}}},{key:"Gft",get:function(){return this.j3.Xi.Gft||this.jlt.Gft||1}},{key:"xvt",get:function(){return this.j3.Xi.xvt||this.jlt.xvt}},{key:"Hlt",get:function(){return this.ivt.Hlt}},{key:"QB",get:function(){return this.j3.Xi.QB||this.jlt.QB}},{key:"ivt",get:function(){return this.jlt.ivt}},{key:"Lvt",get:function(){return this.j3.Xi.Lvt||this.jlt.Lvt}},{key:"MJ",get:function(){return this.Ult}},{key:"Mvt",get:function(){return this.j3.Xi.Mvt||this.jlt.Mvt}},{key:"Uvt",get:function(){return this.j3.Xi.Uvt||this.jlt.Uvt}},{key:"Jlt",get:function(){return this.j3.Jlt}},{key:"Xvt",get:function(){return this.j3.Xi.Xvt||this.jlt.Xvt}},{key:"Yft",get:function(){return this.j3.Yft}},{key:"Fvt",get:function(){return this.j3.Xi.Fvt||this.jlt.Fvt}},{key:"us",get:function(){var t=this.QB.split("/")[0];return"application"===t||"text"===t||Cp(this.QB,this.XH)?jy.Kn:"video"===t?jy.Td:"audio"===t?jy.Ad:"image"===t?jy.Sd:jy.hd}},{key:"Ck",get:function(){return this.j3.Xi.Ck||this.jlt.Ck}}]),n}(Iq),Dq=function(t){function n(n,i){var e;return(e=t.call(this)||this).$lt=[],e.j3=void 0,e.tdt=void 0,e.ndt=[],e.tdt=n,e.j3=i,e.j3.js(bq.Rlt,e.Plt),e}S(n,t);var i=n.prototype;return i.Wc=function(t,n){var i,e=this;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.ndt.length){r.next=6;break}return this.ndt=[],i=this.j3.a1.map(function(i){return e.idt(i,t,n)}),r.next=5,Rr.awrap(Ve.all(i));case 5:this.ndt=r.sent.filter(X);case 6:this.edt();case 7:case"end":return r.stop()}},null,this,null,Ve)},i.idt=function(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new Nq(this,t),s.next=3,Rr.awrap(n(e));case 3:if(r=s.sent,$s(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,Ve)},i.edt=function(){if(!this.ndt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Olt=function(){return this.j3.Olt()},i.Vlt=function(){return this.j3.Vlt()},i.Bd=function(){this.j3.Js(bq.Rlt,this.Plt);for(var t=0,n=this.ndt;t<n.length;t++){n[t].Bd()}Hs(this.ndt)},A(n,[{key:"jvt",get:function(){return this.j3.Xi.jvt}},{key:"KK",get:function(){var t;return null!=(t=this.j3.Xi.KK)?t:-1}},{key:"XH",get:function(){if(this.j3.Xi.XH)return[this.j3.Xi.XH];for(var t=[],n=0,i=this.a1;n<i.length;n++){var e=i[n];e.Qlt.length&&-1===t.indexOf(e.Ke)&&t.push(e.Ke)}return t}},{key:"Ke",get:function(){return this.XH.join()}},{key:"Bvt",get:function(){return this.j3.Xi.Bvt}},{key:"o1",get:function(){return this.j3.Xi.o1}},{key:"Ul",get:function(){return this.QB+'; codecs="'+this.Ke+'"'}},{key:"Ovt",get:function(){return this.$lt}},{key:"jK",get:function(){return this.j3.Xi.jK}},{key:"Qvt",get:function(){return this.j3.Xi.Qvt}},{key:"vT",get:function(){return this.j3.Xi.vT||0}},{key:"X_",get:function(){return this.j3.Xi.X_}},{key:"z_",get:function(){return this.j3.Xi.z_||""}},{key:"Gft",get:function(){return this.j3.Xi.Gft}},{key:"xvt",get:function(){return this.j3.Xi.xvt}},{key:"Hlt",get:function(){return this.ivt.Hlt}},{key:"QB",get:function(){return this.j3.Xi.QB||this.ndt[0].QB}},{key:"ivt",get:function(){return this.tdt}},{key:"Lvt",get:function(){return this.j3.Xi.Lvt}},{key:"a1",get:function(){return this.ndt}},{key:"slt",get:function(){return this.j3.Xi.slt||[]}},{key:"Mvt",get:function(){return this.j3.Xi.Mvt}},{key:"Uvt",get:function(){return this.j3.Xi.Uvt}},{key:"Xvt",get:function(){return this.j3.Xi.Xvt}},{key:"nD",get:function(){return this.j3.Xi.nD}},{key:"Fvt",get:function(){return this.j3.Xi.Fvt}},{key:"us",get:function(){var t=(this.j3.Xi.Ul||this.QB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Cp(this.QB,this.XH)?jy.Kn:"video"===t?jy.Td:"audio"===t?jy.Ad:"image"===t?jy.Sd:jy.hd}},{key:"Ck",get:function(){return this.j3.Xi.Ck||0}},{key:"Ret",get:function(){return this.j3.Xi.V_||""}},{key:"rdt",get:function(){return this.Blt}},{key:"sdt",get:function(){var t=this.rdt,n=this.xlt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.Hlt.udt);return w.max(t,i)}}}]),n}(Iq);function Cq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Cr(o,s))}return e}var Pq=function(){function t(t,n){this.tdt=void 0,this.odt=void 0,this.$o=void 0,this.adt=void 0,this.cdt=void 0,this.tdt=t,this.odt=n,this.$o=n.Cb,this.adt=n.vvt,this.cdt=n.Avt}var n=t.prototype;return n.hdt=function(t){var n=t-this.tdt.OD;if(!(n<0||n>=this.tdt.Yg)){var i=this.fdt();return void 0!==i&&Mt(i,n,1e-5)?this.Qft():this.vdt(n)}},n.ldt=function(t){var n=t-this.tdt.OD;if(!(n<0))return this.ddt(w.min(n,this.tdt.Yg))},n.Qft=function(){return this.wdt(0)},n.tvt=function(){var t=this.tdt.Yg;if(isFinite(t))return this.ddt(t)},n.zlt=function(t){if(this.tdt._dt.us===aG.NE){var n=this.gdt(t);if(!n)return;return{mdt:t,ydt:this.kdt(t),bdt:n}}var i=this.Qft();if(i)return{mdt:t,ydt:i,bdt:this.tvt()}},n.Vlt=function(t,n){if(n){var i=this.pdt(n.ydt),e=this.$ft(n.bdt);if(e){var r=this.Adt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Qft();if(s){var u=this.Adt(s);if(t.getTime()<u.getTime())return u}var o=this.tdt._dt._lt;return t.getTime()<o.getTime()?o:void 0},n.gdt=function(t){var n=(t.getTime()-this.tdt._dt._lt.getTime())/1e3-this.tdt.OD+this.adt,i=this.ddt(Lt(n,0,this.tdt.Yg));if(i&&(i=this.Tdt(i,t))){for(var e=this.$ft(i);e&&this.Sdt(e,t);)i=e,e=this.$ft(i);return i}},n.kdt=function(t){var n,i=this.odt.Svt;if(i){var e=(t.getTime()-this.tdt._dt._lt.getTime())/1e3-this.tdt.OD-i.Uft();(n=this.ddt(Lt(e,0,this.tdt.Yg)))||(n=this.Qft())}else n=this.Qft();if(n&&(n=this.Tdt(n,t))){for(var r=this.Edt(n);r&&this.Sdt(r,t);)n=r,r=this.Edt(n);return n}},n.Tdt=function(t,n){for(var i=t;i&&this.Adt(i).getTime()>n.getTime();)i=this.Edt(i);if(i){var e=this.pdt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Edt(i);for(r&&this.Sdt(r,n)&&(i=r);i;){if(this.Adt(i).getTime()>n.getTime())return;if(this.Sdt(i,n))break;i=this.$ft(i)}if(!i)return}return i}},n.Sdt=function(t,n){if(this.Adt(t).getTime()>n.getTime())return!1;var i=this.pdt(t);return!(i&&n.getTime()>=i.getTime())},n.Idt=function(t,n){if(this.Rdt(t).getTime()>n.getTime())return!1;var i=this.pdt(t);return!(i&&n.getTime()>=i.getTime())},n.Ndt=function(t,n,i){var e=Yt(n,this.$o)+this.tdt.OD;return{wvt:t,Ddt:n,Zy:e,Yg:i,Ky:e+i}},n.Rdt=function(t){return this.tdt._dt.us===aG.NE?new Date(this.tdt._dt._lt.getTime()+1e3*(t.Zy+t.Yg)):this.tdt._dt._lt},n.Adt=function(t){var n=this.Rdt(t);return this.tdt._dt.us===aG.NE?new Date(n.getTime()-1e3*this.adt):n},n.pdt=function(t){var n=1/0;if(this.tdt._dt.us===aG.NE){var i=this.odt.Svt;i&&(n=this.Rdt(t).getTime()+1e3*t.Yg+i.svt())}var e=this.tdt._dt.wlt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Cdt=function(t,n){return t.wvt+n},n.Zft=function(t){return!1},n.Kft=function(t,n,i,e,r){var s=this.Pdt(t);if(!s)return Ve.reject(new v("Invalid segment"));var u=this.Bdt(s.wvt);return u?Ve.resolve(u):this.Odt(s.wvt,n,i,e,r)},n.Bdt=function(t){},n.Odt=function(t,n,i,e,r){return Ve.reject(new v("Not supported"))},n.Edt=function(t){var n=this.Pdt(t);if(n)return this.wdt(n.wvt-1)},n.$ft=function(t){var n=this.Pdt(t);if(n)return this.wdt(n.wvt+1)},n.Pdt=function(t){var n=this.wdt(t.wvt);if(n&&n.Zy===t.Zy)return n;var i=this.hdt(t.Zy);return i&&i.Zy===t.Zy?i:void 0},n.xdt=function(t){var n=this.Ldt(t);if(n&&this.Zft(n.wvt)){var i=this.Bdt(n.wvt);if(i)return i.xdt(t)}},n.Ldt=function(t){return this.wdt(t.Mdt)},n.Wlt=function(t){var n=this.Pdt(t);return!!n&&0===n.wvt},n.Glt=function(t){var n=this.xdt(t);return!!n&&0===n.Llt},n.qlt=function(t){var n=this.Pdt(t);if(!n)return!1;var i=this.tvt();return!!i&&n.wvt===i.wvt},n.Ylt=function(t){var n=this.xdt(t);if(!n)return!1;var i=this.tvt();if(!i||n.Mdt!==i.wvt)return!1;var e=this.Bdt(n.Mdt);return n.Llt+1===e.N_},A(t,[{key:"cp",get:function(){return this.tdt.OD-Yt(this.cdt,this.$o)}},{key:"Avt",get:function(){return Yt(this.cdt,this.$o)}}]),t}(),Bq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Udt=void 0,e.Xdt=void 0;var r=n.Fdt,s=n.Yg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Xdt=r,e.Udt=s,e}S(n,t);var i=n.prototype;return i.wdt=function(t){if(!(t<0)){var n=this.Xdt.multiply(t),i=Yt(n,this.$o),e=this.tdt.Yg;if(!(i>=e)){var r=this.Hdt();if(void 0!==r){if(t>r)return;if(t===r)return this.Ndt(t,n,e-i)}return isFinite(e)&&i+this.Udt>e?this.Ndt(t,n,e-i):this.Ndt(t,n,this.Udt)}}},i.fdt=function(){return 0},i.vdt=function(t){var n=w.floor(t/this.Udt),i=this.Hdt();return void 0!==i&&n>=i?this.wdt(i):this.wdt(n)},i.ddt=function(t){if(t>=this.tdt.Yg){var n=w.ceil(this.tdt.Yg/this.Udt)-1,i=this.Hdt();return void 0!==i&&n>=i?this.wdt(i):this.wdt(n)}return this.vdt(t)},i.Hdt=function(){var t,n=this.odt.Rvt;if(void 0!==n)return n-(null!=(t=this.odt.Ivt)?t:1);if(isFinite(this.tdt.Yg)){var i=this.odt.zdt;if(void 0!==i&&i>0)return i-1}},i.Vdt=function(){if(isFinite(this.tdt.Yg))return this.tvt()},i.Wdt=function(t,n){return this.Xdt.multiply(t.wvt+(n-1))},i.Wc=function(){},n}(Pq);function Oq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Zy,u=t[r].Ky;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],c=a.Zy,h=o+1<i?t[o+1].Zy:a.Ky;if(h.lessThanOrEqual(n))e=o+1,s=h;else{if(!n.lessThan(c))return o;r=o-1,u=c}}return-1}var xq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).a3=[],e.Gdt=void 0,e.bet=ht.ZERO,e.Wc(),e}S(n,t);var i=n.prototype;return i.wdt=function(t){if(!(t<0))return t<this.a3.length?this.a3[t].p5:this.qdt(t-this.a3.length)},i.fdt=function(){if(this.a3.length>0)return Yt(this.a3[0].Zy,this.$o)},i.vdt=function(t){if(this.Gdt&&Yt(this.Gdt.Zy,this.$o)<=t){var n=Yt(this.Gdt.Zy,this.$o),i=Yt(this.Gdt.Yg,this.$o),e=w.floor((t-n)/i);return this.qdt(e)}if(this.a3.length>0&&Mt(t,Yt(this.a3[0].Zy,this.$o),1e-5))return this.a3[0].p5;var r=Oq(this.a3,ht.fromNumber(t*this.$o));return r<0?void 0:this.a3[r].p5},i.ddt=function(t){if(!this.Gdt&&this.a3.length>0){var n=this.a3[this.a3.length-1];if(i=t,e=Yt(n.Ky,this.$o),Ps(i,e,1e-5)>=0)return n.p5}var i,e,r=this.fdt();return r&&t<r?this.a3[0].p5:this.vdt(t)},i.Vdt=function(){return isFinite(this.tdt.Yg)?this.tvt():this.wdt(this.a3.length-1)},i.Wdt=function(t){return this.Ydt(t)},i.qdt=function(t){if(this.Gdt){var n=this.Gdt.Zy,i=this.Gdt.Yg,e=n.add(i.multiply(t)),r=Yt(e,this.$o),s=this.tdt.Yg;if(!(r>=s)){var u=this.a3.length+t,o=w.min(Yt(i,this.$o),r+s);return this.Ndt(u,e,o)}}},i.Ydt=function(t){return t.Ddt.add(this.cdt)},i.Wc=function(){var t=this.odt.Xi.Yft;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.A3(t)},i.A3=function(t){var n=this.cdt;this.jdt(t,n);var i=this.Qdt(t);this.Zdt(t,n,i.Kdt,i.Mdt)},i.jdt=function(t,n){var i=this.a3;if(0===t.length)Hs(i);else{for(var e=t[0],r=e.Zy?ht.fromString(e.Zy,!1).subtract(n):ht.ZERO,s=0;s<i.length&&i[s].Zy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Qdt=function(t){for(var n=this.a3,i=this.bet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].dvt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Zy.greaterThanOrEqual(i))break;if(n[r].p5.wvt===r)r=u+1;else for(;r<=u;)n[r].p5.wvt=r,r++;0,e++}return{Kdt:e,Mdt:r}},i.Zdt=function(t,n,i,e){for(var r,s=this.a3,u=i,o=e;u<t.length;){var a=t[u],c=ht.fromString(a.Yg,!1),h=a.dvt||0,f=void 0;if(a.Zy){if(f=ht.fromString(a.Zy,!1).subtract(n),o>0){var v=s[o-1];v.Ky.greaterThan(f)&&(v.Yg=f.subtract(v.Zy),v.Ky=v.Zy.add(v.Yg))}}else f=o>0?s[o-1].Ky:ht.ZERO;if(h<0){if(u+1===t.length){r={Zy:f,Yg:c};break}for(var l=ht.fromString(t[u+1].Zy,!1).subtract(n);f.lessThan(l);){var d=f.add(c);this.Jdt(s,o,f,c,d),f=d,o++}}else for(var w=o+h;o<=w;){var _=f.add(c);this.Jdt(s,o,f,c,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.bet=s[s.length-1].Zy),this.Gdt=r},i.Jdt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Yg.equals(e)?s.p5.wvt=n:t[n]={Zy:i,Yg:e,Ky:r,p5:this.Ndt(n,i,Yt(e,this.$o))}}else t.push({Zy:i,Yg:e,Ky:r,p5:this.Ndt(n,i,Yt(e,this.$o))})},n}(Pq),Lq=function(){function t(t,n,i){this.ivt=void 0,this.$dt=void 0,this.Vi=void 0,this.twt=void 0,this.nwt=void 0,this.ivt=t,this.$dt=n,this.Vi=i}var n=t.prototype;return n.iwt=function(){if(this.nwt=this.ewt(),this.nwt)return this.nwt;if(this.$dt)return this.$dt.Yft;throw new v("Missing media segment information.")},n.Klt=function(t){var n=this.pvt;if(n)return{ud:(void 0!==n.lvt?i.Cr(n.lvt,t.Hvt[0]):t.Hvt[0]).href,yat:n.yat};var e=this._vt;return e?{ud:t.Hvt[0].href,yat:[0,e[0]-1]}:void 0},n.Wc=function(t){this.Vi=t,this.nwt&&this.nwt.Wc()},A(t,[{key:"Xi",get:function(){return this.Vi}},{key:"vvt",get:function(){return this.Vi&&void 0!==this.Vi.vvt?this.Vi.vvt:this.$dt?this.$dt.vvt:0}},{key:"Avt",get:function(){return this.Vi&&void 0!==this.Vi.Avt?this.Vi.Avt:this.$dt?this.$dt.Avt:ht.ZERO}},{key:"Svt",get:function(){return this.Vi&&void 0!==this.Vi.Svt?this.Vi.Svt:this.$dt?this.$dt.Svt:this.ivt._dt.Svt}},{key:"Cb",get:function(){return this.Vi&&void 0!==this.Vi.Cb?this.Vi.Cb:this.$dt&&this.$dt.Cb?this.$dt.Cb:1}},{key:"_vt",get:function(){return this.Vi&&void 0!==this.Vi._vt?this.Vi._vt:this.$dt?this.$dt._vt:void 0}},{key:"pvt",get:function(){return this.Vi&&void 0!==this.Vi.pvt?this.Vi.pvt:this.$dt?this.$dt.pvt:void 0}},{key:"Yft",get:function(){return this.twt||(this.twt=this.iwt()),this.twt}}]),t}(),Mq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.ewt=function(){return this.Vi.Yft?new xq(this,this.ivt):void 0!==this.Vi.Yg?new Bq(this,this.ivt):void 0},A(n,[{key:"Yg",get:function(){return void 0!==this.Vi.Yg?this.Vi.Yg/this.Cb:this.$dt&&this.$dt instanceof n?this.$dt.Yg:void 0}},{key:"Fdt",get:function(){return void 0!==this.Vi.Yg?ht.fromNumber(this.Vi.Yg):this.$dt&&this.$dt instanceof n?this.$dt.Fdt:void 0}},{key:"Ivt",get:function(){return void 0!==this.Vi.Ivt?this.Vi.Ivt:this.$dt&&this.$dt instanceof n?this.$dt.Ivt:void 0}},{key:"Rvt",get:function(){return void 0!==this.Vi.Rvt?this.Vi.Rvt:this.$dt&&this.$dt instanceof n?this.$dt.Rvt:void 0}}]),n}(Lq),Uq=function(){function t(t){this.rwt=void 0,this.rwt=t}return t.prototype.Hu=function(t){return this.rwt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=_s(u,Number(e),"0")})},t}();var Xq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).swt=void 0,r.uwt=void 0,r.swt=e.Cvt?new Uq(e.Cvt):void 0,r.uwt=e.Pvt?new Uq(e.Pvt):void 0,r}S(n,t);var e=n.prototype;return e.Klt=function(n){var e=this.Cvt;if(!e)return t.prototype.Klt.call(this,n);var r=e.Hu({Bandwidth:n.Xi.UR,RepresentationID:n.Xi.X_});return{ud:i.Pr(r,n.Hvt[0])}},e.nvt=function(t,n){var e,r=null!=(e=n.Jlt.Ivt)?e:1,s=this.Pvt.Hu({Bandwidth:n.Xi.UR,Number:n.Yft.Cdt(t,r),RepresentationID:n.Xi.X_,Time:n.Yft.Wdt(t,r)});return{ud:i.Pr(s,n.Hvt[0])}},e.Flt=function(t,n){},A(n,[{key:"Cvt",get:function(){return this.swt?this.swt:this.$dt&&this.$dt instanceof n?this.$dt.Cvt:void 0}},{key:"Pvt",get:function(){return this.uwt?this.uwt:this.$dt&&this.$dt instanceof n?this.$dt.Pvt:void 0}},{key:"zdt",get:function(){}}]),n}(Mq),Fq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.nvt=function(t,n){var e=this.Vi.mvt[t.wvt],r=n.Hvt[0];return{ud:(e.sT?i.Cr(e.sT,r):r).href,yat:e.gvt}},e.Flt=function(t,n){},A(n,[{key:"zdt",get:function(){return void 0!==this.Vi.mvt?this.Vi.mvt.length:this.$dt&&this.$dt instanceof Mq?this.$dt.zdt:void 0}}]),n}(Mq),Hq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Mdt=void 0,u.x6=void 0,u.Cb=void 0,u.owt=void 0,u.Avt=void 0,u.awt=void 0,u.Mdt=n,u.x6=i,u.Cb=e.Cb,u.owt=r,u.Avt=s,u.awt=u.cwt(e),u}S(n,t);var i=n.prototype;return i.Jft=function(t){if(t>=0&&t<this.N_)return this.hwt(this.awt[t])},i.fwt=function(t){var n=this.vwt(t);if(this.awt.length>0){var i=this.awt[0];if(n<=Yt(i.Zy,this.Cb))return this.hwt(i)}var e=Oq(this.awt,ht.fromNumber(n*this.Cb));if(!(e<0))return this.hwt(this.awt[e])},i.lwt=function(t){var n=this.vwt(t);if(this.awt.length>0){var i=this.awt[this.awt.length-1];if(n>=Yt(i.Ky,this.Cb))return this.hwt(i)}return this.fwt(t)},i.hwt=function(t){var n=Yt(t.Zy,this.Cb)-this.Avt,i=n+this.owt,e=Yt(t.Yg,this.Cb);return{Mdt:this.Mdt,Llt:t.wvt,Zy:i,Ddt:ht.fromNumber(n*this.Cb),Yg:e,Ky:i+e,Q0:[this.x6+t.x6,this.x6+t.L6]}},i.cwt=function(t){for(var n=[],i=t.jS,e=t.QS.toNumber(),r=0,s=0,u=t.KS;s<u.length;s++){var o=u[s],a=o.VS,c=ht.fromNumber(o.Yg),h=i.add(c);0===o.zS&&n.push({wvt:r++,Zy:i,Yg:c,Ky:h,x6:e,L6:e+a-1}),e+=a,i=h}return n},i.vwt=function(t){return t-this.owt+this.Avt},A(n,[{key:"N_",get:function(){return this.awt.length}}]),n}(function(){function t(){}return t.prototype.xdt=function(t){var n=this.Jft(t.Llt);if(n&&n.Zy===t.Zy)return n;var i=this.fwt(t.Zy);return i&&i.Zy===t.Zy?i:void 0},t}()),zq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).dwt=void 0,e.wwt=void 0,e._wt=void 0,e.dwt=n._vt,e.wwt=e.Ndt(0,ht.ZERO,e.tdt.Yg),e}S(n,t);var i=n.prototype;return i.wdt=function(t){if(0===t)return this.wwt},i.fdt=function(){return 0},i.vdt=function(t){return this.wwt},i.ddt=function(t){return this.vdt(t)},i.Vdt=function(){return this.wwt},i.Wdt=function(t,n){return ht.ZERO},i.zlt=function(t){var n=this.gwt(t);return n&&{mdt:t,ydt:n,bdt:n}},i.gwt=function(t){var n=this.wwt;return this.Sdt(n,t)?n:void 0},i.gdt=function(t){return this.gwt(t)},i.kdt=function(t){return this.gwt(t)},i.Wc=function(){},i.Zft=function(t){return 0===t&&void 0!==this.dwt},i.Bdt=function(t){return this._wt},i.Odt=function(t,n,i,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.Hvt[0].href,u=this.dwt,a.next=4,Rr.awrap(e.mwt(s,u,i,r));case 4:return o=a.sent,this._wt=this.ywt(t,o),a.abrupt("return",this._wt);case 7:case"end":return a.stop()}},null,this,null,Ve)},i.ywt=function(t,n){var i=this.dwt,e=Wb.SA(new DataView(n),new zo);if(e.us!==$k.Kp)throw new v("Invalid segment index");var r=Qb.GA(e.Xi),s=i[1]+1;return new Hq(t,s,r,this.tdt.OD,Yt(this.cdt,this.$o))},n}(Pq),Vq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.nvt=function(t,n){return{ud:n.Hvt[0].href}},i.Flt=function(t,n){return{ud:n.Hvt[0].href,yat:t.Q0}},i.ewt=function(){return new zq(this,this.ivt)},A(n,[{key:"Ivt",get:function(){}}]),n}(Lq),Wq=function(t){function n(){return t.call(this,bq.Rlt)||this}return S(n,t),n}(wu);var Gq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Pw=void 0,r.Vi=void 0,r.kwt=void 0,r.odt=void 0,r.bwt=1/0,r.pwt=void 0,r.Pw=i,r.Awt(n,e),r}S(n,t);var i=n.prototype;return i.Twt=function(){return this.odt||this.Pw&&this.Pw.Twt()},i.Swt=function(t){var n=this.ivt,i=this.Pw&&this.Pw.Twt();this.Vi.Yvt?this.odt=new Xq(n,i,this.Vi.Yvt):this.Vi.qvt?this.odt=new Fq(n,i,this.Vi.qvt[0]):this.Vi.Gvt?this.odt=new Vq(n,i,this.Vi.Gvt):t&&!i&&(this.odt=new Vq(n,i,void 0))},i.Awt=function(t,n){this.Vi=t,this.kwt=t.Hvt&&t.Hvt.length>0?Cq(t.Hvt.map(function(t){return t.ud}),n):n.slice(),this.odt&&(t.Yvt?this.odt.Wc(t.Yvt):t.qvt?this.odt.Wc(t.qvt[0]):t.Gvt&&this.odt.Wc(t.Gvt))},i.Olt=function(){var t;return null==(t=this.pwt)?void 0:t.Ewt},i.Vlt=function(){var t;return null==(t=this.pwt)?void 0:t.Iwt},i.Rwt=function(t){var n=this.bwt,i=this.ivt.Yg,e=this.pwt,r=this.Nwt(t);e&&Mt(i,n,1e-5)&&Qq(e,r)||(this.bwt=i,this.pwt=r,this.Ys(new Wq))},i.Bs=function(){this.Ks()},A(n,[{key:"Xi",get:function(){return this.Vi}},{key:"Hvt",get:function(){return this.kwt}}]),n}(lu);function qq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Olt();if(e){n=e.OD;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Olt();if(u){r=u.LD;break}}if(void 0!==r)return{OD:n,LD:r}}}function Yq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Olt();if(!r)return;if((n=w.max(n,r.OD))>=(i=w.min(i,r.LD)))return}return{OD:n,LD:i}}}function jq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Vlt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function Qq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Iwt,n.Iwt)&&function(t,n){return t&&n?Mt(t.OD,n.OD,1e-5)&&Mt(t.LD,n.LD,1e-5):t===n}(t.Ewt,n.Ewt)}var Zq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).tdt=void 0,r.Nc=void 0,r.Dwt=void 0,r.tdt=n,r.Nc=i,r.Dwt=e.slice();for(var s=0;s<e.length;s++){e[s].js(bq.Rlt,r.Plt)}return r}S(n,t);var i=n.prototype;return i.Olt=function(){return Yq(this.Dwt)},i.Vlt=function(){for(var t,n=0,i=this.Dwt;n<i.length;n++){var e=i[n].Vlt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Bd=function(){this.Ks();for(var t=0,n=this.Dwt;t<n.length;t++){n[t].Js(bq.Rlt,this.Plt)}},A(n,[{key:"Wft",get:function(){return this.Dwt}},{key:"XH",get:function(){return this.Wft.reduce(function(t,n){for(var i=0,e=n.XH;i<e.length;i++){var r=e[i];Xs(t,r)||t.push(r)}return t},[])}},{key:"Ke",get:function(){return this.XH.length>0?this.XH[0]:""}},{key:"us",get:function(){return this.Dwt[0].us}},{key:"X_",get:function(){return this.Nc}},{key:"Hlt",get:function(){return this.tdt.Hlt}},{key:"QB",get:function(){return this.Dwt[0].QB}},{key:"ivt",get:function(){return this.tdt}},{key:"a1",get:function(){return zs(this.Wft,function(t){return t.a1})}}]),n}(Iq),Kq=function(t){function n(){return t.call(this,bq.Dlt)||this}return S(n,t),n}(wu);function Jq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Qvt;void 0===s||(r=Os(n,function(t){return t.X_===s})),r||(r={X_:s,Wft:[]},n.push(r)),r.Wft.push(e)},e=0;e<t.length;e++)i(e);return n}var $q,tY=function(t){function n(n,i){var e;return(e=t.call(this)||this).j3=void 0,e.Dwt=[],e.Cwt=[],e.Pwt=void 0,e.Bwt=!1,e.Pwt=n,e.j3=i,e.j3.js(bq.Rlt,e.Plt),e}S(n,t);var i=n.prototype;return i.Owt=function(t,n){if(0!==this.Cwt.length){for(var i=t,e=0,r=this.Cwt;e<r.length;e++){var s=r[e],u=s.us;if(u===jy.Ad||u===jy.Td){var o=s.xlt;if(void 0===o)return;i=n(i,o)}}return i}},i.xwt=function(){this.Bwt||(this.Bwt=!0,this.Ys(new Kq),this.Bd())},i.Wc=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.Dwt.length){i.next=7;break}return i.next=3,Rr.awrap(this.Lwt(this.j3.Wft,t,n));case 3:this.Mwt(this.Dwt),$s(n),i.next=9;break;case 7:return i.next=9,Rr.awrap(this.Uwt(t,n));case 9:case"end":return i.stop()}},null,this,null,Ve)},i.Lwt=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new Dq(this,r),u.prev=4,u.next=7,Rr.awrap(s.Wc(n,i));case 7:this.Dwt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),tu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],Ve)},i.Mwt=function(t){for(var n=Jq(t),i=0;i<n.length;i++){var e=n[i],r=new Zq(this,e.X_,e.Wft);this.Cwt.push(r)}},i.Uwt=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Dwt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Rr.awrap(r.Wc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,Ve)},i.Olt=function(){return this.j3.Olt()},i.Vlt=function(){return this.j3.Vlt()},i.Bd=function(){this.Ks(),this.j3.Js(bq.Rlt,this.Plt);for(var t=0,n=this.Cwt;t<n.length;t++){n[t].Bd()}for(var i=0,e=this.Dwt;i<e.length;i++){e[i].Bd()}Hs(this.Dwt),Hs(this.Cwt)},A(n,[{key:"Wft",get:function(){return this.Dwt}},{key:"zft",get:function(){return this.Cwt}},{key:"vlt",get:function(){return this.j3.Xi.vlt}},{key:"Yg",get:function(){return this.j3.Yg}},{key:"LD",get:function(){return this.OD+this.Yg}},{key:"llt",get:function(){return this.j3.Xi.llt||[]}},{key:"X_",get:function(){return this.j3.X_}},{key:"Clt",get:function(){return this.Bwt}},{key:"Hlt",get:function(){return this.Pwt}},{key:"Xwt",get:function(){return this.Pwt.Fwt(this)}},{key:"ivt",get:function(){return this}},{key:"Hwt",get:function(){return this.Pwt.zwt(this)}},{key:"Vwt",get:function(){return this.Owt(1/0,w.min)}},{key:"Wwt",get:function(){return this.Owt(0,w.max)}},{key:"OD",get:function(){return this.j3.OD}},{key:"Dd",get:function(){return this.Hlt.Dd}}]),n}(Iq),nY=function(t){function n(){return t.call(this,bf.kf)||this}return S(n,t),n}(wu);!function(t){t.Gwt="qwt"}($q||($q={}));var iY=function(t){function n(){return t.call(this,$q.Gwt)||this}return S(n,t),n}(wu),eY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Hvt)||this).Mlt=void 0,e.Ywt=void 0,e.Mlt=i,e.Swt(!0),e}S(n,t);var i=n.prototype;return i.Zft=function(t){return!!Dh(this.QB)&&this.Yft.Zft(t.wvt)},i.Kft=function(t,n,i,e){return this.Yft.Kft(t,this,n,i,e)},i.Klt=function(){return this.Jlt.Klt(this)},i.nvt=function(t){return this.Jlt.nvt(t,this)},i.Flt=function(t){return this.Jlt.Flt(t,this)},i.zlt=function(){return this.Ywt},i.Nwt=function(t){var n=this.Yft,i=n.zlt(t),e=i&&function(t,n){var i,e=t.ydt,r=t.bdt,s=t.mdt,u=e.Zy,o=n.Rdt(r);if(o.getTime()<=s.getTime())i=r.Ky;else{var a=(o.getTime()-s.getTime())/1e3,c=w.max(r.Yg-a,0);i=r.Zy+c}return{OD:u,LD:i}}(i,n),r=this.Yft.Vlt(t,i);return this.Ywt=i,{mdt:t,Ewt:e,Iwt:r}},i.Wc=function(t){this.Awt(t,this.Mlt.Hvt)},A(n,[{key:"jlt",get:function(){return this.Mlt}},{key:"ivt",get:function(){return this.Mlt.ivt}},{key:"_dt",get:function(){return this.Mlt._dt}},{key:"QB",get:function(){return this.Vi.QB||this.Mlt.QB}},{key:"Jlt",get:function(){return this.Twt()}},{key:"Yft",get:function(){return this.Jlt.Yft}}]),n}(Gq),rY=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Hvt)||this).tdt=void 0,e.ndt=void 0,e.tdt=i,e.Swt(!1),e.ndt=n.a1.map(function(t){return new eY(t,Zt(e))}),e}S(n,t);var i=n.prototype;return i.Wc=function(t){this.Awt(t,this.tdt.Hvt);var n=t.a1||[];if(this.ndt.length!==n.length)throw new v("Expected "+this.ndt.length+' representations in adaptation set "'+t.X_+'", found '+n.length);for(var i=0;i<n.length;i++)this.ndt[i].Wc(n[i])},i.Rwt=function(n){for(var i=0,e=this.ndt;i<e.length;i++){e[i].Rwt(n)}t.prototype.Rwt.call(this,n)},i.Nwt=function(t){return{mdt:t,Ewt:Yq(this.ndt),Iwt:jq(this.ndt)}},i.Bs=function(){for(var n=0,i=this.ndt;n<i.length;n++){i[n].Bs()}t.prototype.Bs.call(this)},A(n,[{key:"a1",get:function(){return this.ndt}},{key:"ivt",get:function(){return this.tdt}},{key:"_dt",get:function(){return this.tdt._dt}},{key:"Qvt",get:function(){return this.Vi.Qvt}},{key:"QB",get:function(){var t;return this.Vi.QB||(null==(t=this.ndt[0])?void 0:t.Xi.QB)||""}}]),n}(Gq),sY=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Hvt)||this).jwt=void 0,s.eE=void 0,s.ea=void 0,s.Dwt=void 0,s.Cwt=[],s.jwt=n,s.eE=e,s.ea=r,s.Swt(!1),s.Dwt=(i.Wft||[]).map(function(t){return new rY(t,Zt(s))}),s.Cwt=Jq(s.Dwt),s}S(n,t);var i=n.prototype;return i.Wc=function(t,n){this.Awt(t,this.jwt.Hvt),this.ea=n;var i=t.Wft||[];if(this.Dwt.length!==i.length)throw new v("Expected "+this.Dwt.length+' adaptation sets in period "'+t.X_+'", found '+i.length);for(var e=0;e<i.length;e++)this.Dwt[e].Wc(i[e])},i.Rwt=function(n){for(var i=0,e=this.Dwt;i<e.length;i++){e[i].Rwt(n)}t.prototype.Rwt.call(this,n)},i.Nwt=function(t){return{mdt:t,Ewt:Yq(this.Dwt),Iwt:jq(this.Dwt)}},i.Bs=function(){for(var n=0,i=this.Dwt;n<i.length;n++){i[n].Bs()}t.prototype.Bs.call(this)},A(n,[{key:"Wft",get:function(){return this.Dwt}},{key:"zft",get:function(){return this.Cwt}},{key:"ivt",get:function(){return this}},{key:"_dt",get:function(){return this.jwt}},{key:"X_",get:function(){return this.Vi.X_}},{key:"OD",get:function(){return this.eE}},{key:"Yg",get:function(){return this.ea}}]),n}(Gq),uY=new Date("2000-01-01"),oY=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Vi=void 0,s.Qwt=void 0,s.Zwt=void 0,s.RG=void 0,s.Kwt=void 0,s.pwt=void 0,s.kwt=void 0,s.Jwt=void 0,s.$wt=void 0,s.t_t=void 0,s.n_t=[],s.Qwt=i,s.Wc(n,e,r),n.us===aG.NE){var u=s.Vdt();u&&u.wlt&&u.wlt.getTime()<uY.getTime()&&(s.t_t=new Date(s.Tlt.getTime()-1e3*(u.p5.Zy+u.p5.Yg)),s.Rwt(r))}return s}S(n,t);var e=n.prototype;return e.Olt=function(){var t;return null==(t=this.pwt)?void 0:t.Ewt},e.Vlt=function(){var t;return null==(t=this.pwt)?void 0:t.Iwt},e.Wc=function(t,n,e,r){var s;this.Vi=t,this.Zwt=n,this.Kwt=null!=r?r:e,this.RG=e;var u,o=[(u=n,i.Cr(".",u))];this.kwt=t.Hvt&&t.Hvt.length>0?Cq(t.Hvt.map(function(t){return t.ud}),o):o,this.Jwt=t.glt&&t.glt.length>0?Cq(t.glt,this.kwt):[];var a=this.Jwt.map(function(t){return t.href}),c=n.href;Xs(a,c)||(this.Jwt.push(n),a.push(c));var h=this.Qwt.href;Xs(a,h)||(this.Jwt.push(this.Qwt),a.push(h)),this.$wt=null==(s=t.Xft)?void 0:s.Uft();var f=t.us===aG.NE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.OD)u=s.OD.Uft();else if(r>0&&t[r-1].Yg){var o=e[r-1],a=t[r-1].Yg.Uft();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var c=[],h=0;h<e.length-1;h++)c.push({Xi:t[h],OD:e[h],Yg:e[h+1]-e[h]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.Yg?v.Yg.Uft():i-l),c.push({Xi:v,OD:l,Yg:d})}return c}(t.Mft,f,this.$wt);this.i_t(v),this.Rwt(e)},e.i_t=function(t){var n=this.n_t;if(0!==t.length){for(var i=t[0].Xi.X_,e=0;e<n.length&&n[e].X_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Bs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Wc(o.Xi,o.Yg)}else n.push(new sY(this,o.Xi,o.OD,o.Yg))}}else Hs(n)},e.Rwt=function(t){for(var n=0,i=this.n_t;n<i.length;n++){i[n].Rwt(t)}var e=this.pwt,r=this.Nwt(t);e&&Qq(e,r)||(this.pwt=r,this.Ys(new Wq))},e.Nwt=function(t){return{mdt:t,Ewt:qq(this.n_t),Iwt:jq(this.n_t)}},e.Vdt=function(){if(0!==this.n_t.length){var t=this.n_t[this.n_t.length-1];if(!isFinite(t.Yg)&&0!==t.Wft.length){var n=t.Wft[0];if(0!==n.a1.length){var i=n.a1[0].Yft,e=i.Vdt();if(e)return{p5:e,wlt:i.pdt(e)}}}}},e.Bs=function(){this.Ks();for(var t=0,n=this.n_t;t<n.length;t++){n[t].Bs()}},A(n,[{key:"Xi",get:function(){return this.Vi}},{key:"us",get:function(){return this.Vi.us||aG.RE}},{key:"_lt",get:function(){return this.t_t||this.Vi._lt||this.Tlt}},{key:"wlt",get:function(){return this.Vi.wlt}},{key:"Xft",get:function(){return this.$wt}},{key:"Hvt",get:function(){return this.kwt}},{key:"glt",get:function(){return this.Jwt}},{key:"Mft",get:function(){return this.n_t}},{key:"Tlt",get:function(){return this.Vi.Tlt||this.RG}},{key:"Svt",get:function(){return this.Vi.Svt}},{key:"e_t",get:function(){return this.Kwt}},{key:"r_t",get:function(){return this.RG}}]),n}(lu);var aY=function(){function t(t,n,i){this.s_t=0,this.kE=t,this.u_t=n,this.o_t=i}var n=t.prototype;return n.mL=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.a_t(t,this.kE,this.u_t,this.o_t).catch(nu));case 2:case"end":return n.stop()}},null,this,null,Ve)},n.c_t=function(){return new Date(zt()+this.s_t)},n.a_t=function(t,n,i,e){var r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Rr.awrap(this.h_t(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}$s(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Rr.awrap(this.f_t(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.s_t=void 0===r?0:r-zt();case 18:case"end":return o.stop()}},null,this,null,Ve)},n.f_t=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.J0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n._i)){o.next=9;break}return o.next=8,Rr.awrap(this.h_t(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n._i)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,Ve)},n.h_t=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(t.ed({ud:n,Ed:Yw.GET,Jl:pf.Kn,zs:i}));case 3:return e=u.sent,u.next=6,Rr.awrap(e.Ol());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),tu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],Ve)},t}(),cY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).v_t=void 0,s.j3=void 0,s.l_t=void 0,s.frt=!0,s.n_t=[],s.d_t=void 0,s.w_t=void 0,s.__t=void 0,s.kE=void 0,s.g_t=void 0,s.d_t=n,s.l_t=n.cg,s.w_t=i,s.kE=e,s.v_t=r,s.g_t=new aY(s.kE,s.v_t,s.d_t.m_t),s}S(n,t);var e=n.prototype;return e.y_t=function(t){var n=this.Sy;this.frt=t,n!==this.Sy&&this.Ys(new iY)},e.Wc=function(t,n,e){var r,s,u,o,a,c,h,f,v,l,d,w,_;return Rr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.ylt?i.Cr(t.ylt,this.l_t):this.l_t,void 0!==this.j3){g.next=10;break}return g.next=6,Rr.awrap(this.g_t.mL(t.Elt));case 6:this.j3=new oY(t,this.l_t,o,this.c_t()),this.j3.js(bq.Rlt,this.qs),g.next=11;break;case 10:this.j3.Wc(t,o,this.c_t(),n);case 11:if(0===(a=this.j3.Mft).length)c=this.n_t.slice(),Hs(this.n_t);else{for(h=a[0].X_,f=0;f<this.n_t.length&&this.n_t[f].X_!==h;)f++;for(c=this.n_t.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.n_t.length?d=this.n_t[v]:(d=new tY(this,l),s.push(d)),u.push(d.Wc(this.w_t,e))}return g.next=15,Rr.awrap(Ve.all(u));case 15:for((r=this.n_t).push.apply(r,s),w=0,_=c;w<_.length;w++)_[w].xwt();this.Ys(new nY);case 18:case"end":return g.stop()}},null,this,null,Ve)},e.c_t=function(){return this.g_t.c_t()},e.zwt=function(t){var n=this.n_t.indexOf(t);if(n>0)return this.n_t[n-1]},e.Fwt=function(t){var n=this.n_t.indexOf(t);if(n>=0&&n+1<this.n_t.length)return this.n_t[n+1]},e.Olt=function(){return this.j3?this.j3.Olt():void 0},e.Vlt=function(){return this.j3&&this.j3.Vlt()},e.Rwt=function(t){this.j3&&this.j3.Rwt(t)},e.Bd=function(){this.Ks(),this.__t=void 0,this.y_t(!1);for(var t=0,n=this.n_t;t<n.length;t++){n[t].Bd()}Hs(this.n_t),this.j3&&this.j3.Bs()},A(n,[{key:"wlt",get:function(){return this.j3&&this.j3.wlt}},{key:"_lt",get:function(){return this.j3&&this.j3._lt}},{key:"X_",get:function(){return this.j3&&this.j3.Xi.X_}},{key:"e_t",get:function(){var t;return null==(t=this.j3)?void 0:t.e_t}},{key:"k_t",get:function(){var t;return null==(t=this.j3)?void 0:t.r_t}},{key:"glt",get:function(){return this.j3?this.j3.glt.map(function(t){return t.href}):[this.Hft]}},{key:"Hft",get:function(){return this.l_t.href}},{key:"klt",get:function(){return this.j3&&this.j3.Xi.klt}},{key:"blt",get:function(){return this.j3&&this.j3.Xi.blt}},{key:"Xft",get:function(){return this.j3&&this.j3.Xi.Xft}},{key:"plt",get:function(){return this.j3&&this.j3.Xi.plt}},{key:"Alt",get:function(){var t,n,i=(null==(t=this.j3)?void 0:null==(n=t.Xi.Alt)?void 0:n.svt())||0;return w.max(i,fY)}},{key:"Sy",get:function(){return this.frt}},{key:"Mft",get:function(){return this.n_t}},{key:"b_t",get:function(){return this.us===aG.NE?this.udt:this.p_t}},{key:"A_t",get:function(){var t=this.b_t;if(void 0!==t)for(var n=0,i=this.Mft;n<i.length;n++){var e=i[n];if(e.OD<=t&&e.LD>t)return e}}},{key:"Lvt",get:function(){return this.j3&&this.j3.Xi.Lvt}},{key:"Tlt",get:function(){return this.j3&&this.j3.Tlt}},{key:"Vwt",get:function(){for(var t=this.n_t.length-1;t>=0;t-=1){var n=this.n_t[t].Vwt;if(n)return n}}},{key:"udt",get:function(){var t=this.Vwt;if(void 0!==t){var n=t-this.T_t;return w.max(n,this.p_t)}}},{key:"p_t",get:function(){for(var t=0,n=this.n_t;t<n.length;t++){var i=n[t].Blt;if(void 0!==i)return i}}},{key:"Dd",get:function(){return Boolean(this.d_t.Dd)}},{key:"T_t",get:function(){var t=this.j3&&this.j3.Xi.Slt;return t?t.Uft():this.us===aG.NE?this.S_t:0}},{key:"S_t",get:function(){return this.d_t.S_t?this.d_t.S_t:1.5*this.plt.Uft()}},{key:"Svt",get:function(){return this.j3&&this.j3.Svt}},{key:"us",get:function(){return this.j3?this.j3.us:void 0}}]),n}(lu),hY=function(){function t(t,n,i,e){this.Pwt=void 0,this.Pwt=new cY(t,n,i,e)}return A(t,[{key:"Hlt",get:function(){return this.Pwt}}]),t}(),fY=1e3,vY=w.pow(2,31)-1,lY=function(){function t(t,n,i,e){var r=this;this.Vat=void 0,this.j3=void 0,this.E_t=void 0,this.I_t=void 0,this.R_t=void 0,this.N_t=new Zs,this.D_t=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.j3.Hlt.c_t(),e.next=4,Rr.awrap(r.C_t(r.j3.Hlt.glt,t));case 4:return i=e.sent,e.next=7,Rr.awrap(r.j3.Hlt.Wc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Ep(e.t0)&&r.j3.Hlt.y_t(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],Ve)},this.Vat=e,this.j3=new hY(t,n,i,this.N_t.zs)}var n=t.prototype;return n.Dw=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.j3.Hlt.Ys(new lD),n.prev=1,n.next=4,Rr.awrap(rM(this.D_t,t));case 4:this.j3.Hlt.y_t(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),tu(n.t0),this.I_t=void 0,this.j3.Hlt.y_t(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.E_t=this.P_t(this.N_t.zs);case 14:case"end":return n.stop()}},null,this,[[1,7]],Ve)},n.P_t=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.j3.Hlt.us!==aG.NE){n.next=6;break}return n.next=4,Rr.awrap(iu(this.B_t,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],Ve)},n.O_t=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if($s(t),!((n=this.x_t())>0)){e.next=6;break}return i=w.min(n,vY),e.next=6,Rr.awrap(cu(i,t));case 6:return e.prev=6,e.next=9,Rr.awrap(rM(this.D_t,t,1/0,fY,3e4));case 9:this.j3.Hlt.y_t(!0);case 10:return e.prev=10,this.R_t=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],Ve)},n.x_t=function(){var t=this.j3.Hlt.c_t().getTime()-this.j3.Hlt.e_t.getTime();return this.j3.Hlt.Alt-t},n.L_t=function(t){var n=this.j3.Hlt.Vlt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.j3.Hlt.Rwt(t);var e=this.j3.Hlt.Vlt();return e?e.getTime()-t.getTime():NaN},n.M_t=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.R_t||(this.R_t=this.O_t(t)),(n=new Zs).Fs(t),i.prev=3,i.next=6,Rr.awrap(Ve.race([this.R_t,this.U_t(n.zs)].filter(X)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),nu(i.t0);case 11:return i.prev=11,n.Xs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],Ve)},n.U_t=function(t){var n=this.j3.Hlt.c_t(),i=this.L_t(n);if(!m(i))return this.X_t(i,t)},n.X_t=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(cu(t,n));case 2:i=this.j3.Hlt.c_t(),this.j3.Hlt.Rwt(i);case 4:case"end":return e.stop()}},null,this,null,Ve)},n.C_t=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.Vat.Hat(t,{},n,!1));case 2:return i=r.sent,e=new pq,r.abrupt("return",e.Dct(i.Uat,i.rd));case 5:case"end":return r.stop()}},null,this,null,Ve)},n.Bd=function(){return this.N_t.Xs(),this.E_t=void 0,this.I_t=void 0,this.R_t=void 0,this.j3.Hlt.Bd(),Ve.resolve()},A(t,[{key:"g$",get:function(){return this.j3}},{key:"F_t",get:function(){return this.I_t||(this.I_t=this.Dw(this.N_t.zs),ou(this.I_t)),this.I_t}},{key:"B_t",get:function(){return this.j3.Hlt.k_t&&this.j3.Hlt.us===aG.NE?this.M_t(this.N_t.zs):this.F_t}}]),t}(),dY=function(){function t(t,n,i){this.Vat=t,this.H_t=n,this.z_t=i}var n=t.prototype;return n.V_t=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!Gm(n=t.type)){i.next=9;break}return i.next=6,Rr.awrap(this.W_t(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Wm(n)){i.next=15;break}return i.next=12,Rr.awrap(this.G_t(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,Ve)},n.W_t=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(yG(t.src,this.Vat));case 3:return n=i.sent,i.next=6,Rr.awrap(kG(n,this.Vat));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],Ve)},n.G_t=function(t){var n;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new lY({cg:i.Cr(t.src),S_t:t.liveOffset,m_t:t.timeServer,Dd:t.useCredentials},this.z_t,t_.Xd,this.Vat),e.next=4,Rr.awrap(n.F_t);case 4:return e.next=6,Rr.awrap(rG(n.g$.Hlt,t.contentProtection,this.H_t));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],Ve)},t}();var wY=function(){function t(t){this.q_t=void 0,this.Y_t=[],this.j_t=0,this.q_t=t}var n=t.prototype;return n.Q_t=function(){var t=new Wo;return this.Y_t.push(t),this.Z_t(),t.Uu},n.K_t=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(t);case 2:this.j_t-=1,this.Z_t(),0===this.Y_t.length&&0===this.j_t&&n.Hu(!0);case 5:case"end":return i.stop()}},null,this,null,Ve)},n.Z_t=function(){this.Y_t.length>0&&this.j_t<this.q_t&&(this.Y_t.shift().Hu(),this.j_t+=1)},t}();function _Y(t,n){for(var i=0,e=0,r=t.KS.Y0.map(function(t){return t.Yg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var gY=function(t){function n(n,e,r,s,u,o,a,c){var h,f,v,l,d;void 0===c&&(v=L.Tn||L.pn,l=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=v&&!l,c=function(t){var n,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Ul,MediaSource.isTypeSupported(e)||Pp(t.QB,t.XH)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.Ke)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.o1){u.next=13;break}return r=t.o1,s=zs(r,function(t){return cs(t.J0)}).filter(X),u.next=10,Rr.awrap(Ys(s,function(t){return i.Nr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,Ve)}),(h=t.call(this)||this).Gat=void 0,h.J_t=void 0,h.$_t=new Wo,h.tgt=void 0,h.nct=void 0,h.ngt=JW.Bft(),h.Dft=void 0,h.igt=void 0,h.Im=void 0,h.egt=void 0,h.Not=void 0,h.Vat=void 0,h.rgt=void 0,h.H_t=void 0,h.z_t=void 0,h._ft=void 0,h.Gat=n,h.Not=e,h.Vat=r,h.egt=s,h.rgt=u,h.H_t=o,h.z_t=c,h._ft=a,h.igt=-1;var w=h.Gat.dD.sources[0];return h.tgt=w,h.Im=h.qm(),h.J_t=new wY(h.Gat.ah.parallelTasksThreshold),h}S(n,t);var e=n.prototype;return e.qm=function(){var t,n,i,e,r,s,u,o,a,c,h,f,v,l,d,_,g,m,y,k,b,p,A,T,S,E,I,R=this;return Rr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new dY(this.Vat,this.H_t,this.z_t),N.next=3,Rr.awrap(t.V_t(this.tgt));case 3:return this.nct=N.sent,n=this.Gat.ah.amount,i=this.nct.Yg,e=nG(n,i),this.Dft=e,s=HF(this.nct.Fft[0]),N.next=11,Rr.awrap(this.Not.pot.yot(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Xs(t.references,R.Gat.X_)}),o=[],a=this.Gat.ah.bandwidth,c=0,h=this.nct.Mft;c<h.length;c++)for(f=h[c],v=0,l=f.Vft;v<l.length;v++)for(d=l[v],_=0,g=yY(d.ZA);_<g.length;_++)for(m=g[_],y=0,k=kY(m.W_,a);y<k.length;y++)b=k[y],o.push(b);if(this.igt=w.ceil(o.map(function(t){return t.UR*_Y(t,e)/8}).reduce(function(t,n){return t+n},0)),p=Cr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new $S(n.startsAndEnds);if(p.has(i))p.get(i).timeRanges=p.get(i).timeRanges.$D(e).JD(5e-4);else{var r,s=Os(o,function(t){return t.X_===i}),a=w.min(R.Dft,null!=(r=null==s?void 0:s.KS.Yg)?r:1/0);p.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new JW(A,p,this.Dft)}else{for(E=0;E<o.length;E++)I=o[E],p.set(I.X_,{timeRanges:$S.gC(),totalQualityDurationToCache:w.min(I.KS.Yg,this.Dft)});r=new JW(0,p,this.Dft)}this.sgt=r;case 19:case"end":return N.stop()}},null,this,null,Ve)},e.ugt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.Im);case 2:return n.next=4,Rr.awrap(this.ogt(this.nct,t));case 4:return n.next=6,Rr.awrap(this.$_t.Uu);case 6:case"end":return n.stop()}},null,this,null,Ve)},e.ogt=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Fft){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Rr.awrap(this.agt());case 4:for(i=[],e=0,r=t.Mft;e<r.length;e++)s=r[e],i.push(this.cgt(s,t.Fft[0],n));return u.abrupt("return",Ve.all(i));case 7:case"end":return u.stop()}},null,this,null,Ve)},e.agt=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.egt.got());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Rr.awrap(this.Not.Aot.Su(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Rr.awrap(mY(e,this.Gat.X_,this.Not.Aot,this._ft));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Rr.awrap(this.Not.Aot.dot(i,this._ft));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new eG("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Rr.awrap(this.egt.bot());case 27:case"end":return r.stop()}},null,this,[[14,19]],Ve)},e.cgt=function(t,n,i){var e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Vft;r<s.length;r++)for(u=s[r],o=yY(u.ZA),a=0;a<o.length;a++)c=o[a],e.push(this.hgt(c,n,i));return h.abrupt("return",Ve.all(e));case 3:case"end":return h.stop()}},null,this,null,Ve)},e.hgt=function(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Gat.ah.bandwidth,r=kY(t.W_,e),t.us!==jy.Td||!t.qft||!t.qft.qE.widevine||"persistent"!==t.qft.qE.widevine.licenseType){a.next=6;break}return a.next=5,Rr.awrap(this.fgt(t.qft));case 5:$s(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.vgt(o,n,i));return a.abrupt("return",Ve.all(s));case 9:case"end":return a.stop()}},null,this,null,Ve)},e.vgt=function(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:$s(i),e=t.KS.Y0[0].Zy,r=e+this.Dft,s=0,u=t.KS.Y0;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Zy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Rr.awrap(this.lgt(i));case 10:return a.next=12,Rr.awrap(this.J_t.Q_t());case 12:ou(this.J_t.K_t(this.dgt(o,t,n),this.$_t));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,Ve)},e.lgt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Rs){n.next=4;break}return n.next=3,Rr.awrap(this.$_t.Uu);case 3:throw new Ks;case 4:case"end":return n.stop()}},null,this,null,Ve)},e.wgt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.Im);case 2:return t.abrupt("return",this.nct);case 3:case"end":return t.stop()}},null,this,null,Ve)},e.fgt=function(t){return Ve.resolve()},e._gt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ut("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,Ve)},e.dgt=function(t,n,i){var e,r,s,u,o,a,c,h=this;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Not.pot,r=zF(t.jft.ud,t.jft.yat),f.next=4,Rr.awrap(e.Su(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Rr.awrap(mY(s,this.Gat.X_,e,this._ft));case 8:this.ggt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Rr.awrap(this.mgt(t.jft));case 14:return u=f.sent,o=this.ygt(t,n,i,u),a=o.segmentMetadataEntry,c=o.segmentEntry,f.next=18,Rr.awrap(this.Not.Eot(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.pot.dot(a,h._ft));case 2:return n.next=4,Rr.awrap(t.Y0.dot(c,h._ft));case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 18:this.ggt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new eG("Unable to store segment with url: "+t.jft.ud,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],Ve)},e.mgt=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.rgt.kgt(t,!1));case 2:return n=i.sent,i.next=5,Rr.awrap(this.bgt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,Ve)},e.bgt=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(t.Ll());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,Ve)},e.ygt=function(t,n,i,e){var r=zF(t.jft.ud,t.jft.yat),s=t.Zy,u=t.Yg,o=this.pgt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:HF(i),qualityId:n.X_,byteSize:o,startsAndEnds:new $S([s,s+u]).UD,references:[this.Gat.X_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:HF(i),data:e}}},e.pgt=function(t){return t.buffer.byteLength},e.ggt=function(t,n){var i=t.qualityId,e=this.ngt,r=e.Cy;r.get(i).timeRanges=r.get(i).timeRanges.$D(new $S(t.startsAndEnds)).JD(5e-4),this.sgt=new JW(n?e.Oft+t.byteSize:e.Oft,r,this.Dft)},A(n,[{key:"Agt",get:function(){return this.igt}},{key:"sgt",get:function(){return this.ngt},set:function(t){this.ngt.pk(t)||(this.ngt=t,t.pk(JW.Bft())||this.Ys(new KW))}}]),n}(lu);function mY(t,n,i,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Xs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Rr.awrap(i.dot(t,e));case 4:case"end":return r.stop()}},null,null,null,Ve)}function yY(t){return t.length?[t[0]]:[]}function kY(t,n){if(!t.length)return[];var i=[].concat(t).sort(QW),e=i.filter(function(t){return t.UR<=n});return e.length>0?[e.pop()]:[i.shift()]}var bY=function(){function t(t){this.kE=void 0,this.rX=new VN,this.kE=t}var n=t.prototype;return n.ed=function(t){var n=this,i=new Wo;return this.rX.YU(function(e){return n.Tgt(i,t,e)},t.zs).catch(Z),i.Uu},n.Pd=function(t){return this.kE.Pd(t)},n.Tgt=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return $s(i),e=new Jw({ud:n.ud,zs:i},n),r=this.kE.ed(e),t.Hu(r),u.next=6,Rr.awrap(r);case 6:return s=u.sent,u.next=9,Rr.awrap(s.Gl());case 9:case"end":return u.stop()}},null,this,null,Ve)},n.Bd=function(){this.rX.Bd()},t}(),pY=function(){function t(t,n){this.kE=void 0,this.Sgt=void 0,this.n6=void 0,this.kE=t,this.Sgt=new bY(t),this.n6=n}var n=t.prototype;return n.kgt=function(t,n,i){return this.w3(t,n,!0,!1,void 0,i)},n.g5=function(t,n,i,e){return this.w3(t,n,!1,!1,i,e)},n.Egt=function(t,n,i,e){return this.w3(t,n,!1,!0,i,e)},n.w3=function(n,i,e,r,s,u){var o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return $s(u),a.next=3,Rr.awrap(this.T5(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Igt(o));case 8:return a.abrupt("return",this.Rgt(o));case 9:case"end":return a.stop()}},null,this,null,Ve)},n.Rgt=function(t){return t},t.Igt=function(t){return t},n.T5=function(t,n,i,e,r){var s=new Jw({ud:t.ud,Jl:pf.Vf,Kl:t.yat?{Range:"bytes="+t.yat[0]+"-"+t.yat[1]}:void 0,Dd:t.Dd,Ed:Yw.GET,us:jw.vd,Rd:i?Qw.dd:Qw.hd,Nd:this.n6,Id:e,zs:r});return n?this.Sgt.ed(s):this.kE.ed(s)},t}(),AY=function(){function t(t){this.kE=void 0,this.kE=t}return t.prototype.mwt=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.kE.ed({ud:t,Jl:pf.Vf,Kl:{Range:"bytes="+n[0]+"-"+n[1]},Dd:i,Ed:Yw.GET,us:jw.hd,zs:e}));case 2:return r=s.sent,s.next=5,Rr.awrap(r.Ll());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ve)},t}(),TY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).p5=void 0,r.p5=n,r}return S(n,t),n}(Jt),SY=function(){function t(t){this.t4=void 0,this.t4=t}return t.prototype.mwt=function(t,n,i,e){var r,s;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.t4.u6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Rr.awrap(this.t4.u6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Xo(new y(s.buffer),n[0],n[1]));case 10:throw new TY({ud:t,yat:n,Dd:!1});case 11:case"end":return i.stop()}},null,this,null,Ve)},t}(),EY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new $S([0,0]).UD,references:[]},IY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},RY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).Ngt=void 0,u.Dgt=void 0,u.Not=void 0,u._ft=void 0,u.Ngt=new AY(i),u.Not=e,u.Dgt=r,u._ft=s,u}S(n,t);var i=n.prototype;return i.mwt=function(n,i,e,r){var s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(t.prototype.mwt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),tu(u.t0);case 9:return u.next=11,Rr.awrap(this.Ngt.mwt(n,i,e,r));case 11:return s=u.sent,u.next=14,Rr.awrap(this.Cgt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],Ve)},i.Cgt=function(t,i,e){var r,s,u,o,a,c,h,f=this;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.Dgt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Not.pot,s=zF(t,i),v.next=6,Rr.awrap(r.Su(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Rr.awrap(mY(u,this.Dgt,r,this._ft));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.ygt(s,o,this.Dgt),c=a.segmentMetadataEntry,h=a.segmentEntry,v.next=17,Rr.awrap(this.Not.Eot(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.pot.dot(c,f._ft));case 2:return n.next=4,Rr.awrap(t.Y0.dot(h,f._ft));case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new eG("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],Ve)},n.ygt=function(t,n,i){return{segmentMetadataEntry:Nr({},EY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},IY,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(SY);var NY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Pgt=function(t,n,i,e,r,s,u){return new gY(t,n,i,e,r,s,u)},n}(function(){function t(t){this.kE=t}return t.prototype.mK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.dD.sources[0].useCredentials),r=new pY(this.kE,Zw.hd),s=new EH(this.kE,e),u=new VF(n.Aot,n.pot,n.Y0,n.Sot),o=function(t,n,i,e,r){return new RY(n,t,i,e,r)}(this.kE,u,n,t.X_,i),a=new KF,c=new CH(DH(s,u),a,t);return this.Pgt(t,n,c,a,r,o,i)},t}());function DY(t){var n,i={get id(){return t.X_},get status(){return t.Zl},get source(){return t.dD},get parameters(){return t.ah},get duration(){return t.Yg},get cached(){return t.Bgt.ZN()},get secondsCached(){return t.Ogt},get percentageCached(){return t.xgt},get bytes(){return t.Lgt},get bytesCached(){return t.Mgt},get license(){return t.fO.Jw},start:function(){t.OD()},pause:function(){t.Xm()},remove:function(){t.Vc()},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}};return n=new eN(t,["Ift","rft"],i),i}var CY=function(){function t(t,n,i){this.Gat=t,this.Not=n,this.nct=i}var n=t.prototype;return n.Ugt=function(){var t=this;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.Not.Eot(function(n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(t.Xgt(n));case 2:return i.next=4,Rr.awrap(t.Fgt(n));case 4:return i.next=6,Rr.awrap(t.Hgt(n));case 6:return i.next=8,Rr.awrap(t.zgt(n));case 8:case"end":return i.stop()}},null,null,null,Ve)}));case 2:case"end":return n.stop()}},null,this,null,Ve)},n.Xgt=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Tot,i=this.Gat.X_,e.next=4,Rr.awrap(n.Vc(i));case 4:case"end":return e.stop()}},null,this,null,Ve)},n.Fgt=function(t){var n,i,e,r,s,u,o,a=this;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.pot,i=t.Y0,Qm(e=this.Gat.dD.sources[0])){c.next=5;break}return c.abrupt("return");case 5:return r=HF(e.src),c.next=8,Rr.awrap(n.yot(r,"manifestURL"));case 8:s=c.sent.filter(function(t){return Xs(t.references,a.Gat.X_)}),u=0;case 10:if(!(u<s.length)){c.next=25;break}if(Ms((o=s[u]).references,this.Gat.X_),0!==o.references.length){c.next=20;break}return c.next=16,Rr.awrap(n.Vc(o.key));case 16:return c.next=18,Rr.awrap(i.Vc(o.key));case 18:c.next=22;break;case 20:return c.next=22,Rr.awrap(n.dot(o));case 22:u++,c.next=10;break;case 25:case"end":return c.stop()}},null,this,null,Ve)},n.Hgt=function(t){var n,i,e,r,s,u=this;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Aot,i=this.Vgt(),o.next=4,Rr.awrap(n.vot(i));case 4:e=o.sent.filter(function(t){return Xs(t.references,u.Gat.X_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Ms((s=e[r]).references,this.Gat.X_),0!==s.references.length){o.next=14;break}return o.next=12,Rr.awrap(n.Vc(s.key));case 12:o.next=16;break;case 14:return o.next=16,Rr.awrap(n.dot(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,Ve)},n.Vgt=function(){if(!this.nct)return[];var t=this.Gat.dD.sources[0];if(!Qm(t))return[];var n=HF(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Mft;i<e.length;i++)for(var r=0,s=e[i].Vft;r<s.length;r++)for(var u=0,o=s[r].ZA;u<o.length;u++)for(var a=0,c=o[u].W_;a<c.length;a++){var h=c[a];h.evt&&n.push(h.evt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.nct).map(function(t){return{src:t}}).map(function(t){return HF(t.src)});return[n].concat(i)},n.zgt=function(t){var n,i,e,r,s=this;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Sot,u.next=3,Rr.awrap(n.got());case 3:i=u.sent.filter(function(t){return Xs(t.references,s.Gat.X_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Ms((r=i[e]).references,this.Gat.X_),0!==r.references.length){u.next=14;break}return u.next=11,Rr.awrap(n.Vc(r.key));case 11:this.Wgt(r),u.next=16;break;case 14:return u.next=16,Rr.awrap(n.dot(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,Ve)},n.Wgt=function(t){},t}(),PY=new(function(){function t(){}return t.prototype.mK=function(t,n,i){return new CY(t,n,i)},t}());var BY=function(){function t(t,n){this.Kw=void 0,this.Pw=t,this.Ggt=n}var n=t.prototype;return n.qgt=function(t){this.Ygt(t)},n.Ygt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(this.Ggt._gt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Pw.yft(MW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],Ve)},A(t,[{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{renew:function(n){t.qgt(n)}})),this.Kw}}]),t}(),OY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Nc=void 0,o.wft=void 0,o.Kw=void 0,o.zet=void 0,o.jgt=void 0,o.Not=void 0,o.Ggt=void 0,o.Qgt=new Zs,o.Zgt=void 0,o.evictOnLoading=function(){o.Js("rft",o.evictOnLoading),o.Kgt()},o.Nc=n,o.zet=i,o.jgt=e,o.Not=r,o.Ggt=s.mK(Zt(o),o.Not,u),o.Zgt=new BY(Zt(o),o.Ggt),o.wft=1===o.Ggt.sgt.xft?MW.DONE:MW.IDLE,o.Ggt.js("Ift",function(t){o.qs(t),1===o.xgt&&o.yft(MW.DONE)});var c=new Date,h=o.jgt.expirationDate.getTime()-c.getTime();return h<2147483647&&a(function(){return o.Kgt()},h),o}S(n,t);var i=n.prototype;return i.yft=function(t){this.wft!==t&&(this.wft=t,this.Ys(new XW))},i.OD=function(){this.wft===MW.EVICTED||this.wft===MW.DONE||this.Jgt()},i.Jgt=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.yft(MW.LOADING),t=new Zs,this.Qgt=t,n.next=6,Rr.awrap(this.Ggt.ugt(t.zs));case 6:this.yft(MW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Js(n.t0)?this.yft(MW.IDLE):this.yft(MW.ERROR);case 12:return n.prev=12,this.Qgt.Bs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],Ve)},i.Xm=function(){this.Qgt.Xs()},i.Vc=function(){this.Zl===MW.LOADING?(this.js("rft",this.evictOnLoading),this.Xm()):this.Kgt()},i.Kgt=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(this.Ggt.wgt());case 3:return t=n.sent,n.next=6,Rr.awrap(PY.mK(this,this.Not,t).Ugt());case 6:this.Ggt.sgt=JW.Bft(),this.yft(MW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.yft(MW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],Ve)},A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=DY(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"fO",get:function(){return this.Zgt}},{key:"Zl",get:function(){return this.wft}},{key:"dD",get:function(){return this.zet}},{key:"ah",get:function(){return this.jgt}},{key:"Yg",get:function(){return this.Ggt.sgt.lC}},{key:"Bgt",get:function(){return this.Ggt.sgt.Pft}},{key:"Ogt",get:function(){return this.Ggt.sgt.Cft}},{key:"xgt",get:function(){return this.Ggt.sgt.xft}},{key:"Lgt",get:function(){return this.Ggt.Agt}},{key:"Mgt",get:function(){return this.Ggt.sgt.Oft}}]),n}(Dm);var xY=function(){function t(t,n){this.Not=t,this.$gt=n}var n=t.prototype;return n.Aft=function(t,n,i){var e=MI();return this.bft(e,t,n,i)},n.bft=function(t,n,i,e){return new OY(t,n,i,this.Not,this.$gt,e)},t}(),LY=30,MY=5;function UY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!fs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,G(i)&&fs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+LY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(j(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return MY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var XY,FY,HY,zY,VY,WY,GY=function(t){function n(n,i){var e;return(e=t.call(this)||this).Kw=void 0,e.tmt=n,e.wU=i,e.tmt.js("rft",e.qs),e}return S(n,t),n.prototype.nmt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=oI(t),r=UY(n),ZE(e))throw new v("Invalid source description");return this.tmt.bft(e,r).Jw},A(n,[{key:"Jw",get:function(){var t,n,i;return this.Kw||(this.Kw=(i={get status(){return t.Zl},get tasks(){return t.Eft},get network(){return t.RU.Jw},createTask:function(n,i){return t.nmt(n,i)},addEventListener:function(t,i){n.js(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new rN(t=this,i),i)),this.Kw}},{key:"Zl",get:function(){return this.tmt.Zl}},{key:"Eft",get:function(){return this.tmt.Eft.Jw}},{key:"RU",get:function(){return this.wU}}]),n}(Dm);(XY=new MR(i.qw,!1),FY=eH.Gn,HY=new NY(XY),zY=new xY(FY,HY),VY=new XR(XY),WY=new jW(FY.Tot,zY,"persistent"),new GY(WY,VY)).Jw;var qY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Nc=void 0,s.wft=void 0,s.Kw=void 0,s.zet=void 0,s.jgt=void 0,s.ea=0,s.imt=$S.gC(),s.emt=0,s.rmt=0,s.tmt=void 0,s.Nc=n,s.wft=MW.IDLE,s.zet=i,s.jgt=e,s.tmt=r,s}S(n,t);var i=n.prototype;return i.OD=function(){this.tmt.startCachingTask(this)},i.Vc=function(){this.tmt.removeCachingTask(this)},A(n,[{key:"Jw",get:function(){return this.Kw||(this.Kw=DY(this)),this.Kw}},{key:"X_",get:function(){return this.Nc}},{key:"Zl",get:function(){return this.wft},set:function(t){this.wft!==t&&(this.wft=t,this.Ys(new XW))}},{key:"dD",get:function(){return this.zet}},{key:"ah",get:function(){return this.jgt}},{key:"Yg",get:function(){return this.ea},set:function(t){this.ea=t}},{key:"Bgt",get:function(){return this.imt},set:function(t){this.imt=t}},{key:"Ogt",get:function(){return this.emt},set:function(t){this.emt=t}},{key:"xgt",get:function(){return this.rmt},set:function(t){this.rmt=t,this.Ys(new KW)}}]),n}(Cm),YY=30;function jY(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+YY),n&&((i=n)&&!(j(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var QY=function(t){function n(){var n;return(n=t.call(this)||this).wft=zW.UNINITIALISED,n.zU=new YW,n.zct=void 0,n.rht=void 0,n.smt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Zl=MW.EVICTED,i.xgt=0,i.Ogt=0,i.Yg=0,i.Bgt=$S.gC(),n.zU.Vc(i))}},n.umt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Zl=e);var r=t.detail.percentage;r&&(i.xgt=r);var s=t.detail.duration;s&&(i.Yg=s);var u=t.detail.seconds;u&&(i.Ogt=u);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.Bgt=new $S(a)}}}},n.omt=function(t){if(t.detail){var i=oI(JSON.parse(t.detail.source));if(!n.amt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.bft(i,jY(e),s)}}},n.cmt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.bft(oI(r),jY(i),s);u.Zl=t.detail.status,u.xgt=t.detail.percentage,u.Yg=t.detail.duration,u.Ogt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}u.Bgt=new $S(a)}},n.hmt=function(t){t.detail&&n.yft(t.detail.status)},n.zct=new BW,n.rht=new fW,sW().cache={sdkEventBus:n.rht},n.$ht(),n}S(n,t);var i=n.prototype;return i.yft=function(t){this.wft!==t&&(this.wft=t,this.Ys(new XW))},i.bft=function(t,n,i){void 0===i&&(i=void 0);var e=new qY(i||MI(),t,n,this);return this.zU.Py(e),i||this.zct.eK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.X_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.zU.uft;n<i.length;n++){var e=i[n];if(e.X_===t)return e}},i.amt=function(t){for(var n=KY(t.sources),i=0,e=this.zU.uft;i<e.length;i++){if(KY(e[i].dD.sources).src===n.src)return!0}return!1},i.$ht=function(){this.rht.addEventListener("deleteTask",this.smt),this.rht.addEventListener("updateValues",this.umt),this.rht.addEventListener("newTask",this.omt),this.rht.addEventListener("restoreTask",this.cmt),this.rht.addEventListener("setCacheStatus",this.hmt)},i.startCachingTask=function(t){this.zct.eK("THEOplayerCacheStartCachingTask",{id:t.X_})},i.removeCachingTask=function(t){this.zct.eK("THEOplayerCacheRemoveCachingTask",{id:t.X_})},A(n,[{key:"Zl",get:function(){return this.wft}},{key:"Eft",get:function(){return this.zU}}]),n}(lu),ZY=function(t){function n(n){var i;return(i=t.call(this,n)||this).fmt=n,i.fmt.js("rft",i.qs),i}return S(n,t),n.prototype.nmt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=oI(t),e=jY(n),ZE(i))throw new v("Invalid source description");if(!KY(i.sources))throw new v("The provided sources can't be cached");return this.fmt.bft(i,e).Jw},n}(GY);function KY(t){for(var n=0;n<t.length;n++){var i=t[n];if(Gm(i.type))return i}}var JY,$Y,tj=function(){var t=new QY;return new ZY(t)}().Jw;!function(t){t.vmt="any",t.lmt="natural",t.dmt="landscape",t.wmt="portrait",t._mt="portrait-primary",t.gmt="portrait-secondary",t.mmt="landscape-primary",t.ymt="landscape-secondary"}(JY||(JY={})),function(t){t._mt="portrait-primary",t.gmt="portrait-secondary",t.mmt="landscape-primary",t.ymt="landscape-secondary"}($Y||($Y={}));var nj,ij,ej=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zct=new BW,n.kmt=JY.lmt,n.bmt=$Y._mt,n.pmt=$Y._mt,n.Amt=$Y._mt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.kmt=t,n.zct.eK("THEOplayerOrientationLock",t),n.Tmt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.kmt=JY.lmt,t.zct.eK("THEOplayerOrientationUnlock"),t.type=t.pmt,t.Tmt(),n()})},i.Tmt=function(){var t=this.Amt,n=this.type;t!==n&&(this.Amt=n,this.Ys(new wu("change")))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n.Smt=function(t){switch(t){case JY._mt:return[$Y._mt];case JY.gmt:return[$Y.gmt];case JY.wmt:return[$Y._mt,$Y.gmt];case JY.mmt:return[$Y.mmt];case JY.ymt:return[$Y.ymt];case JY.dmt:return[$Y.mmt,$Y.ymt];case JY.lmt:return[$Y._mt,$Y.mmt,$Y.ymt];case JY.vmt:return[$Y._mt,$Y.gmt,$Y.mmt,$Y.ymt]}},n.Emt=function(t,i){return n.Smt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.bmt},set:function(t){this.pmt=t,n.Emt(t,this.kmt)?(this.bmt=t,this.Tmt()):(t===$Y.mmt&&this.kmt===JY.ymt&&(this.bmt=$Y.ymt,this.Tmt()),t===$Y.ymt&&this.kmt===JY.mmt&&(this.bmt=$Y.mmt,this.Tmt()))}},{key:"angle",get:function(){switch(this.type){case $Y.mmt:return-90;case $Y.ymt:return 90;case $Y._mt:return 0;case $Y.gmt:return 180;default:return 0}}}]),n}(Cm);ej.Gn=new ej,r.screen.orientation=ej.Gn,o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Imt="unavailable",t.Rmt="available",t.Nmt="presenting"}(nj||(nj={})),BN(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.zm=function(n){t.prototype.zm.call(this,n);var i=this.Jw;this.Jw.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===nj.Nmt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(JY.ymt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},SN.CU),function(t){t.Yw="addtrack",t.Qw="removetrack",t.f_="change",t.g_="update"}(ij||(ij={}));var rj=function(t,n,i){this.type=ij.f_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},sj=function(t,n){this.type=ij.Yw,this.mediaType=t,this.mediaTrack=n},uj=function(t,n){this.type=ij.Qw,this.mediaType=t,this.mediaTrack=n},oj=function(t,n){this.type=ij.g_,this.mediaType=t,this.mediaTrack=n},aj=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Dmt=function(t){var n=new rj(e.type,t.track,e.mediaTracks);e.messageDispatcher.Cmt(n)},this.Pmt=function(t){var n=new sj(e.type,t.track);e.messageDispatcher.Cmt(n),t.track.addEventListener("update",e.Bmt)},this.Omt=function(t){var n=new uj(e.type,t.track);e.messageDispatcher.Cmt(n)},this.Bmt=function(t){var n=new oj(e.type,t.track);e.messageDispatcher.Cmt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.$ht()}return t.prototype.$ht=function(){this.mediaTracks.addEventListener("change",this.Dmt),this.mediaTracks.addEventListener("addtrack",this.Pmt),this.mediaTracks.addEventListener("removetrack",this.Omt)},t}(),cj=function(){function t(){this.xmt=void 0,this.xmt=new BW}return t.prototype.Cmt=function(t){this.xmt.eK(t.type,WH(t))},t}();LN(function(t){if(t.Jw.audioTracks){var n=new cj;new aj("audio",t.Jw.audioTracks,n)}if(t.Jw.videoTracks){var i=new cj;new aj("video",t.Jw.videoTracks,i)}});var hj,fj="nativePromiseCallback",vj=function(t){function n(n){var i;return(i=t.call(this,fj)||this).detail=n,i}return S(n,t),n}(wu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(hj||(hj={}));var lj=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ys(new vj(n))},i.addEventListener=function(t,n){this.js(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n}(fW),dj=function(){function t(){var t=this;this.xmt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case hj.RESOLVE:i.Hu(n.detail.data);break;case hj.REJECT:i.Vu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new lj;sW().nativePromise={sdkEventBus:n},n.addEventListener(fj,this.handleNativePromiseEvent)}return t.prototype.Lmt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Wo;return this.promisesMap[e]=s,null==(i=this.xmt)||i.eK(n.type,zH(r)),s.Uu},t}();dj.messageIdTracker=-1;var wj,_j=function(t){function n(){var n;return(n=t.call(this)||this).xmt=new BW,n}return S(n,t),n}(dj),gj=function(){function n(t){this.playerID=t}return n.prototype.eK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),mj=function(t){function n(n){var i;return(i=t.call(this)||this).xmt=new gj(n),i}return S(n,t),n}(dj);!function(t){t.Yw="TextTrackListAddTrack",t.Qw="TextTrackListRemoveTrack",t.f_="TextTrackListChange"}(wj||(wj={}));var yj,kj=function(t){this.type=wj.Yw,this.textTrack=t},bj=function(t){this.type=wj.Qw,this.textTrack=t},pj=function(t){this.type=wj.f_,this.textTrack=t};!function(t){t.n_="TextTrackAddCue",t.e_="TextTrackRemoveCue",t.s_="TextTrackEnterCue",t.o_="TextTrackExitCue",t.c_="TextTrackCueChange"}(yj||(yj={}));var Aj,Tj=function(t,n){this.type=yj.n_,this.textTrackCue=t,this.textTrackUid=n},Sj=function(t,n){this.type=yj.e_,this.textTrackCue=t,this.textTrackUid=n},Ej=function(t,n){this.type=yj.s_,this.textTrackCue=t,this.textTrackUid=n},Ij=function(t,n){this.type=yj.o_,this.textTrackCue=t,this.textTrackUid=n},Rj=function(t){this.type=yj.c_,this.textTrackUid=t};!function(t){t.Gy="TextTrackCueEnter",t.Yy="TextTrackCueExit",t.g_="TextTrackCueUpdate"}(Aj||(Aj={}));var Nj=function(t){this.type=Aj.Gy,this.textTrackCue=t},Dj=function(t){this.type=Aj.Yy,this.textTrackCue=t},Cj=function(t){this.type=Aj.g_,this.textTrackCue=t},Pj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Mmt=function(t){var i=Bj(t.cue),e=new Nj(i);n.messageDispatcher.Lmt(e).then()},this.Umt=function(t){var i=Bj(t.cue),e=new Dj(i);n.messageDispatcher.Lmt(e).then()},this.Xmt=function(t){var i=Bj(t.cue),e=new Cj(i);n.messageDispatcher.Lmt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.$ht=function(t){t.addEventListener("enter",this.Mmt),t.addEventListener("exit",this.Umt),t.addEventListener("update",this.Xmt)},n.tu=function(t){t.removeEventListener("enter",this.Mmt),t.removeEventListener("exit",this.Umt),t.removeEventListener("update",this.Xmt)},t}();function Bj(t){var n=JV(t,t.track.type);return delete n.track,n}var Oj=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Fmt=function(t){var n,e=Bj(t.cue),r=new Tj(e,t.cue.track.uid);i.messageDispatcher.Lmt(r).then(),null==(n=i.textTrackCueBridge)||n.$ht(t.cue)},this.Hmt=function(t){var n,e=Bj(t.cue),r=new Sj(e,t.cue.track.uid);i.messageDispatcher.Lmt(r).then(),null==(n=i.textTrackCueBridge)||n.tu(t.cue)},this.Mmt=function(t){var n=Bj(t.cue),e=new Ej(n,t.cue.track.uid);i.messageDispatcher.Lmt(e).then()},this.Umt=function(t){var n=Bj(t.cue),e=new Ij(n,t.cue.track.uid);i.messageDispatcher.Lmt(e).then()},this.zmt=function(t){var n=new Rj(t.track.uid);i.messageDispatcher.Lmt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new Pj(e))}var n=t.prototype;return n.$ht=function(t){t.addEventListener("addcue",this.Fmt),t.addEventListener("removecue",this.Hmt),t.addEventListener("entercue",this.Mmt),t.addEventListener("exitcue",this.Umt),t.addEventListener("cuechange",this.zmt)},n.tu=function(t){t.removeEventListener("addcue",this.Fmt),t.removeEventListener("removecue",this.Hmt),t.removeEventListener("entercue",this.Mmt),t.removeEventListener("exitcue",this.Umt),t.removeEventListener("cuechange",this.zmt)},n.initMessageDispatcher=function(t){return L.Hn?new _j:L.zn&&void 0!==t?new mj(t):void 0},t}(),xj=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Pmt=function(t){var n,i=new kj(t.track);e.messageDispatcher.Lmt(i).then(),null==(n=e.textTrackBridge)||n.$ht(t.track)},this.Omt=function(t){var n,i=new bj(t.track);e.messageDispatcher.Lmt(i).then(),null==(n=e.textTrackBridge)||n.tu(t.track)},this.Vmt=function(t){var n=new pj(t.track);e.messageDispatcher.Lmt(n).then()},this.Wmt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Gmt(i);r&&(this.textTrackBridge=new Oj(r,i)),this.$ht(),this.sdkEventBus=new fW,sW().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Wmt)}var n=t.prototype;return n.$ht=function(){this.textTracks.addEventListener("addtrack",this.Pmt),this.textTracks.addEventListener("removetrack",this.Omt),this.textTracks.addEventListener("change",this.Vmt)},n.Gmt=function(t){return L.Hn?new _j:L.zn&&void 0!==t?new mj(t):void 0},t}();LN(function(t){if(t.Jw.textTracks){var n=new _j;new xj(t.Jw.textTracks,n)}});var Lj,Mj,Uj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case Lj.qmt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ys(new Xj(i));break;default:0}},n}(fW),Xj=function(t){function n(n){var i;return(i=t.call(this,Lj.qmt)||this).detail=n,i}return S(n,t),n}(wu);!function(t){t.qmt="registerContentProtectionIntegration"}(Lj||(Lj={})),function(t){t.Ymt="certifiateRequest",t.jmt="certifiateResponse",t.Qmt="licenseRequest",t.Zmt="licenseResponse",t.Kmt="extractFairplayContentId",t.Jmt="buildContentProtection",t.$mt="registerContentProtectionCallback"}(Mj||(Mj={}));var Fj,Hj=function(t,n){this.type=Mj.$mt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(Fj||(Fj={}));var zj=function(t,n){this.type=Mj.Jmt,this.value=t,this.integrationId=n},Vj=function(t,n){this.type=Mj.Ymt,this.value=t,this.integrationId=n},Wj=function(t,n){this.type=Mj.jmt,this.value=t,this.integrationId=n},Gj=function(t,n){this.type=Mj.Kmt,this.value=t,this.integrationId=n},qj=function(t,n){this.type=Mj.Qmt,this.value=t,this.integrationId=n},Yj=function(t,n){this.type=Mj.Zmt,this.value=t,this.integrationId=n},jj=function(){function t(t,n){this.tyt=void 0,this.II=void 0,this.tyt=t,this.II=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new Vj(i,this.II),a.prev=2,a.next=5,Rr.awrap(this.tyt.Lmt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.nyt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.iyt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new Wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],Ve)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new Wj(e,this.II),o.next=5,Rr.awrap(this.tyt.Lmt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,Ve)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new qj(e,this.II),c.prev=3,c.next=6,Rr.awrap(this.tyt.Lmt(r));case 6:if(!(s=c.sent)){c.next=17;break}if(u=JSON.parse(s),!this.nyt(u)){c.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},c.abrupt("return",o);case 14:if(!this.iyt(u)){c.next=17;break}return a=new y(u),c.abrupt("return",a);case 17:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw c.prev=20,c.t0=c.catch(3),new Wy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 23:case"end":return c.stop()}},null,this,[[3,20]],Ve)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new Yj(r,this.II),a.next=6,Rr.awrap(this.tyt.Lmt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new Wy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,Ve)},i.extractFairplayContentId=function(t){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Gj(t,this.II),r.next=3,Rr.awrap(this.tyt.Lmt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",Ve.reject(new Wy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,Ve)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.nyt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.iyt=function(t){return!!new y(t)},t}(),Qj=function(){function t(t){this.tyt=void 0,this.tyt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new jj(this.tyt,t.integration),i=new zj({drmConfiguration:t},t.integration);return this.tyt.Lmt(i),n},t}(),Zj=function(t){function n(){var n;return(n=t.call(this)||this).tyt=new _j,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.tyt}}]),n}(function(){var t=this;this.rht=void 0,this.eyt=function(n){var i=new Qj(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:MA.OI.NI(r,s,i)};t.messageDispatcher.Lmt(new Hj(u,r))},this.rht=new Uj,sW().contentProtectionIntegration={sdkEventBus:this.rht},this.rht.addEventListener(Lj.qmt,this.eyt)});LN(function(t){new Zj});var Kj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(wu);var Jj,$j=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ryt=function(){},e.syt(),e}S(n,t);var e=n.prototype;return e.uyt=function(){this.pD&&this.pD.Js(bf.ef,this.handleAirplayChangedEvent),this.pD=this.Jx,this.pD.js(bf.ef,this.handleAirplayChangedEvent)},e.oyt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pD){t.next=2;break}return t.abrupt("return");case 2:this.ayt(BE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,Ve)},e.cyt=function(){this.ayt(BE.AVAILABLE)},e.Wm=function(){i.Or.Fe&&(this.hyt.qm(),this.fyt.Xs(),this.fyt=new Zs,ou(this.vyt(this.fyt.zs)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Kw=void 0,e.hyt=void 0,e.pD=void 0,e.Jx=void 0,e.we=BE.UNAVAILABLE,e.fyt=new Zs,e.ryt=void 0,e.handleAirplayChangedEvent=function(){e.pD&&e.pD._y?e.oyt():e.sQ===BE.CONNECTED&&e.cyt()},e.hyt=n,e.Jx=i,e}S(n,t);var e=n.prototype;return e.syt=function(){this.uyt(),this.hyt.js("sourcechange",this.ryt),i.Or.Fe&&this.ayt(BE.AVAILABLE)},e.preloadPlayer=function(t){if($s(t),this.pD.rg<Fm.Lg){var n=this.pD.uu("loadedmetadata",t);return this.pD.Iy=GS.rA,n}return Ve.resolve()},e.ayt=function(t){t!==this.we&&(this.we=t,this.Ys(new Kj(this.we)))},e.vyt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.preloadPlayer(t));case 2:this.Jx.Wm();case 3:case"end":return n.stop()}},null,this,null,Ve)},e.Gm=function(){i.Or.Fe&&this.pD.Gm()},e.Bd=function(){this.Ks(),this.hyt.Js("sourcechange",this.ryt),this.fyt.Xs()},A(n,[{key:"NM",get:function(){return this.sQ===BE.CONNECTED}},{key:"sQ",get:function(){return this.we}},{key:"Jw",get:function(){var t;return this.Kw||(this.Kw=(t=this,{get casting(){return t.NM},get state(){return t.sQ},start:function(){t.Wm()},stop:function(){t.Gm()},addEventListener:function(n,i){var e=lm(n,fm);t.js(e,i)},removeEventListener:function(n,i){var e=lm(n,fm);t.Js(e,i)}})),this.Kw}}]),n}(lu));BN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.$w=function(){var n=this.EU.Jw;return em(t.prototype.$w.call(this),{get cast(){return n}})},n}(t)},SN.DU),BN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).lyt=void 0,e.lyt=new $j(Zt(e),e.pM),e.EU.RM(e.lyt),e.js("currentsourcechange",function(){e.lyt.uyt()}),e}S(n,t);var i=n.prototype;return i.$w=function(){var n=this,i=t.prototype.$w.call(this);return em(i.cast,{get airplay(){return n.lyt.Jw}}),i},i.Bd=function(){this.lyt.Bd(),t.prototype.Bd.call(this)},n}(t)},SN.DU),function(t){t.dyt="airplaystatechange"}(Jj||(Jj={}));var tQ=function(t){this.type=Jj.dyt,this.state=t},nQ=function(t){function n(n){var i;return(i=t.call(this)||this).wyt=void 0,i._yt=function(t){var n=new tQ(t.state);i.Cmt(n)},i.wyt=n,i.$ht(n),i}return S(n,t),n.prototype.$ht=function(t){t.addEventListener("statechange",this._yt)},n}(cj);LN(function(t){var n;null!=(n=t.Jw.cast)&&n.airplay&&new nQ(t.Jw.cast.airplay)}),n.ChromelessPlayer=tD,n.Player=tD,n.cache=tj,n.createGlobals=aW,n.features=eD,n.getCueMirrorMap=uW,n.getGlobalId=oW,n.getSdkEventBridge=sW,n.playerSuiteVersion="2022.3.3",n.players=rD,n.registerContentProtectionIntegration=sD,n.utils=iD,n.version="4.1.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
