/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2023.1.4 (4.10.0)
 Created: 2023-03-06T14:45:52.516Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=E.match(/Android ([0-9\.]+)/i),N=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=E.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),L=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=N?g(N[1]):0,this.Y=/Android/i.test(E),this.j=D?g(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.K=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=x?g(x[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(E),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=R?_(R[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.At=I?_(I[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(E),this.St=O?g(O[1]):0,this.Et=/webos|web0s/i.test(E),this.It=/Edge\/\d+/i.test(E),this.Rt=/Trident/i.test(E),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(E),this.Ct=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Pt=P?g(P[1]):0,this.Bt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.Tt,this.Ot=C?g(C[2]):0,this.xt=Boolean(B),this.Lt=B?g(B[1]):0,this.Mt=/CrKey/.test(E),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Xt="ios"===e.I,this.Ht="ios"===e.g,this.Ft=this.Ht||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return A(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Hn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.Ft}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();L.Yn=new L;var M=L.Yn,U={}.hasOwnProperty,X={}.toString;function H(t){return null!=t}function F(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===X.call(t)};function V(t){return W(t)&&U.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function G(t){return W(t)&&t.constructor&&t.constructor===d}function q(t){return"string"==typeof t}function Y(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===X.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var tt=!(M.Rn&&!M.Dn),nt=t.console;function it(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function et(t){return t.map(it).join(" ")}function rt(t){var n=nt&&nt[t];return n?n.bind&&tt?n.bind(nt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];nt[t](et(i))}:void 0}var st,ut=rt("log")||K,ot=rt("warn")||ut.bind(void 0,"WARNING:"),at=rt("error")||ut.bind(void 0,"ERROR:"),ht=(st=nt&&nt.assert)?st.bind&&tt?st.bind(nt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];nt.assert(t,et(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ft(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function vt(t){return!0===(t&&t.Zn)}function lt(t){var n=w.clz32(t&-t);return t?31-n:n}ft.prototype.Zn,d.defineProperty(ft.prototype,"Zn",{value:!0}),ft.isLong=vt;var dt={},wt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=wt[t])?e:(i=mt(t,0,!0),r&&(wt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=mt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?It:Et;if(n){if(t<0)return It;if(t>=At)return Pt}else{if(t<=-Tt)return Bt;if(t+1>=Tt)return Ct}return t<0?gt(-t,n).neg():mt(t%bt|0,t/bt|0,n)}function mt(t,n,i){return new ft(t,n,i)}ft.fromInt=_t,ft.fromNumber=gt,ft.fromBits=mt;var yt=w.pow;function kt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?It:Et;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=gt(yt(i,8)),s=Et,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var h=gt(yt(i,o));s=s.mul(h).add(gt(a))}else s=(s=s.mul(r)).add(gt(a))}return s.unsigned=n,s}function pt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?kt(t,n):mt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ft.fromString=kt,ft.fromValue=pt;var bt=4294967296,At=bt*bt,Tt=At/2,St=_t(1<<24),Et=_t(0);ft.ZERO=Et;var It=_t(0,!0);ft.UZERO=It;var Rt=_t(1);ft.ONE=Rt;var Dt=_t(1,!0);ft.UONE=Dt;var Nt=_t(-1);ft.NEG_ONE=Nt;var Ct=mt(-1,2147483647,!1);ft.MAX_VALUE=Ct;var Pt=mt(-1,-1,!0);ft.MAX_UNSIGNED_VALUE=Pt;var Bt=mt(0,-2147483648,!1);ft.MIN_VALUE=Bt;var Ot=ft.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*bt+(this.low>>>0):this.high*bt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Bt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(yt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return vt(t)||(t=pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(vt(t)||(t=pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){vt(t)||(t=pt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,mt((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Ot.subtract=function(t){return vt(t)||(t=pt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(vt(t)||(t=pt(t)),ct)return mt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?It:Et;if(this.eq(Bt))return t.isOdd()?Bt:Et;if(t.eq(Bt))return this.isOdd()?Bt:Et;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(St)&&t.lt(St))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,v=0;return f+=(v+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,mt((f&=65535)<<16|(v&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(vt(t)||(t=pt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?mt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?It:Et;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return It;if(t.gt(this.shru(1)))return Dt;e=It}else{if(this.eq(Bt))return t.eq(Rt)||t.eq(Nt)?Bt:t.eq(Bt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(Et)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Bt))return this.unsigned?It:Et;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Et}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:yt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return vt(t)||(t=pt(t)),ct?mt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return mt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?lt(this.low):lt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return vt(t)||(t=pt(t)),mt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return vt(t)||(t=pt(t)),mt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return vt(t)||(t=pt(t)),mt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):mt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):mt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?mt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):mt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),mt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?mt(this.high,this.low,this.unsigned):t<32?(n=32-t,mt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),mt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?mt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:mt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ft.fromBytes=function(t,n,i){return i?ft.fromBytesLE(t,n):ft.fromBytesBE(t,n)},ft.fromBytesLE=function(t,n){return new ft(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ft.fromBytesBE=function(t,n){return new ft(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xt=9007199254740991,Lt=w.pow(2,-52);function Mt(t,n,i){return w.min(w.max(t,n),i)}function Ut(t,n,i){return t===n||w.abs(t-n)<=i}function Xt(t){return t!=t}function Ht(t,n){return t===n||Xt(t)&&Xt(n)}function Ft(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(t){return!m(t.getTime())}function Vt(){return Date.now()||(new Date).getTime()}function Wt(t){return t/1e3}function Gt(t){return 1e3*t}var qt,Yt=ft.fromNumber(xt);function jt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Qt(t){return t.Kn===qt.Jn}function Zt(t){return t.Kn===qt.$n}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}(qt||(qt={}));var Jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Jt.prototype=d.create(v.prototype)).constructor=Jt;var $t=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Kt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Jt),tn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}($t),nn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new tn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new tn;return new hn(n)},t}(),en=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:vn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),rn=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return cn(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return cn(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},A(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=fn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(cn)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),sn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:vn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new en(t.item(i)));return n}(this.Ti.attributes)}},{key:"Hi",get:function(){return this.Ti.textContent}}]),n}(rn),un=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Fi===t.Fi},A(t,[{key:"Fi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(un),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(un),hn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return new sn(this.Ti.documentElement)}}]),n}(rn);function cn(t){return Qt(t)}function fn(t){switch(t.nodeType){case qt.Jn:return new sn(t);case qt.$n:return new on(t);case qt.ei:return new an(t)}}function vn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function ln(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function dn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){wn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&wn(i,null,t.length,t),t}function wn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var _n=/[a-zA-Z]/,gn=/[0-9]/,mn=/[0-9a-fA-F]/,yn=/^0x/i,kn=/^[0-9]+$/,pn=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,An=d.prototype.toString,Tn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Sn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function En(t){return Tn(t)?t:Array.from(t)}function In(t){return t>=65&&t<=90}function Rn(t){return In(t)||function(t){return t>=97&&t<=122}(t)}function Dn(t){return t>=48&&t<=57}function Nn(t){return Dn(t)||Rn(t)}function Cn(t){return Dn(t)||t>=65&&t<=70||t>=97&&t<=102}function Pn(t){return In(t)?t+32:t}function Bn(t){return Dn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function On(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=w.min,Ln=String.fromCharCode,Mn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Mn){var r=xn(e+Mn,n);i.push(Ln.apply(null,t.slice(e,r)))}return i.join("")}var Xn=/[^\0-\x7E]/,Hn=/[\x2E\u3002\uFF0E\uFF61]/g,Fn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zn=w.floor,Vn=String.fromCharCode;function Wn(t){throw new RangeError(Fn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var qn,Yn,jn,Qn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Zn=function(t,n,i){var e=0;for(t=i?zn(t/700):t>>1,t+=zn(t/n);t>455;e+=36)t=zn(t/35);return zn(e+36*t/(t+38))},Kn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Hn,".")).split("."),n).join(".");return e+r}(t,function(t){return Xn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Vn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=c+1;f-e>zn((2147483647-r)/w)&&Wn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Wn("overflow"),m==e){for(var y=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(y<p)break;var b=y-p,A=36-p;n.push(Vn(Qn(p+b%A,0))),y=zn(b/A)}n.push(Vn(Qn(y,0))),s=Zn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function $n(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ti(t,n){return t>>n&63|128}function ni(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($n(t),n.push(t>>12&15|224),n.push(ti(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ti(t,12)),n.push(ti(t,6))),n.push(63&t|128)):n.push(t)}function ii(t){for(var n=[],i=0;i<t.length;i++){ni(t[i],n)}return n}function ei(){if(jn>=Yn)throw new v("Invalid byte index");var t=255&qn[jn];if(jn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ri(){var t,n;if(jn>Yn)throw new v("Invalid byte index");if(jn===Yn)return!1;if(t=255&qn[jn],jn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ei())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ei()<<6|ei())>=2048)return $n(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ei()<<12|ei()<<6|ei())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function si(t){return[37,On(t>>4),On(15&t)]}function ui(t){return function(t){return t>=0&&t<=31}(t)||t>126}function oi(t){return ui(t)||32===t||34===t||60===t||62===t||96===t}function ai(t){return oi(t)||35===t||63===t||123===t||125===t}function hi(t){return ai(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ci(t){return t<33||t>126||34===t||35===t||60===t||62===t}function fi(t){return ci(t)||39===t}function vi(t,n){if(!n(t))return[t];for(var i=ii([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,si(s))}return e}function li(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,vi(s,n))}return Jn(i)}function di(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Cn(t[e+1])&&Cn(t[e+2])){var s=Bn(t[e+1])<<4|Bn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ii(t))}function wi(t){return Jn(function(t){qn=t.slice(),Yn=qn.length,jn=0;for(var n,i=[];!1!==(n=ri());)i.push(n);return i}(di(Gn(t))))}function _i(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new l;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new l("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&mn.test(t[h]);)c=c<<4|_(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new l;if(h-=f,o>6)throw new l;for(var v=0;h<s;){var d=null;if(v>0){if(!("."===t[h]&&v<4))throw new l;h+=1}if(!gn.test(t[h]))throw new l;for(;h<s&&gn.test(t[h]);){var w=_(t[h],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}h+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[h]){if((h+=1)===s)throw new l}else if(h<s)throw new l;u[o]=c,o+=1}else{if(null!==a)throw new l("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function gi(t){var n=10,i=kn;return yn.test(t)?(t=t.slice(2),n=16,i=pn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var mi={Vi:4},yi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function pi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Vi:2,Wi:_i(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new l("Invalid code point in opaque host");var n=li(t,ui);return""===n?mi:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Kn(t.toLowerCase())}(t)}(wi(t));if(yi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=gi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?mi:{Vi:0,qi:i}}function bi(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Ai=/\+/g;function Ti(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Ai," "),o=o.replace(Ai," ");var a=wi(u),h=wi(o);i.push([a,h])}}return i}function Si(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ei(ii(Gn(e[0])))+"="+Ei(ii(Gn(e[1])))}return n}function Ei(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,si(r))}return Un(i)}var Ii=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ri(t){var n=""+t,i=Ii.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Ci(s)||r===i-1)e.push(Di);else{var u=t.charCodeAt(r+1);Ci(u)?(e.push(s,u),r++):e.push(Di)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Di=65533,Ni=function(t){return 55296==(63488&t)},Ci=function(t){return 0!=(1024&t)};function Pi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Bi(t){t.Yi.length=0}function Oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ti(n))}function xi(t){if(t.ji){var n=Si(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var Li=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Li&&Tn(s.Yi)&&(!Sn||s[Symbol.iterator]===Mi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!Tn(t)||!!Sn&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=En(t);n<i.length;n++){var e=En(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Yi.push([Ri(e[0]),Ri(e[1])])}}else for(var r in this.Yi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Ri(r),Ri(t[r])]);else(t=Ri(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ti(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ri(t),n=Ri(n),this.Yi.push([t,n]),xi(this)},n.delete=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ri(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ri(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ri(t),n=Ri(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){dn(this.Yi,Pi),xi(this)},n.toString=function(){return Si(this.Yi)},n.entries=function(){return new Fi(this.Yi,Ui)},n.keys=function(){return new Fi(this.Yi,Xi)},n.values=function(){return new Fi(this.Yi,Hi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Mi=Li.prototype.entries;Sn&&(Li.prototype[Symbol.iterator]=Mi);var Ui=function(t){return[t[0],t[1]]},Xi=function(t){return t[0]},Hi=function(t){return t[1]},Fi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),zi="null";var Vi=d.create(null);Vi.ftp=21,Vi.file=0,Vi.gopher=70,Vi.http=80,Vi.https=443,Vi.ws=80,Vi.wss=443;var Wi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function qi(t){return Wi.test(t)}function Yi(t){return Gi.test(t)}function ji(t){return void 0!==Vi[t]}function Qi(t){return ji(t.Ji)}function Zi(t){return""!==t.$i||""!==t.re}function Ki(t){var n=t.length;if(!(n>=2))return!1;if(!$i(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ji(t){return 2===t.length&&_n.test(t[0])&&(":"===t[1]||"|"===t[1])}function $i(t){return 2===t.length&&Ji(Un(t))}function te(t){return Ji(t)&&":"===t[1]}function ne(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&te(n[0])||n.pop())}function ie(t){return null===t.oe||mi===t.oe||t.fe||"file"===t.Ji}var ee=-1,re=/\t|\n|\r/g,se=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ue(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ae,t=t.replace(se,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(re,"")),c=h.length,f=0;f<=c;){var v=f<c?h[f]:ee;switch(r){case 0:if(!Rn(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Pn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Pn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Jn(s);if(null!==e){if(ji(i.Ji)&&!ji(d))return;if(!ji(i.Ji)&&ji(d))return;if((Zi(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===mi||null===i.oe))return}if(i.Ji=d,null!==e)return void(Qi(i)&&i.we===Vi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Qi(i)&&n&&n.Ji===i.Ji?r=3:Qi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==v)throw new l("Invalid scheme");n.fe&&35===v?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,ee===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===v?r=6:63===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===v&&Qi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Qi(i)||47!==v&&92!==v?47===v?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Jn(vi(g,hi));a?i.re+=m:i.$i+=m}else a=!0}s.length=0}else if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==v||o)if(ee===v||47===v||63===v||35===v||Qi(i)&&92===v){if(f-=1,Qi(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Zi(i)||null!==i.we))return;var y=pi(Jn(s),Qi(i));if(i.oe=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=pi(Jn(s),Qi(i));if(i.oe=k,s.length=0,r=12,11===e)return}break;case 12:if(Dn(v))s.push(v);else{if(!(ee===v||47===v||63===v||35===v||Qi(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var p=_(Jn(s),10);if(p>65535)throw new l("Invalid port");i.we=p===Vi[i.Ji]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===v||92===v?r=14:n&&"file"===n.Ji?ee===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===v?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ki(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ne(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Ji&&!Ki(h.slice(f))&&(te(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(ee===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&$i(s))r=17;else if(0===s.length){if(i.oe=mi,null!==e)return;r=16}else{var b=pi(Jn(s),Qi(i));if(0===b.Vi&&"localhost"===b.qi&&(b=mi),i.oe=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Qi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.Qi="",r=19):null===e&&35===v?(i._e="",r=20):ee!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ee===v||47===v||Qi(i)&&92===v||null===e&&(63===v||35===v)){var A=Jn(s);if(Yi(A)?(ne(i),47===v||Qi(i)&&92===v||i.ue.push("")):!qi(A)||47===v||Qi(i)&&92===v?qi(A)||("file"===i.Ji&&0===i.ue.length&&$i(s)&&(mi!==i.oe&&null!==i.oe&&(i.oe=mi),s[1]=58,A=Jn(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(ee===v||63===v||35===v))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===v?(i.Qi="",r=19):35===v&&(i._e="",r=20)}else s.push.apply(s,vi(v,ai));break;case 18:63===v?(i.Qi="",r=19):35===v?(i._e="",r=20):ee!==v&&(i.ue[0]+=Jn(vi(v,ui)));break;case 19:null===e&&35===v?(i._e="",r=20):ee!==v&&(i.Qi+=Jn(vi(v,Qi(i)?fi:ci)));break;case 20:ee===v||0===v||(i._e+=Jn(vi(v,oi)))}f++}return i}function oe(t,n,i,e){try{ue(t,n,i,e)}catch(t){}}var ae=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function he(t){switch(t.Ji){case"blob":var n;try{n=ue(t.ue[0],null)}catch(t){return zi}return he(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return zi}var i,e,r}var ce,fe,ve,le,de,we,_e=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof _e&&"object"==typeof i.ji)r=n.ji;else try{r=ue(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=ue(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new Li;return null!==t&&Oi(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Zi(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=bi(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ue(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.ji=n,Bi(this.Qi);var i=this.ji.Qi;null!==i&&Oi(this.Qi,i)}},{key:"origin",get:function(){return he(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){oe(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){ie(this.ji)||(this.ji.$i=li(t,hi))}},{key:"password",get:function(){return this.ji.re},set:function(t){ie(this.ji)||(this.ji.re=li(t,hi))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||oe(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":bi(t)},set:function(t){this.ji.fe||oe(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){ie(this.ji)||(""===t?this.ji.we=null:oe(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,oe(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Ri(t);var n=this.ji;if(""===t)return n.Qi=null,void Bi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",oe(t,null,n,19),Oi(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",oe(t,null,this.ji,20)):this.ji._e=null}}])&&ln(n.prototype,i),e&&ln(n,e),t}();function ge(t){return t.document&&t.document.baseURI||t.location.href||""}var me=a;function ye(t){return Boolean(t&&void 0!==t.length)}function ke(){}function pe(t){if(!(this instanceof pe))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ie(t,this)}function be(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,pe.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Te(n.promise,t)}Ae(n.promise,e)}else(1===t.me?Ae:Te)(n.promise,t.ke)})):t.pe.push(n)}function Ae(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof pe)return t.me=3,t.ke=n,void Se(t);if("function"==typeof i)return void Ie((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Se(t)}catch(n){Te(t,n)}var e,r}function Te(t,n){t.me=2,t.ke=n,Se(t)}function Se(t){2===t.me&&0===t.pe.length&&pe.Ae(function(){t.ye||pe.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)be(t,t.pe[n]);t.pe=null}function Ee(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ie(t,n){var i=!1;try{t(function(t){i||(i=!0,Ae(n,t))},function(t){i||(i=!0,Te(n,t))})}catch(t){if(i)return;i=!0,Te(n,t)}}pe.prototype.catch=function(t){return this.then(null,t)},pe.prototype.then=function(t,n){var i=new this.constructor(ke);return be(this,new Ee(t,n,i)),i},pe.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},pe.all=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},pe.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pe?t:new pe(function(n){n(t)})},pe.reject=function(t){return new pe(function(n,i){i(t)})},pe.race=function(t){return new pe(function(n,i){if(!ye(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)pe.resolve(t[e]).then(n,i)})},pe.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){me(t,0)},pe.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Re=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),De=o?o.userAgent:"",Ne=De.match(/Firefox\/([0-9]+)/i),Ce=null!=Ne,Pe=Ne?Number(Ne[1]):0,Be=De.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oe=null!=Be,xe=Be?Number(Be[3]):0,Le=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Me="unhandledrejection",Ue=t.PromiseRejectionEvent,Xe=t.CustomEvent;function He(t){return new Ue(Me,{reason:t,promise:Re.reject(t).catch(function(){}),cancelable:!0})}function Fe(t){var n=new Xe(Me,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function ze(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Me,!1,!0,{reason:t}),n}var Ve,We,Ge,qe,Ye,je,Qe,Ze=function(t){return(Ze=function(){try{var t=Re.resolve(),n=new Ue(Me,{reason:"error",promise:t});return Me===n.type&&"error"===n.reason}catch(t){}return!1}()?He:function(){try{var t=new Xe(Me,{detail:{reason:"error"}});return Me===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Fe:ze)(t)};if(Re&&!(Ce&&Pe<60||Oe&&xe<15))We=Re;else{We=pe;var Ke=null!==(Ve=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Re;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==Ve?Ve:pe.Ae,Je=(Ge=Ke,qe=new Le(16),Ye=!1,{Ce:function(t){qe.push(t),Ye||(Ye=!0,Ge(je))},Pe:je=function(){for(;qe.length()>0;)qe.shift()();Ye=!1}});pe.Ae=Je.Ce,pe.Te=function(n){try{var i=Ze(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function nr(t,n){M.Tn&&M.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function ir(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function er(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function rr(t){t.removeAttribute("title")}function sr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function ur(t){t.src&&(t.removeAttribute("src"),t.load())}function or(){return void 0!==s?s.createElement("video"):void 0}function ar(){return Qe||(Qe=or()),Qe}var hr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),cr=ar(),fr=!(!cr||!cr.webkitShowPlaybackTargetPicker),vr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=hr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},A(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"He",get:function(){return!M.Un}},{key:"Fe",get:function(){}},{key:"ze",get:function(){return r.devicePixelRatio||1}},{key:"Ve",get:function(){return fr}},{key:"We",get:function(){return!1}},{key:"Ge",get:function(){return!0}},{key:"qe",get:function(){return M.Bn||M.hn}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!0}},{key:"Qe",get:function(){return!1}},{key:"Ze",get:function(){}},{key:"Ke",get:function(){return!0}},{key:"Je",get:function(){return!1}},{key:"$e",get:function(){return!1}}]),t}(),lr=function(){var t=or();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(M.in)return!1;var t=or();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var dr=function(t){function n(n){var i;return(i=t.call(this)||this).ir=void 0,i.ir=n,i.ir&&(i.Oe=i.ir.Oe,i.Gt=i.ir.Gt,i.xe=lr&&i.ir.xe),i}S(n,t);var i=n.prototype;return i.Le=function(){return this.ir?this.ir.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.ir?this.ir.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.ir?this.ir.Ue(n):t.prototype.Ue.call(this,n)},A(n,[{key:"Ze",get:function(){var t;return null==(t=this.ir)?void 0:t.Ze}},{key:"Ke",get:function(){var t,n;return null==(t=null==(n=this.ir)?void 0:n.Ke)||t}}]),n}(vr),wr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return S(n,t),A(n,[{key:"Qe",get:function(){return M.hn}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(){return le.MediaSource?t.prototype.Le.call(this):1},A(n,[{key:"Qe",get:function(){return!0}}]),n}(wr),gr=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).er=void 0,n}return S(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},A(n,[{key:"We",get:function(){return M.Sn<3}},{key:"Ge",get:function(){return M.Sn>=3}},{key:"Fe",get:function(){var t=this;return r.tizen&&!this.er&&r.tizen.systeminfo.getPropertyValue("DISPLAY",function(n){var i=n.resolutionWidth,e=n.resolutionHeight;1===i&&1===e||(t.er={width:i,height:e})}),this.er}},{key:"Je",get:function(){return M.Sn<3}},{key:"$e",get:function(){return!0}}]),n}(dr),mr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(vr),yr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(t,n){if(t&&t.rr&&n&&n.rr){var i=kr(t.rr,"mp4a.40.2")&&kr(n.rr,"mp4a.40.5"),e=kr(t.rr,"mp4a.40.5")&&kr(n.rr,"mp4a.40.2"),r=kr(t.rr,"mp4a.40.2")&&kr(n.rr,"mp4a.40.34"),s=kr(t.rr,"mp4a.40.34")&&kr(n.rr,"mp4a.40.2"),u=kr(t.rr,"mp4a.40.5")&&kr(n.rr,"mp4a.40.34"),o=kr(t.rr,"mp4a.40.34")&&kr(n.rr,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"Ze",get:function(){if(M.qt)return 4096}}]),n}(mr);function kr(t,n){return t.indexOf(n)>-1}var pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ue=function(t){return t>=2},n}(mr),br=function(t){function n(){var n;return(n=t.call(this)||this).Oe=M.On>=11,n.xe=M.Bn&&!(M.hn&&M.On<10),n}return S(n,t),n}(mr),Ar=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).er=void 0,n}return S(n,t),A(n,[{key:"Fe",get:function(){var t=this;return r.webOS&&!this.er&&r.webOS.deviceInfo(function(n){t.er={width:n.screenWidth,height:n.screenHeight}}),this.er}},{key:"Ye",get:function(){return!1}},{key:"$e",get:function(){return!0}}]),n}(dr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ke",get:function(){return!M.Yt||(M.pn?92!==M.An:M.yn>=100)}}]),n}(mr),Sr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Qe",get:function(){return!0}}]),n}(dr),Er=function(){function n(){var n;this.dr=void 0,this.wr=new nn,this._r=new Ir,this.gr=(n=function(){if(M.Cn)return new yr;if(M.In||M.Rn)return new pr;if(M.Bn)return new br;if(M._n)return new Tr;return new mr}(),M.hn?new _r(n):M.dn?new wr(n):M.Tn?new gr(n):M.En?new Ar(n):M.qt?new Sr(n):new dr(n)),this.yr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.dr=function(){return t.performance.now()}:this.dr=Vt}var i=n.prototype;return i.pr=function(){ut.apply(void 0,arguments)},i.Ar=function(){ot.apply(void 0,arguments)},i.Tr=function(){at.apply(void 0,arguments)},i.Sr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Er=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Ir=function(t){f(t)},i.ui=function(t){return this.wr.ui(t)},i.Rr=function(){return this.Dr.Rr()},i.Nr=function(){return this.Dr.Nr()},i.Cr=function(){return this.Dr.Cr()},i.Pr=function(){return this.Dr.Pr()},i.Br=function(){return this.Dr.Br()},i.Or=function(t,n){return this.Dr.Or(t,n)},i.xr=function(t){return this.Dr.xr(t)},i.Lr=function(t,n){var i;return void 0===n&&(n=ge(le)),i="object"!=typeof n||n instanceof _e?n:n.href,new _e(t,i)},i.Mr=function(n,i){if(void 0===i&&(i=ge(le)),this.yr){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Lr(n,i).href},A(n,[{key:"Ur",get:function(){return this._r}},{key:"Xr",get:function(){return this.gr}},{key:"Hr",get:function(){return{Fr:o&&o.userAgent.match(/Android /i)?"Android":"other",zr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Vr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Wr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ir=function(){function t(){}return A(t,[{key:"Gr",get:function(){return o.oscpu}},{key:"Xr",get:function(){return o.platform}},{key:"qr",get:function(){return o.vendor}},{key:"Yr",get:function(){return o.vendorSub}}]),t}();var Rr={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.jr=function(t,n,i){var e=c;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Qr=i.arg;else if("throw"===i.method){if(e===c)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function p(){}var b={};b[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=p.prototype=y.prototype=d.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.jr(n,t)}})}function I(t){var n;this.jr=function(i,r){function s(){return new We(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Zr")?We.resolve(c.Zr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):We.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Zr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),N(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;N(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Rr.exports);var Dr=Rr.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Cr(){var t=d.create(null);return t.Kr=void 0,delete t.Kr,t}function Pr(){return new Ur}function Br(){return new Fr}function Or(t){var n=Pr();for(var i in t)U.call(t,i)&&n.set(i,t[i]);return n}function xr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var Lr,Mr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ur=Mr||(Lr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Cr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Cr(),this.size=0},n.keys=function(){return new Lr(this.data,function(t,n){return n})},n.values=function(){return new Lr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Lr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Xr,Hr,Fr=Mr||(Xr=function(){function t(t,n){this.Jr=void 0,this.$r=void 0,this.Jr=t,this.$r=n}var n=t.prototype;return n.next=function(){var t=this.Jr.next();return t.done?t:{value:this.$r(t.value),done:!1}},t}(),function(){function t(){this.rs=Pr()}var n=t.prototype;return n.get=function(t){return this.rs.get(""+t)},n.set=function(t,n){return this.rs.set(""+t,n),this},n.has=function(t){return this.rs.has(""+t)},n.delete=function(t){return this.rs.delete(""+t)},n.clear=function(){this.rs.clear()},n.keys=function(){return new Xr(this.rs.keys(),function(t){return Number(t)})},n.values=function(){return this.rs.values()},n.entries=function(){return new Xr(this.rs.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.rs.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.rs.size}}]),t}());!function(t){t.us="9a04f079-9840-4286-ab92-e65be0885f95",t.hs="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.fs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.vs="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Hr||(Hr={}));var zr,Vr="urn:mpeg:dash:mp4protection:2011",Wr="cenc",Gr="sinf",qr="skd",Yr=Hr.us,jr="urn:uuid:"+Yr,Qr="com.microsoft.playready",Zr=Hr.hs,Kr="urn:uuid:"+Zr,Jr=Hr.fs,$r="urn:uuid:"+Jr,ts=Hr.vs,ns="urn:uuid:"+ts,is="com.apple.fps.1_0",es="com.apple.streamingkeydelivery";!function(t){t.us="playready",t.hs="widevine",t.vs="fairplay",t.fs="clearkey",t.ls="aes128"}(zr||(zr={}));var rs={ds:zr.us,_s:Qr,gs:"cenc",ys:Yr,As:jr,Ts:"PlayReady"},ss={ds:zr.hs,_s:"com.widevine.alpha",gs:"cenc",ys:Zr,As:Kr,Ts:"Widevine"},us={ds:zr.vs,_s:is,gs:"skd",ys:ts,As:ns,Ts:"FairPlay"},os={ds:zr.vs,_s:"com.apple.fps",gs:"sinf",ys:ts,As:ns,Ts:"FairPlay"},as={ds:zr.fs,_s:"org.w3.clearkey",gs:"cenc",ys:Jr,As:$r,Ts:"ClearKey"},hs=[rs,ss,us,as];function cs(t){return hs.filter(function(n){return n.As===t.toLowerCase()})}function fs(t,n,i){return t.split(n).join(i)}function vs(t,n){return null!=t&&-1!==t.indexOf(n)}function ls(t,n){return null!=t&&t.substr(0,n.length)===n}function ds(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ws(t,n){return t.toUpperCase()===n.toUpperCase()}function _s(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function gs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=_s(e,r/e.length)),e.slice(0,r)+t)}function ms(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ks(n)}var ys=16384;function ks(t){var n=t.length;if(n<=ys)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ys)i.push(String.fromCharCode.apply(String,t.slice(e,e+ys)));return i.join("")}var ps=M._n&&M.yn>=42||M.Cn&&M.Pn>=38||M.In||M.Dn||M.xn&&M.Ln>=29;function bs(t,n){return vs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function As(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Ts(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ss,Es=function(){function t(t){this.Ss=void 0,this.Es=Pr(),this.Is=void 0,this.Ss=t}var n=t.prototype;return n.Br=function(){return this.xr(ss)},n.Nr=function(){return this.xr(as)},n.Pr=function(){return this.xr(rs)},n.Cr=function(){return this.xr(us)},n.xr=function(t){var n=t.As,i=this.Es.get(n);if(i)return i;var e=this.Or(t,'video/mp4; codecs="avc1.42000a"');return this.Es.set(n,e),e},n.Or=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Ss.Rs(t._s,[bs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Dr.awrap(this.Ss.Rs(t._s,[bs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],We)},n.Rr=function(){return this.Is||(this.Is=this.Ds()),this.Is},n.Ds=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==de.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ps){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Dr.awrap(this.Nr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,We)},t}();function Is(t,n){return Ds(t.slice(),n)}function Rs(t,n){var i=Ds(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Ds(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Ns=0]="Ns",t[t.Cs=1]="Cs",t[t.Ps=-1]="Ps"}(Ss||(Ss={}));var Cs=function(t,n){return(0|t)-(0|n)},Ps=function(t,n){return t===n?Ss.Ns:t<n?Ss.Ps:t>n?Ss.Cs:m(t)?m(n)?Ss.Ns:Ss.Cs:Ss.Ps};function Bs(t,n,i){return Ut(t,n,i)?Ss.Ns:Ps(t,n)}var Os=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Lt||i<w.max(w.abs(t),w.abs(n))*Lt}(t,n)?Ss.Ns:Ps(t,n)};function xs(t,n,i){var e=Ms(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ms(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Us(t,n){var i=t.indexOf(n);return-1!==i&&(Xs(t,i),!0)}function Xs(t,n){t.splice(n,1)}function Hs(t,n){return-1!==t.indexOf(n)}function Fs(t){t.length=0}function zs(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Hs(n,t[i]))return!1}return!0}function Vs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Ws(t,n){return qs(t,function(t,i){return Ps(n(t),n(i))})}function Gs(t,n){return function(t,n){return qs(t,function(t,i){return n(i,t)})}(t,function(t,i){return Ps(n(t),n(i))})}function qs(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function Ys(t,n){return We.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function js(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Dr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,We)}function Qs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Zs=function(){function t(){this.Bs=!1,this.Os=!1,this.xs=[],this.Ls=[]}var n=t.prototype;return n.Ms=function(){if(!this.Bs&&!this.Os){this.Bs=!0;for(var t=0,n=this.xs.slice();t<n.length;t++){(0,n[t])()}this.Us()}},n.Us=function(){if(!this.Os){this.Os=!0;for(var t=0,n=this.Ls.slice();t<n.length;t++){(0,n[t])()}Fs(this.xs),Fs(this.Ls)}},n.Xs=function(t){this.Os||this.xs.push(t)},n.Hs=function(t){this.Os||Us(this.xs,t)},n.Fs=function(t){this.Os||this.Ls.push(t)},n.zs=function(t){this.Os||Us(this.Ls,t)},t}(),Ks=function(){function t(){this.Vs=new Zs}var n=t.prototype;return n.Ws=function(){this.Vs.Ms()},n.Us=function(){this.Vs.Us()},n.Gs=function(t){var n=this.Vs;if(!n.Bs)if(t.Bs)n.Ms();else if(!n.Os&&!t.Os){var i=function(){e(),n.Ms()},e=function e(){t.Hs(i),t.zs(e),n.Hs(i),n.zs(e)};t.Xs(i),t.Fs(e),n.Xs(i),n.Fs(e)}},n.qs=function(){var n=new t,i=new t,e=n.Ys,r=i.Ys,s=this.Vs,u=function(){e.Bs&&r.Os||r.Bs&&e.Os?s.Ms():e.Os&&r.Os&&s.Us()};e.Xs(u),r.Xs(u),e.Fs(u),r.Fs(u),n.Gs(s),i.Gs(s);return s.Fs(function(){e.Hs(u),r.Hs(u),e.zs(u),r.zs(u)}),[n,i]},A(t,[{key:"Ys",get:function(){return this.Vs}}]),t}(),Js=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}($t);function $s(t){return t instanceof v&&"AbortError"===t.name}function tu(t){if(t&&t.Bs)throw new Js}function nu(t){if($s(t))throw t}function iu(t){if(!$s(t))throw t}function eu(t,n){return n?new We(function(i,e){if(n.Bs)return t.catch(K),e(new Js);var r=function t(){n.Hs(t),e(new Js)};n.Xs(r),t.then(function(t){n.Hs(r),i(t)},function(t){n.Hs(r),e(t)})}):t}function ru(t,n){return t.then(function(t){return n.Us(),t},function(t){throw n.Us(),t})}function su(t,n){var i=new Ks;return n&&i.Gs(n),t(i.Ys).then(function(t){return i.Ws(),t},function(t){throw i.Ws(),t})}var uu=We.resolve();function ou(t){uu.then(t)}function au(t){t.then(K,K)}function hu(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(We.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],We)}function cu(t,n){return new We(function(e,r){if(void 0!==n&&n.Bs)r(new Js);else{var s=i.Qn(function(){void 0!==n&&n.Hs(u),e()},t),u=function(){i.jn(s),r(new Js)};void 0!==n&&n.Xs(u)}})}function fu(t){return t&&"function"!=typeof t?t.slice():t}function vu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var lu,du=function(){function t(t){var n=this;this.js=Cr(),this.Qs=void 0,this.Zs=void 0,this.Ks=function(t){n.Js(t)},this.Zs=t||this}var n=t.prototype;return n.$s=function(t,n){if("function"==typeof n)if("string"==typeof t)this.tu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.tu(e,n)}},n.tu=function(t,n){var i=this.js[t];i?"function"==typeof i?this.js[t]=[i,n]:i.push(n):this.js[t]=n},n.nu=function(t){if("function"==typeof t){var n=this.Qs;n?"function"==typeof n?this.Qs=[n,t]:n.push(t):this.Qs=t}},n.uu=function(){this.js=Cr(),this.Qs=void 0},n.Js=function(t){var n=fu(this.js[t.type]),i=fu(this.Qs);vu(this.Zs,t,n),vu(this.Zs,t,i)},n.ou=function(t,n){if("function"==typeof n)if("string"==typeof t)this.au(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.au(e,n)}},n.au=function(t,n){var i=this.js[t];i&&("function"==typeof i?i===n&&(this.js[t]=void 0):Us(i,n))},n.fu=function(t){if("string"==typeof t)this.js[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.js[i]=void 0}},n.vu=function(t){var n=this.Qs;n&&("function"==typeof n?n===t&&(this.Qs=void 0):Us(n,t))},n.du=function(t,n){var i=this;return new We(function(e,r){if(n&&n.Bs)return r(new Js);var s=function(t){o(),e(t)},u=function(){o(),r(new Js)},o=function(){i.ou(t,s),n&&n.Hs(u)};i.$s(t,s),n&&n.Xs(u)})},t}(),wu=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Js=function(n){var i=this;ou(function(){t.prototype.Js.call(i,n)})},n}(du),_u=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},gu=["cenc"],mu=["cbcs","cbcs-1-9"],yu=function(t){function n(n){var i;return(i=t.call(this,"_u")||this).wu=n,i}return S(n,t),n}(_u),ku=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"mu")||this).wu=n,s.yu=i,s.mu=e,s.pu=r,s}return S(n,t),n}(_u),pu=function(t){function n(){return t.call(this,"bu")||this}return S(n,t),n}(_u);!function(t){t.Au="Tu",t.Su="Eu"}(lu||(lu={}));var bu=function(t){function n(n,i){var e;return(e=t.call(this,lu.Au)||this).gs=n,e.Iu=i,e}return S(n,t),n}(_u),Au=function(t){function n(){return t.call(this,lu.Su)||this}return S(n,t),n}(_u),Tu=new y([0]).buffer,Su=function(){function t(){this.Ru=void 0,this.Ru=[]}var n=t.prototype;return n.Du=function(t){for(var n=0,i=this.Ru;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Nu=function(t){for(var n=0,i=this.Ru;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Cu=function(t,n){this.Ru.forEach(function(n){return t(n[1],n[0])},n)},n.Pu=function(t,n){this.Ru.push([t,n])},n.Bu=function(){Fs(this.Ru)},A(t,[{key:"Ou",get:function(){return this.Ru.length}}]),t}(),Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Iu=16383,Ru=/[\t\n\f\r ]/g;function Du(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Nu()}function Nu(){throw new v("Invalid base64 input")}function Cu(t){var n=t;Ru.test(n)&&(n=n.replace(Ru,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Nu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Du(n.charCodeAt(a))<<18|Du(n.charCodeAt(a+1))<<12|Du(n.charCodeAt(a+2))<<6|Du(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Du(n.charCodeAt(a))<<2|Du(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Du(n.charCodeAt(a))<<10|Du(n.charCodeAt(a+1))<<4|Du(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Pu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Eu[e>>2]+Eu[(3&e)<<4|r>>4]+Eu[(15&r)<<2|s>>6]+Eu[63&s]));return u.join("")}function Bu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Iu)e.push(Pu(t,s,w.min(r,s+Iu)));if(1===i){var u=t[n-1];e.push(Eu[u>>2]+Eu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Eu[o>>2]+Eu[(3&o)<<4|a>>4]+Eu[(15&a)<<2]+"=")}return e.join("")}var Ou=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],xu=ArrayBuffer.isView||function(t){return t&&Hs(Ou,X.call(t))};function Lu(t,n){return t===n||t.byteLength===n.byteLength&&Mu(new y(t),new y(n))}function Mu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Uu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Xu(t,n)}function Xu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Hu(t){return Cu(t).buffer}function Fu(t){return Bu(new y(t))}function zu(t){return Bu(So(t))}function Vu(t,n){var i=n.xu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Lu(1),(e&r)===r?1:0}function Wu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Vu(t,n);return e}var Gu=function(){function t(t){void 0===t&&(t=0),this.Mu=t}var n=t.prototype;return n.Lu=function(t){this.Mu+=t},n.Uu=function(t){this.Mu=t},n.Xu=function(){return new t(this.xu)},A(t,[{key:"xu",get:function(){return this.Mu}}]),t}();function qu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Yu(t,n){return t>>n&63|128}function ju(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(qu(t),n.push(t>>12&15|224),n.push(Yu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Yu(t,12)),n.push(Yu(t,6))),n.push(63&t|128)):n.push(t)}function Qu(t,n){if(n.xu>=t.length)throw new v("Invalid byte index");var i=255&t[n.xu];if(n.Lu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Zu(t,n){var i=n.xu;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Lu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Qu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Qu(t,n)<<6|Qu(t,n);if(s>=2048)return qu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Qu(t,n)<<12|Qu(t,n)<<6|Qu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Ku=65279;var Ju=[128,64,32,16,8,4,2,1],$u=function(){function t(t){this.Hu=t}return t.prototype.Fu=function(t){return to(this.Hu,t)},t}();function to(t,n){return(t&n)===n}function no(t,n){return to(t,Ju[n])}function io(t,n){var i=t.getUint8(n.xu);return n.Lu(1),i}function eo(t,n,i){t.setUint8(n.xu,i),n.Lu(1)}function ro(t,n,i){var e=Bo(Lo(t),n.xu,n.xu+i);return n.Lu(e.byteLength),e}function so(t,n,i){Lo(t).set(Lo(i),n.xu),n.Lu(i.byteLength)}function uo(t,n,i){return n.xu+i<=t.byteLength}function oo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=io(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+io(t,n);return e}(t,n,i)}function ao(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.xu,i);return n.Lu(2),e}function ho(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.xu,i,e),n.Lu(2)}function co(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.xu,i);return n.Lu(4),e}function fo(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.xu,i,e),n.Lu(4)}function vo(t,n,i){void 0===i&&(i=!1);var e=co(t,n,i),r=co(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function lo(t,n){return go(t,n)}function wo(t,n,i){return ks(Fo(ro(t,n,i)))}function _o(t,n){var i,e=io(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&io(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&io(t,n))+(63&io(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&io(t,n))+64*(63&io(t,n))+(63&io(t,n))),i}function go(t,n){return mo(t,n,!0)}function mo(t,n,i){for(var e=[];n.xu<t.byteLength;){var r=io(t,n);if(i&&!r)break;e.push(r)}return ks(e)}function yo(t,n){if(n.xu+2<=t.byteLength){var i=t.getUint8(n.xu),e=t.getUint8(n.xu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function ko(t,n){var i=yo(t,n);return void 0!==i&&n.Lu(2),po(t,n,!0===i)}function po(t,n,i){return void 0===i&&(i=!1),bo(t,n,i,!0)}function bo(t,n,i,e){for(var r=[];n.xu+2<=t.byteLength;){var s=ao(t,n,i);if(e&&!s)break;r.push(s)}return ks(r)}function Ao(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ho(t,n,i.charCodeAt(s),e)}}function To(t){return mo(xo(t),new zo,!1)}function So(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)eo(t,n,i.charCodeAt(r))}(xo(n),new zo,t),n}function Eo(t,n){return void 0===n&&(n=!1),bo(xo(t),new zo,n,!1)}function Io(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ao(xo(i),new zo,t,n),i}function Ro(t,n){return n.xu+3<=t.byteLength&&(239===t.getUint8(n.xu)&&187===t.getUint8(n.xu+1)&&191===t.getUint8(n.xu+2))}function Do(t,n){return function(t,n,i){var e=[];Ro(t,n)&&n.Lu(3);for(;n.xu<t.byteLength;){var r=_o(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ms(e)}(t,n,!0)}function No(t){return ms(function(t,n){var i,e=[],r=new zo;if(!n){if(!1===(i=Zu(t,r)))return e;i===Ku||e.push(i)}for(;!1!==(i=Zu(t,r));)e.push(i);return e}(Lo(t)))}function Co(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ju(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Po(t,n){if(Ro(t,n))return Do(t,n);if(void 0!==yo(t,n))return ko(t,n);if(n.xu+4<=t.byteLength){if(0===t.getUint8(n.xu)&&0===t.getUint8(n.xu+2))return po(t,n,!1);if(0===t.getUint8(n.xu+1)&&0===t.getUint8(n.xu+3))return po(t,n,!0)}return Do(t,n)}function Bo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function xo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return t instanceof ArrayBuffer||xu(t)}function Uo(t){return t instanceof ArrayBuffer?new y(t):Lo(t)}function Xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Ho(Bo(t,n,i))}function Ho(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Fo(t){return[].slice.call(t)}var zo=function(){function t(t){void 0===t&&(t=0),this.Mu=t}var n=t.prototype;return n.Lu=function(t){this.Mu+=t},n.Uu=function(t){this.Mu=t},n.Xu=function(){return new t(this.xu)},n.Vu=function(){return new Gu(this.xu<<3)},A(t,[{key:"xu",get:function(){return this.Mu}}]),t}();function Vo(t){var n=t.toLowerCase(),i=0,e=0;ls(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Wo=function(){function t(){var t=this;this.Wu=void 0,this.Gu=void 0,this.Yu=void 0,this.Wu=new We(function(n,i){t.Gu=n,t.Yu=i})}var n=t.prototype;return n.ju=function(t){this.Gu&&(this.Gu(t),this.Us())},n.Qu=function(t){this.Yu&&(this.Yu(t),this.Us())},n.Ws=function(){this.Wu.catch(K),this.Qu(new Js)},n.Us=function(){this.Gu=void 0,this.Yu=void 0},t}();function Go(){return new y([8,4]).buffer}function qo(t){return Lu(t,Go())}function Yo(t,n){return t===Qr?function(t){if(t.byteLength<2*jo.length)return t;if(Eo(new DataView(t,0,2*jo.length),!0)===jo)return t;return n=t,Io('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Fu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var jo="<PlayReady";var Qo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Zu=void 0,s.Ku=void 0,s.Zu=i,s.Ku=e,s}return S(n,t),n}($t),Zo=function(t,n){return(Zo=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Ko(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Zo(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function Jo(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function $o(t,n,i){return w.min(w.max(t,n),i)}function ta(t,n){return t>>8-n}function na(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Ju=t,this.$u=n}t.prototype.get=function(t){var n=this.Ju.get(t);if(0===this.$u||void 0===n)return n;var i=this.Ju.get(t+1)||0,e=n&(1<<8-this.$u)-1,r=i>>8-this.$u;return(e<<this.$u)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Ju.get(w.floor((t+this.$u)/8));if(void 0!==n)return(n&1<<7-this.$u-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.Ju.bitLength-this.$u},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.Ju.length},enumerable:!1,configurable:!0})}();var ia=function(){function t(t){this.uo=t,this.oo=0,this.ao=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.oo+this.ao},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.oo===this.uo.length&&0===this.ao},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.oo,bit:this.ao}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.uo);return n.seek(this.oo,this.ao),n},t.prototype.canReadBits=function(t){return 8*this.oo+t+this.ao<=8*this.uo.length},t.prototype.canReadBytes=function(t){return 0===this.ao?this.oo+t<=this.uo.length:this.oo+t<this.uo.length},t.prototype.incBit=function(){this.ao++,this.ao>7&&(this.oo++,this.ao=0)},t.prototype.seek=function(t,n){this.oo=t,this.ao=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.uo.get(this.oo)>>7-this.ao&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.ao)return this.uo.get(this.oo++);var t=na(this.uo.get(this.oo),8-this.ao),n=ta(this.uo.get(this.oo+1),this.ao);return this.oo++,t<<this.ao|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.ao&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.ao+t;this.oo+=n>>3,this.ao=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ea=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},ra=function(){function t(){this.do=[],this._o=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this._o.length)this._o.push(0);else{var e=this._o[this._o.length-1]+this.do[this.do.length-1].length;this._o.push(e)}this.do.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.do;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.do=[],this._o=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this._o[n];return this.do[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.do.length<1)return-1;if(this.do.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.do[0];return"number"==typeof t?Jo(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Jo(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this._o,t,ea)},t.prototype.join=function(){if(1===this.do.length)return this.do[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=$o(n,0,this.length),r=$o(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.do[u],a=e,h=a-this._o[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this._o[u],o=this.do[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.do.length-1,e=this.do[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.do[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),sa=function(){function t(n){this.mo=n||t.BUFFER_CHUNK_SIZE,this.po=!1,this.Ao=new ra,this.uo=new y(this.mo),this.To=0,this.So=0,this.ao=7}return t.prototype.closeByte=function(){this.uo[this.To++]=this.So,this.To>=this.mo&&this.closeBuffer(),this.So=0,this.ao=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.To&&(this.Ao.pushRange(this.uo,0,this.To),t&&(this.uo=new y(this.mo)),this.To=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.ao},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.po)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.po=!0,this.Ao},t.prototype.writeBit=function(t){if(this.po)throw new v("Cannot write to a closed BitWriter.");this.So|=t<<this.ao,0===this.ao?this.closeByte():this.ao--},t.prototype.writeByte=function(t){if(this.po)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.So=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.ao;this.So|=ta(t,n+1),this.closeByte(),this.So=na(t,8-n)<<n+1,this.ao=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.po)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.To+t.length<=this.mo?(this.uo.set(t,this.To),this.To+=t.length,this.To===this.mo&&this.closeBuffer()):(this.closeBuffer(),this.Ao.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.ao;this.So|=ta(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=na(t[i-1],8-n),r=ta(t[i],n+1);this.So=e<<n+1|r,this.closeByte()}this.So=na(t[t.length-1],8-n)<<n+1,this.ao=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ua=function(){function t(t){this.rb=new ra,this.Eo=t}return t.prototype.closeWriter=function(){void 0!==this.Eo&&(this.rb=this.rb.concat(this.Eo.close()),this.Eo=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Eo&&(this.Eo=new sa),this.Eo},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),oa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ua;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function aa(t,n){return t instanceof ft?64===n:t<w.pow(2,n)}function ha(t,n){return w.round(t*w.pow(2,n))}function ca(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function fa(t,n){return t/w.pow(2,n)}var va=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Io},set:function(t){this.Io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(oa),la=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(ra.from(this.data))},n}(oa),da=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var wa=16384;function _a(t){var n=t.length;if(n<=wa)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=wa)i.push(String.fromCharCode.apply(String,t.slice(e,e+wa)));return i.join("")}var ga=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ma(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ya(t,n,i){var e=Ea(Ra(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function ka(t,n,i){return n.offset+i<=t.byteLength}function pa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function ba(t,n,i){void 0===i&&(i=!1);var e=pa(t,n,i),r=pa(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!0)}function Aa(t,n,i){var e,r=ya(t,n,i);return _a((e=r,[].slice.call(e)))}function Ta(t,n){var i,e=ma(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ma(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ma(t,n))+(63&ma(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ma(t,n))+64*(63&ma(t,n))+(63&ma(t,n))),i}function Sa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ta(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _a(n)}(e)}(t,n,!0)}function Ea(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ia(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ra(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Da=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new da(this.offset<<3)},t}(),Na=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ma(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return pa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=pa(t,n,i),r=pa(t,n,i),s=i?r:e,u=i?e:r;return ft.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ba(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return ya(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(pa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Aa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Sa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ca(t,n){return t.type===n}var Pa=8;function Ba(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Oa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Oa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ka(t,n,Pa)){var e=n.offset+Pa;return{complete:!1,neededOffset:e}}var r=pa(t,n),s=Aa(t,n,4);if(1===r){if(!ka(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=ba(t,n).toNumber()}if("uuid"===s){if(!ka(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Aa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Na((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Da(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function xa(t){return{version:t>>24,flags:new ga(16777215&t)}}function La(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ma(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ua(t){var n=t.nextUint32Array(9);return{a:fa(n[0],16),b:fa(n[1],16),u:fa(n[2],30),c:fa(n[3],16),d:fa(n[4],16),v:fa(n[5],30),x:fa(n[6],16),y:fa(n[7],16),w:fa(n[8],30)}}function Xa(t){return new la(t.type,Ea(Ra(t.data.data),t.data.cursor.offset))}var Ha=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Ko(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.Ro},set:function(t){this.Ro=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(va);function Fa(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Ha(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Ko(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Ha);var za=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.Do},set:function(t){if(!aa(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Do=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Ko(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.No},set:function(t){if(!aa(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.No=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Co},set:function(t){if(!aa(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Co=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Po},set:function(t){if(!aa(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Bo},set:function(t){if(!aa(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Oo},set:function(t){if(!aa(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(za),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Ko(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(ra.from(this.data))}}(za);var Va=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Ko(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(za);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Va(r.fixed28BitMode),s}Ko(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.xo},set:function(t){if(!aa(t,16))throw new v("Provided esId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Lo},set:function(t){if(!aa(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Lo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Mo},set:function(t){if(t&&!aa(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Uo},set:function(t){if(t&&!aa(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(za);var Wa=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Ko(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(oa),Ga=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Wa),qa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Ko(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Xo},set:function(t){if(!aa(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ga),Ya=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Ko(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.Ho},set:function(t){if(!aa(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.Ho=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Fo},set:function(t){if(!aa(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.zo},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ha(this.sampleRate,16),32),this.extra&&ca(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Ko(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Wo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Go},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.qo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Yo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.jo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Qo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Zo},set:function(t){if(!aa(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ko},set:function(t){if(!aa(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(oa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(va),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Jo},set:function(t){this.flags=void 0===t?1:0,this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Jo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(){return t.call(this,"dinf")||this}Ko(n,t)}(Ga);var ja=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.Io},set:function(t){this.Io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Wa);!function(t){function n(){return t.call(this,"dref",0,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ja);var Qa=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!aa(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(va),Za=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa);function Ja(t){for(var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new Za(u,r.raw):new Ka(u,r.raw)}var $a=function(t){function n(){return t.call(this,"edts")||this}return Ko(n,t),n}(Ga);function th(t){for(var n=new $a,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"elst")?n.boxes.push(Ja(r)):n.boxes.push(Xa(r))}return n}var nh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Ko(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.$o},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.ea},set:function(t){if(!aa(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.ra},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(oa),ih=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Ko(n,t),n}(nh);function eh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ih(i,e,r)}var rh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(ra.from(this.data))},n}(oa),sh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Ko(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.ua},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.oa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.va},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this._a},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.ma},set:function(t){if(!hh(t))throw new v("Expected an ISO-639-2/T language code");this.ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(va),uh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(sh),oh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(sh);function ah(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=new ia(ra.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return hh(h)||(h="und"),n.skip(2),0===e?new uh(s,h,r.raw):new oh(s,h,r.raw)}function hh(t){return/^[a-z]{3}$/.test(t)}var ch=function(t){function n(){return t.call(this,"mdia")||this}return Ko(n,t),n}(Ga);function fh(t){for(var n=new ch,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mdhd")?n.boxes.push(ah(r)):Ca(r,"hdlr")?n.boxes.push(Fa(r)):n.boxes.push(Xa(r))}return n}var vh,lh=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new ra,n}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(oa);function dh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new lh;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(ja),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(vh||(vh={}));var wh,_h,gh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mh(t,n){n.writer.writeUInt(ha(t.a,16),32),n.writer.writeUInt(ha(t.b,16),32),n.writer.writeUInt(ha(0,30),32),n.writer.writeUInt(ha(t.c,16),32),n.writer.writeUInt(ha(t.d,16),32),n.writer.writeUInt(ha(0,30),32),n.writer.writeUInt(ha(t.x,16),32),n.writer.writeUInt(ha(t.y,16),32),n.writer.writeUInt(ha(1,30),32)}function yh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:wh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:_h.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:_h.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:_h.UNKNOWN,2)}function kh(t,n){var i,e,r;n.writer.writeUInt(0,4),yh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(wh||(wh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(_h||(_h={}));var ph=function(){return function(){}}(),bh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Ko(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.ya},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!aa(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(ra.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(ra.from(this.data))},n}(va),Ah=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Ko(n,t),n}(bh),Th=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Ko(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.Aa},set:function(t){if(!aa(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(ra.from(e))}},n}(bh);function Sh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Th(i,o,e):new Ah(i,o)}var Eh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ta},set:function(t){if(!aa(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Ih=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Eh),Rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Eh);function Dh(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Ih(n.nextUint32(),r.raw):new Rh(n.nextUint64(),r.raw)}var Nh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Sa},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ea},set:function(t){if(!aa(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ia},set:function(t){if(!aa(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ra},set:function(t){if(!aa(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Da},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),kh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(va);function Ch(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=Ma(new ia(ra.from(n.nextUint8Array(4))));return new Nh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var Ph=function(t){function n(){return t.call(this,"mvex")||this}return Ko(n,t),n}(Ga);function Bh(t){for(var n=new Ph,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mehd")?n.boxes.push(Dh(r)):Ca(r,"trex")?n.boxes.push(Ch(r)):n.boxes.push(Xa(r))}return n}var Oh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:gh,c.Na=e,c}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.ua},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.oa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.va},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this._a},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Ca},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Pa},set:function(t){if(!aa(ha(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ba},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ba=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Na},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!aa(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ha(this.rate,16),32),n.writer.writeUInt(ha(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(va),xh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Oh),Lh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Oh);function Mh(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=fa(n.nextUint32(),16),o=fa(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ua(n);n.skip(24);var h=n.nextUint32();return 0===e?new xh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Lh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Uh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:gh,f}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.ua},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.oa},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Sa},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!aa(t,32))throw new v("trackId cannot exceed 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this._a},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Pa},set:function(t){if(!aa(ha(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Oa},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.xa},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.La},set:function(t){if(!aa(t,16))throw new v("Provided layer does not fit in 16 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Ma},set:function(t){if(!aa(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ba},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ha(this.volume,8),16),n.writer.writeUInt(0,16),mh(this.matrix,n),n.writer.writeUInt(ha(this.width,16),32),n.writer.writeUInt(ha(this.height,16),32)},n}(va),Xh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Uh),Hh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uh);function Fh(t){var n,i,e,r,s=t.data,u=xa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=fa(s.nextInt16(),8);s.skip(2);var _=Ua(s),g=fa(s.nextUint32(),16),m=fa(s.nextUint32(),16);return 0===o?new Xh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Hh({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var zh=function(t){function n(){return t.call(this,"trak")||this}return Ko(n,t),n}(Ga);function Vh(t){for(var n=new zh,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tkhd")?n.boxes.push(Fh(r)):Ca(r,"mdia")?n.boxes.push(fh(r)):Ca(r,"edts")?n.boxes.push(th(r)):n.boxes.push(Xa(r))}return n}var Wh=function(t){function n(){return t.call(this,"moov")||this}return Ko(n,t),n}(Ga);function Gh(t){for(var n=new Wh,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mvhd")?n.boxes.push(Mh(r)):Ca(r,"trak")?n.boxes.push(Vh(r)):Ca(r,"mvex")?n.boxes.push(Bh(r)):Ca(r,"pssh")?n.boxes.push(Sh(r)):n.boxes.push(Xa(r))}return n}var qh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Ua},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Yh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(qh),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(qh);function Qh(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Yh(n.nextUint32(),r.raw):new jh(n.nextUint64(),r.raw)}var Zh=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Sa},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Xa},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!aa(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ha},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!aa(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ia},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ra},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Da},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&kh(this.defaultSampleFlags,n)},n}(va);function Kh(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,l=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ma(new ia(ra.from(n.nextUint8Array(4)))):void 0;return new Zh({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var Jh=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Ko(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Fa},set:function(t){if(t&&!aa(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Va},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Wa},set:function(t){var n,i;if(!aa(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!aa(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!aa(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!aa(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!aa(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!aa(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&kh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&kh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(va);function $h(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ma(new ia(ra.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<c;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ma(new ia(ra.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new Jh(i,f,v)}var tc=function(t){function n(){return t.call(this,"traf")||this}return Ko(n,t),n}(Ga);function nc(t){for(var n=new tc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tfhd")?n.boxes.push(Kh(r)):Ca(r,"tfdt")?n.boxes.push(Qh(r)):Ca(r,"trun")?n.boxes.push($h(r)):n.boxes.push(Xa(r))}return n}var ic=function(t){function n(){return t.call(this,"moof")||this}return Ko(n,t),n}(Ga);function ec(t){for(var n=new ic,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"traf")?n.boxes.push(nc(r)):Ca(r,"pssh")?n.boxes.push(Sh(r)):n.boxes.push(Xa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Ko(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Ga},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(va);var rc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Ko(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.qa},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(oa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Ko(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ya},set:function(t){if(!aa(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Qa},set:function(t){if(!aa(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(oa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ga),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new rc(n),r}Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(oa);var sc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){var n=this;if(!aa(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Za},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(va);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(sc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(sc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ka},set:function(t){if(!aa(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ka=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ja},set:function(t){if(!aa(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Ja=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Za},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(va),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){yh(e[i],n)}}}(va),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(ja);var uc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Ko(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.$a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(va);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Ko(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(uc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Ko(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.nh},set:function(t){if(!aa(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.nh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(uc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ea},set:function(t){if(!aa(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(uc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Ko(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.ih},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ra},set:function(t){if(!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Wa},set:function(t){if(!aa(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(va),function(t){function n(){return t.call(this,"stbl")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.firstChunk,32)||!aa(t.sampleDescriptionIndex,32)||!aa(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(va),function(t){function n(){return t.call(this,"schi")||this}Ko(n,t)}(Ga),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Ko(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.eh},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.eh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.rh},set:function(t){if(!aa(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.sh},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.sh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(va);var oc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.uh},set:function(t){if(!aa(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.uh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.va},set:function(t){if(!aa(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.oh},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.oh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ah},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ah=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.hh},set:function(t){if(!aa(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!aa(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!aa(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!aa(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.hh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(va),ac=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(oc),hc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(oc);var cc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Ko(n,t),n}(nh);function fc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new cc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Ko(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.fh},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!aa(ha(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.fh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ha(this.balance,8),16),n.writer.writeUInt(0,16)}}(va),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Vo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(va),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Sa},set:function(t){if(!aa(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(ja),function(t){function n(){return t.call(this,"udta")||this}Ko(n,t)}(Ga);var vc={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=vc);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Ko(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.vh},set:function(t){if(!aa(t.red,16)||!aa(t.green,16)||!aa(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.vh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(va);var lc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Ko(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Oa},set:function(t){if(!aa(t,16))throw new v("Provided width does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.xa},set:function(t){if(!aa(t,16))throw new v("Provided height does not fit in 16 bits.");this.xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.lh},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.lh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.dh},set:function(t){if(!aa(ha(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.dh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.wh},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.wh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this._h},set:function(t){if(!aa(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this._h=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.gh},set:function(t){if(!aa(t,16))throw new v("Provided depth does not fit in 16 bits.");this.gh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ha(this.horizontalResolution,16),32),n.writer.writeUInt(ha(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ca(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(ra.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(va),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Ya),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(lc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(qa),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(oa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.yh},set:function(t){if(!aa(t,8))throw new v("Provided version does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.kh},set:function(t){if(!aa(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.kh=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.ph},set:function(t){if(!aa(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.ph=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Ah},set:function(t){if(!aa(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.Ah=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.Th},set:function(t){if(!aa(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.Th=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Sh},set:function(t){if(!aa(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.Sh=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(ra.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(ra.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Ko(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(lc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Ko(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Po},set:function(t){if(!aa(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.Eh},set:function(t){if(!aa(t,32))throw new v("Provided max does not fit in 32 bits.");this.Eh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.Ih},set:function(t){if(!aa(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(oa);var dc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Ko(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.Rh},set:function(t){if(!aa(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Rh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Dh},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Dh=t,this.Nh=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Ch},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Ch=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Nh},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Nh=t,this.Dh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ca(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ca(t.writer,this.constantIv))},n}(va);!function(t){function n(n){return t.call(this,0,n)||this}Ko(n,t)}(dc);var wc=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Ko(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Ph},set:function(t){if(!aa(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Ph=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Bh},set:function(t){if(!aa(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(dc);function _c(t){return void 0!==t.iv}function gc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new wc(n),i}Ko(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(ph),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Ko(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Wa},set:function(t){var n;if(!aa(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(_c(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=gc(r)),!0===n&&!gc(r)||!1===n&&gc(r))throw new v("Mix of samples with and without subsamples detected.");if(gc(r)){if(!aa(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!aa(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!aa(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];_c(r)&&(n+=r.iv.length),gc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(_c(r)&&ca(n.writer,r.iv),gc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(va),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Ko(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.va},set:function(t){if(!aa(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.va=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oh},set:function(t){if(!aa(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Oh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Lh},set:function(t){if(!aa(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Lh=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Mh},set:function(t){if(!aa(t,32))throw new v("The provided id does not fit in 32 bits.");this.Mh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(ra.from(this.data))}}(va);var mc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ua,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function yc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Oa(i,e);if(!r.complete)return;if(Ca(r.box,n))return r.box}}(new Na(Ia(i),new Da),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var kc=yc("moov",Gh),pc=yc("sidx",function(t){var n,i,e=t.data,r=xa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var v=new ia(ra.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new ac(o,a,n,i,c,u.raw):new hc(o,a,n,i,c,u.raw)}),bc=yc("moof",ec),Ac=yc("pssh",Sh);function Tc(t){return function(t){for(var n=new mc,i=0,e=Ba(t);i<e.length;i++){var r=e[i];Ca(r,"ftyp")?n.boxes.push(eh(r)):Ca(r,"styp")?n.boxes.push(fc(r)):Ca(r,"moov")?n.boxes.push(Gh(r)):Ca(r,"moof")?n.boxes.push(ec(r)):Ca(r,"mdat")?n.boxes.push(dh(r)):n.boxes.push(Xa(r))}return n}(new Na(Ia(t),new Da))}var Sc=function(t){function n(n,i){var e;(e=t.call(this)||this).Uh=void 0,e.Xh=!1,e.Hh=void 0,e.Fh=void 0,e.Vh=function(){e.Wh()},e.Gh=function(t){e.Js(new ku(Kt(e),t.messageType,Yo(e.qh,t.message)))},e.Yh=function(){e.Xh=!0,e.Uh.Ou>0&&(e.Uh.Bu(),e.Js(new yu(Kt(e)))),e.jh.removeEventListener("keystatuseschange",e.Vh),e.jh.removeEventListener("message",e.Gh)},e.jh=n,e.qh=i,e.jh.addEventListener("keystatuseschange",e.Vh),e.jh.addEventListener("message",e.Gh),e.Uh=new Su;var r=[];return e.jh.closed&&r.push(We.resolve(e.jh.closed)),e.Fh=new Wo,r.push(e.Fh.Wu),e.Hh=We.race(r).then(e.Yh,e.Yh),e.Wh(),e}S(n,t);var i=n.prototype;return i.Qh=function(){if(this.Xh)return this.Hh;var t=[];return t.push(We.resolve(this.jh.close())),t.push(cu(1e3)),this.Fh.ju(We.race(t).catch(Ec)),this.Xh=!0,this.Hh},i.Zh=function(t,n,i){if(M.fn){var e=Ac(Uo(n));if(1===e.version)n=new Ah(e.systemId,e.data).serialize().join()}return We.resolve(this.jh.generateRequest(t,n)).catch(Ec)},i.Kh=function(t){return We.resolve(this.jh.load(t)).catch(Ec)},i.Jh=function(){return We.resolve(this.jh.remove()).catch(Ec)},i.$h=function(t){return We.resolve(this.jh.update(t)).catch(Ec)},i.Wh=function(){var t=this;this.Uh.Bu(),this.jh.keyStatuses.forEach(function(n,i){t.tc(i,n)}),this.Js(new yu(this))},i.tc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Uo(t);if(this.qh===Qr&&16===e.byteLength){var r=xo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.qh===Qr&&"status-pending"===n&&(n="usable"),this.Uh.Pu(e,n)},A(n,[{key:"nc",get:function(){return this.Hh}},{key:"ic",get:function(){return this.jh.expiration}},{key:"ec",get:function(){return this.Uh}},{key:"rc",get:function(){return this.jh.sessionId}}]),n}(du);function Ec(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Qo(t.message,void 0,n,t)}var Ic=function(){function t(t,n,i){this.uc=t,this.ac=n,this.hc=i}var n=t.prototype;return n.cc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Sc(this.uc.createSession(t),this.ac));case 1:case"end":return n.stop()}},null,this,null,We)},n.fc=function(t){return We.resolve(this.uc.setServerCertificate(t))},n.vc=function(t){return We.resolve(t.setMediaKeys(this.uc))},n.lc=function(t){return We.resolve(t.setMediaKeys(null))},n.dc=function(){return We.resolve()},t}(),Rc=function(){function t(t,n,i){this.wc=t,this.qh=n,this._c=i}var n=t.prototype;return n.gc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.wc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Ic(t,this.qh,this._c));case 4:case"end":return n.stop()}},null,this,null,We)},n.mc=function(){return this._c},A(t,[{key:"ac",get:function(){return this.wc.keySystem}}]),t}(),Dc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Nc(t){return vs(t,Dc.APPLICATION_MP4)||vs(t,Dc.VIDEO_MP4)||vs(t,Dc.AUDIO_MP4)}var Cc=function(){function t(t,n){this.ds=void 0,this.yc=void 0,this.ds=t,this.yc=n}return t.prototype.kc=function(t){for(var n=0,i=this.yc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Pc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Cc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Bc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Bc(r.substr(u));f&&s.push(f)}return new Cc(e,s)}function Bc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Oc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function xc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+gs((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Lc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,pc:e.pc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Mc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Mc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Mc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Hs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Oc(e.contentType))))}function Uc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Xc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Hc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Fc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Fc))}function Fc(t){return!t.robustness}function zc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Vc=function(){function t(){}return t.prototype.Rs=function(t,n){var i,e,r,s,u,a,h,c;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.pc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Xc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Xc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Hc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?zc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?zc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Dr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Rc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Dr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Rc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],We)},t.bc=function(){return As()},t}(),Wc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Xh=!1,e.Ac=void 0,e.Tc=void 0,e.Sc=void 0,e.Ec=void 0,e.Ic=void 0,e.Yh=function(){e.Xh=!0,e.Ac.ju(void 0),e.Ic&&(e.Ic.removeEventListener("mskeyclose",e.Yh),e.Ic.removeEventListener("mskeymessage",e.Rc),e.Ic.removeEventListener("mskeyerror",e.Dc),e.Ic.removeEventListener("mskeyadded",e.Nc))},e.Rc=function(t){e.Sc&&(e.Sc.ju(void 0),e.Sc=void 0),e.Js(new ku(Kt(e),"license-request",Ho(t.message).buffer,t.destinationURL||void 0))},e.Dc=function(){var t=e.Ic&&e.Ic.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);if(e.Sc)e.Sc.Qu(n),e.Sc=void 0;else if(e.Tc)e.Tc.Qu(n),e.Tc=void 0;else switch(n.Zu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Cc("output-not-allowed");break;default:e.Cc("internal-error")}}},e.Nc=function(){e.Sc&&(e.Cc("usable"),e.Sc.ju(void 0),e.Sc=void 0),e.Tc&&(e.Cc("usable"),e.Tc.ju(void 0),e.Tc=void 0)},e.Pc=n,e.Bc=i,e.Ac=new Wo,e.Ec=new Su,e}S(n,t);var i=n.prototype;return i.Zh=function(t,n,i){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Oc(),this.Sc=new Wo,this.cc(Uo(n),i),t.next=5,Dr.awrap(this.Sc.Wu);case 5:case"end":return t.stop()}},null,this,null,We)},i.cc=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.xc;return(i=n?this.Pc.createSession(this.Bc,t,e):this.Pc.createSession(this.Bc,t)).addEventListener("mskeyclose",this.Yh),i.addEventListener("mskeymessage",this.Rc),i.addEventListener("mskeyerror",this.Dc),i.addEventListener("mskeyadded",this.Nc),this.Ic=i,this.Cc("status-pending"),i},i.Kh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Oc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,We)},i.$h=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Tc=new Wo,this.Oc(),this.Ic){i.next=4;break}return i.abrupt("return",We.resolve());case 4:if(0!==(n=Uo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.Ic.update(n),i.next=10,Dr.awrap(this.Tc.Wu);case 10:case"end":return i.stop()}},null,this,null,We)},i.Qh=function(){return!this.Xh&&this.Ic&&(this.Xh=!0,this.Ic.close()),this.Ac.Wu},i.Jh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Oc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,We)},i.Oc=function(){if(this.Xh)throw new l("Already closing or closed.")},i.Cc=function(t){this.Ec.Bu(),this.Ec.Pu(Tu,t),this.Js(new yu(this))},A(n,[{key:"rc",get:function(){return this.Ic&&this.Ic.sessionId||""}},{key:"ic",get:function(){return NaN}},{key:"nc",get:function(){return this.Ac.Wu}},{key:"ec",get:function(){return this.Ec}}]),n}(du),Gc=function(){function t(t,n,i){this.Bc=void 0,this.Pc=t,this.ac=n,this.hc=i;var e=Uc(i)||"video/mp4";this.Bc=Oc(e)}var n=t.prototype;return n.cc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Wc(this.Pc,this.Bc));case 1:case"end":return t.stop()}},null,this,null,We)},n.fc=function(t){return We.resolve(!1)},n.vc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Pc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Pc),t.removeEventListener("loadedmetadata",i)}),We.resolve()},n.lc=function(t){return We.resolve()},n.dc=function(){return We.resolve()},t}(),qc=function(){function t(t,n){this.qh=t,this.Lc=n}var n=t.prototype;return n.mc=function(){return this.Lc},n.gc=function(){var t=new le.MSMediaKeys(this.qh);return We.resolve(new Gc(t,this.qh,this.Lc))},A(t,[{key:"ac",get:function(){return this.qh}}]),t}(),Yc=function(){function t(){}return t.prototype.Rs=function(t,n){try{return We.resolve(function(t,n){if(!jc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lc(Qc,gu,t,e);if(r)return new qc(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.bc=function(){return jc()},t}();function jc(){return void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported}function Qc(t,n){return le.MSMediaKeys.isTypeSupported(t,n)}var Zc,Kc,Jc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ac=new Wo,r.Mc=void 0,r.Ec=new Su,r.Uc=void 0,r.Xc=new Wo,r.Dc=function(){var t=r.Uc&&r.Uc.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);r.Mc?(r.Mc.Qu(n),r.Mc=void 0):n.Zu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Cc("output-not-allowed"):r.Cc("internal-error"),r.Js(new pu)}},r.Rc=function(t){r.Js(new ku(Kt(r),"license-request",Ho(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Nc=function(){r.Mc&&(r.Mc.ju(void 0),r.Mc=void 0),r.Cc("usable")},r.Hc=n,r.Bc=i,r.Fc=e,r}S(n,t);var i=n.prototype;return i.Zh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.zc;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=$c(Uo(n),e,this.Fc);return this.Uc=this.Hc.createSession(this.Bc,r),this.Uc.addEventListener("webkitkeymessage",this.Rc,!1),this.Uc.addEventListener("webkitkeyadded",this.Nc,!1),this.Uc.addEventListener("webkitkeyerror",this.Dc,!1),this.Cc("status-pending"),this.Xc.ju(this.Uc),this.Xc=new Wo,We.resolve()},i.Kh=function(t){return We.resolve(!0)},i.$h=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Mc=new Wo,i.t0=this.Uc,i.t0){i.next=9;break}return i.next=8,Dr.awrap(this.Xc.Wu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Dr.awrap(this.Mc.Wu);case 13:case"end":return i.stop()}},null,this,null,We)},i.Qh=function(){var t,n=this.Uc;return n&&(n.removeEventListener("webkitkeymessage",this.Rc,!1),n.removeEventListener("webkitkeyadded",this.Nc,!1),n.removeEventListener("webkitkeyerror",this.Dc,!1),n.close()),this.Xc.Ws(),null==(t=this.Mc)||t.Ws(),this.Ac.ju(void 0),this.Ac.Wu},i.Jh=function(){return We.resolve(void 0)},i.Cc=function(t){this.Ec.Bu(),this.Ec.Pu(Tu,t),this.Js(new yu(this))},A(n,[{key:"rc",get:function(){return this.Uc?this.Uc.sessionId:""}},{key:"ic",get:function(){return NaN}},{key:"nc",get:function(){return this.Ac.Wu}},{key:"ec",get:function(){return this.Ec}}]),n}(du);function $c(t,n,i){var e=No(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new zo;return fo(o,a,r,!0),Ao(o,a,e,!0),fo(o,a,s,!0),Ao(o,a,n,!0),fo(o,a,i.byteLength,!0),so(o,a,i),new y(u)}n.ErrorCode=void 0,(Zc=n.ErrorCode||(n.ErrorCode={}))[Zc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Zc[Zc.LICENSE_ERROR=2e3]="LICENSE_ERROR",Zc[Zc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Zc[Zc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Zc[Zc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Zc[Zc.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",Zc[Zc.SOURCE_INVALID=3e3]="SOURCE_INVALID",Zc[Zc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Zc[Zc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Zc[Zc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Zc[Zc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Zc[Zc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Zc[Zc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Zc[Zc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Zc[Zc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Zc[Zc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Zc[Zc.NETWORK_ERROR=6e3]="NETWORK_ERROR",Zc[Zc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Zc[Zc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Zc[Zc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Zc[Zc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Zc[Zc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Zc[Zc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Zc[Zc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Zc[Zc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Zc[Zc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Zc[Zc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Zc[Zc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Zc[Zc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Zc[Zc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Zc[Zc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Zc[Zc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Zc[Zc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Zc[Zc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Zc[Zc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Zc[Zc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Zc[Zc.AD_ERROR=1e4]="AD_ERROR",Zc[Zc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Zc[Zc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Kc=n.ErrorCategory||(n.ErrorCategory={}))[Kc.CONFIGURATION=1]="CONFIGURATION",Kc[Kc.LICENSE=2]="LICENSE",Kc[Kc.SOURCE=3]="SOURCE",Kc[Kc.MANIFEST=4]="MANIFEST",Kc[Kc.MEDIA=5]="MEDIA",Kc[Kc.NETWORK=6]="NETWORK",Kc[Kc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Kc[Kc.SUBTITLE=8]="SUBTITLE",Kc[Kc.VR=9]="VR",Kc[Kc.AD=10]="AD",Kc[Kc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var tf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}($t);var nf=function(){function t(t,n,i){this.Bc=void 0,this.Fc=void 0,this.Hc=t,this.ac=n,this.hc=i;var e=Uc(i)||"video/mp4";this.Bc=Oc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Hc},i.cc=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Fc){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Jc(this.Hc,this.Bc,this.Fc));case 3:case"end":return t.stop()}},null,this,null,We)},i.fc=function(t){return this.Fc=Uo(t),We.resolve(!0)},i.vc=function(t){return t.webkitSetMediaKeys(this.Hc),We.resolve()},i.lc=function(t){return t.webkitSetMediaKeys(null),We.resolve()},i.dc=function(){return We.resolve()},t}(),ef=function(){function t(t,n){this.qh=t,this.Lc=n}var n=t.prototype;return n.mc=function(){return this.Lc},n.gc=function(){var t=new le.WebKitMediaKeys(this.qh);return We.resolve(new nf(t,this.qh,this.Lc))},A(t,[{key:"ac",get:function(){return this.qh}}]),t}(),rf=function(){function t(){}return t.prototype.Rs=function(t,n){try{return We.resolve(function(t,n){if(t!==is)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!sf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lc(uf,mu,t,e);if(r)return new ef(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return We.reject(t)}},t.bc=function(){return sf()},t}();function sf(){return void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported}function uf(t,n){return le.WebKitMediaKeys.isTypeSupported(t,n)}var of=function(){function t(t){this.Vc=t}return t.prototype.Rs=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Vc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Dr.awrap(r.Rs(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],We)},t}(),af=function(){function t(t){var n=this;this.Wc=[],this.Gc=void 0,this.qc=new Ks,this.Yc=void 0,this.jc=function(){return 0===n.Wc.length?n.Yc?hf(n.Yc,n.qc.Ys).then(n.Qc,n.Qc):n.Qc():n.Wc.shift()().then(n.jc)},this.Qc=function(){if(0!==n.Wc.length)return n.jc();n.Gc=void 0},this.Yc=t}var n=t.prototype;return n.Zc=function(t,n){var i=this;return new We(function(e){var r=new Ks;r.Gs(i.qc.Ys),n&&r.Gs(n);var s=function(){r.Us()};i.Wc.push(function(){var n=hf(t,r.Ys);return e(n),n.then(s,s)}),i.Gc||(i.Gc=i.jc())})},n.Ws=function(){return this.Kc(!0)},n.Jc=function(){return this.Yc=void 0,this.Kc(!1)},n.Kc=function(t){var n=this.Gc;return this.qc.Ws(),t&&(this.qc=new Ks),We.resolve(n)},t}();function hf(t,n){return new We(function(i){return i(t(n))})}var cf,ff=new af,vf=function(t){function n(n){var i;return(i=t.call(this)||this).Sc=void 0,i.Mc=void 0,i.Ac=void 0,i.po=!1,i.$c=void 0,i.tf=void 0,i.nf=void 0,i.if=void 0,i.ef=void 0,i.qh=n,i.Ac=new Wo,i.tf="",i.ef=new Wo,i.nf=new Su,i}S(n,t);var i=n.prototype;return i.rf=function(){this.Mc&&(this.Cc("usable"),this.Mc.ju(void 0),this.Mc=void 0)},i.sf=function(t){var n=new Qo("Unknown CDM error",t.errorCode,t.systemCode);this.Mc?(this.Mc.Qu(n),this.Mc=void 0):this.Sc?(this.Sc.Qu(n),this.Sc=void 0):n.Zu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Cc("output-restricted"):1===n.Ku?this.Cc("expired"):this.Cc("internal-error")},i.uf=function(t){0!==t.message.byteLength&&(this.Sc&&(this.Sc.ju(void 0),this.Sc=void 0),this.Js(new ku(this,"license-request",Yo(this.qh,Ho(t.message).buffer),t.defaultURL||void 0)))},i.hf=function(t){this.if||(this.if=t,this.ef.ju(t))},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Mc&&(this.Mc.Qu(void 0),this.Mc=void 0),this.po=!0,this.Ac.ju(void 0);case 4:case"end":return t.stop()}},null,this,null,We)},i.Zh=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Sc=new Wo,this.$c=Uo(n),t.t0=this.if,t.t0){t.next=8;break}return t.next=7,Dr.awrap(this.ef.Wu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.qh,this.$c),t.next=12,Dr.awrap(this.Sc.Wu);case 12:case"end":return t.stop()}},null,this,null,We)},i.Kh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,We)},i.Jh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,We)},i.$h=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.throwIfClosed(),this.Mc=new Wo,!M.En&&!M.Tn){i.next=4;break}return i.abrupt("return",ff.Zc(function(){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(n.doUpdate(t));case 2:case"end":return i.stop()}},null,null,null,We)}));case 4:return i.next=6,Dr.awrap(this.doUpdate(t));case 6:case"end":return i.stop()}},null,this,null,We)},i.doUpdate=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.Mc){n.next=2;break}return n.abrupt("return");case 2:if(n.t0=this.if,n.t0){n.next=7;break}return n.next=6,Dr.awrap(this.ef.Wu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.qh,Uo(t),this.$c,this.rc),n.next=11,Dr.awrap(this.Mc.Wu);case 11:case"end":return n.stop()}},null,this,null,We)},i.throwIfClosed=function(){if(this.po)throw new l("Already closing or closed.")},i.Cc=function(t){this.nf.Bu(),this.nf.Pu(Tu,t),this.Js(new yu(this))},i.cf=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.if,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.ef.Wu);case 4:n.t0=n.sent;case 5:if(!(t=n.t0).webkitCancelKeyRequest){n.next=17;break}n.prev=7,t.webkitCancelKeyRequest(this.qh,this.tf),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(7);case 13:return n.prev=13,n.next=16,Dr.awrap(cu(500));case 16:return n.finish(13);case 17:case"end":return n.stop()}},null,this,[[7,11,13,17]],We)},A(n,[{key:"ec",get:function(){return this.nf}},{key:"rc",get:function(){return this.tf},set:function(t){this.tf=t}},{key:"nc",get:function(){return this.Ac.Wu}},{key:"ic",get:function(){return NaN}}]),n}(du),lf=function(){function t(t,n){var i=this;this.if=void 0,this.vf=Pr(),this.lf=[],this.Nc=function(t){var n=i.df(t.sessionId);n&&n.rf()},this.wf=function(t){var n=i.df(t.sessionId);n&&n.sf(t)},this._f=function(t){var n=i.df(t.sessionId);n&&n.uf(t)},this.ac=t,this.hc=n}var n=t.prototype;return n.vc=function(t){return this.if=t,this.if.addEventListener("webkitkeyadded",this.Nc),this.if.addEventListener("webkitkeyerror",this.wf),this.if.addEventListener("webkitkeymessage",this._f),this.vf.forEach(function(n,i){return n.hf(t)}),this.lf.forEach(function(n){return n.hf(t)}),We.resolve()},n.lc=function(t){return t.removeEventListener("webkitkeyadded",this.Nc),t.removeEventListener("webkitkeyerror",this.wf),t.removeEventListener("webkitkeymessage",this._f),this.if=void 0,We.resolve()},n.dc=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:t=this.vf.entries(),n=t.next();case 2:if(n.done){i.next=8;break}return i.next=5,Dr.awrap(n.value[1].cf());case 5:n=t.next(),i.next=2;break;case 8:this.vf.clear();case 9:case"end":return i.stop()}},null,this,null,We)},n.cc=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vf(this.ac),this.if&&e.hf(this.if),this.lf.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,We)},n.fc=function(t){return We.resolve(!1)},n.df=function(t){if(t){var n=this.vf.get(t);return n||((n=this.lf.shift())?(n.rc=t,this.vf.set(t,n),n):void 0)}},t}(),df=function(){function t(t,n){this.ac=t,this.gf=n}var n=t.prototype;return n.gc=function(){return We.resolve(new lf(this.ac,this.gf))},n.mc=function(){return this.gf},t}(),wf=function(){function t(){}return t.prototype.Rs=function(t,n){try{return We.resolve(_f(t,n))}catch(t){return We.reject(t)}},t.bc=function(){return Ts()},t}();function _f(t,n){if(!wf.bc())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lc(gf,gu,t,e);if(r)return new df(t,r)}throw new l("Unsupported key system configuration for "+t)}function gf(t,n){var i=ar();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function mf(){return cf||(cf=function(){var t=[];rf.bc()&&t.push(new rf);Vc.bc()&&t.push(new Vc);Yc.bc()&&t.push(new Yc);wf.bc()&&t.push(new wf);return new of(t)}()),cf}var yf=function(){function t(){this.mf=Pr()}var n=t.prototype;return n.Bu=function(t){this.mf.delete(t)},n.yf=function(){this.mf.clear()},n.Nu=function(t){return this.mf.get(t)},n.kf=function(t,n){this.mf.set(t,n)},t}(),kf=function(){function t(){}return t.pf=function(){return t.Yn||(t.Yn=pf.bc()?new pf:new yf),t.Yn},t.Bu=function(n){t.pf().Bu(n)},t.yf=function(){t.pf().yf()},t.Nu=function(n){return t.pf().Nu(n)},t.kf=function(n,i){t.pf().kf(n,i)},t}();kf.Yn=void 0;var pf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.bc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Bu=function(n){t.sessionStorage.removeItem(n)},e.yf=function(){t.sessionStorage.clear()},e.Nu=function(n){return t.sessionStorage[n]},e.kf=function(n,i){t.sessionStorage[n]=i},i}(kf);var bf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Af(t,n,i){var e=bf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Tf,Sf;!function(t){t.bf="Af",t.Tf="Sf",t.Ef="contentprotectionerror",t.If="contentprotectionsuccess",t.Rf="currentsourcechange",t.Df="destroy",t.Nf="durationchange",t.Cf="emptied",t.Au="encrypted",t.Pf="ended",t.Bf="Of",t.xf="loadstart",t.Lf="manifestupdate",t.Mf="nosupportedrepresentationfound",t.Uf="offline",t.Xf="online",t.Hf="pause",t.Ff="play",t.zf="progress",t.Vf="ratechange",t.Wf="representationchange",t.Gf="resize",t.qf="seeked",t.Yf="seeking",t.jf="segmentnotfound",t.Qf="Zf",t.Kf="Jf",t.$f="sourcechange",t.tv="timeupdate",t.ev="volumechange",t.rv="uv",t.ov="metricschange"}(Tf||(Tf={})),function(t){t.hv="arraybuffer",t.fv="json",t.vv="stream",t.$n="text"}(Sf||(Sf={}));var Ef=function(){function t(n){var i=this;this.rs=void 0,this.rs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=If(i),e=Rf(e);var r=i.toLowerCase();if(this.rs.hasOwnProperty(r)){var s=this.rs[r],u=s[1];s[1]=u?u+", "+e:e}else this.rs[r]=[i,e]},n.delete=function(t){var n=If(t).toLowerCase();delete this.rs[n]},n.get=function(t){var n=If(t).toLowerCase();return this.rs.hasOwnProperty(n)?this.rs[n][1]:null},n.has=function(t){var n=If(t).toLowerCase();return this.rs.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=If(i)).toLowerCase();this.rs[e]=[i,Rf(n)]},n.forEach=function(t,n){for(var i in this.rs)this.rs.hasOwnProperty(i)&&t.call(n,this.rs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.rs)if(this.rs.hasOwnProperty(n)){var i=this.rs[n],e=i[0],r=i[1];t.push([e,r])}return t},n.wv=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n._v=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.mv=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function If(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Rf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Nf(){}var Cf=Number.isNaN||function(t){return t!=t},Pf=Nf;function Bf(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Of(t){return t.slice()}function xf(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Cf(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Lf(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Mf(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new l(r+" is not a method");switch(i){case 0:return function(){return Xf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return Xf(r,t,i)}}}return function(){return jf(void 0)}}function Uf(t,n,i){var e=t[n];if(void 0!==e)return Lf(e,t,i)}function Xf(t,n,i){try{return jf(Lf(t,n,i))}catch(t){return Qf(t)}}function Hf(t){return t}function Ff(t){if(t=Number(t),Cf(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function zf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new l("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Vf=We,Wf=We.prototype.then,Gf=We.resolve.bind(Vf),qf=We.reject.bind(Vf);function Yf(t){return new Vf(t)}function jf(t){return Gf(t)}function Qf(t){return qf(t)}function Zf(t,n,i){return Wf.call(t,n,i)}function Kf(t,n,i){Zf(Zf(t,n,i),void 0,Pf)}function Jf(t,n){Kf(t,n)}function $f(t,n){Kf(t,void 0,n)}function tv(t,n,i){return Zf(t,n,i)}function nv(t){Zf(t,void 0,Pf)}var iv=function(){function t(){this.yv=0,this.pv=0,this.Ee={bv:[],Av:void 0},this.Tv=this.Ee,this.yv=0,this.pv=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.pv},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Tv,i=n;16383===n.bv.length&&(i={bv:[],Av:void 0}),n.bv.push(t),i!==n&&(this.Tv=i,n.Av=i),++this.pv},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.yv,e=i+1,r=t.bv,s=r[i];return 16384===e&&(n=t.Av,e=0),--this.pv,this.yv=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.yv,i=this.Ee,e=i.bv;!(n===e.length&&void 0===i.Av||n===e.length&&(n=0,0===(e=(i=i.Av).bv).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.yv;return t.bv[n]},t}();function ev(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function rv(t,n){t.Sv=!0,t.Ev=n,n.Iv=t,"readable"===n.me?av(t):"closed"===n.me?function(t){av(t),fv(t)}(t):hv(t,n.Rv)}function sv(t,n){return wd(t.Ev,n)}function uv(t){"readable"===t.Ev.me?cv(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){hv(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.Ev.Iv=void 0,t.Ev=void 0}function ov(t){return new l("Cannot "+t+" a stream using a released reader")}function av(t){t.Hh=Yf(function(n,i){t.Dv=n,t.Nv=i})}function hv(t,n){av(t),cv(t,n)}function cv(t,n){nv(t.Hh),t.Nv(n),t.Dv=void 0,t.Nv=void 0}function fv(t){t.Dv(void 0),t.Dv=void 0,t.Nv=void 0}var vv=Df("[[CancelSteps]]"),lv=Df("[[PullSteps]]");function dv(t,n){void 0===n&&(n=!1);var i=new pv(t);return i.Sv=n,i}function wv(t){return Yf(function(n,i){var e={Gu:n,Yu:i};t.Iv.Cv.push(e)})}function _v(t,n,i){var e=t.Iv;e.Cv.shift().Gu(ev(n,i,e.Sv))}function gv(t){return t.Iv.Cv.length}function mv(t){var n=t.Iv;return void 0!==n&&!!bv(n)}var yv,kv,pv=function(){function t(t){if(!1===ld(t))throw new l("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===dd(t))throw new l("This stream has already been locked for exclusive reading by another reader");rv(this,t),this.Cv=new iv}return d.defineProperty(t.prototype,"closed",{get:function(){return bv(this)?this.Hh:Qf(Tv("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return bv(this)?void 0===this.Ev?Qf(ov("cancel")):sv(this,t):Qf(Tv("cancel"))},t.prototype.read=function(){return bv(this)?void 0===this.Ev?Qf(ov("read from")):Av(this):Qf(Tv("read"))},t.prototype.releaseLock=function(){if(!bv(this))throw Tv("releaseLock");if(void 0!==this.Ev){if(this.Cv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");uv(this)}},t}();function bv(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Cv")}function Av(t){var n=t.Ev;return n.Pv=!0,"closed"===n.me?jf(ev(void 0,!0,t.Sv)):"errored"===n.me?Qf(n.Rv):n.Bv[lv]()}function Tv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Df.asyncIterator&&((yv={})[Df.asyncIterator]=function(){return this},kv=yv,d.defineProperty(kv,Df.asyncIterator,{enumerable:!1}));var Sv={next:function(){if(!1===Ev(this))return Qf(Iv("next"));var t=this.Ov;return void 0===t.Ev?Qf(ov("iterate")):tv(Av(t),function(n){var i=n.done;return i&&uv(t),ev(n.value,i,!0)})},return:function(t){if(!1===Ev(this))return Qf(Iv("next"));var n=this.Ov;if(void 0===n.Ev)return Qf(ov("finish iterating"));if(n.Cv.length>0)return Qf(new l("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.xv){var i=sv(n,t);return uv(n),tv(i,function(){return ev(t,!0,!0)})}return uv(n),jf(ev(t,!0,!0))}};function Ev(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Ov")}function Iv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Rv(t){var n=t.Lv.shift();return t.Mv-=n.size,t.Mv<0&&(t.Mv=0),n.value}function Dv(t,n,i){if(!xf(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Lv.push({value:n,size:i}),t.Mv+=i}function Nv(t){t.Lv=new iv,t.Mv=0}void 0!==kv&&d.setPrototypeOf(Sv,kv),d.defineProperty(Sv,"next",{enumerable:!1}),d.defineProperty(Sv,"return",{enumerable:!1});var Cv=Df("[[AbortSteps]]"),Pv=Df("[[ErrorSteps]]"),Bv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),xv(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=zf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create($v.prototype);var s=Mf(n,"write",1,[r]),u=Mf(n,"close",0,[]),o=Mf(n,"abort",1,[]);tl(t,r,function(){return Uf(n,"start",[r])},s,u,o,i,e)}(this,t,e=Ff(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Lv(this))throw ol("locked");return Mv(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Lv(this)?Qf(ol("abort")):!0===Mv(this)?Qf(new l("Cannot abort a stream that already has a writer")):Uv(this,t)},t.prototype.close=function(){return!1===Lv(this)?Qf(ol("close")):!0===Mv(this)?Qf(new l("Cannot close a stream that already has a writer")):!0===Vv(this)?Qf(new l("Cannot close an already-closing stream")):Xv(this)},t.prototype.getWriter=function(){if(!1===Lv(this))throw ol("getWriter");return Ov(this)},t}();function Ov(t){return new qv(t)}function xv(t){t.me="writable",t.Rv=void 0,t.Eo=void 0,t.Uv=void 0,t.Xv=new iv,t.Hv=void 0,t.Fv=void 0,t.zv=void 0,t.Vv=void 0,t.Wv=!1}function Lv(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Uv")}function Mv(t){return void 0!==t.Eo}function Uv(t,n){var i=t.me;if("closed"===i||"errored"===i)return jf(void 0);if(void 0!==t.Vv)return t.Vv.Gv;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Yf(function(i,r){t.Vv={Gv:void 0,Gu:i,Yu:r,qv:n,Yv:e}});return t.Vv.Gv=r,!1===e&&Fv(t,n),r}function Xv(t){var n=t.me;if("closed"===n||"errored"===n)return Qf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Yf(function(n,i){var e={Gu:n,Yu:i};t.Fv=e}),r=t.Eo;return void 0!==r&&!0===t.Wv&&"writable"===n&&ml(r),Dv(i=t.Uv,"close",0),el(i),e}function Hv(t,n){"writable"!==t.me?zv(t):Fv(t,n)}function Fv(t,n){var i=t.Uv;t.me="erroring",t.Rv=n;var e=t.Eo;void 0!==e&&Zv(e,n),!1===function(t){if(void 0===t.Hv&&void 0===t.zv)return!1;return!0}(t)&&!0===i.Qv&&zv(t)}function zv(t){t.me="errored",t.Uv[Pv]();var n=t.Rv;if(t.Xv.forEach(function(t){t.Yu(n)}),t.Xv=new iv,void 0!==t.Vv){var i=t.Vv;if(t.Vv=void 0,!0===i.Yv)return i.Yu(n),void Wv(t);Kf(t.Uv[Cv](i.qv),function(){i.Gu(),Wv(t)},function(n){i.Yu(n),Wv(t)})}else Wv(t)}function Vv(t){return void 0!==t.Fv||void 0!==t.zv}function Wv(t){void 0!==t.Fv&&(t.Fv.Yu(t.Rv),t.Fv=void 0);var n=t.Eo;void 0!==n&&vl(n,t.Rv)}function Gv(t,n){var i=t.Eo;void 0!==i&&n!==t.Wv&&(!0===n?function(t){dl(t)}(i):ml(i)),t.Wv=n}var qv=function(){function t(t){if(!1===Lv(t))throw new l("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Mv(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.Zv=t,t.Eo=this;var n,i=t.me;if("writable"===i)!1===Vv(t)&&!0===t.Wv?dl(this):_l(this),cl(this);else if("erroring"===i)wl(this,t.Rv),cl(this);else if("closed"===i)_l(this),cl(n=this),ll(n);else{var e=t.Rv;wl(this,e),fl(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Yv(this)?Qf(al("closed")):this.Hh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Yv(this))throw al("desiredSize");if(void 0===this.Zv)throw hl("desiredSize");return function(t){var n=t.Zv,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return il(n.Uv)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Yv(this)?Qf(al("ready")):this.Kv},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Yv(this)?Qf(al("abort")):void 0===this.Zv?Qf(hl("abort")):function(t,n){return Uv(t.Zv,n)}(this,t)},t.prototype.close=function(){if(!1===Yv(this))return Qf(al("close"));var t=this.Zv;return void 0===t?Qf(hl("close")):!0===Vv(t)?Qf(new l("Cannot close an already-closing stream")):jv(this)},t.prototype.releaseLock=function(){if(!1===Yv(this))throw al("releaseLock");void 0!==this.Zv&&Kv(this)},t.prototype.write=function(t){return!1===Yv(this)?Qf(al("write")):void 0===this.Zv?Qf(hl("write to")):Jv(this,t)},t}();function Yv(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Zv")}function jv(t){return Xv(t.Zv)}function Qv(t,n){"pending"===t.Jv?vl(t,n):function(t,n){fl(t,n)}(t,n)}function Zv(t,n){"pending"===t.$v?gl(t,n):function(t,n){wl(t,n)}(t,n)}function Kv(t){var n=t.Zv,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Zv(t,i),Qv(t,i),n.Eo=void 0,t.Zv=void 0}function Jv(t,n){var i=t.Zv,e=i.Uv,r=function(t,n){try{return t.il(n)}catch(n){return rl(t,n),1}}(e,n);if(i!==t.Zv)return Qf(hl("write to"));var s=i.me;if("errored"===s)return Qf(i.Rv);if(!0===Vv(i)||"closed"===s)return Qf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Qf(i.Rv);var u=function(t){return Yf(function(n,i){var e={Gu:n,Yu:i};t.Xv.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{Dv(t,e,i)}catch(n){return void rl(t,n)}var r=t.ul;if(!1===Vv(r)&&"writable"===r.me){var s=sl(t);Gv(r,s)}el(t)}(e,n,r),u}var $v=function(){function t(){throw new l("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Bf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"ul"))return!1;return!0}(this))throw new l("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.ul.me&&ul(this,t)},t.prototype[Cv]=function(t){var n=this.ol(t);return nl(this),n},t.prototype[Pv]=function(){Nv(this)},t}();function tl(t,n,i,e,r,s,u,o){n.ul=t,t.Uv=n,n.Lv=void 0,n.Mv=void 0,Nv(n),n.Qv=!1,n.il=o,n.al=u,n.hl=e,n.cl=r,n.ol=s;var a=sl(n);Gv(t,a),Kf(jf(i()),function(){n.Qv=!0,el(n)},function(i){n.Qv=!0,Hv(t,i)})}function nl(t){t.hl=void 0,t.cl=void 0,t.ol=void 0,t.il=void 0}function il(t){return t.al-t.Mv}function el(t){var n=t.ul;if(!1!==t.Qv&&void 0===n.Hv)if("erroring"!==n.me){if(0!==t.Lv.length){var i=t.Lv.peek().value;"close"===i?function(t){var n=t.ul;(function(t){t.zv=t.Fv,t.Fv=void 0})(n),Rv(t);var i=t.cl();nl(t),Kf(i,function(){!function(t){t.zv.Gu(void 0),t.zv=void 0,"erroring"===t.me&&(t.Rv=void 0,void 0!==t.Vv&&(t.Vv.Gu(),t.Vv=void 0)),t.me="closed";var n=t.Eo;void 0!==n&&ll(n)}(n)},function(t){!function(t,n){t.zv.Yu(n),t.zv=void 0,void 0!==t.Vv&&(t.Vv.Yu(n),t.Vv=void 0),Hv(t,n)}(n,t)})}(t):function(t,n){var i=t.ul;(function(t){t.Hv=t.Xv.shift()})(i),Kf(t.hl(n),function(){!function(t){t.Hv.Gu(void 0),t.Hv=void 0}(i);var n=i.me;if(Rv(t),!1===Vv(i)&&"writable"===n){var e=sl(t);Gv(i,e)}el(t)},function(n){"writable"===i.me&&nl(t),function(t,n){t.Hv.Yu(n),t.Hv=void 0,Hv(t,n)}(i,n)})}(t,i.chunk)}}else zv(n)}function rl(t,n){"writable"===t.ul.me&&ul(t,n)}function sl(t){return il(t)<=0}function ul(t,n){var i=t.ul;nl(t),Fv(i,n)}function ol(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function al(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function hl(t){return new l("Cannot "+t+" a stream using a released writer")}function cl(t){t.Hh=Yf(function(n,i){t.Dv=n,t.Nv=i,t.Jv="pending"})}function fl(t,n){cl(t),vl(t,n)}function vl(t,n){nv(t.Hh),t.Nv(n),t.Dv=void 0,t.Nv=void 0,t.Jv="rejected"}function ll(t){t.Dv(void 0),t.Dv=void 0,t.Nv=void 0,t.Jv="resolved"}function dl(t){t.Kv=Yf(function(n,i){t.fl=n,t.vl=i}),t.$v="pending"}function wl(t,n){dl(t),gl(t,n)}function _l(t){dl(t),ml(t)}function gl(t,n){nv(t.Kv),t.vl(n),t.fl=void 0,t.vl=void 0,t.$v="rejected"}function ml(t){t.fl(void 0),t.fl=void 0,t.vl=void 0,t.$v="fulfilled"}function yl(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var kl="undefined"!=typeof DOMException?DOMException:void 0;var pl,bl=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(kl)?kl:((pl=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(pl.prototype,"constructor",{value:pl,writable:!0,configurable:!0}),pl);function Al(t,n,i,e,r,s){var u=dv(t),o=Ov(n);t.Pv=!0;var a=!1,h=jf(void 0);return Yf(function(c,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new bl("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.me?Uv(n,i):jf(void 0)}),!1===r&&s.push(function(){return"readable"===t.me?wd(t,i):jf(void 0)}),k(function(){return We.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Hh,function(t){!1===e?k(function(){return Uv(n,t)},!0,t):p(!0,t)}),y(n,o.Hh,function(n){!1===r?k(function(){return wd(t,n)},!0,n):p(!0,n)}),d=t,w=u.Hh,_=function(){!1===i?k(function(){return function(t){var n=t.Zv,i=n.me;return!0===Vv(n)||"closed"===i?jf(void 0):"errored"===i?Qf(n.Rv):jv(t)}(o)}):p()},"closed"===d.me?_():Jf(w,_),!0===Vv(n)||"closed"===n.me){var g=new l("the destination writable stream closed before all data could be piped to it");!1===r?k(function(){return wd(t,g)},!0,g):p(!0,g)}function m(){var t=h;return Zf(h,function(){return t!==h?m():void 0})}function y(t,n,i){"errored"===t.me?i(t.Rv):$f(n,i)}function k(t,i,e){function r(){Kf(t(),function(){return b(i,e)},function(t){return b(!0,t)})}!0!==a&&(a=!0,"writable"===n.me&&!1===Vv(n)?Jf(m(),r):r())}function p(t,i){!0!==a&&(a=!0,"writable"===n.me&&!1===Vv(n)?Jf(m(),function(){return b(t,i)}):b(t,i))}function b(t,n){Kv(o),uv(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}nv(Yf(function(t,n){!function i(e){e?t():Zf(!0===a?jf(!0):Zf(o.Kv,function(){return Zf(Av(u),function(t){return!0===t.done||(h=Zf(Jv(o,t.value),void 0,Nf),!1)})}),i,n)}(!1)}))})}var Tl=function(){function t(){throw new l}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Sl(this))throw xl("desiredSize");return Pl(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Sl(this))throw xl("close");if(!1===Bl(this))throw new l("The stream is not in a state that permits close");Dl(this)},t.prototype.enqueue=function(t){if(!1===Sl(this))throw xl("enqueue");if(!1===Bl(this))throw new l("The stream is not in a state that permits enqueue");return Nl(this,t)},t.prototype.error=function(t){if(!1===Sl(this))throw xl("error");Cl(this,t)},t.prototype[vv]=function(t){Nv(this);var n=this.ll(t);return Rl(this),n},t.prototype[lv]=function(){var t=this.dl;if(this.Lv.length>0){var n=Rv(this);return!0===this.wl&&0===this.Lv.length?(Rl(this),_d(t)):El(this),jf(ev(n,!1,t.Iv.Sv))}var i=wv(t);return El(this),i},t}();function Sl(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"dl")}function El(t){!1!==Il(t)&&(!0!==t._l?(t._l=!0,Kf(t.yl(),function(){t._l=!1,!0===t.bl&&(t.bl=!1,El(t))},function(n){Cl(t,n)})):t.bl=!0)}function Il(t){var n=t.dl;return!1!==Bl(t)&&(!1!==t.Qv&&(!0===dd(n)&&gv(n)>0||Pl(t)>0))}function Rl(t){t.yl=void 0,t.ll=void 0,t.il=void 0}function Dl(t){var n=t.dl;t.wl=!0,0===t.Lv.length&&(Rl(t),_d(n))}function Nl(t,n){var i=t.dl;if(!0===dd(i)&&gv(i)>0)_v(i,n,!1);else{var e=void 0;try{e=t.il(n)}catch(n){throw Cl(t,n),n}try{Dv(t,n,e)}catch(n){throw Cl(t,n),n}}El(t)}function Cl(t,n){var i=t.dl;"readable"===i.me&&(Nv(t),Rl(t),gd(i,n))}function Pl(t){var n=t.dl.me;return"errored"===n?null:"closed"===n?0:t.al-t.Mv}function Bl(t){var n=t.dl.me;return!1===t.wl&&"readable"===n}function Ol(t,n,i,e,r,s,u){n.dl=t,n.Lv=void 0,n.Mv=void 0,Nv(n),n.Qv=!1,n.wl=!1,n.bl=!1,n._l=!1,n.il=u,n.al=s,n.yl=e,n.ll=r,t.Bv=n,Kf(jf(i()),function(){n.Qv=!0,El(n)},function(t){Cl(n,t)})}function xl(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var Ll=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},Ml=function(){function t(){throw new l("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===Hl(this))throw id("view");return this.Al},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Hl(this))throw id("respond");if(void 0===this.Tl)throw new l("This BYOB request has been invalidated");this.Al.buffer,function(t,n){if(!1===xf(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Zl(t,n)}(this.Tl,t)},t.prototype.respondWithNewView=function(t){if(!1===Hl(this))throw id("respond");if(void 0===this.Tl)throw new l("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Sl.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Zl(t,n.byteLength)}(this.Tl,t)},t}(),Ul=function(){function t(){throw new l("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Xl(this))throw ed("byobRequest");if(void 0===this.El&&this.Sl.length>0){var t=this.Sl.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(Ml.prototype);!function(t,n,i){t.Tl=n,t.Al=i}(i,this,n),this.El=i}return this.El},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Xl(this))throw ed("desiredSize");return td(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Xl(this))throw ed("close");if(!0===this.wl)throw new l("The stream has already been closed; do not close it again!");var t=this.Il.me;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Il;if(t.Mv>0)return void(t.wl=!0);if(t.Sl.length>0){var i=t.Sl.peek();if(i.bytesFilled>0){var e=new l("Insufficient bytes to fill elements in the given buffer");throw $l(t,e),e}}Jl(t),_d(n)}(this)},t.prototype.enqueue=function(t){if(!1===Xl(this))throw ed("enqueue");if(!0===this.wl)throw new l("stream is closed or draining");var n=this.Il.me;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new l("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Il,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Hf(e);if(!0===mv(i))if(0===gv(i))Wl(t,u,r,s);else{var o=new y(u,r,s);_v(i,o,!1)}else!0===ud(i)?(Wl(t,u,r,s),Ql(t)):Wl(t,u,r,s);Fl(t)}(this,t)},t.prototype.error=function(t){if(!1===Xl(this))throw ed("error");$l(this,t)},t.prototype[vv]=function(t){this.Sl.length>0&&(this.Sl.peek().bytesFilled=0);Nv(this);var n=this.ll(t);return Jl(this),n},t.prototype[lv]=function(){var t=this.Il;if(this.Mv>0){var n=this.Lv.shift();this.Mv-=n.byteLength,Yl(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Qf(t)}return jf(ev(i,!1,t.Iv.Sv))}var e=this.Rl;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Qf(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Sl.push(s)}var u=wv(t);return Fl(this),u},t}();function Xl(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Il")}function Hl(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Tl")}function Fl(t){!1!==function(t){var n=t.Il;if("readable"!==n.me)return!1;if(!0===t.wl)return!1;if(!1===t.Qv)return!1;if(!0===mv(n)&&gv(n)>0)return!0;if(!0===ud(n)&&sd(n)>0)return!0;if(td(t)>0)return!0;return!1}(t)&&(!0!==t._l?(t._l=!0,Kf(t.yl(),function(){t._l=!1,!0===t.bl&&(t.bl=!1,Fl(t))},function(n){$l(t,n)})):t.bl=!0)}function zl(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=Vl(n);"default"===n.readerType?_v(t,e,i):function(t,n,i){var e=t.Iv;e.Dl.shift().Gu(ev(n,i,e.Sv))}(t,e,i)}function Vl(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Wl(t,n,i,e){t.Lv.push({buffer:n,byteOffset:i,byteLength:e}),t.Mv+=e}function Gl(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Mv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h,c,f,v,l,d=t.Lv;o>0;){var _=d.peek(),g=w.min(o,_.byteLength),m=n.byteOffset+n.bytesFilled;h=n.buffer,c=m,f=_.buffer,v=_.byteOffset,l=g,new y(h).set(new y(f,v,l),c),_.byteLength===g?d.shift():(_.byteOffset+=g,_.byteLength-=g),t.Mv-=g,ql(t,g,n),o-=g}return a}function ql(t,n,i){jl(t),i.bytesFilled+=n}function Yl(t){0===t.Mv&&!0===t.wl?(Jl(t),_d(t.Il)):Fl(t)}function jl(t){void 0!==t.El&&(t.El.Tl=void 0,t.El.Al=void 0,t.El=void 0)}function Ql(t){for(;t.Sl.length>0;){if(0===t.Mv)return;var n=t.Sl.peek();!0===Gl(t,n)&&(Kl(t),zl(t.Il,n))}}function Zl(t,n){var i=t.Sl.peek();if("closed"===t.Il.me){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Hf(n.buffer);var i=t.Il;if(!0===ud(i))for(;sd(i)>0;)zl(i,Kl(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ql(t,n,i),!(i.bytesFilled<i.elementSize)){Kl(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);Wl(t,s,0,s.byteLength)}i.buffer=Hf(i.buffer),i.bytesFilled-=e,zl(t.Il,i),Ql(t)}}(t,n,i);Fl(t)}function Kl(t){var n=t.Sl.shift();return jl(t),n}function Jl(t){t.yl=void 0,t.ll=void 0}function $l(t,n){var i=t.Il;"readable"===i.me&&(!function(t){jl(t),t.Sl=new iv}(t),Nv(t),Jl(t),gd(i,n))}function td(t){var n=t.Il.me;return"errored"===n?null:"closed"===n?0:t.al-t.Mv}function nd(t,n,i){var e=d.create(Ul.prototype);var r=Mf(n,"pull",0,[e]),s=Mf(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===Ll(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Il=t,n.bl=!1,n._l=!1,n.El=void 0,n.Lv=n.Mv=void 0,Nv(n),n.wl=!1,n.Qv=!1,n.al=Ff(s),n.yl=e,n.ll=r,n.Rl=u,n.Sl=new iv,t.Bv=n,Kf(jf(i()),function(){n.Qv=!0,Fl(n)},function(t){$l(n,t)})}(t,e,function(){return Uf(n,"start",[e])},r,s,i,u)}function id(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ed(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function rd(t){return Yf(function(n,i){var e={Gu:n,Yu:i};t.Iv.Dl.push(e)})}function sd(t){return t.Iv.Dl.length}function ud(t){var n=t.Iv;return void 0!==n&&!!ad(n)}var od=function(){function t(t){if(!ld(t))throw new l("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Xl(t.Bv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(dd(t))throw new l("This stream has already been locked for exclusive reading by another reader");rv(this,t),this.Dl=new iv}return d.defineProperty(t.prototype,"closed",{get:function(){return ad(this)?this.Hh:Qf(hd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ad(this)?void 0===this.Ev?Qf(ov("cancel")):sv(this,t):Qf(hd("cancel"))},t.prototype.read=function(t){return ad(this)?void 0===this.Ev?Qf(ov("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Qf(new l("view must have non-zero byteLength")):function(t,n){var i=t.Ev;if(i.Pv=!0,"errored"===i.me)return Qf(i.Rv);return function(t,n){var i=t.Il,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:Hf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Sl.length>0)return t.Sl.push(s),rd(i);if("closed"===i.me)return jf(ev(new r(s.buffer,s.byteOffset,0),!0,i.Iv.Sv));if(t.Mv>0){if(!0===Gl(t,s)){var u=Vl(s);return Yl(t),jf(ev(u,!1,i.Iv.Sv))}if(!0===t.wl){var o=new l("Insufficient bytes to fill elements in the given buffer");return $l(t,o),Qf(o)}}t.Sl.push(s);var a=rd(i);return Fl(t),a}(i.Bv,n)}(this,t)):Qf(new l("view must be an array buffer view")):Qf(hd("read"))},t.prototype.releaseLock=function(){if(!ad(this))throw hd("releaseLock");if(void 0!==this.Ev){if(this.Dl.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");uv(this)}},t}();function ad(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Dl")}function hd(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var cd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),vd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),nd(this,t,e=Ff(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=zf(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Tl.prototype),s=Mf(n,"pull",0,[r]),u=Mf(n,"cancel",1,[]);Ol(t,r,function(){return Uf(n,"start",[r])},s,u,i,e)}(this,t,e=Ff(e),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ld(this))throw md("locked");return dd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===ld(this)?Qf(md("cancel")):!0===dd(this)?Qf(new l("Cannot cancel a stream that already has a reader")):wd(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===ld(this))throw md("getReader");if(void 0===n)return dv(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new od(t);return i.Sv=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,a=r.signal;if(!1===ld(this))throw md("pipeThrough");if(!1===Lv(i))throw new l("writable argument to pipeThrough must be a WritableStream");if(!1===ld(e))throw new l("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==a&&!yl(a))throw new l("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===dd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Mv(i))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return nv(Al(this,i,s,u,o,a)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===ld(this)?Qf(md("pipeTo")):!1===Lv(t)?Qf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||yl(u)?!0===dd(this)?Qf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Mv(t)?Qf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Al(this,t,e,r,s,u):Qf(new l("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===ld(this))throw md("tee");var t=function(t,n){var i,e,r,s,u,o=dv(t),a=!1,h=!1,c=!1,f=Yf(function(t){u=t});function v(){return!0===a?jf(void 0):(a=!0,nv(tv(Av(o),function(t){if(a=!1,!0===t.done)return!1===h&&Dl(r.Bv),void(!1===c&&Dl(s.Bv));var n=t.value,i=n,e=n;!1===h&&Nl(r.Bv,i),!1===c&&Nl(s.Bv,e)})),jf(void 0))}function l(){}return r=fd(l,v,function(n){if(h=!0,i=n,!0===c){var r=Of([i,e]),s=wd(t,r);u(s)}return f}),s=fd(l,v,function(n){if(c=!0,e=n,!0===h){var r=Of([i,e]),s=wd(t,r);u(s)}return f}),$f(o.Hh,function(t){Cl(r.Bv,t),Cl(s.Bv,t)}),[r,s]}(this);return Of(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===ld(this))throw md("getIterator");return function(t,n){void 0===n&&(n=!1);var i=dv(t),e=d.create(Sv);return e.Ov=i,e.xv=Boolean(n),e}(this,i)},t}();function fd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(cd.prototype);return vd(s),Ol(s,d.create(Tl.prototype),t,n,i,e,r),s}function vd(t){t.me="readable",t.Iv=void 0,t.Rv=void 0,t.Pv=!1}function ld(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Bv")}function dd(t){return void 0!==t.Iv}function wd(t,n){return t.Pv=!0,"closed"===t.me?jf(void 0):"errored"===t.me?Qf(t.Rv):(_d(t),tv(t.Bv[vv](n),Nf))}function _d(t){t.me="closed";var n=t.Iv;void 0!==n&&(bv(n)&&(n.Cv.forEach(function(t){t.Gu(ev(void 0,!0,n.Sv))}),n.Cv=new iv),fv(n))}function gd(t,n){t.me="errored",t.Rv=n;var i=t.Iv;void 0!==i&&(bv(i)?(i.Cv.forEach(function(t){t.Yu(n)}),i.Cv=new iv):(i.Dl.forEach(function(t){t.Yu(n)}),i.Dl=new iv),cv(i,n))}function md(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Df.asyncIterator&&d.defineProperty(cd.prototype,Df.asyncIterator,{value:cd.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var yd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),kd=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=zf(e);if(void 0===r&&(r=1),r=Ff(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,h=zf(s);void 0===u&&(u=0),u=Ff(u),function(t,n,i,e,r,s){function u(){return n}t.Nl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Bv.prototype);return xv(u),tl(u,d.create($v.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Cl;if(!0===t.Wv){var e=t.Pl;return tv(e,function(){var e=t.Nl,r=e.me;if("erroring"===r)throw e.Rv;return Dd(i,n)})}return Dd(i,n)}(t,n)},function(){return function(t){var n=t.Bl,i=t.Cl,e=i.Ol();return Id(i),tv(e,function(){if("errored"===n.me)throw n.Rv;var t=n.Bv;!0===Bl(t)&&Dl(t)},function(i){throw bd(t,i),n.Rv})}(t)},function(n){return function(t,n){return bd(t,n),jf(void 0)}(t,n)},i,e),t.Bl=fd(u,function(){return function(t){return Td(t,!1),t.Pl}(t)},function(n){return Ad(t,n),jf(void 0)},r,s),t.Wv=void 0,t.Pl=void 0,t.xl=void 0,Td(t,!0),t.Cl=void 0}(this,Yf(function(t){a=t}),r,o,u,h),function(t,n){var i=d.create(Sd.prototype),e=function(t){try{return Rd(i,t),jf(void 0)}catch(t){return Qf(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new l("transform is not a method");e=function(t){return Xf(r,n,[t,i])}}var s=Mf(n,"flush",0,[i]);!function(t,n,i,e){n.Ll=t,t.Cl=n,n.Ml=i,n.Ol=e}(t,i,e,s)}(this,t);var c=Uf(t,"start",[this.Cl]);a(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===pd(this))throw Cd("readable");return this.Bl},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===pd(this))throw Cd("writable");return this.Nl},enumerable:!0,configurable:!0}),t}();function pd(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Cl")}function bd(t,n){Cl(t.Bl.Bv,n),Ad(t,n)}function Ad(t,n){Id(t.Cl),rl(t.Nl.Uv,n),!0===t.Wv&&Td(t,!1)}function Td(t,n){void 0!==t.Pl&&t.xl(),t.Pl=Yf(function(n){t.xl=n}),t.Wv=n}var Sd=function(){function t(){throw new l("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ed(this))throw Nd("desiredSize");return Pl(this.Ll.Bl.Bv)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Ed(this))throw Nd("enqueue");Rd(this,t)},t.prototype.error=function(t){if(!1===Ed(this))throw Nd("error");var n;n=t,bd(this.Ll,n)},t.prototype.terminate=function(){if(!1===Ed(this))throw Nd("terminate");!function(t){var n=t.Ll,i=n.Bl.Bv;!0===Bl(i)&&Dl(i);var e=new l("TransformStream terminated");Ad(n,e)}(this)},t}();function Ed(t){return!!Bf(t)&&!!d.prototype.hasOwnProperty.call(t,"Ll")}function Id(t){t.Ml=void 0,t.Ol=void 0}function Rd(t,n){var i=t.Ll,e=i.Bl.Bv;if(!1===Bl(e))throw new l("Readable side is not in a state that permits enqueue");try{Nl(e,n)}catch(t){throw Ad(i,t),i.Bl.Rv}(function(t){return!0!==Il(t)})(e)!==i.Wv&&Td(i,!0)}function Dd(t,n){return tv(t.Ml(n),void 0,function(n){throw bd(t.Ll,n),n})}function Nd(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Cd(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Pd,Bd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}($t);function Od(t){return n=[t],new cd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function xd(t){return Od(new y(t))}function Ld(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Wo,s=function(){u();var t=new Js;e.cancel(t).catch(K),r.Qu(t)},u=function(){i&&(i.Hs(s),i=void 0)};i&&(i.Bs?s():i.Xs(s));var o=[];return We.resolve(e.read()).then(function t(n){return n.done?(u(),We.resolve(o)):(o.push(n.value),We.resolve(e.read()).then(t))}).then(function(t){u(),r.ju(t)},function(t){u(),r.Qu(t)}),r.Wu}(t,n).then(function(t){return Uu(t).buffer})}function Md(t,n){var i=n,e=new kd,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Ws()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Ud(t){var n=new kd,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||$s(n[0])&&$s(n[1])?n[0]:new Bd(n):n,t.cancel(i).catch(K)}),i.tee()}function Xd(t){return No(new y(t))}function Hd(t){return Co(t).buffer}!function(t){t[t.vv=0]="vv",t[t.Ul=1]="Ul"}(Pd||(Pd={}));var Fd="content-type",zd="text/plain;charset=UTF-8",Vd=function(){function t(){}var n=t.prototype;return n.Xl=function(t){return this.Hl(t).then(JSON.parse)},n.Fl=function(t,n){switch(t){case Sf.hv:return this.zl(n);case Sf.fv:return this.Xl(n);case Sf.vv:return this.Vl();case Sf.$n:return this.Hl(n);default:throw new l}},t}();function Wd(t,n,i){if(t instanceof Vd)return t;if(t instanceof cd)return function(t,n){return new qd({ds:Pd.vv,Vl:t,Wl:Gd(n)})}(t,i);var e=Gd(i),r=We.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{ds:Sf.$n,Gl:t,Wl:n||zd};if(t instanceof ArrayBuffer||xu(t))return{ds:Sf.hv,Gl:$d(t),Wl:n};if(G(t)||z(t))return{ds:Sf.fv,Gl:t,Wl:n};throw new l("Unsupported BodyInit type")}return{ds:Sf.$n,Gl:null,Wl:n}}(t,e)});return new qd({ds:Pd.Ul,Wu:r,ql:n})}function Gd(t){return(t.get(Fd)||"").toLowerCase()}var qd=function(t){function n(n){var i;return(i=t.call(this)||this).Yl=!1,i.jl=void 0,i.Ql=new Wo,i.Ql.Wu.catch(K),i.Zl(n),i}S(n,t);var i=n.prototype;return i.Kl=function(){return this.Ql.Wu},i.Hl=function(t){return this.Jl(Yd,t)},i.Xl=function(t){return this.Jl(Qd,t)},i.zl=function(t){return this.Jl(Kd,t)},i.Vl=function(){return this.$l((t=this.jl).ds===Pd.vv?t.Vl:Md(t.Wu.then(Jd).then(xd),t.ql));var t},i.Jl=function(t,n){if(this.Yl)return We.reject(new l("Already used"));this.Yl=!0;var i=t(this.jl,n);return this.Ql.ju(i.then(K)),i},i.$l=function(t){if(this.Yl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.Yl=!0;var n=new kd,i=We.resolve(t.pipeTo(n.writable));return this.Ql.ju(i),n.readable},i.Zl=function(t){this.jl=t,t.ds===Pd.Ul&&t.Wu.catch(K)},i.td=function(){if(this.Yl)throw new l("Already used");var t=function(t){if(t.ds===Pd.vv){var n=t.Vl.tee(),i=n[0],e=n[1];return[{ds:t.ds,Vl:i,Wl:t.Wl},{ds:t.ds,Vl:e,Wl:t.Wl}]}var r=t.ql.qs(),s=r[0],u=r[1];return[{ds:t.ds,Wu:t.Wu,ql:s},{ds:t.ds,Wu:t.Wu,ql:u}]}(this.jl),i=t[0],e=t[1];return this.Zl(i),new n(e)},A(n,[{key:"ed",get:function(){return this.Yl}}]),n}(Vd);function Yd(t,n){return t.ds===Pd.vv?Ld(t.Vl,n).then(Xd):(n&&t.ql.Gs(n),ru(t.Wu.then(jd),t.ql))}function jd(t){switch(t.ds){case Sf.$n:return We.resolve(t.Gl||"");case Sf.hv:return We.resolve(t.Gl).then(Xd);case Sf.fv:return We.resolve(t.Gl).then(JSON.stringify)}}function Qd(t,n){return t.ds===Pd.vv?Yd(t,n).then(JSON.parse):(n&&t.ql.Gs(n),ru(t.Wu.then(Zd),t.ql))}function Zd(t){return t.ds===Sf.fv?We.resolve(t.Gl):jd(t).then(JSON.parse)}function Kd(t,n){return t.ds===Pd.vv?Ld(t.Vl,n):(n&&t.ql.Gs(n),ru(t.Wu.then(Jd),t.ql))}function Jd(t){switch(t.ds){case Sf.hv:return We.resolve(t.Gl);case Sf.$n:case Sf.fv:return jd(t).then(Hd)}}function $d(t){return t instanceof ArrayBuffer?t:Ho(Lo(t)).buffer}function tw(t){return t.rd>=200&&t.rd<=299||304===t.rd}var nw,iw,ew,rw,sw=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.ud,s=i.od,u=i.rd,o=i.hd,a=i.fd):(r=[],s=Sf.$n,u=200,o="OK",a=!1);var h=n.vd,c=new Ef(n.ud||r),f=n.od||s,v=n.ld||(i&&i.vd===h?i.ld:h.dd),l=i?i.wd:null,d=Wd(void 0!==n.Fi?n.Fi:l,n.ql||new Ks,c);return(e=t.call(this,d)||this).ud=void 0,e.vd=void 0,e.ld=void 0,e.od=void 0,e.rd=void 0,e.hd=void 0,e.fd=void 0,e.ud=c,e.vd=h,e.ld=v,e.od=f,e.rd=void 0!==n.rd?n.rd:u,e.hd=void 0!==n.hd?String(n.hd):o,e.fd=n.fd||a,e}S(n,t);var i=n.prototype;return i.Fi=function(t){return this.Fl(this.od,t)},i.Xu=function(){return new n({Fi:this.td(),vd:this.vd},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).wd=void 0,i.wd=n,i}S(n,t);var i=n.prototype;return i.Kl=function(){return this.wd.Kl()},i.Hl=function(t){return this.wd.Hl(t)},i.Xl=function(t){return this.wd.Xl(t)},i.zl=function(t){return this.wd.zl(t)},i.Vl=function(){return this.wd.Vl()},i.td=function(){return this.wd.td()},A(n,[{key:"ed",get:function(){return this.wd.ed}}]),n}(Vd));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(nw||(nw={})),function(t){t._d="",t.md="manifest",t.yd="segment",t.kd="preload-hint",t.pd="content-protection"}(iw||(iw={})),function(t){t._d="",t.bd="initialization-segment",t.Ad="fairplay-license",t.Td="fairplay-certificate",t.Sd="widevine-license",t.Ed="widevine-certificate",t.Id="playready-license",t.Rd="clearkey-license",t.Dd="aes128-key"}(ew||(ew={})),function(t){t._d="",t.Nd="audio",t.Cd="video",t.$n="text",t.Pd="image"}(rw||(rw={}));var uw=function(t,n){this.Gl=void 0,this.ud=void 0,this.Bd=void 0,this.od=void 0,this.Od=void 0,this.Ys=void 0,this.ds=void 0,this.xd=void 0,this.Ld=void 0,this.dd=void 0,this.Md=void 0,this.Ud=void 0;var i,e,r,s,u,o,a,h,c,f,v,l=t.dd;n?(i=n.Gl,e=n.ud,r=n.Bd,s=n.od,u=n.Od,o=n.Ys,a=n.ds,h=n.xd,c=n.Ld,f=n.Md,v=n.Ud):(i=null,e={},r=nw.GET,s=Sf.$n,u=0,a=iw._d,h=ew._d,c=rw._d,f=!1),this.dd=l,this.Gl=t.Gl||i,this.ud=new Ef(t.ud||e),this.Bd=t.Bd||r,this.od=t.od||s,this.Od=void 0!==t.Od?Number(t.Od)||0:u,this.Ys=t.Ys||o||(new Ks).Ys,this.ds=t.ds||a,this.xd=t.xd||h,this.Ld=t.Ld||c,this.Md=void 0!==t.Md?Boolean(t.Md):f,this.Ud=t.Ud||v},ow=function(){function t(){}var n=t.prototype;return n.vd=function(t){var n=function(t){return new sw({Fi:null,ud:{},vd:t,ld:t.dd,od:t.od,rd:0,hd:Tf.Uf})}(new uw(t));return We.resolve(n)},n.Xd=function(t){},n.Jc=function(){},t}();var aw=function(){function t(t,n){void 0===n&&(n=!0),this.Hd=void 0,this.Fd=void 0,this.Hd=t,this.Fd=n}var n=t.prototype;return n.vd=function(t){var n=this.zd(t);return this.Hd.vd(n)},n.Xd=function(t){return this.Hd.Xd(this.Vd(t))},n.zd=function(n){var i=new uw(n);if(!this.Fd){var e=t.Wd(i.dd);i=new uw({dd:e},i)}return i},n.Vd=function(n){var i=n.dd;return this.Fd||(i=t.Wd(i)),{dd:i,Gl:n.Gl}},t.Wd=function(t){return i.Vr&&ls(t,"http://")?t.replace(":","s:"):t},n.Jc=function(){this.Hd.Jc()},A(t,null,[{key:"Gd",get:function(){return t.qd||(t.qd=new t(new ow)),t.qd}}]),t}();function hw(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function cw(t,n){var e=i.Mr(t);return n&&!ds(e,"/")&&(e+="/"),e}aw.qd=void 0;var fw,vw=/cache:(.+)?(?=&|$)/,lw="http://webcache.googleusercontent.com/search?q=cache:";function dw(t){if(!ls(t,lw))return"";var n=i.Lr(t).search.match(vw);return n&&n.length>1?n[1]:""}!function(t){t.Yd="HttpOpenError",t.jd="HttpResponseError",t.Qd="HttpTimeoutError"}(fw||(fw={}));var ww=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Zd=void 0,r.Zd=n,r}return S(n,t),A(n,[{key:"vd",get:function(){return this.Zd}}]),n}($t);var _w=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.dd+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return fw.Yd}}]),n}(ww);var gw=function(t){function n(n,i,e){var r;return(r=t.call(this,n.vd,null!=e?e:function(t){return"Error while loading "+t.vd.dd+", status code "+t.rd}(n),i)||this).Kd=void 0,r.Kd=n,r}return S(n,t),A(n,[{key:"name",get:function(){return fw.jd}},{key:"Jd",get:function(){return this.Kd}}]),n}(ww);var mw=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.dd+" timed out after "+t.Od+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return fw.Qd}}]),n}(ww),yw=function(t,n){return(yw=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function kw(t,n){function i(){this.constructor=t}yw(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var pw="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var bw=function(){var t=pw.Blob;if(t)try{return new t,function(t,n){return new pw.Blob(t,n)}}catch(t){}var n,i=pw.BlobBuilder||pw.WebKitBlobBuilder||pw.MozBlobBuilder||pw.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Aw="function"==typeof cd?cd:void 0;function Tw(t){return t&&"function"==typeof t.getReader}function Sw(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Tw(i)}catch(t){return!1}}var Ew=function(){function t(t,n){this.Iv=t,this.$d=n}return t.prototype.pull=function(t){var n=this;return this.Iv.read().then(function(i){n.$d&&n.$d(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Iv.cancel(t)},t}();function Iw(t,n){return n.constructor===t?n:new t(new Ew(n.getReader()),{highWaterMark:0})}var Rw=function(){function t(t,n){this.nw=t,this.iw=n}return t.prototype.pull=function(t){return this.nw().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.iw&&this.iw(t)},t}();function Dw(t,n,i){return new t(new Rw(n,i),{highWaterMark:0})}var Nw={searchParams:"URLSearchParams"in pw,iterable:"Symbol"in pw&&"iterator"in Symbol,blob:"FileReader"in pw&&!!bw,formData:"FormData"in pw,arrayBuffer:"ArrayBuffer"in pw,stream:Sw(Aw),streamRequest:"Request"in pw&&"body"in pw.Request.prototype,streamResponse:"Response"in pw&&"body"in pw.Response.prototype,abort:"AbortController"in pw&&"Request"in pw&&"signal"in pw.Request.prototype,encoding:"TextEncoder"in pw&&"TextDecoder"in pw,url:"URL"in pw&&function(t){try{return new pw.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in pw&&/Firefox\//.test(pw.navigator.userAgent)};function Cw(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function Pw(t){return"string"!=typeof t&&(t=String(t)),t}function Bw(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Nw.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Ow=function(){function t(t){var n=this;this.rs={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Nw.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Cw(t),n=Pw(n);var i=t.toLowerCase();if(this.rs.hasOwnProperty(i)){var e=this.rs[i],r=e[1];e[1]=r?r+", "+n:n}else this.rs[i]=[t,n]},t.prototype.delete=function(t){var n=Cw(t).toLowerCase();delete this.rs[n]},t.prototype.get=function(t){var n=Cw(t).toLowerCase();return this.rs.hasOwnProperty(n)?this.rs[n][1]:null},t.prototype.has=function(t){var n=Cw(t).toLowerCase();return this.rs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Cw(t)).toLowerCase();this.rs[i]=[t,Pw(n)]},t.prototype.forEach=function(t,n){for(var i in this.rs)this.rs.hasOwnProperty(i)&&t.call(n,this.rs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Bw(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Bw(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Bw(t)},t.prototype.asList=function(){var t=[];for(var n in this.rs)if(this.rs.hasOwnProperty(n)){var i=this.rs[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function xw(){}Nw.iterable&&(Ow.prototype[Symbol.iterator]=Ow.prototype.entries);var Lw,Mw,Uw,Xw=w.min,Hw=String.fromCharCode,Fw=16384;function zw(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Fw){var r=Xw(e+Fw,n);i.push(Hw.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Vw(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ww(t,n){return t>>n&63|128}function Gw(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Vw(t),n.push(t>>12&15|224),n.push(Ww(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ww(t,12)),n.push(Ww(t,6))),n.push(63&t|128)):n.push(t)}function qw(){if(Uw>=Mw)throw new v("Invalid byte index");var t=255&Lw[Uw];if(Uw++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Yw(){var t,n;if(Uw>Mw)throw new v("Invalid byte index");if(Uw===Mw)return!1;if(t=255&Lw[Uw],Uw++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|qw())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|qw()<<6|qw())>=2048)return Vw(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|qw()<<12|qw()<<6|qw())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var jw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Qw(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Zw(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Kw(t){return t&&DataView.prototype.isPrototypeOf(t)}var Jw,$w=ArrayBuffer.isView||function(t){return t&&(jw.indexOf(d.prototype.toString.call(t))>-1||Kw(t))};function t_(t){if(t.bodyUsed)return We.reject(new l("Already used"));t.bodyUsed=!0}function n_(t){return new We(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function i_(t){return Nw.encoding?new pw.TextDecoder("utf-8").decode(new y(t)):zw(function(t){Mw=(Lw=t).length,Uw=0;for(var n,i=[];!1!==(n=Yw());)i.push(n);return i}(new y(t)))}function e_(t){return Nw.encoding?(new pw.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Gw(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function r_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?We.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function s_(t){return r_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function u_(t){return t.slice?t.slice(0):o_(new y(t))}function o_(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function a_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function h_(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.ew===Jw.uw){if(!n.ow.tee)throw new v("could not clone ReadableStream body");var i=n.ow.tee(),e=i[0],r=i[1];return n.body=e,n.ow=e,n.aw=e,r}return n.ew===Jw.hv?u_(n.ow):n.ew===Jw.Ul?n.ow.then(h_):n.aw}!function(t){t[t.$n=0]="$n",t[t.hw=1]="hw",t[t.cw=2]="cw",t[t.hv=3]="hv",t[t.uw=4]="uw",t[t.Ul=5]="Ul"}(Jw||(Jw={}));var c_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.aw=n||null,n)if("string"==typeof n)this.ew=Jw.$n,this.ow=n;else if((s=n)&&"function"==typeof s.then)this.ew=Jw.Ul,this.ow=We.resolve(n).then(function(n){return new t(n,i)}),this.ow.catch(xw);else if(Nw.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.ew=Jw.hw,this.ow=n;else if(Nw.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.ew=Jw.cw,this.ow=n;else if(Nw.searchParams&&Qw(n))this.ew=Jw.$n,this.ow=n.toString();else if(Nw.arrayBuffer&&(Zw(n)||$w(n)))Kw(n)&&(this.aw=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.ew=Jw.hv,this.ow=Zw(e=n)?u_(e):o_(e);else{if(!Nw.stream||!Tw(n))throw new v("unsupported BodyInit type");n=Iw(Aw,n),this.ew=Jw.uw,this.ow=n,this.aw=n}else this.ew=Jw.$n,this.ow="";this.fw="",i.has("content-type")?this.fw=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.fw="text/plain;charset=UTF-8":u.ew===Jw.hw&&u.ow.type?this.fw=u.ow.type:Nw.searchParams&&Qw(n)&&(this.fw="application/x-www-form-urlencoded;charset=UTF-8"),this.fw&&i.set("content-type",this.fw)),Nw.stream&&(null==n?this.body=null:u.ew===Jw.uw?this.body=u.ow:this.body=Dw(Aw,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=t_(this);return e||(this.ew===Jw.hw?(t=this.ow,n=new FileReader,i=n_(n),n.readAsText(t),i):this.ew===Jw.hv?We.resolve(this.ow).then(i_):this.ew===Jw.uw?s_(this.ow).then(i_):this.ew===Jw.Ul?this.ow.then(function(t){return t.text()}):this.ew===Jw.cw?We.reject(new v("could not read FormData body as text")):We.resolve(this.ow))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Nw.blob&&(c_.prototype.blob=function(){var t,n,i=t_(this);return i||(this.ew===Jw.hw?We.resolve(this.ow):this.ew===Jw.hv?We.resolve(bw([this.ow],{type:this.fw})):this.ew===Jw.uw?(t=this.ow,n=this.fw,r_(t).then(function(t){return bw(t,{type:n||""})})):this.ew===Jw.Ul?this.ow.then(function(t){return t.blob()}):this.ew===Jw.cw?We.reject(new v("could not read FormData body as Blob")):We.resolve(bw([this.ow],{type:this.fw})))}),Nw.arrayBuffer&&(c_.prototype.arrayBuffer=function(){var t,n,i;return this.ew===Jw.hv?t_(this)||We.resolve(this.ow):this.ew===Jw.hw?t_(this)||(t=this.ow,n=new FileReader,i=n_(n),n.readAsArrayBuffer(t),i):this.ew===Jw.uw?s_(this.ow):this.ew===Jw.Ul?t_(this)||this.ow.then(function(t){return t.arrayBuffer()}):this.ew===Jw.cw?We.reject(new v("could not read FormData body as ArrayBuffer")):We.resolve(this.ow).then(e_)}),Nw.formData&&(c_.prototype.formData=function(){return this.ew===Jw.cw?t_(this)||We.resolve(this.ow):this.text().then(a_)});var f_=[301,302,303,307,308],v_=function(t){function n(n,i){var e=this,r=new Ow((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return kw(n,t),n.prototype.clone=function(){return new n(h_(this),{status:this.status,statusText:this.statusText,headers:new Ow(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===f_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(c_);var l_,d_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),d.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(l_=d_)&&l_.__esModule&&d.prototype.hasOwnProperty.call(l_,"default")&&l_.default,d_.AbortSignal;var w_=d_.AbortController,__=pw.DOMException;try{new __}catch(t){(__=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),__.prototype.constructor=__}var g_=w_;function m_(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function y_(t,n,i){return new We(function(e,r){if(n.signal.aborted)return t.catch(xw),r(k_());var s=function(){n.signal.removeEventListener("abort",s),r(k_())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function k_(){return new __("Aborted","AbortError")}var p_,b_="moz-chunked-arraybuffer";function A_(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(p_||(p_={}));var T_=function(){function t(t,n){var i=this;this.vw=!1,this.Zd=t,this.lw=n,this.dw=new p,this.ww=new We(function(t,n){i._w=t,i.gw=n})}return t.prototype.send=function(){var t=this;return this.mw().then(function(n){return t.yw(n,t.lw),t.ww})},t.prototype.mw=function(){var t=this.Zd;return t.ew===Jw.uw?t.arrayBuffer():We.resolve(t.aw)},t.prototype.pw=function(t){this.Zd.onprogress&&this.Zd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.bw=function(t){this.gw(t)},t.prototype.Aw=function(){this.bw(new l("Network request failed"))},t.prototype.Tw=function(){this.bw(new l("Network request failed"))},t.prototype.Sw=function(){this.bw(k_())},t.prototype.yw=function(t,n){var i=this,e=this.Zd,r=this.dw,s=function(){return i.Ew()};if(e.signal.aborted)return this.Sw();r.onreadystatechange=function(){if(r.readyState>=p_.HEADERS_RECEIVED&&!i.vw){var t=function(t){var n=new Ow;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.vw=!0,i.Iw(n)}},r.onprogress=function(t){return i.pw(t)},r.onload=function(){return i.Rw()},r.onerror=function(){return i.Aw()},r.ontimeout=function(){return i.Tw()},r.onabort=function(){return i.Sw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Ew=function(){this.Sw(),this.dw.abort()},t}(),S_=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Dw=void 0,e.Nw=void 0,e}return kw(n,t),n.prototype.Iw=function(t){var n=this;this.Dw=new We(function(t,i){n.Nw=t,n.Cw=i}),this._w(new v_(this.Dw,t))},n.prototype.Rw=function(){var t=this.dw.response;if(null==t){var n=this.lw;""===n||"text"===n?t=this.dw.responseText:"document"===n?t=this.dw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=bw([]))}this.Nw(t)},n.prototype.bw=function(n){t.prototype.bw.call(this,n),this.Cw&&this.Cw(n)},n}(T_),E_=function(t){function n(n){var i=t.call(this,n,b_)||this;return i.Pw=void 0,i.Bw=void 0,i.Ow=!1,i}return kw(n,t),n.prototype.Iw=function(t){var n=this;this.Pw=new Aw({start:function(t){n.Bw=t},cancel:function(){n.Ow=!0,n.Ew()}}),this._w(new v_(this.Pw,t))},n.prototype.pw=function(n){this.Ow||this.Bw.enqueue(new y(this.dw.response)),t.prototype.pw.call(this,n)},n.prototype.Rw=function(){this.Bw.close()},n.prototype.bw=function(n){t.prototype.bw.call(this,n),this.Bw&&!this.Ow&&(this.Ow=!0,this.Bw.error(n))},n}(T_),I_=function(){var t=Nw.firefox&&A_(b_);return I_=function(){return t},t},R_=function(){var t;return t=Nw.arrayBuffer&&A_("arraybuffer")?"arraybuffer":Nw.blob&&A_("blob")?"blob":"",R_=function(){return t},t};function D_(t){return(Nw.stream&&I_()?new E_(t):new S_(t,R_())).send()}var N_=pw.fetch,C_=pw.Request;pw.Response;var P_=pw.AbortController;var B_=["http:","https:"];var O_=function(){try{if(Nw.streamRequest){var t=new C_("about:blank",{body:"",method:"POST"}).body;if(t&&Sw(t.constructor))return t.constructor}}catch(t){}}();function x_(t,n,i){var e;if(Nw.stream){var r=void 0;if(Nw.streamResponse){var s=t.body;r=s&&Iw(Aw,s)}else r=Dw(Aw,function(){return y_(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Ew(n.getReader(),i),{highWaterMark:0})}(Aw,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,L_(t.headers))),e=r}else{var u=y_(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return We.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,L_(t.headers))),e=u}return new v_(e,t)}function L_(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function M_(t){var n=new g_;return t.signal&&m_(n,t.signal),function(t,n){var i,e,r=t;if(i=r.ew===Jw.uw?Nw.streamRequest&&O_?We.resolve(Iw(O_,r.ow)):y_(t.arrayBuffer(),n,!1):y_(We.resolve(t.aw),n,!1),Nw.abort){var s=new P_;m_(s,n.signal),e=s.signal}return i.then(function(n){return new C_(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Ow?i:new Ow(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return N_(i).then(function(i){return x_(i,n,t.onprogress)})})}var U_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var X_=function(t){function n(i,e){var r,s,u,o,a,h,c,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new Ow(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.aw||(w=i.aw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new Ow(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return U_.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new g_).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return kw(n,t),n.prototype.clone=function(){return new n(this,{body:h_(this)})},n}(c_),H_="function"==typeof N_&&Nw.stream&&Nw.streamResponse&&Nw.url;function F_(t,n){return new We(function(i){var e=new X_(t,n);i((H_&&function(t){try{return B_.indexOf(new pw.URL(t,pw.location.href).protocol)>=0}catch(t){return!1}}(e.url)?M_:D_)(e))})}F_.polyfill=!0;var z_=function(){function t(t){this.Jd=void 0,this.Zd=void 0,this.qc=new Ks,this.Kd=void 0,this.xw=!1,this.Zd=t,this.qc.Gs(t.Ys),this.Jd=this.Lw()}var n=t.prototype;return n.Lw=function(){var t,n,e,r,s,u,o,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Zd).Od&&a(function(){c.xw=!0,c.qc.Ws()},t.Od),f.prev=2,n=F_(t.dd,{method:t.Bd,headers:t.ud.wv(),body:t.Gl,credentials:t.Md?"include":"same-origin",signal:G_(this.qc.Ys),onprogress:t.Ud}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new _w(t,f.t0);case 9:return f.prev=9,f.next=12,Dr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),$s(r=this.Mw(f.t1))&&this.qc.Ws(),r;case 20:if(s=e.url||t.dd,u=0===e.status&&"file:"===(v=s,i.Lr(v).protocol)?200:e.status,o=new V_(this,e,this.qc),h=new sw({Fi:o,vd:t,od:t.od,ud:new Ef(e.headers.asList()),rd:u,hd:e.statusText,ld:s}),this.Kd=h,!tw(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new gw(h);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],We)},n.Mw=function(t){return $s(t)?this.xw?new mw(this.Zd):new Js(t.message,t):this.Kd?new gw(this.Kd,t):new _w(this.Zd,t)},t}(),V_=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Uw=void 0,r.Xw=void 0,r.qc=void 0,r.Ql=new Wo,r.Uw=n,r.Xw=i,r.qc=e,r.Ql.Wu.catch(K),r}S(n,t);var i=n.prototype;return i.Kl=function(){return this.Ql.Wu},i.Hl=function(t){return this.Jl(this.Xw.text(),t)},i.zl=function(t){return this.Jl(this.Xw.arrayBuffer(),t)},i.Vl=function(){var t=this.Xw.body;return t?this.$l(t):Md(this.zl().then(xd),this.qc)},i.td=function(){var t=this.Xw.clone(),i=this.qc.qs(),e=i[0],r=i[1];return this.qc=e,new n(this.Uw,t,r)},i.Jl=function(t,n){var i=this;n&&this.qc.Gs(n);var e=We.resolve(t).catch(function(t){throw i.Uw.Mw(t)});return e=ru(e,this.qc),this.Ql.ju(e.then(K)),e},i.$l=function(t){var n=this,i=new kd,e=We.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Uw.Mw(t);throw i.writable.abort(e).catch(K),e});return e=ru(e,this.qc),this.Ql.ju(e.then(K)),i.readable},A(n,[{key:"ed",get:function(){return this.Xw.bodyUsed}}]),n}(Vd),W_="abort";function G_(t){var n=new g_;if(t.Bs)n.abort();else if(!t.Os){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(W_,i),t.Hs(i),t.zs(e)};n.signal.addEventListener(W_,i),t.Xs(i),t.Fs(e)}return n.signal}function q_(t,n,i){return new We(function(e,r){if(i&&i.Bs)return r(new Js);var s=function(t){o(),e(t)},u=function(){o(),r(new Js)},o=function(){t.removeEventListener(n,s),i&&i.Hs(u)};t.addEventListener(n,s),i&&i.Xs(u)})}var Y_,j_,Q_=function(){function t(){}var n=t.prototype;return n.vd=function(t){return new z_(t).Jd},n.Xd=function(t){if(we&&we.sendBeacon)we.sendBeacon(t.dd,bf([t.Gl],{type:t.Wl}));else{var n=t.Wl?{"Content-type":t.Wl}:void 0;au(this.vd(new uw({Bd:nw.POST,dd:t.dd,Gl:t.Gl,ud:n})))}},n.Jc=function(){},t}();Y_=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Hw=void 0,i.Fw=function(){if(M.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.zw=M.Xn||M.fn,i.Vw=(M.Xn||M.fn)&&!(M.Tn&&M.Sn<3),i.Ww=void 0,i}return S(i,n),A(i,[{key:"Dr",get:function(){return this.Hw||(this.Hw=new Es(mf())),this.Hw}},{key:"Gw",get:function(){return this.Fw}},{key:"qw",get:function(){return this.zw}},{key:"Yw",get:function(){return this.Vw}},{key:"jw",get:function(){return!1}},{key:"Qw",get:function(){return kf.pf()}},{key:"Zw",get:function(){return{Kw:Af}}},{key:"Jw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"$w",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"t_",get:function(){return this.Ww||(this.Ww=new aw(new Q_)),this.Ww}}]),i}(Er)),i=Y_,function(t){t.n_="i_",t.e_="r_"}(j_||(j_={})),j_.n_,j_.e_;var Z_=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).s_=void 0,e}return S(n,t),A(n,[{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}}]),n}(_u);function K_(t){return Boolean(t&&t.u_)}var J_,$_=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Z_),tg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(_u),ng=function(t){function n(n){var i;return(i=t.call(this,j_.n_)||this).a_=n,i}return S(n,t),n.prototype.o_=function(){return new ig(this.a_.u_)},n}($_),ig=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(tg),eg=function(t){function n(n){var i;return(i=t.call(this,j_.e_)||this).a_=n,i}return S(n,t),n.prototype.o_=function(){return new rg(this.a_.u_)},n}($_),rg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(tg);!function(t){t.h_="c_",t.f_="v_",t.l_="d_",t.w_="__",t.g_="m_",t.y_="k_",t.p_="b_",t.A_="T_",t.S_="$h",t.E_="I_",t.R_="D_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(J_||(J_={}));var sg=function(t){function n(){var n;return(n=t.call(this)||this).N_=[],n.s_=void 0,n}S(n,t);var i=n.prototype;return i.C_=function(t){return this.N_[t]},i.P_=function(t){return!(!t||Hs(this.N_,t))&&(this.N_.push(t),this.s_&&this.s_.push(t.u_),t.$s(J_.y_,this.Ks),this.Js(new ng(t)),!0)},i.B_=function(t){if(!t)return!1;var n=this.N_.indexOf(t);return!(n<0)&&(Xs(this.N_,n),this.s_&&Xs(this.s_,n),t.ou(J_.y_,this.Ks),this.Js(new eg(t)),!0)},i.O_=function(t){return Hs(this.N_,t)},i.dc=function(){for(var t=this.N_,n=t.length-1;n>=0;n-=1)this.B_(t[n])},i.Jc=function(){this.dc(),this.uu()},A(n,[{key:"x_",get:function(){return this.N_}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}},{key:"L_",get:function(){return this.N_.length}}]),n}(du),ug=function(t){function n(n){var i;return(i=t.call(this,J_.y_)||this).a_=n,i}return S(n,t),n.prototype.o_=function(){return new og(this.a_.u_)},n}($_),og=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(tg),ag=function(t){function n(){var n;return(n=t.call(this)||this).M_=void 0,n.U_=function(t){var i=t.a_;n.P_(i)},n.X_=function(t){var i=t.a_;n.B_(i)},n}S(n,t);var i=n.prototype;return i.H_=function(t){t.$s(j_.n_,this.U_),t.$s(j_.e_,this.X_)},i.F_=function(t){t.ou(j_.n_,this.U_),t.ou(j_.e_,this.X_)},i.Jc=function(){this.M_&&this.M_.Jc(),t.prototype.Jc.call(this)},A(n,[{key:"z_",get:function(){return this.M_},set:function(t){var n=this.M_;if(t!==n){if(n){this.F_(n);for(var i=0,e=n.x_;i<e.length;i++){var r=e[i];t&&t.O_(r)||this.B_(r)}}if(this.M_=t,t){for(var s=[],u=0,o=t.x_;u<o.length;u++){var a=o[u];this.P_(a),this.V_(a)&&s.push(a)}this.H_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Js(new ug(c))}}}}}]),n}(sg),hg=d.freeze||J;function cg(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function fg(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function vg(t){if(G(t)){var n={};for(var i in t)U.call(t,i)&&(n[i]=vg(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=vg(t[r]));return e}return t}function lg(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!lg(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!U.call(n,s)||!lg(t[s],n[s]))return!1}return!0}(t,n)))}function dg(t,n){return t.constructor===n.constructor}function wg(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function _g(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function gg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function mg(t){var n=gg(t);if(m(n))throw new v("Expected a valid number.");return n}function yg(t){return"string"==typeof t?t:""}function kg(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function pg(t,n){return V(t)?kg(t,n):n(t)}var bg=[j_.n_,j_.e_,J_.y_];function Ag(t){var n,i=t.x_.map(function(t){return t.u_});return i.item=function(n){var i=0|n,e=t.C_(i);return e&&e.u_||void 0},i.addEventListener=function(t,i){n.$s(t,i)},i.removeEventListener=function(t,i){n.ou(t,i)},n=new wu(i),t.$s(bg,function(t){return n.Js(t.u_)}),i}function Tg(){}function Sg(t){var n,i=[J_.S_,J_.y_,J_.E_,J_.R_,J_.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.W_&&t.W_.u_},get enabled(){return t.G_},set enabled(n){t.G_=_g(n)},get id(){return t.q_},get uid(){return t.Y_},get kind(){return t.j_},get label(){return t.Q_},set label(n){t.Q_=yg(n)},get language(){return t.Z_},get qualities(){return t.K_.u_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.K_.x_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.u_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.J_=i:t.J_=void 0},get targetQuality(){if(t.J_)return 1===t.J_.length?t.J_[0].u_:t.J_.map(function(t){return t.u_})},addEventListener:function(t,i){var e=pg(t,yg);n.$s(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.ou(e,i)}};return n=new wu(e),t.$s(i,function(t){return n.Js(t.u_)}),d.defineProperty(e,"constructor",{value:Tg}),e}function Eg(){}function Ig(t){var n=Ag(t);return d.defineProperty(n,"constructor",{value:Eg}),n}var Rg,Dg,Ng=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.o_=function(){return Ig(this)},i.V_=function(t){return t.G_},n}(ag);function Cg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Rg.eg:case Rg.rg:case Rg.og:return n}}else if("number"==typeof t)switch(t){case 0:return Rg.eg;case 1:return Rg.rg;case 2:return Rg.og}return Rg.eg}function Pg(){}function Bg(t){var n,i=[J_.y_,J_.S_,J_.h_,J_.f_,J_.l_,J_.w_,J_.g_,J_.p_,J_.A_],e=[Dg.ag],r={get kind(){return t.j_},get label(){return t.Q_},set label(n){t.Q_=yg(n)},get language(){return t.Z_},get id(){return t.q_},get uid(){return t.Y_},get inBandMetadataTrackDispatchType(){return t.hg},get mode(){return t.cg},set mode(n){n!==Rg.og&&n!==Rg.rg&&n!==Rg.eg||t.fg(n)},get forced(){return Boolean(t.vg)},get type(){return t.ds},get readyState(){return Lg(t.dg)},get cues(){return t.cg===Rg.eg?null:t.wg.u_},get activeCues(){return t.cg===Rg.eg?null:t._g.u_},get src(){return t.gg||""},addEventListener:function(t,i){var e=pg(t,yg);n.$s(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.ou(e,i)}};return n=new wu(t),t.$s(i,function(t){return n.Js(t.u_)}),t.$s(e,function(t){return n.Js(t)}),d.defineProperty(r,"constructor",{value:Pg}),r}function Og(){}function xg(t){var n=Ag(t);return d.defineProperty(n,"constructor",{value:Og}),n}function Lg(t){return t}!function(t){t.eg="disabled",t.rg="hidden",t.og="showing"}(Rg||(Rg={})),function(t){t.ag="error"}(Dg||(Dg={}));var Mg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.o_=function(){return xg(this)},i.V_=function(t){return t.cg===Rg.og},n}(ag),Ug=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.nu=function(n){t.prototype.nu.call(this,n)},i.vu=function(n){t.prototype.vu.call(this,n)},n}(du),Xg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Ug),Hg=function(t){function n(){return t.call(this,Tf.Bf)||this}return S(n,t),n}(_u),Fg=function(t){function n(n){var i;return(i=t.call(this,Tf.Rf)||this).currentSource=n,i}return S(n,t),n}(_u),zg=function(){function t(){}return t.yg=function(n,i){var e=t.pg(n,i);return e?t.Ag(e):0},t.Tg=function(){return i.Jw||"default"},t.Sg=function(){return i.$w||"unknown"},t.pg=function(n,e){var r,s=null==(r=i.Qw)?void 0:r.Nu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Eg(u,n,e)},t.Ag=function(t){var n=t.availableBandwidth;return n||0},t.Eg=function(n,i,e){if(!t.Ig(n,i))return n[i];t.Rg(n,i,e)},t.Rg=function(t,n,e){var r;delete t[n],null==(r=i.Qw)||r.kf(e,JSON.stringify(t))},t.Ig=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Dg=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Ng=function(n){var i=t.Tg();t.Cg(i,"theoplayer-stored-network-info",n,Vt())},t.Cg=function(n,e,r,s){var u,o,a=null==(u=i.Qw)?void 0:u.Nu(e),h=a?JSON.parse(a):void 0,c=t.Dg(h,n,r,s);null==(o=i.Qw)||o.kf(e,JSON.stringify(c))},t.Pg=function(){var n=t.Tg();return t.yg(n,"theoplayer-stored-network-info")},t}();var Vg,Wg,Gg,qg,Yg,jg,Qg="1ADD53F3";function Zg(t){return{chromecast:function(t){return{appID:t&&t.appID?yg(t.appID):Qg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Vg.AUTO;case"manual":return Vg.MANUAL;case"disabled":return Vg.DISABLED;default:return Vg.MANUAL}}(t?t.strategy:void 0)}}function Kg(t){var n,i=Gg.Bg;return(n=t)&&vs(n,"mpd")&&(i=Gg.Og),function(t){return!!t&&vs(t,"m3u8")}(t)&&(i=Gg.xg),i}function Jg(t){return!!t&&ls(t.toLowerCase(),Gg.Og)}function $g(t){if(!t)return!1;var n=t.toLowerCase();return ls(n,Gg.xg)||ls(n,Gg.Lg)}function tm(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function nm(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function im(t){if(q(t))return!t;if(nm(t))return!t.id;if(tm(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function em(t){return Boolean(W(t)&&q(t.src))}function rm(t){return t.type===Gg.Mg||t.type===Gg.Ug}function sm(t){return q(t)||em(t)||tm(t)||nm(t)}function um(t){if(t){if(sm(t))return im(t);for(var n=0;n<t.length;n++){if(!im(t[n]))return!1}return!0}return!0}function om(){return{crossOrigin:Wg.Xg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function am(){return Nr({},om(),{src:void 0,type:Gg.Bg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function hm(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:qg.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Yg.NONE;case"midroll-and-postroll":default:return Yg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=_g(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return qg.INSECURE;case"disabled":return qg.DISABLED;case"enabled":default:return qg.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleIma&&(n.googleIma=function(t){var n;return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:_g(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1}}(t.googleIma)),n)}function cm(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];G(r)&&n.push(r)}return n}function fm(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Vg||(Vg={})),function(t){t.Xg="",t.Hg="anonymous",t.Fg="use-credentials"}(Wg||(Wg={})),function(t){t.Og="application/dash+xml",t.xg="application/vnd.apple.mpegurl",t.Lg="application/x-mpegurl",t.Bg="video/mp4",t.Mg="application/vnd.theoplayer.hesp+json",t.Ug="application/vnd.theo.hesp+json"}(Gg||(Gg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(qg||(qg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Yg||(Yg={})),function(t){t[t.zg=0]="zg",t[t.Vg=1]="Vg",t[t.Wg=2]="Wg",t[t.Gg=3]="Gg",t[t.qg=4]="qg"}(jg||(jg={}));var vm,lm=function(t){function n(n,i){var e;return void 0===i&&(i=jg.zg),(e=t.call(this,Tf.Cf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),dm=function(t){function n(n){var i;return(i=t.call(this,Tf.Hf)||this).currentTime=n,i}return S(n,t),n}(_u),wm=function(t){function n(n){var i;return(i=t.call(this,Tf.Ff)||this).currentTime=n,i}return S(n,t),n}(_u);!function(t){t.Yg="canplay",t.jg="canplaythrough",t.Qg="loadeddata",t.Zg="loadedmetadata",t.p_="readystatechange",t.Kg="waiting",t.Jg="playing"}(vm||(vm={}));var _m,gm=[vm.Yg,vm.jg,vm.Qg,vm.Zg,vm.p_,vm.Kg,vm.Jg],mm=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Vg),(e=t.call(this,vm.Zg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),ym=function(t){function n(n){var i;return(i=t.call(this,Tf.Nf)||this).duration=n,i}return S(n,t),n}(_u),km=function(t){function n(n,i){var e;return(e=t.call(this,Tf.Vf)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(_u),pm=function(t){function n(n,i){var e;return(e=t.call(this,Tf.tv)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(_u),bm=function(t){function n(n){var i;return(i=t.call(this,Tf.Pf)||this).currentTime=n,i}return S(n,t),n}(_u),Am=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Wg),(e=t.call(this,vm.Qg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Tm=function(t){function n(n){var i;return(i=t.call(this,Tf.Yf)||this).currentTime=n,i}return S(n,t),n}(_u),Sm=function(t){function n(n){var i;return(i=t.call(this,Tf.qf)||this).currentTime=n,i}return S(n,t),n}(_u),Em=function(t){function n(n,i){var e;return(e=t.call(this,Tf.ev)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(_u),Im=function(t){function n(n,i){var e;return void 0===i&&(i=jg.Gg),(e=t.call(this,vm.Yg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Rm=function(t){function n(n,i){var e;return void 0===i&&(i=jg.qg),(e=t.call(this,vm.jg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Dm=function(t){function n(n,i){var e;return(e=t.call(this,vm.p_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(_u),Nm=function(t){function n(n){var i;return(i=t.call(this,Dg.ag)||this).errorObject=n,i}return S(n,t),n.prototype.o_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Z_);function Cm(t){switch(t){case _m.ALL:case _m.CONTENT:return t;default:return _m.NONE}}function Pm(t){var n,e,r,s=vg(t||{});return s.libraryLocation&&(s.libraryLocation=cw(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Zg(s.cast),s.ads=hm(s.ads),s.analytics=cm(s.analytics),s.mutedAutoplay=Cm(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return cw(t)}catch(t){return void i.Ar("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Bm(t){return{$g:t.$g,tm:t.tm,nm:t.nm,bu:t.bu,im:t.im,um:t.um,hm:t.hm,cm:t.cm,dg:t.dg,fm:t.fm,vm:t.vm,lm:t.lm,dm:t.dm}}function Om(t,n,i){if(n!==i){var e=n.$g,r=n.tm,s=n.um,u=n.hm,o=n.cm,a=n.dg,h=n.fm;n.lm,n.vm;var c=n.dm,f=i.$g,v=i.tm,l=i.nm,d=i.im,w=i.um,_=i.hm,g=i.cm,y=i.dg,k=i.fm;i.lm,i.vm;var p=i.dm;a!==jg.zg&&t.Js(new lm(f,y)),_&&!u?t.Js(new dm(f)):!_&&u&&t.Js(new wm(f)),y>=jg.Vg&&t.Js(new mm(f,y)),v===r||m(v)&&m(r)||t.Js(new ym(v)),g!==o&&t.Js(new km(f,g)),f!==e&&t.Js(new pm(f,void 0)),l&&t.Js(new bm(f)),y>=jg.Wg&&t.Js(new Am(f,y)),k&&!h?t.Js(new Tm(f)):!k&&h&&t.Js(new Sm(f)),p===c&&w===s||t.Js(new Em(f,p)),y>=jg.Gg&&t.Js(new Im(f,y)),y>=jg.qg&&t.Js(new Rm(f,y)),y!==a&&t.Js(new Dm(f,y)),d&&t.Js(new Nm(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(_m||(_m={}));var xm=.25,Lm=400,Mm={wm:.2,_m:.45,gm:.7,mm:3,ym:Wm,pm:Gm},Um={wm:.4,_m:.65,gm:1,mm:3,ym:Wm,pm:Gm},Xm={wm:.4,_m:.7,gm:.9,mm:3,ym:Wm,pm:Gm},Hm={wm:.4,_m:.65,gm:1,mm:3,ym:Wm,pm:Gm},Fm={wm:.5,_m:1.125,gm:1.75,mm:2.55,ym:Wm,pm:Gm};function zm(){var t;return t=i.Xr.qe?Hm:i.Xr.Qe?Um:i.Xr.je?"Android"===i.Hr.Fr?Xm:Mm:Fm,i.Hr.zr?function(t){if(i.Hr.zr){var n=(Lm+250)/1e3,e=w.max(n,t.wm),r=w.max(e+xm,t._m),s=w.max(r+xm,t.gm);return{wm:e,_m:r,gm:s,mm:w.max(s+xm,t.mm),ym:Wm,pm:Gm}}return t}(t):t}var Vm,Wm=.92,Gm=1.08;function qm(t){return{goLive:function(){return t.Am()},get isLive(){return t.Tm},get currentServerLiveTime(){return t.Sm},get currentLatency(){return t.Em},get latency(){return t.Im},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.Im=n},get manifest(){return t.Rm},addEventListener:function(n,i){t.$s(jm(n),i)},removeEventListener:function(n,i){t.ou(jm(n),i)}}}!function(t){t[t.eg=0]="eg",t[t.Dm=1]="Dm",t[t.Nm=2]="Nm"}(Vm||(Vm={}));var Ym=["golive"];function jm(t){var n=pg(t,yg);return(q(n)?[n]:n).filter(function(t){return Hs(Ym,t)})}var Qm,Zm=function(t){function n(){var n,i;return(n=t.call(this)||this).M_=void 0,n.s_=void 0,n.Cm={windowStart:(i=zm()).wm,windowEnd:i.gm,target:i._m,maxOffset:i.mm},n.M_=void 0,n}S(n,t);var i=n.prototype;return i.H_=function(t){t.$s(Ym,this.Ks)},i.F_=function(t){t.ou(Ym,this.Ks)},i.Am=function(){var t;null==(t=this.M_)||t.Am()},i.Jc=function(){this.uu(),this.M_&&this.F_(this.M_),this.M_=void 0},A(n,[{key:"z_",get:function(){return this.M_},set:function(t){var n=this.M_;t!==n&&(n&&this.F_(n),t&&this.H_(t),this.M_=t,this.M_&&(this.M_.Im=this.Cm))}},{key:"u_",get:function(){return this.s_||(this.s_=qm(this)),this.s_}},{key:"Sm",get:function(){var t;return null==(t=this.M_)?void 0:t.Sm}},{key:"Em",get:function(){var t;return null==(t=this.M_)?void 0:t.Em}},{key:"Tm",get:function(){return!!this.M_&&this.M_.Tm}},{key:"Im",get:function(){return this.M_?this.M_.Im:this.Cm},set:function(t){this.M_&&(this.M_.Im=t),this.Cm=t}},{key:"Rm",get:function(){var t;return null==(t=this.M_)?void 0:t.Rm}}]),n}(du),Km=function(t){function n(n){var i;return(i=t.call(this)||this).M_=void 0,i.Pm=[],i.Bm=!1,i.Om=new Ng,i.xm=new Ng,i.Lm=new Mg,i.Mm=new Zm,i.Um=!1,i.Xm(n),n.nu(i.Ks),i.M_=n,i.Om.z_=n.Hm,i.xm.z_=n.Fm,i.Lm.z_=n.zm,i.Mm.z_=n.Vm,i}S(n,t);var i=n.prototype;return i.Wm=function(){this.M_.Wm()},i.Gm=function(){this.M_.Gm()},i.qm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hu(this.Pm.map(function(t){return t.qm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},i.Ym=function(){return this.M_.Ym()},i.jm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),i.next=3,Dr.awrap(this.M_.jm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.Qm=function(){return this.z_.Qm()},i.Zm=function(){this.z_.Zm()},i.Km=function(){this.z_.Km()},i.Jm=function(){if(!this.Bm){for(var t=0,n=this.Pm;t<n.length;t++){n[t].Jm()}this.Bm=!0}},i.$m=function(t){this.M_.$m(t)},i.iy=function(){this.M_.iy()},i.ey=function(){this.M_.ey()},i.sy=function(){this.M_.sy()},i.uy=function(){return this.M_.uy()},i.oy=function(){return this.M_.oy()},i.vy=function(){for(var t=[],n=0,i=this.Pm;n<i.length;n++){var e=i[n];t.push.apply(t,e.vy())}return t},i.ly=function(t){for(var n=!1,i=0,e=this.Pm;i<e.length;i++){n=e[i].ly(t)||n}return n},i.Js=function(n){this.ly(n)||t.prototype.Js.call(this,n)},i.Xm=function(t){this.Pm.push(t)},i.wy=function(t){Us(this.Pm,t)},i._y=function(t){if(t!==this.M_){var n=this.M_;n.iy(),n.vu(this.Ks);var i=Bm(this),e=this.gy,r=this.oy();this.M_=t,this.Om.z_=t.Hm,this.xm.z_=t.Fm,this.Lm.z_=t.zm,this.Mm.z_=t.Vm,Om(this,i,this);var s=this.gy;s!==e&&this.Js(new Fg(s)),this.oy()!==r&&this.Js(new Hg),t.nu(this.Ks),t.$m(n)}},i.yy=function(){},i.Jc=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.uu(),this.M_.iy(),t=0,n=this.Pm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Dr.awrap(i.Jc());case 7:t++,e.next=3;break;case 10:this.Om.Jc(),this.xm.Jc(),this.Lm.Jc(),this.Mm.Jc();case 14:case"end":return e.stop()}},null,this,null,We)},i.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hu(this.Pm.map(function(t){return t.dc()})).then(K));case 1:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"Hm",get:function(){return this.Om}},{key:"zm",get:function(){return this.Lm}},{key:"Fm",get:function(){return this.xm}},{key:"py",get:function(){return this.M_.py}},{key:"by",get:function(){return this.M_.by},set:function(t){this.M_.by=t}},{key:"gy",get:function(){return this.M_.gy}},{key:"$g",get:function(){return this.M_.$g},set:function(t){this.M_.$g=t}},{key:"tm",get:function(){return this.M_.tm}},{key:"Ay",get:function(){return this.M_.Ay}},{key:"nm",get:function(){return this.M_.nm}},{key:"bu",get:function(){return this.M_.bu}},{key:"im",get:function(){return this.M_.im}},{key:"Vm",get:function(){return this.Mm}},{key:"Ty",get:function(){return this.M_.Ty}},{key:"Sy",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Ey,i+=a.Iy,e+=a.Ry,r+=a.Dy,s+=a.Ny,u.amountOfBufferedAudioSegments+=a.Cy.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Cy.amountOfBufferedVideoSegments}return{Ey:n,Iy:i,Ry:e,Dy:r,Ny:s,Cy:u}}(this.Pm.map(function(t){return t.Sy}))}},{key:"um",get:function(){return this.M_.um},set:function(t){this.M_.um=t}},{key:"Py",get:function(){return this.M_.Py}},{key:"hm",get:function(){return this.M_.hm}},{key:"cm",get:function(){return this.M_.cm},set:function(t){this.M_.cm=t}},{key:"By",get:function(){return this.M_.By}},{key:"Oy",get:function(){return this.M_.Oy},set:function(t){this.M_.Oy=t}},{key:"dg",get:function(){return this.M_.dg}},{key:"xy",get:function(){return this.M_.xy}},{key:"fm",get:function(){return this.M_.fm}},{key:"vm",get:function(){return this.M_.vm}},{key:"lm",get:function(){return this.M_.lm}},{key:"dm",get:function(){return this.M_.dm},set:function(t){this.M_.dm=t}},{key:"Ly",get:function(){return this.M_.Ly}},{key:"My",get:function(){return!1},set:function(t){}},{key:"z_",get:function(){return this.M_},set:function(t){this._y(t)}}]),n}(Xg),Jm=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(tf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Qm||(Qm={}));var $m=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Kt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Jt);function ty(t){cg(t,"MEDIA_ERR_ABORTED",Qm.ABORTED),cg(t,"MEDIA_ERR_NETWORK",Qm.NETWORK),cg(t,"MEDIA_ERR_DECODE",Qm.DECODE),cg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Qm.SRC_NOT_SUPPORTED),cg(t,"MEDIA_ERR_ENCRYPTED",Qm.ENCRYPTED)}function ny(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new $m(Qm.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new $m(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Qm.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Qm.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Qm.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Qm.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Qm.NETWORK;if(i===n.ErrorCategory.SOURCE)return Qm.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Qm.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Qm.ENCRYPTED;if(i===n.ErrorCategory.AD)return Qm.ADVERTISEMENT_ERROR;return Qm.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}ty($m),ty($m.prototype);var iy,ey=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.P_=function(n){return t.prototype.P_.call(this,n)},i.o_=function(){return Ig(this)},n}(sg);!function(t){t.Nd="audio",t.Cd="video",t.$n="text",t.Pd="image",t._d="unknown"}(iy||(iy={}));var ry=function(){function t(){this.Uy=[],this.s_=void 0}var n=t.prototype;return n.Xy=function(t){this.Uy.push(t),this.s_&&this.s_.push(t.u_)},n.Jh=function(t){Us(this.Uy,t),this.s_&&Us(this.s_,t.u_)},n.C_=function(t){return this.Uy[t]},n.Hy=function(t){return z(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Hs(t,n[i]))return!1;return!0}(this.Uy,t):Hs(this.Uy,t)},n.dc=function(){Fs(this.Uy),this.s_&&Fs(this.s_)},A(t,[{key:"x_",get:function(){return this.Uy}},{key:"L_",get:function(){return this.Uy.length}},{key:"u_",get:function(){var t,n;return this.s_||(this.s_=((n=(t=this).x_.map(function(t){return t.u_})).item=function(n){var i=0|n,e=t.C_(i);return e&&e.u_||void 0},n)),this.s_}}]),t}(),sy=function(t){function n(n){var i;return(i=t.call(this,J_.S_)||this).a_=n,i}return S(n,t),n.prototype.o_=function(){return new uy(this.a_.u_)},n}($_),uy=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(tg),oy=0;function ay(){return oy++}var hy=0;var cy=0;function fy(){return cy++}var vy=0;function ly(){return vy++}var dy=0;var wy=function(t){function n(n){var i;return(i=t.call(this)||this).ds=iy.Nd,i.Fy=void 0,i.Mh=void 0,i.zy=void 0,i.Vy=void 0,i.Wy=!1,i.Uy=void 0,i.s_=void 0,i.Fy=n,i.Vy=ay(),i.Mh=dy+++"",i.zy=n.label,i.Uy=new ry,i.Gy(),i}S(n,t);var i=n.prototype;return i.qy=function(t){this.G_=t},i.Gy=function(){this.G_=this.Yy},A(n,[{key:"W_",get:function(){}},{key:"G_",get:function(){return this.Wy},set:function(t){this.Wy!==t&&(this.Wy=t,this.Yy=t,this.Js(new ug(this)))}},{key:"Yy",get:function(){return this.Fy.enabled},set:function(t){this.Fy.enabled=t}},{key:"u_",get:function(){return this.s_||(this.s_=Sg(this)),this.s_}},{key:"q_",get:function(){return this.Mh}},{key:"Y_",get:function(){return this.Vy}},{key:"j_",get:function(){return this.Fy.kind}},{key:"Q_",get:function(){return this.zy},set:function(t){t!==this.zy&&(this.zy=t,this.Js(new sy(this)))}},{key:"Z_",get:function(){return this.Fy.language}},{key:"cg",get:function(){return this.G_?"enabled":"disabled"}},{key:"jy",get:function(){return this.Fy}},{key:"K_",get:function(){return this.Uy}},{key:"J_",get:function(){},set:function(t){}}]),n}(du),_y=0;var gy,my,yy,ky=function(t){function n(n){var i;return(i=t.call(this)||this).ds=iy.Cd,i.Fy=void 0,i.Mh=void 0,i.Vy=void 0,i.Wy=!1,i.Uy=void 0,i.zy=void 0,i.s_=void 0,i.Fy=n,i.Vy=ay(),i.Mh=_y+++"",i.Uy=new ry,i.zy=n.label,i.Gy(),i}S(n,t);var i=n.prototype;return i.Gy=function(){this.G_=this.Yy},i.qy=function(t){this.G_=t},A(n,[{key:"W_",get:function(){}},{key:"G_",get:function(){return this.Wy},set:function(t){this.Wy!==t&&(this.Wy=t,this.Yy=t,this.Js(new ug(this)))}},{key:"Yy",get:function(){return!!this.Fy.selected},set:function(t){this.Fy.selected=t}},{key:"u_",get:function(){return this.s_||(this.s_=Sg(this)),this.s_}},{key:"q_",get:function(){return this.Mh}},{key:"Y_",get:function(){return this.Vy}},{key:"j_",get:function(){return"main"}},{key:"Q_",get:function(){return this.zy},set:function(t){t!==this.zy&&(this.zy=t,this.Js(new sy(this)))}},{key:"Z_",get:function(){return this.Fy.language}},{key:"cg",get:function(){return this.G_?"enabled":"disabled"}},{key:"jy",get:function(){return this.Fy}},{key:"K_",get:function(){return this.Uy}},{key:"J_",get:function(){},set:function(t){}}]),n}(du),py=function(t){function n(n){var i;return(i=t.call(this,Tf.bf)||this).Ty=n,i}return S(n,t),n}(_u);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(gy||(gy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(my||(my={})),function(t){t.Qy="cue",t.Zy="region",t.Ky="stylesheet"}(yy||(yy={}));var by,Ay={"line-left":"start",center:"middle","line-right":"end"},Ty={start:"line-left",middle:"center",end:"line-right"};function Sy(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Ey(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.Jy="$y",t.nk="ek",t.S_="$h"}(by||(by={}));var Iy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).rk=i,e}return S(n,t),n}($_),Ry=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(tg);function Dy(t){var n,i=[by.Jy,by.nk,by.S_],e={get track(){return t.a_.u_},get id(){return t.q_},get uid(){return t.Y_},get startTime(){return t.hk},get endTime(){return t.ck},get content(){return t.fk},addEventListener:function(t,i){var e=pg(t,yg);n.$s(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.ou(e,i)}};return n=new wu(e),t.$s(i,function(t){return n.Js(t.u_)}),e}function Ny(){}function Cy(t){return fg(Dy(t),{get align(){return t.vk},get line(){return t.lk},get lineAlign(){return t.dk},get position(){return t.wk},get positionAlign(){return t._k},get region(){return t.gk?t.gk.u_:null},get size(){return t.Ou},get snapToLines(){return t.yk},get text(){return t.fk},get vertical(){return t.pk}})}var Py=function(t){function n(n){return t.call(this,by.S_,n)||this}return S(n,t),n.prototype.o_=function(){return new By(this.rk.u_)},n}(Iy),By=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Ry),Oy=.02;function xy(t,n){return Ut(t.hk,n.hk,Oy)&&Ut(t.ck,n.ck,Oy)&&t.q_===n.q_}var Ly=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Vy=void 0,u.Mh=void 0,u.bk=void 0,u.Ak=void 0,u.s_=void 0,u.Tk=void 0,u.Sk=!1,u.Ek=void 0,u.Ik=void 0,u.Rk=-1,u.Vy=ly(),u.bk=n,u.Ak=i,u.Ek=e,u.Ik=Boolean(r),u.Mh=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.o_=function(){return Dy(this)},i.Dk=function(t){return this===t||dg(this,t)&&xy(this,t)},i.Jc=function(){this.uu()},A(n,[{key:"hk",get:function(){return this.bk},set:function(t){this.bk!==t&&(this.bk=t,this.Js(new Py(this)))}},{key:"ck",get:function(){return this.Ak},set:function(t){this.Ak!==t&&(this.Ak=t,this.Js(new Py(this)))}},{key:"q_",get:function(){return this.Mh}},{key:"Y_",get:function(){return this.Vy}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}},{key:"Nk",get:function(){return this.Sk},set:function(t){this.Sk=t}},{key:"a_",get:function(){return this.Tk},set:function(t){this.Tk=t}},{key:"fk",get:function(){return this.Ek},set:function(t){this.Ek!==t&&(this.Ek=t,this.Js(new Py(this)))}},{key:"Ck",get:function(){return this.Ik},set:function(t){this.Ik=t}}]),n}(du);function My(t,n){return t.fk===n.fk&&t.lk===n.lk&&t.dk===n.dk&&t.wk===n.wk&&t._k===n._k&&t.gk===n.gk&&t.yk===n.yk&&t.Ou===n.Ou&&t.vk===n.vk&&t.pk===n.pk}var Uy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).lk="auto",u.dk="start",u.wk="auto",u._k="auto",u.gk=void 0,u.yk=!0,u.Ou=100,u.vk="center",u.pk="",u}return S(n,t),n.prototype.Dk=function(n){return this===n||dg(this,n)&&t.prototype.Dk.call(this,n)&&My(this,n)},A(n,[{key:"u_",get:function(){return this.s_||(this.s_=Cy(this)),this.s_}},{key:"ds",get:function(){return yy.Qy}}]),n}(Ly);function Xy(t){var n=Z(t.lk)?t.lk:g(t.lk);return m(n)||t.yk||!(n<0||n>100)?m(n)?t.yk?-1:100:n:100}function Hy(t){return Ey(t.wk,t.vk)}function Fy(t){return Sy(t._k,t.vk)}function zy(t){var n,i=Fy(t),e=Hy(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Ou,n)}function Vy(t){return{get id(){return t.q_},get identifier(){return t.q_},get lines(){return t.Pk},get regionAnchorX(){return t.Bk},get regionAnchorY(){return t.Ok},get scrollValue(){return t.xk},get viewportAnchorX(){return t.Lk},get viewportAnchorY(){return t.Mk},get width(){return t.Uk}}}var Wy=function(){function t(t,n,i,e,r,s,u,o){this.s_=void 0,this.q_=t,this.Uk=n,this.Pk=i,this.Bk=e,this.Ok=r,this.Lk=s,this.Mk=u,this.xk=o}return A(t,[{key:"u_",get:function(){return this.s_||(this.s_=Vy(this)),this.s_}},{key:"ds",get:function(){return yy.Zy}}]),t}(),Gy=function(){function t(){}var n=t.prototype;return n.Xk=function(t){return this.Hk()*t},n.Fk=function(t){return this.zk(t)>0},n.Vk=function(t){return this.zk(t)>=0},n.Wk=function(t,n){return this.qk(t).Gk(n)},n.Dk=function(t){return 0===this.zk(t)},n.Yk=function(t){return this.zk(t)<0},n.Gk=function(t){return this.zk(t)<=0},n.jk=function(){return this.Qk()?this.Zk():this},n.Kk=function(t){return this.Xy(t.Zk())},n.qk=function(t){return this.Kk(t).jk()},t}();function qy(t,n){return t.Jk()?n.Jk()?Ss.Ns:Ss.Cs:n.Jk()?Ss.Ps:t.$k()?n.$k()&&t.Qk()===n.Qk()?Ss.Ns:t.Qk()?Ss.Ps:Ss.Cs:n.Qk()?Ss.Cs:Ss.Ps}var Yy=function(){function t(t,n){this.tp=void 0,this.np=void 0,this.tp=t,this.np=n}t.ip=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.ep=function(n){return n.unsigned?new t(n,ft.UZERO):new t(n,n.isNegative()?ft.NEG_ONE:ft.ZERO)},t.rp=function(n,i){if(m(n))return i?t.sp:t.op;if(i){if(n<0)return t.sp;if(n>=3.402823669209385e38)return t.ap}else{if(n<=-1.7014118346046923e38)return t.hp;if(n+1>=1.7014118346046923e38)return t.cp}return n<0?t.rp(-n,i).Zk():t.ip(ft.fromNumber(n%0x10000000000000000),ft.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.fp=function(){return this.np.unsigned},n.vp=function(){return this.tp.isZero()&&this.np.isZero()},n.Qk=function(){return this.np.isNegative()},n.lp=function(){return this.fp()?t.ip(this.tp,this.np,!1):this},n.dp=function(){return this.fp()?this:t.ip(this.tp,this.np,!0)},n.wp=function(){return this.tp},n.Hk=function(){return this.Qk()?-this.Zk().Hk():0x10000000000000000*this.np.toNumber()+this.tp.toUnsigned().toNumber()},n._p=function(){return this.tp.toInt()},n.Dk=function(t){return(this.fp()===t.fp()||this.np.getHighBits()>>>31!=1||t.np.getHighBits()>>>31!=1)&&(this.np.toUnsigned().eq(t.np.toUnsigned())&&this.tp.toUnsigned().eq(t.tp.toUnsigned()))},n.zk=function(t){if(this.Dk(t))return Ss.Ns;var n=this.Qk(),i=t.Qk();if(n&&!i)return Ss.Ps;if(!n&&i)return Ss.Cs;if(!this.fp())return this.Kk(t).Qk()?Ss.Ps:Ss.Cs;var e=this.dp(),r=t.dp(),s=r.np.comp(e.np);return s>0||0===s&&r.tp.gt(e.tp)?Ss.Ps:Ss.Cs},n.Yk=function(t){return this.zk(t)<0},n.Gk=function(t){return this.zk(t)<=0},n.gp=function(t){return this.zk(t)>0},n.mp=function(t){return this.zk(t)>=0},n.yp=function(){return new t(this.tp.not(),this.np.not())},n.kp=function(n){return new t(this.tp.and(n.tp),this.np.and(n.np))},n.pp=function(n){return new t(this.tp.or(n.tp),this.np.or(n.np))},n.bp=function(n){var i=127&n;return 0===i?this:i<64?t.ip(this.tp.shl(i),this.np.shl(i).or(this.tp.shru(64-i)),this.fp()):t.ip(ft.ZERO,this.tp.shl(i-64),this.fp())},n.Ap=function(n){var i=127&n;return 0===i?this:i<64?t.ip(this.tp.shru(i).or(this.np.shl(64-i)),this.np.shr(i),this.fp()):t.ip(this.np.shr(i-64),this.np.isNegative()?ft.NEG_ONE:ft.ZERO,this.fp())},n.Tp=function(n){var i=127&n;return 0===i?this:i<64?t.ip(this.tp.shru(i).or(this.np.shl(64-i)),this.np.shru(i),this.fp()):64===i?t.ip(this.np,ft.ZERO,this.fp()):t.ip(this.np.shru(i-64),ft.ZERO,this.fp())},n.Xy=function(n){var i=this.np.high>>>16,e=65535&this.np.high,r=this.np.low>>>16,s=65535&this.np.low,u=this.tp.high>>>16,o=65535&this.tp.high,a=this.tp.low>>>16,h=65535&this.tp.low,c=n.np.high>>>16,f=65535&n.np.high,v=n.np.low>>>16,l=65535&n.np.low,d=n.tp.high>>>16,w=65535&n.tp.high,_=n.tp.low>>>16,g=0,m=0,y=0,k=0,p=0,b=0,A=0,T=0;A+=(T+=h+(65535&n.tp.low))>>>16,T&=65535,b+=(A+=a+_)>>>16,A&=65535,p+=(b+=o+w)>>>16,b&=65535,k+=(p+=u+d)>>>16,p&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+c,g&=65535;var S=this.fp(),E=ft.fromBits(y<<16|k,g<<16|m,S),I=ft.fromBits(A<<16|T,p<<16|b,S);return t.ip(I,E,S)},n.Kk=function(t){return this.Xy(t.Zk())},n.Zk=function(){return this.yp().Xy(t.Sp)},n.Ep=function(n){if(this.vp()||n.vp())return this.fp()?t.sp:t.op;if(this.Qk())return n.Qk()?this.Zk().Ep(n.Zk()):this.Zk().Ep(n).Zk();if(n.Qk())return this.Ep(n.Zk()).Zk();if(this.np.isZero()&&0===this.tp.high&&n.np.isZero()&&0===n.tp.high)return t.ep(this.tp.multiply(n.tp));var i=ft.fromBits(4294967295,0,!0),e=this.tp.and(i),r=this.tp.shru(32),s=this.np.and(i),u=this.np.shru(32),o=n.tp.and(i),a=n.tp.shru(32),h=n.np.and(i),c=n.np.shru(32),f=ft.UZERO,v=ft.UZERO,l=ft.UZERO,d=ft.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(h)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=ft.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ft.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.ip(w,_,this.fp())},n.Ip=function(n){var i,e,r=n;if(r.vp())throw new RangeError("division by zero");if(this.vp())return this.fp()?[t.sp,t.sp]:[t.op,t.op];if(this.fp()){if(r.fp()||(r=r.dp()),r.gp(this))return[t.sp,this];if(r.gp(this.Tp(1)))return[e=t.Rp,i=this.Kk(r)];e=t.sp}else{if(this.Dk(t.hp)){if(r.Dk(t.Sp)||r.Dk(t.Dp))return[t.hp,t.op];if(r.Dk(t.hp))return[t.Sp,t.op];var s=this.Ap(1).Np(r).bp(1);return s.Dk(t.op)?e=r.Qk()?t.Sp:t.Dp:(i=this.Kk(r.Ep(s)),e=s.Xy(i.Np(r))),[e,i=this.Kk(r.Ep(e))]}if(r.Dk(t.hp))return this.fp()?[t.sp,this]:[t.op,this];if(this.Qk()){if(r.Qk())return this.Zk().Ip(r.Zk());var u=this.Zk().Ip(r);return e=u[0],i=u[1],[e.Zk(),i.Zk()]}if(r.Qk()){var o=this.Ip(r.Zk());return e=o[0],i=o[1],[e.Zk(),i.Zk()]}e=t.op}for(i=this;i.mp(r);){for(var a=w.max(1,w.floor(i.Hk()/r.Hk())),h=w.ceil(w.log(a)/w.LN2),c=h<=48?1:w.pow(2,h-48),f=t.rp(a),v=f.Ep(r);v.Qk()||v.gp(i);)a-=c,v=(f=t.rp(a,this.fp())).Ep(r);f.vp()&&(f=t.Sp),e=e.Xy(f),i=i.Kk(v)}return[e,i]},n.Np=function(t){return this.Ip(t)[0]},n.Cp=function(t){return this.Ip(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.vp())return"0";if(this.Qk()){if(this.Dk(t.hp)){var e=t.rp(i),r=this.Np(e),s=r.Ep(e).Kk(this);return r.toString(i)+s._p().toString(i)}return"-"+this.Zk().toString(i)}for(var u=t.rp(w.pow(i,6),this.fp()),o=this,a="";;){var h=o.Np(u),c=(o.Kk(h.Ep(u))._p()>>>0).toString(i);if((o=h).vp())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();Yy.op=Yy.ep(ft.ZERO),Yy.sp=Yy.ep(ft.UZERO),Yy.Sp=Yy.ep(ft.ONE),Yy.Rp=Yy.ep(ft.UONE),Yy.Dp=Yy.ep(ft.NEG_ONE),Yy.cp=Yy.ip(ft.NEG_ONE,ft.MAX_VALUE,!1),Yy.ap=Yy.ip(ft.MAX_UNSIGNED_VALUE,ft.MAX_UNSIGNED_VALUE,!0),Yy.hp=Yy.ip(ft.ZERO,ft.MIN_VALUE,!1);var jy=function(){function t(t,n){void 0===n&&(n=1),this.Pp=void 0,this.Bp=void 0,this.Pp=t,this.Bp=n}t.Op=function(n){return new t(w.ceil(n.Pp),n.Bp)},t.xp=function(n){return new t(w.floor(n.Pp),n.Bp)},t.Lp=function(t,n){return t.Vk(n)?t:n},t.Mp=function(t,n){return t.Gk(n)?t:n};var n=t.prototype;return n.Xy=function(n){return this.Bp>=n.Bp?new t(this.Pp+n.Up(this.Bp).Pp,this.Bp):new t(this.Up(n.Bp).Pp+n.Pp,n.Bp)},n.Fk=function(t){return t.Yk(this)},n.Vk=function(t){return t.Gk(this)},n.qk=function(n){return this.Bp>=n.Bp?new t(w.abs(this.Pp-n.Up(this.Bp).Pp),this.Bp):n.qk(this)},n.Wk=function(t,n){return this.qk(t).Gk(n)},n.zk=function(t){return i=t,(n=this).Bp>=i.Bp?Os(n.Pp,i.Up(n.Bp).Pp):Os(n.Up(i.Bp).Pp,i.Pp);var n,i},n.Dk=function(t){return 0===this.zk(t)},n.Yk=function(t){return this.zk(t)<0},n.Gk=function(t){return this.zk(t)<=0},n.Up=function(n){return new t(this.Pp*(n/this.Bp),n)},n.Kk=function(n){return this.Bp>=n.Bp?new t(this.Pp-n.Up(this.Bp).Pp,this.Bp):new t(this.Up(n.Bp).Pp-n.Pp,n.Bp)},n.Xp=function(n){return new t(this.Pp*n,this.Bp)},A(t,[{key:"$k",get:function(){return!isFinite(this.Pp)}},{key:"Hp",get:function(){return this.Pp/this.Bp}}]),t}();jy.Fp=new jy(1/6,1),jy.op=new jy(0),jy.zp=new jy(1/0),jy.Vp=1e6;var Qy=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bp=void 0,e.Ai=n.toSigned(),e.Bp=i>>>0,e}S(n,t),n.Wp=function(t,i){return void 0===i&&(i=1e6),n.rp(t*i,i)},n.rp=function(t,i){return m(t)?n.Gp:t===1/0?n.qp:t===-1/0?n.Yp:new n(ft.fromNumber(t),i)},n.ep=function(t,i){return new n(t,i)},n.jp=function(t){return n.Wp(t.Hp,1e6)},n.Qp=function(t){return new n(ft.fromNumber(t.getTime()),1e3)},n.Lp=function(t,n){return t.Vk(n)?t:n},n.Mp=function(t,n){return t.Gk(n)?t:n},n.Zp=function(t,i,e){return n.Lp(i,n.Mp(e,t))};var i=n.prototype;return i.Qk=function(){return this.Ai.isNegative()},i.vp=function(){return 0!==this.Bp&&this.Ai.isZero()},i.$k=function(){return 0===this.Bp&&!this.Ai.isZero()},i.Jk=function(){return 0===this.Bp&&this.Ai.isZero()},i.Hk=function(){if(0===this.Bp)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.Bp),n=this.Ai.subtract(t.multiply(this.Bp));return t.toNumber()+n.toNumber()/this.Bp},i.wp=function(){if(0===this.Bp)throw new v("Failed to convert timestamp");return this.Ai},i.Kp=function(){return new Date(0===this.Bp?NaN:this.Up(1e3).Ai.toNumber())},i.Jp=function(){return new jy(0===this.Bp?this.Hk():this.Ai.toNumber(),this.Bp)},i.Up=function(t,i){void 0===i&&(i=Jy.$p);var e=this.Bp;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t.Ip(n),r=e[0],s=e[1];if(s.vp())return r;if(i===Jy.$p)return s.Qk()?r.Kk(Yy.Sp):r;if(i===Jy.ib)return s.Qk()?r:r.Xy(Yy.Sp);var u=s.Ep(Yy.rp(2));return u.Qk()?u.Zk().Yk(n)?r:r.Kk(Yy.Sp):u.Yk(n)?r:r.Xy(Yy.Sp)}(Yy.ep(this.Ai).Ep(Yy.rp(t/r)),Yy.rp(e/r),i).wp(),t)},i.zk=function(t){if(this===t)return Ss.Ns;if(0===this.Bp||0===t.Bp)return qy(this,t);if(this.vp())return t.vp()?Ss.Ns:t.Qk()?Ss.Cs:Ss.Ps;if(t.vp())return this.Qk()?Ss.Ps:Ss.Cs;var n=w.min(this.Bp,t.Bp),i=this.Up(n,Jy.eb).Ai,e=t.Up(n,Jy.eb).Ai;return i.compare(e)},i.Zk=function(){return 0===this.Bp?Zy(this):new n(this.Ai.negate(),this.Bp)},i.Xy=function(t){if(0===this.Bp||0===t.Bp)return Ky(this,t);if(this.vp())return t;if(t.vp())return this;var i=w.max(this.Bp,t.Bp),e=this.Up(i,Jy.eb),r=t.Up(i,Jy.eb);return new n(e.Ai.add(r.Ai),i)},i.Ep=function(t){if(this.Jk()||m(t))return n.Gp;if(this.$k()||!isFinite(t)){if(this.vp()||0===t)return n.Gp;var i=this.Qk()?n.Yp:n.qp;return t<0?i.Zk():i}return this.vp()?this:new n(0===t?ft.ZERO:this.Ai.multiply(t),this.Bp)},i.Np=function(t){if(this.Jk()||m(t))return n.Gp;if(this.$k())return isFinite(t)?0===t?1/t<0?this.Zk():this:t<0?this.Zk():this:n.Gp;if(!isFinite(t))return new n(ft.ZERO,this.Bp);if(this.vp())return 0===t?n.Gp:new n(ft.ZERO,this.Bp);if(0===t){var i=this.Qk()?n.Yp:n.qp;return 1/t<0?i.Zk():i}return new n(this.Ai.divide(t),this.Bp)},i.sb=function(){return[this.Ai.low,this.Ai.high,this.Bp]},n}(Gy);function Zy(t){return t.Jk()?t:t.Qk()?Qy.qp:Qy.Yp}function Ky(t,n){return t.Jk()||n.Jk()?Qy.Gp:t.$k()&&n.$k()?t.Qk()===n.Qk()?t:Qy.Gp:t.$k()?t:n}Qy.op=new Qy(ft.ZERO,1e6),Qy.Gp=new Qy(ft.ZERO,0),Qy.qp=new Qy(ft.ONE,0),Qy.Yp=new Qy(ft.NEG_ONE,0);var Jy,$y=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bp=void 0,e.Ai=BigInt.asIntN(64,n),e.Bp=i>>>0,e}S(n,t),n.Wp=function(t,i){return void 0===i&&(i=1e6),n.rp(t*i,i)},n.rp=function(t,i){return m(t)?n.Gp:t===1/0?n.qp:t===-1/0?n.Yp:new n(BigInt(w.floor(t)),i)},n.ep=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.jp=function(t){return n.Wp(t.Hp,1e6)},n.Qp=function(t){return n.rp(t.getTime(),1e3)},n.Lp=function(t,n){return t.Vk(n)?t:n},n.Mp=function(t,n){return t.Gk(n)?t:n},n.Zp=function(t,i,e){return n.Lp(i,n.Mp(e,t))};var i=n.prototype;return i.Qk=function(){return this.Ai<BigInt(0)},i.vp=function(){return 0!==this.Bp&&this.Ai===BigInt(0)},i.$k=function(){return 0===this.Bp&&this.Ai!==BigInt(0)},i.Jk=function(){return 0===this.Bp&&this.Ai===BigInt(0)},i.Hk=function(){if(0===this.Bp)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.Bp),n=this.Ai-t*BigInt(this.Bp);return Number(t)+Number(n)/this.Bp},i.wp=function(){if(0===this.Bp)throw new v("Failed to convert timestamp");return this.ub()},i.ub=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return ft.fromBits(Number(t),Number(n))},i.Kp=function(){return new Date(0===this.Bp?NaN:Number(this.Up(1e3).Ai))},i.Jp=function(){return new jy(0===this.Bp?this.Hk():Number(this.Ai),this.Bp)},i.Up=function(t,i){void 0===i&&(i=Jy.$p);var e=this.Bp;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Jy.$p)return r<BigInt(0)?e-BigInt(1):e;if(i===Jy.ib)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.zk=function(t){if(this===t)return Ss.Ns;if(0===this.Bp||0===t.Bp)return qy(this,t);if(this.vp())return t.vp()?Ss.Ns:t.Qk()?Ss.Cs:Ss.Ps;if(t.vp())return this.Qk()?Ss.Ps:Ss.Cs;var n=w.min(this.Bp,t.Bp),i=this.Up(n,Jy.eb).Ai,e=t.Up(n,Jy.eb).Ai;return i>e?Ss.Cs:i<e?Ss.Ps:Ss.Ns},i.Zk=function(){return 0===this.Bp?tk(this):new n(-this.Ai,this.Bp)},i.Xy=function(t){if(0===this.Bp||0===t.Bp)return nk(this,t);if(this.vp())return t;if(t.vp())return this;var i=w.max(this.Bp,t.Bp),e=this.Up(i,Jy.eb),r=t.Up(i,Jy.eb);return new n(e.Ai+r.Ai,i)},i.Ep=function(t){if(this.Jk()||m(t))return n.Gp;if(this.$k()||!isFinite(t)){if(this.vp()||0===t)return n.Gp;var i=this.Qk()?n.Yp:n.qp;return t<0?i.Zk():i}return this.vp()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.Bp)},i.Np=function(t){if(this.Jk()||m(t))return n.Gp;if(this.$k())return isFinite(t)?0===t?1/t<0?this.Zk():this:t<0?this.Zk():this:n.Gp;if(!isFinite(t))return new n(BigInt(0),this.Bp);if(this.vp())return 0===t?n.Gp:new n(BigInt(0),this.Bp);if(0===t){var i=this.Qk()?n.Yp:n.qp;return 1/t<0?i.Zk():i}return new n(this.Ai/BigInt(t),this.Bp)},i.sb=function(){var t=this.ub();return[t.low,t.high,this.Bp]},A(n,null,[{key:"op",get:function(){return n.ob||(n.ob=new n(BigInt(0),1e6)),n.ob}},{key:"Gp",get:function(){return n.hb||(n.hb=new n(BigInt(0),0)),n.hb}},{key:"qp",get:function(){return n.cb||(n.cb=new n(BigInt(1),0)),n.cb}},{key:"Yp",get:function(){return n.fb||(n.fb=new n(BigInt(-1),0)),n.fb}}]),n}(Gy);function tk(t){return t.Jk()?t:t.Qk()?$y.qp:$y.Yp}function nk(t,n){return t.Jk()||n.Jk()?$y.Gp:t.$k()&&n.$k()?t.Qk()===n.Qk()?t:$y.Gp:t.$k()?t:n}$y.ob=void 0,$y.hb=void 0,$y.cb=void 0,$y.fb=void 0,function(t){t[t.$p=0]="$p",t[t.ib=1]="ib",t[t.eb=2]="eb"}(Jy||(Jy={}));var ik=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?$y:Qy;function ek(t,n){return t.zk(n)}var rk=9e4,sk=w.pow(2,33),uk=ik.rp(sk,rk),ok=uk.Np(2);var ak,hk,ck,fk,vk={vb:0,wb:1/0,_b:0},lk=6,dk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],wk=[" ","\t","\n","\f","\r"],_k=/^\d*$/,gk=/.*[0-9]+.*/,mk=/^[\d.-]+$/,yk=/(^\.|\.$)/,kk=/(\D\.|\.\D)/;function pk(t,n){void 0===n&&(n=vk);var i={wg:[],gb:[],mb:[]},e=bk(t),r=new zo;if(Bk(e),Ak(e,function(t){return"\n"!==t},r),r.xu>=e.length)return i;(r.Lu(1),"\n"!==e.charAt(r.xu))?Ik(Tk(e,r,!1,!0,i,n),i):r.Lu(1);for(Ak(e,function(t){return"\n"===t},r);r.xu<e.length;){Ik(Tk(e,r,!1,!1,i,n),i),Ak(e,function(t){return"\n"===t},r)}return i}function bk(t){var n=fs(t,"\0"," "),i=fs(n,"\r\n","\n");return fs(i,"\r","\n")}function Ak(t,n,i){for(var e=i.xu;i.xu<t.length&&n(t.charAt(i.xu));)i.Lu(1);return t.substring(e,i.xu)}function Tk(t,n,e,r,s,u){for(var o,a=0,h=n.xu,c="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=Ak(t,function(t){return"\n"!==t},n),a++,n.xu>=t.length?f=!0:n.Lu(1),vs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Uu(h);break}v=!0,h=n.xu,l=new Uy(0,0,"",!1,c);try{Rk(o,s.gb,l,u),c=""}catch(t){i.Ar(t),l=null}}else{if(""===o)break;r&&ls(o,"X-TIMESTAMP-MAP")&&(s.yb=Sk(o)),r||2!==a||e||(ws("STYLE",c.replace(/ /g,""))?(d={ds:yy.Ky},c=""):ws("REGION",c.replace(/ /g,""))&&(w=new Wy("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.xu}if(l)return l.fk=c,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&vs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Wk(o,n);break;case"WIDTH":Yk(o,n);break;case"LINES":qk(o,n);break;case"REGIONANCHOR":var a=Vk(o);a&&(n.Bk=a[0],n.Ok=a[1]);break;case"VIEWPORTANCHOR":var h=Vk(o);h&&(n.Lk=h[0],n.Mk=h[1]);break;case"SCROLL":Gk(o,n)}}}}(c,w),w;return null}function Sk(t){var n,i,e=t.split("=")[1].trim().split(","),r=Ek(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Ek(e[0].trim(),"LOCAL")?e[0]:e[1];return{kb:(i=Number(r.split(/:(.*)/)[1].trim())||0,ik.rp(i,rk)),pb:ik.Wp(null!=(n=Ck(s.split(/:(.*)/)[1].trim(),new zo))?n:0)}}function Ek(t,n){return ls(t,n)}function Ik(t,n){t&&function(t){return t.ds===yy.Qy}(t)?n.wg.push(t):t&&function(t){return t.ds===yy.Zy}(t)?n.gb.push(t):t&&function(t){return t.ds===yy.Ky}(t)&&n.mb.push(t)}function Rk(t,n,i,e){var r=new zo;if(Ok(t,r),i.hk=Dk(Ck(t,r),e),Ok(t,r),"--\x3e"!==t.substring(r.xu,r.xu+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Lu(3),Ok(t,r),i.ck=Dk(Ck(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&vs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Xk(a,n,i);break;case"VERTICAL":Fk(a,n);break;case"D":zk(a,n);break;case"LINE":case"L":Mk(a,n);break;case"POSITION":case"T":Uk(a,n);break;case"SIZE":case"S":Hk(a,n);break;case"ALIGN":case"A":Lk(a,n)}}}}(t.substring(r.xu,t.length),i,n)}function Dk(t,n){return t+n.vb}function Nk(t){return/^[0-9]$/.test(t)}function Ck(t,n){var i,e,r,s=fs(t,",","."),u=!1;if(n.xu>=s.length||!Nk(s.charAt(n.xu)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Ak(s,Nk,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.xu>=s.length||":"!==s.charAt(n.xu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Lu(1);var h=Ak(s,Nk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(h,10);if(u||n.xu<s.length&&":"===s.charAt(n.xu)){if(n.xu>=s.length||":"!==s.charAt(n.xu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Lu(1);var f=Ak(s,Nk,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=_(f,10)}else i=0,e=a,r=c;if(n.xu>=s.length||"."!==s.charAt(n.xu))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Lu(1);var l=Ak(s,Nk,n),d=_(l,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Pk(t){return Bk(bk(t))}function Bk(t){if(t.length<lk)return!1;for(var n=0;n<dk.length;n++){if(ls(t,dk[n]))return!0}return!1}function Ok(t,n){for(;n.xu<t.length&&(i=t.charAt(n.xu),Hs(wk,i));)n.Lu(1);var i}function xk(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Lk(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.vk=i;break;case"middle":n.vk="center"}}function Mk(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),gk.test(i)){var s,u;if(ds(i,"%")){var o=xk(i);if(null===o)return;s=o,u=!1}else{if(!mk.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!kk.test(i)||yk.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.lk=s,n.yk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.dk=e;break;case"middle":n.dk="center"}}}function Uk(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=xk(i);if(null!==s)switch(n.wk=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n._k=e;break;case"start":n._k="line-left";break;case"middle":n._k="center";break;case"end":n._k="line-right"}}function Xk(t,n,i){var e=Ls(i,function(n){return n.q_===t});void 0!==e&&(n.gk=e)}function Hk(t,n){var i=xk(t);null!==i&&(n.Ou=i)}function Fk(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.pk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.pk="lr";break;default:n.pk=""}}function zk(t,n){"VERTICAL"===t.toUpperCase()?n.pk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.pk="lr")}function Vk(t){if(t.indexOf(",")>=0){var n=xk(t.substring(0,t.indexOf(","))),i=xk(t.substring(t.indexOf(",")+1,t.length));return[Mt(n||0,0,100),Mt(i||100,0,100)]}return null}function Wk(t,n){n.q_=t}function Gk(t,n){"up"===t.toLowerCase()&&(n.xk="up")}function qk(t,n){_k.test(t)&&(n.Pk=_(t))}function Yk(t,n){var i=xk(t);null!==i&&(n.Uk=i)}!function(t){t.bb="moov",t.Ab="mvhd",t.Tb="trak",t.Sb="tkhd",t.Eb="mdia",t.Ib="mdhd",t.Rb="hdlr",t.Db="minf",t.Nb="stbl",t.Cb="stsd",t.Pb="stsc",t.Bb="mvex",t.Ob="trex",t.xb="avc1",t.Lb="avcC",t.Mb="hev1",t.Ub="hvc1",t.Xb="hvcC",t.Hb="pasp",t.Fb="mp4a",t.zb="esds",t.Vb="wvtt",t.Wb="vttC",t.Gb="vlab",t.qb="enca",t.Yb="encv",t.jb="moof",t.Qb="mfhd",t.Zb="traf",t.Kb="tfhd",t.Jb="trun",t.$b="tfdt",t.tA="senc",t.nA="mdat",t.iA="pssh",t.eA="emsg",t.rA="sidx",t.sA="styp",t.uA="ftyp",t.oA="sinf",t.aA="frma"}(ak||(ak={})),function(t){t.Cd="vide",t.Nd="soun",t.hA="subt",t.cA="hint",t.fA="meta",t.vA="auxv"}(hk||(hk={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(ck||(ck={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(fk||(fk={}));var jk=function(){function t(t,n){this.Fi=void 0,this.lA=void 0,this.Fi=t,this.lA=n}var n=t.prototype;return n.dA=function(){return io(this.Fi,this.lA)},n.wA=function(){return ao(this.Fi,this.lA)},n._A=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.xu,i);return n.Lu(2),e}(this.Fi,this.lA)},n.gA=function(){return co(this.Fi,this.lA)},n.mA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.xu,i);return n.Lu(4),e}(this.Fi,this.lA)},n.yA=function(){return vo(this.Fi,this.lA)},n.kA=function(t){return ro(this.Fi,this.lA,t)},n.pA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(co(t,n));return e}(this.Fi,this.lA,t)},n.bA=function(t){return wo(this.Fi,this.lA,t)},n.AA=function(){return Do(this.Fi,this.lA)},n.TA=function(t){this.lA.Lu(t)},n.Xu=function(){return new t(this.Fi,this.lA.Xu())},t}();function Qk(t,n){return t.ds===n}function Zk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Qk(e,n))return e}}var Kk=function(t){function n(n,i){var e;return(e=t.call(this)||this).SA=n,e.EA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}($t),Jk=function(){function t(){}return t.IA=function(n){var i=n.Fi,e=n.lA,r=t.RA(i,e,!1);if(!r.DA)throw new Kk(e.xu,r.Pi);return r.Pi},t.RA=function(n,i,e){for(var r=[];i.xu<n.byteLength;){var s=t.NA(n,i,e);if(!s.DA)return{DA:!1,Pi:r};r.push(s.CA)}return{DA:!0,Pi:r}},t.PA=function(n,i){var e=t.NA(n,i,!1);if(!e.DA)throw new Kk(i.xu);return e.CA},t.BA=function(n,i){for(var e=n.Fi,r=n.lA;r.xu<e.byteLength;){var s=t.NA(e,r,!1);if(!s.DA)return;if(s.CA.ds===i)return s.CA}},t.NA=function(n,i,e){var r=i.xu,s=t.OA(n,i);if(!s.DA)return s;var u=s.xA,o=u.Ou;if(0===o){if(e)return i.Uu(r),{DA:!1,LA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.Uu(r),{DA:!1,LA:h}}var c={ds:u.ds,xu:r,Fi:new jk(Oo(n,r,a),new zo(u.MA))};return i.Uu(a),{DA:!0,CA:c}},t.OA=function(t,n){var i=n.xu;if(!uo(t,n,8))return{DA:!1,LA:n.xu+8};var e=co(t,n),r=wo(t,n,4);if(1===e){if(!uo(t,n,8)){var s=n.xu+8;return n.Uu(i),{DA:!1,LA:s}}e=vo(t,n).toNumber()}if("uuid"===r){if(!uo(t,n,16)){var u=n.xu+16;return n.Uu(i),{DA:!1,LA:u}}r=wo(t,n,16)}return{DA:!0,xA:{ds:r,Ou:e,MA:n.xu-i}}},t.UA=function(t,n,i){var e=t.Fi,r=t.lA,s=Bo(Lo(e),r.xu,e.byteLength);return i&&(s=Ho(s)),r.Lu(s.byteLength),{ds:n,Fi:s}},t.XA=function(n,i,e){var r=ip(n.gA());return{ds:i,HA:r.version,FA:r.flags,Fi:t.UA(n,i,e).Fi}},t}();function $k(t,n){var i=tp(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function tp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.ds===n)return e.Fi}}function np(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.ds===n&&i.push(r.Fi)}return i}function ip(t){return{version:t>>24,flags:new $u(16777215&t)}}var ep=function(){function t(){}return t.zA=function(n){for(var i=[],e=Jk.IA(new jk(n,new zo)),r=0;r<e.length;r++){var s=e[r],u=t.VA(s);u&&i.push(u)}return i},t.WA=function(t){return Jk.RA(t,new zo,!1).Pi.some(this.GA)},t.qA=function(n){return np(Jk.IA(new jk(n,new zo)),ak.iA).map(t.YA)},t.jA=function(n){return np(Jk.IA(n.Fi),ak.iA).map(t.YA)},t.GA=function(t){return t.ds===ak.uA||t.ds===ak.sA||t.ds===ak.bb||t.ds===ak.jb||t.ds===ak.nA||t.ds===ak.rA||t.ds===ak.eA},t.VA=function(n){switch(n.ds){case ak.bb:return t.QA(n.Fi);case ak.jb:return t.ZA(n.Fi,n.xu);case ak.nA:return t.KA(n.Fi);case ak.rA:return t.JA(n.Fi);case ak.eA:return t.$A(n.Fi)}},t.QA=function(n){var i=Jk.IA(n),e=$k(i,ak.Ab),r=np(i,ak.Tb),s=tp(i,ak.Bb),u=t.tT(e),o=r.map(t.nT),a=s?t.iT(s):void 0;return{ds:ak.bb,xA:u,eT:o,rT:a}},t.tT=function(t){var n=ip(t.gA()),i=n.version,e=n.flags,r=1===i?t.yA():t.gA(),s=1===i?t.yA():t.gA(),u=t.gA(),o=1===i?t.yA():t.gA(),a=t.gA(),h=t.wA()>>8;t.TA(2),t.TA(8);var c=t.pA(9);t.TA(24);var f=t.gA();return{ds:ak.Ab,HA:i,FA:e,sT:r,uT:s,Bp:u,tm:o,oT:a,dm:h,aT:c,hT:f}},t.nT=function(n){var i=Jk.IA(n),e=$k(i,ak.Sb),r=$k(i,ak.Eb),s=t.cT(e),u=t.fT(r);return{ds:ak.Tb,xA:s,vT:u}},t.cT=function(t){var n=ip(t.gA()),i=n.version,e=n.flags,r=1===i?t.yA():t.gA(),s=1===i?t.yA():t.gA(),u=t.gA();t.TA(4);var o=1===i?t.yA():t.gA();t.TA(8);var a=t._A(),h=t._A(),c=t._A()/w.pow(2,8);t.TA(2);var f=t.pA(9),v=t.gA()/w.pow(2,16),l=t.gA()/w.pow(2,16);return{ds:ak.Sb,lT:e.Fu(1),dT:e.Fu(2),wT:e.Fu(4),sT:r,uT:s,_T:u,tm:o,gT:a,mT:h,dm:c,aT:f,Uk:v,yT:l}},t.fT=function(n){var i=Jk.IA(n),e=$k(i,ak.Ib),r=$k(i,ak.Rb),s=$k(i,ak.Db),u=t.kT(e),o=t.pT(r),a=t.bT(s);return{ds:ak.Eb,xA:u,AT:o,TT:a}},t.kT=function(t){var n=ip(t.gA()),i=n.version,e=n.flags,r=1===i?t.yA():t.gA(),s=1===i?t.yA():t.gA(),u=t.gA(),o=1===i?t.yA():t.gA();return t.wA(),t.TA(2),{ds:ak.Ib,HA:i,FA:e,sT:r,uT:s,Bp:u,tm:o}},t.pT=function(t){var n=ip(t.gA()),i=n.version,e=n.flags;t.TA(4);var r=t.bA(4);t.TA(12);var s=t.AA();return{ds:ak.Rb,HA:i,FA:e,ST:r,wi:s}},t.bT=function(n){var i=$k(Jk.IA(n),ak.Nb),e=t.ET(i);return{ds:ak.Db,IT:e}},t.ET=function(n){var i=$k(Jk.IA(n),ak.Cb),e=t.RT(i);return{ds:ak.Nb,DT:e}},t.RT=function(n){var i=ip(n.gA()),e=i.version,r=i.flags;n.gA();for(var s=[],u=Jk.IA(n),o=0;o<u.length;o++){var a=u[o],h=t.NT(a.Fi,a.ds);h&&s.push(h)}return{ds:ak.Cb,HA:e,FA:r,CT:s}},t.NT=function(n,i){var e=t.PT(n,i);return e||((e=t.BT(n,i))||(i===ak.Vb?t.OT(n):void 0))},t.PT=function(n,i){return i===ak.Fb?t.xT(n):i===ak.qb?t.LT(n):void 0},t.BT=function(n,i){return i===ak.xb?t.MT(n):i===ak.Mb||i===ak.Ub?t.UT(n,i):i===ak.Yb?t.XT(n):void 0},t.HT=function(t,n){return t.TA(6),{ds:n,FT:t.wA()}},t.zT=function(n,i){var e=t.HT(n,i);n.TA(8);var r=n.wA(),s=n.wA();return n.TA(2),n.TA(2),Nr({},e,{VT:r,WT:s,GT:n.gA()>>>16})},t.qT=function(n,i){var e=t.HT(n,i);n.TA(2),n.TA(2),n.TA(12);var r=n.wA(),s=n.wA(),u=n.gA(),o=n.gA();n.TA(4);var a=n.wA();n.TA(32);var h=n.wA();return n.TA(2),Nr({},e,{Uk:r,yT:s,YT:u,jT:o,QT:a,ZT:h})},t.xT=function(n){var i=t.zT(n,ak.Fb),e=$k(Jk.IA(n),ak.zb);return Nr({},i,{KT:t.JT(e)})},t.OT=function(n){var i=t.HT(n,ak.Vb),e=Jk.IA(n),r=$k(e,ak.Wb),s=t.$T(r),u=tp(e,ak.Gb);return Nr({},i,{tS:s,nS:u?t.iS(u):u})},t.$T=function(t){return{ds:ak.Wb,hc:t.AA()}},t.iS=function(t){return{ds:ak.Gb,Q_:t.AA()}},t.JT=function(t){return Jk.XA(t,ak.zb,!0)},t.MT=function(n){var i=t.qT(n,ak.xb),e=Jk.IA(n),r=$k(e,ak.Lb),s=tp(e,ak.Hb);return Nr({},i,{eS:t.rS(r),sS:s?t.uS(s):void 0})},t.UT=function(n,i){var e=t.qT(n,i),r=$k(Jk.IA(n),ak.Xb);return Nr({},e,{oS:t.aS(r)})},t.XT=function(n){var i=n.Xu(),e=t.qT(n,ak.Yb),r=$k(Jk.IA(n),ak.oA),s=t.hS(r);return Nr({},e,{cS:t.BT(i,s.vS.fS),lS:s})},t.LT=function(n){var i=n.Xu(),e=t.zT(n,ak.qb),r=$k(Jk.IA(n),ak.oA),s=t.hS(r);return Nr({},e,{cS:t.PT(i,s.vS.fS),lS:s})},t.hS=function(n){var i=$k(Jk.IA(n),ak.aA),e=t.dS(i);return{ds:ak.oA,vS:e}},t.dS=function(t){var n=t.bA(4);return{ds:ak.aA,fS:n}},t.rS=function(t){return Jk.UA(t,ak.Lb,!0)},t.aS=function(t){return Jk.UA(t,ak.Xb,!0)},t.uS=function(t){var n=t.gA(),i=t.gA();return{ds:ak.Hb,wS:n,_S:i}},t.iT=function(n){var i=np(Jk.IA(n),ak.Ob).map(t.gS);return{ds:ak.Bb,eT:i}},t.gS=function(t){var n=ip(t.gA()),i=n.version,e=n.flags,r=t.gA(),s=t.gA(),u=t.gA(),o=t.gA(),a=t.gA();return{ds:ak.Ob,HA:i,FA:e,_T:r,mS:s,yS:u,kS:o,pS:a}},t.ZA=function(n,i){var e=Jk.IA(n),r=$k(e,ak.Qb),s=np(e,ak.Zb),u=t.bS(r),o=s.map(t.AS);return{ds:ak.jb,TS:i,xA:u,eT:o}},t.bS=function(t){var n=ip(t.gA()),i=n.version,e=n.flags,r=t.gA();return{ds:ak.Qb,HA:i,FA:e,SS:r}},t.AS=function(n){var i=Jk.IA(n),e=$k(i,ak.Kb),r=np(i,ak.Jb),s=tp(i,ak.$b),u=t.ES(e),o=r.map(function(n){return t.IS(n,u)}),a=s?t.RS(s):void 0;return{ds:ak.Zb,xA:u,DS:o,NS:a}},t.ES=function(t){var n=ip(t.gA()),i=n.version,e=n.flags,r=t.gA(),s=e.Fu(ck.BASE_DATA_OFFSET_PRESENT)?t.yA():void 0,u=e.Fu(ck.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.gA():void 0,o=e.Fu(ck.DEFAULT_SAMPLE_DURATION_PRESENT)?t.gA():void 0,a=e.Fu(ck.DEFAULT_SAMPLE_SIZE_PRESENT)?t.gA():void 0,h=e.Fu(ck.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.gA():void 0;return{ds:ak.Kb,HA:i,FA:e,_T:r,CS:s,PS:u,yS:o,kS:a,pS:h}},t.IS=function(n,i){for(var e=ip(n.gA()),r=e.version,s=e.flags,u=n.gA(),o=s.Fu(fk.DATA_OFFSET_PRESENT)?n.mA():void 0,a=s.Fu(fk.FIRST_SAMPLE_FLAGS_PRESENT)?n.gA():void 0,h=[],c=0;c<u;c++){var f=t.OS(n,s,r,i);0===c&&void 0!==a&&(f.FA=a),h.push(f)}return{ds:ak.Jb,HA:r,FA:s,xS:u,TS:o,LS:a,MS:h}},t.OS=function(t,n,i,e){return{tm:n.Fu(fk.SAMPLE_DURATION_PRESENT)?t.gA():e.yS,Ou:n.Fu(fk.SAMPLE_SIZE_PRESENT)?t.gA():e.kS,FA:n.Fu(fk.SAMPLE_FLAGS_PRESENT)?t.gA():e.pS,US:n.Fu(fk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.gA():t.mA():void 0}},t.$A=function(t){var n=t.Fi,i=t.lA,e=ip(co(n,i)),r=e.version,s=e.flags;if(1===r){var u=co(n,i),o=vo(n,i),a=co(n,i),h=co(n,i),c=lo(n,i),f=lo(n,i),v=Xo(Lo(n),i.xu,n.byteLength);return i.Lu(v.byteLength),{ds:ak.eA,HA:r,FA:s,XS:c,Ai:f,Bp:u,HS:o,FS:a,q_:h,zS:v}}var l=lo(n,i),d=lo(n,i),w=co(n,i),_=co(n,i),g=co(n,i),m=co(n,i),y=Xo(Lo(n),i.xu,n.byteLength);return i.Lu(y.byteLength),{ds:ak.eA,FA:s,HA:r,XS:l,Ai:d,Bp:w,VS:_,FS:g,q_:m,zS:y}},t.KA=function(t){return Jk.UA(t,ak.nA,!1)},t.YA=function(n){var i=n.Fi,e=n.lA,r=Ho(Lo(i)).buffer,s=ip(co(i,e)),u=s.version,o=s.flags,a=t.WS(i,e),h=[];if(u>0)for(var c=co(i,e),f=0;f<c;f++){var v=ro(i,e,16);h.push(v)}var l=co(i,e),d=new y(r,e.xu,l);return e.Lu(i.byteLength),{ds:ak.iA,HA:u,FA:o,GS:a,qS:h,YS:l,Fi:d,jS:r}},t.WS=function(t,n){for(var i="",e=0;e<4;e++){var r=io(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=io(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=io(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=io(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=io(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.JA=function(t){var n,i,e=t.Fi,r=t.lA,s=ip(co(e,r)),u=s.version,o=s.flags,a=co(e,r),h=co(e,r);0===u?(n=ft.fromBits(co(e,r),0,!0),i=ft.fromBits(co(e,r),0,!0)):(n=vo(e,r),i=vo(e,r)),r.Lu(2);for(var c=ao(e,r),f=[],v=0;v<c;v+=1){var l=co(e,r),d=l>>31&1,w=2147483647&l,_=co(e,r),g=co(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({QS:d,ZS:w,tm:_,KS:m,JS:y,$S:k})}return{ds:ak.rA,HA:u,FA:o,tE:a,Bp:h,nE:n,iE:i,eE:c,rE:f}},t.RS=function(t){var n,i=t.Fi,e=t.lA,r=ip(co(i,e)),s=r.version,u=r.flags;return n=0===s?ft.fromBits(co(i,e),0,!0):vo(i,e),{ds:ak.$b,HA:s,FA:u,NS:n}},t}();function rp(t){return t&&"Ci"in t?t.Ci:t}var sp=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).sE=void 0,a.uE=void 0,a.oE=void 0,a.sE=s,a.uE=u,a.oE=o||void 0,a}return S(n,t),n.prototype.Dk=function(n){return this===n||!!dg(this,n)&&(!!t.prototype.Dk.call(this,n)&&(!!lg(this.aE,n.aE)&&(!!lg(this.gb,n.gb)&&(this.hE&&n.hE?!!this.hE.ai(n.hE)&&(this.fk&&n.fk?this.fk.ai(n.fk):this.fk===n.fk):this.hE===n.hE))))},A(n,[{key:"aE",get:function(){return this.sE}},{key:"gb",get:function(){return this.uE}},{key:"hE",get:function(){return this.oE}},{key:"u_",get:function(){var t;return this.s_||(this.s_=fg(Dy(t=this),{get styles(){return t.aE},get regions(){return t.gb},get metadata(){return rp(t.hE)},get content(){return rp(t.fk)}})),this.s_}}]),n}(Ly),up=function(){function t(t,n,i){this.Al=void 0,this.cE=void 0,this.fE=void 0,this.cE=t,this.fE=n,Qt(i)?this.Al=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.Al=i}return A(t,[{key:"vE",get:function(){return this.Al.ci(!0)}},{key:"hk",get:function(){return this.cE}},{key:"ck",get:function(){return this.fE}}]),t}();var op="http://www.w3.org/XML/1998/namespace";function ap(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function hp(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function cp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function fp(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[cp(i[r].wi,n)]=i[r].Ai;return e}var vp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,lp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,dp="http://www.w3.org/ns/ttml";function wp(t,n,i,e){void 0===i&&(i=vk),void 0===e&&(e=Dc.APPLICATION_TTML_XML);var r=[],s=xo(t);return e===Dc.APPLICATION_MP4?r=function(t,n,i){var e=Zk(ep.zA(t),ak.nA);if(!e)return[];return mp(xo(e.Fi),n,i)}(s,n,i):e===Dc.APPLICATION_TTML_XML&&(r=mp(s,n,i)),r}function _p(t,n,i){return void 0===i&&(i=vk),yp(t,n,i)}function gp(t,n){for(var i=function t(n){var i=[];var e;if(Qt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.vE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function mp(t,n,i){return yp(Po(t,new zo),n,i)}function yp(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(dp,"head")[0],a=u&&u.Di(dp,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(dp,"styling")[0],r=e&&e.Di(dp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(op,"id");i[o]=fp(u,n)}return i}(o,h),f=function(t,n){var i=vg(t),e=bp(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=bp(i[u].extent);if(o){var a=kp(o[0],e[0]),h=kp(o[1],e[1]);i[u].extent=a+" "+h}var c=bp(i[u].origin);if(c){var f=kp(c[0],e[0]),v=kp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Di(dp,"layout")[0],r=e&&e.Di(dp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(op,"id");if(o){i[o]=fp(u,n);var a=Sp(u,n);for(var h in a)U.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),v=o.Di(dp,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Qt(n)){var c,f;s=null!=(c=Tp(n.Bi("begin"),r))?c:s,u=Tp(n.Bi("dur"),0),o=null!=(f=Tp(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ii,l=0;l<v.length;l++)("body"===n.di||"div"===n.di)&&v[l].Kn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.hk,s.ck)}e.sort(Ps);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Xs(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=Ap(d[w],d[w+1],a);if(_.length<=0&&Ep(n)){var g=n.ci(!1);h.push(new up(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.ci(!1);_.forEach(function(n){return t.Ni(n.vE)}),h.push(new up(d[w],d[w+1],t))}()}return h}(a,e.vb,e.wb,e._b),w=0;w<l.length;w++){var _=l[w],g=gp(f,_);s.push(new sp(_.hk,_.ck,_.vE,!1,c,g,v))}return s}function kp(t,n){var i=pp(t),e=pp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function pp(t){return ds(t,"px")?"px":ds(t,"em")?"em":ds(t,"c")?"c":ds(t,"%")?"%":void 0}function bp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Ap(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].hk,u=i[r].ck;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Tp(t,n){if(t){if(vp.test(t)){var i=vp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(lp.test(t)){var o=lp.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Sp(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=fp(e[r],n);for(var u in s)U.call(s,u)&&(i[u]=s[u])}return i}function Ep(t){if(Qt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===qt.$n}function Ip(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Rp,Dp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.P_=function(n){return t.prototype.P_.call(this,n)},i.B_=function(n){var i=t.prototype.B_.call(this,n);return i&&(n.cg=Rg.eg),i},i.o_=function(){return xg(this)},n}(sg);!function(t){t.hA="subtitles",t.lE="captions",t.dE="descriptions",t.wE="chapters",t.fA="metadata",t._E="thumbnails"}(Rp||(Rp={}));var Np=[Rp.hA,Rp.lE,Rp.dE,Rp.wE,Rp.fA,Rp._E];function Cp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Hs(Np,t)}(n)?n:n?Rp.fA:Rp.hA}var Pp,Bp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(tf);function Op(t){return t instanceof ww}function xp(t){return t instanceof gw}function Lp(t){return vs(t,Pp.gE)}function Mp(t){return t.some(Up)}function Up(t){return vs(t,Pp.mE)||vs(t,Pp.Vb)}function Xp(t,n){return Nc(t)&&Mp(n)}function Hp(t,n){return!!t&&(Nc(t)?function(t){return t.some(Lp)}(n)||Mp(n):vs(t,Dc.APPLICATION_TTML_XML)||vs(t,Dc.TEXT_VTT)||vs(t,Dc.IMAGE_JPEG))}function Fp(t,n){return t===Rp._E||t===Rp.fA&&n===Rp._E}function zp(t,n,i,e){for(var r=0,s=t.wg.x_;r<s.length;r++){var u=s[r];if(u.hk>i)break;n<=u.ck&&e.push(u)}}function Vp(t,n){return Cs(t.Y_,n.Y_)}function Wp(t,i){var e=i,r=0;if(Op(t)&&t.name===fw.Yd)e=t.vd.dd;else if(xp(t)){var s=t.Jd;if(e=s.ld,0===(r=s.rd))return new Bp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Bp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Gp(t,i,e,r){var s=function(t){switch(t){case my.WEBVTT:return"WebVTT";case my.SRT:return"SRT";case my.TTML:return"TTML";default:return""}}(t);return new Bp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function qp(t){return Pk(t)?my.WEBVTT:Ip(t)?my.TTML:my.SRT}function Yp(t,n){for(var i=[],e=0,r=t.wg.x_;e<r.length;e++){var s=r[e];if(s.ck<=n)i.push(s);else if(s.hk>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.yE(o)}}!function(t){t.mE="vtt",t.Vb="wvtt",t.gE="stpp"}(Pp||(Pp={}));var jp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eT=new Dp,n.kE=function(t){var i=t.a_;n.pE(i)},n}S(n,t);var i=n.prototype;return i.P_=function(t){t.$s(J_.y_,this.kE),this.eT.P_(t),this.pE(t)},i.B_=function(t){t.ou(J_.y_,this.kE),t.cg=Rg.eg,this.eT.B_(t)},i.bE=function(t){},i.AE=function(t){},i.pE=function(t){t.cg!==Rg.eg?this.bE(t):this.AE(t)},i.TE=function(){for(var t=0,n=this.eT.x_;t<n.length;t++){var i=n[t];i.ou(J_.y_,this.kE),i.Jc()}},i.SE=function(t){if(t>0)for(var n=0,i=this.eT.x_;n<i.length;n++){Yp(i[n],t)}},i.dc=function(){return this.TE(),this.eT.dc(),We.resolve()},i.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uu(),t.next=3,Dr.awrap(this.dc());case 3:this.eT.Jc();case 4:case"end":return t.stop()}},null,this,null,We)},n}(du),Qp=function(t){function n(n){var i;return(i=t.call(this,Dg.ag)||this).errorObject=n,i}return S(n,t),n.prototype.o_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Z_),Zp=function(t){function n(n,i){var e;return(e=t.call(this)||this).EE=void 0,e.IE=void 0,e.RE=new Ks,e.EE=n,e.IE=i,e}S(n,t);var i=n.prototype;return i.DE=function(t){if(t.src){var n=t.kind||Rp.hA,i=this.EE.NE(n,t.id,t.label,t.srclang,t.default);return i.gg=cw(t.src),this.P_(i),i}},i.CE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.dg=gy.LOADING,i=new uw({dd:t.gg,od:Sf.$n,Bd:nw.GET,Ys:n}),v.prev=2,v.next=5,Dr.awrap(this.IE.vd(i));case 5:return s=v.sent,r=s.rd,v.next=9,Dr.awrap(s.Hl());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),nu(v.t0),t.dg=gy.ERROR,t.Js(new Qp(Wp(v.t0,t.gg))),v.abrupt("return");case 18:for(v.prev=18,u=qp(e),t.ds=u,o=[],u===my.WEBVTT||u===my.SRT?(a=pk(e),o=a.wg):u===my.TTML&&(o=_p(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.PE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),nu(v.t1),t.dg=gy.ERROR,t.Js(new Qp(Gp(t.ds,t.gg,r,v.t1))),v.abrupt("return");case 32:t.dg=gy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],We)},i.bE=function(t){Hs(this.eT.x_,t)&&t.dg===gy.NONE&&this.CE(t,this.RE.Ys).catch(iu)},i.Kh=function(){},i.dc=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.RE.Ws(),this.RE=new Ks,n=0,i=this.eT.x_;n<i.length;n++)e=i[n],this.EE.BE(e);return r.next=5,Dr.awrap(t.prototype.dc.call(this));case 5:case"end":return r.stop()}},null,this,null,We)},n}(jp);function Kp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.j_===n&&e.OE)return e}}function Jp(t,n){$p(Kp(t.x_,n))}function $p(t){void 0!==t&&(t.cg=Rg.og)}function tb(t,n){$p(Kp(t.x_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.j_===n)return e}}(t.x_,n))}function nb(t){for(var n=0;n<Np.length;n++){var i=Np[n];i===Rp.wE?tb(t,i):Jp(t,i)}}var ib,eb=function(t){function n(){return t.call(this,Tf.Gf)||this}return S(n,t),n}(_u);!function(t){t[t.xE=0]="xE",t[t.LE=1]="LE"}(ib||(ib={}));var rb=t,sb=rb.MediaSource,ub=rb.WebKitMediaSource,ob=rb.TextTrack,ab=s&&s.createElement("video");s&&s.documentElement.style;var hb=M.qt&&M.xn&&M.Ln<=26;M.dn;var cb=!(!sb&&!ub),fb=!!ob;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||M.hn,M.Cn&&M.Pn,ab&&ab.canPlayType&&(""!==ab.canPlayType("application/vnd.apple.mpegURL")||M.Qt&&!M.Cn&&M.Zt);ab&&ab.canPlayType&&ab.canPlayType("video/mp4");var vb=cb&&!M.Bn&&!M.Rn&&!M.In&&((sb||ub).isTypeSupported?(sb||ub).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ab&&ab.canPlayType&&""!==ab.canPlayType('audio/mp4; codecs="mp4a.40.34"'));cb&&!M.Bn&&(vb||((sb||ub).isTypeSupported?(sb||ub).isTypeSupported("audio/mpeg"):ab&&ab.canPlayType&&ab.canPlayType("audio/mpeg"))),cb&&(!M.Nn||!M.qt)&&(sb||ub).isTypeSupported&&(sb||ub).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),M.Bn||M.Rn||M.In,M.Dn,M.Bn,M.Rn&&M.Yt&&M.jt;try{r&&r.top!==r.self}catch(t){!0}var lb=function(t){function n(n){var i;return(i=t.call(this,vm.Kg)||this).currentTime=n,i}return S(n,t),n}(_u),db=function(t){function n(n){var i;return(i=t.call(this,vm.Jg)||this).currentTime=n,i}return S(n,t),n}(_u),wb=[vm.p_,vm.Jg,Tf.Ff,Tf.Hf],_b=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).ME=jg.zg,e.UE=!0,e.XE=!1,e.HE=!1,e.FE=function(t){var n=e.zE.dg;n!==e.ME&&e.Js(new Dm(t.currentTime,n)),n===jg.zg&&(e.XE=!1,e.HE=!1),e.VE(n),e.WE(n),e.GE(n),e.maybeDispatchCanPlayThroughEvent(n),e.qE(n),e.YE(n),e.ME=n},e.jE=function(){e.YE(e.ME),e.qE(e.ME),e.UE=e.zE.hm},e.QE=function(){e.UE=e.zE.hm},e.ZE=function(t){e.Js(new db(t.currentTime))},e.zE=n,e.KE=i,e.zE.$s(vm.p_,e.FE),e.zE.$s(Tf.Ff,e.jE),e.zE.$s(Tf.Hf,e.QE),e.KE&&e.zE.$s(vm.Jg,e.ZE),e}S(n,t);var i=n.prototype;return i.VE=function(t){!this.HE&&t>=jg.Vg&&(this.HE=!0,this.Js(new mm(this.zE.$g,t)))},i.WE=function(t){!this.XE&&t>=jg.Wg&&(this.XE=!0,this.Js(new Am(this.zE.$g,t)))},i.qE=function(t){this.KE||(t>=jg.Gg&&this.ME<jg.Gg&&!this.zE.hm||this.JE&&t>=jg.Gg)&&this.Js(new db(this.zE.$g))},i.YE=function(t){!this.$E(t)||this.zE.nm||this.zE.bu||this.Js(new lb(this.zE.$g))},i.GE=function(t){this.ME<=jg.Wg&&t>=jg.Gg&&this.Js(new Im(this.zE.$g,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===jg.qg&&this.Js(new Rm(this.zE.$g,t))},i.$E=function(t){var n=!this.zE.hm&&t<=jg.Wg,i=!this.UE&&this.ME<=jg.Wg;return n&&!i},i.dc=function(){this.ME=jg.zg,this.UE=!0,this.XE=!1,this.HE=!1},i.Jc=function(){this.uu(),this.KE&&this.zE.ou(vm.Jg,this.ZE),this.zE.ou(Tf.Ff,this.jE),this.zE.ou(Tf.Hf,this.QE),this.zE.ou(vm.p_,this.FE)},A(n,[{key:"JE",get:function(){return!this.zE.hm&&this.UE}}]),n}(du),gb=function(t){function n(n){var i;return(i=t.call(this)||this).zE=n,i.zE.$s(wb,i.Ks),i}return S(n,t),n.prototype.Us=function(){this.uu(),this.zE.ou(wb,this.Ks)},A(n,[{key:"$g",get:function(){return this.zE.$g}},{key:"nm",get:function(){return this.zE.nm}},{key:"bu",get:function(){return this.zE.bu}},{key:"hm",get:function(){return this.zE.hm}},{key:"dg",get:function(){return this.zE.dg}}]),n}(du),mb="titanium",yb="conax",kb="ezdrm",pb="irdeto",bb="vudrm",Ab="verimatrix",Tb="keyos",Sb="drmtoday",Eb="expressplay",Ib="azure",Rb="xstream",Db="vimond",Nb="axinom",Cb="uplynk",Pb="comcast",Bb="custom",Ob=function(){function t(t,n,i,e,r){this.ac=void 0,this.tI=void 0,this.nI=void 0,this.iI=void 0,this.IE=void 0,this.eI=void 0,this.rI=void 0,this.ac=t,this.tI=n,this.nI=i,this.IE=e,this.rI=r,this.iI=this.sI(n)}var e=t.prototype;return e.uI=function(){return this.eI},e.oI=function(t){this.eI=t},e.aI=function(){return this.iI.licenseAcquisitionURL||this.uI()},e.hI=function(t){return We.resolve()},e.cI=function(t,n){return We.resolve(void 0)},e.fI=function(t,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.vI(t,i,e,r)).dd){o.next=3;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Dr.awrap(this.t_.vd(s));case 6:return u=o.sent,o.next=9,Dr.awrap(u.Fl(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),nu(o.t0),o.next=17,Dr.awrap(this.lI(o.t0,s.dd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],We)},e.vI=function(t,n,i,e){var r=this.dI().wv(),s=this.Md,u={dd:this.wI(),od:n,ud:r,Gl:t,Md:s,Bd:nw.POST,Od:0,Ys:e,ds:iw.pd,xd:i};return new uw(u)},e._I=function(t,n){return We.resolve(t)},e.gI=function(t,n,i,e){return We.resolve(t)},e.dI=function(){return new Ef(this.iI.headers||{})},e.lI=function(t,i,e){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,We)},e.wI=function(t,n){var e=n,r=this.iI.queryParameters;if(!e){var s=this.aI();if(!s)return"";e=s}if(r||t){var u=i.Lr(e);t&&hw(u,t),r&&hw(u,r),e=u.href}return e},e.mI=function(t,n){return xb(t)},e.yI=function(t){return new y(t)},e.kI=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.mI(t,i));case 2:return e=u.sent,u.next=5,Dr.awrap(this.fI(e,this.rI,n,i));case 5:return r=u.sent,s=this.yI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,We)},e.Jc=function(){},A(t,[{key:"t_",get:function(){return this.IE}},{key:"pI",get:function(){return!1}},{key:"bI",get:function(){var t=this.iI.certificate;if(t)return q(t)?Cu(t):Uo(t)}},{key:"AI",get:function(){return!1}},{key:"Md",get:function(){return Boolean(this.iI.useCredentials)}}]),t}();function xb(t){return We.resolve(Ho(t).buffer)}var Lb,Mb,Ub=function(t){function n(n,i,e,r){return t.call(this,ss,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.sI=function(t){return t.widevine||{}},i.TI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.bI){i.next=2;break}return i.abrupt("return",this.bI);case 2:return i.abrupt("return",this.SI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,We)},i.SI=function(n,i){return t.prototype.kI.call(this,n,ew.Sd,i)},n}(Ob);function Xb(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Hb(t){return H(t.token&&t.deviceId)}function Fb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function zb(t){var n=t;return Hb(n)&&""!==n.token&&""!==n.deviceId&&!Fb(n)}(Mb=Lb||(Lb={})).EI=!1,Mb.II=!1,Mb.RI=!1,Mb.DI=!1,Mb.LOG_ADS_DETAILS=!1,Mb.LOG_CHROMECAST_DETAILS=!1,Mb.LOG_CUSTOM_DRM=!1,Mb.LOG_BUFFERING_VIDEO_MAIN=!1,Mb.LOG_BUFFERING_VIDEO_SELECTION=!1,Mb.LOG_BUFFERING_AUDIO_MAIN=!1,Mb.LOG_BUFFERING_AUDIO_SELECTION=!1,Mb.NI=!1,Mb.CI=!1,Mb.LOG_LCEVC_DETAILS=!1;var Vb,Wb=function(){function t(t,n,i){this.BI=t,this.qh=n,this.OI=i}return t.prototype.xI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.OI.build(t))},A(t,[{key:"LI",get:function(){return this.BI}},{key:"ac",get:function(){return this.qh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Vb||(Vb={}));var Gb=function(){function t(){this.MI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.UI(t,e,r)){case Vb.FAILED:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case Vb.OVERRIDDEN:var s=cA(e);i.Ar("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case Vb.SUCCEEDED:cA(e);0}},e.UI=function(t,n,i){var e=cA(n);if(!e)return Vb.FAILED;for(var r=Vb.SUCCEEDED,s=0,u=this.MI.slice();s<u.length;s++){var o=u[s];o.LI===t&&o.ac===e&&(r=Vb.OVERRIDDEN,Us(this.MI,o))}return this.MI.push(new Wb(t,e,i)),r},e.XI=function(t,n){return void 0!==this.HI(t,n)},e.FI=function(t,n,i){var e=this.HI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.xI(i)},e.HI=function(t,n){for(var i=0,e=this.MI;i<e.length;i++){var r=e[i];if(r.LI===t&&(!n||r.ac===n))return r}},t}();Gb.zI=new Gb;var qb=["customdata"],Yb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function jb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function Qb(t){return t&&void 0!==t.licenseAcquisitionURL}var Zb,Kb=Qb,Jb=Qb;function $b(t){if(!t)return!0;if(eA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return jb(n)&&jb(i)&&jb(e)&&jb(r)&&jb(s)}function tA(t){var n=zb(t),i=function(t){var n,i=t;return Fb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Hb(i)}(t);return(!n||!i)&&(n||i)}function nA(t){return t.integration===pb}function iA(t){var n=t;if(!n)return!1;if($b(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(eA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Kb(e))return!1;if(r&&!Jb(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Gb.zI.XI(n.integration))return!0;switch(n.integration){case mb:if(!function(t){return t.integration===mb&&(rA(t)||sA(t))}(t))return!1;break;case bb:if(!uA(t))return!1;break;case Ab:if(!function(t){return t.integration===Ab}(t))return!1;break;case pb:if(!nA(t))return!1;break;case yb:if(!tA(t))return!1;break;case kb:if(!function(t){return t.integration===kb}(t))return!1;break;case Tb:if(!eA(t))return!1;break;case Sb:if(!function(t){var n=t;return n.integration===Sb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Eb:if(!function(t){return t.integration===Eb}(t))return!1;break;case Rb:if(!oA(t))return!1;break;case Db:if(!function(t){return t.integration===Db}(t))return!1;break;case Nb:if(!aA(t))return!1;break;case Ib:if(!function(t){var n=t;return n.integration===Ib&&void 0!==n.token}(t))return!1;break;case Cb:if(!function(t){return t.integration===Cb}(t))return!1;break;case Pb:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case Bb:return!0;default:return!1}}return!0}function eA(t){return t.integration===Tb}function rA(t){return void 0!==t.authToken}function sA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function uA(t){var n=t;return n.integration===bb&&void 0!==n.token}function oA(t){var n=t;return n&&n.integration===Rb&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function aA(t){var n=t;return n.integration===Nb&&void 0!==n.token}function hA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Yb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Nr({},Xb(c,qb),{licenseAcquisitionURL:u,headers:h})}function cA(t){switch(t.toLowerCase()){case"widevine":case Kr:return Kr;case"playready":case jr:return jr;case"fairplay":case ns:return ns}}function fA(t,i){switch(t){case Wr:return function(t){for(var n={},i=ep.qA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.GS]=r.jS}return n}(i);case Gr:case qr:return function(t){var n;return(n={})[ts]=t,n}(i);default:throw new tf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.hs="Widevine",t.us="PlayreadyV2",t.VI="PlayreadyV2",t.WI="PlayreadyV3",t.vs="Fairplay"}(Zb||(Zb={}));var vA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function lA(t,n){var e,r,s,u,o=vA[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Ur)?void 0:e.Xr,OSVersion:null==(r=i.Ur)?void 0:r.Gr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Ur)?void 0:s.qr,DeviceModel:null==(u=i.Ur)?void 0:u.Yr}}}function dA(t,i){if(!t.accountName)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function wA(t,n,i){var e;if(rA(t))e={AuthToken:t.authToken,Payload:n};else{if(!sA(t))throw dA(t,i);e={LatensRegistration:lA(t,i),Payload:n}}return zu(JSON.stringify(e))}function _A(t,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.Jd){a.next=3;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Dr.awrap(s.Xl(e));case 7:u=a.sent,o=gA(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.vd.dd,s.rd,s.hd,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],We)}function gA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var mA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.fv)||this).GI=void 0,r}S(e,t),e.qI=function(){return i.Xr.Ye?"required":"optional"};var r=e.prototype;return r.lI=function(t,n,i){return _A(t,n,i)},r.hI=function(t){return this.GI?eu(this.GI.Wu,t):(this.GI=new Wo,We.resolve())},r.mI=function(t,i){var e,r;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.tI){i.next=3;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Bu(t),i.abrupt("return",wA(e,r,Zb.hs));case 5:case"end":return i.stop()}},null,this,null,We)},r.yI=function(t){if(!t.license)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Cu(t.license)},r.YI=function(t){return We.resolve(new y(t))},r.TI=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.jI(),r.next=3,Dr.awrap(this.mI(t,n));case 3:return i=r.sent,r.next=6,Dr.awrap(this.fI(i,Sf.hv,ew.Ed,n));case 6:return e=r.sent,r.next=9,Dr.awrap(this.YI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},r.SI=function(n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.SI.call(this,n,i));case 2:return e=r.sent,this.jI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,We)},r.jI=function(){this.GI||(this.GI=new Wo),this.GI.ju()},r.Jc=function(){this.GI&&this.GI.Ws(),t.prototype.Jc.call(this)},e}(Ub),yA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.hv)||this).oI("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.mI=function(t,i){var e,r,s,u;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(xb(t));case 2:if(e=i.sent,r=this.nI,s=Fo(new y(e)),u=this.QI){i.next=8;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,We)},A(i,[{key:"QI",get:function(){if(uA(this.tI))return this.tI.token}}]),i}(Ub);function kA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var pA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.hv)||this).oI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.wI=function(n,i){var e=n;return nA(this.tI)&&(e=kA(this.tI,e)),t.prototype.wI.call(this,e,i)},n}(Ub),bA="Conax-Custom-Data";function AA(t,n,i){var e=t&&tA(t)&&t;if(e&&!i.has(bA)){var r=zb(e)?e.token:void 0,s=zb(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(bA,u)}return i}var TA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.hv)||this).oI("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.dI=function(){var n=t.prototype.dI.call(this);return AA(this.tI,"Widevine",n)},n}(Ub);function SA(t){var n=To(new y(t));return Cu(JSON.parse(n).license)}function EA(t){return"string"==typeof t.token?t.token:zu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function IA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var RA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Sf.hv)||this).oI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.yI=function(t){return SA(t)},i.dI=function(){return IA(t.prototype.dI.call(this),this.QI,this.tI)},A(n,[{key:"QI",get:function(){return EA(this.tI)}}]),n}(Ub),DA=function(t){function n(n,i,e){return t.call(this,n,i,e,Sf.hv)||this}return S(n,t),n.prototype.dI=function(){var n=t.prototype.dI.call(this),i=this.tI.token;return n.set("Authorization","Bearer "+i),n},n}(Ub);function NA(t,i,e,r){var s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(oA(t)){v.next=2;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Ef).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={dd:t.ticketAcquisitionURL,od:Sf.fv,ud:s,Bd:nw.POST,Gl:JSON.stringify(h),Ys:r},v.next=13,Dr.awrap(e.vd(c));case 13:return f=v.sent,v.next=16,Dr.awrap(f.Xl());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,We)}var CA=function(t){function n(n,i,e){return t.call(this,n,i,e,Sf.fv)||this}S(n,t);var i=n.prototype;return i.dI=function(){var n=t.prototype.dI.call(this);return n.set("Content-Type","application/json"),n},i.mI=function(n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Fu(n.buffer),r=this.tI,o.next=4,Dr.awrap(NA(r,"widevine_modular",this.t_,i));case 4:return s=o.sent,this.oI(s.licenseServerUrl),u=So(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.mI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,We)},i.yI=function(t){return Cu(t.license)},n}(Ub),PA=function(t){function i(n,i,e){return t.call(this,n,i,e,Sf.hv)||this}return S(i,t),i.prototype.dI=function(){if(!aA(this.tI))throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.dI.call(this);return i.set("X-AxDRM-Message",this.tI.token),i},i}(Ub);function BA(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var OA=function(t){function n(n,i,e){var r;return(r=t.call(this,rs,n,i,e,Sf.hv)||this).ZI=void 0,r}S(n,t);var e=n.prototype;return e.sI=function(t){return t.playready||{}},e.dI=function(){var n=new Ef(this.ZI);return n.mv(t.prototype.dI.call(this)),n},e.KI=function(t){return t.length>=1&&t[0].Ii.length>0},e.cI=function(n){var i=this.tI.playready.customData;if(i){var e=BA(i),r=BA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Bu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return We.resolve({playready:{xc:r}})}return t.prototype.cI.call(this,n)},e.mI=function(t,n){var i;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(xb(t));case 2:return i=n.sent,n.abrupt("return",this.JI(i));case 4:case"end":return n.stop()}},null,this,null,We)},e.JI=function(t){var n,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g;return Dr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=po(o,new zo,!0),m.prev=3,h=i.ui(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.KI(f)&&(u=Hu(f[0].Hi)),v=new Ef,l=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ei("name")[0].Hi,g=w.Ei("value")[0].Hi,v.append(_,g);return this.ZI=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],We)},e.TI=function(t,n){return We.resolve(t)},e.SI=function(n,i){return t.prototype.kI.call(this,n,ew.Id,i)},n}(Ob),xA=function(){function t(n){this.yh=void 0,this.$I=n,this.yh=t.tR(n)}return t.tR=function(t){return"3"===t.version?Zb.WI:Zb.VI},t.prototype.nR=function(){var t={};if(this.yh===Zb.WI){var n={LatensRegistration:lA(this.$I,Zb.WI)};t["X-TITANIUM-DRM-CDATA"]=zu(JSON.stringify(n))}return t},A(t,[{key:"iR",get:function(){return this.yh}},{key:"pc",get:function(){return this.yh===Zb.VI}}]),t}();var LA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).eR=void 0,r.eR=new xA(r.tI),r}S(e,t);var r=e.prototype;return r.cI=function(t){var i=this.tI;if(!this.tI)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(sA(i)){var e={};return e.playready={xc:MA(i,this.eR.iR)},We.resolve(e)}return We.reject(dA(i,Zb.us))},r.dI=function(){var n=new Ef(this.eR.nR());return n.mv(t.prototype.dI.call(this)),n},r.lI=function(t,e,r){var s,u,o,a,h,c,f,v;return Dr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.Jd){l.next=3;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Dr.awrap(s.zl(r));case 6:a=l.sent,h=To(new y(a)),(c=i.ui(h))&&(f=hp(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Hi),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.rd,s.hd,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],We)},r.KI=function(t){if(1!==t.length)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(OA);function MA(t,n){var i=lA(t,n),e=i.DeviceInfo.FormatVersion,r=zu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Io(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Io('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Bu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var UA,XA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).oI("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.KI=function(t){if(1!==t.length)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.wI=function(n,i){var e=Nr({},n||{},{token:this.QI});return t.prototype.wI.call(this,e,i)},A(i,[{key:"QI",get:function(){if(uA(this.tI))return this.tI.token}}]),i}(OA),HA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).oI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.wI=function(n,i){var e=n;return nA(this.tI)&&(e=kA(this.tI,e)),t.prototype.wI.call(this,e,i)},n}(OA),FA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).oI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.dI=function(){var n=t.prototype.dI.call(this);return AA(this.tI,"PlayReady",n)},n}(OA),zA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).oI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.yI=function(n){return(ls(To(new y(n)),"<?xml")?UA.rR:UA.Xl)===UA.Xl?SA(n):t.prototype.yI.call(this,new y(n))},i.dI=function(){return IA(t.prototype.dI.call(this),this.QI,this.tI)},A(n,[{key:"QI",get:function(){return EA(this.tI)}}]),n}(OA);!function(t){t[t.rR=0]="rR",t[t.Xl=1]="Xl"}(UA||(UA={}));var VA,WA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).sR=void 0,r}S(n,t);var i=n.prototype;return i.dI=function(){var n=t.prototype.dI.call(this);return this.sR&&n.set("Ticket",this.sR),n.set("Content-Type","text/xml"),n},i.mI=function(n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.tI,s.next=3,Dr.awrap(NA(e,"playready",this.t_,i));case 3:return r=s.sent,this.oI(r.licenseServerUrl),this.sR=r.ticket,s.abrupt("return",t.prototype.mI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,We)},n}(OA),GA=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.dI=function(){if(!aA(this.tI))throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.dI.call(this);return i.set("X-AxDRM-Message",this.tI.token),i},i}(OA);!function(t){t.fv="application/json",t.uR="application/x-www-form-urlencoded",t.oR="application/octet-stream",t.$n="text/plain;charset=UTF-8"}(VA||(VA={}));var qA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ac,i,e,r,s)||this).aR="",u.hR=void 0,u.cR=void 0,u.cR=n.fR,u}S(n,t);var i=n.prototype;return i.vR=function(){return this.iI.certificateURL||this.hR},i.lR=function(t){this.hR=t},i.mI=function(t){return We.resolve(this.dR(t,this.aR))},i.dR=function(t,n){return"spc="+encodeURIComponent(Bu(t))+"&assetId="+encodeURIComponent(n)},i.sI=function(t){return t.fairplay||{}},i.wR=function(t){var n=t.indexOf("?");if(n>=0)return We.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return We.resolve(i)}var e=t.split("/");return We.resolve(e[e.length-1])},i.cI=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.cR)?n:No(new y(t)),s.next=3,Dr.awrap(this.wR(i));case 3:return e=s.sent,this.aR=e,(r={}).fairplay={zc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},i.dI=function(){var n=t.prototype.dI.call(this);return n.set("Content-Type",this._R),n},i.TI=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.bI){t.next=2;break}return t.abrupt("return",this.bI);case 2:return t.next=4,Dr.awrap(this.gR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,We)},i.SI=function(n,i){return t.prototype.kI.call(this,n,ew.Ad,i)},i.mR=function(t){var n=this.vR(),i=this.dI(),e={dd:n,od:Sf.hv,ud:i,Bd:nw.GET,Md:!1,Gl:null,Od:0,Ys:t,ds:iw.pd,xd:ew.Td};return new uw(e)},i.gR=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.mR(t),r.next=3,Dr.awrap(this.t_.vd(n));case 3:return i=r.sent,r.next=6,Dr.awrap(i.zl());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,We)},i.yI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Cu(i)}else n=new y(t);return n},i.wI=function(n,i){var e=t.prototype.wI.call(this,n,i);return ls(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"AI",get:function(){return!0}},{key:"_R",get:function(){return VA.uR}}]),n}(Ob),YA=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sf.hv)||this}S(n,t);var i=n.prototype;return i.wR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return We.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return We.resolve(i)},i.mI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},i.yI=function(t){return new y(t)},i.wI=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.wI.call(this,e,i)},A(n,[{key:"_R",get:function(){return VA.oR}}]),n}(qA),jA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.hv)||this).oI("https://fairplay-license.drm.technology/license"),s.lR("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.dR=function(t,n){var i={token:this.QI,contentId:n,payload:Bu(t)};return JSON.stringify(i)},e.yI=function(t){return new y(t)},e.dI=function(){var n=t.prototype.dI.call(this);return n.set("x-vudrm-token",this.QI),n},A(i,[{key:"_R",get:function(){return VA.fv}},{key:"QI",get:function(){if(!uA(this.tI))throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.tI.token}}]),i}(qA),QA="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",ZA="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",KA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.hv)||this}return S(i,t),i.prototype.yI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,QA)}if(!i)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,ZA);return i}(To(new DataView(i)));return t.prototype.yI.call(this,e)},i}(qA);var JA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.fv)||this}S(i,t);var e=i.prototype;return e.mI=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.tI){r.next=3;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Bu(t),r.abrupt("return",wA(i,e,Zb.vs));case 5:case"end":return r.stop()}},null,this,null,We)},e.yI=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Hu(i.license);return new y(r)}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.lI=function(t,n,i){return _A(t,n,i)},A(i,[{key:"_R",get:function(){return VA.fv}}]),i}(qA),$A=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.hv)||this).oI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.lR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.vR=function(){var n=t.prototype.vR.call(this);if(!n)return n;var e=i.Lr(n),r=this.tI;return nA(r)&&hw(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.wR=function(n){return nA(this.tI)?We.resolve(this.tI.contentId):t.prototype.wR.call(this,n)},e.mI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.yI=function(t){return new y(t)},e.wI=function(n,i){var e=n;return nA(this.tI)&&(e=function(t,n){return Nr({},kA(t,n),{KeyId:t.keyId})}(this.tI,e)),t.prototype.wI.call(this,e,i)},A(n,[{key:"_R",get:function(){return VA.oR}}]),n}(qA),tT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Sf.$n)||this,!tA(e))throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.oI("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.dI=function(){var n=t.prototype.dI.call(this);return AA(this.tI,"FairPlay",n)},e.gR=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.vR(),i={dd:n,od:Sf.hv,ud:{},Bd:nw.GET,Md:!1,Gl:null,Od:0,Ys:t,ds:iw.pd,xd:ew.Td},s.next=4,Dr.awrap(this.t_.vd(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.zl());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,We)},e.mI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.wR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),We.resolve(To(Cu(n)))):We.resolve("unknown")},e.yI=function(t){try{var n=JSON.parse(t);return new y(Hu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(qA),nT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.$n)||this).oI(Yb[zr.vs]),s}S(i,t);var e=i.prototype;return e.wR=function(t){return ls(t,"skd://")?We.resolve(t.substring("skd://".length,40)):We.reject(new Jm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.dR=function(t,n){return"spc="+Bu(t)+"&assetId="+n},i}(qA),iT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.$n)||this).oI("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.dR=function(t,n){var i="spc="+encodeURIComponent(Bu(t))+"&"+encodeURI(n);return"persistent"===this.iI.licenseType?i+"&offline=true":i},i.dI=function(){return IA(t.prototype.dI.call(this),this.QI,this.tI)},A(n,[{key:"QI",get:function(){return EA(this.tI)}}]),n}(qA),eT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sf.hv)||this}S(n,t);var e=n.prototype;return e.wR=function(t){var n=t;return ls(n,"skd:")&&(n="http:"+n.substring(4)),ls(n,"http:")||ls(n,"https:")?We.resolve(i.Lr(n).hostname):We.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.mI=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,We)},e.yI=function(t){return new y(t)},A(n,[{key:"_R",get:function(){return VA.oR}}]),n}(qA),rT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Sf.$n)||this}return S(n,t),n.prototype.dI=function(){var n=t.prototype.dI.call(this),i=this.tI.token;return n.set("Authorization","Bearer "+i),n},n}(qA),sT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Sf.fv)||this,!oA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.gR=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.vR(),i=this.dI(),e={dd:n,od:Sf.fv,ud:i,Bd:nw.POST,Ys:t,ds:iw.pd,xd:ew.Td},u.next=5,Dr.awrap(this.t_.vd(e));case 5:return r=u.sent,u.next=8,Dr.awrap(r.Xl());case 8:return s=u.sent,u.abrupt("return",new y(Cu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,We)},i.SI=function(t,n,i){var e,r,s,u,o,a,h;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Bu(t),r=this.tI,i.next=5,Dr.awrap(NA(r,"fairplay",this.t_,n));case 5:return s=i.sent,u=So(JSON.stringify({spc:e,ticket:s.ticket})),o={dd:this.aI(),od:Sf.fv,ud:this.dI(),Bd:nw.POST,Gl:u,Od:0,Ys:n,ds:iw.pd,xd:ew.Ad},i.next=10,Dr.awrap(this.t_.vd(o));case 10:return a=i.sent,i.next=13,Dr.awrap(a.Xl());case 13:return h=i.sent,i.abrupt("return",Cu(h.licence));case 15:case"end":return i.stop()}},null,this,null,We)},A(n,[{key:"_R",get:function(){return VA.fv}}]),n}(qA),uT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.$n)||this}S(i,t);var e=i.prototype;return e.dR=function(t,n){return Bu(t)},e.yI=function(i){if(0===i.length)throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.yI.call(this,i)},e.dI=function(){var n=t.prototype.dI.call(this);return n.set("Content-Type","text/plain"),n},i}(qA),oT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Sf.hv)||this}S(i,t);var e=i.prototype;return e.dR=function(t,n){return t},e.yI=function(t){return new y(t)},e.dI=function(){if(!aA(this.tI))throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.dI.call(this);return i.set("X-AxDRM-Message",this.tI.token),i},A(i,[{key:"_R",get:function(){return VA.fv}}]),i}(qA),aT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.fv)||this).yR=void 0,s}S(e,t);var r=e.prototype;return r.dR=function(t,n){var i={spc:Bu(t)};return JSON.stringify(i)},r.wR=function(t){var e=i.Lr(t);return this.yR=t,e.searchParams.has("b")?We.resolve(e.searchParams.get("b")):We.reject(new Jm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.wI=function(n,i){var e=this.aI();return!e&&this.yR&&(e=this.yR),e&&(e=e.replace("skd://","https://")),t.prototype.wI.call(this,n,i||e)},r.yI=function(t){try{var i;if((i=q(t)?JSON.parse(t.trim()):t).ckc)return Cu(i.ckc)}catch(t){throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"_R",get:function(){return VA.$n}}]),e}(qA),hT=function(){function t(t,n){this.kR=t,this.pR=n}var n=t.prototype;return n.bR=function(t){return this.kR(t)},n.AR=function(t,n){throw new l(n+" must be "+this.pR+". (Received: "+t+")")},t}();new hT(function(t){return!0},"any");var cT=new hT(Z,"a number"),fT=new hT(q,"a string"),vT=new hT(Y,"a boolean");new hT(Q,"a date"),new hT(F,"undefined"),new hT(W,"an object"),new hT(function(t){return null===t},"null"),new hT(function(t){return null==t},"null or undefined");var lT,dT=(lT={responseCode:cT,isException:vT,description:fT,title:fT,correlationId:fT},{bR:function(t){if(!W(t))return!1;for(var n=0,i=d.keys(lT);n<i.length;n++){var e=i[n];if(!lT[e].bR(t[e]))return!1}return!0},AR:function(t,n){if(!W(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(lT);i<e.length;i++){var r=e[i],s=lT[r];if(!s.bR(t[r]))return s.AR(t[r],n+"."+String(r))}throw new l}});function wT(t,n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=_T(t,n,i,r),u.next=3,Dr.awrap(gT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,We)}function _T(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Lr(t);return hw(e,n),e.toString()}(e,s)),o=new Ef({});o.append("Content-Type","application/json");var a=Bu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{dd:u,od:Sf.$n,ud:o,Bd:nw.POST,Gl:JSON.stringify(h),Ys:r,ds:iw.pd,xd:ew.Ad}}function gT(t,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(i.vd(t));case 2:return e=s.sent,s.next=5,Dr.awrap(e.Xl());case 5:if(r=s.sent,!dT.bR(r)){s.next=8;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.dd,r.responseCode);case 8:return s.abrupt("return",Cu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,We)}var mT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Sf.hv)||this).SR=void 0,s.SR=i,s}S(n,t);var i=n.prototype;return i.wR=function(n){var i=n.replace("FairPlay",this.SR.releasePid);return t.prototype.wR.call(this,i)},i.SI=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(wT(t,this.SR,this.aI(),this.t_,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,We)},n}(qA),yT=function(t){function i(n,i,e){return t.call(this,as,n,i,e,Sf.hv)||this}S(i,t);var e=i.prototype;return e.sI=function(t){return t.clearkey||{}},e.fI=function(i,e,r,s){var u,o;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.iI,!this.aI()){e.next=5;break}return e.abrupt("return",t.prototype.fI.call(this,i,this.rI,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",So(JSON.stringify(o)).buffer);case 10:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,We)},e.TI=function(t,n){return We.resolve(new y(0))},e.SI=function(n,i){return t.prototype.kI.call(this,n,ew.Rd,i)},i}(Ob),kT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Ub),pT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function bT(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=CT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",We.resolve(n));case 5:return u.next=8,Dr.awrap(eu(We.resolve(r.call(t,e)),i));case 8:if(!Mo(s=u.sent)){u.next=11;break}return u.abrupt("return",Uo(s));case 11:return u.abrupt("return",NT(Nr({},pT,s)));case 12:case"end":return u.stop()}},null,null,null,We)}function AT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=DT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(eu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function TT(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(ET(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",NT(r));case 6:case"end":return s.stop()}},null,null,null,We)}function ST(t,n,i,e,r,s){var u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=RT(i,r),a.next=3,Dr.awrap(IT(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Uo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,We)}function ET(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=RT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",We.resolve(s));case 5:return o.next=8,Dr.awrap(eu(We.resolve(r.call(t,s)),e));case 8:if(!Mo(u=o.sent)){o.next=11;break}return o.abrupt("return",Uo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},pT,u));case 12:case"end":return o.stop()}},null,null,null,We)}function IT(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=DT(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",We.resolve(n));case 5:return a.next=8,Dr.awrap(eu(We.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,We)}function RT(t,n){return Nr({},CT(t),{fairplaySkdUrl:n})}function DT(t,n,i){return{url:i.ld,status:i.rd,statusText:i.hd,headers:i.ud.wv(),body:t,request:n}}function NT(t){return new uw({dd:t.url,Bd:t.method,ud:t.headers,Gl:t.body,Md:t.useCredentials})}function CT(t){var n;return{url:t.dd,body:null!=(n=PT(t.Gl))?n:null,headers:t.ud.wv(),method:t.Bd,useCredentials:t.Md}}function PT(t){if(t)return"string"==typeof t?Co(t):t instanceof ArrayBuffer?new y(t):xu(t)?Lo(t):void 0}var BT,OT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).ER=void 0,s.ER=r,s}S(i,t);var e=i.prototype;return e.TI=function(t,n){return We.resolve(t)},e.SI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.JI(Ho(t).buffer));case 2:return e=a.sent,r=this.vI(e,Sf.hv,ew.Id,i),a.next=6,Dr.awrap(TT(this.ER,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.dd){a.next=12;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Dr.awrap(this.t_.vd(s));case 15:return u=a.sent,a.next=18,Dr.awrap(u.zl(i));case 18:return o=a.sent,a.t0=y,a.next=22,Dr.awrap(ST(this.ER,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),nu(a.t2),new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],We)},i}(OA),xT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Sf.hv)||this).ER=void 0,s.ER=r,s}S(i,t);var e=i.prototype;return e.TI=function(t,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.bI){a.next=2;break}return a.abrupt("return",this.bI);case 2:return e=this.vI(t,Sf.hv,ew.Ed,i),a.next=5,Dr.awrap(bT(this.ER,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.dd){a.next=11;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Dr.awrap(this.t_.vd(r));case 14:return s=a.sent,a.next=17,Dr.awrap(s.zl(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),nu(a.t0),new Jm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=RT(e,void 0),a.next=27,Dr.awrap(AT(this.ER,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],We)},e.SI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.vI(t,Sf.hv,ew.Sd,i),o.next=3,Dr.awrap(TT(this.ER,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.dd){o.next=9;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.t_.vd(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.zl(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),nu(o.t0),new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Dr.awrap(ST(this.ER,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],We)},i}(kT),LT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Sf.hv)||this).ER=void 0,u.IR=void 0,u.ER=s,u}S(i,t);var e=i.prototype;return e.TI=function(t,i){var e,r,s,u,o;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.bI){t.next=2;break}return t.abrupt("return",this.bI);case 2:return e=this.mR(i),t.next=5,Dr.awrap(bT(this.ER,e,i));case 5:if(r=t.sent,!xu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Dr.awrap(this.t_.vd(r));case 11:return s=t.sent,t.next=14,Dr.awrap(s.zl());case 14:return u=t.sent,o=RT(e,void 0),t.next=18,Dr.awrap(AT(this.ER,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),nu(t.t0),new Jm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],We)},e.SI=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.vI(t,Sf.hv,ew.Ad,i),o.next=3,Dr.awrap(TT(this.ER,e,this.IR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.dd){o.next=9;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Dr.awrap(this.t_.vd(r));case 12:return s=o.sent,o.next=15,Dr.awrap(s.zl(i));case 15:return u=o.sent,o.t0=y,o.next=19,Dr.awrap(ST(this.ER,u,e,s,this.IR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),nu(o.t2),new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],We)},e.wR=function(n){var i;return this.IR=n,null!=(i=this.ER)&&i.extractFairplayContentId?We.resolve(this.ER.extractFairplayContentId(n)):t.prototype.wR.call(this,n)},i}(qA),MT=function(){function t(){}var n=t.prototype;return n.RR=function(t,n,i,e){switch(t.ac.ds){case zr.hs:return this.DR(n,i,e);case zr.us:return this.NR(n,i,e);case zr.vs:return this.PR(t,n,i,e);case zr.fs:default:return this.OR(n,i,e)}},n.DR=function(t,n,i){var e,r=(e=t).integration===Bb&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Gb.zI.XI(r,Kr)){var s=Gb.zI.FI(r,Kr,t);return new xT(t,n,i,s)}switch(r){case mb:return new mA(t,n,i);case bb:return new yA(t,n,i);case pb:return new pA(t,n,i);case yb:return new TA(t,n,i);case Sb:return new RA(t,n,i);case Ib:return new DA(t,n,i);case Rb:return new CA(t,n,i);case Nb:return new PA(t,n,i);case Tb:default:return new kT(t,n,i,Sf.hv)}},n.NR=function(t,n,i){var e=t.integration;if(e&&Gb.zI.XI(e,jr)){var r=Gb.zI.FI(e,jr,t);return new OT(t,n,i,r)}switch(e){case mb:return new LA(t,n,i);case bb:return new XA(t,n,i);case pb:return new HA(t,n,i);case yb:return new FA(t,n,i);case Sb:return new zA(t,n,i);case Rb:return new WA(t,n,i);case Nb:return new GA(t,n,i);case Tb:default:return new OA(t,n,i)}},n.PR=function(t,n,i,e){var r=n.integration;if(r&&Gb.zI.XI(r,ns)){var s=Gb.zI.FI(r,ns,n);return new LT(t,n,i,e,s)}switch(r){case kb:return new YA(t,n,i,e);case bb:return new jA(t,n,i,e);case Ab:return new KA(t,n,i,e);case mb:return new JA(t,n,i,e);case pb:return new $A(t,n,i,e);case yb:return new tT(t,n,i,e);case Tb:return new nT(t,n,i,e);case Sb:return new iT(t,n,i,e);case Eb:return new eT(t,n,i,e);case Ib:return new rT(t,n,i,e);case Rb:return new sT(t,n,i,e);case Db:return new uT(t,n,i,e);case Nb:return new oT(t,n,i,e);case Cb:return new aT(t,n,i,e);case Pb:return new mT(t,n,i,e);default:return new qA(t,n,i,e,Sf.$n)}},n.OR=function(t,n,i){return new yT(t,n,i)},n.xR=function(t){return t.ds===zr.us||t.ds===zr.hs||t.ds===zr.vs||t.ds===zr.fs},n.pc=function(t,n){var i;if(t.ds!==zr.us)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Gb.zI.XI(e,ns))&&(e===mb&&new xA(n).pc)},n.qI=function(t,n){if(t.ds===zr.hs){var i=n.integration;if(!i||!Gb.zI.XI(i,ns))return i===mb?mA.qI():void 0}},t}();!function(t){t[t.LR=0]="LR",t[t.MR=1]="MR",t[t.UR=2]="UR",t[t.XR=3]="XR",t[t.HR=4]="HR",t[t.xg=5]="xg",t[t.FR=6]="FR",t[t.zR=7]="zR",t[t.Ug=8]="Ug",t[t.WR=9]="WR",t[t.GR=10]="GR"}(BT||(BT={}));var UT=function(){function t(){}return t.prototype.qR=function(t){},A(t,[{key:"YR",get:function(){return 0}},{key:"jR",get:function(){return 0}}]),t}(),XT=function(){function t(t,n){void 0===n&&(n=new MT),this.IE=void 0,this.QR=void 0,this.$I=void 0,this.IE=t,this.QR=n}var n=t.prototype;return n.ZR=function(t){this.$I=t},n.qI=function(t){var n=this.$I;if(void 0!==n)return this.QR.qI(t,n)},n.pc=function(t){var n=this.$I;return void 0!==n&&this.QR.pc(t,n)},n.KR=function(t){var n={ac:t.ac,JR:t.JR||[],fR:t.fR},i=this.QR.RR(n,this.$I||{},t.nI,this.IE);return new HT(i)},t}(),HT=function(){function t(t){this.$R=void 0,this.$R=t}var n=t.prototype;return n.hI=function(t){return this.$R.hI(t)},n.cI=function(t,n,i){return this.$R.cI(n,i)},n.AI=function(){return this.$R.AI||void 0!==this.$R.bI},n.TI=function(t,n){return this.$R.TI(t,n)},n.SI=function(t,n,i){return n&&this.$R.oI(n),this.$R.SI(t,i)},n.Us=function(){this.$R.Jc()},t}(),FT=function(t){function n(n){var i;(i=t.call(this)||this).tD=[],i.nD=function(t){i.P_(t.a_)},i.iD=function(t){var n=t.a_;i.eD(n)||i.B_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.rD(r)}return i}S(n,t);var i=n.prototype;return i.rD=function(t){this.tD.push(t);for(var n=0,i=t.x_;n<i.length;n++){var e=i[n];this.P_(e)}this.sD(t)},i.uD=function(t){Us(this.tD,t),this.oD(t);for(var n=0,i=t.x_;n<i.length;n++){var e=i[n];this.eD(e)||this.B_(e)}},i.eD=function(t){for(var n=0,i=this.tD;n<i.length;n++){if(i[n].O_(t))return!0}return!1},i.sD=function(t){t.$s(j_.n_,this.nD),t.$s(j_.e_,this.iD)},i.oD=function(t){t.ou(j_.n_,this.nD),t.ou(j_.e_,this.iD)},i.Jc=function(){for(;this.tD.length>0;)this.uD(this.tD[0]);t.prototype.Jc.call(this)},i.o_=function(){return xg(this)},n}(sg);function zT(t){return{get enabled(){return t.G_},set enabled(n){t.G_=_g(n)},get currentLatency(){return t.Em},get streamConfiguration(){if(void 0!==t.aD)return function(t){return{get minimumOffset(){return t.wm},get maximumOffset(){return t.gm},get targetOffset(){return t._m},get forceSeekOffset(){return t.mm},get minimumPlaybackRate(){return t.ym},get maximumPlaybackRate(){return t.pm}}}(t.aD)},get configuration(){return function(t){return{get minimumOffset(){return t.wm},set minimumOffset(n){t.wm=gg(n)},get maximumOffset(){return t.gm},set maximumOffset(n){t.gm=gg(n)},get targetOffset(){return t._m},set targetOffset(n){t._m=gg(n)},get forceSeekOffset(){return t.mm},set forceSeekOffset(n){t.mm=gg(n)},get minimumPlaybackRate(){return t.ym},set minimumPlaybackRate(n){t.ym=gg(n)},get maximumPlaybackRate(){return t.pm},set maximumPlaybackRate(n){t.pm=gg(n)},update:function(n){t.$h(function(t){var n={};void 0!==t.minimumOffset&&(n.wm=gg(t.minimumOffset));void 0!==t.maximumOffset&&(n.gm=gg(t.maximumOffset));void 0!==t.targetOffset&&(n._m=gg(t.targetOffset));void 0!==t.forceSeekOffset&&(n.mm=gg(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.ym=gg(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.pm=gg(t.maximumPlaybackRate));return n}(n))}}}(t.hc)}}}var VT,WT=function(){function t(){this.s_=void 0,this.hD=void 0,this.hD={mm:0,gm:0,pm:0,wm:0,ym:0,_m:0,$h:K}}return A(t,[{key:"u_",get:function(){return null!=this.s_||(this.s_=zT(this)),this.s_}},{key:"G_",get:function(){return!1},set:function(t){}},{key:"Em",get:function(){}},{key:"aD",get:function(){}},{key:"hc",get:function(){return this.hD}}]),t}();function GT(){return VT||(VT=le&&le.document&&le.document.createElement("video")),VT}var qT=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new MT),void 0===a&&(a=mf()),(h=t.call(this)||this).cD=void 0,h.fD=void 0,h.vD=void 0,h.Om=void 0,h.xm=void 0,h.Lm=void 0,h.lD=void 0,h.dD=void 0,h.wD=void 0,h._D=void 0,h.gD=void 0,h.IE=void 0,h.Ss=void 0,h.mD=void 0,h.yD=void 0,h.kD=new UT,h.pD=new WT,h.bD=function(t){var i=t.bu,e=i.code,r=new tf(function(t){switch(t){case Qm.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Qm.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Qm.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Qm.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Qm.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Qm.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Qm.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new $m(e,r.message,i.message);h.TD(r,s)},h.SD=function(){h.Js(new pm(h.$g,h.by))},h.ED=function(t){h.hm||(h.yD=void 0),h.Js(t)},h.RD=function(t){h.yD=void 0},h.DD=function(){h.Js(new py(h.Ty))},h.ND=function(){h.lm>0&&h.vm>0&&h.Js(new eb)},h.CD=function(t){h.Om.P_(new wy(t.track))},h.PD=function(t){var n=jT(h.Om,t.track);n&&h.Om.B_(n)},h.BD=function(){h.OD(h.Om)},h.xD=function(t){h.xm.P_(new ky(t.track))},h.LD=function(t){var n=jT(h.xm,t.track);n&&h.xm.B_(n)},h.MD=function(){h.OD(h.xm)},h.UD=function(t){h.Js(t),h.TD(t.errorObject,ny(t.errorObject))},h.cD=e,h.IE=r,h.Ss=a,h.fD=h.cD.XD(iy.Cd),h.wD=h.fD.HD.preload,h._D=new _b(h.fD,!0),h._D.$s(gm,h.Ks),h.mD=new XT(r,o),h.fD.FD=h.mD,h.zD(),h.Om=new ey,h.xm=new ey,h.VD(),h.gD=new Zp(h.fD,h.IE),h.Lm=new FT([h.fD.zm]),h.ey(),h}S(i,t);var e=i.prototype;return e.sy=function(){this.fD.sy()},e.ey=function(){this.fD.ey()},e.jm=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return tu(i),e={ds:ib.xE,gg:t.src,Wl:t.type,WD:this.GD(t),Oy:this.wD,qD:t.crossOrigin,YD:n.metadata&&n.metadata.title},this.mD.ZR(t.contentProtection),r.next=5,Dr.awrap(this.fD.Kh(e));case 5:this.vD=r.sent,tu(i),n.textTracks&&this.jD(n.textTracks),nb(this.zm);case 9:case"end":return r.stop()}},null,this,null,We)},e.jD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.fD.QD()&&M.hn&&fb&&!Fp(i.kind,i.label)&&this.ZD(i)){var e,r=null!=(e=i.kind)?e:Rp.hA;this.fD.KD(i.src,r,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.gD.DE(i)}}},e.ZD=function(t){return!t.format||"webvtt"===t.format},e.Wm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.fD.Wm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.JD){t.next=12;break}return t.next=10,Dr.awrap(this.fD.du(Tf.zf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],We)},e.Gm=function(){this.fD.Gm()},e.Qm=function(){return void 0!==this.fD.HD.webkitShowPlaybackTargetPicker},e.Zm=function(){this.fD.HD.webkitShowPlaybackTargetPicker&&this.fD.HD.webkitShowPlaybackTargetPicker()},e.Km=function(){this.fD.HD.webkitShowPlaybackTargetPicker&&this.fD.HD.webkitShowPlaybackTargetPicker()},e.uy=function(){return this.fD.HD},e.oy=function(){return this.fD.$D},e.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lD=void 0,this.dD=void 0,this.vD=void 0,t.next=5,Dr.awrap(this.gD.dc());case 5:return this.fD.tN(),t.next=8,Dr.awrap(this.fD.dc());case 8:this._D.dc(),this.Oy=this.wD,this.Hm.dc(),this.Fm.dc(),this.yD=void 0;case 13:case"end":return t.stop()}},null,this,null,We)},e.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.dc());case 2:return this.uu(),this.nN(),this.iN(),this._D.Jc(),this.fD.FD=void 0,t.next=9,Dr.awrap(this.cD.eN(this.fD));case 9:return this.Om.Jc(),this.xm.Jc(),this.Lm.Jc(),t.next=14,Dr.awrap(this.gD.Jc());case 14:case"end":return t.stop()}},null,this,null,We)},e.zD=function(){this.fD.$s(Tf.Ff,this.Ks),this.fD.$s(Tf.Hf,this.Ks),this.fD.$s(Tf.tv,this.SD),this.fD.$s(Tf.zf,this.Ks),this.fD.$s(Tf.xf,this.Ks),this.fD.$s(Tf.Yf,this.Ks),this.fD.$s(Tf.qf,this.ED),this.fD.$s(Tf.Pf,this.Ks),this.fD.$s(Tf.Vf,this.Ks),this.fD.$s(Tf.ev,this.Ks),this.fD.$s(Tf.Nf,this.Ks),this.fD.$s(Tf.Gf,this.ND),this.fD.$s(vm.Jg,this.RD),this.fD.$s(Dg.ag,this.bD),this.fD.$s(Tf.If,this.Ks),this.fD.$s(Tf.Ef,this.UD),this.fD.HD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.DD)},e.nN=function(){this.fD.ou(Tf.Ff,this.Ks),this.fD.ou(Tf.Hf,this.Ks),this.fD.ou(Tf.tv,this.SD),this.fD.ou(Tf.zf,this.Ks),this.fD.ou(Tf.xf,this.Ks),this.fD.ou(Tf.Yf,this.Ks),this.fD.ou(Tf.qf,this.ED),this.fD.ou(Tf.Pf,this.Ks),this.fD.ou(Tf.Vf,this.Ks),this.fD.ou(Tf.ev,this.Ks),this.fD.ou(Tf.Nf,this.Ks),this.fD.ou(Tf.Gf,this.ND),this.fD.ou(vm.Jg,this.RD),this.fD.ou(Dg.ag,this.bD),this.fD.ou(Tf.If,this.Ks),this.fD.ou(Tf.Ef,this.UD),this.fD.HD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.DD)},e.GD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ac:us,rN:[{initDataTypes:[us.gs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.VD=function(){var t=this.fD.HD.audioTracks,n=this.fD.HD.videoTracks;t&&(t.addEventListener("addtrack",this.CD),t.addEventListener("removetrack",this.PD),t.addEventListener("change",this.BD)),n&&(n.addEventListener("addtrack",this.xD),n.addEventListener("removetrack",this.LD),n.addEventListener("change",this.MD))},e.iN=function(){var t=this.fD.HD.audioTracks,n=this.fD.HD.videoTracks;t&&(t.removeEventListener("addtrack",this.CD),t.removeEventListener("removetrack",this.PD),t.removeEventListener("change",this.BD)),n&&(n.removeEventListener("addtrack",this.xD),n.removeEventListener("removetrack",this.LD),n.removeEventListener("change",this.MD))},e.OD=function(t){for(var n=0;n<t.L_;n++){t.C_(n).Gy()}},e.yy=function(){this.fD.yy()},e.TD=function(t,n){this.lD||(this.lD=n,this.dD=t,this.Js(new Nm(t)))},A(i,[{key:"JD",get:function(){var t=this.fD.py,n=this.$g;return t.sN(n,.01)}},{key:"Hm",get:function(){return this.Om}},{key:"py",get:function(){return this.fD.py.uN()}},{key:"by",get:function(){return this.fD.by},set:function(t){t&&this.fD.oN(t)}},{key:"$g",get:function(){return void 0!==this.yD?this.yD:this.fD.$g},set:function(t){this.Ty&&(this.yD=t),this.fD.Uu(t)}},{key:"tm",get:function(){return this.fD.tm}},{key:"nm",get:function(){return this.fD.nm}},{key:"bu",get:function(){return this.lD}},{key:"im",get:function(){return this.dD}},{key:"Vm",get:function(){}},{key:"Ty",get:function(){return this.fD.Ty}},{key:"Sy",get:function(){return Nr({},{Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.fD.aN())}},{key:"um",get:function(){return this.fD.um},set:function(t){this.fD.um=t}},{key:"Py",get:function(){return!0}},{key:"hm",get:function(){return this.fD.hm}},{key:"cm",get:function(){return this.fD.cm},set:function(t){this.fD.cm=t}},{key:"By",get:function(){return this.fD.HD.played}},{key:"Oy",get:function(){return this.wD},set:function(t){this.wD=t,this.vD&&(this.vD.Oy=t)}},{key:"dg",get:function(){return this.fD.dg}},{key:"xy",get:function(){return this.fD.xy.uN()}},{key:"fm",get:function(){return this.fD.fm}},{key:"hN",get:function(){return this.fD.hN}},{key:"zm",get:function(){return this.Lm}},{key:"Fm",get:function(){return this.xm}},{key:"vm",get:function(){return this.fD.vm}},{key:"lm",get:function(){return this.fD.lm}},{key:"dm",get:function(){return this.fD.dm},set:function(t){this.fD.dm=t}},{key:"Ly",get:function(){return this.pD}},{key:"My",get:function(){return this.fD.My},set:function(t){this.fD.My=t}},{key:"cN",get:function(){return this.kD}}]),i}(Ug);var YT=function(){function t(){this.fN=BT.GR}var n=t.prototype;return n.xI=function(t,n,i,e,r,s){return new qT(t,n,i,e,r)},n.vN=function(t,n){return function(t){return!t.type||!(!GT().canPlayType||!GT().canPlayType(t.type))}(t)},n.lN=function(){return!1},t}();function jT(t,n){for(var i=0,e=t.x_;i<e.length;i++){var r=e[i];if(r.jy===n)return r}}var QT=function(){function t(){this.dN=new YT,this.wN=[]}t._N=function(){return this.Yn};var n=t.prototype;return n.gN=function(t){this.wN.push(t)},n.xI=function(t,n,i,e,r,s){for(var u=this.dN.xI(t,n,i,e,r,s),o=0,a=this.wN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.vN=function(t,n){return this.dN.vN(t,n)},n.lN=function(){return!1},A(t,[{key:"fN",get:function(){return this.dN.fN}}]),t}();function ZT(t,n){return Cs(t.fN,n.fN)}function KT(t){JT.Yn.mN(t)}QT.Yn=new QT;var JT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yN=QT._N(),n}S(n,t);var i=n.prototype;return i.kN=function(t){this.yN=t},i.pN=function(){return this.yN},i.bN=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Dr.awrap(this.AN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{TN:e,SN:r});case 8:i++,a.next=1;break;case 11:s=this.yN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.vN(o,n)){a.next=17;break}return a.abrupt("return",{TN:o,SN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{TN:t[0],SN:s});case 21:case"end":return a.stop()}},null,this,null,We)},n}(function(){function t(){this.EN=[]}var n=t.prototype;return n.mN=function(t){this.EN.push(t),this.EN.sort(ZT)},n.AN=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.EN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.vN(t,n))){u.next=10;break}return u.next=7,Dr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,We)},t}());JT.Yn=new JT;var $T,tS=function(){function t(t){this.IN=void 0,this.IN=le&&le.document&&le.document.createElement("div"),er(this.IN),t.appendChild(this.IN)}return t.prototype.Jc=function(){$e(this.IN)},t}();function nS(t){switch(t){case $T.RN:case"":return $T.RN;case $T.fA:return $T.fA;case $T.DN:default:return $T.DN}}!function(t){t.GR="",t.DN="none",t.fA="metadata",t.RN="auto"}($T||($T={}));var iS=[Dg.ag,Tf.Cf,Tf.Au,Tf.ov,Tf.bf,Tf.Bf,Tf.Uf,Tf.Xf,Tf.Qf,Tf.Kf,vm.Yg,vm.jg,vm.Qg,vm.Zg,vm.p_,vm.Kg,vm.Jg,Tf.Ef,Tf.If,Tf.Nf,Tf.Pf,Tf.xf,Tf.Lf,Tf.Ff,Tf.zf,Tf.Hf,Tf.Vf,Tf.Gf,Tf.Yf,Tf.qf,Tf.tv,Tf.ev,Tf.Wf,Tf.Mf,Tf.jf],eS=function(t){function n(n,i){var e;return(e=t.call(this)||this).NN=void 0,e.CN=void 0,e.PN=void 0,e.BN=void 0,e.wD=$T.DN,e.ON=void 0,e.xN=!0,e.Om=new Ng,e.xm=new Ng,e.Lm=new Mg,e.Mm=new Zm,e.NN=n,e.PN=i,e.PN.Oy=e.Oy,e.LN(),e}S(n,t);var i=n.prototype;return i.Gm=function(){this.PN.Gm()},i.Wm=function(){var t=this.PN.Wm();j(t)&&au(t)},i.qm=function(){return this.jm(void 0)},i.Jm=function(){},i.ly=function(t){return!1},i.LN=function(){this.Om.z_=this.PN.Hm,this.xm.z_=this.PN.Fm,this.Lm.z_=this.PN.zm,this.Mm.z_=this.PN.Vm,this.PN.$s(iS,this.Ks)},i.MN=function(){this.PN.ou(iS,this.Ks),this.Om.z_=void 0,this.xm.z_=void 0,this.Lm.z_=void 0,this.Mm.z_=void 0},i.Ym=function(){return this.ON},i.jm=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(tu(n),this.ON=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!um(i=t.sources.filter(fm))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Dr.awrap(this.NN.bN(i,t));case 9:if(e=a.sent,tu(n),r=e.TN,s=e.SN,u=this.oy(),o=Bm(this),this.CN===s&&!this.bu){a.next=25;break}return this.MN(),a.next=19,Dr.awrap(this.PN.Jc());case 19:tu(n),this.CN=s,this.PN=this.UN(s),rS(this.PN,o),Om(this,o,this),this.LN();case 25:return this.PN.Oy=this.Oy,this.xN?this.PN.ey():this.PN.sy(),a.next=29,Dr.awrap(this.PN.jm(r,t,n));case 29:tu(n),this.XN(r),this.oy()!==u&&this.Js(new Hg);case 32:case"end":return a.stop()}},null,this,null,We)},i.XN=function(t){this.BN!==t&&(this.BN=t,this.Js(new Fg(t)))},i.Qm=function(){return this.PN.Qm()},i.Zm=function(){this.PN.Zm()},i.Km=function(){this.PN.Km()},i.oy=function(){return this.PN.oy()},i.yy=function(){this.PN.yy()},i.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ON=void 0,this.XN(void 0),t.next=4,Dr.awrap(this.PN.dc());case 4:case"end":return t.stop()}},null,this,null,We)},i.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uu(),t.next=3,Dr.awrap(this.dc());case 3:return t.next=5,Dr.awrap(this.PN.Jc());case 5:this.Om.Jc(),this.xm.Jc(),this.Lm.Jc(),this.Mm.Jc();case 9:case"end":return t.stop()}},null,this,null,We)},i.ey=function(){this.xN=!0,this.PN.ey()},i.sy=function(){this.xN=!1,this.PN.sy()},A(n,[{key:"Hm",get:function(){return this.Om}},{key:"py",get:function(){return this.PN.py}},{key:"bu",get:function(){return this.PN.bu}},{key:"im",get:function(){return this.PN.im}},{key:"by",get:function(){return this.PN.by},set:function(t){this.PN.by=t}},{key:"gy",get:function(){return this.BN}},{key:"$g",get:function(){return this.PN.$g},set:function(t){this.PN.$g=t}},{key:"tm",get:function(){return this.PN.tm}},{key:"nm",get:function(){return this.PN.nm}},{key:"Vm",get:function(){return this.Mm}},{key:"Ty",get:function(){return this.PN.Ty}},{key:"Sy",get:function(){return this.PN.Sy}},{key:"um",get:function(){return this.PN.um},set:function(t){this.PN.um=t}},{key:"Py",get:function(){return this.PN.Py}},{key:"hm",get:function(){return this.PN.hm}},{key:"cm",get:function(){return this.PN.cm},set:function(t){this.PN.cm=t}},{key:"By",get:function(){return this.PN.By}},{key:"Oy",get:function(){return this.wD},set:function(t){this.wD=t,this.PN&&(this.PN.Oy=this.wD)}},{key:"dg",get:function(){return this.PN.dg}},{key:"xy",get:function(){return this.PN.xy}},{key:"fm",get:function(){return this.PN.fm}},{key:"zm",get:function(){return this.Lm}},{key:"vm",get:function(){return this.PN.vm}},{key:"Fm",get:function(){return this.xm}},{key:"lm",get:function(){return this.PN.lm}},{key:"dm",get:function(){return this.PN.dm},set:function(t){this.PN.dm=t}},{key:"Ly",get:function(){return this.PN.Ly}},{key:"cN",get:function(){return this.PN.cN}}]),n}(du);function rS(t,n){t.um!==n.um&&(t.um=n.um),t.dm!==n.dm&&(t.dm=n.dm),t.cm!==n.cm&&(t.cm=n.cm)}var sS,uS=function(t){function n(n,i){var e;return(e=t.call(this)||this).L_=void 0,e.HN=void 0,e.FN=void 0,e.L_=n.length>>1,e.HN=n,e.FN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.L_),e}S(n,t);var i=n.prototype;return i.zN=function(t){return this.HN[2*t]},i.VN=function(t){return this.FN[2*t]},i.WN=function(t){return this.HN[2*t+1]},i.GN=function(t){return this.FN[2*t+1]},A(n,[{key:"qN",get:function(){return this.HN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Dk=function(t,n){return 0===this.zk(t,n)},n.gp=function(t,n){return this.zk(t,n)>0},n.mp=function(t,n){return this.zk(t,n)>=0},n.Yk=function(t,n){return this.zk(t,n)<0},n.Gk=function(t,n){return this.zk(t,n)<=0},n.Mp=function(t,n){return this.Yk(t,n)?t:n},n.Lp=function(t,n){return this.gp(t,n)?t:n},n.YN=function(t,n,i){return i?this.Gk(t,n):this.Yk(t,n)},n.uN=function(){var t=this;return{get length(){return t.L_},start:function(n){var i=0|n;return t.jN(i),t.QN(t.zN(i))},end:function(n){var i=0|n;return t.jN(i),t.QN(t.WN(i))}}},n.ZN=function(){for(var t=new Array(2*this.L_),n=new Array(2*this.L_),i=0;i<this.L_;i++)t[2*i]=this.zN(i),t[2*i+1]=this.WN(i),n[2*i]=!0,n[2*i+1]=!0;return this.KN(t,n)},n.jN=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.L_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.L_+")")},n.JN=function(t){if(0===this.L_)return this.$N();if(this.sN(t))return t;if(this.Gk(t,this.zN(0)))return this.zN(0);if(this.mp(t,this.WN(this.L_-1)))return this.WN(this.L_-1);for(var n,i=this.tC(),e=0;e<this.L_;e++){var r=this.zN(e),s=this.qk(r,t);this.Yk(s,i)&&(n=r,i=s);var u=this.WN(e),o=this.qk(this.WN(e),t);this.Yk(o,i)&&(n=u,i=o)}return n},n.nC=function(t){for(var n=0,i=0,e=[],r=[];n<this.L_&&i<t.L_;){var s=this.zN(n),u=this.WN(n),o=this.VN(n),a=this.GN(n),h=t.zN(i),c=t.WN(i),f=t.VN(i),v=t.GN(i),l=this.Lp(s,h),d=this.Mp(u,c),w=void 0;w=this.Dk(s,h)?o&&f:this.Dk(l,s)?o:f;var _=void 0;_=this.Dk(u,c)?a&&v:this.Dk(d,u)?a:v,(this.Yk(l,d)||w&&_&&this.Dk(l,d))&&(e.push(l,d),r.push(w,_));var g=this.zk(this.WN(n),t.WN(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.KN(e,r)},n.iC=function(){var t=this.eC(),n=t.L_;if(0===n)return this.KN([t.rC(),t.tC()],[!1,!1]);var i=[],e=[],r=t.zN(0);t.Dk(r,t.rC())||(i.push(t.rC(),r),e.push(!1,!t.VN(0)));for(var s=0;s<n-1;s++)i.push(t.WN(s),t.zN(s+1)),e.push(!t.GN(s),!t.VN(s+1));var u=t.WN(n-1);return t.Dk(u,t.tC())||(i.push(u,t.tC()),e.push(!t.GN(n-1),!1)),t.KN(i,e)},n.sC=function(t){for(var n=0,i=0,e=this.L_,r=t.L_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.zN(n),h=this.WN(n),c=t.zN(i),f=t.WN(i);this.Yk(a,c)||this.Dk(a,c)&&this.Yk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.VN(n),u[o+1]=this.GN(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.VN(i),u[o+1]=t.GN(i),i++),o+=2}for(;n<e;)s[o]=this.zN(n),s[o+1]=this.WN(n),u[o]=this.VN(n),u[o+1]=this.GN(n),n++,o+=2;for(;i<r;)s[o]=t.zN(i),s[o+1]=t.WN(i),u[o]=t.VN(i),u[o+1]=t.GN(i),i++,o+=2;return this.KN(s,u)},n.uC=function(t){void 0===t&&(t=this.$N());var n=this.L_;if(n<2)return this;for(var i=[],e=[],r=this.zN(0),s=this.WN(0),u=this.VN(0),o=this.GN(0),a=1;a<n;a++){var h=this.zN(a),c=this.WN(a),f=this.VN(a),v=this.GN(a);this.Yk(r,h)&&this.gp(s,c)||(this.Dk(r,h)&&(u=f=u||f),this.Dk(s,c)&&(o=v=o||v),this.YN(h,this.Xy(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.KN(i,e).eC()},n.eC=function(){for(var t=[],n=[],i=0;i<this.L_;i++){var e=this.zN(i),r=this.WN(i),s=this.VN(i),u=this.GN(i);this.Dk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.KN(t,n)},n.oC=function(t){return this.L_?t.L_?this.sC(t).uC():this:t},n.aC=function(t){var n=this.eC(),i=t.eC(),e=n.iC(),r=i.iC(),s=e.nC(i),u=r.nC(n);return s.oC(u)},n.Lu=function(t){if(this.Dk(t,this.$N()))return this;for(var n=[],i=[],e=0;e<this.L_;e++){var r=this.Xy(this.zN(e),t),s=this.Xy(this.WN(e),t);n.push(r,s),i.push(this.VN(e),this.GN(e))}return this.KN(n,i)},n.hC=function(t){return 0===this.L_||0===t.L_?this:this.eC().nC(t.eC().iC())},n.sN=function(t,n){return this.cC(t,n)>=0},n.fC=function(t,n,i,e,r){return this.vC(t,n,i,e,r)>=0},n.lC=function(t,n,i,e,r){return this.dC(t,n,i,e,r)>=0},n.wC=function(t){if(t.L_!==this.L_)return!1;for(var n=0;n<this.L_;n++)if(!this.Dk(this.zN(n),t.zN(n))||!this.Dk(this.WN(n),t.WN(n))||this.VN(n)!==t.VN(n)||this.GN(n)!==t.GN(n))return!1;return!0},n._C=function(t){for(var n=[],i=[],e=0;e<this.L_;e++){var r=this.zN(e),s=this.WN(e),u=this.VN(e),o=this.GN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.KN(n,i)},n.dC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.$N());for(var s=this.Kk(t,r),u=this.Xy(n,r),o=0;o<this.L_;o+=1)if(this.YN(this.zN(o),u,!e||this.VN(o))&&this.YN(s,this.WN(o),!i||this.GN(o)))return o;return-1},n.vC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.$N());for(var s=this.Xy(t,r),u=this.Kk(n,r),o=0;o<this.L_;o+=1)if(this.YN(this.zN(o),s,!i||this.VN(o))&&this.YN(u,this.WN(o),!e||this.GN(o)))return o;return-1},n.cC=function(t,n){return this.vC(t,t,!0,!0,n)},n.gC=function(t,n){void 0===n&&(n=this.$N());for(var i=this.Xy(t,n),e=this.L_-1;e>=0;e-=1)if(this.YN(this.zN(e),i,this.VN(e)))return e;return-1},n.mC=function(t,n){void 0===n&&(n=this.$N());for(var i=this.Kk(t,n),e=0;e<this.L_;e+=1)if(this.YN(i,this.WN(e),this.GN(e)))return e;return-1},n.yC=function(t){return this.jN(t),this.KN([this.zN(t),this.WN(t)],[this.VN(t),this.GN(t)])},n.kC=function(t,n){var i=this.cC(t,n);return i<0?void 0:this.yC(i)},A(t,[{key:"pC",get:function(){for(var t=this.$N(),n=0;n<this.L_;n++){var i=this.Kk(this.WN(n),this.zN(n));t=this.Xy(t,i)}return t}}]),t}()),oS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.zk=function(t,n){return t<n?Ss.Ps:t===n?Ss.Ns:Ss.Cs},i.Xy=function(t,n){return t+n},i.Kk=function(t,n){return t-n},i.qk=function(t,n){return w.abs(t-n)},i.$N=function(){return 0},i.tC=function(){return 1/0},i.rC=function(){return-1/0},n.bC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.AC=function(t){for(var i=[],e=[],r=0;r<t.L_;r++)i.push(t.zN(r).Hp),i.push(t.WN(r).Hp),e.push(t.VN(r)),e.push(t.GN(r));return new n(i,e)},n.TC=function(t){return new n([t,t],[!0,!0])},i.KN=function(t,i){return new n(t,i)},i.QN=function(t){return t},n.SC=function(){return aS},n}(uS),aS=new oS([]);!function(t){t.y_="fullscreenchange",t.EC="fullscreensupportchange",t.ag="fullscreenerror"}(sS||(sS={}));var hS=function(t){function n(){return t.call(this,sS.ag)||this}return S(n,t),n}(_u),cS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$y=function(){this.Js(new hS)},i.ek=function(){},i.Jc=function(){this.uu()},A(n,[{key:"IC",get:function(){return!1}},{key:"RC",get:function(){return!1}}]),n}(du)),fS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).cD=void 0,n.fD=void 0,n}S(n,t);var i=n.prototype;return i.uy=function(){var t;return null==(t=this.fD)?void 0:t.HD},i.Jc=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Jc.call(this));case 2:if(!this.fD){n.next=6;break}return n.next=5,Dr.awrap(this.cD.eN(this.fD));case 5:this.fD=void 0;case 6:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"DC",set:function(t){this.cD=t,this.fD=t.XD(iy.Cd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).NC=0,n.BC=!1,n.OC=!0,n.xC=1,n.LC=!1,n.Pa=1,n.Hm=new ey,n.py=oS.SC().uN(),n.tm=NaN,n.nm=!1,n.bu=void 0,n.im=void 0,n.Vm=void 0,n.Ty=!1,n.Py=!0,n.By=oS.SC().uN(),n.Oy=$T.DN,n.dg=jg.zg,n.xy=oS.SC().uN(),n.hN=void 0,n.zm=new Dp,n.vm=0,n.Fm=new ey,n.lm=0,n.Ly=new WT,n.kD=new UT,n}S(n,t);var i=n.prototype;return i.ey=function(){},i.sy=function(){},i.Wm=function(){this.OC&&(this.OC=!1,this.Js(new wm(this.$g)),this.Js(new lb(this.$g)))},i.Gm=function(){this.OC||(this.OC=!0,this.Js(new pm(this.$g,this.by)),this.Js(new dm(this.$g)))},i.jm=function(t,n){return We.resolve()},i.Qm=function(){return!1},i.Zm=function(){},i.Km=function(){},i.oy=function(){return cS},i.yy=function(){},i.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.NC=0,this.LC=!1,this.Gm(),this.Js(new lm(this.NC));case 4:case"end":return t.stop()}},null,this,null,We)},i.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.uu(),this.Hm.Jc(),this.zm.Jc(),this.Fm.Jc();case 4:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"by",get:function(){},set:function(t){}},{key:"$g",get:function(){return this.NC},set:function(t){this.NC!==t&&(this.NC=t,this.LC=!0,this.Js(new Tm(this.$g)))}},{key:"Sy",get:function(){return{Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"um",get:function(){return this.BC},set:function(t){this.BC!==t&&(this.BC=t,this.Js(new Em(this.$g,this.dm)))}},{key:"hm",get:function(){return this.OC}},{key:"cm",get:function(){return this.xC},set:function(t){this.xC!==t&&(this.xC=t,this.Js(new km(this.$g,this.cm)))}},{key:"fm",get:function(){return this.LC}},{key:"dm",get:function(){return this.Pa},set:function(t){this.Pa!==t&&(this.Pa=t,this.Js(new Em(this.$g,this.dm)))}},{key:"My",get:function(){return!1},set:function(t){}},{key:"cN",get:function(){return this.kD}}]),n}(du)),vS=function(t){function n(n,i,e,r,s,u){var o,a=new fS;return(o=t.call(this,JT.Yn,a)||this).Lc=void 0,o.MC=void 0,o.UC=void 0,o.XC=void 0,o.IE=void 0,o.HC=void 0,o.FC=void 0,o.UC=n,o.Lc=i,o.IE=e,o.HC=r,o.XC=u,o.MC=new ce(s,o.XC),o.MC.zC(o.UC),a.DC=o.MC,o.FC=new tS(o.UC),o}S(n,t);var i=n.prototype;return i.Jm=function(){t.prototype.Jm.call(this),this.MC.VC()},i.$m=function(t){var n,i,e,r;n=this,e=(i=t).dm,r=i.um,n.dm=e,n.um=r},i.iy=function(){},i.UN=function(t){return t.xI(this.UC,this.MC,this.IE,this.Lc,this.HC,this.XC)},i.uy=function(){return this.PN.uy()},i.vy=function(){return this.MC.WC.map(function(t){return t.HD})},i.nu=function(n){t.prototype.nu.call(this,n)},i.vu=function(n){t.prototype.vu.call(this,n)},i.Jc=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Jc.call(this));case 2:this.MC.Jc(),this.FC.Jc();case 4:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"Ay",get:function(){return this.UC}},{key:"My",get:function(){return this.PN.My},set:function(t){this.PN.My=t}}]),n}(eS),lS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).UC=void 0,r.GC=void 0,r.qC=void 0,r.YC=void 0,r.jC=void 0,r.pD=new WT,r.UC=n,r.GC=i,r.YC=new ey,r.jC=new Dp,r.qC=e,r}S(n,t);var i=n.prototype;return i.ly=function(t){return!0},i.sy=function(){},i.Wm=function(){throw this.Js(new Nm(this.qC)),this.GC},i.Gm=function(){},i.Ym=function(){},i.jm=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw tu(n),this.Js(new Nm(this.qC)),this.GC;case 3:case"end":return t.stop()}},null,this,null,We)},i.ey=function(){},i.qm=function(){return We.resolve()},i.uy=function(){},i.oy=function(){return cS},i.vy=function(){return[]},i.Jm=function(){},i.$m=function(t){},i.iy=function(){},i.Qm=function(){return!1},i.Zm=function(){},i.Km=function(){},i.yy=function(){},i.dc=function(){return We.resolve()},i.Jc=function(){return this.uu(),this.YC.Jc(),this.jC.Jc(),We.resolve()},A(n,[{key:"Hm",get:function(){return this.YC}},{key:"py",get:function(){return oS.SC().uN()}},{key:"by",get:function(){return new Date(NaN)},set:function(t){}},{key:"gy",get:function(){}},{key:"$g",get:function(){return 0},set:function(t){}},{key:"tm",get:function(){return 0}},{key:"Ay",get:function(){return this.UC}},{key:"nm",get:function(){return!0}},{key:"bu",get:function(){return this.GC}},{key:"im",get:function(){return this.qC}},{key:"Vm",get:function(){}},{key:"Sy",get:function(){return{Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"um",get:function(){return!1},set:function(t){}},{key:"Py",get:function(){return!0}},{key:"hm",get:function(){return!0}},{key:"cm",get:function(){return 0},set:function(t){}},{key:"By",get:function(){return oS.SC().uN()}},{key:"Oy",get:function(){return $T.DN},set:function(t){}},{key:"dg",get:function(){return jg.zg}},{key:"xy",get:function(){return oS.SC().uN()}},{key:"fm",get:function(){return!1}},{key:"zm",get:function(){return this.jC}},{key:"vm",get:function(){return 0}},{key:"Fm",get:function(){return this.YC}},{key:"lm",get:function(){return 0}},{key:"dm",get:function(){return 1},set:function(t){}},{key:"Ly",get:function(){return this.pD}},{key:"My",get:function(){return!1},set:function(t){}},{key:"Ty",get:function(){return!1}}]),n}(Xg);function dS(t){if(t&&W(t))return Nr({},t,{integration:wS(t.integration),fairplay:pS(t.fairplay),widevine:_S(t.widevine),playready:gS(t.playready),clearkey:bS(t.clearkey),aes128:AS(t.aes128),integrationParameters:TS(t.integrationParameters),preferredKeySystems:SS(t.preferredKeySystems)})}function wS(t){if(q(t))return t}function _S(t){if(t&&W(t))return{persistentState:mS(t.persistentState),distinctiveIdentifier:mS(t.distinctiveIdentifier),audioRobustness:yS(t.audioRobustness),videoRobustness:yS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:kS(t.licenseType),headers:t.headers,useCredentials:!!Y(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||Mo(t.certificate)?t.certificate:void 0}}function gS(t){if(t){var n=_S(t);if(n)return Nr({},n,{customData:q(t.customData)?t.customData:void 0})}}function mS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function yS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function kS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function pS(t){if(t){var n=_S(t);if(n)return Nr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function bS(t){if(t){var n=_S(t);if(n)return Nr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function AS(t){if(W(t))return{useCredentials:Y(t.useCredentials)?t.useCredentials:void 0}}function TS(t){if(W(t))return t}function SS(t){return t&&z(t)?t.map(function(t){return cA(t)}).filter(H):[Kr,jr,ns]}var ES,IS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(_u),RS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).QC=[],e.ZC=void 0,e.KC=function(t){ou(function(){e.Ks(t)})},e.ZC=i?e.KC:e.Ks,e}S(n,t);var i=n.prototype;return i.JC=function(t){t.nu(this.ZC),this.QC.push(t)},i.$C=function(t){t.vu(this.ZC),Us(this.QC,t)},i.Jc=function(){this.uu();for(var t=0,n=this.QC;t<n.length;t++){n[t].vu(this.ZC)}Fs(this.QC)},n}(Ug),DS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(RS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(ES||(ES={}));var NS,CS=function(t){function i(n){var i;return(i=t.call(this)||this).tP=void 0,i.nP=void 0,i.iP=!1,i.eP=!1,i.rP=void 0,i.sP=void 0,i.uP=void 0,i.s_=void 0,i.oP=function(){return i.aP()},i.hP=function(){return i.cP()},i.uP=n,i.tP=i.nP=i.rP=i.sP=ES.INLINE,i.uP.$s(sS.y_,i.oP),i.uP.$s(sS.ag,i.hP),i.fP(),i}S(i,t);var e=i.prototype;return e.o_=function(){return t=this,i={get currentMode(){return t.vP()},requestMode:function(n){var i=BS(n);i&&t.lP(i)},supportsMode:function(n){var i=BS(n);return!!i&&t.dP(i)},addEventListener:function(t,i){n.$s(t,i)},removeEventListener:function(t,i){n.ou(t,i)}},(n=new RS(i,!0)).JC(t),i;var t,n,i},e.lP=function(t){this.wP(t,t)},e.wP=function(t,n){this.nP!==n&&(this.iP=!0,this.tP=t,this._P(n,this.nP),t!==ES.FULLSCREEN&&(this.rP=t),this.iP=!1,this.fP())},e.vP=function(){return this.eP?ES.FULLSCREEN:ES.INLINE},e.dP=function(t){switch(t){case ES.FULLSCREEN:return this.uP.RC;case ES.INLINE:return!0}return!1},e.fP=function(){if(!this.iP){var t=this.nP,n=this.vP();this.nP=n,n!==ES.FULLSCREEN&&(this.sP=n),t!==n&&this.Js(new IS(n))}},e._P=function(t,n){var i=t===ES.FULLSCREEN;this.eP=i,i!==this.uP.IC&&(i?this.uP.$y():this.uP.ek())},e.aP=function(){if(!this.iP){var t=this.uP.IC;this.eP=t,t?this.wP(ES.FULLSCREEN,ES.FULLSCREEN):t||this.tP!==ES.FULLSCREEN?this.fP():this.wP(this.rP,this.sP)}},e.cP=function(){this.aP(),this.Js(new Nm(new tf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Jc=function(){this.uP.Jc(),this.uu()},A(i,[{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}}]),i}(Ug),PS={$g:0,tm:NaN,nm:!1,bu:void 0,im:void 0,um:!1,hm:!0,cm:1,dg:jg.zg,fm:!1,vm:0,lm:0,dm:1};function BS(t){switch(t){case ES.INLINE:case ES.FULLSCREEN:case ES.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(NS||(NS={}));var OS,xS,LS,MS,US,XS,HS,FS,zS=function(){function t(){this.gP=[]}var n=t.prototype;return n.mP=function(t){var n=this.yP.filter(function(n){return n.kP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.pP=function(t){this.gP.push(t)},A(t,[{key:"yP",get:function(){return this.gP}}]),t}();zS.Yn=new zS,function(t){t.Jg="PLAYING",t.Nm="PAUSED",t.bP="SEEK",t.AP="STALLED",t.TP="FAILED",t.SP="INITIAL_BUFFERING",t.EP="NO_ACCESS"}(OS||(OS={})),function(t){t.IP="HTTP_REQUEST_STATUS_CODE_1XX",t.RP="HTTP_REQUEST_STATUS_CODE_2XX",t.DP="HTTP_REQUEST_STATUS_CODE_3XX",t.NP="HTTP_REQUEST_STATUS_CODE_4XX",t.CP="HTTP_REQUEST_STATUS_CODE_5XX",t.PP="BUFFER_LENGTH",t.BP="BYTES_RECEIVED",t.OP="SEGMENT_READ_BITRATE",t.xP="SEGMENT_PROFILE_BITRATE",t.LP="NUMBER_OF_FRAMES_DROPPED",t.MP="PLAYBACK_POSITION",t.UP="NUMBER_OF_FRAMES_DECODED",t.XP="PLAYBACK_DELTA_TO_ORIGIN",t.HP="STREAM_DELTA_TO_ORIGIN",t.FP="ORIGIN_TIMESTAMP"}(xS||(xS={})),function(t){t.zP="MANIFEST_URI",t.VP="ASSET_DURATION",t.WP="NUMBER_OF_CONTENT_PROFILES",t.GP="CDN",t.qP="CONTENT_TITLE",t.YP="SERVICE_NAME",t.jP="CONTENT_TYPE",t.QP="CONTENT_DESCRIPTION"}(LS||(LS={})),function(t){t.ZP="shutdown_normal_shutdown"}(MS||(MS={})),function(t){t.KP="session/",t.JP="internalError/",t.$P="drmError/",t.tB="caError/",t.nB="networkError/"}(US||(US={})),function(t){t.iB="userAction",t.eB="endOfStreamReached"}(XS||(XS={})),function(t){t.PAUSE="rB",t.RESUME="sB"}(HS||(HS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(FS||(FS={}));var VS,WS,GS,qS,YS,jS="agama";function QS(t){return function(t){switch(t){case VS.NONE:case VS.HORIZONTAL:case VS.VERTICAL:return!0;default:return!1}}(t)?t:VS.NONE}function ZS(t){switch(t){case"":return VS.NONE;case"horizontal":return VS.HORIZONTAL;case"vertical":return VS.VERTICAL;default:throw new l}}function KS(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!q(t))return WS.RN;switch(t){case"always":return WS.uB;case"never":return WS.oB;case"clear-only":return WS.CLEAR_ONLY;case"same-drm-only":return WS.SAME_DRM_ONLY;default:return WS.RN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function JS(t){if(!t||!q(t))return GS.RN;switch(t){case"playlist":return GS.aB;case"media":return GS.hB;default:return GS.RN}}function $S(t,n){return t.length>0?t:n.length>0?n:void 0}function tE(t){if(null!==t)return t}function nE(t){var n={};if(!W(t))return n;var i=t;for(var e in i)if(d.prototype.hasOwnProperty.call(i,e)){var r=i[e];q(r)&&(n[e]=r)}return n}function iE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:tE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:tE(t.authToken),omidAccessModeRules:t.omidAccessModeRules?nE(t.omidAccessModeRules):void 0};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.Ar("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.Ar("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.Ar("A Live DAI configuration was provided without valid assetKey which is required.")}i.Ar("A DAI configuration was provided without a valid availabilityType which is required.")}function eE(t){if(!iA(t)||!t.integration)return t;switch(t.integration){case Tb:return n=t,i=hA(zr.hs,n),e=hA(zr.us,n),r=n[zr.vs]&&hA(zr.vs,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(VS||(VS={})),function(t){t.RN="auto",t.uB="always",t.oB="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(WS||(WS={})),function(t){t.RN="auto",t.aB="playlist",t.hB="media"}(GS||(GS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(qS||(qS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(YS||(YS={}));var rE="https://content.uplynk.com";function sE(t){if(!t)return!0;var n,i,e=!(sm(n=t.sources)||V(n)&&sm(n[0]))||um(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function uE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(em(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function oE(t,n,i){return nm(t)?function(t,n,i){var e=Nr({},om(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:qS.VERIZON_MEDIA,id:"",prefix:rE,preplayParameters:{},playbackUrlParameters:{},assetType:YS.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return YS.CHANNEL;case"event":return YS.EVENT;case"asset":default:return YS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=_g(t.contentProtected));t.assetInfo?e.assetInfo=_g(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=yg(t.prefix)||rE);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!Y(o.adImpressions)&&o.adImpressions,h=!!Y(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=Y(o.linearAdData)?o.linearAdData:u!==YS.ASSET):u!==YS.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=hE(e=cE(e=aE(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=am(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=Kg(t),r){var s=dS(r);e.contentProtection=eE(s)}}else if(em(t)||tm(t)){e.src=t.src,e.type=t.type||Kg(t.src),e.isAdvertisement=t.isAdvertisement;var u=rm(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=dS(a);e.contentProtection=eE(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return iE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=aE(e,t)}var c;return e=hE(e=cE(e,n,i),t,i)}(t,n,i)}function aE(t,n){var i,e;n.useCredentials?t.crossOrigin=Wg.Fg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Wg.Hg:case Wg.Fg:return t;default:return Wg.Xg}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=_g(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=_g(n.useNativePlayback)),n.dash&&(t.dash=KS(n.dash)),n.hls&&(t.hls={discontinuityAlignment:JS(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=_g(n.lcevc));var r=void 0!==n.experimentalRendering?_g(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?_g(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function hE(t,n,i){return t.abr=function(t,n){var i=kg(null==t?void 0:t.preferredAudioCodecs,yg),e=kg(null==t?void 0:t.preferredVideoCodecs,yg),r=kg(null==n?void 0:n.preferredAudioCodecs,yg),s=kg(null==n?void 0:n.preferredVideoCodecs,yg),u=$S(i,r),o=$S(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function cE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Wg.Xg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Wg.Hg),t.useCredentials=t.crossOrigin===Wg.Fg,q(r)&&!t.timeServer&&(t.timeServer=r),t}function fE(t){var n={src:""};if(t&&t.src){if(n.src=yg(t.src),"default"in t&&(n.default=_g(t.default)),n.kind=Cp(t.kind),function(t){switch(t){case my.DEFAULT:case my.SRT:case my.TTML:case my.WEBVTT:case my.EMSG:case my.EVENT_STREAM:case my.ID3:case my.CEA608:case my.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function vE(t,n){if(G(t))try{return n.mP(t).cB(t)}catch(t){return}}function lE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function dE(t){return t.integration===NS.SPOTX&&!m(t.id)}function wE(t){return"freewheel"===t.integration}function _E(t,n,i){if(void 0===i&&(i=zS.Yn),sE(t))return{sources:[am()]};var e=vg(t);if(e.sources=function(t,n,i){if(sm(t))return[oE(t,n,i)];if(V(t)&&sm(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(oE(s,n,i))}return e}return[am()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=vE(s,n))&&(lE(s)||dE(s)||wE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!um(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=fE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=yg(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=QS(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?ZS(u.stereoMode):VS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=cm(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=vg(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==jS&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Cm(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=gg(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var gE=function(){function t(t){this.fB=t}return t.prototype.vB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.fB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.fB.indexOf(t.charAt(n))<<18|this.fB.indexOf(t.charAt(n+1))<<12|(s=this.fB.indexOf(t.charAt(n+2)))<<6|(u=this.fB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.lB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.fB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.fB.charAt(e)+this.fB.charAt(r)+this.fB.charAt(s)+this.fB.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t.pb=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.dB=new t(t.pb.vB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function mE(t){return"string"==typeof t}function yE(t){return"number"==typeof t}var kE={}.toString;var pE,bE=Array.isArray||function(t){return"[object Array]"===kE.call(t)};function AE(t,n){return bE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(pE||(pE={}));var TE,SE=d.keys(pE).map(function(t){return pE[t]});function EE(t){return-1!==SE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(TE||(TE={}));var IE,RE=d.keys(TE).map(function(t){return TE[t]});function DE(t){return-1!==RE.indexOf(t)}function NE(t){try{var n=gE.dB.vB(t),i=JSON.parse(n);if(!function(t,n){var i,e=(l=t,"object"==typeof l&&null!==l),r=mE(t.key),s=mE(t.customer_id),u=yE(t.generation_date),o=yE(t.expiration_date),a=AE(t.domains_page,mE),h=AE(t.domains_source,mE),c=AE(t.sdks,n?EE:mE),f=(v=t.send_impression,"boolean"==typeof v);var v;var l;t.features?i=AE(t.features,n?DE:mE):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function CE(){return IE||(IE={dd:de.href,wB:le.parent&&le.parent!==r,_B:OE()}),IE}var PE,BE=["http:","https:","ftp:","ws:","wss:"];function OE(){try{return le.top.location.href}catch(t){return le&&le.document&&le.document.referrer}}!function(t){t[t.gB=0]="gB",t[t.mB=1]="mB",t[t.yB=2]="yB"}(PE||(PE={}));var xE,LE=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.kB=t,this.pB=n,this.bB=i,this.AB=e,this.TB=r,this.SB=s,this.EB=u,this.IB=o,this.RB=a};!function(t){t.mB="expired",t.DB="invaliddomain",t.NB="invalidsource",t.CB="invalidfeature",t.ag="error"}(xE||(xE={}));var ME=function(){function t(t,n,i){this.PB=void 0,this.BB=t,this.OB=n,this.Jo=i,this.PB=VE(this.Jo)}var n=t.prototype;return n.xB=function(t,n){var i=[];sm(t.sources)?i=[t.sources]:V(t.sources)&&(i=t.sources),this.LB(t,i,n),this.MB(i,n)},n.LB=function(t,n,i){var e=this;if(!sE(t)&&0!==i.bB.length&&!HE(i.bB)&&!n.every(function(t){return e.UB(t,i)})){var r=xE.NB,s=GE.XB(r);throw new tf(UE(r),s)}},n.MB=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];em(e)&&rm(e)&&this.HB([TE.HESP],n)}},n.FB=function(n){return this.zB(n.IB)&&this.VB(n)?t.WB(n.AB)?PE.gB:PE.mB:PE.yB},n.HB=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(!Hs(n.TB,e)){var r=xE.CB,s=GE.GB(r,e);throw new tf(UE(r),s)}}},n.zB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.qB(t)})},n.qB=function(t){return"ios"===function(t){switch(t){case pE.ANDROID:return e.g;case pE.ANDROIDTV:case pE.FIRETV:return e.I;case pE.IOS:return e.R;case pE.TVOS:return e.N;case pE.CHROMECAST:case pE.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.WB=function(t){var n=Number(new Date);return!!t&&n<=t},n.VB=function(t){return!(this.PB&&0!==t.pB.length&&!HE(t.pB))||!!(this.PB&&this.YB(t.pB)&&this.jB(t.pB))},n.YB=function(t){return FE(this.Jo.dd,t)},n.jB=function(t){if(!this.Jo.wB)return!0;if(this.BB)return!0;var n=this.QB();return!!n&&FE(n,t)},n.QB=function(){if(this.Jo.wB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Jo._B?this.Jo._B:void 0}},n.UB=function(n,i){return!!t.ZB(n,i.bB)},t.ZB=function(t,n){return FE(this.KB(t),n)},t.KB=function(t){return q(t)?t:em(t)&&t.src||""},t}();function UE(t){switch(t){case xE.DB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case xE.NB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case xE.mB:return n.ErrorCode.LICENSE_EXPIRED;case xE.CB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case xE.ag:return n.ErrorCode.LICENSE_ERROR}}function XE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function HE(t){return t.some(function(t){return"*"===t})}function FE(t,n){var e=i.Lr(t);if(!zE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(XE(e.hostname,s))return!0;if(XE(dw(t),s))return!0}return!1}function zE(t){return-1!==BE.indexOf(t.protocol)}function VE(t){var n=i.Lr(t.dd);return zE(n)&&!XE(n.hostname,"localhost")&&!function(t){return XE(t.hostname,"theoplayer.doubleclick.net")}(n)}var WE,GE=function(){function t(){}return t.GB=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.XB=function(t){return t===xE.DB?this.JB:t===xE.NB?this.$B:t===xE.mB?this.tO:t===xE.CB?this.nO:this.iO},t}();function qE(t){var n=[t.SS,t.eO,t.rO];switch(t.eO){case WE.sO:n.push(t.gg);break;case WE.uO:n.push(t.$g),n.push(t.bu);break;case WE.oO:n.push(t.bu)}return n}GE.iO="The license for this player is invalid.",GE.tO="The usage license for this video player has expired.",GE.JB="The current domain is incompatible with the license for this player.",GE.$B="The provided video source is incompatible with the license for this player.",GE.nO="The requested feature is not available with the license for this player.",function(t){t[t.sO=1]="sO",t[t.uO=4]="uO",t[t.oO=5]="oO"}(WE||(WE={}));for(var YE=new Array(256),jE=0;jE<256;jE+=1)YE[jE]=(jE<16?"0":"")+jE.toString(16);function QE(){var t=Vt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return YE[255&n]+YE[n>>>8&255]+YE[n>>>16&255]+YE[n>>>24&255]+"-"+YE[255&i]+YE[i>>>8&255]+"-"+YE[i>>>16&15|64]+YE[i>>>24&255]+"-"+YE[63&e|128]+YE[e>>>8&255]+"-"+YE[e>>>16&255]+YE[e>>>24&255]+YE[255&r]+YE[r>>>8&255]+YE[r>>>16&255]+YE[r>>>24&255]}var ZE=function(){function t(t){this.fB=void 0,this.fB=t}var n=t.prototype;return n.vB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.fB.indexOf(t.charAt(n))<<18|this.fB.indexOf(t.charAt(n+1))<<12|(s=this.fB.indexOf(t.charAt(n+2)))<<6|(u=this.fB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.lB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.fB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.fB.charAt(i)+this.fB.charAt(e)+this.fB.charAt(r)+this.fB.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function KE(){return i.dr()}ZE.pb=new ZE(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),ZE.dB=new ZE(ZE.pb.vB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var JE,$E="theoplayer-session-id";function tI(){if(!JE){var t=kf.Nu($E);t?JE=t:(JE=QE(),kf.kf($E,JE))}return JE}var nI=/[^\x00-\x7E]/g;function iI(t){return"\\u"+gs(t.charCodeAt(0).toString(16),4,"0")}var eI=0,rI=1,sI=6e4;function uI(t){var n,i,e,r,s,u=(n=function(t){return[t.aO,t.rc,t.kB,t.HA,t.hO,t.cO,t.fO.map(qE)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(nI,iI));return ZE.dB.lB(u)}var oI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=ZE.pb),void 0===r&&(r=eI),void 0===s&&(s=rI),this.vO=[],this.lO=null,this.dO=0,this.wO="unknown",this.Ga=0,this._O=void 0,this.gO=function(){KE()-u.dO>sI&&u.Pe()},this.mO=function(){u.Pe(!0)},this.yh=t,this.IE=n,this.yO=i,this.kO=e,this.pO=r,this.bO=s,ve.AO(this.mO),this._O=c(this.gO,sI)}var n=t.prototype;return n.TO=function(){return Boolean(this.hO)},n.SO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.yO.EO());case 2:if(i.sent.RB){i.next=5;break}return i.abrupt("return");case 5:return n={eO:WE.sO,rO:Vt(),gg:t},i.next=8,Dr.awrap(this.IO(n));case 8:case"end":return i.stop()}},null,this,null,We)},n.RO=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={eO:WE.uO,rO:Vt(),$g:n,bu:t},e.next=3,Dr.awrap(this.IO(i));case 3:case"end":return e.stop()}},null,this,null,We)},n.DO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={eO:WE.oO,rO:Vt(),bu:t},i.next=3,Dr.awrap(this.IO(n));case 3:case"end":return i.stop()}},null,this,null,We)},n.IO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.yO.EO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.kO.lB(n.kB)){i.next=6;break}if(t.eO===WE.oO){i.next=6;break}return i.abrupt("return");case 6:if(t.eO===WE.sO?this.CO():this.TO()||this.CO(),t.SS=this.Ga++,this.vO.push(t),(e=t.eO)!==WE.sO&&e!==WE.oO){i.next=14;break}return i.next=12,Dr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.vO.length>this.pO)){i.next=19;break}return i.next=17,Dr.awrap(this.PO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,We)},n.Pe=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.vO.length>0)){n.next=6;break}return n.next=4,Dr.awrap(this.PO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,We)},n.BO=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.yO.EO());case 2:return n=i.sent,i.abrupt("return",{aO:Vt(),rc:tI(),kB:this.kO.lB(n.kB)||"dev",HA:this.yh,hO:this.lO,cO:this.wO,fO:t});case 4:case"end":return i.stop()}},null,this,null,We)},n.PO=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.vO.splice(0,this.bO),e.next=4,Dr.awrap(this.BO(n));case 4:i=e.sent,t?this.Xd(i):this.OO(i),this.dO=KE();case 7:case"end":return e.stop()}},null,this,null,We)},n.OO=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=uI(t),i=new uw({dd:"https://license.theoplayer.com",Gl:n,Md:!1,od:Sf.$n,ud:{"Content-Type":VA.uR},Od:4e3,Bd:nw.POST}),r.prev=2,r.next=5,Dr.awrap(this.IE.vd(i));case 5:return e=r.sent,r.next=8,Dr.awrap(e.zl());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],We)},n.Xd=function(t){var n=uI(t);this.IE.Xd({dd:"https://license.theoplayer.com",Gl:n,Wl:VA.uR})},n.CO=function(){this.TO()&&this.Pe(),this.lO=QE(),this.Ga=0},n.Jc=function(){ve.xO(this.mO),f(this._O),this.Pe()},A(t,[{key:"fO",get:function(){return this.vO}},{key:"hO",get:function(){return this.lO}}]),t}();var aI=M.Rn||M.hn&&M.On<13;function hI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var cI=function(){function t(t){this.SN=void 0,this.s_=void 0,this.LO=void 0,this.SN=t}var n=t.prototype;return n.MO=function(t){if(!t||!t.drawImage)return!1;var n=this.SN.uy();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.UO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.SN,a=o.uy();if(!a)return!1;if(aI){this.LO||(this.LO=s.createElement("canvas"));var h=this.LO,c=h.getContext("2d"),f=o.lm,l=o.vm,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===l||(h.width=f,h.height=l),c.drawImage(a,0,0,f,l);var _=!1;f>0&&hI(c,f-1,0)&&(h.width=d,_=!0),l>0&&hI(c,0,l-1)&&(h.height=w,_=!0),_&&c.drawImage(a,0,0,f,l),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"u_",get:function(){return this.s_||(this.s_=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.MO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.UO(n,i,e,r,s,u)}}));var t}}]),t}(),fI=function(t){function n(n,i){var e;return(e=t.call(this,"XO")||this).Uk=n,e.yT=i,e}return S(n,t),n.prototype.o_=function(){return new vI(this.Uk,this.yT)},n}(Z_),vI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(_u),lI=function(t,n){this.Ay=void 0,this.HO=void 0,this.Ay=t,this.HO=n},dI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).FO=void 0,e.zO=0,e.VO=0,e.WO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.VO=n.width,e.zO=n.height,e.HO(e.VO,e.zO)}},e.FO=new le.ResizeObserver(e.WO),e.FO.observe(e.Ay),e}return S(n,t),n.prototype.Jc=function(){this.FO.disconnect()},A(n,[{key:"GO",get:function(){return this.zO}},{key:"qO",get:function(){return this.VO}}]),n}(lI),wI=0;var _I,gI=h,mI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,yI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function kI(){return _I||(_I=le&&le.document&&le.document.createElement("span")),_I}mI&&yI||(mI=function(t){var n=KE(),i=w.max(0,16-(n-wI)),e=a(function(){return t(n+i)},i);return wI=n+i,e},yI=gI),mI=mI.bind(t),yI=yI.bind(t);var pI=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==le&&"function"==typeof le.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});le.addEventListener("testPassiveEventSupport",K,n),le.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}}();var bI=Pr();function AI(t){return bI.has(t)||bI.set(t,function(t){var n=kI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<pI.length;e++){var r=pI[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),bI.get(t)}function TI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function SI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[AI("transition")]="0s"}var EI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).YO=void 0,u.jO=0,u.VO=NaN,u.zO=NaN,u.QO=void 0,u.ZO=void 0,u.KO=void 0,u.JO=void 0,u.$O=void 0,u.dc=function(){u.ZO.style.width=1e5+"px",u.ZO.style.height=1e5+"px",u.QO.scrollLeft=1e5,u.QO.scrollTop=1e5,u.KO.scrollLeft=1e5,u.KO.scrollTop=1e5,0===u.KO.scrollTop&&mI(u.dc)},u.tx=function(){var t=u.qO,n=u.GO;u.HO(t,n),u.VO=t,u.zO=n,u.dc(),u.jO=0},u.nx=function(){if(!u.jO){var t=u.qO,n=u.GO;t===u.VO&&n===u.zO||(u.jO=mI(u.tx))}},u.ix=function(){u.$O||(u.$O=a(u.ex,66))},u.ex=function(){u.$O=void 0,u.sx()},u.sx=function(){u.nx()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.YO=c,u.QO=s.createElement("div"),u.ZO=s.createElement("div"),u.KO=s.createElement("div"),u.JO=s.createElement("div"),TI(u.QO),TI(u.KO),SI(u.ZO),SI(h=u.JO),h.style.width="200%",h.style.height="200%",c.appendChild(u.QO),c.appendChild(u.KO),u.QO.appendChild(u.ZO),u.KO.appendChild(u.JO),n.appendChild(c),u.QO.addEventListener("scroll",u.nx),u.KO.addEventListener("scroll",u.nx),r&&r.addEventListener("resize",u.ix),u.nx(),u}return S(n,t),n.prototype.Jc=function(){yI(this.jO),this.jO=0,this.QO.removeEventListener("scroll",this.nx),this.KO.removeEventListener("scroll",this.nx),$e(this.YO),r&&r.removeEventListener("resize",this.ix)},A(n,[{key:"GO",get:function(){return this.Ay.getBoundingClientRect().height||this.zO||0}},{key:"qO",get:function(){return this.Ay.getBoundingClientRect().width||this.VO||0}}]),n}(lI),II=function(t){function n(n){var i;return(i=t.call(this)||this).Ay=void 0,i.FO=void 0,i.WO=function(t,n){i.Js(new fI(t,n))},i.Ay=n,i}S(n,t);var i=n.prototype;return i.vc=function(t){this.FO||("function"==typeof le.ResizeObserver?this.FO=new dI(this.Ay,this.WO):this.FO=new EI(this.Ay,this.WO,t))},i.Jc=function(){this.uu(),this.FO&&(this.FO.Jc(),this.FO=void 0)},A(n,[{key:"GO",get:function(){return this.FO?this.FO.GO:0}},{key:"qO",get:function(){return this.FO?this.FO.qO:0}}]),n}(du),RI=function(t){function n(){return t.call(this,sS.y_)||this}return S(n,t),n}(_u);var DI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{ux:i[0],ox:i[1],ax:i[2],hx:i[3],vx:i[4],lx:i[5]}}}(),NI=function(t){function n(){return t.call(this,sS.EC)||this}return S(n,t),n}(_u),CI=function(t){function n(i){var e;return(e=t.call(this)||this).Ay=void 0,e.RC=void 0,e.IC=!1,e.wx=function(){return e.oP()},e._x=function(){return e.hP()},e.Ay=i,e.RC=n.gx(i),s.addEventListener(DI.vx,e.wx),e.oP(),e}S(n,t),n.gx=function(t){return Boolean(DI&&s[DI.hx]&&DI.ux in t)};var i=n.prototype;return i.$y=function(){var t=this.Ay[DI.ux]();t&&t.then?t.then(this.wx,this._x):(s.removeEventListener(DI.lx,this._x),s.addEventListener(DI.lx,this._x))},i.ek=function(){var t=s[DI.ox]();t&&t.then?t.then(this.wx,this._x):(s.removeEventListener(DI.lx,this._x),s.addEventListener(DI.lx,this._x))},i.oP=function(){var t=this.IC,n=this.Ay===s[DI.ax];this.IC=n,t!==n&&this.Js(new RI)},i.hP=function(){this.Js(new hS)},i.Jc=function(){this.uu(),s.removeEventListener(DI.vx,this.wx),s.removeEventListener(DI.lx,this._x)},n}(du),PI=function(t){function n(i){var e;return(e=t.call(this)||this).Ay=void 0,e.RC=void 0,e.IC=!1,e.wx=function(){return e.oP()},e.Ay=i,e.RC=n.gx(i),e.Ay.addEventListener("webkitbeginfullscreen",e.wx),e.Ay.addEventListener("webkitendfullscreen",e.wx),e.Ay.addEventListener("webkitpresentationmodechanged",e.wx),e.oP(),e}S(n,t),n.gx=function(t){return M.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.$y=function(){var t=this;this.Ay.webkitSupportsPresentationMode&&this.Ay.webkitSupportsPresentationMode("fullscreen")?M.hn?requestAnimationFrame(function(){return t.Ay.webkitSetPresentationMode("fullscreen")}):this.Ay.webkitSetPresentationMode("fullscreen"):this.Ay.webkitEnterFullscreen()},i.ek=function(){this.Ay.webkitSupportsPresentationMode&&this.Ay.webkitSupportsPresentationMode("inline")?this.Ay.webkitSetPresentationMode("inline"):this.Ay.webkitExitFullscreen()},i.oP=function(){var t,n=this.IC;t=this.Ay.webkitPresentationMode?"fullscreen"===this.Ay.webkitPresentationMode:!!this.Ay.webkitDisplayingFullscreen,this.IC=t,n!==t&&this.Js(new RI)},i.Jc=function(){this.uu(),this.Ay.removeEventListener("webkitbeginfullscreen",this.wx),this.Ay.removeEventListener("webkitendfullscreen",this.wx),this.Ay.removeEventListener("webkitpresentationmodechanged",this.wx)},n}(du),BI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mx=[],n.yx=void 0,n.eP=!1,n.oP=function(){var t=n.eP,i=n.kx();t!==i&&(n.eP=i,n.Js(new RI))},n}S(n,t);var i=n.prototype;return i.$y=function(){this.yx?this.yx.$y():this.Js(new hS)},i.ek=function(){for(var t=0,n=this.mx;t<n.length;t++){var i=n[t];i.IC&&i.ek()}},i.bx=function(t){this.yx=t},i.Ax=function(t){this.mx.push(t),t.$s(sS.y_,this.oP),t.$s(sS.ag,this.Ks),this.oP()},i.Tx=function(t){Us(this.mx,t),t.ou(sS.y_,this.oP),t.ou(sS.ag,this.Ks)},i.kx=function(){for(var t=0,n=this.mx;t<n.length;t++){if(n[t].IC)return!0}return!1},i.dc=function(){this.yx=void 0,this.eP=!1;for(var t=this.mx.slice(),n=0;n<t.length;n++){var i=t[n];this.Tx(i),i.Jc()}this.oP()},i.Jc=function(){this.uu(),this.dc()},A(n,[{key:"RC",get:function(){return!!this.yx&&this.yx.RC}},{key:"IC",get:function(){return this.eP}}]),n}(du),OI=function(t){function n(n,i){var e;return(e=t.call(this)||this).SN=void 0,e.Sx=void 0,e.Ex=void 0,e.Ix=!1,e.Rx=function(){return e.$h()},e.oP=function(t){e.Ix||e.Js(t)},e.SN=n,e.Sx=i,e.Ex=cS,e.Dx(),e.SN.$s(Tf.Bf,e.Rx),e.$h(),e}S(n,t);var i=n.prototype;return i.$y=function(){this.Sx&&this.Ex.$y()},i.ek=function(){this.Ex.ek()},i.Dx=function(){this.Ex.$s(sS.y_,this.oP),this.Ex.$s(sS.ag,this.Ks)},i.Nx=function(){this.Ex.ou(sS.y_,this.oP),this.Ex.ou(sS.ag,this.Ks)},i.$h=function(){var t=this.Ex,n=this.SN.oy();if(t!==n){this.Ix=!0;var i=this.IC,e=this.RC;i&&this.ek(),this.Nx(),this.Ex=n,this.Dx(),i&&!this.IC&&this.RC?this.$y():this.ek(),this.Ix=!1,e!==this.RC&&this.Js(new NI),i!==this.IC&&this.Js(new RI)}},i.Jc=function(){this.uu(),this.Nx(),this.SN.ou(Tf.Bf,this.Rx)},A(n,[{key:"RC",get:function(){return!!this.Sx&&this.Ex.RC}},{key:"IC",get:function(){return this.Ex.IC}}]),n}(du);function xI(t){var n;return{get url(){return t.dd},get method(){return t.Bd},get headers(){return n||(n=t.ud.wv()),n},get body(){return t.Gl},get useCredentials(){return t.Md},get type(){return HI(t.ds)},get subType(){return zI(t.xd)},get mediaType(){return WI(t.Ld)},get responseType(){return MI(t.od)}}}function LI(t){switch(t.toLowerCase()){case"arraybuffer":return Sf.hv;case"json":return Sf.fv;case"stream":return Sf.vv;case"text":default:return Sf.$n}}function MI(t){return t}function UI(t){switch(t.toUpperCase()){case"POST":return nw.POST;case"PUT":return nw.PUT;case"DELETE":return nw.DELETE;case"HEAD":return nw.HEAD;case"OPTIONS":return nw.OPTIONS;case"GET":default:return nw.GET}}function XI(t){switch(t.toLowerCase()){case"manifest":return iw.md;case"segment":return iw.yd;case"preload-hint":return iw.kd;case"content-protection":return iw.pd;default:return iw._d}}function HI(t){return t}function FI(t){switch(t.toLowerCase()){case"initialization-segment":return ew.bd;case"fairplay-license":return ew.Ad;case"fairplay-certificate":return ew.Td;case"widevine-license":return ew.Sd;case"widevine-certificate":return ew.Ed;case"playready-license":return ew.Id;case"clearkey-license":return ew.Rd;case"aes128-key":return ew.Dd;default:return ew._d}}function zI(t){return t}function VI(t){switch(t.toLowerCase()){case"audio":return rw.Nd;case"video":return rw.Cd;case"text":return rw.$n;case"image":return rw.Pd;case"":default:return rw._d}}function WI(t){return t}var GI=function(){function t(t,n){this.Cx=new Wo,this.Px=[],this.s_=void 0,this.Bx=!1,this.Kd=void 0,this.Ox=0,this.xx=t,this.Lx=n}var n=t.prototype;return n.DA=function(){this.Bx=!0,this.Cx.ju(null)},n.Mx=function(){this.Cx.Qu(new Bd(this.Px))},n.Ux=function(t){if(!this.Xx)throw new l("Cannot respond more than once");if(!W(t))throw new l("Expected valid response");this.Kd=this.Hx(t),this.DA()},n.Fx=function(){try{var t=this.Lx(this.u_);t?this.zx(t):this.Vx||this.Wx||this.DA()}catch(t){this.Px.push(t),this.Mx()}},n.zx=function(t){if(this.Wx)throw new v("Request has been redirected or a response already exists");if(j(t))this.Gx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Wo;try{var i=t(function(t){t?n.Qu(t):n.ju(void 0)});j(i)&&n.ju(i)}catch(t){n.Qu(t)}this.Gx(n.Wu)}},n.Gx=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Ox++,n.next=4,Dr.awrap(t);case 4:this.Ox--,this.Vx||this.Wx||(this.Px.length?this.Mx():this.DA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.Ox--,this.Px.push(n.t0),this.Vx||this.Wx||this.Mx();case 13:case"end":return n.stop()}},null,this,[[0,8]],We)},A(t,[{key:"qx",get:function(){return this.Cx.Wu}},{key:"u_",get:function(){return this.s_||(this.s_=this.Yx()),this.s_}},{key:"Wx",get:function(){return this.Bx}},{key:"Xx",get:function(){return!this.Bx}},{key:"Vx",get:function(){return this.Ox>0}},{key:"Jd",get:function(){return this.Kd}}]),t}(),qI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).jx=void 0,r.jx=e,r.Fx(),r}S(n,t),n.Qx=function(t,n,i){var e=void 0===t.body?i:t.body;return new sw({Fi:e,vd:n.vd,od:n.vd.od,ud:t.headers,rd:t.status,hd:t.statusText,ld:t.url,fd:!0},n)};var i=n.prototype;return i.Yx=function(){return i=xI((t=this).vd),{get closed(){return!t.Xx},get request(){return i},get url(){return t.dd},get status(){return t.rd},get statusText(){return t.hd},get headers(){return n||(n=t.ud.wv()),n},get body(){return t.Gl},respondWith:function(n){return t.Ux(n)},waitUntil:function(n){return t.zx(n)}};var t,n,i},i.Hx=function(t){return n.Qx(t,this.xx,this.jx)},A(n,[{key:"Gl",get:function(){return this.jx}},{key:"ud",get:function(){return this.xx.ud}},{key:"vd",get:function(){return this.xx.vd}},{key:"Jd",get:function(){return this.Kd}},{key:"rd",get:function(){return this.xx.rd}},{key:"hd",get:function(){return this.xx.hd}},{key:"dd",get:function(){return this.xx.ld}}]),n}(GI),YI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Zx=void 0,r.Kx=void 0,r.Kx=e,r.Fx(),r}S(n,t);var i=n.prototype;return i.Yx=function(){return t=this,{get url(){return t.dd},get method(){return t.Bd},get headers(){return n||(n=t.ud.wv()),n},get body(){return t.Gl},get closed(){return!t.Xx},get useCredentials(){return t.Md},get type(){return HI(t.ds)},get subType(){return zI(t.xd)},get mediaType(){return WI(t.Ld)},get responseType(){return MI(t.od)},redirect:function(n){return t.Jx(n)},respondWith:function(n){return t.Ux(n)},waitUntil:function(n){return t.zx(n)}};var t,n},i.Hx=function(t){var n=this.xx.Gl,i=new sw({Fi:n,ud:{},vd:this.xx,ld:this.xx.dd,od:this.xx.od,rd:200,hd:"OK"});return qI.Qx(t,i,n)},i.Jx=function(t){if(!this.Xx)throw new l("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.Zx=function(t,n){return new uw({dd:void 0===t.url?n.dd:t.url,Bd:void 0!==t.method?UI(t.method):void 0,ud:t.headers,Gl:t.body,Md:t.useCredentials,ds:void 0!==t.type?XI(t.type):void 0,xd:void 0!==t.subType?FI(t.subType):void 0,Ld:void 0!==t.mediaType?VI(t.mediaType):void 0,od:void 0!==t.responseType?LI(t.responseType):void 0},n)}(n,this.xx),this.DA()},A(n,[{key:"Gl",get:function(){return this.xx.Gl}},{key:"Xx",get:function(){return this.Kx&&!this.Bx}},{key:"ud",get:function(){return this.xx.ud}},{key:"Bd",get:function(){return this.xx.Bd}},{key:"$x",get:function(){return this.Zx}},{key:"Jd",get:function(){return this.Kd}},{key:"od",get:function(){return this.xx.od}},{key:"Od",get:function(){return this.xx.Od}},{key:"Ys",get:function(){return this.xx.Ys}},{key:"ds",get:function(){return this.xx.ds}},{key:"xd",get:function(){return this.xx.xd}},{key:"Ld",get:function(){return this.xx.Ld}},{key:"dd",get:function(){return this.xx.dd}},{key:"Md",get:function(){return this.xx.Md}},{key:"Ud",get:function(){return this.xx.Ud}}]),n}(GI);var jI,QI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new ZI(n);return(e=t.call(this,r,i)||this).tL=void 0,e.tL=r,e}S(n,t);var i=n.prototype;return i.nL=function(t){this.tL.nL(t)},i.iL=function(t){this.tL.iL(t)},i.eL=function(t){this.tL.eL(t)},i.rL=function(t){this.tL.rL(t)},i.sL=function(t){this.tL.sL(t)},n}(aw),ZI=function(){function t(t){this.Hd=void 0,this.uL=[],this.oL=[],this.Hd=t}var n=t.prototype;return n.vd=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.aL(t,t.Ys));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof ww)){i.next=12;break}return i.next=11,Dr.awrap(this.hL(i.t0,t.Ys));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Dr.awrap(this.cL(n,t.Ys));case 15:if(!tw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new gw(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],We)},n.Xd=function(t){return this.Hd.Xd(t)},n.aL=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:tu(n),i=t,r=0,s=this.uL.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],tu(n),(o=new YI(i,u,!e)).Wx){a.next=17;break}return a.prev=8,a.next=11,Dr.awrap(o.qx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.$x&&!e?i=o.$x:o.Jd&&!e&&(e=o.Jd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Hd.vd(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],We)},n.hL=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof gw?t.Jd:new sw({Fi:null,vd:t.vd,rd:0,hd:""}),r.next=3,Dr.awrap(this.cL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!tw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new gw(e);case 13:case"end":return r.stop()}},null,this,null,We)},n.cL=function(t,n){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.oL.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],tu(n),a.next=7,Dr.awrap(We.resolve(i.Xu().Fi(n)));case 7:if(u=a.sent,(o=new qI(i,s,u)).Wx){a.next=19;break}return a.prev=10,a.next=13,Dr.awrap(o.qx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.Jd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],We)},n.nL=function(t){this.uL.unshift(t)},n.iL=function(t){this.uL.push(t)},n.eL=function(t){Us(this.uL,t)},n.rL=function(t){this.oL.unshift(t)},n.sL=function(t){Us(this.oL,t)},n.Jc=function(){this.Hd.Jc(),Fs(this.uL),Fs(this.oL)},t}(),KI=function(){function t(t){this.s_=void 0,this.IE=t}var n=t.prototype;return n.nL=function(t){this.IE.nL(t)},n.eL=function(t){this.IE.eL(t)},n.rL=function(t){this.IE.rL(t)},n.sL=function(t){this.IE.sL(t)},A(t,[{key:"u_",get:function(){var t;return this.s_||(this.s_=(t=this,{addRequestInterceptor:function(n){t.nL(n)},removeRequestInterceptor:function(n){t.eL(n)},addResponseInterceptor:function(n){t.rL(n)},removeResponseInterceptor:function(n){t.sL(n)}})),this.s_}}]),t}(),JI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).s_=void 0,r.fL=function(t){r.Js(t)},r.vL=function(t){r.Js(t)},r.lL=n,r.IE=i,r.HC=e,r.lL.$s(Tf.Xf,r.fL),r.lL.$s(Tf.Uf,r.vL),r}S(n,t);var i=n.prototype;return i.dL=function(t){this.HC.dL(t)},i.nL=function(t){this.IE.nL(t)},i.eL=function(t){this.IE.eL(t)},i.rL=function(t){this.IE.rL(t)},i.sL=function(t){this.IE.sL(t)},i.Jc=function(){this.uu(),this.lL.ou(Tf.Xf,this.fL),this.lL.ou(Tf.Uf,this.vL)},A(n,[{key:"u_",get:function(){var t;return this.s_||(this.s_=(t=this,{get online(){return t.Py},get estimator(){return n=t.wL,{get bandwidth(){return n.YR},get roundTripTime(){return n.jR}};var n},setEstimator:function(n){t.dL(function(t){if(t)return{get YR(){return mg(t.bandwidth)},get jR(){return mg(t.roundTripTime)},qR:function(n){return function(t){if(t)return{_L:function(n){t.markRequestStart(n)},gL:function(n){t.markResponseStart(n)},mL:function(n,i){t.markResponseData(n,i)},yL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(xI(n)))}}}(n))},addRequestInterceptor:function(n){t.nL(n)},removeRequestInterceptor:function(n){t.eL(n)},addResponseInterceptor:function(n){t.rL(n)},removeResponseInterceptor:function(n){t.sL(n)},addEventListener:function(n,i){t.$s(n,i)},removeEventListener:function(n,i){t.ou(n,i)}})),this.s_}},{key:"Py",get:function(){return this.lL.Py}},{key:"wL",get:function(){return this.HC.wL}}]),n}(du);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(jI||(jI={}));var $I=30,tR=1,nR=5;function iR(t,n,i,e,r,s){var u=[],o=t-w.max(s,tR),a=t+r;if(n&&i){var h=Mt(i,tR,nR),c=n-h;o=w.min(o,c);var f=n+i+h;a=w.max(a,f)}return 0!==o&&e.lC(0,o)&&u.push([0,o]),e.lC(a,1/0)&&u.push([a,1/0]),u}function eR(t){return t instanceof v&&"QuotaExceededError"===t.name}var rR={type:jI.BANDWIDTH},sR=20;function uR(t){var n,i,e,r=vg(rR);return q(t)?r.type=oR(t):W(t)&&function(t){switch(t){case jI.PERFORMANCE:case jI.QUALITY:case jI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=oR(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=gg(n.bitrate),m(e)||(i.bitrate=e),i)),r}function oR(t){switch(t){case"bandwidth":return jI.BANDWIDTH;case"performance":return jI.PERFORMANCE;case"quality":return jI.QUALITY}}var aR=function(t){function n(n){var i;return(i=t.call(this,"pL")||this).kL=n,i}return S(n,t),n}(_u),hR=function(t){function n(n){var i;return(i=t.call(this,"AL")||this).bL=n,i}return S(n,t),n}(_u),cR=function(t){function n(n){var i;return(i=t.call(this,"SL")||this).TL=n,i}return S(n,t),n}(_u),fR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).s_=(i=Kt(n),{get strategy(){return{metadata:(t=i.bL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.bL=uR(t)},get targetBuffer(){return i.kL},set targetBuffer(t){var n=gg(t);m(n)||(i.kL=n)},get bufferLookbackWindow(){return i.TL},set bufferLookbackWindow(t){var n=gg(t);m(n)||(i.TL=n<=0?$I:n)},get maxBufferLength(){return i.EL}}),n.IL=rR,n.RL=sR,n.DL=$I,n.NL=1/0,n.CL=void 0,n.PL=void 0,n}S(n,t);var i=n.prototype;return i.BL=function(t){this.PL=t},i.dL=function(t){this.CL=t},i.OL=function(t){var n=w.min(t,.8*this.NL);if(n=w.max(10,n),this.NL===n)return!1;var i=this.xL;this.NL=n;var e=this.xL;return e!==i&&this.Js(new aR(e)),!0},A(n,[{key:"LL",get:function(){switch(this.IL.type){case jI.PERFORMANCE:return 0;case jI.QUALITY:return 1/0;case jI.BANDWIDTH:return this.IL.metadata&&void 0!==this.IL.metadata.bitrate?this.IL.metadata.bitrate:8*zg.Pg();default:return 8*zg.Pg()}}},{key:"u_",get:function(){return this.s_}},{key:"bL",get:function(){return this.IL},set:function(t){this.IL=t,this.Js(new hR(t))}},{key:"kL",get:function(){return this.RL},set:function(t){this.RL=t,this.Js(new aR(t))}},{key:"xL",get:function(){return w.min(this.RL,this.NL)}},{key:"TL",get:function(){return this.DL},set:function(t){this.DL=t,this.Js(new cR(t))}},{key:"EL",get:function(){return this.NL}},{key:"wL",get:function(){var t;return null!=(t=this.CL)?t:this.PL.cN}}]),n}(du),vR=function(t){function n(){return t.call(this,"k_")||this}return S(n,t),n.prototype.o_=function(){return new lR},n}(Z_),lR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(_u),dR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).ML=void 0,r.vO=void 0,r.UL=function(t){K_(t)&&ou(function(){r.Js(t.u_)})},r.ML=n,r.vO=i;for(var s=0,u=r.vO;s<u.length;s++){var o=u[s];r.ML.$s(o,r.UL)}return r}return S(n,t),n.prototype.Jc=function(){this.uu();for(var t=0,n=this.vO;t<n.length;t++){var i=n[t];this.ML.ou(i,this.UL)}},n}(du),wR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).ML=void 0,e.UL=function(t){K_(t)&&ou(function(){e.Js(t.u_)})},e.ML=n,e.ML.nu(e.UL),e}return S(n,t),n.prototype.Jc=function(){this.uu(),this.ML.vu(this.UL)},n}(Ug);var _R=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).bk=0,n.Ak=1/0,n.s_=void 0,n}S(n,t);var i=n.prototype;return i.dc=function(){0===this.bk&&this.Ak===1/0||(this.bk=0,this.Ak=1/0,this.Js(new vR))},i.XL=function(){return new oS([this.hk,this.ck],[!0,!0])},A(n,[{key:"hk",get:function(){return this.bk},set:function(t){if(this.ck<=t)throw new v("Start time of a clip should be smaller than the end time.");this.bk!==t&&(this.bk=t,this.Js(new vR))}},{key:"ck",get:function(){return this.Ak},set:function(t){if(t<=this.hk)throw new v("End time of a clip should be larger than the start time.");this.Ak!==t&&(this.Ak=t,this.Js(new vR))}},{key:"u_",get:function(){var t,n,i;return this.s_||(this.s_=(i={get startTime(){return t.hk},set startTime(n){t.hk=n},get endTime(){return t.ck},set endTime(n){t.ck=n},addEventListener:function(t,i){n.$s(t,i)},removeEventListener:function(t,i){n.ou(t,i)}},n=new wR(t=this,i),i)),this.s_}}]),n}(Ug),gR=function(t){function n(n){var i;return(i=t.call(this)||this).HL=function(t){i.FL(t)||i.Js(t)},i.zL=n,i.zL.nu(i.HL),i}S(n,t);var i=n.prototype;return i.VL=function(){return this.zL.Hm},i.vy=function(){return this.zL.vy()},i.WL=function(){return this.zL.py},i.GL=function(){return this.zL.gy},i.qL=function(){return this.zL.by},i.YL=function(t){this.zL.by=t},i.jL=function(){return this.zL.$g},i.QL=function(t){this.zL.$g=t},i.ZL=function(){return this.zL.tm},i.KL=function(){return this.zL.Ay},i.JL=function(){return this.zL.nm},i.$L=function(){return this.zL.bu},i.tM=function(){return this.zL.im},i.nM=function(){return this.zL.Ty},i.iM=function(){return this.zL.um},i.eM=function(t){this.zL.um=t},i.rM=function(){return this.zL.Py},i.sM=function(){return this.zL.hm},i.uM=function(){return this.zL.cm},i.oM=function(t){this.zL.cm=t},i.aM=function(){return this.zL.By},i.hM=function(){return this.zL.Oy},i.cM=function(t){this.zL.Oy=t},i.fM=function(){return this.zL.dg},i.vM=function(){return this.zL.xy},i.lM=function(){return this.zL.fm},i.Ym=function(){return this.zL.Ym()},i.jm=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),i.next=3,Dr.awrap(this.zL.jm(t,n));case 3:case"end":return i.stop()}},null,this,null,We)},i.dM=function(){return this.zL.zm},i.wM=function(){return this.zL.vm},i._M=function(){return this.zL.Fm},i.gM=function(){return this.zL.lm},i.mM=function(){return this.zL.dm},i.yM=function(t){this.zL.dm=t},i.oy=function(){return this.zL.oy()},i.uy=function(){return this.zL.uy()},i.$m=function(t){this.zL.$m(t)},i.iy=function(){this.zL.iy()},i.sy=function(){this.zL.sy()},i.Jm=function(){this.zL.Jm()},i.Gm=function(){this.zL.Gm()},i.Wm=function(){this.zL.Wm()},i.ey=function(){this.zL.ey()},i.qm=function(){return this.zL.qm()},i.Qm=function(){return this.zL.Qm()},i.Zm=function(){this.zL.Zm()},i.Km=function(){this.zL.Km()},i.dc=function(){return this.zL.dc()},i.Jc=function(){return this.zL.Jc()},i.yy=function(){this.zL.yy()},i.ly=function(t){return this.zL.ly(t)},i.FL=function(t){return!1},A(n,[{key:"Hm",get:function(){return this.VL()}},{key:"py",get:function(){return this.WL()}},{key:"by",get:function(){return this.qL()},set:function(t){this.YL(t)}},{key:"gy",get:function(){return this.GL()}},{key:"$g",get:function(){return this.jL()},set:function(t){this.QL(t)}},{key:"tm",get:function(){return this.ZL()}},{key:"Ay",get:function(){return this.KL()}},{key:"nm",get:function(){return this.JL()}},{key:"bu",get:function(){return this.$L()}},{key:"im",get:function(){return this.tM()}},{key:"Vm",get:function(){return this.zL.Vm}},{key:"Ty",get:function(){return this.nM()}},{key:"Sy",get:function(){return this.zL.Sy}},{key:"um",get:function(){return this.iM()},set:function(t){this.eM(t)}},{key:"Py",get:function(){return this.rM()}},{key:"hm",get:function(){return this.sM()}},{key:"cm",get:function(){return this.uM()},set:function(t){this.oM(t)}},{key:"By",get:function(){return this.aM()}},{key:"Oy",get:function(){return this.hM()},set:function(t){this.cM(t)}},{key:"dg",get:function(){return this.fM()}},{key:"xy",get:function(){return this.vM()}},{key:"fm",get:function(){return this.lM()}},{key:"zm",get:function(){return this.dM()}},{key:"vm",get:function(){return this.wM()}},{key:"Fm",get:function(){return this._M()}},{key:"lm",get:function(){return this.gM()}},{key:"dm",get:function(){return this.mM()},set:function(t){this.yM(t)}},{key:"Ly",get:function(){return this.zL.Ly}},{key:"My",get:function(){return this.zL.My},set:function(t){this.zL.My=t}}]),n}(Xg),mR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).kM=void 0,r.pM=!1,r.bM=void 0,r.AM=!1,r.TM=function(){r.SM(),r.EM()},r.SD=function(){r.IM(),r.EM(),r.RM&&r.$g>=r.kM.ck-n.DM&&!r.nm&&(r.bM=mI(r.SD))},r.NM=function(){r.AM=!0},r.CM=function(){r.AM&&(r.AM=!1,r.EM())},r.kM=e,r.kM.$s("k_",r.TM),r.zL.$s("timeupdate",r.SD),r}S(n,t);var i=n.prototype;return i.QL=function(n){var i=this.kM.XL().JN(n);t.prototype.QL.call(this,i),this.EM()},i.JL=function(){return t.prototype.JL.call(this)||this.pM},i.vM=function(){return oS.bC(t.prototype.vM.call(this)).nC(this.kM.XL()).uN()},i.Wm=function(){this.JL()?this.QL(this.PM.start(0)):this.SM(),t.prototype.Wm.call(this),this.EM()},i.jm=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return tu(i),this.pM=!1,this.kM.dc(),e.next=5,Dr.awrap(t.prototype.jm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,We)},i.Jc=function(){return this.kM.ou("k_",this.TM),this.zL.ou("timeupdate",this.SD),this.IM(),t.prototype.Jc.call(this)},i.FL=function(n){switch(n.type){case"seeking":return this.Js(n),this.NM(),!0;case"seeked":case"emptied":return this.Js(n),this.CM(),!0;case"ended":if(this.RM)return!0}return t.prototype.FL.call(this,n)},i.IM=function(){this.bM&&(yI(this.bM),this.bM=void 0)},i.EM=function(){var t=this.$g,i=this.RM&&t>=this.kM.ck-n.Fp;this.pM&&!i?(this.pM=!1,this.hm&&this.Wm()):this.pM||!i||this.fm||this.AM||(this.pM=!0,this.Js(new bm(t)),this.Gm())},i.SM=function(){if(this.tm!==1/0){var t=this.PM,i=oS.bC(t).JN(this.$g);Ut(this.$g,i,n.Fp)||this.QL(i)}},A(n,[{key:"PM",get:function(){return this.vM().length?this.vM():this.kM.XL().uN()}},{key:"RM",get:function(){return this.kM.ck<this.tm}}]),n}(gR);mR.DM=1,mR.Fp=.001;var yR=function(){function t(){this.BM=void 0,this.BM=!1}return A(t,[{key:"OM",get:function(){return this.BM},set:function(t){this.BM=t}}]),t}(),kR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).BM=void 0,e.xM=!1,e.LM=!1,e.BM=i,e}S(n,t);var i=n.prototype;return i.JL=function(){return!this.BM.OM&&t.prototype.JL.call(this)},i.Gm=function(){this.LM=!0,t.prototype.Gm.call(this)},i.Wm=function(){this.LM=!1,t.prototype.Wm.call(this)},i.FL=function(n){if(this.BM.OM)switch(n.type){case"ended":return this.$g=0,this.LM||(this.fm?this.xM=!0:this.Wm()),!0;case"seeked":this.xM&&(this.xM=!1,this.Wm());break;case"pause":if(this.xM||t.prototype.JL.call(this))return!0}return t.prototype.FL.call(this,n)},n}(gR);var pR=function(){function t(t){var n;this.s_=(n=this,{get currentBandwidthEstimate(){return n.Dy},get corruptedVideoFrames(){return n.Iy},get droppedVideoFrames(){return n.Ey},get totalBytesLoaded(){return n.Ny},get bufferedSegments(){return n.Cy}}),this.PN=t}return A(t,[{key:"u_",get:function(){return this.s_}},{key:"Iy",get:function(){return this.PN.MM.Sy.Iy}},{key:"Dy",get:function(){return this.PN.MM.Sy.Dy}},{key:"Ey",get:function(){return this.PN.MM.Sy.Ey}},{key:"UM",get:function(){throw new v("Not implemented")}},{key:"XM",get:function(){throw new v("Not implemented")}},{key:"Ny",get:function(){return this.PN.MM.Sy.Ny}},{key:"Ry",get:function(){return this.PN.MM.Sy.Ry}},{key:"Cy",get:function(){return this.PN.MM.Sy.Cy}}]),t}();function bR(t){if(!t||!sr(t))return{Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Ey:n.droppedVideoFrames,Iy:n.corruptedVideoFrames||0,Ry:n.totalVideoFrames}}return{Ey:t.webkitDroppedFrameCount||0,Iy:0,Ry:t.webkitDecodedFrameCount||0}}var AR=function(t){function n(){return t.call(this,"HM")||this}return S(n,t),n.prototype.o_=function(){return new TR},n}(Z_),TR=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(_u);var SR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).FM=[],n.zM=!1,n.s_=void 0,n.VM=function(){var t=n.zM,i=n.WM;t!==i&&(n.zM=i,n.Js(new AR))},n}S(n,t);var i=n.prototype;return i.GM=function(t){this.FM.push(t),t.$s("statechange",this.VM)},i.Jc=function(){for(var t=0,n=this.FM;t<n.length;t++){n[t].ou("statechange",this.VM)}Fs(this.FM)},A(n,[{key:"WM",get:function(){return this.FM.some(function(t){return t.WM})}},{key:"u_",get:function(){var t,n,i;return this.s_||(this.s_=(i={get casting(){return t.WM},addEventListener:function(t,i){n.$s(t,i)},removeEventListener:function(t,i){n.ou(t,i)}},n=new dR(t=this,["HM"],i),i)),this.s_}}]),n}(du),ER=function(){function t(){}return t.qM=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new uw({dd:t,od:Sf.$n,Bd:nw.GET}),s.next=4,Dr.awrap(n.vd(i));case 4:return e=s.sent,s.next=7,Dr.awrap(e.Fi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),$s(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],We)},t.YM=function(t){try{var i=NE(t);return new LE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new tf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.jM=function(t){void 0===t&&(t=ZE.pb),i.Ar("The baked-in license is used. Please update the configuration with your license.");var n=t.vB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.vB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.vB(n)}),s=Number(new Date(Number(t.vB("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.vB(n)});return new LE(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new LE(t.kB,t.pB,t.bB,864e13,t.TB,t.SB,Date.now(),t.IB,t.RB)},t}(),IR=function(){function t(){}return t.pf=function(){return t.Yn||(t.Yn=RR.bc()?new RR:new yf),t.Yn},t.Bu=function(n){t.pf().Bu(n)},t.yf=function(){t.pf().yf()},t.Nu=function(n){return t.pf().Nu(n)},t.kf=function(n,i){t.pf().kf(n,i)},t.QM=function(n){var i=t.Nu(n);if(void 0!==i)return g(i)},t.ZM=function(n){return"true"===t.Nu(n)},t}();IR.Yn=void 0;var RR=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.bc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Bu=function(n){t.localStorage.removeItem(n)},e.yf=function(){t.localStorage.clear()},e.Nu=function(n){return t.localStorage[n]},e.kf=function(n,i){t.localStorage[n]=i},i}(IR),DR=w.floor(14399999*w.random()-72e5),NR=function(){function t(t,n,i,e,r,s){this.PB=void 0,this.IE=t,this.KM=n,this.JM=i,this.yO=e,this.$M=r,this.Jo=s,this.PB=VE(s)}var i=t.prototype;return i.tU=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.nU(this.$M.license,this.$M.licenseUrl));case 2:t=n.sent,this.yO.iU(t);case 4:case"end":return n.stop()}},null,this,null,We)},i.nU=function(t,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=ER.YM(t):e||(r=ER.jM()),e||(e="https://validate.theoplayer.com/1/"+r.kB),s=this.eU(),!r){v.next=14;break}if((u=this.KM.FB(r))!==PE.gB){v.next=14;break}if(!this.rU(r.AB)||!this.rU(null==s?void 0:s.AB)){v.next=13;break}return v.next=10,Dr.awrap(this.sU(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.KM.FB(s)!==PE.gB){v.next=24;break}if(!this.rU(null==s?void 0:s.AB)){v.next=23;break}return v.next=20,Dr.awrap(this.sU(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:IR.Bu("THEOplayer.license");case 25:return v.next=27,Dr.awrap(ER.qM(e,this.IE));case 27:if(!(h=v.sent)){v.next=37;break}if(c=ER.YM(h),this.KM.FB(c)!==PE.gB){v.next=34;break}return IR.kf("THEOplayer.license",h),v.abrupt("return",c);case 34:IR.Bu("THEOplayer.license"),v.next=39;break;case 37:if(this.PB||!r||u!==PE.mB||e!=="https://validate.theoplayer.com/1/"+r.kB){v.next=39;break}return v.abrupt("return",ER.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.uU(null!=(f=r)?f:c,new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,We)},i.xB=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dr.awrap(this.yO.EO());case 2:if(n=a.sent,!this.rU(n.AB)){a.next=9;break}return e=null!=(i=this.$M.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.kB,a.next=7,Dr.awrap(this.sU(e));case 7:(r=a.sent)&&(this.yO.iU(r),n=r);case 9:if(a.prev=9,(s=this.KM.FB(n))!==PE.yB){a.next=16;break}throw u=xE.DB,new tf(UE(u),GE.XB(u));case 16:if(s!==PE.mB){a.next=19;break}throw o=xE.mB,new tf(UE(o),GE.XB(o));case 19:this.KM.xB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.oU(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],We)},i.HB=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.yO.EO());case 2:n=i.sent;try{this.KM.HB(t,n)}catch(t){this.oU(t)}case 4:case"end":return i.stop()}},null,this,null,We)},i.sU=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr.awrap(ER.qM(t,this.IE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=ER.YM(n),this.KM.FB(i)!==PE.gB){e.next=11;break}return IR.kf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],We)},i.rU=function(t){return!t||Number(new Date)+2592e5+DR>=t},i.eU=function(){var t=IR.Nu("THEOplayer.license");if(t)return ER.YM(t)},i.uU=function(t,n){this.yO.iU(t),this.oU(n)},i.oU=function(t){throw at(t.message),this.JM.DO(t.message),t},t}(),CR=function(){function t(){this.aU=void 0,this.hU=new Wo}var n=t.prototype;return n.iU=function(t){this.aU=t,this.hU.ju()},n.EO=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.aU){t.next=2;break}return t.abrupt("return",We.resolve(this.aU));case 2:return t.next=4,Dr.awrap(this.hU.Wu);case 4:return t.abrupt("return",this.aU);case 5:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"cU",get:function(){return this.aU}}]),t}(),PR=function(t){function n(){return t.call(this,"k_")||this}return S(n,t),n.prototype.o_=function(){return new BR},n}(Z_),BR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(_u);function OR(t){var n,i={get fontFamily(){return t.fU},set fontFamily(n){t.fU=n},get fontColor(){return t.vU},set fontColor(n){t.vU=n},get fontSize(){return t.lU},set fontSize(n){t.lU=n},get backgroundColor(){return t.dU},set backgroundColor(n){t.dU=n},get windowColor(){return t.wU},set windowColor(n){t.wU=n},get edgeStyle(){return t._U},set edgeStyle(n){t._U=n},get marginTop(){return t.gU},set marginTop(n){t.gU=n},get marginBottom(){return t.mU},set marginBottom(n){t.mU=n},get marginLeft(){return t.yU},set marginLeft(n){t.yU=n},get marginRight(){return t.kU},set marginRight(n){t.kU=n},addEventListener:function(t,i){var e=pg(t,yg);n.$s(e,i)},removeEventListener:function(t,i){var e=pg(t,yg);n.ou(e,i)}};return n=new wu(i),t.$s(["k_"],function(t){return n.Js(t.u_)}),i}var xR={fU:void 0,vU:void 0,lU:void 0,dU:void 0,wU:void 0,_U:void 0,pU:void 0,gU:void 0,mU:void 0,yU:void 0,kU:void 0},LR="THEOplayer.textTrackStyle.",MR=function(t){function n(){var i;return(i=t.call(this)||this).bU=void 0,i.s_=void 0,i.bU=n.AU(),i}return S(n,t),n.prototype.$h=function(t){this.bU=Nr({},this.bU,t),n.TU(this.bU),this.Js(new PR)},n.AU=function(){var t=Nr({},xR);return t.fU=IR.Nu(LR+"fontFamily")||t.fU,t.vU=IR.Nu(LR+"fontColor")||t.vU,t.lU=IR.Nu(LR+"fontSize")||t.lU,t.dU=IR.Nu(LR+"backgroundColor")||t.dU,t.wU=IR.Nu(LR+"windowColor")||t.wU,t._U=IR.Nu(LR+"edgeStyle")||t._U,t},n.TU=function(t){IR.kf(LR+"fontFamily",t.fU||""),IR.kf(LR+"fontColor",t.vU||""),IR.kf(LR+"fontSize",t.lU||""),IR.kf(LR+"backgroundColor",t.dU||""),IR.kf(LR+"windowColor",t.wU||""),IR.kf(LR+"edgeStyle",t._U||"")},A(n,[{key:"SU",get:function(){return this.bU}},{key:"fU",get:function(){return this.bU.fU},set:function(t){this.$h({fU:t})}},{key:"vU",get:function(){return this.bU.vU},set:function(t){this.$h({vU:t})}},{key:"lU",get:function(){return this.bU.lU},set:function(t){this.$h({lU:t})}},{key:"dU",get:function(){return this.bU.dU},set:function(t){this.$h({dU:t})}},{key:"wU",get:function(){return this.bU.wU},set:function(t){this.$h({wU:t})}},{key:"_U",get:function(){return this.bU._U},set:function(t){this.$h({_U:t})}},{key:"pU",get:function(){return this.bU.pU}},{key:"gU",get:function(){return this.bU.gU},set:function(t){this.$h({gU:t})}},{key:"mU",get:function(){return this.bU.mU},set:function(t){this.$h({mU:t})}},{key:"kU",get:function(){return this.bU.kU},set:function(t){this.$h({kU:t})}},{key:"yU",get:function(){return this.bU.yU},set:function(t){this.$h({yU:t})}},{key:"u_",get:function(){return this.s_||(this.s_=OR(this)),this.s_}}]),n}(du);function UR(t,n){var i,e;t.style.marginLeft=(null!=(i=n.yU)?i:0)+"px",t.style.marginRight=(null!=(e=n.kU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var XR,HR,FR=function(t){function n(n,e){var r;(r=t.call(this)||this).EU=void 0,r.hc=void 0,r.MM=void 0,r.IU=void 0,r.t_=void 0,r.kM=void 0,r.BM=void 0,r.RU=void 0,r.DU=void 0,r.HC=void 0,r.KM=void 0,r.NU=void 0,r.CU=void 0,r.XC=void 0,r.PU=!1,r.Bm=!1,r.Vy=void 0,r.BU=!1,r.OU=void 0,r.xU=void 0,r.LU=void 0,r.MU=void 0,r.UU=void 0,r.XU=function(t){if(!r.BU){r.BU=!0;var n=r.EU,i=ny(t);r.MM.z_=new lS(r.Ay,i,t),au(n.Jc())}},r.HU=function(t){r.Js(t.u_)},r.FU=function(t){t.type!==Tf.Xf&&t.type!==Tf.Uf&&r.Js(t)};var s=gg(e.uid);m(s)?r.Vy=hy++:r.Vy=s,r.hc=e;var u=i.t_,o=new CR;r.IU=new oI("4.10.0",u,o),r.t_=new QI(u,e.allowMixedContent),r.HC=new fR,r.KM=new ME(e.isEmbeddable,"4.10.0",CE()),r.UU=new NR(u,r.KM,r.IU,o,e,CE()),r.UU.tU().catch(r.XU),r.NU=new II(n),r.NU.$s("XO",r.HU),r.XC=new MR,r.kM=new _R,r.BM=new yR;var a=new vS(n,e,r.t_,r.HC,r.NU,r.XC);r.HC.BL(a);var h=a;h=new mR(h,r.zU),h=new kR(h,r.OM),r.EU=h,r.MM=new Km(r.EU),r.MM.nu(r.FU),r.MU=new pR(Kt(r)),r.xU=new JI(r.MM,r.t_,r.HC),r.RU=new cI(Kt(r)),r.CU=new OI(r.MM,e.allowNativeFullscreen),r.DU=new CS(r.CU),r.NU.vc();var c=new ce(r.NU,r.XC,1,[iy.Cd]);return r.OU=new fe(c),r.LU=new SR,r}S(n,t);var e=n.prototype;return e.eM=function(t){this.MM.um=t,t||this.hm||this.Jm()},e.yM=function(t){this.MM.dm=t},e.VU=function(){Om(this,PS,this)},e.Wm=function(){this.MM.Wm()},e.Gm=function(){this.MM.Gm()},e.jm=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.UU.xB(t).catch(this.XU),i=zR(t),e.next=5,Dr.awrap(this.MM.jm(i,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.Jm=function(){this.Bm||(this.MM.Jm(),this.OU.Jm(),this.Bm=!0)},e.IC=function(){return this.DU.vP()===ES.FULLSCREEN},e.ey=function(){this.MM.ey()},e.sy=function(){this.MM.sy()},e.uy=function(){return this.MM.uy()},e.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.MM.qm());case 2:return t.next=4,Dr.awrap(this.MM.dc());case 4:case"end":return t.stop()}},null,this,null,We)},e.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uu(),this.LU.Jc(),this.t_.Jc(),this.xU.Jc(),this.CU.Jc(),this.DU.Jc(),this.NU.Jc(),this.IU.Jc(),this.OU.Jc(),t.next=11,Dr.awrap(this.MM.Jc());case 11:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"WU",get:function(){return this.HC}},{key:"Um",get:function(){return this.PU},set:function(t){this.PU=t,this.MM.Um=t}},{key:"GU",get:function(){return this.OU}},{key:"Hm",get:function(){return this.MM.Hm}},{key:"qU",get:function(){return this.LU}},{key:"YU",get:function(){return this.NU}},{key:"Vm",get:function(){return this.MM.Vm}},{key:"Sy",get:function(){return this.MU}},{key:"jU",get:function(){return this.xU}},{key:"zm",get:function(){return this.MM.zm}},{key:"QU",get:function(){return this.XC}},{key:"Fm",get:function(){return this.MM.Fm}},{key:"py",get:function(){return this.MM.py}},{key:"zU",get:function(){return this.kM}},{key:"OM",get:function(){return this.BM}},{key:"$g",get:function(){return this.MM.$g},set:function(t){this.MM.$g=t}},{key:"by",get:function(){return this.MM.by},set:function(t){this.MM.by=t}},{key:"gy",get:function(){return this.MM.gy}},{key:"tm",get:function(){return this.MM.tm}},{key:"Ay",get:function(){return this.MM.Ay}},{key:"nm",get:function(){return this.MM.nm}},{key:"bu",get:function(){return this.MM.bu}},{key:"im",get:function(){return this.MM.im}},{key:"um",get:function(){return this.MM.um},set:function(t){var n=Boolean(t);this.eM(n)}},{key:"hm",get:function(){return this.MM.hm}},{key:"cm",get:function(){return this.MM.cm},set:function(t){this.MM.cm=t}},{key:"By",get:function(){return this.MM.By}},{key:"Oy",get:function(){return this.MM.Oy},set:function(t){this.MM.Oy=nS(t)}},{key:"dg",get:function(){return this.MM.dg}},{key:"xy",get:function(){return this.MM.xy}},{key:"fm",get:function(){return this.MM.fm}},{key:"Y_",get:function(){return this.Vy}},{key:"vm",get:function(){return this.MM.vm}},{key:"lm",get:function(){return this.MM.lm}},{key:"dm",get:function(){return this.MM.dm},set:function(t){var n=Mt(Number(t),0,1)||0;this.yM(n)}},{key:"Ly",get:function(){return this.MM.Ly}}]),n}(Xg);function zR(t){t.sources;var n=t.sources.filter(function(t){return F(t.integration)});return t.sources=n,t}!function(t){t[t.ZU=0]="ZU",t[t.KU=1]="KU"}(XR||(XR={})),function(t){t[t.JU=0]="JU"}(HR||(HR={}));var VR={};function WR(t,n){(VR[n]||(VR[n]=[])).push(t)}function GR(t,n){var i=t;if(VR[n])for(var e=0,r=VR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var qR=[];function YR(t){qR.push(t)}var jR=t.CustomEvent;var QR=function(){try{var t=new jR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},ZR=function(){function t(t,n){var i=this;this.PN=void 0,this.$U=void 0,this.tX=!1,this.nX=function(t){i.$U.RO(t.error,i.$g)},this.iX=function(){i.$U.SO(i.eX),i.PN.removeEventListener("playing",i.iX),i.tX=!1},this.rX=function(){i.tX||(i.PN.addEventListener("playing",i.iX),i.tX=!0)},this.$U=n,this.PN=t,this.PN.addEventListener("error",this.nX),this.PN.addEventListener("sourcechange",this.rX),this.rX()}return t.prototype.dc=function(){},A(t,[{key:"$g",get:function(){var t=this.PN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"eX",get:function(){return this.PN.src||""}}]),t}();YR(function(t){new ZR(t.u_,t.IU)});var KR="theoplayer-stored-volume",JR="theoplayer-stored-mutedstate";WR(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=IR.QM(KR);(void 0===r||m(r))&&(r=1);var s=IR.ZM(JR)||!1;e.dm=r,e.um=s}return e}S(n,t);var i=n.prototype;return i.eM=function(n){this.hc.persistVolume&&IR.kf(JR,""+Boolean(n)),t.prototype.eM.call(this,n)},i.yM=function(n){this.hc.persistVolume&&IR.kf(KR,""+Number(n)),t.prototype.yM.call(this,n)},n}(t)},XR.KU);var $R=new(function(){function t(){this.sX=[],this.s_=void 0}var n=t.prototype;return n.C_=function(t){return this.sX[t]},n.uX=function(t){this.sX.push(t),this.u_.push(t.u_)},n.Jh=function(t){var n=this.sX.indexOf(t);n<0||(Xs(this.sX,n),this.s_&&Xs(this.s_,n))},n.oX=function(t){for(var n=0,i=this.sX;n<i.length;n++){var e=i[n];if(e.Y_===t)return e}},A(t,[{key:"L_",get:function(){return this.sX.length}},{key:"u_",get:function(){return this.s_||(this.s_=function(t){for(var n=[],i=0;i<t.L_;i++)n[i]=t.C_(i).u_;return n.getPlayerByUID=function(n){var i=t.oX(n);return i&&i.u_},n}(this)),this.s_}}]),t}());var tD,nD=function(t){function n(n){var i;return(i=t.call(this,Tf.$f)||this).source=n,i}return S(n,t),n}(_u),iD=function(t){function n(){var n;return(n=t.call(this)||this).NC=void 0,n.OC=void 0,n.LC=void 0,n.xC=void 0,n.NC=0,n.OC=!0,n.LC=!1,n.xC=1,n}S(n,t);var i=n.prototype;return i.Wm=function(){this.OC&&(this.OC=!1,this.Js(new wm(this.$g)),this.Js(new lb(this.$g)))},i.Gm=function(){this.OC||(this.OC=!0,this.Js(new pm(this.$g,this.by)),this.Js(new dm(this.$g)))},i.dc=function(){this.NC=0,this.LC=!1,this.xC=1,this.Gm(),this.Js(new lm(this.NC))},i.Jc=function(){this.uu()},i.sy=function(){},i.ey=function(){},A(n,[{key:"by",get:function(){},set:function(t){}},{key:"$g",get:function(){return this.NC},set:function(t){this.LC&&this.NC===t||(this.NC=t,this.LC=!0,this.Js(new Tm(this.$g)))}},{key:"hm",get:function(){return this.OC}},{key:"cm",get:function(){return this.xC},set:function(t){this.xC!==t&&(this.xC=t,this.Js(new km(this.$g,this.cm)))}},{key:"dg",get:function(){return jg.zg}},{key:"fm",get:function(){return this.LC}}]),n}(Ug),eD=function(t){function n(){return t.call(this,Tf.Df)||this}return S(n,t),n}(_u),rD={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},sD={visibility:"hidden"},uD={visibility:"visible"},oD=function(){function t(t){var n,i=this;this.IN=void 0,this.PN=void 0,this.aX=!1,this.hX=void 0,this.cX=void 0,this.fX=function(t){var n;i.aX=!1,i.hX=null==(n=t.source)?void 0:n.poster,i.$h()},this.jE=function(){i.aX=!0,i.sy()},this.PN=t,this.LN(),this.IN=((n=le&&le.document&&le.document.createElement("div")).className="theoplayer-poster",ir(rD,n),n),t.Ay.appendChild(this.IN)}var n=t.prototype;return n.$h=function(){var t=this.PN.hm,n=this.aX;this.dd?this.IN.style.backgroundImage='url("'+this.dd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.IN.style.backgroundImage="",t&&this.dd&&!n?this.ey():this.sy()},n.ey=function(){ir(sD,this.PN.Ay),ir(uD,this.IN)},n.sy=function(){ir(sD,this.IN),ir(uD,this.PN.Ay)},n.LN=function(){this.PN.$s("sourcechange",this.fX),this.PN.$s("play",this.jE)},n.Jc=function(){this.PN.ou("sourcechange",this.fX),this.PN.ou("play",this.jE),$e(this.IN)},A(t,[{key:"dd",get:function(){return void 0!==this.hX?this.hX:void 0!==this.cX?this.cX:void 0}},{key:"vX",set:function(t){this.cX=t,this.$h()}}]),t}();function aD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).PN=void 0,r.lX=void 0,r.dX=void 0,r.wX=void 0,r._X=void 0,r.gX=void 0,r.mX=void 0,r.yX=void 0,r.xN=void 0,r.ON=void 0,r.lD=void 0,r.GC=void 0,r.s_=void 0,r.kX=function(t){t.type!==Tf.Vf&&r.yX.push(t)},r.lX=new t(n,e),r.dX=new iD,r.PN=r.lX,r.wX=new oD(Kt(r)),r.gX=new af,r.mX=!1,r.yX=[],r.xN=!0,r.LN(),r}S(e,i);var r=e.prototype;return r.Zc=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.gX.Zc(t,n).catch(iu));case 1:case"end":return i.stop()}},null,this,null,We)},r.pX=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),this.lX.nu(this.kX),i.prev=2,i.next=5,Dr.awrap(this.lX.jm(t,n));case 5:return i.prev=5,this.lX.vu(this.kX),i.finish(5);case 8:case"end":return i.stop()}},null,this,[[2,,5,8]],We)},r.bX=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Ym())&&!sE(t)&&this.Um&&this.hm){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.hc.mutedAutoplay,e.next=6,Dr.awrap(this.GU.AX(this.um));case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.TX(),e.abrupt("break",14);case 12:return(this.um||n===_m.ALL)&&(this.um=!0,this.Wm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,We)},r.jm=function(t){var i=this,e=this.ON;e&&!sE(e)&&this.Js(new lm(0,0)),this.dc(),this.ON=t,au(this.Zc(function(e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return tu(e),r.prev=1,r.next=4,Dr.awrap(i.pX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.ON=void 0,i.TD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof tf?s:s instanceof v?new tf(u,s.message,s):new tf(u,String(s)))),r.abrupt("return");case 11:return r.prev=11,i.SX(i.lX),r.finish(11);case 14:return i.Js(new nD(i.Ym())),r.next=17,Dr.awrap(i.bX());case 17:case"end":return r.stop()}var s,u},null,null,[[1,6,11,14]],We)}))},r.QL=function(t){this.PN.$g=t},r.$L=function(){var t;return null!=(t=this.GC)?t:this.lX.bu},r.tM=function(){var t;return null!=(t=this.lD)?t:this.lX.im},r.TD=function(t){void 0===this.tM()&&(this.lD=t,this.GC=ny(t),this.Js(new Nm(t)))},r.Wm=function(){this.PN.Wm()},r.TX=function(){this.um||this.Jm(),this.Wm()},r.Jm=function(){this.lX.Jm()},r.Gm=function(){this.PN.Gm()},r.qm=function(){this.jm(void 0)},r.ey=function(){this.xN=!0,this.PN.ey()},r.sy=function(){this.xN=!1,this.PN.sy()},r.VU=function(){this.lX.VU()},r.yM=function(t){this.lX.yM(t)},r.eM=function(t){this.lX.eM(t)},r.EX=function(t){this._X=t,t.uX(this)},r.IC=function(){return this.lX.IC()},r.Ym=function(){return this.ON},r.uy=function(){return this.lX.uy()},r.jL=function(){return this.lX.$g},r.ZL=function(){return this.lX.tm},r.WL=function(){return this.lX.py},r.aM=function(){return this.lX.By},r.vM=function(){return this.lX.xy},r.dc=function(){var t=this;this.ON=void 0,this.lD=void 0,this.GC=void 0,Fs(this.yX),this.dX.dc(),this.SX(this.dX),this.gX.Ws(),au(this.gX.Zc(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(n),i.next=3,Dr.awrap(t.lX.dc());case 3:case"end":return i.stop()}},null,null,null,We)}))},r.Jc=function(){var t=this;this.Js(new eD),this.wX.Jc(),this.MN(),this.dc(),au(this.Zc(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.lX.Jc());case 2:t._X&&(t._X.Jh(t),t._X=void 0),t.gX.Jc();case 4:case"end":return n.stop()}},null,null,null,We)})),this.uu()},r.SX=function(t){if(this.PN!==t){var n=this.PN.hm,i=this.PN.$g,e=this.PN.cm,r=this.PN.fm;this.MN(),t===this.lX?((r||t.$g!==i)&&(t.$g=i),t.cm!==e&&(t.cm=e),n?t.Gm():t.Wm()):this.hc.retainPlaybackRateOnSourceChange?t.cm=e:1!==e&&this.Js(new km(this.jL(),1)),this.PN=t,this.LN();for(var s=0,u=this.yX;s<u.length;s++){var o=u[s];this.Js(o)}Fs(this.yX),this.xN?t.ey():t.sy()}},r.LN=function(){this.PN.nu(this.Ks)},r.MN=function(){this.PN.vu(this.Ks)},r.o_=function(){return t=this,e=function(n){i=n;var e=_E(n,t.hc);t.jm(e)},r={get abr(){return t.WU.u_},get audioTracks(){return t.Hm.u_},get autoplay(){return t.Um},set autoplay(n){t.Um=Boolean(n)},get buffered(){return t.WL()},get canvas(){return t.RU.u_},get clip(){return t.zU.u_},get currentProgramDateTime(){var n;return null!=(n=t.by)?n:null},set currentProgramDateTime(n){t.by=null!=n?n:void 0},get currentTime(){return t.jL()},set currentTime(n){t.QL(Number(n))},get duration(){return t.ZL()},get element(){return t.Ay},get ended(){return t.nm},get error(){return t.$L()},get errorObject(){return t.tM()},get loop(){return t.OM.OM},set loop(n){t.OM.OM=Boolean(n)},get metrics(){return t.Sy.u_},get muted(){return t.um},set muted(n){t.eM(n)},get network(){return t.jU.u_},get paused(){return t.hm},get playbackRate(){return t.cm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.cm=i},get played(){return t.aM()},get poster(){return t.IX},set poster(n){t.IX=yg(n)},get preload(){return t.Oy},set preload(n){t.Oy=n},get presentation(){return t.DU.u_},get readyState(){return t.dg},get seekable(){return t.vM()},get seeking(){return t.fm},get source(){return i},set source(t){e(t)},get src(){return uE(t.Ym())},set src(t){e({sources:t})},get textTracks(){return t.zm.u_},get textTrackStyle(){return t.QU.u_},get uid(){return t.Y_},get videoHeight(){return t.vm},get videoTracks(){return t.Fm.u_},get videoWidth(){return t.lm},get volume(){return t.dm},set volume(n){t.yM(Number(n))},get latency(){return t.Ly.u_},destroy:function(){t.Jc(),t=null,i=void 0},play:function(){t.TX()},pause:function(){t.Gm()},stop:function(){i=void 0,t.qm()},prepareWithUserAction:function(){t.Jm()},addEventListener:function(t,i){n.$s(t,i)},removeEventListener:function(t,i){n.ou(t,i)},setSource:function(t){e(t)}},(n=new DS(r,!0)).JC(t),r;var t,n,i,e,r},A(e,[{key:"IU",get:function(){return this.lX.IU}},{key:"RU",get:function(){return this.lX.RU}},{key:"hc",get:function(){return this.lX.hc}},{key:"EU",get:function(){return this.lX.EU}},{key:"t_",get:function(){return this.lX.t_}},{key:"$D",get:function(){return this.lX.CU}},{key:"DU",get:function(){return this.lX.DU}},{key:"NU",get:function(){return this.lX.NU}},{key:"MM",get:function(){return this.lX.MM}},{key:"WU",get:function(){return this.lX.WU}},{key:"Um",get:function(){return this.lX.Um},set:function(t){this.lX.Um=t,this.bX()}},{key:"GU",get:function(){return this.lX.GU}},{key:"Hm",get:function(){return this.lX.Hm}},{key:"qU",get:function(){return this.lX.qU}},{key:"YU",get:function(){return this.lX.NU}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}},{key:"Vm",get:function(){return this.lX.Vm}},{key:"Sy",get:function(){return this.lX.Sy}},{key:"jU",get:function(){return this.lX.jU}},{key:"zm",get:function(){return this.lX.zm}},{key:"QU",get:function(){return this.lX.QU}},{key:"Fm",get:function(){return this.lX.Fm}},{key:"zU",get:function(){return this.lX.zU}},{key:"OM",get:function(){return this.lX.OM}},{key:"by",get:function(){return this.PN.by},set:function(t){this.PN.by=t}},{key:"gy",get:function(){return this.lX.gy}},{key:"Ay",get:function(){return this.lX.Ay}},{key:"nm",get:function(){return this.lX.nm}},{key:"um",get:function(){return this.lX.um},set:function(t){this.lX.um=t}},{key:"hm",get:function(){return this.PN.hm}},{key:"IX",get:function(){return this.wX.dd||""},set:function(t){this.wX.vX=t}},{key:"cm",get:function(){return this.lX.cm},set:function(t){this.PN.cm=t}},{key:"Oy",get:function(){return this.lX.Oy},set:function(t){this.lX.Oy=nS(t)}},{key:"dg",get:function(){return this.PN.dg}},{key:"fm",get:function(){return this.PN.fm}},{key:"Y_",get:function(){return this.lX.Y_}},{key:"vm",get:function(){return this.lX.vm}},{key:"lm",get:function(){return this.lX.lm}},{key:"dm",get:function(){return this.lX.dm},set:function(t){this.lX.dm=t}},{key:"Ly",get:function(){return this.lX.Ly}}]),e}(Xg)}function hD(t,n){var i=Pm(n),e=new(tD||(tD=GR(tD=aD(FR),XR.ZU),tD=GR(tD,XR.KU)),tD)(t,i),r=e.u_;return e.VU(),e.EX($R),d.defineProperty(r,"constructor",{value:hD}),r=hg(r),function(t){for(var n=0;n<qR.length;n++)(0,qR[n])(t)}(e),r}ou(function(){t.dispatchEvent&&t.dispatchEvent(QR("theoplayerready"))});var cD,fD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Bu(t)},n.decode=function(t){return Cu(t)},t}())},vD=["hls","airplay"],lD=$R.u_,dD=Gb.zI.registerContentProtectionIntegration.bind(Gb.zI),wD=[Tf.Ff,Tf.Hf,vm.Jg,Tf.tv,Tf.zf,Tf.xf,Tf.Yf,Tf.qf,Tf.Pf,Tf.Vf,Tf.ev,Tf.Nf,vm.p_,Tf.Gf,Dg.ag,lu.Au,lu.Su,Tf.If,Tf.Ef,Tf.rv],_D={RX:!1},gD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.eB="DX"}(cD||(cD={}));var mD,yD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Lc=void 0,s.fD=void 0,s.if=void 0,s.NX=!1,s.CX=new Wo,s.PX=!1,s.gX=new af,s.BX=void 0,s.Ss=void 0,s.uc=void 0,s.OX=function(){s.PX=!0},s.xX=function(){s.LX(!0)},s.Lc=n,s.fD=i,s.if=i.HD,s.BX=e,s.Ss=r,s.if.addEventListener("loadedmetadata",s.OX);for(var u=0;u<gD.length;u++){var o=gD[u];s.if.addEventListener(o,s.xX)}return s}S(i,t);var e=i.prototype;return e.MX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Ss.Rs(t._s,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.gc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.UX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},e.XX=function(t){var n=this,i=this.uc;return i?0!==t.WD.length&&t.WD.some(function(t){return t.ac._s===i.ac}):0!==this.Lc.WD.length?t.WD.some(function(t){return n.Lc.WD.some(function(n){return t.ac===n.ac})}):0===t.WD.length||!this.PX},e.HX=function(t){return this.BX.HX(t),this.Lc=t,We.resolve()},e.Us=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.uu(),this.if.removeEventListener("loadedmetadata",this.OX),t=0;t<gD.length;t++)n=gD[t],this.if.removeEventListener(n,this.xX);return i.next=5,Dr.awrap(this.gX.Jc());case 5:return i.next=7,Dr.awrap(this.FX());case 7:return i.next=9,Dr.awrap(this.BX.dc());case 9:return i.next=11,Dr.awrap(this.UX(void 0));case 11:case"end":return i.stop()}},null,this,null,We)},e.LX=function(t){t!==this.NX&&(this.NX=t,t?this.CX.ju(void 0):this.CX=new Wo)},e.UX=function(t){var n=this;return this.gX.Zc(function(){return n.zX(t)})},e.zX=function(t){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.if.src){e.next=4;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.if.src){e.next=6;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.NX){e.next=9;break}return e.next=9,Dr.awrap(this.CX.Wu);case 9:if(!(i=this.uc)){e.next=14;break}return e.next=13,Dr.awrap(i.lc(this.if));case 13:this.uc=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Dr.awrap(t.vc(this.if));case 17:this.uc=t;case 18:case"end":return e.stop()}},null,this,null,We)},e.jm=function(t){var n=this;return this.gX.Zc(function(){return n.VX(t)})},e.VX=function(t){this.LX(!1);var n=this.fD.cm;this.if.src=t,this.fD.cm=n},e.WX=function(t){var n=this;return this.gX.Zc(function(){return n.GX(t)})},e.GX=function(t){this.VX(t),this.if.load()},e.FX=function(){var t=this;return this.gX.Zc(function(){return t.qX()})},e.qX=function(){this.LX(!1),ur(this.if)},e.YX=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.uc){t.next=3;break}return t.next=3,Dr.awrap(this.uc.dc());case 3:case"end":return t.stop()}},null,this,null,We)},A(i,[{key:"Hm",get:function(){throw new v("Not implemented")}},{key:"hc",get:function(){return this.Lc}},{key:"HD",get:function(){return this.if}},{key:"Fm",get:function(){throw new v("Not implemented")}}]),i}(du),kD=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.BL=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.hc,n.t0=t.qD,n.next=n.t0===Wg.Hg?4:n.t0===Wg.Fg?4:(n.t0,Wg.Xg,6);break;case 4:return this.if.setAttribute("crossorigin",t.qD),n.abrupt("break",8);case 6:return this.if.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Oy?this.if.preload=t.Oy:this.if.preload=$T.GR,void 0!==t.YD?this.if.title=t.YD:rr(this.if),n.next=12,Dr.awrap(this.jm(t.gg));case 12:this.BX.Kh(this,t);case 13:case"end":return n.stop()}},null,this,null,We)},i.XX=function(t){return!1},i.HX=function(t){return We.resolve(void 0)},i.Us=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return rr(this.if),n.next=3,Dr.awrap(t.prototype.Us.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n.jX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Wl))},A(n,[{key:"py",get:function(){return oS.bC(this.if.buffered)}},{key:"tm",get:function(){return this.if.duration}},{key:"QX",get:function(){var t=this.tm;if(!isFinite(t))return!1;var n=this.py;return 0!==n.L_&&t-n.WN(n.L_-1)<1/6}},{key:"Oy",get:function(){return this.if.preload},set:function(t){this.if.preload=t}},{key:"xy",get:function(){return oS.bC(this.if.seekable)}},{key:"ZX",get:function(){return this.py}},{key:"KX",get:function(){if(sr(this.if)&&(this.if.videoWidth>0||this.if.videoHeight>0))return this.py}}]),n}(yD),pD=function(t){function n(n){var i;return(i=t.call(this,Tf.zf)||this).currentTime=n,i}return S(n,t),n}(_u),bD=function(t){function n(){return t.call(this,Tf.xf)||this}return S(n,t),n}(_u);!function(t){t.JX="$X"}(mD||(mD={}));var AD,TD,SD=[mD.JX];!function(t){t[t.tH=0]="tH",t[t.vv=1]="vv",t[t.nH=2]="nH"}(AD||(AD={})),function(t){t.iH="eH"}(TD||(TD={}));var ED=function(t){function n(n){var i;return(i=t.call(this,TD.iH)||this).rH=n,i}return S(n,t),n}(_u),ID=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sH=oS.SC(),n}S(n,t);var i=n.prototype;return i.uH=function(t,n){var i=new oS([t,n]);this.sH=this.sH.oC(i),this.Js(new ED(i))},i.oH=function(t,n){this.sH=this.sH.hC(new oS([t,n]))},i.dc=function(){this.sH=oS.SC()},i.Jc=function(){this.uu()},A(n,[{key:"aH",get:function(){return this.sH}}]),n}(du);function RD(t,n){return void 0===n&&(n=new yd({highWaterMark:1/0})),new cd(new ND(t,n),{highWaterMark:0})}var DD,ND=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Iv=void 0,this.hH=void 0,this.cH=void 0,this.Lv=[],this.Mv=0,this.hU=void 0,this.fH=!1,this.vH=void 0,this.lH=function(t){return t.done?(i.dH(),void i.hU.close()):(i.Lv.push(t.value),i.Mv+=i.hH(t.value),i.fH&&i.dH(),i.wH()?i.Iv.read().then(i.lH):void 0)},this.Aw=function(t){i.dH(),i.hU.error(t)},this.Iv=t.getReader(),this.hH=r,this.cH=u}var n=t.prototype;return n.start=function(t){this.hU=t,this.wH()&&this._H()},n.pull=function(){this.Lv.length>0?this.dH():this.fH=!0,this.wH()&&this._H()},n.cancel=function(t){return Fs(this.Lv),this.Mv=0,this.fH=!1,this.Iv.cancel(t)},n.dH=function(){if(0!==this.Lv.length){var t=this.Lv;this.Lv=[],this.Mv=0,this.fH=!1,this.hU.enqueue(t)}},n.wH=function(){return!!this.fH||this.cH-this.Mv>0},n._H=function(){var t=this;if(!this.vH){var n=this.Iv.read().then(this.lH).catch(this.Aw);this.vH=n;var i=function(){t.vH===n&&(t.vH=void 0)};n.then(i,i)}},t}(),CD=function(){function t(){this.gH=[],this.Ou=0}var n=t.prototype;return n.uX=function(t){this.gH.push(t),this.Ou+=t.byteLength},n.mH=function(t){if(this.Ou<=t)return this.yH();for(var n=this.gH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Bo(n[e],0,s)),i+=s}return{gH:r,Ou:i}},n.kH=function(t){var n=this.mH(t);return 1===n.gH.length?n.gH[0]:Xu(n.gH,n.Ou)},n.yH=function(){return{gH:this.gH,Ou:this.Ou}},n.pH=function(t){if(this.Ou<=t)return this.bH();for(var n=this.gH,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Bo(n[0],0,s)),n[0]=Bo(n[0],s),i+=s}return this.Ou-=i,{gH:r,Ou:i}},n.AH=function(t){var n=this.pH(t);return 1===n.gH.length?n.gH[0]:Xu(n.gH,n.Ou)},n.bH=function(){var t=this.yH();return this.gH=[],this.Ou=0,t},n.TH=function(){var t=1===this.gH.length?this.gH[0]:Xu(this.gH,this.Ou);return this.gH=[],this.Ou=0,t},t}();!function(t){t[t.SH=0]="SH",t[t.EH=1]="EH",t[t.IH=2]="IH"}(DD||(DD={}));var PD=function(){var t=n.prototype;function n(){this.Lv=new CD,this.me=DD.SH,this.RH=0,this.DH=0,this.NH()}return t.CH=function(t,n){},t.PH=function(){},t.BH=function(t){this.Lv.uX(t),this.OH(!1)},t.xH=function(){this.OH(!0)},t.LH=function(){return this.me!==DD.SH||0!==this.Lv.Ou},t.OH=function(t){for(;0!==this.Lv.Ou;){if(!t&&this.RH>this.Lv.Ou)return;switch(this.me){case DD.SH:this.MH(t);break;case DD.EH:this.UH(t);break;case DD.IH:this.XH(t)}}},t.NH=function(){this.me=DD.SH,this.RH=8},t.MH=function(t){var n=xo(this.Lv.kH(this.RH)),i=new zo,e=Jk.OA(n,i);if(!e.DA)return this.RH=e.LA,void(t&&this.RH>this.Lv.Ou&&this.HH(this.Lv.Ou));var r=e.xA.ds,s=e.xA.Ou;0===s&&(s=1/0),this.CH(r,s),this.FH(r)?this.zH(s):this.HH(s)},t.zH=function(t){this.me=DD.EH,this.RH=t},t.UH=function(t){var n=xo(this.Lv.AH(this.RH)),i=new zo,e=Jk.NA(n,i,!t);if(!e.DA)throw new Kk(i.xu);this.PH(),this.VH(e.CA),this.NH()},t.HH=function(t){this.me=DD.IH,this.RH=0,this.DH=t},t.XH=function(t){var n=this.Lv.pH(this.DH);this.DH-=n.Ou;for(var i=0,e=n.gH;i<e.length;i++){var r=e[i];this.WH(r)}(0===this.DH||t&&this.DH===1/0)&&(this.PH(),this.NH())},n}();function BD(t){return t instanceof Wh}function OD(t){return t instanceof zh}function xD(t){return t instanceof Xh||t instanceof Hh}function LD(t){return t instanceof ch}function MD(t){return t instanceof Ha}function UD(t){return t instanceof ic}function XD(t){return t instanceof Zh}function HD(t,n){var i=xs(t.boxes,XD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof Jh&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var FD=function(t){function n(n){var i;return(i=t.call(this)||this).hU=void 0,i.GH=void 0,i.qH=void 0,i.YH=Br(),i.GH=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.hU=t},i.transform=function(t){this.BH(t)},i.flush=function(){this.xH()},i.FH=function(t){return t===ak.bb||t===ak.jb||t===ak.rA},i.VH=function(t){var n=this.jH(t);this.hU.enqueue(n)},i.WH=function(t){this.hU.enqueue(t)},i.jH=function(t){var n=Lo(t.Fi.Fi);switch(t.ds){case"moov":return this.QH(n);case"sidx":return this.ZH(n);case"moof":return this.KH(n)}return n},i.JH=function(t){var n=this.YH.get(t);if(void 0===n)throw new v("Expected to have found a media header timescale for track ID "+t+".");return n},i.QH=function(t){for(var n=kc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof xh?n.boxes[i]=this.$H(e):e instanceof Lh?n.boxes[i]=this.tF(e):e instanceof zh&&this.nF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Ph&&this.iF(u)}return n.serialize().join()},i.$H=function(t){this.qH=t.timescale;var n=VD(ft.fromNumber(t.duration,!0),this.eF,this.GH);return 0!==n.getHighBits()?this.tF(function(t){return new Lh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.GH,t.duration=n.toInt(),t)},i.tF=function(t){return this.qH=t.timescale,t.timescale=this.GH,t.duration=VD(t.duration,this.eF,this.GH),t},i.nF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Xh?(n=e.trackId,t.boxes[i]=this.rF(e)):e instanceof Hh?(n=e.trackId,t.boxes[i]=this.sF(e)):e instanceof ch?this.uF(e,n):e instanceof $a&&this.oF(e)}},i.rF=function(t){var n=VD(ft.fromNumber(t.duration,!0),this.eF,this.GH);return 0!==n.getHighBits()?this.sF(function(t){return new Hh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),duration:ft.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.sF=function(t){return t.duration=VD(t.duration,this.eF,this.GH),t},i.uF=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof uh?t.boxes[i]=this.aF(e,n):e instanceof oh&&(t.boxes[i]=this.hF(e,n))}},i.aF=function(t,n){this.YH.set(n,t.timescale);var i=VD(ft.fromNumber(t.duration,!0),t.timescale,this.GH);return 0!==i.getHighBits()?this.hF(function(t){return new oh({creation:ft.fromNumber(t.creationTime,!0),modification:ft.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ft.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.GH,t.duration=i.toInt(),t)},i.hF=function(t,n){return this.YH.set(n,t.timescale),t.timescale=this.GH,t.duration=VD(t.duration,t.timescale,this.GH),t},i.oF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Za?this.cF(e):e instanceof Ka&&this.fF(e)}},i.cF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=zD(e.mediaTime,this.eF,this.GH),e.segmentDuration=zD(e.segmentDuration,this.eF,this.GH)}},i.fF=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=VD(e.mediaTime,this.eF,this.GH),e.segmentDuration=VD(e.segmentDuration,this.eF,this.GH)}},i.iF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Nh?this.vF(i):i instanceof Ih?t.boxes[n]=this.lF(i):i instanceof Rh&&(t.boxes[n]=this.dF(i))}},i.vF=function(t){var n=this.JH(t.trackId);t.defaultSampleDuration=zD(t.defaultSampleDuration,n,this.GH)},i.lF=function(t){var n=VD(ft.fromNumber(t.fragmentDuration,!0),this.eF,this.GH);return 0!==n.getHighBits()?this.dF(function(t){return new Rh(ft.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.dF=function(t){return t.fragmentDuration=VD(t.fragmentDuration,this.eF,this.GH),t},i.ZH=function(t){var n=pc(t);return(n=n instanceof ac?this.wF(n):this._F(n)).serialize().join()},i.wF=function(t){var n=t.timescale,i=VD(ft.fromNumber(t.earliestPresentationTime,!0),n,this.GH);if(0!==i.getHighBits())return this._F(function(t){return new hc(t.referenceId,t.timescale,ft.fromNumber(t.earliestPresentationTime,!0),ft.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.GH,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=zD(s.subsegmentDuration,n,this.GH)}return t},i._F=function(t){var n=t.timescale;t.timescale=this.GH,t.earliestPresentationTime=VD(t.earliestPresentationTime,n,this.GH);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=zD(r.subsegmentDuration,n,this.GH)}return t},i.KH=function(t){for(var n=bc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof tc&&this.gF(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof tc&&HD(c,o)}return n.serialize().join()},i.gF=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Zh?(n=this.JH(e.trackId),this.mF(e,n)):e instanceof Yh?t.boxes[i]=this.yF(e,n):e instanceof jh?t.boxes[i]=this.kF(e,n):e instanceof Jh&&this.pF(e,n)}},i.mF=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=zD(t.defaultSampleDuration,n,this.GH))},i.yF=function(t,n){var i=VD(ft.fromNumber(t.baseMediaDecodeTime,!0),n,this.GH);return 0!==i.getHighBits()?this.kF(function(t){return new jh(ft.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.kF=function(t,n){return t.baseMediaDecodeTime=VD(t.baseMediaDecodeTime,n,this.GH),t},i.pF=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=zD(u+=h.duration,n,this.GH);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.GH,ft.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},A(n,[{key:"eF",get:function(){if(void 0===this.qH)throw new v("Expected to have found a movie header timescale.");return this.qH}}]),n}(PD);function zD(t,n,i){return ft.fromInt(t,!0).multiply(i).divide(n).toNumber()}function VD(t,n,i){return Yy.ep(t).Ep(Yy.rp(i,!0)).Np(Yy.rp(n,!0)).wp()}var WD,GD,qD,YD=1e5,jD=function(){function t(t){this.bF=void 0,this.bF=new FD(t)}return t.prototype.AF=function(t){return t.pipeThrough(new kd(this.bF))},t}();function QD(t,n,i){var e=io(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function ZD(t,n){QD(t,n,WD.TF);var i,e,r,s=KD(t,n),u=n.xu+s,o=ao(t,n),a=io(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=ao(t,n)),h)&&(e=wo(t,n,io(t,n)));c&&(r=wo(t,n,2));var v=function(t,n){QD(t,n,WD.SF);var i,e=KD(t,n),r=n.xu+e,s=io(t,n),u=io(t,n),o=u>>2,a=0!=(2&u),h=oo(t,n,3),c=co(t,n),f=co(t,n);if(n.xu<r){var v=function(t,n){return t.getUint8(n.xu)}(t,n);v===WD.EF&&(i=function(t,n){QD(t,n,WD.EF);var i=KD(t,n),e=ro(t,n,i);return{IF:WD.EF,RF:e}}(t,n))}return n.Uu(r),{IF:WD.SF,DF:s,NF:o,CF:a,PF:h,BF:c,OF:f,xF:i}}(t,n);return n.Uu(u),{IF:WD.TF,q_:o,LF:i,dd:e,MF:f,UF:r,XF:v}}function KD(t,n){for(var i=0,e=0;e<4;e++){var r=io(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function JD(t,n){for(var i=io(t,n),e=io(t,n),r=io(t,n),s=io(t,n),u=3&io(t,n),o=31&io(t,n),a=[],h=0;h<o;h++){var c=ao(t,n);a.push(ro(t,n,c))}for(var f=io(t,n),v=[],l=0;l<f;l++){var d=ao(t,n);v.push(ro(t,n,d))}return{HF:i,FF:e,zF:r,VF:s,WF:u,GF:a,qF:v}}function $D(t){var n=Zk(ep.zA(t),ak.bb);if(n){for(var i=n.xA.Bp,e=[],r=0,s=n.eT;r<s.length;r++){for(var u=s[r],o=u.xA._T,a=u.vT.xA.Bp,h=void 0,c=void 0,f=0,v=u.vT.TT.IT.DT.CT;f<v.length;f++){var l,d,w=tN(v[f]);if(w)h=null!=(l=w.YF)?l:h,c=null!=(d=w.jF)?d:c}e.push({_T:o,Bp:a,QF:{YF:h,jF:c,ZF:void 0}})}return{Bp:i,eT:e}}}function tN(t){var n,i;if(t.ds===ak.xb)n=function(t){return"avc1."+nN(t.FF,2)+nN(t.zF,2)+nN(t.VF,2)}(JD(xo(t.eS.Fi),new zo));else if(t.ds===ak.Mb||t.ds===ak.Ub){var e=function(t,n){for(var i=n.Vu(),e=Wu(t,i,8),r=Wu(t,i,2),s=Wu(t,i,1),u=Wu(t,i,5),o=Wu(t,i,32),a=[],h=0;h<6;h++)a.push(Wu(t,i,8));var c=Wu(t,i,8);i.Lu(4);var f=Wu(t,i,12);i.Lu(6);var v=Wu(t,i,2);i.Lu(6);var l=Wu(t,i,2);i.Lu(5);var d=Wu(t,i,3);i.Lu(5);for(var w=Wu(t,i,3),_=Wu(t,i,16),g=Wu(t,i,2),m=Wu(t,i,3),y=Wu(t,i,1),k=Wu(t,i,2),p=Wu(t,i,8),b=[],A=0;A<p;A++){var T=Wu(t,i,1);i.Lu(1);for(var S=Wu(t,i,6),E=Wu(t,i,16),I=[],R=0;R<E;R++){var D=Wu(t,i,16),N=ro(t,new zo(i.xu>>3),D);i.Lu(8*D),I.push({KF:D,JF:N})}b.push({tz:T,nz:S,iz:E,ez:I})}return{HF:e,rz:r,sz:s,oz:u,cz:a,fz:c,vz:f,lz:v,wz:o,_z:l,gz:d,mz:w,yz:_,kz:m,pz:y,bz:g,WF:k,Az:p,Tz:b}}(xo(t.oS.Fi),new zo);n=function(t,n){var i=t.toString()+".";switch(n.rz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.oz.toString()+".",i+=(e=n.wz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.sz){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.fz.toString();for(var s=n.cz.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.cz[u].toString(16).toUpperCase();return i}(t.ds,e)}else{if(t.ds!==ak.Fb)return(t.ds===ak.Yb||t.ds===ak.qb)&&t.cS?tN(t.cS):void 0;i=function(t){var n=t.XF;switch(n.DF){case GD.Sz:return function(t){var n;if(null==(n=t.xF)||!n.RF)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Wu(t,n,5);31===i&&(i=32+Wu(t,n,6));var e,r=Wu(t,n,4);return 15===r&&(e=Wu(t,n,24)),{Ez:i,Iz:r,Rz:e,Dz:Wu(t,n,4)}}(xo(t.xF.RF),new Gu).Ez}(n);case GD.Nz:return"mp4a.40.2";case GD.Cz:return"mp4a.40.34"}}(ZD(xo(t.KT.Fi),new zo))}return{YF:n,jF:i,ZF:void 0}}function nN(t,n){return gs(t.toString(16),n,"0")}function iN(t,n){var i=ep.zA(xo(t)),e=function(t,n){for(var i,e=0,r=t.eT;e<r.length;e++){var s,u=r[e],o=null==(s=u.NS)?void 0:s.NS;o&&function(){var t=u.xA._T,e=xs(n.eT,function(n){return n._T===t}),r=ik.ep(o,e.Bp);i&&!r.Yk(i)||(i=r)}()}return i}(Zk(i,ak.jb),n),r=Zk(i,ak.nA);return{hk:e.Hk(),Pz:r.Fi}}function eN(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.ds,e.next=e.t0===AD.tH?3:e.t0===AD.vv?4:e.t0===AD.nH?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Dr.awrap(Ld(t.Fi,n));case 6:return i=e.sent,tu(n),e.abrupt("return",{ds:AD.tH,Fi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,We)}!function(t){t[t.TF=3]="TF",t[t.SF=4]="SF",t[t.EF=5]="EF"}(WD||(WD={})),function(t){t[t.Sz=64]="Sz",t[t.Nz=103]="Nz",t[t.Cz=107]="Cz"}(GD||(GD={})),function(t){t[t.Bz=0]="Bz",t[t.Oz=1]="Oz",t[t.Nz=2]="Nz",t[t.xz=5]="xz",t[t.Lz=34]="Lz"}(qD||(qD={}));var rN=20,sN=M.Bn,uN=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Mz=void 0,o.Uz=void 0,o.Xz=void 0,o.Hz=void 0,o.Fz=void 0,o.RL=rN,o.DL=$I,o.zz=!1,o.Vz=!1,o.Wz=void 0,o.Gz=new Ks,o.qz=void 0,o.Yz=!1,o.jz=void 0,o.Qz=!1,o.Zz=void 0,o.Kz=function(){o.zz=!1},o.Mz=i,o.Uz=n,o.Xz=e,o.Xz.addEventListener("updateend",o.Kz),o.Hz=r,o.Fz=s,o.Qz=oN(r.Wl,s),null!=(u=i.hc)&&u.Je&&(o.qz=new jD(YD)),o}S(n,t);var i=n.prototype;return i.Jz=function(t,n,i){var e=this;switch(t.ds){case AD.tH:case AD.vv:return this.$z(function(i){return e.tV(t,n,i)},i);case AD.nH:throw new v("Opaque segments are not supported on web.")}},i.nV=function(t,n){var i=this;switch(t.ds){case AD.tH:return this.$z(function(n){return i.iV(t,n)},n);case AD.vv:throw new v("Streaming initialization segments are not supported on web.");case AD.nH:throw new v("Opaque initialization segments are not supported on web.")}},i.iV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Qz){i.next=3;break}return this.Zz=$D(xo(t.Fi)),i.abrupt("return");case 3:return i.next=5,Dr.awrap(this.eV(t,void 0,n));case 5:sN&&(this.Yz=!1,this.jz=t);case 6:case"end":return i.stop()}},null,this,null,We)},i.tV=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(sN&&this.Yz&&this.jz)){u.next=3;break}return u.next=3,Dr.awrap(this.iV(this.jz,i));case 3:if(u.prev=3,tu(i),!this.Qz||!this.Zz){u.next=12;break}return u.next=8,Dr.awrap(eN(t,i));case 8:r=u.sent,s=iN(r.Fi,this.Zz),t={ds:AD.tH,Fi:s.Pz},n=Nr({},n,{_b:s.hk+(null!=(e=n._b)?e:0)});case 12:return u.next=14,Dr.awrap(this.eV(t,n,i));case 14:this.Js(new _u(mD.JX));case 15:return u.prev=15,t.ds===AD.vv&&t.Fi.cancel(new Js).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],We)},i.eV=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:tu(i),n&&this.rV(n),s.t0=t.ds,s.next=s.t0===AD.tH?5:s.t0===AD.vv?13:21;break;case 5:if(!this.qz){s.next=10;break}return e=this.qz.AF(Od(t.Fi)),s.next=9,Dr.awrap(this.sV(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Dr.awrap(this.uV(t.Fi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.qz){s.next=18;break}return r=this.qz.AF(t.Fi),s.next=17,Dr.awrap(this.sV(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Dr.awrap(this.sV(t.Fi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,We)},i.sV=function(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Uz.py,e=RD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Dr.awrap(eu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return tu(n),o=Uu(u.value),s=!0,c.next=17,Dr.awrap(this.uV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Dr.awrap(this.oV());case 27:a=this.Uz.py.nC(i.iC()),h=0;case 29:if(!(h<a.L_)){c.next=35;break}return c.next=32,Dr.awrap(this.aV(a.zN(h),a.WN(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],We)},i.hV=function(t,n){var i=this;return this.$z(function(){return i.cV(t,n)})},i.cV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Xz.appendWindowStart===t&&this.Xz.appendWindowEnd===n){i.next=6;break}return i.next=3,Dr.awrap(this.oV());case 3:this.Xz.appendWindowStart=0,this.Xz.appendWindowEnd=n,this.Xz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,We)},i.rV=function(t){this.Xz.timestampOffset!==t._b&&(this.Xz.timestampOffset=t._b)},i.uV=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Xz.appendBuffer(t),this.Vz=!0,n.next=4,Dr.awrap(this.fV());case 4:case"end":return n.stop()}},null,this,null,We)},i.vV=function(t,n,i){var e=this;return this.$z(function(i){return e.aV(t,n,i)},i)},i.aV=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return tu(i),this.Xz.remove(t,n),e.next=4,Dr.awrap(this.fV());case 4:case"end":return e.stop()}},null,this,null,We)},i.fV=function(){var t=this,n=this.Uz.py;return new We(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.wC(t.Uz.py)||t.Js(new _u(mD.JX)),i()):e(new v(r))},c=function(){t.Xz.removeEventListener("update",u),t.Xz.removeEventListener("error",o),t.Xz.removeEventListener("abort",a),t.Xz.removeEventListener("updateend",h)};t.Xz.addEventListener("update",u),t.Xz.addEventListener("error",o),t.Xz.addEventListener("abort",a),t.Xz.addEventListener("updateend",h)})},i.lV=function(){var t=this;return this.$z(function(){return t.oV()})},i.oV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mz.dg===IN.Yd){t.next=2;break}return t.abrupt("return");case 2:sN&&(this.Yz=!0),this.Xz.updating&&(this.zz=!0);try{this.Xz.abort()}catch(t){0,this.zz=!1}if(!this.Ix){t.next=8;break}return t.next=8,Dr.awrap(this.fV().catch(K));case 8:case"end":return t.stop()}},null,this,null,We)},i.dV=function(){return"function"==typeof this.Xz.changeType},i.HX=function(t){var n;this.wV(),this.Mz.dg!==IN._V&&(this.Hz=t,this.Fz=null!=(n=CN(t.Wl))?n:t.Wl,this.Qz=oN(t.Wl,this.Fz),this.dV()&&this.Xz.changeType(this.Fz))},i.gV=function(){this.Mz.dg!==IN.Pf||this.Wz||this.Ix||(this.Xz.timestampOffset=this.Xz.timestampOffset,this.Mz.mV())},i.$z=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wV(),(i=new Ks).Gs(this.Gz.Ys),n&&i.Gs(n),e.prev=4,this.Wz=t(i.Ys),e.next=8,Dr.awrap(this.Wz);case 8:if(this.Mz.mV(),!this.Ix){e.next=12;break}return e.next=12,Dr.awrap(this.fV());case 12:return e.prev=12,this.Wz=void 0,i.Us(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],We)},i.wV=function(){if(this.Wz)throw new v("Internal error")},i.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.uu(),this.Gz.Ws(),!this.Wz){t.next=6;break}return t.next=5,Dr.awrap(this.Wz.catch(K));case 5:this.Wz=void 0;case 6:this.Xz.removeEventListener("updateend",this.Kz);case 7:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"kL",get:function(){return this.RL},set:function(t){this.RL=t}},{key:"TL",get:function(){return this.DL},set:function(t){this.DL=t}},{key:"Ix",get:function(){return this.zz||this.Xz.updating}}]),n}(du);function oN(t,n){return ls(t,"audio/mp4")&&ls(n,"audio/mpeg")}var aN=function(){function t(t,n){this.yV=void 0,this.Xz=void 0,this.kV=void 0,this.yV=n,this.Xz=t}var n=t.prototype;return n.QX=function(){return!!this.kV&&this.py.ZN().sN(this.kV)},n.pV=function(){var t=this.py;this.kV=t.L_>0?t.WN(t.L_-1):0,this.yV.bV()},n.gV=function(){this.kV=void 0},A(t,[{key:"py",get:function(){if(this.yV.dg===IN._V)return oS.SC();var t=oS.bC(this.Xz.buffered).nC(new oS([0,1/0])),n=this.kV;return void 0!==n&&t.L_>0&&t.WN(t.L_-1)===n&&(t=t.oC(oS.TC(n))),t}}]),t}();function hN(t){var n=t.kc("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function cN(t,n){var i=fN(t)||vN(t),e=fN(n)||vN(n);return!i&&!e||t===n}function fN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function vN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function lN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function dN(t,n,i,e,r,s,u){var o=new aN(r,t),a=new uN(o,t,r,i,s);return new wN(t,n,i,e,o,a,u)}var wN=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Mz=void 0,a.Lc=void 0,a.AV=void 0,a.fD=void 0,a.Bc=void 0,a.TV=void 0,a.Uz=void 0,a.SV=void 0,a.EV=Pr(),a.Mz=n,a.Lc=e,a.Bc=e.Wl,a.AV=r,a.fD=i,a.Uz=s,a.SV=u,a.TV=o,a.SV.$s(mD.JX,a.Ks),a}S(n,t);var i=n.prototype;return i.QX=function(){return this.Uz.QX()},i.pV=function(){this.Uz.pV()},i.gV=function(){this.Uz.gV(),this.SV.gV()},i.RV=function(t,n){this.TV.uH(t,n)},i.DV=function(t,n){this.TV.oH(t,n)},i.NV=function(){return this.SV.lV()},i.Jz=function(t,n,i){return this.SV.Jz(t,n,i)},i.nV=function(t,n,i){return this.SV.nV(t,i)},i.hV=function(t,n){return M.Tn&&M.Sn<3?this.SV.hV(t,1/0):this.SV.hV(t,n)},i.Jh=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.DV(t,n),e=this.py,s.next=4,Dr.awrap(this.SV.vV(t,n,i));case 4:r=0!==e.L_&&0===this.py.L_,(M.Mn||M.En)&&r&&this.fD.Uu(this.fD.$g);case 6:case"end":return s.stop()}},null,this,null,We)},i.XX=function(t){var n=t.Wl;if(this.Bc===n)return!0;var i=this.EV.get(n);if(void 0!==i)return i;var e=this.CV(t);return this.EV.set(n,e),e},i.CV=function(t){var n=CN(t.Wl);if(void 0===n)return!1;var i=Pc(this.Bc),e=Pc(n),r=hN(i),s=hN(e);if(this.SV.dV()){if(!function(t,n){return Qs(t,n,cN)}(r,s))return!1}else{if(i.ds!==e.ds)return!1;if(!function(t,n){return Qs(t,n,lN)}(r,s))return!1}return!0},i.HX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Wl,this.Bc!==n&&(this.EV.clear(),this.SV.HX(t),this.Bc=n),this.Lc=t,this.Mz.PV();case 4:case"end":return i.stop()}},null,this,null,We)},i.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.EV.clear(),this.uu(),this.TV.Jc(),t.prev=3,this.SV.ou(mD.JX,this.Ks),t.next=7,Dr.awrap(this.SV.Us());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],We)},A(n,[{key:"py",get:function(){return this.Uz.py}},{key:"hc",get:function(){return this.Lc}},{key:"Wl",get:function(){return this.Bc}},{key:"BV",get:function(){return this.AV}},{key:"OV",get:function(){return this.TV.aH}},{key:"kL",get:function(){return this.SV.kL},set:function(t){this.SV.kL=t}},{key:"TL",get:function(){return this.SV.TL},set:function(t){this.SV.TL=t}},{key:"Ix",get:function(){return this.SV.Ix}}]),n}(du),_N=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.xV=void 0,this.zN=t,this.WN=n,this.LV=i,this.MV=e,this.xV=KE()}return t.prototype.UV=function(){var t=this.zN,n=this.WN;if(this.LV||this.MV){var i=.001*(KE()-this.xV);this.LV&&(t+=i),this.MV&&(n+=i)}return t>=n?oS.SC():new oS([t,n])},t}(),gN=100,mN=3500,yN=1e3,kN=2e3,pN=1e4,bN=.01,AN=1,TN=[Tf.Ff,Tf.Hf,Tf.Yf,Tf.qf,Tf.Pf,Tf.Vf,vm.p_,Dg.ag],SN=function(){function t(t,n,e){var r=this;this.ME=jg.zg,this.XV=!1,this.HV=[],this.FV=void 0,this.zV=void 0,this.VV=0,this.WV=0,this.GV=0,this.qV=0,this.YV=1,this.jV=void 0,this.QV=void 0,this.ZV=function(t){var n=r.fD.$g;t.rH.sN(n)&&r.KV(n)},this.JV=$(function(){r.$V(vm.p_)},gN),this.tW=$(function(){r.$V(Tf.zf)},gN),this.nW=$(function(){r.$V(Tf.tv)},gN),this.iW=function(){r.eW()?0===r.qV&&(r.fD.$s(Tf.tv,r.nW),r.zV=i.Qn(function(){r.rW()},mN)):r.sW()},this.uW=function(){var t=r.VV,n=r.GV,e=r.fD.$g,s=i.dr(),u=r.Uz.py;if(t!==e)return r.VV=e,r.GV=s,r.YV=1,void(r.jV=i.Yw?kN:yN);if(r.eW()&&0!==u.L_&&n>0&&s>n+r.jV){var o,a,h=r.aH.ZN().hC(u),c=h.mC(e);if(-1!==c){var f=h.zN(c);if(f-e<AN){var v=h.WN(c);0,o=v}}if(!o)(o=null==(a=r.QV)?void 0:a.determineStallJumpTarget())||(o=e+r.YV*bN,u.sN(o)||(o=r.oW(e,u)));0,r.VV=o,r.YV++,r.jV=w.min(2*r.jV,pN),r.fD.Uu(o)}},this.Uz=t,this.fD=n,this.fD.$s(vm.p_,this.JV),this.fD.$s(Tf.zf,this.tW),this.fD.$s(TN,this.iW),this.QV=e,this.jV=i.Yw?kN:yN}var n=t.prototype;return n.aW=function(t){this.HV.push(t),t.$s(TD.iH,this.ZV)},n.Jc=function(){var t=this;this.sW(),this.ME=jg.zg,this.fD.ou(vm.p_,this.JV),this.fD.ou(Tf.zf,this.tW),this.fD.ou(TN,this.iW),this.HV.forEach(function(n){return n.ou(TD.iH,t.ZV)}),void 0!==this.FV&&(i.jn(this.FV),this.FV=void 0),this.XV=!0},n.$V=function(t){if(!this.XV)if(t!==Tf.tv||0!==this.qV){var n=this.fD.dg;if(n<=jg.Wg){var i=this.fD.$g;this.KV(i)||this.uW()}t===vm.p_&&(this.ME=n)}else this.rW()},n.KV=function(t){var n=this;if(this.fD.nm)return!1;var e=this.Uz.py,r=-1,s=e.cC(t);if(-1!==s){if(e.WN(s)<=t+.5&&e.L_>s+1){var u=e.zN(s+1);u<=t+1&&(r=u)}}else{var o=this.aH.ZN().hC(this.Uz.py),a=o.cC(t);-1!==a&&(r=o.WN(a))}if(-1!==r&&(!(w.abs(r-t)<=.001)||i.qw)){if(i.qw){if(void 0!==this.FV)return!1;this.WV=this.fD.$g,this.FV=i.Qn(function(){n.WV===n.fD.$g&&n.fD.Uu(r),n.FV=void 0},250)}else this.fD.Uu(r);return!0}return!1},n.hW=function(){this.zV&&(i.jn(this.zV),this.zV=void 0),this.fD.ou(Tf.tv,this.nW)},n.rW=function(){0===this.qV&&(this.hW(),this.qV=i.Er(this.uW,250))},n.sW=function(){0!==this.qV&&(i.Ir(this.qV),this.qV=0),this.hW(),this.fD.fm||(this.GV=0)},n.eW=function(){return!this.fD.hm&&!this.fD.fm&&0!==this.fD.cm&&!this.fD.nm&&!this.fD.bu&&(this.cW()||this.fD.dg>=jg.Gg)},n.cW=function(){var t=this.fD.$g,n=this.Uz.py,i=n.cC(t);return-1!==i&&n.WN(i)>t+.5},n.oW=function(t,n){var i=n.cC(t);return i>-1?n.WN(i):t},A(t,[{key:"aH",get:function(){return this.HV.reduce(function(t,n){return t.oC(n.aH)},oS.SC())}}]),t}();function EN(t){var n=[];if(t.fW&&n.push(t.fW.py),t.vW&&n.push(t.vW.py),0===n.length)return oS.SC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.L_>0&&(i=w.max(i,r.WN(r.L_-1)))}for(var s=t.QX,u=new oS([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.L_>0&&(a=a.oC(new oS([a.WN(a.L_-1),i],[!0,!0]))),u=u.nC(a)}return u}var IN,RN=M.In||M.Rn;!function(t){t._V="closed",t.Yd="open",t.Pf="ended"}(IN||(IN={}));var DN=function(){function t(){}return t.prototype.lW=function(){return new MediaSource},t}(),NN=function(t){function n(n,i,e,r,s,u){var o;return void 0===s&&(s=new DN),(o=t.call(this,n,i,e,r)||this).dW=void 0,o.wW=void 0,o._W=void 0,o.gW=void 0,o.mW=void 0,o.yW=new _N(0,1/0),o.vD=void 0,o.kW=void 0,o.pW=void 0,o.bW=!1,o.AW=function(){o.TW()},o.SW=function(){o.fD.SW()},o.dW=s,o.vD=o.dW.lW(),o.fD.$s(Tf.Yf,o.AW),o.pW=new SN(Kt(o),o.fD,u),o}S(n,t);var i=n.prototype;return i.EW=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.IW()?this.RW(t):this.kW=t},i.RW=function(t){var n=t===1/0,i=n?xt:t;if(n&&this.vD.setLiveSeekableRange){var e=w.pow(2,39);this.vD.setLiveSeekableRange(0,e)}this.vD.duration=i,this.kW=void 0},i.DW=function(t,n,i,e){this.yW=new _N(t,n,!!i,!!e)},i.BL=function(){var t,n,i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t=this.Lc,n=xs(t.NW,function(t){return ls(t.Wl,"audio")}),i=xs(t.NW,function(t){return ls(t.Wl,"video")}),h.next=5,Dr.awrap(this.PW());case 5:n&&(r=new ID,this.pW.aW(r),s=null!=(e=CN(n.Wl))?e:n.Wl,this._W=this.vD.addSourceBuffer(s),this.wW=dN(this,this.fD,n,iy.Nd,this._W,s,r),this.wW.$s(mD.JX,this.SW)),i&&(o=new ID,this.pW.aW(o),a=null!=(u=CN(i.Wl))?u:i.Wl,this.mW=this.vD.addSourceBuffer(a),this.gW=dN(this,this.fD,i,iy.Cd,this.mW,a,o),this.gW.$s(mD.JX,this.SW)),this.BX.Kh(this,t);case 8:case"end":return h.stop()}},null,this,null,We)},i.PW=function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.vD),i.next=3,Dr.awrap(t.prototype.WX.call(this,n));case 3:if(this.dg===IN.Yd){i.next=6;break}return i.next=6,Dr.awrap(q_(this.vD,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,We)},i.IW=function(){if(this.dg!==IN.Yd)return!1;var t=this.wW&&this.wW.Ix,n=this.gW&&this.gW.Ix;return!(t||n)},i.pV=function(){this.bW=!0,this.wW&&this.wW.pV(),this.gW&&this.gW.pV(),this.bW=!1,this.TW()},i.gV=function(){this.wW&&this.wW.gV(),this.gW&&this.gW.gV()},i.XX=function(n){var i=xs(n.NW,function(t){return ls(t.Wl,"audio")}),e=xs(n.NW,function(t){return ls(t.Wl,"video")});if(this.wW){if(!i)return!1;if(!this.wW.XX(i))return!1}else if(i)return!1;if(this.gW){if(!e)return!1;if(!this.gW.XX(e))return!1}else if(e)return!1;return!!t.prototype.XX.call(this,n)},i.HX=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=xs(n.NW,function(t){return ls(t.Wl,"audio")}),e=xs(n.NW,function(t){return ls(t.Wl,"video")}),r=[],this.wW&&r.push(this.wW.HX(i)),this.gW&&r.push(this.gW.HX(e)),s.next=7,Dr.awrap(We.all(r));case 7:return s.next=9,Dr.awrap(t.prototype.HX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,We)},i.Us=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!M.En){n.next=3;break}return n.next=3,Dr.awrap(this.YX());case 3:if(!this.wW){n.next=9;break}return n.next=6,Dr.awrap(this.wW.Us());case 6:if(this.wW=void 0,Ts()&&(M.En||M.Tn))try{this.vD.removeSourceBuffer(this._W)}catch(t){}this._W=void 0;case 9:if(!this.gW){n.next=15;break}return n.next=12,Dr.awrap(this.gW.Us());case 12:if(this.gW=void 0,Ts()&&(M.En||M.Tn))try{this.vD.removeSourceBuffer(this.mW)}catch(t){}this.mW=void 0;case 15:if(this.if.src&&URL.revokeObjectURL(this.if.src),this.fD.ou(Tf.Yf,this.AW),this.pW.Jc(),!M.Tn){n.next=21;break}return n.next=21,Dr.awrap(this.YX());case 21:return n.next=23,Dr.awrap(t.prototype.Us.call(this));case 23:case"end":return n.stop()}},null,this,null,We)},i.PV=function(){var t=this,n=this.Lc,i=n.NW.map(function(n){return ls(n.Wl,"audio")&&t.wW?t.wW.hc:ls(n.Wl,"video")&&t.gW?t.gW.hc:n});this.Lc=Nr({},n,{NW:i})},i.bV=function(){this.bW||this.TW()},i.TW=function(){this.BW&&this.IW()&&(this.vD.endOfStream(),this.kW=void 0,this.Js(new _u(cD.eB)),this.fD.SW())},i.mV=function(){this.IW()&&(this.QX?this.TW():void 0!==this.kW&&this.RW(this.kW))},i.KV=function(t){return this.pW.KV(t)},n.jX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.NW;n<i.length;n++){if(void 0===CN(i[n].Wl))return!1}return!0},A(n,[{key:"fW",get:function(){return this.wW}},{key:"vW",get:function(){return this.gW}},{key:"tm",get:function(){if(this.kW)return this.kW;var t=this.vD.duration;return t===xt?1/0:t}},{key:"py",get:function(){return RN?EN(this):(t=this,n=oS.bC(this.if.buffered),(i=n).L_>0&&t.QX&&(i=i.oC(oS.TC(i.WN(i.L_-1)))),i);var t,n,i}},{key:"ZX",get:function(){var t;return null==(t=this.wW)?void 0:t.py}},{key:"KX",get:function(){var t;return null==(t=this.gW)?void 0:t.py}},{key:"xy",get:function(){return this.yW.UV().nC(new oS([0,this.tm],[!0,!0]))}},{key:"QX",get:function(){return(!this.wW||this.wW.QX())&&(!this.gW||this.gW.QX())}},{key:"dg",get:function(){return this.vD.readyState}},{key:"BW",get:function(){if(!this.QX)return!1;var t=this.py;return 0!==t.L_&&t.zN(t.L_-1)<=this.fD.$g}}]),n}(yD);function CN(t){var n=Pc(t),i="audio/mp4"===n.ds&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(hN(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!M.Bn))return t;if(i){var e=xs(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var PN=[Tf.ev,Tf.Vf,Tf.Yf,Tf.Ff,Tf.Hf],BN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).NC=n,c._a=i,c.OW=e,c.OC=r,c.LC=s,c.BC=u,c.xC=o,c.Pa=a,c.xW=h,c}S(n,t);var i=n.prototype;return i.Gm=function(){this.OC||(this.OC=!0,this.Js(new dm(this.$g)))},i.Wm=function(){this.OC&&(this.OC=!1,this.Js(new wm(this.$g)))},i.Us=function(){this.uu()},A(n,[{key:"$g",get:function(){return this.NC},set:function(t){this.$g!==t&&(this.NC=t,this.LC=!0,this.Js(new Tm(this.$g)))}},{key:"tm",get:function(){return this._a}},{key:"nm",get:function(){return this.OW}},{key:"hm",get:function(){return this.OC}},{key:"dg",get:function(){return this.xW}},{key:"fm",get:function(){return this.LC}},{key:"um",get:function(){return this.BC},set:function(t){this.um!==t&&(this.BC=t,this.Js(new Em(this.$g,this.dm)))}},{key:"cm",get:function(){return this.xC},set:function(t){this.cm!==t&&(this.xC=t,this.Js(new km(this.$g,this.cm)))}},{key:"dm",get:function(){return this.Pa},set:function(t){this.dm!==t&&(this.Pa=t,this.Js(new Em(this.$g,this.dm)))}}]),n}(du);var ON=function(t){function n(n){var i;return(i=t.call(this)||this).fD=void 0,i.ME=jg.zg,i.LW=function(){i.MW()},i.fD=n,i}S(n,t);var i=n.prototype;return i.UW=function(t){this.ME!==t&&(this.ME=t,this.Js(new Dm(this.fD.$g,t)))},i.MW=function(){this.UW(this.fM())},i.dc=function(){this.UW(jg.zg)},i.Us=function(){this.uu()},A(n,[{key:"dg",get:function(){return this.fM()}}]),n}(du),xN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],LN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<xN.length;e++){var r=xN[e];i.fD.HD.addEventListener(r,i.LW)}return i}S(n,t);var i=n.prototype;return i.fM=function(){var t=this.fD.HD.readyState;return t>jg.Wg&&this.fD.XW?jg.Wg:(this.fD.HD.seeking&&t>jg.Vg&&(t=jg.Vg),t)},i.Us=function(){for(var n=0;n<xN.length;n++){var i=xN[n];this.fD.HD.removeEventListener(i,this.LW)}t.prototype.Us.call(this)},n}(ON),MN=function(t){function n(n){var i;(i=t.call(this,n)||this).fD.$s(Tf.Yf,i.LW);for(var e=0;e<xN.length;e++){var r=xN[e];i.fD.HD.addEventListener(r,i.LW)}return i}S(n,t);var i=n.prototype;return i.fM=function(){if(this.fD.HD.readyState===jg.zg)return jg.zg;var t=this.HW(),n=t?t.WN-t.zN:0;if(!t)return jg.Vg;var i=this.fD.cm;return this.FW()||n>=3*i?jg.qg:n>=3?jg.Gg:jg.Wg},i.HW=function(){var t=this.fD.$g,n=this.fD.py.uC(.04),i=n.cC(t);if(!(i<0))return{zN:t,WN:n.WN(i)}},i.FW=function(){if(this.fD.nm)return!0;var t=this.fD.tm,n=this.HW();return!!n&&t-n.WN<=1/6},i.Us=function(){this.fD.ou(Tf.Yf,this.LW);for(var n=0;n<xN.length;n++){var i=xN[n];this.fD.HD.removeEventListener(i,this.LW)}t.prototype.Us.call(this)},n}(ON),UN=[vm.p_,Tf.Ff,Tf.Hf,Tf.Yf,Tf.qf,Tf.Pf,Dg.ag],XN=function(t){function n(n){var i;return(i=t.call(this,n)||this).if=void 0,i.zW=!1,i.ZE=function(){i.zW=!0,i.$h()},i.if=n.HD,i.if.addEventListener(vm.Jg,i.ZE),i}S(n,t);var i=n.prototype;return i.VW=function(){return this.zW&&t.prototype.VW.call(this)},i.$h=function(){this.zW&&(this.if.paused||this.if.ended||this.if.error)&&(this.zW=!1),t.prototype.$h.call(this)},i.dc=function(){t.prototype.dc.call(this),this.zW=!1},i.Us=function(){this.if.removeEventListener(vm.Jg,this.ZE),t.prototype.Us.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).zE=void 0,i.WW=!1,i.Rx=function(){i.$h()},i.zE=n,i.zE.$s(UN,i.Rx),i}S(n,t);var i=n.prototype;return i.GW=function(){return this.zE.dg<jg.Gg},i.VW=function(){return!this.zE.fm&&!(this.zE.hm||this.zE.nm||this.zE.bu||this.GW())},i.$h=function(){var t=this.WW;this.WW=this.VW(),!t&&this.WW&&this.Js(new db(this.zE.$g))},i.dc=function(){this.WW=!1},i.Us=function(){this.uu(),this.zE.ou(UN,this.Rx)},n}(du)),HN=function(t){function n(n){var i;return(i=t.call(this,Dg.ag)||this).bu=void 0,i.bu=n,i}return S(n,t),n}(_u);function FN(t,n){return t.hk<=n&&t.ck>n}function zN(t,n){return function(t,n){return Bs(t.hk,n.hk,Oy)}(t,n)||function(t,n){return Bs(t.ck,n.ck,Oy)}(t,n)}function VN(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,zN,!0);if(i<0)return i;for(;i<t.length&&zN(n,t[i])===Ss.Ns;i++)if(t[i].Dk(n))return i;return-(i+1)}function WN(t){var n=t.a_;if(!n)return-1;if(t instanceof Ly)return n.qW(t);var i=n.wg;if(!i)return-1;var e=VN(i.x_,t);return e>=0?e:-1}function GN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{YW:o,jW:a}}(t,n,zN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var qN=function(){function t(t){this.QW=void 0,this.s_=void 0,this.QW=t}var n=t.prototype;return n.o_=function(){return function(t){for(var n=[],i=0;i<t.L_;i++)n[i]=t.Nu(i).u_;return n.item=function(n){var i=0|n,e=t.Nu(i);return e&&e.u_||void 0},d.defineProperty(n,"constructor",{value:Ny}),n}(this)},n.Hy=function(t){for(var n=this.QW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Dk(e))return!0}return!1},n.Nu=function(t){return this.QW[t]},A(t,[{key:"x_",get:function(){return this.QW}},{key:"L_",get:function(){return this.QW.length}},{key:"u_",get:function(){if(this.s_){var t=this.QW;this.s_.length=t.length;for(var n=0;n<t.length;n++)this.s_[n]=t[n].u_}else this.s_=this.o_();return this.s_}}]),t}(),YN=function(t){function n(n,i){var e;return(e=t.call(this,J_.p_)||this).a_=n,e.dg=i,e}return S(n,t),n.prototype.o_=function(){return new jN(this.a_.u_,Lg(this.dg))},n}($_),jN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(tg),QN=function(t){function n(n){var i;return(i=t.call(this,J_.A_)||this).a_=n,i}return S(n,t),n.prototype.o_=function(){return new ZN(this.a_.u_)},n}($_),ZN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(tg),KN=function(t){function n(n){var i;return(i=t.call(this,J_.h_)||this).rk=n,i}return S(n,t),n.prototype.o_=function(){return new JN(this.rk.u_)},n}($_),JN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(tg),$N=function(t){function n(n){var i;return(i=t.call(this,J_.f_)||this).rk=n,i}return S(n,t),n.prototype.o_=function(){return new tC(this.rk.u_)},n}($_),tC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(tg),nC=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).s_=void 0,h.Mh=void 0,h.Vy=ay(),h.ZW=!1,h.KW=void 0,h.JW=void 0,h.zy=void 0,h.ma=void 0,h.tP=Rg.eg,h.xW=gy.NONE,h.$W=void 0,h.Vi=void 0,h.tG=void 0,h.QW=[],h.nG=[],h.iG=void 0,h.eG=void 0,h.rG=0,h.sG=0,h.Mh=i||"",h.KW=a||"",h.JW=n,h.ma=r||"",h.ZW=Boolean(s),h.tG=Boolean(o),h.Vi=u||my.DEFAULT,h.zy=e||"",h.iG=new qN(h.QW),h.eG=new qN(h.nG),h}S(n,t);var i=n.prototype;return i.uG=function(t){return xs(this.iG.x_,function(n){return n.q_===t})},i.o_=function(){return Bg(this)},i.wP=function(t){var n=Cg(t);n!==this.cg&&(this.tP=n,n===Rg.eg&&(this.nG.forEach(function(t){t.Nk=!1}),Fs(this.nG),this.sG=0),this.Js(new ug(this)))},i.PE=function(t){if(t&&!t.a_){var n=VN(this.wg.x_,t);if(!(n>=0)){t.a_=this;var i=-(n+1);this.QW.splice(i,0,t),this.oG(i),t.Rk=i,i<this.sG&&(this.sG=i),this.Js(new KN(t))}}},i.yE=function(t){if(t&&t.a_===this){var n=this.qW(t);if(!(n<0)){t.Nk=!1;var i=this.nG,e=VN(i,t);e>=0&&Xs(i,e),Xs(this.QW,n),this.oG(n),t.Rk=-1,this.sG>n&&--this.sG,this.Js(new $N(t))}}},i.aG=function(t,n){var i=this.nG,e=this.QW,r=this.sG,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){FN(i[u],t)||(s=!0,Xs(i,u))}for(;r<e.length&&e[r].hk<=t;){var o=e[r];if(0===t)break;FN(o,t)&&!Hs(i,o)&&(s=!0,i.push(o)),r++}s&&Rs(i,zN),this.sG=r},i.qW=function(t){return(-1===t.Rk||t.Rk>=this.rG)&&this.hG(),t.Rk},i.hG=function(){for(var t=this.QW,n=this.rG;n<t.length;n++)t[n].Rk=n;this.rG=t.length},i.oG=function(t){t<this.rG&&(this.rG=t)},i.fg=function(t){this.vg||(this.cg=t)},i.Jc=function(){this.uu();for(var t=this.QW.slice(),n=0;n<t.length;n++){t[n].Jc()}Fs(this.QW),Fs(this.nG)},A(n,[{key:"_g",get:function(){return this.eG}},{key:"wg",get:function(){return this.iG}},{key:"OE",get:function(){return this.ZW},set:function(t){this.ZW=t}},{key:"vg",get:function(){return this.tG}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}},{key:"q_",get:function(){return this.Mh}},{key:"Y_",get:function(){return this.Vy}},{key:"hg",get:function(){return this.KW},set:function(t){this.KW=t}},{key:"j_",get:function(){return this.JW}},{key:"Q_",get:function(){return this.zy},set:function(t){t!==this.zy&&(this.zy=t,this.Js(new sy(this)))}},{key:"Z_",get:function(){return this.ma}},{key:"cg",get:function(){return this.tP},set:function(t){this.wP(t)}},{key:"dg",get:function(){return this.xW},set:function(t){this.xW!==t&&(this.xW=t,this.Js(new YN(this,this.xW)))}},{key:"gg",get:function(){return this.$W},set:function(t){this.$W=t}},{key:"ds",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Js(new QN(this)))}}]),n}(du),iC=function(t){function n(n,i){var e;return(e=t.call(this,by.Jy,n)||this).Pp=i,e}return S(n,t),n.prototype.o_=function(){return new eC(this.rk.u_)},n}(Iy),eC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Ry),rC=function(t){function n(n,i){var e;return(e=t.call(this,by.nk,n)||this).Pp=i,e}return S(n,t),n.prototype.o_=function(){return new sC(this.rk.u_)},n}(Iy),sC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Ry),uC=function(t){function n(n){var i;return(i=t.call(this,J_.l_)||this).rk=n,i}return S(n,t),n.prototype.o_=function(){return new oC(this.rk.u_)},n}($_),oC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(tg),aC=function(t){function n(n){var i;return(i=t.call(this,J_.w_)||this).rk=n,i}return S(n,t),n.prototype.o_=function(){return new hC(this.rk.u_)},n}($_),hC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(tg),cC=function(t){function n(n){var i;return(i=t.call(this)||this).cG=void 0,i.Ek=void 0,i.Vy=void 0,i.Tk=void 0,i.s_=void 0,i.Sk=!1,i.fG=function(){i.Nk=!0},i.vG=function(){i.Nk=!1},i.Vy=ly(),i.cG=n,i.cG.addEventListener("enter",i.fG),i.cG.addEventListener("exit",i.vG),i}S(n,t);var i=n.prototype;return i.o_=function(){return Dy(this)},i.Dk=function(t){return this===t||dg(this,t)&&xy(this,t)},i.Jc=function(){this.uu(),this.cG.removeEventListener("enter",this.fG),this.cG.removeEventListener("exit",this.vG)},A(n,[{key:"Y_",get:function(){return this.Vy}},{key:"hk",get:function(){return this.cG.startTime},set:function(t){this.cG.startTime=t}},{key:"ck",get:function(){return this.cG.endTime},set:function(t){this.cG.endTime=t}},{key:"fk",get:function(){return this.Ek},set:function(t){this.Ek=t}},{key:"Ck",get:function(){return!!this.cG.pauseOnExit},set:function(t){this.cG.pauseOnExit=!!t}},{key:"a_",get:function(){return this.Tk},set:function(t){this.Tk=t}},{key:"q_",get:function(){return this.cG.id||""}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}},{key:"Nk",get:function(){return this.Sk},set:function(t){this.Nk!==t&&(this.Sk=t,t?(this.Js(new iC(this,this.hk)),this.Tk&&this.Tk.Js(new uC(this))):(this.Js(new rC(this,this.ck)),this.Tk&&this.Tk.Js(new aC(this))))}}]),n}(Ug),fC=function(t){function n(n){var i;return(i=t.call(this,J_.g_)||this).a_=n,i}return S(n,t),n.prototype.o_=function(){return new vC(this.a_.u_)},n}($_),vC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(tg);function lC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new dC(t),t.THEOplayerVTTRegion=n),n}}var dC=function(){function t(t){this.lG=void 0,this.s_=void 0,this.lG=t}return A(t,[{key:"dG",get:function(){return this.lG}},{key:"q_",get:function(){return this.lG.id||""}},{key:"Uk",get:function(){return+this.lG.width||0},set:function(t){this.lG.width=t||0}},{key:"Pk",get:function(){return+this.lG.lines||0},set:function(t){this.lG.lines=t||0}},{key:"Bk",get:function(){return+this.lG.regionAnchorX||0},set:function(t){this.lG.regionAnchorX=t||0}},{key:"Ok",get:function(){return+this.lG.regionAnchorY||0},set:function(t){this.lG.regionAnchorY=t||0}},{key:"Lk",get:function(){return+this.lG.viewportAnchorX||0},set:function(t){this.lG.viewportAnchorX=t||0}},{key:"Mk",get:function(){return+this.lG.viewportAnchorY||0},set:function(t){this.lG.viewportAnchorY=t||0}},{key:"xk",get:function(){return this.lG.scroll||""}},{key:"u_",get:function(){return this.s_||(this.s_=Vy(this)),this.s_}}]),t}();var wC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"fk",get:function(){return this.cG.text},set:function(t){this.cG.text=t}},{key:"pk",get:function(){return this.cG.vertical||""},set:function(t){this.cG.vertical=t||""}},{key:"yk",get:function(){return this.cG.snapToLines},set:function(t){this.cG.snapToLines=t}},{key:"lk",get:function(){return this.cG.line},set:function(t){this.cG.line=t}},{key:"Ou",get:function(){return+this.cG.size},set:function(t){this.cG.size=Mt(t,0,100)}}]),n}(cC),_C=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Dk=function(n){return this===n||dg(this,n)&&t.prototype.Dk.call(this,n)&&My(this,n)},A(n,[{key:"gk",get:function(){return lC(this.cG.region)}},{key:"dk",get:function(){return this.cG.lineAlign||"start"},set:function(t){this.cG.lineAlign=t||"start"}},{key:"wk",get:function(){return this.cG.position},set:function(t){this.cG.position=t}},{key:"_k",get:function(){return this.cG.positionAlign||"auto"},set:function(t){this.cG.positionAlign=t||"auto"}},{key:"vk",get:function(){return this.cG.align||"center"},set:function(t){this.cG.align=t||"center"}},{key:"u_",get:function(){return this.s_||(this.s_=Cy(this)),this.s_}}]),n}(wC),gC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Dk=function(n){return this===n||dg(this,n)&&t.prototype.Dk.call(this,n)&&My(this,n)},A(n,[{key:"gk",get:function(){return lC(this.dG)}},{key:"dG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.cG.track,this.cG.regionId)}},{key:"dk",get:function(){return"middle"===(t=this.cG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.cG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"wk",get:function(){return this.cG.position},set:function(t){var n,i;this.cG.position=(n=t,i=this.vk,Ey(n,i))}},{key:"_k",get:function(){return t=this.cG.positionAlign||"middle",Ty[t];var t},set:function(t){var n,i;this.cG.positionAlign=(n=t||"center",i=this.vk,Ay[Sy(n,i)])}},{key:"vk",get:function(){return"middle"===(t=this.cG.align||"middle")?"center":t;var t},set:function(t){var n;this.cG.align="center"===(n=t||"center")?"middle":n}},{key:"u_",get:function(){return this.s_||(this.s_=Cy(this)),this.s_}}]),n}(wC);function mC(t,n){return t.fk===n.fk}function yC(t,n){if(0!==n.length){var i=n.length-1;if(n[i].hk<t.hk)kC(n,i,t.hk);else{var e=n[0];if(e.hk>t.hk)t.ck=e.hk;else{var r=VN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].hk<t.hk&&kC(n,u,t.hk);if(s<n.length){var o=n[s];t.ck=o.hk}}}}}}function kC(t,n,i){for(var e=t[n].hk,r=n;r>=0&&t[r].hk===e;r--)t[r].ck=i}function pC(t){return Dy(t)}var bC,AC,TC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).wG=void 0,e.wG=i,e}return S(n,t),n.prototype.Dk=function(n){return this===n||dg(this,n)&&t.prototype.Dk.call(this,n)&&mC(this,n)},A(n,[{key:"fk",get:function(){return this.wG}},{key:"u_",get:function(){return this.s_||(this.s_=pC(this)),this.s_}}]),n}(cC);function SC(t){switch(t){case bC.ISO_8859_1:case bC.UTF16_BOM:case bC.UTF16:case bC.UTF8:return!0}return!1}function EC(t){switch(t){case bC.ISO_8859_1:return go;case bC.UTF16_BOM:return ko;case bC.UTF16:return po;case bC.UTF8:return Do}}function IC(t,n){var i=n.xu,e=t.byteLength,r=Lo(t);return n.Lu(e-i),Xo(r,i,e).buffer}function RC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function DC(t,n,i){var e=io(t,n);if(SC(e)){var r=EC(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function NC(t,n,i){var e=io(t,n);if(SC(e)){var r=EC(e);return{id:i,mimeType:go(t,n),fileName:r(t,n),description:r(t,n),data:IC(t,n)}}}function CC(t,n,i){var e=io(t,n);if(SC(e)){for(var r=EC(e),s=[];n.xu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function PC(t,n,i){var e=io(t,n);if(SC(e)){for(var r=EC(e),s=wo(t,n,3),u=io(t,n),o=io(t,n),a=r(t,n),h=!1,c=[];n.xu<t.byteLength;){var f=void 0;if(e===bC.UTF16_BOM){var v=yo(t,n);void 0===v?v=h:h=v,f=po(t,n,v)}else f=r(t,n);if(!f||n.xu+4>t.byteLength)break;c.push({text:f,timestamp:co(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function BC(t,n,i){return{id:i,ownerIdentifier:go(t,n),identifier:IC(t,n)}}function OC(t,n,i){var e=io(t,n);if(SC(e)){var r=EC(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function xC(t,n,i){var e=io(t,n);if(SC(e))return{id:i,text:EC(e)(t,n)}}function LC(t,n,i){return{id:i,url:go(t,n)}}function MC(t,n,i){var e=io(t,n);if(SC(e)){var r=EC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function UC(t,n,i){var e=io(t,n);if(SC(e))return{id:i,description:EC(e)(t,n),url:go(t,n)}}function XC(t,n,i){switch(i){case"COM":return DC(t,n,i);case"GEO":return NC(t,n,i);case"IPL":return CC(t,n,i);case"PIC":return function(t,n,i){var e=io(t,n);if(SC(e)){var r,s,u=EC(e),o=wo(t,n,3),a=io(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=go(t,n)):(r="image/"+o.toLowerCase(),s=IC(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return PC(t,n,i);case"TXX":return MC(t,n,i);case"UFI":return BC(t,n,i);case"ULT":return OC(t,n,i);case"WXX":return UC(t,n,i);default:if("T"===i.charAt(0))return xC(t,n,i);if("W"===i.charAt(0))return LC(t,n,i)}}function HC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=io(t,n);if(SC(e)){var r=EC(e),s=go(t,n);return{id:i,mimeType:s,pictureType:io(t,n),description:r(t,n),data:"--\x3e"===s?go(t,n):IC(t,n)}}}(t,n,i);case"COMM":return DC(t,n,i);case"COMR":return function(t,n,i){var e=io(t,n);if(SC(e)){var r,s,u=EC(e),o=go(t,n),a=wo(t,n,8),h=go(t,n),c=io(t,n),f=u(t,n),v=u(t,n);return n.xu<t.byteLength&&(r=go(t,n)||"image/",s=IC(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return NC(t,n,i);case"IPLS":return CC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:go(t,n),data:IC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:io(t,n),position:co(t,n)}}(t,n,i);case"SYLT":return PC(t,n,i);case"TXXX":return MC(t,n,i);case"UFID":return BC(t,n,i);case"USER":return function(t,n,i){var e=io(t,n);if(SC(e)){var r=EC(e);return{id:i,language:wo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return OC(t,n,i);case"WXXX":return UC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return xC(t,n,i);default:var e=i.charAt(0);if("T"===e)return xC(t,n,i);if("W"===e)return LC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(bC||(bC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(AC||(AC={}));var FC=10;function zC(t,n){return(127&io(t,n))<<21|(127&io(t,n))<<14|(127&io(t,n))<<7|127&io(t,n)}function VC(t,n){switch(t){case AC.V24:return{_G:no(n,0),gG:no(n,1),mG:no(n,2),yG:no(n,3)};case AC.V23:return{_G:no(n,0),gG:no(n,1),mG:no(n,2)};case AC.V22:return{_G:no(n,0),kG:no(n,1)}}}function WC(t,n,i){switch(i.HA){case AC.V23:i.FA.gG&&function(t,n){var i=n.xu,e=co(t,n)+4,r=32768&ao(t,n);n.Uu(i+e),r&&co(t,n)}(t,n);break;case AC.V24:i.FA.gG&&function(t,n){var i=n.xu,e=zC(t,n);n.Uu(i+e)}(t,n)}}function GC(t,n){if(t.byteLength-n.xu<FC)return null;if(73!==io(t,n)||68!==io(t,n)||51!==io(t,n))return null;var i=io(t,n),e=io(t,n);if(!function(t){switch(t){case AC.V22:case AC.V23:case AC.V24:return!0}return!1}(i))return null;var r=io(t,n),s=zC(t,n);return{HA:i,pG:e,FA:VC(i,r),bG:s}}function qC(t,n,i){switch(i.HA){case AC.V22:return function(t,n,i){return{q_:wo(t,n,3),Ou:oo(t,n,3)}}(t,n);case AC.V23:return function(t,n,i){var e=wo(t,n,4),r=co(t,n);io(t,n);var s=io(t,n);return{q_:e,Ou:r,FA:{kG:no(s,0),AG:no(s,1),groupingIdentity:no(s,2)}}}(t,n);case AC.V24:return function(t,n,i){var e=wo(t,n,4),r=zC(t,n);io(t,n);var s=io(t,n);return{q_:e,Ou:r,FA:{groupingIdentity:no(s,1),kG:no(s,4),AG:no(s,5),_G:no(s,6),TG:no(s,7)}}}(t,n)}}function YC(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function jC(t,n){var i=n||new zo,e=GC(t,i);return e?{xA:e,SG:function(t,n,i){var e=[],r=n.xu,s=Oo(t,r,r+i.bG),u=new zo;switch(n.Lu(i.bG),i.HA){case AC.V22:case AC.V23:i.FA._G&&(s=YC(s))}WC(t,n,i);for(;u.xu<s.byteLength;)e.push(QC(s,u,i));return e}(t,i,e)}:null}function QC(t,n,i){var e,r,s=qC(t,n,i),u=n.xu,o=Oo(t,u,u+s.Ou);switch(n.Lu(s.Ou),i.HA){case AC.V22:var a=s;e=XC(r=o,new zo,a.q_);break;case AC.V23:var h=s,c=new zo;!function(t,n,i){var e,r,s,u=i.FA;u.kG&&(e=co(t,n)),u.AG&&(r=io(t,n)),u.groupingIdentity&&(s=io(t,n))}(o,c,h),e=HC(r=Oo(o,c.xu,o.byteLength),new zo,h.q_);break;case AC.V24:var f=s,v=new zo;f.FA._G&&(o=YC(o)),function(t,n,i){var e,r,s,u,o=i.FA;o.groupingIdentity&&(e=io(t,n)),o.kG&&(r=co(t,n)),o.AG&&(s=io(t,n)),o.TG&&(u=zC(t,n))}(o,v,f),e=HC(r=Oo(o,v.xu,o.byteLength),new zo,f.q_)}if(!e){var l=Ho(Lo(r));e=RC(s.q_,l.buffer)}return e}function ZC(t){return function(t,n,i){return xC(t,n,i)}(new DataView(t.data),new zo,t.key)}function KC(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return ZC(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return RC(t.key,t.data)}(t)}var JC="org.id3";var $C=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Fy=void 0,r.EG=void 0,r.QW=[],r.nG=[],r.iG=void 0,r.eG=void 0,r.Vy=void 0,r.zy=void 0,r.tP=Rg.eg,r.xW=gy.NONE,r.s_=void 0,r.$W=void 0,r.Vi=my.DEFAULT,r.IG=void 0,r.RG=function(){r.DG(),r.Fy.removeEventListener("cuechange",r.RG)},r.NG=function(){r.cg!==Rg.eg&&(r.CG(),r.aG(),r.QW.length&&r.PG(gy.LOADING))},r.BG=function(){r.PG(gy.LOADED)},r.OG=function(){r.PG(gy.ERROR)},r.Fy=n,r.IG=e,r.Fy.addEventListener("cuechange",r.RG),r.Fy.addEventListener("cuechange",r.NG),r.EG=i,r.EG&&(r.$W=cw(r.EG.src),r.EG.addEventListener("load",r.BG),r.EG.addEventListener("error",r.OG)),r.Vy=ay(),r.zy=n.label||"",r.iG=new qN(r.QW),r.eG=new qN(r.nG),r.cg=r.xG,ou(function(){r.NG(),r.PG(gy.NONE)}),r}S(n,t);var i=n.prototype;return i.o_=function(){return Bg(this)},i.DG=function(){var t=this.cg;this.LG||t!==Rg.og?this.xG=t:this.xG=Rg.rg},i.MG=function(){var t=this.cg,n=this.xG;t!==n&&(this.LG||t!==Rg.og||n!==Rg.rg)&&("metadata"===this.j_&&n===Rg.eg?this.cg=t:this.cg=n)},i.MW=function(t){this.xW!==t&&(this.xW=t,this.Js(new YN(this,t)))},i.PG=function(t){var n=w.max(this.xW,this.UG,t);this.MW(n)},n.XG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.HG=function(t){var i=n.XG(t);if(i)return i;if(V(i=this.FG(t)))for(var e=0,r=i;e<r.length;e++){r[e].a_=this}else i.a_=this;return t.THEOplayerTextTrackCue=i,i},i.FG=function(t){return(n=t)&&n.type===JC&&n.value?(this.ds=my.ID3,function(t){var n;try{n=KC(t.value)}catch(t){n=RC("")}return new TC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.ds=my.ID3,function(t){var n=[];try{var i=jC(new DataView(t.data));if(i)for(var e=0,r=i.SG;e<r.length;e++){var s=r[e];n.push(new TC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.ds=my.WEBVTT,function(t){return"regionId"in t}(t)?new gC(t):new _C(t)):new cC(t);var n},i.zG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.HG(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.CG=function(){for(var t=this.zG(this.Fy.cues),n=GN(this.QW,t),i=0,e=n.jW;i<e.length;i++){var r=e[i];r.ou(by.nk,this.NG),r.ou(by.Jy,this.NG),this.Js(new $N(r))}for(var s=0,u=n.YW;s<u.length;s++){var o=u[s];o.$s(by.Jy,this.NG),o.$s(by.nk,this.NG),this.Js(new KN(o))}},i.aG=function(){for(var t=this.zG(this.Fy.activeCues),n=GN(this.nG,t),i=0,e=n.jW;i<e.length;i++){e[i].Nk=!1}for(var r=0,s=n.YW;r<s.length;r++){s[r].Nk=!0}(n.YW.length||n.jW.length)&&this.Js(new fC(this))},i.fg=function(t){this.cg=t},i.Jc=function(){this.uu();for(var t=this.QW.slice(),n=0;n<t.length;n++){t[n].Jc()}Fs(this.QW),Fs(this.nG),this.Fy.removeEventListener("cuechange",this.RG),this.Fy.removeEventListener("cuechange",this.NG),this.EG&&(this.EG.removeEventListener("load",this.BG),this.EG.removeEventListener("error",this.OG),$e(this.EG))},A(n,[{key:"_g",get:function(){return this.eG}},{key:"OE",get:function(){return this.EG?this.EG.default:void 0}},{key:"wg",get:function(){return this.iG}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}},{key:"q_",get:function(){return this.Fy.id||this.EG&&this.EG.id||""}},{key:"Y_",get:function(){return this.Vy}},{key:"hg",get:function(){return this.Fy.inBandMetadataTrackDispatchType||""}},{key:"j_",get:function(){return this.Fy.kind||Rp.hA}},{key:"Q_",get:function(){return this.zy},set:function(t){t!==this.zy&&(this.zy=t,void 0!==this.EG&&(this.EG.label=t),this.Js(new sy(this)))}},{key:"Z_",get:function(){return this.Fy.language||""}},{key:"cg",get:function(){return this.tP},set:function(t){var n=this.cg;this.tP=Cg(t),this.DG();var i=this.cg;n!==i&&this.Js(new ug(this)),i!==Rg.eg&&this.PG(gy.LOADING)}},{key:"xG",get:function(){return Cg(this.Fy.mode)},set:function(t){this.Fy.mode=t}},{key:"jy",get:function(){return this.Fy}},{key:"dg",get:function(){return this.xW}},{key:"UG",get:function(){return this.EG?+this.EG.readyState||gy.NONE:gy.LOADED}},{key:"gg",get:function(){return this.$W}},{key:"ds",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Js(new QN(this)))}},{key:"LG",get:function(){return this.IG},set:function(t){this.IG=t,this.DG()}}]),n}(du);function tP(t,n){return Ps(t.Pp,n.Pp)||function(t,n){return t.a_===n.a_?Cs(WN(t),WN(n)):Vp(t.a_,n.a_)}(t.rk,n.rk)||function(t,n){return t===n?Ss.Ns:t===by.Jy?Ss.Ps:Ss.Cs}(t.type,n.type)}var nP=function(){function t(t,n){var i=this;this.PN=void 0,this.VG=void 0,this.Lm=[],this.WG=0,this.GG=0,this.qG=[],this.YG=[],this.jG=!1,this.QG=!1,this.ZG=void 0,this.KG=function(){i.WG=0,i.JG(),i.$G()},this.tq=function(){i.JG(),i.$G()},this.nq=function(){i.QG=!0,i.ZG=i.PN.$g,i.iq()},this.rq=function(){i.JG(),i.$G()},this.uq=function(){i.oq(),i.JG(),i.$G()},this.aq=function(t){Hs(i.YG,t.rk)||i.YG.push(t.rk),i.hq()},this.cq=function(t){Us(i.qG,t.rk),Us(i.YG,t.rk),i.hq()},this.VG=n,this.PN=t,t.$s(Tf.tv,this.tq),t.$s(Tf.Ff,this.tq),t.$s(vm.Jg,this.tq),t.$s(Tf.Hf,this.tq),t.$s(Tf.Yf,this.nq),t.$s(Tf.qf,this.rq),this.hq()}var n=t.prototype;return n.dc=function(){Fs(this.qG);for(var t=0,n=this.Lm.slice();t<n.length;t++){var i=n[t];this.B_(i)}this.iq(),this.WG=0,this.GG=0,this.jG=!1,this.QG=!1,this.ZG=void 0},n.P_=function(t){if(!Hs(this.Lm,t)){if(this.Lm.push(t),t.$s(J_.h_,this.aq),t.$s(J_.f_,this.cq),t.$s(J_.y_,this.uq),t.wg.L_>0){for(var n=0,i=t.wg.x_;n<i.length;n++){var e=i[n];this.YG.push(e)}this.hq()}this.oq()}},n.B_=function(t){if(Us(this.Lm,t)){if(t.ou(J_.h_,this.aq),t.ou(J_.f_,this.cq),t.ou(J_.y_,this.uq),t.wg.L_>0){for(var n=0,i=t.wg.x_;n<i.length;n++){var e=i[n];Us(this.qG,e),Us(this.YG,e)}this.hq()}this.oq()}},n.oq=function(){this.jG=this.Lm.some(function(t){return t.cg!==Rg.eg})},n.$G=function(){this.PN.fm||this.PN.hm?this.iq():this.hq()},n.hq=function(){this.jG&&(this.WG||(this.WG=this.VG.Ce(this.KG)))},n.iq=function(){this.WG&&(this.VG.fq(this.WG),this.WG=0)},n.JG=function(){var t;if(this.jG&&!this.PN.fm){var n=this.Lm,i=this.GG,e=null!=(t=this.ZG)?t:this.PN.$g,r=e-i<-.1,s=this.QG||r;s&&e>i&&e-i<.1&&(s=!1),this.QG=!1,this.ZG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.cg!==Rg.eg){h.aG(e,s);for(var c=0,f=h._g.x_;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.qG;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.cg!==Rg.eg&&zp(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Hs(o,u[_])&&Xs(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.hk>i&&y.ck<=e&&(g.push(y),Xs(u,m))}for(var k=0,p=this.YG;k<p.length;k++){Us(g,p[k])}Fs(this.YG);for(var b=[],A=[],T=0;T<g.length;T++){var S=g[T];S.Nk||b.push(new iC(S,S.hk)),b.push(new rC(S,w.max(S.hk,S.ck))),S.Nk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Nk&&(b.push(new rC(R,w.max(R.hk,R.ck))),R.Nk=!1)}for(var D=0;D<o.length;D++){var N=o[D];N.Nk||(b.push(new iC(N,N.hk)),N.Nk=!0)}b.sort(tP);for(var C=0;C<b.length;C++){var P=b[C],B=P.rk;B.Js(P);var O=B.a_;O&&(P.type===by.Jy?O.Js(new uC(B)):O.Js(new aC(B)),Hs(A,O)||A.push(O))}A.sort(Vp);for(var x=0;x<A.length;x++){var L=A[x];L.Js(new fC(L))}this.GG=e,this.qG=o}},n.Jc=function(){this.dc(),this.PN.ou(Tf.tv,this.tq),this.PN.ou(Tf.Ff,this.tq),this.PN.ou(vm.Jg,this.tq),this.PN.ou(Tf.Hf,this.tq),this.PN.ou(Tf.Yf,this.nq),this.PN.ou(Tf.qf,this.rq)},t}(),iP=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return mI(t)},n.fq=function(t){yI(t)},t}(),eP=new iP,rP=function(t){function n(n,i){return void 0===i&&(i=eP),t.call(this,n,i)||this}return S(n,t),n}(nP),sP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.Dk=function(n){return this===n||dg(this,n)&&t.prototype.Dk.call(this,n)&&mC(this,n)},A(n,[{key:"u_",get:function(){return this.s_||(this.s_=pC(this)),this.s_}}]),n}(Ly),uP=function(t){function n(n,i,e){return void 0===e&&(e=my.DEFAULT),t.call(this,Rp.fA,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(nC),oP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ds=my.ID3,e}S(n,t);var i=n.prototype;return i.PE=function(n){yC(n,this.QW),t.prototype.PE.call(this,n)},i.o_=function(){return Bg(this)},n}(uP);function aP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=KC(t.value);return t.THEOplayerTextTrackCue=new sP(i,e),t.THEOplayerTextTrackCue}var hP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Fy=void 0,i.NG=function(){i.cg!==Rg.eg&&(i.CG(),i.PG(gy.LOADED))},i.Fy=n,i.Fy.addEventListener("cuechange",i.NG),i.cg=i.xG,ou(function(){i.NG()}),i}S(n,t);var i=n.prototype;return i.wP=function(n){t.prototype.wP.call(this,n),this.xG=this.cg},i.PG=function(t){this.dg=w.max(this.dg,t)},i.CG=function(){var t=this.Fy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(aP(t[e]||t.item(e)));return Rs(i,zN),i}(t),i=GN(this.wg.x_.slice(),n),e=0,r=i.jW;e<r.length;e++){var s=r[e];this.yE(s)}for(var u=0,o=i.YW;u<o.length;u++){var a=o[u];this.PE(a)}}},i.Jc=function(){this.Fy.removeEventListener("cuechange",this.NG),t.prototype.Jc.call(this)},A(n,[{key:"q_",get:function(){return this.Fy.id||""}},{key:"hg",get:function(){return this.Fy.inBandMetadataTrackDispatchType||""}},{key:"Z_",get:function(){return this.Fy.language||""}},{key:"xG",get:function(){return Cg(this.Fy.mode)},set:function(t){this.Fy.mode=t}},{key:"jy",get:function(){return this.Fy}}]),n}(oP),cP=function(t){function n(n,i){var e;return(e=t.call(this)||this).vq=Br(),e.nD=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.a_).ds){i.next=4;break}return i.next=4,Dr.awrap(n.du(J_.A_));case 4:if(n.ds===my.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.wg.L_){i.next=11;break}return i.next=9,Dr.awrap(n.du(J_.h_));case 9:i.next=6;break;case 11:e.lq(n);case 12:case"end":return i.stop()}},null,null,null,We)},e.iD=function(t){var n=t.a_;if(n.ds===my.ID3&&e.vq.has(n.Y_)){var i=e.vq.get(n.Y_);e.B_(i),e.EE.BE(i),n.ou(J_.h_,e.dq)}},e.dq=function(t){fP(t.rk)&&e.wq(t.rk)},e.EE=n,e._q=i,e.gq(),e}S(n,t);var i=n.prototype;return i.gq=function(){this._q.$s(j_.n_,this.nD),this._q.$s(j_.e_,this.iD)},i.mq=function(){this._q.ou(j_.n_,this.nD),this._q.ou(j_.e_,this.iD)},i.lq=function(t){var n=t.wg.x_[0];if(fP(n)){var i=function(t){var n=t.match(vP);if(!n)return;return{a_:n[1],Z_:n[2]}}(n.fk.description),e=i.a_,r=i.Z_;if(!this.yq(e,r)){var s=this.EE.NE(Rp.hA,t.q_,e,r,!1,my.TTML);this.P_(s),this.vq.set(t.Y_,s);for(var u=0,o=t.wg.x_;u<o.length;u++){var a=o[u];fP(a)&&this.wq(a)}t.$s(J_.h_,this.dq)}}},i.yq=function(t,n){return this.eT.x_.some(function(i){return i.Q_===t&&i.Z_===n})},i.wq=function(t){if(t.a_)for(var n=this.vq.get(t.a_.Y_),i=_p(t.fk.text,n,{vb:0,wb:1/0,_b:t.hk}),e=0;e<i.length;e++){var r=i[e];n.PE(r)}},i.dc=function(){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this._q.x_;n<i.length;n++)i[n].ou(J_.h_,this.dq);for(e=0,r=this.eT.x_;e<r.length;e++)s=r[e],this.EE.BE(s);return this.vq.clear(),u.next=5,Dr.awrap(t.prototype.dc.call(this));case 5:case"end":return u.stop()}},null,this,null,We)},i.Jc=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.mq(),n.next=3,Dr.awrap(t.prototype.Jc.call(this));case 3:case"end":return n.stop()}},null,this,null,We)},n}(jp);function fP(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.fk)&&vP.test(n.description);var n}var vP=/^Track:(.+),Lang:(.+)$/;var lP=function(t){function n(n){var i;return(i=t.call(this,Tf.Ef)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(_u),dP=function(t){function n(){return t.call(this,Tf.If)||this}return S(n,t),n}(_u),wP=function(t){function n(n){var i;return(i=t.call(this,"uv")||this).kq=n,i}return S(n,t),n}(_u),_P=new af,gP=function(t){function n(n){var i;return(i=t.call(this,"Qh")||this).session=n,i}return S(n,t),n}(_u),mP=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).pq=!1,u.bq=!1,u.qc=new Ks,u.Aq=void 0,u.Gh=function(t){if(!u.qc.Ys.Bs)switch(t.yu){case"license-request":case"license-renewal":u._I(t.mu,t.pu).catch(function(t){return u.Dc(t)});break;default:u.Dc(new Jm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.yu))}},u.Tq=function(t){u.Sq.ec.Cu(function(t,n){switch(t){case"usable":i.Qn(function(){u.bq=!0,u.Js(new dP)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Js(new wP(n))}})},u.Eq=function(t){u.Dc(new Jm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.Sq=e,u.Iq=r,u.Rq=s,e.$s("mu",u.Gh),e.$s("_u",u.Tq),e.$s("bu",u.Eq),e.nc.then(function(){return u.Dq()}),u}S(e,t);var r=e.prototype;return r.Zh=function(){var t=this;return this.pq=!0,_P.Zc(function(n){return t.Nq(n)},this.qc.Ys)},r.Nq=function(t){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,tu(t),s.next=4,Dr.awrap(this.Iq.hI(t));case 4:return s.next=6,Dr.awrap(this.Iq.cI(this.Rq.gs,this.Rq.Iu,t));case 6:return i=s.sent,s.next=9,Dr.awrap(this.Sq.Zh(this.Rq.gs,this.Rq.Iu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),nu(s.t0),e=s.t0 instanceof Qo?s.t0.Ku:void 0,r=new Jm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Dc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],We)},r._I=function(t,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!qo(t)){o.next=7;break}return o.next=4,Dr.awrap(this.Iq.TI(new y(t),this.qc.Ys));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Dr.awrap(this.Iq.SI(new y(t),i,this.qc.Ys));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!$s(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.qc.Ys.Bs){o.next=19;break}return o.abrupt("return");case 19:return r=this.Aq,s=new Wo,this.Aq=s,o.prev=22,o.next=25,Dr.awrap(this.Sq.$h(e));case 25:return o.next=27,Dr.awrap(cu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof Qo?o.t1.Ku:void 0,new Jm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Dr.awrap(r.Wu);case 37:return s.ju(),this.Aq===s&&(this.Aq=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],We)},r.Dc=function(t){var i=t instanceof Jm?t:new Jm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Js(new lP(i)),this.Qh()},r.Dq=function(){this.Sq.ou("mu",this.Gh),this.Sq.ou("_u",this.Tq),this.Sq.ou("bu",this.Eq),this.bq=!1,this.qc.Ws(),this.Js(new gP(this))},r.Qh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.uu();case 1:if(void 0===(t=this.Aq)){n.next=5;break}return n.next=5,Dr.awrap(t.Wu);case 5:if(this.Aq!==t){n.next=1;break}case 6:return this.Dq(),n.next=9,Dr.awrap(this.Sq.Qh().catch(K));case 9:case"end":return n.stop()}},null,this,null,We)},e}(du),yP=[Tf.If,Tf.Ef,Tf.rv],kP=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).qh=void 0,r.uc=void 0,r.Cq=void 0,r.Pq=[],r.Bq=void 0,r.Oq=[],r.xq=function(t){t.session.ou(yP,r.Ks),t.session.ou("Qh",r.xq),Us(r.Pq,t.session)},r.qh=n,r.uc=i,r.Cq=e,r}S(n,t);var i=n.prototype;return i.AI=function(){return this.Cq.AI()},i.Lq=function(t){return this.Bq||(this.Bq=this.Mq(t)),this.Bq},i.Mq=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return tu(t),i.next=3,Dr.awrap(this.Cq.TI(new y(Go()),t));case 3:if(n=i.sent,tu(t),this.uc){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Dr.awrap(this.uc.fc(n.buffer));case 9:case"end":return i.stop()}},null,this,null,We)},i.Uq=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.uc){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.Oq.push(t),e.next=6,Dr.awrap(this.uc.cc("temporary"));case 6:return n=e.sent,i=new mP(n,this.Cq,t),this.Pq.push(i),i.$s(yP,this.Ks),i.$s("Qh",this.xq),e.abrupt("return",i);case 12:return e.prev=12,Us(this.Oq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],We)},i.Xq=function(t){if(t.Hq)return!1;for(var n=0,i=this.Pq;n<i.length;n++){if(pP(i[n].Rq,t))return!0}for(var e=0,r=this.Oq;e<r.length;e++){if(pP(r[e],t))return!0}return!1},i.Jc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.uc=void 0,this.uu(),t=this.Pq.slice(),Fs(this.Pq),n.next=6,Dr.awrap(We.all(t.map(function(t){return t.Qh()})));case 6:this.Cq.Us();case 7:case"end":return n.stop()}},null,this,null,We)},A(n,[{key:"ac",get:function(){return this.qh}}]),n}(du);function pP(t,n){return!t.Hq&&t.gs===n.gs&&Lu(t.Iu,n.Iu)}var bP=function(t){function e(n){var i;return(i=t.call(this)||this).fD=void 0,i.qc=new Ks,i.gX=new af,i.Lc=void 0,i.Cq=void 0,i.vD=void 0,i.qh=void 0,i.Fq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(i.zq(t.gs,t.Iu,i.qc.Ys));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),$s(n.t0)||i.Dc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],We)},i.fD=n,i.fD.$s(lu.Au,i.Fq),i}S(e,t);var r=e.prototype;return r.Kh=function(t,n){this.vD=t,this.HX(n)},r.HX=function(t){this.Lc=t,this.Vq(this.qc.Ys).catch(iu)},r.Vq=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Xr.Ge){n.next=5;break}return n.next=3,Dr.awrap(this.Wq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Lc||!this.Lc.Gq){n.next=9;break}return n.next=8,Dr.awrap(this.qq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,We)},r.Wq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Lc)?void 0:n.WD){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Lc)?void 0:u.WD)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,h=null!=(c=o.JR)?c:[];case 8:if(!(a<h.length)){v.next=22;break}return f=h[a],v.prev=10,v.next=13,Dr.awrap(this.zq(o.ac.gs,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),nu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],We)},r.zq=function(t,e,r){var s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(tu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Lc&&this.Lc.WD.length){w.next=5;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Wr||t===qr||t===Gr){w.next=8;break}return w.abrupt("return");case 8:s=fA(t,e),u=this.Lc.WD,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],tu(r),(c=s[h.ac.ys])&&h.ac.gs===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Dr.awrap(this.Yq(h,r));case 20:if(!(f=w.sent).AI()){w.next=24;break}return w.next=24,Dr.awrap(f.Lq());case 24:if(v=this.fD.Ty,l={gs:h.ac.gs,Iu:c,Hq:v},!this.jq(f,l)){w.next=32;break}return w.next=29,Dr.awrap(f.Uq(l));case 29:return d=w.sent,w.next=32,Dr.awrap(d.Zh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),nu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Dr.awrap(i.Rr());case 44:if(!w.sent){w.next=48;break}throw new Jm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],We)},r.qq=function(t){var n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Lc)?void 0:n.WD){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],tu(t),u.prev=7,u.next=10,Dr.awrap(this.Yq(r,t));case 10:if(!(s=u.sent).AI()){u.next=14;break}return u.next=14,Dr.awrap(s.Lq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),nu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],We)},r.jq=function(t,n){return i.Xr.We||!t.Xq(n)},r.Yq=function(t,n){var i=this;return this.gX.Zc(function(n){return i.Qq(t,n)},n)},r.Qq=function(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(tu(n),this.Lc&&this.Cq&&this.vD){o.next=3;break}throw new v("Not initialized");case 3:if(!this.qh){o.next=7;break}if(this.qh.ac===t.ac){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.qh);case 7:return i=this.Cq,e=Nr({},t,{rN:t.rN.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.qI(t.ac),pc:n.pc||i.pc(t.ac)})})}),o.next=11,Dr.awrap(this.vD.MX(e.ac,e.rN));case 11:return r=o.sent,s=i.KR(e),(u=new kP(e.ac,r,s)).$s([Tf.If,Tf.Ef,Tf.rv],this.Ks),this.qh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,We)},r.Dc=function(t){var i=t instanceof Jm?t:new Jm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Js(new lP(i))},r.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vD=void 0,this.Lc=void 0,this.qc.Ws(),this.qc=new Ks,t.next=6,Dr.awrap(this.Zq());case 6:case"end":return t.stop()}},null,this,null,We)},r.Zq=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.gX.Ws());case 2:if(!(t=this.qh)){n.next=8;break}return t.ou(Tf.rv,this.Ks),this.qh=void 0,n.next=8,Dr.awrap(t.Jc());case 8:case"end":return n.stop()}},null,this,null,We)},r.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uu(),this.fD.ou(lu.Au,this.Fq),t.next=4,Dr.awrap(this.dc());case 4:return t.next=6,Dr.awrap(this.gX.Jc());case 6:case"end":return t.stop()}},null,this,null,We)},A(e,[{key:"Kq",get:function(){var t;return null==(t=this.qh)?void 0:t.ac}},{key:"FD",get:function(){return this.Cq},set:function(t){this.Cq=t}}]),e}(du),AP=M.In||M.Rn,TP=M.qn,SP=.5,EP=5,IP=M.Bn,RP=M.Bn&&M.hn,DP=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).if=void 0,s.Jq=void 0,s.lD=void 0,s.xN=!0,s.vD=void 0,s.$q=new af,s.tY=void 0,s.nY=void 0,s.iY=void 0,s.BX=void 0,s.Lm=void 0,s.XC=void 0,s.eY=[],s.rY=void 0,s.sY=void 0,s.uY=void 0,s.oY=void 0,s.aY=void 0,s.hY=void 0,s.cY=NaN,s.fY=void 0,s.vY=void 0,s.LC=!1,s.lY=We.resolve(),s.dY=new Ks,s.wY=[],s._Y=oS.SC(),s.gY=void 0,s.mY=1,s.yY=!1,s.kY=!1,s.pY=!1,s.bY=!1,s.Ss=void 0,s.AY=!1,s.TY=!1,s.SY=!1,s.EY=!1,s.IY=0,s.QV=void 0,s.RY=!1,s.DY=function(t){var n=t.track,i=s.NY(n);s.CY(n,i)},s.PY=function(t){var n=BP(s.rY,t.track);n&&s.rY.B_(n)},s.BY=function(){for(var t=0;t<s.Lm.L_;t++){var n=s.Lm.C_(t);n instanceof $C&&n.MG()}},s.OY=function(){var t=s.vD,n=t.fW,i=t.vW;if(n&&i)if(t.QX)s.xY();else if(t.dg!==IN._V){var e=n.py,r=i.py;if(0!==e.L_&&0!==r.L_){var u=s.$g;if(u<e.zN(0)||u<r.zN(0))s.xY();else if(e.sN(u)!==r.sN(u)){if(t.KV(u))return;s.LY()}else{if(s.xY(),!s.IY&&s.iY.VW())e.aC(r).lC(u,u+SP)&&(s.IY=mI(s.MY))}}else s.xY()}},s.MY=function(){s.IY=0,s.OY()},s.UY=function(){if(!(s.fm||s.dg>=jg.Gg)){0;var t=s.vD,n=t.fW,i=t.vW;if(n&&i){var e=s.$g,r=n.py,u=i.py;if(r.sN(e)&&u.sN(e))r.aC(u).lC(e-EP,e)&&(s.SY?s.xY():s.XY())}}},s.HY=function(){s.Js(new wm(s.$g))},s.FY=function(){s.zY(new Js),s.Js(new dm(s.$g))},s.VY=function(){s.WY(),s.Js(new db(s.$g))},s.GY=function(){s.qY(s.cm)},s.YY=function(){s.Js(new ym(s.tm))},s.jY=function(){s.Js(new pD(s.$g))},s.QY=function(){s.Js(new bD)},s.ZY=function(){var t=s.$g,n=s.fm,i=s.dg<jg.Gg&&!s.nm,e=void 0!==s.vY,r=e&&s.vY!==t;(n||!e||r&&!i)&&(s.Js(new pm(s.$g,void 0)),s.vY=t)},s.KY=function(){!s.yY&&s.nm&&(s.yY=!0,s.Js(new bm(s.$g)))},s.JY=function(){if(null!==s.if.error){var t,n=s.if.error;s.TD(new $m(null!=(t=n.code)?t:Qm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.$Y=function(){s.kY&&(s.tj(),s.pY=!0)},s.nj=function(){s.Js(new Em(s.$g,s.dm))},s.ij=function(){s.lm>0&&s.vm>0&&s.Js(new eb)},s.ej=function(t){s.Js(new bu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.rj=function(){s.Js(new Au)},s.sj=function(t){var n=t.initData,i=n?Ho(n).buffer:new ArrayBuffer(0);s.Js(new bu(Wr,i))},s.uj=function(t){if(t.initData){var n=NP(t.initData);if(!n)return;s.Js(new bu(qr,n))}else s.Js(new bu(qr,new ArrayBuffer(0)))},s.aj=function(t){var n=t.initData,i=n?Ho(n).buffer:new ArrayBuffer(0);s.Js(new bu(Wr,i))},s.hj=function(){s.WY()},s.cj=function(t){s.zY(t)},s.vj=function(t){s.Js(t),t.type===Tf.Ef&&s.TD(ny(t.errorObject))},s.if=n,s.Ss=i,s.Jq=e,s.XC=r,s.nY=new LN(Kt(s)),s.nY.$s(vm.p_,s.Ks),s.iY=new XN(Kt(s)),s.iY.$s(vm.Jg,s.VY),s.BX=new bP(Kt(s)),s.BX.$s([Tf.If,Tf.Ef,Tf.rv],s.vj),s.Lm=new Dp,s.rY=new Dp,s.sY=new FT([s.Lm,s.rY]),s.uY=new cP(Kt(s),s.sY),s.oY=new FT([s.sY,s.uY.eT]),s.aY=new rP(Kt(s)),s.lj(),s.VD(),s}S(n,t);var e=n.prototype;return e.dj=function(){this.HD.ended||this.$g===this.tm||(this.yY=!1)},e.wj=function(){return void 0!==this.hY&&this.tm===this.hY},e.qY=function(t){this.mY!==t&&(this.mY=t,this.Js(new km(this.$g,t)))},e.aN=function(){return bR(this.if)},e.Wm=function(){this.RY||(this.RY=!0);var t=this._j();return this.gj(),t},e.gj=function(){this.AY?this.TY&&(this.TY=!1,this.Js(new wm(this.$g))):this.mj()},e.mj=function(){if(this.tY)this.tY.Wm();else{M.Bn&&!M.hn&&this.if.preload===$T.DN&&(this.if.preload=$T.fA);var t=this.cm,n=this.if.play();t!==this.HD.playbackRate&&(this.cm=t),j(n)?n.then(this.hj,this.cj):this.iY.VW()&&this.WY()}},e.Gm=function(){this.AY?this.TY||(this.TY=!0,this.Js(new dm(this.$g))):this.yj()},e.yj=function(){this.tY?this.tY.Gm():(this.if.pause(),this.iY.$h()),this.pj(new Js)},e._j=function(){var t=new Wo;return this.wY.push(t),t.Wu},e.bj=function(){for(var t=0,n=this.wY;t<n.length;t++){n[t].ju(void 0)}Fs(this.wY)},e.pj=function(t){for(var n=0,i=this.wY;n<i.length;n++){i[n].Qu(t)}Fs(this.wY)},e.WY=function(){this.AY||this.tY||this.bj()},e.zY=function(t){this.AY||this.tY||this.pj(t)},e.Uu=function(t,n){this.tY?this.tY.$g=t:(this.dY.Ws(),this.dY=new Ks,this.lY=this.Aj(t,this.lY,this.dY.Ys).catch(K))},e.oN=function(t){var n=this.hN;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Uu(i)}},e.Aj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.hY=t,this.cY=t,this.LC=!0,this.yY&&!this.wj()&&(this.yY=!1),this.Js(new Tm(t)),v.next=8,Dr.awrap(n.catch(K));case 8:if(tu(i),this.bY&&this.Tj(),this.dg!==jg.zg){v.next=13;break}return v.next=13,Dr.awrap(this.du(vm.p_,i));case 13:if(0!==this.if.seekable.length&&(!RP||this.RY)){v.next=19;break}return v.next=16,Dr.awrap(We.race([q_(this.if,"timeupdate",i),cu(100,i)]));case 16:tu(i),v.next=13;break;case 19:e=this.Sj(t),r=this.xy,s=!0,u=!1;case 23:if((r=this.xy).L_>0&&!r.sN(e)&&(e=r.JN(e),s=!0),IP&&void 0!==(o=this.Ej())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.Ij())&&e>a)){v.next=37;break}return u=!0,v.next=33,Dr.awrap(this.Rj(a,i));case 33:return v.next=35,Dr.awrap(q_(this.if,"seeked",i));case 35:tu(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Dr.awrap(this.Rj(e,i));case 41:tu(i),h=this.$g,r=this.xy,e=r.JN(e),c=1;case 46:if(!(w.abs(e-h)>=1/6)){v.next=56;break}return r=this.xy,e=PP(e,r,c),v.next=51,Dr.awrap(this.Rj(e,i));case 51:tu(i),h=this.$g,c++,v.next=46;break;case 56:if(this.if.seeking||this.dg<jg.Wg){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Dr.awrap(su(function(t){var n;return We.race([q_(f.if,"seeked",t),f.du([Tf.zf,Tf.Nf,vm.p_],t),null==(n=f.vD)?void 0:n.du(cD.eB,t)].filter(H))},i));case 60:tu(i),v.next=23;break;case 63:this.Dj(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!$s(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],We)},e.Rj=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(tu(n),i=this.xy,t=i.JN(t),!this.bY){s.next=18;break}e=!0;case 5:if(!(e||this.dg<jg.Gg)){s.next=17;break}if((i=this.xy).sN(t)||(t=i.JN(t),e=!0),!e){s.next=13;break}return e=!1,this.hY=t,this.Nj(this.$g),s.abrupt("continue",5);case 13:return s.next=15,Dr.awrap(this.du([vm.p_,Tf.Nf],n));case 15:s.next=5;break;case 17:tu(n);case 18:if(r=q_(this.if,"seeking",n),this.if.currentTime=t,this.hY=void 0,this.Nj(this.$g),!this.if.seeking){s.next=25;break}return s.next=25,Dr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,We)},e.Sj=function(t){var n=this.py;if(n&&!n.sN(t)){var i=n.cC(t,.05);if(i>-1){var e=n.zN(i);if(t<e)return e}}return t},e.Ej=function(){if(this.vD&&this.vD.QX){var t=this.vD.ZX,n=this.vD.KX,i=t&&n?t.nC(n):t||n;if(i&&0!==i.L_){var e=i.zN(i.L_-1),r=i.WN(i.L_-1);return w.max(e,r-.001)}}},e.Ij=function(){if(this.vD&&this.vD.QX){var t=this.vD.KX;if(t&&0!==t.L_){var n=t.zN(t.L_-1),i=t.WN(t.L_-1)-.02;return i-=.001,w.max(n,i)}}},e.Nj=function(t){this.cY!==t&&(this.cY=t,this.Js(new Tm(t)))},e.Dj=function(){this.LC=!1,this.cY=NaN,this.bY&&this.Cj(),this.Js(new Sm(this.$g))},e.Tj=function(){this.AY||(this.TY=this.hm,this.AY=!0,this.yj())},e.Cj=function(){this.AY&&(this.AY=!1,this.TY||this.gj())},e.jX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.ds===ib.xE&&kD.jX(i,this.if))return i;if(i.ds===ib.LE&&NN.jX(i))return i}},e.sy=function(){this.xN=!1,sr(this.if)&&(this.if.style.display="none")},e.ey=function(){this.xN=!0,sr(this.if)&&(this.if.style.display="block")},e.NE=function(t,n,i,e,r,s,u,o){var a=new nC(t,n,i,e,r,s,u,o);return this.Lm.P_(a),this.aY.P_(a),a},e.QD=function(){return!0},e.KD=function(t,n,i,e,r){var u=s.createElement("track");u.src=cw(t),u.kind=n,u.label=null!=i?i:"",e&&(u.srclang=e),u.default=!!r,u.id=QE(),this.if.appendChild(u);var o=this.if.textTracks.getTrackById(u.id),a=new $C(o,u);return this.rY.P_(a),this.eY.push(a),a},e.BE=function(t){this.Lm.B_(t),this.aY.B_(t)},e.tN=function(){for(var t=0,n=this.Lm.x_.slice();t<n.length;t++){n[t].Jc()}this.Lm.dc();for(var i=0,e=this.eY.slice();i<e.length;i++){var r=e[i];this.rY.B_(r),r.Jc()}Fs(this.eY)},e.VD=function(){var t=this.if.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.DY),t.addEventListener("removetrack",this.PY),t.addEventListener("change",this.BY))},e.iN=function(){var t=this.if.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.DY),t.removeEventListener("removetrack",this.PY),t.removeEventListener("change",this.BY))},e.CY=function(t,n){if(M.Bn){if(t.kind===Rp.fA)return void this.Pj(t);if(t.kind===Rp.lE&&""===t.label&&""===t.language&&!OP(t))return void this.Bj(t,n)}BP(this.rY,t)||this.rY.P_(new $C(t,n))},e.Pj=function(t){t.mode=Rg.rg;var n=new hP(t);this.rY.P_(n),this.aY.P_(n)},e.Bj=function(t,n){var i=this;t.addEventListener("cuechange",function e(){OP(t)&&(t.removeEventListener("cuechange",e),i.rY.P_(new $C(t,n)))}),t.mode=Rg.rg},e.NY=function(t){for(var n=this.if.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Kh=function(t){var n=this;return this.$q.Zc(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(tu(i),!n.vD){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.ds!==ib.xE){r.next=9;break}e=new kD(t,n,n.BX,n.Ss),n.bY=!1,n.Oj(new LN(n)),r.next=17;break;case 9:if(t.ds!==ib.LE){r.next=16;break}e=new NN(t,n,n.BX,n.Ss,void 0,n.QV),n.bY=AP,n.Oj(n.bY?new MN(n):new LN(n)),TP&&(n.$s(Tf.tv,n.OY),n.$s(vm.p_,n.UY)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.vD=e,r.next=20,Dr.awrap(e.BL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,We)})},e.LY=function(){if(!this.SY){var t=this.cm;this.SY=!0,this.cm=t,this.if.playbackRate=0,this.nY&&this.nY.MW()}},e.xY=function(){if(this.SY){var t=this.cm;this.SY=!1,this.cm=t,this.XY()}},e.XY=function(){this.if.currentTime=this.if.currentTime,this.nY&&this.nY.MW()},e.Oj=function(t){var n=this.dg;this.nY.Us(),this.nY=t,this.nY.$s(vm.p_,this.Ks);var i=this.dg;n!==i&&this.Js(new Dm(this.$g,i))},e.dc=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.LC=!1,this._Y=oS.SC(),this.dY.Ws(),this.hY=void 0,this.cY=NaN,this.fY=void 0,this.bY=!1,this.AY=!1,this.lD=void 0,this.yY=!1,this.vY=void 0,this.kY=!1,this.RY=!1,this.pY&&(this.lj(),this.pY=!1),this.pj(new Js),this.Oj(new LN(this)),this.iY.dc(),this.rY.dc(),this.xY(),TP&&(yI(this.IY),this.IY=0,this.ou(Tf.tv,this.OY),this.ou(vm.p_,this.UY)),n.next=22,Dr.awrap(this.$q.Ws());case 22:return n.next=24,Dr.awrap(this.$q.Zc(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.vD){n.next=4;break}return n.next=3,Dr.awrap(t.vD.Us());case 3:t.vD=void 0;case 4:case"end":return n.stop()}},null,null,null,We)}));case 24:case"end":return n.stop()}},null,this,null,We)},e.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pY=!1,this.tj(),this.iN(),t.next=5,Dr.awrap(this.dc());case 5:return t.next=7,Dr.awrap(this.$q.Jc());case 7:return this.iY.Us(),this.nY.Us(),t.next=11,Dr.awrap(this.BX.Us());case 11:return this.tN(),this.Lm.Jc(),this.rY.Jc(),t.next=16,Dr.awrap(this.uY.Jc());case 16:this.sY.Jc(),this.oY.Jc(),this.uu();case 19:case"end":return t.stop()}},null,this,null,We)},e.lj=function(){this.HD.addEventListener("play",this.HY),this.HD.addEventListener("pause",this.FY),this.HD.addEventListener("timeupdate",this.ZY),this.HD.addEventListener("progress",this.jY),this.HD.addEventListener("loadstart",this.QY),this.HD.addEventListener("ended",this.KY),this.HD.addEventListener("ratechange",this.GY),this.HD.addEventListener("volumechange",this.nj),this.HD.addEventListener("durationchange",this.YY),this.HD.addEventListener("resize",this.ij),this.HD.addEventListener("loadedmetadata",this.ij),this.HD.addEventListener("error",this.JY),this.HD.addEventListener("emptied",this.$Y),As()?(this.if.addEventListener("encrypted",this.ej),this.if.addEventListener("waitingforkey",this.rj)):void 0!==le.WebKitMediaKeys&&"function"==typeof le.WebKitMediaKeys.isTypeSupported?this.if.addEventListener("webkitneedkey",this.uj):Ts()?this.if.addEventListener("webkitneedkey",this.aj):void 0!==le.MSMediaKeys&&"function"==typeof le.MSMediaKeys.isTypeSupported&&this.if.addEventListener("msneedkey",this.sj)},e.tj=function(){this.HD.removeEventListener("play",this.HY),this.HD.removeEventListener("pause",this.FY),this.HD.removeEventListener("timeupdate",this.ZY),this.HD.removeEventListener("progress",this.jY),this.HD.removeEventListener("loadstart",this.QY),this.HD.removeEventListener("ended",this.KY),this.HD.removeEventListener("ratechange",this.GY),this.HD.removeEventListener("volumechange",this.nj),this.HD.removeEventListener("durationchange",this.YY),this.HD.removeEventListener("resize",this.ij),this.HD.removeEventListener("loadedmetadata",this.ij),this.HD.removeEventListener("error",this.JY),this.HD.removeEventListener("encrypted",this.ej),this.HD.removeEventListener("waitingforkey",this.rj),this.HD.removeEventListener("webkitneedkey",this.uj),this.HD.removeEventListener("webkitneedkey",this.aj),this.HD.removeEventListener("msneedkey",this.sj),this.HD.removeEventListener("emptied",this.$Y)},e.xj=function(){var t;this.tY||(this._Y=this.By,this.tY=new BN((t=this).$g,t.tm,t.nm,t.hm,t.fm,t.um,t.cm,t.dm,t.dg),this.tj(),this.tY.$s(PN,this.Ks))},e.Lj=function(){if(this.tY){var t,n,i=this.tY;this.tY=void 0,this.nY.MW(),t=this,(n=i).tm===t.tm||m(n.tm)&&m(t.tm)||t.Js(new ym(t.tm)),t.um=n.um,t.dm=n.dm,t.cm=n.cm,n.hm?t.Gm():t.Wm().catch(K),n.$g!==t.$g||n.dg>jg.zg&&t.dg===jg.zg?t.Uu(n.$g):!n.fm&&t.fm?t.Js(new Tm(t.$g)):n.fm&&!t.fm&&t.dg>=jg.Wg&&t.Js(new Sm(t.$g)),!n.nm&&t.nm&&t.Js(new bm(t.$g)),i.Us(),this.lj()}},e.TD=function(t){this.lD=t,this.pj(this.lD),this.Js(new HN(this.lD))},e.Mj=function(){this.Uj||(uO(this.if,i.Xr),this.EY=!0)},e.Xj=function(t){t.appendChild(this.if)},e.SW=function(){TP&&this.OY(),this.nY.MW()},e.yy=function(){this.BX.Zq().catch(K),this.rY.dc()},A(n,[{key:"XW",get:function(){return this.SY}},{key:"py",get:function(){return this.vD?this.vD.py:oS.SC()}},{key:"by",get:function(){var t=this.hN;if(t&&!m(t.getTime())){var n=1e3*this.$g;return new Date(t.getTime()+n)}}},{key:"hN",get:function(){if(this.HD.getStartDate)return this.LC&&this.fY||(this.fY=this.HD.getStartDate()),this.fY}},{key:"$g",get:function(){return this.tY?this.tY.$g:void 0!==this.hY?this.hY:this.if.currentTime}},{key:"YU",get:function(){return this.Jq}},{key:"tm",get:function(){return this.tY?this.tY.tm:this.vD?this.vD.tm:this.if.duration}},{key:"nm",get:function(){return this.fm?this.wj():this.tY?this.tY.nm:this.if.ended||this.yY}},{key:"bu",get:function(){return this.lD}},{key:"HD",get:function(){return this.if}},{key:"hm",get:function(){return this.AY?this.TY:this.tY?this.tY.hm:this.if.paused}},{key:"By",get:function(){return this._Y.oC(oS.bC(this.if.played))}},{key:"yT",get:function(){return this.if.offsetHeight*i.Xr.ze}},{key:"Uk",get:function(){return this.if.offsetWidth*i.Xr.ze}},{key:"$D",get:function(){return cS}},{key:"dg",get:function(){return this.nY.dg}},{key:"xy",get:function(){return this.vD?this.vD.xy:oS.SC()}},{key:"fm",get:function(){return this.tY?this.tY.fm:this.LC}},{key:"um",get:function(){return this.tY?this.tY.um:this.if.muted},set:function(t){this.tY?this.tY.um=t:this.if.muted=t}},{key:"cm",get:function(){return this.tY?this.tY.cm:void 0!==this.gY?this.gY:this.if.playbackRate},set:function(t){this.tY?this.tY.cm=t:this.hm||this.SY?(this.gY=t,this.qY(t)):(this.gY=void 0,this.if.playbackRate=t)}},{key:"Hj",get:function(){return this.xN}},{key:"dm",get:function(){return this.tY?this.tY.dm:this.if.volume},set:function(t){this.tY?this.tY.dm=t:this.if.volume=t}},{key:"zm",get:function(){return this.oY}},{key:"QU",get:function(){return this.XC}},{key:"Ty",get:function(){return!!this.if.webkitCurrentPlaybackTargetIsWireless}},{key:"Uj",get:function(){return this.EY}},{key:"Fj",get:function(){return Nr({},_D)}},{key:"FD",get:function(){return this.BX.FD},set:function(t){this.BX.FD=t}},{key:"zj",get:function(){return this.QV},set:function(t){this.QV=t}},{key:"Kq",get:function(){return this.BX.Kq}},{key:"My",get:function(){return this.kY},set:function(t){this.kY=t,this.pY&&!this.kY&&(this.pY=!1,this.lj())}}]),n}(du);function NP(t){try{var n=xo(t),i=new zo;return So(Eo(ro(n,i,co(n,i,!0)),!0))}catch(t){return}}var CP=.01;function PP(t,n,i){if(void 0===i&&(i=0),!n.L_)return 0;var e=n.JN(t),r=CP*i;return e===n.zN(0)?e+=r:e===n.WN(n.L_-1)&&(e-=r),e}function BP(t,n){for(var i=0,e=t.x_;i<e.length;i++){var r=e[i];if(r.jy===n)return r}}function OP(t){return!!t.cues&&t.cues.length>0}var xP={fU:void 0,vU:void 0,lU:void 0,dU:void 0,wU:void 0,_U:void 0,pU:void 0,gU:void 0,mU:void 0,yU:void 0,kU:void 0},LP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).s_=void 0,n}return S(n,t),A(n,[{key:"u_",get:function(){return this.s_||(this.s_=OR(this)),this.s_}},{key:"fU",get:function(){}},{key:"vU",get:function(){}},{key:"lU",get:function(){}},{key:"dU",get:function(){}},{key:"wU",get:function(){}},{key:"_U",get:function(){}},{key:"pU",get:function(){}},{key:"gU",get:function(){}},{key:"mU",get:function(){}},{key:"yU",get:function(){}},{key:"kU",get:function(){}}]),n}(du);new LP;var MP=function(t){function n(n,i,e){return t.call(this,n,i,e,new LP)||this}return S(n,t),n.prototype.uy=function(){},A(n,[{key:"vm",get:function(){return 0}},{key:"lm",get:function(){return 0}}]),n}(DP),UP="theoplayer-texttracks",XP=function(){function t(t){void 0===t&&(t=5),this.Vj=void 0;var n=le.document.createElement("div");n.className=UP,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Vj=n,this.ey()}var n=t.prototype;return n.sy=function(){this.Vj.style.display="none"},n.ey=function(){this.Vj.style.display="block"},n.Xj=function(t){t.appendChild(this.Vj)},n.Jc=function(){$e(this.Vj)},A(t,[{key:"Ay",get:function(){return this.Vj}}]),t}();function HP(t,n){return Nr({},n,wg({fU:(i=t).fU,vU:i.vU,lU:i.lU,dU:i.dU,wU:i.wU,_U:i._U,pU:i.pU,gU:i.gU,mU:i.mU,yU:i.yU,kU:i.kU}));var i}function FP(t){return t.lU&&ds(t.lU,"%")?Number(t.lU.replace("%",""))/100:t.lU&&ds(t.lU,"em")?Number(t.lU.replace("em","")):1}var zP,VP,WP=function(){function t(t,n,i,e,r){var s=this;this.Wj=Br(),this.Gj=!0,this.qj=void 0,this.Yj=Nr({},xP),this.jj=[],this.Tk=void 0,this.if=void 0,this.Jq=void 0,this.Qj=void 0,this.Zj=function(t){return s.PE(t.rk)},this.Kj=function(t){return s.removeCue(t.rk)},this.Jj=function(){return s.$j()},this.tQ=function(t){return s.nQ(t.rk)},this.iQ=function(t){return s.eQ(t.rk)},this.rQ=function(t){return s.sQ(t.rk)},this.uQ=function(t){s.oQ(t.Uk,t.yT)},this.Tk=t,this.Qj=this.qj=r,this.if=this.aQ(i),this.Jq=e,n.appendChild(this.if)}var n=t.prototype;return n.hQ=function(t){var n=this.cQ(t);if(!n)return!1;for(var i=0;i<n.length;i++){$e(n[i])}return this.fQ(t),!0},n.BL=function(){var t=this;this.vQ(),this.Tk.wg.x_.forEach(function(n){return t.PE(n)}),this.YU.$s("XO",this.uQ),this.oQ(this.YU.qO,this.YU.GO)},n.lQ=function(t){this.Yj=t,this.qj=HP(this.Yj,this.Qj),this.qj.fU&&(this.HD.style.fontFamily=this.qj.fU),this.qj.pU&&(this.HD.style.visibility=this.qj.pU),this.oQ(this.YU.qO,this.YU.GO),this.dQ(!0)},n.wQ=function(){return this.qj},n._Q=function(t){return this.Wj.has(t.Y_)},n.vQ=function(){this.Tk.$s(J_.h_,this.Zj),this.Tk.$s(J_.f_,this.Kj),this.Tk.$s(J_.y_,this.Jj)},n.gQ=function(){this.Tk.ou(J_.h_,this.Zj),this.Tk.ou(J_.f_,this.Kj),this.Tk.ou(J_.y_,this.Jj)},n.mQ=function(t){t.$s(by.Jy,this.tQ),t.$s(by.nk,this.iQ),t.$s(by.S_,this.rQ)},n.yQ=function(t){t.ou(by.Jy,this.tQ),t.ou(by.nk,this.iQ),t.ou(by.S_,this.rQ)},n.PE=function(t){this.mQ(t),t.Nk&&this.nQ(t)},n.removeCue=function(t){this.yQ(t),this.eQ(t)},n.$j=function(){this.Tk.cg===Rg.og?this.kQ():this.pQ()},n.kQ=function(){if(this.Gj){this.Gj=!1;var t=this.YU.qO,n=this.YU.GO;this.oQ(t,n),this.dQ(!1)}},n.pQ=function(){this.Gj||(this.Gj=!0,this.dQ(!0))},n.nQ=function(t){this.Gj||t.Nk&&!this._Q(t)&&this.dQ(!1)},n.eQ=function(t){this._Q(t)&&this.dQ(!1)},n.sQ=function(t){(t.Nk||this._Q(t))&&this.dQ(!0)},n.dQ=function(t){var n=this.jj,i=this.Gj?[]:this.Tk._g.x_.slice();this.bQ(i,n,t),this.jj=i},n.cQ=function(t){var n;return null==(n=this.Wj.get(t.Y_))?void 0:n.AQ},n.TQ=function(t,n){this.Wj.set(t.Y_,{rk:t,AQ:n})},n.fQ=function(t){this.Wj.delete(t.Y_)},n.SQ=function(){return this.jj.slice()},n.Jc=function(){var t=this;$e(this.HD),this.Wj.clear(),this.gQ(),this.Tk.wg.x_.forEach(function(n){return t.yQ(n)}),this.YU.ou("XO",this.uQ)},A(t,[{key:"a_",get:function(){return this.Tk}},{key:"HD",get:function(){return this.if}},{key:"YU",get:function(){return this.Jq}},{key:"EQ",get:function(){return this.qj}},{key:"IQ",get:function(){return this.Yj}}]),t}();function GP(t){return qP[t||"none"]}!function(t){t.RQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.DQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.NQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.CQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(zP||(zP={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(VP||(VP={}));var qP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},YP=Or({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),jP={vU:VP.WHITE,fU:"Arial, Helvetica, Sans-Serif",lU:"100%",dU:VP.TRANSPARENT,wU:VP.TRANSPARENT,_U:"none",pU:"visible",gU:void 0,mU:void 0,yU:void 0,kU:void 0},QP=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,jP)||this}S(n,t);var i=n.prototype;return i.aQ=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",nr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.oQ=function(t,n){var i=w.min(t,n)/15;this.HD.style.fontSize=i+"px"},i.bQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Nk||this.hQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.BQ(u)}},i.BQ=function(t){var n=this.cQ(t);n||(n=this.OQ(t),this.TQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.HD.appendChild(r)}},i.OQ=function(t){var n,i=[],e=t.aE,r=t.gb,u=t.fk;if(0===d.keys(r).length){eB(n=s.createElement("div"));for(var o=ZP(u,e,t.hE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=d.keys(r);c<f.length;c++){var v=f[c],l=s.createElement("div");l.id=v;var w=ZP(u,e,t.hE,l);if(w){eB(l),JP(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.lQ=function(t){var n,i,e,r;n=this.HD,i=t,n.style.marginTop=(null!=(e=i.gU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.mU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",UR(this.HD,t)},n}(WP);function ZP(t,n,i,e){var r,u;if(Qt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":KP(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",KP(n,t);break;case"DIV":KP(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");tB(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=cp(s.wi,["ebutts","tts","xml"]);nB(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&$P(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];$P(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=ZP(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var v=0,l=a;v<l.length;v++){var d,w=l[v];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Zt(t)&&(r=s.createTextNode(t.Fi));return r?[r]:[]}function KP(t,n){var i=n.Oi(op,"id");i&&(t.id=i)}function JP(t,n,i,e){tB(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];nB(t,n,u,i[u],t)}}function $P(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Zt(n)?"data:image/png;base64,"+n.Fi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){nr(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function tB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=d.keys(e[o]);a<h.length;a++){var c=h[a],f=cp(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?tB(t,n,e[o][c],e,r):nB(t,n,f,e[o][c],r)}}}function nB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=YP.get(e);t.style.fontFamily=s||e;break;case"fontSize":ds(e,"px")?e=_(e)/24+"em":ds(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=iB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var v=iB(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ds(e,"c")){var p=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=p}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function iB(t){return"div"===t||"p"===t||"span"===t}function eB(t){nr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var rB,sB,uB=void 0;function oB(t,n){for(var i,e=rB.xQ,r="",s=[],u=t.charAt(n.xu),o="",a={ds:sB.LQ,Ri:"",MQ:[]};n.xu<t.length+1;){switch(u=n.xu<t.length?t.charAt(n.xu):"EOF",e){case rB.xQ:switch(u){case"&":var h=t.substring(n.xu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],uB||(uB=le.document.createElement("textarea")),uB.innerHTML=i,uB.value),n.Lu(h[0].length-1)):r+="&";break;case"<":if(r)return{ds:sB.UQ,fk:r};e=rB.XQ;break;case"EOF":return{ds:sB.UQ,fk:r};default:r+=u}break;case rB.XQ:switch(u){case"\t":case"\n":case"\f":case" ":e=rB.HQ;break;case".":e=rB.FQ;break;case"/":e=rB.zQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=rB.VQ;break;case">":return n.Lu(1),a;case"EOF":return a;default:r=u,e=rB.WQ}break;case rB.WQ:switch(u){case"\t":case"\f":case" ":e=rB.HQ;break;case"\n":o=u,e=rB.HQ;break;case".":e=rB.FQ;break;case">":return n.Lu(1),{ds:sB.LQ,Ri:r,MQ:[]};case"EOF":return{ds:sB.LQ,Ri:r,MQ:[]};default:r+=u}break;case rB.FQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=rB.HQ;break;case"\n":s.push(o),o=u,e=rB.HQ;break;case".":s.push(o),o="";break;case">":return n.Lu(1),s.push(o),{ds:sB.LQ,Ri:r,MQ:s};case"EOF":return s.push(o),{ds:sB.LQ,Ri:r,MQ:s};default:o+=u}break;case rB.HQ:switch(u){case"&":e=rB.GQ;break;case">":n.Lu(1);var c=o.trim();return c=c.replace(/\s/," "),{ds:sB.LQ,Ri:r,MQ:s,qQ:c};default:o+=u}break;case rB.GQ:for(var f="",v=n.xu;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=rB.HQ;break;case rB.zQ:switch(u){case">":return n.Lu(1),{ds:sB.YQ,Ri:r};case"EOF":return{ds:sB.YQ,Ri:r};default:r+=u}break;case rB.VQ:switch(u){case">":return n.Lu(1),{ds:sB.jQ,QQ:r};case"EOF":return{ds:sB.jQ,QQ:r};default:r+=u}}n.Lu(1)}return a}function aB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.xQ="Data",t.XQ="Tag",t.WQ="StartTag",t.FQ="StartTagClass",t.HQ="StartTagAnnotation",t.GQ="CharRefInAnnotation",t.zQ="EndTag",t.VQ="TimestampTag"}(rB||(rB={})),function(t){t.UQ="string",t.LQ="starttag",t.YQ="endtag",t.jQ="timestamp"}(sB||(sB={}));var hB,cB=function(){function t(t,n,i,e){this.ZQ=void 0,this.KQ=void 0,this.Uk=void 0,this.yT=void 0,this.ZQ=t,this.KQ=n,this.Uk=i,this.yT=e}var n=t.prototype;return n.JQ=function(t){return this.ZQ<t.$Q&&this.$Q>t.ZQ&&this.KQ<t.tZ&&this.tZ>t.KQ},n.Hy=function(t){return this.ZQ<=t.ZQ&&t.$Q<=this.$Q&&this.KQ<=t.KQ&&t.tZ<=this.tZ},n.Xu=function(){return new t(this.ZQ,this.KQ,this.Uk,this.yT)},A(t,[{key:"$Q",get:function(){return this.ZQ+this.Uk},set:function(t){this.ZQ=t-this.Uk}},{key:"tZ",get:function(){return this.KQ+this.yT},set:function(t){this.KQ=t-this.yT}}]),t}(),fB={vU:VP.WHITE,fU:"sans-serif",lU:"100%",dU:"rgba(0,0,0,0.8)",wU:VP.TRANSPARENT,_U:"none",pU:"visible",gU:void 0,mU:void 0,yU:void 0,kU:void 0},vB="theoplayer-webvtt-region-",lB="theoplayer-webvtt-styling-",dB="theoplayer-webvtt-voice-",wB="theoplayer-webvtt-default-style",_B=5.23,gB=1.14,mB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,fB)||this).nZ=Pr(),s.iZ=AB(3),s}S(n,t);var i=n.prototype;return i.aQ=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,er(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.EQ.fU;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(wB))return;for(var t=[],n=0;n<CB.length;n++){var i=CB[n],e=i[0],r=i[1];t.push("."+lB+e+" { color: "+r+" !important; }"),t.push("."+lB+"eZ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("rZ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=wB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.BL=function(){this.HD.appendChild(this.iZ),t.prototype.BL.call(this)},i.oQ=function(t,n){var i=this,e=w.min(t/100,n/100),r=FP(this.EQ);this.nZ.forEach(function(t){var n=t.gk,s=t.sZ;i.uZ(s,e,r,n)}),this.uZ(this.iZ,e,r)},i.lQ=function(n){UR(this.HD,n),t.prototype.lQ.call(this,n)},i.bQ=function(t,n,i){for(var e=this,r=this.HD,s=this.YU.GO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.gk&&(Hs(u,a.gk)||u.push(a.gk))}this.nZ.forEach(function(t,n){var r=t.gk,s=t.sZ;!i&&Hs(u,r)||($e(s),e.nZ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Nk||this.hQ(c)}var f=[],v=IB(this.iZ.getBoundingClientRect());f.push.apply(f,this.oZ(v));for(var l=0;l<u.length;l++){var d=u[l],w=void 0;this.nZ.has(d.q_)?w=this.nZ.get(d.q_).sZ:(w=TB(d,s),r.appendChild(w),this.nZ.set(d.q_,{gk:d,sZ:w})),f.push(IB(w.getBoundingClientRect()))}for(var _=0;_<t.length;_++){var g=t[_],m=this.BQ(g,f,v);void 0!==m&&f.push(m)}},i.oZ=function(t){var n=[],i=this.EQ;if(void 0!==i.gU){var e=t.Xu();e.yT=i.gU,n.push(e)}if(void 0!==i.mU){var r=t.Xu();r.yT=i.mU,r.tZ=t.tZ,n.push(r)}return n},i.BQ=function(t,n,i){var e,r;t.gk?(r=this.nZ.get(t.gk.q_).sZ,"up"===t.gk.xk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.iZ;var s=null==(e=this.cQ(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.aZ(t),r.appendChild(s),t.gk||(t.yk?function(t,n,i,e){var r=SB(t),s=r?i.yT:i.Uk,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=IB(n.getBoundingClientRect()),a=w.round(Xy(t));"rl"===t.pk&&(a=-(a+1));var h=u*a;"rl"===t.pk&&(h=h-o.Uk+u);a<0&&(h+=s,u=-u);r?o.KQ+=h:o.ZQ+=h;var c=o.Xu(),f=!1;for(;!i.Hy(o)||EB(o,e);)if(r)if(u<0&&o.KQ<i.KQ||u>0&&o.tZ>i.tZ){if(o.KQ=c.KQ,f)break;u=-u,f=!0}else o.KQ+=u;else if(u<0&&o.ZQ<i.ZQ||u>0&&o.$Q>i.$Q){if(o.ZQ=c.ZQ,f)break;u=-u,f=!0}else o.ZQ+=u;r?n.style.top=(o.KQ-i.KQ)/i.yT*100+"%":n.style.left=(o.ZQ-i.ZQ)/i.Uk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=IB(n.getBoundingClientRect());if(0===r.Uk||0===r.yT)return;SB(t)?"center"===t.dk?r.KQ-=r.yT/2:"end"===t.dk&&(r.KQ-=r.yT):"center"===t.dk?r.ZQ-=r.Uk/2:"end"===t.dk&&(r.ZQ-=r.Uk);var s,u=r.Xu(),o=u,a=1,h=!1;s=""===t.pk?[hB.POS_Y,hB.NEG_Y,hB.POS_X,hB.NEG_X]:"lr"===t.pk?[hB.POS_X,hB.NEG_X,hB.POS_Y,hB.NEG_Y]:[hB.NEG_X,hB.POS_X,hB.POS_Y,hB.NEG_Y];var c=g(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!DB(r,i,s[f],.01)&&(!i.Hy(r)||EB(r,e));)RB(r,s[f],c);if(i.Hy(r)){o=r.Xu(),h=!0;break}var v=(l=r,d=i,_=void 0,m=void 0,void 0,_=w.max(0,w.min(l.$Q,d.$Q)-w.max(l.ZQ,d.ZQ)),m=w.max(0,w.min(l.tZ,d.tZ)-w.max(l.KQ,d.KQ)),_*m/(l.Uk*l.yT));a>v&&(o=r.Xu(),a=v),r=u.Xu()}i.Hy(r)||(o=u.Xu())}var l,d,_,m;n.style.left=(o.ZQ-i.ZQ)/i.Uk*100+"%",n.style.top=(o.KQ-i.KQ)/i.yT*100+"%"}(t,s,i,n)),this.TQ(t,[s])),!t.gk)return IB(s.getBoundingClientRect())},i.aZ=function(t){for(var n=new zo,i=t.fk,e=this.hZ(t),r={cZ:void 0,Ay:e},u=r,o="",a="",h=[r],c=[],f=[];n.xu<i.length;){var v=oB(i,n);if(v.ds===sB.UQ){var l=s.createElement("span");aB(l,v.fk),yB(l,h),""!==o&&(l.lang=o),this.fZ(l,a),u.Ay.appendChild(l)}else if(v.ds===sB.LQ){var d=v.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.Ay.appendChild(w),u={cZ:v,Ay:w},h.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.cZ)?void 0:_.Ri.toLowerCase())){var g=s.createElement("rt");u.Ay.appendChild(g),u={cZ:v,Ay:g},h.push(u)}break;case"c":case"v":u={cZ:v,Ay:u.Ay},h.push(u);break;case"font":var m,y=null==(m=v.qQ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={cZ:v,Ay:u.Ay},h.push(u));break;case"lang":var k;o=null!=(k=v.qQ)?k:"",c.push(o)}}else if(v.ds===sB.YQ){var p,b=v.Ri.toLowerCase(),A=null==(p=u.cZ)?void 0:p.Ri.toLowerCase();A===b?(h.pop(),u=h[h.length-1],"font"===b&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.ds===sB.jQ){var T=v.QQ,S=new zo;try{Ck(T,S)}catch(t){at("ERROR collecting timestamp",t)}}}return e},i.fZ=function(t,n){var i=this.EQ,e=this.IQ;i.dU&&(t.style.background=i.dU);var r=e.vU||n||i.vU;r&&(t.style.color=r)},i.uZ=function(t,n,i,e){if(e){var r=kB(e,n);t.style.height=r*i+"px",t.style.left=pB(e)+"%",t.style.top=bB(e,n)+"px"}t.style.fontSize=_B*n*i+"px"},i.hZ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.vk,function(t,n){"rl"===n.pk?t.style.writingMode="vertical-rl":"lr"===n.pk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=zy(n);SB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Fy(n),s=Hy(n),u=zy(n);if(SB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.yk?0:Xy(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.yk?0:Xy(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.EQ.wU;i&&(n.style.background=i);var e=this.EQ.vU;return e&&(n.style.color=e),n.style.textShadow=GP(this.EQ._U),n},n}(WP);function yB(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.cZ){for(var r=0,s=e.cZ.MQ;r<s.length;r++){var u=s[r];tr(t,lB+u)}"v"===e.cZ.Ri.toLowerCase()&&e.cZ.qQ&&tr(t,dB+e.cZ.qQ)}}}function kB(t,n){return t.Pk*(_B*n)*gB}function pB(t){return t.Lk-t.Bk*t.Uk/100}function bB(t,n){var i=t.Mk,e=t.Ok*kB(t,n)/100;return w.max(0,i-e)}function AB(t){var n=s.createElement("div");return n.className=vB+"default",er(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=_B*t+"px",n.style.lineHeight=gB+"em",n}function TB(t,n){var i=AB(n);i.className=vB+t.q_;var e=t.Uk,r=kB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=pB(t)+"%",i.style.right="",i.style.top=bB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function SB(t){return""===t.pk}function EB(t,n){return n.some(function(n){return t.JQ(n)})}function IB(t){return new cB(t.left,t.top,t.width,t.height)}function RB(t,n,i){switch(n){case hB.POS_X:t.ZQ+=i;break;case hB.NEG_X:t.ZQ-=i;break;case hB.POS_Y:t.KQ+=i;break;case hB.NEG_Y:t.KQ-=i}}function DB(t,n,i,e){switch(i){case hB.POS_X:return t.$Q>n.$Q+e;case hB.NEG_X:return t.ZQ<n.ZQ-e;case hB.POS_Y:return t.tZ>n.tZ+e;case hB.NEG_Y:return t.KQ<n.KQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(hB||(hB={}));var NB,CB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(NB||(NB={}));var PB={vU:VP.WHITE,fU:zP.NQ,lU:"100%",dU:VP.BLACK,wU:"transparent",_U:"none",vZ:NB.FONT_REGULAR,pU:"visible",gU:void 0,mU:void 0,yU:void 0,kU:void 0},BB=[{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.GREEN,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.GREEN,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.BLUE,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.BLUE,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.CYAN,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.CYAN,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.RED,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.RED,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.YELLOW,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.YELLOW,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.MAGENTA,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.MAGENTA,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.WHITE,vZ:NB.FONT_ITALICS,dZ:0},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE_ITALICS,dZ:0},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:0},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:0},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:4},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:4},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:8},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:8},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:12},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:12},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:16},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:16},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:20},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:20},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:24},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:24},{lZ:VP.WHITE,vZ:NB.FONT_REGULAR,dZ:28},{lZ:VP.WHITE,vZ:NB.FONT_UNDERLINE,dZ:28}],OB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function xB(t,n){return ek(t.wZ,n.wZ)||Cs(t.SS,n.SS)}var LB=32,MB=function(){function t(t,n,i){this._Z=void 0,this.gZ=t,this.mZ=n,this.qj=i}var n=t.prototype;return n.yZ=function(){return this._Z=this.kZ(),this.pZ(),this.bZ(),this._Z},n.kZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.AZ/LB*this.mZ.TZ*100+"%",t.style.height=1.2*this.SZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.mZ.EZ?"calc(1em - 1ch)":"";var n=this.qj.fU;n&&(t.style.fontFamily=n);var i=this.qj.wU;return i&&(t.style.backgroundColor=i),t},n.pZ=function(){if(this._Z){var t=this.RZ.IZ/15*100,n=this.RZ.dZ/LB*100,i=(LB-this.DZ.dZ-1)/LB*100,e=(15-this.DZ.IZ-1)/15*100;this.mZ.NZ||(n=i=1,this._Z.style.width="98%"),e<t?this._Z.style.bottom=e*this.mZ.TZ+"%":this._Z.style.top=t*this.mZ.TZ+"%",i<n?this._Z.style.right=i+"%":this._Z.style.left=n+"%"}},n.bZ=function(){for(var t=this.gZ.CZ.sort(UB),n=0;n<t.length;n++)this.PZ(t[n-1],t[n]),this.BZ(t[n]);this.PZ(t[t.length-1],void 0)},n.BZ=function(n){var i,e=HP(this.qj,n.OZ),r=t.xZ(e);aB(r,n.LZ),null==(i=this._Z)||i.appendChild(r)},t.xZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.vZ!==NB.FONT_ITALICS&&t.vZ!==NB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.vZ!==NB.FONT_UNDERLINE&&t.vZ!==NB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.vU;i&&(n.style.color=i);var e=t.dU;return e&&(n.style.backgroundColor=e),n.style.textShadow=GP(t._U),n.style.height="1.2em",n},n.PZ=function(t,n){var i=t?t.MZ.IZ:this.gZ.UZ.IZ,e=n?n.UZ.IZ:this.gZ.MZ.IZ,r=t?t.MZ.dZ:this.gZ.UZ.dZ,s=n?n.UZ.dZ:this.gZ.MZ.dZ;i<e&&(!n||t&&t.UZ.IZ!==n.UZ.IZ?this.XZ():this.HZ(this.gZ.MZ.dZ-r),r=this.gZ.UZ.dZ),r<s&&(n?this.HZ(s-r):this.XZ())},n.XZ=function(){var t,n=s.createElement("br");null==(t=this._Z)||t.appendChild(n)},n.HZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",aB(i,_s(" ",t)),null==(n=this._Z)||n.appendChild(i)}},A(t,[{key:"RZ",get:function(){return this.gZ.UZ}},{key:"DZ",get:function(){return this.gZ.MZ}},{key:"AZ",get:function(){return this.gZ.MZ.dZ-this.gZ.UZ.dZ+1}},{key:"SZ",get:function(){return this.gZ.MZ.IZ-this.gZ.UZ.IZ+1}}]),t}();function UB(t,n){return function(t,n){if(t.IZ!==n.IZ)return t.IZ-n.IZ;return t.dZ-n.dZ}(t.UZ,n.UZ)}var XB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,PB)||this).FZ=void 0,s.zZ=void 0,s}S(n,t);var i=n.prototype;return i.aQ=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.EQ.fU&&(n.style.fontFamily=this.EQ.fU),n},i.oQ=function(t,n){this.VZ()},i.VZ=function(){var t,n=FP(this.EQ);this.zZ={TZ:(t=100*n)/100,EZ:t<=100,NZ:t<=150};var i=this.WZ/LB;this.FZ=i*n,this.HD.style.fontSize=this.FZ+"px"},i.bQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Nk||this.hQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.BQ(u)}},i.BQ=function(t){this.zZ&&this.zZ.NZ?this.GZ(80):this.GZ(100),this.VZ();var n=this.cQ(t);n||(n=this.OQ(t),this.TQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.HD.appendChild(r)}},i.OQ=function(t){var n=this;return t.fk.map(function(t){return new MB(t,n.zZ,n.EQ).yZ()})},i.GZ=function(t){var n=(100-t)/2;this.HD.style.left=n+"%",this.HD.style.width=t+"%"},A(n,[{key:"WZ",get:function(){var t=this.HD.offsetWidth;return this.zZ&&this.zZ.NZ||(t*=.8),t}}]),n}(WP),HB=function(){function t(t,n,i,e,r){var s=this;this.qZ=void 0,this.Jq=void 0,this.Lm=void 0,this.YZ=void 0,this.jZ=[],this.XC=void 0,this.QZ=function(t){var n=t.a_;n.$s(J_.p_,s.ZZ),n.$s(J_.A_,s.ZZ),n instanceof $C&&(n.LG=s.LG),s.KZ(n)},this.ZZ=function(t){var n=t.a_;s.KZ(n)},this.JZ=function(t){var n=t.a_;n.ou(J_.p_,s.ZZ),n.ou(J_.A_,s.ZZ),s.$Z(n)},this.tK=function(){for(var t=s.LG,n=0,i=s.Lm.x_;n<i.length;n++){var e=i[n];e instanceof $C&&(e.LG=t)}},this.nK=function(){for(var t=0,n=s.jZ;t<n.length;t++){n[t].lQ(s.XC)}},this.iK=function(){for(var t=0,n=s.jZ;t<n.length;t++){var i=n[t];i.lQ(Nr({},i.wQ(),{pU:"hidden"}))}},this.eK=function(){for(var t=0,n=s.jZ;t<n.length;t++){var i=n[t];i.lQ(Nr({},i.wQ(),{pU:"visible"}))}},this.qZ=t,this.Jq=n,this.Lm=i,this.YZ=r,this.XC=e,this.Lm.$s(j_.n_,this.QZ),this.Lm.$s(j_.e_,this.JZ),this.Lm.$s(J_.y_,this.ZZ),this.YZ.$s(sS.y_,this.tK),this.XC.$s("k_",this.nK),this.tK()}var n=t.prototype;return n.rK=function(t){for(var n=0,i=this.jZ;n<i.length;n++){var e=i[n];if(e.a_===t)return e}},t.sK=function(t){switch(t.ds){case my.TTML:case my.SRT:case my.WEBVTT:case my.CEA608:return!0}return!1},n.uK=function(t){switch(t.ds){case my.TTML:return new QP(t,this.qZ,t.Q_,this.Jq);case my.SRT:case my.WEBVTT:return new mB(t,this.qZ,t.Q_,this.Jq);case my.CEA608:return new XB(t,this.qZ,t.Q_,this.Jq)}},n.oK=function(t){var n=this.rK(t);n||(n=this.uK(t))&&(n.BL(),n.lQ(this.XC),this.jZ.push(n),t.cg===Rg.og&&n.kQ())},n.$Z=function(t){for(var n=this.jZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.a_===t&&(e.Jc(),Xs(n,i))}},n.KZ=function(n){var i;(i=n.j_)!==Rp.hA&&i!==Rp.lE||!t.sK(n)||(n.dg===gy.ERROR?this.$Z(n):this.oK(n))},n.dc=function(){for(var t=0,n=this.jZ;t<n.length;t++){var i=n[t];i.a_.ou(J_.p_,this.ZZ),i.a_.ou(J_.A_,this.ZZ),i.Jc()}Fs(this.jZ)},n.Jc=function(){this.dc();for(var t=0,n=this.jZ;t<n.length;t++){n[t].Jc()}this.Lm.ou(j_.n_,this.QZ),this.Lm.ou(j_.e_,this.JZ),this.Lm.ou(J_.y_,this.ZZ),this.YZ.ou(sS.y_,this.tK),this.XC.ou("k_",this.nK)},A(t,[{key:"LG",get:function(){return this.YZ.IC}}]),t}();function FB(t){var n=new BI,i=function(t){var n=[];return CI.gx(t)&&n.push(new CI(t)),PI.gx(t)&&n.push(new PI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.Ax(r)}n.bx(i[0])}return n}var zB,VB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).aK=void 0,s.hK=void 0,s.cK=void 0,s.cK=FB(n),s.aK=new XP,s.hK=new HB(s.aK.Ay,s.YU,s.zm,s.QU,s.$D),s}S(n,t);var i=n.prototype;return i.uy=function(){return this.if},i.Us=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.cK.Jc(),this.aK.Jc(),this.hK.Jc(),n.next=5,Dr.awrap(t.prototype.Us.call(this));case 5:case"end":return n.stop()}},null,this,null,We)},i.sy=function(){t.prototype.sy.call(this),this.aK.sy()},i.ey=function(){t.prototype.ey.call(this),this.aK.ey()},i.Xj=function(n){t.prototype.Xj.call(this,n),this.aK.Xj(n)},A(n,[{key:"HD",get:function(){return this.if}},{key:"vm",get:function(){return this.if.videoHeight}},{key:"lm",get:function(){return this.if.videoWidth}},{key:"$D",get:function(){return this.cK}}]),n}(DP);!function(t){t.fK="HELLO",t.vK="HI_THERE",t.lK="INITIALIZE",t.dK="APPEND_INIT",t.wK="APPEND_DATA",t._K="ACK",t.gK="REMOVE",t.mK="DESTROY_SESSION"}(zB||(zB={}));var WB,GB=function(){function t(){this.we=void 0,this.tf=void 0,this.gX=new af}var n=t.prototype;return n.yK=function(t){var n=this;return this.gX.Zc(function(t){var i,e,r,s,u,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(tu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Dr.awrap(q_(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Dr.awrap(q_(o.serviceWorker.controller,"activate",t));case 10:return s={kind:zB.fK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,h.prev=15,h.next=18,Dr.awrap(q_(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===zB.vK){h.next=23;break}throw new v("Could not set up message channel");case 23:n.tf=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),$s(h.t0)&&n.kK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],We)},t)},n.pK=function(t,n){var i=this;return this.we,this.gX.Zc(function(){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Dr.awrap(q_(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,We)})},n.bK=function(){var t=this;return this.gX.Zc(function(){return t.kK()})},n.kK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:zB.mK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),qB=function(){function t(){this.AK=jy.zp}var n=t.prototype;return n.TK=function(t,n){var i=t.Kk(n);this.AK=i.Fk(this.SK)?this.AK:i},n.EK=function(t){this.AK=t},A(t,[{key:"SK",get:function(){return this.AK}}]),t}();!function(t){t.Nd="audio",t.Cd="video",t.fA="metadata"}(WB||(WB={}));var YB=function(t){function n(n,i){var e;return(e=t.call(this)||this).IK=void 0,e.RK=void 0,e.gX=new af,e.DK=!1,e.NK=!1,e.wO=n,e.CK=i,e}S(n,t);var i=n.prototype;return i.RV=function(t,n){},i.DV=function(t,n){},i.QX=function(){return this.NK},i.NV=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.hV=function(t,n){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,We)},i.Jz=function(t,n,i){var e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.ds===AD.tH){u.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return e=t.Fi,r=function(){var t,i,r;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.buffer,i={kind:zB.wK,mediaType:jB(s.wO),segment:e,startPts:n.PK,totalDuration:n.tm},u.next=4,Dr.awrap(s.CK.pK(i,[t]));case 4:void 0===s.IK&&(r=n.PK+n._b,s.IK=r,s.RK=r),s.RK=s.RK+n.tm,s.Js(new _u(mD.JX));case 7:case"end":return u.stop()}},null,null,null,We)},u.abrupt("return",this.gX.Zc(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return tu(t),n.prev=1,s.DK=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s.DK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return u.stop()}},null,this,null,We)},i.nV=function(t,n,i){var e,r,s=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ds===AD.tH){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Fi,r=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={kind:zB.dK,mediaType:jB(s.wO),segment:e},n.next=3,Dr.awrap(s.CK.pK(t,[]));case 3:case"end":return n.stop()}},null,null,null,We)},n.abrupt("return",this.gX.Zc(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return tu(t),n.prev=1,s.DK=!0,n.next=5,Dr.awrap(r());case 5:return n.prev=5,s.DK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 5:case"end":return n.stop()}},null,this,null,We)},i.pV=function(){this.NK=!0},i.gV=function(){this.NK=!1},i.Jh=function(t,n,i){var e,r=this;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:zB.gK,mediaType:jB(r.wO),endTime:n},i.next=3,Dr.awrap(r.CK.pK(t));case 3:r.IK=void 0,r.RK=void 0,r.Js(new _u(mD.JX));case 6:case"end":return i.stop()}},null,null,null,We)},t.abrupt("return",this.gX.Zc(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return tu(t),n.prev=1,r.DK=!0,n.next=5,Dr.awrap(e());case 5:return n.prev=5,r.DK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],We)},i));case 2:case"end":return t.stop()}},null,this,null,We)},i.XX=function(t){return this.wO===t.Wl},i.HX=function(t){return this.wO=t.Wl,We.resolve()},i.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uu(),t.next=3,Dr.awrap(this.gX.Jc());case 3:case"end":return t.stop()}},null,this,null,We)},A(n,[{key:"py",get:function(){return void 0===this.IK||void 0===this.RK?oS.SC():new oS([this.IK,this.RK])}},{key:"hc",get:function(){return{Wl:this.wO}}},{key:"BV",get:function(){return iy._d}},{key:"cO",get:function(){return this.wO}},{key:"OV",get:function(){return oS.SC()}},{key:"kL",get:function(){return 30},set:function(t){}},{key:"TL",get:function(){return 30},set:function(t){}},{key:"Ix",get:function(){return this.DK}},{key:"BK",get:function(){return this.IK}},{key:"ck",get:function(){return this.RK}}]),n}(du);function jB(t){return t.match(/video/)?WB.Cd:WB.Nd}var QB=function(){function t(t,n){this.Lc=void 0,this.wW=void 0,this.gW=void 0,this.Lc=t,this.gW=xs(n,function(t){return Boolean(t.cO.match(/video/))}),this.wW=xs(n,function(t){return Boolean(t.cO.match(/audio/))}),this.xK()}t.LK=function(n,i){for(var e=[],r=0;r<n.NW.length;r++){var s=n.NW[r].Wl;e.push(new YB(s,i))}return new t(n,e)};var n=t.prototype;return n.xK=function(){},n.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(We.all([this.wW,this.gW].filter(H).map(function(t){return t.Us()})));case 2:case"end":return t.stop()}},null,this,null,We)},n.EW=function(t){},n.DW=function(t,n,i,e){},n.pV=function(){var t,n;null==(t=this.wW)||t.pV(),null==(n=this.gW)||n.pV()},n.gV=function(){var t,n;null==(t=this.wW)||t.gV(),null==(n=this.gW)||n.gV()},n.XX=function(t){return!0},n.HX=function(t){return this.Lc=t,We.resolve()},A(t,[{key:"MK",get:function(){return[this.wW,this.gW].filter(H)}},{key:"fW",get:function(){return this.wW}},{key:"py",get:function(){return EN(this)}},{key:"hc",get:function(){return this.Lc}},{key:"tm",get:function(){return 0}},{key:"QX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.wW)?void 0:n.QX())||t,s=null==(i=null==(e=this.gW)?void 0:e.QX())||i;return r&&s}},{key:"xy",get:function(){return new oS([0,1/0])}},{key:"vW",get:function(){return this.gW}},{key:"Fm",get:function(){throw new v("Not implemented")}}]),t}(),ZB=jy.op,KB=new jy(-1/0),JB=jy.zp,$B=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.zk=function(t,n){return t.Yk(n)?Ss.Ps:t.Dk(n)?Ss.Ns:Ss.Cs},i.Xy=function(t,n){return t.Xy(n)},i.Kk=function(t,n){return t.Kk(n)},i.qk=function(t,n){return t.qk(n)},i.$N=function(){return ZB},i.tC=function(){return JB},i.rC=function(){return KB},n.bC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new jy(t.start(e)),new jy(t.end(e)));return new n(i)},n.UK=function(t){for(var i=[],e=[],r=0;r<t.L_;r++)i.push(new jy(t.zN(r))),i.push(new jy(t.WN(r))),e.push(t.VN(r)),e.push(t.GN(r));return new n(i,e)},n.TC=function(t){return new n([t,t],[!0,!0])},i.KN=function(t,i){return new n(t,i)},i.QN=function(t){return t.Hp},n.SC=function(){return tO},n}(uS),tO=new $B([]),nO=function(t){function n(n){var i;return(i=t.call(this)||this).XK=!0,i.CK=new GB,i.HK=new qB,i.vD=void 0,i.nY=void 0,i.FK=!0,i.zK=new Wo,i.LC=!1,i.lY=We.resolve(),i.dY=new Ks,i.VK=!0,i._Y=oS.SC(),i.cK=void 0,i.WK=void 0,i.EY=!1,i.mD=void 0,i.GK=function(){i.hm||i.qK.L_<=0||i.py.L_<=0||i.HK.TK(new jy(i.py.WN(i.py.L_-1)),i.qK.WN(i.qK.L_-1))},i.YK=function(){i.Js(new bm(i.$g))},i.jK=function(){i.Js(new pm(i.$g,i.by))},i.QK=function(){i.Js(new km(i.$g,i.cm))},i.ZK=function(){i.Js(new Em(i.$g,i.dm))},i.KK=function(){i.Js(new ym(i.tm))},i.JK=function(){i.Js(new db(i.$g))},i.$K=function(){i.Uu(i.$g)},i.tJ=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.VK&&i.Js(new wm(i.$g)),i.FK=!1,i.VK=!0;case 3:case"end":return t.stop()}},null,null,null,We)},i.nJ=function(){i.FK=!0,i.Js(new dm(i.$g))},i.WK=n,i.nY=new LN(Kt(i)),i.WK.setAttribute("id","player_video"),i.WK.setAttribute("x-webkit-airplay","deny"),i.WK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.WK.playsInline=!0,i.WK.style.width="100%",i.WK.style.height="100%",i.iJ(),i.eJ(),i.cK=FB(i.WK),i}S(n,t);var e=n.prototype;return e.iJ=function(){this.WK.addEventListener("timeupdate",this.GK),this.WK.addEventListener("ended",this.YK),this.WK.addEventListener("timeupdate",this.jK),this.WK.addEventListener("ratechange",this.QK),this.WK.addEventListener("volumechange",this.ZK),this.WK.addEventListener("durationchange",this.KK),this.WK.addEventListener("playing",this.JK),this.WK.addEventListener("seeking",this.$K),this.WK.addEventListener("play",this.tJ),this.WK.addEventListener("pause",this.nJ)},e.rJ=function(){this.WK.removeEventListener("timeupdate",this.GK),this.WK.removeEventListener("ended",this.YK),this.WK.removeEventListener("timeupdate",this.jK),this.WK.removeEventListener("ratechange",this.QK),this.WK.removeEventListener("volumechange",this.ZK),this.WK.removeEventListener("durationchange",this.KK),this.WK.removeEventListener("playing",this.JK),this.WK.removeEventListener("seeking",this.$K),this.WK.removeEventListener("play",this.tJ),this.WK.removeEventListener("pause",this.nJ)},e.eJ=function(){this.nY.$s(vm.p_,this.Ks)},e.sJ=function(){this.nY.ou(vm.p_,this.Ks)},e.Uu=function(t,n){this.dY.Ws(),this.dY=new Ks,this.lY=this.Aj(t,this.lY,this.dY.Ys).catch(K)},e.Aj=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._Y=this.By,r=null==(e=this.vD)?void 0:e.MK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.BK?t.BK:1/0})),this.LC=!0,this.Js(new Tm(t)),u.next=9,Dr.awrap(n.catch(K));case 9:if(tu(i),u.prev=10,this.XK||this.uJ(),this.WK.load(),this.FK){u.next=17;break}return this.VK=!1,u.next=17,Dr.awrap(eu(this.WK.play(),i));case 17:if(!(this.dg<jg.Wg)){u.next=22;break}return u.next=20,Dr.awrap(this.nY.du(vm.p_,i));case 20:u.next=17;break;case 22:this.zK.ju(),this.XK=!1,this.LC=!1,this.Js(new Sm(this.$g)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.zK.Qu(u.t0),u.t0;case 32:return u.prev=32,this.oJ(),this.HK.EK(new jy(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],We)},e.Gm=function(){this.FK=!0,this.WK.pause()},e.Wm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.FK){t.next=2;break}return t.abrupt("return");case 2:return this.WK.src||this.Mj(),t.next=5,Dr.awrap(this.zK.Wu);case 5:return t.next=7,Dr.awrap(this.WK.play());case 7:case"end":return t.stop()}},null,this,null,We)},e.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.CK&&this.CK.bK().catch(K),this.dY.Ws(),this.rJ(),this.sJ(),this.nY.Us(),this.uu();case 6:case"end":return t.stop()}},null,this,null,We)},e.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.CK&&this.CK.bK().catch(K),this.dY.Ws(),this.WK.removeAttribute("src"),this.WK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.WK.removeAttribute("x-airplay-deny"),this.WK.load(),this.nY.dc(),this._Y=oS.SC();case 8:case"end":return t.stop()}},null,this,null,We)},e.Mj=function(){this.Uj||(uO(this.WK,i.Xr),this.EY=!0)},e.uJ=function(){var t,n=this.WK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.WK.videoWidth/this.WK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.WK.style.width=i+"px",this.WK.style.height=e+"px",this.WK.style.marginLeft=(r-i)/2+"px",this.WK.style.marginTop=(u-e)/2+"px",this.WK.style.backgroundColor="black"}},e.oJ=function(){this.WK.style.width="100%",this.WK.style.height="100%",this.WK.style.marginLeft="",this.WK.style.marginTop="",this.WK.style.backgroundColor=""},e.KD=function(t,n,i,e,r){},e.NE=function(t,n,i,e,r,s){},e.jX=function(t){},e.aN=function(){return bR(this.WK)},e.ey=function(){this.WK.style.display="block"},e.sy=function(){this.WK.style.display="none"},e.xj=function(){},e.Kh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.ds!==ib.xE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Dr.awrap(this.CK.yK());case 4:return n={kind:zB.lK,mediaBufferConfigs:t.NW.map(function(t){return t.Wl})},i.next=7,Dr.awrap(this.CK.pK(n));case 7:return this.vD=QB.LK(t,this.CK),this.WK.preload="none",this.WK.src="https://theo.proxy/"+this.CK.tf+"/master.m3u8",i.abrupt("return",this.vD);case 11:case"end":return i.stop()}},null,this,null,We)},e.Lj=function(){},e.BE=function(t){},e.tN=function(){},e.oN=function(t){},e.QD=function(){return!1},e.Xj=function(t){t.appendChild(this.WK)},e.uy=function(){return this.WK},e.dj=function(){},e.yy=function(){},A(n,[{key:"HD",get:function(){return this.WK}},{key:"XW",get:function(){return!1}},{key:"$g",get:function(){return this.WK.currentTime+this.HK.SK.Hp}},{key:"hm",get:function(){return this.WK.paused}},{key:"dm",get:function(){return this.WK.volume},set:function(t){this.WK.volume=t}},{key:"cm",get:function(){return this.WK.playbackRate},set:function(t){this.WK.playbackRate=t}},{key:"aJ",get:function(){return this.WK.defaultPlaybackRate}},{key:"py",get:function(){var t,n;return null!=(t=null==(n=this.vD)?void 0:n.py)?t:oS.SC()}},{key:"qK",get:function(){return $B.bC(this.WK.buffered)}},{key:"By",get:function(){var t=oS.AC(this.hJ);return this._Y.oC(t.Lu(this.HK.SK.Hp))}},{key:"hJ",get:function(){return $B.bC(this.WK.played)}},{key:"fm",get:function(){return this.LC}},{key:"tm",get:function(){return this.WK.duration}},{key:"um",get:function(){return this.WK.muted},set:function(t){this.WK.muted=t}},{key:"OZ",get:function(){return this.WK.style}},{key:"Fj",get:function(){return Nr({},_D,{RX:!0})}},{key:"dg",get:function(){return this.nY.dg}},{key:"vm",get:function(){return this.WK.videoHeight}},{key:"lm",get:function(){return this.WK.videoWidth}},{key:"nm",get:function(){return this.WK.ended}},{key:"yT",get:function(){return this.WK.height||this.WK.clientHeight}},{key:"Uk",get:function(){return this.WK.width||this.WK.clientWidth}},{key:"Ty",get:function(){return!1}},{key:"Uj",get:function(){return this.EY}},{key:"by",get:function(){}},{key:"YU",get:function(){}},{key:"bu",get:function(){}},{key:"$D",get:function(){return this.cK}},{key:"xy",get:function(){return this.vD?this.vD.xy:oS.SC()}},{key:"hN",get:function(){}},{key:"zm",get:function(){}},{key:"QU",get:function(){}},{key:"My",get:function(){return!1},set:function(t){}},{key:"Hj",get:function(){return"block"===this.WK.style.display}},{key:"FD",get:function(){return this.mD},set:function(t){this.mD=t}},{key:"zj",get:function(){},set:function(t){}},{key:"Kq",get:function(){}}]),n}(du),iO=2,eO=[iy.Nd,iy.Cd];function rO(t){var n=s.createElement(t);return sr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),sO(n),n}function sO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),ur(t),t.pause(),t.playbackRate=1,t.preload=$T.RN,t.controls=!1,t.style.display="none",sr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function uO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&au(e),t.pause()}}var oO,aO,hO,cO,fO,vO;function lO(t){return{get bandwidth(){return t.YR},get codecs(){return t.QF},get id(){return t.q_},get uid(){return t.Y_},get name(){return t.Q_},get averageBandwidth(){return t.cJ},get label(){return t.Q_},set label(n){t.Q_=yg(n)},get height(){return t.yT},get width(){return t.Uk},get frameRate(){return t.fJ},get firstFrame(){return t.vJ},get available(){return t.lJ},addEventListener:function(n,i){t.$s(n,i)},removeEventListener:function(n,i){t.ou(n,i)}}}function dO(t){return{get bandwidth(){return t.YR},get codecs(){return t.QF},get id(){return t.q_},get uid(){return t.Y_},get name(){return t.Q_},get averageBandwidth(){return t.cJ},get label(){return t.Q_},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.Q_=n},get audioSamplingRate(){return t.dJ},get available(){return t.lJ},addEventListener:function(n,i){t.$s(n,i)},removeEventListener:function(n,i){t.ou(n,i)}}}function wO(t,n){return[t,void 0!==n?t+n-1:xt]}function _O(t){return Boolean(t.vT)}function gO(t){return Boolean(t.wJ)}function mO(t){return t?t._J?t.Ai+"@"+t._J.zN+"-"+(null!=(n=t._J.L_)?n:""):""+t.Ai:"";var n}function yO(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t._J)return!0;if(n._J){var i=wO(t._J.zN,t._J.L_),e=wO(n._J.zN,n._J.L_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function kO(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t._J)===Boolean(n._J)&&(!t._J||!n._J||t._J.zN===n._J.zN&&t._J.L_===n._J.L_))}function pO(t){var n=!!t.gJ||void 0;return{q_:t.q_,mJ:t.mJ,hN:t.hN,yJ:t.yJ,tm:t.tm,kJ:t.kJ,gJ:n,pJ:t.bJ,AJ:t.TJ,SJ:t.SJ,EJ:t.EJ}}ce=(oO={IJ:function(){function t(t,n,i,e,r){void 0===i&&(i=iO),void 0===e&&(e=eO),void 0===r&&(r=mf()),this.RJ=void 0,this.DJ=void 0,this.Ss=void 0,this.NJ=void 0,this.Jq=void 0,this.XC=void 0,this.CJ=void 0,this.RJ=i,this.DJ=[].concat(e),this.Ss=r,this.Jq=t,this.XC=n,this.NJ=Pr(),this.PJ()}var n=t.prototype;return n.zC=function(t){for(var n=0,i=this.WC;n<i.length;n++){i[n].Xj(t)}},n.XD=function(t){var n=xs(this.NJ.get(t),function(t){return t.lJ});if(n)return n.lJ=!1,n.BJ},n.OJ=function(t){if(!this.CJ)throw new v("Error creating iOS Safari MediaController");return this.CJ},n.eN=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.HD,i=n.tagName.toLowerCase(),r.next=4,Dr.awrap(t.dc());case 4:sO(n),(e=xs(this.NJ.get(i)||[],function(n){return t===n.BJ}))&&(e.lJ=!0);case 7:case"end":return r.stop()}},null,this,null,We)},n.VC=function(){for(var t=0,n=this.WC;t<n.length;t++){n[t].Mj()}},n.Jc=function(){for(var t=0,n=this.WC;t<n.length;t++){var i=n[t],e=i.HD;i.Us(),sO(e),$e(e)}},n.PJ=function(){for(var t=0,n=this.DJ;t<n.length;t++){var i=n[t],e=[];this.NJ.set(i,e);for(var r=0;r<this.RJ;r++){var s=rO(i),u=i===iy.Nd?new MP(s,this.Ss,this.Jq):new VB(s,this.Ss,this.Jq,this.XC);e.push({BJ:u,lJ:!0})}}if(M.Bn&&M.hn){var o=rO(iy.Cd);this.CJ=new nO(o)}},A(t,[{key:"WC",get:function(){for(var t=[],n=0,i=this.DJ;n<i.length;n++){var e=i[n],r=this.NJ.get(e).map(function(t){return t.BJ});t.push.apply(t,r)}return this.CJ&&t.push(this.CJ),t}}]),t}(),xJ:function(){function t(t){this.LJ=new af,this.MC=t}var n=t.prototype;return n.AX=function(t){var n=this;return this.LJ.Zc(function(){return n.MJ(t)})},n.Jm=function(){this.MC.VC()},n.MJ=function(n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=this.MC.XD(iy.Cd),e=i.HD,s.next=4,Dr.awrap(t.UJ(e,n));case 4:return r=s.sent,s.next=7,Dr.awrap(this.MC.eN(i));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,We)},t.UJ=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.En&&!M.Tn){e.next=2;break}return e.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),e.next=5,Dr.awrap(t.XJ());case 5:if(e.t0=!i,!e.t0){e.next=10;break}return e.next=9,Dr.awrap(t.HJ(n,!1));case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=12;break}return e.abrupt("return","all");case 12:return e.next=14,Dr.awrap(t.HJ(n,!0));case 14:if(!e.sent){e.next=16;break}return e.abrupt("return","muted");case 16:return e.abrupt("return","none");case 17:case"end":return e.stop()}},null,null,null,We)},t.HJ=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.muted=n,i=t.play(),r.prev=2,j(i)){r.next=5;break}return r.abrupt("return",!M.dn);case 5:return e=cu(100),r.next=8,Dr.awrap(We.race([i,e]));case 8:return r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(2),r.abrupt("return",!1);case 14:return r.prev=14,t.pause(),t.muted=!0,r.finish(14);case 18:case"end":return r.stop()}},null,null,[[2,11,14,18]],We)},t.XJ=function(){return new We(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Jc=function(){this.LJ.Jc()},t}(),FJ:{AO:function(t){le.addEventListener("beforeunload",t)},xO:function(t){le.removeEventListener("beforeunload",t)}},zJ:r}).IJ,fe=oO.xJ,ve=oO.FJ,le=oO.zJ,de=le&&le.location,we=le&&le.navigator,function(t){t.VJ="currentbufferingrenditionchange",t.WJ="GJ",t.qJ="YJ",t.jJ="QJ"}(aO||(aO={})),function(t){t[t.Nd=0]="Nd",t[t.Cd=1]="Cd",t[t.hA=2]="hA",t[t.ZJ=3]="ZJ"}(hO||(hO={})),hO.Nd,hO.Cd,hO.hA,hO.ZJ,function(t){t[t.KJ=0]="KJ",t[t.JJ=1]="JJ"}(cO||(cO={})),function(t){t[t.DN=0]="DN",t[t.$J=1]="$J",t[t.t$=2]="t$"}(fO||(fO={})),function(t){t[t._d=0]="_d",t[t.n$=1]="n$",t[t.i$=2]="i$"}(vO||(vO={}));var bO=function(t,n){this.Y_=void 0,this.e$=void 0,this.ds=void 0,this.r$=void 0,this.s$=void 0,this.u$=void 0,this.wi=void 0,this.Z_=void 0,this.o$=void 0,this.a$=void 0,this.h$=void 0,this.Y_=fy(),this.e$=n,this.ds=t.ds,this.r$=t.r$,this.s$=t.s$,this.u$=t.u$,this.wi=t.wi,this.Z_=t.Z_,this.o$=t.o$,this.a$=t.a$,this.h$=void 0===t.c$};function AO(t,n){return t.ds===n.ds&&(t.wi===n.wi||!(!TO(t)||!TO(n)))}function TO(t){return t.ds===hO.Cd&&t.r$&&t.h$&&void 0===t.Z_}function SO(t,n){return t.e$===n.e$}function EO(t,n){for(var i=0;i<t.length;i++){if(SO(t[i],n))return!0}return!1}var IO,RO,DO=function(t){function n(n,i){var e;return(e=t.call(this,J_.R_)||this).K_=void 0,e.a_=void 0,e.K_=n||[],e.a_=i,e}return S(n,t),n.prototype.o_=function(){return new NO(this.K_.map(function(t){return t.u_}))},n}(Z_),NO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(_u);!function(t){t.f$="alternative",t.v$="main",t.l$="commentary",t.d$="",t.dE="descriptions",t.w$="main-desc",t._$="translation"}(IO||(IO={})),function(t){t.f$="alternative",t.v$="main",t.l$="commentary",t.d$="",t.lE="captions",t.g$="sign",t.hA="subtitles"}(RO||(RO={}));var CO=function(t){function n(n,i,e){var r;return(r=t.call(this,J_.E_)||this).m$=n,r.y$=i,r.k$=e,r}return S(n,t),n.prototype.o_=function(){return new PO(this.m$&&this.m$.u_)},n}(Z_),PO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(_u);function BO(t){return{YR:t.YR,rr:t.QF,yT:OO(t)?t.yT:0,ds:OO(t)?iy.Cd:iy.Nd,Uk:OO(t)?t.Uk:0}}function OO(t){var n=t;return void 0!==n.yT&&void 0!==n.Uk}var xO,LO=function(t){function n(){return t.call(this,J_.NO_QUALITY)||this}return S(n,t),n}(_u),MO=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(_u),UO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).zy=void 0,u.ma=void 0,u.p$=void 0,u.b$=void 0,u.A$=void 0,u.s_=void 0,u.Vy=void 0,u.T$=function(){return u.Js(new sy(Kt(u)))},u.S$=function(){var t=u.W_;t&&u.b$!==t&&(u.b$=t,u.Js(new CO(t)))},u.E$=function(){var t=u.G_;u.A$!==t&&(u.A$=t,u.I$.Js(new ug(Kt(u))),u.Js(new ug(Kt(u))))},u.PN=n,u.I$=i,u.K_=e,u.b$=u.W_,u.A$=u.G_;var o=e.C_(0);u.zy=null!=(r=null==o?void 0:o.R$.wi)?r:"",u.ma=null!=(s=null==o?void 0:o.R$.Z_)?s:"",u.Vy=ay(),u.PN.$s(aO.VJ,u.S$),u.PN.$s(aO.WJ,u.E$);for(var a=0;a<u.K_.L_;a++){u.K_.C_(a).$s("update",u.T$)}return u}S(n,t);var e=n.prototype;return e.qy=function(t){this.G_=t},e.Jc=function(){this.uu(),this.PN.ou(aO.VJ,this.S$),this.PN.ou(aO.WJ,this.E$);for(var t=0,n=this.K_.x_;t<n.length;t++){n[t].Jc()}this.K_.dc()},A(n,[{key:"G_",get:function(){var t=this.D$();if(!t)return!1;for(var n=0,i=this.K_.x_;n<i.length;n++){if(i[n].R$===t)return!0}return!1},set:function(t){if(t!==this.G_&&t){for(var n=this.K_.C_(0).R$,i=this.PN.N$,e=0,r=this.K_.x_;e<r.length;e++){var s=r[e];if(s.C$===i){n=s.R$;break}}this.P$(n)}}},{key:"W_",get:function(){if(this.G_)for(var t=this.PN.B$,n=0,i=this.K_.x_;n<i.length;n++){var e=i[n];if(EO(t,e.R$))return e}}},{key:"u_",get:function(){return this.s_||(this.s_=Sg(this)),this.s_}},{key:"q_",get:function(){return this.Vy.toString()}},{key:"Y_",get:function(){return this.Vy}},{key:"Q_",get:function(){return this.zy},set:function(t){t!==this.zy&&(this.zy=t,this.Js(new sy(this)))}},{key:"Z_",get:function(){return this.ma}},{key:"cg",get:function(){return this.G_?"enabled":"disabled"}},{key:"J_",get:function(){return this.p$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.W_?BO(n.W_):void 0;return i.Xr.Me(e,BO(t))}).filter(function(i){return n.K_.Hy(t)&&i.lJ}):e=this.K_.x_.filter(function(t){return t.lJ});0!==e.length?t!==this.p$&&(this.p$&&zs(this.p$,e)||(this.p$=t?e:void 0,this.PN.O$(e.map(function(t){return t.C$})),1===e.length&&au(this.PN.x$(e[0].C$,!1)),this.Js(new DO(e,this)))):this.Js(new LO)}}]),n}(du),XO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.D$=function(){return this.PN.L$},i.P$=function(t){au(this.PN.M$(t))},A(n,[{key:"j_",get:function(){return IO.v$}}]),n}(UO),HO=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.D$=function(){return this.PN.U$},i.P$=function(t){au(this.PN.X$(t))},A(n,[{key:"j_",get:function(){return RO.v$}}]),n}(UO),FO=function(t){function n(n,i){var e;return(e=t.call(this)||this).zy="",e.lJ=!0,e.C$=n,e.R$=i,e}S(n,t);var i=n.prototype;return i.AE=function(){},i.Jc=function(){this.uu()},A(n,[{key:"q_",get:function(){return String(this.C$.q_)}},{key:"Y_",get:function(){return this.C$.q_}},{key:"YR",get:function(){return this.C$.YR}},{key:"cJ",get:function(){return this.C$.cJ}},{key:"Q_",get:function(){var t;return null!=(t=this.zy)?t:this.R$.wi},set:function(t){this.Q_!==t&&(this.zy=t,this.Js(new MO(this.u_)))}},{key:"c$",get:function(){return this.R$.e$.H$()}}]),n}(du),zO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).s_=void 0,e}return S(n,t),n.prototype.o_=function(){return dO(this)},A(n,[{key:"dJ",get:function(){return 0}},{key:"QF",get:function(){var t;return(null==(t=this.C$.QF)?void 0:t.jF)||""}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}}]),n}(FO),VO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).s_=void 0,e}return S(n,t),n.prototype.o_=function(){return lO(this)},A(n,[{key:"QF",get:function(){var t;return(null==(t=this.C$.QF)?void 0:t.YF)||""}},{key:"vJ",get:function(){return 0}},{key:"fJ",get:function(){return 0}},{key:"yT",get:function(){var t,n;return null!=(t=null==(n=this.C$.F$)?void 0:n.yT)?t:0}},{key:"Uk",get:function(){var t,n;return null!=(t=null==(n=this.C$.F$)?void 0:n.Uk)?t:0}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}}]),n}(FO);!function(t){t.z$="FATAL",t.ag="ERROR",t.V$="WARNING",t.W$="INFO",t.G$="DEBUG"}(xO||(xO={}));var WO,GO=new(function(){function t(){this.G_=function(){return!1}}var n=t.prototype;return n.q$=function(t){if(!this.G_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.Y$=function(t){if(this.q$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.pr.apply(i,[xO.G$+" "+t+" -"].concat(e))}},n.TT=function(t){if(this.q$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.pr.apply(i,[xO.W$+" "+t+" -"].concat(e))}},n.j$=function(t){if(this.q$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Ar.apply(i,[xO.V$+" "+t+" -"].concat(e))}},n.bu=function(t){if(this.q$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Tr.apply(i,[xO.ag+" "+t+" -"].concat(e))}},n.Q$=function(t){if(this.q$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.Tr.apply(i,[xO.z$+" "+t+" -"].concat(e))}},t}()),qO="HLSPlaylistParser",YO=function(){function t(t,n,i){this.PN=t,this.Z$=n,this.K$=i}var n=t.prototype;return n.J$=function(){var t,n,i=null==(t=this.PN.n0)?void 0:t.i0;if(i&&0!==i.length){for(var e=null!=(n=xs(i,function(t){return 0!==t.e0.length&&0!==t.r0.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.e0;s<u.length;s++){var o=u[s],a=new ry,h=[];a.Xy(new zO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],v=0,l=f.e0;v<l.length;v++){var d=l[v];if(AO(d,o)&&!EO(h,d)){a.Xy(new zO(f,d)),h.push(d);break}}this.Z$.P_(new XO(this.PN,this.Z$,a))}for(var w=0,_=e.r0;w<_.length;w++){var g=_[w],m=new ry,y=[];m.Xy(new VO(e,g)),y.push(g);for(var k=0;k<r.length;k++)for(var p=r[k],b=0,A=p.r0;b<A.length;b++){var T=A[b];if(AO(T,g)&&!EO(y,T)){m.Xy(new VO(p,T)),y.push(T);break}}this.K$.P_(new HO(this.PN,this.K$,m))}}else GO.j$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.s0=function(){this.u0(this.Z$),this.u0(this.K$)},n.u0=function(t){for(var n=[],i=0,e=t.x_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.K_.x_;u<o.length;u++){var a=o[u];Hs(a.C$.o0,a.R$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.K_.Jh(c),c.Jc()}0===r.K_.L_&&n.push(r)}for(var f=0;f<n.length;f++){var v=n[f];t.B_(v),v.Jc()}},t}(),jO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).HC=void 0,e.HC=i,e}return S(n,t),n.prototype.vd=function(t){var n,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new uw(t),e=this.HC.wL.qR(n)){o.next=4;break}return o.abrupt("return",this.IE.vd(n));case 4:return e._L(i.dr()/1e3),o.next=7,Dr.awrap(this.IE.vd(t));case 7:return r=o.sent,e.gL(i.dr()/1e3),s=r.Vl().pipeThrough(new kd(new QO(e))),u={Fi:s,vd:r.vd},o.abrupt("return",new sw(u,r));case 12:case"end":return o.stop()}},null,this,null,We)},n}(function(){function t(t){this.IE=void 0,this.IE=t}var n=t.prototype;return n.vd=function(t){return this.IE.vd(t)},n.Xd=function(t){this.IE.Xd(t)},n.Jc=function(){this.IE.Jc()},t}()),QO=function(){function t(t){this.hU=void 0,this.a0=t}var n=t.prototype;return n.start=function(t){this.hU=t},n.transform=function(t){this.a0.mL(i.dr()/1e3,t),this.hU.enqueue(t)},n.flush=function(){this.a0.yL(i.dr()/1e3)},t}(),ZO=function(){function t(t){this.h0=void 0,this.c0=0,this.f0=0,this.h0=w.exp(w.log(.5)/t)}var n=t.prototype;return n.v0=function(t,n){var i=w.pow(this.h0,t),e=n*(1-i)+i*this.c0;m(e)||(this.c0=e,this.f0+=t)},n.HX=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.h0)if(0!==this.f0){var i=this.TK,e=1-w.pow(n,this.f0);this.c0=i*e,this.h0=n}else this.h0=n},A(t,[{key:"TK",get:function(){var t=1-w.pow(this.h0,this.f0);return this.c0/t}}]),t}();!function(t){t.l0="sample"}(WO||(WO={}));var KO=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.d0),void 0===s&&(s=n.w0),(u=t.call(this)||this)._0=void 0,u.g0=void 0,u.m0=0,u.y0=void 0,u.k0=void 0,u.k0=r,u._0=new ZO(i),u.g0=new ZO(e),u.y0=s,u}S(n,t);var i=n.prototype;return i.p0=function(t,n,i){if(0!==t){var e=8*n/t;this._0.v0(i,e),this.g0.v0(i,e),this.m0+=n,this.Js(new _u(WO.l0))}},i.b0=function(){return this.m0>=this.k0},A(n,[{key:"TK",get:function(){return this.b0()?w.min(this._0.TK,this.g0.TK):this.y0}}]),n}(du);KO.d0=128e3,KO.w0=5e5;var JO=function(){function t(n,i,e,r){void 0===n&&(n=t.A0),void 0===i&&(i=t.T0),void 0===e&&(e=t.w0),void 0===r&&(r=!1),this._0=void 0,this.g0=void 0,this.S0=0,this.E0=[],this.I0=void 0,this.R0=6e4,this.D0=10,this.N0=void 0,this.C0=void 0,this.y0=void 0,this.P0=void 0,this.N0=n,this.C0=i,this.y0=e,this.P0=r,this._0=new ZO(n),this.g0=new ZO(i)}var n=t.prototype;return n.v0=function(t){var n=i.dr(),e=t;this.P0&&void 0!==this.I0&&n-this.I0>=this.R0&&this.dc(),this.S0+=1,this._0.v0(1,e),this.g0.v0(1,e),this.E0.push(e),this.E0.length>this.D0&&this.E0.shift(),this.I0=n},n.b0=function(){return void 0!==this.I0&&i.dr()-this.I0<=this.R0},n.dc=function(){this._0=new ZO(this.N0),this.g0=new ZO(this.C0),this.S0=0,this.E0=[],this.I0=void 0},A(t,[{key:"TK",get:function(){return this.b0()?w.max(this._0.TK,this.g0.TK):this.y0}}]),t}();JO.A0=2,JO.T0=5,JO.w0=.1;var $O=function(){function t(t){this.B0=t}var n=t.prototype;return n._L=function(t){for(var n=0,i=this.B0;n<i.length;n++){i[n]._L(t)}},n.gL=function(t){for(var n=0,i=this.B0;n<i.length;n++){i[n].gL(t)}},n.mL=function(t,n){for(var i=0,e=this.B0;i<e.length;i++){e[i].mL(t,n)}},n.yL=function(t){for(var n=0,i=this.B0;n<i.length;n++){i[n].yL(t)}},t}(),tx=function(){function t(t){this.O0=void 0,this.x0=void 0,this.O0=t}var n=t.prototype;return n._L=function(t){this.x0=t},n.gL=function(t){this.O0.v0(t-this.x0)},n.mL=function(t){},n.yL=function(t){},t}(),nx=function(){function t(t){this.L0=void 0,this.M0=void 0,this.U0=0,this.L0=t}var n=t.prototype;return n.gL=function(t){this.M0=t},n.mL=function(t,n){this.U0+=n.byteLength},n.yL=function(t){this.L0.v0(t-this.M0,this.U0)},n._L=function(t){},t}(),ix=function(){function t(t,n){void 0===n&&(n=0),this.L0=void 0,this.X0=void 0,this.H0=new ex,this.GG=0,this.F0=0,this.L0=t,this.X0=n}var n=t.prototype;return n._L=function(t){},n.mL=function(t,n){var e=n.byteLength,r=this.F0;this.F0=e;var s=t-this.GG;this.GG=t,this.H0.BH(n);var u=!this.H0.z0(),o=e>=this.X0;r!==i.Xr.Ze&&u&&o&&this.L0.v0(s,e)},n.gL=function(t){this.GG=t},n.yL=function(t){},t}(),ex=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).V0=void 0,n.W0=!1,n}S(n,t);var i=n.prototype;return i.z0=function(){return this.W0},i.BH=function(n){this.W0=!1,t.prototype.BH.call(this,n)},i.CH=function(n,i){this.V0&&this.V0!==ak.nA||(this.W0=!0),t.prototype.CH.call(this,n,i),this.V0=n},i.FH=function(t){return!1},i.VH=function(t){},i.WH=function(t){},n}(PD),rx=function(t){function n(i,e,r,s){return void 0===i&&(i=n.A0),void 0===e&&(e=n.T0),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.v0=function(t,n){this.p0(t,n,t)},n}(KO);rx.A0=.5,rx.T0=5;var sx=function(){function t(t){this.L0=void 0,this.G0=void 0;var n=t.YR>0?t.YR:KO.w0,i=t.jR>0?t.jR:JO.w0;this.L0=new rx(rx.A0,rx.T0,1,n),this.G0=new JO(JO.A0,JO.T0,i)}var n=t.prototype;return n.qR=function(t){if("segment"===t.ds||"preload-hint"===t.ds){var n=[new tx(this.G0)];return"stream"!==t.od||!function(t){return"segment"===t.ds&&"initialization-segment"!==t.xd}(t)&&"preload-hint"!==t.ds?n.push(new nx(this.L0)):n.push(new ix(this.L0,1e3)),new $O(n)}},n.q0=function(t){this.L0=new rx(rx.A0,rx.T0,1,t)},A(t,[{key:"YR",get:function(){return this.L0.TK}},{key:"jR",get:function(){return this.G0.TK}}]),t}();var ux=function(t){function n(n){var i;return(i=t.call(this,aO.jJ)||this).bu=n,i}return S(n,t),n}(_u),ox=function(){function t(t){this.BJ=t}return t.prototype.jX=function(t){var n={ds:ib.LE,WD:[],NW:[{Wl:t}]};return We.resolve(void 0!==this.BJ.jX([n]))},t}(),ax=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!!Hs(e,t)||1.1*t.YR<=i.YR}))},hx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){if(Hs(e,t))return!0;for(var s=1/0,u=0,o=t.o0;u<o.length;u++){var a,h,c=o[u];s=w.min(s,null!=(a=null!=(h=c.e$.Y0)?h:c.e$.j0)?a:1/0)}s===1/0&&(s=1);var f=3*i.jR+t.YR*s/i.YR;return t.YR<=n.YR||r.Q0>f}))},cx=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){return n.YR-t.YR}))},fx=function(t,n,i,e,r){return We.resolve(t.every(function(t){return t.Z0&&!m(t.Z0)})?Is(t,function(t,n){return n.Z0-t.Z0}):t)},vx=function(t,n,i,e,r){return We.resolve(Is(t,function(t,n){var i=Hs(e,t)?1:0;return(Hs(e,n)?1:0)-i}))},lx=function(t,n,i,e,r){return We.resolve(t.filter(function(t){return!t.QF||!n.QF||(t.QF.YF?!!n.QF.YF&&(t.QF.YF.split(".")[0]===n.QF.YF.split(".")[0]&&(t.QF.jF?!!n.QF.jF&&(t.QF.jF.split(".")[0]===n.QF.jF.split(".")[0]&&t.QF.ZF===n.QF.ZF):!n.QF.jF)):!n.QF.YF)}))},dx=function(t,n,e,r,s){return We.resolve(function(t,n){if(!i.Xr.dn)return t;for(var e=0;e<t.length;e++){var r,s,u,o,a=t[e],h=null!=(r=null==(s=a.F$)?void 0:s.yT)?r:0,c=null!=(u=null==(o=a.F$)?void 0:o.Uk)?u:0;if(h===n.yT&&c===n.Uk)return t.slice(e,t.length);if(h<n.yT||c<n.Uk)return t.slice(0===e?e:e-1,t.length)}return[]}(t,s))};var wx=function(){function t(t){this.K0=[lx,ax,hx,cx,dx,fx,vx],this.HC=t}var n=t.prototype;return n.J0=function(t){this.K0=t},n.$0=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:GO.Y$("AbrEvaluator","Performing optimal variant stream selection."),r=this.n1,s=t,u=0,o=this.K0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Dr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return GO.j$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",Ws(t,function(t){return t.YR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,We)},A(t,[{key:"n1",get:function(){return this.HC.wL}}]),t}();function _x(t,n,i,e){var r=[],s=xs(i,function(t){return t.i1===Vr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.i1!==Vr)for(var h=0,c=cs(a.i1);h<c.length;h++){var f=c[h];r.push({ac:f,JR:a.e1?[a.e1]:[],fR:void 0})}}if(r.length)return{tI:t,s1:{u1:u,nI:s.nI},o1:r,a1:n===iy.Nd?e.slice():[],h1:n===iy.Cd?e.slice():[],Gq:!1}}}}function gx(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Pr();return mx(e,r,t.o1),mx(e,r,n.o1),{tI:t.tI,s1:{u1:t.s1.u1,nI:null!=(i=t.s1.nI)?i:n.s1.nI},o1:e,a1:yx(t.a1,n.a1,Hs),h1:yx(t.h1,n.h1,Hs),Gq:t.Gq||n.Gq||!1}}function mx(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ac.As,u=void 0;n.has(s)?(u=n.get(s)).JR=yx(u.JR,r.JR,kx):(u=Nr({},r),t.push(u),n.set(s,u))}}function yx(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function kx(t,n){for(var i=0;i<t.length;i++){if(Lu(t[i],n))return!0}return!1}function px(t,n){var i,e=t.c1;if(e){for(var r=t.cO,s=[],u=0,o=t.QF;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=_x(n||{},t.ds,e,s)}for(var h=0,c=t.f1;h<c.length;h++){i=gx(i,bx(c[h],n))}return i}function bx(t,n){return _x(n||{},t.ds,t.c1||[],[t.Wl])}function Ax(t,n){switch(n.ds){case zr.hs:return t.widevine;case zr.us:return t.playready;case zr.vs:return t.fairplay;case zr.fs:return t.clearkey}}function Tx(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function Sx(t,n,i,e,r){var s,u,o,a,h,c,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=2;break}return d.abrupt("return",[]);case 2:return s=n.filter(function(t){return vs(t,"audio")}),u=n.filter(function(t){return vs(t,"video")}),o=[],a=i.map(function(t){return Ex(t,e,r)}),d.next=8,Dr.awrap(We.all(a));case 8:for(h=d.sent.filter(H),c=Rx(h,t.preferredKeySystems),f=0;f<c.length;f++)v=c[f],l=Ax(t,v.ac),"cbcs",o.push({ac:v.ac,JR:v.JR,fR:v.fR,rN:[{initDataTypes:[v.ac.gs],audioCapabilities:Tx(s,"cbcs",null==l?void 0:l.audioRobustness),videoCapabilities:Tx(u,"cbcs",null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return d.abrupt("return",o);case 12:case"end":return d.stop()}},null,null,null,We)}function Ex(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.c$){u.next=2;break}return u.abrupt("return");case 2:if(t.v1){u.next=4;break}return u.abrupt("return");case 4:if(t.Bd===fO.t$){u.next=6;break}return u.abrupt("return");case 6:if(e=Ix(t.v1)){u.next=9;break}return u.abrupt("return");case 9:if(e.As!==ns){u.next=13;break}return u.abrupt("return",{ac:e,JR:[],fR:t.c$});case 13:return GO.TT("HLSDrmUtils","Fetching key uri "+t.c$+"."),u.next=16,Dr.awrap(n.vd({dd:t.c$,Md:i}));case 16:return r=u.sent,u.next=19,Dr.awrap(r.zl());case 19:return s=u.sent,u.abrupt("return",{ac:e,JR:[s],fR:void 0});case 21:case"end":return u.stop()}},null,null,null,We)}function Ix(t){return t===Kr?ss:t===Qr?rs:t===es?os:void 0}function Rx(t,n){var i=function(t){var i=n.indexOf(t.ac.As);return i>=0?i:n.length};return Is(t,function(t,n){return i(t)-i(n)})}function Dx(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function Nx(t){return"#"!==t[0]?t:t.split(":",1)[0]}function Cx(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function Px(t){var n=Mx(Cx(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function Bx(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:GO.j$(qO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function Ox(t,n){var e,r,s=Bx(t);try{e=s.URI?i.Mr(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return hO.Nd;case"VIDEO":return hO.Cd;case"SUBTITLES":return hO.hA;case"CLOSED-CAPTIONS":return hO.ZJ}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,l="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,_=s.CHANNELS;if(u||GO.j$(qO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||GO.j$(qO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||GO.j$(qO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===hO.ZJ?(e&&GO.j$(qO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||GO.j$(qO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):GO.j$(qO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&GO.j$(qO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&GO.j$(qO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===hO.hA&&s.FORCED&&GO.j$(qO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{l1:a,d1:_,w1:w,o$:u,s$:f,r$:c,u$:l,a$:d,Z_:o,wi:h,ds:r,c$:e}}function xx(t,n,e){var r,s,u,o=Bx(t);try{r=i.Mr(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Uk:i,yT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();ls(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:ls(o,"avc")||ls(o,"hvc1")||ls(o,"hev1")||ls(o,"dvh")?i=u:e=e?e+","+o:o}return{jF:n,YF:i,ZF:e}}(o.CODECS)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=Mx(o.BANDWIDTH),h=Mx(o["AVERAGE-BANDWIDTH"]),c=Mx(o.SCORE),f=Mx(o["FRAME-RATE"]),l=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=o["VIDEO-RANGE"],g=o.AUDIO,y=o.VIDEO,k=o.SUBTITLES,p=o["CLOSED-CAPTIONS"];if(void 0===a?GO.j$(qO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&GO.j$(qO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||GO.TT(qO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.YF&&void 0===u&&GO.TT(qO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Hs(["TYPE-0","TYPE-1","NONE"],l)||GO.j$(qO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Hs(["SDR","PQ","HLG"],_)||GO.j$(qO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{_1:d,g1:g,cJ:h,YR:a,m1:p,QF:s,fJ:f,b1:l,F$:u,Z0:c,A1:k,c$:r,T1:y,S1:_}}function Lx(t,n){var i=Bx(t);if(!i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return xx(t,n,i.URI)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Mx(t){var n=Number(t);return m(n)?void 0:n}function Ux(t,n){var i,e,r=Bx(t);try{i=function(t){switch(t){case"NONE":return fO.DN;case"AES-128":return fO.$J;case"SAMPLE-AES":return fO.t$;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?qx(r.URI,n):void 0}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,l=r.KEYFORMATVERSIONS;if(i!==fO.DN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(Ix(o)!==ss)throw new v("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=fO.t$}else s=i;u=e,a=f?Vo(f):void 0,h=l?l.split("/").map(function(t){return Number(t)}):[1]}else s=fO.DN,(e||c||l||f)&&GO.j$(qO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Bd:s,c$:u,E1:a,v1:o,I1:h}}function Xx(t){var n=Cx(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[Mx(e),r]}function Hx(t,n){var i=t.split("@"),e=Mx(i[0]),r=i.length>1?Mx(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{zN:r,L_:e}}function Fx(t){if(void 0!==t)return Hx(t,void 0)}function zx(t,n){return Hx(Cx(t),n)}function Vx(t,n){var i=Bx(t);try{return{Ai:qx(i.URI,n),_J:Fx(i.BYTERANGE)}}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function Wx(t){var n=Cx(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!zt(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function Gx(t){var n,i,e,r=Bx(t),s=r["START-DATE"],u=r["END-DATE"],o=Mx(r["PLANNED-DURATION"]),a=Mx(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Vo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Vo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Vo(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&ls(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)GO.j$(qO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,zt(h)||GO.j$(qO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var g=new Date(h.getTime()+1e3*a);c?c.getTime()!==g.getTime()&&(GO.j$(qO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=g):c=g}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||GO.j$(qO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&GO.j$(qO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&GO.j$(qO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&GO.j$(qO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===h)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{q_:w,mJ:_,hN:h,yJ:c,tm:a,kJ:o,TJ:n,EJ:i,SJ:e,gJ:f,bJ:l}}function qx(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Mr(t,n)}function Yx(t,n){var i=Bx(t),e=Mx(i.DURATION),r=qx(i.URI,n),s=Fx(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{tm:e,c$:{Ai:r,_J:s},R1:u,D1:o}}function jx(t){var n=Bx(t);return{N1:"YES"===n["CAN-BLOCK-RELOAD"],C1:Mx(n["CAN-SKIP-UNTIL"]),P1:"YES"===n["CAN-SKIP-DATERANGES"],B1:Mx(n["HOLD-BACK"]),O1:Mx(n["PART-HOLD-BACK"])}}function Qx(t,n){var i=Bx(t);if(void 0===i.URI)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=qx(i.URI,n),r=Mx(i["LAST-MSN"]),s=Mx(i["LAST-PART"]);if(void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{c$:e,L1:r,M1:s}}function Zx(t,n){var i,e=Bx(t),r=Mx(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{U1:r,X1:s,H1:n}}function Kx(t){var n=Mx(Bx(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function Jx(t){switch(Cx(t)){case"VOD":return vO.n$;case"EVENT":return vO.i$;default:return GO.j$(qO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),vO._d}}function $x(t,n){var i,e,r=Bx(t);try{i=function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return cO.KJ;if("PART"===t)return cO.JJ;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=qx(r.URI,n)}catch(n){throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=Mx(r["BYTERANGE-START"]),o=Mx(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={zN:u||0,L_:o}),{ds:i,c$:{Ai:e,_J:s}}}var tL=function(){function t(n){this.F1=0,this.z1=void 0,this.z1=t.V1(n)}var n=t.prototype;return n.W1=function(){var t=this.z1[this.F1];return this.F1+=1,t},n.G1=function(){return this.z1[this.F1]},n.Xu=function(){var n=new t("");return n.F1=0,n.z1=this.z1.slice(this.F1),n},t.V1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function nL(t,n,i){var e=t.c$,r=t.HA,s=t.q1,u=t.zN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=Px(t);return m(n)?(GO.j$(qO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=Bx(t),i=Mx(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{Y1:i,j1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":GO.j$(qO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:GO.TT(qO,"Ignoring unrecognized line or comment: "+n+".")}return{c$:e,HA:r,q1:s,zN:u}}function iL(t,n){return t.map(function(t){return t.Bd===fO.DN||t.E1?t:Nr({},t,{E1:eL(n)})})}function eL(t){var n=new DataView(new ArrayBuffer(16)),i=new zo;return i.Lu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;fo(t,n,e?s:r,e),fo(t,n,u,e)}(n,i,ft.fromNumber(t)),new y(n.buffer)}function rL(t,n,e){GO.TT(qO,"Parsing M3U8 playlist at "+t+".");var r=new tL(e);if("#EXTM3U"!==r.W1())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Mr(t)}catch(n){throw GO.j$(qO,"The master playlist has no valid base URI: "+t+"."),new v("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={c$:r,q1:void 0,zN:void 0,HA:void 0},u=[],o=[],a=[],h=[];;){var c=n.W1();if(!c)break;try{var f=Dx(c);switch(f){case"#EXT-X-MEDIA":var l=Ox(c,r);u.push(l);break;case"#EXT-X-STREAM-INF":var d=xx(c,r,n.W1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=Lx(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":GO.j$(qO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var _=Ux(c,r);h.push(_);break;default:s=nL(s,c,f)}}catch(t){GO.j$(qO,"Ignoring unparsable line: "+c,t)}}var g=s.HA,m=null!=(e=s.q1)&&e,y=s.zN;return void 0===g&&(GO.j$(qO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(o.some(function(t){return void 0!==t.Z0})||a.some(function(t){return void 0!==t.Z0}))&&(o.some(function(t){return void 0===t.Z0})||a.some(function(t){return void 0===t.Z0}))&&GO.j$(qO,"If one master playlist variant stream has a SCORE, all variants should have it."),{c$:r,HA:g,q1:m,zN:y,Q1:a,Z1:h,vT:u,K1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,l,d,w,_,g,m,y,k,p,b,A,T={c$:t,q1:void 0,zN:void 0,HA:void 0},S=[],E=!1,I=!1,R=[],D=Pr(),N=[],C=[],P=!1,B=!1,O=[],x=[],L=0,M=!1,U=vO._d,X=!1,H=0;try{A=i.Mr(t)}catch(n){throw GO.j$(qO,"The media playlist has no valid base URI: "+t+".",n),new v("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=e.Xu();void 0===k||void 0===p;){var z=F.W1();if(!z)break;try{switch(Nx(z)){case"#EXT-X-MEDIA-SEQUENCE":k=Px(z);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=Px(z)}}catch(t){GO.j$(qO,"Ignoring unparsable line: "+z,t)}}void 0===k&&(GO.TT(qO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===p&&(GO.TT(qO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var V=k,W=p;;){var G=e.W1();if(!G)break;var q=!1;try{var Y=Nx(G);switch(Y){case"#EXTINF":q=!0;var j=Xx(G);h=j[0],c=j[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=zx(G,L))&&(L=f.zN+f.L_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,W++;break;case"#EXT-X-KEY":var Q,Z;q=!0;var K=Ux(G,A);if(K.Bd===fO.DN){D.clear(),m=void 0;break}var J=null!=(Q=null==(Z=K.v1)?void 0:Z.toString())?Q:"identity";D.set(J,K),K.Bd===fO.$J&&(m=K);break;case"#EXT-X-MAP":q=!0,d=Vx(G,A),w=m;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,_=Wx(G);break;case"#EXT-X-GAP":q=!0,B=!0;break;case"#EXT-X-BITRATE":q=!0,g=Px(G);break;case"#EXT-X-TARGETDURATION":s=Px(G);break;case"#EXT-X-DATERANGE":var $=Gx(G);S.push($);break;case"#EXT-X-PART":q=!0;var tt=Yx(G,A);C.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=$x(G,A);O.push(nt);break;case"#EXT-X-SKIP":R.length>0&&GO.j$(qO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=Zx(G,V);H=it.U1,b=it.X1,V+=it.U1;break;case"#EXT-X-SERVER-CONTROL":var et=jx(G);E=et.N1,u=et.C1,I=et.P1,o=et.B1,a=et.O1;break;case"#EXT-X-RENDITION-REPORT":var rt=Qx(G,A);x.push(rt);break;case"#EXT-X-PART-INF":y=Kx(G);break;case"#EXT-X-MEDIA-SEQUENCE":q&&GO.j$(qO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&GO.j$(qO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":U=Jx(G);break;case"#EXT-X-I-FRAMES-ONLY":X=!0;break;default:if(ls(Y,"#"))T=nL(T,G,Y);else{l=i.Mr(G,A);var st=d?{c$:d,J1:w}:void 0,ut={Z1:iL(xr(D),V),hE:N,n2:C,tm:h,YD:c,i2:P,c$:{_J:f,Ai:l},e2:st,s2:_,D1:B,u2:g,H1:V,o2:W};R.push(ut),V++,N=[],C=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,l=void 0,_=void 0,B=!1,g=void 0}}}catch(t){GO.j$(qO,"Ignoring unparsable line: "+G,t)}}if(C.length){var ot=d?{c$:d,J1:m}:void 0,at={Z1:iL(xr(D),V),hE:N,n2:C,tm:h,YD:c,i2:P,c$:void 0,e2:ot,s2:_,D1:B,u2:g,H1:V,o2:W};R.push(at)}var ht=T.HA,ct=null!=(r=T.q1)&&r,ft=T.zN;void 0===ht&&(GO.j$(qO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&GO.j$(qO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var vt=R.length,lt=vt>0;lt||GO.j$(qO,"The HLS media playlist contains no segments.");var dt=lt&&R[vt-1].n2.length>0;return dt&&void 0===y&&GO.j$(qO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&GO.j$(qO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{N1:E,C1:u,P1:I,a2:S,o2:p,h2:M,q1:ct,B1:o,c2:X,H1:k,U1:H,O1:a,Y0:y,f2:U,l2:O,X1:b,d2:x,w2:s,wJ:R,zN:ft,c$:A,_2:n,HA:ht}}(t,n,r)}var sL=function(){function t(t,n,i){var e,r,s,u;this.q_=uL++,this.e$=void 0,this.YR=void 0,this.Z0=void 0,this.F$=void 0,this.g1=void 0,this.T1=void 0,this.A1=void 0,this.m1=void 0,this.g2=void 0,this.m2=void 0,this.b2=[],this.e$=n,this.YR=t.YR,this.g2=t.cJ,this.Z0=t.Z0,this.m2=t.QF?oL(t.QF):void 0,this.F$=t.F$,this.g1=null!=(e=t.g1)?e:"A2"+this.q_,this.T1=null!=(r=t.T1)?r:"T2"+this.q_,this.A1=null!=(s=t.A1)?s:"S2"+this.q_,this.m1=null!=(u=t.m1)?u:"E2"+this.q_,this.b2=i}var n=t.prototype;return n.I2=function(t){for(var n=0,i=this.b2;n<i.length;n++){var e=i[n].e$.I2(t);if(void 0!==e)return e}},n.R2=function(t){for(var n=0,i=this.b2;n<i.length;n++){var e=i[n].e$.R2(t);if(void 0!==e)return e}},n.D2=function(t){for(var n=0,i=this.b2;n<i.length;n++){var e=i[n];if(e.ds===t&&e.h$)return void Us(this.b2,e)}},A(t,[{key:"c$",get:function(){return this.e$.c$}},{key:"QF",get:function(){return this.m2},set:function(t){this.m2=t?oL(t):void 0}},{key:"cJ",get:function(){return this.g2||this.YR}},{key:"N2",get:function(){var t,n;if(!this.b2.length)return oS.SC();var i=null!=(t=Gs(this.b2,function(t){var n;return null!=(n=t.e$.C2)?n:0}))?t:this.o0[0],e=i.e$.wJ;if(!e.length||e.length<2)return oS.SC();var r=i.e$.h2?e[0].hk:e[1].hk,s=e[e.length-1],u=s.hk+(null!=(n=s.tm)?n:s.P2)-this.o0.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.e$.O1)?e:n.e$.B1)?i:0,t)},0);return u<r?oS.SC():new oS([r,u])}},{key:"o0",get:function(){return this.b2}},{key:"e0",get:function(){return this.b2.filter(function(t){return t.ds===hO.Nd})}},{key:"r0",get:function(){return this.b2.filter(function(t){return t.ds===hO.Cd})}},{key:"B2",get:function(){return this.b2.filter(function(t){return t.ds===hO.hA})}},{key:"O2",get:function(){return this.b2.filter(function(t){return t.ds===hO.ZJ})}}]),t}(),uL=0;function oL(t){return Nr({},t,{YF:t.YF?xc(t.YF):void 0})}var aL=function(){function t(t,n,i,e,r){this.L2=void 0,this.M2=void 0,this.tm=void 0,this.c$=void 0,this.R1=void 0,this.D1=void 0,this.U2=void 0,this.bk=void 0,this.PK=void 0,this.X2=void 0,this.L2=t,this.M2=n,this.bk=i,this.U2=e,this.tm=r.tm,this.c$=r.c$,this.R1=r.R1,this.D1=r.D1}return t.prototype.H2=function(t,n){this.bk=t,this.U2=n},A(t,[{key:"hk",get:function(){var t;return this.bk+(null!=(t=this.X2)?t:0)}},{key:"F2",get:function(){return this.U2}},{key:"Z1",get:function(){return this.L2.Z1}}]),t}();function hL(t){return void 0!==t.n2}var cL,fL=function(){function t(t,n,i,e,r){this._a=void 0,this.s2=void 0,this.z2=void 0,this.e2=void 0,this.D1=void 0,this.V2=void 0,this.U2=void 0,this.H1=void 0,this.i2=void 0,this.o2=void 0,this.Z1=void 0,this.bk=void 0,this.PK=void 0,this.W2=[],this.G2=0,this.q2=void 0,this.bk=t,this.e2=r.e2,this.V2=i,this.U2=e,this._a=r.tm,this.s2=r.s2,this.z2=r.c$,this.D1=r.D1,this.H1=r.H1,this.i2=r.i2,this.o2=n,this.Z1=r.Z1,this.Y2(r.n2)}var n=t.prototype;return n.j2=function(t){return this.W2[t]},n.Q2=function(t){for(var n=0;n<this.W2.length;n++){var i=this.W2[n],e=i.hk,r=e+i.tm;if(e<=t&&t<=r)return t===r&&n+1<this.W2.length?this.W2[n+1]:i}},n.Z2=function(t){for(var n=this.W2.length-1;n>=0;n--){var i=this.W2[n];if(i.hk<=t)return i}},n.K2=function(t){for(var n=this.Z2(t);n&&!n.R1&&n.M2>0;)n=this.j2(n.M2-1);return n},n.H2=function(t,n,i){var e=t.n2.length!==this.W2.length||i!==this.U2;this.V2=n,this.U2=i,this._a=t.tm,null!=this.s2||(this.s2=t.s2),void 0===this.z2&&(this.z2=t.c$),e&&this.Y2(t.n2)},n.Y2=function(t){this.W2.length>t.length&&(this.W2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.U2&&i===t.length-1,s=this.bk+n;if(i<this.W2.length)this.W2[i].H2(s,r);else{var u=new aL(this,i,s,r,e);this.W2.push(u)}n+=e.tm}this.G2=n},n.J2=function(){Fs(this.W2),this.G2=0},A(t,[{key:"hk",get:function(){var t;return this.bk+(null!=(t=this.q2)?t:0)}},{key:"n3",get:function(){return this.bk}},{key:"tm",get:function(){return this._a}},{key:"c$",get:function(){return this.z2}},{key:"i3",get:function(){return this.V2}},{key:"F2",get:function(){return this.U2}},{key:"n2",get:function(){return this.W2}},{key:"P2",get:function(){return this.G2}},{key:"X2",get:function(){return this.q2},set:function(t){this.q2=t;for(var n=0,i=this.W2;n<i.length;n++){i[n].X2=t}}}]),t}();!function(t){t.e3="YES",t.r3="v2"}(cL||(cL={}));var vL=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}($t);var lL=function(t){function n(n,i){var e,r=dL(i,n.tm,n.hN,n.yJ);return(e=t.call(this,i,r,void 0,!1,n.q_)||this).s3=void 0,e.u3=void 0,e.o3=void 0,e._a=void 0,e.a3=void 0,e.h3=void 0,e.c3=void 0,e.f3=void 0,e.v3=void 0,e.l3=void 0,e.s3=n.mJ,e.u3=n.hN,e.o3=n.yJ,e._a=n.tm,e.a3=n.kJ,e.h3=Boolean(n.gJ),e.c3=n.pJ||{},e.f3=n.AJ,e.v3=n.SJ,e.l3=n.EJ,e.d3(),e.w3(),e}S(n,t);var i=n.prototype;return i.$h=function(t){var n=!1;void 0===this.s3&&void 0!==t.mJ&&(n=!0,this.s3=t.mJ),void 0===this.o3&&void 0!==t.yJ&&(n=!0,this.o3=t.yJ),void 0===this._a&&void 0!==t.tm&&(n=!0,this._a=t.tm),void 0===this.a3&&void 0!==t.kJ&&(n=!0,this.a3=t.kJ),!this.h3&&t.gJ&&(n=!0,this.h3=t.gJ),n=this.updateCustomAttributes(t,n),void 0===this.f3&&void 0!==t.AJ&&(n=!0,this.f3=t.AJ),void 0===this.v3&&void 0!==t.SJ&&(n=!0,this.v3=t.SJ),void 0===this.l3&&void 0!==t.EJ&&(n=!0,this.l3=t.EJ),this.d3(),this.w3(),this._3(),n&&this.Js(new Py(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.pJ)for(var e=0,r=d.keys(t.pJ);e<r.length;e++){var s=r[e];void 0===this.c3[s]&&(i=!0,this.c3[s]=t.pJ[s])}return i},i.d3=function(){this._a&&!this.o3&&(this.o3=new Date(this.u3.getTime()+Gt(this._a)))},i.w3=function(){this.o3&&!this._a&&(this._a=Wt(this.o3.getTime()-this.u3.getTime()))},i._3=function(){this.Ak===1/0&&(this.o3||this._a)&&(this.Ak=dL(this.bk,this._a,this.u3,this.o3))},A(n,[{key:"u_",get:function(){var t;return this.s_||(this.s_=fg(Dy(t=this),{get content(){return t.fk},get class(){return t.mJ},get startDate(){return t.hN},get endDate(){return t.yJ},get duration(){return t.tm},get plannedDuration(){return t.kJ},get endOnNext(){return t.gJ},get scte35Cmd(){return t.AJ},get scte35Out(){return t.SJ},get scte35In(){return t.EJ},get customAttributes(){return t.pJ}})),this.s_}},{key:"mJ",get:function(){return this.s3}},{key:"hN",get:function(){return this.u3}},{key:"yJ",get:function(){return this.o3}},{key:"tm",get:function(){return this._a}},{key:"kJ",get:function(){return this.a3}},{key:"gJ",get:function(){return this.h3}},{key:"AJ",get:function(){return this.f3}},{key:"SJ",get:function(){return this.v3}},{key:"EJ",get:function(){return this.l3}},{key:"pJ",get:function(){return this.c3}}]),n}(Ly);function dL(t,n,i,e){return H(n)?t+n:e?t+(Wt(e.getTime())-Wt(i.getTime())):1/0}var wL=function(t){function n(){return t.call(this,void 0,void 0,my.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.$h=function(t,n){_L(this,gL(t),n)},i.PE=function(n){var i,e,r;i=this.wg.x_,e=n,(r=Ls(i,function(t){return t.mJ===e.mJ}))&&r.gJ&&r.$h({q_:r.q_,yJ:e.hN}),t.prototype.PE.call(this,n)},n}(uP);function _L(t,n,i){for(var e=t.wg.x_,r=function(i){var r=e[i],s=xs(n,function(t){return t.q_===r.q_});s?r.$h(s):t.yE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.hN;if(void 0!==a&&!t.uG(o.q_)){var h=i(a);t.PE(new lL(o,h))}}}function gL(t){for(var n=Pr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.q_)){var s=n.get(r.q_),u=Nr({},s,wg(r),{pJ:Nr({},s.pJ,r.pJ)});n.set(r.q_,u)}else n.set(r.q_,r),i.push(r.q_)}return i.map(function(t){return n.get(t)})}var mL=String.fromCharCode(95),yL=mL+"HLS_msn",kL=mL+"HLS_part",pL=mL+"HLS_skip",bL=function(){function t(t,n){this.c$=void 0,this.g3=void 0,this.m3=void 0,this.y3=void 0,this.b3=void 0,this.A3=void 0,this.T3=void 0,this.S3=void 0,this.E3=[],this.I3=[],this.q2=void 0,this.R3=!1,this.D3=void 0,this.N3=!1,this.C3=vO._d,this.yW=oS.SC(),this.P3=oS.SC(),this._a=void 0,this.B3=-1/0,this.cE=void 0,this.O3=void 0,this.c$=t,this.cE=n}var n=t.prototype;return n.H$=function(t){if(!t)return this.c$;var n=i.Lr(this.c$);return void 0!==t.H1&&n.searchParams.append(yL,String(t.H1)),void 0!==t.x3&&n.searchParams.append(kL,String(t.x3)),void 0!==t.TA&&n.searchParams.append(pL,t.TA),n.href},n.L3=function(t){return xs(this.E3,function(n){return n.H1===t})},n.M3=function(t){for(var n=0;n<this.E3.length;n++){var i,e=this.E3[n],r=e.hk,s=r+(null!=(i=e.tm)?i:e.P2);if(r<=t&&t<=s)return t===s&&n+1<this.E3.length?this.E3[n+1]:e}},n.I2=function(t){var n=this.U3();if(void 0!==n)return new Date(1e3*t+n)},n.R2=function(t){var n=this.U3();if(void 0!==n)return(t.getTime()-n)/1e3},n.U3=function(){for(var t=this.wJ,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.s2)return i.s2.getTime()-1e3*i.hk}},n.X3=function(t){switch(t){case cO.KJ:return this.m3;case cO.JJ:return this.y3;default:return}},n.H2=function(t){var n;void 0===this.b3&&(this.b3=null!=(n=t.w2)?n:this.H3(t));void 0===this.T3&&void 0!==t.B1&&(this.T3=t.B1),void 0===this.A3&&void 0!==t.Y0&&(this.A3=t.Y0),void 0===this.S3&&void 0!==t.O1&&(this.S3=t.O1),this.R3=t.N1,this.D3=t.C1,this.N3=t.P1,this.C3=t.f2,this.F3(t),this.z3(t);var e=xs(t.l2,function(t){return t.ds===cO.KJ}),r=xs(t.l2,function(t){return t.ds===cO.JJ});this.m3=e?{c$:e.c$,ds:e.ds,o2:t.o2}:void 0,this.y3=r?{c$:r.c$,ds:r.ds,o2:t.o2}:void 0,this.g3=i.dr()/1e3,this.P3=this.V3(),this.yW=this.W3(this.P3),this._a=this.G3(),null!=this.cE||(this.cE=t.zN)},n.V3=function(){var t,n=this.wJ;if(0===n.length)return oS.SC();var i=n[0].hk,e=n[n.length-1],r=e.hk,s=null!=(t=e.tm)?t:e.P2;return new oS([i,r+s])},n.W3=function(t){var n,i;if(0===t.L_||this.h2)return t;var e=t.zN(0),r=t.WN(0)-(null!=(n=null!=(i=this.O1)?i:this.B1)?n:0);return r<e?oS.TC(e):new oS([e,r])},n.G3=function(){return 0===this.E3.length?0:this.h2?(t=this.E3,n=function(t){var n;return null!=(n=t.tm)?n:t.P2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.H3=function(t){for(var n,i=0,e=t.wJ;i<e.length;i++){var r=e[i];if(void 0!==r.tm){var s=w.max(1,w.round(r.tm));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.F3=function(t){if(0===t.wJ.length)return Fs(this.E3),void this.q3();var n=this.Y3(t);if(n){var i,e,r;n.j3>0&&this.E3.splice(0,n.j3);var s=t.U1;if(s>0){if(s>this.E3.length)throw new vL("New playlist skips over missing segments.");var u=this.E3[s-1];if(void 0===u.tm)throw new vL("New playlist skips over an incomplete segment.");i=u.n3+u.tm,r=u.o2-t.o2,e=s;for(var o=0;o<s;o++)this.E3[o].J2()}else i=n.Q3,r=0,e=0;for(var a=0;a<t.wJ.length;a++,e++){var h=t.wJ[a],c=0===a,f=t.h2&&a===t.wJ.length-1,v=h.tm,l=h.o2+r;if(e<this.E3.length){var d=this.E3[e];0,d.H2(h,c,f)}else{var w=new fL(i,l,c,f,h);w.X2=this.q2,this.E3.push(w)}void 0!==v&&(i+=v)}}},n.Y3=function(t){if(0===this.E3.length)return{j3:0,Q3:0};var n=this.E3[0].H1,i=this.E3[this.E3.length-1].H1,e=t.wJ[0].H1-t.U1,r=t.wJ[t.wJ.length-1].H1,s=0,u=0;if(e<n)GO.j$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=Ls(t,function(t){return void 0!==t.s2});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.i2)return;if(r.s2)return[r,n];n+=null!=(e=r.tm)?e:0}return}(n.wJ);if(void 0===e)return;var r=e[0],s=e[1];if(i.o2!==r.o2)return;var u=(r.s2.getTime()-i.s2.getTime())/1e3;return i.n3+u-s}(this.E3,t))?o:(h=this.E3,c=this.b3,v=h[h.length-1],l=null!=(f=v.tm)?f:w.max(c,v.P2),v.n3+l),GO.Y$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.E3.length,this.q3()}else{0;var a=Ms(this.E3,function(t){return t.H1===e});0,u=this.E3[a].n3,a>0&&(s=a)}var h,c,f,v,l;return{j3:s,Q3:u}}GO.j$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.z3=function(t){var n=this,i=t.a2.map(pO);if(t.P1&&t._2.TA===cL.r3&&(i=this.I3.concat(i)),this.I3=gL(i),t.X1)for(var e=function(t,i){var e=i[t],r=Ms(n.I3,function(t){return t.q_===e});r>=0&&Xs(n.I3,r)},r=0,s=t.X1;r<s.length;r++)e(r,s)},n.Z3=function(t,n){if(this.q2!==t){this.q2=t;for(var i=0,e=this.E3;i<e.length;i++){e[i].X2=this.q2}}this.O3=n},n.q3=function(){this.q2=void 0,this.O3=void 0},A(t,[{key:"h2",get:function(){return Boolean(xs(this.E3,function(t){return t.F2}))}},{key:"tm",get:function(){return this._a}},{key:"xy",get:function(){return this.yW}},{key:"K3",get:function(){return this.P3}},{key:"j0",get:function(){return this.b3}},{key:"Y0",get:function(){return this.A3}},{key:"B1",get:function(){return this.h2?0:this.T3?this.T3:this.b3?3*this.b3:void 0}},{key:"O1",get:function(){var t;return null!=(t=this.S3)?t:this.A3?3*this.A3:void 0}},{key:"J3",get:function(){var t,n,i;if(!this.h2&&0!==this.E3.length){var e=this.E3[this.E3.length-1],r=null!=(t=e.tm)?t:e.P2,s=null!=(n=null!=(i=this.O1)?i:this.B1)?n:0;return e.hk+r-s}}},{key:"N1",get:function(){return this.R3}},{key:"C1",get:function(){return this.D3}},{key:"P1",get:function(){return this.N3}},{key:"f2",get:function(){return this.C3}},{key:"t4",get:function(){return void 0!==this.Y0}},{key:"n4",get:function(){if(this.h2)return!0;var t=i.dr()/1e3,n=this.C2,e=this.i4;return void 0!==n&&t-n<e}},{key:"C2",get:function(){return this.g3}},{key:"X2",get:function(){return this.q2}},{key:"i4",get:function(){var t;return null!=(t=this.b3)?t:1}},{key:"wJ",get:function(){return this.E3}},{key:"a2",get:function(){return this.I3}},{key:"e4",get:function(){return this.B3},set:function(t){this.B3=t}},{key:"zN",get:function(){return this.cE}},{key:"r4",get:function(){return this.O3}}]),t}();var AL=function(){function t(){this.s4=[],this.u4=Br()}var n=t.prototype;return n.o4=function(t){var n=this.u4.get(t);return void 0!==n&&TL(n)},n.a4=function(t){return this.c4(t).h4.Wu},n.f4=function(t){var n=this.u4.get(t);if(!n||!TL(n))throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.v4=function(t){return this.f4(t)._b},n.l4=function(t,n){var i=hL(n)?n:n.L2,e=this.f4(i.o2),r=t.Xy(e._b);if(e.d4){var s=ik.Wp(n.hk).Kk(r);if(s.jk().Fk(ok)){var u=w.round(s.Hk()/uk.Hk());r=r.Xy(uk.Ep(u))}}return r},n.w4=function(t,n){return this.l4(t,n).Kk(t)},n._4=function(t,n,i,e,r){var s=this.c4(t);void 0===s._b&&(s.g4.some(function(t){return t.m4===n})||(s.g4.push({m4:n,y4:i,b4:e.Up(i.Bp),d4:r}),this.A4(s)))},n.A4=function(t){if(!t._b&&this.T4(t)){var n=qs(t.g4,SL);Fs(t.g4),t._b=n.b4.Kk(n.y4),t.d4=n.d4,t.h4.ju()}},n.T4=function(t){return this.s4.length>0&&this.s4.every(function(n){return t.g4.some(function(t){return t.m4===n})})},n.c4=function(t){if(this.u4.has(t))return this.u4.get(t);var n={_b:void 0,d4:!1,h4:new Wo,g4:[]};return this.u4.set(t,n),n},n.S4=function(t){var n=this;this.s4=t,this.u4.forEach(function(t){return n.A4(t)})},n.Us=function(){this.u4.forEach(function(t){return t.h4.Ws()}),this.u4.clear()},t}();function TL(t){return void 0!==t._b}function SL(t,n){return t.d4||n.d4?(i=t.y4,e=n.y4,r=i.Kk(e),i.$k()||e.$k()?r:(r.Vk(ok)?r=r.Kk(uk):r.Yk(ok.Zk())&&(r=r.Xy(uk)),r)).zk(ik.op):t.y4.zk(n.y4);var i,e,r}var EL=function(){function t(t){this.E4=[],this.I4=[],this.R4=Pr(),this.D4=new AL,this.N4=t}var n=t.prototype;return n.H2=function(t,n){if(gO(t))if(0===this.E4.length)this.C4(t);else{if(!n)return void GO.j$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.e$.H2(t)}else{if(0!==this.E4.length)return void GO.j$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.P4(t)}},n.C4=function(t){var n=this.B4(t.c$);n.H2(t);var i=this.O4(hO.Nd,n),e=this.O4(hO.Cd,n),r=new sL({c$:n.c$,YR:0,cJ:0,Z0:NaN,QF:void 0,F$:void 0,fJ:0,_1:[],b1:void 0,S1:void 0,g1:void 0,T1:void 0,A1:void 0,m1:void 0},n,[i,e]);this.E4.push(r)},n.P4=function(t){var n,i=this;(n=this.I4).push.apply(n,t.Z1);for(var e=this.x4(t),r=function(n,r){var s=r[n],u=e.filter(function(t){return function(t,n){return IL(t.ds,t.o$,n)&&(!t.h$||t.e$.c$===n.c$)}(t,s)});i.L4(s,u);var o=new sL(s,i.B4(s.c$,t.zN),u);i.E4.push(o)},s=0,u=t.K1;s<u.length;s++)r(s,u)},n.B4=function(t,n){var i=this.R4.get(t);return void 0===i&&(i=new bL(t,n),this.R4.set(t,i)),i},n.x4=function(t){for(var n=[],i=0,e=t.vT;i<e.length;i++){var r=e[i];if(void 0===r.c$)for(var s=0,u=t.K1;s<u.length;s++){var o=u[s];if(IL(r.ds,r.o$,o)){var a=new bO(r,this.B4(o.c$));n.push(a)}}else{var h=new bO(r,this.B4(r.c$));n.push(h)}}return n},n.O4=function(t,n){return new bO({ds:t,c$:void 0,o$:"",Z_:void 0,l1:void 0,wi:"",r$:!0,s$:!1,u$:!1,w1:void 0,a$:void 0,d1:void 0},n)},n.L4=function(t,n){var i=n.filter(function(t){return t.ds===hO.Nd}),e=n.filter(function(t){return t.ds===hO.Cd}),r=t.QF&&(t.QF.YF||t.QF.jF);if((!r||t.QF.YF)&&0===e.length){var s=this.O4(hO.Cd,this.B4(t.c$));n.push(s)}if((!r||t.QF.jF)&&0===i.length){var u=this.O4(hO.Nd,this.B4(t.c$));n.push(u)}t.QF&&t.QF.ZF},n.M4=function(t){for(var n=0,i=this.E4;n<i.length;n++)for(var e=0,r=i[n].o0;e<r.length;e++){var s=r[e];if(s===t)return s}},n.U4=function(t){for(var n=0,i=this.E4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.X4=function(t){for(var n=0,i=this.E4;n<i.length;n++){var e=i[n];if(Hs(e.o0,t))return e}},n.Us=function(){Fs(this.E4),Fs(this.I4),this.R4.clear(),this.D4.Us()},A(t,[{key:"H4",get:function(){return this.I4}},{key:"i0",get:function(){return this.E4}},{key:"rE",get:function(){return this.D4}}]),t}();function IL(t,n,i){switch(t){case hO.Nd:return i.g1===n;case hO.Cd:return i.T1===n;case hO.hA:return i.A1===n;case hO.ZJ:return i.m1===n}return!1}var RL=function(t){function n(n){var i;return(i=t.call(this,NL.F4)||this).R$=n,i}return S(n,t),n}(_u);function DL(t,n,i,e,r){var s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Dr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),nu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Dr.awrap(cu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],We)}var NL,CL=function(t){function n(n){var i;return(i=t.call(this,NL.z4)||this).R$=n,i}return S(n,t),n}(_u),PL="HlsModelUpdater";!function(t){t.F4="V4",t.z4="W4"}(NL||(NL={}));var BL=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).G4=void 0,s.q4=!1,s.Y4=void 0,s.j4=void 0,s.Q4=Br(),s.IE=n,s.Z4=i,s.K4=e,s.rootURI=r,s.G4=new EL(r),s}S(n,t);var e=n.prototype;return e.J4=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.G4.N4){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Dr.awrap(this.t6(n,{},2,t));case 5:if(_O(i=e.sent)||gO(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return _O(i)||GO.TT(PL,"Detected media playlist only HLS stream."),this.n6(i),e.next=12,Dr.awrap(this.i6(t));case 12:this.q4=!0;case 13:case"end":return e.stop()}},null,this,null,We)},e.e6=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.G4.M4(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={H1:n,x3:i,TA:ML(r)},u=Gt(w.max(1,3*t.e$.i4)),o.prev=5,o.next=8,Dr.awrap(this.r6(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),nu(o.t0),this.s6(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],We)},e.u6=function(t,n){var i=this.G4.M4(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={H1:void 0,x3:void 0,TA:ML(i)},r=Gt(w.max(1,3*t.e$.i4));return this.r6(i,e,n,r)},e.o6=function(t,n){return this.Q4.has(t.Y_)||this.Q4.set(t.Y_,new Wo),eu(this.Q4.get(t.Y_).Wu,n)},e.s6=function(t){this.Js(new CL(t))},e.r6=function(t,n,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.e$.H$(n),a.prev=1,a.next=4,Dr.awrap(this.t6(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),nu(a.t0),t.e$.e4=i.dr(),a.t0;case 12:if(gO(u)){a.next=14;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.n6(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof vL&&void 0!==n.TA)){a.next=23;break}return o=Nr({},n,{TA:void 0}),a.abrupt("return",this.r6(t,o,e,r));case 23:throw a.t1;case 24:if(!this.Y4||t===this.Y4||this.Y4.e$.n4){a.next=35;break}return a.prev=25,a.next=28,Dr.awrap(this.u6(this.Y4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),nu(a.t2),this.Y4=t,this.a6();case 35:this.h6(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],We)},e.t6=function(t,n,i,e,r){var s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return GO.TT(PL,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Dr.awrap(this.Z4.c6([t]));case 4:if(s=h.sent,tu(e),void 0===s){h.next=8;break}return h.abrupt("return",rL(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),nu(h.t0);case 14:return u={dd:t,od:Sf.$n,Md:this.K4,Bd:nw.GET,ds:iw.md,Ys:e,Od:r},h.next=17,Dr.awrap(DL(function(){return a.f6(u)},e,i));case 17:return o=h.sent,h.abrupt("return",rL(o.ld,n,o.Fi));case 19:case"end":return h.stop()}},null,this,[[1,10]],We)},e.f6=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.IE.vd(t));case 2:return n=e.sent,e.next=5,Dr.awrap(n.Hl());case 5:return i=e.sent,e.abrupt("return",{Fi:i,ld:n.ld});case 7:case"end":return e.stop()}},null,this,null,We)},e.i6=function(t){var n,i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:tu(t),n=[],i=0,e=this.G4.i0;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.o0;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Dr.awrap(this.Z4.c6([o.e$.c$]));case 11:a=h.sent,tu(t),void 0===a||o.e$.n4||n.push(this.u6(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),nu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Dr.awrap(We.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],We)},e.a6=function(){for(var t=0,n=this.G4.i0;t<n.length;t++)for(var i=0,e=n[t].o0;i<e.length;i++){var r=e[i];r!==this.Y4&&(void 0!==r.e$.X2&&(r.e$.n4?this.h6(r):r.e$.q3()))}},e.h6=function(t){if(0!==t.e$.wJ.length){if(!this.Y4)return this.Y4=t,void this.Y4.e$.Z3(0,void 0);if(this.v6(this.Y4),!this.v6(t)&&void 0===t.e$.X2){var n=this.l6(t,this.Y4);GO.Y$(PL,"Assuming global timeline offset of "+n+"s for rendition "+t.e$.c$+"."),t.e$.Z3(n,void 0)}}},e.l6=function(t,n){var i;if(OL(t)){var e=t.e$.wJ[0],r=n.e$.wJ[0];return GO.Y$(PL,"Synchronizing by start of VOD: "+r.hk+" vs "+e.hk),r.hk-e.n3}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[e];if(r.o2>s.o2)i--;else if(r.o2<s.o2)e--;else if(r.i2){if(s.i2)return{segment:r,referenceSegment:s};e--}else i--}return}(t.e$.wJ,n.e$.wJ);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return GO.Y$(PL,"Synchronizing by start of discontinuity #"+o.o2+": "+o.hk+" vs "+u.hk),o.hk-u.n3}var a=LL(t.e$.wJ);if(void 0!==a){var h=LL(n.e$.wJ);if(void 0!==h)return GO.Y$(PL,"Synchronizing by PDT:",h.s2.toISOString()+" vs "+a.s2.getTime()),h.hk-a.n3-(h.s2.getTime()-a.s2.getTime())/1e3}var c=xL(n),f=xL(t),v=null!=(i=t.e$.X2)?i:0;return GO.Y$(PL,"Synchronizing by last segment:",c+" vs "+f),c-f+v},e.v6=function(t){var n=this.G4.M4(t);if(!n)return!1;if(OL(n))return!1;var i,e,r=(i=n.e$.wJ,e=this.G4.rE,Ls(i,function(t){return void 0!==t.PK&&e.o4(t.o2)}));if(void 0===r)return!1;if(n.e$.r4===r.o2)return!0;var s=this.G4.rE.l4(r.PK,r).Hk()-r.n3;return GO.Y$(PL,"Synchronize by media timestamp: "+s+"s for rendition "+t.e$.c$+"."),n.e$.Z3(s,r.o2),(void 0===this.Y4||void 0===this.Y4.e$.r4||this.Y4.e$.r4<r.o2)&&(this.Y4=n),!0},e.n6=function(t,n){var i;(this.G4.H2(t,n),gO(t)&&n)&&(this.j4=n,this.Js(new RL(n)),null==(i=this.Q4.get(n.Y_))||i.ju(),this.Q4.delete(n.Y_))},e.d6=function(t,n){var i=this.G4.U4(t);if(!i)throw new v("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.G4.i0;e<r.length;e++){var s=r[e];s.QF||(n.YF||s.D2(hO.Cd),n.jF||s.D2(hO.Nd))}i.QF=n},e.Us=function(){this.uu(),this.G4.Us(),this.Q4.forEach(function(t){return t.Ws()}),this.Q4.clear()},A(n,[{key:"w6",get:function(){return this.q4}},{key:"n0",get:function(){return this.G4}},{key:"_6",get:function(){return this.j4}}]),n}(du);function OL(t){return t.e$.h2||t.e$.f2===vO.i$}function xL(t){var n,i=t.e$.wJ[t.e$.wJ.length-1];return i.hk+(null!=(n=i.tm)?n:i.P2)}function LL(t){return Ls(t,function(t){return void 0!==t.s2})}function ML(t){if(void 0!==t.e$.C1&&!t.e$.h2&&!(void 0===t.e$.C2||i.dr()/1e3-t.e$.C2>=t.e$.C1/2))return t.e$.P1?cL.r3:cL.e3}var UL=function(){function t(t,n,i){var e=this;this.g6=void 0,this.m6=void 0,this.fD=void 0,this.y6=void 0,this.k6=void 0,this.p6=function(t){e.m6.hlsDateRange&&e.z3(t.R$)},this.m6=t,this.g6=n,this.fD=i,this.y6=new Dp,this.g6.$s(NL.F4,this.p6)}return t.prototype.z3=function(t){if(0!==t.e$.a2.length){this.k6||(this.k6=this.fD.NE(Rp.fA,void 0,void 0,void 0,void 0,my.DATE_RANGE),this.y6.P_(this.k6));_L(this.k6,t.e$.a2,function(n){var i;return null!=(i=t.e$.R2(n))?i:NaN})}},A(t,[{key:"zm",get:function(){return this.y6}}]),t}(),XL=function(t){function n(){return t.call(this,aO.VJ)||this}return S(n,t),n}(_u);var HL,FL=function(){function t(t){this.E3=[],this.jz=void 0,this.b6=void 0,this.A6=t}var n=t.prototype;return n.T6=function(t){var n;return null==(n=this.S6(t))?void 0:n.R$},n.E6=function(t){this.jz=t,this.I6()},n.R6=function(t,n,i,e,r,s){this.E3.push({H1:n,R$:t,D6:new oS([r,s]),N6:new oS([i,e])}),this.I6()},n.S6=function(t){for(var n=0,i=this.E3;n<i.length;n++){var e=i[n];if(e.N6.sN(t))return e}},n.C6=function(t){for(var n=0,i=this.E3;n<i.length;n++){var e=i[n];if(e.H1===t)return e}},n.pV=function(){var t=this.py;t.L_>0&&(this.b6=t.WN(t.L_-1))},n.I6=function(){var t=this.A6.py;this.E3=this.E3.filter(function(n){return 0!==t.nC(n.N6).L_})},A(t,[{key:"P6",get:function(){return this.jz}},{key:"py",get:function(){return t=this.A6.py,n=this.A6.OV,i=n._C(function(n,i){return t.lC(n,i,!1,!1)}),t.oC(i);var t,n,i}},{key:"wJ",get:function(){return this.E3}},{key:"B6",get:function(){return this.b6}}]),t}(),zL=function(){function t(t,n,i,e,r){var s=this;this.A6=void 0,this.O6=void 0,this.x6=void 0,this.Vi=void 0,this.L6=void 0,this.M6=void 0,this.qc=new Ks,this.U6=oS.SC(),this.X6=function(t){s.M6&&(t?eR(t)&&s.H6?s.L6.OL(s.A6.py.pC)?s.M6.ju():s.M6.Qu(t):$s(t)?s.M6.ju():s.M6.Qu(t):s.M6.ju(),s.M6=void 0)},this.Vi=t,this.x6=i,this.A6=n,this.O6=e,this.L6=r}var n=t.prototype;return n.F6=function(){if(this.z6)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.V6=function(t){this.A6!==t&&(this.F6(),this.A6=t,this.O6=new FL(t))},n.W6=function(){return this.M6?this.M6.Wu:We.resolve()},n.G6=function(t){var n,i,e=this.O6.B6,r=this.O6.py;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.ZN().hC(this.q6).kC(s))?void 0:i.sN(e))&&n},n.Y6=function(t){return this.O6.T6(t)},n.Ws=function(){this.qc.Ws(),this.qc=new Ks},n.nV=function(t){var n=this;this.F6(),this.M6=new Wo;var i=function(i){n.x6.j6(t),n.X6(i)};this.iV(t,this.qc.Ys).then(i,i)},n.iV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return GO.Y$("Buffering","Appending initializer",mO(t.Q6.c$)),i.next=3,Dr.awrap(this.A6.nV(t,n));case 3:GO.Y$("Buffering","Appended initializer",mO(t.Q6.c$)),this.O6.E6(t);case 5:case"end":return i.stop()}},null,this,null,We)},n.Z6=function(t){var n=this;this.F6(),this.M6=new Wo;var i=function(i){n.x6.j6(t),n.X6(i)};this.K6(t,this.qc.Ys).then(i,i)},n.K6=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.R$,r=t.H1,void 0!==e.e$.j0){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.O6.py.qN,u=this.A6.py,GO.Y$("Buffering","Appending",mO(t.Q6.c$)),g.next=9,Dr.awrap(this.A6.Jz(t,n));case 9:GO.Y$("Buffering","Appended",mO(t.Q6.c$),s,this.O6.py.qN),o=t.hk,a=o+t.tm,h=t.Q6,c=h.hk,f=h.hk+(null!=(i=h.tm)?i:0),this.O6.R6(e,r,o,a,c,f),l=this.A6.py.hC(u),(d=this.O6.C6(r-1))?this.J6(d)?0===l.L_?Boolean(this.t5.C6(r))||(w=this.A6.OV.nC(new oS([o,a])),this.U6=this.U6.oC(w)):(this.U6=this.U6.hC(new oS([l.zN(0),a])),l.zN(0)>o&&(this.U6=this.U6.oC(new oS([o,l.zN(0)])))):this.U6=this.U6.hC(new oS([o,a])):0===l.L_?(_=this.A6.OV.nC(new oS([o,a])),this.U6=this.U6.oC(_)):l.zN(0)>o&&(this.U6=this.U6.oC(new oS([o,l.zN(0)]))),t.Q6.F2&&this.O6.pV();case 20:case"end":return g.stop()}},null,this,null,We)},n.J6=function(t){var n=t.N6,i=n.zN(0),e=n.WN(n.L_-1),r=n.VN(0),s=n.GN(n.L_-1);return this.U6.fC(i,e,r,s)},A(t,[{key:"ds",get:function(){return this.Vi}},{key:"H6",get:function(){return this.Vi===iy.Nd||this.Vi===iy.Cd}},{key:"t5",get:function(){return this.O6}},{key:"q6",get:function(){return this.U6}},{key:"z6",get:function(){return void 0!==this.M6}}]),t}(),VL=function(){function t(t,n,i){this.n5=void 0,this.i5=t,this.IE=n,this.K4=i}var n=t.prototype;return n.e5=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.r5(n,e));case 2:return r=s.sent,s.next=5,Dr.awrap(this.i5.e5(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},n.r5=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.n5)?void 0:i.dd)===t){u.next=10;break}return GO.Y$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Dr.awrap(this.IE.vd({dd:t,od:Sf.hv,Bd:nw.GET,Ys:n,ds:iw.pd,xd:ew.Dd,Md:this.K4}));case 4:return e=u.sent,u.next=7,Dr.awrap(e.zl());case 7:r=u.sent,s=new y(r),this.n5={dd:t,Fi:s};case 10:return u.abrupt("return",this.n5.Fi);case 11:case"end":return u.stop()}},null,this,null,We)},t}(),WL=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.IE=t,this.Z4=n,this.s5=i,this.K4=e,this.u5=r}var n=t.prototype;return n.vd=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.o5(t,n,i,Sf.hv,e));case 2:return r=s.sent,s.t0=y,s.next=6,Dr.awrap(r.zl(e));case 6:return s.t1=s.sent,s.abrupt("return",new s.t0(s.t1));case 8:case"end":return s.stop()}},null,this,null,We)},n.a5=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.o5(t,n,i,Sf.vv,e));case 2:return r=s.sent,s.abrupt("return",r.Vl(e));case 4:case"end":return s.stop()}},null,this,null,We)},n.o5=function(t,n,i,e,r){var s,u,o,a,h=this;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t._J&&0===(s=wO(t._J.zN,t._J.L_))[0]&&s[1]===xt&&(s=void 0),u=s?{Range:"bytes="+s[0]+"-"+s[1]}:void 0,o=new uw({dd:t.Ai,od:e,ud:u,Md:this.K4,Bd:nw.GET,ds:n,xd:i,Ld:this.s5,Ys:r}),c.prev=3,c.next=6,Dr.awrap(this.Z4.h5(t.Ai,s));case 6:if(a=c.sent,tu(r),void 0===a){c.next=10;break}return c.abrupt("return",new sw({vd:o,Fi:a.buffer}));case 10:c.next=16;break;case 12:c.prev=12,c.t0=c.catch(3),nu(c.t0);case 16:return c.next=18,Dr.awrap(DL(function(){return eu(h.IE.vd(o),o.Ys)},r,this.u5));case 18:return c.abrupt("return",c.sent);case 19:case"end":return c.stop()}},null,this,[[3,12]],We)},t}(),GL=function(){function t(t,n){this.g6=void 0,this.c5=void 0,this.f5=void 0,this.v5=new Ks,this.GG=-1/0,this.l5=!1,this.g6=t,this.c5=n,this.d5()}var n=t.prototype;return n.w5=function(){return this.c5.e$.N1},n._5=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.w5()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Dr.awrap(this.g5());case 5:return tu(e),r.next=8,Dr.awrap(this.g6.e6(this.c5,t,n,e));case 8:this.GG=i.dr(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),$s(r.t0)&&this.d5(),r.t0;case 15:this.d5();case 16:case"end":return r.stop()}},null,this,[[2,11]],We)},n.m5=function(t){return this.g6.o6(this.c5,t)},n.d5=function(){var t=this;if(!this.f5&&!this.l5){var n=function(){t.f5=void 0};this.f5=this.y5(this.v5.Ys).then(n,n)}},n.g5=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.f5){t.next=6;break}return this.v5.Ws(),this.v5=new Ks,t.next=5,Dr.awrap(this.f5.catch(K));case 5:this.f5=void 0;case 6:case"end":return t.stop()}},null,this,null,We)},n.y5=function(t){var n,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.c5.e$.h2||!this.c5.e$.n4){r.next=3;break}return r.abrupt("return");case 3:if(n=i.dr()-this.GG,e=1e3*this.c5.e$.i4,!(n<e)){r.next=8;break}return r.next=8,Dr.awrap(cu(e-n,t));case 8:return r.prev=8,r.next=11,Dr.awrap(this.g6.u6(this.c5,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),nu(r.t0),this.g6.s6(this.c5),r.t0;case 18:this.GG=i.dr(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],We)},n.Us=function(){this.l5=!0,au(this.g5())},t}();!function(t){t[t.KJ=0]="KJ",t[t.JJ=1]="JJ",t[t.yd=2]="yd",t[t.kd=3]="kd"}(HL||(HL={}));var qL="AssetExtractor",YL=function(){function t(){this.k5=[]}var n=t.prototype;return n.p5=function(t,n,i){for(var e=n,r=0,s=this.k5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.zN)return!1;if(e<u.WN){if(i<=u.WN)return!0;e=u.WN}}return e>=t},n.b5=function(t,n){for(var i=[],e=0;e<this.k5.length;e+=1){var r=this.k5[e],s=t-r.zN,u=r.Fi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),h=Xo(r.Fi,o,a);h.length&&(e=this.A5(e,r,t,o,a),i.push(h))}return i},n.T5=function(t,n){this.k5.push({zN:t,WN:t+n.length,Fi:n})},n.A5=function(t,n,i,e,r){var s=t;this.k5.splice(s,1),s-=1,n.zN<i&&(s+=1,this.k5.splice(s,0,{zN:n.zN,WN:i,Fi:Xo(n.Fi,0,e)}));var u=i+r-e;return u<n.WN&&(s+=1,this.k5.splice(s,0,{zN:u,WN:n.WN,Fi:Xo(n.Fi,r)})),s},t}(),jL=function(){function t(t,n){this.Iv=void 0,this.S5=n,this.Iv=t.getReader()}var n=t.prototype;return n.E5=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Iv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.S5=1/0,new v("No more data can be read from the given stream.");case 6:return this.S5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,We)},n.I5=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Iv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"R5",get:function(){return this.S5}}]),t}(),QL=function(){function t(t,n,i,e){this.z2=void 0,this.Iv=void 0,this.D5=void 0,this.N5=void 0,this.C5=void 0,this.P5=void 0,this.B5=new Wo,this.z2=t,this.Iv=n,this.D5=i,this.N5=e,this.C5=new Wo,this.P5=new Wo}var n=t.prototype;return n.O5=function(){this.P5.ju(),this.P5=new Wo},n.x5=function(t){var n=KL(this.z2._J),i=n.L5,e=n.M5,r=this.D5.b5(i,e-i);GO.Y$(qL,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l;return Dr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Dr.awrap(this.C5.Wu);case 2:n=KL(this.z2._J),i=n.L5,e=n.M5,d.prev=3;case 4:return r=this.Iv.R5,d.next=8,Dr.awrap(this.Iv.E5());case 8:if(s=d.sent,u=s.length,GO.Y$(qL,"Read "+u+" at "+r+" for extraction of "+mO(this.z2)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Xo(s,0,a),c=Xo(s,a),GO.Y$(qL,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+mO(this.z2)),this.D5.T5(r,h),!(c.length>0)){d.next=23;break}return GO.Y$(qL,"Extracting "+c.length+" bytes for extraction of "+mO(this.z2)),t.enqueue(c),this.O5(),d.abrupt("return",au(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return GO.Y$(qL,"Extracting the read data range for extraction of "+mO(this.z2)),t.enqueue(s),this.O5(),d.abrupt("return",au(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Xo(s,0,f=e-r),l=Xo(s,f),v.length>0&&(GO.Y$(qL,"Extracting "+v.length+" bytes for extraction of "+mO(this.z2)),t.enqueue(v)),GO.Y$(qL,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+mO(this.z2)),this.D5.T5(r+f,l),GO.Y$(qL,"Extraction of "+mO(this.z2)+" completed as the entire request has been fulfilled."),this.U5(t),!this.N5){d.next=45;break}return GO.Y$(qL,"Aborting stream upstream as no more bytes are needed from "+mO(this.z2)+"."),d.next=45,Dr.awrap(this.Iv.I5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),GO.Y$(qL,"Extraction of "+mO(this.z2)+" completed as the entire source stream has been read."),this.U5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],We)},n.U5=function(t){t.close(),this.O5(),this.B5.ju()},n.start=function(t){GO.Y$(qL,"Preparing to push all collected data to controller for extraction of "+mO(this.z2)),this.x5(t),GO.Y$(qL,"Collected data pushed to controller for extraction of "+mO(this.z2));var n=KL(this.z2._J).M5;this.Iv.R5>=n?(GO.Y$(qL,"Extraction of "+mO(this.z2)+" completed as the entire request has been fulfilled."),this.U5(t)):(GO.Y$(qL,"Continuing read from original stream for extraction of "+mO(this.z2)),au(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.C5.ju(),this.C5=new Wo,this.P5.Wu},A(t,[{key:"X5",get:function(){return this.B5.Wu}}]),t}(),ZL=function(){function t(t,n){this.D5=void 0,this.H5=void 0,this.F5=void 0,this.z2=n;var i=KL(this.z2._J).L5;this.H5=new jL(t,i),this.D5=new YL}var n=t.prototype;return n.Hy=function(t){if(!yO(this.z2,t))return!1;var n=KL(t._J),i=n.L5,e=n.M5;return this.D5.p5(this.H5.R5,i,e)},n.z5=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.H5,e=this.D5,GO.TT(qL,"Extracting data from "+mO(t)+" out of "+mO(this.z2)),!this.F5){s.next=8;break}return GO.Y$(qL,"Awaiting previous extraction before extracting "+mO(t)+" out of "+mO(this.z2)),s.next=8,Dr.awrap(this.F5);case 8:if(this.Hy(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new QL(t,i,e,n),this.F5=r.X5,s.abrupt("return",new cd(r));case 13:case"end":return s.stop()}},null,this,null,We)},t}();function KL(t){if(t){var n=t.zN;return{L5:n,M5:void 0!==t.L_?n+t.L_:xt}}return{L5:0,M5:xt}}var JL,$L=function(){function t(t,n){this.qc=new Ks,this.V5=void 0,this.z2=t,this.W5=n,this.V5=this.Kh()}var n=t.prototype;return n.Kh=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.W5.a5(this.z2,iw.kd,ew._d,this.qc.Ys));case 2:return t=n.sent,n.abrupt("return",new ZL(t,this.z2));case 4:case"end":return n.stop()}},null,this,null,We)},n.Hy=function(t){return yO(this.z2,t)},n.z5=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Dr.awrap(this.V5);case 3:return i=e.sent,e.next=6,Dr.awrap(eu(i.z5(t,n),this.qc.Ys));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,We)},n.Ws=function(){this.V5.catch(K),this.qc.Ws()},t}(),tM=function(t){function n(n,i,e){var r;return(r=t.call(this,JL.q5)||this).G5=n,r.Ld=i,r.Y5=e,r}return S(n,t),n}(_u),nM="HlsPlaylistDownloader";!function(t){t.q5="segmentdownloaded"}(JL||(JL={}));var iM=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).Vi=void 0,h.g6=void 0,h.x6=void 0,h.W5=void 0,h.j5=void 0,h.c5=void 0,h.Q5=void 0,h.Z5=void 0,h.K5=void 0,h.J5=new Ks,h.t8=void 0,h.n8=void 0,h.i8=void 0,h.e8=void 0,h.r8=function(t){h.Z5&&(h.c5=h.Z5,h.Z5=void 0,h.t8=void 0,h.n8=void 0),h.K5&&(t&&!$s(t)?h.K5.Qu(t):h.K5.ju(),h.K5=void 0)},h.Vi=n,h.g6=e,h.x6=r,h.c5=i,h.Q5=new GL(e,i),h.j5=new VL(o,s,a),h.W5=new WL(s,u,function(t){switch(t){case hO.Cd:return rw.Cd;case hO.Nd:return rw.Nd;case hO.hA:case hO.ZJ:return rw.$n;default:return rw._d}}(i.ds),a),h}S(n,t);var e=n.prototype;return e.s8=function(t){this.Q5.Us(),this.Q5=new GL(this.g6,t),this.z6?this.Z5=t:(this.c5=t,this.t8=void 0,this.n8=void 0)},e.W6=function(){return this.K5?this.K5.Wu:We.resolve()},e.u8=function(){return this.x6.u8()},e.o8=function(t){this.x6.o8(t)},e.Ws=function(){var t,n;this.J5.Ws(),this.J5=new Ks,null==(t=this.e8)||t.Ws(),null==(n=this.i8)||n.Ws(),this.e8=void 0,this.i8=void 0,this.t8=void 0,this.n8=void 0},e.Us=function(){this.Q5.Us()},e.a8=function(t){var n=this.c5.e$.M3(t);if(!n)return!1;if(void 0!==this.t8){var i=n.H1===this.t8;return void 0!==this.n8?n.Q2(t)===n.j2(this.n8)&&i:i}return!1},e.h8=function(t){var n;if(void 0===this.t8)n=this.c8(t);else if(n=this.f8(this.t8,this.n8)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).hk,u=3*this.R$.e$.j0;w.abs(s-t)>=u&&(n=this.c8(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.M2)&&void 0!==a.tm?[a,void 0]:[a,h]}},e.c8=function(t){var n,i,e,r=this.c5.e$.wJ;if(0!==r.length){var s=r[r.length-1];if(s.hk+(null!=(n=s.tm)?n:s.P2)<=t)i=s,e=s.K2(t);else if(r[0].hk>t)e=(i=r[0]).j2(0);else{var u;e=null==(u=i=this.c5.e$.M3(t))?void 0:u.K2(t)}return i?[i,e]:void 0}},e.f8=function(t,n){var i,e,r;if((i=this.c5.e$.L3(t))&&void 0!==n){if(0===i.n2.length)return[i,void 0];e=i.j2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.c5.e$.L3(t+1))?void 0:r.j2(0));return i?[i,e]:void 0},e.F6=function(){if(this.z6)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.v8=function(t){this.F6(),this.K5=new Wo,this.l8(t,this.J5.Ys).then(this.r8,this.r8)},e.d8=function(){this.Q5.d5()},e.l8=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.h8(t))||!this.Q5.w5()||void 0===this.t8){e.next=5;break}return e.next=4,Dr.awrap(this.Q5._5(void 0===this.n8?this.t8+1:this.t8,void 0!==this.n8?this.n8+1:void 0,n));case 4:i=this.h8(t);case 5:if(i||!this.Q5.w5()||void 0===this.t8){e.next=9;break}return e.next=8,Dr.awrap(this.Q5._5(this.t8+1,0,n));case 8:i=this.h8(t);case 9:if(i){e.next=16;break}return GO.TT(nM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Dr.awrap(this.Q5.m5(n));case 13:i=this.h8(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,We)},e.w8=function(){return this.x6._8()},e.g8=function(){this.F6();try{var t=this.c5.e$.X3(cO.KJ);t&&this.m8(t);var n=this.c5.e$.X3(cO.JJ);n&&this.y8(n)}catch(t){throw nu(t),this.R$.e$.e4=i.dr(),this.g6.s6(this.R$),t}},e.m8=function(t){this.i8&&!this.i8.Hy(t.c$)&&(this.i8.Ws(),this.i8=void 0),this.i8||(this.i8=new $L(t.c$,this.W5))},e.y8=function(t){this.e8&&!this.e8.Hy(t.c$)&&(this.e8.Ws(),this.e8=void 0),this.e8||(this.e8=new $L(t.c$,this.W5))},e.k8=function(t,n,e){var r=this;this.F6(),GO.TT(nM,"Starting download of segment "+mO(t.c$)+" and part "+(null==n?void 0:n.M2)),this.K5=new Wo,this.p8(t,n,e,this.J5.Ys).catch(function(t){throw nu(t),r.R$.e$.e4=i.dr(),r.g6.s6(r.R$),t}).then(this.r8,this.r8)},e.p8=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=0,!t.e2){o.next=7;break}if(i&&kO(i.Q6.c$,t.e2.c$)&&t.o2===i.o2){o.next=7;break}return o.next=5,Dr.awrap(this.b8(t.e2,t,e));case 5:s=o.sent,u=s.e2.Fi.Fi.byteLength;case 7:if(s){o.next=12;break}return o.next=10,Dr.awrap(this.A8(t,n,e));case 10:s=o.sent,u=s.T8.Fi.Fi.byteLength;case 12:this.x6.S8(s),this.Js(new tM(s.ds,this.Vi,u)),GO.Y$("Buffering","Download complete",mO(null!=(r=null==n?void 0:n.c$)?r:t.c$));case 15:case"end":return o.stop()}},null,this,null,We)},e.A8=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.e8){o.next=19;break}if(!this.e8.Hy(n.c$)){o.next=17;break}return o.next=5,Dr.awrap(this.e8.z5(n.c$));case 5:return r=o.sent,o.t0=y,o.next=9,Dr.awrap(Ld(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Dr.awrap(this.e5(s,n.Z1,i));case 13:u=o.sent,e=sM(n,u),o.next=19;break;case 17:this.e8.Ws(),this.e8=void 0;case 19:if(e){o.next=24;break}return GO.Y$("Buffering","Start download",mO(n.c$)),o.next=23,Dr.awrap(this.E8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return GO.Y$("Buffering","Start download",mO(t.c$)),o.next=29,Dr.awrap(this.I8(t,i));case 29:e=o.sent;case 30:return this.t8=t.H1,this.n8=null==n?void 0:n.M2,o.abrupt("return",{ds:"T8",H1:t.H1,T8:e,R$:this.c5,o2:t.o2});case 33:case"end":return o.stop()}},null,this,null,We)},e.b8=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.i8){a.next=17;break}if(!this.i8.Hy(t.c$)){a.next=14;break}return a.next=4,Dr.awrap(eu(this.i8.z5(t.c$),i));case 4:return s=a.sent,a.t0=y,a.next=8,Dr.awrap(Ld(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Dr.awrap(this.e5(u,t.J1?[t.J1]:[],i));case 12:o=a.sent,e=eM(t,n,o);case 14:GO.TT(nM,"MAP is required for segment, downloading MAP data."),null==(r=this.i8)||r.Ws(),this.i8=void 0;case 17:if(e){a.next=22;break}return GO.Y$("Buffering","Start download",mO(t.c$)),a.next=21,Dr.awrap(this.R8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{ds:"e2",e2:e,hk:n.hk,o2:n.o2,Z1:n.Z1});case 23:case"end":return a.stop()}},null,this,null,We)},e.R8=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.W5.vd(t.c$,iw.yd,ew.bd,i));case 2:return e=u.sent,r=t.J1?[t.J1]:[],u.next=6,Dr.awrap(this.e5(e,r,i));case 6:return s=u.sent,u.abrupt("return",eM(t,n,s));case 8:case"end":return u.stop()}},null,this,null,We)},e.I8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.c$){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Dr.awrap(this.W5.vd(t.c$,iw.yd,ew._d,n));case 4:return i=r.sent,r.next=7,Dr.awrap(this.e5(i,t.Z1,n));case 7:return e=r.sent,r.abrupt("return",rM(t,e));case 9:case"end":return r.stop()}},null,this,null,We)},e.E8=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.W5.vd(t.c$,iw.yd,ew._d,n));case 2:return i=r.sent,r.next=5,Dr.awrap(this.e5(i,t.Z1,n));case 5:return e=r.sent,r.abrupt("return",sM(t,e));case 7:case"end":return r.stop()}},null,this,null,We)},e.e5=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=xs(n,function(t){return t.Bd===fO.$J})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.c$&&e.E1){r.next=6;break}return GO.bu(nM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Dr.awrap(this.j5.e5(t,e.c$,e.E1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,We)},A(n,[{key:"z6",get:function(){return void 0!==this.K5}},{key:"R$",get:function(){var t;return null!=(t=this.Z5)?t:this.c5}},{key:"D8",get:function(){if(!this.c5.e$.h2)return!1;if(void 0===this.t8)return!1;var t=this.c5.e$.wJ[this.c5.e$.wJ.length-1];return t.H1===this.t8&&!(this.n8&&this.n8!==t.n2.length-1)}}]),n}(du);function eM(t,n,i){return{Fi:{Fi:i,ds:AD.tH},ds:HL.KJ,Q6:t,o2:n.o2}}function rM(t,n){return{Fi:{Fi:n,ds:AD.tH},ds:HL.yd,Q6:t,o2:t.o2}}function sM(t,n){return{Fi:{Fi:n,ds:AD.tH},ds:HL.JJ,Q6:t,o2:t.L2.o2}}var uM,oM=function(){function t(){this.N8=[],this.C8=Pr(),this.P8=void 0,this.B8=void 0}var n=t.prototype;return n.S8=function(t){"e2"===t.ds&&(this.B8=t.e2),this.N8.push(t),this.P8&&(this.P8.ju(),this.P8=void 0)},n.u8=function(){return this.N8[0]},n.o8=function(t){Us(this.N8,t)},n._8=function(){return null!=this.P8||(this.P8=new Wo),this.P8.Wu},n.O8=function(t){this.x8(t.m4).O8(t)},n.L8=function(t){return this.x8(t).L8()},n.j6=function(t){this.x8(t.m4).j6(t)},n.M8=function(t){var n;null==(n=this.C8.get(t))||n.Us()},n.U8=function(t){return this.x8(t).U8()},n.x8=function(t){if(this.C8.has(t))return this.C8.get(t);var n=new aM;return this.C8.set(t,n),n},n.Bu=function(){this.X8(),this.H8()},n.X8=function(){this.B8=void 0,Fs(this.N8)},n.H8=function(){this.C8.forEach(function(t){return t.Bu()})},n.Us=function(){this.C8.forEach(function(t){return t.Us()}),this.C8.clear(),this.Bu(),this.P8&&(this.P8.Qu(new Js),this.P8=void 0)},A(t,[{key:"P6",get:function(){return this.B8}},{key:"F8",get:function(){for(var t=oS.SC(),n=0,i=this.N8;n<i.length;n++){var e=i[n];if("T8"===e.ds){var r,s=e.T8.Q6;t=t.oC(new oS([s.hk,s.hk+(null!=(r=s.tm)?r:0)]))}}return t}},{key:"z8",get:function(){var t=oS.SC();return this.C8.forEach(function(n){t=t.oC(n.z8)}),t}}]),t}(),aM=function(){function t(){this.V8=[],this.W8=void 0}var n=t.prototype;return n.O8=function(t){this.V8.push(t),this.W8&&(this.W8.ju(),this.W8=void 0)},n.L8=function(){return this.V8[0]},n.j6=function(t){Us(this.V8,t)},n.U8=function(){return null!=this.W8||(this.W8=new Wo),this.W8.Wu},n.Bu=function(){Fs(this.V8)},n.Us=function(){this.Bu(),this.W8&&(this.W8.Qu(new Js),this.W8=void 0)},A(t,[{key:"z8",get:function(){for(var t=oS.SC(),n=0,i=this.V8;n<i.length;n++){var e=i[n];"T8"===e.ds&&(t=t.oC(new oS([e.hk,e.hk+e.tm])))}return t}}]),t}(),hM=function(){function t(t,n){this.G8=void 0,this.D4=void 0,this.q8=oS.SC(),this.G8=t,this.D4=n}var n=t.prototype;return n.nV=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Fi.Fi,this.Y8(i),this.G8.ds!==my.TTML){u.next=8;break}if(this.D4.o4(t.o2)){u.next=6;break}return u.next=6,Dr.awrap(eu(this.D4.a4(t.o2),n));case 6:for(e=this.j8(i,t.o2),r=0;r<e.length;r++)s=e[r],this.G8.PE(s);case 8:case"end":return u.stop()}},null,this,null,We)},n.Jz=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Fi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.hk,e=i+t.tm,this.q8=this.q8.oC(new oS([i,e])).uC(1e-6),this.D4.o4(t.o2)){r.next=8;break}return r.next=8,Dr.awrap(eu(this.D4.a4(t.o2),n));case 8:this.tV(t.Fi.Fi,t.o2,t.Q6);case 9:case"end":return r.stop()}},null,this,null,We)},n.tV=function(t,n,i){this.Y8(t);for(var e=0,r=this.G8.ds===my.WEBVTT?this.Q8(t,i):this.j8(t,n);e<r.length;e++){var s=r[e];this.G8.PE(s)}},n.Q8=function(t,n){for(var i,e,r=(void 0===e&&(e=vk),pk(Po(xo(t),new zo),e)),s=r.wg,u=null!=(i=r.yb)?i:{kb:ik.op,pb:ik.op},o=0;o<s.length;o++){var a=s[o],h=ik.Wp(a.hk).Kk(u.pb).Xy(u.kb),c=this.D4.l4(h,n).Hk(),f=c+(a.ck-a.hk);a.hk=c,a.ck=f}return s},n.j8=function(t,n){var i=this.D4.v4(n).Hk();return wp(t,this.G8,{vb:0,wb:1/0,_b:i},Dc.APPLICATION_MP4)},n.Y8=function(t){this.G8.ds===my.DEFAULT&&(this.G8.ds=this.Z8(t)?my.WEBVTT:my.TTML)},n.Z8=function(t){return Pk(Po(Oo(xo(t),0,w.min(t.byteLength,7)),new zo))},n.RV=function(t,n){},n.DV=function(t,n){},A(t,[{key:"py",get:function(){return this.q8}},{key:"OV",get:function(){return oS.SC()}}]),t}(),cM=function(t){function n(n,i){var e;return(e=t.call(this,uM.K8)||this).R$=n,e.QF=i,e}return S(n,t),n}(_u),fM=function(t){function n(n){var i;return(i=t.call(this,uM.J8)||this).R$=n,i}return S(n,t),n}(_u);!function(t){t.K8="t9",t.J8="n9"}(uM||(uM={}));var vM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).c5=void 0,s.x6=void 0,s.D4=void 0,s.i9=void 0,s.e9=void 0,s.qc=new Ks,s.r9=function(t){s.e9&&(t&&!$s(t)?s.e9.Qu(t):(s.e9.ju(),s.e9=void 0))},s.c5=n,s.x6=i,s.D4=e,s.i9=r,s}S(n,t);var i=n.prototype;return i.s8=function(t){this.c5!==t&&(this.Ws(),this.c5=t)},i.s9=function(t){for(var n=0,i=this.i9;n<i.length;n++){var e=i[n];Hs(t,e)||this.x6.M8(e)}this.i9=t},i.W6=function(){var t,n;return null!=(t=null==(n=this.e9)?void 0:n.Wu)?t:We.resolve()},i.F6=function(){if(this.z6)throw new v("Cannot perform new operation while transmuxer is still busy")},i.u9=function(t){var n=this;this.F6(),this.e9=new Wo;var i=function(i){n.x6.o8(t),n.r9(i)};this.o9(t,this.qc.Ys).then(i,i)},i.a9=function(t){var n=this;this.F6(),this.e9=new Wo;var i=function(i){n.x6.o8(t),n.r9(i)};this.h9(t,this.qc.Ys).then(i,i)},i.c9=function(t){this.Js(new cM(this.c5,t))},i.f9=function(){this.Js(new fM(this.c5))},i.O8=function(t){Hs(this.i9,t.m4)&&this.x6.O8(t)},i.v9=function(t){return this.x6.L8(t)},i.j6=function(t){this.x6.j6(t)},i.l9=function(t){return this.x6.U8(t)},i.Ws=function(){this.qc.Ws(),this.qc=new Ks},A(n,[{key:"R$",get:function(){return this.c5}},{key:"d9",get:function(){return this.i9}},{key:"z6",get:function(){return void 0!==this.e9}}]),n}(du);function lM(t){return function(t){return hL(t)?t.i3:0===t.M2&&t.L2.i3}(t)?0:t.hk}var dM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.o9=function(t,n){tu(n);var i={ds:"w9",Fi:t.e2.Fi,m4:this.d9[0],o2:t.o2,_9:{QF:"",Z1:t.Z1},hk:t.hk,R$:this.R$,Q6:t.e2.Q6};return this.O8(i),We.resolve()},i.h9=function(t,n){var i;tu(n);var e=t.T8.Q6,r={ds:"T8",Fi:t.T8.Fi,m4:this.d9[0],H1:t.H1,g9:lM(e),hk:e.hk,tm:null!=(i=e.tm)?i:0,_b:0,o2:t.o2,R$:t.R$,Q6:t.T8.Q6};return this.O8(r),We.resolve()},n}(vM),wM=function(){function t(t,n,i,e){this.m9=[],this.y9=t,this.x6=n,this.k9=i,this.HC=e}var n=t.prototype;return n.s8=function(t){this.y9.s8(t)},n.p9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.m9[t];if(!e.H6)throw new v("Invalid state");var r=Ms(i,function(t){return t.ds===e.ds});r>=0?(e.V6(i[r]),Xs(i,r)):Xs(n.m9,t)},r=this.m9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new FL(u);this.m9.push(new zL(u.ds,u,this.x6,o,this))}i.length>0&&this.x6.Bu();var a=t.map(function(t){return t.ds});this.k9.s9(a)},n.OL=function(t){var n,i=(null==(n=this.HC)?void 0:n.OL(t))||!1;return i&&(this.Ws(),this.b9.Bu()),i},n.A9=function(t){for(var n=0,i=this.m9;n<i.length;n++){var e=i[n];if(e.ds!==iy.$n||e.z6)throw new v("Invalid state")}var r=new FL(t),s=new zL(iy.$n,t,this.x6,r,this);this.m9=[s]},n.T9=function(){for(var t=0,n=this.m9;t<n.length;t++){n[t].t5.I6()}},n.S9=function(t){var n=this.E9.kC(t,.001);return n?n.WN(n.L_-1):t},n.a8=function(t){return!!this.E9.kC(t,.001)||this.y9.a8(t)},n.I9=function(t){return this.R9.sN(t,.001)},n.D9=function(t,n,i){for(var e=0,r=this.m9;e<r.length;e++){var s=r[e].t5,u=s.B6;if(void 0!==u&&n>=u)return!s.py.ZN().sN(u)}return n-t<i},n.Ws=function(){this.N9(),this.C9()},n.N9=function(){this.P9.Ws()},n.C9=function(){this.B9.Ws(),this.O9.forEach(function(t){return t.Ws()})},n.Us=function(){this.Ws(),this.P9.Us()},A(t,[{key:"O9",get:function(){return this.m9}},{key:"P9",get:function(){return this.y9}},{key:"B9",get:function(){return this.k9}},{key:"b9",get:function(){return this.x6}},{key:"R$",get:function(){return this.y9.R$}},{key:"P6",get:function(){var t=this.x6.P6;if(t)return t;if(this.m9.length>0){var n=this.m9[0].t5.P6;if(n&&this.m9.every(function(t){return t.t5.P6===n}))return n}}},{key:"E9",get:function(){if(0===this.m9.length)return oS.SC();for(var t=this.x6.F8.oC(this.x6.z8).ZN(),n=new oS([0,1/0]),i=0,e=this.m9;i<e.length;i++){for(var r=e[i],s=r.t5.py,u=r.t5.wJ,o=r.q6,a=0;a<u.length;a++)for(var h=u[a],c=h.D6.hC(h.N6),f=0;f<c.L_;f++)t.lC(c.zN(f),c.WN(f),!0,!0)&&(s=s.oC(c.yC(f)));n=n.nC(s).hC(o)}return n=n.oC(t)}},{key:"R9",get:function(){if(0===this.m9.length)return oS.SC();for(var t=this.x6.z8.ZN(),n=new oS([0,1/0]),i=0,e=this.m9;i<e.length;i++){for(var r=e[i],s=r.t5.py,u=r.t5.wJ,o=0;o<u.length;o++)for(var a=u[o],h=a.D6.hC(a.N6),c=0;c<h.L_;c++)t.lC(h.zN(c),h.WN(c),!0,!0)&&(s=s.oC(h.yC(c)));n=n.nC(s)}return n=n.oC(t)}}]),t}();var _M=function(t){function n(){return t.call(this,aO.qJ)||this}return S(n,t),n}(_u),gM=function(t){function n(){return t.call(this,aO.WJ)||this}return S(n,t),n}(_u),mM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Bc=void 0,e.A6=void 0,e.x9=new Wo,e.RL=sR,e.L9=!1,e.DL=$I,e.TV=new ID,e.Vi=n,e.M9=i,e}S(i,t);var e=i.prototype;return e.QX=function(){return this.A6?this.A6.QX():this.L9},e.RV=function(t,n){GO.Y$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.TV.uH(t,n),this.A6&&this.A6.RV(t,n)},e.DV=function(t,n){GO.Y$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.TV.oH(t,n),this.A6&&this.A6.DV(t,n)},e.U9=function(t){this.A6=t,this.A6.TL=this.DL,this.A6.kL=this.RL;for(var n,i=this.TV.aH,e=0;e<i.L_;e++)this.A6.RV(i.zN(e),i.WN(e));this.L9&&(GO.Y$("LazyMediaBuffer","End of stream"),null==(n=this.A6)||n.pV());this.A6.$s(mD.JX,this.Ks),this.x9.ju(t)},e.X9=function(t){return eu(this.x9.Wu,t)},e.Jz=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.X9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Jz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.NV=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.X9());case 2:return t=n.sent,n.next=5,Dr.awrap(t.NV());case 5:case"end":return n.stop()}},null,this,null,We)},e.nV=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.X9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.nV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.Jh=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.X9(i));case 2:return e=r.sent,r.next=5,Dr.awrap(e.Jh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,We)},e.hV=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.X9());case 2:return i=e.sent,e.next=5,Dr.awrap(i.hV(t,n));case 5:case"end":return e.stop()}},null,this,null,We)},e.pV=function(){this.L9=!0,this.A6&&this.A6.pV()},e.XX=function(t){return!!this.A6&&this.A6.XX(t)},e.HX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.X9());case 2:return n=i.sent,i.next=5,Dr.awrap(n.HX(t));case 5:case"end":return i.stop()}},null,this,null,We)},e.Jc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.uu(),null==(t=this.A6)||t.ou(mD.JX,this.Ks);case 2:case"end":return n.stop()}},null,this,null,We)},A(i,[{key:"Wl",get:function(){return this.Bc}},{key:"BV",get:function(){return this.Vi}},{key:"hc",get:function(){if(!this.A6)throw new tf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.A6.hc}},{key:"kL",get:function(){return this.RL},set:function(t){this.RL=t,this.A6&&(this.A6.kL=t)}},{key:"py",get:function(){return this.A6?this.A6.py:oS.SC()}},{key:"OV",get:function(){return this.A6?this.A6.OV:this.TV.aH}},{key:"TL",get:function(){return this.DL},set:function(t){this.DL=t,this.A6&&(this.A6.TL=t)}}]),i}(du),yM="LazyMediaSource",kM=function(){function t(t,n,i){this.H9=void 0,this.F9=void 0,this.z9=new Wo,this.vD=void 0,this.V9=!1,this._a=NaN,this.NK=!1,this.W9=0,this.G9=1/0,this.q9=!1,this.Y9=!1,this.fD=t,n&&(GO.Y$(yM,"Created lazy media buffer for audio."),this.H9=new mM(iy.Nd,this)),i&&(GO.Y$(yM,"Created lazy media buffer for video."),this.F9=new mM(iy.Cd,this))}var n=t.prototype;return n.EW=function(t){this._a=t,this.vD&&this.vD.EW(t)},n.pV=function(){this.NK=!0,this.vD&&this.vD.pV()},n.gV=function(){this.NK=!1,this.vD&&this.vD.gV()},n.DW=function(t,n,i,e){this.W9=t,this.G9=n,this.q9=Boolean(i),this.Y9=Boolean(e),this.vD&&this.vD.DW(t,n,i,e)},n.XX=function(t){return!this.vD||this.vD.XX(t)},n.HX=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.XX(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.vD){r.next=19;break}return this.fD.xj(),r.next=6,Dr.awrap(this.fD.Kh(t));case 6:e=r.sent,m(this._a)||e.EW(this._a),this.NK&&e.pV(),e.DW(this.W9,this.G9,this.q9,this.Y9),GO.Y$(yM,"The MediaSource has been loaded."),this.V9=!0,this.vD=e,null==(n=this.H9)||n.U9(this.vD.fW),null==(i=this.F9)||i.U9(this.vD.vW),this.z9.ju(e),this.fD.Lj(),r.next=21;break;case 19:return r.next=21,Dr.awrap(this.vD.HX(t));case 21:case"end":return r.stop()}},null,this,null,We)},n.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vD){t.next=3;break}return t.next=3,Dr.awrap(this.vD.Us());case 3:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"hc",get:function(){return{ds:ib.LE,NW:[],WD:[]}}},{key:"Fm",get:function(){throw new v("Not implemented")}},{key:"fW",get:function(){return this.H9}},{key:"vW",get:function(){return this.F9}},{key:"py",get:function(){return this.vD?this.vD.py:oS.SC()}},{key:"tm",get:function(){return this.vD?this.vD.tm:this._a}},{key:"QX",get:function(){return!!this.vD&&this.vD.QX}},{key:"xy",get:function(){return this.vD?this.vD.xy:new oS([0,1/0])}}]),t}();function pM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=AM(i,"tag"),a=AM(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}pM(function(t,n){return"*"===n||t===n||vs(t,n+"-")},!0),pM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var bM=pM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function AM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var TM,SM=function(t){function n(){return t.call(this,Tf.Xf)||this}return S(n,t),n}(_u),EM=function(t){function n(){return t.call(this,Tf.Uf)||this}return S(n,t),n}(_u),IM=16384,RM=71,DM=188,NM=2,CM=3;function PM(t){return BM(t)?TM.Bg:null!==GC(xo(t),new zo)?TM.j9:function(t){return function(t){if(t.length<NM*DM)return-1;for(var n=t.length<CM*DM?NM:CM,i=w.min(1e3,t.length-n*DM),e=0;e<=i;e++){for(var r=!0,s=0;s<n;s++)if(t[e+s*DM]!==RM){r=!1;break}if(r)return e}return-1}(t)>=0}(t)?TM.Q9:TM._d}function BM(t){var n=Bo(t,0,w.min(t.length,IM));return ep.WA(xo(n))}!function(t){t[t._d=0]="_d",t[t.Bg=1]="Bg",t[t.Q9=2]="Q9",t[t.j9=3]="j9"}(TM||(TM={}));var OM=function(){function t(t,n,i,e){this.Vi=void 0,this.A6=void 0,this.Z9=void 0,this.K9=void 0,this.J9=void 0,this.Vi=t,this.A6=n,this.K9=i,this.J9=e}var n=t.prototype;return n.t7=function(t){return this.A6===t},n.nV=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Dr.awrap(this.A6.nV(t.Fi,{n7:t.R$.Y_},n));case 3:this.Vi===iy.Cd&&BM(t.Fi.Fi)&&this.J9.i7(t.Fi.Fi);case 4:case"end":return i.stop()}},null,this,null,We)},n.Jz=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(tu(n),GO.TT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+mO(t.Q6.c$)),i=t.g9,e=t.hk+t.tm,r={PK:t.hk,tm:t.tm,_b:t._b,n7:t.R$.Y_},void 0===t.Fi){s.next=10;break}return s.next=9,Dr.awrap(this.A6.Jz(t.Fi,r,n));case 9:this.e7(t.Fi,t);case 10:this.r7(i,e);case 11:case"end":return s.stop()}},null,this,null,We)},n.e7=function(t,n){if(BM(t.Fi)){var i=n.hk,e=i+n.tm,r=n._b;this.K9.R6(t.Fi,i,r),this.Vi===iy.Cd&&this.J9.R6(t.Fi,i,e,r),function(t,n){if(t.L_>0)for(var i=t.zN(0),e=w.max(0,i-10),r=0;r<n.length;r++)n[r].SE(e)}(this.py,[this.K9,this.J9])}},n.r7=function(t,n){for(var i=this.A6.py,e=new oS([t,n]).hC(i),r=0;r<e.L_;r++)this.A6.RV(e.zN(r),e.WN(r));for(var s=0;s<i.L_;s++)this.A6.DV(i.zN(s),i.WN(s))},n.RV=function(t,n){this.A6.RV(t,n)},n.DV=function(t,n){this.A6.DV(t,n)},A(t,[{key:"ds",get:function(){return this.Vi}},{key:"py",get:function(){return this.A6.py}},{key:"OV",get:function(){return this.A6.OV}}]),t}(),xM=2500;var LM=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).s7=void 0,o.ke=void 0,o.u7=void 0,o.s7=e,o.ke=r,o.u7=s,o}return S(n,t),n.prototype.Dk=function(n){return this===n||dg(this,n)&&t.prototype.Dk.call(this,n)&&lg(this.fk,n.fk)},A(n,[{key:"XS",get:function(){return this.s7}},{key:"Ai",get:function(){return this.ke}},{key:"o7",get:function(){return this.u7}},{key:"u_",get:function(){var t;return this.s_||(this.s_=fg(Dy(t=this),{get schemeIDURI(){return t.XS},get value(){return t.Ai},get emsgID(){return t.o7}})),this.s_}}]),n}(Ly);function MM(t,n){return""===n?t:t+" "+n}var UM,XM,HM=function(t){function n(n){var i;return(i=t.call(this)||this).EE=void 0,i.EE=n,i}S(n,t);var i=n.prototype;return i.R6=function(t,i,e){var r=ep.zA(xo(t));if(r){var s=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Qk(r,n)&&i.push(r)}return i}(r,ak.eA);if(s.length){var u=n.a7(r,i,e);this.h7(s,u,e)}}},i.h7=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.HA?r.HS.toNumber()/r.Bp+i:n+r.VS/r.Bp)+r.FS/r.Bp;"https://aomedia.org/emsg/ID3"===r.XS?this.c7(r,s):this.f7(r,s,u)}},i.f7=function(t,n,i){var e=MM(t.XS,t.Ai),r=this.v7(e);r||(r=this.l7(e),this.d7(r)),r.PE(new LM(n,i,t.XS,t.Ai,t.q_,t.zS))},i.c7=function(t,n){var i=jC(xo(t.zS));if(i){var e=MM(t.XS,t.Ai),r=this.v7(e);r||(r=this.w7(e),this.d7(r));for(var s=0,u=i.SG;s<u.length;s++){var o=u[s],a=new sP(n,o);yC(a,r.wg.x_),r.PE(a)}}},n.a7=function(t,n,i){var e=Zk(t,ak.rA);return e?jt(e.nE,e.Bp)+i:n},i.l7=function(t){var n=this.EE.NE(Rp.fA,"","","",void 0,my.EMSG);return n.hg=t,n.cg=Rg.rg,n},i.w7=function(t){var n=this.EE.NE(Rp.fA,"","","",void 0,my.ID3);return n.hg=t,n.cg=Rg.rg,n},i.dc=function(){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.eT.x_;n<i.length;n++)e=i[n],this.EE.BE(e);return r.next=3,Dr.awrap(t.prototype.dc.call(this));case 3:case"end":return r.stop()}},null,this,null,We)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.d7=function(t){return t.dg=gy.LOADED,this.P_(t),t},i.v7=function(t){for(var n=0,i=this.eT.x_;n<i.length;n++){var e=i[n];if(e.hg===t)return e}},n}(jp));function FM(t){return"function"==typeof t.Nu}function zM(t,n,i){if(!(i&&n.byte>=i)){var e=FM(t)?t.Nu(n.byte):t[n.byte];return n.byte+=1,e}}function VM(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+zM(t,n);return e}(t,n,2)}!function(t){t[t._7=0]="_7",t[t.g7=1]="g7",t[t.m7=2]="m7",t[t.y7=3]="y7",t[t.k7=4]="k7",t[t.p7=5]="p7"}(UM||(UM={})),function(t){t[t.b7=0]="b7",t[t.A7=1]="A7",t[t.T7=2]="T7",t[t.S7=3]="S7"}(XM||(XM={}));var WM,GM=function(){function t(){this.E7=0,this.I7=[],this.hE={}}var n=t.prototype;return n.R7=function(t){this.I7=this.I7.concat(t.I7),this.E7+=t.L_},n.D7=function(t,n,i){var e=this.E7,r=i-n;r>0&&(this.I7.push({N7:n,C7:i,P7:r,B7:e,O7:t}),this.E7+=r)},n.Nu=function(t){for(var n=0,i=this.I7;n<i.length;n++){var e=i[n];if(e.B7<=t&&t<e.B7+e.P7)return e.O7[t+e.N7-e.B7]}},n.x7=function(t,n){for(var i=n,e=0,r=this.I7;e<r.length;e++)for(var s=r[e],u=s.C7,o=s.N7;o<u;o+=1,i+=1)t[i]=s.O7[o];return i},n.L7=function(){for(var t=new y(this.E7),n=0,i=0,e=this.I7;i<e.length;i++)for(var r=e[i],s=r.C7,u=r.N7;u<s;u+=1,n+=1)t[n]=r.O7[u];return t},n.Xu=function(n){for(var i=new t,e=0,r=this.I7;e<r.length;e++){var s=r[e];i.D7(s.O7,s.N7,s.C7)}return i.hE=n||Nr({},this.hE),i},A(t,[{key:"L_",get:function(){return this.E7},set:function(t){var n=this.I7,i=this.E7-t;if(!(t>=this.E7))if(this.E7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.P7)return r.C7-=i,r.P7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.P7}else n.length=0}},{key:"Fi",get:function(){for(var t=new Array(this.E7),n=0,i=0,e=this.I7;i<e.length;i++)for(var r=e[i],s=r.C7,u=r.N7;u<s;u+=1,n+=1)t[n]=r.O7[u];return t}}]),t}();function qM(t,n,i){return i===UM._7?i:n!==XM.b7&&n!==XM.A7||i!==UM.g7&&i!==UM.m7?t?n===XM.T7?UM.k7:n===XM.S7?UM.y7:UM._7:UM.p7:UM.m7}function YM(t,n,i,e){var r={byte:i},s=UM.g7,u=[],o=31&zM(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=zM(n,r,e),c=4&h,f=3&h;s=qM(Boolean(c),f,s);var v=zM(n,r,e),l=zM(n,r,e);u.push({wZ:t,SS:-1,M7:!a,U7:Boolean(c),ds:f,AQ:s,X7:v,H7:l})}return u}function jM(t,n,i){var e=zM(t,n,i);if(!m(e))return String.fromCharCode(e)}function QM(t){var n=t.F7,i={byte:t.z7},e=t.V7,r=zM(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=VM(n,i);if(s===WM.W7||s===WM.G7){if(s===WM.G7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=jM(t,n);return e}(n,i,4))return;if(3===zM(n,i,e)){s===WM.W7&&(i.byte+=1);var u=t;return u.q7=i.byte,u}}}}function ZM(t){return 4===t.Y7}function KM(t){for(var n=t.filter(ZM).map(QM).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,YM(r.j7,r.F7,r.q7,r.V7))}return i}!function(t){t[t.W7=47]="W7",t[t.G7=49]="G7"}(WM||(WM={}));var JM="und";var $M,tU=[{wi:"Abkhaz",pb:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",pb:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",pb:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",pb:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",pb:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",pb:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",pb:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",pb:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",pb:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",pb:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",pb:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",pb:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",pb:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",pb:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",pb:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",pb:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",pb:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",pb:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",pb:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",pb:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",pb:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",pb:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",pb:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",pb:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",pb:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",pb:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",pb:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",pb:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",pb:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",pb:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",pb:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",pb:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",pb:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",pb:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",pb:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",pb:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",pb:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",pb:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",pb:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",pb:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",pb:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",pb:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",pb:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",pb:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",pb:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",pb:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",pb:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",pb:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",pb:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",pb:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",pb:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",pb:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",pb:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",pb:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",pb:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",pb:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",pb:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",pb:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",pb:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",pb:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",pb:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",pb:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",pb:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",pb:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",pb:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",pb:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",pb:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",pb:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",pb:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",pb:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",pb:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",pb:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",pb:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",pb:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",pb:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",pb:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",pb:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",pb:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",pb:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",pb:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",pb:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",pb:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",pb:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",pb:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",pb:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",pb:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",pb:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",pb:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",pb:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",pb:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",pb:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",pb:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",pb:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",pb:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",pb:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",pb:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",pb:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",pb:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",pb:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",pb:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",pb:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",pb:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",pb:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",pb:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",pb:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",pb:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",pb:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",pb:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",pb:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",pb:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",pb:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",pb:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",pb:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",pb:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",pb:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",pb:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",pb:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",pb:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",pb:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",pb:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",pb:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",pb:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",pb:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",pb:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",pb:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",pb:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",pb:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",pb:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",pb:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",pb:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",pb:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",pb:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",pb:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",pb:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",pb:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",pb:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",pb:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",pb:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",pb:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",pb:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",pb:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",pb:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",pb:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",pb:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",pb:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",pb:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",pb:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",pb:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",pb:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",pb:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",pb:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",pb:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",pb:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",pb:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",pb:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",pb:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",pb:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",pb:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",pb:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",pb:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",pb:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",pb:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",pb:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",pb:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",pb:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",pb:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",pb:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",pb:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",pb:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",pb:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",pb:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",pb:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",pb:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",pb:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",pb:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",pb:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",pb:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",pb:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",pb:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",pb:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",pb:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",pb:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",pb:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",pb:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],nU=[128,64,32,16,8,4,2,1];function iU(t,n){var i=w.floor(n.bit/8),e=0==((FM(t)?t.Nu(i):t[i])&nU[n.bit%8])?0:1;return n.bit+=1,e}function eU(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+iU(t,n);return e}function rU(t,n){for(var i=0;0===iU(t,n)&&i<32;)i+=1;return eU(t,n,i)+w.pow(2,i)-1}function sU(t,n){var i=rU(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function uU(t,n){var i,e=[],r={byte:1};do{e.push(aU(t,n,r)),i=n.Nu(r.byte)}while(void 0!==i&&128!==i);return e}function oU(t,n){var i,e=0;do{e+=i=zM(t,n)}while(255===i);return e}function aU(t,n,i){var e=oU(n,i),r=oU(n,i),s=i.byte,u=s+r;return i.byte=u,{j7:t,Y7:e,Q7:r,z7:s,V7:u,F7:n}}!function(t){t[t.Z7=1]="Z7",t[t.K7=2]="K7",t[t.J7=3]="J7",t[t.ttt=4]="ttt",t[t.ntt=5]="ntt",t[t.itt=6]="itt",t[t.ett=7]="ett",t[t.rtt=8]="rtt",t[t.stt=9]="stt"}($M||($M={}));var hU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function cU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+sU(t,n)+256)%256;e=0===r?e:r}}var fU=function(){function t(t){this.utt=void 0,this.ott=[],this.att=0,this.utt=t}var n=t.prototype;return n.htt=function(){for(var t=this.ott,n=w.max(0,this.att+t.length-2),i=this.utt,e=i.L_,r=0;n<e;n+=1){var s=i.Nu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.att=n-t.length},n.ctt=function(t){for(var n=this.ott,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Nu=function(t){if(!(t>this.utt.L_))return t>this.att&&this.htt(),this.utt.Nu(this.ctt(t))},t}();var vU=24;function lU(t){var n=t.GF,i=new GM;return i.D7(Lo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new fU(t),a=0,h=0,c=0,f=0,v=o.Nu(1),l={bit:32};if(rU(o,l),100===v||110===v||122===v||144===v){var d=rU(o,l);if(3===d&&(n=iU(o,l)),rU(o,l),rU(o,l),iU(o,l),1===iU(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===iU(o,l)&&cU(o,l,_<6?16:64)}var g=rU(o,l),m=rU(o,l);if(0===m)rU(o,l);else if(1===m){iU(o,l),sU(o,l),sU(o,l);for(var y=rU(o,l),k=0;k<y;k+=1)sU(o,l)}rU(o,l),iU(o,l);var p=rU(o,l),b=rU(o,l),A=iU(o,l);if(0===A&&iU(o,l),iU(o,l),1===iU(o,l)&&(a=rU(o,l),h=rU(o,l),c=rU(o,l),f=rU(o,l)),1===iU(o,l)){if(1===iU(o,l)){var T=eU(o,l,8);if(255===T)i=eU(o,l,16),e=eU(o,l,16);else{var S=hU[T];S&&(i=S[0],e=S[1])}}1===iU(o,l)&&iU(o,l),1===iU(o,l)&&(eU(o,l,3),iU(o,l),1===iU(o,l)&&(eU(o,l,8),eU(o,l,8),eU(o,l,8))),1===iU(o,l)&&(rU(o,l),rU(o,l)),1===(r=iU(o,l))&&(s=eU(o,l,32),u=eU(o,l,32),iU(o,l))}return{width:w.floor(16*(p+1)-2*a-2*h),height:w.floor((2-A)*(b+1)*16-2*c-2*f),wS:i,_S:e,ftt:!!r&&u/(2*s),ltt:n,dtt:g}}(i).ftt}function dU(t){var n=lU(t)||vU;return t.wtt/n}function wU(t){return t.ds===ak.jb}var _U,gU=65536;function mU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.wtt,s=ft.fromNumber(t.US||0),u=e.Xy(ik.ep(s,r));return{_tt:e.Hk(),gtt:e,mtt:u,ytt:e}}(t,0,i,e),o=ik.rp(t.tm||0,i.wtt),a=t.FA||0,h=!(a&gU)&&(a>>24&3)!==_U.SAMPLE_DEPENDS_ON_OTHERS,c=xo(r),f=new zo;f.xu<c.byteLength;){var v=co(c,f);if((31&oo(c,f,1))===$M.itt){var l,d=new GM;d.D7(r,f.xu-1,f.xu+v-1);var w=uU(u.mtt,d);(l=s=s||[]).push.apply(l,KM(w))}f.Lu(v-1)}return Nr({},u,{tm:o.Hk(),ktt:o,ptt:u.mtt.Hk(),btt:u._tt,Att:h,Ttt:s,Stt:!1,Ett:!1})}function yU(t){return t.ds===ak.bb}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(_U||(_U={}));var kU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Ly),pU=function(){function t(t,n){this.IZ=t,this.dZ=n}return t.prototype.Dk=function(t){return this.IZ===t.IZ&&this.dZ===t.dZ},t}(),bU=function(){function t(t,n){this.Itt="",this.bU=t,this.Rtt=n}var n=t.prototype;return n.Dtt=function(t){this.Itt+=t},n.Ntt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Dtt(i)}},A(t,[{key:"LZ",get:function(){return this.Itt}},{key:"CZ",get:function(){return[this]}},{key:"OZ",get:function(){return this.bU}},{key:"UZ",get:function(){return this.Rtt}},{key:"MZ",get:function(){return new pU(this.UZ.IZ,this.UZ.dZ+this.LZ.length-1)}}]),t}(),AU=function(){function t(){}var n=t.prototype;return n.Ctt=function(t){return t.sb(this)},n.Ptt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.sb(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.Btt=function(t,n){return new TU(t,n).Ott()},t}(),TU=function(){function t(t,n){this.xtt=[],this.Ltt=null,this.IZ=t,this.Mtt=n}var n=t.prototype;return n.Ott=function(){if(this.Utt)return[];for(var t=0;t<this.IZ.length;t++)this.Xtt(t);return this.Htt(),this.xtt},n.Ftt=function(t){this.Ltt=new bU(PB,new pU(this.Mtt,t))},n.Htt=function(){this.Ltt&&(this.xtt.push(this.Ltt),this.Ltt=null)},n.Xtt=function(t){var n=this.IZ[t];SU(n)?this.Ltt&&this.Htt():(this.Ltt||this.Ftt(t),this.Ltt.Dtt(n))},A(t,[{key:"Utt",get:function(){return this.IZ.every(SU)}}]),t}();function SU(t){return null==t}var EU=function(){function t(){}return t.ztt=function(t,n,i){if(!(n>=i)){var e=Vs(t,function(t,n){return new TU(t.map(function(t){return t?t.Vtt():null}),n).Ott()});if(0!==e.length)return new kU(n,i,e)}},t}(),IU="black",RU="white",DU=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),NU=function(){function t(){this.Wtt=[],this.Gtt=0,this.qtt=void 0;for(var t=0;t<LB;t++)this.Wtt.push(null);this.qtt=!1}var n=t.prototype;return n.Ytt=function(t){for(var n=0;n<LB;n++)t&&(this.Wtt[n]=t.Wtt[n])},n.Dk=function(t){for(var n=0;n<LB;n++)if(this.Wtt[n]!==t.Wtt[n])return!1;return!0},n.jtt=function(){for(var t=0;t<LB;t++)if(null!==this.Wtt[t])return!1;return!0},n.Qtt=function(t){this.Gtt!==t&&(this.Gtt=t),this.Gtt<0?this.Gtt=0:this.Gtt>LB&&(this.Gtt=LB-1)},n.Ztt=function(t){var n=this.Gtt+t;this.Qtt(n)},n.Ktt=function(){this.Ztt(-1),this.Wtt[this.Gtt]=null},n.Dtt=function(t){t>=144&&this.Ktt();var n,i=DU[n=t]?String.fromCharCode(DU[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Gtt>=LB||(32===Number(t)?(this.Wtt[this.Gtt]=this.qtt?"</i>":"<i>",this.qtt=!this.qtt):this.Wtt[this.Gtt]=t,this.Ztt(1))},n.Jtt=function(t){for(var n=t;n<LB;n++)this.Wtt[n]=null},n.Bu=function(){this.Jtt(0),this.Gtt=0},n.$tt=function(){this.Jtt(this.Gtt)},n.tnt=function(t,n){for(var i=this.Wtt,e=null,r=0;r<LB;r++){var s=i[r];null===s?e=null:(e||(e={nnt:r,int:t,Uk:0,yT:1,Wtt:[[]]},n.push(e)),e.Wtt[0].push(s),e.Uk++)}},n.sb=function(t,n){return t.Btt(this.Wtt,n)},t}();var CU,PU=function(){function t(t,n){this.ent=void 0,this.rnt=void 0,this.snt=void 0,this.unt=void 0,this.ont=void 0,this.ant=void 0,this.hnt=void 0,this.cnt=void 0,this.fnt=void 0,this.ent=new Array(BU+1);for(var i=0;i<=BU;i++)this.ent[i]=new NU;this.rnt=1,this.snt=0,this.unt=t,this.ont=n,this.ant=!1,this.hnt=!1,this.cnt=RU,this.fnt=IU,this.dc()}var n=t.prototype;return n.vnt=function(t,n){var i="CC"+(this.unt<<1|this.ont+1);if(t>=n)return null;var e=(new AU).Ptt(this.ent.slice(1));return 0===e.length?null:{rk:new kU(t,n,e),Vl:i,lnt:this.unt<<1|this.ont+1}},n.dc=function(){this.dnt(),this.rnt=1},n.wnt=function(){return this.rnt},n._nt=function(t){this.rnt=t},n.Qtt=function(t){this.ent[this.rnt].Qtt(t)},n.Ztt=function(t){this.ent[this.rnt].Ztt(t)},n.gnt=function(){return this.snt},n.mnt=function(t){this.snt=t},n.Dtt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case CU.ynt:i=void 0!==xU[n]?xU[n]:String.fromCharCode(n);break;case CU.knt:i=LU[n];break;case CU.pnt:this.bnt(),i=MU[n];break;case CU.Ant:this.bnt(),i=UU[n]}i&&this.ent[this.rnt].addParsedChar(i)}},n.bnt=function(){this.ent[this.rnt].Ktt()},n.Tnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.ent[t+e]=this.ent[n+e];else for(var r=0;r<i;r++)this.ent[t+r]=this.ent[n+r]},n.Snt=function(t,n){for(var i=0;i<=n;i++)this.ent[t+i]=new NU},n.dnt=function(){this.Snt(0,BU)},n.Ent=function(){this.rnt=this.snt>0?this.snt:0,this.dnt()},n.Int=function(t){this.ant=t},n.Rnt=function(t){this.hnt=t},n.Dnt=function(t){this.cnt=t},n.Nnt=function(t){this.fnt=t},t}(),BU=15;!function(t){t[t.ynt=0]="ynt",t[t.knt=1]="knt",t[t.pnt=2]="pnt",t[t.Ant=3]="Ant"}(CU||(CU={}));var OU,xU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},LU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},MU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},UU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},XU=function(){function t(t,n){this.Vi=void 0,this.Cnt=void 0,this.Pnt=void 0,this.Bnt=void 0,this.Ont=void 0,this.xnt=void 0,this.Lnt=void 0,this.Mnt=void 0,this.Vi=OU.DN,this.Cnt=new PU(t,n),this.Pnt=new PU(t,n),this.Bnt=new PU(t,n),this.Ont=this.Pnt,this.xnt=0,this.Lnt=void 0,this.Mnt=!1}var n=t.prototype;return n.dc=function(){this.Mnt=!0,this.xnt=0,this.Vi=OU.DN,this.Ont=this.Pnt,this.Lnt=void 0,this.Pnt.dc(),this.Bnt.dc(),this.Cnt.dc()},n.Unt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Xnt=function(t,n){var i=this.Unt(t,n),e=(30&n)>>1,r=RU,s=!1;e<7?r=VU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==OU.$n){var o=this.Ont;if(this.Vi===OU.Hnt&&i!==o.wnt()){var a=1+o.wnt()-o.gnt(),h=1+i-o.gnt();o.Tnt(h,a,o.gnt()),o.Snt(0,h-1),o.Snt(i+1,BU-i)}o._nt(i);var c=OB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{lZ:BB[i].lZ,vZ:BB[i].vZ,dZ:BB[i].dZ,IZ:t}}(c,n);o.Qtt(f.dZ),this.Ont.Int(u),this.Ont.Rnt(s),this.Ont.Dnt(r),this.Ont.Nnt(IU)}}},n.Fnt=function(t,n){this.Ont.Int(!1),this.Ont.Rnt(!1),this.Ont.Dnt(RU);var i=this.znt(t,CU.ynt," ".charCodeAt(0)),e=RU,r=!1,s=1==(1&n);return"white_italics"===(e=VU[(14&n)>>1])&&(e="white",r=!0),this.Ont.Int(s),this.Ont.Rnt(r),this.Ont.Dnt(e),i},n.znt=function(t,n,i){if(this.Ont.Dtt(n,i),this.Vi===OU.Vnt||this.Vi===OU.Hnt){var e=this.Wnt(this.Ont,this.xnt,t);return this.xnt=t,e}return null},n.Wnt=function(t,n,i){return this.Mnt?null:t.vnt(n,i)},n.Gnt=function(t,n){var i=IU;0==(7&t)&&(i=zU[(14&n)>>1]),this.Ont.Nnt(i)},n.qnt=function(t){var n=HU,i=t.Ynt,e=t.jnt,r=null;switch(i){case n.RCL:this.Qnt();break;case n.BS:this.Znt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Knt(2,e);break;case n.RU3:r=this.Knt(3,e);break;case n.RU4:r=this.Knt(4,e);break;case n.FON:r=this.Jnt(e);break;case n.RDC:this.$nt(e);break;case n.TR:this.tit();break;case n.RTD:this.nit();break;case n.EDM:r=this.iit(e);break;case n.CR:r=this.eit(e);break;case n.ENM:this.rit();break;case n.EOC:r=this.sit(e)}return r},n.eit=function(t){var n=this.Ont;if(this.Vi!==OU.Hnt)return null;var i=this.Wnt(n,this.xnt,t),e=n.wnt()-n.gnt()+1;return n.Tnt(e-1,e,n.gnt()),n.Snt(0,e-1),n.Snt(n.wnt(),BU-n.wnt()),this.xnt=t,i},n.Knt=function(t,n){this.Ont=this.Pnt;var i=this.Ont,e=null;return this.Vi!==OU.Hnt&&this.Vi!==OU.$n&&(e=this.Wnt(i,this.xnt,n),this.Pnt.Ent(),this.Bnt.Ent(),this.Mnt=!1,i._nt(BU)),this.Vi=OU.Hnt,i.mnt(t),e},n.Jnt=function(t){return this.znt(t,CU.ynt," ".charCodeAt(0))},n.iit=function(t){var n=this.Pnt,i=null;return this.Vi!==OU.$n&&(i=this.Wnt(n,this.xnt,t)),n.dnt(),this.Mnt=!1,i},n.$nt=function(t){this.Vi=OU.Vnt,this.Ont=this.Pnt,this.Ont.mnt(0),this.xnt=t},n.rit=function(){this.Bnt.dnt()},n.sit=function(t){var n=null;this.Vi!==OU.$n&&(n=this.Wnt(this.Pnt,this.xnt,t));var i=this.Bnt;return this.Bnt=this.Pnt,this.Pnt=i,this.Qnt(),this.xnt=t,n},n.Qnt=function(){this.Vi=OU.uit,this.Ont=this.Bnt,this.Ont.mnt(0)},n.Znt=function(){this.Ont.bnt()},n.tit=function(){this.Cnt.dc(),this.Mnt=!1,this.nit()},n.nit=function(){this.Ont=this.Cnt,this.Vi=OU.$n},n.oit=function(t,n,i){return this.Ont.Dtt(CU.ynt,n),this.znt(t,CU.ynt,i)},n.ait=function(t,n,i){var e=1&n?CU.Ant:CU.pnt;return this.znt(t,e,i)},n.hit=function(t){var n=t.cit,i=t.Ynt,e=t.jnt;if(this.Lnt===(n<<8|i))return this.Lnt=void 0,null;if(this.Lnt=n<<8|i,this.fit(n,i))this.Xnt(n,i);else{if(this.vit(n,i))return this.Fnt(e,i);if(this.dit(n,i))this.Gnt(n,i);else{if(this.wit(n,i))return this.znt(e,CU.knt,i);if(this._it(n,i))return this.ait(e,n,i);if(this.git(n,i))return this.qnt(t);this.isTabOffset(n)&&this.Ont.Ztt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.git=function(t,n){return 20==(246&t)&&32==(240&n)},n.fit=function(t,n){return 16==(240&t)&&64==(192&n)},n.vit=function(t,n){return 17==(247&t)&&32==(240&n)},n.dit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.wit=function(t,n){return 17==(247&t)&&48==(240&n)},n._it=function(t,n){return 18==(246&t)&&32==(224&n)},t.mit=function(t){return 16==(112&t)},t}(),HU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.DN=0]="DN",t[t.uit=1]="uit",t[t.Vnt=2]="Vnt",t[t.Hnt=3]="Hnt",t[t.$n=4]="$n"}(OU||(OU={}));var FU,zU=["black","green","blue","cyan","red","yellow","magenta","black"],VU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],WU=function(){function t(t,n,i,e,r){this.yit=void 0,this.ant=void 0,this.hnt=void 0,this.fnt=void 0,this.cnt=void 0,this.yit=t,this.ant=n,this.hnt=i,this.fnt=e,this.cnt=r}var n=t.prototype;return n.Vtt=function(){return this.yit},n.kit=function(){return this.ant},n.pit=function(){return this.hnt},n.Ait=function(){return this.fnt},n.Tit=function(){return this.cnt},t}(),GU=function(){function t(t){this.Sit=void 0,this.xN=void 0,this.Eit=void 0,this.Iit=void 0,this.Rit=void 0,this.Dit=void 0,this.Nit=void 0,this.Cit=void 0,this.Pit=void 0,this.Bit=void 0,this.bk=void 0,this.rnt=void 0,this.Oit=void 0,this.hnt=void 0,this.ant=void 0,this.cnt=void 0,this.fnt=void 0,this.Sit=t,this.xN=!1,this.Eit=!1,this.Iit=0,this.Rit=0,this.Dit=0,this.Nit=0,this.Cit=0,this.Pit=FU.xit,this.Bit=[],this.bk=0,this.rnt=0,this.Oit=0,this.hnt=!1,this.ant=!1,this.cnt=RU,this.fnt=IU,this.Lit()}var n=t.prototype;return n.Mit=function(t,n,i,e,r,s,u){this.xN=t,this.Rit=n,this.Iit=i,this.Dit=e,this.Eit=r,this.Nit=s,this.Cit=u},n.Lit=function(){this.Bit=[];for(var t=0;t<YU;t++)this.Bit.push(this.Uit())},n.Uit=function(){for(var t=[],n=0;n<qU;n++)t.push(null);return t},n.Xit=function(t){this.Hit()&&(this.Bit[this.rnt][this.Oit]=new WU(t,this.ant,this.hnt,this.fnt,this.cnt),this.Oit++)},n.Fit=function(){this.Hit()&&(this.Oit<=0&&this.rnt<=0||(this.Oit<=0?(this.Oit=this.Cit-1,this.rnt--):this.Oit--,this.Bit[this.rnt][this.Oit]=null))},n.Hit=function(){var t=this.rnt<this.Nit&&this.rnt>=0,n=this.Oit<this.Cit&&this.Oit>=0;return t&&n},n.zit=function(){return this.xN},n.Vit=function(t){for(var n=0,i=t;i<YU;i++,n++)this.Bit[n]=this.Bit[i];for(var e=0;e<t;e++,n++)this.Bit[n]=this.Uit()},n.Wit=function(){if(this.rnt+1>=this.Nit)return this.Vit(1),void(this.Oit=0);this.rnt++,this.Oit=0},n.Git=function(){this.Bit[this.rnt]=this.Uit(),this.Oit=0},n.vnt=function(t,n){if(this.bk>=t)return null;var i=EU.ztt(this.Bit,this.bk,t);return i?(this.qit(t),{rk:i,Vl:"svc"+n,lnt:n}):null},n.Yit=function(t,n){this.rnt=t,this.Oit=n},n.jit=function(t){this.fnt=t},n.Qit=function(t){this.cnt=t},n.Zit=function(t){this.ant=t},n.Kit=function(t){this.hnt=t},n.Jit=function(){this.rnt=0,this.Oit=0,this.ant=!1,this.hnt=!1,this.cnt=RU,this.fnt=IU},n.$it=function(t){this.Pit=t},n.tet=function(){this.xN=!0},n.sy=function(){this.xN=!1},n.net=function(){this.xN=!this.xN},n.qit=function(t){this.bk=t},t}();!function(t){t[t.iet=0]="iet",t[t.eet=1]="eet",t[t.xit=2]="xit",t[t.ret=3]="ret"}(FU||(FU={}));var qU=42,YU=15,jU=function(){function t(t){this.uet=void 0,this.oet=void 0,this.aet=void 0,this.uet=t,this.oet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.aet=void 0}var n=t.prototype;return n.het=function(t){var n=t.cet(),i=n.Ai,e=n.jnt;i===$U&&(i=i<<16|t.cet().Ai);return i>=0&&i<=31?this.fet(i,e):i>=128&&i<=159?this.vet(t,i,e):(i>=4096&&i<=4127?this.let(t,255&i):i>=4224&&i<=4255?this.det(t,255&i):i>=32&&i<=127?this.wet(i):i>=160&&i<=255?this._et(i):i>=4128&&i<=4223?this.met(255&i):i>=4256&&i<=4351&&this.yet(255&i),null)},n.wet=function(t){this.aet&&(127!==t?this.aet.Xit(String.fromCharCode(t)):this.aet.Xit("\u266a"))},n._et=function(t){this.aet&&this.aet.Xit(String.fromCharCode(t))},n.met=function(t){if(this.aet)if(void 0!==tX[t]){var n=tX[t];this.aet.Xit(n)}else this.aet.Xit("_")},n.yet=function(t){this.aet&&(160===t?this.aet.Xit("[CC]"):this.aet.Xit("_"))},n.fet=function(t,n){if(!this.aet)return null;var i=this.aet,e=null;switch(t){case QU:i.Fit();break;case KU:i.zit()&&(e=i.vnt(n,this.uet)),i.Wit();break;case JU:i.zit()&&(e=i.vnt(n,this.uet)),i.Git();break;case ZU:i.zit()&&(e=i.vnt(n,this.uet)),i.Lit(),i.Yit(0,0)}return e},n.vet=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.ket(e)}else{if(136===n){var r=t.cet().Ai;return this.pet(r,i)}if(137===n){var s=t.cet().Ai;this.bet(s,i)}else{if(138===n){var u=t.cet().Ai;return this.Aet(u,i)}if(139===n){var o=t.cet().Ai;return this.Tet(o,i)}if(140===n){var a=t.cet().Ai;return this.Eet(a,i)}if(143===n)return this.dc(i);if(144===n)this.Iet(t);else if(145===n)this.Ret(t);else if(146===n)this.Yit(t);else if(151===n)this.Det(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Mit(t,h,i)}}}return null},n.let=function(t,n){n>=8&&n<=15?t.TA(1):n>=16&&n<=23?t.TA(2):n>=24&&n<=31&&t.TA(3)},n.det=function(t,n){n>=128&&n<=135?t.TA(4):n>=136&&n<=143&&t.TA(5)},n.ket=function(t){this.oet[t]&&(this.aet=this.oet[t])},n.Net=Dr.mark(function t(n){var i;return Dr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.oet[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.pet=function(t,n){for(var i=null,e=0,r=this.Net(t);e<r.length;e++){var s=r[e],u=this.oet[s];u.zit()&&(i=u.vnt(n,this.uet)),u.Lit()}return i},n.bet=function(t,n){for(var i=0,e=this.Net(t);i<e.length;i++){var r=e[i],s=this.oet[r];s.zit()||s.qit(n),s.tet()}},n.Aet=function(t,n){for(var i=null,e=0,r=this.Net(t);e<r.length;e++){var s=r[e],u=this.oet[s];u.zit()&&(i=u.vnt(n,this.uet)),u.sy()}return i},n.Tet=function(t,n){for(var i=null,e=0,r=this.Net(t);e<r.length;e++){var s=r[e],u=this.oet[s];u.zit()?i=u.vnt(n,this.uet):u.qit(n),u.net()}return i},n.Eet=function(t,n){for(var i=null,e=0,r=this.Net(t);e<r.length;e++){var s=r[e],u=this.oet[s];u.zit()&&(i=u.vnt(n,this.uet)),this.oet[s]=void 0}return i},n.dc=function(t){var n=this.Eet(255,t);return this.Bu(),n},n.Bu=function(){this.aet=void 0,this.oet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Iet=function(t){t.TA(1);var n=t.cet().Ai;if(this.aet){var i=(128&n)>0,e=(64&n)>0;this.aet.Kit(i),this.aet.Zit(e)}},n.Ret=function(t){var n=t.cet().Ai,i=t.cet().Ai;if(t.TA(1),this.aet){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.Cet(s,r,e),c=this.Cet(a,o,u);this.aet.Qit(h),this.aet.jit(c)}},n.Yit=function(t){var n=t.cet().Ai,i=t.cet().Ai;if(this.aet){var e=15&n,r=63&i;this.aet.Yit(e,r)}},n.Det=function(t){t.TA(1),t.TA(1);var n=t.cet().Ai;if(t.TA(1),this.aet){var i=3&n;this.aet.$it(i)}},n.Mit=function(t,n,i){var e=void 0!==this.oet[n];if(!e){var r=new GU(n);r.qit(i),this.oet[n]=r}var s=t.cet().Ai,u=t.cet().Ai,o=t.cet().Ai,a=t.cet().Ai,h=t.cet().Ai,c=t.cet().Ai,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&h);e&&0===(7&c)||this.oet[n].Jit(),this.oet[n].Mit(f,v,d,_,l,w,g),this.aet=this.oet[n]},n.Cet=function(t,n,i){var e={0:0,1:0,2:1,3:1};return nX[e[t]<<2|e[n]<<1|e[i]]},t}(),QU=8,ZU=12,KU=13,JU=14,$U=16,tX={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},nX=["black","blue","green","cyan","red","magenta","yellow","white"],iX=function(){function t(){this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.Pet=[],this.Bet=null,this.Oet=0}var n=t.prototype;return n.xet=function(t){if(t.ds===XM.S7){var n=63&t.Ai;return this.Oet=2*n-1,void(this.Bet=[])}if(this.Bet&&(this.Oet>0&&(this.Bet.push(t),this.Oet--),0===this.Oet)){var i=new eX(this.Bet);this.Pet.push(i),this.Bet=null,this.Oet=0}},n.Let=function(){return this.Pet},n.Met=function(){this.Pet=[]},n.Bu=function(){this.Pet=[],this.Bet=[],this.Oet=0},t}(),eX=function(){function t(t){this.Uet=void 0,this.Xet=void 0,this.Uet=0,this.Xet=t}var i=t.prototype;return i.Het=function(){return this.Uet<this.Xet.length},i.Fet=function(){return this.Uet},i.cet=function(){if(!this.Het())throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Xet[this.Uet++]},i.TA=function(t){if(this.Uet+t>this.Xet.length)throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Uet+=t},t}(),rX=function(){function t(){this.zet=void 0,this.Vet=void 0,this.Wet=void 0,this.Get=void 0,this.qet=void 0,this.Yet=void 0,this.jet=void 0,this.Qet=void 0,this.Zet=!1,this.zet=[],this.Vet=[],this.Wet=new iX,this.Get=0,this.qet=Or({CC1:new XU(0,0),CC2:new XU(0,1),CC3:new XU(1,0),CC4:new XU(1,1)}),this.Yet=0,this.jet=0,this.Qet=Br(),this.dc()}var i=t.prototype;return i.Bu=function(){this.Get=0,this.zet=[],this.Vet=[],this.Wet.Bu(),this.dc(),this.Qet.forEach(function(t){t.Bu()})},i.dc=function(){this.Yet=0,this.jet=0,this.qet.forEach(function(t){t.dc()})},i.z5=function(t,n){if(t.U7){var i=t.X7,e=t.H7,r=t.ds;r===XM.b7||r===XM.A7?this.zet.push({jnt:n,ds:r,cit:i,Ynt:e,Ket:this.zet.length}):this.Zet&&(this.Vet.push({jnt:n,ds:r,Ai:i,Ket:this.Vet.length}),this.Vet.push({jnt:n,ds:XM.T7,Ai:e,Ket:this.Vet.length}))}},i.vB=function(){var t=[];Is(this.zet,function(t,n){return t.jnt-n.jnt||t.Ket-n.Ket}),Is(this.Vet,function(t,n){return t.jnt-n.jnt||t.Ket-n.Ket});for(var n=0,i=this.zet;n<i.length;n++){var e=i[n],r=this.Jet(e);r&&t.push(r)}for(var s=0,u=this.Vet;s<u.length;s++){var o=u[s];this.Wet.xet(o)}for(var a=this.Wet.Let(),h=0;h<a.length;h++){var c=a[h],f=this.$et(c);t.push.apply(t,f)}return this.Wet.Met(),this.zet=[],this.Vet=[],t},i.Jet=function(t){var n=t.ds;if(XU.mit(t.cit)){var i=t.cit>>3&1;0===n?this.Yet=i:this.jet=i}var e="CC"+(n<<1|(n?this.jet:this.Yet)+1),r=this.qet.get(e);return 255===t.cit&&255===t.Ynt||!t.cit&&!t.Ynt||!this.trt(t.cit)||!this.trt(t.Ynt)?(++this.Get>=45&&this.dc(),null):(this.Get=0,t.cit&=127,t.Ynt&=127,t.cit||t.Ynt?XU.mit(t.cit)?r.hit(t):r.oit(t.jnt,t.cit,t.Ynt):null)},i.$et=function(t){var i=[];try{for(;t.Het();){var e=t.cet().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.cet().Ai;if(0!==r){if(!this.Qet.has(r)){var u=new jU(r);this.Qet.set(r,u)}for(var o=this.Qet.get(r),a=t.Fet();t.Fet()-a<s;){var h=o.het(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof tf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.trt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),sX=function(t){function n(n,i){var e;return(e=t.call(this,"nrt")||this).lnt=n,e.rk=i,e}return S(n,t),n}(_u),uX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.irt=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.ert(e,e.wZ.Hk()+n)}this.vB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).rrt=void 0,n.rrt=new rX,n}S(n,t);var i=n.prototype;return i.ert=function(t,n){this.rrt.z5(t,n)},i.vB=function(){for(var t=this.rrt.vB(),n=0;n<t.length;n++){var i=t[n];this.Js(new sX(i.lnt,i.rk))}},i.dc=function(){this.rrt.Bu()},i.Jc=function(){this.uu(),this.rrt.Bu()},n}(du)),oX=function(t){function n(n){var i;return(i=t.call(this)||this).urt=void 0,i.ort=void 0,i.art=NaN,i.hrt=NaN,i.crt=void 0,i.EE=void 0,i.frt=function(t){i.vrt({lrt:t.lnt,drt:""}).PE(t.rk)},i.EE=n,i.crt=Br(),i.urt=new uX,i.urt.$s("nrt",i.frt),i}S(n,t);var i=n.prototype;return i.wrt=function(t){return this.crt.get(t)},i.vrt=function(t){var n=this.crt.get(t.lrt);return n||(n=this._rt(t),this.crt.set(t.lrt,n)),n},i._rt=function(t){var n,i=function(t){if(t!==JM)for(var n=t.toLowerCase(),i=0;i<tU.length;i++){var e=tU[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.drt),e=i?i.wi:"";t.grt&&(e="easy "+e),n=t.Q_?"CC "+t.Q_:e?"CC "+e:"CC"+t.lrt;var r=this.EE.NE(Rp.lE,n,n,e,!1,my.CEA608);return this.P_(r),r},i.i7=function(t){var n=ep.zA(xo(t));this.ort=function(t){for(var n=0;n<t.eT.length;n++){var i=t.eT[n],e={_T:(h=t.eT[n]).xA._T,wtt:h.vT.xA.Bp},r=i.vT.TT.IT.DT.CT,s=xs(r,function(t){return t.ds===ak.xb});if(!s){var u=xs(r.filter(function(t){return t.ds===ak.Yb}),function(t){var n;return(null==(n=t.cS)?void 0:n.ds)===ak.xb});u&&(s=u.cS)}if(s){var o=JD(xo(s.eS.Fi),new zo),a=s.sS;return Nr({},e,{_T:i.xA._T,eS:Fo(s.eS.Fi),Uk:s.Uk,yT:s.yT,_S:a&&a._S,wS:a&&a.wS,mrt:o.FF,yrt:o.zF,n7:o.VF,GF:o.GF[0],qF:o.qF[0]})}}var h}(n.filter(yU)[0])},i.R6=function(t,n,i,e){if(this.ort&&(m(this.art)||!Ut(this.art,n,1e-5))){m(this.hrt)||Ut(n,this.hrt,1e-5)||this.urt.dc();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.hE.Ttt&&n.push.apply(n,e.hE.Ttt),delete e.hE.Ttt}for(var r=0;r<n.length;r+=1)n[r].SS=r;return n.sort(xB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(wU),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=xs(c.eT,function(t){return t.xA._T===i._T});if(f)for(var v=f.xA.yS||0,l=f.xA.kS||0,d=f.NS?f.NS.NS:ft.ZERO,w=c.TS+(null!=(h=f.xA.CS)?h:ft.ZERO).toNumber(),_=0,g=f.DS;_<g.length;_++)for(var m=g[_],y=w+(m.TS||0),k=0,p=m.MS;k<p.length;k++){var b=p[k],A=b.Ou||l,T=new GM;T.D7(t,y,y+A);var S=ik.ep(d,i.wtt);T.hE=r(b,c,i,S,Xo(t,y,y+A)),s.push(T),y+=A,d=d.add(b.tm||v||o)}}return s}(t,ep.zA(xo(t)),this.ort,dU,mU));this.urt.irt(r,e),this.art=n,this.hrt=i}},i.dc=function(){var n=this;return this.urt.dc(),this.crt.forEach(function(t){t.Jc(),n.B_(t),n.EE.BE(t)}),this.crt.clear(),this.ort=void 0,this.art=NaN,this.hrt=NaN,t.prototype.dc.call(this)},i.Jc=function(){return this.urt.ou("nrt",this.frt),this.urt.Jc(),t.prototype.Jc.call(this)},n}(jp);function aX(t){if(t.ds===hO.ZJ&&void 0!==t.a$){var n=t.a$.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.a$.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var hX=function(){function t(t){this.Z4=void 0,this.krt=!1,this.Z4=t}var n=t.prototype;return n.prt=function(t,n){return this.krt?this.Z4.prt(t,n):We.resolve(!1)},n.h5=function(t,n){return this.krt?this.Z4.h5(t,n):We.resolve(void 0)},n.c6=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.Z4.c6(t));case 2:return n=i.sent,this.krt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,We)},n.eU=function(t){return this.Z4.eU(t)},t}(),cX="LLHLSPlayer",fX=[vm.jg,vm.Qg,vm.Zg,vm.p_],vX=[Tf.xf,Tf.Vf,Tf.Gf,Tf.If],lX=50,dX=3e4,wX=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).fD=void 0,h.IE=void 0,h.kD=void 0,h.mD=void 0,h.brt=void 0,h.Art=void 0,h.Trt=void 0,h.Srt=void 0,h.Z4=void 0,h.Om=void 0,h.xm=void 0,h.Lm=void 0,h.Ert=Br(),h.Irt=void 0,h.Rrt=void 0,h.gD=void 0,h.K9=void 0,h.J9=void 0,h.Drt=!1,h.RE=new Ks,h.Nrt=void 0,h.m6=void 0,h.vD=void 0,h.V5=void 0,h.Crt=void 0,h.Prt=new Ks,h.Brt=void 0,h.g6=void 0,h.Ort=void 0,h.xrt=void 0,h.Lrt=void 0,h.Mrt=void 0,h.Urt=void 0,h.Xrt=[],h.wW=void 0,h.gW=void 0,h.Hrt=void 0,h.Frt=void 0,h.zrt=void 0,h.k9=void 0,h.Vrt=new Ks,h.Wrt=void 0,h.dY=new Ks,h.lY=void 0,h.Grt=-1,h.qrt=void 0,h.Yrt=void 0,h.jrt=void 0,h.Qrt=void 0,h.Zrt=void 0,h.Krt=void 0,h.Jrt=!0,h.$rt=0,h.tst=!1,h.xC=1,h.wD=$T.DN,h.lD=void 0,h.dD=void 0,h.yW=oS.SC(),h.nst=[],h.ist=void 0,h.rst=!1,h.sst=void 0,h.ust=void 0,h.ost=!1,h.ast=!1,h.hst=void 0,h.cst=void 0,h.pD=new WT,h.fst=0,h.handleContentProtectionErrorEvent=function(t){h.lD=ny(t.errorObject),h.dD=t.errorObject,h.Ks(t)},h.handleBufferingErrorEvent=function(t){h.TD(new tf(n.ErrorCode.MEDIA_LOAD_ERROR,t.bu.message,t.bu))},h.vst=function(){h.lst();var t=h.tm;t!==h.sst&&(h.sst=t,h.Js(new ym(h.sst)))},h.dst=function(){h.nm&&h.Js(new bm(h.$g))},h.wst=function(){h.Js(new dm(h.$g))},h._st=function(){h.Js(new wm(h.$g))},h.RD=function(){void 0!==h.cst&&i.jn(h.cst),h.Js(new db(h.$g))},h.gst=function(){h.Js(new pD(h.$g))},h.FE=function(){h.Js(new Dm(h.$g,h.dg))},h.tq=function(){var t=h.B$;zs(h.nst,t)||(h.Js(new XL),h.nst=t),h.Js(new pm(h.$g,h.by))},h.mst=function(t){h.fst+=t.Y5,"T8"===t.G5&&t.Ld===iy.Cd&&au(h.$0())},h.AW=function(){h.Js(new Tm(h.$g))},h.ED=function(){h.Js(new Sm(h.$g))},h.yst=function(){h.Js(new Em(h.$g,h.dm))},h.kst=function(){h.fD.fm?h.Js(new lb(h.$g)):(h.cst=i.Qn(function(){h.ast&&(h.hst=void 0,au(h.pst()))},xM),h.Js(new lb(h.$g)))},h.bst=function(){h.ast=!0,h.Js(new Im(h.$g,h.dg))},h.Ast=function(t){$s(t)||Op(t)||xp(t)||(h.Tst(),au(h.Sst()),h.Js(new ux(t)))},h.p6=function(){h.lst()},h.Est=function(t){au(h.Ist(t.R$))},h.Rst=$(function(t){var n=[h.V5,h.Wrt,h.lY].filter(H);h.dY=new Ks,h.lY=h.Aj(n,t,h.dY.Ys).catch(h.Ast)},lX),h.Dst=function(t){if(!$s(t)){var i=t instanceof tf?t:new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.TD(i)}},h.onTextTrackChange=function(t){if(h.Ort){var n=t.a_,i=xs(h.Ort.B2,function(t){return n===h.Ert.get(t.Y_)});i&&(n.cg===Rg.rg||n.cg===Rg.og?(au(h.Nst(i)),h.Ert.forEach(function(t){t!==n&&(t.cg=Rg.eg)})):h.Mrt&&h.Mrt===i&&au(h.Cst(h.xrt,h.Lrt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.Pst===t||h.L$===t||h.U$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Dr.awrap(h.g6.u6(t,n));case 4:t.e$.e4=-1/0;case 5:case"end":return i.stop()}},null,null,null,We)},h.Bst=function(){h.Ost()},h.xst=function(){h.Lst()},h.Mst=function(t){if(t.R$.h$){var n=h.g6.n0.X4(t.R$);if(n&&!n.QF){h.g6.d6(n,t.QF),h.Irt.s0();var i=h.Ort;if(i){var e=void 0!==h.xrt&&!Hs(i.e0,h.xrt),r=void 0!==h.Lrt&&!Hs(i.r0,h.Lrt);(e||r)&&h.Cst(e?void 0:h.xrt,r?void 0:h.Lrt,h.Mrt).catch(K)}}}},h.Ust=function(t){h.g6.v6(t.R$)},h.HC=s,h.i5=u,h.Xst=o,h.Z4=new hX(a),h.fD=e,h.IE=new jO(r,h.HC),h.kD=new sx(h.HC.wL),h.Trt=new ox(h.fD),h.Srt=new wx(h.HC),h.Om=new ey,h.xm=new ey,h.Irt=new YO(Kt(h),h.Om,h.xm),h.Rrt=new Dp,h.gD=new Zp(h.fD,h.IE),h.K9=new HM(h.fD),h.J9=new oX(h.fD),h.Lm=new FT([h.Rrt,h.gD.eT,h.K9.eT,h.J9.eT]),h.mD=new XT(h.IE),h.fD.FD=h.mD,h.brt=new gX(Kt(h),h.fD),h.Art=new _b(h.brt,!0),h.Hst(),h}S(e,t);var r=e.prototype;return r.Fst=function(t){return Ws(t,function(t){return t.YR})},r.pst=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.zst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Dr.awrap(this.Vst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Fst(t))){e.next=14;break}return e.next=13,Dr.awrap(this.x$(i,!0));case 13:this.kD.q0(i.YR);case 14:case"end":return e.stop()}},null,this,null,We)},r.lst=function(){var t=function(t){for(var n=new oS([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.e$.xy;s.L_>0&&(n=n.nC(s),i=w.max(i,s.zN(0)))}if(n.L_>0)return n;return oS.TC(i)}([this.xrt,this.Lrt].filter(H));0!==t.L_&&(this.vD&&this.vD.QX&&this.Wst&&(t=new oS([t.zN(0),this.vD.tm])),this.yW=t,this.K9.SE(t.zN(0)),this.J9.SE(t.zN(0)))},r.Qm=function(){return!1},r.oy=function(){return cS},r.sy=function(){GO.TT(cX,"Hiding the player."),this.fD.sy()},r.Gm=function(){GO.TT(cX,"Pausing the player."),this.fD.Gm()},r.Wm=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.fD.Wm(),this.Drt){n.next=4;break}return n.next=4,Dr.awrap(this.Kh());case 4:return n.next=6,Dr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,We)},r.Gst=function(){this.lD=void 0,this.dD=void 0},r.TD=function(t){this.lD||(au(this.dc()),this.lD=ny(t),this.dD=t,this.Js(new Nm(t)))},r.ey=function(){GO.TT(cX,"Showing the player."),this.fD.ey()},r.Zm=function(){throw new v("Not implemented")},r.Km=function(){throw new v("Not implemented")},r.yy=function(){},r.jm=function(t,n,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(GO.TT(cX,"Setting the player source to "+t.src+"."),this.Gst(),!this.Nrt||um(this.Nrt)){r.next=6;break}return r.next=5,Dr.awrap(this.dc());case 5:tu(e);case 6:if(t.src&&!um(t)){r.next=8;break}return r.abrupt("return");case 8:this.mD.ZR(t.contentProtection),this.m6=t,this.$s(aO.jJ,this.handleBufferingErrorEvent),this.g6=new BL(this.IE,this.Z4,t.useCredentials,i.Mr(t.src)),this.g6.$s(NL.F4,this.p6),this.g6.$s(NL.z4,this.Est),this.Brt=new UL(t,this.g6,this.fD),this.Lm.rD(this.Brt.zm),this.k9=this.Xst.LK(),n.textTracks&&this.jD(n.textTracks),nb(this.Lm),this.qst();case 20:case"end":return r.stop()}},null,this,null,We)},r.Kh=function(){return this.V5?this.V5:(this.V5=this.Lw(this.RE.Ys).catch(this.Dst),this.V5)},r.Lw=function(t){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(GO.TT(cX,"Loading the player."),this.g6.w6){h.next=13;break}return h.prev=2,h.next=5,Dr.awrap(this.g6.J4(t));case 5:this.Yst(),h.next=13;break;case 8:throw h.prev=8,h.t0=h.catch(2),nu(h.t0),this.Py=!1,new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+h.t0.message,h.t0);case 13:if(this.Urt=this.g6.n0.i0,this.Urt.length){h.next=16;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return h.next=18,Dr.awrap(this.jst(this.Urt));case 18:if(0!==(i=h.sent).length){h.next=21;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return h.next=23,Dr.awrap(this.Vst(i));case 23:(e=h.sent).length>0&&(i=e),GO.TT(cX,"Selecting initial active variant stream."),r=yX(i,this.m6.abr,this.HC),(s=pX(r.e0))&&GO.TT(cX,"Detected initial audio rendition."),(u=pX(r.r0))&&GO.TT(cX,"Detected initial video rendition."),(o=mX(r.B2))&&GO.TT(cX,"Detected initial subtitle rendition."),o||(a=mX(r.O2))&&GO.TT(cX,"Detected initial closed caption rendition."),this.Qst(r),this.Irt.J$(),this.Zst(r,a),this.Cst(s,u,o).catch(K),this.Drt=!0;case 39:case"end":return h.stop()}},null,this,[[2,8]],We)},r.Yst=function(){this.ost||(this.ost=!0,this.brt.Kst())},r.jD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.gD.DE(i)}},r.Zst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=aX(e);void 0!==r&&n.push({lrt:r,drt:e.Z_||"",Q_:e.wi})}return n}(t.O2),e=0;e<i.length;e++){var r=i[e];this.J9.vrt(r)}if(void 0!==n){var s=aX(n);this.J9.wrt(s).cg=Rg.og}},r.qst=function(){this.Prt.Ws(),this.Prt=new Ks,this.Crt=this.Jst(this.Crt,this.Prt.Ys).catch(this.Dst)},r.Jst=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.wD,!t){e.next=5;break}return e.next=4,Dr.awrap(t);case 4:tu(n);case 5:if(i!==$T.DN&&this.g6){e.next=7;break}return e.abrupt("return");case 7:if(tu(n),this.g6.w6){e.next=19;break}return e.prev=9,e.next=12,Dr.awrap(this.g6.J4(n));case 12:this.Yst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),nu(e.t0),e.abrupt("return");case 19:if(i!==$T.fA){e.next=21;break}return e.abrupt("return");case 21:tu(n),this.Kh().catch(this.Dst);case 23:case"end":return e.stop()}},null,this,[[9,15]],We)},r.O$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.$st(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Urt=t},r.$st=function(t){var n=this.n0;return!!n&&Hs(n.i0,t)},r.tut=function(t){if(this.Ort)return xs(this.Ort.o0,function(n){return n===t})},r.Qst=function(t){if(GO.TT(cX,"Setting active variant stream."),this.Ort!==t){var n;if((null==(n=this.Ort)?void 0:n.A1)!==(null==t?void 0:t.A1)){if(this.Ort)for(var i=0,e=this.Ort.B2;i<e.length;i++){var r=e[i];this.BE(r)}if(t)for(var s=0,u=t.B2;s<u.length;s++){var o=u[s];this.nut(o)}}this.Ort=t,this.Js(new _M)}},r.nut=function(t){var n=this.fD.NE(Rp.hA,void 0,t.wi,t.Z_,t.r$);this.Rrt.P_(n),this.Ert.set(t.Y_,n),n.$s(J_.y_,this.onTextTrackChange)},r.BE=function(t){var n=this.Ert.get(t.Y_);n&&(n.ou(J_.y_,this.onTextTrackChange),this.Rrt.B_(n),this.Ert.delete(t.Y_),this.fD.BE(n))},r.zst=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Urt)?t:this.n0.i0).length||this.Urt){r.next=4;break}return GO.TT(cX,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Urt){r.next=7;break}return GO.TT(cX,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Dr.awrap(this.jst(n));case 9:if((i=r.sent).length){r.next=13;break}return GO.j$(cX,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=bX(i)).length){r.next=22;break}if(!this.tst){r.next=17;break}return r.abrupt("return",void 0);case 17:return GO.j$(cX,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.$rt++,r.next=21,Dr.awrap(this.iut(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,We)},r.$0=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.zst());case 2:if(void 0!==(t=u.sent)){u.next=5;break}return u.abrupt("return");case 5:return o=this.fD,a=void 0,h=void 0,a=o.$g,h=o.py.kC(a),n=h?h.WN(0)-a:0,u.next=8,Dr.awrap(this.Vst(t));case 8:return i=u.sent,e={Uk:this.fD.Uk,yT:this.fD.yT,Q0:n},u.next=12,Dr.awrap(this.Srt.$0(t,this.Ort,i,e));case 12:if(r=u.sent,s=!!this.Ort&&r.YR<this.Ort.YR,!(!!s||this.eut(r,t,n))){u.next=18;break}return u.next=18,Dr.awrap(this.x$(r,s));case 18:case"end":return u.stop()}var o,a,h},null,this,null,We)},r.eut=function(t,n,e){var r,s;if(t===this.N$)return!1;if(t===this.Fst(n))return!0;(!this.hst||this.hst.C$.YR>t.YR)&&(this.hst={C$:t,_tt:i.dr()});var u=i.dr()-this.hst._tt,o=null!=(r=null==(s=this.U$)?void 0:s.e$.j0)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.iut=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.tst=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Lrt?xs(e.r0,function(t){return AO(t,u.Lrt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Dr.awrap(this.u6(r));case 11:r.e$.e4=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.$rt=0,o.next=24,Dr.awrap(this.rut());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.$rt),dX),o.next=29,Dr.awrap(cu(s));case 29:return this.tst=!1,o.next=32,Dr.awrap(this.$0());case 32:case"end":return o.stop()}},null,this,[[5,15]],We)},r.jst=function(t){var n,i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(Ys(t,function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.QF){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.QF.jF,n.t1){n.next=7;break}return n.next=6,Dr.awrap(i.Trt.jX('audio/mp4; codecs="'+t.QF.jF+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.QF.YF,n.t2){n.next=14;break}return n.next=13,Dr.awrap(i.Trt.jX('video/mp4; codecs="'+t.QF.YF+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,We)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.QF)?void 0:n.YF})&&(n=n.filter(function(t){return!t.QF||t.QF.YF})),n.some(function(t){var n;return null==(n=t.QF)?void 0:n.jF})&&(n=n.filter(function(t){return!t.QF||t.QF.jF})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,We)},r.Vst=function(t){var n=this;return Ys(t,function(t){var i,e,r,s,u=[pX(t.e0),pX(t.r0),mX(t.B2),mX(t.O2)].filter(H);return i=u,e=function(t){return n.sut(t)},Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Dr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,We)})},r.sut=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.e$.wJ.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.e$.wJ[0]).c$){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.c$,e=i._J?wO(i._J.zN,i._J.L_):void 0,r.prev=7,r.next=10,Dr.awrap(this.Z4.prt(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],We)},r.x$=function(t,n){var i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Drt){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.$st(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Ort){u.next=9;break}return GO.TT(cX,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.xrt?xs(t.e0,function(t){return AO(t,s.xrt)}):void 0,e=this.Lrt?xs(t.r0,function(t){return AO(t,s.Lrt)}):void 0,r=this.Mrt?xs(t.B2,function(t){return AO(t,s.Mrt)}):void 0,this.Qst(t),this.hst=void 0,u.next=16,Dr.awrap(this.Cst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,We)},r.M$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Drt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Ort){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.tut(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return GO.TT(cX,"Switching audio rendition"),i.next=12,Dr.awrap(this.Cst(n,this.Lrt,this.Mrt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,We)},r.X$=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Drt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Ort){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.tut(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return GO.TT(cX,"Switching video rendition"),i.next=12,Dr.awrap(this.Cst(this.xrt,n,this.Mrt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,We)},r.Nst=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Drt){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Ort){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.tut(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return GO.TT(cX,"Switching subtitle rendition"),i.next=12,Dr.awrap(this.Cst(this.xrt,this.Lrt,n));case 12:case"end":return i.stop()}},null,this,null,We)},r.Ist=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.tst){i.next=2;break}return i.abrupt("return");case 2:if(t.ds===hO.Cd){i.next=7;break}return i.next=5,Dr.awrap(this.uut(t,n));case 5:i.next=17;break;case 7:if(!(this.Urt&&this.Urt.length<=1)){i.next=15;break}if(this.Lrt===t){i.next=11;break}return i.next=11,Dr.awrap(this.Cst(this.xrt,t,this.Mrt));case 11:return i.next=13,Dr.awrap(this.uut(t,n));case 13:i.next=17;break;case 15:return i.next=17,Dr.awrap(this.$0());case 17:case"end":return i.stop()}},null,this,null,We)},r.u6=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.g6.u6(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),nu(i.t0),!Op(i.t0)&&!xp(i.t0)){i.next=11;break}return i.next=11,Dr.awrap(this.Ist(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],We)},r.uut=function(t,n){var i=this;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hs(this.Xrt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Xrt.push(t),e.prev=3,e.next=6,Dr.awrap(DL(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,dX));case 6:if(e.prev=6,Us(this.Xrt,t),t.e$.e4!==-1/0){e.next=11;break}return e.next=11,Dr.awrap(this.rut());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],We)},r.Cst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.xrt===t&&this.Lrt===n&&this.Mrt===i?We.resolve():void 0===t&&void 0===n?We.reject(new v("Trying to buffer no media renditions.")):(this.xrt=t,this.Lrt=n,this.Mrt=i,this.lst(),this.Js(new gM),this.dY.Ws(),this.dY=new Ks,this.Vrt.Ws(),this.Vrt=new Ks,this.Wrt=this.out([this.Wrt,this.lY].filter(H),t,n,i,e,r,s,this.Vrt.Ys).catch(this.Ast),this.Wrt)},r.out=function(t,n,i,e,r,s,u,o){var a,h,c,f,v,l,d,w,_=this;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return this.Tst(),g.next=5,Dr.awrap(this.Sst());case 5:return h=[],s&&this.vD&&this.vD.fW&&h.push(this.vD.fW.Jh(0,1/0)),u&&this.vD&&this.vD.vW&&h.push(this.vD.vW.Jh(0,1/0)),g.next=10,Dr.awrap(We.all(h));case 10:return tu(o),g.next=13,Dr.awrap(this.aut(n,i,o));case 13:return c=g.sent,this.hut(n,i,r||c),this.cut(e,r),tu(o),f=n&&i&&SO(n,i),v=[i,f?void 0:n,e].filter(H),g.prev=19,g.next=22,Dr.awrap(We.all(v.filter(function(t){return!t.e$.n4}).map(function(t){var n;return null==(n=_.g6)?void 0:n.o6(t,o)})));case 22:g.next=27;break;case 24:g.prev=24,g.t0=g.catch(19),nu(g.t0);case 27:tu(o),this.RW(),this.lst(),void 0!==this.ist?this.Rst(this.ist):!this.rst&&null!=(a=this.N$)&&a.e$.zN?(d=null==(l=this.N$)?void 0:l.e$.zN.Y1,w=d,d<0&&(w+=this.N$.e$.K3.WN(this.N$.e$.K3.L_-1)),this.Rst(w)):!this.rst&&v.every(function(t){return!t.e$.h2})?this.Rst(1/0):this.fut.length>0&&this.vut();case 31:case"end":return g.stop()}},null,this,[[19,24]],We)},r.aut=function(t,n,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return s=void 0!==t&&t!==n,u=void 0!==n,v.next=4,Dr.awrap(this.lut(t,n,this.Ort));case 4:if(o=v.sent,tu(i),!this.vD||o){v.next=8;break}return v.abrupt("return",!1);case 8:if(a=void 0!==(null==(e=this.vD)?void 0:e.fW),h=void 0!==(null==(r=this.vD)?void 0:r.vW),s!==a||u!==h||!o||!this.vD||!this.vD.XX(o)){v.next=17;break}return v.next=14,Dr.awrap(this.wut(i));case 14:return v.next=16,Dr.awrap(this.vD.HX(o));case 16:return v.abrupt("return",!0);case 17:for(c=0,f=this.fut;c<f.length;c++)f[c].O9.forEach(function(t){return t.Ws()});if(this.fD.xj(),v.prev=19,!this.vD){v.next=23;break}return v.next=23,Dr.awrap(this.fD.dc());case 23:return v.next=25,Dr.awrap(this._ut(o,s,u));case 25:this.vD=v.sent;case 26:return v.prev=26,this.fD.Lj(),v.finish(26);case 29:return v.abrupt("return",!0);case 30:case"end":return v.stop()}},null,this,[[19,,26,29]],We)},r.lut=function(t,n,i){var e,r,s,u,o,a,h,c,f,v,l,d;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.QF,a=[],o&&o.jF&&(h='audio/mp4; codecs="'+o.jF+'"',GO.TT(cX,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.YF&&(c='video/mp4; codecs="'+o.YF+'"',GO.TT(cX,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return GO.j$(cX,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.e$.wJ[0])?void 0:r.Z1)?e:[],v=null!=(s=null==t?void 0:null==(u=t.e$.wJ[0])?void 0:u.Z1)?s:[],l=this.g6.n0,w.next=12,Dr.awrap(Sx(this.m6.contentProtection,a,l.H4.concat(v).concat(f),this.IE,this.m6.useCredentials));case 12:return d=w.sent,w.abrupt("return",{ds:ib.LE,NW:a.map(function(t){return{Wl:t}}),WD:d});case 14:case"end":return w.stop()}},null,this,null,We)},r._ut=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Dr.awrap(this.fD.Kh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new kM(this.fD,n,i);case 7:return this.vD=e,this.RW(),this.Ost(),this.Lst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,We)},r.RW=function(){var t=this.vD;if(t&&m(t.tm)){var n,i,e,r=null!=(n=null==(i=this.xrt)?void 0:i.e$.tm)?n:null==(e=this.Lrt)?void 0:e.e$.tm;void 0!==r&&r>0&&t.EW(r)}this.lst()},r.Ost=function(){var t=this.vD;t&&(t.vW&&(t.vW.kL=this.HC.xL),t.fW&&(t.fW.kL=this.HC.xL))},r.Lst=function(){var t=this.vD;t&&(t.vW&&(t.vW.TL=this.HC.TL),t.fW&&(t.fW.TL=this.HC.TL))},r.hut=function(t,n,i){if(!this.vD)throw new v("Invalid state");this.vD.fW?this.wW&&this.wW.t7(this.vD.fW)||(this.wW=new OM(iy.Nd,this.vD.fW,this.K9,this.J9)):this.wW=void 0,this.vD.vW?this.gW&&this.gW.t7(this.vD.vW)||(this.gW=new OM(iy.Cd,this.vD.vW,this.K9,this.J9)):this.gW=void 0;var e,r,s,u,o,a,h,c,f,l,d,w,_,g,m,y=t&&n&&SO(t,n);if(this.gW&&n){var k=y&&this.wW?[this.gW,this.wW]:[this.gW];this.Frt?this.Frt.R$!==n&&(i&&(this.Frt.Ws(),this.Frt.b9.Bu()),this.Frt.s8(n)):(this.Frt=(e=n,r=k,this.fD,s=this.g6,u=this.IE,o=this.Z4,a=this.i5,h=this.k9,c=this.HC,f=this.m6.useCredentials,l=new oM,d=new iM(iy.Cd,e,s,l,u,o,a,f),w=r.map(function(t){return t.ds}),_=h.gut(e,l,s.n0.rE,w),(g=new wM(d,l,_,c)).p9(r),g),this.Frt.P9.$s(JL.q5,this.mst),this.Frt.B9.$s(uM.K8,this.Mst),this.Frt.B9.$s(uM.J8,this.Ust)),this.Frt.p9(k)}else{var p;null==(p=this.Frt)||p.Us(),this.Frt=void 0}this.wW&&t&&!y?(this.Hrt?this.Hrt.R$!==t&&(i&&(this.Hrt.Ws(),this.Hrt.b9.Bu()),this.Hrt.s8(t)):(this.Hrt=function(t,n,i,e,r,s,u,o,a,h){var c=new oM,f=new iM(iy.Nd,t,e,c,r,s,u,h),v=o.gut(t,c,e.n0.rE,[n.ds]),l=new wM(f,c,v,a);return l.p9([n]),l}(t,this.wW,this.fD,this.g6,this.IE,this.Z4,this.i5,this.k9,this.HC,this.m6.useCredentials),this.Hrt.P9.$s(JL.q5,this.mst),this.Hrt.B9.$s(uM.K8,this.Mst),this.Hrt.B9.$s(uM.J8,this.Ust)),this.Hrt.p9([this.wW])):(null==(m=this.Hrt)||m.Us(),this.Hrt=void 0);this.mut()},r.cut=function(t,n){this.zrt&&(this.zrt.P9.R$===t?n&&(this.zrt.Ws(),this.zrt.b9.Bu()):(this.zrt.Us(),this.zrt=void 0));if(!this.zrt&&t){var i=this.Ert.get(t.Y_);i.cg=Rg.og,this.zrt=function(t,n,i,e,r,s,u){var o=i.n0.rE,a=new hM(n,o),h=new oM,c=new iM(iy.$n,t,i,h,e,r,s,u),f=new dM(t,h,o,iy.$n),v=new wM(c,h,f);return v.A9(a),v}(t,i,this.g6,this.IE,this.Z4,this.i5,this.m6.useCredentials)}},r.mut=function(){var t=[this.wW,this.gW].filter(H).map(function(t){return t.ds});this.g6.n0.rE.S4(t)},r.Aj=function(t,n,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 2:return tu(i),r.next=5,Dr.awrap(this.Sst());case 5:tu(i),this.ist=void 0,this.ust=void 0,this.rst=!0,e=this.yut.JN(n),this.fD.Uu(e),this.Drt&&this.fut.length>0&&(this.kut(this.fD.$g),this.vut());case 12:case"end":return r.stop()}},null,this,null,We)},r.kut=function(t){for(var n=0,i=this.fut;n<i.length;n++){var e=i[n];e.a8(t)||(e.N9(),e.b9.X8()),e.I9(t)||(e.C9(),e.b9.H8())}},r.Tst=function(){for(var t=0,n=this.fut;t<n.length;t++){n[t].Ws()}},r.Sst=function(){return We.all([this.but(),this.Aut(),this.Tut()])},r.vut=function(){this.Sut(),this.Eut(),this.Iut()},r.rut=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Drt&&this.fut.length>0)){t.next=6;break}return this.fut.forEach(function(t){return t.N9()}),t.next=4,Dr.awrap(this.but());case 4:this.Sut(),this.fut.forEach(function(t){return t.P9.d8()});case 6:case"end":return t.stop()}},null,this,null,We)},r.Sut=function(){var t=this;if(!this.Qrt){var n=function(){t.Qrt=void 0};this.qrt=new Ks,this.Qrt=this.Rut(this.qrt.Ys).catch(this.Ast).then(n,n)}},r.but=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.qrt)||t.Ws(),n=this.Qrt,this.Qrt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.Rut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:tu(t),n=this.fut;case 2:for(i=[],e=this.fD.$g,r=0;r<n.length;r++)s=n[r],u=s.P9,o=s.S9(e),u.z6?i.push(u.W6()):s.D9(e,o,this.HC.xL)&&((a=u.h8(o))?(c=a[0],f=a[1],u.k8(c,f,s.P6)):((h=u.R$.e$.wJ).length&&h[0].hk>o&&(this.$g=1/0),u.g8(),u.v8(o)),i.push(u.W6()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.P9.D8})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Dr.awrap(this.fD.du(Tf.tv,t));case 11:v.next=15;break;case 13:return v.next=15,Dr.awrap(eu(We.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,We)},r.Eut=function(){var t=this;if(!this.Zrt){var n=function(){t.Zrt=void 0};this.Yrt=new Ks,this.Zrt=this.Dut(this.Yrt.Ys).catch(this.Ast).then(n,n)}},r.Aut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Yrt)||t.Ws(),n=this.Zrt,this.Zrt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.Dut=function(t){var n,i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:tu(t),n=this.fut;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.P9,(u=r.B9).z6?i.push(u.W6()):(o=s.u8())?"T8"===o.ds?(u.a9(o),i.push(u.W6())):"e2"===o.ds&&(u.u9(o),i.push(u.W6())):i.push(s.w8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.P9.D8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.fD.du(Tf.tv,t));case 10:a.next=14;break;case 12:return a.next=14,Dr.awrap(eu(We.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,We)},r.Iut=function(){var t=this;if(!this.Krt){this.jrt=new Ks;var n=function(){t.Krt=void 0};this.Krt=this.Nut(this.jrt.Ys).catch(this.Ast).then(n,n)}},r.Tut=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.jrt)||t.Ws(),n=this.Krt,this.Krt=void 0,!n){i.next=6;break}return i.next=6,Dr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,We)},r.Nut=function(t){var n,i,e,r,s,u,o,a,h,c,f,v,l,d=this;return Dr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.fut).forEach(function(t){return t.T9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.B9,a=0,h=u.O9;a<h.length;a++)c=h[a],f=c.H6?i:e,c.z6?f.push(c.W6()):c.G6(this.fD.$g)||((v=o.v9(c.ds))?"T8"===v.ds&&v.o2===this.Grt?(c.Z6(v),f.push(c.W6())):"w9"===v.ds&&v.o2===this.Grt&&(c.nV(v),f.push(c.W6())):r.push(o.l9(c.ds)));if(0!==i.length){w.next=15;break}if(!((l=Vs(n,function(t){return t.O9.filter(function(t){return t.H6}).map(function(n){return t.B9.v9(n.ds)})})).length>0&&l.every(function(t){return void 0!==t&&"w9"===t.ds&&t.o2!==d.Grt}))){w.next=15;break}return w.next=12,Dr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=Gs(i=l,function(t){return t.o2}).o2,!i.every(function(t){return t.o2===e})){v.next=20;break}return r=Ws(i,function(t){return t.hk}).hk,v.next=7,Dr.awrap(d.Cut(i));case 7:if(s=v.sent,!d.vD.XX(s)){v.next=15;break}return GO.Y$("Discontinuity","Seamless switch from",d.vD.hc,"to",s),v.next=12,Dr.awrap(d.vD.HX(s));case 12:GO.Y$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Dr.awrap(d.Put(r,s,t));case 17:d.Grt=i[0].o2,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.O9;a<h.length;a++)for(c=h[a],f=o.B9.v9(c.ds);f&&f.o2!==e;)o.B9.j6(f),f=o.B9.v9(c.ds);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,We)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.O9.length>0&&t.O9.every(function(t){return t.G6(d.fD.$g)})})&&this.vD.pV(),w.abrupt("break",23);case 19:return w.next=21,Dr.awrap(eu(We.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,We)},r.Cut=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=t.map(function(t){return t._9.QF}),i=n.map(function(t){return{Wl:t}}),(e=Vs(t,function(t){return t._9.Z1})).push.apply(e,this.g6.n0.H4),s.next=6,Dr.awrap(Sx(this.m6.contentProtection,n,e,this.IE,this.m6.useCredentials));case 6:return 0===(r=s.sent).length&&this.vD&&this.vD.hc.WD.length>0&&(r=this.vD.hc.WD),s.abrupt("return",{ds:ib.LE,NW:i,WD:r});case 9:case"end":return s.stop()}},null,this,null,We)},r.Put=function(t,n,i){var e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.vD,s=r.tm,!(u=this.$g<t)){h.next=19;break}h.prev=4,GO.Y$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.pV();case 7:if(this.fD.nm||!(this.fD.$g<t)){h.next=12;break}return h.next=10,Dr.awrap(this.fD.du([Tf.tv,Tf.Pf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.gV(),r.EW(s),h.t0;case 19:return GO.Y$("Discontinuity","Perform hard switch from",null==(e=this.vD)?void 0:e.hc,"to",n),h.prev=20,this.$g<t&&(this.$g=t),this.fD.xj(),this.gW=void 0,this.wW=void 0,this.mut(),h.next=28,Dr.awrap(this.fD.dc());case 28:return h.next=30,Dr.awrap(this.fD.Kh(n));case 30:this.vD=h.sent,this.RW(),this.Ost(),this.Lst(),this.vD.vW&&(this.gW=new OM(iy.Cd,this.vD.vW,this.K9,this.J9)),this.vD.fW&&(this.wW=new OM(iy.Nd,this.vD.fW,this.K9,this.J9)),this.mut();case 37:return h.prev=37,u&&au(this.fD.Wm()),this.fD.Lj(),h.finish(37);case 41:this.Frt&&(o=void 0!==this.wW&&void 0===this.Hrt,a=o?[this.gW,this.wW]:[this.gW],this.Frt.p9(a)),this.Hrt&&this.Hrt.p9([this.wW]),GO.Y$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],We)},r.wut=function(t){return eu(hu(Vs(this.fut,function(t){return t.O9.map(function(t){return t.W6()})})),t)},r.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return GO.TT(cX,"Unloading the player."),this.But(),this.Gst(),t.next=5,Dr.awrap(this.dc());case 5:return this.fD.FD=void 0,this.Rrt.Jc(),t.next=9,Dr.awrap(this.gD.Jc());case 9:return t.next=11,Dr.awrap(this.K9.Jc());case 11:return t.next=13,Dr.awrap(this.J9.Jc());case 13:this.Om.Jc(),this.xm.Jc(),this.Lm.Jc(),this.Art.Jc(),this.brt.Us(),this.i5.Us();case 19:case"end":return t.stop()}},null,this,null,We)},r.dc=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return GO.TT(cX,"Resetting the player."),this.ou(aO.jJ,this.handleBufferingErrorEvent),this.Grt=-1,this.Prt.Ws(),this.Prt=new Ks,this.RE.Ws(),this.RE=new Ks,this.dY.Ws(),this.dY=new Ks,this.Vrt.Ws(),this.Vrt=new Ks,t=[this.Crt,this.V5,this.lY,this.Wrt].filter(H),n.next=14,Dr.awrap(We.all(t.map(function(t){return t.catch(K)})));case 14:return this.Crt=void 0,this.V5=void 0,this.lY=void 0,this.Wrt=void 0,this.xrt=void 0,this.Lrt=void 0,this.Mrt=void 0,this.Urt=void 0,this.Xrt=[],this.Qst(void 0),this.Tst(),n.next=27,Dr.awrap(this.Sst());case 27:return this.Hrt&&(this.Hrt.Us(),this.Hrt=void 0),this.Frt&&(this.Frt.Us(),this.Frt=void 0),this.zrt&&(this.zrt.Us(),this.zrt=void 0),this.wW=void 0,this.gW=void 0,this.vD=void 0,this.k9&&(this.k9.Us(),this.k9=void 0),this.g6&&(this.g6.Us(),this.g6=void 0),this.Brt&&(this.Lm.uD(this.Brt.zm),this.Brt=void 0),n.next=38,Dr.awrap(this.gD.dc());case 38:return n.next=40,Dr.awrap(this.K9.dc());case 40:return n.next=42,Dr.awrap(this.J9.dc());case 42:return this.fD.tN(),n.next=45,Dr.awrap(this.fD.dc());case 45:this.m6=void 0,this.Nrt=void 0,this.Drt=!1,this.xC=1,this.yW=oS.SC(),this.ist=void 0,this.sst=void 0,this.ust=void 0,this.rst=!1,this.ost=!1,this.ast=!1,this.fst=0,this.Art.dc(),this.Out(),this.Js(new lm(this.$g,this.dg));case 60:case"end":return n.stop()}},null,this,null,We)},r.Out=function(){for(var t=0,n=this.Om.x_;t<n.length;t++){n[t].Jc()}for(var i=0,e=this.xm.x_;i<e.length;i++){e[i].Jc()}for(var r=0,s=this.Lm.x_;r<s.length;r++){s[r].Jc()}this.Om.dc(),this.xm.dc(),this.Lm.dc(),this.Ert.clear()},r.Hst=function(){this.Art.$s(fX,this.Ks),this.Art.$s(vm.Jg,this.RD),this.Art.$s(vm.Kg,this.kst),this.Art.$s(vm.Yg,this.bst),this.HC.$s("pL",this.Bst),this.HC.$s("SL",this.xst),this.fD.$s(vX,this.Ks),this.fD.$s(Tf.Ef,this.handleContentProtectionErrorEvent),this.fD.$s(Tf.Nf,this.vst),this.fD.$s(Tf.Pf,this.dst),this.fD.$s(Tf.Hf,this.wst),this.fD.$s(Tf.Ff,this._st),this.fD.$s(Tf.zf,this.gst),this.fD.$s(vm.p_,this.FE),this.fD.$s(Tf.tv,this.tq),this.fD.$s(Tf.Yf,this.AW),this.fD.$s(Tf.qf,this.ED),this.fD.$s(Tf.ev,this.yst)},r.But=function(){this.Art.ou(fX,this.Ks),this.Art.ou(vm.Jg,this.RD),this.Art.ou(vm.Kg,this.kst),this.Art.ou(vm.Yg,this.bst),this.HC.ou("pL",this.Bst),this.HC.ou("SL",this.xst),this.fD.ou(vX,this.Ks),this.fD.ou(Tf.Ef,this.handleContentProtectionErrorEvent),this.fD.ou(Tf.Nf,this.vst),this.fD.ou(Tf.Pf,this.dst),this.fD.ou(Tf.Hf,this.wst),this.fD.ou(Tf.Ff,this._st),this.fD.ou(Tf.zf,this.gst),this.fD.ou(vm.p_,this.FE),this.fD.ou(Tf.tv,this.tq),this.fD.ou(Tf.Yf,this.AW),this.fD.ou(Tf.qf,this.ED),this.fD.ou(Tf.ev,this.yst)},A(e,[{key:"Wst",get:function(){for(var t=[this.xrt,this.Lrt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.e$.h2)return!1;var e=i.e$.wJ,r=e[e.length-1];if(r&&r.o2!==this.Grt)return!1}return!0}},{key:"N$",get:function(){return this.Ort}},{key:"L$",get:function(){return this.xrt}},{key:"U$",get:function(){return this.Lrt}},{key:"Pst",get:function(){return this.Mrt}},{key:"Hm",get:function(){return this.Om}},{key:"py",get:function(){return this.fD.py.uN()}},{key:"B$",get:function(){var t=[];if(this.Ort)for(var n=this.fD.$g,i=0,e=this.fut;i<e.length;i++)for(var r=0,s=e[i].O9;r<s.length;r++){var u=s[r].Y6(n);u&&!Hs(t,u)&&t.push(u)}return t}},{key:"by",get:function(){if(this.Ort){var t=this.fD.$g;return this.Ort.I2(t)}},set:function(t){if(t&&this.Ort){var n=this.Ort.R2(t);void 0!==n&&(this.$g=n)}}},{key:"$g",get:function(){var t;return null!=(t=this.ist)?t:this.fD.$g},set:function(t){GO.TT(cX,"Seeking to "+t+" s."),this.ist=t,this.ust=!0,this.rst=!0,this.Js(new Tm(t)),this.dY.Ws(),this.Drt&&this.Rst(t)}},{key:"tm",get:function(){var t,n,i,e,r,s,u;return this.Wst?this.fD.tm:null!=(t=null!=(n=null!=(i=null==(e=this.xrt)?void 0:e.e$.tm)?i:null==(r=this.Lrt)?void 0:r.e$.tm)?n:null==(s=this.g6)?void 0:null==(u=s._6)?void 0:u.e$.tm)?t:1/0}},{key:"nm",get:function(){if(!this.Wst)return!1;if(this.fm&&this.Drt){var t,n,i=this.$g,e=null==(t=this.xrt)?void 0:t.e$.tm,r=null==(n=this.Lrt)?void 0:n.e$.tm;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.fD.nm}},{key:"bu",get:function(){return this.lD}},{key:"im",get:function(){return this.dD}},{key:"Vm",get:function(){}},{key:"Ty",get:function(){return!1}},{key:"Sy",get:function(){return Nr({},{Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.fD.aN(),{Ny:this.fst,Dy:this.HC.wL.YR})}},{key:"n0",get:function(){var t;return null==(t=this.g6)?void 0:t.n0}},{key:"um",get:function(){return this.fD.um},set:function(t){this.fD.um=t}},{key:"Py",get:function(){return this.Jrt},set:function(t){this.Jrt!==t&&(this.Jrt=t,this.Js(t?new SM:new EM))}},{key:"hm",get:function(){return this.fD.hm}},{key:"cm",get:function(){return this.fD.cm},set:function(t){GO.TT(cX,"Setting playback rate to "+t+"."),this.fD.cm=t}},{key:"By",get:function(){return this.xut.uN()}},{key:"xut",get:function(){return this.fD.By}},{key:"Oy",get:function(){return this.wD},set:function(t){this.wD!==t&&(this.wD=t,this.qst())}},{key:"dg",get:function(){var t=this.fD.dg;return this.ost&&(t=w.max(jg.Vg,t)),t}},{key:"xy",get:function(){return this.yut.uN()}},{key:"yut",get:function(){var t=this.yW,n=[this.xrt,this.Lrt].filter(H);if(t.L_>0&&n.some(function(t){return!t.e$.h2})){var i=this.xut,e=t.WN(t.L_-1);if(i.L_>0&&i.WN(i.L_-1)>e){var r=i.WN(i.L_-1),s=n.reduce(function(t,n){return t.nC(n.e$.K3)},new oS([0,1/0]));s.L_>0&&(r=w.min(r,s.WN(s.L_-1))),t=t.oC(new oS([e,r]))}}return t}},{key:"fm",get:function(){var t;return null!=(t=this.ust)?t:this.fD.fm}},{key:"hN",get:function(){}},{key:"zm",get:function(){return this.Lm}},{key:"Fm",get:function(){return this.xm}},{key:"vm",get:function(){return this.fD.vm}},{key:"lm",get:function(){return this.fD.lm}},{key:"dm",get:function(){return this.fD.dm},set:function(t){GO.TT(cX,"Setting volume to "+t+"."),this.fD.dm=t}},{key:"Ly",get:function(){return this.pD}},{key:"My",get:function(){return!1},set:function(t){}},{key:"cN",get:function(){return this.kD}},{key:"fut",get:function(){return[this.Hrt,this.Frt,this.zrt].filter(H)}}]),e}(du),_X=function(){function t(){}return t.prototype.vN=function(n,i){var e;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if($g(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||$b(e)){i.next=12;break}if(iA(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Dr.awrap(t.Lut(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,We)},t.Lut=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Dr.awrap(i.Pr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Dr.awrap(i.Br());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Dr.awrap(i.Nr());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Dr.awrap(i.Rr());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,We)},t}(),gX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).PN=n,e}return S(n,t),n.prototype.Kst=function(){this.Js(new Dm(this.$g,this.dg))},A(n,[{key:"dg",get:function(){return this.PN.dg}}]),n}(gb);function mX(t){var n=xs(t,function(t){return t.r$}),e=t.filter(function(t){return t.s$}),r=i.Wr,s=e.map(function(t){return t.Z_}).filter(H),u=bM(s,r);return u?xs(e,function(t){return t.Z_===u}):n}function yX(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.QF&&t.QF.YF&&lN(t.QF.YF,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=kX(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=kX(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.bL.type){case jI.BANDWIDTH:var r=i.LL,s=e.filter(function(t){return t.YR<=r});if(s.length>0)return Gs(s,function(t){return t.YR});case jI.PERFORMANCE:return Ws(e,function(t){return t.YR});case jI.QUALITY:return Gs(e,function(t){return t.YR})}}function kX(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.QF&&t.QF.jF&&lN(t.QF.jF,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function pX(t){var n;return null!=(n=mX(t))?n:t[0]}function bX(t){return t.filter(function(t){return t.r0.some(function(t){return t.e$.e4<i.dr()-dX})||0===t.r0.length})}var AX=function(){function t(){}var i=t.prototype;return i.e5=function(t,i,e){var r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Dr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],We)},i.Us=function(){},t.bc=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),TX=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(_u),SX=["message","messageerror","error"],EX=function(t){function n(n){var i;return(i=t.call(this,Dg.ag)||this).error=n,i}return S(n,t),n}(_u),IX=function(t){function n(n){var i;return(i=t.call(this)||this).Mut=void 0,i.Uut=void 0,i.Xut=[],i.Hut=function(t){if(i.Fut)t.zut();else{i.Mut=t,i.Mut.$s(SX,i.Ks);for(var n=0,e=i.Xut;n<e.length;n++){var r=e[n];t.Vut(r.mu,r.Wut)}Fs(i.Xut)}},i.Gut=function(t){if(!i.Fut){var n=t instanceof v?t:new v("Could not create Worker.");i.Js(new EX(n)),i.zut()}},i.Uut=new Ks,n(i.Uut.Ys).then(i.Hut,i.Gut),i}S(n,t);var i=n.prototype;return i.Vut=function(t,n){this.Fut||(void 0!==this.Mut?this.Mut.Vut(t,n):this.Xut.push({mu:t,Wut:n}))},i.zut=function(){this.Fut||(this.Uut.Ws(),Fs(this.Xut),void 0!==this.Mut&&this.Mut.zut())},A(n,[{key:"Fut",get:function(){return this.Uut.Ys.Bs}}]),n}(du);var RX=function(t){function n(n){var i;return(i=t.call(this)||this).Mut=void 0,i.qut=function(t){i.Js(new TX("message",t.data))},i.Yut=function(t){i.Js(new TX("messageerror",t.data))},i.JY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Js(new EX(n)),i.zut()},i.Mut=new k(n),i.Mut.addEventListener("message",i.qut),i.Mut.addEventListener("messageerror",i.Yut),i.Mut.addEventListener("error",i.JY),i}S(n,t);var i=n.prototype;return i.Vut=function(t,n){n?this.Mut.postMessage(t,n):this.Mut.postMessage(t)},i.zut=function(){this.uu(),this.Mut.removeEventListener("message",this.qut),this.Mut.removeEventListener("messageerror",this.Yut),this.Mut.removeEventListener("error",this.JY),this.Mut.terminate()},n}(du),DX=0,NX="iframe.html",CX=function(n){function e(e,r){var u;(u=n.call(this)||this).Mh=void 0,u.jut=void 0,u.Qut=void 0,u.Zut=void 0,u.Kut=function(){u.Qut.removeEventListener("load",u.Kut),u.Qut.contentWindow.postMessage({type:"initialize",id:u.Mh,script:u.jut},"*")},u.Jut=function(t){t.origin===u.Zut&&t.data.id===u.Mh&&("initialized"===t.data.type||("error"===t.data.type?(u.Js(new EX(new v(t.data.data.message))),u.zut()):u.Js(new TX("message",t.data.data))))},u.Mh=DX++,u.jut=e;var o,a,h=i.Lr(NX,r);return u.Qut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Zut=h.origin,u.Qut.addEventListener("load",u.Kut),t.addEventListener("message",u.Jut),u}S(e,n);var r=e.prototype;return r.Vut=function(t,n){n?this.Qut.contentWindow.postMessage({type:"message",data:t},"*",n):this.Qut.contentWindow.postMessage({type:"message",data:t},"*")},r.zut=function(){var n;this.Qut.removeEventListener("load",this.Kut),t.removeEventListener("message",this.Jut),null==(n=this.Qut.contentWindow)||n.postMessage({type:"terminate"},"*"),$e(this.Qut)},e}(du);function PX(t,n){return t=i.Mr(t,n),new IX(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new RX(t),v.next=4,Dr.awrap(LX(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.zut(),nu(v.t0);case 11:if(!xX||!bf){v.next=42;break}return v.prev=12,v.next=15,Dr.awrap(i.t_.vd({dd:t,Bd:nw.GET,od:Sf.$n,Ys:e}));case 15:return o=v.sent,v.next=18,Dr.awrap(o.Hl(e));case 18:u=v.sent,v.next=24;break;case 21:v.prev=21,v.t1=v.catch(12),nu(v.t1);case 24:if(!u){v.next=42;break}return v.prev=25,h=bf([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new RX(a),v.next=31,Dr.awrap(LX(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.zut(),nu(v.t2),xX=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new CX(t,n),v.next=46,Dr.awrap(LX(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.zut(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],We)}(t,n,e)})}var BX,OX,xX=!0;function LX(t,i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.du(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(G(s=e.data)&&"4.10.0"===s.$ut){r.next=7;break}throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.10.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,We)}!function(t){t.tot="e5",t.iot="I5"}(BX||(BX={})),function(t){t.eot="rot",t.uot="oot"}(OX||(OX={}));var MX=function(){function t(t){var e=this;this.aot=void 0,this.hot=void 0,this.Mut=void 0,this.cot=0,this.fot=Pr(),this.vot=function(t){var i=t.data,r=i.lot,s=e.fot.get(r);s&&(e.fot.delete(r),i.dot===OX.eot?s.ju(i.wot):i.dot===OX.uot&&s.Qu(new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.bw=function(t){var i=new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.Us(i)},this.aot=t;try{this.hot=i.Mr("theoplayer.d.js",t)}catch(t){throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e._ot=function(){var t=PX(this.hot,this.aot);return t.$s("message",this.vot),t.$s("error",this.bw),t},e.e5=function(t,n,i){var e=""+ ++this.cot,r={got:BX.tot,mot:e,yot:t,kot:n,pot:i},s=new Wo;return this.fot.set(e,s),null!=this.Mut||(this.Mut=this._ot()),this.Mut.Vut(r),s.Wu},e.Us=function(t){void 0===t&&(t=new Js),this.fot.forEach(function(n){return n.Qu(t)}),this.fot.clear(),this.Mut&&(this.Mut.zut(),this.Mut=void 0)},t}();function UX(t,n){if(void 0===n.bot)return{jF:void 0,YF:t};if(void 0===n.Aot)return{jF:t,YF:void 0};for(var i=Tc(t),e=HX(i),r=HX(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];UD(u)&&(e.boxes[s]=WX(u,n.Aot),r.boxes[s]=WX(u,n.bot))}var o=e.serialize().join(),a=r.serialize().join();return{jF:o,YF:a}}function XX(t){var n=xs(t.boxes,LD);if(n){var i=xs(n.boxes,MD);if(i)return i.handlerType}}function HX(t){var n,i=new mc;return(n=i.boxes).push.apply(n,t.boxes),i}function FX(t){var n,i=new Ph;return(n=i.boxes).push.apply(n,t.boxes),i}var zX=8;function VX(t,n){for(var i=function(t){var n,i=new Wh;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=GX(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new rh(new y(n.getSize()-zX));else if(s instanceof Ph){var u=s,o=Ms(u.boxes,function(t){return t instanceof Nh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=FX(u);h.boxes[o]=new rh(new y(a.getSize()-zX)),i.boxes[r]=h}}}return i}function WX(t,n){for(var i=function(t){var n,i=new ic;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof tc){var s=xs(r.boxes,XD);s&&s.trackId===n&&(i.boxes[e]=new rh(new y(r.getSize()-zX)))}}return i}function GX(t){return xs(t.boxes,xD).trackId}function qX(t,n,i){for(var e=xs(t.boxes,XD),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof jh)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Up(n).wp());else if(o instanceof Yh)o.baseMediaDecodeTime-=i.Xk(n);else if(o instanceof Jh&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Xk(n),o.samples=a}}}function YX(t,n){var i=Zk(ep.zA(xo(t)),ak.jb);if(!i)throw new v("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.NS||0===r.DS.length||0===r.DS[0].MS.length)return"continue";for(var s=r.xA._T,u=xs(n.eT,function(t){return t._T===s}),o=0,a=1/0,h=0,c=r.xA.yS||0,f=0,v=r.DS;f<v.length;f++)for(var l=0,d=v[f].MS;l<d.length;l++){var w,_=d[l],g=_.US||0,m=o+g,y=(o+=null!=(w=_.tm)?w:c)+g;m<a&&(a=m),y>h&&(h=y)}var k=ik.ep(r.NS.NS,u.Bp);i.push({_T:s,Tot:k,BK:k.Xy(ik.rp(a,u.Bp)),Sot:k.Xy(ik.rp(o,u.Bp)),Eot:k.Xy(ik.rp(h,u.Bp))})},r=0,s=t.eT;r<s.length;r++)e(r,s);return i}(i,n)}var jX,QX=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Uw=void 0,u.Iot=void 0,u.Rot=void 0,u.Dot=void 0,u.Not=void 0,u.Cot=0,u.Pot=0,u.Bot=Br(),u.Uw=n,u}S(i,t);var e=i.prototype;return e.o9=function(n,i){return t.prototype.o9.call(this,n,i)},e.Oot=function(t){var n;return this.Bot.has(t.o2)?n=this.Bot.get(t.o2):(n=PM(t.T8.Fi.Fi),this.Bot.set(t.o2,n)),n},e.h9=function(i,e){var r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p,b,A,T,S,E,I,R;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:if(tu(e),s=this.Oot(i),u=i.T8,s===TM.Q9||s===TM.j9){D.next=5;break}return D.abrupt("return",t.prototype.h9.call(this,i,e));case 5:if(!u.Q6.Z1.some(KX)){D.next=7;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Uw.xot(),s!==TM.Q9){D.next=14;break}return D.next=11,Dr.awrap(o.Lot({data:u.Fi.Fi,metadata:this.Iot}));case 11:a=D.sent,D.next=17;break;case 14:return D.next=16,Dr.awrap(o.Mot({data:u.Fi.Fi,metadata:this.Iot}));case 16:a=D.sent;case 17:if(tu(e),this.c9({jF:a.metadata.audio_codec,YF:a.metadata.video_codec,ZF:void 0}),h=ik.ep(ft.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=ik.ep(ft.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.Q6.PK=c,this.f9(),this.D4.o4(i.o2)){D.next=30;break}for(f=ik.Wp(u.Q6.hk),v=0,l=this.d9;v<l.length;v++)d=l[v],this.D4._4(i.o2,d,h,f,!0);if(this.f9(),this.D4.o4(i.o2)){D.next=30;break}return D.next=30,Dr.awrap(eu(this.D4.a4(i.o2),e));case 30:if(w=this.D4.w4(h,u.Q6),this.Iot=a.metadata,_={H1:i.H1,g9:lM(u.Q6),hk:u.Q6.hk,tm:null!=(r=u.Q6.tm)?r:0,_b:w.Hk(),o2:i.o2,R$:i.R$,Q6:u.Q6},void 0!==a.data.audio_media||void 0!==a.data.video_media){D.next=36;break}for(g=0,m=this.d9;g<m.length;g++)y=m[g],k=Nr({ds:"T8",Fi:void 0,m4:y},_),this.O8(k);return D.abrupt("return");case 36:p=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.Rot&&this.Cot===i.o2&&Mu(this.Rot,a.data.audio_init)||(b={ds:"w9",Fi:{ds:AD.tH,Fi:a.data.audio_init},m4:iy.Nd,o2:i.o2,_9:{QF:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',Z1:u.Q6.Z1},hk:u.Q6.hk,R$:i.R$,Q6:u.Q6},this.Rot=a.data.audio_init,this.Cot=i.o2,this.O8(b)),A=Nr({ds:"T8",Fi:{ds:AD.tH,Fi:a.data.audio_media},m4:iy.Nd},_),this.O8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.Dot&&this.Pot===i.o2&&Mu(this.Dot,a.data.video_init)||(T={ds:"w9",Fi:{ds:AD.tH,Fi:a.data.video_init},m4:iy.Cd,o2:i.o2,_9:{QF:'video/mp4; codecs="'+a.metadata.video_codec+'"',Z1:u.Q6.Z1},hk:u.Q6.hk,R$:i.R$,Q6:u.Q6},this.Dot=a.data.video_init,this.Pot=i.o2,this.Not=$D(xo(a.data.video_init)),this.O8(T)),S=this.Not.eT[0],E=YX(a.data.video_media,this.Not)[0],I=this.Uot(a.data.video_media,S,E,u.Q6),this.Xot=S,R=Nr({ds:"T8",Fi:{ds:AD.tH,Fi:I},m4:iy.Cd},_),this.O8(R),p.push(E)),this.Hot=u.Q6,this.Fot=p;case 41:case"end":return D.stop()}},null,this,null,We)},e.Ws=function(){this.Rot=void 0,this.Dot=void 0,t.prototype.Ws.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Zz=void 0,n.zot=void 0,n.Hot=void 0,n.Fot=void 0,n.Xot=void 0,n}S(n,t);var i=n.prototype;return i.o9=function(t,n){tu(n);var i=this.R$.ds,e=$D(xo(t.e2.Fi.Fi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Zz=e;var r=function(t){for(var n,i,e,r=0,s=t.eT;r<s.length;r++){var u=s[r];n||(n=u.QF.jF),i||(i=u.QF.YF),e||(e=u.QF.ZF)}if(n||i)return{jF:n,YF:i,ZF:e};return}(e);r&&this.c9(r);var s=function(t){var n=Tc(t),i=xs(n.boxes,BD),e=i.boxes.filter(OD),r=xs(e,function(t){return XX(t)===vh.AUDIO}),s=xs(e,function(t){return XX(t)===vh.VIDEO}),u={bot:r?GX(r):void 0,Aot:s?GX(s):void 0};if(!r||!s)return{jF:r?t:void 0,YF:s?t:void 0,hE:u};var o=HX(n),a=HX(n),h=n.boxes.indexOf(i);o.boxes[h]=VX(i,s),a.boxes[h]=VX(i,r);var c=o.serialize().join(),f=a.serialize().join();return{jF:c,YF:f,hE:u}}(t.e2.Fi.Fi);if(this.zot=s.hE,s.YF){var u=xs(e.eT,function(t){return t._T===s.hE.Aot}),o={ds:"w9",Fi:{ds:AD.tH,Fi:s.YF},m4:iy.Cd,o2:t.o2,_9:{QF:'video/mp4; codecs="'+u.QF.YF+'"',Z1:t.Z1},hk:t.hk,R$:this.R$,Q6:t.e2.Q6};this.O8(o)}if(s.jF){var a=xs(e.eT,function(t){return t._T===s.hE.bot}),h={ds:"w9",Fi:{ds:AD.tH,Fi:s.jF},m4:iy.Nd,o2:t.o2,_9:{QF:'audio/mp4; codecs="'+a.QF.jF+'"',Z1:t.Z1},hk:t.hk,R$:this.R$,Q6:t.e2.Q6};this.O8(h)}return We.resolve()},i.h9=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,l,d,w,_,g,m,y,k,p;return Dr.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(tu(n),e=t.T8.Q6,r=this.R$.ds,GO.TT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+mO(e.c$)),s=t.T8.Fi,(u=YX(s.Fi,this.Zz)).length>0&&(o=qs(u.map(function(t){return t.BK}),ek),e.PK=o,this.f9()),this.D4.o4(t.o2)){b.next=13;break}if(a=ik.Wp(e.hk),u.length>0){for(h=qs(u.map(function(t){return t.Tot}),ek),c=0,f=this.d9;c<f.length;c++)v=f[c],this.D4._4(t.o2,v,h,a,!1);this.f9()}if(this.D4.o4(t.o2)){b.next=13;break}return b.next=13,Dr.awrap(eu(this.D4.a4(t.o2),n));case 13:l=this.D4.v4(t.o2),d={H1:t.H1,g9:lM(e),hk:e.hk,tm:null!=(i=e.tm)?i:0,_b:l.Hk(),o2:t.o2,R$:t.R$,Q6:t.T8.Q6},(w=UX(s.Fi,this.zot)).YF&&(_=this.zot.Aot,g=xs(this.Zz.eT,function(t){return t._T===_}),m=xs(u,function(t){return t._T===_}),y=this.Uot(w.YF,g,m,e),this.Xot=g,k=Nr({ds:"T8",Fi:{ds:AD.tH,Fi:y},m4:iy.Cd},d),this.O8(k)),w.jF&&(p=Nr({ds:"T8",Fi:{ds:AD.tH,Fi:w.jF},m4:iy.Nd},d),this.O8(p)),this.Hot=e,this.Fot=u;case 20:case"end":return b.stop()}},null,this,null,We)},i.Uot=function(t,n,i,e){if(!function(t){return hL(t)?t.i2:0===t.M2&&t.L2.i2}(e))return t;if(!this.Hot||!this.Xot||!this.Fot)return t;var r=this.Xot._T,s=xs(this.Fot,function(t){return t._T===r}),u=this.D4.l4(s.Eot,this.Hot),o=this.D4.l4(i.BK,e).Kk(u).Up(n.Bp);if(o.Gk(ik.op))return t;if(o.Fk(ik.Wp(.5)))return t;var a=hL(e)?e:e.L2;return GO.Y$("Mp4Transmuxer","Stretching first video frame of segment #"+a.H1+" to fill gap of "+o.Hk()+"s"),function(t,n,i){var e=Tc(t),r=xs(e.boxes,UD);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof tc&&qX(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,v=r.boxes;f<v.length;f++){var l=v[f];l instanceof tc&&HD(l,c)}}return e.serialize().join()}(t,n.Bp,o)},n}(vM)),ZX=function(){function t(){}return t.prototype.gut=function(t,n,i,e){return new QX(this,t,n,i,e)},t}();function KX(t){return t.Bd===fO.t$}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(jX||(jX={}));var JX=function(){function t(t){var e=this;this.aot=void 0,this.hot=void 0,this.Vot=void 0,this.Mut=void 0,this.cot=0,this.fot=Br(),this.Wot=0,this.vot=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.fot.get(n.requestId);if(!i)return;e.fot.delete(n.requestId),n.success?i.ju(n.output):i.Qu(new tf(n.errorCode,n.error))}else n.success||e.Us(new tf(n.errorCode,n.error))},this.bw=function(t){var i=new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Us(i)},this.aot=t,this.Vot=function(){if("undefined"==typeof WebAssembly)return!1;var t=M.yn;return!(t>0&&t<=56)}();var r=this.Vot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.hot=i.Mr(r,t)}catch(t){throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Mut=this._ot()}var e=t.prototype;return e.Lot=function(t){return this.Got(jX.MPEGTS_TO_FMP4,t)},e.Mot=function(t){return this.Got(jX.RAW_AUDIO_TO_FMP4,t)},e._ot=function(){var t=PX(this.hot,this.aot);return t.$s("message",this.vot),t.$s("error",this.bw),t},e.Got=function(t,n){var i=++this.cot;this.Wot+=1;var e={type:t,id:i,input:n},r=new Wo;return this.fot.set(i,r),this.Mut.Vut(e,[n.data.buffer]),r.Wu},e.Us=function(t){void 0===t&&(t=new Js),this.fot.forEach(function(n){return n.Qu(t)}),this.fot.clear(),this.Mut.zut()},t}(),$X=function(t){function n(n){var i;return(i=t.call(this)||this).Mut=void 0,i.qot=n,i}S(n,t);var i=n.prototype;return i.xot=function(){var t;return null!=(t=this.Mut)?t:this.Mut=new JX(this.qot)},i.Us=function(){this.Mut&&(this.Mut.Us(),this.Mut=void 0)},n}(ZX),tH=function(){function t(t){this.qot=t}return t.prototype.LK=function(){return new $X(this.qot)},t}(),nH=function(){function t(t){this.QR=void 0,this.QR=t}var n=t.prototype;return n.XD=function(t){return this.QR.XD(t)},n.OJ=function(t){return this.QR.OJ(t)},n.eN=function(t){return this.QR.eN(t)},t}(),iH=function(t){function n(n){var i;return(i=t.call(this)||this).fD=void 0,i.vD=void 0,i.Yot=new Mg,i.jot=function(t){return i.ly(t)},i.fD=n,i.Yot.z_=n.zm,i.fD.$s(wD,i.jot),i}S(n,t);var i=n.prototype;return i.WL=function(){return this.fD.py},i.qL=function(){return this.fD.by},i.jL=function(){return this.fD.$g},i.ZL=function(){return this.fD.tm},i.Qot=function(){return this.fD.hN},i.Zot=function(){return this.fD.nm},i.Kot=function(){return this.fD.hm},i.aM=function(){return this.fD.By},i.fM=function(){return this.fD.dg},i.vM=function(){return this.fD.xy},i.lM=function(){return this.fD.fm},i.dM=function(){return this.Yot},i.wQ=function(){return this.fD.QU},i.Jot=function(){return this.fD.FD},i.$ot=function(t){this.fD.FD=t},i.nat=function(t){this.fD.zj=t},i.iat=function(){return this.fD.Kq},i.aN=function(){return this.fD.aN()},i.Wm=function(){return this.fD.Wm()},i.Gm=function(){this.fD.Gm()},i.Uu=function(t,n){this.fD.Uu(t,n)},i.oN=function(t){this.fD.oN(t)},i.ey=function(){this.fD.ey()},i.sy=function(){this.fD.sy()},i.NE=function(t,n,i,e,r,s,u){return this.fD.NE(t,n,i,e,r,s,u)},i.QD=function(){return this.fD.QD()},i.KD=function(t,n,i,e,r){return this.fD.KD(t,n,i,e,r)},i.BE=function(t){this.fD.BE(t)},i.tN=function(){this.fD.tN()},i.jX=function(t){return this.fD.jX(t)},i.Kh=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(this.fD.Kh(t));case 2:return n=e.sent,i=t.ds===ib.xE?this.eat(n):this.rat(n),this.vD=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,We)},i.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vD){t.next=4;break}return t.next=3,Dr.awrap(this.vD.Us());case 3:this.vD=void 0;case 4:return t.next=6,Dr.awrap(this.fD.dc());case 6:case"end":return t.stop()}},null,this,null,We)},i.xj=function(){this.fD.xj()},i.Lj=function(){this.fD.Lj()},i.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.uu(),this.fD.ou(wD,this.jot),this.Yot.z_=void 0,this.Yot.Jc(),!this.vD){t.next=8;break}return t.next=7,Dr.awrap(this.vD.Us());case 7:this.vD=void 0;case 8:case"end":return t.stop()}},null,this,null,We)},i.Mj=function(){this.fD.Mj()},i.sat=function(t){this.fD.ou(wD,this.jot),this.fD=t,this.Yot.z_=t.zm,this.fD.$s(wD,this.jot)},i.ly=function(t){this.Js(t)},A(n,[{key:"uat",get:function(){return this.fD}},{key:"py",get:function(){return this.WL()}},{key:"by",get:function(){return this.qL()}},{key:"$g",get:function(){return this.jL()}},{key:"YU",get:function(){return this.fD.YU}},{key:"tm",get:function(){return this.ZL()}},{key:"hN",get:function(){return this.Qot()}},{key:"nm",get:function(){return this.Zot()}},{key:"bu",get:function(){return this.fD.bu}},{key:"yT",get:function(){return this.fD.yT}},{key:"Uk",get:function(){return this.fD.Uk}},{key:"$D",get:function(){return this.fD.$D}},{key:"um",get:function(){return this.fD.um},set:function(t){this.fD.um=t}},{key:"hm",get:function(){return this.Kot()}},{key:"cm",get:function(){return this.fD.cm},set:function(t){this.fD.cm=t}},{key:"By",get:function(){return this.aM()}},{key:"dg",get:function(){return this.fM()}},{key:"xy",get:function(){return this.vM()}},{key:"fm",get:function(){return this.lM()}},{key:"zm",get:function(){return this.dM()}},{key:"QU",get:function(){return this.wQ()}},{key:"Hj",get:function(){return this.fD.Hj}},{key:"dm",get:function(){return this.fD.dm},set:function(t){this.fD.dm=t}},{key:"Uj",get:function(){return this.fD.Uj}},{key:"Ty",get:function(){return this.fD.Ty}},{key:"Fj",get:function(){return this.fD.Fj}},{key:"FD",get:function(){return this.Jot()},set:function(t){this.$ot(t)}},{key:"zj",get:function(){return this.fD.zj},set:function(t){this.nat(t)}},{key:"Kq",get:function(){return this.iat()}}]),n}(du),eH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Xj=function(t){this.fD.Xj(t)},i.dj=function(){this.fD.dj()},i.yy=function(){this.fD.yy()},A(n,[{key:"HD",get:function(){return this.fD.HD}},{key:"XW",get:function(){return this.fD.XW}},{key:"My",get:function(){return this.fD.My},set:function(t){this.fD.My=t}}]),n}(iH),rH=function(){function t(t){this.vD=void 0,this.vD=t}var n=t.prototype;return n.mc=function(){return this.vD.hc},n.vM=function(){return this.vD.xy},n.XX=function(t){return this.vD.XX(t)},n.HX=function(t){return this.vD.HX(t)},n.Us=function(){return We.resolve()},A(t,[{key:"hc",get:function(){return this.mc()}},{key:"xy",get:function(){return this.vM()}},{key:"Fm",get:function(){return this.vD.Fm}}]),t}(),sH=function(t){function n(n){var i;return(i=t.call(this,n)||this).wW=void 0,i.gW=void 0,i.oat=function(t){return i.aat(t)},i}S(n,t);var i=n.prototype;return i.WL=function(){return this.vD.py},i.ZL=function(){return this.vD.tm},i.fat=function(){return this.vD.QX},i.EW=function(t){this.vD.EW(t)},i.DW=function(t,n,i,e){this.vD.DW(t,n,i,e)},i.pV=function(){this.vD.pV()},i.gV=function(){this.vD.gV()},i.Us=function(){return this.wW&&(this.wW.Us(),this.wW=void 0),this.gW&&(this.gW.Us(),this.gW=void 0),t.prototype.Us.call(this)},i.vat=function(t){this.vD=t,this.wW?t.fW?this.wW.V6(t.fW):(this.wW.Us(),this.wW=void 0):t.fW&&(this.wW=this.dat(t.fW),this.wW.$s(SD,this.oat)),this.gW?t.vW?this.gW.V6(t.vW):(this.gW.Us(),this.gW=void 0):t.vW&&(this.gW=this.dat(t.vW),this.gW.$s(SD,this.oat))},i.aat=function(t){},A(n,[{key:"fW",get:function(){return this.wW}},{key:"vW",get:function(){return this.gW}},{key:"py",get:function(){return this.WL()}},{key:"tm",get:function(){return this.ZL()}},{key:"QX",get:function(){return this.fat()}}]),n}(rH),uH=function(t){function n(n){var i;return(i=t.call(this)||this).Lc=void 0,i.RL=0,i.DL=0,i.Lc=n,i}S(n,t);var i=n.prototype;return i.Jz=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.NV=function(){return We.reject(new v("Invalid media buffer"))},i.nV=function(t,n,i){return We.reject(new v("Invalid media buffer"))},i.QX=function(){return!1},i.pV=function(){},i.RV=function(t,n){},i.DV=function(t,n){},i.Jh=function(t,n,i){return We.resolve()},i.hV=function(t,n){return We.reject(new v("Invalid media buffer"))},i.qy=function(t,n){return We.reject(new v("Invalid media buffer"))},i.XX=function(t){return!1},i.HX=function(t){return We.reject(new v("Invalid media buffer"))},i.Us=function(){this.uu()},A(n,[{key:"TL",get:function(){return this.DL},set:function(t){this.DL=t}},{key:"py",get:function(){return oS.SC()}},{key:"hc",get:function(){return this.Lc}},{key:"BV",get:function(){return iy._d}},{key:"OV",get:function(){return oS.SC()}},{key:"wat",get:function(){return!1}},{key:"kL",get:function(){return this.RL},set:function(t){this.RL=t}}]),n}(du),oH=function(t){function n(n){var i;return(i=t.call(this,n)||this).fD=void 0,i}S(n,t);var i=n.prototype;return i.Jz=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return tu(i),e.next=3,Dr.awrap(this._at(this.fD.$g,null==n?void 0:n.PK,null==n?void 0:n.tm));case 3:if(tu(i),t.ds!==AD.vv){e.next=10;break}return e.next=7,Dr.awrap(this.gat(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Dr.awrap(this.mat(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,We)},i.gat=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Ud(e.Fi),s=r[0],u=r[1],e={ds:AD.vv,Fi:s},o.prev=4,o.next=7,Dr.awrap(this.yat(e,n,i));case 7:return u.cancel(new Js).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!eR(o.t0)){o.next=20;break}return o.next=16,Dr.awrap(this._at(this.fD.$g,n.PK,n.tm,i));case 16:if(!o.sent){o.next=20;break}return e={ds:AD.vv,Fi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],We)},i.mat=function(t,n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,tu(i),e.next=5,Dr.awrap(this.yat(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!eR(e.t0)){e.next=16;break}return e.next=13,Dr.awrap(this._at(this.fD.$g,n.PK,n.tm,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],We)},i._at=function(t,n,i,e){var r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=iR(t,n,i,this.py,this.kL,this.TL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Dr.awrap(this.pat(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,We)},i.yat=function(n,i,e){return t.prototype.Jz.call(this,n,i,e)},i.pat=function(n,i,e){return t.prototype.Jh.call(this,n,i,e)},A(n,[{key:"BJ",get:function(){return this.fD},set:function(t){this.fD=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).A6=void 0,i.bat=function(t){return i.ly(t)},i.A6=n,i.A6.$s(SD,i.bat),i}S(n,t);var i=n.prototype;return i.Aat=function(){return this.A6.TL},i.Tat=function(t){this.A6.TL=t},i.WL=function(){return this.A6.py},i.mc=function(){return this.A6.hc},i.Sat=function(){return this.A6.OV},i.Eat=function(){return this.A6.kL},i.Iat=function(t){this.A6.kL=t},i.Jz=function(t,n,i){return this.A6.Jz(t,n,i)},i.NV=function(){return this.A6.NV()},i.nV=function(t,n,i){return this.A6.nV(t,n,i)},i.QX=function(){return this.A6.QX()},i.pV=function(){this.A6.pV()},i.RV=function(t,n){this.A6.RV(t,n)},i.DV=function(t,n){this.A6.DV(t,n)},i.Jh=function(t,n,i){return this.A6.Jh(t,n,i)},i.hV=function(t,n){return this.A6.hV(t,n)},i.XX=function(t){return this.A6.XX(t)},i.HX=function(t){return this.A6.HX(t)},i.ly=function(t){this.Js(t)},i.Us=function(){this.uu(),this.V6(new uH(this.hc))},i.V6=function(t){this.A6.ou(SD,this.bat),this.A6=t,this.A6.$s(SD,this.bat)},A(n,[{key:"TL",get:function(){return this.Aat()},set:function(t){this.Tat(t)}},{key:"py",get:function(){return this.WL()}},{key:"hc",get:function(){return this.mc()}},{key:"BV",get:function(){return this.A6.BV}},{key:"OV",get:function(){return this.Sat()}},{key:"kL",get:function(){return this.Eat()},set:function(t){this.Iat(t)}}]),n}(du)),aH=function(t){function n(n){var i;return(i=t.call(this,n)||this).fD=void 0,i.vat(n),i}return S(n,t),n.prototype.dat=function(t){var n=new oH(t);return n.BJ=this.fD,n},A(n,[{key:"BJ",get:function(){return this.fD},set:function(t){this.fD=t,this.wW&&(this.wW.BJ=t),this.gW&&(this.gW.BJ=t)}}]),n}(sH),hH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Oy",get:function(){return this.vD.Oy},set:function(t){this.vD.Oy=t}}]),n}(rH),cH=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Xj=function(t){this.fD.Xj(t)},i.dj=function(){this.fD.dj()},i.yy=function(){this.fD.yy()},i.uy=function(){return this.fD.uy()},A(n,[{key:"HD",get:function(){return this.fD.HD}},{key:"XW",get:function(){return this.fD.XW}},{key:"lm",get:function(){return this.fD.lm}},{key:"vm",get:function(){return this.fD.vm}},{key:"My",get:function(){return this.fD.My},set:function(t){this.fD.My=t}}]),n}(iH),fH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.rat=function(t){var n=new aH(t);return n.BJ=this,n},i.eat=function(t){return new hH(t)},A(n,[{key:"uat",get:function(){return this.fD}}]),n}(eH),vH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.rat=function(t){var n=new aH(t);return n.BJ=this,n},i.eat=function(t){return new hH(t)},A(n,[{key:"uat",get:function(){return this.fD}}]),n}(cH),lH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.XD=function(n){return n===iy.Cd?new vH(t.prototype.XD.call(this,n)):n===iy.Nd?new fH(t.prototype.XD.call(this,n)):void 0},i.eN=function(n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Dr.awrap(i.Us());case 3:return e.next=5,Dr.awrap(t.prototype.eN.call(this,i.uat));case 5:case"end":return e.stop()}},null,this,null,We)},n}(nH);function dH(t){return cw(t)}function wH(t,n){var i=cw(t);return n?""+i+n:""+i}var _H,gH=function(){function t(t,n,i,e){this.Rat=t,this.Dat=n,this.Nat=i,this.Cat=e}var n=t.prototype;return n.c6=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.Rat.Pat(t.map(dH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,We)},n.prt=function(t,n){var i=wH(t,n);return this.Dat.Du(i)},n.h5=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=wH(t,n),r.next=3,Dr.awrap(this.Nat.Nu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,We)},n.eU=function(t){return this.Cat.Nu(t)},t}(),mH=function(){function t(){}var n=t.prototype;return n.Bat=function(t){return We.resolve(!1)},n.Oat=function(t){return We.reject(yH)},n.xat=function(t){return We.reject(yH)},n.Du=function(t){return We.resolve(!1)},n.Nu=function(t){return We.resolve(void 0)},n.Lat=function(t,n){return We.resolve(void 0)},n.Pat=function(t){return We.resolve([])},n.Mat=function(){return We.resolve([])},n.Uat=function(t){return We.resolve([])},n.Xat=function(t,n){return We.resolve([])},n.Jh=function(t){return We.reject(yH)},n.Hat=function(t){return We.reject(yH)},n.Fat=function(){return We.reject(yH)},t}(),yH="Storage disabled",kH=function(){function t(){this.zat=void 0,this.wJ=void 0,this.Vat=void 0,this.Wat=void 0,this.Gat=void 0,this.zat=new mH,this.wJ=new mH,this.Vat=new mH,this.Wat=new mH,this.Gat=new mH}return t.LK=function(){return We.resolve(new t)},t.prototype.qat=function(t){return We.reject(pH)},t}(),pH="Storage disabled",bH=function(){function t(t){var n=this;this.Vs=new Wo,this.Yat=void 0,this.Vs.ju(t),this.Vs.Wu.then(function(t){n.Yat=t})}var n=t.prototype;return n.Bat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Bat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Oat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Yat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.jat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Oat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.xat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Yat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.jat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.xat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Du=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Du(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Nu=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Nu(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Lat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Yat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.jat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Lat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Pat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Pat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Mat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Yat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.jat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Mat());case 7:case"end":return n.stop()}},null,this,null,We)},n.Uat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Uat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Xat=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Yat,e.t0){e.next=5;break}return e.next=4,Dr.awrap(this.jat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Xat(t,n));case 7:case"end":return e.stop()}},null,this,null,We)},n.Jh=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Jh(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Hat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Yat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.jat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Hat(t));case 7:case"end":return i.stop()}},null,this,null,We)},n.Fat=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Yat,n.t0){n.next=5;break}return n.next=4,Dr.awrap(this.jat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Fat());case 7:case"end":return n.stop()}},null,this,null,We)},A(t,[{key:"jat",get:function(){return this.Vs.Wu}}]),t}(),AH=function(){function t(t){var n=this;this.Vs=new Wo,this.Qat=void 0,this.wJ=void 0,this.zat=void 0,this.Vat=void 0,this.Wat=void 0,this.Gat=void 0,this.Vs.ju(t);var i=this.Vs.Wu;i.then(function(t){n.Qat=t}),this.wJ=new bH(i.then(function(t){return t.wJ})),this.zat=new bH(i.then(function(t){return t.zat})),this.Vat=new bH(i.then(function(t){return t.Vat})),this.Wat=new bH(i.then(function(t){return t.Wat})),this.Gat=new bH(i.then(function(t){return t.Gat}))}return t.prototype.qat=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Qat,i.t0){i.next=5;break}return i.next=4,Dr.awrap(this.Zat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Dr.awrap(n.qat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,We)},A(t,[{key:"Zat",get:function(){return this.Vs.Wu}}]),t}();function TH(t){return new v("This storage cannot handle persistency type "+t)}!function(t){t.Kat="readonly",t.Jat="readwrite"}(_H||(_H={}));var SH=function(){function t(){this.Vo=[]}var n=t.prototype;return n.Bat=function(t){return We.resolve("temporary"===t)},n.Oat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?We.reject(TH(n)):(this.$at(t.key),this.Vo.push(t),We.resolve())},n.xat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return We.reject(TH(n));for(var i=0;i<t.length;i++){var e=t[i];this.$at(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Vo.push(s)}return We.resolve()},n.Du=function(t){return We.resolve(Boolean(this.tht(t)))},n.Nu=function(t){return We.resolve(this.tht(t))},n.Lat=function(t,n){return We.resolve(this.nht(t,n))},n.Pat=function(t){var n=this,i=t?t.map(function(t){return n.tht(t)}):this.Vo;return We.resolve(i.filter(H))},n.Mat=function(){return We.resolve([].concat(this.Vo))},n.Uat=function(t){return this.Xat(t,"key")},n.Xat=function(t,n){var i=this.Vo.filter(function(i){return i[n]===t});return We.resolve(i)},n.Jh=function(t){return this.$at(t),We.resolve()},n.Hat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.$at(i)}return We.resolve()},n.Fat=function(){return Fs(this.Vo),We.resolve()},n.tht=function(t){return this.nht(t,"key")},n.nht=function(t,n){for(var i=0,e=this.Vo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.$at=function(t){var n=this.tht(t);n&&Us(this.Vo,n)},t}(),EH=function(){function t(){this.zat=void 0,this.wJ=void 0,this.Vat=void 0,this.Wat=void 0,this.Gat=void 0,this.zat=new SH,this.wJ=new SH,this.Vat=new SH,this.Wat=new SH,this.Gat=new SH}return t.LK=function(){return We.resolve(new t)},t.prototype.qat=function(t){return t(this)},t}(),IH=function(){function t(t){this.iht=t}var n=t.prototype;return n.Bat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.iht;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Bat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Oat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.iht;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.Bat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Oat(t));case 8:i++,s.next=2;break;case 11:throw TH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.xat=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.iht;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Dr.awrap(r.Bat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.xat(t));case 8:i++,s.next=2;break;case 11:throw TH(n);case 12:case"end":return s.stop()}},null,this,null,We)},n.Du=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.iht;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Dr.awrap(e.Du(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,We)},n.Nu=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.iht;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Dr.awrap(e.Nu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,We)},n.Lat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.iht;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Dr.awrap(r.Lat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,We)},n.Pat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.iht;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.Pat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Mat=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.iht;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Dr.awrap(e.Mat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,We)},n.Uat=function(t){var n,i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.iht;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Dr.awrap(r.Uat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,We)},n.Xat=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.iht;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Dr.awrap(s.Xat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,We)},n.Jh=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.iht;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Jh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Hat=function(t){var n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.iht;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Dr.awrap(e.Hat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,We)},n.Fat=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.iht;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Dr.awrap(i.Fat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,We)},t}();function RH(t){return function(){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(We.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",DH.LK(n));case 4:case"end":return i.stop()}},null,null,null,We)}}var DH=function(){function t(t){this.eht=void 0,this.rht=void 0,this.sht=void 0,this.uht=void 0,this.oht=void 0,this.aht=void 0,this.eht=t,this.rht=new IH(t.map(function(t){return t.Wat})),this.sht=new IH(t.map(function(t){return t.Gat})),this.uht=new IH(t.map(function(t){return t.Vat})),this.oht=new IH(t.map(function(t){return t.zat})),this.aht=new IH(t.map(function(t){return t.wJ}))}return t.LK=function(n){return We.resolve(new t(n))},t.prototype.qat=function(n){var i=this;if(0===this.eht.length)return n(this);var e=[],r=0;return this.eht[r].qat(function s(u){return e.push(u),++r<i.eht.length?i.eht[r].qat(s):n(new t(e))})},A(t,[{key:"Wat",get:function(){return this.rht}},{key:"Gat",get:function(){return this.sht}},{key:"Vat",get:function(){return this.uht}},{key:"zat",get:function(){return this.oht}},{key:"wJ",get:function(){return this.aht}}]),t}(),NH=function(){function t(t){this.hht=void 0,this.cht=[],this.fht=!0,this.hht=t}var n=t.prototype;return n.LK=function(){return new AH(this.vht())},n.vht=function(){var t,n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fht){e.next=4;break}return e.next=3,Dr.awrap(We.resolve());case 3:this.fht=!1;case 4:t=0,n=this.cht;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Dr.awrap(RH([EH.LK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Dr.awrap(RH([EH.LK,this.hht])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],We)},n.EX=function(t){if(!this.fht)throw new v("Registration overdue");this.cht.push(t)},t}(),CH=function(){function t(){}return t.EX=function(n){t.QR.EX(n)},A(t,null,[{key:"Yn",get:function(){return t.dht||(t.dht=t.QR.LK()),t.dht}}]),t}();CH.QR=new NH(kH.LK),CH.dht=void 0;var PH=function(t){function n(n,i,e,r,s,u){var o,a=new lH(n),h=a.XD(iy.Cd);return(o=t.call(this,h,i,e,r,s,u)||this).cD=void 0,o.cD=a,o}return S(n,t),n.prototype.Jc=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.prototype.Jc.call(this));case 2:return n.next=4,Dr.awrap(this.cD.eN(this.fD));case 4:case"end":return n.stop()}},null,this,null,We)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.uy=function(){if(void 0!==this.fD.vm)return this.fD.uy()},A(n,[{key:"My",get:function(){return!1},set:function(t){}}]),n}(wX));KT(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).fN=BT.xg,n}S(i,t);var e=i.prototype;return e.xI=function(t,n,i,e,r,s){return new PH(n,i,r,(u=e.libraryLocation,AX.bc()?new AX:new MX(u)),new tH(e.libraryLocation),new gH(CH.Yn.Vat,CH.Yn.zat,CH.Yn.wJ,CH.Yn.Gat));var u},e.vN=function(i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(t.prototype.vN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Hs(vD,"hls-legacy")){s.next=7;break}throw new tf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,We)},e.lN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.vN=function(n,i){return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!M.hn&&!M.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.vN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,We)},n}(_X)))),GO.G_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var BH=[];function OH(){BH.shift()()}var xH,LH=function(){function t(t){this.wht=void 0,this._ht=void 0,this.ght=void 0,this.ght=t}var n=t.prototype;return n.mht=function(t){return this.wht=this.wht||{},void 0===this.wht[t]&&(this.wht[t]=[]),this.wht[t]},n.addEventListener=function(t,n){var i=this.mht(t);-1===i.indexOf(n)&&i.push(n)},n.nu=function(t){(this._ht||(this._ht=[])).push(t)},n.removeEventListener=function(t,n){var i=this.mht(t);n?Us(i,n):i.length=0},n.vu=function(t){var n=this._ht;n&&Us(n,t)},n.uu=function(){this.wht=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),BH.push(i),void a(OH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.mht(t.type).slice(),r=this._ht&&this._ht.slice(),s=0;s<e.length;s++){e[s].call(this.ght||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.ght||this,t)}},n.yht=function(t){return Boolean(this.wht&&this.wht[t]&&this.wht[t].length)},n.kht=function(){return this.wht?d.keys(this.wht):[]},t}(),MH=function(t){function n(n,i){var e,r=HH[n];return(e=t.call(this,r?r.mu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.pht,e.helpLinkText=r&&r.bht,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}($t);!function(t){t.Aht="LICENSE_INVALID",t.Tht="MANIFEST_NOT_FOUND",t.Sht="MANIFEST_CORS_ERROR",t.Eht="INVALID_HLS_MANIFEST",t.Iht="PLAYBACK_ISSUE",t.Rht="AUDIO_ISSUE",t.Dht="BROWSER_SUPPORT_ISSUE",t.Nht="INVALID_KEY",t.uot="DECRYPTION_ERROR",t.Cht="AD_BLOCK_DETECTED",t.Pht="THEOPLAYER_NOT_INITIALIZED",t.ag="ERROR",t.Bht="MANIFEST_SEQUENCE_RESET_ERROR",t.Oht="PLAYER_INCORRECTLY_CONFIGURED",t.xht="UNSUPPORTED"}(xH||(xH={}));for(var UH,XH=[{Zu:xH.Aht,mu:"The license for this player is invalid. Please contact your service provider for additional information."},{Zu:xH.Tht,mu:"Could not load the manifest file."},{Zu:xH.Sht,mu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",pht:"https://www.theoplayer.com/documentation/cors.html",Lht:!1},{Zu:xH.Eht,mu:"The source of the player is an invalid HLS manifest.",pht:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Zu:xH.Iht,mu:"There appears to be a playback issue."},{Zu:xH.Rht,mu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Zu:xH.Dht,mu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Zu:xH.Nht,mu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Zu:xH.uot,mu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Zu:xH.Cht,mu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Zu:xH.Pht,mu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Zu:xH.ag,mu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Zu:xH.Bht,mu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Zu:xH.Oht,mu:"The player is incorrectly configured.",pht:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Zu:xH.xht,mu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],HH={},FH=0;FH<XH.length;FH++){var zH=XH[FH];HH[zH.Zu]=zH}function VH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function WH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function GH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function qH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Vo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var YH,jH="x-";function QH(t,n,i,e){var r=t.split("@"),s=VH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{c$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},Mht:{zN:o,WN:o+u-1}}}function ZH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,v=0,l=!1,d=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new MH(xH.Eht,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<p.length;A+=1){var T=p[A].trim();if(d.push(T+""),WH(T,"#EXT")){if(WH(T,"#EXTINF"))c=(c=g(GH(T)))||.5;else if(WH(T,"#EXT-X-BYTERANGE"))f=GH(T);else if(WH(T,"#EXT-X-KEY"))(s=qH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=VH(s.uri,i);else if(WH(T,"#EXT-X-DISCONTINUITY")&&!WH(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(WH(T,"#EXT-X-STREAM-INF"))(r=qH(T)).M2=h++,(A+=1)<p.length&&(r.uri=VH(p[A].trim(),i),b.streams.push(r));else if(WH(T,"#EXT-X-MEDIA")&&!WH(T,"#EXT-X-MEDIA-"))(u=qH(T)).uri&&(u.uri=VH(u.uri,i)),b.media.push(u);else if(WH(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(GH(T));else if(WH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.Uht=!0,b.Xht=_(GH(T),10);else if(WH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(GH(T),10),b.Hht=!0,b.Fht=a;else if(WH(T,"#EXT-X-TARGETDURATION"))b.targetDuration=_(GH(T),10),b.hasTargetDuration=!0;else if(WH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(WH(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(WH(T,"#EXT-X-MAP")){var S=qH(T),E=S.uri,I=S.byterange;o=I?QH(I,E,i,0):VH(E,i)}else if(WH(T,"#EXT-X-VERSION"))b.version=_(GH(T),10);else if(WH(T,"#EXT-X-DATERANGE")){var R=KH(T);b.dateRanges.push(R)}}else if(WH(T,"#"));else if(0!==T.length){f?k=(e=QH(f,T,i,k)).Mht.WN+1:e=VH(T,i);var D,N=s&&Nr({},s);s&&void 0===s.iv&&(D=a%4294967295,N.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,D>>24,D>>16,D>>8,255&D])),b.fragments.push({start:0,duration:c,uri:e,M2:a,zht:l,o2:v,key:N,s2:m,Vht:d,Wht:!1,Ght:o}),a+=1,c=0,f=null,l=!1,m=null,d=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].Wht=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{qht:i,Yht:e,jht:n?t.fragments[n-1].duration:0,Qht:r/n,Zht:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.M2-n.M2})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Xs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function KH(t){var n=qH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];ls(r,jH)&&(n[r.substr(jH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{q_:n.id,mJ:n.class,hN:e,yJ:r,tm:n.duration,kJ:n["planned-duration"],gJ:s,pJ:i,AJ:u,SJ:o,EJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(YH||(YH={}));(UH={})[YH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",UH[YH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",UH[YH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",UH[YH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",UH[YH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",UH[YH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",UH[YH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var JH=function(){function t(){}return t.prototype.zA=function(t,n,i){return ZH(t,n,i)},t}(),$H=3,tF=function(){function t(t,n,i){void 0===i&&(i=$H),this.IE=t,this.K4=n,this.Kht=i}var n=t.prototype;return n.Jht=function(t,n,i){return this.$ht(t,n,!0,i)},n.tct=function(t,n,i){return this.$ht(t,n,!1,i)},n.$ht=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Kht)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Dr.awrap(cu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new uw({dd:a,od:Sf.$n,ud:n,Md:this.K4,Bd:nw.GET,ds:iw.md,xd:ew._d,Ys:e}),i.next=14,Dr.awrap(this.IE.vd(h));case 14:return c=i.sent,i.next=17,Dr.awrap(c.Hl(e));case 17:return f=i.sent,i.abrupt("return",{nct:f,ict:a,ld:c.ld});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],We)},t}(),nF=function(){function t(t){this.ect=void 0,this.ect=t}return t.prototype.rct=function(t,n,i,e){var r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.ect;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Dr.awrap(o.rct(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),nu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],We)},t}(),iF=function(){function t(t){this.Z4=t}return t.prototype.rct=function(t,n,i,e){var r;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Z4.c6(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{nct:r.data,ict:r.locationURL,ld:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,We)},t}(),eF=function(){function t(t){this.sct=t}return t.prototype.rct=function(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Dr.awrap(this.sct.Jht(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Dr.awrap(this.sct.tct(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,We)},t}();function rF(t,n){return new nF([new iF(n),new eF(t)])}var sF=function(){function t(t,n,i){this.uct=t,this.act=n,this.hct=i}var n=t.prototype;return n.rct=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Dr.awrap(this.uct.rct(t,n,i,e));case 3:return r=s.sent,s.next=6,Dr.awrap(this.cct(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,We)},n.cct=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.act.Oat({key:dH(t.ict),locationURL:cw(t.ict),responseURL:cw(t.ld),data:t.nct,references:[this.hct.q_]}));case 2:case"end":return n.stop()}},null,this,null,We)},t}();function uF(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var oF,aF=function(){function t(t,n,i){this.Lc=void 0,this.IE=void 0,this.uct=void 0,this.fct=void 0,this.fct=new JH,this.Lc=t,this.IE=i;var e=this.Lc&&this.Lc.crossOrigin===Wg.Fg,r=new tF(i,e,1);this.uct=rF(r,new gH(CH.Yn.Vat,CH.Yn.zat,CH.Yn.wJ,CH.Yn.Gat))}var n=t.prototype;return n.Kh=function(t,n,i){var e=this.Lw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Lw=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Dr.awrap(this.uct.rct([t],n));case 3:return i=r.sent,t=i.ld,e=this.fct.zA(i.nct,t,uF(t)),r.abrupt("return",{Rm:e,vct:i.nct});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof _w)){r.next=16;break}throw new MH(xH.Tht,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof gw)){r.next=24;break}if(0!==r.t0.Jd.rd){r.next=21;break}throw new MH(xH.Sht,{code:"MFL3900",uri:t,status:r.t0.Jd.rd});case 21:throw new MH(xH.Tht,{code:"MFL4100",uri:t,status:r.t0.Jd.rd});case 22:r.next=25;break;case 24:throw new MH(xH.ag,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],We)},t}(),hF=function(t){function n(n,i){var e;return(e=t.call(this)||this).lct=void 0,e.dct=void 0,e.wct=void 0,e._ct=void 0,e.gct=void 0,e.mct=void 0,e.yct=void 0,e.lD=void 0,e.lct=new aF(i||{},CH.Yn.Vat,n),e}S(n,t);var i=n.prototype;return i.qm=function(){void 0!==this._ct&&(h(this._ct),this._ct=void 0),this.wct&&this.wct.vd&&(this.wct=void 0)},i.kct=function(t){if(this.yct)for(var n=0,i=this.yct.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.pct=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Zht<3*s)?1e3*u.qht:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.bct=function(t){if(t.fragments.length>0)for(var n=this.kct(t.fragments[0].uri),i=n&&n.M2||0,e=0,r=t.fragments;e<r.length;e++){r[e].M2+=i}},i.Act=function(t,i,e,r,s,u){var o=this;if(this.wct&&e===this.wct.vd){var h=KE()-i;if(r){this.wct=void 0,this.lD=r;var c={type:"bu",bu:r};return this.dispatchEvent(c),s&&s(r)}this.wct=void 0;var f=u.Rm,v=u.vct;f.Hht||this.bct(f),t===this.dct&&(this.mct=f),this.yct=f;var l=n.pct(f,v,this.gct,h);f.live?f.isMasterPlaylist||(this._ct=a(function(){return o.Lw(t)},l)):this.qm(),s&&s(r,u);var d={type:"Tct",manifest:f,manifestText:v};this.dispatchEvent(d),this.gct=v}},i.Lw=function(t,n){var i=this,e=KE(),r=t;h(this._ct),this._ct=void 0;var s=this.lct.Kh(r,{},function(r,u){return i.Act(t,e,s,r,n,u)});this.wct={vd:s,dd:t}},i.zN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.yct?this.yct.uri:this.dct))&&(this.wct&&this.wct.dd===t?n&&(i=function(t){s.removeEventListener("bu",e),s.removeEventListener("Tct",i);var r=t;n(null,{Rm:r.manifest,vct:r.manifestText})},e=function(t){s.removeEventListener("bu",e),s.removeEventListener("Tct",i),n(t.bu)},this.addEventListener("bu",e),this.addEventListener("Tct",i)):(this.qm(),this.Lw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Sct=function(t){t&&(this.gct=void 0,this.mct&&this.mct.isMasterPlaylist?this.zN(t.uri):this.yct&&!this.Ect()&&this.zN(this.yct.uri))},i.Jc=function(){this.qm(),this.uu()},i.Ect=function(){return!!this.wct||!!this._ct||!(!this.yct||this.yct.live)},A(n,[{key:"Rm",get:function(){return this.yct}},{key:"Ict",get:function(){return this.mct}},{key:"Rct",get:function(){return this.dct},set:function(t){this.qm(),this.gct=void 0,this.mct=void 0,this.yct=void 0,this.dct=t}}]),n}(LH),cF=function(t){function n(){return t.call(this,"Dct")||this}return S(n,t),n}(_u),fF=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Nct=void 0,r.Cct=void 0,r.Pct=void 0,r.Nrt=void 0,r.Bct=void 0,r.IE=void 0,r.pq=void 0,r.Oct=void 0,r.xct=function(){r.Js(new cF)},r.Nrt=n,r.Bct=Nr({},i,{crossOrigin:r.Nrt.crossOrigin,withCredentials:r.Nrt.useCredentials,liveOffset:r.Nrt.liveOffset,hlsDateRange:r.Nrt.hlsDateRange}),r.IE=e,r.Cct=[],r.pq=!1,r}S(n,t);var i=n.prototype;return i.Lct=function(){if(this.Pct)return this.Pct.Rm},i.zN=function(t){var n=this;au(DL(function(){return n.Mct()},t))},i.Mct=function(){var t,n,i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(this.Uct());case 2:if((t=u.sent).isMasterPlaylist)for(this.Nct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new hF(this.IE,this.Bct),this.Cct.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new hF(this.IE,this.Bct),this.Cct.push({stream:{uri:t.uri},updater:s});this.Oct&&(this.Xct(this.Oct.width,this.Oct.height),this.Oct=void 0),this.pq=!0;case 6:case"end":return u.stop()}},null,this,null,We)},i.Hct=function(t,n){this.pq?this.Xct(t,n):this.Oct={width:t,height:n}},i.Xct=function(t,n){this.Fct();var i=this.zct(t,n);i&&(this.Pct=i.updater,this.Pct.addEventListener("Tct",this.xct),i.updater.zN(i.stream.uri))},i.Fct=function(){this.Pct&&(this.Pct.qm(),this.Pct.removeEventListener("Tct",this.xct),this.Pct=void 0)},i.zct=function(t,n){return 1===this.Cct.length?this.Cct[0]:xs(this.Cct,function(i){return i.stream.width===t&&i.stream.height===n})},i.Uct=function(){var t,n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new aF(this.Bct,CH.Yn.Vat,this.IE),i.next=3,Dr.awrap(t.Kh(this.Nrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.Rm);case 5:case"end":return i.stop()}},null,this,null,We)},i.Jc=function(){this.Fct();for(var t=0,n=this.Cct;t<n.length;t++){n[t].updater.Jc()}Fs(this.Cct)},n}(du),vF=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Vct=void 0,r.Wct=void 0,r.$M=void 0,r.Gct=!1,r.k6=void 0,r.aY=void 0,r.handleManifestUpdate=function(){var t=r.Vct.Lct();if(t){var n=r.hN;if(n){var i=n.getTime(),e=r.k6;e||(e=new wL,r.k6=e),e.$h(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Gct&&e.wg.L_>0&&(r.zm.P_(e),r.aY.P_(e),r.Gct=!0)}}},r.qct=function(){r.Vct&&r.Vct.Hct(r.lm,r.vm)},r.Wct=i,r.$M=e,r.aY=new rP(Kt(r)),r.$s(Tf.Gf,r.qct),r}S(n,t);var i=n.prototype;return i.jm=function(n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(t.prototype.jm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Yct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,We)},i.Yct=function(t,n,i){this.Vct&&(this.Vct.ou("Dct",this.handleManifestUpdate),this.Vct.Jc()),this.Vct=new fF(t,n,this.Wct),this.Vct.$s("Dct",this.handleManifestUpdate),this.Vct.zN(i)},i.dc=function(){return this.k6&&(this.zm.B_(this.k6),this.aY.B_(this.k6),this.k6.Jc(),this.k6=void 0,this.Gct=!1),this.aY.dc(),t.prototype.dc.call(this)},i.Jc=function(){return this.ou(Tf.Gf,this.qct),this.Vct&&(this.Vct.ou("Dct",this.handleManifestUpdate),this.Vct.Jc()),this.aY.Jc(),t.prototype.Jc.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).jct=void 0,i.jct=n;for(var e=0;e<iS.length;e++){var r=iS[e];i.jct.$s(r,i.Ks)}return i}S(n,t);var i=n.prototype;return i.Qm=function(){return this.jct.Qm()},i.oy=function(){return this.jct.oy()},i.uy=function(){return this.jct.uy()},i.sy=function(){return this.jct.sy()},i.yy=function(){return this.jct.yy()},i.Gm=function(){return this.jct.Gm()},i.Wm=function(){return this.jct.Wm()},i.dc=function(){return this.jct.dc()},i.jm=function(t,n,i){return this.jct.jm(t,n,i)},i.ey=function(){return this.jct.ey()},i.Zm=function(){return this.jct.Zm()},i.Km=function(){return this.jct.Km()},i.Jc=function(){this.uu();for(var t=0;t<iS.length;t++){var n=iS[t];this.jct.ou(n,this.Ks)}return this.jct.Jc()},A(n,[{key:"Hm",get:function(){return this.jct.Hm}},{key:"py",get:function(){return this.jct.py}},{key:"by",get:function(){return this.jct.by},set:function(t){this.jct.by=t}},{key:"$g",get:function(){return this.jct.$g},set:function(t){this.jct.$g=t}},{key:"tm",get:function(){return this.jct.tm}},{key:"nm",get:function(){return this.jct.nm}},{key:"im",get:function(){return this.jct.im}},{key:"Vm",get:function(){return this.jct.Vm}},{key:"bu",get:function(){return this.jct.bu}},{key:"Ty",get:function(){return this.jct.Ty}},{key:"Sy",get:function(){return this.jct.Sy}},{key:"um",get:function(){return this.jct.um},set:function(t){this.jct.um=t}},{key:"Py",get:function(){return this.jct.Py}},{key:"hm",get:function(){return this.jct.hm}},{key:"cm",get:function(){return this.jct.cm},set:function(t){this.jct.cm=t}},{key:"By",get:function(){return this.jct.By}},{key:"Oy",get:function(){return this.jct.Oy},set:function(t){this.jct.Oy=t}},{key:"dg",get:function(){return this.jct.dg}},{key:"xy",get:function(){return this.jct.xy}},{key:"fm",get:function(){return this.jct.fm}},{key:"hN",get:function(){return this.jct.hN}},{key:"zm",get:function(){return this.jct.zm}},{key:"vm",get:function(){return this.jct.vm}},{key:"Fm",get:function(){return this.jct.Fm}},{key:"lm",get:function(){return this.jct.lm}},{key:"dm",get:function(){return this.jct.dm},set:function(t){this.jct.dm=t}},{key:"Ly",get:function(){return this.jct.Ly}},{key:"My",get:function(){return this.jct.My},set:function(t){this.jct.My=t}},{key:"cN",get:function(){return this.jct.cN}}]),n}(Ug));oF=function(t,n,i){return new vF(t,n,i)},QT._N().gN(oF);var lF=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},dF=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),wF={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(wF,wF.exports);var _F=wF.exports;function gF(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function mF(t){return JSON.stringify(t,wF.exports.getSerialize(gF))}var yF={},kF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(kF);var pF={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(pF);var bF={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(bF),d.defineProperty(yF,"__esModule",{value:!0});var AF=kF.isS,TF=kF.isChar,SF=kF.isNameStartChar,EF=kF.isNameChar,IF=kF.S_LIST,RF=kF.NAME_RE,DF=pF.isChar,NF=bF.isNCNameStartChar,CF=bF.isNCNameChar,PF=bF.NC_NAME_RE;const BF="http://www.w3.org/XML/1998/namespace",OF="http://www.w3.org/2000/xmlns/",xF={__proto__:null,xml:BF,xmlns:OF},LF={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},MF=-1,UF=-2,XF=0,HF=1,FF=2,zF=3,VF=4,WF=5,GF=6,qF=7,YF=8,jF=9,QF=10,ZF=11,KF=12,JF=13,$F=14,tz=15,nz=16,iz=17,ez=18,rz=19,sz=20,uz=21,oz=22,az=23,hz=24,cz=25,fz=26,vz=27,lz=28,dz=29,wz=30,_z=31,gz=32,mz=33,yz=34,kz=35,pz=36,bz=37,Az=38,Tz=39,Sz=40,Ez=41,Iz=42,Rz=43,Dz=44,Nz=9,Cz=10,Pz=13,Bz=32,Oz=33,xz=38,Lz=45,Mz=47,Uz=59,Xz=60,Hz=61,Fz=62,zz=63,Vz=91,Wz=93,Gz=133,qz=8232,Yz=t=>34===t||39===t,jz=[34,39],Qz=[...jz,Vz,Fz],Zz=[...jz,Xz,Wz],Kz=[Hz,zz,...IF],Jz=[...IF,Fz,xz,Xz];function $z(t,n,i){switch(n){case"xml":i!==BF&&t.fail(`xml prefix must be bound to ${BF}.`);break;case"xmlns":i!==OF&&t.fail(`xmlns prefix must be bound to ${OF}.`)}switch(i){case OF:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${OF}.`);break;case BF:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const tV=t=>PF.test(t),nV=t=>RF.test(t),iV=0,eV=1,rV=2;yF.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const sV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var uV=yF.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=NF,this.nameCheck=CF,this.isName=tV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},xF);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))$z(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=SF,this.nameCheck=EF,this.isName=nV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.po}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=iV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?JF:XF,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.po=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(LF),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[sV[t]]=n}off(t){this[sV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===Pz||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return MF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Bz||i===Nz)return i;switch(i){case Cz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Cz;case Pz:return t.charCodeAt(n+1)===Cz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,UF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return MF;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==qz||i===Nz)return i;switch(i){case Cz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Cz;case Pz:{const i=t.charCodeAt(n+1);i!==Cz&&i!==Gz||(this.i=n+2)}case Gz:case qz:return this.line++,this.column=0,this.positionAtNewLine=this.position,UF;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===UF?Cz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===UF,s=r?Cz:e;if(s===MF||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case UF:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=Cz;break;case MF:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===MF)return this.name+=t.slice(n),MF;if(!EF(i))return this.name+=t.slice(n,this.prevI),i===UF?Cz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===MF||!AF(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=TF,this.getCode=this.getCode10):(this.isChar=DF,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=HF}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case Xz:if(this.state=tz,0!==this.text.length)throw new v("no-empty text at start");break;case MF:break;default:this.unget(),this.state=JF,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Qz);switch(n){case Fz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=JF,this.doctype=!0;break;case MF:break;default:this.text+=String.fromCodePoint(n),n===Vz?this.state=VF:Yz(n)&&(this.state=zF,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=FF)}sDTD(){const t=this.captureTo(Zz);t!==MF&&(this.text+=String.fromCodePoint(t),t===Wz?this.state=FF:t===Xz?this.state=GF:Yz(t)&&(this.state=WF,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=VF,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Oz:this.state=qF,this.openWakaBang="";break;case zz:this.state=ZF;break;default:this.state=VF}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?YF:VF,this.openWakaBang="")}sDTDComment(){this.captureToChar(Lz)&&(this.text+="-",this.state=jF)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Lz?QF:YF}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Fz?this.state=VF:(this.fail("malformed comment."),this.state=YF)}sDTDPI(){this.captureToChar(zz)&&(this.text+="?",this.state=KF)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Fz&&(this.state=VF)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case UF:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Uz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===JF&&void 0===this.textHandler||(this.text+=r);break t}case MF:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(SF(t))this.state=yz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case Mz:this.state=Rz,this.xmlDeclPossible=!1;break;case Oz:this.state=nz,this.openWakaBang="",this.xmlDeclPossible=!1;break;case zz:this.state=az;break;default:this.fail("disallowed character in tag name"),this.state=JF,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=sz,this.openWakaBang="";break;case"--":this.state=iz,this.openWakaBang="";break;case"DOCTYPE":this.state=FF,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Lz)&&(this.state=ez)}sCommentEnding(){var t;const n=this.getCodeNorm();n===Lz?(this.state=rz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=iz)}sCommentEnded(){const t=this.getCodeNorm();t!==Fz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=iz):this.state=JF}sCData(){this.captureToChar(Wz)&&(this.state=uz)}sCDataEnding(){const t=this.getCodeNorm();t===Wz?this.state=oz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=sz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Fz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=JF;break;case Wz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=sz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=hz):t===zz||AF(t)?(this.fail("processing instruction without a target."),this.state=t===zz?fz:cz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=hz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===MF)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===zz;e||AF(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?mz:vz):this.state=e?fz:cz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===zz?this.state=fz:AF(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(zz)&&(this.state=fz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Fz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=JF}else n===zz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=cz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==zz?t!==MF&&(this.state=lz,this.name=String.fromCodePoint(t)):this.state=mz}sXMLDeclName(){const t=this.captureTo(Kz);if(t===zz)return this.state=mz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(AF(t)||t===Hz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Hz?wz:dz}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===zz)return this.state=mz,void this.fail("XML declaration is incomplete.");AF(t)||(t!==Hz&&this.fail("value required."),this.state=wz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===zz)return this.state=mz,void this.fail("XML declaration is incomplete.");AF(t)||(Yz(t)?this.q=t:(this.fail("value must be quoted."),this.q=Bz),this.state=_z)}sXMLDeclValue(){const t=this.captureTo([this.q,zz]);if(t===zz)return this.state=mz,this.text="",void this.fail("XML declaration is incomplete.");if(t===MF)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=gz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==zz?(AF(t)||(this.fail("whitespace required."),this.unget()),this.state=vz):this.state=mz}sXMLDeclEnding(){var t;this.getCodeNorm()===Fz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=JF):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===MF)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Fz:this.openTag();break;case Mz:this.state=kz;break;default:AF(n)||this.fail("disallowed character in tag name."),this.state=pz}}sOpenTagSlash(){this.getCode()===Fz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=pz)}sAttrib(){const t=this.skipSpaces();t!==MF&&(SF(t)?(this.unget(),this.state=bz):t===Fz?this.openTag():t===Mz?this.state=kz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Hz?this.state=Tz:AF(t)?this.state=Az:t===Fz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==MF&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case MF:return;case Hz:this.state=Tz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Fz?this.openTag():SF(t)?(this.unget(),this.state=bz):(this.fail("disallowed character in attribute name."),this.state=pz)}}sAttribValue(){const t=this.getCodeNorm();Yz(t)?(this.q=t,this.state=Sz):AF(t)||(this.fail("unquoted attribute value."),this.state=Iz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=Ez);case xz:return this.text+=n.slice(i,this.prevI),this.state=$F,void(this.entityReturnState=Sz);case Cz:case UF:case Nz:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case Xz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case MF:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();AF(t)?this.state=pz:t===Fz?this.openTag():t===Mz?this.state=kz:SF(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=bz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Jz);switch(t){case xz:this.state=$F,this.entityReturnState=Iz;break;case Xz:this.fail("disallowed character.");break;case MF:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Fz?this.openTag():this.state=pz}}sCloseTag(){const t=this.captureNameChars();t===Fz?this.closeTag():AF(t)?this.state=Dz:t!==MF&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Fz:this.closeTag();break;case MF:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case Xz:if(this.state=tz,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=iV;break t;case xz:this.state=$F,this.entityReturnState=JF,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=iV;break t;case Wz:switch(n){case iV:n=eV;break;case eV:n=rV;break;case rV:break;default:throw new v("impossible state")}break;case Fz:n===rV&&this.fail('the string "]]>" is disallowed in char data.'),n=iV;break;case UF:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=iV;break;case MF:void 0!==e&&(this.text+=i.slice(t));break t;default:n=iV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case Xz:if(this.state=tz,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case xz:this.state=$F,this.entityReturnState=JF,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case UF:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case MF:void 0!==i&&(this.text+=n.slice(t));break t;default:AF(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,$z(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,$z(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==XF&&this.state!==JF&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.po=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?OF:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=JF,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=JF,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=JF,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},oV=function(){function t(){}return t.prototype.ui=function(t){var n=new uV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new dV,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new vV(t))}),n.on("cdata",function(t){r(new lV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new cV({di:n,_i:""===i?void 0:i,Qct:""===s?void 0:s}),o=t.attributes,a=0,h=d.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,v=c.local,l=c.uri,w=c.value,_=new aV({di:v,Ai:w,_i:""===l?void 0:l,Qct:""===f?void 0:f});u.Zct(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new tn(t)}),n.write(t).close(),i},t}(),aV=function(){function t(t){this.Kct=void 0,this.Jct=void 0,this.$ct=void 0,this.ke=void 0,this.Kct=t.di,this.ke=t.Ai,this.Jct=t._i,this.$ct=t.Qct}var n=t.prototype;return n.ai=function(t){return this===t||!!_V(this,t)&&(this.Kct===t.Kct&&this.Jct===t.Jct&&this.$ct===t.$ct&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,Qct:this.gi})},A(t,[{key:"Kn",get:function(){return qt.ni}},{key:"di",get:function(){return this.Kct}},{key:"wi",get:function(){return void 0===this.$ct?this.Kct:this.$ct+":"+this.Kct}},{key:"_i",get:function(){return this.Jct}},{key:"gi",get:function(){return this.$ct}},{key:"Ai",get:function(){return this.ke}}]),t}(),hV=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return wV(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return wV(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},A(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(wV)}}]),t}(),cV=function(t){function n(n){var i;return(i=t.call(this)||this).Kct=void 0,i.Jct=void 0,i.$ct=void 0,i.tft=[],i.Kct=n.di,i.Jct=n._i,i.$ct=n.Qct,i}S(n,t);var i=n.prototype;return i.nft=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];wV(e)?e.nft(t):t.push(e.Fi)}},i.Oi=function(t,n){for(var i=0,e=this.tft;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.tft;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.Zct=function(t){this.tft.push(t)},i.xi=function(t){for(var n=0;n<this.tft.length;n++)if(this.tft[n].wi===t)return void this.tft.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.tft.length;i++)if(this.tft[i].di===n&&this.tft[i]._i===t)return void this.tft.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.Zct(new aV({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.Zct(new aV({di:e[e.length-1],Ai:i,_i:t,Qct:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,Qct:this.gi});return this.Xi.forEach(function(t){return i.Zct(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!_V(this,t)&&(this.Kct===t.Kct&&this.$ct===t.$ct&&this.Jct===t.Jct&&(gV(this.Xi,t.Xi)&&gV(this.Ii,t.Ii)))},A(n,[{key:"Kn",get:function(){return qt.Jn}},{key:"Xi",get:function(){return this.tft}},{key:"di",get:function(){return this.Kct}},{key:"_i",get:function(){return this.Jct}},{key:"gi",get:function(){return this.$ct}},{key:"Ri",get:function(){return void 0===this.$ct?this.Kct:this.$ct+":"+this.Kct}},{key:"Hi",get:function(){var t=[];return this.nft(t),t.join("")}}]),n}(hV),fV=function(){function t(t){this.Gi=void 0,this.Gi=t}return A(t,[{key:"Fi",get:function(){return this.Gi}}]),t}(),vV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!_V(this,t)&&this.Fi===t.Fi},A(n,[{key:"Kn",get:function(){return qt.$n}}]),n}(fV),lV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Fi)},i.ai=function(t){return this===t||!!_V(this,t)&&this.Fi===t.Fi},A(n,[{key:"Kn",get:function(){return qt.ei}}]),n}(fV),dV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!_V(this,t)&&gV(this.Ii,t.Ii)},A(n,[{key:"Kn",get:function(){return qt.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(hV);function wV(t){return Qt(t)}function _V(t,n){return t.Kn===n.Kn}function gV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var mV,yV=["adBreak"],kV=["adBreak"];function pV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,Xb(t,yV)})})})}function bV(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,Xb(t,kV)})})}function AV(t){return"string"==typeof t.date?new Date(t.date):t.date}function TV(t){var n;return t.cue.track?(n=EV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=EV(t.cue,""),n}function SV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function EV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new oV).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=IV(o);s[u]={type:mV.ift,value:a}}else DV(o)?s[u]={type:mV.eft,value:o}:s[u]={type:mV.UQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=IV(t.scte35Cmd),i.scte35Out=IV(t.scte35Out),i.scte35In=IV(t.scte35In),i.customAttributes=s}var h}(),i}function IV(t){if(void 0!==t)return Bu(t)}function RV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(EV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(EV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function DV(t){return"number"==typeof t}!function(t){t.UQ="daterange-ca-type_string",t.eft="daterange-ca-type_number",t.ift="daterange-ca-type_arraybuffer"}(mV||(mV={}));var NV={cue:function(t){var n={};switch(n.date=AV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=TV(t)}return n},textTrack:function(t){var n={};switch(n.date=AV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;OV().register(i);var e=BV()[xV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=TV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(EV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:RV(t.track),date:AV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=OV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=AV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Tf.ev:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=RV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=bV(t.ad);break;case"adloaded":case"adimpression":n.ad=pV(t.ad);break;case"adskip":n.ad=pV(t.ad),n.playedPercentage=t.playedPercentage;break;case"aderror":t.rft&&(n.rft=t.rft),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=pV(t.ad)}return SV(n)},minimizeCueHelper:function(t){var n={};return n.date=AV(t),n.type=t.type,n.cue=TV(t),n.track={uid:t.cue.track.uid},n},adReplacer:pV,adBreakReplacer:bV,removeCircularReferences:SV},CV=function(){this.stringify=mF,this.minimize=NV};function PV(){return le.self}function BV(){return PV().THEOplayerBridge}function OV(){return PV().THEOCueMirrorMap}function xV(){return PV().THEOplayerGlobalID}function LV(){var t=PV();if(t.THEOplayerBridge){var n=new lF;t.THEOplayerBridge=fg(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new lF;t.THEOplayerUtils||(t.THEOplayerUtils=new CV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new dF)}LV();var MV,UV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(_u),XV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Js(new UV(t,n))},i.addEventListener=function(t,n){this.$s(t,n)},i.removeEventListener=function(t,n){this.ou(t,n)},n}(Xg),HV=function(t){function n(n,i){var e;return(e=t.call(this)||this).sft=void 0,e.uft=void 0,e.oft=function(t){e.sft.pK("THEOplayerABRSetTargetBuffer",t.kL),e.Js(t)},e.aft=function(t){e.sft.pK("THEOplayerABRSetStrategy",t.bL),e.Js(t)},e.sft=n,e.uft=i,e.uft.$s("pL",e.oft),e.uft.$s("AL",e.aft),e}return S(n,t),n.prototype.OL=function(t){return this.uft.OL(t)},A(n,[{key:"LL",get:function(){var t;switch(this.bL.type){case jI.PERFORMANCE:return 1;case jI.QUALITY:return 0;case jI.BANDWIDTH:return null!=(t=this.bL.metadata)&&t.bitrate&&!m(this.bL.metadata.bitrate)?this.bL.metadata.bitrate:0;default:return 0}}},{key:"u_",get:function(){return this.uft.u_}},{key:"bL",get:function(){return this.uft.bL},set:function(t){this.uft.bL=t}},{key:"kL",get:function(){return this.uft.kL},set:function(t){this.uft.kL=t}},{key:"xL",get:function(){return this.uft.xL}},{key:"TL",get:function(){return this.uft.TL},set:function(t){this.uft.TL=t}},{key:"EL",get:function(){return this.uft.EL}},{key:"wL",get:function(){return this.uft.wL}}]),n}(du),FV=function(){function t(t,n,i){this.Lc=void 0,this.Ss=void 0,this.if=void 0,this.uc=void 0,this.Lc=t,this.Ss=i,this.if=n}var n=t.prototype;return n.BE=function(t){throw new v("Not implemented yet.")},n.MX=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.Ss.Rs(t._s,n));case 2:return i=r.sent,r.next=5,Dr.awrap(i.gc());case 5:return e=r.sent,r.next=8,Dr.awrap(this.UX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,We)},n.XX=function(t){return!1},n.HX=function(t){return We.resolve(void 0)},n.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.UX(void 0));case 2:case"end":return t.stop()}},null,this,null,We)},n.UX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.zX(t),i.next=3,Dr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,We)},n.zX=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.uc)){i.next=5;break}return i.next=4,Dr.awrap(n.lc(this.if));case 4:this.uc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Dr.awrap(t.vc(this.if));case 8:this.uc=t;case 9:case"end":return i.stop()}},null,this,null,We)},n.NE=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"hc",get:function(){return this.Lc}},{key:"Oy",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"xy",get:function(){return new oS([0,1/0])}},{key:"zm",get:function(){throw new v("Not implemented yet.")}},{key:"hft",get:function(){throw new v("Not implemented yet")}},{key:"Fm",get:function(){throw new v("Not implemented yet.")}},{key:"cft",get:function(){throw new v("Not implemented yet")}},{key:"fft",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.vft="webkitneedkey",t.lft="webkitkeymessage",t.dft="webkitkeyerror",t.wft="webkitkeyflowdone"}(MV||(MV={}));var zV=function(t){function n(n,i){var e;return(e=t.call(this,MV.vft)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(_u),VV=function(t){function n(n,i){var e;return(e=t.call(this,MV.lft)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(_u),WV=function(t){function n(){return t.call(this,MV.dft)||this}return S(n,t),n}(_u),GV=function(t){function n(){return t.call(this,MV.wft)||this}return S(n,t),n}(_u),qV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Ac=new Wo,u.Mc=void 0,u.Ec=new Su,u.Xc=new Wo,u._ft=function(t){u.Mc?(u.Mc.Qu(void 0),u.Mc=void 0):u.Cc("internal-error"),u.Js(new pu)},u.gft=function(t){u.Js(new ku(Kt(u),"license-request",Ho(t.message).buffer,t.destinationURL||void 0))},u.mft=function(t){u.Mc&&(u.Mc.ju(void 0),u.Mc=void 0)},u.Bc=n,u.qh=i,u.yft=e,u.tf=r,u.Fc=s,u}S(n,t);var i=n.prototype;return i.Zh=function(t,n,i){var e;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.zc){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Dr.awrap(this.kft(Uo(n),e));case 5:this.Cc("usable"),this.Xc.ju(),this.Xc=new Wo;case 8:case"end":return t.stop()}},null,this,null,We)},i.Kh=function(t){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,We)},i.$h=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Mc=new Wo,this.yft.$h(this.tf,n),i.abrupt("return",this.Mc.Wu);case 6:case"end":return i.stop()}},null,this,null,We)},i.Qh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Xc);case 2:return this.yft.ou(MV.lft,this.gft),this.yft.ou(MV.dft,this._ft),this.yft.ou(MV.wft,this.mft),this.Xc.Ws(),this.Ac.ju(void 0),t.abrupt("return",this.Ac.Wu);case 8:case"end":return t.stop()}},null,this,null,We)},i.Jh=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,We)},i.kft=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=$c(t,n,this.Fc),this.yft.$s(MV.lft,this.gft),this.yft.$s(MV.dft,this._ft),this.yft.$s(MV.wft,this.mft),this.yft.Uq(this.tf,i);case 5:case"end":return e.stop()}},null,this,null,We)},i.Cc=function(t){this.Ec.Bu(),this.Ec.Pu(Tu,t),this.Js(new yu(this))},A(n,[{key:"rc",get:function(){return this.tf}},{key:"ic",get:function(){return NaN}},{key:"nc",get:function(){return this.Ac.Wu}},{key:"ec",get:function(){return this.Ec}}]),n}(du),YV=function(){function t(t,n,i){this.pft=void 0,this.tf=void 0,this.Fc=void 0,this.yft=void 0,this.qh=void 0,this.Lc=void 0,this.Bc=void 0,this.yft=t,this.qh=n,this.Lc=i;var e=Uc(i)||"video/mp4";this.Bc=Oc(e)}var i=t.prototype;return i.cc=function(t){var i;return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Fc){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new qV(this.Bc,this.qh,this.yft,this.tf,this.Fc),this.pft=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,We)},i.fc=function(t){return this.Fc=Uo(t),We.resolve(!0)},i.vc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,We)},i.lc=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,We)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"ac",get:function(){return this.qh}},{key:"hc",get:function(){return this.Lc}},{key:"sessionId",set:function(t){this.tf=t}}]),t}(),jV=function(){function t(t,n,i){this.bft=t,this.qh=n,this.Lc=i}var n=t.prototype;return n.mc=function(){return this.Lc},n.gc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new YV(this.bft,this.qh,this.Lc));case 1:case"end":return t.stop()}},null,this,null,We)},A(t,[{key:"ac",get:function(){return this.qh}}]),t}(),QV=function(){function t(t){this.bft=void 0,this.bft=t}return t.prototype.Rs=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Lc(ZV,mu,t,e))){s.next=6;break}return s.abrupt("return",new jV(this.bft,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,We)},t}();function ZV(t,n){return t===is}var KV,JV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.jq=function(t,n){return!0},n}(bP),$V=function(t){function n(n,i,e){var r;return void 0===e&&(e=new QV(i)),(r=t.call(this)||this).vD=void 0,r.Ss=void 0,r.BX=void 0,r.$q=new af,r.Aft=void 0,r.bft=void 0,r.Tft=!1,r.tf=void 0,r.Hc=null,r.Sft={Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.Eft=function(t){"boolean"==typeof t.detail.casting&&(r.Tft=t.detail.casting,r.Js(new py(r.Tft)))},r.Ift=function(t){r.tf=t.sessionId,r.Hc&&(r.Hc.sessionId=r.tf);var n=t.initData;if(n){var i=NP(n);if(!i)return;r.Js(new bu(qr,i))}else r.Js(new bu(qr,new ArrayBuffer(0)))},r.Aft=n,r.bft=i,r.bft.$s(MV.vft,r.Ift),r.Ss=e,r.BX=new JV(Kt(r)),r.Rft(),r}S(n,t);var i=n.prototype;return i.jX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.ds===ib.xE)return i}},i.Us=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.dc());case 2:return this.uu(),this.Dft(),this.bft.ou(MV.vft,this.Ift),t.next=7,Dr.awrap(this.BX.Us());case 7:case"end":return t.stop()}},null,this,null,We)},i.sy=function(){throw new v("Not implemented yet")},i.NE=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.QD=function(){return!1},i.KD=function(t,n,i,e,r){throw new v("Not implemented yet")},i.BE=function(t){throw new v("Not implemented yet")},i.tN=function(){throw new v("Not implemented yet")},i.Kh=function(t){var n=this;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.$q.Zc(function(i){var e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.ds!==ib.xE){r.next=8;break}return tu(i),e=new FV(t,n,n.Ss),n.vD=e,n.BX.Kh(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,We)}));case 1:case"end":return i.stop()}},null,this,null,We)},i.Gm=function(){throw new v("Not implemented yet")},i.Wm=function(){throw new v("Not implemented yet")},i.dc=function(){var t=this;return this.$q.Ws(),this.$q.Zc(function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.vD){n.next=4;break}return n.next=3,Dr.awrap(t.vD.Us());case 3:t.vD=void 0;case 4:return n.next=6,Dr.awrap(t.BX.dc());case 6:case"end":return n.stop()}},null,null,null,We)})},i.Uu=function(t,n){throw new v("Not implemented yet")},i.oN=function(t){throw new v("Not implemented yet")},i.ey=function(){throw new v("Not implemented yet")},i.aN=function(){return this.Sft},i.Rft=function(){this.Aft.addEventListener("airPlayIsCasting",this.Eft)},i.Dft=function(){this.Aft.removeEventListener("airPlayIsCasting",this.Eft)},i.webkitSetMediaKeys=function(t){this.Hc=t||null,this.Hc&&(this.Hc.sessionId=this.tf)},i.Mj=function(){},i.xj=function(){throw new v("Not implemented yet")},i.Lj=function(){throw new v("Not implemented yet")},A(n,[{key:"by",get:function(){throw new v("Not implemented yet")}},{key:"py",get:function(){throw new v("Not implemented yet")}},{key:"$g",get:function(){throw new v("Not implemented yet")}},{key:"YU",get:function(){throw new v("Not implemented yet")}},{key:"tm",get:function(){throw new v("Not implemented yet")}},{key:"nm",get:function(){throw new v("Not implemented yet")}},{key:"bu",get:function(){throw new v("Not implemented yet")}},{key:"yT",get:function(){throw new v("Not implemented yet")}},{key:"Ty",get:function(){return this.Tft}},{key:"um",get:function(){throw new v("Not implemented yet")}},{key:"hm",get:function(){throw new v("Not implemented yet")}},{key:"cm",get:function(){throw new v("Not implemented yet")}},{key:"By",get:function(){throw new v("Not implemented yet")}},{key:"dg",get:function(){throw new v("Not implemented yet")}},{key:"xy",get:function(){throw new v("Not implemented yet")}},{key:"fm",get:function(){throw new v("Not implemented yet")}},{key:"Hj",get:function(){throw new v("Not implemented yet")}},{key:"dm",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Uk",get:function(){throw new v("Not implemented yet")}},{key:"$D",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Hc}},{key:"Fj",get:function(){return _D}},{key:"zm",get:function(){throw new v("Not implemented yet")}},{key:"QU",get:function(){throw new v("Not implemented yet")}},{key:"hN",get:function(){throw new v("Not implemented yet")}},{key:"Uj",get:function(){return!0}},{key:"FD",get:function(){return this.BX.FD},set:function(t){this.BX.FD=t}},{key:"zj",get:function(){},set:function(t){}},{key:"Kq",get:function(){return this.BX.Kq}}]),n}(Ug),tW=function(t){function n(n){var i;return(i=t.call(this,Tf.ov)||this).Sft=n,i}return S(n,t),n}(_u);function nW(t){switch(t.type){case KV.UQ:return t.value;case KV.eft:return gg(t.value);case KV.ift:return Cu(t.value);default:return}}function iW(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.UQ="daterange-ca-type_string",t.eft="daterange-ca-type_number",t.ift="daterange-ca-type_arraybuffer"}(KV||(KV={}));var eW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).pR=void 0,u.Nft=void 0,u.pR=n,u.Nft=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.pR}},{key:"timestamp",get:function(){return this.Nft}}]),n}(tf),rW=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return S(n,t),n}(eW),sW=function(){function t(t,n){this.Lm=void 0,this.aY=void 0,this.Lm=new Dp,this.aY=new nP(t,n)}var n=t.prototype;return n.NE=function(t,n,i,e,r,s,u){var o=new nC(t,n,i,e,r,s,u);return this.Lm.P_(o),this.aY.P_(o),o},n.BE=function(t){this.Lm.B_(t),this.aY.B_(t),t.Jc()},n.dc=function(){for(var t=0,n=this.Lm.x_.slice();t<n.length;t++){n[t].Jc()}this.Lm.dc(),this.aY.dc()},n.Jc=function(){this.dc(),this.Lm.Jc(),this.aY.Jc()},A(t,[{key:"zm",get:function(){return this.Lm}}]),t}(),uW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).NC=0,u.OW=!1,u.lD=void 0,u.dD=void 0,u.Cft=void 0,u.OC=!0,u.xC=1,u.Om=void 0,u.xm=void 0,u.rY=void 0,u.uY=void 0,u.Lm=void 0,u.EE=void 0,u._a=void 0,u.q8=oS.SC(),u.yW=oS.SC(),u.BC=!1,u._Y=oS.SC(),u.LC=void 0,u.Pft=void 0,u.Bft=void 0,u.xW=jg.zg,u.ME=jg.zg,u.Aft=void 0,u.aY=void 0,u.gD=void 0,u.sft=void 0,u.Nrt=void 0,u.HC=void 0,u.fD=void 0,u.mD=void 0,u.bft=void 0,u.Sft={Ey:0,Iy:0,Ry:0,Dy:0,Ny:0,Cy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.vD=void 0,u.Oft=void 0,u.kD=new UT,u.pD=new WT,u.setCurrentTime=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.xy.length){n.next=4;break}return u.NC=t,n.next=4,Dr.awrap(u.Aft.du("seekablechange"));case 4:u.NC=u.updateCurrentTime(t),u.sft.pK("THEOplayerSetCurrentTime",u.NC),u.LC=!0,u.Js(new Tm(u.NC));case 8:case"end":return n.stop()}},null,null,null,We)},u.xft=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.q8=new oS(i),u.Js(new pD(u.$g))}},u.Lft=function(t){u.xW=t.detail.readyState,u.Js(new Im(+t.detail.currentTime,u.dg)),u.Mft()},u.Uft=function(t){u.xW=t.detail.readyState,u.Js(new Rm(+t.detail.currentTime,u.dg)),u.Mft()},u.Xft=function(t){if(t.detail){var n=+t.detail.duration;u._a=n,u.Js(new ym(u.tm))}},u.Hft=function(t){t.detail&&(u.OW=!0,u.Js(new bm(+t.detail.currentTime)))},u.bD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);iW(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.dD=new rW(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.lD=ny(u.dD),u.Js(new Nm(u.dD))):iW(i)&&(u.dD=new eW(i.name,i.message,void 0,i.code,i.timestamp),u.lD=ny(u.dD),u.Js(new Nm(u.dD)))}},u.Fft=function(t){u.Js(new bD)},u.zft=function(t){u.xW=t.detail.readyState,u.Js(new Am(+t.detail.currentTime,u.dg)),u.Mft()},u.Vft=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.xy.length){n.next=3;break}return n.next=3,Dr.awrap(u.Aft.du("seekablechange"));case 3:u.xW=t.detail.readyState,u.Js(new mm(+t.detail.currentTime,u.dg)),u.Mft();case 6:case"end":return n.stop()}},null,null,null,We)},u.Wft=function(t){t.detail&&u.OC&&(u.OC=!1,u.Js(new wm(+t.detail.currentTime)))},u.Gft=function(t){t.detail&&(u.OC||(u.OC=!0,u.Js(new dm(+t.detail.currentTime))))},u.qft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u._Y=new oS(i)}},u.Yft=function(t){t.detail&&u.Js(new db(+t.detail.currentTime))},u.jft=function(t){t.detail&&(u.xC=t.detail.playbackRate,u.Js(new km(+t.detail.currentTime,u.xC)))},u.Qft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.yW=new oS(i)}},u.Zft=function(t){t.detail&&(u.NC=+t.detail.currentTime,u.LC=!1,u.Js(new pm(u.NC,u.Cft)),u.Js(new Sm(u.NC)))},u.Kft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u._a&&(u.OW=!1),u.LC=!0,u.Js(new Tm(n))}},u.Jft=function(t){t.detail&&(t.detail.currentDate&&(u.Cft=new Date(1e3*t.detail.currentDate)),u.NC=+t.detail.currentTime,u.Js(new pm(u.NC,u.Cft)))},u.$ft=function(t){u.Pft=t.detail.height,u.Bft=t.detail.width},u.tvt=function(t){t.detail&&u.Js(new lb(+t.detail.currentTime))},u.nvt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Hm.P_(new wy(n))},u.ivt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Om.L_;s++){var o=u.Hm.C_(s);o.Z_==e&&o.Q_==r?i=u.Om.C_(s):1==o.G_&&(n=u.Om.C_(s))}i&&n&&(i.G_=!0,n.G_=!1)},u.evt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Fm.P_(new ky(n))},u.QZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Rp.fA&&e===my.ID3?(n=new oP("",t.detail.label)).cg=Rg.rg:i===Rp.fA&&e===my.DATE_RANGE?(n=new wL,u.Oft=n):n=new nC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.rY.P_(n),u.aY.P_(n)},u.rvt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new sP(gg(e.startTime),s,e.uid),a=u.svt();a&&a.PE(o)}},u.uvt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Uy(gg(r.startTime),gg(r.endTime),r.content,!1),o=null!=(e=u.ovt(Rp.hA))?e:u.ovt(Rp.lE);o&&(o.ds=my.WEBVTT,o.PE(s))}},u.vj=function(t){t.type===Tf.Ef&&(u.lD=ny(t.errorObject)),u.Ks(t)},u.avt=function(t){t.detail&&(u.Sft.Iy=t.detail.corruptedVideoFrames,u.Sft.Ey=t.detail.droppedVideoFrames,u.Js(new tW(u.Sy)))},u.cvt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={q_:t.id};if(void 0!==t.startDate&&(n.hN=new Date(t.startDate)),void 0!==t.endDate&&(n.yJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=nW(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.pJ=e}void 0!==t.scte35Cmd&&(n.AJ=Cu(t.scte35Cmd)),void 0!==t.scte35In&&(n.EJ=Cu(t.scte35In)),void 0!==t.scte35Out&&(n.SJ=Cu(t.scte35Out)),void 0!==t.startTime&&(n.hk=t.startTime),n.mJ=t.class,n.tm=gg(t.duration),n.kJ=gg(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.hk?t.hk:(new Date).getTime(),e=new lL(t,i);u.Oft.PE(e),u.Oft.$h(n,i)})};var o=r.uid;u.sft=u.getSdkBridge(o),u.Aft=new XV,BV()[o].sdkEventBus=u.Aft,u.Om=new ey,u.xm=new ey;var a=u.fvt(e);return u.EE=new sW(Kt(u),new iP),u.aY=new rP(Kt(u)),u.gD=new Zp(u.EE,a),u.rY=new Dp,u.uY=new cP(u.EE,u.rY),u.Lm=new FT([u.rY,u.gD.eT,u.uY.eT]),u.bft=u.getFairPlayControllerBridge(u.sft),u.fD=new $V(u.Aft,u.bft),u.mD=new XT(a),u.fD.FD=u.mD,u.observeMediaElement(),u.VD(),u.HC=new HV(u.sft,s),u.HC.$s("pL",function(){u.sft.pK("THEOplayerSetPreferredForwardBufferDuration",u.HC.kL)}),u}S(n,t);var i=n.prototype;return i.oy=function(){return cS},i.ey=function(){this.sft.pK("THEOplayerShow",{})},i.sy=function(){this.sft.pK("THEOplayerHide",{})},i.vvt=function(){var t=this;this.sft.pK("THEOplayerSetInitialPreferredPeakBitRate",this.HC.LL);this.$s("playing",function n(){t.sft.pK("THEOplayerSetInitialPreferredPeakBitRate",0),t.ou("playing",n)})},i.jm=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Nrt=t,i=Nr({},n,{sources:{src:t.src,type:Gg.xg,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.sft.pK("THEOplayerSourceChange",i),e={ds:ib.xE,gg:t.src,Wl:t.type,WD:this.GD(t),qD:t.crossOrigin,YD:n.metadata&&n.metadata.title},this.mD.ZR(t.contentProtection),s.next=7,Dr.awrap(this.fD.Kh(e));case 7:this.vD=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==my.WEBVTT})).length>0&&this.jD(r),nb(this.zm),this.vvt();case 11:case"end":return s.stop()}},null,this,null,We)},i.GD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ac:us,rN:[{initDataTypes:[us.gs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Wm=function(){this.OC=!1,this.Js(new wm(this.$g)),this.sft.pK("THEOplayerPlay",{})},i.Gm=function(){this.OC=!0,this.Js(new dm(this.$g)),this.sft.pK("THEOplayerPause",{})},i.uy=function(){},i.dc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NC=0,this.OW=!1,this.lD=void 0,this.dD=void 0,this.OC=!0,this.xC=1,this._a=void 0,this.yW=oS.SC(),this.q8=oS.SC(),this.Pft=void 0,this.Bft=void 0,this.xW=jg.zg,this.ME=jg.zg,this.Om.dc(),this.xm.dc(),this.rY.dc(),this.Lm.dc(),t.next=19,Dr.awrap(this.uY.dc());case 19:return t.next=21,Dr.awrap(this.gD.dc());case 21:return this.EE.dc(),this.aY.dc(),this.Nrt=void 0,t.next=26,Dr.awrap(this.fD.dc());case 26:case"end":return t.stop()}},null,this,null,We)},i.Zm=function(){this.sft.pK("THEOplayerShowAirPlayPicker",{})},i.Km=function(){this.sft.pK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Sy.Iy=t.Iy,this.Sy.Ey=t.Ey},i.Jc=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.dc());case 2:return this.uu(),this.unobserveMediaElement(),this.iN(),this.fD.FD=void 0,t.next=8,Dr.awrap(this.fD.Us());case 8:return this.Om.Jc(),this.xm.Jc(),this.rY.Jc(),this.Lm.Jc(),t.next=14,Dr.awrap(this.uY.Jc());case 14:return t.next=16,Dr.awrap(this.gD.Jc());case 16:this.EE.Jc(),this.aY.Jc();case 18:case"end":return t.stop()}},null,this,null,We)},i.jD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.gD.DE(i)}},i.Mft=function(){var t=this.ME,n=this.xW;t!==n&&(this.ME=n,this.Js(new Dm(this.$g,n)))},i.observeMediaElement=function(){this.fD.$s(Tf.bf,this.Ks),this.fD.$s([Tf.If,Tf.Ef],this.vj),this.Aft.addEventListener("play",this.Wft),this.Aft.addEventListener("pause",this.Gft),this.Aft.addEventListener("seeking",this.Kft),this.Aft.addEventListener("seeked",this.Zft),this.Aft.addEventListener("ratechange",this.jft),this.Aft.addEventListener("durationchange",this.Xft),this.Aft.addEventListener("timeupdate",this.Jft),this.Aft.addEventListener("waiting",this.tvt),this.Aft.addEventListener("playing",this.Yft),this.Aft.addEventListener("ended",this.Hft),this.Aft.addEventListener("loadedmetadata",this.Vft),this.Aft.addEventListener("loadeddata",this.zft),this.Aft.addEventListener("loadstart",this.Fft),this.Aft.addEventListener("canplay",this.Lft),this.Aft.addEventListener("canplaythrough",this.Uft),this.Aft.addEventListener("error",this.bD),this.Aft.addEventListener("seekablechange",this.Qft),this.Aft.addEventListener("videosizechange",this.$ft),this.Aft.addEventListener("bufferedchange",this.xft),this.Aft.addEventListener("playedchange",this.qft),this.Aft.addEventListener("metricschange",this.avt),this.Aft.addEventListener("addDateRangeCues",this.cvt)},i.unobserveMediaElement=function(){this.fD.ou(Tf.bf,this.Ks),this.fD.ou([Tf.If,Tf.Ef],this.vj),this.Aft.removeEventListener("play",this.Wft),this.Aft.removeEventListener("pause",this.Gft),this.Aft.removeEventListener("seeking",this.Kft),this.Aft.removeEventListener("seeked",this.Zft),this.Aft.removeEventListener("ratechange",this.jft),this.Aft.removeEventListener("durationchange",this.Xft),this.Aft.removeEventListener("timeupdate",this.Jft),this.Aft.removeEventListener("waiting",this.tvt),this.Aft.removeEventListener("playing",this.Yft),this.Aft.removeEventListener("ended",this.Hft),this.Aft.removeEventListener("loadedmetadata",this.Vft),this.Aft.removeEventListener("loadeddata",this.zft),this.Aft.removeEventListener("loadstart",this.Fft),this.Aft.removeEventListener("canplay",this.Lft),this.Aft.removeEventListener("canplaythrough",this.Uft),this.Aft.removeEventListener("error",this.bD),this.Aft.removeEventListener("seekablechange",this.Qft),this.Aft.removeEventListener("videosizechange",this.$ft),this.Aft.removeEventListener("bufferedchange",this.xft),this.Aft.removeEventListener("playedchange",this.qft),this.Aft.removeEventListener("metricschange",this.avt),this.Aft.removeEventListener("addDateRangeCues",this.cvt)},i.updateCurrentTime=function(t){var n=this.xy.start(0),i=this.xy.end(0);return w.min(w.max(t,n),i)},i.svt=function(){for(var t=0,n=this.Lm.x_;t<n.length;t++){var i=n[t];if(i.j_===Rp.fA&&i.ds===my.ID3)return i}},i.ovt=function(t){for(var n=0,i=this.Lm.x_;n<i.length;n++){var e=i[n],r=e.cg===Rg.og,s=e.j_===t;if(r&&s)return e}},i.VD=function(){this.Aft.addEventListener("addaudiotrack",this.nvt),this.Aft.addEventListener("enableaudiotrack",this.ivt),this.Aft.addEventListener("addvideotrack",this.evt),this.Aft.addEventListener("addtexttrack",this.QZ),this.Aft.addEventListener("addtexttrackid3cues",this.rvt),this.Aft.addEventListener("addtexttrackcues",this.uvt)},i.iN=function(){this.Aft.removeEventListener("addaudiotrack",this.nvt),this.Aft.removeEventListener("enableaudiotrack",this.ivt),this.Aft.removeEventListener("addvideotrack",this.evt),this.Aft.removeEventListener("addtexttrack",this.QZ),this.Aft.removeEventListener("addtexttrackid3cues",this.rvt),this.Aft.removeEventListener("addtexttrackcues",this.uvt)},i.yy=function(){},A(n,[{key:"Hm",get:function(){return this.Om}},{key:"py",get:function(){return this.q8.uN()}},{key:"by",get:function(){return this.Cft?this.Cft:null},set:function(t){this.sft.pK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.Cft=t}},{key:"$g",get:function(){return this.NC},set:function(t){this.setCurrentTime(t)}},{key:"tm",get:function(){return this._a}},{key:"nm",get:function(){return this.OW}},{key:"bu",get:function(){return this.lD}},{key:"im",get:function(){return this.dD}},{key:"Vm",get:function(){}},{key:"Ty",get:function(){return this.fD.Ty}},{key:"Sy",get:function(){return this.Sft}},{key:"um",get:function(){return this.BC},set:function(t){this.BC!==t&&(this.sft.pK("THEOplayerSetMuted",t),this.BC=t,this.Js(new Em(this.$g,t?0:1)))}},{key:"hm",get:function(){return this.OC}},{key:"cm",get:function(){return this.xC},set:function(t){this.sft.pK("THEOplayerSetPlaybackRate",t),this.xC=t}},{key:"By",get:function(){return this._Y.uN()}},{key:"Oy",get:function(){return $T.DN},set:function(t){}},{key:"dg",get:function(){return this.xW}},{key:"xy",get:function(){return this.yW.uN()}},{key:"fm",get:function(){return this.LC}},{key:"hN",get:function(){}},{key:"zm",get:function(){return this.Lm}},{key:"vm",get:function(){return this.Pft}},{key:"lm",get:function(){return this.Bft}},{key:"dm",get:function(){return 1},set:function(t){}},{key:"Ly",get:function(){return this.pD}},{key:"Fm",get:function(){return this.xm}},{key:"cN",get:function(){return this.kD}},{key:"My",get:function(){return!1},set:function(t){}},{key:"Py",get:function(){return!0}}]),n}(Ug),oW=function(){function t(){this.fN=BT.zR}var n=t.prototype;return n.vN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Jg(n.type))return!1;var e=n.contentProtection;if(e&&!$b(e)){if(!iA(e))return!1;if(!t.Lut(e))return!1}return!0},t.Lut=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.lN=function(){return!1},t}(),aW=function(){function t(){this.lvt=r.webkit}return t.prototype.pK=function(t,n){this.lvt.messageHandlers[t]&&this.lvt.messageHandlers[t].postMessage(n)},t}(),hW=function(t){function n(n){var i;return(i=t.call(this)||this).sft=void 0,i.Aft=void 0,i.dvt=function(t){var n=Cu(t.detail.initData),e=t.detail.sessionId;i.Js(new zV(n,e))},i.wvt=function(t){var n=new y(Hu(t.detail.message)),e=t.detail.destinationURL;i.Js(new VV(n,e))},i._vt=function(t){i.Js(new WV)},i.forwardKeyFlowDone=function(t){i.Js(new GV)},i.sft=n,i.Aft=new XV,BV().fairplayController={sdkEventBus:i.Aft},i.gvt(),i}S(n,t);var i=n.prototype;return i.gvt=function(){this.Aft.addEventListener(MV.vft,this.dvt),this.Aft.addEventListener(MV.lft,this.wvt),this.Aft.addEventListener(MV.dft,this._vt),this.Aft.addEventListener(MV.wft,this.forwardKeyFlowDone)},i.Uq=function(t,n){var i={playerId:xV(),data:Fu(n.buffer),sessionId:t};this.sft.pK("THEOplayerCreateKeySession",i)},i.$h=function(t,n){var i={playerId:xV(),data:Fu(n.buffer),sessionId:t};this.sft.pK("THEOplayerUpdateKey",i)},n}(Ug),cW=function(t){var n=this;this.Aft=void 0,this.mvt=void 0,this.yvt=function(){n.mvt.eK()},this.kvt=function(){n.mvt.iK()},this.Aft=new XV,this.mvt=t,this.Aft.addEventListener("showTracks",this.yvt),this.Aft.addEventListener("hideTracks",this.kvt),BV().texttracks={sdkEventBus:this.Aft}},fW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).aK=void 0,o.hK=void 0,o.pvt=void 0;var a=i.XD(iy.Cd);return o.aK=new XP,o.aK.Xj(n),o.hK=new HB(o.aK.Ay,a.YU,o.zm,u,a.$D),o.pvt=new cW(o.hK),i.eN(a),le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.add("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.ey=function(){t.prototype.ey.call(this),this.aK.ey()},i.sy=function(){t.prototype.sy.call(this),this.aK.sy()},i.Qm=function(){return!0},i.getSdkBridge=function(){return new aW},i.getFairPlayControllerBridge=function(){return lW},i.fvt=function(t){return t},i.Jc=function(){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return le.document.querySelector(".vjs-tech")?le.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):le.document.querySelector(".player-div").style.background="#000000",n.next=3,Dr.awrap(t.prototype.Jc.call(this));case 3:this.hK.Jc(),this.aK.Jc();case 5:case"end":return n.stop()}},null,this,null,We)},n}(uW);KT(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.xI=function(t,n,i,e,r,s){return new fW(t,n,i,e,r,s)},i.vN=function(n,i){if(n.type){var e=ar();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.vN.call(this,n,i)},n}(oW)));var vW,lW=new hW(new aW),dW=function(t){function n(){return t.call(this,"bvt")||this}return S(n,t),n.prototype.o_=function(){return new wW},n}(Z_),wW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(_u);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(vW||(vW={}));var _W=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Avt=new Ug,n.Ks=function(t){n.Js(t)},n}S(n,t);var i=n.prototype;return i.o_=function(){return n=function(t){var n=t.Tvt.map(function(t){return t.u_});return n.item=function(n){n|=0;var i=t.C_(n);return i&&i.u_||void 0},n}(t=this),i=new wR(t,n),n.addEventListener=function(t,n){i.$s(t,n)},n.removeEventListener=function(t,n){i.ou(t,n)},n;var t,n,i},i.$s=function(t,n){this.Avt.$s(t,n)},i.nu=function(t){this.Avt.nu(t)},i.uu=function(){this.Avt.uu()},i.Js=function(t){this.Avt.Js(t)},i.ou=function(t,n){this.Avt.ou(t,n)},i.fu=function(t){this.Avt.fu(t)},i.vu=function(t){this.Avt.vu(t)},i.du=function(t,n){return this.Avt.du(t,n)},n}(function(){function t(){this.Ru=[],this.s_=void 0}var n=t.prototype;return n.C_=function(t){return this.Ru[t]},n.Xy=function(t){this.Ru.push(t),this.s_&&this.s_.push(t.u_),this.Svt(t)},n.Evt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Xy(i)}},n.Ivt=function(t,n){n>=0&&n<=this.Ru.length&&(this.Ru.splice(n,0,t),this.s_&&this.s_.splice(n,0,t.u_),this.Svt(t))},n.Hy=function(t){return Hs(this.Ru,t)},n.Jh=function(t){this.Rvt(this.Ru.indexOf(t))},n.Rvt=function(t){if(t>=0&&t<this.Ru.length){var n=this.Ru[t];Xs(this.Ru,t),this.s_&&Xs(this.s_,t),this.Dvt(n)}},n.Bu=function(){var t=this.Ru.slice();Fs(this.Ru),this.s_&&Fs(this.s_);for(var n=0;n<t.length;n++){var i=t[n];this.Dvt(i)}},A(t,[{key:"Tvt",get:function(){return this.Ru}},{key:"L_",get:function(){return this.Ru.length}},{key:"u_",get:function(){return this.s_||(this.s_=this.o_()),this.s_}}]),t}());var gW,mW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(_u),yW=function(t){function n(n){var i;return(i=t.call(this,"Cvt")||this).Nvt=n,i}return S(n,t),n.prototype.o_=function(){return new mW(this.Nvt.u_)},n}(Z_),kW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(_u),pW=function(t){function n(n){var i;return(i=t.call(this,"Pvt")||this).task=n,i}return S(n,t),n.prototype.o_=function(){return new kW(this.task.u_)},n}(Z_),bW=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.Svt=function(t){this.Js(new yW(t))},i.Dvt=function(t){this.Js(new pW(t))},n}(_W);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(gW||(gW={}));var AW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Bvt=gW.UNINITIALISED,r.Wc=new bW,r.act=void 0,r.Ovt=void 0,r.xvt=void 0,r.xvt=i,r.Ovt=e,r.act=n,r.Jm(),r}S(n,t);var i=n.prototype;return i.Jm=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Lvt());case 2:this.Mvt(gW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,We)},i.Lvt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Dr.awrap(this.Uvt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],We)},i.Uvt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.act.Mat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.xvt.Xvt(i.id,i.sourceDescription,i.parameters,this.Ovt),this.Hvt(e),this.Wc.Xy(e);case 4:case"end":return r.stop()}},null,this,null,We)},i.Mvt=function(t){this.Bvt=t,this.Js(new dW)},i.Xvt=function(t,n,i){void 0===i&&(i="persistent");var e=this.xvt.Fvt(t,n,i);return this.zvt(e,i),this.Wc.Xy(e),this.Hvt(e),e},i.zvt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(this.Vvt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],We)},i.Vvt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.act.Oat({key:t.q_,id:t.q_,sourceDescription:t.TN,parameters:t.yc},n));case 2:case"end":return i.stop()}},null,this,null,We)},i.Hvt=function(t){var n=this;t.$s("bvt",function(){t.rd===vW.EVICTED&&n.Wc.Jh(t)})},A(n,[{key:"rd",get:function(){return this.Bvt}},{key:"Wvt",get:function(){return this.Wc}}]),n}(du);function TW(t,n){return function(t,n){var i=t.Uk&&n.Uk,e=t.yT&&n.yT;return i||e?i&&e?t.Uk*t.yT-n.Uk*n.yT:i?t.Uk-n.Uk:e?t.yT-n.yT:(t.Uk||1)*(t.yT||1)-(n.Uk||1)*(n.yT||1):0}(t,n)||function(t,n){return t.YR-n.YR}(t,n)}var SW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(_u),EW=function(t){function n(){return t.call(this,"Gvt")||this}return S(n,t),n.prototype.o_=function(){return new SW},n}(Z_),IW=function(){function t(t,n,i){if(this.qvt=void 0,this.Yvt=t,this.Uy=n,this.jvt=i,0===this.Uy.size)this.qvt=oS.SC();else{var e=new oS([-1/0,1/0]);this.Uy.forEach(function(t){e=e.nC(t.timeRanges)}),this.qvt=e}}return t.prototype.Dk=function(t){return!!lg(this.Uy,t.Uy)&&(!!Ht(this.Yvt,t.Yvt)&&(!!Ht(this.pC,t.pC)&&(!!Ht(this.Qvt,t.Qvt)&&this.Zvt.wC(t.Zvt))))},A(t,[{key:"pC",get:function(){return this.jvt}},{key:"Kvt",get:function(){return this.Yvt}},{key:"Qvt",get:function(){return this.Zvt.pC}},{key:"Jvt",get:function(){var t=0,n=0;return this.Uy.forEach(function(i){t+=i.timeRanges.pC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"Zvt",get:function(){return this.qvt}}]),t}();function RW(t,n){if(q(t)){if(vs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}IW.QUALITY_TIME_RANGES_NULL_OBJECT=Pr(),IW.CACHE_PROGRESSION_NULL_OBJECT=new IW(0,IW.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),IW.$vt=IW.CACHE_PROGRESSION_NULL_OBJECT;var DW,NW=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"tlt"}}]),n}($t);function CW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.nlt;r<s.length;r++)u=s[r],e.push(PW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{tm:t.elt.ilt(),rlt:[t.slt],nlt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function PW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.ult;r<s.length;r++)u=s[r],e.push(BW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{olt:o});case 6:case"end":return a.stop()}},null,null,null,We)}function BW(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.hlt;r<s.length;r++)OW(u=s[r])||e.push(UW(u,n,i));return a.next=4,Dr.awrap(We.all(e));case 4:return o=a.sent,a.abrupt("return",{eT:o,ds:t.ds});case 6:case"end":return a.stop()}},null,null,null,We)}function OW(t){return t.f1.every(MW)}!function(t){t[t.Og=0]="Og",t[t.xg=1]="xg"}(DW||(DW={}));var xW,LW=1;function MW(t){return t.clt!==LW&&Boolean(t.clt)}function UW(t,n,i){var e,r,s,u,o,a,h,c,f;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.f1;r<s.length;r++)MW(u=s[r])||e.push(HW(u,i));return v.next=4,Dr.awrap(We.all(e));case 4:return o=v.sent,a=t.QF[0],h=t.c1,c=h?XW(a,h):void 0,f=px(t,n),v.abrupt("return",{K_:o,Z_:t.drt,ds:t.ds,WD:c,flt:f});case 10:case"end":return v.stop()}},null,null,null,We)}function XW(t,n){for(var i=[],e=function(t){return t?vs(t,"avc")?Dc.VIDEO_H264:vs(t,"hev")||vs(t,"hvc")||vs(t,"hvt")||vs(t,"lhv")||vs(t,"lhe")||vs(t,"lht")?Dc.VIDEO_H265:vs(t,"mp4")?Dc.VIDEO_MP4:vs(t,"mpeg2")?Dc.VIDEO_MPEG2:vs(t,"mpeg")?Dc.VIDEO_MPEG:Dc.VIDEO_UNKNOWN:Dc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.i1.split(":").pop(),o=s.e1;i.push({mimeType:e,uuid:u,data:o})}return{type:DW.Og,schemeType:Wr,schemeDatas:i}}function HW(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Dr.awrap(FW(t,n));case 2:r=u.sent,s={q_:VW(t),rE:r,YR:t.YR,rr:t.rr,yT:t.yT,ds:t.ds,Uk:t.Uk},u.t0=t.ds,u.next=u.t0===iy.$n?7:u.t0===iy.Cd?8:u.t0===iy.Nd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.fJ=null!=(i=null==(e=t.fJ)?void 0:e.Hk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.dJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,We)}function FW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.vlt,t.Ght&&i.push({hk:0,tm:0,llt:t.Ght}),r=e.dlt(),s=r;case 5:if(!s){c.next=17;break}if(!t.wlt(s)){c.next=13;break}return c.next=9,Dr.awrap(t._lt(s,n,(new Ks).Ys));case 9:for(u=c.sent,o=0;o<u.L_;o++)i.push(zW(u.glt(o),t));c.next=14;break;case 13:i.push(zW(s,t));case 14:s=e.ylt(s),c.next=5;break;case 17:return a=e.klt(),h=a.ck-r.hk,c.abrupt("return",{tm:h,wJ:i});case 20:case"end":return c.stop()}},null,null,null,We)}function zW(t,n){return{hk:t.hk,tm:t.tm,llt:n.plt(t)}}function VW(t){return t.blt.zN+"-"+(""+t.q_)}function WW(t,n){return function(t,n){var i=Br();return t.forEach(function(t,e){var r=Pr();t.forEach(function(t,i){for(var s=[],u=0;u<t.length;u++){var o=GW(t[u],e,n);s.push(o)}r.set(i,s)}),i.set(e,r)}),i}(function(t){var n=function(t){for(var n=Pr(),i=0;i<t.length;i++){var e=t[i],r=n.get(e.o$);r||(r={ds:e.ds,vT:[]},n.set(e.o$,r)),r.vT.push(e)}return n}(t),i=Br();return n.forEach(function(t){for(var n=0,e=t.vT;n<e.length;n++){var r=e[n],s=i.get(t.ds);s||(s=Pr(),i.set(t.ds,s));var u=s.get(r.wi);u||(u=[],s.set(r.wi,u)),u.push(r)}}),i}(t),n)}function GW(t,n,i){for(var e=t.o$,r={R$:t,i0:[]},s=0;s<i.length;s++){var u=i[s];IL(n,e,u)&&r.i0.push(u)}return r}function qW(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(n.rct([t],{}));case 2:return i=e.sent,e.abrupt("return",rL(i.ld,{},i.nct));case 4:case"end":return e.stop()}},null,null,null,We)}function YW(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!_O(t)){i.next=4;break}return i.abrupt("return",jW(t,n));case 4:return i.abrupt("return",(r=void 0,{tm:(r=eG(e=t)).tm,rlt:[e.c$],nlt:[{olt:[{ds:iy._d,eT:[{ds:iy._d,Z_:JM,K_:[{q_:e.c$,rE:r,YR:0,rr:"",yT:0,ds:iy._d,Uk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,We)}function jW(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=WW(t.vT,t.K1),s.next=3,Dr.awrap(KW(i,n));case 3:return e=s.sent,s.next=6,Dr.awrap(ZW(t.K1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{tm:QW(e),rlt:[t.c$],nlt:[{olt:e}]});case 9:case"end":return s.stop()}},null,null,null,We)}function QW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].eT;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.K_.map(function(t){return t.rE.tm})))}return n}function ZW(t,n){var i,e,r,s,u,o,a,h;return Dr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Dr.awrap(iG(a.c$,n));case 6:(h=c.sent).YR=a.YR,h.rr=a.QF?[(f=a.QF).jF,f.YF,f.ZF].filter(H).join(","):"",h.yT=null!=(r=null==(s=a.F$)?void 0:s.yT)?r:0,h.Uk=null!=(u=null==(o=a.F$)?void 0:o.Uk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{ds:iy._d,eT:[{Z_:JM,ds:iy._d,K_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,We)}function KW(t,n){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.entries(),r=e.next();case 3:if(r.done){h.next=12;break}return s=r.value,u=s[0],o=s[1],h.next=7,Dr.awrap(JW(o,u,n));case 7:a=h.sent,i.push(a);case 9:r=e.next(),h.next=3;break;case 12:return h.abrupt("return",i);case 13:case"end":return h.stop()}},null,null,null,We)}function JW(t,n,i){var e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:e=[],r=t.entries(),s=r.next();case 3:if(s.done){h.next=12;break}return u=s.value,o=u[1],h.next=7,Dr.awrap($W(o,i));case 7:a=h.sent,e.push(a);case 9:s=r.next(),h.next=3;break;case 12:return h.abrupt("return",{ds:tG(n),eT:e});case 13:case"end":return h.stop()}},null,null,null,We)}function $W(t,n){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].R$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Dr.awrap(nG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{Z_:e.Z_||JM,ds:tG(e.ds),K_:i});case 13:case"end":return o.stop()}},null,null,null,We)}function tG(t){switch(t){case hO.Nd:return iy.Nd;case hO.Cd:return iy.Cd;case hO.hA:case hO.ZJ:return iy.$n;default:return iy._d}}function nG(t,n){var i,e,r;return iG((e=(i=t).R$.c$,r=i.i0.map(function(t){return t.c$}),e||(r.length?r[0]:void 0)),n)}function iG(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={tm:0,wJ:[]},!t){r.next=6;break}return r.next=4,Dr.awrap(qW(t,n));case 4:gO(e=r.sent)&&(i=eG(e));case 6:return r.abrupt("return",{q_:t||"default",Alt:t,rE:i,YR:0,rr:"",yT:0,ds:iy._d,Uk:0});case 7:case"end":return r.stop()}},null,null,null,We)}function eG(t){for(var n,i=[],e=0,r=0,s=t.wJ;r<s.length;r++){var u=s[r],o=e;!u.e2||void 0!==n&&kO(u.e2.c$,n)||(i.push(rG(u.e2,o)),n=u.e2.c$),i.push(sG(u,o)),e+=u.tm}return{tm:e,wJ:i}}function rG(t,n){return{hk:n,tm:0,llt:uG(t.c$)}}function sG(t,n){return{hk:n,tm:t.tm,llt:uG(t.c$)}}function uG(t){return{dd:t.Ai,Mht:t._J?[t._J.zN,t._J.zN+t._J.L_]:void 0,Md:!1}}!function(t){t.xE="static",t.LE="dynamic"}(xW||(xW={}));var oG,aG=31536e3,hG=2592e3,cG=86400,fG=3600,vG=60,lG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,dG=function(){function t(t){this.Tlt=void 0;var n=t.match(lG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Tlt=i*aG+e*hG+r*cG+s*fG+u*vG+o}var n=t.prototype;return n.ilt=function(){return this.Tlt},n.Slt=function(){return 1e3*this.Tlt},A(t,[{key:"_tt",get:function(){return ik.Wp(this.Tlt,1e3)}}]),t}();!function(t){t.Elt="progressive",t.Ilt="interlaced",t._d="unknown"}(oG||(oG={}));var wG=function(){function t(t,n){this.Rlt=t,this.Dlt=n}return t.prototype.Hk=function(){return this.Rlt/this.Dlt},t}(),_G=/^(?:true|false)$/i,gG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function mG(t){if(void 0!==t)return new dG(t)}function yG(t){if(void 0!==t){var n=t.match(gG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),p=Number(a),b=Number("0."+(h||"")),A=w.round(1e3*b);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,p,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function kG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[bG(n[1]),bG(n[2])]}}function pG(t){if(void 0!==t){if(!m(Number(t)))try{return ft.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function bG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function AG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new wG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function TG(t){if(void 0!==t){if(_G.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function SG(t){return{dd:t.Hi,Nlt:TG(t.Bi("availabilityTimeComplete")),Clt:bG(t.Bi("availabilityTimeOffset"))}}function EG(t){return t.map(SG)}function IG(t){var n,i,e,r,s,u,o=UG(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),h=ap(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Hu(h.Hi)),!u){var c=ap(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Cu(t.Hi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new zo;fo(o,a,r),fo(o,a,1886614376),fo(o,a,0),so(o,a,i),fo(o,a,e),so(o,a,n),0;return u.buffer}(c))}return{nI:a,e1:u,i1:o.i1,Ai:o.Ai}}function RG(t){return{Plt:t.Bi("sourceURL"),Mht:kG(t.Bi("range"))}}function DG(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=bG(t.Bi("r"));n.push({tm:i,hk:e,Blt:r})}function NG(t){return{Olt:t.Bi("index"),xlt:kG(t.Bi("indexRange")),vT:t.Bi("media"),Llt:kG(t.Bi("mediaRange"))}}function CG(t){var n,i;return Nr({},OG(t),{Mlt:(n=t.Ei("SegmentURL"),(i=n.map(NG)).length>0?i:void 0),Ult:t.Bi("xlink:href"),Xlt:t.Bi("xlink:actuate")})}function PG(t){var n=t.map(CG);return n.length>0?n:void 0}function BG(t){var n=TG(t.Bi("availabilityTimeComplete")),i=bG(t.Bi("availabilityTimeOffset")),e=kG(t.Bi("indexRange")),r=TG(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?RG(s[0]):void 0,o=pG(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{Nlt:n,Clt:i,xlt:e,Hlt:r,Flt:u,zlt:o,Vlt:1===a.length?RG(a[0]):void 0,Wlt:mG(t.Bi("timeShiftBufferDepth")),Bp:bG(t.Bi("timescale"))}}function OG(t){var n=BG(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?RG(i[0]):void 0,r=bG(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Nr({},n,{Glt:e,tm:r,vlt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)DG(i[e],n);return n}(s[0]):void 0,qlt:bG(t.Bi("startNumber")),Ylt:bG(t.Bi("endNumber"))})}function xG(t){return Nr({},OG(t),{jlt:t.Bi("bitstreamSwitching"),Qlt:t.Bi("index"),Zlt:t.Bi("initialization"),Klt:t.Bi("media")})}function LG(t){return{dJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(bG)):1===n.length?n.map(bG)[0]:void 0}}(t.Bi("audioSamplingRate")),QF:t.Bi("codecs"),Jlt:TG(t.Bi("codingDependency")),c1:function(t){if(0!==t.length)return t.map(IG)}(t.Ei("ContentProtection")),$lt:t.Ei("EssentialProperty").map(XG),fJ:AG(t.Bi("frameRate")),yT:bG(t.Bi("height")),clt:bG(t.Bi("maxPlayoutRate")),tdt:bG(t.Bi("maximumSAPPeriod")),cO:t.Bi("mimeType"),ndt:t.Bi("profiles"),idt:t.Bi("sar"),edt:function(t){switch(t){case oG.Elt:case oG.Ilt:case oG._d:return t;default:return}}(t.Bi("scanType")),rdt:t.Bi("segmentProfiles"),sdt:bG(t.Bi("startWithSAP")),Uk:bG(t.Bi("width"))}}function MG(t){var n=LG(t),i=bG(t.Bi("bandwidth")),e=EG(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=bG(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?BG(a[0]):void 0,c=PG(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{YR:i,udt:e,odt:r,q_:s,adt:u,hdt:o,cdt:h,fdt:c,vdt:1===f.length?xG(f[0]):void 0})}function UG(t){return{i1:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function XG(t){return UG(t)}function HG(t){return UG(t)}function FG(t){return UG(t)}function zG(t){var n,i=LG(t),e=function(t){return t.map(FG)}(t.Ei("Accessibility")),r=EG(t.Ei("BaseURL")),s=TG(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=bG(t.Bi("group")),a=bG(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.Hi)||"",c=t.Bi("lang"),f=bG(t.Bi("maxBandwidth")),l=AG(t.Bi("maxFrameRate")),d=bG(t.Bi("maxHeight")),w=bG(t.Bi("maxWidth")),_=bG(t.Bi("minBandwidth")),g=AG(t.Bi("minFrameRate")),m=bG(t.Bi("minHeight")),y=bG(t.Bi("minWidth")),k=t.Bi("par"),p=t.Ei("Representation").map(MG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(HG)}(t.Ei("Role")),A=TG(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?BG(T[0]):void 0,E=PG(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,D=1===I.length?xG(I[0]):void 0,N=bG(t.Bi("selectionPriority")),C=N||1,P=TG(t.Bi("subsegmentAlignment"))||!1;try{R=bG(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{ldt:e,udt:r,Glt:s,Wl:u,ddt:o,q_:a,Q_:h,Z_:c,wdt:f,_dt:l,gdt:d,mdt:w,ydt:_,kdt:g,pdt:m,bdt:y,Adt:k,f1:p,Tdt:b,Sdt:A,cdt:S,fdt:E,vdt:D,fN:C,Edt:P,Idt:R,Rdt:t.Bi("xlink:actuate")||"onRequest",Ddt:t.Bi("xlink:href")})}function VG(t){var n=pG(t.Bi("presentationTime"))||ft.ZERO,i=pG(t.Bi("duration")),e=bG(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Hi;return{HS:n,tm:i,q_:e,Xi:r,Fi:""!==s.trim()?s:t.Bi("messageData")||""}}function WG(t){return{Ddt:t.Bi("xlink:href"),Rdt:t.Bi("xlink:actuate"),i1:t.Bi("schemeIdUri"),Ai:t.Bi("value"),Bp:bG(t.Bi("timescale")),zlt:pG(t.Bi("presentationTimeOffset")),fO:t.Ei("Event").map(VG)}}function GG(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?UG(i[0]):void 0,r=t.Ei("AdaptationSet").map(zG),s=EG(t.Ei("BaseURL")),u=TG(t.Bi("bitstreamSwitching")),o=mG(t.Bi("duration")),a=t.Ei("EventStream").map(WG),h=t.Bi("id"),c=n&&mG(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?BG(f[0]):void 0,d=PG(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?xG(w[0]):void 0,g=mG(t.Bi("start"));t.Ei("Subset");var m=t.Bi("xlink:href");return{hlt:r,Ndt:e,udt:s,Glt:u,tm:o,Cdt:a,q_:h,Pdt:c,cdt:l,fdt:d,vdt:_,zN:g,Rdt:t.Bi("xlink:actuate"),Ddt:m}}function qG(t){var n=t.Bi("schemeIdUri");if(n)return{i1:n,Ai:t.Bi("value")}}function YG(t,n){var i=yG(t.Bi("availabilityEndTime")),e=yG(t.Bi("availabilityStartTime")),r=EG(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Hi}),o=mG(t.Bi("maxSegmentDuration")),a=mG(t.Bi("maxSubsegmentDuration")),h=mG(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=mG(t.Bi("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=mG(t.Bi("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(GG(t[i],t[i+1]));return n}(t.Ei("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Bdt:i,Odt:e,udt:r,q_:s,xdt:u,Ldt:n,Mdt:o,Udt:a,elt:h,Xdt:c,Hdt:f,nlt:l,ndt:d,Fdt:yG(t.Bi("publishTime")),zdt:mG(t.Bi("suggestedPresentationDelay")),Wlt:mG(t.Bi("timeShiftBufferDepth")),ds:function(t){switch(t){case xW.xE:case xW.LE:return t;default:return}}(t.Bi("type")),Vdt:function(t){for(var n=[],i=0;i<t.length;i++){var e=qG(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var jG,QG=function(){function t(){}return t.prototype.Yct=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return YG(t,n)}(i.ui(t).zi,n)},t}(),ZG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Y_=void 0,u.zy=void 0,u.Wdt=void 0,u.q_=n,u.YR=i,u.QF=e,u.c$=s,u.Y_=fy(),u.zy=r||"",u.Wdt=!0,u}return S(n,t),n.prototype.AE=function(){this.Wdt=!1,this.Js(new MO(this.u_))},A(n,[{key:"Q_",get:function(){return this.zy},set:function(t){this.zy!==t&&(this.zy=t,this.Js(new MO(this.u_)))}},{key:"cJ",get:function(){}},{key:"lJ",get:function(){return this.Wdt}}]),n}(du),KG=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).s_=void 0,c.fJ=u,c.Uk=o,c.yT=a,c.vJ=h,c}return S(n,t),A(n,[{key:"u_",get:function(){return this.s_||(this.s_=lO(this)),this.s_}}]),n}(ZG),JG=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).s_=void 0,o.dJ=u,o}return S(n,t),A(n,[{key:"u_",get:function(){return this.s_||(this.s_=dO(this)),this.s_}}]),n}(ZG);!function(t){t.Gdt="qdt",t.Ydt="jdt"}(jG||(jG={}));var $G=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Qdt=function(t){n.Js(t)},n}return S(n,t),A(n,[{key:"Zdt",get:function(){var t=this.Kdt();return null==t?void 0:t.zN}},{key:"Jdt",get:function(){var t=this.Kdt();return null==t?void 0:t.WN}}]),n}(du);function tq(t){return Z(t.$dt)}var nq=function(t){function n(n,i){var e;if((e=t.call(this)||this).twt=void 0,e.s_=void 0,e.G4=void 0,e.nwt=void 0,e.iwt=void 0,e.twt=n,e.G4=i,e.G4.$s(jG.Gdt,e.Qdt),e.ds===iy.Cd){var r,s,u=null!=(r=null==(s=e.fJ)?void 0:s.Hk())?r:NaN;e.nwt=new KG(e.q_,e.YR,e.rr,"","",u,e.Uk,e.yT)}else e.ds===iy.Nd?e.nwt=new JG(e.q_,e.YR,e.rr,"","",e.dJ):e.nwt=void 0;return e}S(n,t);var i=n.prototype;return i.plt=function(t){var n=tq(t)?this.G4.ewt(t):this.G4.plt(t);return{dd:n.dd,Mht:n.Mht,Md:this.rwt.Md}},i.swt=function(){return this.G4.swt()},i.Kdt=function(){return this.G4.Kdt()},i.uwt=function(){return this.G4.uwt()},i.wlt=function(t){return this.G4.wlt(t)},i._lt=function(t,n,i){return this.G4._lt(t,this.rwt.Md,n,i)},i.owt=function(t){return tq(t)?this.vlt.awt(t):this.vlt.owt(t)},i.hwt=function(t){return tq(t)?this.vlt.cwt(t):this.vlt.hwt(t)},i.Jc=function(){this.G4.ou(jG.Gdt,this.Qdt)},A(n,[{key:"fwt",get:function(){return this.twt}},{key:"dJ",get:function(){var t;return null!=(t=this.G4.Fi.dJ)?t:this.fwt.dJ}},{key:"YR",get:function(){return this.G4.Fi.YR||0}},{key:"QF",get:function(){var t=this.G4.Fi;return t.QF?[t.QF]:this.fwt.QF}},{key:"vwt",get:function(){var t=this.G4.Fi;return t.QF?[t.QF]:[]}},{key:"rr",get:function(){return this.G4.Fi.QF||this.fwt.rr}},{key:"Jlt",get:function(){return this.G4.Fi.Jlt||this.fwt.Jlt}},{key:"c1",get:function(){return this.G4.Fi.c1||this.fwt.c1}},{key:"Wl",get:function(){return this.cO+'; codecs="'+this.rr+'"'}},{key:"$lt",get:function(){var t=this.G4.Fi;return t.$lt.length?t.$lt:this.fwt.$lt}},{key:"u_",get:function(){return this.s_||(this.s_=(t=this,{get id(){return t.q_},get type(){return t.ds},get bandwidth(){return t.YR},get width(){return t.Uk},get height(){return t.yT},get frameRate(){var n,i;return null!=(n=null==(i=t.fJ)?void 0:i.Hk())?n:NaN},get audioSamplingRate(){return t.dJ}}));var t}},{key:"fJ",get:function(){var t;return null!=(t=this.G4.Fi.fJ)?t:this.fwt.fJ}},{key:"yT",get:function(){return this.G4.Fi.yT||this.fwt.yT}},{key:"q_",get:function(){return this.G4.Fi.q_||""}},{key:"lwt",get:function(){return this.iwt},set:function(t){this.iwt=t}},{key:"Ght",get:function(){var t=this.G4.dwt();if(t)return{dd:t.dd,Mht:t.Mht,Md:this.rwt.Md}}},{key:"clt",get:function(){return this.G4.Fi.clt||this.fwt.clt||1}},{key:"tdt",get:function(){return this.G4.Fi.tdt||this.fwt.tdt}},{key:"rwt",get:function(){return this.blt.rwt}},{key:"cO",get:function(){return this.G4.Fi.cO||this.fwt.cO}},{key:"blt",get:function(){return this.fwt.blt}},{key:"ndt",get:function(){return this.G4.Fi.ndt||this.fwt.ndt}},{key:"m$",get:function(){return this.nwt}},{key:"idt",get:function(){return this.G4.Fi.idt||this.fwt.idt}},{key:"edt",get:function(){return this.G4.Fi.edt||this.fwt.edt}},{key:"wwt",get:function(){return this.G4.wwt}},{key:"rdt",get:function(){return this.G4.Fi.rdt||this.fwt.rdt}},{key:"vlt",get:function(){return this.G4.vlt}},{key:"sdt",get:function(){return this.G4.Fi.sdt||this.fwt.sdt}},{key:"ds",get:function(){var t=this.cO.split("/")[0];return"application"===t||"text"===t||Xp(this.cO,this.QF)?iy.$n:"video"===t?iy.Cd:"audio"===t?iy.Nd:"image"===t?iy.Pd:iy._d}},{key:"Uk",get:function(){return this.G4.Fi.Uk||this.fwt.Uk}}]),n}($G),iq=function(t){function n(n,i){var e;return(e=t.call(this)||this)._wt=[],e.G4=void 0,e.gwt=void 0,e.mwt=[],e.gwt=n,e.G4=i,e.G4.$s(jG.Gdt,e.Qdt),e}S(n,t);var i=n.prototype;return i.$h=function(t,n){var i,e=this;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.mwt.length){r.next=6;break}return this.mwt=[],i=this.G4.f1.map(function(i){return e.ywt(i,t,n)}),r.next=5,Dr.awrap(We.all(i));case 5:this.mwt=r.sent.filter(H);case 6:this.kwt();case 7:case"end":return r.stop()}},null,this,null,We)},i.ywt=function(t,n,i){var e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new nq(this,t),s.next=3,Dr.awrap(n(e));case 3:if(r=s.sent,tu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,We)},i.kwt=function(){if(!this.mwt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Kdt=function(){return this.G4.Kdt()},i.uwt=function(){return this.G4.uwt()},i.Jc=function(){this.G4.ou(jG.Gdt,this.Qdt);for(var t=0,n=this.mwt;t<n.length;t++){n[t].Jc()}Fs(this.mwt)},A(n,[{key:"ldt",get:function(){return this.G4.Fi.ldt}},{key:"dJ",get:function(){var t;return null!=(t=this.G4.Fi.dJ)?t:-1}},{key:"QF",get:function(){if(this.G4.Fi.QF)return[this.G4.Fi.QF];for(var t=[],n=0,i=this.f1;n<i.length;n++){var e=i[n];e.vwt.length&&-1===t.indexOf(e.rr)&&t.push(e.rr)}return t}},{key:"rr",get:function(){return this.QF.join()}},{key:"Jlt",get:function(){return this.G4.Fi.Jlt}},{key:"c1",get:function(){return this.G4.Fi.c1}},{key:"Wl",get:function(){return this.cO+'; codecs="'+this.rr+'"'}},{key:"$lt",get:function(){return this._wt}},{key:"fJ",get:function(){return this.G4.Fi.fJ}},{key:"ddt",get:function(){return this.G4.Fi.ddt}},{key:"yT",get:function(){return this.G4.Fi.yT||0}},{key:"q_",get:function(){return this.G4.Fi.q_}},{key:"Q_",get:function(){return this.G4.Fi.Q_||""}},{key:"clt",get:function(){return this.G4.Fi.clt}},{key:"tdt",get:function(){return this.G4.Fi.tdt}},{key:"rwt",get:function(){return this.blt.rwt}},{key:"cO",get:function(){return this.G4.Fi.cO||this.mwt[0].cO}},{key:"blt",get:function(){return this.gwt}},{key:"ndt",get:function(){return this.G4.Fi.ndt}},{key:"f1",get:function(){return this.mwt}},{key:"Tdt",get:function(){return this.G4.Fi.Tdt||[]}},{key:"idt",get:function(){return this.G4.Fi.idt}},{key:"edt",get:function(){return this.G4.Fi.edt}},{key:"rdt",get:function(){return this.G4.Fi.rdt}},{key:"fN",get:function(){return this.G4.Fi.fN}},{key:"sdt",get:function(){return this.G4.Fi.sdt}},{key:"ds",get:function(){var t=(this.G4.Fi.Wl||this.cO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Xp(this.cO,this.QF)?iy.$n:"video"===t?iy.Cd:"audio"===t?iy.Nd:"image"===t?iy.Pd:iy._d}},{key:"Uk",get:function(){return this.G4.Fi.Uk||0}},{key:"drt",get:function(){return this.G4.Fi.Z_||""}},{key:"pwt",get:function(){return this.Zdt}},{key:"bwt",get:function(){var t=this.pwt,n=this.Jdt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.rwt.Awt);return w.max(t,i)}}}]),n}($G);function eq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Lr(o,s))}return e}var rq=function(){function t(t,n){this.gwt=void 0,this.Twt=void 0,this.va=void 0,this.Swt=void 0,this.Ewt=void 0,this.gwt=t,this.Twt=n,this.va=n.Bp,this.Swt=n.Clt,this.Ewt=n.zlt}var n=t.prototype;return n.Iwt=function(t){var n=t-this.gwt.zN;if(!(n<0||n>=this.gwt.tm)){var i=this.Rwt();return void 0!==i&&Ut(i,n,1e-5)?this.dlt():this.Dwt(n)}},n.Nwt=function(t){var n=t-this.gwt.zN;if(!(n<0))return this.Cwt(w.min(n,this.gwt.tm))},n.dlt=function(){return this.Pwt(0)},n.klt=function(){var t=this.gwt.tm;if(isFinite(t))return this.Cwt(t)},n.swt=function(t){if(this.gwt.Bwt.ds===xW.LE){var n=this.Owt(t);if(!n)return;return{xwt:t,Lwt:this.Mwt(t),Uwt:n}}var i=this.dlt();if(i)return{xwt:t,Lwt:i,Uwt:this.klt()}},n.uwt=function(t,n){if(n){var i=this.Xwt(n.Lwt),e=this.ylt(n.Uwt);if(e){var r=this.Hwt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.dlt();if(s){var u=this.Hwt(s);if(t.getTime()<u.getTime())return u}var o=this.gwt.Bwt.Odt;return t.getTime()<o.getTime()?o:void 0},n.Owt=function(t){var n=(t.getTime()-this.gwt.Bwt.Odt.getTime())/1e3-this.gwt.zN+this.Swt,i=this.Cwt(Mt(n,0,this.gwt.tm));if(i&&(i=this.Fwt(i,t))){for(var e=this.ylt(i);e&&this.zwt(e,t);)i=e,e=this.ylt(i);return i}},n.Mwt=function(t){var n,i=this.Twt.Wlt;if(i){var e=(t.getTime()-this.gwt.Bwt.Odt.getTime())/1e3-this.gwt.zN-i.ilt();(n=this.Cwt(Mt(e,0,this.gwt.tm)))||(n=this.dlt())}else n=this.dlt();if(n&&(n=this.Fwt(n,t))){for(var r=this.Vwt(n);r&&this.zwt(r,t);)n=r,r=this.Vwt(n);return n}},n.Fwt=function(t,n){for(var i=t;i&&this.Hwt(i).getTime()>n.getTime();)i=this.Vwt(i);if(i){var e=this.Xwt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Vwt(i);for(r&&this.zwt(r,n)&&(i=r);i;){if(this.Hwt(i).getTime()>n.getTime())return;if(this.zwt(i,n))break;i=this.ylt(i)}if(!i)return}return i}},n.zwt=function(t,n){if(this.Hwt(t).getTime()>n.getTime())return!1;var i=this.Xwt(t);return!(i&&n.getTime()>=i.getTime())},n.Wwt=function(t,n){if(this.Gwt(t).getTime()>n.getTime())return!1;var i=this.Xwt(t);return!(i&&n.getTime()>=i.getTime())},n.qwt=function(t,n,i){var e=jt(n,this.va)+this.gwt.zN;return{Olt:t,Ywt:n,hk:e,tm:i,ck:e+i}},n.Gwt=function(t){return this.gwt.Bwt.ds===xW.LE?new Date(this.gwt.Bwt.Odt.getTime()+1e3*(t.hk+t.tm)):this.gwt.Bwt.Odt},n.Hwt=function(t){var n=this.Gwt(t);return this.gwt.Bwt.ds===xW.LE?new Date(n.getTime()-1e3*this.Swt):n},n.Xwt=function(t){var n=1/0;if(this.gwt.Bwt.ds===xW.LE){var i=this.Twt.Wlt;i&&(n=this.Gwt(t).getTime()+1e3*t.tm+i.Slt())}var e=this.gwt.Bwt.Bdt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.jwt=function(t,n){return t.Olt+n},n.wlt=function(t){return!1},n._lt=function(t,n,i,e,r){var s=this.Qwt(t);if(!s)return We.reject(new v("Invalid segment"));var u=this.Zwt(s.Olt);return u?We.resolve(u):this.Kwt(s.Olt,n,i,e,r)},n.Zwt=function(t){},n.Kwt=function(t,n,i,e,r){return We.reject(new v("Not supported"))},n.Vwt=function(t){var n=this.Qwt(t);if(n)return this.Pwt(n.Olt-1)},n.ylt=function(t){var n=this.Qwt(t);if(n)return this.Pwt(n.Olt+1)},n.Qwt=function(t){var n=this.Pwt(t.Olt);if(n&&n.hk===t.hk)return n;var i=this.Iwt(t.hk);return i&&i.hk===t.hk?i:void 0},n.Jwt=function(t){var n=this.$wt(t);if(n&&this.wlt(n.Olt)){var i=this.Zwt(n.Olt);if(i)return i.Jwt(t)}},n.$wt=function(t){return this.Pwt(t.t_t)},n.owt=function(t){var n=this.Qwt(t);return!!n&&0===n.Olt},n.awt=function(t){var n=this.Jwt(t);return!!n&&0===n.$dt},n.hwt=function(t){var n=this.Qwt(t);if(!n)return!1;var i=this.klt();return!!i&&n.Olt===i.Olt},n.cwt=function(t){var n=this.Jwt(t);if(!n)return!1;var i=this.klt();if(!i||n.t_t!==i.Olt)return!1;var e=this.Zwt(n.t_t);return n.$dt+1===e.L_},A(t,[{key:"_b",get:function(){return this.gwt.zN-jt(this.Ewt,this.va)}},{key:"zlt",get:function(){return jt(this.Ewt,this.va)}}]),t}(),sq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).n_t=void 0,e.i_t=void 0;var r=n.e_t,s=n.tm;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.i_t=r,e.n_t=s,e}S(n,t);var i=n.prototype;return i.Pwt=function(t){if(!(t<0)){var n=this.i_t.multiply(t),i=jt(n,this.va),e=this.gwt.tm;if(!(i>=e)){var r=this.r_t();if(void 0!==r){if(t>r)return;if(t===r)return this.qwt(t,n,e-i)}return isFinite(e)&&i+this.n_t>e?this.qwt(t,n,e-i):this.qwt(t,n,this.n_t)}}},i.Rwt=function(){return 0},i.Dwt=function(t){var n=w.floor(t/this.n_t),i=this.r_t();return void 0!==i&&n>=i?this.Pwt(i):this.Pwt(n)},i.Cwt=function(t){if(t>=this.gwt.tm){var n=w.ceil(this.gwt.tm/this.n_t)-1,i=this.r_t();return void 0!==i&&n>=i?this.Pwt(i):this.Pwt(n)}return this.Dwt(t)},i.r_t=function(){var t,n=this.Twt.Ylt;if(void 0!==n)return n-(null!=(t=this.Twt.qlt)?t:1);if(isFinite(this.gwt.tm)){var i=this.Twt.s_t;if(void 0!==i&&i>0)return i-1}},i.u_t=function(){if(isFinite(this.gwt.tm))return this.klt()},i.o_t=function(t,n){return this.i_t.multiply(t.Olt+(n-1))},i.$h=function(){},n}(rq);function uq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].hk,u=t[r].ck;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.hk,c=o+1<i?t[o+1].hk:a.ck;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var oq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).E3=[],e.a_t=void 0,e.art=ft.ZERO,e.$h(),e}S(n,t);var i=n.prototype;return i.Pwt=function(t){if(!(t<0))return t<this.E3.length?this.E3[t].T8:this.h_t(t-this.E3.length)},i.Rwt=function(){if(this.E3.length>0)return jt(this.E3[0].hk,this.va)},i.Dwt=function(t){if(this.a_t&&jt(this.a_t.hk,this.va)<=t){var n=jt(this.a_t.hk,this.va),i=jt(this.a_t.tm,this.va),e=w.floor((t-n)/i);return this.h_t(e)}if(this.E3.length>0&&Ut(t,jt(this.E3[0].hk,this.va),1e-5))return this.E3[0].T8;var r=uq(this.E3,ft.fromNumber(t*this.va));return r<0?void 0:this.E3[r].T8},i.Cwt=function(t){if(!this.a_t&&this.E3.length>0){var n=this.E3[this.E3.length-1];if(i=t,e=jt(n.ck,this.va),Bs(i,e,1e-5)>=0)return n.T8}var i,e,r=this.Rwt();return r&&t<r?this.E3[0].T8:this.Dwt(t)},i.u_t=function(){return isFinite(this.gwt.tm)?this.klt():this.Pwt(this.E3.length-1)},i.o_t=function(t){return this.c_t(t)},i.h_t=function(t){if(this.a_t){var n=this.a_t.hk,i=this.a_t.tm,e=n.add(i.multiply(t)),r=jt(e,this.va),s=this.gwt.tm;if(!(r>=s)){var u=this.E3.length+t,o=w.min(jt(i,this.va),r+s);return this.qwt(u,e,o)}}},i.c_t=function(t){return t.Ywt.add(this.Ewt)},i.$h=function(){var t=this.Twt.Fi.vlt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.F3(t)},i.F3=function(t){var n=this.Ewt;this.f_t(t,n);var i=this.v_t(t);this.l_t(t,n,i.d_t,i.t_t)},i.f_t=function(t,n){var i=this.E3;if(0===t.length)Fs(i);else{for(var e=t[0],r=e.hk?ft.fromString(e.hk,!1).subtract(n):ft.ZERO,s=0;s<i.length&&i[s].hk.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.v_t=function(t){for(var n=this.E3,i=this.art,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].Blt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].hk.greaterThanOrEqual(i))break;if(n[r].T8.Olt===r)r=u+1;else for(;r<=u;)n[r].T8.Olt=r,r++;0,e++}return{d_t:e,t_t:r}},i.l_t=function(t,n,i,e){for(var r,s=this.E3,u=i,o=e;u<t.length;){var a=t[u],h=ft.fromString(a.tm,!1),c=a.Blt||0,f=void 0;if(a.hk){if(f=ft.fromString(a.hk,!1).subtract(n),o>0){var v=s[o-1];v.ck.greaterThan(f)&&(v.tm=f.subtract(v.hk),v.ck=v.hk.add(v.tm))}}else f=o>0?s[o-1].ck:ft.ZERO;if(c<0){if(u+1===t.length){r={hk:f,tm:h};break}for(var l=ft.fromString(t[u+1].hk,!1).subtract(n);f.lessThan(l);){var d=f.add(h);this.w_t(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var _=f.add(h);this.w_t(s,o,f,h,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.art=s[s.length-1].hk),this.a_t=r},i.w_t=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.tm.equals(e)?s.T8.Olt=n:t[n]={hk:i,tm:e,ck:r,T8:this.qwt(n,i,jt(e,this.va))}}else t.push({hk:i,tm:e,ck:r,T8:this.qwt(n,i,jt(e,this.va))})},n}(rq),aq=function(){function t(t,n,i){this.blt=void 0,this.__t=void 0,this.Gi=void 0,this.g_t=void 0,this.m_t=void 0,this.blt=t,this.__t=n,this.Gi=i}var n=t.prototype;return n.y_t=function(){if(this.m_t=this.k_t(),this.m_t)return this.m_t;if(this.__t)return this.__t.vlt;throw new v("Missing media segment information.")},n.dwt=function(t){var n=this.Flt;if(n)return{dd:(void 0!==n.Plt?i.Lr(n.Plt,t.udt[0]):t.udt[0]).href,Mht:n.Mht};var e=this.xlt;return e?{dd:t.udt[0].href,Mht:[0,e[0]-1]}:void 0},n.$h=function(t){this.Gi=t,this.m_t&&this.m_t.$h()},A(t,[{key:"Fi",get:function(){return this.Gi}},{key:"Clt",get:function(){return this.Gi&&void 0!==this.Gi.Clt?this.Gi.Clt:this.__t?this.__t.Clt:0}},{key:"zlt",get:function(){return this.Gi&&void 0!==this.Gi.zlt?this.Gi.zlt:this.__t?this.__t.zlt:ft.ZERO}},{key:"Wlt",get:function(){return this.Gi&&void 0!==this.Gi.Wlt?this.Gi.Wlt:this.__t?this.__t.Wlt:this.blt.Bwt.Wlt}},{key:"Bp",get:function(){return this.Gi&&void 0!==this.Gi.Bp?this.Gi.Bp:this.__t&&this.__t.Bp?this.__t.Bp:1}},{key:"xlt",get:function(){return this.Gi&&void 0!==this.Gi.xlt?this.Gi.xlt:this.__t?this.__t.xlt:void 0}},{key:"Flt",get:function(){return this.Gi&&void 0!==this.Gi.Flt?this.Gi.Flt:this.__t?this.__t.Flt:void 0}},{key:"vlt",get:function(){return this.g_t||(this.g_t=this.y_t()),this.g_t}}]),t}(),hq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.k_t=function(){return this.Gi.vlt?new oq(this,this.blt):void 0!==this.Gi.tm?new sq(this,this.blt):void 0},A(n,[{key:"tm",get:function(){return void 0!==this.Gi.tm?this.Gi.tm/this.Bp:this.__t&&this.__t instanceof n?this.__t.tm:void 0}},{key:"e_t",get:function(){return void 0!==this.Gi.tm?ft.fromNumber(this.Gi.tm):this.__t&&this.__t instanceof n?this.__t.e_t:void 0}},{key:"qlt",get:function(){return void 0!==this.Gi.qlt?this.Gi.qlt:this.__t&&this.__t instanceof n?this.__t.qlt:void 0}},{key:"Ylt",get:function(){return void 0!==this.Gi.Ylt?this.Gi.Ylt:this.__t&&this.__t instanceof n?this.__t.Ylt:void 0}}]),n}(aq),cq=function(){function t(t){this.p_t=void 0,this.p_t=t}return t.prototype.ju=function(t){return this.p_t.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=gs(u,Number(e),"0")})},t}();var fq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).b_t=void 0,r.A_t=void 0,r.b_t=e.Zlt?new cq(e.Zlt):void 0,r.A_t=e.Klt?new cq(e.Klt):void 0,r}S(n,t);var e=n.prototype;return e.dwt=function(n){var e=this.Zlt;if(!e)return t.prototype.dwt.call(this,n);var r=e.ju({Bandwidth:n.Fi.YR,RepresentationID:n.Fi.q_});return{dd:i.Mr(r,n.udt[0])}},e.plt=function(t,n){var e,r=null!=(e=n.wwt.qlt)?e:1,s=this.Klt.ju({Bandwidth:n.Fi.YR,Number:n.vlt.jwt(t,r),RepresentationID:n.Fi.q_,Time:n.vlt.o_t(t,r)});return{dd:i.Mr(s,n.udt[0])}},e.ewt=function(t,n){},A(n,[{key:"Zlt",get:function(){return this.b_t?this.b_t:this.__t&&this.__t instanceof n?this.__t.Zlt:void 0}},{key:"Klt",get:function(){return this.A_t?this.A_t:this.__t&&this.__t instanceof n?this.__t.Klt:void 0}},{key:"s_t",get:function(){}}]),n}(hq),vq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.plt=function(t,n){var e=this.Gi.Mlt[t.Olt],r=n.udt[0];return{dd:(e.vT?i.Lr(e.vT,r):r).href,Mht:e.Llt}},e.ewt=function(t,n){},A(n,[{key:"s_t",get:function(){return void 0!==this.Gi.Mlt?this.Gi.Mlt.length:this.__t&&this.__t instanceof hq?this.__t.s_t:void 0}}]),n}(hq),lq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).t_t=void 0,u.L5=void 0,u.Bp=void 0,u.T_t=void 0,u.zlt=void 0,u.S_t=void 0,u.t_t=n,u.L5=i,u.Bp=e.Bp,u.T_t=r,u.zlt=s,u.S_t=u.E_t(e),u}S(n,t);var i=n.prototype;return i.glt=function(t){if(t>=0&&t<this.L_)return this.I_t(this.S_t[t])},i.R_t=function(t){var n=this.D_t(t);if(this.S_t.length>0){var i=this.S_t[0];if(n<=jt(i.hk,this.Bp))return this.I_t(i)}var e=uq(this.S_t,ft.fromNumber(n*this.Bp));if(!(e<0))return this.I_t(this.S_t[e])},i.N_t=function(t){var n=this.D_t(t);if(this.S_t.length>0){var i=this.S_t[this.S_t.length-1];if(n>=jt(i.ck,this.Bp))return this.I_t(i)}return this.R_t(t)},i.I_t=function(t){var n=jt(t.hk,this.Bp)-this.zlt,i=n+this.T_t,e=jt(t.tm,this.Bp);return{t_t:this.t_t,$dt:t.Olt,hk:i,Ywt:ft.fromNumber(n*this.Bp),tm:e,ck:i+e,_J:[this.L5+t.L5,this.L5+t.M5]}},i.E_t=function(t){for(var n=[],i=t.nE,e=t.iE.toNumber(),r=0,s=0,u=t.rE;s<u.length;s++){var o=u[s],a=o.ZS,h=ft.fromNumber(o.tm),c=i.add(h);0===o.QS&&n.push({Olt:r++,hk:i,tm:h,ck:c,L5:e,M5:e+a-1}),e+=a,i=c}return n},i.D_t=function(t){return t-this.T_t+this.zlt},A(n,[{key:"L_",get:function(){return this.S_t.length}}]),n}(function(){function t(){}return t.prototype.Jwt=function(t){var n=this.glt(t.$dt);if(n&&n.hk===t.hk)return n;var i=this.R_t(t.hk);return i&&i.hk===t.hk?i:void 0},t}()),dq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).C_t=void 0,e.P_t=void 0,e.B_t=void 0,e.C_t=n.xlt,e.P_t=e.qwt(0,ft.ZERO,e.gwt.tm),e}S(n,t);var i=n.prototype;return i.Pwt=function(t){if(0===t)return this.P_t},i.Rwt=function(){return 0},i.Dwt=function(t){return this.P_t},i.Cwt=function(t){return this.Dwt(t)},i.u_t=function(){return this.P_t},i.o_t=function(t,n){return ft.ZERO},i.swt=function(t){var n=this.O_t(t);return n&&{xwt:t,Lwt:n,Uwt:n}},i.O_t=function(t){var n=this.P_t;return this.zwt(n,t)?n:void 0},i.Owt=function(t){return this.O_t(t)},i.Mwt=function(t){return this.O_t(t)},i.$h=function(){},i.wlt=function(t){return 0===t&&void 0!==this.C_t},i.Zwt=function(t){return this.B_t},i.Kwt=function(t,n,i,e,r){var s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.udt[0].href,u=this.C_t,a.next=4,Dr.awrap(e.x_t(s,u,i,r));case 4:return o=a.sent,this.B_t=this.L_t(t,o),a.abrupt("return",this.B_t);case 7:case"end":return a.stop()}},null,this,null,We)},i.L_t=function(t,n){var i=this.C_t,e=Jk.PA(new DataView(n),new zo);if(e.ds!==ak.rA)throw new v("Invalid segment index");var r=ep.JA(e.Fi),s=i[1]+1;return new lq(t,s,r,this.gwt.zN,jt(this.Ewt,this.va))},n}(rq),wq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.plt=function(t,n){return{dd:n.udt[0].href}},i.ewt=function(t,n){return{dd:n.udt[0].href,Mht:t._J}},i.k_t=function(){return new dq(this,this.blt)},A(n,[{key:"qlt",get:function(){}}]),n}(aq),_q=function(t){function n(){return t.call(this,jG.Gdt)||this}return S(n,t),n}(_u);var gq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Uw=void 0,r.Gi=void 0,r.M_t=void 0,r.Twt=void 0,r.U_t=1/0,r.X_t=void 0,r.Uw=i,r.H_t(n,e),r}S(n,t);var i=n.prototype;return i.F_t=function(){return this.Twt||this.Uw&&this.Uw.F_t()},i.z_t=function(t){var n=this.blt,i=this.Uw&&this.Uw.F_t();this.Gi.vdt?this.Twt=new fq(n,i,this.Gi.vdt):this.Gi.fdt?this.Twt=new vq(n,i,this.Gi.fdt[0]):this.Gi.cdt?this.Twt=new wq(n,i,this.Gi.cdt):t&&!i&&(this.Twt=new wq(n,i,void 0))},i.H_t=function(t,n){this.Gi=t,this.M_t=t.udt&&t.udt.length>0?eq(t.udt.map(function(t){return t.dd}),n):n.slice(),this.Twt&&(t.vdt?this.Twt.$h(t.vdt):t.fdt?this.Twt.$h(t.fdt[0]):t.cdt&&this.Twt.$h(t.cdt))},i.Kdt=function(){var t;return null==(t=this.X_t)?void 0:t.V_t},i.uwt=function(){var t;return null==(t=this.X_t)?void 0:t.W_t},i.G_t=function(t){var n=this.U_t,i=this.blt.tm,e=this.X_t,r=this.q_t(t);e&&Ut(i,n,1e-5)&&pq(e,r)||(this.U_t=i,this.X_t=r,this.Js(new _q))},i.Us=function(){this.uu()},A(n,[{key:"Fi",get:function(){return this.Gi}},{key:"udt",get:function(){return this.M_t}}]),n}(du);function mq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Kdt();if(e){n=e.zN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Kdt();if(u){r=u.WN;break}}if(void 0!==r)return{zN:n,WN:r}}}function yq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Kdt();if(!r)return;if((n=w.max(n,r.zN))>=(i=w.min(i,r.WN)))return}return{zN:n,WN:i}}}function kq(t){for(var n,i=0;i<t.length;i++){var e=t[i].uwt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function pq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.W_t,n.W_t)&&function(t,n){return t&&n?Ut(t.zN,n.zN,1e-5)&&Ut(t.WN,n.WN,1e-5):t===n}(t.V_t,n.V_t)}var bq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).gwt=void 0,r.Mh=void 0,r.Y_t=void 0,r.gwt=n,r.Mh=i,r.Y_t=e.slice();for(var s=0;s<e.length;s++){e[s].$s(jG.Gdt,r.Qdt)}return r}S(n,t);var i=n.prototype;return i.Kdt=function(){return yq(this.Y_t)},i.uwt=function(){for(var t,n=0,i=this.Y_t;n<i.length;n++){var e=i[n].uwt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Jc=function(){this.uu();for(var t=0,n=this.Y_t;t<n.length;t++){n[t].ou(jG.Gdt,this.Qdt)}},A(n,[{key:"hlt",get:function(){return this.Y_t}},{key:"QF",get:function(){return this.hlt.reduce(function(t,n){for(var i=0,e=n.QF;i<e.length;i++){var r=e[i];Hs(t,r)||t.push(r)}return t},[])}},{key:"rr",get:function(){return this.QF.length>0?this.QF[0]:""}},{key:"ds",get:function(){return this.Y_t[0].ds}},{key:"q_",get:function(){return this.Mh}},{key:"rwt",get:function(){return this.gwt.rwt}},{key:"cO",get:function(){return this.Y_t[0].cO}},{key:"blt",get:function(){return this.gwt}},{key:"f1",get:function(){return Vs(this.hlt,function(t){return t.f1})}}]),n}($G),Aq=function(t){function n(){return t.call(this,jG.Ydt)||this}return S(n,t),n}(_u);function Tq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.ddt;void 0===s||(r=xs(n,function(t){return t.q_===s})),r||(r={q_:s,hlt:[]},n.push(r)),r.hlt.push(e)},e=0;e<t.length;e++)i(e);return n}var Sq,Eq=function(t){function n(n,i){var e;return(e=t.call(this)||this).G4=void 0,e.Y_t=[],e.j_t=[],e.Q_t=void 0,e.Z_t=!1,e.Q_t=n,e.G4=i,e.G4.$s(jG.Gdt,e.Qdt),e}S(n,t);var i=n.prototype;return i.K_t=function(t,n){if(0!==this.j_t.length){for(var i=t,e=0,r=this.j_t;e<r.length;e++){var s=r[e],u=s.ds;if(u===iy.Nd||u===iy.Cd){var o=s.Jdt;if(void 0===o)return;i=n(i,o)}}return i}},i.J_t=function(){this.Z_t||(this.Z_t=!0,this.Js(new Aq),this.Jc())},i.$h=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.Y_t.length){i.next=7;break}return i.next=3,Dr.awrap(this.$_t(this.G4.hlt,t,n));case 3:this.tgt(this.Y_t),tu(n),i.next=9;break;case 7:return i.next=9,Dr.awrap(this.ngt(t,n));case 9:case"end":return i.stop()}},null,this,null,We)},i.$_t=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new iq(this,r),u.prev=4,u.next=7,Dr.awrap(s.$h(n,i));case 7:this.Y_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),nu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],We)},i.tgt=function(t){for(var n=Tq(t),i=0;i<n.length;i++){var e=n[i],r=new bq(this,e.q_,e.hlt);this.j_t.push(r)}},i.ngt=function(t,n){var i,e,r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Y_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Dr.awrap(r.$h(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,We)},i.Kdt=function(){return this.G4.Kdt()},i.uwt=function(){return this.G4.uwt()},i.Jc=function(){this.uu(),this.G4.ou(jG.Gdt,this.Qdt);for(var t=0,n=this.j_t;t<n.length;t++){n[t].Jc()}for(var i=0,e=this.Y_t;i<e.length;i++){e[i].Jc()}Fs(this.Y_t),Fs(this.j_t)},A(n,[{key:"hlt",get:function(){return this.Y_t}},{key:"ult",get:function(){return this.j_t}},{key:"Ndt",get:function(){return this.G4.Fi.Ndt}},{key:"tm",get:function(){return this.G4.tm}},{key:"WN",get:function(){return this.zN+this.tm}},{key:"Cdt",get:function(){return this.G4.Fi.Cdt||[]}},{key:"q_",get:function(){return this.G4.q_}},{key:"jdt",get:function(){return this.Z_t}},{key:"rwt",get:function(){return this.Q_t}},{key:"igt",get:function(){return this.Q_t.egt(this)}},{key:"blt",get:function(){return this}},{key:"rgt",get:function(){return this.Q_t.sgt(this)}},{key:"ugt",get:function(){return this.K_t(1/0,w.min)}},{key:"ogt",get:function(){return this.K_t(0,w.max)}},{key:"zN",get:function(){return this.G4.zN}},{key:"Md",get:function(){return this.rwt.Md}}]),n}($G),Iq=function(t){function n(){return t.call(this,Tf.Lf)||this}return S(n,t),n}(_u);!function(t){t.agt="hgt"}(Sq||(Sq={}));var Rq=function(t){function n(){return t.call(this,Sq.agt)||this}return S(n,t),n}(_u),Dq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.udt)||this).twt=void 0,e.cgt=void 0,e.twt=i,e.z_t(!0),e}S(n,t);var i=n.prototype;return i.wlt=function(t){return!!Nc(this.cO)&&this.vlt.wlt(t.Olt)},i._lt=function(t,n,i,e){return this.vlt._lt(t,this,n,i,e)},i.dwt=function(){return this.wwt.dwt(this)},i.plt=function(t){return this.wwt.plt(t,this)},i.ewt=function(t){return this.wwt.ewt(t,this)},i.swt=function(){return this.cgt},i.q_t=function(t){var n=this.vlt,i=n.swt(t),e=i&&function(t,n){var i,e=t.Lwt,r=t.Uwt,s=t.xwt,u=e.hk,o=n.Gwt(r);if(o.getTime()<=s.getTime())i=r.ck;else{var a=(o.getTime()-s.getTime())/1e3,h=w.max(r.tm-a,0);i=r.hk+h}return{zN:u,WN:i}}(i,n),r=this.vlt.uwt(t,i);return this.cgt=i,{xwt:t,V_t:e,W_t:r}},i.$h=function(t){this.H_t(t,this.twt.udt)},A(n,[{key:"fwt",get:function(){return this.twt}},{key:"blt",get:function(){return this.twt.blt}},{key:"Bwt",get:function(){return this.twt.Bwt}},{key:"cO",get:function(){return this.Gi.cO||this.twt.cO}},{key:"wwt",get:function(){return this.F_t()}},{key:"vlt",get:function(){return this.wwt.vlt}}]),n}(gq),Nq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.udt)||this).gwt=void 0,e.mwt=void 0,e.gwt=i,e.z_t(!1),e.mwt=n.f1.map(function(t){return new Dq(t,Kt(e))}),e}S(n,t);var i=n.prototype;return i.$h=function(t){this.H_t(t,this.gwt.udt);var n=t.f1||[];if(this.mwt.length!==n.length)throw new v("Expected "+this.mwt.length+' representations in adaptation set "'+t.q_+'", found '+n.length);for(var i=0;i<n.length;i++)this.mwt[i].$h(n[i])},i.G_t=function(n){for(var i=0,e=this.mwt;i<e.length;i++){e[i].G_t(n)}t.prototype.G_t.call(this,n)},i.q_t=function(t){return{xwt:t,V_t:yq(this.mwt),W_t:kq(this.mwt)}},i.Us=function(){for(var n=0,i=this.mwt;n<i.length;n++){i[n].Us()}t.prototype.Us.call(this)},A(n,[{key:"f1",get:function(){return this.mwt}},{key:"blt",get:function(){return this.gwt}},{key:"Bwt",get:function(){return this.gwt.Bwt}},{key:"ddt",get:function(){return this.Gi.ddt}},{key:"cO",get:function(){var t;return this.Gi.cO||(null==(t=this.mwt[0])?void 0:t.Fi.cO)||""}}]),n}(gq),Cq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.udt)||this).fgt=void 0,s.cE=void 0,s._a=void 0,s.Y_t=void 0,s.j_t=[],s.fgt=n,s.cE=e,s._a=r,s.z_t(!1),s.Y_t=(i.hlt||[]).map(function(t){return new Nq(t,Kt(s))}),s.j_t=Tq(s.Y_t),s}S(n,t);var i=n.prototype;return i.$h=function(t,n){this.H_t(t,this.fgt.udt),this._a=n;var i=t.hlt||[];if(this.Y_t.length!==i.length)throw new v("Expected "+this.Y_t.length+' adaptation sets in period "'+t.q_+'", found '+i.length);for(var e=0;e<i.length;e++)this.Y_t[e].$h(i[e])},i.G_t=function(n){for(var i=0,e=this.Y_t;i<e.length;i++){e[i].G_t(n)}t.prototype.G_t.call(this,n)},i.q_t=function(t){return{xwt:t,V_t:yq(this.Y_t),W_t:kq(this.Y_t)}},i.Us=function(){for(var n=0,i=this.Y_t;n<i.length;n++){i[n].Us()}t.prototype.Us.call(this)},A(n,[{key:"hlt",get:function(){return this.Y_t}},{key:"ult",get:function(){return this.j_t}},{key:"blt",get:function(){return this}},{key:"Bwt",get:function(){return this.fgt}},{key:"q_",get:function(){return this.Gi.q_}},{key:"zN",get:function(){return this.cE}},{key:"tm",get:function(){return this._a}}]),n}(gq),Pq=new Date("2000-01-01"),Bq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.vgt=void 0,s.lgt=void 0,s.GG=void 0,s.dgt=void 0,s.X_t=void 0,s.M_t=void 0,s.wgt=void 0,s._gt=void 0,s.ggt=void 0,s.mgt=[],s.vgt=i,s.$h(n,e,r),n.ds===xW.LE){var u=s.u_t();u&&u.Bdt&&u.Bdt.getTime()<Pq.getTime()&&(s.ggt=new Date(s.Fdt.getTime()-1e3*(u.T8.hk+u.T8.tm)),s.G_t(r))}return s}S(n,t);var e=n.prototype;return e.Kdt=function(){var t;return null==(t=this.X_t)?void 0:t.V_t},e.uwt=function(){var t;return null==(t=this.X_t)?void 0:t.W_t},e.$h=function(t,n,e,r){var s;this.Gi=t,this.lgt=n,this.dgt=null!=r?r:e,this.GG=e;var u,o=[(u=n,i.Lr(".",u))];this.M_t=t.udt&&t.udt.length>0?eq(t.udt.map(function(t){return t.dd}),o):o,this.wgt=t.xdt&&t.xdt.length>0?eq(t.xdt,this.M_t):[];var a=this.wgt.map(function(t){return t.href}),h=n.href;Hs(a,h)||(this.wgt.push(n),a.push(h));var c=this.vgt.href;Hs(a,c)||(this.wgt.push(this.vgt),a.push(c)),this._gt=null==(s=t.elt)?void 0:s.ilt();var f=t.ds===xW.LE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.zN)u=s.zN.ilt();else if(r>0&&t[r-1].tm){var o=e[r-1],a=t[r-1].tm.ilt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Fi:t[c],zN:e[c],tm:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.tm?v.tm.ilt():i-l),h.push({Fi:v,zN:l,tm:d})}return h}(t.nlt,f,this._gt);this.ygt(v),this.G_t(e)},e.ygt=function(t){var n=this.mgt;if(0!==t.length){for(var i=t[0].Fi.q_,e=0;e<n.length&&n[e].q_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Us()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.$h(o.Fi,o.tm)}else n.push(new Cq(this,o.Fi,o.zN,o.tm))}}else Fs(n)},e.G_t=function(t){for(var n=0,i=this.mgt;n<i.length;n++){i[n].G_t(t)}var e=this.X_t,r=this.q_t(t);e&&pq(e,r)||(this.X_t=r,this.Js(new _q))},e.q_t=function(t){return{xwt:t,V_t:mq(this.mgt),W_t:kq(this.mgt)}},e.u_t=function(){if(0!==this.mgt.length){var t=this.mgt[this.mgt.length-1];if(!isFinite(t.tm)&&0!==t.hlt.length){var n=t.hlt[0];if(0!==n.f1.length){var i=n.f1[0].vlt,e=i.u_t();if(e)return{T8:e,Bdt:i.Xwt(e)}}}}},e.Us=function(){this.uu();for(var t=0,n=this.mgt;t<n.length;t++){n[t].Us()}},A(n,[{key:"Fi",get:function(){return this.Gi}},{key:"ds",get:function(){return this.Gi.ds||xW.xE}},{key:"Odt",get:function(){return this.ggt||this.Gi.Odt||this.Fdt}},{key:"Bdt",get:function(){return this.Gi.Bdt}},{key:"elt",get:function(){return this._gt}},{key:"udt",get:function(){return this.M_t}},{key:"xdt",get:function(){return this.wgt}},{key:"nlt",get:function(){return this.mgt}},{key:"Fdt",get:function(){return this.Gi.Fdt||this.GG}},{key:"Wlt",get:function(){return this.Gi.Wlt}},{key:"kgt",get:function(){return this.dgt}},{key:"pgt",get:function(){return this.GG}}]),n}(du);var Oq=function(){function t(t,n,i){this.bgt=0,this.IE=t,this.Agt=n,this.Tgt=i}var n=t.prototype;return n.BL=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Sgt(t,this.IE,this.Agt,this.Tgt).catch(iu));case 2:case"end":return n.stop()}},null,this,null,We)},n.Egt=function(){return new Date(Vt()+this.bgt)},n.Sgt=function(t,n,i,e){var r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Dr.awrap(this.Igt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}tu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Dr.awrap(this.Rgt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.bgt=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,We)},n.Rgt=function(t,n,i){var e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.i1,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Dr.awrap(this.Igt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,We)},n.Igt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.vd({dd:n,Bd:nw.GET,od:Sf.$n,Ys:i}));case 3:return e=u.sent,u.next=6,Dr.awrap(e.Hl());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),nu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],We)},t}(),xq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Dgt=void 0,s.G4=void 0,s.Ngt=void 0,s.Jrt=!0,s.mgt=[],s.Cgt=void 0,s.Pgt=void 0,s.Bgt=void 0,s.IE=void 0,s.Ogt=void 0,s.Cgt=n,s.Ngt=n.gg,s.Pgt=i,s.IE=e,s.Dgt=r,s.Ogt=new Oq(s.IE,s.Dgt,s.Cgt.xgt),s}S(n,t);var e=n.prototype;return e.Lgt=function(t){var n=this.Py;this.Jrt=t,n!==this.Py&&this.Js(new Rq)},e.$h=function(t,n,e){var r,s,u,o,a,h,c,f,v,l,d,w,_;return Dr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.Ldt?i.Lr(t.Ldt,this.Ngt):this.Ngt,void 0!==this.G4){g.next=10;break}return g.next=6,Dr.awrap(this.Ogt.BL(t.Vdt));case 6:this.G4=new Bq(t,this.Ngt,o,this.Egt()),this.G4.$s(jG.Gdt,this.Ks),g.next=11;break;case 10:this.G4.$h(t,o,this.Egt(),n);case 11:if(0===(a=this.G4.nlt).length)h=this.mgt.slice(),Fs(this.mgt);else{for(c=a[0].q_,f=0;f<this.mgt.length&&this.mgt[f].q_!==c;)f++;for(h=this.mgt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.mgt.length?d=this.mgt[v]:(d=new Eq(this,l),s.push(d)),u.push(d.$h(this.Pgt,e))}return g.next=15,Dr.awrap(We.all(u));case 15:for((r=this.mgt).push.apply(r,s),w=0,_=h;w<_.length;w++)_[w].J_t();this.Js(new Iq);case 18:case"end":return g.stop()}},null,this,null,We)},e.Egt=function(){return this.Ogt.Egt()},e.sgt=function(t){var n=this.mgt.indexOf(t);if(n>0)return this.mgt[n-1]},e.egt=function(t){var n=this.mgt.indexOf(t);if(n>=0&&n+1<this.mgt.length)return this.mgt[n+1]},e.Kdt=function(){return this.G4?this.G4.Kdt():void 0},e.uwt=function(){return this.G4&&this.G4.uwt()},e.G_t=function(t){this.G4&&this.G4.G_t(t)},e.Jc=function(){this.uu(),this.Bgt=void 0,this.Lgt(!1);for(var t=0,n=this.mgt;t<n.length;t++){n[t].Jc()}Fs(this.mgt),this.G4&&this.G4.Us()},A(n,[{key:"Bdt",get:function(){return this.G4&&this.G4.Bdt}},{key:"Odt",get:function(){return this.G4&&this.G4.Odt}},{key:"q_",get:function(){return this.G4&&this.G4.Fi.q_}},{key:"kgt",get:function(){var t;return null==(t=this.G4)?void 0:t.kgt}},{key:"Mgt",get:function(){var t;return null==(t=this.G4)?void 0:t.pgt}},{key:"xdt",get:function(){return this.G4?this.G4.xdt.map(function(t){return t.href}):[this.slt]}},{key:"slt",get:function(){return this.Ngt.href}},{key:"Mdt",get:function(){return this.G4&&this.G4.Fi.Mdt}},{key:"Udt",get:function(){return this.G4&&this.G4.Fi.Udt}},{key:"elt",get:function(){return this.G4&&this.G4.Fi.elt}},{key:"Xdt",get:function(){return this.G4&&this.G4.Fi.Xdt}},{key:"Hdt",get:function(){var t,n,i=(null==(t=this.G4)?void 0:null==(n=t.Fi.Hdt)?void 0:n.Slt())||0;return w.max(i,Mq)}},{key:"Py",get:function(){return this.Jrt}},{key:"nlt",get:function(){return this.mgt}},{key:"Ugt",get:function(){return this.ds===xW.LE?this.Awt:this.Xgt}},{key:"Hgt",get:function(){var t=this.Ugt;if(void 0!==t)for(var n=0,i=this.nlt;n<i.length;n++){var e=i[n];if(e.zN<=t&&e.WN>t)return e}}},{key:"ndt",get:function(){return this.G4&&this.G4.Fi.ndt}},{key:"Fdt",get:function(){return this.G4&&this.G4.Fdt}},{key:"ugt",get:function(){for(var t=this.mgt.length-1;t>=0;t-=1){var n=this.mgt[t].ugt;if(n)return n}}},{key:"Awt",get:function(){var t=this.ugt;if(void 0!==t){var n=t-this.Fgt;return w.max(n,this.Xgt)}}},{key:"Xgt",get:function(){for(var t=0,n=this.mgt;t<n.length;t++){var i=n[t].Zdt;if(void 0!==i)return i}}},{key:"Md",get:function(){return Boolean(this.Cgt.Md)}},{key:"Fgt",get:function(){var t=this.G4&&this.G4.Fi.zdt;return t?t.ilt():this.ds===xW.LE?this.zgt:0}},{key:"zgt",get:function(){return this.Cgt.zgt?this.Cgt.zgt:1.5*this.Xdt.ilt()}},{key:"Wlt",get:function(){return this.G4&&this.G4.Wlt}},{key:"ds",get:function(){return this.G4?this.G4.ds:void 0}}]),n}(du),Lq=function(){function t(t,n,i,e){this.Q_t=void 0,this.Q_t=new xq(t,n,i,e)}return A(t,[{key:"rwt",get:function(){return this.Q_t}}]),t}(),Mq=1e3,Uq=w.pow(2,31)-1,Xq=function(){function t(t,n,i,e){var r=this;this.uct=void 0,this.G4=void 0,this.Vgt=void 0,this.Wgt=void 0,this.Ggt=void 0,this.qgt=new Ks,this.Ygt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.G4.rwt.Egt(),e.next=4,Dr.awrap(r.jgt(r.G4.rwt.xdt,t));case 4:return i=e.sent,e.next=7,Dr.awrap(r.G4.rwt.$h(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Op(e.t0)&&r.G4.rwt.Lgt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],We)},this.uct=e,this.G4=new Lq(t,n,i,this.qgt.Ys)}var n=t.prototype;return n.Lw=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.G4.rwt.Js(new bD),n.prev=1,n.next=4,Dr.awrap(DL(this.Ygt,t));case 4:this.G4.rwt.Lgt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),nu(n.t0),this.Wgt=void 0,this.G4.rwt.Lgt(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.Vgt=this.Qgt(this.qgt.Ys);case 14:case"end":return n.stop()}},null,this,[[1,7]],We)},n.Qgt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.G4.rwt.ds!==xW.LE){n.next=6;break}return n.next=4,Dr.awrap(eu(this.Zgt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],We)},n.Kgt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(tu(t),!((n=this.Jgt())>0)){e.next=6;break}return i=w.min(n,Uq),e.next=6,Dr.awrap(cu(i,t));case 6:return e.prev=6,e.next=9,Dr.awrap(DL(this.Ygt,t,1/0,Mq,3e4));case 9:this.G4.rwt.Lgt(!0);case 10:return e.prev=10,this.Ggt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],We)},n.Jgt=function(){var t=this.G4.rwt.Egt().getTime()-this.G4.rwt.kgt.getTime();return this.G4.rwt.Hdt-t},n.$gt=function(t){var n=this.G4.rwt.uwt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.G4.rwt.G_t(t);var e=this.G4.rwt.uwt();return e?e.getTime()-t.getTime():NaN},n.tmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.Ggt||(this.Ggt=this.Kgt(t)),(n=new Ks).Gs(t),i.prev=3,i.next=6,Dr.awrap(We.race([this.Ggt,this.nmt(n.Ys)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),iu(i.t0);case 11:return i.prev=11,n.Ws(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],We)},n.nmt=function(t){var n=this.G4.rwt.Egt(),i=this.$gt(n);if(!m(i))return this.imt(i,t)},n.imt=function(t,n){var i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.awrap(cu(t,n));case 2:i=this.G4.rwt.Egt(),this.G4.rwt.G_t(i);case 4:case"end":return e.stop()}},null,this,null,We)},n.jgt=function(t,n){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.uct.rct(t,{},n,!1));case 2:return i=r.sent,e=new QG,r.abrupt("return",e.Yct(i.nct,i.ld));case 5:case"end":return r.stop()}},null,this,null,We)},n.Jc=function(){return this.qgt.Ws(),this.Vgt=void 0,this.Wgt=void 0,this.Ggt=void 0,this.G4.rwt.Jc(),We.resolve()},A(t,[{key:"n0",get:function(){return this.G4}},{key:"emt",get:function(){return this.Wgt||(this.Wgt=this.Lw(this.qgt.Ys),au(this.Wgt)),this.Wgt}},{key:"Zgt",get:function(){return this.G4.rwt.Mgt&&this.G4.rwt.ds===xW.LE?this.tmt(this.qgt.Ys):this.emt}}]),t}(),Hq=function(){function t(t,n,i){this.uct=t,this.rmt=n,this.smt=i}var n=t.prototype;return n.umt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!$g(n=t.type)){i.next=9;break}return i.next=6,Dr.awrap(this.omt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Jg(n)){i.next=15;break}return i.next=12,Dr.awrap(this.amt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,We)},n.omt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Dr.awrap(qW(t.src,this.uct));case 3:return n=i.sent,i.next=6,Dr.awrap(YW(n,this.uct));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],We)},n.amt=function(t){var n;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Xq({gg:i.Lr(t.src),zgt:t.liveOffset,xgt:t.timeServer,Md:t.useCredentials},this.smt,aw.Gd,this.uct),e.next=4,Dr.awrap(n.emt);case 4:return e.next=6,Dr.awrap(CW(n.n0.rwt,t.contentProtection,this.rmt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],We)},t}(),Fq=function(){function t(t){this.hmt=void 0,this.cmt=[],this.fmt=0,this.hmt=t}var n=t.prototype;return n.vmt=function(){var t=new Wo;return this.cmt.push(t),this.lmt(),t.Wu},n.dmt=function(t,n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t);case 2:this.fmt-=1,this.lmt(),0===this.cmt.length&&0===this.fmt&&n.ju(!0);case 5:case"end":return i.stop()}},null,this,null,We)},n.lmt=function(){this.cmt.length>0&&this.fmt<this.hmt&&(this.cmt.shift().ju(),this.fmt+=1)},t}();function zq(t,n){for(var i=0,e=0,r=t.rE.wJ.map(function(t){return t.tm});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Vq=function(t){function n(n,i,e,r,s,u,o,a){var h;(h=t.call(this)||this).hct=void 0,h.wmt=void 0,h._mt=new Wo,h.gmt=void 0,h.yct=void 0,h.mmt=IW.$vt,h.jvt=void 0,h.ymt=void 0,h.Bm=void 0,h.kmt=void 0,h.Qat=void 0,h.uct=void 0,h.pmt=void 0,h.rmt=void 0,h.smt=void 0,h.Ovt=void 0,h.hct=n,h.Qat=i,h.uct=e,h.kmt=r,h.pmt=s,h.rmt=u,h.smt=a,h.Ovt=o,h.ymt=-1;var c=h.hct.TN.sources[0];return h.gmt=c,h.Bm=h.Jm(),h.wmt=new Fq(h.hct.yc.parallelTasksThreshold),h}S(n,t);var e=n.prototype;return e.Jm=function(){var t,n,i,e,r,s,u,o,a,h,c,f,v,l,d,_,g,m,y,k,p,b,A,T,S,E,I,R=this;return Dr.async(function(D){for(;;)switch(D.prev=D.next){case 0:return t=new Hq(this.uct,this.rmt,this.smt),D.next=3,Dr.awrap(t.umt(this.gmt));case 3:return this.yct=D.sent,n=this.hct.yc.amount,i=this.yct.tm,e=RW(n,i),this.jvt=e,s=dH(this.yct.rlt[0]),D.next=11,Dr.awrap(this.Qat.zat.Xat(s,"manifestURL"));case 11:for(u=D.sent.filter(function(t){return Hs(t.references,R.hct.q_)}),o=[],a=this.hct.yc.bandwidth,h=0,c=this.yct.nlt;h<c.length;h++)for(f=c[h],v=0,l=f.olt;v<l.length;v++)for(d=l[v],_=0,g=Gq(d.eT);_<g.length;_++)for(m=g[_],y=0,k=qq(m.K_,a);y<k.length;y++)p=k[y],o.push(p);if(this.ymt=w.ceil(o.map(function(t){return t.YR*zq(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Pr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new oS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.oC(e).uC(5e-4);else{var r,s=xs(o,function(t){return t.q_===i}),a=w.min(R.jvt,null!=(r=null==s?void 0:s.rE.tm)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new IW(A,b,this.jvt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.q_,{timeRanges:oS.SC(),totalQualityDurationToCache:w.min(I.rE.tm,this.jvt)});r=new IW(0,b,this.jvt)}this.bmt=r;case 19:case"end":return D.stop()}},null,this,null,We)},e.Amt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Bm);case 2:return n.next=4,Dr.awrap(this.Tmt(this.yct,t));case 4:return n.next=6,Dr.awrap(this._mt.Wu);case 6:case"end":return n.stop()}},null,this,null,We)},e.Tmt=function(t,n){var i,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.rlt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Dr.awrap(this.Smt());case 4:for(i=[],e=0,r=t.nlt;e<r.length;e++)s=r[e],i.push(this.Emt(s,t.rlt[0],n));return u.abrupt("return",We.all(i));case 7:case"end":return u.stop()}},null,this,null,We)},e.Smt=function(){var t,n,i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Dr.awrap(this.kmt.Mat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Dr.awrap(this.Qat.Vat.Nu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Dr.awrap(Wq(e,this.hct.q_,this.Qat.Vat,this.Ovt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Dr.awrap(this.Qat.Vat.Oat(i,this.Ovt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new NW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Dr.awrap(this.kmt.Fat());case 27:case"end":return r.stop()}},null,this,[[14,19]],We)},e.Emt=function(t,n,i){for(var e=[],r=0,s=t.olt;r<s.length;r++)for(var u=Gq(s[r].eT),o=0;o<u.length;o++){var a=u[o];e.push(this.Imt(a,n,i))}return We.all(e)},e.Imt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.hct.yc.bandwidth,r=qq(t.K_,e),t.ds!==iy.Cd||!t.flt||!t.flt.tI.widevine||"persistent"!==t.flt.tI.widevine.licenseType){a.next=6;break}return a.next=5,Dr.awrap(this.Rmt(t.flt));case 5:tu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.Dmt(o,n,i));return a.abrupt("return",We.all(s));case 9:case"end":return a.stop()}},null,this,null,We)},e.Dmt=function(t,n,i){var e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:tu(i),e=t.rE.wJ[0].hk,r=e+this.jvt,s=0,u=t.rE.wJ;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).hk>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Dr.awrap(this.Nmt(i));case 10:return a.next=12,Dr.awrap(this.wmt.vmt());case 12:au(this.wmt.dmt(this.Cmt(o,t,n),this._mt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,We)},e.Nmt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Bs){n.next=4;break}return n.next=3,Dr.awrap(this._mt.Wu);case 3:throw new Js;case 4:case"end":return n.stop()}},null,this,null,We)},e.Pmt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dr.awrap(this.Bm);case 2:return t.abrupt("return",this.yct);case 3:case"end":return t.stop()}},null,this,null,We)},e.Rmt=function(t){return We.resolve()},e.Bmt=function(){return i.Ar("License renewal unsupported in this SDK."),We.resolve()},e.Cmt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Dr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Qat.zat,r=wH(t.llt.dd,t.llt.Mht),f.next=4,Dr.awrap(e.Nu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Dr.awrap(Wq(s,this.hct.q_,e,this.Ovt));case 8:this.Omt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Dr.awrap(this.xmt(t.llt));case 14:return u=f.sent,o=this.Lmt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Dr.awrap(this.Qat.qat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.zat.Oat(a,c.Ovt));case 2:return n.next=4,Dr.awrap(t.wJ.Oat(h,c.Ovt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 18:this.Omt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new NW("Unable to store segment with url: "+t.llt.dd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],We)},e.xmt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.pmt.Mmt(t,!1));case 2:return n=i.sent,i.next=5,Dr.awrap(this.Umt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,We)},e.Umt=function(t){var n;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.zl());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,We)},e.Lmt=function(t,n,i,e){var r=wH(t.llt.dd,t.llt.Mht),s=t.hk,u=t.tm,o=this.Xmt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:dH(i),qualityId:n.q_,byteSize:o,startsAndEnds:new oS([s,s+u]).qN,references:[this.hct.q_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:dH(i),data:e}}},e.Xmt=function(t){return t.buffer.byteLength},e.Omt=function(t,n){var i=t.qualityId,e=this.mmt,r=e.Uy;r.get(i).timeRanges=r.get(i).timeRanges.oC(new oS(t.startsAndEnds)).uC(5e-4),this.bmt=new IW(n?e.Kvt+t.byteSize:e.Kvt,r,this.jvt)},A(n,[{key:"Hmt",get:function(){return this.ymt}},{key:"bmt",get:function(){return this.mmt},set:function(t){this.mmt.Dk(t)||(this.mmt=t,t.Dk(IW.$vt)||this.Js(new EW))}}]),n}(du);function Wq(t,n,i,e){return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Hs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Dr.awrap(i.Oat(t,e));case 4:case"end":return r.stop()}},null,null,null,We)}function Gq(t){return t.length?[t[0]]:[]}function qq(t,n){if(!t.length)return[];var i=[].concat(t).sort(TW),e=i.filter(function(t){return t.YR<=n});return e.length>0?[e.pop()]:[i.shift()]}var Yq=function(){function t(t){this.IE=void 0,this.gX=new af,this.IE=t}var n=t.prototype;return n.vd=function(t){var n=this,i=new Wo;return this.gX.Zc(function(e){return n.Fmt(i,t,e)},t.Ys).catch(K),i.Wu},n.Xd=function(t){return this.IE.Xd(t)},n.Fmt=function(t,n,i){var e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return tu(i),e=new uw({dd:n.dd,Ys:i},n),r=this.IE.vd(e),t.ju(r),u.next=6,Dr.awrap(r);case 6:return s=u.sent,u.next=9,Dr.awrap(s.Kl());case 9:case"end":return u.stop()}},null,this,null,We)},n.Jc=function(){this.gX.Jc()},t}(),jq=function(){function t(t,n){this.IE=void 0,this.zmt=void 0,this.s5=void 0,this.IE=t,this.zmt=new Yq(t),this.s5=n}var n=t.prototype;return n.Mmt=function(t,n,i){return this.L3(t,n,!0,!1,void 0,i)},n.k8=function(t,n,i,e){return this.L3(t,n,!1,!1,i,e)},n.Vmt=function(t,n,i,e){return this.L3(t,n,!1,!0,i,e)},n.L3=function(n,i,e,r,s,u){var o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return tu(u),a.next=3,Dr.awrap(this.I8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Wmt(o));case 8:return a.abrupt("return",this.Gmt(o));case 9:case"end":return a.stop()}},null,this,null,We)},n.Gmt=function(t){return t},t.Wmt=function(t){return t},n.I8=function(t,n,i,e,r){var s=new uw({dd:t.dd,od:Sf.hv,ud:t.Mht?{Range:"bytes="+t.Mht[0]+"-"+t.Mht[1]}:void 0,Md:t.Md,Bd:nw.GET,ds:iw.yd,xd:i?ew.bd:ew._d,Ld:this.s5,Od:e,Ys:r});return n?this.zmt.vd(s):this.IE.vd(s)},t}(),Qq=function(){function t(t){this.IE=void 0,this.IE=t}return t.prototype.x_t=function(t,n,i,e){var r;return Dr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Dr.awrap(this.IE.vd({dd:t,od:Sf.hv,ud:{Range:"bytes="+n[0]+"-"+n[1]},Md:i,Bd:nw.GET,ds:iw._d,Ys:e}));case 2:return r=s.sent,s.next=5,Dr.awrap(r.zl());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,We)},t}(),Zq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).T8=void 0,r.T8=n,r}return S(n,t),n}($t),Kq=function(){function t(t){this.Z4=void 0,this.Z4=t}return t.prototype.x_t=function(t,n,i,e){var r,s;return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(this.Z4.h5(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Dr.awrap(this.Z4.h5(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Xo(new y(s.buffer),n[0],n[1]));case 10:throw new Zq({dd:t,Mht:n,Md:!1});case 11:case"end":return i.stop()}},null,this,null,We)},t}(),Jq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new oS([0,0]).qN,references:[]},$q={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},tY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).qmt=void 0,u.Ymt=void 0,u.Qat=void 0,u.Ovt=void 0,u.qmt=new Qq(i),u.Qat=e,u.Ymt=r,u.Ovt=s,u}S(n,t);var i=n.prototype;return i.x_t=function(n,i,e,r){var s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Dr.awrap(t.prototype.x_t.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),nu(u.t0);case 9:return u.next=11,Dr.awrap(this.qmt.x_t(n,i,e,r));case 11:return s=u.sent,u.next=14,Dr.awrap(this.jmt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],We)},i.jmt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Dr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.Ymt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Qat.zat,s=wH(t,i),v.next=6,Dr.awrap(r.Nu(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Dr.awrap(Wq(u,this.Ymt,r,this.Ovt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.Lmt(s,o,this.Ymt),h=a.segmentMetadataEntry,c=a.segmentEntry,v.next=17,Dr.awrap(this.Qat.qat(function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(t.zat.Oat(h,f.Ovt));case 2:return n.next=4,Dr.awrap(t.wJ.Oat(c,f.Ovt));case 4:case"end":return n.stop()}},null,null,null,We)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new NW("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],We)},n.Lmt=function(t,n,i){return{segmentMetadataEntry:Nr({},Jq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},$q,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(Kq);var nY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qmt=function(t,n,e,r,s,u,o){return new Vq(t,n,e,r,s,u,o,(h=M.En||M.Tn,c=void 0!==a&&void 0!==a.preferredAudioCodecs&&a.preferredAudioCodecs.some(function(t){return"ec-3"===t}),f=h&&!c,function(t){var n,e,r,s;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Wl,MediaSource.isTypeSupported(e)||Hp(t.cO,t.QF)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!f||-1===(null==(n=t.rr)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.c1){u.next=13;break}return r=t.c1,s=Vs(r,function(t){return cs(t.i1)}).filter(H),u.next=10,Dr.awrap(js(s,function(t){return i.Or(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,We)}));var a,h,c,f},n}(function(){function t(t){this.IE=t}return t.prototype.LK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.TN.sources[0].useCredentials),r=new jq(this.IE,rw._d),s=new tF(this.IE,e),u=new gH(n.Vat,n.zat,n.wJ,n.Gat),o=function(t,n,i,e,r){return new tY(n,t,i,e,r)}(this.IE,u,n,t.q_,i),a=new SH,h=new sF(rF(s,u),a,t);return this.Qmt(t,n,h,a,r,o,i)},t}());function iY(t){var n,i={get id(){return t.q_},get status(){return t.rd},get source(){return t.TN},get parameters(){return t.yc},get duration(){return t.tm},get cached(){return t.Zmt.uN()},get secondsCached(){return t.Kmt},get percentageCached(){return t.Jmt},get bytes(){return t.$mt},get bytesCached(){return t.tyt},get license(){return t.EO.u_},start:function(){t.zN()},pause:function(){t.Gm()},remove:function(){t.Jh()},addEventListener:function(t,i){n.$s(t,i)},removeEventListener:function(t,i){n.ou(t,i)}};return n=new dR(t,["Gvt","bvt"],i),i}var eY=function(){function t(t,n,i){this.hct=t,this.Qat=n,this.yct=i}var n=t.prototype;return n.nyt=function(){var t=this;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.Qat.qat(function(n){return Dr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dr.awrap(t.iyt(n));case 2:return i.next=4,Dr.awrap(t.eyt(n));case 4:return i.next=6,Dr.awrap(t.ryt(n));case 6:return i.next=8,Dr.awrap(t.syt(n));case 8:case"end":return i.stop()}},null,null,null,We)}));case 2:case"end":return n.stop()}},null,this,null,We)},n.iyt=function(t){var n,i;return Dr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Wat,i=this.hct.q_,e.next=4,Dr.awrap(n.Jh(i));case 4:case"end":return e.stop()}},null,this,null,We)},n.eyt=function(t){var n,i,e,r,s,u,o,a=this;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.zat,i=t.wJ,em(e=this.hct.TN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=dH(e.src),h.next=8,Dr.awrap(n.Xat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Hs(t.references,a.hct.q_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if(Us((o=s[u]).references,this.hct.q_),0!==o.references.length){h.next=20;break}return h.next=16,Dr.awrap(n.Jh(o.key));case 16:return h.next=18,Dr.awrap(i.Jh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Dr.awrap(n.Oat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,We)},n.ryt=function(t){var n,i,e,r,s,u=this;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Vat,i=this.uyt(),o.next=4,Dr.awrap(n.Pat(i));case 4:e=o.sent.filter(function(t){return Hs(t.references,u.hct.q_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Us((s=e[r]).references,this.hct.q_),0!==s.references.length){o.next=14;break}return o.next=12,Dr.awrap(n.Jh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Dr.awrap(n.Oat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,We)},n.uyt=function(){if(!this.yct)return[];var t=this.hct.TN.sources[0];if(!em(t))return[];var n=dH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.nlt;i<e.length;i++)for(var r=0,s=e[i].olt;r<s.length;r++)for(var u=0,o=s[r].eT;u<o.length;u++)for(var a=0,h=o[u].K_;a<h.length;a++){var c=h[a];c.Alt&&n.push(c.Alt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.yct).map(function(t){return{src:t}}).map(function(t){return dH(t.src)});return[n].concat(i)},n.syt=function(t){var n,i,e,r,s=this;return Dr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Gat,u.next=3,Dr.awrap(n.Mat());case 3:i=u.sent.filter(function(t){return Hs(t.references,s.hct.q_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Us((r=i[e]).references,this.hct.q_),0!==r.references.length){u.next=14;break}return u.next=11,Dr.awrap(n.Jh(r.key));case 11:this.oyt(r),u.next=16;break;case 14:return u.next=16,Dr.awrap(n.Oat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,We)},n.oyt=function(t){},t}(),rY=new(function(){function t(){}return t.prototype.LK=function(t,n,i){return new eY(t,n,i)},t}());var sY=function(){function t(t,n){this.s_=void 0,this.Uw=t,this.ayt=n}var n=t.prototype;return n.hyt=function(t){this.cyt(t)},n.cyt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.ayt.Bmt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Uw.Mvt(vW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],We)},A(t,[{key:"u_",get:function(){var t;return this.s_||(this.s_=(t=this,{renew:function(n){t.hyt(n)}})),this.s_}}]),t}(),uY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Mh=void 0,o.Bvt=void 0,o.s_=void 0,o.Nrt=void 0,o.fyt=void 0,o.Qat=void 0,o.ayt=void 0,o.vyt=new Ks,o.lyt=void 0,o.evictOnLoading=function(){o.ou("bvt",o.evictOnLoading),o.dyt()},o.Mh=n,o.Nrt=i,o.fyt=e,o.Qat=r,o.ayt=s.LK(Kt(o),o.Qat,u),o.lyt=new sY(Kt(o),o.ayt),o.Bvt=1===o.ayt.bmt.Jvt?vW.DONE:vW.IDLE,o.ayt.$s("Gvt",function(t){o.Ks(t),1===o.Jmt&&o.Mvt(vW.DONE)});var h=new Date,c=o.fyt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.dyt()},c),o}S(n,t);var i=n.prototype;return i.Mvt=function(t){this.Bvt!==t&&(this.Bvt=t,this.Js(new dW))},i.zN=function(){this.Bvt===vW.EVICTED||this.Bvt===vW.DONE||this.wyt()},i.wyt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Mvt(vW.LOADING),t=new Ks,this.vyt=t,n.next=6,Dr.awrap(this.ayt.Amt(t.Ys));case 6:this.Mvt(vW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),$s(n.t0)?this.Mvt(vW.IDLE):this.Mvt(vW.ERROR);case 12:return n.prev=12,this.vyt.Us(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],We)},i.Gm=function(){this.vyt.Ws()},i.Jh=function(){this.rd===vW.LOADING?(this.$s("bvt",this.evictOnLoading),this.Gm()):this.dyt()},i.dyt=function(){var t;return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Dr.awrap(this.ayt.Pmt());case 3:return t=n.sent,n.next=6,Dr.awrap(rY.LK(this,this.Qat,t).nyt());case 6:this.ayt.bmt=IW.$vt,this.Mvt(vW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.Mvt(vW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],We)},A(n,[{key:"u_",get:function(){return this.s_||(this.s_=iY(this)),this.s_}},{key:"q_",get:function(){return this.Mh}},{key:"EO",get:function(){return this.lyt}},{key:"rd",get:function(){return this.Bvt}},{key:"TN",get:function(){return this.Nrt}},{key:"yc",get:function(){return this.fyt}},{key:"tm",get:function(){return this.ayt.bmt.pC}},{key:"Zmt",get:function(){return this.ayt.bmt.Zvt}},{key:"Kmt",get:function(){return this.ayt.bmt.Qvt}},{key:"Jmt",get:function(){return this.ayt.bmt.Jvt}},{key:"$mt",get:function(){return this.ayt.Hmt}},{key:"tyt",get:function(){return this.ayt.bmt.Kvt}}]),n}(Ug);var oY=function(){function t(t,n){this.Qat=t,this._yt=n}var n=t.prototype;return n.Fvt=function(t,n,i){var e=QE();return this.Xvt(e,t,n,i)},n.Xvt=function(t,n,i,e){return new uY(t,n,i,this.Qat,this._yt,e)},t}(),aY=30,hY=5;function cY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!vs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,q(i)&&vs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+aY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return hY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var fY,vY,lY,dY,wY,_Y,gY=function(t){function n(n,i){var e;return(e=t.call(this)||this).s_=void 0,e.gyt=n,e.xU=i,e.gyt.$s("bvt",e.Ks),e}return S(n,t),n.prototype.myt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=_E(t),r=cY(n),sE(e))throw new v("Invalid source description");return this.gyt.Xvt(e,r).u_},A(n,[{key:"u_",get:function(){var t,n,i;return this.s_||(this.s_=(i={get status(){return t.rd},get tasks(){return t.Wvt},get network(){return t.jU.u_},createTask:function(n,i){return t.myt(n,i)},addEventListener:function(t,i){n.$s(t,i)},removeEventListener:function(t,i){n.ou(t,i)}},n=new wR(t=this,i),i)),this.s_}},{key:"rd",get:function(){return this.gyt.rd}},{key:"Wvt",get:function(){return this.gyt.Wvt.u_}},{key:"jU",get:function(){return this.xU}}]),n}(Ug);(fY=new QI(i.t_,!1),vY=CH.Yn,lY=new nY(fY),dY=new oY(vY,lY),wY=new KI(fY),_Y=new AW(vY.Wat,dY,"persistent"),new gY(_Y,wY)).u_;var mY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Mh=void 0,s.Bvt=void 0,s.s_=void 0,s.Nrt=void 0,s.fyt=void 0,s._a=0,s.yyt=oS.SC(),s.kyt=0,s.pyt=0,s.gyt=void 0,s.Mh=n,s.Bvt=vW.IDLE,s.Nrt=i,s.fyt=e,s.gyt=r,s}S(n,t);var i=n.prototype;return i.zN=function(){this.gyt.startCachingTask(this)},i.Jh=function(){this.gyt.removeCachingTask(this)},A(n,[{key:"u_",get:function(){return this.s_||(this.s_=iY(this)),this.s_}},{key:"q_",get:function(){return this.Mh}},{key:"rd",get:function(){return this.Bvt},set:function(t){this.Bvt!==t&&(this.Bvt=t,this.Js(new dW))}},{key:"TN",get:function(){return this.Nrt}},{key:"yc",get:function(){return this.fyt}},{key:"tm",get:function(){return this._a},set:function(t){this._a=t}},{key:"Zmt",get:function(){return this.yyt},set:function(t){this.yyt=t}},{key:"Kmt",get:function(){return this.kyt},set:function(t){this.kyt=t}},{key:"Jmt",get:function(){return this.pyt},set:function(t){this.pyt=t,this.Js(new EW)}}]),n}(Xg),yY=30;function kY(t){var n,i,e;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?i=t.expirationDate:(i=new Date).setMinutes(i.getMinutes()+yY),i&&((e=i)&&!(Q(e)&&e>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:i,allowsCellularAccess:null==(n=t.allowsCellularAccess)||n}}var pY=function(t){function n(){var n;return(n=t.call(this)||this).Bvt=gW.UNINITIALISED,n.Wc=new bW,n.sft=void 0,n.Aft=void 0,n.byt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.rd=vW.EVICTED,i.Jmt=0,i.Kmt=0,i.tm=0,i.Zmt=oS.SC(),n.Wc.Jh(i))}},n.Ayt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.rd=e);var r=t.detail.percentage;r&&(i.Jmt=r);var s=t.detail.duration;s&&(i.tm=s);var u=t.detail.seconds;u&&(i.Kmt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Zmt=new oS(a)}}}},n.Tyt=function(t){var i;if(t.detail){var e=_E(JSON.parse(t.detail.source));if(!n.Syt(e)){var r={},s=t.detail.expirationDate;s&&(r={expirationDate:new Date(s)}),r=Nr({},r,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var u=t.detail.uuid;n.Xvt(e,kY(r),u)}}},n.Eyt=function(t){var i;if(t.detail){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)}),e=Nr({},e,{allowsCellularAccess:null==(i=t.detail.allowsCellularAccess)||i});var s=JSON.parse(t.detail.source),u=t.detail.uuid,o=n.Xvt(_E(s),kY(e),u);o.rd=t.detail.status,o.Jmt=t.detail.percentage,o.tm=t.detail.duration,o.Kmt=t.detail.seconds;for(var a=t.detail.cached,h=[],c=0;c<a.length;c++){var f=a[c];h.push(f.start,f.end)}o.Zmt=new oS(h)}},n.Iyt=function(t){t.detail&&n.Mvt(t.detail.status)},n.sft=new aW,n.Aft=new XV,BV().cache={sdkEventBus:n.Aft},n.gvt(),n}S(n,t);var i=n.prototype;return i.Mvt=function(t){this.Bvt!==t&&(this.Bvt=t,this.Js(new dW))},i.Xvt=function(t,n,i){void 0===i&&(i=void 0);var e=new mY(i||QE(),t,n,this);return this.Wc.Xy(e),i||this.sft.pK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.q_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.Wc.Tvt;n<i.length;n++){var e=i[n];if(e.q_===t)return e}},i.Syt=function(t){for(var n=AY(t.sources),i=0,e=this.Wc.Tvt;i<e.length;i++){if(AY(e[i].TN.sources).src===n.src)return!0}return!1},i.gvt=function(){this.Aft.addEventListener("deleteTask",this.byt),this.Aft.addEventListener("updateValues",this.Ayt),this.Aft.addEventListener("newTask",this.Tyt),this.Aft.addEventListener("restoreTask",this.Eyt),this.Aft.addEventListener("setCacheStatus",this.Iyt)},i.startCachingTask=function(t){this.sft.pK("THEOplayerCacheStartCachingTask",{id:t.q_})},i.removeCachingTask=function(t){this.sft.pK("THEOplayerCacheRemoveCachingTask",{id:t.q_})},A(n,[{key:"rd",get:function(){return this.Bvt}},{key:"Wvt",get:function(){return this.Wc}}]),n}(du),bY=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ryt=n,i.Ryt.$s("bvt",i.Ks),i}return S(n,t),n.prototype.myt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=_E(t),e=kY(n),sE(i))throw new v("Invalid source description");if(!AY(i.sources))throw new v("The provided sources can't be cached");return this.Ryt.Xvt(i,e).u_},n}(gY);function AY(t){for(var n=0;n<t.length;n++){var i=t[n];if($g(i.type))return i}}var TY,SY,EY,IY=function(){var t=new pY;return new bY(t)}().u_;!function(t){t.Dyt="any",t.Nyt="natural",t.Cyt="landscape",t.Pyt="portrait",t.Byt="portrait-primary",t.Oyt="portrait-secondary",t.xyt="landscape-primary",t.Lyt="landscape-secondary"}(TY||(TY={})),function(t){t.Byt="portrait-primary",t.Oyt="portrait-secondary",t.xyt="landscape-primary",t.Lyt="landscape-secondary"}(SY||(SY={}));var RY,DY,NY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sft=new aW,n.Myt=TY.Nyt,n.Uyt=SY.Byt,n.Xyt=SY.Byt,n.Hyt=SY.Byt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.Myt=t,n.sft.pK("THEOplayerOrientationLock",t),n.Fyt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.Myt=TY.Nyt,t.sft.pK("THEOplayerOrientationUnlock"),t.type=t.Xyt,t.Fyt(),n()})},i.Fyt=function(){var t=this.Hyt,n=this.type;t!==n&&(this.Hyt=n,this.Js(new _u("change")))},i.addEventListener=function(t,n){this.$s(t,n)},i.removeEventListener=function(t,n){this.ou(t,n)},n.zyt=function(t){switch(t){case TY.Byt:return[SY.Byt];case TY.Oyt:return[SY.Oyt];case TY.Pyt:return[SY.Byt,SY.Oyt];case TY.xyt:return[SY.xyt];case TY.Lyt:return[SY.Lyt];case TY.Cyt:return[SY.xyt,SY.Lyt];case TY.Nyt:return[SY.Byt,SY.xyt,SY.Lyt];case TY.Dyt:return[SY.Byt,SY.Oyt,SY.xyt,SY.Lyt]}},n.Vyt=function(t,i){return n.zyt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.Uyt},set:function(t){this.Xyt=t,n.Vyt(t,this.Myt)?(this.Uyt=t,this.Fyt()):(t===SY.xyt&&this.Myt===TY.Lyt&&(this.Uyt=SY.Lyt,this.Fyt()),t===SY.Lyt&&this.Myt===TY.xyt&&(this.Uyt=SY.xyt,this.Fyt()))}},{key:"angle",get:function(){switch(this.type){case SY.xyt:return-90;case SY.Lyt:return 90;case SY.Byt:return 0;case SY.Oyt:return 180;default:return 0}}}]),n}(Xg);NY.Yn=new NY,null!=(EY=r.screen).orientation||(EY.orientation=NY.Yn),o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Wyt="unavailable",t.Gyt="available",t.qyt="presenting"}(RY||(RY={})),WR(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.jm=function(n){t.prototype.jm.call(this,n);var i=this.u_;this.u_.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===RY.qyt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(TY.Lyt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},XR.KU),function(t){t.n_="addtrack",t.e_="removetrack",t.y_="change",t.S_="update"}(DY||(DY={}));var CY=function(t,n,i){this.type=DY.y_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},PY=function(t,n){this.type=DY.n_,this.mediaType=t,this.mediaTrack=n},BY=function(t,n){this.type=DY.e_,this.mediaType=t,this.mediaTrack=n},OY=function(t,n){this.type=DY.S_,this.mediaType=t,this.mediaTrack=n},xY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Yyt=function(t){var n=new CY(e.type,t.track,e.mediaTracks);e.messageDispatcher.jyt(n)},this.Qyt=function(t){var n=new PY(e.type,t.track);e.messageDispatcher.jyt(n),t.track.addEventListener("update",e.Zyt)},this.Kyt=function(t){var n=new BY(e.type,t.track);e.messageDispatcher.jyt(n)},this.Zyt=function(t){var n=new OY(e.type,t.track);e.messageDispatcher.jyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.gvt()}return t.prototype.gvt=function(){this.mediaTracks.addEventListener("change",this.Yyt),this.mediaTracks.addEventListener("addtrack",this.Qyt),this.mediaTracks.addEventListener("removetrack",this.Kyt)},t}(),LY=function(){function t(){this.Jyt=void 0,this.Jyt=new aW}return t.prototype.jyt=function(t){this.Jyt.pK(t.type,mF(t))},t}();YR(function(t){if(t.u_.audioTracks){var n=new LY;new xY("audio",t.u_.audioTracks,n)}if(t.u_.videoTracks){var i=new LY;new xY("video",t.u_.videoTracks,i)}});var MY,UY="nativePromiseCallback",XY=function(t){function n(n){var i;return(i=t.call(this,UY)||this).detail=n,i}return S(n,t),n}(_u);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(MY||(MY={}));var HY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Js(new XY(n))},i.addEventListener=function(t,n){this.$s(t,n)},i.removeEventListener=function(t,n){this.ou(t,n)},n}(XV),FY=function(){function t(){var t=this;this.Jyt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case MY.RESOLVE:i.ju(n.detail.data);break;case MY.REJECT:i.Qu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new HY;BV().nativePromise={sdkEventBus:n},n.addEventListener(UY,this.handleNativePromiseEvent)}return t.prototype.$yt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Wo;return this.promisesMap[e]=s,null==(i=this.Jyt)||i.pK(n.type,_F(r)),s.Wu},t}();FY.messageIdTracker=-1;var zY,VY=function(t){function n(){var n;return(n=t.call(this)||this).Jyt=new aW,n}return S(n,t),n}(FY),WY=function(){function n(t){this.playerID=t}return n.prototype.pK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),GY=function(t){function n(n){var i;return(i=t.call(this)||this).Jyt=new WY(n),i}return S(n,t),n}(FY);!function(t){t.n_="TextTrackListAddTrack",t.e_="TextTrackListRemoveTrack",t.y_="TextTrackListChange"}(zY||(zY={}));var qY,YY=function(t){this.type=zY.n_,this.textTrack=t},jY=function(t){this.type=zY.e_,this.textTrack=t},QY=function(t){this.type=zY.y_,this.textTrack=t};!function(t){t.h_="TextTrackAddCue",t.f_="TextTrackRemoveCue",t.l_="TextTrackEnterCue",t.w_="TextTrackExitCue",t.g_="TextTrackCueChange"}(qY||(qY={}));var ZY,KY=function(t,n){this.type=qY.h_,this.textTrackCue=t,this.textTrackUid=n},JY=function(t,n){this.type=qY.f_,this.textTrackCue=t,this.textTrackUid=n},$Y=function(t,n){this.type=qY.l_,this.textTrackCue=t,this.textTrackUid=n},tj=function(t,n){this.type=qY.w_,this.textTrackCue=t,this.textTrackUid=n},nj=function(t){this.type=qY.g_,this.textTrackUid=t};!function(t){t.Jy="TextTrackCueEnter",t.nk="TextTrackCueExit",t.S_="TextTrackCueUpdate"}(ZY||(ZY={}));var ij=function(t){this.type=ZY.Jy,this.textTrackCue=t},ej=function(t){this.type=ZY.nk,this.textTrackCue=t},rj=function(t){this.type=ZY.S_,this.textTrackCue=t},sj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.tkt=function(t){var i=uj(t.cue),e=new ij(i);n.messageDispatcher.$yt(e).then()},this.nkt=function(t){var i=uj(t.cue),e=new ej(i);n.messageDispatcher.$yt(e).then()},this.ikt=function(t){var i=uj(t.cue),e=new rj(i);n.messageDispatcher.$yt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.gvt=function(t){t.addEventListener("enter",this.tkt),t.addEventListener("exit",this.nkt),t.addEventListener("update",this.ikt)},n.fu=function(t){t.removeEventListener("enter",this.tkt),t.removeEventListener("exit",this.nkt),t.removeEventListener("update",this.ikt)},t}();function uj(t){var n=EV(t,t.track.type);return delete n.track,n}var oj=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.ekt=function(t){var n,e=uj(t.cue),r=new KY(e,t.cue.track.uid);i.messageDispatcher.$yt(r).then(),null==(n=i.textTrackCueBridge)||n.gvt(t.cue)},this.rkt=function(t){var n,e=uj(t.cue),r=new JY(e,t.cue.track.uid);i.messageDispatcher.$yt(r).then(),null==(n=i.textTrackCueBridge)||n.fu(t.cue)},this.tkt=function(t){var n=uj(t.cue),e=new $Y(n,t.cue.track.uid);i.messageDispatcher.$yt(e).then()},this.nkt=function(t){var n=uj(t.cue),e=new tj(n,t.cue.track.uid);i.messageDispatcher.$yt(e).then()},this.skt=function(t){var n=new nj(t.track.uid);i.messageDispatcher.$yt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new sj(e))}var n=t.prototype;return n.gvt=function(t){t.addEventListener("addcue",this.ekt),t.addEventListener("removecue",this.rkt),t.addEventListener("entercue",this.tkt),t.addEventListener("exitcue",this.nkt),t.addEventListener("cuechange",this.skt)},n.fu=function(t){t.removeEventListener("addcue",this.ekt),t.removeEventListener("removecue",this.rkt),t.removeEventListener("entercue",this.tkt),t.removeEventListener("exitcue",this.nkt),t.removeEventListener("cuechange",this.skt)},n.initMessageDispatcher=function(t){return M.Vn?new VY:M.Wn&&void 0!==t?new GY(t):void 0},t}(),aj=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Qyt=function(t){var n,i=new YY(t.track);e.messageDispatcher.$yt(i).then(),null==(n=e.textTrackBridge)||n.gvt(t.track)},this.Kyt=function(t){var n,i=new jY(t.track);e.messageDispatcher.$yt(i).then(),null==(n=e.textTrackBridge)||n.fu(t.track)},this.ukt=function(t){var n=new QY(t.track);e.messageDispatcher.$yt(n).then()},this.okt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.akt(i);r&&(this.textTrackBridge=new oj(r,i)),this.gvt(),this.sdkEventBus=new XV,BV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.okt)}var n=t.prototype;return n.gvt=function(){this.textTracks.addEventListener("addtrack",this.Qyt),this.textTracks.addEventListener("removetrack",this.Kyt),this.textTracks.addEventListener("change",this.ukt)},n.akt=function(t){return M.Vn?new VY:M.Wn&&void 0!==t?new GY(t):void 0},t}();YR(function(t){if(t.u_.textTracks){var n=new VY;new aj(t.u_.textTracks,n)}});var hj,cj,fj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case hj.hkt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Js(new vj(i));break;default:0}},n}(XV),vj=function(t){function n(n){var i;return(i=t.call(this,hj.hkt)||this).detail=n,i}return S(n,t),n}(_u);!function(t){t.hkt="registerContentProtectionIntegration"}(hj||(hj={})),function(t){t.ckt="certifiateRequest",t.fkt="certifiateResponse",t.vkt="licenseRequest",t.lkt="licenseResponse",t.dkt="extractFairplayContentId",t.wkt="buildContentProtection",t._kt="registerContentProtectionCallback"}(cj||(cj={}));var lj,dj=function(t,n){this.type=cj._kt,this.value=t,this.integrationId=n};!function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(lj||(lj={}));var wj=function(t,n){this.type=cj.wkt,this.value=t,this.integrationId=n},_j=function(t,n){this.type=cj.ckt,this.value=t,this.integrationId=n},gj=function(t,n){this.type=cj.fkt,this.value=t,this.integrationId=n},mj=function(t,n){this.type=cj.dkt,this.value=t,this.integrationId=n},yj=function(t,n){this.type=cj.vkt,this.value=t,this.integrationId=n},kj=function(t,n){this.type=cj.lkt,this.value=t,this.integrationId=n},pj=function(){function t(t,n){this.gkt=void 0,this.LI=void 0,this.gkt=t,this.LI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new _j(i,this.LI),a.prev=2,a.next=5,Dr.awrap(this.gkt.$yt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.mkt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.ykt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new Jm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],We)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Dr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new gj(e,this.LI),o.next=5,Dr.awrap(this.gkt.$yt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,We)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Dr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new yj(e,this.LI),h.prev=3,h.next=6,Dr.awrap(this.gkt.$yt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.mkt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.ykt(u)){h.next=17;break}return a=new y(u),h.abrupt("return",a);case 17:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new Jm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],We)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Dr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new kj(r,this.LI),a.next=6,Dr.awrap(this.gkt.$yt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new Jm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,We)},i.extractFairplayContentId=function(t){var i,e;return Dr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new mj(t,this.LI),r.next=3,Dr.awrap(this.gkt.$yt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",We.reject(new Jm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,We)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.mkt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.ykt=function(t){return!!new y(t)},t}(),bj=function(){function t(t){this.gkt=void 0,this.gkt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new pj(this.gkt,t.integration),i=new wj({drmConfiguration:t},t.integration);return this.gkt.$yt(i),n},t}(),Aj=function(t){function n(){var n;return(n=t.call(this)||this).gkt=new VY,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.gkt}}]),n}(function(){var t=this;this.Aft=void 0,this.kkt=function(n){var i=new bj(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:Gb.zI.UI(r,s,i)};t.messageDispatcher.$yt(new dj(u,r))},this.Aft=new fj,BV().contentProtectionIntegration={sdkEventBus:this.Aft},this.Aft.addEventListener(hj.hkt,this.kkt)});YR(function(t){new Aj});var Tj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(_u);var Sj,Ej=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pkt=function(){},e.bkt(),e}S(n,t);var e=n.prototype;return e.Akt=function(){this.PN&&this.PN.ou(Tf.bf,this.handleAirplayChangedEvent),this.PN=this.lL,this.PN.$s(Tf.bf,this.handleAirplayChangedEvent)},e.Tkt=function(){return Dr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.PN){t.next=2;break}return t.abrupt("return");case 2:this.Skt(FS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,We)},e.Ekt=function(){this.Skt(FS.AVAILABLE)},e.Zm=function(){i.Xr.Ve&&(this.Ikt.Jm(),this.Rkt.Ws(),this.Rkt=new Ks,au(this.Dkt(this.Rkt.Ys)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).s_=void 0,e.Ikt=void 0,e.PN=void 0,e.lL=void 0,e.me=FS.UNAVAILABLE,e.Rkt=new Ks,e.pkt=void 0,e.handleAirplayChangedEvent=function(){e.PN&&e.PN.Ty?e.Tkt():e.AQ===FS.CONNECTED&&e.Ekt()},e.Ikt=n,e.lL=i,e}S(n,t);var e=n.prototype;return e.bkt=function(){this.Akt(),this.Ikt.$s("sourcechange",this.pkt),i.Xr.Ve&&this.Skt(FS.AVAILABLE)},e.preloadPlayer=function(t){if(tu(t),this.PN.dg<jg.Vg){var n=this.PN.du("loadedmetadata",t);return this.PN.Oy=$T.fA,n}return We.resolve()},e.Skt=function(t){t!==this.me&&(this.me=t,this.Js(new Tj(this.me)))},e.Dkt=function(t){return Dr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Dr.awrap(this.preloadPlayer(t));case 2:this.lL.Zm();case 3:case"end":return n.stop()}},null,this,null,We)},e.Km=function(){i.Xr.Ve&&this.PN.Km()},e.Jc=function(){this.uu(),this.Ikt.ou("sourcechange",this.pkt),this.Rkt.Ws()},A(n,[{key:"WM",get:function(){return this.AQ===FS.CONNECTED}},{key:"AQ",get:function(){return this.me}},{key:"u_",get:function(){var t;return this.s_||(this.s_=(t=this,{get casting(){return t.WM},get state(){return t.AQ},start:function(){t.Zm()},stop:function(){t.Km()},addEventListener:function(n,i){var e=pg(n,yg);t.$s(e,i)},removeEventListener:function(n,i){var e=pg(n,yg);t.ou(e,i)}})),this.s_}}]),n}(du));WR(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.o_=function(){var n=this.qU.u_;return fg(t.prototype.o_.call(this),{get cast(){return n}})},n}(t)},XR.ZU),WR(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Nkt=void 0,e.Nkt=new Ej(Kt(e),e.MM),e.qU.GM(e.Nkt),e.$s("currentsourcechange",function(){e.Nkt.Akt()}),e}S(n,t);var i=n.prototype;return i.o_=function(){var n=this,i=t.prototype.o_.call(this);return fg(i.cast,{get airplay(){return n.Nkt.u_}}),i},i.Jc=function(){this.Nkt.Jc(),t.prototype.Jc.call(this)},n}(t)},XR.ZU),function(t){t.Ckt="airplaystatechange"}(Sj||(Sj={}));var Ij=function(t){this.type=Sj.Ckt,this.state=t},Rj=function(t){function n(n){var i;return(i=t.call(this)||this).Pkt=void 0,i.Bkt=function(t){var n=new Ij(t.state);i.jyt(n)},i.Pkt=n,i.gvt(n),i}return S(n,t),n.prototype.gvt=function(t){t.addEventListener("statechange",this.Bkt)},n}(LY);YR(function(t){var n;null!=(n=t.u_.cast)&&n.airplay&&new Rj(t.u_.cast.airplay)}),n.ChromelessPlayer=hD,n.Player=hD,n.cache=IY,n.createGlobals=LV,n.features=vD,n.getCueMirrorMap=OV,n.getGlobalId=xV,n.getSdkEventBridge=BV,n.playerSuiteVersion="2023.1.4",n.players=lD,n.registerContentProtectionIntegration=dD,n.utils=fD,n.version="4.10.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
