/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.1 (4.3.0)
 Created: 2022-11-15T10:18:27.103Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,l=t.Error,v=t.TypeError,d=t.SyntaxError,w=t.Object,g=t.Math,m=t.parseInt,y=t.parseFloat,p=t.isNaN,_=t.Uint8Array,b=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),w.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=w.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),C=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=I.match(/Android ([0-9\.]+)/i),N=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=I.match(/Firefox\/([0-9\.]+)/i),B=I.match(/OPR\/(\d+\.\d+)/i),O=I.match(/Tizen ([0-9\.]+)/i),L=I.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),M=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.V=/Windows NT/i.test(I),this.G=N?y(N[1]):0,this.Y=/Android/i.test(I),this.j=D?y(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(I),this.K=/iPhone/i.test(I),this.J=/iPad/i.test(I),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(I),this.ot=/Mobile Safari/i.test(I),this.ct=/EOSSTB/i.test(I),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=L?y(L[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(I),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=C?m(C[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.At=R?m(R[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(I),this.St=O?y(O[1]):0,this.Et=/webos|web0s/i.test(I),this.It=/Edge\/\d+/i.test(I),this.Rt=/Trident/i.test(I),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(I),this.Ct=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Pt=x?y(x[1]):0,this.Bt=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.Z&&!this.Tt,this.Ot=P?y(P[2]):0,this.xt=Boolean(B),this.Lt=B?y(B[1]):0,this.Mt=/CrKey/.test(I),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Xt="ios"===e.I,this.Ft="ios"===e.g,this.Ht=this.Ft||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return T(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"cn",get:function(){return this.ft}},{key:"hn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Fn",get:function(){return this.Xt}},{key:"Hn",get:function(){return this.Ft}},{key:"zn",get:function(){return this.Ht}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();M.Yn=new M;var j=M.Yn,F={}.hasOwnProperty,U={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===U.call(t)};function V(t){return W(t)&&F.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function q(t){return W(t)&&t.constructor&&t.constructor===w}function G(t){return"string"==typeof t}function $(t){return"boolean"==typeof t}function Y(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function tt(t,n){var e=-1/0;return function(){var r=i.ir();r-e>=n&&(t.apply(void 0,arguments),e=r)}}function nt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var it=!(j.Rn&&!j.Dn),et=t.console;function rt(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(rt).join(" ")}function ut(t){var n=et&&et[t];return n?n.bind&&it?n.bind(et):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];et[t](st(i))}:void 0}var ot,at=ut("log")||K,ht=ut("warn")||at.bind(void 0,"WARNING:"),ct=ut("error")||at.bind(void 0,"ERROR:"),ft=(ot=et&&et.assert)?ot.bind&&it?ot.bind(et):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];et.assert(t,st(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,["Assertion failed:"].concat(i))}},lt=null;try{lt=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function vt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function dt(t){return!0===(t&&t.Zn)}function wt(t){var n=g.clz32(t&-t);return t?31-n:n}vt.prototype.Zn,w.defineProperty(vt.prototype,"Zn",{value:!0}),vt.isLong=dt;var gt={},mt={};function yt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=mt[t])?e:(i=_t(t,0,!0),r&&(mt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=gt[t])?e:(i=_t(t,t<0?-1:0,!1),r&&(gt[t]=i),i)}function pt(t,n){if(p(t))return n?Ct:Rt;if(n){if(t<0)return Ct;if(t>=St)return Bt}else{if(t<=-Et)return Ot;if(t+1>=Et)return xt}return t<0?pt(-t,n).neg():_t(t%Tt|0,t/Tt|0,n)}function _t(t,n,i){return new vt(t,n,i)}vt.fromInt=yt,vt.fromNumber=pt,vt.fromBits=_t;var bt=g.pow;function kt(t,n,i){if(0===t.length)throw l("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Ct:Rt;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw l("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=pt(bt(i,8)),s=Rt,u=0;u<t.length;u+=8){var o=g.min(8,t.length-u),a=m(t.substring(u,u+o),i);if(o<8){var h=pt(bt(i,o));s=s.mul(h).add(pt(a))}else s=(s=s.mul(r)).add(pt(a))}return s.unsigned=n,s}function At(t,n){return"number"==typeof t?pt(t,n):"string"==typeof t?kt(t,n):_t(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}vt.fromString=kt,vt.fromValue=At;var Tt=4294967296,St=Tt*Tt,Et=St/2,It=yt(1<<24),Rt=yt(0);vt.ZERO=Rt;var Ct=yt(0,!0);vt.UZERO=Ct;var Dt=yt(1);vt.ONE=Dt;var Nt=yt(1,!0);vt.UONE=Nt;var Pt=yt(-1);vt.NEG_ONE=Pt;var xt=_t(-1,2147483647,!1);vt.MAX_VALUE=xt;var Bt=_t(-1,-1,!0);vt.MAX_UNSIGNED_VALUE=Bt;var Ot=_t(0,-2147483648,!1);vt.MIN_VALUE=Ot;var Lt=vt.prototype;Lt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Lt.toNumber=function(){return this.unsigned?(this.high>>>0)*Tt+(this.low>>>0):this.high*Tt+(this.low>>>0)},Lt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ot)){var n=pt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=pt(bt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Lt.getHighBits=function(){return this.high},Lt.getHighBitsUnsigned=function(){return this.high>>>0},Lt.getLowBits=function(){return this.low},Lt.getLowBitsUnsigned=function(){return this.low>>>0},Lt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ot)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Lt.isZero=function(){return 0===this.high&&0===this.low},Lt.eqz=Lt.isZero,Lt.isNegative=function(){return!this.unsigned&&this.high<0},Lt.isPositive=function(){return this.unsigned||this.high>=0},Lt.isOdd=function(){return 1==(1&this.low)},Lt.isEven=function(){return 0==(1&this.low)},Lt.equals=function(t){return dt(t)||(t=At(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Lt.eq=Lt.equals,Lt.notEquals=function(t){return!this.eq(t)},Lt.neq=Lt.notEquals,Lt.ne=Lt.notEquals,Lt.lessThan=function(t){return this.comp(t)<0},Lt.lt=Lt.lessThan,Lt.lessThanOrEqual=function(t){return this.comp(t)<=0},Lt.lte=Lt.lessThanOrEqual,Lt.le=Lt.lessThanOrEqual,Lt.greaterThan=function(t){return this.comp(t)>0},Lt.gt=Lt.greaterThan,Lt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Lt.gte=Lt.greaterThanOrEqual,Lt.ge=Lt.greaterThanOrEqual,Lt.compare=function(t){if(dt(t)||(t=At(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Lt.comp=Lt.compare,Lt.negate=function(){return!this.unsigned&&this.eq(Ot)?Ot:this.not().add(Dt)},Lt.neg=Lt.negate,Lt.add=function(t){dt(t)||(t=At(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,_t((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Lt.subtract=function(t){return dt(t)||(t=At(t)),this.add(t.neg())},Lt.sub=Lt.subtract,Lt.multiply=function(t){if(this.isZero())return this;if(dt(t)||(t=At(t)),lt)return _t(lt.mul(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Ct:Rt;if(this.eq(Ot))return t.isOdd()?Ot:Rt;if(t.eq(Ot))return this.isOdd()?Ot:Rt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(It)&&t.lt(It))return pt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,l=0;return f+=(l+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,_t((f&=65535)<<16|(l&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Lt.mul=Lt.multiply,Lt.divide=function(t){if(dt(t)||(t=At(t)),t.isZero())throw l("division by zero");var n,i,e;if(lt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?_t((this.unsigned?lt.div_u:lt.div_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ct:Rt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ct;if(t.gt(this.shru(1)))return Nt;e=Ct}else{if(this.eq(Ot))return t.eq(Dt)||t.eq(Pt)?Ot:t.eq(Ot)?Dt:(n=this.shr(1).div(t).shl(1)).eq(Rt)?t.isNegative()?Dt:Pt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Ot))return this.unsigned?Ct:Rt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Rt}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var r=g.ceil(g.log(n)/g.LN2),s=r<=48?1:bt(2,r-48),u=pt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=pt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Dt),e=e.add(u),i=i.sub(o)}return e},Lt.div=Lt.divide,Lt.modulo=function(t){return dt(t)||(t=At(t)),lt?_t((this.unsigned?lt.rem_u:lt.rem_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Lt.mod=Lt.modulo,Lt.rem=Lt.modulo,Lt.not=function(){return _t(~this.low,~this.high,this.unsigned)},Lt.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},Lt.clz=Lt.countLeadingZeros,Lt.countTrailingZeros=function(){return this.low?wt(this.low):wt(this.high)+32},Lt.ctz=Lt.countTrailingZeros,Lt.and=function(t){return dt(t)||(t=At(t)),_t(this.low&t.low,this.high&t.high,this.unsigned)},Lt.or=function(t){return dt(t)||(t=At(t)),_t(this.low|t.low,this.high|t.high,this.unsigned)},Lt.xor=function(t){return dt(t)||(t=At(t)),_t(this.low^t.low,this.high^t.high,this.unsigned)},Lt.shiftLeft=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_t(0,this.low<<t-32,this.unsigned)},Lt.shl=Lt.shiftLeft,Lt.shiftRight=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_t(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Lt.shr=Lt.shiftRight,Lt.shiftRightUnsigned=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):_t(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Lt.shru=Lt.shiftRightUnsigned,Lt.shr_u=Lt.shiftRightUnsigned,Lt.rotateLeft=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),_t(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Lt.rotl=Lt.rotateLeft,Lt.rotateRight=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),_t(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Lt.rotr=Lt.rotateRight,Lt.toSigned=function(){return this.unsigned?_t(this.low,this.high,!1):this},Lt.toUnsigned=function(){return this.unsigned?this:_t(this.low,this.high,!0)},Lt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Lt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Lt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},vt.fromBytes=function(t,n,i){return i?vt.fromBytesLE(t,n):vt.fromBytesBE(t,n)},vt.fromBytesLE=function(t,n){return new vt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},vt.fromBytesBE=function(t,n){return new vt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Mt=9007199254740991,jt=g.pow(2,-52);function Ft(t,n,i){return g.min(g.max(t,n),i)}function Ut(t,n,i){return t===n||g.abs(t-n)<=i}function Ht(t){return t!=t}function Xt(t,n){return t===n||Ht(t)&&Ht(n)}function zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Vt(t){return!p(t.getTime())}function Wt(){return Date.now()||(new Date).getTime()}function qt(t){return t/1e3}function Gt(t){return 1e3*t}var $t,Yt=vt.fromNumber(Mt);function Qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Zt(t){return t.Kn===$t.Jn}function Kt(t){return t.Kn===$t.$n}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}($t||($t={}));var tn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];l.apply(this,n)};(tn.prototype=w.create(l.prototype)).constructor=tn;var nn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,l.captureStackTrace&&l.captureStackTrace(Jt(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(tn),en=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(nn),rn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new en(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new en;return new fn(n)},t}(),sn=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:dn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),un=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return ln(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return ln(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},T(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=vn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(ln)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:dn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new sn(t.item(i)));return n}(this.Ti.attributes)}},{key:"Fi",get:function(){return this.Ti.textContent}}]),n}(un),an=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Hi===t.Hi},T(t,[{key:"Hi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.$n}}]),n}(an),cn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(an),fn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"zi",get:function(){return new on(this.Ti.documentElement)}}]),n}(un);function ln(t){return Zt(t)}function vn(t){switch(t.nodeType){case $t.Jn:return new on(t);case $t.$n:return new hn(t);case $t.ei:return new cn(t)}}function dn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function wn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function gn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){mn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&mn(i,null,t.length,t),t}function mn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var yn=/[a-zA-Z]/,pn=/[0-9]/,_n=/[0-9a-fA-F]/,bn=/^0x/i,kn=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,Tn=/^[0-7]+$/,Sn=w.prototype.toString,En=Array.isArray||function(t){return"[object Array]"===Sn.call(t)},In="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Rn(t){return En(t)?t:Array.from(t)}function Cn(t){return t>=65&&t<=90}function Dn(t){return Cn(t)||function(t){return t>=97&&t<=122}(t)}function Nn(t){return t>=48&&t<=57}function Pn(t){return Nn(t)||Dn(t)}function xn(t){return Nn(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return Cn(t)?t+32:t}function On(t){return Nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ln(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Mn=g.min,jn=String.fromCharCode,Fn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Fn){var r=Mn(e+Fn,n);i.push(jn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,zn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Vn=g.floor,Wn=String.fromCharCode;function qn(t){throw new RangeError(zn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var $n,Yn,Qn,Zn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Kn=function(t,n,i){var e=0;for(t=i?Vn(t/700):t>>1,t+=Vn(t/n);t>455;e+=36)t=Vn(t/35);return Vn(e+36*t/(t+38))},Jn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Wn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,l=0,v=t;l<v.length;l++){var d=v[l];d>=e&&d<f&&(f=d)}var w=c+1;f-e>Vn((2147483647-r)/w)&&qn("overflow"),r+=(f-e)*w,e=f;for(var g=0,m=t;g<m.length;g++){var y=m[g];if(y<e&&++r>2147483647&&qn("overflow"),y==e){for(var p=r,_=36;;_+=36){var b=_<=s?1:_>=s+26?26:_-s;if(p<b)break;var k=p-b,A=36-b;n.push(Wn(Zn(b+k%A,0))),p=Vn(k/A)}n.push(Wn(Zn(p,0))),s=Kn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function ti(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function ni(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ii(t,n){return t>>n&63|128}function ei(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ni(t),n.push(t>>12&15|224),n.push(ii(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ii(t,12)),n.push(ii(t,6))),n.push(63&t|128)):n.push(t)}function ri(t){for(var n=[],i=0;i<t.length;i++){ei(t[i],n)}return n}function si(){if(Qn>=Yn)throw new l("Invalid byte index");var t=255&$n[Qn];if(Qn++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function ui(){var t,n;if(Qn>Yn)throw new l("Invalid byte index");if(Qn===Yn)return!1;if(t=255&$n[Qn],Qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|si())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|si()<<6|si())>=2048)return ni(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|si()<<12|si()<<6|si())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}function oi(t){return[37,Ln(t>>4),Ln(15&t)]}function ai(t){return function(t){return t>=0&&t<=31}(t)||t>126}function hi(t){return ai(t)||32===t||34===t||60===t||62===t||96===t}function ci(t){return hi(t)||35===t||63===t||123===t||125===t}function fi(t){return ci(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function li(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vi(t){return li(t)||39===t}function di(t,n){if(!n(t))return[t];for(var i=ri([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,oi(s))}return e}function wi(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,di(s,n))}return ti(i)}function gi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&xn(t[e+1])&&xn(t[e+2])){var s=On(t[e+1])<<4|On(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ri(t))}function mi(t){return ti(function(t){$n=t.slice(),Yn=$n.length,Qn=0;for(var n,i=[];!1!==(n=ui());)i.push(n);return i}(gi(Gn(t))))}function yi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new v;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new v("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&_n.test(t[h]);)c=c<<4|m(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new v;if(h-=f,o>6)throw new v;for(var l=0;h<s;){var d=null;if(l>0){if(!("."===t[h]&&l<4))throw new v;h+=1}if(!pn.test(t[h]))throw new v;for(;h<s&&pn.test(t[h]);){var w=m(t[h],10);if(null===d)d=w;else{if(0===d)throw new v;if((d=10*d+w)>255)throw new v}h+=1}u[o]=u[o]<<8|d,2!==(l+=1)&&4!==l||(o+=1)}if(4!==l)throw new v;break}if(":"===t[h]){if((h+=1)===s)throw new v}else if(h<s)throw new v;u[o]=c,o+=1}else{if(null!==a)throw new v("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function pi(t){var n=10,i=kn;return bn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Tn),""===t?0:i.test(t)?m(t,n):void 0}var _i={Vi:4},bi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Vi:2,Wi:yi(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new v("Invalid code point in opaque host");var n=wi(t,ai);return""===n?_i:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Jn(t.toLowerCase())}(t)}(mi(t));if(bi.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=pi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=g.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?_i:{Vi:0,qi:i}}function Ti(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Si=/\+/g;function Ei(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Si," "),o=o.replace(Si," ");var a=mi(u),h=mi(o);i.push([a,h])}}return i}function Ii(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ri(ri(Gn(e[0])))+"="+Ri(ri(Gn(e[1])))}return n}function Ri(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Pn(n)?i.push(r):i.push.apply(i,oi(r))}return Un(i)}var Ci=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Di(t){var n=""+t,i=Ci.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Pi(s))if(xi(s)||r===i-1)e.push(Ni);else{var u=t.charCodeAt(r+1);xi(u)?(e.push(s,u),r++):e.push(Ni)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Ni=65533,Pi=function(t){return 55296==(63488&t)},xi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Oi(t){t.Yi.length=0}function Li(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ei(n))}function Mi(t){if(t.ji){var n=Ii(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ji&&En(s.Yi)&&(!In||s[Symbol.iterator]===Fi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!En(t)||!!In&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=Rn(t);n<i.length;n++){var e=Rn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Yi.push([Di(e[0]),Di(e[1])])}}else for(var r in this.Yi=[],t)w.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Di(r),Di(t[r])]);else(t=Di(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ei(t);var s}var n=t.prototype;return n.append=function(t,n){t=Di(t),n=Di(n),this.Yi.push([t,n]),Mi(this)},n.delete=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Mi(this)},n.get=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Di(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Di(t),n=Di(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Mi(this)},n.sort=function(){gn(this.Yi,Bi),Mi(this)},n.toString=function(){return Ii(this.Yi)},n.entries=function(){return new zi(this.Yi,Ui)},n.keys=function(){return new zi(this.Yi,Hi)},n.values=function(){return new zi(this.Yi,Xi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Fi=ji.prototype.entries;In&&(ji.prototype[Symbol.iterator]=Fi);var Ui=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Xi=function(t){return t[1]},zi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),Vi="null";var Wi=w.create(null);Wi.ftp=21,Wi.file=0,Wi.gopher=70,Wi.http=80,Wi.https=443,Wi.ws=80,Wi.wss=443;var qi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function $i(t){return qi.test(t)}function Yi(t){return Gi.test(t)}function Qi(t){return void 0!==Wi[t]}function Zi(t){return Qi(t.Ji)}function Ki(t){return""!==t.$i||""!==t.re}function Ji(t){var n=t.length;if(!(n>=2))return!1;if(!ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function te(t){return 2===t.length&&yn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ne(t){return 2===t.length&&te(Un(t))}function ie(t){return te(t)&&":"===t[1]}function ee(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&ie(n[0])||n.pop())}function re(t){return null===t.oe||_i===t.oe||t.fe||"file"===t.Ji}var se=-1,ue=/\t|\n|\r/g,oe=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ae(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ce,t=t.replace(oe,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(ue,"")),c=h.length,f=0;f<=c;){var l=f<c?h[f]:se;switch(r){case 0:if(!Dn(l)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(Bn(l)),r=1;break;case 1:if(Pn(l)||43===l||45===l||46===l)s.push(Bn(l));else{if(58!==l){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var d=ti(s);if(null!==e){if(Qi(i.Ji)&&!Qi(d))return;if(!Qi(i.Ji)&&Qi(d))return;if((Ki(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===_i||null===i.oe))return}if(i.Ji=d,null!==e)return void(Zi(i)&&i.we===Wi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Zi(i)&&n&&n.Ji===i.Ji?r=3:Zi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==l)throw new v("Invalid scheme");n.fe&&35===l?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===l&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===l?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,se===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===l?r=6:63===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===l&&Zi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Zi(i)||47!==l&&92!==l?47===l?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==l||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==l&&92!==l&&(r=9,f-=1);break;case 9:if(64===l){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=ti(di(g,fi));a?i.re+=y:i.$i+=y}else a=!0}s.length=0}else if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(l);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==l||o)if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(f-=1,Zi(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(Ki(i)||null!==i.we))return;var p=Ai(ti(s),Zi(i));if(i.oe=p,s.length=0,r=16,null!==e)return}else 91===l?o=!0:93===l&&(o=!1),s.push(l);else{if(0===s.length)throw new v("Invalid host");var _=Ai(ti(s),Zi(i));if(i.oe=_,s.length=0,r=12,11===e)return}break;case 12:if(Nn(l))s.push(l);else{if(!(se===l||47===l||63===l||35===l||Zi(i)&&92===l||null!==e))throw new v("Invalid port");if(0!==s.length){var b=m(ti(s),10);if(b>65535)throw new v("Invalid port");i.we=b===Wi[i.Ji]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===l||92===l?r=14:n&&"file"===n.Ji?se===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ji(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ee(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===l||92===l?r=15:(n&&"file"===n.Ji&&!Ji(h.slice(f))&&(ie(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(se===l||47===l||92===l||63===l||35===l)if(f-=1,null===e&&ne(s))r=17;else if(0===s.length){if(i.oe=_i,null!==e)return;r=16}else{var k=Ai(ti(s),Zi(i));if(0===k.Vi&&"localhost"===k.qi&&(k=_i),i.oe=k,null!==e)return;s.length=0,r=16}else s.push(l);break;case 16:Zi(i)?(r=17,47!==l&&92!==l&&(f-=1)):null===e&&63===l?(i.Qi="",r=19):null===e&&35===l?(i._e="",r=20):se!==l&&(r=17,47!==l&&(f-=1));break;case 17:if(se===l||47===l||Zi(i)&&92===l||null===e&&(63===l||35===l)){var A=ti(s);if(Yi(A)?(ee(i),47===l||Zi(i)&&92===l||i.ue.push("")):!$i(A)||47===l||Zi(i)&&92===l?$i(A)||("file"===i.Ji&&0===i.ue.length&&ne(s)&&(_i!==i.oe&&null!==i.oe&&(i.oe=_i),s[1]=58,A=ti(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(se===l||63===l||35===l))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===l?(i.Qi="",r=19):35===l&&(i._e="",r=20)}else s.push.apply(s,di(l,ci));break;case 18:63===l?(i.Qi="",r=19):35===l?(i._e="",r=20):se!==l&&(i.ue[0]+=ti(di(l,ai)));break;case 19:null===e&&35===l?(i._e="",r=20):se!==l&&(i.Qi+=ti(di(l,Zi(i)?vi:li)));break;case 20:se===l||0===l||(i._e+=ti(di(l,hi)))}f++}return i}function he(t,n,i,e){try{ae(t,n,i,e)}catch(t){}}var ce=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function fe(t){switch(t.Ji){case"blob":var n;try{n=ae(t.ue[0],null)}catch(t){return Vi}return fe(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+Ti(e)+(null===r?"":":"+r);case"file":default:return Vi}var i,e,r}var le,ve,de,we,ge,me,ye=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ye&&"object"==typeof i.ji)r=n.ji;else try{r=ae(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=ae(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new ji;return null!==t&&Li(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Ki(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=Ti(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ae(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.ji=n,Oi(this.Qi);var i=this.ji.Qi;null!==i&&Li(this.Qi,i)}},{key:"origin",get:function(){return fe(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){he(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){re(this.ji)||(this.ji.$i=wi(t,fi))}},{key:"password",get:function(){return this.ji.re},set:function(t){re(this.ji)||(this.ji.re=wi(t,fi))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=Ti(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||he(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":Ti(t)},set:function(t){this.ji.fe||he(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){re(this.ji)||(""===t?this.ji.we=null:he(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,he(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Di(t);var n=this.ji;if(""===t)return n.Qi=null,void Oi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",he(t,null,n,19),Li(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",he(t,null,this.ji,20)):this.ji._e=null}}])&&wn(n.prototype,i),e&&wn(n,e),t}();function pe(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=a;function be(t){return Boolean(t&&void 0!==t.length)}function ke(){}function Ae(t){if(!(this instanceof Ae))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ce(t,this)}function Te(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,Ae.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Ee(n.promise,t)}Se(n.promise,e)}else(1===t.me?Se:Ee)(n.promise,t.ke)})):t.pe.push(n)}function Se(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Ae)return t.me=3,t.ke=n,void Ie(t);if("function"==typeof i)return void Ce((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Ie(t)}catch(n){Ee(t,n)}var e,r}function Ee(t,n){t.me=2,t.ke=n,Ie(t)}function Ie(t){2===t.me&&0===t.pe.length&&Ae.Ae(function(){t.ye||Ae.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)Te(t,t.pe[n]);t.pe=null}function Re(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ce(t,n){var i=!1;try{t(function(t){i||(i=!0,Se(n,t))},function(t){i||(i=!0,Ee(n,t))})}catch(t){if(i)return;i=!0,Ee(n,t)}}Ae.prototype.catch=function(t){return this.then(null,t)},Ae.prototype.then=function(t,n){var i=new this.constructor(ke);return Te(this,new Re(t,n,i)),i},Ae.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Ae.all=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new v(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ae?t:new Ae(function(n){n(t)})},Ae.reject=function(t){return new Ae(function(n,i){i(t)})},Ae.race=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Ae.resolve(t[e]).then(n,i)})},Ae.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},Ae.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var De=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ne=o?o.userAgent:"",Pe=Ne.match(/Firefox\/([0-9]+)/i),xe=null!=Pe,Be=Pe?Number(Pe[1]):0,Oe=Ne.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Le=null!=Oe,Me=Oe?Number(Oe[3]):0,je=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Fe="unhandledrejection",Ue=t.PromiseRejectionEvent,He=t.CustomEvent;function Xe(t){return new Ue(Fe,{reason:t,promise:De.reject(t).catch(function(){}),cancelable:!0})}function ze(t){var n=new He(Fe,{detail:{reason:t},cancelable:!0});return w.defineProperty(n,"reason",{value:t}),n}function Ve(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Fe,!1,!0,{reason:t}),n}var We,qe,Ge,$e,Ye,Qe,Ze,Ke=function(t){return(Ke=function(){try{var t=De.resolve(),n=new Ue(Fe,{reason:"error",promise:t});return Fe===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new He(Fe,{detail:{reason:"error"}});return Fe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?ze:Ve)(t)};if(De&&!(xe&&Be<60||Le&&Me<15))qe=De;else{qe=Ae;var Je=null!==(We=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=De;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==We?We:Ae.Ae,tr=(Ge=Je,$e=new je(16),Ye=!1,{Ce:function(t){$e.push(t),Ye||(Ye=!0,Ge(Qe))},Pe:Qe=function(){for(;$e.length()>0;)$e.shift()();Ye=!1}});Ae.Ae=tr.Ce,Ae.Te=function(n){try{var i=Ke(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new l("Unhandled promise rejection: ".concat(n))},0)}}function nr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ir(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function er(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function rr(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+ir(t)+" ").indexOf(" "+n+" ")}function sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ir(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&er(t,(i+" "+n).trim())}}function ur(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ir(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");er(t,i.trim())}}function or(t,n,i){void 0===i&&(i=!rr(t,n)),i?sr(t,n):ur(t,n)}function ar(t,n){j.Tn&&j.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function hr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function fr(t){t.removeAttribute("title")}function lr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function vr(t){t.src&&(t.removeAttribute("src"),t.load())}function dr(){return void 0!==s?s.createElement("video"):void 0}function wr(){return Ze||(Ze=dr()),Ze}var gr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),mr=wr(),yr=!(!mr||!mr.webkitShowPlaybackTargetPicker),pr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=gr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},T(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"Fe",get:function(){return!j.Un}},{key:"He",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return yr}},{key:"Ve",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return j.Bn||j.cn}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),_r=function(){var t=dr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),br=function(){if(j.in)return!1;var t=dr();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var kr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.Oe=i.Je.Oe,i.Gt=i.Je.Gt,i.xe=_r&&i.Je.xe),i}E(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.Je?this.Je.Ue(n):t.prototype.Ue.call(this,n)},T(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ze)||t}}]),n}(pr),Ar=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return E(n,t),T(n,[{key:"je",get:function(){return j.cn}}]),n}(kr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Le=function(){return we.MediaSource?t.prototype.Le.call(this):1},T(n,[{key:"je",get:function(){return!0}}]),n}(Ar),Sr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},T(n,[{key:"Ve",get:function(){return j.Sn<3}},{key:"We",get:function(){return j.Sn>=3}},{key:"Ke",get:function(){return j.Sn<3}}]),n}(kr),Er=function(t){function n(){return t.call(this)||this}return E(n,t),n}(pr),Ir=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(t,n){if(t&&t.$e&&n&&n.$e){var i=Rr(t.$e,"mp4a.40.2")&&Rr(n.$e,"mp4a.40.5"),e=Rr(t.$e,"mp4a.40.5")&&Rr(n.$e,"mp4a.40.2"),r=Rr(t.$e,"mp4a.40.2")&&Rr(n.$e,"mp4a.40.34"),s=Rr(t.$e,"mp4a.40.34")&&Rr(n.$e,"mp4a.40.2"),u=Rr(t.$e,"mp4a.40.5")&&Rr(n.$e,"mp4a.40.34"),o=Rr(t.$e,"mp4a.40.34")&&Rr(n.$e,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Qe",get:function(){if(j.qt)return 4096}}]),n}(Er);function Rr(t,n){return t.indexOf(n)>-1}var Cr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ue=function(t){return t>=2},n}(Er),Dr=function(t){function n(){var n;return(n=t.call(this)||this).Oe=j.On>=11,n.xe=j.Bn&&!(j.cn&&j.On<10),n}return E(n,t),n}(Er),Nr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"qe",get:function(){return!1}}]),n}(kr),Pr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Ze",get:function(){return!j.Yt||(j.pn?92!==j.An:j.yn>=100)}}]),n}(Er),xr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"je",get:function(){return!0}}]),n}(kr),Br=function(){function n(){var n;this.ir=void 0,this.er=new rn,this.rr=new Or,this.dr=(n=function(){if(j.Cn)return new Ir;if(j.In||j.Rn)return new Cr;if(j.Bn)return new Dr;if(j._n)return new Pr;return new Er}(),j.cn?new Tr(n):j.dn?new Ar(n):j.Tn?new Sr(n):j.En?new Nr(n):j.qt?new xr(n):new kr(n)),this.wr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ir=function(){return t.performance.now()}:this.ir=Wt}var i=n.prototype;return i._r=function(){at.apply(void 0,arguments)},i.gr=function(){ht.apply(void 0,arguments)},i.yr=function(){ct.apply(void 0,arguments)},i.pr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ft.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Ar=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Tr=function(t){f(t)},i.ui=function(t){return this.er.ui(t)},i.Sr=function(){return this.Er.Sr()},i.Ir=function(){return this.Er.Ir()},i.Rr=function(){return this.Er.Rr()},i.Dr=function(){return this.Er.Dr()},i.Nr=function(){return this.Er.Nr()},i.Cr=function(t,n){return this.Er.Cr(t,n)},i.Pr=function(t){return this.Er.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=pe(we)),i="object"!=typeof n||n instanceof ye?n:n.href,new ye(t,i)},i.Or=function(n,i){if(void 0===i&&(i=pe(we)),this.wr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},T(n,[{key:"xr",get:function(){return this.rr}},{key:"Lr",get:function(){return this.dr}},{key:"Mr",get:function(){return{Ur:o&&o.userAgent.match(/Android /i)?"Android":"other",Xr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Fr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Hr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Or=function(){function t(){}return T(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Lr",get:function(){return o.platform}},{key:"Vr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Lr="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Mr(t){return t&&t.__esModule&&w.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jr={exports:{}};!function(t){var n,i=w.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=w.create(r.prototype),u=new N(e||[]);return s.Gr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new l("Generator is already running");if(e===g){if("throw"===r)throw s;return x()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.qr=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?g:f,a.arg===m)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=g,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",g="completed",m={};function y(){}function _(){}function b(){}var k={};k[s]=function(){return this};var A=w.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(k=T);var S=b.prototype=y.prototype=w.create(k);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new qe(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Yr")?qe.resolve(c.Yr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):qe.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return m}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!p(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}_.prototype=S.constructor=b,b.constructor=_,b[o]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return w.setPrototypeOf?w.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=w.create(S),t},t.awrap=function(t){return{Yr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!p(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new l("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new l("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(jr.exports);var Fr=jr.exports;function Ur(){return(Ur=w.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)w.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Hr(){var t=w.create(null);return t.__=void 0,delete t.__,t}function Xr(){return new $r}function zr(){return new Zr}function Vr(t){var n=Xr();for(var i in t)F.call(t,i)&&n.set(i,t[i]);return n}function Wr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var qr,Gr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,$r=Gr||(qr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=w.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hr(),this.size=0},n.keys=function(){return new qr(this.data,function(t,n){return n})},n.values=function(){return new qr(this.data,function(t,n){return t[n]})},n.entries=function(){return new qr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Qr,Zr=Gr||(Yr=function(){function t(t,n){this.Qr=void 0,this.Zr=void 0,this.Qr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Qr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Xr()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Yr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Yr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.Jr="9a04f079-9840-4286-ab92-e65be0885f95",t.$r="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Qr||(Qr={}));var Kr,Jr="urn:mpeg:dash:mp4protection:2011",ts="cenc",ns="sinf",is="skd",es=Qr.Jr,rs="urn:uuid:"+es,ss="com.microsoft.playready",us=Qr.$r,os="urn:uuid:"+us,as=Qr.rs,hs="urn:uuid:"+as,cs=Qr.us,fs="urn:uuid:"+cs,ls="com.apple.fps.1_0",vs="com.apple.streamingkeydelivery";!function(t){t.Jr="playready",t.$r="widevine",t.us="fairplay",t.rs="clearkey",t.hs="aes128"}(Kr||(Kr={}));var ds={fs:Kr.Jr,vs:ss,ls:"cenc",ds:es,_s:rs,gs:"PlayReady"},ws={fs:Kr.$r,vs:"com.widevine.alpha",ls:"cenc",ds:us,_s:os,gs:"Widevine"},gs={fs:Kr.us,vs:ls,ls:"skd",ds:cs,_s:fs,gs:"FairPlay"},ms={fs:Kr.us,vs:"com.apple.fps",ls:"sinf",ds:cs,_s:fs,gs:"FairPlay"},ys={fs:Kr.rs,vs:"org.w3.clearkey",ls:"cenc",ds:as,_s:hs,gs:"ClearKey"},ps=[ds,ws,gs,ys];function _s(t){return ps.filter(function(n){return n._s===t.toLowerCase()})}function bs(t,n,i){return t.split(n).join(i)}function ks(t,n){return null!=t&&-1!==t.indexOf(n)}function As(t,n){return null!=t&&t.substr(0,n.length)===n}function Ts(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ss(t,n){return t.toUpperCase()===n.toUpperCase()}function Es(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Is(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Es(e,r/e.length)),e.slice(0,r)+t)}function Rs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ds(n)}var Cs=16384;function Ds(t){var n=t.length;if(n<=Cs)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Cs)i.push(String.fromCharCode.apply(String,t.slice(e,e+Cs)));return i.join("")}var Ns=j._n&&j.yn>=42||j.Cn&&j.Pn>=38||j.In||j.Dn||j.xn&&j.Ln>=29;function Ps(t,n){return ks(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function xs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Bs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Os,Ls=function(){function t(t){this.ys=void 0,this.As=Xr(),this.Ts=void 0,this.ys=t}var n=t.prototype;return n.Nr=function(){return this.Pr(ws)},n.Ir=function(){return this.Pr(ys)},n.Dr=function(){return this.Pr(ds)},n.Rr=function(){return this.Pr(gs)},n.Pr=function(t){var n=t._s,i=this.As.get(n);if(i)return i;var e=this.Cr(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,e),e},n.Cr=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.ys.Ss(t.vs,[Ps(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Fr.awrap(this.ys.Ss(t.vs,[Ps(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],qe)},n.Sr=function(){return this.Ts||(this.Ts=this.Es()),this.Ts},n.Es=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ge.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ns){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Fr.awrap(this.Ir());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,qe)},t}();function Ms(t,n){return Fs(t.slice(),n)}function js(t,n){var i=Fs(t,n);return i!==t&&Us(i,void 0,t.length,t),t}function Fs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Us(i,n,s,r);var u=i;i=r,r=u}return i}function Us(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Is=0]="Is",t[t.Rs=1]="Rs",t[t.Ds=-1]="Ds"}(Os||(Os={}));var Hs=function(t,n){return(0|t)-(0|n)},Xs=function(t,n){return t===n?Os.Is:t<n?Os.Ds:t>n?Os.Rs:p(t)?p(n)?Os.Is:Os.Rs:Os.Ds};function zs(t,n,i){return Ut(t,n,i)?Os.Is:Xs(t,n)}var Vs=function(t,n){return function(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<jt||i<g.max(g.abs(t),g.abs(n))*jt}(t,n)?Os.Is:Xs(t,n)};function Ws(t,n,i){var e=Gs(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Gs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function $s(t,n){var i=t.indexOf(n);return-1!==i&&(Ys(t,i),!0)}function Ys(t,n){t.splice(n,1)}function Qs(t,n){return-1!==t.indexOf(n)}function Zs(t,n){for(var i=0;i<n.length;i++){if(!Qs(t,n[i]))return!1}return!0}function Ks(t){t.length=0}function Js(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Qs(n,t[i]))return!1}return!0}function tu(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function nu(t,n){return eu(t,function(t,i){return Xs(n(t),n(i))})}function iu(t,n){return function(t,n){return eu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Xs(n(t),n(i))})}function eu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function ru(t,n){return qe.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function su(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Fr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,qe)}function uu(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var ou=function(){function t(){this.Ns=!1,this.Cs=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ns&&!this.Cs){this.Ns=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Cs){this.Cs=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}Ks(this.Ps),Ks(this.Bs)}},n.Ls=function(t){this.Cs||this.Ps.push(t)},n.Ms=function(t){this.Cs||$s(this.Ps,t)},n.Us=function(t){this.Cs||this.Bs.push(t)},n.Xs=function(t){this.Cs||$s(this.Bs,t)},t}(),au=function(){function t(){this.Fs=new ou}var n=t.prototype;return n.Hs=function(){this.Fs.Os()},n.xs=function(){this.Fs.xs()},n.zs=function(t){var n=this.Fs;if(!n.Ns)if(t.Ns)n.Os();else if(!n.Cs&&!t.Cs){var i=function(){e(),n.Os()},e=function e(){t.Ms(i),t.Xs(e),n.Ms(i),n.Xs(e)};t.Ls(i),t.Us(e),n.Ls(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Fs,u=function(){e.Ns&&r.Cs||r.Ns&&e.Cs?s.Os():e.Cs&&r.Cs&&s.xs()};e.Ls(u),r.Ls(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Ms(u),r.Ms(u),e.Xs(u),r.Xs(u)}),[n,i]},T(t,[{key:"Ws",get:function(){return this.Fs}}]),t}(),hu=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(nn);function cu(t){return t instanceof l&&"AbortError"===t.name}function fu(t){if(t&&t.Ns)throw new hu}function lu(t){if(cu(t))throw t}function vu(t){if(!cu(t))throw t}function du(t,n){return n?new qe(function(i,e){if(n.Ns)return t.catch(K),e(new hu);var r=function t(){n.Ms(t),e(new hu)};n.Ls(r),t.then(function(t){n.Ms(r),i(t)},function(t){n.Ms(r),e(t)})}):t}function wu(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function gu(t,n){var i=new au;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Hs(),t},function(t){throw i.Hs(),t})}var mu=qe.resolve();function yu(t){mu.then(t)}function pu(t){t.then(K,K)}function _u(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(qe.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],qe)}function bu(t,n){return new qe(function(e,r){if(void 0!==n&&n.Ns)r(new hu);else{var s=i.Qn(function(){void 0!==n&&n.Ms(u),e()},t),u=function(){i.jn(s),r(new hu)};void 0!==n&&n.Ls(u)}})}function ku(t){return t&&"function"!=typeof t?t.slice():t}function Au(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Tu,Su=function(){function t(t){var n=this;this.Gs=Hr(),this.qs=void 0,this.Ys=void 0,this.js=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.Gs[t];i?"function"==typeof i?this.Gs[t]=[i,n]:i.push(n):this.Gs[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.$s=function(){this.Gs=Hr(),this.qs=void 0},n.Qs=function(t){var n=ku(this.Gs[t.type]),i=ku(this.qs);Au(this.Ys,t,n),Au(this.Ys,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Gs[t];i&&("function"==typeof i?i===n&&(this.Gs[t]=void 0):$s(i,n))},n.uu=function(t){if("string"==typeof t)this.Gs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Gs[i]=void 0}},n.ou=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):$s(n,t))},n.au=function(t,n){var i=this;return new qe(function(e,r){if(n&&n.Ns)return r(new hu);var s=function(t){o(),e(t)},u=function(){o(),r(new hu)},o=function(){i.tu(t,s),n&&n.Ms(u)};i.Zs(t,s),n&&n.Ls(u)})},t}(),Eu=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Qs=function(n){var i=this;yu(function(){t.prototype.Qs.call(i,n)})},n}(Su),Iu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ru=["cenc"],Cu=["cbcs","cbcs-1-9"],Du=function(t){function n(n){var i;return(i=t.call(this,"vu")||this).fu=n,i}return E(n,t),n}(Iu),Nu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"du")||this).fu=n,s.wu=i,s.du=e,s._u=r,s}return E(n,t),n}(Iu),Pu=function(t){function n(){return t.call(this,"mu")||this}return E(n,t),n}(Iu);!function(t){t.yu="bu",t.pu="Au"}(Tu||(Tu={}));var xu=function(t){function n(n,i){var e;return(e=t.call(this,Tu.yu)||this).ls=n,e.Tu=i,e}return E(n,t),n}(Iu),Bu=function(t){function n(){return t.call(this,Tu.pu)||this}return E(n,t),n}(Iu),Ou=new _([0]).buffer,Lu=function(){function t(){this.Su=void 0,this.Su=[]}var n=t.prototype;return n.Eu=function(t){for(var n=0,i=this.Su;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Iu=function(t){for(var n=0,i=this.Su;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ru=function(t,n){this.Su.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Su.push([t,n])},n.Nu=function(){Ks(this.Su)},T(t,[{key:"Cu",get:function(){return this.Su.length}}]),t}(),Mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ju=16383,Fu=/[\t\n\f\r ]/g;function Uu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hu()}function Hu(){throw new l("Invalid base64 input")}function Xu(t){var n=t;Fu.test(n)&&(n=n.replace(Fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Hu();for(var r,s=0===e?0:4-e,u=new _(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Uu(n.charCodeAt(a))<<18|Uu(n.charCodeAt(a+1))<<12|Uu(n.charCodeAt(a+2))<<6|Uu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Uu(n.charCodeAt(a))<<2|Uu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Uu(n.charCodeAt(a))<<10|Uu(n.charCodeAt(a+1))<<4|Uu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function zu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Mu[e>>2]+Mu[(3&e)<<4|r>>4]+Mu[(15&r)<<2|s>>6]+Mu[63&s]));return u.join("")}function Vu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=ju)e.push(zu(t,s,g.min(r,s+ju)));if(1===i){var u=t[n-1];e.push(Mu[u>>2]+Mu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Mu[o>>2]+Mu[(3&o)<<4|a>>4]+Mu[(15&a)<<2]+"=")}return e.join("")}var Wu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],qu=ArrayBuffer.isView||function(t){return t&&Qs(Wu,U.call(t))};function Gu(t,n){return t===n||t.byteLength===n.byteLength&&$u(new _(t),new _(n))}function $u(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Yu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Qu(t,n)}function Qu(t,n){for(var i=new _(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Zu(t){return Xu(t).buffer}function Ku(t){return Vu(new _(t))}function Ju(t){return Vu(Lo(t))}function to(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function no(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+to(t,n);return e}var io=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},T(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function eo(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ro(t,n){return t>>n&63|128}function so(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(eo(t),n.push(t>>12&15|224),n.push(ro(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ro(t,12)),n.push(ro(t,6))),n.push(63&t|128)):n.push(t)}function uo(t,n){if(n.Pu>=t.length)throw new l("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new l("Invalid continuation byte")}function oo(t,n){var i=n.Pu;if(i>t.length)throw new l("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|uo(t,n);if(r>=128)return r;throw new l("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|uo(t,n)<<6|uo(t,n);if(s>=2048)return eo(s),s;throw new l("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|uo(t,n)<<12|uo(t,n)<<6|uo(t,n);if(u>=65536&&u<=1114111)return u}throw new l("Invalid UTF-8 detected")}var ao=65279;var ho=[128,64,32,16,8,4,2,1],co=function(){function t(t){this.Mu=t}return t.prototype.Uu=function(t){return fo(this.Mu,t)},t}();function fo(t,n){return(t&n)===n}function lo(t,n){return fo(t,ho[n])}function vo(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function wo(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function go(t,n,i){var e=Vo(Go(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function mo(t,n,i){Go(t).set(Go(i),n.Pu),n.Bu(i.byteLength)}function yo(t,n,i){return n.Pu+i<=t.byteLength}function po(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=vo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+vo(t,n);return e}(t,n,i)}function _o(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function bo(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function ko(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function Ao(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function To(t,n,i){void 0===i&&(i=!1);var e=ko(t,n,i),r=ko(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function So(t,n){return Ro(t,n)}function Eo(t,n,i){return Ds(Ko(go(t,n,i)))}function Io(t,n){var i,e=vo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&vo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&vo(t,n))+(63&vo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&vo(t,n))+64*(63&vo(t,n))+(63&vo(t,n))),i}function Ro(t,n){return Co(t,n,!0)}function Co(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=vo(t,n);if(i&&!r)break;e.push(r)}return Ds(e)}function Do(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function No(t,n){var i=Do(t,n);return void 0!==i&&n.Bu(2),Po(t,n,!0===i)}function Po(t,n,i){return void 0===i&&(i=!1),xo(t,n,i,!0)}function xo(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=_o(t,n,i);if(e&&!s)break;r.push(s)}return Ds(r)}function Bo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){bo(t,n,i.charCodeAt(s),e)}}function Oo(t){return Co(qo(t),new Jo,!1)}function Lo(t){var n=new _(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)wo(t,n,i.charCodeAt(r))}(qo(n),new Jo,t),n}function Mo(t,n){return void 0===n&&(n=!1),xo(qo(t),new Jo,n,!1)}function jo(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return Bo(qo(i),new Jo,t,n),i}function Fo(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function Uo(t,n){return function(t,n,i){var e=[];Fo(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=Io(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Rs(e)}(t,n,!0)}function Ho(t){return Rs(function(t,n){var i,e=[],r=new Jo;if(!n){if(!1===(i=oo(t,r)))return e;i===ao||e.push(i)}for(;!1!==(i=oo(t,r));)e.push(i);return e}(Go(t)))}function Xo(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)so(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function zo(t,n){if(Fo(t,n))return Uo(t,n);if(void 0!==Do(t,n))return No(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return Po(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return Po(t,n,!0)}return Uo(t,n)}function Vo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function qo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Go(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function $o(t){return t instanceof ArrayBuffer||qu(t)}function Yo(t){return t instanceof ArrayBuffer?new _(t):Go(t)}function Qo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Zo(Vo(t,n,i))}function Zo(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}function Ko(t){return[].slice.call(t)}var Jo=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},n.Xu=function(){return new io(this.Pu<<3)},T(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function ta(t){var n=t.toLowerCase(),i=0,e=0;As(n,"0x")&&(n=n.substring(2));var r=new _(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=m(n[0],16));i<n.length;i+=2)r[e++]=m(n.substr(i,2),16);return r}var na=function(){function t(){var t=this;this.Fu=void 0,this.Hu=void 0,this.Vu=void 0,this.Fu=new qe(function(n,i){t.Hu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Hu&&(this.Hu(t),this.xs())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Hs=function(){this.Fu.catch(K),this.Gu(new hu)},n.xs=function(){this.Hu=void 0,this.Vu=void 0},t}();function ia(){return new _([8,4]).buffer}function ea(t){return Gu(t,ia())}function ra(t,n){return t===ss?function(t){if(t.byteLength<2*sa.length)return t;if(Mo(new DataView(t,0,2*sa.length),!0)===sa)return t;return n=t,jo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ku(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var sa="<PlayReady";var ua=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.ju=void 0,s.Yu=i,s.ju=e,s}return E(n,t),n}(nn),oa=function(t,n){return(oa=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)w.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function aa(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}oa(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}function ha(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ca(t,n,i){return g.min(g.max(t,n),i)}function fa(t,n){return t>>8-n}function la(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Zu=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Zu||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Zu)-1,r=i>>8-this.Zu;return(e<<this.Zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(g.floor((t+this.Zu)/8));if(void 0!==n)return(n&1<<7-this.Zu-t%8)>0?1:0}},w.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Zu},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var va=function(){function t(t){this.Ku=t,this.Ju=0,this.$u=0}return w.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.$u},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Ku.length&&0===this.$u},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.Ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.$u<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.Ju+t<=this.Ku.length:this.Ju+t<this.Ku.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.Ju++,this.$u=0)},t.prototype.seek=function(t,n){this.Ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new l("Cannot read past end of buffer.");return this.Ku.get(this.Ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new l("Cannot read past end of buffer.");if(0===this.$u)return this.Ku.get(this.Ju++);var t=la(this.Ku.get(this.Ju),8-this.$u),n=fa(this.Ku.get(this.Ju+1),this.$u);return this.Ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new l("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.Ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),da=function(t,n){return t===n?0:t<n?-1:t>n?1:p(t)?p(n)?0:1:-1},wa=function(){function t(){this.uo=[],this.oo=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new l("The buffer length must be positive.");if(0!==i){if(0===this.oo.length)this.oo.push(0);else{var e=this.oo[this.oo.length-1]+this.uo[this.uo.length-1].length;this.oo.push(e)}this.uo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.uo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.uo=[],this.oo=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.oo[n];return this.uo[n][i]}},w.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.uo.length<1)return-1;if(this.uo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.uo[0];return"number"==typeof t?ha(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ha(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=g.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.oo,t,da)},t.prototype.join=function(){if(1===this.uo.length)return this.uo[0];var t=new _(this.length);return this.copyInternal(t,0),t},w.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new l("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new l("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*g.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ca(n,0,this.length),r=ca(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.uo[u],a=e,h=a-this.oo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.oo[u],o=this.uo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.uo.length-1,e=this.uo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.uo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ga=function(){function t(n){this.ao=n||t.BUFFER_CHUNK_SIZE,this.do=!1,this._o=new wa,this.Ku=new _(this.ao),this.mo=0,this.po=0,this.$u=7}return t.prototype.closeByte=function(){this.Ku[this.mo++]=this.po,this.mo>=this.ao&&this.closeBuffer(),this.po=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mo&&(this._o.pushRange(this.Ku,0,this.mo),t&&(this.Ku=new _(this.ao)),this.mo=0)},w.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.do)throw new l("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.do=!0,this._o},t.prototype.writeBit=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.po|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.po=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.po|=fa(t,n+1),this.closeByte(),this.po=la(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mo+t.length<=this.ao?(this.Ku.set(t,this.mo),this.mo+=t.length,this.mo===this.ao&&this.closeBuffer()):(this.closeBuffer(),this._o.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.po|=fa(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=la(t[i-1],8-n),r=fa(t[i],n+1);this.po=e<<n+1|r,this.closeByte()}this.po=la(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new l("Received a negative number.");if(n>32)throw new l("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new l("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new l("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new l("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new l("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new _(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ma=function(){function t(t){this.rb=new wa,this.Ao=t}return t.prototype.closeWriter=function(){void 0!==this.Ao&&(this.rb=this.rb.concat(this.Ao.close()),this.Ao=void 0)},w.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ao&&(this.Ao=new ga),this.Ao},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ya=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new l("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ma;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function pa(t,n){return t instanceof vt?64===n:t<g.pow(2,n)}function _a(t,n){return g.round(t*g.pow(2,n))}function ba(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ka(t,n){return t/g.pow(2,n)}var Aa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!pa(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ya),Ta=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(wa.from(this.data))},n}(ya),Sa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var Ea=16384;function Ia(t){var n=t.length;if(n<=Ea)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ea)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ea)));return i.join("")}var Ra=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ca(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Da(t,n,i){var e=Ma(Fa(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}function Na(t,n,i){return n.offset+i<=t.byteLength}function Pa(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function xa(t,n,i){void 0===i&&(i=!1);var e=Pa(t,n,i),r=Pa(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function Ba(t,n,i){var e,r=Da(t,n,i);return Ia((e=r,[].slice.call(e)))}function Oa(t,n){var i,e=Ca(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ca(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ca(t,n))+(63&Ca(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ca(t,n))+64*(63&Ca(t,n))+(63&Ca(t,n))),i}function La(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Oa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ia(n)}(e)}(t,n,!0)}function Ma(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function ja(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fa(t){return new _(t.buffer,t.byteOffset,t.byteLength)}var Ua=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Sa(this.offset<<3)},t}(),Ha=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ca(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Pa(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Pa(t,n,i),r=Pa(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return xa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Da(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Pa(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ba(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return La(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Xa(t,n){return t.type===n}var za=8;function Va(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Wa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new l("Data incomplete");return n.boxes}function Wa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Na(t,n,za)){var e=n.offset+za;return{complete:!1,neededOffset:e}}var r=Pa(t,n),s=Ba(t,n,4);if(1===r){if(!Na(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=xa(t,n).toNumber()}if("uuid"===s){if(!Na(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ba(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ha((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Ua(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function qa(t){return{version:t>>24,flags:new Ra(16777215&t)}}function Ga(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function $a(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ya(t){var n=t.nextUint32Array(9);return{a:ka(n[0],16),b:ka(n[1],16),u:ka(n[2],30),c:ka(n[3],16),d:ka(n[4],16),v:ka(n[5],30),x:ka(n[6],16),y:ka(n[7],16),w:ka(n[8],30)}}function Qa(t){return new Ta(t.type,Ma(Fa(t.data.data),t.data.cursor.offset))}var Za=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return aa(n,t),w.defineProperty(n.prototype,"handlerType",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Aa);function Ka(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Za(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}aa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Za);var Ja=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},w.defineProperty(t.prototype,"tag",{get:function(){return this.Eo},set:function(t){if(!pa(t,8))throw new l("Provided tag does not fit in 8 bits.");this.Eo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}aa(n,t),w.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Io},set:function(t){if(!pa(t,8))throw new l("Provided objectTypeIndication does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamType",{get:function(){return this.Ro},set:function(t){if(!pa(t,6))throw new l("Provided streamType does not fit in 6 bits.");this.Ro=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!pa(t,24))throw new l("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.No},set:function(t){if(!pa(t,32))throw new l("Provided maxBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Co},set:function(t){if(!pa(t,32))throw new l("Provided avgBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ja),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}aa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(wa.from(this.data))}}(Ja);var th=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return aa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ja);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new th(r.fixed28BitMode),s}aa(n,t),w.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!pa(t,16))throw new l("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!pa(t,5))throw new l("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!pa(t,16))throw new l("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!pa(t,16))throw new l("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ja);var nh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return aa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ya),ih=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return aa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(nh),eh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return aa(n,t),w.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Lo},set:function(t){if(!pa(t,16))throw new l("Provided dataReferenceIndex does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ih),rh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return aa(n,t),w.defineProperty(n.prototype,"channelCount",{get:function(){return this.Mo},set:function(t){if(!pa(t,16))throw new l("Provided channelCount does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!pa(t,16))throw new l("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Xo},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(_a(this.sampleRate,16),32),this.extra&&ba(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}aa(n,t),w.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ho},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Go},set:function(t){if(!pa(t,32))throw new l("Provided horizOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffD",{get:function(){return this.qo},set:function(t){if(!pa(t,32))throw new l("Provided horizOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!pa(t,32))throw new l("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffD",{get:function(){return this.jo},set:function(t){if(!pa(t,32))throw new l("Provided vertOffD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ya),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.sampleCount,32)||!pa(t.sampleOffset,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new l("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(){return t.call(this,"dinf")||this}aa(n,t)}(ih);var sh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!pa(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(nh);!function(t){function n(){return t.call(this,"dref",0,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var uh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!pa(e.segmentDuration,this.bitSize))throw new l("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!pa(e.mediaTime,this.bitSize))throw new l("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!pa(e.mediaRateInteger,16))throw new l("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!pa(e.mediaRateFraction,16))throw new l("Provided mediaRateFraction does not fit in 16 bits.")}this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Aa),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh),ah=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh);function hh(t){for(var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new oh(u,r.raw):new ah(u,r.raw)}var ch=function(t){function n(){return t.call(this,"edts")||this}return aa(n,t),n}(ih);function fh(t){for(var n=new ch,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"elst")?n.boxes.push(hh(r)):n.boxes.push(Qa(r))}return n}var lh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return aa(n,t),w.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Zo},set:function(t){if(4!==t.length)throw new l("the provided major brand does not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!pa(t,32))throw new l("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new l("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ya),vh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return aa(n,t),n}(lh);function dh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new vh(i,e,r)}var wh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return aa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(wa.from(this.data))},n}(ya),gh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return aa(n,t),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"language",{get:function(){return this.oa},set:function(t){if(!_h(t))throw new l("Expected an ISO-639-2/T language code");this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Aa),mh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(gh),yh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(gh);function ph(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=new va(wa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return _h(h)||(h="und"),n.skip(2),0===e?new mh(s,h,r.raw):new yh(s,h,r.raw)}function _h(t){return/^[a-z]{3}$/.test(t)}var bh=function(t){function n(){return t.call(this,"mdia")||this}return aa(n,t),n}(ih);function kh(t){for(var n=new bh,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"mdhd")?n.boxes.push(ph(r)):Xa(r,"hdlr")?n.boxes.push(Ka(r)):n.boxes.push(Qa(r))}return n}var Ah,Th=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new wa,n}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ya);function Sh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Th;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(sh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Ah||(Ah={}));var Eh,Ih,Rh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Ch(t,n){n.writer.writeUInt(_a(t.a,16),32),n.writer.writeUInt(_a(t.b,16),32),n.writer.writeUInt(_a(0,30),32),n.writer.writeUInt(_a(t.c,16),32),n.writer.writeUInt(_a(t.d,16),32),n.writer.writeUInt(_a(0,30),32),n.writer.writeUInt(_a(t.x,16),32),n.writer.writeUInt(_a(t.y,16),32),n.writer.writeUInt(_a(1,30),32)}function Dh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Ih.UNKNOWN,2)}function Nh(t,n){var i,e,r;n.writer.writeUInt(0,4),Dh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Eh||(Eh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Ih||(Ih={}));var Ph=function(){return function(){}}(),xh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return aa(n,t),w.defineProperty(n.prototype,"systemId",{get:function(){return this.va},set:function(t){if(16!==t.length)throw new l("Provided systemId length is not 16.");this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!pa(t.length,32))throw new l("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(wa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(wa.from(this.data))},n}(Aa),Bh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return aa(n,t),n}(xh),Oh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return aa(n,t),w.defineProperty(n.prototype,"kIds",{get:function(){return this._a},set:function(t){if(!pa(t.length,32))throw new l("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new l("Not all provided key ids are 16 bytes long.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(wa.from(e))}},n}(xh);function Lh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Oh(i,o,e):new Bh(i,o)}var Mh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!pa(t,this.bitSize))throw new l("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Mh),Fh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Mh);function Uh(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Fh(n.nextUint64(),r.raw)}var Hh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!pa(t,32))throw new l("Provided default sample description index does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(!pa(t,32))throw new l("Provided default sample duration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!pa(t,32))throw new l("Provided default sample size does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Nh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Aa);function Xh(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=$a(new va(wa.from(n.nextUint8Array(4))));return new Hh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var zh=function(t){function n(){return t.call(this,"mvex")||this}return aa(n,t),n}(ih);function Vh(t){for(var n=new zh,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"mehd")?n.boxes.push(Uh(r)):Xa(r,"trex")?n.boxes.push(Xh(r)):n.boxes.push(Qa(r))}return n}var Wh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Rh,c.Ia=e,c}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"rate",{get:function(){return this.Ra},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!pa(_a(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ia},set:function(t){if(0===t)throw new l("NextTrackId cannot be 0.");if(!pa(t,32))throw new l("NextTrackId cannot exceed 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(_a(this.rate,16),32),n.writer.writeUInt(_a(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Ch(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Aa),qh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Wh),Gh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Wh);function $h(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=ka(n.nextUint32(),16),o=ka(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ya(n);n.skip(24);var h=n.nextUint32();return 0===e?new qh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Gh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Yh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Rh,f}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(0===t)throw new l("trackId cannot be 0.");if(!pa(t,32))throw new l("trackId cannot exceed 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!pa(_a(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided width does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!pa(t,16))throw new l("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!pa(t,16))throw new l("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(_a(this.volume,8),16),n.writer.writeUInt(0,16),Ch(this.matrix,n),n.writer.writeUInt(_a(this.width,16),32),n.writer.writeUInt(_a(this.height,16),32)},n}(Aa),Qh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Yh),Zh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Yh);function Kh(t){var n,i,e,r,s=t.data,u=qa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),l=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var v=s.nextInt16(),d=s.nextInt16(),w=ka(s.nextInt16(),8);s.skip(2);var g=Ya(s),m=ka(s.nextUint32(),16),y=ka(s.nextUint32(),16);return 0===o?new Qh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f}):new Zh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f})}var Jh=function(t){function n(){return t.call(this,"trak")||this}return aa(n,t),n}(ih);function tc(t){for(var n=new Jh,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"tkhd")?n.boxes.push(Kh(r)):Xa(r,"mdia")?n.boxes.push(kh(r)):Xa(r,"edts")?n.boxes.push(fh(r)):n.boxes.push(Qa(r))}return n}var nc=function(t){function n(){return t.call(this,"moov")||this}return aa(n,t),n}(ih);function ic(t){for(var n=new nc,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"mvhd")?n.boxes.push($h(r)):Xa(r,"trak")?n.boxes.push(tc(r)):Xa(r,"mvex")?n.boxes.push(Vh(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}var ec=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ec),sc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ec);function uc(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new rc(n.nextUint32(),r.raw):new sc(n.nextUint64(),r.raw)}var oc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.La},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is not set.");if(t&&!pa(t,64))throw new l("Provided baseDataOffset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is not set.");if(t&&!pa(t,32))throw new l("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is not set.");if(t&&!pa(t,32))throw new l("Provided defaultSampleDuration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is not set.");if(t&&!pa(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Nh(this.defaultSampleFlags,n)},n}(Aa);function ac(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),l=c?n.nextUint64():void 0,v=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?$a(new va(wa.from(n.nextUint8Array(4)))):void 0;return new oc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:l,sampleDescriptionIndex:v,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:g},i)}var hc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return aa(n,t),w.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!pa(t,32))throw new l("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){var n,i;if(!pa(t.length,32))throw new l("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new l("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new l("The sample duration present flag is not set.");if(s.duration&&!pa(s.duration,32))throw new l("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new l("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new l("The sample size present flag is not set.");if(s.size&&!pa(s.size,32))throw new l("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!pa(s.flags.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!pa(s.flags.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!pa(s.compositionTimeOffset,32))throw new l("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Nh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Nh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Aa);function cc(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=$a(new va(wa.from(n.nextUint8Array(4)))));for(var l=[],v=0;v<c;v++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=$a(new va(wa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),l.push(d)}return new hc(i,f,l)}var fc=function(t){function n(){return t.call(this,"traf")||this}return aa(n,t),n}(ih);function lc(t){for(var n=new fc,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"tfhd")?n.boxes.push(ac(r)):Xa(r,"tfdt")?n.boxes.push(uc(r)):Xa(r,"trun")?n.boxes.push(cc(r)):n.boxes.push(Qa(r))}return n}var vc=function(t){function n(){return t.call(this,"moof")||this}return aa(n,t),n}(ih);function dc(t){for(var n=new vc,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"traf")?n.boxes.push(lc(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}aa(n,t),w.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Ha},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Aa);var wc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return aa(n,t),w.defineProperty(n.prototype,"codingName",{get:function(){return this.Va},set:function(t){if(4!==t.length)throw new l("Provided coding name was not 4 characters long.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ya);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}aa(n,t),w.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!pa(t,32))throw new l("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!pa(t,32))throw new l("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ya),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}aa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ih),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new wc(n),r}aa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ya);var gc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){var n=this;if(!pa(t.length,32))throw new l("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!pa(t,n.bitSize)}))throw new l("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Fo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!pa(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!pa(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Aa);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(gc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(gc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}aa(n,t),w.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ya},set:function(t){if(!pa(t,8))throw new l("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!pa(t.length,32))throw new l("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!pa(t,8)}))throw new l("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!pa(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!pa(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new l("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Aa),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Dh(e[i],n)}}}(Aa),function(t){function n(n){return t.call(this,"stsd",n,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var mc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return aa(n,t),w.defineProperty(n.prototype,"groupingType",{get:function(){return this.Za},set:function(t){if(4!==t.length)throw new l("The provided groupingType does not equal 4 characters.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Aa);!function(t){function n(n,i){return t.call(this,0,n,i)||this}aa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(mc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}aa(n,t),w.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!pa(t,32))throw new l("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(mc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new l("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}aa(n,t),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!pa(t,32))throw new l("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(mc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}aa(n,t),w.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}aa(n,t),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!pa(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){if(!pa(t,32))throw new l("Number of allowed samples cannot fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Aa),function(t){function n(){return t.call(this,"stbl")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.firstChunk,32)||!pa(t.sampleDescriptionIndex,32)||!pa(t.samplesPerChunk,32)}))throw new l("Not all entries can be represented in 96 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Aa),function(t){function n(){return t.call(this,"schi")||this}aa(n,t)}(ih),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}aa(n,t),w.defineProperty(n.prototype,"schemeType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new l("The provided schemeType does not have a length of 4.");this.$a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.tc},set:function(t){if(!pa(t,32))throw new l("The provided schemeVersion does not fit in 23 bits.");this.tc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeUri",{get:function(){return this.nc},set:function(t){if(t&&4!==t.length)throw new l("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Aa);var yc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"referenceId",{get:function(){return this.ic},set:function(t){if(!pa(t,32))throw new l("Provided referenceId does not fit in 32 bits.");this.ic=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ec},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ec=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstOffset",{get:function(){return this.rc},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.rc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"references",{get:function(){return this.uc},set:function(t){if(!pa(t.length,16))throw new l("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!pa(e.referencedSize,31))throw new l("Provided referenced size does not fit in 31 bits.");if(!pa(e.subsegmentDuration,32))throw new l("Provided subsegment duration does not fit in 31 bits.");if(!pa(e.sapType,3))throw new l("Provided SAP type does not fit in 3 bits.");if(!pa(e.sapDeltaTime,28))throw new l("Provided SAP delta time does not fit in 28 bits.")}this.uc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Aa),pc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(yc),_c=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(yc);var bc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return aa(n,t),n}(lh);function kc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new bc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}aa(n,t),w.defineProperty(n.prototype,"balance",{get:function(){return this.ac},set:function(t){if(t<-1||t>1)throw new l("Provided balance does not fit in the allowed range [-1, 1].");if(!pa(_a(t,8),16))throw new l("Provided balance does not fit in 16 bits (fixed 8.8).");this.ac=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(_a(this.balance,8),16),n.writer.writeUInt(0,16)}}(Aa),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.sampleCount,32)||!pa(t.sampleDelta,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("The provided trackId does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(sh),function(t){function n(){return t.call(this,"udta")||this}aa(n,t)}(ih);var Ac={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Ac);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}aa(n,t),w.defineProperty(n.prototype,"opColor",{get:function(){return this.cc},set:function(t){if(!pa(t.red,16)||!pa(t.green,16)||!pa(t.blue,16))throw new l("Not all colors could be represented in 16 bits.");this.cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Aa);var Tc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return aa(n,t),w.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!pa(t,16))throw new l("Provided width does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!pa(t,16))throw new l("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hc},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fc},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compressorName",{get:function(){return this.vc},set:function(t){if(t.length>31)throw new l("The provided compressorName should at most be 31 characters long.");this.vc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"frameCount",{get:function(){return this.lc},set:function(t){if(!pa(t,16))throw new l("Provided frameCount does not fit in 16 bits.");this.lc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"depth",{get:function(){return this.dc},set:function(t){if(!pa(t,16))throw new l("Provided depth does not fit in 16 bits.");this.dc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(_a(this.horizontalResolution,16),32),n.writer.writeUInt(_a(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ba(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof _?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof _?n.concat(wa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(rh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Tc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(eh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ya),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}w.defineProperty(t.prototype,"version",{get:function(){return this.wc},set:function(t){if(!pa(t,8))throw new l("Provided version does not fit in 8 bits.");this.wc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileIndication",{get:function(){return this._c},set:function(t){if(!pa(t,8))throw new l("Provided profileIndication does not fit in 8 bits.");this._c=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.gc},set:function(t){if(!pa(t,8))throw new l("Provided profileCompatibility does not fit in 8 bits.");this.gc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"levelIndication",{get:function(){return this.mc},set:function(t){if(!pa(t,8))throw new l("Provided levelIndication does not fit in 8 bits.");this.mc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"spsSets",{get:function(){return this.yc},set:function(t){if(!pa(t.length,5))throw new l("Provided number of spsSets exceeds the max (32)");this.yc=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ppsSets",{get:function(){return this.kc},set:function(t){if(!pa(t.length,8))throw new l("Provided number of ppsSets exceeds the max (256)");this.kc=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(wa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(wa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}aa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Tc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}aa(n,t),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!pa(t,32))throw new l("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"max",{get:function(){return this.bc},set:function(t){if(!pa(t,32))throw new l("Provided max does not fit in 32 bits.");this.bc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avg",{get:function(){return this.pc},set:function(t){if(!pa(t,32))throw new l("Provided avg does not fit in 32 bits.");this.pc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ya);var Sc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new l("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new _(0),o}return aa(n,t),w.defineProperty(n.prototype,"isProtected",{get:function(){return this.Ac},set:function(t){if(!pa(t,8))throw new l("Provided isProtected does not fit in 1 byte.");this.Ac=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Tc},set:function(t){if(![8,16].includes(t))throw new l("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Tc=t,this.Sc=new _(0)},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"kId",{get:function(){return this.Ec},set:function(t){if(16!==t.length)throw new l("Provided kId length is not 16.");this.Ec=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"constantIv",{get:function(){return this.Sc},set:function(t){if(![8,16].includes(t.length))throw new l("Provided constant IV length does not match any allowed value [8, 16].");this.Sc=t,this.Tc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ba(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ba(t.writer,this.constantIv))},n}(Aa);!function(t){function n(n){return t.call(this,0,n)||this}aa(n,t)}(Sc);var Ec=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return aa(n,t),w.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Ic},set:function(t){if(!pa(t,4))throw new l("Provided cryptByteBlocks does not fit in 4 bits.");this.Ic=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Rc},set:function(t){if(!pa(t,4))throw new l("Provided skipByteBlocks does not fit in 4 bits.");this.Rc=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Sc);function Ic(t){return void 0!==t.iv}function Rc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Ec(n),i}aa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ph),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}aa(n,t),w.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){var n;if(!pa(t.length,32))throw new l("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ic(r)&&![8,16].includes(r.iv.length))throw new l("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Rc(r)),!0===n&&!Rc(r)||!1===n&&Rc(r))throw new l("Mix of samples with and without subsamples detected.");if(Rc(r)){if(!pa(r.subsamples.length,16))throw new l("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!pa(o.clearData,16))throw new l("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!pa(o.protectedData,23))throw new l("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ic(r)&&(n+=r.iv.length),Rc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ic(r)&&ba(n.writer,r.iv),Rc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Aa),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}aa(n,t),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("The provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Dc},set:function(t){if(!pa(t,32))throw new l("The provided presentationTimeDelta does not fit in 32 bits.");this.Dc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Nc},set:function(t){if(!pa(t,32))throw new l("The provided eventDuration does not fit in 32 bits.");this.Nc=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"id",{get:function(){return this.Cc},set:function(t){if(!pa(t,32))throw new l("The provided id does not fit in 32 bits.");this.Cc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(wa.from(this.data))}}(Aa);var Cc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ma,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Dc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Wa(i,e);if(!r.complete)return;if(Xa(r.box,n))return r.box}}(new Ha(ja(i),new Ua),t);if(!e)throw new l("".concat(t," box not found"));return n(e)}}var Nc=Dc("moov",ic),Pc=Dc("sidx",function(t){var n,i,e=t.data,r=qa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var l=new va(wa.from(e.nextUint8Array(12))),v=l.readBit(),d=l.readUInt(31),w=l.readUInt(32),g=Boolean(l.readBit()),m=l.readUInt(3),y=l.readUInt(28);c.push({referenceType:v,referencedSize:d,subsegmentDuration:w,startsWithSap:g,sapType:m,sapDeltaTime:y})}return 0===s?new pc(o,a,n,i,c,u.raw):new _c(o,a,n,i,c,u.raw)}),xc=Dc("moof",dc),Bc=Dc("pssh",Lh);function Oc(t){return function(t){for(var n=new Cc,i=0,e=Va(t);i<e.length;i++){var r=e[i];Xa(r,"ftyp")?n.boxes.push(dh(r)):Xa(r,"styp")?n.boxes.push(kc(r)):Xa(r,"moov")?n.boxes.push(ic(r)):Xa(r,"moof")?n.boxes.push(dc(r)):Xa(r,"mdat")?n.boxes.push(Sh(r)):n.boxes.push(Qa(r))}return n}(new Ha(ja(t),new Ua))}var Lc=function(t){function n(n,i){var e;(e=t.call(this)||this).Pc=void 0,e.Bc=!1,e.Oc=void 0,e.xc=void 0,e.Lc=function(){e.Mc()},e.Uc=function(t){e.Qs(new Nu(Jt(e),t.messageType,ra(e.Xc,t.message)))},e.Fc=function(){e.Bc=!0,e.Pc.Cu>0&&(e.Pc.Nu(),e.Qs(new Du(Jt(e)))),e.Hc.removeEventListener("keystatuseschange",e.Lc),e.Hc.removeEventListener("message",e.Uc)},e.Hc=n,e.Xc=i,e.Hc.addEventListener("keystatuseschange",e.Lc),e.Hc.addEventListener("message",e.Uc),e.Pc=new Lu;var r=[];return e.Hc.closed&&r.push(qe.resolve(e.Hc.closed)),e.xc=new na,r.push(e.xc.Fu),e.Oc=qe.race(r).then(e.Fc,e.Fc),e.Mc(),e}E(n,t);var i=n.prototype;return i.zc=function(){if(this.Bc)return this.Oc;var t=[];return t.push(qe.resolve(this.Hc.close())),t.push(bu(1e3)),this.xc.Wu(qe.race(t).catch(Mc)),this.Bc=!0,this.Oc},i.Vc=function(t,n,i){if(j.fn){var e=Bc(Yo(n));if(1===e.version)n=new Bh(e.systemId,e.data).serialize().join()}return qe.resolve(this.Hc.generateRequest(t,n)).catch(Mc)},i.Wc=function(t){return qe.resolve(this.Hc.load(t)).catch(Mc)},i.Gc=function(){return qe.resolve(this.Hc.remove()).catch(Mc)},i.qc=function(t){return qe.resolve(this.Hc.update(t)).catch(Mc)},i.Mc=function(){var t=this;this.Pc.Nu(),this.Hc.keyStatuses.forEach(function(n,i){t.Yc(i,n)}),this.Qs(new Du(this))},i.Yc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Yo(t);if(this.Xc===ss&&16===e.byteLength){var r=qo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Xc===ss&&"status-pending"===n&&(n="usable"),this.Pc.Du(e,n)},T(n,[{key:"jc",get:function(){return this.Oc}},{key:"Qc",get:function(){return this.Hc.expiration}},{key:"Zc",get:function(){return this.Pc}},{key:"Kc",get:function(){return this.Hc.sessionId}}]),n}(Su);function Mc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|m(i[1],16))}throw new ua(t.message,void 0,n,t)}var jc=function(){function t(t,n,i){this.Jc=t,this.$c=n,this.nh=i}var n=t.prototype;return n.ih=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Lc(this.Jc.createSession(t),this.$c));case 1:case"end":return n.stop()}},null,this,null,qe)},n.eh=function(t){return qe.resolve(this.Jc.setServerCertificate(t))},n.rh=function(t){return qe.resolve(t.setMediaKeys(this.Jc))},n.sh=function(t){return qe.resolve(t.setMediaKeys(null))},t}(),Fc=function(){function t(t,n,i){this.uh=t,this.Xc=n,this.oh=i}var n=t.prototype;return n.ah=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.uh.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new jc(t,this.Xc,this.oh));case 4:case"end":return n.stop()}},null,this,null,qe)},n.hh=function(){return this.oh},T(t,[{key:"$c",get:function(){return this.uh.keySystem}}]),t}(),Uc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Hc(t){return ks(t,Uc.APPLICATION_MP4)||ks(t,Uc.VIDEO_MP4)||ks(t,Uc.AUDIO_MP4)}var Xc=function(){function t(t,n){this.fs=void 0,this.fh=void 0,this.fs=t,this.fh=n}return t.prototype.vh=function(t){for(var n=0,i=this.fh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function zc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Xc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Vc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Vc(r.substr(u));f&&s.push(f)}return new Xc(e,s)}function Vc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Wc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function qc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Is((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Gc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,lh:e.lh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return $c(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return $c(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function $c(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Qs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Wc(e.contentType))))}function Yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Qc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Zc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Kc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Kc))}function Kc(t){return!t.robustness}function Jc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Ur({},r,{robustness:n}))}return i}var tf=function(){function t(){}return t.prototype.Ss=function(t,n){var i,e,r,s,u,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.lh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Qc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Qc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Zc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Ur({},n=t,{videoCapabilities:n.videoCapabilities?Jc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Jc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Fr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Fc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Fr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Fc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],qe)},t.dh=function(){return xs()},t}(),nf=function(t){function n(n,i){var e;return(e=t.call(this)||this).Bc=!1,e.wh=void 0,e._h=void 0,e.gh=void 0,e.yh=void 0,e.kh=void 0,e.Fc=function(){e.Bc=!0,e.wh.Wu(void 0),e.kh&&(e.kh.removeEventListener("mskeyclose",e.Fc),e.kh.removeEventListener("mskeymessage",e.ph),e.kh.removeEventListener("mskeyerror",e.Ah),e.kh.removeEventListener("mskeyadded",e.Th))},e.ph=function(t){e.gh&&(e.gh.Wu(void 0),e.gh=void 0),e.Qs(new Nu(Jt(e),"license-request",Zo(t.message).buffer,t.destinationURL||void 0))},e.Ah=function(){var t=e.kh&&e.kh.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);if(e.gh)e.gh.Gu(n),e.gh=void 0;else if(e._h)e._h.Gu(n),e._h=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Sh("output-not-allowed");break;default:e.Sh("internal-error")}}},e.Th=function(){e.gh&&(e.Sh("usable"),e.gh.Wu(void 0),e.gh=void 0),e._h&&(e.Sh("usable"),e._h.Wu(void 0),e._h=void 0)},e.Eh=n,e.Ih=i,e.wh=new na,e.yh=new Lu,e}E(n,t);var i=n.prototype;return i.Vc=function(t,n,i){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),this.gh=new na,this.ih(Yo(n),i),t.next=5,Fr.awrap(this.gh.Fu);case 5:case"end":return t.stop()}},null,this,null,qe)},i.ih=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Dh;return(i=n?this.Eh.createSession(this.Ih,t,e):this.Eh.createSession(this.Ih,t)).addEventListener("mskeyclose",this.Fc),i.addEventListener("mskeymessage",this.ph),i.addEventListener("mskeyerror",this.Ah),i.addEventListener("mskeyadded",this.Th),this.kh=i,this.Sh("status-pending"),i},i.Wc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,qe)},i.qc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this._h=new na,this.Rh(),this.kh){i.next=4;break}return i.abrupt("return",qe.resolve());case 4:if(0!==(n=Yo(t)).byteLength){i.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.kh.update(n),i.next=10,Fr.awrap(this._h.Fu);case 10:case"end":return i.stop()}},null,this,null,qe)},i.zc=function(){return!this.Bc&&this.kh&&(this.Bc=!0,this.kh.close()),this.wh.Fu},i.Gc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,qe)},i.Rh=function(){if(this.Bc)throw new v("Already closing or closed.")},i.Sh=function(t){this.yh.Nu(),this.yh.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"Kc",get:function(){return this.kh&&this.kh.sessionId||""}},{key:"Qc",get:function(){return NaN}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Zc",get:function(){return this.yh}}]),n}(Su),ef=function(){function t(t,n,i){this.Ih=void 0,this.Eh=t,this.$c=n,this.nh=i;var e=Yc(i)||"video/mp4";this.Ih=Wc(e)}var n=t.prototype;return n.ih=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new nf(this.Eh,this.Ih));case 1:case"end":return t.stop()}},null,this,null,qe)},n.eh=function(t){return qe.resolve(!1)},n.rh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Eh):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Eh),t.removeEventListener("loadedmetadata",i)}),qe.resolve()},n.sh=function(t){return qe.resolve()},t}(),rf=function(){function t(t,n){this.Xc=t,this.Nh=n}var n=t.prototype;return n.hh=function(){return this.Nh},n.ah=function(){var t=new we.MSMediaKeys(this.Xc);return qe.resolve(new ef(t,this.Xc,this.Nh))},T(t,[{key:"$c",get:function(){return this.Xc}}]),t}(),sf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(function(t,n){if(!uf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(of,Ru,t,e);if(r)return new rf(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.dh=function(){return uf()},t}();function uf(){return void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported}function of(t,n){return we.MSMediaKeys.isTypeSupported(t,n)}var af,hf,cf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wh=new na,r.Ch=void 0,r.yh=new Lu,r.Ph=void 0,r.Bh=new na,r.Ah=function(){var t=r.Ph&&r.Ph.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);r.Ch?(r.Ch.Gu(n),r.Ch=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Sh("output-not-allowed"):r.Sh("internal-error"),r.Qs(new Pu)}},r.ph=function(t){r.Qs(new Nu(Jt(r),"license-request",Zo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Th=function(){r.Ch&&(r.Ch.Wu(void 0),r.Ch=void 0),r.Sh("usable")},r.Oh=n,r.Ih=i,r.Lh=e,r}E(n,t);var i=n.prototype;return i.Vc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Mh;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=ff(Yo(n),e,this.Lh);return this.Ph=this.Oh.createSession(this.Ih,r),this.Ph.addEventListener("webkitkeymessage",this.ph,!1),this.Ph.addEventListener("webkitkeyadded",this.Th,!1),this.Ph.addEventListener("webkitkeyerror",this.Ah,!1),this.Sh("status-pending"),this.Bh.Wu(this.Ph),this.Bh=new na,qe.resolve()},i.Wc=function(t){return qe.resolve(!0)},i.qc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Ch=new na,i.t0=this.Ph,i.t0){i.next=9;break}return i.next=8,Fr.awrap(this.Bh.Fu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Fr.awrap(this.Ch.Fu);case 13:case"end":return i.stop()}},null,this,null,qe)},i.zc=function(){var t,n=this.Ph;return n&&(n.removeEventListener("webkitkeymessage",this.ph,!1),n.removeEventListener("webkitkeyadded",this.Th,!1),n.removeEventListener("webkitkeyerror",this.Ah,!1),n.close()),this.Bh.Hs(),null==(t=this.Ch)||t.Hs(),this.wh.Wu(void 0),this.wh.Fu},i.Gc=function(){return qe.resolve(void 0)},i.Sh=function(t){this.yh.Nu(),this.yh.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"Kc",get:function(){return this.Ph?this.Ph.sessionId:""}},{key:"Qc",get:function(){return NaN}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Zc",get:function(){return this.yh}}]),n}(Su);function ff(t,n,i){var e=Ho(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Jo;return Ao(o,a,r,!0),Bo(o,a,e,!0),Ao(o,a,s,!0),Bo(o,a,n,!0),Ao(o,a,i.byteLength,!0),mo(o,a,i),new _(u)}n.ErrorCode=void 0,(af=n.ErrorCode||(n.ErrorCode={}))[af.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",af[af.LICENSE_ERROR=2e3]="LICENSE_ERROR",af[af.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",af[af.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",af[af.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",af[af.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",af[af.SOURCE_INVALID=3e3]="SOURCE_INVALID",af[af.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",af[af.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",af[af.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",af[af.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",af[af.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",af[af.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",af[af.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",af[af.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",af[af.MEDIA_ABORTED=5004]="MEDIA_ABORTED",af[af.NETWORK_ERROR=6e3]="NETWORK_ERROR",af[af.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",af[af.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",af[af.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",af[af.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",af[af.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",af[af.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",af[af.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",af[af.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",af[af.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",af[af.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",af[af.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",af[af.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",af[af.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",af[af.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",af[af.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",af[af.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",af[af.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",af[af.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",af[af.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",af[af.AD_ERROR=1e4]="AD_ERROR",af[af.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",af[af.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(hf=n.ErrorCategory||(n.ErrorCategory={}))[hf.CONFIGURATION=1]="CONFIGURATION",hf[hf.LICENSE=2]="LICENSE",hf[hf.SOURCE=3]="SOURCE",hf[hf.MANIFEST=4]="MANIFEST",hf[hf.MEDIA=5]="MEDIA",hf[hf.NETWORK=6]="NETWORK",hf[hf.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",hf[hf.SUBTITLE=8]="SUBTITLE",hf[hf.VR=9]="VR",hf[hf.AD=10]="AD",hf[hf.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=g.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var lf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(nn);var vf=function(){function t(t,n,i){this.Ih=void 0,this.Lh=void 0,this.Oh=t,this.$c=n,this.nh=i;var e=Yc(i)||"video/mp4";this.Ih=Wc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Oh},i.ih=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new cf(this.Oh,this.Ih,this.Lh));case 3:case"end":return t.stop()}},null,this,null,qe)},i.eh=function(t){return this.Lh=Yo(t),qe.resolve(!0)},i.rh=function(t){return t.webkitSetMediaKeys(this.Oh),qe.resolve()},i.sh=function(t){return t.webkitSetMediaKeys(null),qe.resolve()},t}(),df=function(){function t(t,n){this.Xc=t,this.Nh=n}var n=t.prototype;return n.hh=function(){return this.Nh},n.ah=function(){var t=new we.WebKitMediaKeys(this.Xc);return qe.resolve(new vf(t,this.Xc,this.Nh))},T(t,[{key:"$c",get:function(){return this.Xc}}]),t}(),wf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(function(t,n){if(t!==ls)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!gf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(mf,Cu,t,e);if(r)return new df(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.dh=function(){return gf()},t}();function gf(){return void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported}function mf(t,n){return we.WebKitMediaKeys.isTypeSupported(t,n)}var yf,pf=function(){function t(t){this.Uh=t}return t.prototype.Ss=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Uh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Fr.awrap(r.Ss(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new v("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],qe)},t}(),_f=function(t){function n(n){var i;return(i=t.call(this)||this).gh=void 0,i.Ch=void 0,i.wh=void 0,i.do=!1,i.Xh=void 0,i.Fh=void 0,i.Hh=void 0,i.Vh=void 0,i.Wh=void 0,i.Xc=n,i.wh=new na,i.Fh="",i.Wh=new na,i.Hh=new Lu,i}E(n,t);var i=n.prototype;return i.Gh=function(){this.Ch&&(this.Sh("usable"),this.Ch.Wu(void 0),this.Ch=void 0)},i.qh=function(t){var n=new ua("Unknown CDM error",t.errorCode,t.systemCode);this.Ch?(this.Ch.Gu(n),this.Ch=void 0):this.gh?(this.gh.Gu(n),this.gh=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Sh("output-restricted"):1===n.ju?this.Sh("expired"):this.Sh("internal-error")},i.Yh=function(t){0!==t.message.byteLength&&(this.gh&&(this.gh.Wu(void 0),this.gh=void 0),this.Qs(new Nu(this,"license-request",ra(this.Xc,Zo(t.message).buffer),t.defaultURL||void 0)))},i.jh=function(t){this.Vh||(this.Vh=t,this.Wh.Wu(t))},i.zc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.do=!0,this.wh.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,qe)},i.Vc=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.gh=new na,this.Xh=Yo(n),t.t0=this.Vh,t.t0){t.next=8;break}return t.next=7,Fr.awrap(this.Wh.Fu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Xc,this.Xh),t.next=12,Fr.awrap(this.gh.Fu);case 12:case"end":return t.stop()}},null,this,null,qe)},i.Wc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,qe)},i.Gc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,qe)},i.qc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Ch=new na,n.t0=this.Vh,n.t0){n.next=7;break}return n.next=6,Fr.awrap(this.Wh.Fu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Xc,Yo(t),this.Xh,this.Kc),n.next=11,Fr.awrap(this.Ch.Fu);case 11:case"end":return n.stop()}},null,this,null,qe)},i.throwIfClosed=function(){if(this.do)throw new v("Already closing or closed.")},i.Sh=function(t){this.Hh.Nu(),this.Hh.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"Zc",get:function(){return this.Hh}},{key:"Kc",get:function(){return this.Fh},set:function(t){this.Fh=t}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Qc",get:function(){return NaN}}]),n}(Su),bf=function(){function t(t,n){var i=this;this.Vh=void 0,this.Qh=Xr(),this.Zh=[],this.Th=function(t){var n=i.Kh(t.sessionId);n&&n.Gh()},this.Jh=function(t){var n=i.Kh(t.sessionId);n&&n.qh(t)},this.$h=function(t){var n=i.Kh(t.sessionId);n&&n.Yh(t)},this.$c=t,this.nh=n}var n=t.prototype;return n.rh=function(t){return this.Vh=t,this.Vh.addEventListener("webkitkeyadded",this.Th),this.Vh.addEventListener("webkitkeyerror",this.Jh),this.Vh.addEventListener("webkitkeymessage",this.$h),this.Qh.forEach(function(n,i){return n.jh(t)}),this.Zh.forEach(function(n){return n.jh(t)}),qe.resolve()},n.sh=function(t){return t.removeEventListener("webkitkeyadded",this.Th),t.removeEventListener("webkitkeyerror",this.Jh),t.removeEventListener("webkitkeymessage",this.$h),this.Vh=void 0,qe.resolve()},n.ih=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _f(this.$c),this.Vh&&e.jh(this.Vh),this.Zh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,qe)},n.eh=function(t){return qe.resolve(!1)},n.Kh=function(t){if(t){var n=this.Qh.get(t);return n||((n=this.Zh.shift())?(n.Kc=t,this.Qh.set(t,n),n):void 0)}},t}(),kf=function(){function t(t,n){this.$c=t,this.tf=n}var n=t.prototype;return n.ah=function(){return qe.resolve(new bf(this.$c,this.tf))},n.hh=function(){return this.tf},t}(),Af=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(Tf(t,n))}catch(t){return qe.reject(t)}},t.dh=function(){return Bs()},t}();function Tf(t,n){if(!Af.dh())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(Sf,Ru,t,e);if(r)return new kf(t,r)}throw new v("Unsupported key system configuration for "+t)}function Sf(t,n){var i=wr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ef(){return yf||(yf=function(){var t=[];wf.dh()&&t.push(new wf);tf.dh()&&t.push(new tf);sf.dh()&&t.push(new sf);Af.dh()&&t.push(new Af);return new pf(t)}()),yf}var If=function(){function t(){this.nf=Xr()}var n=t.prototype;return n.Nu=function(t){this.nf.delete(t)},n.if=function(){this.nf.clear()},n.Iu=function(t){return this.nf.get(t)},n.ef=function(t,n){this.nf.set(t,n)},t}(),Rf=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=Cf.dh()?new Cf:new If),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t}();Rf.Yn=void 0;var Cf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.dh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Nu=function(n){t.sessionStorage.removeItem(n)},e.if=function(){t.sessionStorage.clear()},e.Iu=function(n){return t.sessionStorage[n]},e.ef=function(n,i){t.sessionStorage[n]=i},i}(Rf);var Df=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Nf(t,n,i){var e=Df([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Pf,xf;!function(t){t.sf="uf",t.cf="hf",t.vf="contentprotectionerror",t.lf="contentprotectionsuccess",t.df="currentsourcechange",t.wf="destroy",t._f="durationchange",t.gf="emptied",t.yu="encrypted",t.mf="ended",t.yf="kf",t.bf="loadstart",t.pf="manifestupdate",t.Af="nosupportedrepresentationfound",t.Tf="offline",t.Sf="online",t.Ef="pause",t.If="play",t.Rf="progress",t.Df="ratechange",t.Nf="representationchange",t.Cf="resize",t.Pf="seeked",t.Bf="seeking",t.Of="segmentnotfound",t.xf="Lf",t.Mf="Uf",t.Xf="sourcechange",t.Ff="timeupdate",t.Hf="volumechange",t.zf="Vf",t.Wf="metricschange"}(Pf||(Pf={})),function(t){t.Gf="arraybuffer",t.qf="json",t.Yf="stream",t.$n="text"}(xf||(xf={}));var Bf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&w.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Of(i),e=Lf(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Of(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Of(i)).toLowerCase();this.Kr[e]=[i,Lf(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Of(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Lf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function jf(){}var Ff=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Uf(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Hf=jf,Xf=qe,zf=qe.prototype.then,Vf=qe.resolve.bind(Xf),Wf=qe.reject.bind(Xf);function qf(t){return new Xf(t)}function Gf(t){return Vf(t)}function $f(t){return Wf(t)}function Yf(t,n,i){return zf.call(t,n,i)}function Qf(t,n,i){Yf(Yf(t,n,i),void 0,Hf)}function Zf(t,n){Qf(t,n)}function Kf(t,n){Qf(t,void 0,n)}function Jf(t,n,i){return Yf(t,n,i)}function tl(t){Yf(t,void 0,Hf)}var nl=function(){var t=Ff&&Ff.queueMicrotask;if("function"==typeof t)return t;var n=Gf(void 0);return function(t){return Yf(n,t)}}();function il(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function el(t,n,i){try{return Gf(il(t,n,i))}catch(t){return $f(t)}}var rl=function(){function t(){this.Kf=0,this.Jf=0,this.Ee={$f:[],tv:void 0},this.ev=this.Ee,this.Kf=0,this.Jf=0}return w.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.ev,i=n;16383===n.$f.length&&(i={$f:[],tv:void 0}),n.$f.push(t),i!==n&&(this.ev=i,n.tv=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Kf,e=i+1,r=t.$f,s=r[i];return 16384===e&&(n=t.tv,e=0),--this.Jf,this.Kf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ee,e=i.$f;!(n===e.length&&void 0===i.tv||n===e.length&&(n=0,0===(e=(i=i.tv).$f).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Kf;return t.$f[n]},t}();function sl(t,n){t.rv=n,n.uv=t,"readable"===n.me?hl(t):"closed"===n.me?function(t){hl(t),ll(t)}(t):cl(t,n.ov)}function ul(t,n){return ow(t.rv,n)}function ol(t){"readable"===t.rv.me?fl(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){cl(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.rv.uv=void 0,t.rv=void 0}function al(t){return new v("Cannot "+t+" a stream using a released reader")}function hl(t){t.Oc=qf(function(n,i){t.hv=n,t.fv=i})}function cl(t,n){hl(t),fl(t,n)}function fl(t,n){void 0!==t.fv&&(tl(t.Oc),t.fv(n),t.hv=void 0,t.fv=void 0)}function ll(t){void 0!==t.hv&&(t.hv(void 0),t.hv=void 0,t.fv=void 0)}var vl=Mf("[[AbortSteps]]"),dl=Mf("[[ErrorSteps]]"),wl=Mf("[[CancelSteps]]"),gl=Mf("[[PullSteps]]"),ml=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},yl=g.trunc||function(t){return t<0?g.ceil(t):g.floor(t)};function pl(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new v(n+" is not an object.");var i}function _l(t,n){if("function"!=typeof t)throw new v(n+" is not a function.")}function bl(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new v(n+" is not an object.")}function kl(t,n,i){if(void 0===t)throw new v("Parameter "+n+" is required in '"+i+"'.")}function Al(t,n,i){if(void 0===t)throw new v(n+" is required in '"+i+"'.")}function Tl(t){return Number(t)}function Sl(t){return 0===t?0:t}function El(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Sl(e),!ml(e))throw new v(n+" is not a finite number");if((e=function(t){return Sl(yl(t))}(e))<0||e>i)throw new v(n+" is outside the accepted range of 0 to "+i+", inclusive");return ml(e)&&0!==e?e:0}function Il(t,n){if(!sw(t))throw new v(n+" is not a ReadableStream.")}function Rl(t){return new Ol(t)}function Cl(t,n){t.uv.vv.push(n)}function Dl(t,n,i){var e=t.uv.vv.shift();i?e.wv():e._v(n)}function Nl(t){return t.uv.vv.length}function Pl(t){var n=t.uv;return void 0!==n&&!!Ll(n)}var xl,Bl,Ol=function(){function t(t){if(kl(t,1,"ReadableStreamDefaultReader"),Il(t,"First parameter"),uw(t))throw new v("This stream has already been locked for exclusive reading by another reader");sl(this,t),this.vv=new rl}return w.defineProperty(t.prototype,"closed",{get:function(){return Ll(this)?this.Oc:$f(jl("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Ll(this)?void 0===this.rv?$f(al("cancel")):ul(this,t):$f(jl("cancel"))},t.prototype.read=function(){if(!Ll(this))return $f(jl("read"));if(void 0===this.rv)return $f(al("read from"));var t,n,i=qf(function(i,e){t=i,n=e});return Ml(this,{_v:function(n){return t({value:n,done:!1})},wv:function(){return t({value:void 0,done:!0})},mv:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Ll(this))throw jl("releaseLock");if(void 0!==this.rv){if(this.vv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ol(this)}},t}();function Ll(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"vv")&&t instanceof Ol)}function Ml(t,n){var i=t.rv;i.yv=!0,"closed"===i.me?n.wv():"errored"===i.me?n.mv(i.ov):i.bv[gl](n)}function jl(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}w.defineProperties(Ol.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Ol.prototype,Mf.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Mf.asyncIterator&&((xl={})[Mf.asyncIterator]=function(){return this},Bl=xl,w.defineProperty(Bl,Mf.asyncIterator,{enumerable:!1}));var Fl=function(){function t(t,n){this.pv=void 0,this.Av=!1,this.uv=t,this.Tv=n}return t.prototype.next=function(){var t=this,n=function(){return t.Sv()};return this.pv=this.pv?Jf(this.pv,n,n):n(),this.pv},t.prototype.return=function(t){var n=this,i=function(){return n.Ev(t)};return this.pv?Jf(this.pv,i,i):i()},t.prototype.Sv=function(){var t=this;if(this.Av)return qe.resolve({value:void 0,done:!0});var n,i,e=this.uv;if(void 0===e.rv)return $f(al("iterate"));var r=qf(function(t,e){n=t,i=e});return Ml(e,{_v:function(i){t.pv=void 0,nl(function(){return n({value:i,done:!1})})},wv:function(){t.pv=void 0,t.Av=!0,ol(e),n({value:void 0,done:!0})},mv:function(n){t.pv=void 0,t.Av=!0,ol(e),i(n)}}),r},t.prototype.Ev=function(t){if(this.Av)return qe.resolve({value:t,done:!0});this.Av=!0;var n=this.uv;if(void 0===n.rv)return $f(al("finish iterating"));if(!this.Tv){var i=ul(n,t);return ol(n),Jf(i,function(){return{value:t,done:!0}})}return ol(n),Gf({value:t,done:!0})},t}(),Ul={next:function(){return Hl(this)?this.Iv.next():$f(Xl("next"))},return:function(t){return Hl(this)?this.Iv.return(t):$f(Xl("return"))}};function Hl(t){if(!Uf(t))return!1;if(!w.prototype.hasOwnProperty.call(t,"Iv"))return!1;try{return t.Iv instanceof Fl}catch(t){return!1}}function Xl(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Bl&&w.setPrototypeOf(Ul,Bl);var zl=Number.isNaN||function(t){return t!=t};function Vl(t){return t.slice()}function Wl(t,n,i,e,r){new _(t).set(new _(i,e,r),n)}function ql(t){return t}function Gl(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Wl(r,0,t,n,e),r}function $l(t){var n=Gl(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new _(n)}function Yl(t){var n=t.Rv.shift();return t.Dv-=n.size,t.Dv<0&&(t.Dv=0),n.value}function Ql(t,n,i){if("number"!=typeof(e=i)||zl(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Rv.push({value:n,size:i}),t.Dv+=i}function Zl(t){t.Rv=new rl,t.Dv=0}var Kl=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"view",{get:function(){if(!nv(this))throw Av("view");return this.Nv},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!nv(this))throw Av("respond");if(kl(t,1,"respond"),t=El(t,"First parameter"),void 0===this.Cv)throw new v("This BYOB request has been invalidated");this.Nv.buffer,_v(this.Cv,t)},t.prototype.respondWithNewView=function(t){if(!nv(this))throw Av("respondWithNewView");if(kl(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");if(void 0===this.Cv)throw new v("This BYOB request has been invalidated");t.buffer,bv(this.Cv,t)},t}();w.defineProperties(Kl.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Kl.prototype,Mf.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Jl=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"byobRequest",{get:function(){if(!tv(this))throw Tv("byobRequest");return yv(this)},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!tv(this))throw Tv("desiredSize");return pv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!tv(this))throw Tv("close");if(this.Pv)throw new v("The stream has already been closed; do not close it again!");var t=this.Bv.me;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");wv(this)},t.prototype.enqueue=function(t){if(!tv(this))throw Tv("enqueue");if(kl(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new v("chunk must be an array buffer view");if(0===t.byteLength)throw new v("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new v("chunk's buffer must have non-zero byteLength");if(this.Pv)throw new v("stream is closed or draining");var n=this.Bv.me;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");gv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!tv(this))throw Tv("error");mv(this,t)},t.prototype[wl]=function(t){ev(this),Zl(this);var n=this.Ov(t);return dv(this),n},t.prototype[gl]=function(t){var n=this.Bv;if(this.Dv>0){var i=this.Rv.shift();this.Dv-=i.byteLength,hv(this);var e=new _(i.buffer,i.byteOffset,i.byteLength);t._v(e)}else{var r=this.xv;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.mv(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:_,readerType:"default"};this.Lv.push(u)}Cl(n,t),iv(this)}},t}();function tv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Bv")&&t instanceof Jl)}function nv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Cv")&&t instanceof Kl)}function iv(t){(function(t){var n=t.Bv;if("readable"!==n.me)return!1;if(t.Pv)return!1;if(!t.Mv)return!1;if(Pl(n)&&Nl(n)>0)return!0;if(Rv(n)&&Iv(n)>0)return!0;if(pv(t)>0)return!0;return!1})(t)&&(t.Uv?t.Xv=!0:(t.Uv=!0,Qf(t.Fv(),function(){t.Uv=!1,t.Xv&&(t.Xv=!1,iv(t))},function(n){mv(t,n)})))}function ev(t){cv(t),t.Lv=new rl}function rv(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=sv(n);"default"===n.readerType?Dl(t,e,i):function(t,n,i){var e=t.uv.Hv.shift();i?e.wv(n):e._v(n)}(t,e,i)}function sv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function uv(t,n,i,e){t.Rv.push({buffer:n,byteOffset:i,byteLength:e}),t.Dv+=e}function ov(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=g.min(t.Dv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h=t.Rv;o>0;){var c=h.peek(),f=g.min(o,c.byteLength),l=n.byteOffset+n.bytesFilled;Wl(n.buffer,l,c.buffer,c.byteOffset,f),c.byteLength===f?h.shift():(c.byteOffset+=f,c.byteLength-=f),t.Dv-=f,av(t,f,n),o-=f}return a}function av(t,n,i){i.bytesFilled+=n}function hv(t){0===t.Dv&&t.Pv?(dv(t),aw(t.Bv)):iv(t)}function cv(t){null!==t.zv&&(t.zv.Cv=void 0,t.zv.Nv=null,t.zv=null)}function fv(t){for(;t.Lv.length>0;){if(0===t.Dv)return;var n=t.Lv.peek();ov(t,n)&&(vv(t),rv(t.Bv,n))}}function lv(t,n){var i=t.Lv.peek();cv(t),"closed"===t.Bv.me?function(t,n){var i=t.Bv;if(Rv(i))for(;Iv(i)>0;)rv(i,vv(t))}(t):function(t,n,i){if(av(0,n,i),!(i.bytesFilled<i.elementSize)){vv(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Gl(i.buffer,r-e,r);uv(t,s,0,s.byteLength)}i.bytesFilled-=e,rv(t.Bv,i),fv(t)}}(t,n,i),iv(t)}function vv(t){return t.Lv.shift()}function dv(t){t.Fv=void 0,t.Ov=void 0}function wv(t){var n=t.Bv;if(!t.Pv&&"readable"===n.me)if(t.Dv>0)t.Pv=!0;else{if(t.Lv.length>0)if(t.Lv.peek().bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw mv(t,i),i}dv(t),aw(n)}}function gv(t,n){var i=t.Bv;if(!t.Pv&&"readable"===i.me){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=ql(e);if(t.Lv.length>0){var o=t.Lv.peek();o.buffer,0,o.buffer=ql(o.buffer)}if(cv(t),Pl(i))if(0===Nl(i))uv(t,u,r,s);else t.Lv.length>0&&vv(t),Dl(i,new _(u,r,s),!1);else Rv(i)?(uv(t,u,r,s),fv(t)):uv(t,u,r,s);iv(t)}}function mv(t,n){var i=t.Bv;"readable"===i.me&&(ev(t),Zl(t),dv(t),hw(i,n))}function yv(t){if(null===t.zv&&t.Lv.length>0){var n=t.Lv.peek(),i=new _(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=w.create(Kl.prototype);!function(t,n,i){t.Cv=n,t.Nv=i}(e,t,i),t.zv=e}return t.zv}function pv(t){var n=t.Bv.me;return"errored"===n?null:"closed"===n?0:t.Vv-t.Dv}function _v(t,n){var i=t.Lv.peek();if("closed"===t.Bv.me){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new v("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=ql(i.buffer),lv(t,n)}function bv(t,n){var i=t.Lv.peek();if("closed"===t.Bv.me){if(0!==n.byteLength)throw new v("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new v("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=ql(n.buffer),lv(t,e)}function kv(t,n,i,e,r,s,u){n.Bv=t,n.Xv=!1,n.Uv=!1,n.zv=null,n.Rv=n.Dv=void 0,Zl(n),n.Pv=!1,n.Mv=!1,n.Vv=s,n.Fv=e,n.Ov=r,n.xv=u,n.Lv=new rl,t.bv=n,Qf(Gf(i()),function(){n.Mv=!0,iv(n)},function(t){mv(n,t)})}function Av(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Tv(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Sv(t){return new Cv(t)}function Ev(t,n){t.uv.Hv.push(n)}function Iv(t){return t.uv.Hv.length}function Rv(t){var n=t.uv;return void 0!==n&&!!Dv(n)}w.defineProperties(Jl.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Jl.prototype,Mf.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Cv=function(){function t(t){if(kl(t,1,"ReadableStreamBYOBReader"),Il(t,"First parameter"),uw(t))throw new v("This stream has already been locked for exclusive reading by another reader");if(!tv(t.bv))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");sl(this,t),this.Hv=new rl}return w.defineProperty(t.prototype,"closed",{get:function(){return Dv(this)?this.Oc:$f(Pv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Dv(this)?void 0===this.rv?$f(al("cancel")):ul(this,t):$f(Pv("cancel"))},t.prototype.read=function(t){if(!Dv(this))return $f(Pv("read"));if(!ArrayBuffer.isView(t))return $f(new v("view must be an array buffer view"));if(0===t.byteLength)return $f(new v("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return $f(new v("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.rv)return $f(al("read from"));var n,i,e=qf(function(t,e){n=t,i=e});return Nv(this,t,{_v:function(t){return n({value:t,done:!1})},wv:function(t){return n({value:t,done:!0})},mv:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Dv(this))throw Pv("releaseLock");if(void 0!==this.rv){if(this.Hv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ol(this)}},t}();function Dv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Hv")&&t instanceof Cv)}function Nv(t,n,i){var e=t.rv;e.yv=!0,"errored"===e.me?i.mv(e.ov):function(t,n,i){var e=t.Bv,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=ql(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Lv.length>0)return t.Lv.push(o),void Ev(e,i);if("closed"!==e.me){if(t.Dv>0){if(ov(t,o)){var a=sv(o);return hv(t),void i._v(a)}if(t.Pv){var h=new v("Insufficient bytes to fill elements in the given buffer");return mv(t,h),void i.mv(h)}}t.Lv.push(o),Ev(e,i),iv(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.wv(c)}}(e.bv,n,i)}function Pv(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function xv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(zl(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Bv(t){var n=t.size;return n||function(){return 1}}function Ov(t,n){pl(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:Tl(i),size:void 0===e?void 0:Lv(e,n+" has member 'size' that")}}function Lv(t,n){return _l(t,n),function(n){return Tl(t(n))}}function Mv(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function jv(t,n,i){return _l(t,i),function(){return el(t,n,[])}}function Fv(t,n,i){return _l(t,i),function(i){return il(t,n,[i])}}function Uv(t,n,i){return _l(t,i),function(i,e){return el(t,n,[i,e])}}function Hv(t,n){if(!qv(t))throw new v(n+" is not a WritableStream.")}w.defineProperties(Cv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Cv.prototype,Mf.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Xv="function"==typeof AbortController;var zv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:bl(t,"First parameter");var i=Ov(n,"Second parameter"),e=function(t,n){pl(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Mv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:jv(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Fv(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Uv(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Wv(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Bv(i);!function(t,n,i,e){var r=w.create(cd.prototype),s=function(){},u=function(){return Gf(void 0)},o=function(){return Gf(void 0)},a=function(){return Gf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(a=function(t){return n.abort(t)});ld(t,r,s,u,o,a,i,e)}(this,e,xv(i,1),r)}return w.defineProperty(t.prototype,"locked",{get:function(){if(!qv(this))throw pd("locked");return Gv(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),qv(this)?Gv(this)?$f(new v("Cannot abort a stream that already has a writer")):$v(this,t):$f(pd("abort"))},t.prototype.close=function(){return qv(this)?Gv(this)?$f(new v("Cannot close a stream that already has a writer")):Jv(this)?$f(new v("Cannot close an already-closing stream")):Yv(this):$f(pd("close"))},t.prototype.getWriter=function(){if(!qv(this))throw pd("getWriter");return Vv(this)},t}();function Vv(t){return new id(t)}function Wv(t){t.me="writable",t.ov=void 0,t.Ao=void 0,t.Wv=void 0,t.Gv=new rl,t.qv=void 0,t.Yv=void 0,t.Qv=void 0,t.Zv=void 0,t.Kv=!1}function qv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Wv")&&t instanceof zv)}function Gv(t){return void 0!==t.Ao}function $v(t,n){var i;if("closed"===t.me||"errored"===t.me)return Gf(void 0);t.Wv.Jv=n,null===(i=t.Wv.$v)||void 0===i||i.abort();var e=t.me;if("closed"===e||"errored"===e)return Gf(void 0);if(void 0!==t.Zv)return t.Zv.il;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=qf(function(i,e){t.Zv={il:void 0,Hu:i,Vu:e,ul:n,ol:r}});return t.Zv.il=s,r||Zv(t,n),s}function Yv(t){var n=t.me;if("closed"===n||"errored"===n)return $f(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=qf(function(n,i){var e={Hu:n,Vu:i};t.Yv=e}),r=t.Ao;return void 0!==r&&t.Kv&&"writable"===n&&Nd(r),Ql(i=t.Wv,hd,0),wd(i),e}function Qv(t,n){"writable"!==t.me?Kv(t):Zv(t,n)}function Zv(t,n){var i=t.Wv;t.me="erroring",t.ov=n;var e=t.Ao;void 0!==e&&ud(e,n),!function(t){if(void 0===t.qv&&void 0===t.Qv)return!1;return!0}(t)&&i.Mv&&Kv(t)}function Kv(t){t.me="errored",t.Wv[dl]();var n=t.ov;if(t.Gv.forEach(function(t){t.Vu(n)}),t.Gv=new rl,void 0!==t.Zv){var i=t.Zv;if(t.Zv=void 0,i.ol)return i.Vu(n),void td(t);Qf(t.Wv[vl](i.ul),function(){i.Hu(),td(t)},function(n){i.Vu(n),td(t)})}else td(t)}function Jv(t){return void 0!==t.Yv||void 0!==t.Qv}function td(t){void 0!==t.Yv&&(t.Yv.Vu(t.ov),t.Yv=void 0);var n=t.Ao;void 0!==n&&Sd(n,t.ov)}function nd(t,n){var i=t.Ao;void 0!==i&&n!==t.Kv&&(n?function(t){Id(t)}(i):Nd(i)),t.Kv=n}w.defineProperties(zv.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(zv.prototype,Mf.toStringTag,{value:"WritableStream",configurable:!0});var id=function(){function t(t){if(kl(t,1,"WritableStreamDefaultWriter"),Hv(t,"First parameter"),Gv(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.al=t,t.Ao=this;var n,i=t.me;if("writable"===i)!Jv(t)&&t.Kv?Id(this):Cd(this),Ad(this);else if("erroring"===i)Rd(this,t.ov),Ad(this);else if("closed"===i)Cd(this),Ad(n=this),Ed(n);else{var e=t.ov;Rd(this,e),Td(this,e)}}return w.defineProperty(t.prototype,"closed",{get:function(){return ed(this)?this.Oc:$f(bd("closed"))},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ed(this))throw bd("desiredSize");if(void 0===this.al)throw kd("desiredSize");return function(t){var n=t.al,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return dd(n.Wv)}(this)},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ready",{get:function(){return ed(this)?this.cl:$f(bd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ed(this)?void 0===this.al?$f(kd("abort")):function(t,n){return $v(t.al,n)}(this,t):$f(bd("abort"))},t.prototype.close=function(){if(!ed(this))return $f(bd("close"));var t=this.al;return void 0===t?$f(kd("close")):Jv(t)?$f(new v("Cannot close an already-closing stream")):rd(this)},t.prototype.releaseLock=function(){if(!ed(this))throw bd("releaseLock");void 0!==this.al&&od(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),ed(this)?void 0===this.al?$f(kd("write to")):ad(this,t):$f(bd("write"))},t}();function ed(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"al")&&t instanceof id)}function rd(t){return Yv(t.al)}function sd(t,n){"pending"===t.hl?Sd(t,n):function(t,n){Td(t,n)}(t,n)}function ud(t,n){"pending"===t.fl?Dd(t,n):function(t,n){Rd(t,n)}(t,n)}function od(t){var n=t.al,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");ud(t,i),sd(t,i),n.Ao=void 0,t.al=void 0}function ad(t,n){var i=t.al,e=i.Wv,r=function(t,n){try{return t.vl(n)}catch(n){return gd(t,n),1}}(e,n);if(i!==t.al)return $f(kd("write to"));var s=i.me;if("errored"===s)return $f(i.ov);if(Jv(i)||"closed"===s)return $f(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return $f(i.ov);var u=function(t){return qf(function(n,i){var e={Hu:n,Vu:i};t.Gv.push(e)})}(i);return function(t,n,i){try{Ql(t,n,i)}catch(n){return void gd(t,n)}var e=t.ll;if(!Jv(e)&&"writable"===e.me){var r=md(t);nd(e,r)}wd(t)}(e,n,r),u}w.defineProperties(id.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(id.prototype,Mf.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var hd={},cd=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"abortReason",{get:function(){if(!fd(this))throw _d("abortReason");return this.Jv},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"signal",{get:function(){if(!fd(this))throw _d("signal");if(void 0===this.$v)throw new v("WritableStreamDefaultController.prototype.signal is not supported");return this.$v.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!fd(this))throw _d("error");"writable"===this.ll.me&&yd(this,t)},t.prototype[vl]=function(t){var n=this.dl(t);return vd(this),n},t.prototype[dl]=function(){Zl(this)},t}();function fd(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"ll")&&t instanceof cd)}function ld(t,n,i,e,r,s,u,o){n.ll=t,t.Wv=n,n.Rv=void 0,n.Dv=void 0,Zl(n),n.Jv=void 0,n.$v=function(){if(Xv)return new AbortController}(),n.Mv=!1,n.vl=o,n.Vv=u,n.wl=e,n._l=r,n.dl=s;var a=md(n);nd(t,a),Qf(Gf(i()),function(){n.Mv=!0,wd(n)},function(i){n.Mv=!0,Qv(t,i)})}function vd(t){t.wl=void 0,t._l=void 0,t.dl=void 0,t.vl=void 0}function dd(t){return t.Vv-t.Dv}function wd(t){var n=t.ll;if(t.Mv&&void 0===n.qv)if("erroring"!==n.me){if(0!==t.Rv.length){var i=t.Rv.peek().value;i===hd?function(t){var n=t.ll;(function(t){t.Qv=t.Yv,t.Yv=void 0})(n),Yl(t);var i=t._l();vd(t),Qf(i,function(){!function(t){t.Qv.Hu(void 0),t.Qv=void 0,"erroring"===t.me&&(t.ov=void 0,void 0!==t.Zv&&(t.Zv.Hu(),t.Zv=void 0)),t.me="closed";var n=t.Ao;void 0!==n&&Ed(n)}(n)},function(t){!function(t,n){t.Qv.Vu(n),t.Qv=void 0,void 0!==t.Zv&&(t.Zv.Vu(n),t.Zv=void 0),Qv(t,n)}(n,t)})}(t):function(t,n){var i=t.ll;(function(t){t.qv=t.Gv.shift()})(i),Qf(t.wl(n),function(){!function(t){t.qv.Hu(void 0),t.qv=void 0}(i);var n=i.me;if(Yl(t),!Jv(i)&&"writable"===n){var e=md(t);nd(i,e)}wd(t)},function(n){"writable"===i.me&&vd(t),function(t,n){t.qv.Vu(n),t.qv=void 0,Qv(t,n)}(i,n)})}(t,i)}}else Kv(n)}function gd(t,n){"writable"===t.ll.me&&yd(t,n)}function md(t){return dd(t)<=0}function yd(t,n){var i=t.ll;vd(t),Zv(i,n)}function pd(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function _d(t){return new v("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function bd(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function kd(t){return new v("Cannot "+t+" a stream using a released writer")}function Ad(t){t.Oc=qf(function(n,i){t.hv=n,t.fv=i,t.hl="pending"})}function Td(t,n){Ad(t),Sd(t,n)}function Sd(t,n){void 0!==t.fv&&(tl(t.Oc),t.fv(n),t.hv=void 0,t.fv=void 0,t.hl="rejected")}function Ed(t){void 0!==t.hv&&(t.hv(void 0),t.hv=void 0,t.fv=void 0,t.hl="resolved")}function Id(t){t.cl=qf(function(n,i){t.yl=n,t.bl=i}),t.fl="pending"}function Rd(t,n){Id(t),Dd(t,n)}function Cd(t){Id(t),Nd(t)}function Dd(t,n){void 0!==t.bl&&(tl(t.cl),t.bl(n),t.yl=void 0,t.bl=void 0,t.fl="rejected")}function Nd(t){void 0!==t.yl&&(t.yl(void 0),t.yl=void 0,t.bl=void 0,t.fl="fulfilled")}w.defineProperties(cd.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(cd.prototype,Mf.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Pd="undefined"!=typeof DOMException?DOMException:void 0;var xd,Bd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Pd)?Pd:((xd=function(t,n){this.message=t||"",this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),w.defineProperty(xd.prototype,"constructor",{value:xd,writable:!0,configurable:!0}),xd);function Od(t,n,i,e,r,s){var u=Rl(t),o=Vv(n);t.yv=!0;var a=!1,h=Gf(void 0);return qf(function(c,f){var l,d,w,g;if(void 0!==s){if(l=function(){var i=new Bd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.me?$v(n,i):Gf(void 0)}),r||s.push(function(){return"readable"===t.me?ow(t,i):Gf(void 0)}),_(function(){return qe.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void l();s.addEventListener("abort",l)}if(p(t,u.Oc,function(t){e?b(!0,t):_(function(){return $v(n,t)},!0,t)}),p(n,o.Oc,function(n){r?b(!0,n):_(function(){return ow(t,n)},!0,n)}),d=t,w=u.Oc,g=function(){i?b():_(function(){return function(t){var n=t.al,i=n.me;return Jv(n)||"closed"===i?Gf(void 0):"errored"===i?$f(n.ov):rd(t)}(o)})},"closed"===d.me?g():Zf(w,g),Jv(n)||"closed"===n.me){var m=new v("the destination writable stream closed before all data could be piped to it");r?b(!0,m):_(function(){return ow(t,m)},!0,m)}function y(){var t=h;return Yf(h,function(){return t!==h?y():void 0})}function p(t,n,i){"errored"===t.me?i(t.ov):Kf(n,i)}function _(t,i,e){function r(){Qf(t(),function(){return k(i,e)},function(t){return k(!0,t)})}a||(a=!0,"writable"!==n.me||Jv(n)?r():Zf(y(),r))}function b(t,i){a||(a=!0,"writable"!==n.me||Jv(n)?k(t,i):Zf(y(),function(){return k(t,i)}))}function k(t,n){od(o),ol(u),void 0!==s&&s.removeEventListener("abort",l),t?f(n):c(void 0)}tl(qf(function(t,n){!function i(e){e?t():Yf(a?Gf(!0):Yf(o.cl,function(){return qf(function(t,n){Ml(u,{_v:function(n){h=Yf(ad(o,n),void 0,jf),t(!1)},wv:function(){return t(!0)},mv:n})})}),i,n)}(!1)}))})}var Ld=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Md(this))throw Gd("desiredSize");return Vd(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Md(this))throw Gd("close");if(!Wd(this))throw new v("The stream is not in a state that permits close");Hd(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Md(this))throw Gd("enqueue");if(!Wd(this))throw new v("The stream is not in a state that permits enqueue");return Xd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Md(this))throw Gd("error");zd(this,t)},t.prototype[wl]=function(t){Zl(this);var n=this.Ov(t);return Ud(this),n},t.prototype[gl]=function(t){var n=this.Al;if(this.Rv.length>0){var i=Yl(this);this.Pv&&0===this.Rv.length?(Ud(this),aw(n)):jd(this),t._v(i)}else Cl(n,t),jd(this)},t}();function Md(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Al")&&t instanceof Ld)}function jd(t){Fd(t)&&(t.Uv?t.Xv=!0:(t.Uv=!0,Qf(t.Fv(),function(){t.Uv=!1,t.Xv&&(t.Xv=!1,jd(t))},function(n){zd(t,n)})))}function Fd(t){var n=t.Al;return!!Wd(t)&&(!!t.Mv&&(!!(uw(n)&&Nl(n)>0)||Vd(t)>0))}function Ud(t){t.Fv=void 0,t.Ov=void 0,t.vl=void 0}function Hd(t){if(Wd(t)){var n=t.Al;t.Pv=!0,0===t.Rv.length&&(Ud(t),aw(n))}}function Xd(t,n){if(Wd(t)){var i=t.Al;if(uw(i)&&Nl(i)>0)Dl(i,n,!1);else{var e=void 0;try{e=t.vl(n)}catch(n){throw zd(t,n),n}try{Ql(t,n,e)}catch(n){throw zd(t,n),n}}jd(t)}}function zd(t,n){var i=t.Al;"readable"===i.me&&(Zl(t),Ud(t),hw(i,n))}function Vd(t){var n=t.Al.me;return"errored"===n?null:"closed"===n?0:t.Vv-t.Dv}function Wd(t){var n=t.Al.me;return!t.Pv&&"readable"===n}function qd(t,n,i,e,r,s,u){n.Al=t,n.Rv=void 0,n.Dv=void 0,Zl(n),n.Mv=!1,n.Pv=!1,n.Xv=!1,n.Uv=!1,n.vl=u,n.Vv=s,n.Fv=e,n.Ov=r,t.bv=n,Qf(Gf(i()),function(){n.Mv=!0,jd(n)},function(t){zd(n,t)})}function Gd(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function $d(t,n){return tv(t.bv)?function(t){var n,i,e,r,s,u=Rl(t),o=!1,a=!1,h=!1,c=!1,f=!1,l=qf(function(t){s=t});function v(t){Kf(t.Oc,function(n){t===u&&(mv(e.bv,n),mv(r.bv,n),c&&f||s(void 0))})}function d(){Dv(u)&&(ol(u),v(u=Rl(t)));var n={_v:function(n){nl(function(){a=!1,h=!1;var i=n,u=n;if(!c&&!f)try{u=$l(n)}catch(n){return mv(e.bv,n),mv(r.bv,n),void s(ow(t,n))}c||gv(e.bv,i),f||gv(r.bv,u),o=!1,a?g():h&&m()})},wv:function(){o=!1,c||wv(e.bv),f||wv(r.bv),e.bv.Lv.length>0&&_v(e.bv,0),r.bv.Lv.length>0&&_v(r.bv,0),c&&f||s(void 0)},mv:function(){o=!1}};Ml(u,n)}function w(n,i){Ll(u)&&(ol(u),v(u=Sv(t)));var l=i?r:e,d=i?e:r,w={_v:function(n){nl(function(){a=!1,h=!1;var e=i?f:c,r=i?c:f;if(r)e||bv(l.bv,n);else{var u=void 0;try{u=$l(n)}catch(n){return mv(l.bv,n),mv(d.bv,n),void s(ow(t,n))}e||bv(l.bv,n),gv(d.bv,u)}o=!1,a?g():h&&m()})},wv:function(t){o=!1;var n=i?f:c,e=i?c:f;n||wv(l.bv),e||wv(d.bv),void 0!==t&&(n||bv(l.bv,t),!e&&d.bv.Lv.length>0&&_v(d.bv,0)),n&&e||s(void 0)},mv:function(){o=!1}};Nv(u,n,w)}function g(){if(o)return a=!0,Gf(void 0);o=!0;var t=yv(e.bv);return null===t?d():w(t.Nv,!1),Gf(void 0)}function m(){if(o)return h=!0,Gf(void 0);o=!0;var t=yv(r.bv);return null===t?d():w(t.Nv,!0),Gf(void 0)}function y(){}return e=ew(y,g,function(e){if(c=!0,n=e,f){var r=Vl([n,i]),u=ow(t,r);s(u)}return l}),r=ew(y,m,function(e){if(f=!0,i=e,c){var r=Vl([n,i]),u=ow(t,r);s(u)}return l}),v(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=Rl(t),a=!1,h=!1,c=!1,f=!1,l=qf(function(t){u=t});function v(){if(a)return h=!0,Gf(void 0);a=!0;var t={_v:function(t){nl(function(){h=!1;var n=t,i=t;c||Xd(r.bv,n),f||Xd(s.bv,i),a=!1,h&&v()})},wv:function(){a=!1,c||Hd(r.bv),f||Hd(s.bv),c&&f||u(void 0)},mv:function(){a=!1}};return Ml(o,t),Gf(void 0)}function d(){}return r=iw(d,v,function(n){if(c=!0,i=n,f){var r=Vl([i,e]),s=ow(t,r);u(s)}return l}),s=iw(d,v,function(n){if(f=!0,e=n,c){var r=Vl([i,e]),s=ow(t,r);u(s)}return l}),Kf(o.Oc,function(t){zd(r.bv,t),zd(s.bv,t),c&&f||u(void 0)}),[r,s]}(t)}function Yd(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function Qd(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function Zd(t,n,i){return _l(t,i),function(i){return il(t,n,[i])}}function Kd(t,n){if("bytes"!==(t=""+t))throw new v(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function Jd(t,n){if("byob"!==(t=""+t))throw new v(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function tw(t,n){pl(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new v(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}w.defineProperties(Ld.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Ld.prototype,Mf.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var nw=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:bl(t,"First parameter");var i=Ov(n,"Second parameter"),e=function(t,n){pl(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:El(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Yd(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Qd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Zd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Kd(o,n+" has member 'type' that")}}(t,"First parameter");if(rw(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=w.create(Jl.prototype),r=function(){},s=function(){return Gf(void 0)},u=function(){return Gf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new v("autoAllocateChunkSize must be greater than 0");kv(t,e,r,s,u,i,o)}(this,e,xv(i,0))}else{var r=Bv(i);!function(t,n,i,e){var r=w.create(Ld.prototype),s=function(){},u=function(){return Gf(void 0)},o=function(){return Gf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),qd(t,r,s,u,o,i,e)}(this,e,xv(i,1),r)}}return w.defineProperty(t.prototype,"locked",{get:function(){if(!sw(this))throw cw("locked");return uw(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),sw(this)?uw(this)?$f(new v("Cannot cancel a stream that already has a reader")):ow(this,t):$f(cw("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!sw(this))throw cw("getReader");return void 0===function(t,n){pl(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Jd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Rl(this):Sv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!sw(this))throw cw("pipeThrough");kl(t,1,"pipeThrough");var i=function(t,n){pl(t,n);var i=null==t?void 0:t.readable;Al(i,"readable","ReadableWritablePair"),Il(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return Al(e,"writable","ReadableWritablePair"),Hv(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=tw(n,"Second parameter");if(uw(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Gv(i.writable))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return tl(Od(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!sw(this))return $f(cw("pipeTo"));if(void 0===t)return $f("Parameter 1 is required in 'pipeTo'.");if(!qv(t))return $f(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=tw(n,"Second parameter")}catch(t){return $f(t)}return uw(this)?$f(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Gv(t)?$f(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Od(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!sw(this))throw cw("tee");return Vl($d(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!sw(this))throw cw("values");var n,i,e,r,s,u=function(t,n){pl(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=Rl(n),r=new Fl(e,i),(s=w.create(Ul)).Iv=r,s},t}();function iw(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=w.create(nw.prototype);return rw(s),qd(s,w.create(Ld.prototype),t,n,i,e,r),s}function ew(t,n,i){var e=w.create(nw.prototype);return rw(e),kv(e,w.create(Jl.prototype),t,n,i,0,void 0),e}function rw(t){t.me="readable",t.uv=void 0,t.ov=void 0,t.yv=!1}function sw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"bv")&&t instanceof nw)}function uw(t){return void 0!==t.uv}function ow(t,n){if(t.yv=!0,"closed"===t.me)return Gf(void 0);if("errored"===t.me)return $f(t.ov);aw(t);var i=t.uv;return void 0!==i&&Dv(i)&&(i.Hv.forEach(function(t){t.wv(void 0)}),i.Hv=new rl),Jf(t.bv[wl](n),jf)}function aw(t){t.me="closed";var n=t.uv;void 0!==n&&(ll(n),Ll(n)&&(n.vv.forEach(function(t){t.wv()}),n.vv=new rl))}function hw(t,n){t.me="errored",t.ov=n;var i=t.uv;void 0!==i&&(fl(i,n),Ll(i)?(i.vv.forEach(function(t){t.mv(n)}),i.vv=new rl):(i.Hv.forEach(function(t){t.mv(n)}),i.Hv=new rl))}function cw(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function fw(t,n){pl(t,n);var i=null==t?void 0:t.highWaterMark;return Al(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Tl(i)}}w.defineProperties(nw.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(nw.prototype,Mf.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Mf.asyncIterator&&w.defineProperty(nw.prototype,Mf.asyncIterator,{value:nw.prototype.values,writable:!0,configurable:!0});var lw=function(t){return t.byteLength};try{w.defineProperty(lw,"name",{value:"size",configurable:!0})}catch(xl){}var vw=function(){function t(t){kl(t,1,"ByteLengthQueuingStrategy"),t=fw(t,"First parameter"),this.Tl=t.highWaterMark}return w.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!ww(this))throw dw("highWaterMark");return this.Tl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"size",{get:function(){if(!ww(this))throw dw("size");return lw},enumerable:!1,configurable:!0}),t}();function dw(t){return new v("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function ww(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Tl")&&t instanceof vw)}w.defineProperties(vw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(vw.prototype,Mf.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var gw=function(){return 1};try{w.defineProperty(gw,"name",{value:"size",configurable:!0})}catch(xl){}var mw=function(){function t(t){kl(t,1,"CountQueuingStrategy"),t=fw(t,"First parameter"),this.Sl=t.highWaterMark}return w.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!pw(this))throw yw("highWaterMark");return this.Sl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"size",{get:function(){if(!pw(this))throw yw("size");return gw},enumerable:!1,configurable:!0}),t}();function yw(t){return new v("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function pw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Sl")&&t instanceof mw)}function _w(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function bw(t,n,i){return _l(t,i),function(i){return il(t,n,[i])}}function kw(t,n,i){return _l(t,i),function(i,e){return el(t,n,[i,e])}}w.defineProperties(mw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(mw.prototype,Mf.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Aw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Ov(n,"Second parameter"),r=Ov(i,"Third parameter"),s=function(t,n){pl(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:_w(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:bw(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:kw(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=xv(r,0),a=Bv(r),h=xv(e,1),c=Bv(e);!function(t,n,i,e,r,s){function u(){return n}t.El=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=w.create(zv.prototype);return Wv(u),ld(u,w.create(cd.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Il;if(t.Kv){var e=t.Rl;return Jf(e,function(){var e=t.El,r=e.me;if("erroring"===r)throw e.ov;return Pw(i,n)})}return Pw(i,n)}(t,n)},function(){return function(t){var n=t.Dl,i=t.Il,e=i.Nl();return Dw(i),Jf(e,function(){if("errored"===n.me)throw n.ov;Hd(n.bv)},function(i){throw Sw(t,i),n.ov})}(t)},function(n){return function(t,n){return Sw(t,n),Gf(void 0)}(t,n)},i,e),t.Dl=iw(u,function(){return function(t){return Iw(t,!1),t.Rl}(t)},function(n){return Ew(t,n),Gf(void 0)},r,s),t.Kv=void 0,t.Rl=void 0,t.Cl=void 0,Iw(t,!0),t.Il=void 0}(this,qf(function(t){u=t}),h,c,o,a),function(t,n){var i=w.create(Rw.prototype),e=function(t){try{return Nw(i,t),Gf(void 0)}catch(t){return $f(t)}},r=function(){return Gf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.Pl=t,t.Il=n,n.Bl=i,n.Nl=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.Il)):u(void 0)}return w.defineProperty(t.prototype,"readable",{get:function(){if(!Tw(this))throw Bw("readable");return this.Dl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"writable",{get:function(){if(!Tw(this))throw Bw("writable");return this.El},enumerable:!1,configurable:!0}),t}();function Tw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Il")&&t instanceof Aw)}function Sw(t,n){zd(t.Dl.bv,n),Ew(t,n)}function Ew(t,n){Dw(t.Il),gd(t.El.Wv,n),t.Kv&&Iw(t,!1)}function Iw(t,n){void 0!==t.Rl&&t.Cl(),t.Rl=qf(function(n){t.Cl=n}),t.Kv=n}w.defineProperties(Aw.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Aw.prototype,Mf.toStringTag,{value:"TransformStream",configurable:!0});var Rw=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Cw(this))throw xw("desiredSize");return Vd(this.Pl.Dl.bv)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Cw(this))throw xw("enqueue");Nw(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Cw(this))throw xw("error");var n;n=t,Sw(this.Pl,n)},t.prototype.terminate=function(){if(!Cw(this))throw xw("terminate");!function(t){var n=t.Pl;Hd(n.Dl.bv);var i=new v("TransformStream terminated");Ew(n,i)}(this)},t}();function Cw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Pl")&&t instanceof Rw)}function Dw(t){t.Bl=void 0,t.Nl=void 0}function Nw(t,n){var i=t.Pl,e=i.Dl.bv;if(!Wd(e))throw new v("Readable side is not in a state that permits enqueue");try{Xd(e,n)}catch(t){throw Ew(i,t),i.Dl.ov}(function(t){return!Fd(t)})(e)!==i.Kv&&Iw(i,!0)}function Pw(t,n){return Jf(t.Bl(n),void 0,function(n){throw Sw(t.Pl,n),n})}function xw(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Bw(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}w.defineProperties(Rw.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Rw.prototype,Mf.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Ow,Lw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(nn);function Mw(t){return n=[t],new nw({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function jw(t){return Mw(new _(t))}function Fw(t,n){return function(t,n){var i=n,e=t.getReader(),r=new na,s=function(){u();var t=new hu;e.cancel(t).catch(K),r.Gu(t)},u=function(){i&&(i.Ms(s),i=void 0)};i&&(i.Ns?s():i.Ls(s));var o=[];return qe.resolve(e.read()).then(function t(n){return n.done?(u(),qe.resolve(o)):(o.push(n.value),qe.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Fu}(t,n).then(function(t){return Yu(t).buffer})}function Uw(t,n){var i=n,e=new Aw,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Hs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Hw(t){var n=new Aw,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||cu(n[0])&&cu(n[1])?n[0]:new Lw(n):n,t.cancel(i).catch(K)}),i.tee()}function Xw(t){return Ho(new _(t))}function zw(t){return Xo(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.Ol=1]="Ol"}(Ow||(Ow={}));var Vw="content-type",Ww="text/plain;charset=UTF-8",qw=function(){function t(){}var n=t.prototype;return n.xl=function(t){return this.Ll(t).then(JSON.parse)},n.Ml=function(t,n){switch(t){case xf.Gf:return this.Ul(n);case xf.qf:return this.xl(n);case xf.Yf:return this.Xl();case xf.$n:return this.Ll(n);default:throw new v}},t}();function Gw(t,n,i){if(t instanceof qw)return t;if(t instanceof nw)return function(t,n){return new Yw({fs:Ow.Yf,Xl:t,Fl:$w(n)})}(t,i);var e=$w(i),r=qe.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{fs:xf.$n,Hl:t,Fl:n||Ww};if(t instanceof ArrayBuffer||qu(t))return{fs:xf.Gf,Hl:ig(t),Fl:n};if(q(t)||z(t))return{fs:xf.qf,Hl:t,Fl:n};throw new v("Unsupported BodyInit type")}return{fs:xf.$n,Hl:null,Fl:n}}(t,e)});return new Yw({fs:Ow.Ol,Fu:r,zl:n})}function $w(t){return(t.get(Vw)||"").toLowerCase()}var Yw=function(t){function n(n){var i;return(i=t.call(this)||this).Vl=!1,i.Wl=void 0,i.Gl=new na,i.Gl.Fu.catch(K),i.ql(n),i}E(n,t);var i=n.prototype;return i.Yl=function(){return this.Gl.Fu},i.Ll=function(t){return this.jl(Qw,t)},i.xl=function(t){return this.jl(Kw,t)},i.Ul=function(t){return this.jl(tg,t)},i.Xl=function(){return this.Ql((t=this.Wl).fs===Ow.Yf?t.Xl:Uw(t.Fu.then(ng).then(jw),t.zl));var t},i.jl=function(t,n){if(this.Vl)return qe.reject(new v("Already used"));this.Vl=!0;var i=t(this.Wl,n);return this.Gl.Wu(i.then(K)),i},i.Ql=function(t){if(this.Vl)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Vl=!0;var n=new Aw,i=qe.resolve(t.pipeTo(n.writable));return this.Gl.Wu(i),n.readable},i.ql=function(t){this.Wl=t,t.fs===Ow.Ol&&t.Fu.catch(K)},i.Zl=function(){if(this.Vl)throw new v("Already used");var t=function(t){if(t.fs===Ow.Yf){var n=t.Xl.tee(),i=n[0],e=n[1];return[{fs:t.fs,Xl:i,Fl:t.Fl},{fs:t.fs,Xl:e,Fl:t.Fl}]}var r=t.zl.Vs(),s=r[0],u=r[1];return[{fs:t.fs,Fu:t.Fu,zl:s},{fs:t.fs,Fu:t.Fu,zl:u}]}(this.Wl),i=t[0],e=t[1];return this.ql(i),new n(e)},T(n,[{key:"Kl",get:function(){return this.Vl}}]),n}(qw);function Qw(t,n){return t.fs===Ow.Yf?Fw(t.Xl,n).then(Xw):(n&&t.zl.zs(n),wu(t.Fu.then(Zw),t.zl))}function Zw(t){switch(t.fs){case xf.$n:return qe.resolve(t.Hl||"");case xf.Gf:return qe.resolve(t.Hl).then(Xw);case xf.qf:return qe.resolve(t.Hl).then(JSON.stringify)}}function Kw(t,n){return t.fs===Ow.Yf?Qw(t,n).then(JSON.parse):(n&&t.zl.zs(n),wu(t.Fu.then(Jw),t.zl))}function Jw(t){return t.fs===xf.qf?qe.resolve(t.Hl):Zw(t).then(JSON.parse)}function tg(t,n){return t.fs===Ow.Yf?Fw(t.Xl,n):(n&&t.zl.zs(n),wu(t.Fu.then(ng),t.zl))}function ng(t){switch(t.fs){case xf.Gf:return qe.resolve(t.Hl);case xf.$n:case xf.qf:return Zw(t).then(zw)}}function ig(t){return t instanceof ArrayBuffer?t:Zo(Go(t)).buffer}function eg(t){return t.Jl>=200&&t.Jl<=299||304===t.Jl}var rg,sg,ug,og,ag=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.$l,s=i.td,u=i.Jl,o=i.ed,a=i.rd):(r=[],s=xf.$n,u=200,o="OK",a=!1);var h=n.ud,c=new Bf(n.$l||r),f=n.td||s,l=n.od||(i&&i.ud===h?i.od:h.hd),v=i?i.fd:null,d=Gw(void 0!==n.Hi?n.Hi:v,n.zl||new au,c);return(e=t.call(this,d)||this).$l=void 0,e.ud=void 0,e.od=void 0,e.td=void 0,e.Jl=void 0,e.ed=void 0,e.rd=void 0,e.$l=c,e.ud=h,e.od=l,e.td=f,e.Jl=void 0!==n.Jl?n.Jl:u,e.ed=void 0!==n.ed?String(n.ed):o,e.rd=n.rd||a,e}E(n,t);var i=n.prototype;return i.Hi=function(t){return this.Ml(this.td,t)},i.Lu=function(){return new n({Hi:this.Zl(),ud:this.ud},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).fd=void 0,i.fd=n,i}E(n,t);var i=n.prototype;return i.Yl=function(){return this.fd.Yl()},i.Ll=function(t){return this.fd.Ll(t)},i.xl=function(t){return this.fd.xl(t)},i.Ul=function(t){return this.fd.Ul(t)},i.Xl=function(){return this.fd.Xl()},i.Zl=function(){return this.fd.Zl()},T(n,[{key:"Kl",get:function(){return this.fd.Kl}}]),n}(qw));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(rg||(rg={})),function(t){t.vd="",t.ld="manifest",t.dd="segment",t.wd="content-protection"}(sg||(sg={})),function(t){t.vd="",t._d="initialization-segment",t.md="fairplay-license",t.yd="fairplay-certificate",t.kd="widevine-license",t.bd="widevine-certificate",t.pd="playready-license",t.Ad="clearkey-license",t.Td="aes128-key"}(ug||(ug={})),function(t){t.vd="",t.Sd="audio",t.Ed="video",t.$n="text",t.Id="image"}(og||(og={}));var hg=function(t,n){this.Hl=void 0,this.$l=void 0,this.Rd=void 0,this.td=void 0,this.Dd=void 0,this.Ws=void 0,this.fs=void 0,this.Nd=void 0,this.Cd=void 0,this.hd=void 0,this.Pd=void 0,this.Bd=void 0;var i,e,r,s,u,o,a,h,c,f,l,v=t.hd;n?(i=n.Hl,e=n.$l,r=n.Rd,s=n.td,u=n.Dd,o=n.Ws,a=n.fs,h=n.Nd,c=n.Cd,f=n.Pd,l=n.Bd):(i=null,e={},r=rg.GET,s=xf.$n,u=0,a=sg.vd,h=ug.vd,c=og.vd,f=!1),this.hd=v,this.Hl=t.Hl||i,this.$l=new Bf(t.$l||e),this.Rd=t.Rd||r,this.td=t.td||s,this.Dd=void 0!==t.Dd?Number(t.Dd)||0:u,this.Ws=t.Ws||o||(new au).Ws,this.fs=t.fs||a,this.Nd=t.Nd||h,this.Cd=t.Cd||c,this.Pd=void 0!==t.Pd?Boolean(t.Pd):f,this.Bd=t.Bd||l},cg=function(){function t(){}var n=t.prototype;return n.ud=function(t){var n=function(t){return new ag({Hi:null,$l:{},ud:t,od:t.hd,td:t.td,Jl:0,ed:Pf.Tf})}(new hg(t));return qe.resolve(n)},n.Od=function(t){},n.xd=function(){},t}();var fg=function(){function t(t,n){void 0===n&&(n=!0),this.Ld=void 0,this.Md=void 0,this.Ld=t,this.Md=n}var n=t.prototype;return n.ud=function(t){var n=this.Ud(t);return this.Ld.ud(n)},n.Od=function(t){return this.Ld.Od(this.Xd(t))},n.Ud=function(n){var i=new hg(n);if(!this.Md){var e=t.Fd(i.hd);i=new hg({hd:e},i)}return i},n.Xd=function(n){var i=n.hd;return this.Md||(i=t.Fd(i)),{hd:i,Hl:n.Hl}},t.Fd=function(t){return i.Fr&&As(t,"http://")?t.replace(":","s:"):t},n.xd=function(){this.Ld.xd()},T(t,null,[{key:"Hd",get:function(){return t.zd||(t.zd=new t(new cg)),t.zd}}]),t}();function lg(t,n){for(var i=0,e=w.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function vg(t,n){var e=i.Or(t);return n&&!Ts(e,"/")&&(e+="/"),e}fg.zd=void 0;var dg,wg=/cache:(.+)?(?=&|$)/,gg="http://webcache.googleusercontent.com/search?q=cache:";function mg(t){if(!As(t,gg))return"";var n=i.Br(t).search.match(wg);return n&&n.length>1?n[1]:""}!function(t){t.Vd="HttpOpenError",t.Wd="HttpResponseError",t.Gd="HttpTimeoutError"}(dg||(dg={}));var yg=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).qd=void 0,r.qd=n,r}return E(n,t),T(n,[{key:"ud",get:function(){return this.qd}}]),n}(nn);var pg=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.hd+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return dg.Vd}}]),n}(yg);var _g=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ud,null!=e?e:function(t){return"Error while loading "+t.ud.hd+", status code "+t.Jl}(n),i)||this).Yd=void 0,r.Yd=n,r}return E(n,t),T(n,[{key:"name",get:function(){return dg.Wd}},{key:"jd",get:function(){return this.Yd}}]),n}(yg);var bg=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.hd+" timed out after "+t.Dd+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return dg.Gd}}]),n}(yg),kg=function(t,n){return(kg=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Ag(t,n){function i(){this.constructor=t}kg(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}var Tg="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Sg=function(){var t=Tg.Blob;if(t)try{return new t,function(t,n){return new Tg.Blob(t,n)}}catch(t){}var n,i=Tg.BlobBuilder||Tg.WebKitBlobBuilder||Tg.MozBlobBuilder||Tg.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Eg="function"==typeof nw?nw:void 0;function Ig(t){return t&&"function"==typeof t.getReader}function Rg(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Ig(i)}catch(t){return!1}}var Cg=function(){function t(t,n){this.uv=t,this.Qd=n}return t.prototype.pull=function(t){var n=this;return this.uv.read().then(function(i){n.Qd&&n.Qd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.uv.cancel(t)},t}();function Dg(t,n){return n.constructor===t?n:new t(new Cg(n.getReader()),{highWaterMark:0})}var Ng=function(){function t(t,n){this.Zd=t,this.Kd=n}return t.prototype.pull=function(t){return this.Zd().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.Kd&&this.Kd(t)},t}();function Pg(t,n,i){return new t(new Ng(n,i),{highWaterMark:0})}var xg={searchParams:"URLSearchParams"in Tg,iterable:"Symbol"in Tg&&"iterator"in Symbol,blob:"FileReader"in Tg&&!!Sg,formData:"FormData"in Tg,arrayBuffer:"ArrayBuffer"in Tg,stream:Rg(Eg),streamRequest:"Request"in Tg&&"body"in Tg.Request.prototype,streamResponse:"Response"in Tg&&"body"in Tg.Response.prototype,abort:"AbortController"in Tg&&"Request"in Tg&&"signal"in Tg.Request.prototype,encoding:"TextEncoder"in Tg&&"TextDecoder"in Tg,url:"URL"in Tg&&function(t){try{return new Tg.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Tg&&/Firefox\//.test(Tg.navigator.userAgent)};function Bg(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Og(t){return"string"!=typeof t&&(t=String(t)),t}function Lg(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return xg.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Mg=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return xg.iterable&&t&&t[Symbol.iterator]}(t)?t&&w.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Bg(t),n=Og(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=Bg(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=Bg(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=Bg(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Bg(t)).toLowerCase();this.Kr[i]=[t,Og(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Lg(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Lg(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Lg(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function jg(){}xg.iterable&&(Mg.prototype[Symbol.iterator]=Mg.prototype.entries);var Fg,Ug,Hg,Xg=g.min,zg=String.fromCharCode,Vg=16384;function Wg(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Vg){var r=Xg(e+Vg,n);i.push(zg.apply(null,t.slice(e,r)))}return i.join("")}(n)}function qg(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Gg(t,n){return t>>n&63|128}function $g(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(qg(t),n.push(t>>12&15|224),n.push(Gg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Gg(t,12)),n.push(Gg(t,6))),n.push(63&t|128)):n.push(t)}function Yg(){if(Hg>=Ug)throw new l("Invalid byte index");var t=255&Fg[Hg];if(Hg++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function Qg(){var t,n;if(Hg>Ug)throw new l("Invalid byte index");if(Hg===Ug)return!1;if(t=255&Fg[Hg],Hg++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Yg())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Yg()<<6|Yg())>=2048)return qg(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Yg()<<12|Yg()<<6|Yg())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}var Zg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Kg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Jg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function tm(t){return t&&DataView.prototype.isPrototypeOf(t)}var nm,im=ArrayBuffer.isView||function(t){return t&&(Zg.indexOf(w.prototype.toString.call(t))>-1||tm(t))};function em(t){if(t.bodyUsed)return qe.reject(new v("Already used"));t.bodyUsed=!0}function rm(t){return new qe(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function sm(t){return xg.encoding?new Tg.TextDecoder("utf-8").decode(new _(t)):Wg(function(t){Ug=(Fg=t).length,Hg=0;for(var n,i=[];!1!==(n=Qg());)i.push(n);return i}(new _(t)))}function um(t){return xg.encoding?(new Tg.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,e=t;i<e.length;i++)$g(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function om(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?qe.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function am(t){return om(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new _(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function hm(t){return t.slice?t.slice(0):cm(new _(t))}function cm(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function fm(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function lm(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Jd===nm.$d){if(!n.nw.tee)throw new l("could not clone ReadableStream body");var i=n.nw.tee(),e=i[0],r=i[1];return n.body=e,n.nw=e,n.iw=e,r}return n.Jd===nm.Gf?hm(n.nw):n.Jd===nm.Ol?n.nw.then(lm):n.iw}!function(t){t[t.$n=0]="$n",t[t.ew=1]="ew",t[t.uw=2]="uw",t[t.Gf=3]="Gf",t[t.$d=4]="$d",t[t.Ol=5]="Ol"}(nm||(nm={}));var vm=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.iw=n||null,n)if("string"==typeof n)this.Jd=nm.$n,this.nw=n;else if((s=n)&&"function"==typeof s.then)this.Jd=nm.Ol,this.nw=qe.resolve(n).then(function(n){return new t(n,i)}),this.nw.catch(jg);else if(xg.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Jd=nm.ew,this.nw=n;else if(xg.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Jd=nm.uw,this.nw=n;else if(xg.searchParams&&Kg(n))this.Jd=nm.$n,this.nw=n.toString();else if(xg.arrayBuffer&&(Jg(n)||im(n)))tm(n)&&(this.iw=new _((r=n).buffer,r.byteOffset,r.byteLength)),this.Jd=nm.Gf,this.nw=Jg(e=n)?hm(e):cm(e);else{if(!xg.stream||!Ig(n))throw new l("unsupported BodyInit type");n=Dg(Eg,n),this.Jd=nm.$d,this.nw=n,this.iw=n}else this.Jd=nm.$n,this.nw="";this.ow="",i.has("content-type")?this.ow=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.ow="text/plain;charset=UTF-8":u.Jd===nm.ew&&u.nw.type?this.ow=u.nw.type:xg.searchParams&&Kg(n)&&(this.ow="application/x-www-form-urlencoded;charset=UTF-8"),this.ow&&i.set("content-type",this.ow)),xg.stream&&(null==n?this.body=null:u.Jd===nm.$d?this.body=u.nw:this.body=Pg(Eg,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=em(this);return e||(this.Jd===nm.ew?(t=this.nw,n=new FileReader,i=rm(n),n.readAsText(t),i):this.Jd===nm.Gf?qe.resolve(this.nw).then(sm):this.Jd===nm.$d?am(this.nw).then(sm):this.Jd===nm.Ol?this.nw.then(function(t){return t.text()}):this.Jd===nm.uw?qe.reject(new l("could not read FormData body as text")):qe.resolve(this.nw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();xg.blob&&(vm.prototype.blob=function(){var t,n,i=em(this);return i||(this.Jd===nm.ew?qe.resolve(this.nw):this.Jd===nm.Gf?qe.resolve(Sg([this.nw],{type:this.ow})):this.Jd===nm.$d?(t=this.nw,n=this.ow,om(t).then(function(t){return Sg(t,{type:n||""})})):this.Jd===nm.Ol?this.nw.then(function(t){return t.blob()}):this.Jd===nm.uw?qe.reject(new l("could not read FormData body as Blob")):qe.resolve(Sg([this.nw],{type:this.ow})))}),xg.arrayBuffer&&(vm.prototype.arrayBuffer=function(){var t,n,i;return this.Jd===nm.Gf?em(this)||qe.resolve(this.nw):this.Jd===nm.ew?em(this)||(t=this.nw,n=new FileReader,i=rm(n),n.readAsArrayBuffer(t),i):this.Jd===nm.$d?am(this.nw):this.Jd===nm.Ol?em(this)||this.nw.then(function(t){return t.arrayBuffer()}):this.Jd===nm.uw?qe.reject(new l("could not read FormData body as ArrayBuffer")):qe.resolve(this.nw).then(um)}),xg.formData&&(vm.prototype.formData=function(){return this.Jd===nm.uw?em(this)||qe.resolve(this.nw):this.text().then(fm)});var dm=[301,302,303,307,308],wm=function(t){function n(n,i){var e=this,r=new Mg((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Ag(n,t),n.prototype.clone=function(){return new n(lm(this),{status:this.status,statusText:this.statusText,headers:new Mg(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===dm.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(vm);var gm,mm=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=w.setPrototypeOf?w.getPrototypeOf:function(t){return t.__proto__||w.getPrototypeOf(t)})(t)}function o(t,n){return(o=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!w.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=w.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}w.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),w.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),w.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),w.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=w.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),w.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=d,n.default=d});(gm=mm)&&gm.__esModule&&w.prototype.hasOwnProperty.call(gm,"default")&&gm.default,mm.AbortSignal;var ym=mm.AbortController,pm=Tg.DOMException;try{new pm}catch(t){(pm=function(t,n){l.call(this,t),this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),pm.prototype.constructor=pm}var _m=ym;function bm(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function km(t,n,i){return new qe(function(e,r){if(n.signal.aborted)return t.catch(jg),r(Am());var s=function(){n.signal.removeEventListener("abort",s),r(Am())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Am(){return new pm("Aborted","AbortError")}var Tm,Sm="moz-chunked-arraybuffer";function Em(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Tm||(Tm={}));var Im=function(){function t(t,n){var i=this;this.aw=!1,this.qd=t,this.cw=n,this.hw=new k,this.fw=new qe(function(t,n){i.vw=t,i.lw=n})}return t.prototype.send=function(){var t=this;return this.dw().then(function(n){return t.ww(n,t.cw),t.fw})},t.prototype.dw=function(){var t=this.qd;return t.Jd===nm.$d?t.arrayBuffer():qe.resolve(t.iw)},t.prototype._w=function(t){this.qd.onprogress&&this.qd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.gw=function(t){this.lw(t)},t.prototype.mw=function(){this.gw(new v("Network request failed"))},t.prototype.yw=function(){this.gw(new v("Network request failed"))},t.prototype.bw=function(){this.gw(Am())},t.prototype.ww=function(t,n){var i=this,e=this.qd,r=this.hw,s=function(){return i.pw()};if(e.signal.aborted)return this.bw();r.onreadystatechange=function(){if(r.readyState>=Tm.HEADERS_RECEIVED&&!i.aw){var t=function(t){var n=new Mg;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.aw=!0,i.Aw(n)}},r.onprogress=function(t){return i._w(t)},r.onload=function(){return i.Tw()},r.onerror=function(){return i.mw()},r.ontimeout=function(){return i.yw()},r.onabort=function(){return i.bw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.pw=function(){this.bw(),this.hw.abort()},t}(),Rm=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Sw=void 0,e.Ew=void 0,e}return Ag(n,t),n.prototype.Aw=function(t){var n=this;this.Sw=new qe(function(t,i){n.Ew=t,n.Iw=i}),this.vw(new wm(this.Sw,t))},n.prototype.Tw=function(){var t=this.hw.response;if(null==t){var n=this.cw;""===n||"text"===n?t=this.hw.responseText:"document"===n?t=this.hw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Sg([]))}this.Ew(t)},n.prototype.gw=function(n){t.prototype.gw.call(this,n),this.Iw&&this.Iw(n)},n}(Im),Cm=function(t){function n(n){var i=t.call(this,n,Sm)||this;return i.Rw=void 0,i.Dw=void 0,i.Nw=!1,i}return Ag(n,t),n.prototype.Aw=function(t){var n=this;this.Rw=new Eg({start:function(t){n.Dw=t},cancel:function(){n.Nw=!0,n.pw()}}),this.vw(new wm(this.Rw,t))},n.prototype._w=function(n){this.Nw||this.Dw.enqueue(new _(this.hw.response)),t.prototype._w.call(this,n)},n.prototype.Tw=function(){this.Dw.close()},n.prototype.gw=function(n){t.prototype.gw.call(this,n),this.Dw&&!this.Nw&&(this.Nw=!0,this.Dw.error(n))},n}(Im),Dm=function(){var t=xg.firefox&&Em(Sm);return Dm=function(){return t},t},Nm=function(){var t;return t=xg.arrayBuffer&&Em("arraybuffer")?"arraybuffer":xg.blob&&Em("blob")?"blob":"",Nm=function(){return t},t};function Pm(t){return(xg.stream&&Dm()?new Cm(t):new Rm(t,Nm())).send()}var xm=Tg.fetch,Bm=Tg.Request;Tg.Response;var Om=Tg.AbortController;var Lm=["http:","https:"];var Mm=function(){try{if(xg.streamRequest){var t=new Bm("about:blank",{body:"",method:"POST"}).body;if(t&&Rg(t.constructor))return t.constructor}}catch(t){}}();function jm(t,n,i){var e;if(xg.stream){var r=void 0;if(xg.streamResponse){var s=t.body;r=s&&Dg(Eg,s)}else r=Pg(Eg,function(){return km(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Cg(n.getReader(),i),{highWaterMark:0})}(Eg,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Fm(t.headers))),e=r}else{var u=km(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return qe.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Fm(t.headers))),e=u}return new wm(e,t)}function Fm(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Um(t){var n=new _m;return t.signal&&bm(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Jd===nm.$d?xg.streamRequest&&Mm?qe.resolve(Dg(Mm,r.nw)):km(t.arrayBuffer(),n,!1):km(qe.resolve(t.iw),n,!1),xg.abort){var s=new Om;bm(s,n.signal),e=s.signal}return i.then(function(n){return new Bm(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Mg?i:new Mg(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return xm(i).then(function(i){return jm(i,n,t.onprogress)})})}var Hm=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Xm=function(t){function n(i,e){var r,s,u,o,a,h,c,f,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new Mg(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,l=i.onprogress,w||null==i.iw||(w=i.iw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,l=null;if(!e.headers&&u||(u=new Mg(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Hm.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new _m).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return d}return Ag(n,t),n.prototype.clone=function(){return new n(this,{body:lm(this)})},n}(vm),zm="function"==typeof xm&&xg.stream&&xg.streamResponse&&xg.url;function Vm(t,n){return new qe(function(i){var e=new Xm(t,n);i((zm&&function(t){try{return Lm.indexOf(new Tg.URL(t,Tg.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Um:Pm)(e))})}Vm.polyfill=!0;var Wm=function(){function t(t){this.jd=void 0,this.qd=void 0,this.$v=new au,this.Yd=void 0,this.Cw=!1,this.qd=t,this.$v.zs(t.Ws),this.jd=this.Pw()}var n=t.prototype;return n.Pw=function(){var t,n,e,r,s,u,o,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.qd).Dd&&a(function(){c.Cw=!0,c.$v.Hs()},t.Dd),f.prev=2,n=Vm(t.hd,{method:t.Rd,headers:t.$l.jf(),body:t.Hl,credentials:t.Pd?"include":"same-origin",signal:$m(this.$v.Ws),onprogress:t.Bd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new pg(t,f.t0);case 9:return f.prev=9,f.next=12,Fr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),cu(r=this.Bw(f.t1))&&this.$v.Hs(),r;case 20:if(s=e.url||t.hd,u=0===e.status&&"file:"===(l=s,i.Br(l).protocol)?200:e.status,o=new qm(this,e,this.$v),h=new ag({Hi:o,ud:t,td:t.td,$l:new Bf(e.headers.asList()),Jl:u,ed:e.statusText,od:s}),this.Yd=h,!eg(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new _g(h);case 30:case"end":return f.stop()}var l},null,this,[[2,6],[9,15]],qe)},n.Bw=function(t){return cu(t)?this.Cw?new bg(this.qd):new hu(t.message,t):this.Yd?new _g(this.Yd,t):new pg(this.qd,t)},t}(),qm=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ow=void 0,r.xw=void 0,r.$v=void 0,r.Gl=new na,r.Ow=n,r.xw=i,r.$v=e,r.Gl.Fu.catch(K),r}E(n,t);var i=n.prototype;return i.Yl=function(){return this.Gl.Fu},i.Ll=function(t){return this.jl(this.xw.text(),t)},i.Ul=function(t){return this.jl(this.xw.arrayBuffer(),t)},i.Xl=function(){var t=this.xw.body;return t?this.Ql(t):Uw(this.Ul().then(jw),this.$v)},i.Zl=function(){var t=this.xw.clone(),i=this.$v.Vs(),e=i[0],r=i[1];return this.$v=e,new n(this.Ow,t,r)},i.jl=function(t,n){var i=this;n&&this.$v.zs(n);var e=qe.resolve(t).catch(function(t){throw i.Ow.Bw(t)});return e=wu(e,this.$v),this.Gl.Wu(e.then(K)),e},i.Ql=function(t){var n=this,i=new Aw,e=qe.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Ow.Bw(t);throw i.writable.abort(e).catch(K),e});return e=wu(e,this.$v),this.Gl.Wu(e.then(K)),i.readable},T(n,[{key:"Kl",get:function(){return this.xw.bodyUsed}}]),n}(qw),Gm="abort";function $m(t){var n=new _m;if(t.Ns)n.abort();else if(!t.Cs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Gm,i),t.Ms(i),t.Xs(e)};n.signal.addEventListener(Gm,i),t.Ls(i),t.Us(e)}return n.signal}function Ym(t,n,i){return new qe(function(e,r){if(i&&i.Ns)return r(new hu);var s=function(t){o(),e(t)},u=function(){o(),r(new hu)},o=function(){t.removeEventListener(n,s),i&&i.Ms(u)};t.addEventListener(n,s),i&&i.Ls(u)})}var Qm,Zm,Km=function(){function t(){}var n=t.prototype;return n.ud=function(t){return new Wm(t).jd},n.Od=function(t){if(me&&me.sendBeacon)me.sendBeacon(t.hd,Df([t.Hl],{type:t.Fl}));else{var n=t.Fl?{"Content-type":t.Fl}:void 0;pu(this.ud(new hg({Rd:rg.POST,hd:t.hd,Hl:t.Hl,$l:n})))}},n.xd=function(){},t}();Qm=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Lw=void 0,i.Mw=function(){if(j.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Uw=j.Xn||j.fn,i.Xw=void 0,i}return E(i,n),T(i,[{key:"Er",get:function(){return this.Lw||(this.Lw=new Ls(Ef())),this.Lw}},{key:"Fw",get:function(){return this.Mw}},{key:"Hw",get:function(){return this.Uw}},{key:"zw",get:function(){return!1}},{key:"Vw",get:function(){return Rf.rf()}},{key:"Ww",get:function(){return{Gw:Nf}}},{key:"qw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Yw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"jw",get:function(){return this.Xw||(this.Xw=new fg(new Km)),this.Xw}}]),i}(Br)),i=Qm,function(t){t.Qw="Zw",t.Kw="Jw"}(Zm||(Zm={})),Zm.Qw,Zm.Kw;var Jm=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(Iu);function ty(t){return Boolean(t&&t.t_)}var ny,iy=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Jm),ey=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Iu),ry=function(t){function n(n){var i;return(i=t.call(this,Zm.Qw)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new sy(this.i_.t_)},n}(iy),sy=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(ey),uy=function(t){function n(n){var i;return(i=t.call(this,Zm.Kw)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new oy(this.i_.t_)},n}(iy),oy=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(ey);!function(t){t.e_="r_",t.s_="u_",t.o_="a_",t.c_="h_",t.f_="v_",t.l_="d_",t.w_="__",t.g_="m_",t.y_="qc",t.k_="b_",t.p_="A_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(ny||(ny={}));var ay=function(t){function n(){var n;return(n=t.call(this)||this).T_=[],n.$w=void 0,n}E(n,t);var i=n.prototype;return i.S_=function(t){return this.T_[t]},i.E_=function(t){return!(!t||Qs(this.T_,t))&&(this.T_.push(t),this.$w&&this.$w.push(t.t_),t.Zs(ny.l_,this.js),this.Qs(new ry(t)),!0)},i.I_=function(t){if(!t)return!1;var n=this.T_.indexOf(t);return!(n<0)&&(Ys(this.T_,n),this.$w&&Ys(this.$w,n),t.tu(ny.l_,this.js),this.Qs(new uy(t)),!0)},i.R_=function(t){return Qs(this.T_,t)},i.D_=function(){for(var t=this.T_,n=t.length-1;n>=0;n-=1)this.I_(t[n])},i.xd=function(){this.D_(),this.$s()},T(n,[{key:"N_",get:function(){return this.T_}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"C_",get:function(){return this.T_.length}}]),n}(Su),hy=function(t){function n(n){var i;return(i=t.call(this,ny.l_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new cy(this.i_.t_)},n}(iy),cy=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(ey),fy=function(t){function n(){var n;return(n=t.call(this)||this).P_=void 0,n.B_=function(t){var i=t.i_;n.E_(i)},n.O_=function(t){var i=t.i_;n.I_(i)},n}E(n,t);var i=n.prototype;return i.x_=function(t){t.Zs(Zm.Qw,this.B_),t.Zs(Zm.Kw,this.O_)},i.L_=function(t){t.tu(Zm.Qw,this.B_),t.tu(Zm.Kw,this.O_)},i.xd=function(){this.P_&&this.P_.xd(),t.prototype.xd.call(this)},T(n,[{key:"M_",get:function(){return this.P_},set:function(t){var n=this.P_;if(t!==n){if(n){this.L_(n);for(var i=0,e=n.N_;i<e.length;i++){var r=e[i];t&&t.R_(r)||this.I_(r)}}if(this.P_=t,t){for(var s=[],u=0,o=t.N_;u<o.length;u++){var a=o[u];this.E_(a),this.U_(a)&&s.push(a)}this.x_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Qs(new hy(c))}}}}}]),n}(ay),ly=w.freeze||J;function vy(t,n,i){w.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function dy(t){return ly(t)}function wy(t,n){for(var i=0,e=w.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];w.defineProperty(t,r,w.getOwnPropertyDescriptor(n,r))}return t}function gy(t){if(q(t)){var n={};for(var i in t)F.call(t,i)&&(n[i]=gy(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=gy(t[r]));return e}return t}function my(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!my(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=w.keys(t),e=w.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!F.call(n,s)||!my(t[s],n[s]))return!1}return!0}(t,n)))}function yy(t,n){return t.constructor===n.constructor}function py(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function _y(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function by(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function ky(t){var n=by(t);if(p(n))throw new l("Expected a valid number.");return n}function Ay(t){return"string"==typeof t?t:""}function Ty(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Sy(t,n){return V(t)?Ty(t,n):n(t)}var Ey=[Zm.Qw,Zm.Kw,ny.l_];function Iy(t){var n,i=t.N_.map(function(t){return t.t_});return i.item=function(n){var i=0|n,e=t.S_(i);return e&&e.t_||void 0},i.addEventListener=function(t,i){n.Zs(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new Eu(i),t.Zs(Ey,function(t){return n.Qs(t.t_)}),i}function Ry(){}function Cy(t){var n,i=[ny.y_,ny.l_,ny.k_,ny.p_,ny.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.X_&&t.X_.t_},get enabled(){return t.F_},set enabled(n){t.F_=_y(n)},get id(){return t.H_},get uid(){return t.z_},get kind(){return t.V_},get label(){return t.W_},set label(n){t.W_=Ay(n)},get language(){return t.G_},get qualities(){return t.q_.t_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.q_.N_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.t_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.Y_=i:t.Y_=void 0},get targetQuality(){if(t.Y_)return 1===t.Y_.length?t.Y_[0].t_:t.Y_.map(function(t){return t.t_})},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Eu(e),t.Zs(i,function(t){return n.Qs(t.t_)}),w.defineProperty(e,"constructor",{value:Ry}),e}function Dy(){}function Ny(t){var n=Iy(t);return w.defineProperty(n,"constructor",{value:Dy}),n}var Py,xy,By=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.n_=function(){return Ny(this)},i.U_=function(t){return t.F_},n}(fy);function Oy(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Py.j_:case Py.Q_:case Py.Z_:return n}}else if("number"==typeof t)switch(t){case 0:return Py.j_;case 1:return Py.Q_;case 2:return Py.Z_}return Py.j_}function Ly(){}function My(t){var n,i=[ny.l_,ny.y_,ny.e_,ny.s_,ny.o_,ny.c_,ny.f_,ny.w_,ny.g_],e=[xy.K_],r={get kind(){return t.V_},get label(){return t.W_},set label(n){t.W_=Ay(n)},get language(){return t.G_},get id(){return t.H_},get uid(){return t.z_},get inBandMetadataTrackDispatchType(){return t.J_},get mode(){return t.eg},set mode(n){n!==Py.Z_&&n!==Py.Q_&&n!==Py.j_||t.rg(n)},get forced(){return Boolean(t.og)},get type(){return t.fs},get readyState(){return Uy(t.ag)},get cues(){return t.eg===Py.j_?null:t.cg.t_},get activeCues(){return t.eg===Py.j_?null:t.hg.t_},get src(){return t.fg||""},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Eu(t),t.Zs(i,function(t){return n.Qs(t.t_)}),t.Zs(e,function(t){return n.Qs(t)}),w.defineProperty(r,"constructor",{value:Ly}),r}function jy(){}function Fy(t){var n=Iy(t);return w.defineProperty(n,"constructor",{value:jy}),n}function Uy(t){return t}!function(t){t.j_="disabled",t.Q_="hidden",t.Z_="showing"}(Py||(Py={})),function(t){t.K_="error"}(xy||(xy={}));var Hy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.n_=function(){return Fy(this)},i.U_=function(t){return t.eg===Py.Z_},n}(fy),Xy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(Su),zy=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Xy),Vy=function(t){function n(){return t.call(this,Pf.yf)||this}return E(n,t),n}(Iu),Wy=function(t){function n(n){var i;return(i=t.call(this,Pf.df)||this).currentSource=n,i}return E(n,t),n}(Iu),qy=function(){function t(){}return t.vg=function(n,i){var e=t.dg(n,i);return e?t.wg(e):0},t._g=function(){return i.qw||"default"},t.gg=function(){return i.Yw||"unknown"},t.dg=function(n,e){var r,s=null==(r=i.Vw)?void 0:r.Iu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.yg(u,n,e)},t.wg=function(t){var n=t.availableBandwidth;return n||0},t.yg=function(n,i,e){if(!t.pg(n,i))return n[i];t.Ag(n,i,e)},t.Ag=function(t,n,e){var r;delete t[n],null==(r=i.Vw)||r.ef(e,JSON.stringify(t))},t.pg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Tg=function(t,n,i,e){var r;return Ur({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Sg=function(n){var i=t._g();t.Eg(i,"theoplayer-stored-network-info",n,Wt())},t.Eg=function(n,e,r,s){var u,o,a=null==(u=i.Vw)?void 0:u.Iu(e),h=a?JSON.parse(a):void 0,c=t.Tg(h,n,r,s);null==(o=i.Vw)||o.ef(e,JSON.stringify(c))},t.Ig=function(){var n=t._g();return t.vg(n,"theoplayer-stored-network-info")},t}();var Gy,$y,Yy,Qy,Zy,Ky,Jy="1ADD53F3";function tp(t){return{chromecast:function(t){return{appID:t&&t.appID?Ay(t.appID):Jy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Gy.AUTO;case"manual":return Gy.MANUAL;case"disabled":return Gy.DISABLED;default:return Gy.MANUAL}}(t?t.strategy:void 0)}}function np(t){var n,i=Yy.Rg;return(n=t)&&ks(n,"mpd")&&(i=Yy.Dg),function(t){return!!t&&ks(t,"m3u8")}(t)&&(i=Yy.Ng),i}function ip(t){return!!t&&As(t.toLowerCase(),Yy.Dg)}function ep(t){if(!t)return!1;var n=t.toLowerCase();return As(n,Yy.Ng)||As(n,Yy.Cg)}function rp(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function sp(t){return W(t)&&G(t.integration)&&"verizon-media"===t.integration}function up(t){if(G(t))return!t;if(sp(t))return!t.id;if(rp(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function op(t){return Boolean(W(t)&&G(t.src))}function ap(t){return G(t)||op(t)||rp(t)||sp(t)}function hp(t){if(t){if(ap(t))return up(t);for(var n=0;n<t.length;n++){if(!up(t[n]))return!1}return!0}return!0}function cp(){return{crossOrigin:$y.Pg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function fp(){return Ur({},cp(),{src:void 0,type:Yy.Rg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function lp(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Qy.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Zy.NONE;case"midroll-and-postroll":default:return Zy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=_y(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Qy.INSECURE;case"disabled":return Qy.DISABLED;case"enabled":default:return Qy.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:_y(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function vp(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];q(r)&&n.push(r)}return n}function dp(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Gy||(Gy={})),function(t){t.Pg="",t.Bg="anonymous",t.Og="use-credentials"}($y||($y={})),function(t){t.Dg="application/dash+xml",t.Ng="application/vnd.apple.mpegurl",t.Cg="application/x-mpegurl",t.Rg="video/mp4",t.xg="application/vnd.theoplayer.hesp+json",t.Lg="application/vnd.theo.hesp+json"}(Yy||(Yy={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Qy||(Qy={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Zy||(Zy={})),function(t){t[t.Mg=0]="Mg",t[t.Ug=1]="Ug",t[t.Xg=2]="Xg",t[t.Fg=3]="Fg",t[t.Hg=4]="Hg"}(Ky||(Ky={}));var wp,gp=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Mg),(e=t.call(this,Pf.gf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),mp=function(t){function n(n){var i;return(i=t.call(this,Pf.Ef)||this).currentTime=n,i}return E(n,t),n}(Iu),yp=function(t){function n(n){var i;return(i=t.call(this,Pf.If)||this).currentTime=n,i}return E(n,t),n}(Iu);!function(t){t.zg="canplay",t.Vg="canplaythrough",t.Wg="loadeddata",t.Gg="loadedmetadata",t.w_="readystatechange",t.qg="waiting",t.Yg="playing"}(wp||(wp={}));var pp,_p,bp=[wp.zg,wp.Vg,wp.Wg,wp.Gg,wp.w_,wp.qg,wp.Yg],kp=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Ug),(e=t.call(this,wp.Gg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Ap=function(t){function n(n){var i;return(i=t.call(this,Pf._f)||this).duration=n,i}return E(n,t),n}(Iu),Tp=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Df)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Iu),Sp=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Ff)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Iu),Ep=function(t){function n(n){var i;return(i=t.call(this,Pf.mf)||this).currentTime=n,i}return E(n,t),n}(Iu),Ip=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Xg),(e=t.call(this,wp.Wg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Rp=function(t){function n(n){var i;return(i=t.call(this,Pf.Bf)||this).currentTime=n,i}return E(n,t),n}(Iu),Cp=function(t){function n(n){var i;return(i=t.call(this,Pf.Pf)||this).currentTime=n,i}return E(n,t),n}(Iu),Dp=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Hf)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Iu),Np=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Fg),(e=t.call(this,wp.zg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Pp=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Hg),(e=t.call(this,wp.Vg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),xp=function(t){function n(n,i){var e;return(e=t.call(this,wp.w_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Iu),Bp=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).errorObject=n,i}return E(n,t),n.prototype.n_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Jm);function Op(t){switch(t){case pp.ALL:case pp.CONTENT:return t;default:return pp.NONE}}function Lp(t){var n,e,r,s=gy(t||{});return s.libraryLocation&&(s.libraryLocation=vg(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=tp(s.cast),s.ads=lp(s.ads),s.analytics=vp(s.analytics),s.mutedAutoplay=Op(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=G(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return vg(t)}catch(t){return void i.gr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Mp(t){return{jg:t.jg,Qg:t.Qg,Zg:t.Zg,mu:t.mu,Kg:t.Kg,Jg:t.Jg,$g:t.$g,tm:t.tm,ag:t.ag,nm:t.nm,im:t.im,um:t.um,cm:t.cm}}function jp(t,n,i){if(n!==i){var e=n.jg,r=n.Qg,s=n.Jg,u=n.$g,o=n.tm,a=n.ag,h=n.nm;n.um,n.im;var c=n.cm,f=i.jg,l=i.Qg,v=i.Zg,d=i.Kg,w=i.Jg,g=i.$g,m=i.tm,y=i.ag,_=i.nm;i.um,i.im;var b=i.cm;a!==Ky.Mg&&t.Qs(new gp(f,y)),g&&!u?t.Qs(new mp(f)):!g&&u&&t.Qs(new yp(f)),y>=Ky.Ug&&t.Qs(new kp(f,y)),l===r||p(l)&&p(r)||t.Qs(new Ap(l)),m!==o&&t.Qs(new Tp(f,m)),f!==e&&t.Qs(new Sp(f,void 0)),v&&t.Qs(new Ep(f)),y>=Ky.Xg&&t.Qs(new Ip(f,y)),_&&!h?t.Qs(new Rp(f)):!_&&h&&t.Qs(new Cp(f)),b===c&&w===s||t.Qs(new Dp(f,b)),y>=Ky.Fg&&t.Qs(new Np(f,y)),y>=Ky.Hg&&t.Qs(new Pp(f,y)),y!==a&&t.Qs(new xp(f,y)),d&&t.Qs(new Bp(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(pp||(pp={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(_p||(_p={}));var Fp=400,Up=.25,Hp={hm:.2,fm:.45,vm:.7,lm:3,dm:$p,wm:Yp},Xp={hm:.4,fm:.65,vm:1,lm:3,dm:$p,wm:Yp},zp={hm:.4,fm:.7,vm:.9,lm:3,dm:$p,wm:Yp},Vp={hm:.4,fm:.65,vm:1,lm:3,dm:$p,wm:Yp},Wp={hm:.5,fm:1.125,vm:1.75,lm:2.55,dm:$p,wm:Yp};function qp(){var t;return t=i.Lr.Ge?Vp:i.Lr.je?Xp:i.Lr.Ye?"Android"===i.Mr.Ur?zp:Hp:Wp,i.Mr.Xr?function(t){if(i.Mr.Xr){var n=(Fp+250)/1e3,e=g.max(n,t.hm),r=g.max(e+Up,t.fm),s=g.max(r+Up,t.vm);return{hm:e,fm:r,vm:s,lm:g.max(s+Up,t.lm),dm:$p,wm:Yp}}return t}(t):t}var Gp,$p=.92,Yp=1.08;function Qp(t){return{goLive:function(){return t._m()},get isLive(){return t.gm},get currentServerLiveTime(){return t.mm},get currentLatency(){return t.ym},get latency(){return t.pm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new l("Invalid latency configuration");t.pm=n},get manifest(){return t.Am},get metrics(){return t.Tm},addEventListener:function(n,i){t.Zs(Kp(n),i)},removeEventListener:function(n,i){t.tu(Kp(n),i)}}}!function(t){t[t.j_=0]="j_",t[t.Sm=1]="Sm",t[t.Em=2]="Em"}(Gp||(Gp={}));var Zp=["analytic","golive","nogolive","bufferedchange"];function Kp(t){var n=Sy(t,Ay);return(G(n)?[n]:n).filter(function(t){return Qs(Zp,t)})}var Jp,t_=function(t){function n(){var n,i;return(n=t.call(this)||this).P_=void 0,n.$w=void 0,n.Im={windowStart:(i=qp()).hm,windowEnd:i.vm,target:i.fm,maxOffset:i.lm},n.P_=void 0,n}E(n,t);var i=n.prototype;return i.x_=function(t){t.Zs(Zp,this.js)},i.L_=function(t){t.tu(Zp,this.js)},i._m=function(){var t;null==(t=this.P_)||t._m()},i.xd=function(){this.$s(),this.P_&&this.L_(this.P_),this.P_=void 0},T(n,[{key:"M_",get:function(){return this.P_},set:function(t){var n=this.P_;t!==n&&(n&&this.L_(n),t&&this.x_(t),this.P_=t,this.P_&&(this.P_.pm=this.Im))}},{key:"t_",get:function(){return this.$w||(this.$w=Qp(this)),this.$w}},{key:"mm",get:function(){var t;return null==(t=this.P_)?void 0:t.mm}},{key:"ym",get:function(){var t;return null==(t=this.P_)?void 0:t.ym}},{key:"gm",get:function(){return!!this.P_&&this.P_.gm}},{key:"pm",get:function(){return this.P_?this.P_.pm:this.Im},set:function(t){this.P_&&(this.P_.pm=t),this.Im=t}},{key:"Am",get:function(){var t;return null==(t=this.P_)?void 0:t.Am}},{key:"Tm",get:function(){var t;return null==(t=this.P_)?void 0:t.Tm}}]),n}(Su),n_=function(t){function n(n){var i;return(i=t.call(this)||this).P_=void 0,i.Rm=[],i.Dm=!1,i.Nm=new By,i.Cm=new By,i.Pm=new Hy,i.Bm=new t_,i.Om=!1,i.xm(n),n.Js(i.js),i.P_=n,i.Nm.M_=n.Lm,i.Cm.M_=n.Mm,i.Pm.M_=n.Um,i.Bm.M_=n.Xm,i}E(n,t);var i=n.prototype;return i.Fm=function(){this.P_.Fm()},i.Hm=function(){this.P_.Hm()},i.zm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_u(this.Rm.map(function(t){return t.zm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},i.Vm=function(){return this.P_.Vm()},i.Wm=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Fr.awrap(this.P_.Wm(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.Gm=function(){return this.M_.Gm()},i.qm=function(){this.M_.qm()},i.Ym=function(){this.M_.Ym()},i.jm=function(){if(!this.Dm){for(var t=0,n=this.Rm;t<n.length;t++){n[t].jm()}this.Dm=!0}},i.Qm=function(t){this.P_.Qm(t)},i.Zm=function(){this.P_.Zm()},i.Km=function(){this.P_.Km()},i.Jm=function(){this.P_.Jm()},i.$m=function(){return this.P_.$m()},i.iy=function(){return this.P_.iy()},i.ey=function(){for(var t=[],n=0,i=this.Rm;n<i.length;n++){var e=i[n];t.push.apply(t,e.ey())}return t},i.sy=function(t){for(var n=!1,i=0,e=this.Rm;i<e.length;i++){n=e[i].sy(t)||n}return n},i.Qs=function(n){this.sy(n)||t.prototype.Qs.call(this,n)},i.xm=function(t){this.Rm.push(t)},i.uy=function(t){$s(this.Rm,t)},i.oy=function(t){if(t!==this.P_){var n=this.P_;n.Zm(),n.ou(this.js);var i=Mp(this),e=this.vy,r=this.iy();this.P_=t,this.Nm.M_=t.Lm,this.Cm.M_=t.Mm,this.Pm.M_=t.Um,this.Bm.M_=t.Xm,jp(this,i,this);var s=this.vy;s!==e&&this.Qs(new Wy(s)),this.iy()!==r&&this.Qs(new Vy),t.Js(this.js),t.Qm(n)}},i.ly=function(){},i.xd=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.$s(),this.P_.Zm(),t=0,n=this.Rm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Fr.awrap(i.xd());case 7:t++,e.next=3;break;case 10:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.Bm.xd();case 14:case"end":return e.stop()}},null,this,null,qe)},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",_u(this.Rm.map(function(t){return t.D_()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Lm",get:function(){return this.Nm}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"wy",get:function(){return this.P_.wy}},{key:"_y",get:function(){return this.P_._y},set:function(t){this.P_._y=t}},{key:"vy",get:function(){return this.P_.vy}},{key:"jg",get:function(){return this.P_.jg},set:function(t){this.P_.jg=t}},{key:"Qg",get:function(){return this.P_.Qg}},{key:"gy",get:function(){return this.P_.gy}},{key:"Zg",get:function(){return this.P_.Zg}},{key:"mu",get:function(){return this.P_.mu}},{key:"Kg",get:function(){return this.P_.Kg}},{key:"Xm",get:function(){return this.Bm}},{key:"yy",get:function(){return this.P_.yy}},{key:"Tm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.by,i+=a.py,e+=a.Ay,r+=a.Ty,s+=a.Sy,u.amountOfBufferedAudioSegments+=a.Ey.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Ey.amountOfBufferedVideoSegments}return{by:n,py:i,Ay:e,Ty:r,Sy:s,Ey:u}}(this.Rm.map(function(t){return t.Tm}))}},{key:"Jg",get:function(){return this.P_.Jg},set:function(t){this.P_.Jg=t}},{key:"Iy",get:function(){return this.P_.Iy}},{key:"$g",get:function(){return this.P_.$g}},{key:"tm",get:function(){return this.P_.tm},set:function(t){this.P_.tm=t}},{key:"Ry",get:function(){return this.P_.Ry}},{key:"Dy",get:function(){return this.P_.Dy},set:function(t){this.P_.Dy=t}},{key:"ag",get:function(){return this.P_.ag}},{key:"Ny",get:function(){return this.P_.Ny}},{key:"nm",get:function(){return this.P_.nm}},{key:"im",get:function(){return this.P_.im}},{key:"um",get:function(){return this.P_.um}},{key:"cm",get:function(){return this.P_.cm},set:function(t){this.P_.cm=t}},{key:"Cy",get:function(){return this.P_.Cy}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"M_",get:function(){return this.P_},set:function(t){this.oy(t)}}]),n}(zy),i_=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(lf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Jp||(Jp={}));var e_=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,l.captureStackTrace&&l.captureStackTrace(Jt(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(tn);function r_(t){vy(t,"MEDIA_ERR_ABORTED",Jp.ABORTED),vy(t,"MEDIA_ERR_NETWORK",Jp.NETWORK),vy(t,"MEDIA_ERR_DECODE",Jp.DECODE),vy(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Jp.SRC_NOT_SUPPORTED),vy(t,"MEDIA_ERR_ENCRYPTED",Jp.ENCRYPTED)}function s_(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new e_(Jp.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new e_(u_(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function u_(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Jp.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Jp.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Jp.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Jp.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);return i===n.ErrorCategory.NETWORK?Jp.NETWORK:i===n.ErrorCategory.SOURCE?Jp.SRC_NOT_SUPPORTED:i===n.ErrorCategory.LICENSE?Jp.LICENSE_INVALID:i===n.ErrorCategory.CONTENT_PROTECTION?Jp.ENCRYPTED:i===n.ErrorCategory.AD?Jp.ADVERTISEMENT_ERROR:Jp.DECODE}r_(e_),r_(e_.prototype);var o_,a_=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.E_=function(n){return t.prototype.E_.call(this,n)},i.n_=function(){return Ny(this)},n}(ay);!function(t){t.Sd="audio",t.Ed="video",t.$n="text",t.Id="image",t.vd="unknown"}(o_||(o_={}));var h_=function(){function t(){this.By=[],this.$w=void 0}var n=t.prototype;return n.Oy=function(t){this.By.push(t),this.$w&&this.$w.push(t.t_)},n.Gc=function(t){$s(this.By,t),this.$w&&$s(this.$w,t.t_)},n.S_=function(t){return this.By[t]},n.xy=function(t){return z(t)?Zs(this.By,t):Qs(this.By,t)},n.D_=function(){Ks(this.By),this.$w&&Ks(this.$w)},T(t,[{key:"N_",get:function(){return this.By}},{key:"C_",get:function(){return this.By.length}},{key:"t_",get:function(){var t,n;return this.$w||(this.$w=((n=(t=this).N_.map(function(t){return t.t_})).item=function(n){var i=0|n,e=t.S_(i);return e&&e.t_||void 0},n)),this.$w}}]),t}(),c_=function(t){function n(n){var i;return(i=t.call(this,ny.y_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new f_(this.i_.t_)},n}(iy),f_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(ey),l_=0;function v_(){return l_++}var d_=0;var w_=0;function g_(){return w_++}var m_=0;function y_(){return m_++}var p_=0;var __=function(t){function n(n){var i;return(i=t.call(this)||this).fs=o_.Sd,i.Ly=void 0,i.Cc=void 0,i.My=void 0,i.Uy=void 0,i.Xy=!1,i.By=void 0,i.$w=void 0,i.Ly=n,i.Uy=v_(),i.Cc=p_+++"",i.My=n.label,i.By=new h_,i.Fy(),i}E(n,t);var i=n.prototype;return i.Hy=function(t){this.F_=t},i.Fy=function(){this.F_=this.zy},T(n,[{key:"X_",get:function(){}},{key:"F_",get:function(){return this.Xy},set:function(t){this.Xy!==t&&(this.Xy=t,this.zy=t,this.Qs(new hy(this)))}},{key:"zy",get:function(){return this.Ly.enabled},set:function(t){this.Ly.enabled=t}},{key:"t_",get:function(){return this.$w||(this.$w=Cy(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"V_",get:function(){return this.Ly.kind}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new c_(this)))}},{key:"G_",get:function(){return this.Ly.language}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Vy",get:function(){return this.Ly}},{key:"q_",get:function(){return this.By}},{key:"Y_",get:function(){},set:function(t){}}]),n}(Su),b_=0;var k_,A_,T_,S_=function(t){function n(n){var i;return(i=t.call(this)||this).fs=o_.Ed,i.Ly=void 0,i.Cc=void 0,i.Uy=void 0,i.Xy=!1,i.By=void 0,i.My=void 0,i.$w=void 0,i.Ly=n,i.Uy=v_(),i.Cc=b_+++"",i.By=new h_,i.My=n.label,i.Fy(),i}E(n,t);var i=n.prototype;return i.Fy=function(){this.F_=this.zy},i.Hy=function(t){this.F_=t},T(n,[{key:"X_",get:function(){}},{key:"F_",get:function(){return this.Xy},set:function(t){this.Xy!==t&&(this.Xy=t,this.zy=t,this.Qs(new hy(this)))}},{key:"zy",get:function(){return!!this.Ly.selected},set:function(t){this.Ly.selected=t}},{key:"t_",get:function(){return this.$w||(this.$w=Cy(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"V_",get:function(){return"main"}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new c_(this)))}},{key:"G_",get:function(){return this.Ly.language}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Vy",get:function(){return this.Ly}},{key:"q_",get:function(){return this.By}},{key:"Y_",get:function(){},set:function(t){}}]),n}(Su),E_=function(t){function n(n){var i;return(i=t.call(this,Pf.sf)||this).yy=n,i}return E(n,t),n}(Iu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(k_||(k_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(A_||(A_={})),function(t){t.Wy="cue",t.Gy="region",t.qy="stylesheet"}(T_||(T_={}));var I_,R_={"line-left":"start",center:"middle","line-right":"end"},C_={start:"line-left",middle:"center",end:"line-right"};function D_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function N_(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),p(r)?e:r;var i,e,r}!function(t){t.Yy="jy",t.Qy="Zy",t.y_="qc"}(I_||(I_={}));var P_=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Ky=i,e}return E(n,t),n}(iy),x_=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(ey);function B_(t){var n,i=[I_.Yy,I_.Qy,I_.y_],e={get track(){return t.i_.t_},get id(){return t.H_},get uid(){return t.z_},get startTime(){return t.Jy},get endTime(){return t.$y},get content(){return t.nk},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Eu(e),t.Zs(i,function(t){return n.Qs(t.t_)}),e}function O_(){}function L_(t){return wy(B_(t),{get align(){return t.ek},get line(){return t.rk},get lineAlign(){return t.ck},get position(){return t.hk},get positionAlign(){return t.fk},get region(){return t.vk?t.vk.t_:null},get size(){return t.Cu},get snapToLines(){return t.lk},get text(){return t.nk},get vertical(){return t.dk}})}var M_=function(t){function n(n){return t.call(this,I_.y_,n)||this}return E(n,t),n.prototype.n_=function(){return new j_(this.Ky.t_)},n}(P_),j_=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(x_),F_=.02;function U_(t,n){return Ut(t.Jy,n.Jy,F_)&&Ut(t.$y,n.$y,F_)&&t.H_===n.H_}var H_=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Uy=void 0,u.Cc=void 0,u.wk=void 0,u._k=void 0,u.$w=void 0,u.gk=void 0,u.yk=!1,u.bk=void 0,u.pk=void 0,u.Ak=-1,u.Uy=y_(),u.wk=n,u._k=i,u.bk=e,u.pk=Boolean(r),u.Cc=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.n_=function(){return B_(this)},i.Tk=function(t){return this===t||yy(this,t)&&U_(this,t)},i.xd=function(){this.$s()},T(n,[{key:"Jy",get:function(){return this.wk},set:function(t){this.wk!==t&&(this.wk=t,this.Qs(new M_(this)))}},{key:"$y",get:function(){return this._k},set:function(t){this._k!==t&&(this._k=t,this.Qs(new M_(this)))}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Sk",get:function(){return this.yk},set:function(t){this.yk=t}},{key:"i_",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"nk",get:function(){return this.bk},set:function(t){this.bk!==t&&(this.bk=t,this.Qs(new M_(this)))}},{key:"Ek",get:function(){return this.pk},set:function(t){this.pk=t}}]),n}(Su);function X_(t,n){return t.nk===n.nk&&t.rk===n.rk&&t.ck===n.ck&&t.hk===n.hk&&t.fk===n.fk&&t.vk===n.vk&&t.lk===n.lk&&t.Cu===n.Cu&&t.ek===n.ek&&t.dk===n.dk}var z_=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).rk="auto",u.ck="start",u.hk="auto",u.fk="auto",u.vk=void 0,u.lk=!0,u.Cu=100,u.ek="center",u.dk="",u}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&X_(this,n)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=L_(this)),this.$w}},{key:"fs",get:function(){return T_.Wy}}]),n}(H_);function V_(t){var n=Z(t.rk)?t.rk:y(t.rk);return p(n)||t.lk||!(n<0||n>100)?p(n)?t.lk?-1:100:n:100}function W_(t){return N_(t.hk,t.ek)}function q_(t){return D_(t.fk,t.ek)}function G_(t){var n,i=q_(t),e=W_(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return g.min(t.Cu,n)}function $_(t){return{get id(){return t.H_},get identifier(){return t.H_},get lines(){return t.Ik},get regionAnchorX(){return t.Rk},get regionAnchorY(){return t.Dk},get scrollValue(){return t.Nk},get viewportAnchorX(){return t.Ck},get viewportAnchorY(){return t.Pk},get width(){return t.Bk}}}var Y_=function(){function t(t,n,i,e,r,s,u,o){this.$w=void 0,this.H_=t,this.Bk=n,this.Ik=i,this.Rk=e,this.Dk=r,this.Ck=s,this.Pk=u,this.Nk=o}return T(t,[{key:"t_",get:function(){return this.$w||(this.$w=$_(this)),this.$w}},{key:"fs",get:function(){return T_.Gy}}]),t}(),Q_=function(){function t(){}var n=t.prototype;return n.Ok=function(t){return this.xk()*t},n.Lk=function(t){return this.Mk(t)>0},n.Uk=function(t){return this.Mk(t)>=0},n.Xk=function(t,n){return this.Hk(t).Fk(n)},n.Tk=function(t){return 0===this.Mk(t)},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.Vk=function(){return this.Wk()?this.Gk():this},n.qk=function(t){return this.Oy(t.Gk())},n.Hk=function(t){return this.qk(t).Vk()},t}();function Z_(t,n){return t.Yk()?n.Yk()?Os.Is:Os.Rs:n.Yk()?Os.Ds:t.jk()?n.jk()&&t.Wk()===n.Wk()?Os.Is:t.Wk()?Os.Ds:Os.Rs:n.Wk()?Os.Rs:Os.Ds}var K_=function(){function t(t,n){this.Qk=void 0,this.Zk=void 0,this.Qk=t,this.Zk=n}t.Kk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Jk=function(n){return n.unsigned?new t(n,vt.UZERO):new t(n,n.isNegative()?vt.NEG_ONE:vt.ZERO)},t.$k=function(n,i){if(p(n))return i?t.ib:t.eb;if(i){if(n<0)return t.ib;if(n>=3.402823669209385e38)return t.sb}else{if(n<=-1.7014118346046923e38)return t.ub;if(n+1>=1.7014118346046923e38)return t.ob}return n<0?t.$k(-n,i).Gk():t.Kk(vt.fromNumber(n%0x10000000000000000),vt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.cb=function(){return this.Zk.unsigned},n.hb=function(){return this.Qk.isZero()&&this.Zk.isZero()},n.Wk=function(){return this.Zk.isNegative()},n.fb=function(){return this.cb()?t.Kk(this.Qk,this.Zk,!1):this},n.vb=function(){return this.cb()?this:t.Kk(this.Qk,this.Zk,!0)},n.wb=function(){return this.Qk},n.xk=function(){return this.Wk()?-this.Gk().xk():0x10000000000000000*this.Zk.toNumber()+this.Qk.toUnsigned().toNumber()},n._b=function(){return this.Qk.toInt()},n.Tk=function(t){return(this.cb()===t.cb()||this.Zk.getHighBits()>>>31!=1||t.Zk.getHighBits()>>>31!=1)&&(this.Zk.toUnsigned().eq(t.Zk.toUnsigned())&&this.Qk.toUnsigned().eq(t.Qk.toUnsigned()))},n.Mk=function(t){if(this.Tk(t))return Os.Is;var n=this.Wk(),i=t.Wk();if(n&&!i)return Os.Ds;if(!n&&i)return Os.Rs;if(!this.cb())return this.qk(t).Wk()?Os.Ds:Os.Rs;var e=this.vb(),r=t.vb(),s=r.Zk.comp(e.Zk);return s>0||0===s&&r.Qk.gt(e.Qk)?Os.Ds:Os.Rs},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.gb=function(t){return this.Mk(t)>0},n.mb=function(t){return this.Mk(t)>=0},n.yb=function(){return new t(this.Qk.not(),this.Zk.not())},n.kb=function(n){return new t(this.Qk.and(n.Qk),this.Zk.and(n.Zk))},n.bb=function(n){return new t(this.Qk.or(n.Qk),this.Zk.or(n.Zk))},n.pb=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shl(i),this.Zk.shl(i).or(this.Qk.shru(64-i)),this.cb()):t.Kk(vt.ZERO,this.Qk.shl(i-64),this.cb())},n.Ab=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shru(i).or(this.Zk.shl(64-i)),this.Zk.shr(i),this.cb()):t.Kk(this.Zk.shr(i-64),this.Zk.isNegative()?vt.NEG_ONE:vt.ZERO,this.cb())},n.Tb=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shru(i).or(this.Zk.shl(64-i)),this.Zk.shru(i),this.cb()):64===i?t.Kk(this.Zk,vt.ZERO,this.cb()):t.Kk(this.Zk.shru(i-64),vt.ZERO,this.cb())},n.Oy=function(n){var i=this.Zk.high>>>16,e=65535&this.Zk.high,r=this.Zk.low>>>16,s=65535&this.Zk.low,u=this.Qk.high>>>16,o=65535&this.Qk.high,a=this.Qk.low>>>16,h=65535&this.Qk.low,c=n.Zk.high>>>16,f=65535&n.Zk.high,l=n.Zk.low>>>16,v=65535&n.Zk.low,d=n.Qk.high>>>16,w=65535&n.Qk.high,g=n.Qk.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=h+(65535&n.Qk.low))>>>16,T&=65535,k+=(A+=a+g)>>>16,A&=65535,b+=(k+=o+w)>>>16,k&=65535,_+=(b+=u+d)>>>16,b&=65535,p+=(_+=s+v)>>>16,_&=65535,y+=(p+=r+l)>>>16,p&=65535,m+=(y+=e+f)>>>16,y&=65535,m+=i+c,m&=65535;var S=this.cb(),E=vt.fromBits(p<<16|_,m<<16|y,S),I=vt.fromBits(A<<16|T,b<<16|k,S);return t.Kk(I,E,S)},n.qk=function(t){return this.Oy(t.Gk())},n.Gk=function(){return this.yb().Oy(t.Sb)},n.Eb=function(n){if(this.hb()||n.hb())return this.cb()?t.ib:t.eb;if(this.Wk())return n.Wk()?this.Gk().Eb(n.Gk()):this.Gk().Eb(n).Gk();if(n.Wk())return this.Eb(n.Gk()).Gk();if(this.Zk.isZero()&&0===this.Qk.high&&n.Zk.isZero()&&0===n.Qk.high)return t.Jk(this.Qk.multiply(n.Qk));var i=vt.fromBits(4294967295,0,!0),e=this.Qk.and(i),r=this.Qk.shru(32),s=this.Zk.and(i),u=this.Zk.shru(32),o=n.Qk.and(i),a=n.Qk.shru(32),h=n.Zk.and(i),c=n.Zk.shru(32),f=vt.UZERO,l=vt.UZERO,v=vt.UZERO,d=vt.UZERO;f=f.add(e.mul(o)),l=l.add(f.shru(32)),f=f.and(i),l=l.add(r.mul(o)),v=v.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),v=v.add(l.shru(32)),l=l.and(i),v=v.add(s.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=vt.fromBits(f.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0),g=vt.fromBits(v.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Kk(w,g,this.cb())},n.Ib=function(n){var i,e,r=n;if(r.hb())throw new RangeError("division by zero");if(this.hb())return this.cb()?[t.ib,t.ib]:[t.eb,t.eb];if(this.cb()){if(r.cb()||(r=r.vb()),r.gb(this))return[t.ib,this];if(r.gb(this.Tb(1)))return[e=t.Rb,i=this.qk(r)];e=t.ib}else{if(this.Tk(t.ub)){if(r.Tk(t.Sb)||r.Tk(t.Db))return[t.ub,t.eb];if(r.Tk(t.ub))return[t.Sb,t.eb];var s=this.Ab(1).Nb(r).pb(1);return s.Tk(t.eb)?e=r.Wk()?t.Sb:t.Db:(i=this.qk(r.Eb(s)),e=s.Oy(i.Nb(r))),[e,i=this.qk(r.Eb(e))]}if(r.Tk(t.ub))return this.cb()?[t.ib,this]:[t.eb,this];if(this.Wk()){if(r.Wk())return this.Gk().Ib(r.Gk());var u=this.Gk().Ib(r);return e=u[0],i=u[1],[e.Gk(),i.Gk()]}if(r.Wk()){var o=this.Ib(r.Gk());return e=o[0],i=o[1],[e.Gk(),i.Gk()]}e=t.eb}for(i=this;i.mb(r);){for(var a=g.max(1,g.floor(i.xk()/r.xk())),h=g.ceil(g.log(a)/g.LN2),c=h<=48?1:g.pow(2,h-48),f=t.$k(a),l=f.Eb(r);l.Wk()||l.gb(i);)a-=c,l=(f=t.$k(a,this.cb())).Eb(r);f.hb()&&(f=t.Sb),e=e.Oy(f),i=i.qk(l)}return[e,i]},n.Nb=function(t){return this.Ib(t)[0]},n.Cb=function(t){return this.Ib(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.hb())return"0";if(this.Wk()){if(this.Tk(t.ub)){var e=t.$k(i),r=this.Nb(e),s=r.Eb(e).qk(this);return r.toString(i)+s._b().toString(i)}return"-"+this.Gk().toString(i)}for(var u=t.$k(g.pow(i,6),this.cb()),o=this,a="";;){var h=o.Nb(u),c=(o.qk(h.Eb(u))._b()>>>0).toString(i);if((o=h).hb())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();K_.eb=K_.Jk(vt.ZERO),K_.ib=K_.Jk(vt.UZERO),K_.Sb=K_.Jk(vt.ONE),K_.Rb=K_.Jk(vt.UONE),K_.Db=K_.Jk(vt.NEG_ONE),K_.ob=K_.Kk(vt.NEG_ONE,vt.MAX_VALUE,!1),K_.sb=K_.Kk(vt.MAX_UNSIGNED_VALUE,vt.MAX_UNSIGNED_VALUE,!0),K_.ub=K_.Kk(vt.ZERO,vt.MIN_VALUE,!1);var J_=function(){function t(t,n){void 0===n&&(n=1),this.Pb=void 0,this.Bb=void 0,this.Pb=t,this.Bb=n}t.Ob=function(n){return new t(g.ceil(n.Pb),n.Bb)},t.xb=function(n){return new t(g.floor(n.Pb),n.Bb)},t.Lb=function(t,n){return t.Uk(n)?t:n},t.Mb=function(t,n){return t.Fk(n)?t:n};var n=t.prototype;return n.Oy=function(n){return this.Bb>=n.Bb?new t(this.Pb+n.Ub(this.Bb).Pb,this.Bb):new t(this.Ub(n.Bb).Pb+n.Pb,n.Bb)},n.Lk=function(t){return t.zk(this)},n.Uk=function(t){return t.Fk(this)},n.Hk=function(n){return this.Bb>=n.Bb?new t(g.abs(this.Pb-n.Ub(this.Bb).Pb),this.Bb):n.Hk(this)},n.Xk=function(t,n){return this.Hk(t).Fk(n)},n.Mk=function(t){return i=t,(n=this).Bb>=i.Bb?Vs(n.Pb,i.Ub(n.Bb).Pb):Vs(n.Ub(i.Bb).Pb,i.Pb);var n,i},n.Tk=function(t){return 0===this.Mk(t)},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.Ub=function(n){return new t(this.Pb*(n/this.Bb),n)},n.qk=function(n){return this.Bb>=n.Bb?new t(this.Pb-n.Ub(this.Bb).Pb,this.Bb):new t(this.Ub(n.Bb).Pb-n.Pb,n.Bb)},n.Xb=function(n){return new t(this.Pb*n,this.Bb)},T(t,[{key:"jk",get:function(){return!isFinite(this.Pb)}},{key:"Fb",get:function(){return this.Pb/this.Bb}}]),t}();J_.Hb=new J_(1/6,1),J_.eb=new J_(0),J_.zb=new J_(1/0),J_.Vb=1e6;var tb=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bb=void 0,e.Ai=n.toSigned(),e.Bb=i>>>0,e}E(n,t),n.Wb=function(t,i){return void 0===i&&(i=1e6),n.$k(t*i,i)},n.$k=function(t,i){return p(t)?n.Gb:t===1/0?n.qb:t===-1/0?n.Yb:new n(vt.fromNumber(t),i)},n.Jk=function(t,i){return new n(t,i)},n.jb=function(t){return n.Wb(t.Fb,1e6)},n.Qb=function(t){return new n(vt.fromNumber(t.getTime()),1e3)},n.Lb=function(t,n){return t.Uk(n)?t:n},n.Mb=function(t,n){return t.Fk(n)?t:n},n.Zb=function(t,i,e){return n.Lb(i,n.Mb(e,t))};var i=n.prototype;return i.Wk=function(){return this.Ai.isNegative()},i.hb=function(){return 0!==this.Bb&&this.Ai.isZero()},i.jk=function(){return 0===this.Bb&&!this.Ai.isZero()},i.Yk=function(){return 0===this.Bb&&this.Ai.isZero()},i.xk=function(){if(0===this.Bb)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.Bb),n=this.Ai.subtract(t.multiply(this.Bb));return t.toNumber()+n.toNumber()/this.Bb},i.wb=function(){if(0===this.Bb)throw new l("Failed to convert timestamp");return this.Ai},i.Kb=function(){return new Date(0===this.Bb?NaN:this.Ub(1e3).Ai.toNumber())},i.Jb=function(){return new J_(0===this.Bb?this.xk():this.Ai.toNumber(),this.Bb)},i.Ub=function(t,i){void 0===i&&(i=eb.$b);var e=this.Bb;if(e===t)return this;if(0===e)return this;var r=zt(e,t);return new n(function(t,n,i){var e=t.Ib(n),r=e[0],s=e[1];if(s.hb())return r;if(i===eb.$b)return s.Wk()?r.qk(K_.Sb):r;if(i===eb.tp)return s.Wk()?r:r.Oy(K_.Sb);var u=s.Eb(K_.$k(2));return u.Wk()?u.Gk().zk(n)?r:r.qk(K_.Sb):u.zk(n)?r:r.Oy(K_.Sb)}(K_.Jk(this.Ai).Eb(K_.$k(t/r)),K_.$k(e/r),i).wb(),t)},i.Mk=function(t){if(this===t)return Os.Is;if(0===this.Bb||0===t.Bb)return Z_(this,t);if(this.hb())return t.hb()?Os.Is:t.Wk()?Os.Rs:Os.Ds;if(t.hb())return this.Wk()?Os.Ds:Os.Rs;var n=g.min(this.Bb,t.Bb),i=this.Ub(n,eb.np).Ai,e=t.Ub(n,eb.np).Ai;return i.compare(e)},i.Gk=function(){return 0===this.Bb?nb(this):new n(this.Ai.negate(),this.Bb)},i.Oy=function(t){if(0===this.Bb||0===t.Bb)return ib(this,t);if(this.hb())return t;if(t.hb())return this;var i=g.max(this.Bb,t.Bb),e=this.Ub(i,eb.np),r=t.Ub(i,eb.np);return new n(e.Ai.add(r.Ai),i)},i.Eb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk()||!isFinite(t)){if(this.hb()||0===t)return n.Gb;var i=this.Wk()?n.Yb:n.qb;return t<0?i.Gk():i}return this.hb()?this:new n(0===t?vt.ZERO:this.Ai.multiply(t),this.Bb)},i.Nb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Gk():this:t<0?this.Gk():this:n.Gb;if(!isFinite(t))return new n(vt.ZERO,this.Bb);if(this.hb())return 0===t?n.Gb:new n(vt.ZERO,this.Bb);if(0===t){var i=this.Wk()?n.Yb:n.qb;return 1/t<0?i.Gk():i}return new n(this.Ai.divide(t),this.Bb)},i.ip=function(){return[this.Ai.low,this.Ai.high,this.Bb]},n}(Q_);function nb(t){return t.Yk()?t:t.Wk()?tb.qb:tb.Yb}function ib(t,n){return t.Yk()||n.Yk()?tb.Gb:t.jk()&&n.jk()?t.Wk()===n.Wk()?t:tb.Gb:t.jk()?t:n}tb.eb=new tb(vt.ZERO,1e6),tb.Gb=new tb(vt.ZERO,0),tb.qb=new tb(vt.ONE,0),tb.Yb=new tb(vt.NEG_ONE,0);var eb,rb=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bb=void 0,e.Ai=BigInt.asIntN(64,n),e.Bb=i>>>0,e}E(n,t),n.Wb=function(t,i){return void 0===i&&(i=1e6),n.$k(t*i,i)},n.$k=function(t,i){return p(t)?n.Gb:t===1/0?n.qb:t===-1/0?n.Yb:new n(BigInt(g.floor(t)),i)},n.Jk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.jb=function(t){return n.Wb(t.Fb,1e6)},n.Qb=function(t){return n.$k(t.getTime(),1e3)},n.Lb=function(t,n){return t.Uk(n)?t:n},n.Mb=function(t,n){return t.Fk(n)?t:n},n.Zb=function(t,i,e){return n.Lb(i,n.Mb(e,t))};var i=n.prototype;return i.Wk=function(){return this.Ai<BigInt(0)},i.hb=function(){return 0!==this.Bb&&this.Ai===BigInt(0)},i.jk=function(){return 0===this.Bb&&this.Ai!==BigInt(0)},i.Yk=function(){return 0===this.Bb&&this.Ai===BigInt(0)},i.xk=function(){if(0===this.Bb)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.Bb),n=this.Ai-t*BigInt(this.Bb);return Number(t)+Number(n)/this.Bb},i.wb=function(){if(0===this.Bb)throw new l("Failed to convert timestamp");return this.ep()},i.ep=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return vt.fromBits(Number(t),Number(n))},i.Kb=function(){return new Date(0===this.Bb?NaN:Number(this.Ub(1e3).Ai))},i.Jb=function(){return new J_(0===this.Bb?this.xk():Number(this.Ai),this.Bb)},i.Ub=function(t,i){void 0===i&&(i=eb.$b);var e=this.Bb;if(e===t)return this;if(0===e)return this;var r=zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===eb.$b)return r<BigInt(0)?e-BigInt(1):e;if(i===eb.tp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.Mk=function(t){if(this===t)return Os.Is;if(0===this.Bb||0===t.Bb)return Z_(this,t);if(this.hb())return t.hb()?Os.Is:t.Wk()?Os.Rs:Os.Ds;if(t.hb())return this.Wk()?Os.Ds:Os.Rs;var n=g.min(this.Bb,t.Bb),i=this.Ub(n,eb.np).Ai,e=t.Ub(n,eb.np).Ai;return i>e?Os.Rs:i<e?Os.Ds:Os.Is},i.Gk=function(){return 0===this.Bb?sb(this):new n(-this.Ai,this.Bb)},i.Oy=function(t){if(0===this.Bb||0===t.Bb)return ub(this,t);if(this.hb())return t;if(t.hb())return this;var i=g.max(this.Bb,t.Bb),e=this.Ub(i,eb.np),r=t.Ub(i,eb.np);return new n(e.Ai+r.Ai,i)},i.Eb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk()||!isFinite(t)){if(this.hb()||0===t)return n.Gb;var i=this.Wk()?n.Yb:n.qb;return t<0?i.Gk():i}return this.hb()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.Bb)},i.Nb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Gk():this:t<0?this.Gk():this:n.Gb;if(!isFinite(t))return new n(BigInt(0),this.Bb);if(this.hb())return 0===t?n.Gb:new n(BigInt(0),this.Bb);if(0===t){var i=this.Wk()?n.Yb:n.qb;return 1/t<0?i.Gk():i}return new n(this.Ai/BigInt(t),this.Bb)},i.ip=function(){var t=this.ep();return[t.low,t.high,this.Bb]},T(n,null,[{key:"eb",get:function(){return n.rp||(n.rp=new n(BigInt(0),1e6)),n.rp}},{key:"Gb",get:function(){return n.sp||(n.sp=new n(BigInt(0),0)),n.sp}},{key:"qb",get:function(){return n.op||(n.op=new n(BigInt(1),0)),n.op}},{key:"Yb",get:function(){return n.ap||(n.ap=new n(BigInt(-1),0)),n.ap}}]),n}(Q_);function sb(t){return t.Yk()?t:t.Wk()?rb.qb:rb.Yb}function ub(t,n){return t.Yk()||n.Yk()?rb.Gb:t.jk()&&n.jk()?t.Wk()===n.Wk()?t:rb.Gb:t.jk()?t:n}rb.rp=void 0,rb.sp=void 0,rb.op=void 0,rb.ap=void 0,function(t){t[t.$b=0]="$b",t[t.tp=1]="tp",t[t.np=2]="np"}(eb||(eb={}));var ob=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?rb:tb;function ab(t,n){return t.Mk(n)}var hb=9e4,cb=g.pow(2,33),fb=ob.$k(cb,hb),lb=fb.Nb(2);var vb,db,wb,gb,mb={cp:0,hp:1/0,fp:0},yb=6,pb=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],_b=[" ","\t","\n","\f","\r"],bb=/^\d*$/,kb=/.*[0-9]+.*/,Ab=/^[\d.-]+$/,Tb=/(^\.|\.$)/,Sb=/(\D\.|\.\D)/;function Eb(t,n){void 0===n&&(n=mb);var i={cg:[],vp:[],lp:[]},e=Ib(t),r=new Jo;if(jb(e),Rb(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?Pb(Cb(e,r,!1,!0,i,n),i):r.Bu(1);for(Rb(e,function(t){return"\n"===t},r);r.Pu<e.length;){Pb(Cb(e,r,!1,!1,i,n),i),Rb(e,function(t){return"\n"===t},r)}return i}function Ib(t){var n=bs(t,"\0"," "),i=bs(n,"\r\n","\n");return bs(i,"\r","\n")}function Rb(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function Cb(t,n,e,r,s,u){for(var o,a=0,h=n.Pu,c="",f=!1,l=!1,v=null,d=null,w=null;!f;)if(o=Rb(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),ks(o,"--\x3e")){if(r||1!==a&&(2!==a||l)){n.xu(h);break}l=!0,h=n.Pu,v=new z_(0,0,"",!1,c);try{xb(o,s.vp,v,u),c=""}catch(t){i.gr(t),v=null}}else{if(""===o)break;r&&As(o,"X-TIMESTAMP-MAP")&&(s.dp=Db(o)),r||2!==a||e||(Ss("STYLE",c.replace(/ /g,""))?(d={fs:T_.qy},c=""):Ss("REGION",c.replace(/ /g,""))&&(w=new Y_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Pu}if(v)return v.nk=c,v;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ks(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Yb(o,n);break;case"WIDTH":Kb(o,n);break;case"LINES":Zb(o,n);break;case"REGIONANCHOR":var a=$b(o);a&&(n.Rk=a[0],n.Dk=a[1]);break;case"VIEWPORTANCHOR":var h=$b(o);h&&(n.Ck=h[0],n.Pk=h[1]);break;case"SCROLL":Qb(o,n)}}}}(c,w),w;return null}function Db(t){var n,i,e=t.split("=")[1].trim().split(","),r=Nb(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Nb(e[0].trim(),"LOCAL")?e[0]:e[1];return{wp:(i=Number(r.split(/:(.*)/)[1].trim())||0,ob.$k(i,hb)),_p:ob.Wb(null!=(n=Lb(s.split(/:(.*)/)[1].trim(),new Jo))?n:0)}}function Nb(t,n){return As(t,n)}function Pb(t,n){t&&function(t){return t.fs===T_.Wy}(t)?n.cg.push(t):t&&function(t){return t.fs===T_.Gy}(t)?n.vp.push(t):t&&function(t){return t.fs===T_.qy}(t)&&n.lp.push(t)}function xb(t,n,i,e){var r=new Jo;if(Fb(t,r),i.Jy=Bb(Lb(t,r),e),Fb(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw l("Something went wrong with parsing a WebVTT Cue");r.Bu(3),Fb(t,r),i.$y=Bb(Lb(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ks(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Vb(a,n,i);break;case"VERTICAL":qb(a,n);break;case"D":Gb(a,n);break;case"LINE":case"L":Xb(a,n);break;case"POSITION":case"T":zb(a,n);break;case"SIZE":case"S":Wb(a,n);break;case"ALIGN":case"A":Hb(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function Bb(t,n){return t+n.cp}function Ob(t){return/^[0-9]$/.test(t)}function Lb(t,n){var i,e,r,s=bs(t,",","."),u=!1;if(n.Pu>=s.length||!Ob(s.charAt(n.Pu)))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var o=Rb(s,Ob,n),a=m(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var h=Rb(s,Ob,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var c=m(h,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=Rb(s,Ob,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=m(f,10)}else i=0,e=a,r=c;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var v=Rb(s,Ob,n),d=m(v,10);if(c>59||r>59)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Mb(t){return jb(Ib(t))}function jb(t){if(t.length<yb)return!1;for(var n=0;n<pb.length;n++){if(As(t,pb[n]))return!0}return!1}function Fb(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Qs(_b,i));)n.Bu(1);var i}function Ub(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!p(i)&&i>=0&&i<=100)return i}return null}function Hb(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ek=i;break;case"middle":n.ek="center"}}function Xb(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),kb.test(i)){var s,u;if(Ts(i,"%")){var o=Ub(i);if(null===o)return;s=o,u=!1}else{if(!Ab.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Sb.test(i)||Tb.test(i)))return;if(s=y(i),p(s))return;u=!0}switch(n.rk=s,n.lk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.ck=e;break;case"middle":n.ck="center"}}}function zb(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Ub(i);if(null!==s)switch(n.hk=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.fk=e;break;case"start":n.fk="line-left";break;case"middle":n.fk="center";break;case"end":n.fk="line-right"}}function Vb(t,n,i){var e=qs(i,function(n){return n.H_===t});void 0!==e&&(n.vk=e)}function Wb(t,n){var i=Ub(t);null!==i&&(n.Cu=i)}function qb(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.dk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.dk="lr";break;default:n.dk=""}}function Gb(t,n){"VERTICAL"===t.toUpperCase()?n.dk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.dk="lr")}function $b(t){if(t.indexOf(",")>=0){var n=Ub(t.substring(0,t.indexOf(","))),i=Ub(t.substring(t.indexOf(",")+1,t.length));return[Ft(n||0,0,100),Ft(i||100,0,100)]}return null}function Yb(t,n){n.H_=t}function Qb(t,n){"up"===t.toLowerCase()&&(n.Nk="up")}function Zb(t,n){bb.test(t)&&(n.Ik=m(t))}function Kb(t,n){var i=Ub(t);null!==i&&(n.Bk=i)}!function(t){t.gp="moov",t.mp="mvhd",t.yp="trak",t.kp="tkhd",t.bp="mdia",t.pp="mdhd",t.Ap="hdlr",t.Tp="minf",t.Sp="stbl",t.Ep="stsd",t.Ip="stsc",t.Rp="mvex",t.Dp="trex",t.Np="avc1",t.Cp="avcC",t.Pp="hev1",t.Bp="hvc1",t.Op="hvcC",t.xp="pasp",t.Lp="mp4a",t.Mp="esds",t.Up="wvtt",t.Xp="vttC",t.Fp="vlab",t.Hp="enca",t.zp="encv",t.Vp="moof",t.Wp="mfhd",t.Gp="traf",t.qp="tfhd",t.Yp="trun",t.jp="tfdt",t.Qp="senc",t.Zp="mdat",t.Kp="pssh",t.Jp="emsg",t.$p="sidx",t.tA="styp",t.nA="ftyp",t.iA="sinf",t.eA="frma"}(vb||(vb={})),function(t){t.Ed="vide",t.Sd="soun",t.rA="subt",t.sA="hint",t.uA="meta",t.oA="auxv"}(db||(db={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(wb||(wb={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(gb||(gb={}));var Jb=function(){function t(t,n){this.Hi=void 0,this.aA=void 0,this.Hi=t,this.aA=n}var n=t.prototype;return n.cA=function(){return vo(this.Hi,this.aA)},n.hA=function(){return _o(this.Hi,this.aA)},n.fA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Hi,this.aA)},n.vA=function(){return ko(this.Hi,this.aA)},n.lA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Hi,this.aA)},n.dA=function(){return To(this.Hi,this.aA)},n.wA=function(t){return go(this.Hi,this.aA,t)},n._A=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ko(t,n));return e}(this.Hi,this.aA,t)},n.gA=function(t){return Eo(this.Hi,this.aA,t)},n.mA=function(){return Uo(this.Hi,this.aA)},n.yA=function(t){this.aA.Bu(t)},n.Lu=function(){return new t(this.Hi,this.aA.Lu())},t}();function tk(t,n){return t.fs===n}function nk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(tk(e,n))return e}}function ik(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];tk(r,n)&&i.push(r)}return i}var ek=function(t){function n(n,i){var e;return(e=t.call(this)||this).kA=n,e.bA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(nn),rk=function(){function t(){}return t.pA=function(n){var i=n.Hi,e=n.aA,r=t.AA(i,e,!1);if(!r.TA)throw new ek(e.Pu,r.Pi);return r.Pi},t.AA=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t.SA(n,i,e);if(!s.TA)return{TA:!1,Pi:r};r.push(s.EA)}return{TA:!0,Pi:r}},t.IA=function(n,i){var e=t.SA(n,i,!1);if(!e.TA)throw new ek(i.Pu);return e.EA},t.RA=function(n,i){for(var e=n.Hi,r=n.aA;r.Pu<e.byteLength;){var s=t.SA(e,r,!1);if(!s.TA)return;if(s.EA.fs===i)return s.EA}},t.SA=function(n,i,e){var r=i.Pu,s=t.DA(n,i);if(!s.TA)return s;var u=s.NA,o=u.Cu;if(0===o){if(e)return i.xu(r),{TA:!1,CA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.xu(r),{TA:!1,CA:h}}var c={fs:u.fs,Pu:r,Hi:new Jb(Wo(n,r,a),new Jo(u.PA))};return i.xu(a),{TA:!0,EA:c}},t.DA=function(t,n){var i=n.Pu;if(!yo(t,n,8))return{TA:!1,CA:n.Pu+8};var e=ko(t,n),r=Eo(t,n,4);if(1===e){if(!yo(t,n,8)){var s=n.Pu+8;return n.xu(i),{TA:!1,CA:s}}e=To(t,n).toNumber()}if("uuid"===r){if(!yo(t,n,16)){var u=n.Pu+16;return n.xu(i),{TA:!1,CA:u}}r=Eo(t,n,16)}return{TA:!0,NA:{fs:r,Cu:e,PA:n.Pu-i}}},t.BA=function(t,n,i){var e=t.Hi,r=t.aA,s=Vo(Go(e),r.Pu,e.byteLength);return i&&(s=Zo(s)),r.Bu(s.byteLength),{fs:n,Hi:s}},t.OA=function(n,i,e){var r=ak(n.vA());return{fs:i,xA:r.version,LA:r.flags,Hi:t.BA(n,i,e).Hi}},t}();function sk(t,n){var i=uk(t,n);if(!i)throw new l("Missing "+n+" atom");return i}function uk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fs===n)return e.Hi}}function ok(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.fs===n&&i.push(r.Hi)}return i}function ak(t){return{version:t>>24,flags:new co(16777215&t)}}var hk=function(){function t(){}return t.MA=function(n){for(var i=[],e=rk.pA(new Jb(n,new Jo)),r=0;r<e.length;r++){var s=e[r],u=t.UA(s);u&&i.push(u)}return i},t.XA=function(t){return rk.AA(t,new Jo,!1).Pi.some(this.FA)},t.HA=function(n){return ok(rk.pA(new Jb(n,new Jo)),vb.Kp).map(t.zA)},t.VA=function(n){return ok(rk.pA(n.Hi),vb.Kp).map(t.zA)},t.FA=function(t){return t.fs===vb.nA||t.fs===vb.tA||t.fs===vb.gp||t.fs===vb.Vp||t.fs===vb.Zp||t.fs===vb.$p||t.fs===vb.Jp},t.UA=function(n){switch(n.fs){case vb.gp:return t.WA(n.Hi);case vb.Vp:return t.GA(n.Hi,n.Pu);case vb.Zp:return t.qA(n.Hi);case vb.$p:return t.YA(n.Hi);case vb.Jp:return t.jA(n.Hi)}},t.WA=function(n){var i=rk.pA(n),e=sk(i,vb.mp),r=ok(i,vb.yp),s=uk(i,vb.Rp),u=t.QA(e),o=r.map(t.ZA),a=s?t.KA(s):void 0;return{fs:vb.gp,NA:u,JA:o,$A:a}},t.QA=function(t){var n=ak(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA(),o=1===i?t.dA():t.vA(),a=t.vA(),h=t.hA()>>8;t.yA(2),t.yA(8);var c=t._A(9);t.yA(24);var f=t.vA();return{fs:vb.mp,xA:i,LA:e,tT:r,nT:s,Bb:u,Qg:o,iT:a,cm:h,eT:c,rT:f}},t.ZA=function(n){var i=rk.pA(n),e=sk(i,vb.kp),r=sk(i,vb.bp),s=t.sT(e),u=t.uT(r);return{fs:vb.yp,NA:s,oT:u}},t.sT=function(t){var n=ak(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA();t.yA(4);var o=1===i?t.dA():t.vA();t.yA(8);var a=t.fA(),h=t.fA(),c=t.fA()/g.pow(2,8);t.yA(2);var f=t._A(9),l=t.vA()/g.pow(2,16),v=t.vA()/g.pow(2,16);return{fs:vb.kp,aT:e.Uu(1),cT:e.Uu(2),hT:e.Uu(4),tT:r,nT:s,fT:u,Qg:o,vT:a,lT:h,cm:c,eT:f,Bk:l,dT:v}},t.uT=function(n){var i=rk.pA(n),e=sk(i,vb.pp),r=sk(i,vb.Ap),s=sk(i,vb.Tp),u=t.wT(e),o=t._T(r),a=t.gT(s);return{fs:vb.bp,NA:u,mT:o,yT:a}},t.wT=function(t){var n=ak(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA(),o=1===i?t.dA():t.vA();return t.hA(),t.yA(2),{fs:vb.pp,xA:i,LA:e,tT:r,nT:s,Bb:u,Qg:o}},t._T=function(t){var n=ak(t.vA()),i=n.version,e=n.flags;t.yA(4);var r=t.gA(4);t.yA(12);var s=t.mA();return{fs:vb.Ap,xA:i,LA:e,kT:r,wi:s}},t.gT=function(n){var i=sk(rk.pA(n),vb.Sp),e=t.bT(i);return{fs:vb.Tp,pT:e}},t.bT=function(n){var i=sk(rk.pA(n),vb.Ep),e=t.AT(i);return{fs:vb.Sp,TT:e}},t.AT=function(n){var i=ak(n.vA()),e=i.version,r=i.flags;n.vA();for(var s=[],u=rk.pA(n),o=0;o<u.length;o++){var a=u[o],h=t.ST(a.Hi,a.fs);h&&s.push(h)}return{fs:vb.Ep,xA:e,LA:r,ET:s}},t.ST=function(n,i){var e=t.IT(n,i);return e||((e=t.RT(n,i))||(i===vb.Up?t.DT(n):void 0))},t.IT=function(n,i){return i===vb.Lp?t.NT(n):i===vb.Hp?t.CT(n):void 0},t.RT=function(n,i){return i===vb.Np?t.PT(n):i===vb.Pp||i===vb.Bp?t.BT(n,i):i===vb.zp?t.OT(n):void 0},t.xT=function(t,n){return t.yA(6),{fs:n,LT:t.hA()}},t.MT=function(n,i){var e=t.xT(n,i);n.yA(8);var r=n.hA(),s=n.hA();return n.yA(2),n.yA(2),Ur({},e,{UT:r,XT:s,FT:n.vA()>>>16})},t.HT=function(n,i){var e=t.xT(n,i);n.yA(2),n.yA(2),n.yA(12);var r=n.hA(),s=n.hA(),u=n.vA(),o=n.vA();n.yA(4);var a=n.hA();n.yA(32);var h=n.hA();return n.yA(2),Ur({},e,{Bk:r,dT:s,zT:u,VT:o,WT:a,GT:h})},t.NT=function(n){var i=t.MT(n,vb.Lp),e=sk(rk.pA(n),vb.Mp);return Ur({},i,{qT:t.YT(e)})},t.DT=function(n){var i=t.xT(n,vb.Up),e=rk.pA(n),r=sk(e,vb.Xp),s=t.jT(r),u=uk(e,vb.Fp);return Ur({},i,{QT:s,ZT:u?t.KT(u):u})},t.jT=function(t){return{fs:vb.Xp,nh:t.mA()}},t.KT=function(t){return{fs:vb.Fp,W_:t.mA()}},t.YT=function(t){return rk.OA(t,vb.Mp,!0)},t.PT=function(n){var i=t.HT(n,vb.Np),e=rk.pA(n),r=sk(e,vb.Cp),s=uk(e,vb.xp);return Ur({},i,{JT:t.$T(r),tS:s?t.nS(s):void 0})},t.BT=function(n,i){var e=t.HT(n,i),r=sk(rk.pA(n),vb.Op);return Ur({},e,{iS:t.eS(r)})},t.OT=function(n){var i=n.Lu(),e=t.HT(n,vb.zp),r=sk(rk.pA(n),vb.iA),s=t.rS(r);return Ur({},e,{sS:t.RT(i,s.oS.uS),aS:s})},t.CT=function(n){var i=n.Lu(),e=t.MT(n,vb.Hp),r=sk(rk.pA(n),vb.iA),s=t.rS(r);return Ur({},e,{sS:t.IT(i,s.oS.uS),aS:s})},t.rS=function(n){var i=sk(rk.pA(n),vb.eA),e=t.cS(i);return{fs:vb.iA,oS:e}},t.cS=function(t){var n=t.gA(4);return{fs:vb.eA,uS:n}},t.$T=function(t){return rk.BA(t,vb.Cp,!0)},t.eS=function(t){return rk.BA(t,vb.Op,!0)},t.nS=function(t){var n=t.vA(),i=t.vA();return{fs:vb.xp,hS:n,fS:i}},t.KA=function(n){var i=ok(rk.pA(n),vb.Dp).map(t.vS);return{fs:vb.Rp,JA:i}},t.vS=function(t){var n=ak(t.vA()),i=n.version,e=n.flags,r=t.vA(),s=t.vA(),u=t.vA(),o=t.vA(),a=t.vA();return{fs:vb.Dp,xA:i,LA:e,fT:r,lS:s,dS:u,wS:o,_S:a}},t.GA=function(n,i){var e=rk.pA(n),r=sk(e,vb.Wp),s=ok(e,vb.Gp),u=t.gS(r),o=s.map(t.mS);return{fs:vb.Vp,yS:i,NA:u,JA:o}},t.gS=function(t){var n=ak(t.vA()),i=n.version,e=n.flags,r=t.vA();return{fs:vb.Wp,xA:i,LA:e,kS:r}},t.mS=function(n){var i=rk.pA(n),e=sk(i,vb.qp),r=ok(i,vb.Yp),s=uk(i,vb.jp),u=t.bS(e),o=r.map(function(n){return t.pS(n,u)}),a=s?t.AS(s):void 0;return{fs:vb.Gp,NA:u,TS:o,SS:a}},t.bS=function(t){var n=ak(t.vA()),i=n.version,e=n.flags,r=t.vA(),s=e.Uu(wb.BASE_DATA_OFFSET_PRESENT)?t.dA():void 0,u=e.Uu(wb.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vA():void 0,o=e.Uu(wb.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vA():void 0,a=e.Uu(wb.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vA():void 0,h=e.Uu(wb.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vA():void 0;return{fs:vb.qp,xA:i,LA:e,fT:r,ES:s,IS:u,dS:o,wS:a,_S:h}},t.pS=function(n,i){for(var e=ak(n.vA()),r=e.version,s=e.flags,u=n.vA(),o=s.Uu(gb.DATA_OFFSET_PRESENT)?n.lA():void 0,a=s.Uu(gb.FIRST_SAMPLE_FLAGS_PRESENT)?n.vA():void 0,h=[],c=0;c<u;c++){var f=t.RS(n,s,r,i);0===c&&void 0!==a&&(f.LA=a),h.push(f)}return{fs:vb.Yp,xA:r,LA:s,DS:u,yS:o,NS:a,CS:h}},t.RS=function(t,n,i,e){return{Qg:n.Uu(gb.SAMPLE_DURATION_PRESENT)?t.vA():e.dS,Cu:n.Uu(gb.SAMPLE_SIZE_PRESENT)?t.vA():e.wS,LA:n.Uu(gb.SAMPLE_FLAGS_PRESENT)?t.vA():e._S,PS:n.Uu(gb.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vA():t.lA():void 0}},t.jA=function(t){var n=t.Hi,i=t.aA,e=ak(ko(n,i)),r=e.version,s=e.flags;if(1===r){var u=ko(n,i),o=To(n,i),a=ko(n,i),h=ko(n,i),c=So(n,i),f=So(n,i),l=Qo(Go(n),i.Pu,n.byteLength);return i.Bu(l.byteLength),{fs:vb.Jp,xA:r,LA:s,OS:c,Ai:f,Bb:u,xS:o,LS:a,H_:h,MS:l}}var v=So(n,i),d=So(n,i),w=ko(n,i),g=ko(n,i),m=ko(n,i),y=ko(n,i),p=Qo(Go(n),i.Pu,n.byteLength);return i.Bu(p.byteLength),{fs:vb.Jp,LA:s,xA:r,OS:v,Ai:d,Bb:w,US:g,LS:m,H_:y,MS:p}},t.qA=function(t){return rk.BA(t,vb.Zp,!1)},t.zA=function(n){var i=n.Hi,e=n.aA,r=Zo(Go(i)).buffer,s=ak(ko(i,e)),u=s.version,o=s.flags,a=t.XS(i,e),h=[];if(u>0)for(var c=ko(i,e),f=0;f<c;f++){var l=go(i,e,16);h.push(l)}var v=ko(i,e),d=new _(r,e.Pu,v);return e.Bu(i.byteLength),{fs:vb.Kp,xA:u,LA:o,FS:a,HS:h,zS:v,Hi:d,VS:r}},t.XS=function(t,n){for(var i="",e=0;e<4;e++){var r=vo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=vo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=vo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=vo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var l=vo(t,n).toString(16);i+=1===l.length?"0"+l:l}return i.toLowerCase()},t.YA=function(t){var n,i,e=t.Hi,r=t.aA,s=ak(ko(e,r)),u=s.version,o=s.flags,a=ko(e,r),h=ko(e,r);0===u?(n=vt.fromBits(ko(e,r),0,!0),i=vt.fromBits(ko(e,r),0,!0)):(n=To(e,r),i=To(e,r)),r.Bu(2);for(var c=_o(e,r),f=[],l=0;l<c;l+=1){var v=ko(e,r),d=v>>31&1,w=2147483647&v,g=ko(e,r),m=ko(e,r),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({WS:d,GS:w,Qg:g,qS:y,YS:p,jS:_})}return{fs:vb.$p,xA:u,LA:o,QS:a,Bb:h,ZS:n,KS:i,JS:c,$S:f}},t.AS=function(t){var n,i=t.Hi,e=t.aA,r=ak(ko(i,e)),s=r.version,u=r.flags;return n=0===s?vt.fromBits(ko(i,e),0,!0):To(i,e),{fs:vb.jp,xA:s,LA:u,SS:n}},t}();function ck(t){return t&&"Ci"in t?t.Ci:t}var fk=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).tE=void 0,a.nE=void 0,a.iE=void 0,a.tE=s,a.nE=u,a.iE=o||void 0,a}return E(n,t),n.prototype.Tk=function(n){return this===n||!!yy(this,n)&&(!!t.prototype.Tk.call(this,n)&&(!!my(this.eE,n.eE)&&(!!my(this.vp,n.vp)&&(this.rE&&n.rE?!!this.rE.ai(n.rE)&&(this.nk&&n.nk?this.nk.ai(n.nk):this.nk===n.nk):this.rE===n.rE))))},T(n,[{key:"eE",get:function(){return this.tE}},{key:"vp",get:function(){return this.nE}},{key:"rE",get:function(){return this.iE}},{key:"t_",get:function(){var t;return this.$w||(this.$w=wy(B_(t=this),{get styles(){return t.eE},get regions(){return t.vp},get metadata(){return ck(t.rE)},get content(){return ck(t.nk)}})),this.$w}}]),n}(H_),lk=function(){function t(t,n,i){this.Nv=void 0,this.sE=void 0,this.uE=void 0,this.sE=t,this.uE=n,Zt(i)?this.Nv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.Nv=i}return T(t,[{key:"oE",get:function(){return this.Nv.ci(!0)}},{key:"Jy",get:function(){return this.sE}},{key:"$y",get:function(){return this.uE}}]),t}();var vk="http://www.w3.org/XML/1998/namespace";function dk(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function wk(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function gk(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function mk(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[gk(i[r].wi,n)]=i[r].Ai;return e}var yk=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,pk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,_k="http://www.w3.org/ns/ttml";function bk(t,n,i,e){void 0===i&&(i=mb),void 0===e&&(e=Uc.APPLICATION_TTML_XML);var r=[],s=qo(t);return e===Uc.APPLICATION_MP4?r=function(t,n,i){var e=nk(hk.MA(t),vb.Zp);if(!e)return[];return Tk(qo(e.Hi),n,i)}(s,n,i):e===Uc.APPLICATION_TTML_XML&&(r=Tk(s,n,i)),r}function kk(t,n,i){return void 0===i&&(i=mb),Sk(t,n,i)}function Ak(t,n){for(var i=function t(n){var i=[];var e;if(Zt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.oE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Tk(t,n,i){return Sk(zo(t,new Jo),n,i)}function Sk(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(_k,"head")[0],a=u&&u.Di(_k,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(_k,"styling")[0],r=e&&e.Di(_k,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(vk,"id");i[o]=mk(u,n)}return i}(o,h),f=function(t,n){var i=gy(t),e=Rk(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r],o=Rk(i[u].extent);if(o){var a=Ek(o[0],e[0]),h=Ek(o[1],e[1]);i[u].extent=a+" "+h}var c=Rk(i[u].origin);if(c){var f=Ek(c[0],e[0]),l=Ek(c[1],e[1]);i[u].origin=f+" "+l}}return i}(function(t,n){for(var i={},e=t.Di(_k,"layout")[0],r=e&&e.Di(_k,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(vk,"id");if(o){i[o]=mk(u,n);var a=Nk(u,n);for(var h in a)F.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),l=o.Di(_k,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Zt(n)){var c,f;s=null!=(c=Dk(n.Bi("begin"),r))?c:s,u=Dk(n.Bi("dur"),0),o=null!=(f=Dk(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var l=n.Ii,v=0;v<l.length;v++)("body"===n.di||"div"===n.di)&&l[v].Kn>1||(a=a.concat(t(l[v],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Jy,s.$y)}e.sort(Xs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Ys(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var g=Ck(d[w],d[w+1],a);if(g.length<=0&&Pk(n)){var m=n.ci(!1);h.push(new lk(d[w],d[w+1],m))}else g.length>0&&function(){var t=n.ci(!1);g.forEach(function(n){return t.Ni(n.oE)}),h.push(new lk(d[w],d[w+1],t))}()}return h}(a,e.cp,e.hp,e.fp),d=0;d<v.length;d++){var g=v[d],m=Ak(f,g);s.push(new fk(g.Jy,g.$y,g.oE,!1,c,m,l))}return s}function Ek(t,n){var i=Ik(t),e=Ik(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return p(r)||p(s)?t:r/s*100+"%"}return t}function Ik(t){return Ts(t,"px")?"px":Ts(t,"em")?"em":Ts(t,"c")?"c":Ts(t,"%")?"%":void 0}function Rk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Ck(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Jy,u=i[r].$y;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Dk(t,n){if(t){if(yk.test(t)){var i=yk.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*g.pow(.1,u.length):0)+n}if(pk.test(t)){var o=pk.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Nk(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=mk(e[r],n);for(var u in s)F.call(s,u)&&(i[u]=s[u])}return i}function Pk(t){if(Zt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===$t.$n}function xk(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Bk,Ok=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.E_=function(n){return t.prototype.E_.call(this,n)},i.I_=function(n){var i=t.prototype.I_.call(this,n);return i&&(n.eg=Py.j_),i},i.n_=function(){return Fy(this)},n}(ay);!function(t){t.rA="subtitles",t.aE="captions",t.cE="descriptions",t.hE="chapters",t.uA="metadata",t.fE="thumbnails"}(Bk||(Bk={}));var Lk=[Bk.rA,Bk.aE,Bk.cE,Bk.hE,Bk.uA,Bk.fE];function Mk(t){return"string"==typeof t&&Qs(Lk,t)}var jk,Fk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(lf);function Uk(t){return t instanceof yg}function Hk(t){return t instanceof _g}function Xk(t){return t===Bk.rA||t===Bk.aE}function zk(t){return ks(t,jk.vE)}function Vk(t){return t.some(Wk)}function Wk(t){return ks(t,jk.lE)||ks(t,jk.Up)}function qk(t,n){return Hc(t)&&Vk(n)}function Gk(t,n){return!!t&&(Hc(t)?function(t){return t.some(zk)}(n)||Vk(n):ks(t,Uc.APPLICATION_TTML_XML)||ks(t,Uc.TEXT_VTT)||ks(t,Uc.IMAGE_JPEG))}function $k(t,n){return t===Bk.fE||t===Bk.uA&&n===Bk.fE}function Yk(t,n,i,e){for(var r=0,s=t.cg.N_;r<s.length;r++){var u=s[r];if(u.Jy>i)break;n<=u.$y&&e.push(u)}}function Qk(t,n){return Hs(t.z_,n.z_)}function Zk(t,i){var e=i,r=0;if(Uk(t)&&t.name===dg.Vd)e=t.ud.hd;else if(Hk(t)){var s=t.jd;if(e=s.od,0===(r=s.Jl))return new Fk(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Fk(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Kk(t,i,e,r){var s=function(t){switch(t){case A_.WEBVTT:return"WebVTT";case A_.SRT:return"SRT";case A_.TTML:return"TTML";default:return""}}(t);return new Fk(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Jk(t){return Mb(t)?A_.WEBVTT:xk(t)?A_.TTML:A_.SRT}function tA(t,n){for(var i=[],e=0,r=t.cg.N_;e<r.length;e++){var s=r[e];if(s.$y<=n)i.push(s);else if(s.Jy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.dE(o)}}!function(t){t.lE="vtt",t.Up="wvtt",t.vE="stpp"}(jk||(jk={}));var nA=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JA=new Ok,n.wE=function(t){var i=t.i_;n._E(i)},n}E(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(ny.l_,this.wE),this.JA.E_(t),this._E(t)},i.I_=function(t){t.tu(ny.l_,this.wE),t.eg=Py.j_,this.JA.I_(t)},i.gE=function(t){},i.mE=function(t){},i._E=function(t){t.eg!==Py.j_?this.gE(t):this.mE(t)},i.yE=function(){for(var t=0,n=this.JA.N_;t<n.length;t++){var i=n[t];i.tu(ny.l_,this.wE),i.xd()}},i.kE=function(t){if(t>0)for(var n=0,i=this.JA.N_;n<i.length;n++){tA(i[n],t)}},i.D_=function(){return this.yE(),this.JA.D_(),qe.resolve()},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.D_());case 3:this.JA.xd();case 4:case"end":return t.stop()}},null,this,null,qe)},n}(Su),iA=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).errorObject=n,i}return E(n,t),n.prototype.n_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Jm),eA=function(t){function n(n,i){var e;return(e=t.call(this)||this).bE=void 0,e.pE=void 0,e.AE=new au,e.bE=n,e.pE=i,e}E(n,t);var i=n.prototype;return i.TE=function(t){if(t.src){var n=t.kind||Bk.rA,i=this.bE.SE(n,t.id,t.label,t.srclang,t.default);return i.fg=vg(t.src),this.E_(i),i}},i.EE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return t.ag=k_.LOADING,i=new hg({hd:t.fg,td:xf.$n,Rd:rg.GET,Ws:n}),l.prev=2,l.next=5,Fr.awrap(this.pE.ud(i));case 5:return s=l.sent,r=s.Jl,l.next=9,Fr.awrap(s.Ll());case 9:e=l.sent,l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),lu(l.t0),t.ag=k_.ERROR,t.Qs(new iA(Zk(l.t0,t.fg))),l.abrupt("return");case 18:for(l.prev=18,u=Jk(e),t.fs=u,o=[],u===A_.WEBVTT||u===A_.SRT?(a=Eb(e),o=a.cg):u===A_.TTML&&(o=kk(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.IE(f);l.next=32;break;case 26:return l.prev=26,l.t1=l.catch(18),lu(l.t1),t.ag=k_.ERROR,t.Qs(new iA(Kk(t.fs,t.fg,r,l.t1))),l.abrupt("return");case 32:t.ag=k_.LOADED;case 33:case"end":return l.stop()}},null,this,[[2,12],[18,26]],qe)},i.gE=function(t){Qs(this.JA.N_,t)&&t.ag===k_.NONE&&this.EE(t,this.AE.Ws).catch(vu)},i.Wc=function(){},i.D_=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.AE.Hs(),this.AE=new au,n=0,i=this.JA.N_;n<i.length;n++)e=i[n],this.bE.RE(e);return r.next=5,Fr.awrap(t.prototype.D_.call(this));case 5:case"end":return r.stop()}},null,this,null,qe)},n}(nA);function rA(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.V_===n&&e.DE)return e}}function sA(t,n){uA(rA(t.N_,n))}function uA(t){void 0!==t&&(t.eg=Py.Z_)}function oA(t,n){uA(rA(t.N_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.V_===n)return e}}(t.N_,n))}function aA(t){for(var n=0;n<Lk.length;n++){var i=Lk[n];i===Bk.hE?oA(t,i):sA(t,i)}}var hA,cA=function(t){function n(){return t.call(this,Pf.Cf)||this}return E(n,t),n}(Iu);!function(t){t[t.NE=0]="NE",t[t.CE=1]="CE"}(hA||(hA={}));var fA=t,lA=fA.MediaSource,vA=fA.WebKitMediaSource,dA=fA.TextTrack,wA=s&&s.createElement("video");s&&s.documentElement.style;var gA=j.qt&&j.xn&&j.Ln<=26;j.dn;var mA=!(!lA&&!vA),yA=!!dA;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||j.cn,j.Cn&&j.Pn,wA&&wA.canPlayType&&(""!==wA.canPlayType("application/vnd.apple.mpegURL")||j.Qt&&!j.Cn&&j.Zt);wA&&wA.canPlayType&&wA.canPlayType("video/mp4");var pA=mA&&!j.Bn&&!j.Rn&&!j.In&&((lA||vA).isTypeSupported?(lA||vA).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):wA&&wA.canPlayType&&""!==wA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));mA&&!j.Bn&&(pA||((lA||vA).isTypeSupported?(lA||vA).isTypeSupported("audio/mpeg"):wA&&wA.canPlayType&&wA.canPlayType("audio/mpeg"))),mA&&(!j.Nn||!j.qt)&&(lA||vA).isTypeSupported&&(lA||vA).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),j.Bn||j.Rn||j.In,j.Dn,j.Bn,j.Rn&&j.Yt&&j.jt;try{r&&r.top!==r.self}catch(t){!0}var _A=function(t){function n(n){var i;return(i=t.call(this,wp.qg)||this).currentTime=n,i}return E(n,t),n}(Iu),bA=function(t){function n(n){var i;return(i=t.call(this,wp.Yg)||this).currentTime=n,i}return E(n,t),n}(Iu),kA=[wp.w_,wp.Yg,Pf.If,Pf.Ef],AA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).PE=Ky.Mg,e.BE=!0,e.OE=!1,e.xE=!1,e.LE=function(t){var n=e.ME.ag;n!==e.PE&&e.Qs(new xp(t.currentTime,n)),n===Ky.Mg&&(e.OE=!1,e.xE=!1),e.UE(n),e.XE(n),e.FE(n),e.maybeDispatchCanPlayThroughEvent(n),e.HE(n),e.zE(n),e.PE=n},e.VE=function(){e.zE(e.PE),e.HE(e.PE),e.BE=e.ME.$g},e.WE=function(){e.BE=e.ME.$g},e.GE=function(t){e.Qs(new bA(t.currentTime))},e.ME=n,e.qE=i,e.ME.Zs(wp.w_,e.LE),e.ME.Zs(Pf.If,e.VE),e.ME.Zs(Pf.Ef,e.WE),e.qE&&e.ME.Zs(wp.Yg,e.GE),e}E(n,t);var i=n.prototype;return i.UE=function(t){!this.xE&&t>=Ky.Ug&&(this.xE=!0,this.Qs(new kp(this.ME.jg,t)))},i.XE=function(t){!this.OE&&t>=Ky.Xg&&(this.OE=!0,this.Qs(new Ip(this.ME.jg,t)))},i.HE=function(t){this.qE||(t>=Ky.Fg&&this.PE<Ky.Fg&&!this.ME.$g||this.YE&&t>=Ky.Fg)&&this.Qs(new bA(this.ME.jg))},i.zE=function(t){!this.jE(t)||this.ME.Zg||this.ME.mu||this.Qs(new _A(this.ME.jg))},i.FE=function(t){this.PE<=Ky.Xg&&t>=Ky.Fg&&this.Qs(new Np(this.ME.jg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Ky.Hg&&this.Qs(new Pp(this.ME.jg,t))},i.jE=function(t){var n=!this.ME.$g&&t<=Ky.Xg,i=!this.BE&&this.PE<=Ky.Xg;return n&&!i},i.D_=function(){this.PE=Ky.Mg,this.BE=!0,this.OE=!1,this.xE=!1},i.xd=function(){this.$s(),this.qE&&this.ME.tu(wp.Yg,this.GE),this.ME.tu(Pf.If,this.VE),this.ME.tu(Pf.Ef,this.WE),this.ME.tu(wp.w_,this.LE)},T(n,[{key:"YE",get:function(){return!this.ME.$g&&this.BE}}]),n}(Su),TA=function(t){function n(n){var i;return(i=t.call(this)||this).ME=n,i.ME.Zs(kA,i.js),i}return E(n,t),n.prototype.xs=function(){this.$s(),this.ME.tu(kA,this.js)},T(n,[{key:"jg",get:function(){return this.ME.jg}},{key:"Zg",get:function(){return this.ME.Zg}},{key:"mu",get:function(){return this.ME.mu}},{key:"$g",get:function(){return this.ME.$g}},{key:"ag",get:function(){return this.ME.ag}}]),n}(Su),SA="titanium",EA="conax",IA="ezdrm",RA="irdeto",CA="vudrm",DA="verimatrix",NA="keyos",PA="drmtoday",xA="expressplay",BA="azure",OA="xstream",LA="vimond",MA="axinom",jA="uplynk",FA="comcast",UA="custom",HA=function(){function t(t,n,i,e,r){this.$c=void 0,this.QE=void 0,this.ZE=void 0,this.KE=void 0,this.pE=void 0,this.JE=void 0,this.$E=void 0,this.$c=t,this.QE=n,this.ZE=i,this.pE=e,this.$E=r,this.KE=this.tI(n)}var e=t.prototype;return e.nI=function(){return this.JE},e.iI=function(t){this.JE=t},e.eI=function(){return this.KE.licenseAcquisitionURL||this.nI()},e.rI=function(t){return qe.resolve()},e.sI=function(t,n){return qe.resolve(void 0)},e.uI=function(t,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.oI(t,i,e,r)).hd){o.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Fr.awrap(this.jw.ud(s));case 6:return u=o.sent,o.next=9,Fr.awrap(u.Ml(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),lu(o.t0),o.next=17,Fr.awrap(this.aI(o.t0,s.hd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],qe)},e.oI=function(t,n,i,e){var r=this.cI().jf(),s=this.Pd,u={hd:this.hI(),td:n,$l:r,Hl:t,Pd:s,Rd:rg.POST,Dd:0,Ws:e,fs:sg.wd,Nd:i};return new hg(u)},e.fI=function(t,n){return qe.resolve(t)},e.vI=function(t,n,i,e){return qe.resolve(t)},e.cI=function(){return new Bf(this.KE.headers||{})},e.aI=function(t,i,e){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,qe)},e.hI=function(t,n){var e=n,r=this.KE.queryParameters;if(!e){var s=this.eI();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&lg(u,t),r&&lg(u,r),e=u.href}return e},e.lI=function(t,n){return XA(t)},e.dI=function(t){return new _(t)},e.wI=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.lI(t,i));case 2:return e=u.sent,u.next=5,Fr.awrap(this.uI(e,this.$E,n,i));case 5:return r=u.sent,s=this.dI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,qe)},e.xd=function(){},T(t,[{key:"jw",get:function(){return this.pE}},{key:"_I",get:function(){return!1}},{key:"gI",get:function(){var t=this.KE.certificate;if(t)return G(t)?Xu(t):Yo(t)}},{key:"mI",get:function(){return!1}},{key:"Pd",get:function(){return Boolean(this.KE.useCredentials)}}]),t}();function XA(t){return qe.resolve(Zo(t).buffer)}var zA,VA,WA=function(t){function n(n,i,e,r){return t.call(this,ws,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.tI=function(t){return t.widevine||{}},i.yI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.gI){i.next=2;break}return i.abrupt("return",this.gI);case 2:return i.abrupt("return",this.kI(new _(t),n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.kI=function(n,i){return t.prototype.wI.call(this,n,ug.kd,i)},n}(HA);function qA(t,n){if(null==t)return{};var i,e,r={},s=w.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function GA(t){return H(t.token&&t.deviceId)}function $A(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function YA(t){var n=t;return GA(n)&&""!==n.token&&""!==n.deviceId&&!$A(n)}(VA=zA||(zA={})).bI=!1,VA.pI=!1,VA.AI=!1,VA.TI=!1,VA.LOG_ADS_DETAILS=!1,VA.LOG_CHROMECAST_DETAILS=!1,VA.LOG_CUSTOM_DRM=!1,VA.LOG_BUFFERING_VIDEO_MAIN=!1,VA.LOG_BUFFERING_VIDEO_SELECTION=!1,VA.LOG_BUFFERING_AUDIO_MAIN=!1,VA.LOG_BUFFERING_AUDIO_SELECTION=!1,VA.SI=!1,VA.EI=!1,VA.LOG_LCEVC_DETAILS=!1;var QA,ZA=function(){function t(t,n,i){this.II=t,this.Xc=n,this.RI=i}return t.prototype.DI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.RI.build(t))},T(t,[{key:"NI",get:function(){return this.II}},{key:"$c",get:function(){return this.Xc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(QA||(QA={}));var KA=function(){function t(){this.CI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.BI(t,e,r)){case QA.FAILED:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case QA.OVERRIDDEN:var s=mT(e);i.gr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case QA.SUCCEEDED:mT(e);0}},e.BI=function(t,n,i){var e=mT(n);if(!e)return QA.FAILED;for(var r=QA.SUCCEEDED,s=0,u=this.CI.slice();s<u.length;s++){var o=u[s];o.NI===t&&o.$c===e&&(r=QA.OVERRIDDEN,$s(this.CI,o))}return this.CI.push(new ZA(t,e,i)),r},e.OI=function(t,n){return void 0!==this.xI(t,n)},e.LI=function(t,n,i){var e=this.xI(t,n);if(!e)throw l("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.DI(i)},e.xI=function(t,n){for(var i=0,e=this.CI;i<e.length;i++){var r=e[i];if(r.NI===t&&(!n||r.$c===n))return r}},t}();KA.MI=new KA;var JA=["customdata"],tT={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function nT(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function iT(t){return t&&void 0!==t.licenseAcquisitionURL}var eT,rT=iT,sT=iT;function uT(t){if(!t)return!0;if(cT(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return nT(n)&&nT(i)&&nT(e)&&nT(r)&&nT(s)}function oT(t){var n=YA(t),i=function(t){var n,i=t;return $A(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!GA(i)}(t);return(!n||!i)&&(n||i)}function aT(t){return t.integration===RA}function hT(t){var n=t;if(!n)return!1;if(uT(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(cT(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!rT(e))return!1;if(r&&!sT(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(KA.MI.OI(n.integration))return!0;switch(n.integration){case SA:if(!function(t){return t.integration===SA&&(fT(t)||lT(t))}(t))return!1;break;case CA:if(!vT(t))return!1;break;case DA:if(!function(t){return t.integration===DA}(t))return!1;break;case RA:if(!aT(t))return!1;break;case EA:if(!oT(t))return!1;break;case IA:if(!function(t){return t.integration===IA}(t))return!1;break;case NA:if(!cT(t))return!1;break;case PA:if(!function(t){var n=t;return n.integration===PA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case xA:if(!function(t){return t.integration===xA}(t))return!1;break;case OA:if(!dT(t))return!1;break;case LA:if(!function(t){return t.integration===LA}(t))return!1;break;case MA:if(!wT(t))return!1;break;case BA:if(!function(t){var n=t;return n.integration===BA&&void 0!==n.token}(t))return!1;break;case jA:if(!function(t){return t.integration===jA}(t))return!1;break;case FA:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case UA:return!0;default:return!1}}return!0}function cT(t){return t.integration===NA}function fT(t){return void 0!==t.authToken}function lT(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function vT(t){var n=t;return n.integration===CA&&void 0!==n.token}function dT(t){var n=t;return n&&n.integration===OA&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function wT(t){var n=t;return n.integration===MA&&void 0!==n.token}function gT(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:tT[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Ur({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Ur({},qA(c,JA),{licenseAcquisitionURL:u,headers:h})}function mT(t){switch(t.toLowerCase()){case"widevine":case os:return os;case"playready":case rs:return rs;case"fairplay":case fs:return fs}}function yT(t,i){switch(t){case ts:return function(t){for(var n={},i=hk.HA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.FS]=r.VS}return n}(i);case ns:case is:return function(t){var n;return(n={})[cs]=t,n}(i);default:throw new lf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.$r="Widevine",t.Jr="PlayreadyV2",t.UI="PlayreadyV2",t.XI="PlayreadyV3",t.us="Fairplay"}(eT||(eT={}));var pT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function _T(t,n){var e,r,s,u,o=pT[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Lr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Vr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function bT(t,i){if(!t.accountName)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function kT(t,n,i){var e;if(fT(t))e={AuthToken:t.authToken,Payload:n};else{if(!lT(t))throw bT(t,i);e={LatensRegistration:_T(t,i),Payload:n}}return Ju(JSON.stringify(e))}function AT(t,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.jd){a.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Fr.awrap(s.xl(e));case 7:u=a.sent,o=TT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ud.hd,s.Jl,s.ed,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],qe)}function TT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var ST=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,xf.qf)||this).FI=void 0,r}E(e,t),e.HI=function(){return i.Lr.qe?"required":"optional"};var r=e.prototype;return r.aI=function(t,n,i){return AT(t,n,i)},r.rI=function(t){return this.FI?du(this.FI.Fu,t):(this.FI=new na,qe.resolve())},r.lI=function(t,i){var e,r;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.QE){i.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Vu(t),i.abrupt("return",kT(e,r,eT.$r));case 5:case"end":return i.stop()}},null,this,null,qe)},r.dI=function(t){if(!t.license)throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Xu(t.license)},r.zI=function(t){return qe.resolve(new _(t))},r.yI=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.VI(),r.next=3,Fr.awrap(this.lI(t,n));case 3:return i=r.sent,r.next=6,Fr.awrap(this.uI(i,xf.Gf,ug.bd,n));case 6:return e=r.sent,r.next=9,Fr.awrap(this.zI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},r.kI=function(n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.kI.call(this,n,i));case 2:return e=r.sent,this.VI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,qe)},r.VI=function(){this.FI||(this.FI=new na),this.FI.Wu()},r.xd=function(){this.FI&&this.FI.Hs(),t.prototype.xd.call(this)},e}(WA),ET=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).iI("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.lI=function(t,i){var e,r,s,u;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(XA(t));case 2:if(e=i.sent,r=this.ZE,s=Ko(new _(e)),u=this.WI){i.next=8;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,qe)},T(i,[{key:"WI",get:function(){if(vT(this.QE))return this.QE.token}}]),i}(WA);function IT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Ur({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Ur({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var RT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).iI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.hI=function(n,i){var e=n;return aT(this.QE)&&(e=IT(this.QE,e)),t.prototype.hI.call(this,e,i)},n}(WA),CT="Conax-Custom-Data";function DT(t,n,i){var e=t&&oT(t)&&t;if(e&&!i.has(CT)){var r=YA(e)?e.token:void 0,s=YA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(CT,u)}return i}var NT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).iI("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this);return DT(this.QE,"Widevine",n)},n}(WA);function PT(t){var n=Oo(new _(t));return Xu(JSON.parse(n).license)}function xT(t){return"string"==typeof t.token?t.token:Ju(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function BT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var OT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).iI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.dI=function(t){return PT(t)},i.cI=function(){return BT(t.prototype.cI.call(this),this.WI,this.QE)},T(n,[{key:"WI",get:function(){return xT(this.QE)}}]),n}(WA),LT=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}return E(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this),i=this.QE.token;return n.set("Authorization","Bearer "+i),n},n}(WA);function MT(t,i,e,r){var s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(dT(t)){l.next=2;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Bf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={hd:t.ticketAcquisitionURL,td:xf.qf,$l:s,Rd:rg.POST,Hl:JSON.stringify(h),Ws:r},l.next=13,Fr.awrap(e.ud(c));case 13:return f=l.sent,l.next=16,Fr.awrap(f.xl());case 16:return l.abrupt("return",l.sent);case 17:case"end":return l.stop()}},null,null,null,qe)}var jT=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.qf)||this}E(n,t);var i=n.prototype;return i.cI=function(){var n=t.prototype.cI.call(this);return n.set("Content-Type","application/json"),n},i.lI=function(n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Ku(n.buffer),r=this.QE,o.next=4,Fr.awrap(MT(r,"widevine_modular",this.jw,i));case 4:return s=o.sent,this.iI(s.licenseServerUrl),u=Lo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.lI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,qe)},i.dI=function(t){return Xu(t.license)},n}(WA),FT=function(t){function i(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}return E(i,t),i.prototype.cI=function(){if(!wT(this.QE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cI.call(this);return i.set("X-AxDRM-Message",this.QE.token),i},i}(WA);function UT(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var HT=function(t){function n(n,i,e){var r;return(r=t.call(this,ds,n,i,e,xf.Gf)||this).GI=void 0,r}E(n,t);var e=n.prototype;return e.tI=function(t){return t.playready||{}},e.cI=function(){var n=new Bf(this.GI);return n.Zf(t.prototype.cI.call(this)),n},e.qI=function(t){return t.length>=1&&t[0].Ii.length>0},e.sI=function(n){var i=this.QE.playready.customData;if(i){var e=UT(i),r=UT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Vu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return qe.resolve({playready:{Dh:r}})}return t.prototype.sI.call(this,n)},e.lI=function(t,n){var i;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(XA(t));case 2:return i=n.sent,n.abrupt("return",this.YI(i));case 4:case"end":return n.stop()}},null,this,null,qe)},e.YI=function(t){var n,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m;return Fr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=Po(o,new Jo,!0),y.prev=3,h=i.ui(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.qI(f)&&(u=Zu(f[0].Fi)),l=new Bf,v=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<v.length;d++)w=v[d],g=w.Ei("name")[0].Fi,m=w.Ei("value")[0].Fi,l.append(g,m);return this.GI=l,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],qe)},e.yI=function(t,n){return qe.resolve(t)},e.kI=function(n,i){return t.prototype.wI.call(this,n,ug.pd,i)},n}(HA),XT=function(){function t(n){this.wc=void 0,this.jI=n,this.wc=t.QI(n)}return t.QI=function(t){return"3"===t.version?eT.XI:eT.UI},t.prototype.ZI=function(){var t={};if(this.wc===eT.XI){var n={LatensRegistration:_T(this.jI,eT.XI)};t["X-TITANIUM-DRM-CDATA"]=Ju(JSON.stringify(n))}return t},T(t,[{key:"KI",get:function(){return this.wc}},{key:"lh",get:function(){return this.wc===eT.UI}}]),t}();var zT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JI=void 0,r.JI=new XT(r.QE),r}E(e,t);var r=e.prototype;return r.sI=function(t){var i=this.QE;if(!this.QE)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(lT(i)){var e={};return e.playready={Dh:VT(i,this.JI.KI)},qe.resolve(e)}return qe.reject(bT(i,eT.Jr))},r.cI=function(){var n=new Bf(this.JI.ZI());return n.Zf(t.prototype.cI.call(this)),n},r.aI=function(t,e,r){var s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=t.jd){v.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return v.prev=3,v.next=6,Fr.awrap(s.Ul(r));case 6:a=v.sent,h=Oo(new _(a)),(c=i.ui(h))&&(f=wk(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Fi),o=null==(l=u.DrmErr)?void 0:l.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Jl,s.ed,o);case 15:case"end":return v.stop()}},null,null,[[3,12]],qe)},r.qI=function(t){if(1!==t.length)throw new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(HT);function VT(t,n){var i=_T(t,n),e=i.DeviceInfo.FormatVersion,r=Ju('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=jo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return jo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Vu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var WT,qT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e.qI=function(t){if(1!==t.length)throw new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.hI=function(n,i){var e=Ur({},n||{},{token:this.WI});return t.prototype.hI.call(this,e,i)},T(i,[{key:"WI",get:function(){if(vT(this.QE))return this.QE.token}}]),i}(HT),GT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.hI=function(n,i){var e=n;return aT(this.QE)&&(e=IT(this.QE,e)),t.prototype.hI.call(this,e,i)},n}(HT),$T=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this);return DT(this.QE,"PlayReady",n)},n}(HT),YT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).iI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.dI=function(n){return(As(Oo(new _(n)),"<?xml")?WT.$I:WT.xl)===WT.xl?PT(n):t.prototype.dI.call(this,new _(n))},i.cI=function(){return BT(t.prototype.cI.call(this),this.WI,this.QE)},T(n,[{key:"WI",get:function(){return xT(this.QE)}}]),n}(HT);!function(t){t[t.$I=0]="$I",t[t.xl=1]="xl"}(WT||(WT={}));var QT,ZT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tR=void 0,r}E(n,t);var i=n.prototype;return i.cI=function(){var n=t.prototype.cI.call(this);return this.tR&&n.set("Ticket",this.tR),n.set("Content-Type","text/xml"),n},i.lI=function(n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.QE,s.next=3,Fr.awrap(MT(e,"playready",this.jw,i));case 3:return r=s.sent,this.iI(r.licenseServerUrl),this.tR=r.ticket,s.abrupt("return",t.prototype.lI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,qe)},n}(HT),KT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype.cI=function(){if(!wT(this.QE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cI.call(this);return i.set("X-AxDRM-Message",this.QE.token),i},i}(HT);!function(t){t.qf="application/json",t.nR="application/x-www-form-urlencoded",t.iR="application/octet-stream",t.$n="text/plain;charset=UTF-8"}(QT||(QT={}));var JT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.$c,i,e,r,s)||this).eR="",u.rR=void 0,u.sR=void 0,u.sR=n.uR,u}E(n,t);var i=n.prototype;return i.oR=function(){return this.KE.certificateURL||this.rR},i.aR=function(t){this.rR=t},i.lI=function(t){return qe.resolve(this.cR(t,this.eR))},i.cR=function(t,n){return"spc="+encodeURIComponent(Vu(t))+"&assetId="+encodeURIComponent(n)},i.tI=function(t){return t.fairplay||{}},i.hR=function(t){var n=t.indexOf("?");if(n>=0)return qe.resolve(t.substr(n+1));var i=t.split("/");return qe.resolve(i[i.length-1])},i.sI=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.sR)?n:Ho(new _(t)),s.next=3,Fr.awrap(this.hR(i));case 3:return e=s.sent,this.eR=e,(r={}).fairplay={Mh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,qe)},i.cI=function(){var n=t.prototype.cI.call(this);return n.set("Content-Type",this.fR),n},i.yI=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gI){t.next=2;break}return t.abrupt("return",this.gI);case 2:return t.next=4,Fr.awrap(this.vR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,qe)},i.kI=function(n,i){return t.prototype.wI.call(this,n,ug.md,i)},i.lR=function(t){var n=this.oR(),i=this.cI(),e={hd:n,td:xf.Gf,$l:i,Rd:rg.GET,Pd:!1,Hl:null,Dd:0,Ws:t,fs:sg.wd,Nd:ug.yd};return new hg(e)},i.vR=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.lR(t),r.next=3,Fr.awrap(this.jw.ud(n));case 3:return i=r.sent,r.next=6,Fr.awrap(i.Ul());case 6:return e=r.sent,r.abrupt("return",new _(e));case 8:case"end":return r.stop()}},null,this,null,qe)},i.dI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Xu(i)}else n=new _(t);return n},i.hI=function(n,i){var e=t.prototype.hI.call(this,n,i);return As(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"mI",get:function(){return!0}},{key:"fR",get:function(){return QT.nR}}]),n}(HA),tS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(n,t);var i=n.prototype;return i.hR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return qe.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return qe.resolve(i)},i.lI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},i.dI=function(t){return new _(t)},i.hI=function(n,i){var e=n||{};return e.p1=Wt(),t.prototype.hI.call(this,e,i)},T(n,[{key:"fR",get:function(){return QT.iR}}]),n}(JT),nS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).iI("https://fairplay-license.drm.technology/license"),s.aR("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e.cR=function(t,n){var i={token:this.WI,contentId:n,payload:Vu(t)};return JSON.stringify(i)},e.dI=function(t){return new _(t)},e.cI=function(){var n=t.prototype.cI.call(this);return n.set("x-vudrm-token",this.WI),n},T(i,[{key:"fR",get:function(){return QT.qf}},{key:"WI",get:function(){if(!vT(this.QE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.QE.token}}]),i}(JT),iS="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",eS="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",rS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}return E(i,t),i.prototype.dI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,iS)}if(!i)throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,eS);return i}(Oo(new DataView(i)));return t.prototype.dI.call(this,e)},i}(JT);var sS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.qf)||this}E(i,t);var e=i.prototype;return e.lI=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.QE){r.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Vu(t),r.abrupt("return",kT(i,e,eT.us));case 5:case"end":return r.stop()}},null,this,null,qe)},e.dI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Zu(i.license);return new _(r)}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.aI=function(t,n,i){return AT(t,n,i)},T(i,[{key:"fR",get:function(){return QT.qf}}]),i}(JT),uS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).iI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.aR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.oR=function(){var n=t.prototype.oR.call(this);if(!n)return n;var e=i.Br(n),r=this.QE;return aT(r)&&lg(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.hR=function(n){return aT(this.QE)?qe.resolve(this.QE.contentId):t.prototype.hR.call(this,n)},e.lI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.dI=function(t){return new _(t)},e.hI=function(n,i){var e=n;return aT(this.QE)&&(e=function(t,n){return Ur({},IT(t,n),{KeyId:t.keyId})}(this.QE,e)),t.prototype.hI.call(this,e,i)},T(n,[{key:"fR",get:function(){return QT.iR}}]),n}(JT),oS=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,xf.$n)||this,!oT(e))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.iI("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e.cI=function(){var n=t.prototype.cI.call(this);return DT(this.QE,"FairPlay",n)},e.vR=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.oR(),i={hd:n,td:xf.Gf,$l:{},Rd:rg.GET,Pd:!1,Hl:null,Dd:0,Ws:t,fs:sg.wd,Nd:ug.yd},s.next=4,Fr.awrap(this.jw.ud(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Ul());case 7:return r=s.sent,s.abrupt("return",new _(r));case 9:case"end":return s.stop()}},null,this,null,qe)},e.lI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.hR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),qe.resolve(Oo(Xu(n)))):qe.resolve("unknown")},e.dI=function(t){try{var n=JSON.parse(t);return new _(Zu(n.CkcMessage))}catch(t){throw new l("CFLRW-66")}},i}(JT),aS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.$n)||this).iI(tT[Kr.us]),s}E(i,t);var e=i.prototype;return e.hR=function(t){return As(t,"skd://")?qe.resolve(t.substring("skd://".length,40)):qe.reject(new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.cR=function(t,n){return"spc="+Vu(t)+"&assetId="+n},i}(JT),hS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.$n)||this).iI("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i.cR=function(t,n){var i="spc="+encodeURIComponent(Vu(t))+"&"+encodeURI(n);return"persistent"===this.KE.licenseType?i+"&offline=true":i},i.cI=function(){return BT(t.prototype.cI.call(this),this.WI,this.QE)},T(n,[{key:"WI",get:function(){return xT(this.QE)}}]),n}(JT),cS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(n,t);var e=n.prototype;return e.hR=function(t){var n=t;return As(n,"skd:")&&(n="http:"+n.substring(4)),As(n,"http:")||As(n,"https:")?qe.resolve(i.Br(n).hostname):qe.reject(new l("Could not parse ExpressPlay FairPlay content ID."))},e.lI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.dI=function(t){return new _(t)},T(n,[{key:"fR",get:function(){return QT.iR}}]),n}(JT),fS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.$n)||this}return E(n,t),n.prototype.cI=function(){var n=t.prototype.cI.call(this),i=this.QE.token;return n.set("Authorization","Bearer "+i),n},n}(JT),lS=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,xf.qf)||this,!dT(i))throw new l("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.vR=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.oR(),i=this.cI(),e={hd:n,td:xf.qf,$l:i,Rd:rg.POST,Ws:t,fs:sg.wd,Nd:ug.yd},u.next=5,Fr.awrap(this.jw.ud(e));case 5:return r=u.sent,u.next=8,Fr.awrap(r.xl());case 8:return s=u.sent,u.abrupt("return",new _(Xu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,qe)},i.kI=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Vu(t),r=this.QE,i.next=5,Fr.awrap(MT(r,"fairplay",this.jw,n));case 5:return s=i.sent,u=Lo(JSON.stringify({spc:e,ticket:s.ticket})),o={hd:this.eI(),td:xf.qf,$l:this.cI(),Rd:rg.POST,Hl:u,Dd:0,Ws:n,fs:sg.wd,Nd:ug.md},i.next=10,Fr.awrap(this.jw.ud(o));case 10:return a=i.sent,i.next=13,Fr.awrap(a.xl());case 13:return h=i.sent,i.abrupt("return",Xu(h.licence));case 15:case"end":return i.stop()}},null,this,null,qe)},T(n,[{key:"fR",get:function(){return QT.qf}}]),n}(JT),vS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.$n)||this}E(i,t);var e=i.prototype;return e.cR=function(t,n){return Vu(t)},e.dI=function(i){if(0===i.length)throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.dI.call(this,i)},e.cI=function(){var n=t.prototype.cI.call(this);return n.set("Content-Type","text/plain"),n},i}(JT),dS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(i,t);var e=i.prototype;return e.cR=function(t,n){return t},e.dI=function(t){return new _(t)},e.cI=function(){if(!wT(this.QE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.cI.call(this);return i.set("X-AxDRM-Message",this.QE.token),i},T(i,[{key:"fR",get:function(){return QT.qf}}]),i}(JT),wS=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.qf)||this).dR=void 0,s}E(e,t);var r=e.prototype;return r.cR=function(t,n){var i={spc:Vu(t)};return JSON.stringify(i)},r.hR=function(t){var e=i.Br(t);return this.dR=t,e.searchParams.has("b")?qe.resolve(e.searchParams.get("b")):qe.reject(new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.hI=function(n,i){var e=this.eI();return!e&&this.dR&&(e=this.dR),e&&(e=e.replace("skd://","https://")),t.prototype.hI.call(this,n,i||e)},r.dI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Xu(i.ckc)}catch(t){throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"fR",get:function(){return QT.$n}}]),e}(JT),gS=function(){function t(t,n){this.wR=t,this._R=n}var n=t.prototype;return n.gR=function(t){return this.wR(t)},n.mR=function(t,n){throw new v(n+" must be "+this._R+". (Received: "+t+")")},t}();new gS(function(t){return!0},"any");var mS=new gS(Z,"a number"),yS=new gS(G,"a string"),pS=new gS($,"a boolean");new gS(Q,"a date"),new gS(X,"undefined"),new gS(W,"an object"),new gS(function(t){return null===t},"null"),new gS(function(t){return null==t},"null or undefined");var _S,bS=(_S={responseCode:mS,isException:pS,description:yS,title:yS,correlationId:yS},{gR:function(t){if(!W(t))return!1;for(var n=0,i=w.keys(_S);n<i.length;n++){var e=i[n];if(!_S[e].gR(t[e]))return!1}return!0},mR:function(t,n){if(!W(t))throw new v(n+" must be an object.");for(var i=0,e=w.keys(_S);i<e.length;i++){var r=e[i],s=_S[r];if(!s.gR(t[r]))return s.mR(t[r],n+"."+String(r))}throw new v}});function kS(t,n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=AS(t,n,i,r),u.next=3,Fr.awrap(TS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,qe)}function AS(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return lg(e,n),e.toString()}(e,s)),o=new Bf({});o.append("Content-Type","application/json");var a=Vu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{hd:u,td:xf.$n,$l:o,Rd:rg.POST,Hl:JSON.stringify(h),Ws:r,fs:sg.wd,Nd:ug.md}}function TS(t,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(i.ud(t));case 2:return e=s.sent,s.next=5,Fr.awrap(e.xl());case 5:if(r=s.sent,!bS.gR(r)){s.next=8;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.hd,r.responseCode);case 8:return s.abrupt("return",Xu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,qe)}var SS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).yR=void 0,s.yR=i,s}E(n,t);var i=n.prototype;return i.hR=function(n){var i=n.replace("FairPlay",this.yR.releasePid);return t.prototype.hR.call(this,i)},i.kI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(kS(t,this.yR,this.eI(),this.jw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,qe)},n}(JT),ES=function(t){function i(n,i,e){return t.call(this,ys,n,i,e,xf.Gf)||this}E(i,t);var e=i.prototype;return e.tI=function(t){return t.clearkey||{}},e.uI=function(i,e,r,s){var u,o;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.KE,!this.eI()){e.next=5;break}return e.abrupt("return",t.prototype.uI.call(this,i,this.$E,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Lo(JSON.stringify(o)).buffer);case 10:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,qe)},e.yI=function(t,n){return qe.resolve(new _(0))},e.kI=function(n,i){return t.prototype.wI.call(this,n,ug.Ad,i)},i}(HA),IS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(WA),RS={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function CS(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=jS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",qe.resolve(n));case 5:return u.next=8,Fr.awrap(du(qe.resolve(r.call(t,e)),i));case 8:if(!$o(s=u.sent)){u.next=11;break}return u.abrupt("return",Yo(s));case 11:return u.abrupt("return",MS(Ur({},RS,s)));case 12:case"end":return u.stop()}},null,null,null,qe)}function DS(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=LS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(du(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function NS(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(xS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",MS(r));case 6:case"end":return s.stop()}},null,null,null,qe)}function PS(t,n,i,e,r,s){var u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=OS(i,r),a.next=3,Fr.awrap(BS(t,new _(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Yo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,qe)}function xS(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=OS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",qe.resolve(s));case 5:return o.next=8,Fr.awrap(du(qe.resolve(r.call(t,s)),e));case 8:if(!$o(u=o.sent)){o.next=11;break}return o.abrupt("return",Yo(u).buffer);case 11:return o.abrupt("return",Ur({fairplaySkdUrl:void 0},RS,u));case 12:case"end":return o.stop()}},null,null,null,qe)}function BS(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=LS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(du(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function OS(t,n){return Ur({},jS(t),{fairplaySkdUrl:n})}function LS(t,n,i){return{url:i.od,status:i.Jl,statusText:i.ed,headers:i.$l.jf(),body:t,request:n}}function MS(t){return new hg({hd:t.url,Rd:t.method,$l:t.headers,Hl:t.body,Pd:t.useCredentials})}function jS(t){var n;return{url:t.hd,body:null!=(n=FS(t.Hl))?n:null,headers:t.$l.jf(),method:t.Rd,useCredentials:t.Pd}}function FS(t){if(t)return"string"==typeof t?Xo(t):t instanceof ArrayBuffer?new _(t):qu(t)?Go(t):void 0}var US,HS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).kR=void 0,s.kR=r,s}E(i,t);var e=i.prototype;return e.yI=function(t,n){return qe.resolve(t)},e.kI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.YI(Zo(t).buffer));case 2:return e=a.sent,r=this.oI(e,xf.Gf,ug.pd,i),a.next=6,Fr.awrap(NS(this.kR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new _(s));case 10:if(""!==s.hd){a.next=12;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Fr.awrap(this.jw.ud(s));case 15:return u=a.sent,a.next=18,Fr.awrap(u.Ul(i));case 18:return o=a.sent,a.t0=_,a.next=22,Fr.awrap(PS(this.kR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),lu(a.t2),new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],qe)},i}(HT),XS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,xf.Gf)||this).kR=void 0,s.kR=r,s}E(i,t);var e=i.prototype;return e.yI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.gI){a.next=2;break}return a.abrupt("return",this.gI);case 2:return e=this.oI(t,xf.Gf,ug.bd,i),a.next=5,Fr.awrap(CS(this.kR,e,i));case 5:if(!((r=a.sent)instanceof _)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.hd){a.next=11;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Fr.awrap(this.jw.ud(r));case 14:return s=a.sent,a.next=17,Fr.awrap(s.Ul(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),lu(a.t0),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=OS(e,void 0),a.next=27,Fr.awrap(DS(this.kR,new _(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],qe)},e.kI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.oI(t,xf.Gf,ug.kd,i),o.next=3,Fr.awrap(NS(this.kR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.hd){o.next=9;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.jw.ud(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Ul(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),lu(o.t0),new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=_,o.next=25,Fr.awrap(PS(this.kR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],qe)},i}(IS),zS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,xf.Gf)||this).kR=void 0,u.bR=void 0,u.kR=s,u}E(i,t);var e=i.prototype;return e.yI=function(t,i){var e,r,s,u,o;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gI){t.next=2;break}return t.abrupt("return",this.gI);case 2:return e=this.lR(i),t.next=5,Fr.awrap(CS(this.kR,e,i));case 5:if(r=t.sent,!qu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Fr.awrap(this.jw.ud(r));case 11:return s=t.sent,t.next=14,Fr.awrap(s.Ul());case 14:return u=t.sent,o=OS(e,void 0),t.next=18,Fr.awrap(DS(this.kR,new _(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),lu(t.t0),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],qe)},e.kI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.oI(t,xf.Gf,ug.md,i),o.next=3,Fr.awrap(NS(this.kR,e,this.bR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.hd){o.next=9;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.jw.ud(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Ul(i));case 15:return u=o.sent,o.t0=_,o.next=19,Fr.awrap(PS(this.kR,u,e,s,this.bR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),lu(o.t2),new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],qe)},e.hR=function(n){var i;return this.bR=n,null!=(i=this.kR)&&i.extractFairplayContentId?qe.resolve(this.kR.extractFairplayContentId(n)):t.prototype.hR.call(this,n)},i}(JT),VS=function(){function t(){}var n=t.prototype;return n.pR=function(t,n,i,e){switch(t.$c.fs){case Kr.$r:return this.AR(n,i,e);case Kr.Jr:return this.SR(n,i,e);case Kr.us:return this.ER(t,n,i,e);case Kr.rs:default:return this.IR(n,i,e)}},n.AR=function(t,n,i){var e,r=(e=t).integration===UA&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&KA.MI.OI(r,os)){var s=KA.MI.LI(r,os,t);return new XS(t,n,i,s)}switch(r){case SA:return new ST(t,n,i);case CA:return new ET(t,n,i);case RA:return new RT(t,n,i);case EA:return new NT(t,n,i);case PA:return new OT(t,n,i);case BA:return new LT(t,n,i);case OA:return new jT(t,n,i);case MA:return new FT(t,n,i);case NA:default:return new IS(t,n,i,xf.Gf)}},n.SR=function(t,n,i){var e=t.integration;if(e&&KA.MI.OI(e,rs)){var r=KA.MI.LI(e,rs,t);return new HS(t,n,i,r)}switch(e){case SA:return new zT(t,n,i);case CA:return new qT(t,n,i);case RA:return new GT(t,n,i);case EA:return new $T(t,n,i);case PA:return new YT(t,n,i);case OA:return new ZT(t,n,i);case MA:return new KT(t,n,i);case NA:default:return new HT(t,n,i)}},n.ER=function(t,n,i,e){var r=n.integration;if(r&&KA.MI.OI(r,fs)){var s=KA.MI.LI(r,fs,n);return new zS(t,n,i,e,s)}switch(r){case IA:return new tS(t,n,i,e);case CA:return new nS(t,n,i,e);case DA:return new rS(t,n,i,e);case SA:return new sS(t,n,i,e);case RA:return new uS(t,n,i,e);case EA:return new oS(t,n,i,e);case NA:return new aS(t,n,i,e);case PA:return new hS(t,n,i,e);case xA:return new cS(t,n,i,e);case BA:return new fS(t,n,i,e);case OA:return new lS(t,n,i,e);case LA:return new vS(t,n,i,e);case MA:return new dS(t,n,i,e);case jA:return new wS(t,n,i,e);case FA:return new SS(t,n,i,e);default:return new JT(t,n,i,e,xf.$n)}},n.IR=function(t,n,i){return new ES(t,n,i)},n.RR=function(t){return t.fs===Kr.Jr||t.fs===Kr.$r||t.fs===Kr.us||t.fs===Kr.rs},n.lh=function(t,n){var i;if(t.fs!==Kr.Jr)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!KA.MI.OI(e,fs))&&(e===SA&&new XT(n).lh)},n.HI=function(t,n){if(t.fs===Kr.$r){var i=n.integration;if(!i||!KA.MI.OI(i,fs))return i===SA?ST.HI():void 0}},t}();!function(t){t[t.DR=0]="DR",t[t.NR=1]="NR",t[t.PR=2]="PR",t[t.OR=3]="OR",t[t.xR=4]="xR",t[t.Ng=5]="Ng",t[t.LR=6]="LR",t[t.MR=7]="MR",t[t.Lg=8]="Lg",t[t.UR=9]="UR",t[t.XR=10]="XR"}(US||(US={}));var WS=function(){function t(){}return t.prototype.FR=function(t){},T(t,[{key:"HR",get:function(){return 0}},{key:"zR",get:function(){return 0}}]),t}(),qS=function(){function t(t,n){void 0===n&&(n=new VS),this.pE=void 0,this.WR=void 0,this.jI=void 0,this.pE=t,this.WR=n}var n=t.prototype;return n.GR=function(t){this.jI=t},n.HI=function(t){var n=this.jI;if(void 0!==n)return this.WR.HI(t,n)},n.lh=function(t){var n=this.jI;return void 0!==n&&this.WR.lh(t,n)},n.qR=function(t){var n={$c:t.$c,YR:t.YR||[],uR:t.uR},i=this.WR.pR(n,this.jI||{},t.ZE,this.pE);return new GS(i)},t}(),GS=function(){function t(t){this.jR=void 0,this.jR=t}var n=t.prototype;return n.rI=function(t){return this.jR.rI(t)},n.sI=function(t,n,i){return this.jR.sI(n,i)},n.mI=function(){return this.jR.mI||void 0!==this.jR.gI},n.yI=function(t,n){return this.jR.yI(t,n)},n.kI=function(t,n,i){return n&&this.jR.iI(n),this.jR.kI(t,i)},n.xs=function(){this.jR.xd()},t}(),$S=function(t){function n(n){var i;(i=t.call(this)||this).QR=[],i.ZR=function(t){i.E_(t.i_)},i.KR=function(t){var n=t.i_;i.JR(n)||i.I_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.$R(r)}return i}E(n,t);var i=n.prototype;return i.$R=function(t){this.QR.push(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.E_(e)}this.tD(t)},i.nD=function(t){$s(this.QR,t),this.iD(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.JR(e)||this.I_(e)}},i.JR=function(t){for(var n=0,i=this.QR;n<i.length;n++){if(i[n].R_(t))return!0}return!1},i.tD=function(t){t.Zs(Zm.Qw,this.ZR),t.Zs(Zm.Kw,this.KR)},i.iD=function(t){t.tu(Zm.Qw,this.ZR),t.tu(Zm.Kw,this.KR)},i.xd=function(){for(;this.QR.length>0;)this.nD(this.QR[0]);t.prototype.xd.call(this)},i.n_=function(){return Fy(this)},n}(ay);function YS(t){return{get enabled(){return t.F_},set enabled(n){t.F_=_y(n)},get currentLatency(){return t.ym},get streamConfiguration(){if(void 0!==t.eD)return function(t){return{get minimumOffset(){return t.hm},get maximumOffset(){return t.vm},get targetOffset(){return t.fm},get forceSeekOffset(){return t.lm},get minimumPlaybackRate(){return t.dm},get maximumPlaybackRate(){return t.wm}}}(t.eD)},get configuration(){return function(t){return{get minimumOffset(){return t.hm},set minimumOffset(n){t.hm=by(n)},get maximumOffset(){return t.vm},set maximumOffset(n){t.vm=by(n)},get targetOffset(){return t.fm},set targetOffset(n){t.fm=by(n)},get forceSeekOffset(){return t.lm},set forceSeekOffset(n){t.lm=by(n)},get minimumPlaybackRate(){return t.dm},set minimumPlaybackRate(n){t.dm=by(n)},get maximumPlaybackRate(){return t.wm},set maximumPlaybackRate(n){t.wm=by(n)},update:function(n){t.qc(function(t){var n={};void 0!==t.minimumOffset&&(n.hm=by(t.minimumOffset));void 0!==t.maximumOffset&&(n.vm=by(t.maximumOffset));void 0!==t.targetOffset&&(n.fm=by(t.targetOffset));void 0!==t.forceSeekOffset&&(n.lm=by(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.dm=by(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.wm=by(t.maximumPlaybackRate));return n}(n))}}}(t.nh)}}}var QS,ZS=function(){function t(){this.$w=void 0,this.rD=void 0,this.rD={lm:0,vm:0,wm:0,hm:0,dm:0,fm:0,qc:K}}return T(t,[{key:"t_",get:function(){return null!=this.$w||(this.$w=YS(this)),this.$w}},{key:"F_",get:function(){return!1},set:function(t){}},{key:"ym",get:function(){}},{key:"eD",get:function(){}},{key:"nh",get:function(){return this.rD}}]),t}();function KS(){return QS||(QS=we&&we.document&&we.document.createElement("video")),QS}var JS=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new VS),void 0===a&&(a=Ef()),(h=t.call(this)||this).sD=void 0,h.uD=void 0,h.oD=void 0,h.Nm=void 0,h.Cm=void 0,h.Pm=void 0,h.aD=void 0,h.cD=void 0,h.hD=void 0,h.fD=void 0,h.vD=void 0,h.pE=void 0,h.ys=void 0,h.lD=void 0,h.dD=void 0,h.wD=new WS,h._D=new ZS,h.gD=function(t){var i=t.mu,e=i.code,r=new lf(function(t){switch(t){case Jp.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Jp.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Jp.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Jp.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Jp.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Jp.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Jp.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new e_(e,r.message,i.message);h.mD(r,s)},h.yD=function(){h.Qs(new Sp(h.jg,h._y))},h.kD=function(t){h.$g||(h.dD=void 0),h.Qs(t)},h.bD=function(t){h.dD=void 0,h.Qs(t)},h.pD=function(){h.Qs(new E_(h.yy))},h.TD=function(){h.um>0&&h.im>0&&h.Qs(new cA)},h.SD=function(t){h.Nm.E_(new __(t.track))},h.ED=function(t){var n=nE(h.Nm,t.track);n&&h.Nm.I_(n)},h.RD=function(){h.DD(h.Nm)},h.ND=function(t){h.Cm.E_(new S_(t.track))},h.CD=function(t){var n=nE(h.Cm,t.track);n&&h.Cm.I_(n)},h.PD=function(){h.DD(h.Cm)},h.BD=function(t){h.Qs(t),h.mD(t.errorObject,s_(t.errorObject))},h.sD=e,h.pE=r,h.ys=a,h.uD=h.sD.OD(o_.Ed),h.hD=h.uD.xD.preload,h.fD=new AA(h.uD,!0),h.fD.Zs(bp,h.js),h.lD=new qS(r,o),h.uD.LD=h.lD,h.MD(),h.Nm=new a_,h.Cm=new a_,h.UD(),h.vD=new eA(h.uD,h.pE),h.Pm=new $S([h.uD.Um]),h.Km(),h}E(i,t);var e=i.prototype;return e.Jm=function(){this.uD.Jm()},e.Km=function(){this.uD.Km()},e.Wm=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return fu(i),e={fs:hA.NE,fg:t.src,Fl:t.type,XD:this.FD(t),Dy:this.hD,HD:t.crossOrigin,zD:n.metadata&&n.metadata.title},this.lD.GR(t.contentProtection),r.next=5,Fr.awrap(this.uD.Wc(e));case 5:this.oD=r.sent,fu(i),n.textTracks&&this.VD(n.textTracks),aA(this.Um);case 9:case"end":return r.stop()}},null,this,null,qe)},e.VD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.uD.WD()&&j.cn&&yA&&!$k(i.kind,i.label)&&this.GD(i)){var e,r=null!=(e=i.kind)?e:Bk.rA;this.uD.qD(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.vD.TE(i)}}},e.GD=function(t){return!t.format||"webvtt"===t.format},e.Fm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.uD.Fm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.YD){t.next=12;break}return t.next=10,Fr.awrap(this.uD.au(Pf.Rf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],qe)},e.Hm=function(){this.uD.Hm()},e.Gm=function(){return void 0!==this.uD.xD.webkitShowPlaybackTargetPicker},e.qm=function(){this.uD.xD.webkitShowPlaybackTargetPicker&&this.uD.xD.webkitShowPlaybackTargetPicker()},e.Ym=function(){this.uD.xD.webkitShowPlaybackTargetPicker&&this.uD.xD.webkitShowPlaybackTargetPicker()},e.$m=function(){return this.uD.xD},e.iy=function(){return this.uD.jD},e.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aD=void 0,this.cD=void 0,this.oD=void 0,t.next=5,Fr.awrap(this.vD.D_());case 5:return this.uD.QD(),t.next=8,Fr.awrap(this.uD.D_());case 8:this.fD.D_(),this.Dy=this.hD,this.Lm.D_(),this.Mm.D_(),this.dD=void 0;case 13:case"end":return t.stop()}},null,this,null,qe)},e.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.D_());case 2:return this.$s(),this.ZD(),this.KD(),this.fD.xd(),this.uD.LD=void 0,t.next=9,Fr.awrap(this.sD.JD(this.uD));case 9:return this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),t.next=14,Fr.awrap(this.vD.xd());case 14:case"end":return t.stop()}},null,this,null,qe)},e.MD=function(){this.uD.Zs(Pf.If,this.js),this.uD.Zs(Pf.Ef,this.js),this.uD.Zs(Pf.Ff,this.yD),this.uD.Zs(Pf.Rf,this.js),this.uD.Zs(Pf.bf,this.js),this.uD.Zs(Pf.Bf,this.js),this.uD.Zs(Pf.Pf,this.kD),this.uD.Zs(Pf.mf,this.js),this.uD.Zs(Pf.Df,this.js),this.uD.Zs(Pf.Hf,this.js),this.uD.Zs(Pf._f,this.js),this.uD.Zs(Pf.Cf,this.TD),this.uD.Zs(wp.Yg,this.bD),this.uD.Zs(xy.K_,this.gD),this.uD.Zs(Pf.lf,this.js),this.uD.Zs(Pf.vf,this.BD),this.uD.xD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.pD)},e.ZD=function(){this.uD.tu(Pf.If,this.js),this.uD.tu(Pf.Ef,this.js),this.uD.tu(Pf.Ff,this.yD),this.uD.tu(Pf.Rf,this.js),this.uD.tu(Pf.bf,this.js),this.uD.tu(Pf.Bf,this.js),this.uD.tu(Pf.Pf,this.kD),this.uD.tu(Pf.mf,this.js),this.uD.tu(Pf.Df,this.js),this.uD.tu(Pf.Hf,this.js),this.uD.tu(Pf._f,this.js),this.uD.tu(Pf.Cf,this.TD),this.uD.tu(wp.Yg,this.bD),this.uD.tu(xy.K_,this.gD),this.uD.tu(Pf.lf,this.js),this.uD.tu(Pf.vf,this.BD),this.uD.xD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.pD)},e.FD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{$c:gs,$D:[{initDataTypes:[gs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.UD=function(){var t=this.uD.xD.audioTracks,n=this.uD.xD.videoTracks;t&&(t.addEventListener("addtrack",this.SD),t.addEventListener("removetrack",this.ED),t.addEventListener("change",this.RD)),n&&(n.addEventListener("addtrack",this.ND),n.addEventListener("removetrack",this.CD),n.addEventListener("change",this.PD))},e.KD=function(){var t=this.uD.xD.audioTracks,n=this.uD.xD.videoTracks;t&&(t.removeEventListener("addtrack",this.SD),t.removeEventListener("removetrack",this.ED),t.removeEventListener("change",this.RD)),n&&(n.removeEventListener("addtrack",this.ND),n.removeEventListener("removetrack",this.CD),n.removeEventListener("change",this.PD))},e.DD=function(t){for(var n=0;n<t.C_;n++){t.S_(n).Fy()}},e.ly=function(){this.uD.ly()},e.mD=function(t,n){this.aD||(this.aD=n,this.cD=t,this.Qs(new Bp(t)))},T(i,[{key:"YD",get:function(){var t=this.uD.wy,n=this.jg;return t.tN(n,.01)}},{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.uD.wy.nN()}},{key:"_y",get:function(){return this.uD._y},set:function(t){t&&this.uD.iN(t)}},{key:"jg",get:function(){return void 0!==this.dD?this.dD:this.uD.jg},set:function(t){this.yy&&(this.dD=t),this.uD.xu(t)}},{key:"Qg",get:function(){return this.uD.Qg}},{key:"Zg",get:function(){return this.uD.Zg}},{key:"mu",get:function(){return this.aD}},{key:"Kg",get:function(){return this.cD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return this.uD.yy}},{key:"Tm",get:function(){return Ur({},{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.uD.eN())}},{key:"Jg",get:function(){return this.uD.Jg},set:function(t){this.uD.Jg=t}},{key:"Iy",get:function(){return!0}},{key:"$g",get:function(){return this.uD.$g}},{key:"tm",get:function(){return this.uD.tm},set:function(t){this.uD.tm=t}},{key:"Ry",get:function(){return this.uD.xD.played}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD=t,this.oD&&(this.oD.Dy=t)}},{key:"ag",get:function(){return this.uD.ag}},{key:"Ny",get:function(){return this.uD.Ny.nN()}},{key:"nm",get:function(){return this.uD.nm}},{key:"rN",get:function(){return this.uD.rN}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"im",get:function(){return this.uD.im}},{key:"um",get:function(){return this.uD.um}},{key:"cm",get:function(){return this.uD.cm},set:function(t){this.uD.cm=t}},{key:"Cy",get:function(){return this._D}},{key:"Py",get:function(){return this.uD.Py},set:function(t){this.uD.Py=t}},{key:"sN",get:function(){return this.wD}}]),i}(Xy);var tE=function(){function t(){this.uN=US.XR}var n=t.prototype;return n.DI=function(t,n,i,e,r,s){return new JS(t,n,i,e,r)},n.oN=function(t,n){return function(t){return!t.type||!(!KS().canPlayType||!KS().canPlayType(t.type))}(t)},n.aN=function(){return!1},t}();function nE(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.Vy===n)return r}}var iE=function(){function t(){this.cN=new tE,this.hN=[]}t.fN=function(){return this.Yn};var n=t.prototype;return n.vN=function(t){this.hN.push(t)},n.DI=function(t,n,i,e,r,s){for(var u=this.cN.DI(t,n,i,e,r,s),o=0,a=this.hN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.oN=function(t,n){return this.cN.oN(t,n)},n.aN=function(){return!1},T(t,[{key:"uN",get:function(){return this.cN.uN}}]),t}();function eE(t,n){return Hs(t.uN,n.uN)}function rE(t){sE.Yn.lN(t)}iE.Yn=new iE;var sE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dN=iE.fN(),n}E(n,t);var i=n.prototype;return i.wN=function(t){this.dN=t},i._N=function(){return this.dN},i.gN=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Fr.awrap(this.mN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{yN:e,kN:r});case 8:i++,a.next=1;break;case 11:s=this.dN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.oN(o,n)){a.next=17;break}return a.abrupt("return",{yN:o,kN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{yN:t[0],kN:s});case 21:case"end":return a.stop()}},null,this,null,qe)},n}(function(){function t(){this.bN=[]}var n=t.prototype;return n.lN=function(t){this.bN.push(t),this.bN.sort(eE)},n.mN=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.bN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Y(s=r.oN(t,n))){u.next=10;break}return u.next=7,Fr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,qe)},t}());sE.Yn=new sE;var uE,oE=function(){function t(t){this.pN=void 0,this.pN=we&&we.document&&we.document.createElement("div"),cr(this.pN),t.appendChild(this.pN)}return t.prototype.xd=function(){nr(this.pN)},t}();function aE(t){switch(t){case uE.AN:case"":return uE.AN;case uE.uA:return uE.uA;case uE.TN:default:return uE.TN}}!function(t){t.XR="",t.TN="none",t.uA="metadata",t.AN="auto"}(uE||(uE={}));var hE=[xy.K_,Pf.gf,Pf.yu,Pf.Wf,Pf.sf,Pf.yf,Pf.Tf,Pf.Sf,Pf.xf,Pf.Mf,wp.zg,wp.Vg,wp.Wg,wp.Gg,wp.w_,wp.qg,wp.Yg,Pf.vf,Pf.lf,Pf._f,Pf.mf,Pf.bf,Pf.pf,Pf.If,Pf.Rf,Pf.Ef,Pf.Df,Pf.Cf,Pf.Bf,Pf.Pf,Pf.Ff,Pf.Hf,Pf.Nf,Pf.Af,Pf.Of],cE=function(t){function n(n,i){var e;return(e=t.call(this)||this).SN=void 0,e.EN=void 0,e.IN=void 0,e.RN=void 0,e.hD=uE.TN,e.DN=void 0,e.NN=!0,e.Nm=new By,e.Cm=new By,e.Pm=new Hy,e.Bm=new t_,e.SN=n,e.IN=i,e.IN.Dy=e.Dy,e.CN(),e}E(n,t);var i=n.prototype;return i.Hm=function(){this.IN.Hm()},i.Fm=function(){var t=this.IN.Fm();Y(t)&&pu(t)},i.zm=function(){return this.Wm(void 0)},i.jm=function(){},i.sy=function(t){return!1},i.CN=function(){this.Nm.M_=this.IN.Lm,this.Cm.M_=this.IN.Mm,this.Pm.M_=this.IN.Um,this.Bm.M_=this.IN.Xm,this.IN.Zs(hE,this.js)},i.PN=function(){this.IN.tu(hE,this.js),this.Nm.M_=void 0,this.Cm.M_=void 0,this.Pm.M_=void 0,this.Bm.M_=void 0},i.Vm=function(){return this.DN},i.Wm=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(fu(n),this.DN=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!hp(i=t.sources.filter(dp))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Fr.awrap(this.SN.gN(i,t));case 9:if(e=a.sent,fu(n),r=e.yN,s=e.kN,u=this.iy(),o=Mp(this),this.EN===s&&!this.mu){a.next=25;break}return this.PN(),a.next=19,Fr.awrap(this.IN.xd());case 19:fu(n),this.EN=s,this.IN=this.BN(s),fE(this.IN,o),jp(this,o,this),this.CN();case 25:return this.IN.Dy=this.Dy,this.NN?this.IN.Km():this.IN.Jm(),a.next=29,Fr.awrap(this.IN.Wm(r,t,n));case 29:fu(n),this.ON(r),this.iy()!==u&&this.Qs(new Vy);case 32:case"end":return a.stop()}},null,this,null,qe)},i.ON=function(t){this.RN!==t&&(this.RN=t,this.Qs(new Wy(t)))},i.Gm=function(){return this.IN.Gm()},i.qm=function(){this.IN.qm()},i.Ym=function(){this.IN.Ym()},i.iy=function(){return this.IN.iy()},i.ly=function(){this.IN.ly()},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DN=void 0,this.ON(void 0),t.next=4,Fr.awrap(this.IN.D_());case 4:case"end":return t.stop()}},null,this,null,qe)},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.D_());case 3:return t.next=5,Fr.awrap(this.IN.xd());case 5:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.Bm.xd();case 9:case"end":return t.stop()}},null,this,null,qe)},i.Km=function(){this.NN=!0,this.IN.Km()},i.Jm=function(){this.NN=!1,this.IN.Jm()},T(n,[{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.IN.wy}},{key:"mu",get:function(){return this.IN.mu}},{key:"Kg",get:function(){return this.IN.Kg}},{key:"_y",get:function(){return this.IN._y},set:function(t){this.IN._y=t}},{key:"vy",get:function(){return this.RN}},{key:"jg",get:function(){return this.IN.jg},set:function(t){this.IN.jg=t}},{key:"Qg",get:function(){return this.IN.Qg}},{key:"Zg",get:function(){return this.IN.Zg}},{key:"Xm",get:function(){return this.Bm}},{key:"yy",get:function(){return this.IN.yy}},{key:"Tm",get:function(){return this.IN.Tm}},{key:"Jg",get:function(){return this.IN.Jg},set:function(t){this.IN.Jg=t}},{key:"Iy",get:function(){return this.IN.Iy}},{key:"$g",get:function(){return this.IN.$g}},{key:"tm",get:function(){return this.IN.tm},set:function(t){this.IN.tm=t}},{key:"Ry",get:function(){return this.IN.Ry}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD=t,this.IN&&(this.IN.Dy=this.hD)}},{key:"ag",get:function(){return this.IN.ag}},{key:"Ny",get:function(){return this.IN.Ny}},{key:"nm",get:function(){return this.IN.nm}},{key:"Um",get:function(){return this.Pm}},{key:"im",get:function(){return this.IN.im}},{key:"Mm",get:function(){return this.Cm}},{key:"um",get:function(){return this.IN.um}},{key:"cm",get:function(){return this.IN.cm},set:function(t){this.IN.cm=t}},{key:"Cy",get:function(){return this.IN.Cy}},{key:"sN",get:function(){return this.IN.sN}}]),n}(Su);function fE(t,n){t.Jg!==n.Jg&&(t.Jg=n.Jg),t.cm!==n.cm&&(t.cm=n.cm),t.tm!==n.tm&&(t.tm=n.tm)}var lE,vE=function(t){function n(n,i){var e;return(e=t.call(this)||this).C_=void 0,e.xN=void 0,e.LN=void 0,e.C_=n.length>>1,e.xN=n,e.LN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.C_),e}E(n,t);var i=n.prototype;return i.MN=function(t){return this.xN[2*t]},i.UN=function(t){return this.LN[2*t]},i.XN=function(t){return this.xN[2*t+1]},i.FN=function(t){return this.LN[2*t+1]},T(n,[{key:"HN",get:function(){return this.xN.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Tk=function(t,n){return 0===this.Mk(t,n)},n.gb=function(t,n){return this.Mk(t,n)>0},n.mb=function(t,n){return this.Mk(t,n)>=0},n.zk=function(t,n){return this.Mk(t,n)<0},n.Fk=function(t,n){return this.Mk(t,n)<=0},n.Mb=function(t,n){return this.zk(t,n)?t:n},n.Lb=function(t,n){return this.gb(t,n)?t:n},n.zN=function(t,n,i){return i?this.Fk(t,n):this.zk(t,n)},n.nN=function(){var t=this;return{get length(){return t.C_},start:function(n){var i=0|n;return t.VN(i),t.WN(t.MN(i))},end:function(n){var i=0|n;return t.VN(i),t.WN(t.XN(i))}}},n.GN=function(){for(var t=new Array(2*this.C_),n=new Array(2*this.C_),i=0;i<this.C_;i++)t[2*i]=this.MN(i),t[2*i+1]=this.XN(i),n[2*i]=!0,n[2*i+1]=!0;return this.qN(t,n)},n.VN=function(t){if(t<0)throw new l("The index provided ("+t+") must be non-negative");if(t>=this.C_)throw new l("The index provided ("+t+") is greater than the maximum bound ("+this.C_+")")},n.YN=function(t){if(0===this.C_)return this.jN();if(this.tN(t))return t;if(this.Fk(t,this.MN(0)))return this.MN(0);if(this.mb(t,this.XN(this.C_-1)))return this.XN(this.C_-1);for(var n,i=this.QN(),e=0;e<this.C_;e++){var r=this.MN(e),s=this.Hk(r,t);this.zk(s,i)&&(n=r,i=s);var u=this.XN(e),o=this.Hk(this.XN(e),t);this.zk(o,i)&&(n=u,i=o)}return n},n.ZN=function(t){for(var n=0,i=0,e=[],r=[];n<this.C_&&i<t.C_;){var s=this.MN(n),u=this.XN(n),o=this.UN(n),a=this.FN(n),h=t.MN(i),c=t.XN(i),f=t.UN(i),l=t.FN(i),v=this.Lb(s,h),d=this.Mb(u,c),w=void 0;w=this.Tk(s,h)?o&&f:this.Tk(v,s)?o:f;var g=void 0;g=this.Tk(u,c)?a&&l:this.Tk(d,u)?a:l,(this.zk(v,d)||w&&g&&this.Tk(v,d))&&(e.push(v,d),r.push(w,g));var m=this.Mk(this.XN(n),t.XN(i));0===m?(n+=1,i+=1):m<0?n+=1:i+=1}return this.qN(e,r)},n.KN=function(){var t=this.JN(),n=t.C_;if(0===n)return this.qN([t.$N(),t.QN()],[!1,!1]);var i=[],e=[],r=t.MN(0);t.Tk(r,t.$N())||(i.push(t.$N(),r),e.push(!1,!t.UN(0)));for(var s=0;s<n-1;s++)i.push(t.XN(s),t.MN(s+1)),e.push(!t.FN(s),!t.UN(s+1));var u=t.XN(n-1);return t.Tk(u,t.QN())||(i.push(u,t.QN()),e.push(!t.FN(n-1),!1)),t.qN(i,e)},n.tC=function(t){for(var n=0,i=0,e=this.C_,r=t.C_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.MN(n),h=this.XN(n),c=t.MN(i),f=t.XN(i);this.zk(a,c)||this.Tk(a,c)&&this.zk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.UN(n),u[o+1]=this.FN(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.UN(i),u[o+1]=t.FN(i),i++),o+=2}for(;n<e;)s[o]=this.MN(n),s[o+1]=this.XN(n),u[o]=this.UN(n),u[o+1]=this.FN(n),n++,o+=2;for(;i<r;)s[o]=t.MN(i),s[o+1]=t.XN(i),u[o]=t.UN(i),u[o+1]=t.FN(i),i++,o+=2;return this.qN(s,u)},n.nC=function(t){void 0===t&&(t=this.jN());var n=this.C_;if(n<2)return this;for(var i=[],e=[],r=this.MN(0),s=this.XN(0),u=this.UN(0),o=this.FN(0),a=1;a<n;a++){var h=this.MN(a),c=this.XN(a),f=this.UN(a),l=this.FN(a);this.zk(r,h)&&this.gb(s,c)||(this.Tk(r,h)&&(u=f=u||f),this.Tk(s,c)&&(o=l=o||l),this.zN(h,this.Oy(s,t),o||f)?(s=c,o=l):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=l))}return i.push(r,s),e.push(u,o),this.qN(i,e).JN()},n.JN=function(){for(var t=[],n=[],i=0;i<this.C_;i++){var e=this.MN(i),r=this.XN(i),s=this.UN(i),u=this.FN(i);this.Tk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.qN(t,n)},n.iC=function(t){return this.C_?t.C_?this.tC(t).nC():this:t},n.eC=function(t){var n=this.JN(),i=t.JN(),e=n.KN(),r=i.KN(),s=e.ZN(i),u=r.ZN(n);return s.iC(u)},n.Bu=function(t){if(this.Tk(t,this.jN()))return this;for(var n=[],i=[],e=0;e<this.C_;e++){var r=this.Oy(this.MN(e),t),s=this.Oy(this.XN(e),t);n.push(r,s),i.push(this.UN(e),this.FN(e))}return this.qN(n,i)},n.rC=function(t){return 0===this.C_||0===t.C_?this:this.JN().ZN(t.JN().KN())},n.tN=function(t,n){return this.sC(t,n)>=0},n.uC=function(t,n,i,e,r){return this.oC(t,n,i,e,r)>=0},n.aC=function(t,n,i,e,r){return this.cC(t,n,i,e,r)>=0},n.hC=function(t){if(t.C_!==this.C_)return!1;for(var n=0;n<this.C_;n++)if(!this.Tk(this.MN(n),t.MN(n))||!this.Tk(this.XN(n),t.XN(n))||this.UN(n)!==t.UN(n)||this.FN(n)!==t.FN(n))return!1;return!0},n.fC=function(t){for(var n=[],i=[],e=0;e<this.C_;e++){var r=this.MN(e),s=this.XN(e),u=this.UN(e),o=this.FN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.qN(n,i)},n.cC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.jN());for(var s=this.qk(t,r),u=this.Oy(n,r),o=0;o<this.C_;o+=1)if(this.zN(this.MN(o),u,!e||this.UN(o))&&this.zN(s,this.XN(o),!i||this.FN(o)))return o;return-1},n.oC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.jN());for(var s=this.Oy(t,r),u=this.qk(n,r),o=0;o<this.C_;o+=1)if(this.zN(this.MN(o),s,!i||this.UN(o))&&this.zN(u,this.XN(o),!e||this.FN(o)))return o;return-1},n.sC=function(t,n){return this.oC(t,t,!0,!0,n)},n.vC=function(t,n){void 0===n&&(n=this.jN());for(var i=this.Oy(t,n),e=this.C_-1;e>=0;e-=1)if(this.zN(this.MN(e),i,this.UN(e)))return e;return-1},n.lC=function(t,n){void 0===n&&(n=this.jN());for(var i=this.qk(t,n),e=0;e<this.C_;e+=1)if(this.zN(i,this.XN(e),this.FN(e)))return e;return-1},n.dC=function(t){return this.VN(t),this.qN([this.MN(t),this.XN(t)],[this.UN(t),this.FN(t)])},n.wC=function(t,n){var i=this.sC(t,n);return i<0?void 0:this.dC(i)},T(t,[{key:"_C",get:function(){for(var t=this.jN(),n=0;n<this.C_;n++){var i=this.qk(this.XN(n),this.MN(n));t=this.Oy(t,i)}return t}}]),t}()),dE=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Mk=function(t,n){return t<n?Os.Ds:t===n?Os.Is:Os.Rs},i.Oy=function(t,n){return t+n},i.qk=function(t,n){return t-n},i.Hk=function(t,n){return g.abs(t-n)},i.jN=function(){return 0},i.QN=function(){return 1/0},i.$N=function(){return-1/0},n.gC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.mC=function(t){for(var i=[],e=[],r=0;r<t.C_;r++)i.push(t.MN(r).Fb),i.push(t.XN(r).Fb),e.push(t.UN(r)),e.push(t.FN(r));return new n(i,e)},n.yC=function(t){return new n([t,t],[!0,!0])},i.qN=function(t,i){return new n(t,i)},i.WN=function(t){return t},n.kC=function(){return wE},n}(vE),wE=new dE([]);!function(t){t.l_="fullscreenchange",t.bC="fullscreensupportchange",t.K_="fullscreenerror"}(lE||(lE={}));var gE=function(t){function n(){return t.call(this,lE.K_)||this}return E(n,t),n}(Iu),mE=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.jy=function(){this.Qs(new gE)},i.Zy=function(){},i.xd=function(){this.$s()},T(n,[{key:"pC",get:function(){return!1}},{key:"AC",get:function(){return!1}}]),n}(Su)),yE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sD=void 0,n.uD=void 0,n}E(n,t);var i=n.prototype;return i.$m=function(){var t;return null==(t=this.uD)?void 0:t.xD},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.xd.call(this));case 2:if(!this.uD){n.next=6;break}return n.next=5,Fr.awrap(this.sD.JD(this.uD));case 5:this.uD=void 0;case 6:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"TC",set:function(t){this.sD=t,this.uD=t.OD(o_.Ed)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SC=0,n.EC=!1,n.IC=!0,n.RC=1,n.DC=!1,n.Da=1,n.Lm=new a_,n.wy=dE.kC().nN(),n.Qg=NaN,n.Zg=!1,n.mu=void 0,n.Kg=void 0,n.Xm=void 0,n.yy=!1,n.Iy=!0,n.Ry=dE.kC().nN(),n.Dy=uE.TN,n.ag=Ky.Mg,n.Ny=dE.kC().nN(),n.rN=void 0,n.Um=new Ok,n.im=0,n.Mm=new a_,n.um=0,n.Cy=new ZS,n.wD=new WS,n}E(n,t);var i=n.prototype;return i.Km=function(){},i.Jm=function(){},i.Fm=function(){this.IC&&(this.IC=!1,this.Qs(new yp(this.jg)),this.Qs(new _A(this.jg)))},i.Hm=function(){this.IC||(this.IC=!0,this.Qs(new Sp(this.jg,this._y)),this.Qs(new mp(this.jg)))},i.Wm=function(t,n){return qe.resolve()},i.Gm=function(){return!1},i.qm=function(){},i.Ym=function(){},i.iy=function(){return mE},i.ly=function(){},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.SC=0,this.DC=!1,this.Hm(),this.Qs(new gp(this.SC));case 4:case"end":return t.stop()}},null,this,null,qe)},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$s(),this.Lm.xd(),this.Um.xd(),this.Mm.xd();case 4:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"_y",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.DC=!0,this.Qs(new Rp(this.jg)))}},{key:"Tm",get:function(){return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jg",get:function(){return this.EC},set:function(t){this.EC!==t&&(this.EC=t,this.Qs(new Dp(this.jg,this.cm)))}},{key:"$g",get:function(){return this.IC}},{key:"tm",get:function(){return this.RC},set:function(t){this.RC!==t&&(this.RC=t,this.Qs(new Tp(this.jg,this.tm)))}},{key:"nm",get:function(){return this.DC}},{key:"cm",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Qs(new Dp(this.jg,this.cm)))}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"sN",get:function(){return this.wD}}]),n}(Su)),pE=function(t){function n(n,i,e,r,s,u){var o,a=new yE;return(o=t.call(this,sE.Yn,a)||this).Nh=void 0,o.NC=void 0,o.BC=void 0,o.OC=void 0,o.pE=void 0,o.xC=void 0,o.LC=void 0,o.BC=n,o.Nh=i,o.pE=e,o.xC=r,o.OC=u,o.NC=new le(s,o.OC),o.NC.MC(o.BC),a.TC=o.NC,o.LC=new oE(o.BC),o}E(n,t);var i=n.prototype;return i.jm=function(){t.prototype.jm.call(this),this.NC.UC()},i.Qm=function(t){var n,i,e,r;n=this,e=(i=t).cm,r=i.Jg,n.cm=e,n.Jg=r},i.Zm=function(){},i.BN=function(t){return t.DI(this.BC,this.NC,this.pE,this.Nh,this.xC,this.OC)},i.$m=function(){return this.IN.$m()},i.ey=function(){return this.NC.XC.map(function(t){return t.xD})},i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.xd.call(this));case 2:this.NC.xd(),this.LC.xd();case 4:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"gy",get:function(){return this.BC}},{key:"Py",get:function(){return this.IN.Py},set:function(t){this.IN.Py=t}}]),n}(cE),_E=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).BC=void 0,r.FC=void 0,r.HC=void 0,r.zC=void 0,r.VC=void 0,r._D=new ZS,r.BC=n,r.FC=i,r.zC=new a_,r.VC=new Ok,r.HC=e,r}E(n,t);var i=n.prototype;return i.sy=function(t){return!0},i.Jm=function(){},i.Fm=function(){throw this.Qs(new Bp(this.HC)),this.FC},i.Hm=function(){},i.Vm=function(){},i.Wm=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw fu(n),this.Qs(new Bp(this.HC)),this.FC;case 3:case"end":return t.stop()}},null,this,null,qe)},i.Km=function(){},i.zm=function(){return qe.resolve()},i.$m=function(){},i.iy=function(){return mE},i.ey=function(){return[]},i.jm=function(){},i.Qm=function(t){},i.Zm=function(){},i.Gm=function(){return!1},i.qm=function(){},i.Ym=function(){},i.ly=function(){},i.D_=function(){return qe.resolve()},i.xd=function(){return this.$s(),this.zC.xd(),this.VC.xd(),qe.resolve()},T(n,[{key:"Lm",get:function(){return this.zC}},{key:"wy",get:function(){return dE.kC().nN()}},{key:"_y",get:function(){return new Date(NaN)},set:function(t){}},{key:"vy",get:function(){}},{key:"jg",get:function(){return 0},set:function(t){}},{key:"Qg",get:function(){return 0}},{key:"gy",get:function(){return this.BC}},{key:"Zg",get:function(){return!0}},{key:"mu",get:function(){return this.FC}},{key:"Kg",get:function(){return this.HC}},{key:"Xm",get:function(){}},{key:"Tm",get:function(){return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jg",get:function(){return!1},set:function(t){}},{key:"Iy",get:function(){return!0}},{key:"$g",get:function(){return!0}},{key:"tm",get:function(){return 0},set:function(t){}},{key:"Ry",get:function(){return dE.kC().nN()}},{key:"Dy",get:function(){return uE.TN},set:function(t){}},{key:"ag",get:function(){return Ky.Mg}},{key:"Ny",get:function(){return dE.kC().nN()}},{key:"nm",get:function(){return!1}},{key:"Um",get:function(){return this.VC}},{key:"im",get:function(){return 0}},{key:"Mm",get:function(){return this.zC}},{key:"um",get:function(){return 0}},{key:"cm",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this._D}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"yy",get:function(){return!1}}]),n}(zy);function bE(t){if(t&&W(t))return Ur({},t,{integration:kE(t.integration),fairplay:RE(t.fairplay),widevine:AE(t.widevine),playready:TE(t.playready),clearkey:CE(t.clearkey),aes128:DE(t.aes128),integrationParameters:NE(t.integrationParameters),preferredKeySystems:PE(t.preferredKeySystems)})}function kE(t){if(G(t))return t}function AE(t){if(t&&W(t))return{persistentState:SE(t.persistentState),distinctiveIdentifier:SE(t.distinctiveIdentifier),audioRobustness:EE(t.audioRobustness),videoRobustness:EE(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:IE(t.licenseType),headers:t.headers,useCredentials:!!$(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||$o(t.certificate)?t.certificate:void 0}}function TE(t){if(t){var n=AE(t);if(n)return Ur({},n,{customData:G(t.customData)?t.customData:void 0})}}function SE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function EE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function IE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function RE(t){if(t){var n=AE(t);if(n)return Ur({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function CE(t){if(t){var n=AE(t);if(n)return Ur({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function DE(t){if(W(t))return{useCredentials:$(t.useCredentials)?t.useCredentials:void 0}}function NE(t){if(W(t))return t}function PE(t){return t&&z(t)?t.map(function(t){return mT(t)}).filter(H):[os,rs,fs]}function xE(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(H(t)&&!p(t))return Ft(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=_y(t.retainPresentationModeOnSourceChange),t}var BE,OE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Iu),LE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).WC=[],e.GC=void 0,e.qC=function(t){yu(function(){e.js(t)})},e.GC=i?e.qC:e.js,e}E(n,t);var i=n.prototype;return i.YC=function(t){t.Js(this.GC),this.WC.push(t)},i.jC=function(t){t.ou(this.GC),$s(this.WC,t)},i.xd=function(){this.$s();for(var t=0,n=this.WC;t<n.length;t++){n[t].ou(this.GC)}Ks(this.WC)},n}(Xy),ME=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(LE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(BE||(BE={}));var jE,FE=function(t){function i(n){var i;return(i=t.call(this)||this).QC=void 0,i.ZC=void 0,i.KC=!1,i.JC=!1,i.$C=void 0,i.tP=void 0,i.nP=void 0,i.$w=void 0,i.iP=function(){return i.eP()},i.rP=function(){return i.sP()},i.nP=n,i.QC=i.ZC=i.$C=i.tP=BE.INLINE,i.nP.Zs(lE.l_,i.iP),i.nP.Zs(lE.K_,i.rP),i.uP(),i}E(i,t);var e=i.prototype;return e.n_=function(){return t=this,i={get currentMode(){return t.oP()},requestMode:function(n){var i=HE(n);i&&t.aP(i)},supportsMode:function(n){var i=HE(n);return!!i&&t.cP(i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new LE(i,!0)).YC(t),i;var t,n,i},e.aP=function(t){this.hP(t,t)},e.hP=function(t,n){this.ZC!==n&&(this.KC=!0,this.QC=t,this.fP(n,this.ZC),t!==BE.FULLSCREEN&&(this.$C=t),this.KC=!1,this.uP())},e.oP=function(){return this.JC?BE.FULLSCREEN:BE.INLINE},e.cP=function(t){switch(t){case BE.FULLSCREEN:return this.nP.AC;case BE.INLINE:return!0}return!1},e.uP=function(){if(!this.KC){var t=this.ZC,n=this.oP();this.ZC=n,n!==BE.FULLSCREEN&&(this.tP=n),t!==n&&this.Qs(new OE(n))}},e.fP=function(t,n){var i=t===BE.FULLSCREEN;this.JC=i,i!==this.nP.pC&&(i?this.nP.jy():this.nP.Zy())},e.eP=function(){if(!this.KC){var t=this.nP.pC;this.JC=t,t?this.hP(BE.FULLSCREEN,BE.FULLSCREEN):t||this.QC!==BE.FULLSCREEN?this.uP():this.hP(this.$C,this.tP)}},e.sP=function(){this.eP(),this.Qs(new Bp(new lf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.xd=function(){this.nP.xd(),this.$s()},T(i,[{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),i}(Xy),UE={jg:0,Qg:NaN,Zg:!1,mu:void 0,Kg:void 0,Jg:!1,$g:!0,tm:1,ag:Ky.Mg,nm:!1,im:0,um:0,cm:1};function HE(t){switch(t){case BE.INLINE:case BE.FULLSCREEN:case BE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(jE||(jE={}));var XE,zE,VE,WE,qE,GE,$E,YE,QE=function(){function t(){this.vP=[]}var n=t.prototype;return n.lP=function(t){var n=this.dP.filter(function(n){return n.wP(t)});if(n.length>1)0;else if(0===n.length)throw l("Unknown ad integration: "+t.integration);return n[0]||null},n._P=function(t){this.vP.push(t)},T(t,[{key:"dP",get:function(){return this.vP}}]),t}();QE.Yn=new QE,function(t){t.Yg="PLAYING",t.Em="PAUSED",t.gP="SEEK",t.mP="STALLED",t.yP="FAILED",t.kP="INITIAL_BUFFERING",t.bP="NO_ACCESS"}(XE||(XE={})),function(t){t.pP="HTTP_REQUEST_STATUS_CODE_1XX",t.AP="HTTP_REQUEST_STATUS_CODE_2XX",t.TP="HTTP_REQUEST_STATUS_CODE_3XX",t.SP="HTTP_REQUEST_STATUS_CODE_4XX",t.EP="HTTP_REQUEST_STATUS_CODE_5XX",t.IP="BUFFER_LENGTH",t.RP="BYTES_RECEIVED",t.DP="SEGMENT_READ_BITRATE",t.NP="SEGMENT_PROFILE_BITRATE",t.CP="NUMBER_OF_FRAMES_DROPPED",t.PP="PLAYBACK_POSITION",t.BP="NUMBER_OF_FRAMES_DECODED",t.OP="PLAYBACK_DELTA_TO_ORIGIN",t.xP="STREAM_DELTA_TO_ORIGIN",t.LP="ORIGIN_TIMESTAMP"}(zE||(zE={})),function(t){t.MP="MANIFEST_URI",t.UP="ASSET_DURATION",t.XP="NUMBER_OF_CONTENT_PROFILES",t.FP="CDN",t.HP="CONTENT_TITLE",t.zP="SERVICE_NAME",t.VP="CONTENT_TYPE",t.WP="CONTENT_DESCRIPTION"}(VE||(VE={})),function(t){t.GP="shutdown_normal_shutdown"}(WE||(WE={})),function(t){t.qP="session/",t.YP="internalError/",t.jP="drmError/",t.QP="caError/",t.ZP="networkError/"}(qE||(qE={})),function(t){t.KP="userAction",t.JP="endOfStreamReached"}(GE||(GE={})),function(t){t.PAUSE="$P",t.RESUME="tB"}($E||($E={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(YE||(YE={}));var ZE,KE,JE,tI,nI,iI="agama";function eI(t){return function(t){switch(t){case ZE.NONE:case ZE.HORIZONTAL:case ZE.VERTICAL:return!0;default:return!1}}(t)?t:ZE.NONE}function rI(t){switch(t){case"":return ZE.NONE;case"horizontal":return ZE.HORIZONTAL;case"vertical":return ZE.VERTICAL;default:throw new v}}function sI(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!G(t))return KE.AN;switch(t){case"always":return KE.nB;case"never":return KE.iB;default:return KE.AN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function uI(t){if(!t||!G(t))return JE.AN;switch(t){case"playlist":return JE.eB;case"media":return JE.rB;default:return JE.AN}}function oI(t,n){return t.length>0?t:n.length>0?n:void 0}function aI(t){if(null!==t)return t}function hI(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:aI(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:aI(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Ur({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.gr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.gr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Ur({},e,{availabilityType:"live",assetKey:u}):void i.gr("A Live DAI configuration was provided without valid assetKey which is required.")}i.gr("A DAI configuration was provided without a valid availabilityType which is required.")}function cI(t){if(!hT(t)||!t.integration)return t;switch(t.integration){case NA:return n=t,i=gT(Kr.$r,n),e=gT(Kr.Jr,n),r=n[Kr.us]&&gT(Kr.us,n),Ur({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ZE||(ZE={})),function(t){t.AN="auto",t.nB="always",t.iB="never"}(KE||(KE={})),function(t){t.AN="auto",t.eB="playlist",t.rB="media"}(JE||(JE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(tI||(tI={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(nI||(nI={}));var fI="https://content.uplynk.com";function lI(t){if(!t)return!0;var n,i=!(ap(n=t.sources)||V(n)&&ap(n[0]))||hp(t.sources),e=!t.ads||vI(t.ads),r=""!==t.poster&&!t.poster;return i&&e&&r}function vI(t){return!t||z(t)&&0===t.length}function dI(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(op(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function wI(t,n,i){return sp(t)?function(t,n,i){var e=Ur({},cp(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:tI.VERIZON_MEDIA,id:"",prefix:fI,preplayParameters:{},playbackUrlParameters:{},assetType:nI.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:V(r)&&G(r[0])?r:W(s=r)&&G(s.userId)&&(V(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return nI.CHANNEL;case"event":return nI.EVENT;case"asset":default:return nI.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=_y(t.contentProtected));t.assetInfo?e.assetInfo=_y(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Ay(t.prefix)||fI);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!$(o.adImpressions)&&o.adImpressions,h=!!$(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=$(o.linearAdData)?o.linearAdData:u!==nI.ASSET):u!==nI.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=mI(e=yI(e=gI(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=fp(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=np(t),r){var s=bE(r);e.contentProtection=cI(s)}}else if(op(t)||rp(t)){e.src=t.src,e.type=t.type||np(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Yy.xg||t.type===Yy.Lg}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&G(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=bE(a);e.contentProtection=cI(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return hI(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=gI(e,t)}var c;return e=mI(e=yI(e,n,i),t,i)}(t,n,i)}function gI(t,n){var i,e;n.useCredentials?t.crossOrigin=$y.Og:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case $y.Bg:case $y.Og:return t;default:return $y.Pg}}(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=_y(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=_y(n.useNativePlayback)),n.dash&&(t.dash=sI(n.dash)),n.hls&&(t.hls={discontinuityAlignment:uI(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=_y(n.lcevc));var r=void 0!==n.experimentalRendering?_y(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?_y(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function mI(t,n,i){return t.abr=function(t,n){var i=Ty(null==t?void 0:t.preferredAudioCodecs,Ay),e=Ty(null==t?void 0:t.preferredVideoCodecs,Ay),r=Ty(null==n?void 0:n.preferredAudioCodecs,Ay),s=Ty(null==n?void 0:n.preferredVideoCodecs,Ay),u=oI(i,r),o=oI(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function yI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===$y.Pg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=$y.Bg),t.useCredentials=t.crossOrigin===$y.Og,G(r)&&!t.timeServer&&(t.timeServer=r),t}function pI(t){var n,i,e={src:""};if(t&&t.src){if(e.src=Ay(t.src),"default"in t&&(e.default=_y(t.default)),e.kind=(n=t.kind,Mk(i=String(n||"").toLowerCase())?i:i?Bk.uA:Bk.rA),function(t){switch(t){case A_.DEFAULT:case A_.SRT:case A_.TTML:case A_.WEBVTT:case A_.EMSG:case A_.EVENT_STREAM:case A_.ID3:case A_.CEA608:case A_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function _I(t,n){if(q(t))try{return n.lP(t).sB(t)}catch(t){return}}function bI(t){return G(t.sources)&&""!==t.sources||W(t.sources)&&G(t.sources.src)}function kI(t){return t.integration===jE.SPOTX&&!p(t.id)}function AI(t){return"freewheel"===t.integration}function TI(t,n,i){if(void 0===i&&(i=QE.Yn),lI(t))return{sources:[fp()]};var e=gy(t);if(e.sources=function(t,n,i){if(ap(t))return[wI(t,n,i)];if(V(t)&&ap(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(wI(s,n,i))}return e}return[fp()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=_I(s,n))&&(bI(s)||kI(s)||AI(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!hp(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=pI(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Ay(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=eI(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?rI(u.stereoMode):ZE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=vp(e.analytics),l=n&&n.analytics||[];e.analytics=function(t,n){for(var i=gy(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==iI&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,l)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Op(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=by(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var SI=function(){function t(t){this.uB=t}return t.prototype.oB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.uB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.uB.indexOf(t.charAt(n))<<18|this.uB.indexOf(t.charAt(n+1))<<12|(s=this.uB.indexOf(t.charAt(n+2)))<<6|(u=this.uB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.aB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.uB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.uB.charAt(e)+this.uB.charAt(r)+this.uB.charAt(s)+this.uB.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t._p=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.cB=new t(t._p.oB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function EI(t){return"string"==typeof t}function II(t){return"number"==typeof t}var RI={}.toString;var CI,DI=Array.isArray||function(t){return"[object Array]"===RI.call(t)};function NI(t,n){return DI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(CI||(CI={}));var PI,xI=w.keys(CI).map(function(t){return CI[t]});function BI(t){return-1!==xI.indexOf(t)}!function(t){t.MULTIVIEW="multiview"}(PI||(PI={}));var OI,LI=w.keys(PI).map(function(t){return PI[t]});function MI(t){return-1!==LI.indexOf(t)}function jI(t){try{var n=SI.cB.oB(t),i=JSON.parse(n);if(!function(t,n){var i,e=(v=t,"object"==typeof v&&null!==v),r=EI(t.key),s=EI(t.customer_id),u=II(t.generation_date),o=II(t.expiration_date),a=NI(t.domains_page,EI),h=NI(t.domains_source,EI),c=NI(t.sdks,n?BI:EI),f=(l=t.send_impression,"boolean"==typeof l);var l;var v;t.features?i=NI(t.features,n?MI:EI):(i=!0,t.features=[]);if(!(e&&r&&s&&u&&o&&a&&h&&c&&f&&i))return!1;return!0}(i,!1))throw new l("The provided license could not be decoded correctly.");return i}catch(t){throw new l("The provided license could not be decoded correctly.")}}function FI(){return OI||(OI={hd:ge.href,hB:we.parent&&we.parent!==r,fB:XI()}),OI}var UI,HI=["http:","https:","ftp:","ws:","wss:"];function XI(){try{return we.top.location.href}catch(t){return we&&we.document&&we.document.referrer}}!function(t){t[t.vB=0]="vB",t[t.lB=1]="lB",t[t.dB=2]="dB"}(UI||(UI={}));var zI,VI=function(t,n,i,e,r,s,u,o,a){void 0===r&&(r=[]),void 0===s&&(s=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.wB=t,this._B=n,this.gB=i,this.mB=e,this.yB=r,this.kB=s,this.bB=u,this.pB=o,this.AB=a};!function(t){t.lB="expired",t.TB="invaliddomain",t.SB="invalidsource",t.EB="invalidfeature",t.K_="error"}(zI||(zI={}));var WI=function(){function t(t,n,i){this.IB=void 0,this.RB=t,this.DB=n,this.Qo=i,this.IB=ZI(this.Qo)}var n=t.prototype;return n.NB=function(t,n){var i=this;if(!lI(t)&&0!==n.gB.length&&!$I(n.gB)){var e=[];if(ap(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.CB(t,n)})){var r=zI.SB,s=JI.PB(r);throw new lf(qI(r),s)}}},n.BB=function(n){return this.OB(n.pB)&&this.xB(n)?t.LB(n.mB)?UI.vB:UI.lB:UI.dB},n.MB=function(t,n){if(!Zs(n.yB,t)){var i=zI.EB,e=JI.PB(i);throw new lf(qI(i),e)}},n.OB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.UB(t)})},n.UB=function(t){return"ios"===function(t){switch(t){case CI.ANDROID:return e.g;case CI.ANDROIDTV:case CI.FIRETV:return e.I;case CI.IOS:return e.R;case CI.TVOS:return e.N;case CI.CHROMECAST:case CI.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.LB=function(t){var n=Number(new Date);return!!t&&n<=t},n.xB=function(t){return!(this.IB&&0!==t._B.length&&!$I(t._B))||!!(this.IB&&this.XB(t._B)&&this.FB(t._B))},n.XB=function(t){return YI(this.Qo.hd,t)},n.FB=function(t){if(!this.Qo.hB)return!0;if(this.RB)return!0;var n=this.HB();return!!n&&YI(n,t)},n.HB=function(){if(this.Qo.hB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.fB?this.Qo.fB:void 0}},n.CB=function(n,i){return!!t.zB(n,i.gB)},t.zB=function(t,n){return YI(this.VB(t),n)},t.VB=function(t){return G(t)?t:op(t)&&t.src||""},t}();function qI(t){switch(t){case zI.TB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case zI.SB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case zI.lB:return n.ErrorCode.LICENSE_EXPIRED;case zI.EB:return n.ErrorCode.LICENSE_INVALID_FEATURE;case zI.K_:return n.ErrorCode.LICENSE_ERROR}}function GI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function $I(t){return t.some(function(t){return"*"===t})}function YI(t,n){var e=i.Br(t);if(!QI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(GI(e.hostname,s))return!0;if(GI(mg(t),s))return!0}return!1}function QI(t){return-1!==HI.indexOf(t.protocol)}function ZI(t){var n=i.Br(t.hd);return QI(n)&&!GI(n.hostname,"localhost")&&!function(t){return GI(t.hostname,"theoplayer.doubleclick.net")}(n)}var KI,JI=function(){function t(){}return t.PB=function(t){return t===zI.TB?this.WB:t===zI.SB?this.GB:t===zI.lB?this.qB:t===zI.EB?this.YB:this.jB},t}();function tR(t){var n=[t.kS,t.QB,t.ZB];switch(t.QB){case KI.KB:n.push(t.fg);break;case KI.JB:n.push(t.jg),n.push(t.mu);break;case KI.$B:n.push(t.mu)}return n}JI.jB="The license for this player is invalid.",JI.qB="The usage license for this video player has expired.",JI.WB="The current domain is incompatible with the license for this player.",JI.GB="The provided video source is incompatible with the license for this player.",JI.YB="The requested feature is not available with the license for this player.",function(t){t[t.KB=1]="KB",t[t.JB=4]="JB",t[t.$B=5]="$B"}(KI||(KI={}));for(var nR=new Array(256),iR=0;iR<256;iR+=1)nR[iR]=(iR<16?"0":"")+iR.toString(16);function eR(){var t=Wt(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,e=(4294967296*g.random()|0)+t&1130486254,r=(4294967296*g.random()|0)+t&1284287105;return nR[255&n]+nR[n>>>8&255]+nR[n>>>16&255]+nR[n>>>24&255]+"-"+nR[255&i]+nR[i>>>8&255]+"-"+nR[i>>>16&15|64]+nR[i>>>24&255]+"-"+nR[63&e|128]+nR[e>>>8&255]+"-"+nR[e>>>16&255]+nR[e>>>24&255]+nR[255&r]+nR[r>>>8&255]+nR[r>>>16&255]+nR[r>>>24&255]}var rR=function(){function t(t){this.uB=void 0,this.uB=t}var n=t.prototype;return n.oB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.uB.indexOf(t.charAt(n))<<18|this.uB.indexOf(t.charAt(n+1))<<12|(s=this.uB.indexOf(t.charAt(n+2)))<<6|(u=this.uB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.aB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.uB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.uB.charAt(i)+this.uB.charAt(e)+this.uB.charAt(r)+this.uB.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function sR(){return i.ir()}rR._p=new rR(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),rR.cB=new rR(rR._p.oB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var uR,oR="theoplayer-session-id";function aR(){if(!uR){var t=Rf.Iu(oR);t?uR=t:(uR=eR(),Rf.ef(oR,uR))}return uR}var hR=/[^\x00-\x7E]/g;function cR(t){return"\\u"+Is(t.charCodeAt(0).toString(16),4,"0")}var fR=0,lR=1,vR=6e4;function dR(t){var n,i,e,r,s,u=(n=function(t){return[t.tO,t.Kc,t.wB,t.xA,t.nO,t.iO,t.eO.map(tR)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(hR,cR));return rR.cB.aB(u)}var wR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=rR._p),void 0===r&&(r=fR),void 0===s&&(s=lR),this.rO=[],this.sO=null,this.uO=0,this.oO="unknown",this.Ha=0,this.aO=void 0,this.cO=function(){sR()-u.uO>vR&&u.Pe()},this.hO=function(){u.Pe(!0)},this.wc=t,this.pE=n,this.fO=i,this.vO=e,this.lO=r,this.dO=s,de.wO(this.hO),this.aO=c(this.cO,vR)}var n=t.prototype;return n._O=function(){return Boolean(this.nO)},n.gO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.fO.mO());case 2:if(i.sent.AB){i.next=5;break}return i.abrupt("return");case 5:return n={QB:KI.KB,ZB:Wt(),fg:t},i.next=8,Fr.awrap(this.yO(n));case 8:case"end":return i.stop()}},null,this,null,qe)},n.kO=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={QB:KI.JB,ZB:Wt(),jg:n,mu:t},e.next=3,Fr.awrap(this.yO(i));case 3:case"end":return e.stop()}},null,this,null,qe)},n.bO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={QB:KI.$B,ZB:Wt(),mu:t},i.next=3,Fr.awrap(this.yO(n));case 3:case"end":return i.stop()}},null,this,null,qe)},n.yO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.fO.mO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.vO.aB(n.wB)){i.next=6;break}if(t.QB===KI.$B){i.next=6;break}return i.abrupt("return");case 6:if(t.QB===KI.KB?this.pO():this._O()||this.pO(),t.kS=this.Ha++,this.rO.push(t),(e=t.QB)!==KI.KB&&e!==KI.$B){i.next=14;break}return i.next=12,Fr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.rO.length>this.lO)){i.next=19;break}return i.next=17,Fr.awrap(this.AO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,qe)},n.Pe=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.rO.length>0)){n.next=6;break}return n.next=4,Fr.awrap(this.AO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,qe)},n.TO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.fO.mO());case 2:return n=i.sent,i.abrupt("return",{tO:Wt(),Kc:aR(),wB:this.vO.aB(n.wB)||"dev",xA:this.wc,nO:this.sO,iO:this.oO,eO:t});case 4:case"end":return i.stop()}},null,this,null,qe)},n.AO=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.rO.splice(0,this.dO),e.next=4,Fr.awrap(this.TO(n));case 4:i=e.sent,t?this.Od(i):this.SO(i),this.uO=sR();case 7:case"end":return e.stop()}},null,this,null,qe)},n.SO=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=dR(t),i=new hg({hd:"https://license.theoplayer.com",Hl:n,Pd:!1,td:xf.$n,$l:{"Content-Type":QT.nR},Dd:4e3,Rd:rg.POST}),r.prev=2,r.next=5,Fr.awrap(this.pE.ud(i));case 5:return e=r.sent,r.next=8,Fr.awrap(e.Ul());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],qe)},n.Od=function(t){var n=dR(t);this.pE.Od({hd:"https://license.theoplayer.com",Hl:n,Fl:QT.nR})},n.pO=function(){this._O()&&this.Pe(),this.sO=eR(),this.Ha=0},n.xd=function(){de.EO(this.hO),f(this.aO),this.Pe()},T(t,[{key:"eO",get:function(){return this.rO}},{key:"nO",get:function(){return this.sO}}]),t}();var gR=j.Rn||j.cn&&j.On<13;function mR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var yR=function(){function t(t){this.kN=void 0,this.$w=void 0,this.IO=void 0,this.kN=t}var n=t.prototype;return n.RO=function(t){if(!t||!t.drawImage)return!1;var n=this.kN.$m();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.DO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.kN,a=o.$m();if(!a)return!1;if(gR){this.IO||(this.IO=s.createElement("canvas"));var h=this.IO,c=h.getContext("2d"),f=o.um,v=o.im,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===v||(h.width=f,h.height=v),c.drawImage(a,0,0,f,v);var g=!1;f>0&&mR(c,f-1,0)&&(h.width=d,g=!0),v>0&&mR(c,0,v-1)&&(h.height=w,g=!0),g&&c.drawImage(a,0,0,f,v),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new l("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"t_",get:function(){return this.$w||(this.$w=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.RO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.DO(n,i,e,r,s,u)}}));var t}}]),t}(),pR=function(t){function n(n,i){var e;return(e=t.call(this,"CO")||this).Bk=n,e.dT=i,e}return E(n,t),n.prototype.n_=function(){return new _R(this.Bk,this.dT)},n}(Jm),_R=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Iu),bR=function(t,n){this.gy=void 0,this.PO=void 0,this.gy=t,this.PO=n},kR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).BO=void 0,e.OO=0,e.xO=0,e.LO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.xO=n.width,e.OO=n.height,e.PO(e.xO,e.OO)}},e.BO=new we.ResizeObserver(e.LO),e.BO.observe(e.gy),e}return E(n,t),n.prototype.xd=function(){this.BO.disconnect()},T(n,[{key:"MO",get:function(){return this.OO}},{key:"UO",get:function(){return this.xO}}]),n}(bR),AR=0;var TR,SR=h,ER=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,IR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function RR(){return TR||(TR=we&&we.document&&we.document.createElement("span")),TR}ER&&IR||(ER=function(t){var n=sR(),i=g.max(0,16-(n-AR)),e=a(function(){return t(n+i)},i);return AR=n+i,e},IR=SR),ER=ER.bind(t),IR=IR.bind(t);var CR=["Webkit","Moz","O","ms"],DR=function(){var t=!1;try{if(void 0!==we&&"function"==typeof we.addEventListener){var n=w.defineProperty({},"passive",{get:function(){t=!0}});we.addEventListener("testPassiveEventSupport",K,n),we.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}return t}(),NR=Xr();function PR(t){return NR.has(t)||NR.set(t,function(t){var n=RR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<CR.length;e++){var r=CR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),NR.get(t)}function xR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function BR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[PR("transition")]="0s"}var OR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).XO=void 0,u.FO=0,u.xO=NaN,u.OO=NaN,u.HO=void 0,u.zO=void 0,u.VO=void 0,u.WO=void 0,u.GO=void 0,u.D_=function(){u.zO.style.width=1e5+"px",u.zO.style.height=1e5+"px",u.HO.scrollLeft=1e5,u.HO.scrollTop=1e5,u.VO.scrollLeft=1e5,u.VO.scrollTop=1e5,0===u.VO.scrollTop&&ER(u.D_)},u.qO=function(){var t=u.UO,n=u.MO;u.PO(t,n),u.xO=t,u.OO=n,u.D_(),u.FO=0},u.YO=function(){if(!u.FO){var t=u.UO,n=u.MO;t===u.xO&&n===u.OO||(u.FO=ER(u.qO))}},u.jO=function(){u.GO||(u.GO=a(u.QO,66))},u.QO=function(){u.GO=void 0,u.ZO()},u.ZO=function(){u.YO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.XO=c,u.HO=s.createElement("div"),u.zO=s.createElement("div"),u.VO=s.createElement("div"),u.WO=s.createElement("div"),xR(u.HO),xR(u.VO),BR(u.zO),BR(h=u.WO),h.style.width="200%",h.style.height="200%",c.appendChild(u.HO),c.appendChild(u.VO),u.HO.appendChild(u.zO),u.VO.appendChild(u.WO),n.appendChild(c),u.HO.addEventListener("scroll",u.YO),u.VO.addEventListener("scroll",u.YO),r&&r.addEventListener("resize",u.jO),u.YO(),u}return E(n,t),n.prototype.xd=function(){IR(this.FO),this.FO=0,this.HO.removeEventListener("scroll",this.YO),this.VO.removeEventListener("scroll",this.YO),nr(this.XO),r&&r.removeEventListener("resize",this.jO)},T(n,[{key:"MO",get:function(){return this.gy.getBoundingClientRect().height||this.OO||0}},{key:"UO",get:function(){return this.gy.getBoundingClientRect().width||this.xO||0}}]),n}(bR),LR=function(t){function n(n){var i;return(i=t.call(this)||this).gy=void 0,i.BO=void 0,i.LO=function(t,n){i.Qs(new pR(t,n))},i.gy=n,i}E(n,t);var i=n.prototype;return i.rh=function(t){this.BO||("function"==typeof we.ResizeObserver?this.BO=new kR(this.gy,this.LO):this.BO=new OR(this.gy,this.LO,t))},i.xd=function(){this.$s(),this.BO&&(this.BO.xd(),this.BO=void 0)},T(n,[{key:"MO",get:function(){return this.BO?this.BO.MO:0}},{key:"UO",get:function(){return this.BO?this.BO.UO:0}}]),n}(Su),MR=function(t){function n(){return t.call(this,lE.l_)||this}return E(n,t),n}(Iu);var jR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{KO:i[0],JO:i[1],$O:i[2],tx:i[3],nx:i[4],ix:i[5]}}}(),FR=function(t){function n(){return t.call(this,lE.bC)||this}return E(n,t),n}(Iu),UR=function(t){function n(i){var e;return(e=t.call(this)||this).gy=void 0,e.AC=void 0,e.pC=!1,e.ex=function(){return e.iP()},e.sx=function(){return e.rP()},e.gy=i,e.AC=n.ux(i),s.addEventListener(jR.nx,e.ex),e.iP(),e}E(n,t),n.ux=function(t){return Boolean(jR&&s[jR.tx]&&jR.KO in t)};var i=n.prototype;return i.jy=function(){var t=this.gy[jR.KO]();t&&t.then?t.then(this.ex,this.sx):(s.removeEventListener(jR.ix,this.sx),s.addEventListener(jR.ix,this.sx))},i.Zy=function(){var t=s[jR.JO]();t&&t.then?t.then(this.ex,this.sx):(s.removeEventListener(jR.ix,this.sx),s.addEventListener(jR.ix,this.sx))},i.iP=function(){var t=this.pC,n=this.gy===s[jR.$O];this.pC=n,t!==n&&this.Qs(new MR)},i.rP=function(){this.Qs(new gE)},i.xd=function(){this.$s(),s.removeEventListener(jR.nx,this.ex),s.removeEventListener(jR.ix,this.sx)},n}(Su),HR=function(t){function n(i){var e;return(e=t.call(this)||this).gy=void 0,e.AC=void 0,e.pC=!1,e.ex=function(){return e.iP()},e.gy=i,e.AC=n.ux(i),e.gy.addEventListener("webkitbeginfullscreen",e.ex),e.gy.addEventListener("webkitendfullscreen",e.ex),e.gy.addEventListener("webkitpresentationmodechanged",e.ex),e.iP(),e}E(n,t),n.ux=function(t){return j.cn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.jy=function(){var t=this;this.gy.webkitSupportsPresentationMode&&this.gy.webkitSupportsPresentationMode("fullscreen")?j.cn?requestAnimationFrame(function(){return t.gy.webkitSetPresentationMode("fullscreen")}):this.gy.webkitSetPresentationMode("fullscreen"):this.gy.webkitEnterFullscreen()},i.Zy=function(){this.gy.webkitSupportsPresentationMode&&this.gy.webkitSupportsPresentationMode("inline")?this.gy.webkitSetPresentationMode("inline"):this.gy.webkitExitFullscreen()},i.iP=function(){var t,n=this.pC;t=this.gy.webkitPresentationMode?"fullscreen"===this.gy.webkitPresentationMode:!!this.gy.webkitDisplayingFullscreen,this.pC=t,n!==t&&this.Qs(new MR)},i.xd=function(){this.$s(),this.gy.removeEventListener("webkitbeginfullscreen",this.ex),this.gy.removeEventListener("webkitendfullscreen",this.ex),this.gy.removeEventListener("webkitpresentationmodechanged",this.ex)},n}(Su),XR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ox=[],n.ax=void 0,n.JC=!1,n.iP=function(){var t=n.JC,i=n.hx();t!==i&&(n.JC=i,n.Qs(new MR))},n}E(n,t);var i=n.prototype;return i.jy=function(){this.ax?this.ax.jy():this.Qs(new gE)},i.Zy=function(){for(var t=0,n=this.ox;t<n.length;t++){var i=n[t];i.pC&&i.Zy()}},i.vx=function(t){this.ax=t},i.lx=function(t){this.ox.push(t),t.Zs(lE.l_,this.iP),t.Zs(lE.K_,this.js),this.iP()},i.wx=function(t){$s(this.ox,t),t.tu(lE.l_,this.iP),t.tu(lE.K_,this.js)},i.hx=function(){for(var t=0,n=this.ox;t<n.length;t++){if(n[t].pC)return!0}return!1},i.D_=function(){this.ax=void 0,this.JC=!1;for(var t=this.ox.slice(),n=0;n<t.length;n++){var i=t[n];this.wx(i),i.xd()}this.iP()},i.xd=function(){this.$s(),this.D_()},T(n,[{key:"AC",get:function(){return!!this.ax&&this.ax.AC}},{key:"pC",get:function(){return this.JC}}]),n}(Su),zR=function(t){function n(n,i){var e;return(e=t.call(this)||this).kN=void 0,e._x=void 0,e.gx=void 0,e.mx=!1,e.yx=function(){return e.qc()},e.iP=function(t){e.mx||e.Qs(t)},e.kN=n,e._x=i,e.gx=mE,e.kx(),e.kN.Zs(Pf.yf,e.yx),e.qc(),e}E(n,t);var i=n.prototype;return i.jy=function(){this._x&&this.gx.jy()},i.Zy=function(){this.gx.Zy()},i.kx=function(){this.gx.Zs(lE.l_,this.iP),this.gx.Zs(lE.K_,this.js)},i.bx=function(){this.gx.tu(lE.l_,this.iP),this.gx.tu(lE.K_,this.js)},i.qc=function(){var t=this.gx,n=this.kN.iy();if(t!==n){this.mx=!0;var i=this.pC,e=this.AC;i&&this.Zy(),this.bx(),this.gx=n,this.kx(),i&&!this.pC&&this.AC?this.jy():this.Zy(),this.mx=!1,e!==this.AC&&this.Qs(new FR),i!==this.pC&&this.Qs(new MR)}},i.xd=function(){this.$s(),this.bx(),this.kN.tu(Pf.yf,this.yx)},T(n,[{key:"AC",get:function(){return!!this._x&&this.gx.AC}},{key:"pC",get:function(){return this.gx.pC}}]),n}(Su);function VR(t){var n;return{get url(){return t.hd},get method(){return t.Rd},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},get useCredentials(){return t.Pd},get type(){return YR(t.fs)},get subType(){return ZR(t.Nd)},get mediaType(){return JR(t.Cd)},get responseType(){return qR(t.td)}}}function WR(t){switch(t.toLowerCase()){case"arraybuffer":return xf.Gf;case"json":return xf.qf;case"stream":return xf.Yf;case"text":default:return xf.$n}}function qR(t){return t}function GR(t){switch(t.toUpperCase()){case"POST":return rg.POST;case"PUT":return rg.PUT;case"DELETE":return rg.DELETE;case"HEAD":return rg.HEAD;case"OPTIONS":return rg.OPTIONS;case"GET":default:return rg.GET}}function $R(t){switch(t.toLowerCase()){case"manifest":return sg.ld;case"segment":return sg.dd;case"content-protection":return sg.wd;default:return sg.vd}}function YR(t){return t}function QR(t){switch(t.toLowerCase()){case"initialization-segment":return ug._d;case"fairplay-license":return ug.md;case"fairplay-certificate":return ug.yd;case"widevine-license":return ug.kd;case"widevine-certificate":return ug.bd;case"playready-license":return ug.pd;case"clearkey-license":return ug.Ad;case"aes128-key":return ug.Td;default:return ug.vd}}function ZR(t){return t}function KR(t){switch(t.toLowerCase()){case"audio":return og.Sd;case"video":return og.Ed;case"text":return og.$n;case"image":return og.Id;case"":default:return og.vd}}function JR(t){return t}var tC=function(){function t(t,n){this.Ax=new na,this.Tx=[],this.$w=void 0,this.Sx=!1,this.Yd=void 0,this.Ex=0,this.Ix=t,this.Rx=n}var n=t.prototype;return n.TA=function(){this.Sx=!0,this.Ax.Wu(null)},n.Dx=function(){this.Ax.Gu(new Lw(this.Tx))},n.Nx=function(t){if(!this.Cx)throw new v("Cannot respond more than once");if(!W(t))throw new v("Expected valid response");this.Yd=this.Px(t),this.TA()},n.Bx=function(){try{var t=this.Rx(this.t_);t?this.Ox(t):this.xx||this.Lx||this.TA()}catch(t){this.Tx.push(t),this.Dx()}},n.Ox=function(t){if(this.Lx)throw new l("Request has been redirected or a response already exists");if(Y(t))this.Mx(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new na;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});Y(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.Mx(n.Fu)}},n.Mx=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Ex++,n.next=4,Fr.awrap(t);case 4:this.Ex--,this.xx||this.Lx||(this.Tx.length?this.Dx():this.TA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.Ex--,this.Tx.push(n.t0),this.xx||this.Lx||this.Dx();case 13:case"end":return n.stop()}},null,this,[[0,8]],qe)},T(t,[{key:"Ux",get:function(){return this.Ax.Fu}},{key:"t_",get:function(){return this.$w||(this.$w=this.Xx()),this.$w}},{key:"Lx",get:function(){return this.Sx}},{key:"Cx",get:function(){return!this.Sx}},{key:"xx",get:function(){return this.Ex>0}},{key:"jd",get:function(){return this.Yd}}]),t}(),nC=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Fx=void 0,r.Fx=e,r.Bx(),r}E(n,t),n.Hx=function(t,n,i){var e=void 0===t.body?i:t.body;return new ag({Hi:e,ud:n.ud,td:n.ud.td,$l:t.headers,Jl:t.status,ed:t.statusText,od:t.url,rd:!0},n)};var i=n.prototype;return i.Xx=function(){return i=VR((t=this).ud),{get closed(){return!t.Cx},get request(){return i},get url(){return t.hd},get status(){return t.Jl},get statusText(){return t.ed},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},respondWith:function(n){return t.Nx(n)},waitUntil:function(n){return t.Ox(n)}};var t,n,i},i.Px=function(t){return n.Hx(t,this.Ix,this.Fx)},T(n,[{key:"Hl",get:function(){return this.Fx}},{key:"$l",get:function(){return this.Ix.$l}},{key:"ud",get:function(){return this.Ix.ud}},{key:"jd",get:function(){return this.Yd}},{key:"Jl",get:function(){return this.Ix.Jl}},{key:"ed",get:function(){return this.Ix.ed}},{key:"hd",get:function(){return this.Ix.od}}]),n}(tC),iC=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).zx=void 0,r.Vx=void 0,r.Vx=e,r.Bx(),r}E(n,t);var i=n.prototype;return i.Xx=function(){return t=this,{get url(){return t.hd},get method(){return t.Rd},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},get closed(){return!t.Cx},get useCredentials(){return t.Pd},get type(){return YR(t.fs)},get subType(){return ZR(t.Nd)},get mediaType(){return JR(t.Cd)},get responseType(){return qR(t.td)},redirect:function(n){return t.Wx(n)},respondWith:function(n){return t.Nx(n)},waitUntil:function(n){return t.Ox(n)}};var t,n},i.Px=function(t){var n=this.Ix.Hl,i=new ag({Hi:n,$l:{},ud:this.Ix,od:this.Ix.hd,td:this.Ix.td,Jl:200,ed:"OK"});return nC.Hx(t,i,n)},i.Wx=function(t){if(!this.Cx)throw new v("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.zx=function(t,n){return new hg({hd:void 0===t.url?n.hd:t.url,Rd:void 0!==t.method?GR(t.method):void 0,$l:t.headers,Hl:t.body,Pd:t.useCredentials,fs:void 0!==t.type?$R(t.type):void 0,Nd:void 0!==t.subType?QR(t.subType):void 0,Cd:void 0!==t.mediaType?KR(t.mediaType):void 0,td:void 0!==t.responseType?WR(t.responseType):void 0},n)}(n,this.Ix),this.TA()},T(n,[{key:"Hl",get:function(){return this.Ix.Hl}},{key:"Cx",get:function(){return this.Vx&&!this.Sx}},{key:"$l",get:function(){return this.Ix.$l}},{key:"Rd",get:function(){return this.Ix.Rd}},{key:"Gx",get:function(){return this.zx}},{key:"jd",get:function(){return this.Yd}},{key:"td",get:function(){return this.Ix.td}},{key:"Dd",get:function(){return this.Ix.Dd}},{key:"Ws",get:function(){return this.Ix.Ws}},{key:"fs",get:function(){return this.Ix.fs}},{key:"Nd",get:function(){return this.Ix.Nd}},{key:"Cd",get:function(){return this.Ix.Cd}},{key:"hd",get:function(){return this.Ix.hd}},{key:"Pd",get:function(){return this.Ix.Pd}},{key:"Bd",get:function(){return this.Ix.Bd}}]),n}(tC);var eC,rC=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new sC(n);return(e=t.call(this,r,i)||this).qx=void 0,e.qx=r,e}E(n,t);var i=n.prototype;return i.Yx=function(t){this.qx.Yx(t)},i.jx=function(t){this.qx.jx(t)},i.Qx=function(t){this.qx.Qx(t)},i.Zx=function(t){this.qx.Zx(t)},i.Kx=function(t){this.qx.Kx(t)},n}(fg),sC=function(){function t(t){this.Ld=void 0,this.Jx=[],this.$x=[],this.Ld=t}var n=t.prototype;return n.ud=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.tL(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof yg)){i.next=12;break}return i.next=11,Fr.awrap(this.nL(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Fr.awrap(this.iL(n,t.Ws));case 15:if(!eg(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new _g(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],qe)},n.Od=function(t){return this.Ld.Od(t)},n.tL=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(n),i=t,r=0,s=this.Jx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],fu(n),(o=new iC(i,u,!e)).Lx){a.next=17;break}return a.prev=8,a.next=11,Fr.awrap(o.Ux);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Gx&&!e?i=o.Gx:o.jd&&!e&&(e=o.jd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Ld.ud(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],qe)},n.nL=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof _g?t.jd:new ag({Hi:null,ud:t.ud,Jl:0,ed:""}),r.next=3,Fr.awrap(this.iL(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!eg(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new _g(e);case 13:case"end":return r.stop()}},null,this,null,qe)},n.iL=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.$x.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],fu(n),a.next=7,Fr.awrap(qe.resolve(i.Lu().Hi(n)));case 7:if(u=a.sent,(o=new nC(i,s,u)).Lx){a.next=19;break}return a.prev=10,a.next=13,Fr.awrap(o.Ux);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.jd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],qe)},n.Yx=function(t){this.Jx.unshift(t)},n.jx=function(t){this.Jx.push(t)},n.Qx=function(t){$s(this.Jx,t)},n.Zx=function(t){this.$x.unshift(t)},n.Kx=function(t){$s(this.$x,t)},n.xd=function(){this.Ld.xd(),Ks(this.Jx),Ks(this.$x)},t}(),uC=function(){function t(t){this.$w=void 0,this.pE=t}var n=t.prototype;return n.Yx=function(t){this.pE.Yx(t)},n.Qx=function(t){this.pE.Qx(t)},n.Zx=function(t){this.pE.Zx(t)},n.Kx=function(t){this.pE.Kx(t)},T(t,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{addRequestInterceptor:function(n){t.Yx(n)},removeRequestInterceptor:function(n){t.Qx(n)},addResponseInterceptor:function(n){t.Zx(n)},removeResponseInterceptor:function(n){t.Kx(n)}})),this.$w}}]),t}(),oC=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).$w=void 0,r.eL=function(t){r.Qs(t)},r.rL=function(t){r.Qs(t)},r.sL=n,r.pE=i,r.xC=e,r.sL.Zs(Pf.Sf,r.eL),r.sL.Zs(Pf.Tf,r.rL),r}E(n,t);var i=n.prototype;return i.uL=function(t){this.xC.uL(t)},i.Yx=function(t){this.pE.Yx(t)},i.Qx=function(t){this.pE.Qx(t)},i.Zx=function(t){this.pE.Zx(t)},i.Kx=function(t){this.pE.Kx(t)},i.xd=function(){this.$s(),this.sL.tu(Pf.Sf,this.eL),this.sL.tu(Pf.Tf,this.rL)},T(n,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get online(){return t.Iy},get estimator(){return n=t.oL,{get bandwidth(){return n.HR},get roundTripTime(){return n.zR}};var n},setEstimator:function(n){t.uL(function(t){if(t)return{get HR(){return ky(t.bandwidth)},get zR(){return ky(t.roundTripTime)},FR:function(n){return function(t){if(t)return{aL:function(n){t.markRequestStart(n)},cL:function(n){t.markResponseStart(n)},hL:function(n,i){t.markResponseData(n,i)},fL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(VR(n)))}}}(n))},addRequestInterceptor:function(n){t.Yx(n)},removeRequestInterceptor:function(n){t.Qx(n)},addResponseInterceptor:function(n){t.Zx(n)},removeResponseInterceptor:function(n){t.Kx(n)},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.$w}},{key:"Iy",get:function(){return this.sL.Iy}},{key:"oL",get:function(){return this.xC.oL}}]),n}(Su);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(eC||(eC={}));var aC=30,hC=1,cC=5;function fC(t,n,i,e,r,s){var u=[],o=t-g.max(s,hC),a=t+r;if(n&&i){var h=Ft(i,hC,cC),c=n-h;o=g.min(o,c);var f=n+i+h;a=g.max(a,f)}return 0!==o&&e.aC(0,o)&&u.push([0,o]),e.aC(a,1/0)&&u.push([a,1/0]),u}function lC(t){return t instanceof l&&"QuotaExceededError"===t.name}var vC={type:eC.BANDWIDTH},dC=20;function wC(t){var n,i,e,r=gy(vC);return G(t)?r.type=gC(t):W(t)&&function(t){switch(t){case eC.PERFORMANCE:case eC.QUALITY:case eC.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=gC(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=by(n.bitrate),p(e)||(i.bitrate=e),i)),r}function gC(t){switch(t){case"bandwidth":return eC.BANDWIDTH;case"performance":return eC.PERFORMANCE;case"quality":return eC.QUALITY}}var mC=function(t){function n(n){var i;return(i=t.call(this,"lL")||this).vL=n,i}return E(n,t),n}(Iu),yC=function(t){function n(n){var i;return(i=t.call(this,"wL")||this).dL=n,i}return E(n,t),n}(Iu),pC=function(t){function n(n){var i;return(i=t.call(this,"gL")||this)._L=n,i}return E(n,t),n}(Iu),_C=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).$w=(i=Jt(n),{get strategy(){return{metadata:(t=i.dL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.dL=wC(t)},get targetBuffer(){return i.vL},set targetBuffer(t){var n=by(t);p(n)||(i.vL=n)},get bufferLookbackWindow(){return i._L},set bufferLookbackWindow(t){var n=by(t);p(n)||(i._L=n<=0?aC:n)},get maxBufferLength(){return i.mL}}),n.yL=vC,n.kL=dC,n.bL=aC,n.pL=1/0,n.AL=void 0,n.TL=void 0,n}E(n,t);var i=n.prototype;return i.SL=function(t){this.TL=t},i.uL=function(t){this.AL=t},i.EL=function(t){var n=g.min(t,.8*this.pL);if(n=g.max(10,n),this.pL===n)return!1;var i=this.IL;this.pL=n;var e=this.IL;return e!==i&&this.Qs(new mC(e)),!0},T(n,[{key:"RL",get:function(){switch(this.yL.type){case eC.PERFORMANCE:return 0;case eC.QUALITY:return 1/0;case eC.BANDWIDTH:return this.yL.metadata&&void 0!==this.yL.metadata.bitrate?this.yL.metadata.bitrate:8*qy.Ig();default:return 8*qy.Ig()}}},{key:"t_",get:function(){return this.$w}},{key:"dL",get:function(){return this.yL},set:function(t){this.yL=t,this.Qs(new yC(t))}},{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t,this.Qs(new mC(t))}},{key:"IL",get:function(){return g.min(this.kL,this.pL)}},{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t,this.Qs(new pC(t))}},{key:"mL",get:function(){return this.pL}},{key:"oL",get:function(){var t;return null!=(t=this.AL)?t:this.TL.sN}}]),n}(Su),bC=function(t){function n(){return t.call(this,"d_")||this}return E(n,t),n.prototype.n_=function(){return new kC},n}(Jm),kC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Iu),AC=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).DL=void 0,r.rO=void 0,r.NL=function(t){ty(t)&&yu(function(){r.Qs(t.t_)})},r.DL=n,r.rO=i;for(var s=0,u=r.rO;s<u.length;s++){var o=u[s];r.DL.Zs(o,r.NL)}return r}return E(n,t),n.prototype.xd=function(){this.$s();for(var t=0,n=this.rO;t<n.length;t++){var i=n[t];this.DL.tu(i,this.NL)}},n}(Su),TC=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).DL=void 0,e.NL=function(t){ty(t)&&yu(function(){e.Qs(t.t_)})},e.DL=n,e.DL.Js(e.NL),e}return E(n,t),n.prototype.xd=function(){this.$s(),this.DL.ou(this.NL)},n}(Xy);var SC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).wk=0,n._k=1/0,n.$w=void 0,n}E(n,t);var i=n.prototype;return i.D_=function(){0===this.wk&&this._k===1/0||(this.wk=0,this._k=1/0,this.Qs(new bC))},i.CL=function(){return new dE([this.Jy,this.$y],[!0,!0])},T(n,[{key:"Jy",get:function(){return this.wk},set:function(t){if(this.$y<=t)throw new l("Start time of a clip should be smaller than the end time.");this.wk!==t&&(this.wk=t,this.Qs(new bC))}},{key:"$y",get:function(){return this._k},set:function(t){if(t<=this.Jy)throw new l("End time of a clip should be larger than the start time.");this._k!==t&&(this._k=t,this.Qs(new bC))}},{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get startTime(){return t.Jy},set startTime(n){t.Jy=n},get endTime(){return t.$y},set endTime(n){t.$y=n},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new TC(t=this,i),i)),this.$w}}]),n}(Xy),EC=function(t){function n(n){var i;return(i=t.call(this)||this).PL=function(t){i.BL(t)||i.Qs(t)},i.OL=n,i.OL.Js(i.PL),i}E(n,t);var i=n.prototype;return i.xL=function(){return this.OL.Lm},i.ey=function(){return this.OL.ey()},i.LL=function(){return this.OL.wy},i.ML=function(){return this.OL.vy},i.UL=function(){return this.OL._y},i.XL=function(t){this.OL._y=t},i.FL=function(){return this.OL.jg},i.HL=function(t){this.OL.jg=t},i.zL=function(){return this.OL.Qg},i.VL=function(){return this.OL.gy},i.WL=function(){return this.OL.Zg},i.GL=function(){return this.OL.mu},i.qL=function(){return this.OL.Kg},i.YL=function(){return this.OL.yy},i.jL=function(){return this.OL.Jg},i.QL=function(t){this.OL.Jg=t},i.ZL=function(){return this.OL.Iy},i.KL=function(){return this.OL.$g},i.JL=function(){return this.OL.tm},i.$L=function(t){this.OL.tm=t},i.tM=function(){return this.OL.Ry},i.nM=function(){return this.OL.Dy},i.iM=function(t){this.OL.Dy=t},i.eM=function(){return this.OL.ag},i.rM=function(){return this.OL.Ny},i.sM=function(){return this.OL.nm},i.Vm=function(){return this.OL.Vm()},i.Wm=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Fr.awrap(this.OL.Wm(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.uM=function(){return this.OL.Um},i.oM=function(){return this.OL.im},i.aM=function(){return this.OL.Mm},i.cM=function(){return this.OL.um},i.hM=function(){return this.OL.cm},i.fM=function(t){this.OL.cm=t},i.iy=function(){return this.OL.iy()},i.$m=function(){return this.OL.$m()},i.Qm=function(t){this.OL.Qm(t)},i.Zm=function(){this.OL.Zm()},i.Jm=function(){this.OL.Jm()},i.jm=function(){this.OL.jm()},i.Hm=function(){this.OL.Hm()},i.Fm=function(){this.OL.Fm()},i.Km=function(){this.OL.Km()},i.zm=function(){return this.OL.zm()},i.Gm=function(){return this.OL.Gm()},i.qm=function(){this.OL.qm()},i.Ym=function(){this.OL.Ym()},i.D_=function(){return this.OL.D_()},i.xd=function(){return this.OL.xd()},i.ly=function(){this.OL.ly()},i.sy=function(t){return this.OL.sy(t)},i.BL=function(t){return!1},T(n,[{key:"Lm",get:function(){return this.xL()}},{key:"wy",get:function(){return this.LL()}},{key:"_y",get:function(){return this.UL()},set:function(t){this.XL(t)}},{key:"vy",get:function(){return this.ML()}},{key:"jg",get:function(){return this.FL()},set:function(t){this.HL(t)}},{key:"Qg",get:function(){return this.zL()}},{key:"gy",get:function(){return this.VL()}},{key:"Zg",get:function(){return this.WL()}},{key:"mu",get:function(){return this.GL()}},{key:"Kg",get:function(){return this.qL()}},{key:"Xm",get:function(){return this.OL.Xm}},{key:"yy",get:function(){return this.YL()}},{key:"Tm",get:function(){return this.OL.Tm}},{key:"Jg",get:function(){return this.jL()},set:function(t){this.QL(t)}},{key:"Iy",get:function(){return this.ZL()}},{key:"$g",get:function(){return this.KL()}},{key:"tm",get:function(){return this.JL()},set:function(t){this.$L(t)}},{key:"Ry",get:function(){return this.tM()}},{key:"Dy",get:function(){return this.nM()},set:function(t){this.iM(t)}},{key:"ag",get:function(){return this.eM()}},{key:"Ny",get:function(){return this.rM()}},{key:"nm",get:function(){return this.sM()}},{key:"Um",get:function(){return this.uM()}},{key:"im",get:function(){return this.oM()}},{key:"Mm",get:function(){return this.aM()}},{key:"um",get:function(){return this.cM()}},{key:"cm",get:function(){return this.hM()},set:function(t){this.fM(t)}},{key:"Cy",get:function(){return this.OL.Cy}},{key:"Py",get:function(){return this.OL.Py},set:function(t){this.OL.Py=t}}]),n}(zy),IC=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).vM=void 0,r.lM=!1,r.dM=void 0,r.wM=!1,r._M=function(){r.gM(),r.mM()},r.yD=function(){r.yM(),r.mM(),r.kM&&r.jg>=r.vM.$y-n.bM&&!r.Zg&&(r.dM=ER(r.yD))},r.pM=function(){r.wM=!0},r.AM=function(){r.wM&&(r.wM=!1,r.mM())},r.vM=e,r.vM.Zs("d_",r._M),r.OL.Zs("timeupdate",r.yD),r}E(n,t);var i=n.prototype;return i.HL=function(n){var i=this.vM.CL().YN(n);t.prototype.HL.call(this,i),this.mM()},i.WL=function(){return t.prototype.WL.call(this)||this.lM},i.rM=function(){return dE.gC(t.prototype.rM.call(this)).ZN(this.vM.CL()).nN()},i.Fm=function(){this.WL()?this.HL(this.TM.start(0)):this.gM(),t.prototype.Fm.call(this),this.mM()},i.Wm=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),this.lM=!1,this.vM.D_(),e.next=5,Fr.awrap(t.prototype.Wm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,qe)},i.xd=function(){return this.vM.tu("d_",this._M),this.OL.tu("timeupdate",this.yD),this.yM(),t.prototype.xd.call(this)},i.BL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.pM(),!0;case"seeked":case"emptied":return this.Qs(n),this.AM(),!0;case"ended":if(this.kM)return!0}return t.prototype.BL.call(this,n)},i.yM=function(){this.dM&&(IR(this.dM),this.dM=void 0)},i.mM=function(){var t=this.jg,i=this.kM&&t>=this.vM.$y-n.Hb;this.lM&&!i?(this.lM=!1,this.$g&&this.Fm()):this.lM||!i||this.nm||this.wM||(this.lM=!0,this.Qs(new Ep(t)),this.Hm())},i.gM=function(){if(this.Qg!==1/0){var t=this.TM,i=dE.gC(t).YN(this.jg);Ut(this.jg,i,n.Hb)||this.HL(i)}},T(n,[{key:"TM",get:function(){return this.rM().length?this.rM():this.vM.CL().nN()}},{key:"kM",get:function(){return this.vM.$y<this.Qg}}]),n}(EC);IC.bM=1,IC.Hb=.001;var RC=function(){function t(){this.SM=void 0,this.SM=!1}return T(t,[{key:"EM",get:function(){return this.SM},set:function(t){this.SM=t}}]),t}(),CC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).SM=void 0,e.IM=!1,e.RM=!1,e.SM=i,e}E(n,t);var i=n.prototype;return i.WL=function(){return!this.SM.EM&&t.prototype.WL.call(this)},i.Hm=function(){this.RM=!0,t.prototype.Hm.call(this)},i.Fm=function(){this.RM=!1,t.prototype.Fm.call(this)},i.BL=function(n){if(this.SM.EM)switch(n.type){case"ended":return this.jg=0,this.RM||(this.nm?this.IM=!0:this.Fm()),!0;case"seeked":this.IM&&(this.IM=!1,this.Fm());break;case"pause":if(this.IM||t.prototype.WL.call(this))return!0}return t.prototype.BL.call(this,n)},n}(EC);var DC=function(){function t(t){var n;this.$w=(n=this,{get currentBandwidthEstimate(){return n.Ty},get corruptedVideoFrames(){return n.py},get droppedVideoFrames(){return n.by},get totalBytesLoaded(){return n.Sy},get bufferedSegments(){return n.Ey}}),this.IN=t}return T(t,[{key:"t_",get:function(){return this.$w}},{key:"py",get:function(){return this.IN.DM.Tm.py}},{key:"Ty",get:function(){return this.IN.DM.Tm.Ty}},{key:"by",get:function(){return this.IN.DM.Tm.by}},{key:"NM",get:function(){throw new l("Not implemented")}},{key:"CM",get:function(){throw new l("Not implemented")}},{key:"Sy",get:function(){return this.IN.DM.Tm.Sy}},{key:"Ay",get:function(){return this.IN.DM.Tm.Ay}},{key:"Ey",get:function(){return this.IN.DM.Tm.Ey}}]),t}();function NC(t){if(!t||!lr(t))return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{by:n.droppedVideoFrames,py:n.corruptedVideoFrames||0,Ay:n.totalVideoFrames}}return{by:t.webkitDroppedFrameCount||0,py:0,Ay:t.webkitDecodedFrameCount||0}}var PC=function(t){function n(){return t.call(this,"PM")||this}return E(n,t),n.prototype.n_=function(){return new xC},n}(Jm),xC=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Iu);var BC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).BM=[],n.OM=!1,n.$w=void 0,n.xM=function(){var t=n.OM,i=n.LM;t!==i&&(n.OM=i,n.Qs(new PC))},n}E(n,t);var i=n.prototype;return i.MM=function(t){this.BM.push(t),t.Zs("statechange",this.xM)},i.xd=function(){for(var t=0,n=this.BM;t<n.length;t++){n[t].tu("statechange",this.xM)}Ks(this.BM)},T(n,[{key:"LM",get:function(){return this.BM.some(function(t){return t.LM})}},{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get casting(){return t.LM},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new AC(t=this,["PM"],i),i)),this.$w}}]),n}(Su),OC=function(){function t(){}return t.UM=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new hg({hd:t,td:xf.$n,Rd:rg.GET}),s.next=4,Fr.awrap(n.ud(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Hi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),cu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],qe)},t.XM=function(t){try{var i=jI(t);return new VI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new lf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.FM=function(t){void 0===t&&(t=rR._p),i.gr("The baked-in license is used. Please update the configuration with your license.");var n=t.oB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.oB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.oB(n)}),s=Number(new Date(Number(t.oB("COD|aHpHa:p3Ceo3Co\"\"")))),u=[].map(function(n){return t.oB(n)});return new VI(n,e,r,s,u)},t.convertLicenseToDummyLicense=function(t){return new VI(t.wB,t._B,t.gB,864e13,t.yB,t.kB,Date.now(),t.pB,t.AB)},t}(),LC=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=MC.dh()?new MC:new If),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t.HM=function(n){var i=t.Iu(n);if(void 0!==i)return y(i)},t.zM=function(n){return"true"===t.Iu(n)},t}();LC.Yn=void 0;var MC=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.dh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Nu=function(n){t.localStorage.removeItem(n)},e.if=function(){t.localStorage.clear()},e.Iu=function(n){return t.localStorage[n]},e.ef=function(n,i){t.localStorage[n]=i},i}(LC),jC=g.floor(14399999*g.random()-72e5),FC=function(){function t(t,n,i,e,r,s){this.IB=void 0,this.pE=t,this.VM=n,this.WM=i,this.fO=e,this.GM=r,this.Qo=s,this.IB=ZI(s)}var i=t.prototype;return i.qM=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.YM(this.GM.license,this.GM.licenseUrl));case 2:t=n.sent,this.fO.jM(t);case 4:case"end":return n.stop()}},null,this,null,qe)},i.YM=function(t,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=i,t?r=OC.XM(t):e||(r=OC.FM()),e||(e="https://validate.theoplayer.com/1/"+r.wB),s=this.QM(),!r){l.next=14;break}if((u=this.VM.BB(r))!==UI.vB){l.next=14;break}if(!this.ZM(r.mB)||!this.ZM(null==s?void 0:s.mB)){l.next=13;break}return l.next=10,Fr.awrap(this.KM(e));case 10:if(!(o=l.sent)){l.next=13;break}return l.abrupt("return",o);case 13:return l.abrupt("return",r);case 14:if(!s){l.next=25;break}if(this.VM.BB(s)!==UI.vB){l.next=24;break}if(!this.ZM(null==s?void 0:s.mB)){l.next=23;break}return l.next=20,Fr.awrap(this.KM(e));case 20:if(!(a=l.sent)){l.next=23;break}return l.abrupt("return",a);case 23:return l.abrupt("return",s);case 24:LC.Nu("THEOplayer.license");case 25:return l.next=27,Fr.awrap(OC.UM(e,this.pE));case 27:if(!(h=l.sent)){l.next=37;break}if(c=OC.XM(h),this.VM.BB(c)!==UI.vB){l.next=34;break}return LC.ef("THEOplayer.license",h),l.abrupt("return",c);case 34:LC.Nu("THEOplayer.license"),l.next=39;break;case 37:if(this.IB||!r||u!==UI.lB||e!=="https://validate.theoplayer.com/1/"+r.wB){l.next=39;break}return l.abrupt("return",OC.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){l.next=43;break}this.JM(null!=(f=r)?f:c,new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),l.next=44;break;case 43:throw new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return l.stop()}},null,this,null,qe)},i.NB=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.fO.mO());case 2:if(n=a.sent,!this.ZM(n.mB)){a.next=9;break}return e=null!=(i=this.GM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.wB,a.next=7,Fr.awrap(this.KM(e));case 7:(r=a.sent)&&(this.fO.jM(r),n=r);case 9:if(a.prev=9,(s=this.VM.BB(n))!==UI.dB){a.next=16;break}throw u=zI.TB,new lf(qI(u),JI.PB(u));case 16:if(s!==UI.lB){a.next=19;break}throw o=zI.lB,new lf(qI(o),JI.PB(o));case 19:this.VM.NB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.$M(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],qe)},i.MB=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.fO.mO());case 2:n=i.sent;try{this.VM.MB(t,n)}catch(t){this.$M(t)}case 4:case"end":return i.stop()}},null,this,null,qe)},i.KM=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr.awrap(OC.UM(t,this.pE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=OC.XM(n),this.VM.BB(i)!==UI.vB){e.next=11;break}return LC.ef("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],qe)},i.ZM=function(t){return!t||Number(new Date)+2592e5+jC>=t},i.QM=function(){var t=LC.Iu("THEOplayer.license");if(t)return OC.XM(t)},i.JM=function(t,n){this.fO.jM(t),this.$M(n)},i.$M=function(t){throw ct(t.message),this.WM.bO(t.message),t},t}(),UC=function(){function t(){this.tU=void 0,this.nU=new na}var n=t.prototype;return n.jM=function(t){this.tU=t,this.nU.Wu()},n.mO=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tU){t.next=2;break}return t.abrupt("return",qe.resolve(this.tU));case 2:return t.next=4,Fr.awrap(this.nU.Fu);case 4:return t.abrupt("return",this.tU);case 5:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"iU",get:function(){return this.tU}}]),t}(),HC=function(t){function n(){return t.call(this,"d_")||this}return E(n,t),n.prototype.n_=function(){return new XC},n}(Jm),XC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Iu);function zC(t){var n,i={get fontFamily(){return t.eU},set fontFamily(n){t.eU=n},get fontColor(){return t.rU},set fontColor(n){t.rU=n},get fontSize(){return t.sU},set fontSize(n){t.sU=n},get backgroundColor(){return t.uU},set backgroundColor(n){t.uU=n},get windowColor(){return t.oU},set windowColor(n){t.oU=n},get edgeStyle(){return t.aU},set edgeStyle(n){t.aU=n},get marginTop(){return t.cU},set marginTop(n){t.cU=n},get marginBottom(){return t.hU},set marginBottom(n){t.hU=n},get marginLeft(){return t.fU},set marginLeft(n){t.fU=n},get marginRight(){return t.vU},set marginRight(n){t.vU=n},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Eu(i),t.Zs(["d_"],function(t){return n.Qs(t.t_)}),i}var VC={eU:void 0,rU:void 0,sU:void 0,uU:void 0,oU:void 0,aU:void 0,lU:void 0,cU:void 0,hU:void 0,fU:void 0,vU:void 0},WC="THEOplayer.textTrackStyle.",qC=function(t){function n(){var i;return(i=t.call(this)||this).dU=void 0,i.$w=void 0,i.dU=n.wU(),i}return E(n,t),n.prototype.qc=function(t){this.dU=Ur({},this.dU,t),n._U(this.dU),this.Qs(new HC)},n.wU=function(){var t=Ur({},VC);return t.eU=LC.Iu(WC+"fontFamily")||t.eU,t.rU=LC.Iu(WC+"fontColor")||t.rU,t.sU=LC.Iu(WC+"fontSize")||t.sU,t.uU=LC.Iu(WC+"backgroundColor")||t.uU,t.oU=LC.Iu(WC+"windowColor")||t.oU,t.aU=LC.Iu(WC+"edgeStyle")||t.aU,t},n._U=function(t){LC.ef(WC+"fontFamily",t.eU||""),LC.ef(WC+"fontColor",t.rU||""),LC.ef(WC+"fontSize",t.sU||""),LC.ef(WC+"backgroundColor",t.uU||""),LC.ef(WC+"windowColor",t.oU||""),LC.ef(WC+"edgeStyle",t.aU||"")},T(n,[{key:"gU",get:function(){return this.dU}},{key:"eU",get:function(){return this.dU.eU},set:function(t){this.qc({eU:t})}},{key:"rU",get:function(){return this.dU.rU},set:function(t){this.qc({rU:t})}},{key:"sU",get:function(){return this.dU.sU},set:function(t){this.qc({sU:t})}},{key:"uU",get:function(){return this.dU.uU},set:function(t){this.qc({uU:t})}},{key:"oU",get:function(){return this.dU.oU},set:function(t){this.qc({oU:t})}},{key:"aU",get:function(){return this.dU.aU},set:function(t){this.qc({aU:t})}},{key:"lU",get:function(){return this.dU.lU}},{key:"cU",get:function(){return this.dU.cU},set:function(t){this.qc({cU:t})}},{key:"hU",get:function(){return this.dU.hU},set:function(t){this.qc({hU:t})}},{key:"vU",get:function(){return this.dU.vU},set:function(t){this.qc({vU:t})}},{key:"fU",get:function(){return this.dU.fU},set:function(t){this.qc({fU:t})}},{key:"t_",get:function(){return this.$w||(this.$w=zC(this)),this.$w}}]),n}(Su);function GC(t,n){var i,e;t.style.marginLeft=(null!=(i=n.fU)?i:0)+"px",t.style.marginRight=(null!=(e=n.vU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var $C,YC,QC=function(t){function n(n,e){var r;(r=t.call(this)||this).mU=void 0,r.nh=void 0,r.DM=void 0,r.yU=void 0,r.jw=void 0,r.vM=void 0,r.SM=void 0,r.kU=void 0,r.bU=void 0,r.xC=void 0,r.VM=void 0,r.pU=void 0,r.AU=void 0,r.OC=void 0,r.TU=!1,r.Dm=!1,r.Uy=void 0,r.SU=!1,r.EU=void 0,r.IU=void 0,r.RU=void 0,r.DU=void 0,r.NU=void 0,r.CU=function(t){if(!r.SU){r.SU=!0;var n=r.mU,i=s_(t);r.DM.M_=new _E(r.gy,i,t),pu(n.xd())}},r.PU=function(t){r.Qs(t.t_)},r.BU=function(t){t.type!==Pf.Sf&&t.type!==Pf.Tf&&r.Qs(t)};var s=by(e.uid);p(s)?r.Uy=d_++:r.Uy=s,r.nh=e;var u=i.jw,o=new UC;r.yU=new wR("4.3.0",u,o),r.jw=new rC(u,e.allowMixedContent),r.xC=new _C,r.VM=new WI(e.isEmbeddable,"4.3.0",FI()),r.NU=new FC(u,r.VM,r.yU,o,e,FI()),r.NU.qM().catch(r.CU),r.pU=new LR(n),r.pU.Zs("CO",r.PU),r.OC=new qC,r.vM=new SC,r.SM=new RC;var a=new pE(n,e,r.jw,r.xC,r.pU,r.OC);r.xC.SL(a);var h=a;h=new IC(h,r.OU),h=new CC(h,r.EM),r.mU=h,r.DM=new n_(r.mU),r.DM.Js(r.BU),r.DU=new DC(Jt(r)),r.IU=new oC(r.DM,r.jw,r.xC),r.kU=new yR(Jt(r)),r.AU=new zR(r.DM,e.allowNativeFullscreen),r.bU=new FE(r.AU),r.pU.rh();var c=new le(r.pU,r.OC,1,[o_.Ed]);return r.EU=new ve(c),r.RU=new BC,r}E(n,t);var e=n.prototype;return e.QL=function(t){this.DM.Jg=t,t||this.$g||this.jm()},e.fM=function(t){this.DM.cm=t},e.xU=function(){jp(this,UE,this)},e.Fm=function(){this.DM.Fm()},e.Hm=function(){this.DM.Hm()},e.Wm=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.NU.NB(t).catch(this.CU),i=ZC(t),e.next=5,Fr.awrap(this.DM.Wm(i,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.jm=function(){this.Dm||(this.DM.jm(),this.EU.jm(),this.Dm=!0)},e.pC=function(){return this.bU.oP()===BE.FULLSCREEN},e.Km=function(){this.DM.Km()},e.Jm=function(){this.DM.Jm()},e.$m=function(){return this.DM.$m()},e.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.DM.zm());case 2:return t.next=4,Fr.awrap(this.DM.D_());case 4:case"end":return t.stop()}},null,this,null,qe)},e.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.RU.xd(),this.jw.xd(),this.IU.xd(),this.AU.xd(),this.bU.xd(),this.pU.xd(),this.yU.xd(),this.EU.xd(),t.next=11,Fr.awrap(this.DM.xd());case 11:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"LU",get:function(){return this.xC}},{key:"Om",get:function(){return this.TU},set:function(t){this.TU=t,this.DM.Om=t}},{key:"MU",get:function(){return this.EU}},{key:"Lm",get:function(){return this.DM.Lm}},{key:"UU",get:function(){return this.RU}},{key:"XU",get:function(){return this.pU}},{key:"Xm",get:function(){return this.DM.Xm}},{key:"Tm",get:function(){return this.DU}},{key:"FU",get:function(){return this.IU}},{key:"Um",get:function(){return this.DM.Um}},{key:"HU",get:function(){return this.OC}},{key:"Mm",get:function(){return this.DM.Mm}},{key:"wy",get:function(){return this.DM.wy}},{key:"OU",get:function(){return this.vM}},{key:"EM",get:function(){return this.SM}},{key:"jg",get:function(){return this.DM.jg},set:function(t){this.DM.jg=t}},{key:"_y",get:function(){return this.DM._y},set:function(t){this.DM._y=t}},{key:"vy",get:function(){return this.DM.vy}},{key:"Qg",get:function(){return this.DM.Qg}},{key:"gy",get:function(){return this.DM.gy}},{key:"Zg",get:function(){return this.DM.Zg}},{key:"mu",get:function(){return this.DM.mu}},{key:"Kg",get:function(){return this.DM.Kg}},{key:"Jg",get:function(){return this.DM.Jg},set:function(t){var n=Boolean(t);this.QL(n)}},{key:"$g",get:function(){return this.DM.$g}},{key:"tm",get:function(){return this.DM.tm},set:function(t){this.DM.tm=t}},{key:"Ry",get:function(){return this.DM.Ry}},{key:"Dy",get:function(){return this.DM.Dy},set:function(t){this.DM.Dy=aE(t)}},{key:"ag",get:function(){return this.DM.ag}},{key:"Ny",get:function(){return this.DM.Ny}},{key:"nm",get:function(){return this.DM.nm}},{key:"z_",get:function(){return this.Uy}},{key:"im",get:function(){return this.DM.im}},{key:"um",get:function(){return this.DM.um}},{key:"cm",get:function(){return this.DM.cm},set:function(t){var n=Ft(Number(t),0,1)||0;this.fM(n)}},{key:"Cy",get:function(){return this.DM.Cy}}]),n}(zy);function ZC(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t.zU=0]="zU",t[t.VU=1]="VU"}($C||($C={})),function(t){t[t.WU=0]="WU"}(YC||(YC={}));var KC={},JC={};function tD(t,n){(KC[n]||(KC[n]=[])).push(t)}function nD(t,n){(JC[n]||(JC[n]=[])).push(t)}function iD(t,n){var i=t;if(KC[n])for(var e=0,r=KC[n];e<r.length;e++){i=(0,r[e])(i)}return i}var eD=[],rD=[];function sD(t){eD.push(t)}function uD(t){for(var n=0;n<eD.length;n++){(0,eD[n])(t)}}var oD=t.CustomEvent;var aD=function(){try{var t=new oD("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},hD=function(){function t(t,n){var i=this;this.IN=void 0,this.GU=void 0,this.qU=!1,this.YU=function(t){i.GU.kO(t.error,i.jg)},this.jU=function(){i.GU.gO(i.QU),i.IN.removeEventListener("playing",i.jU),i.qU=!1},this.ZU=function(){i.qU||(i.IN.addEventListener("playing",i.jU),i.qU=!0)},this.GU=n,this.IN=t,this.IN.addEventListener("error",this.YU),this.IN.addEventListener("sourcechange",this.ZU),this.ZU()}return t.prototype.D_=function(){},T(t,[{key:"jg",get:function(){var t=this.IN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"QU",get:function(){return this.IN.src||""}}]),t}();sD(function(t){new hD(t.t_,t.yU)});var cD="theoplayer-stored-volume",fD="theoplayer-stored-mutedstate";tD(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=LC.HM(cD);(void 0===r||p(r))&&(r=1);var s=LC.zM(fD)||!1;e.cm=r,e.Jg=s}return e}E(n,t);var i=n.prototype;return i.QL=function(n){this.nh.persistVolume&&LC.ef(fD,""+Boolean(n)),t.prototype.QL.call(this,n)},i.fM=function(n){this.nh.persistVolume&&LC.ef(cD,""+Number(n)),t.prototype.fM.call(this,n)},n}(t)},$C.VU);var lD=new(function(){function t(){this.KU=[],this.$w=void 0}var n=t.prototype;return n.S_=function(t){return this.KU[t]},n.JU=function(t){this.KU.push(t),this.t_.push(t.t_)},n.Gc=function(t){var n=this.KU.indexOf(t);n<0||(Ys(this.KU,n),this.$w&&Ys(this.$w,n))},n.$U=function(t){for(var n=0,i=this.KU;n<i.length;n++){var e=i[n];if(e.z_===t)return e}},T(t,[{key:"C_",get:function(){return this.KU.length}},{key:"t_",get:function(){return this.$w||(this.$w=function(t){for(var n=[],i=0;i<t.C_;i++)n[i]=t.S_(i).t_;return n.getPlayerByUID=function(n){var i=t.$U(n);return i&&i.t_},n}(this)),this.$w}}]),t}()),vD=function(){function t(t){var n=this;this.tX=[],this.nX=void 0,this.$v=new au,this.iX=void 0,this.eX=function(){return 0===n.tX.length?n.iX?dD(n.iX,n.$v.Ws).then(n.rX,n.rX):n.rX():n.tX.shift()().then(n.eX)},this.rX=function(){if(0!==n.tX.length)return n.eX();n.nX=void 0},this.iX=t}var n=t.prototype;return n.sX=function(t,n){var i=this;return new qe(function(e){var r=new au;r.zs(i.$v.Ws),n&&r.zs(n);var s=function(){r.xs()};i.tX.push(function(){var n=dD(t,r.Ws);return e(n),n.then(s,s)}),i.nX||(i.nX=i.eX())})},n.Hs=function(){return this.uX(!0)},n.xd=function(){return this.iX=void 0,this.uX(!1)},n.uX=function(t){var n=this.nX;return this.$v.Hs(),t&&(this.$v=new au),qe.resolve(n)},t}();function dD(t,n){return new qe(function(i){return i(t(n))})}var wD,gD=function(t){function n(n){var i;return(i=t.call(this,Pf.Xf)||this).source=n,i}return E(n,t),n}(Iu),mD=function(t){function n(){var n;return(n=t.call(this)||this).SC=void 0,n.IC=void 0,n.DC=void 0,n.RC=void 0,n.SC=0,n.IC=!0,n.DC=!1,n.RC=1,n}E(n,t);var i=n.prototype;return i.Fm=function(){this.IC&&(this.IC=!1,this.Qs(new yp(this.jg)),this.Qs(new _A(this.jg)))},i.Hm=function(){this.IC||(this.IC=!0,this.Qs(new Sp(this.jg,this._y)),this.Qs(new mp(this.jg)))},i.D_=function(){this.SC=0,this.DC=!1,this.RC=1,this.Hm(),this.Qs(new gp(this.SC))},i.xd=function(){this.$s()},i.Jm=function(){},i.Km=function(){},T(n,[{key:"_y",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.SC},set:function(t){this.DC&&this.SC===t||(this.SC=t,this.DC=!0,this.Qs(new Rp(this.jg)))}},{key:"$g",get:function(){return this.IC}},{key:"tm",get:function(){return this.RC},set:function(t){this.RC!==t&&(this.RC=t,this.Qs(new Tp(this.jg,this.tm)))}},{key:"ag",get:function(){return Ky.Mg}},{key:"nm",get:function(){return this.DC}}]),n}(Xy),yD=function(t){function n(){return t.call(this,Pf.wf)||this}return E(n,t),n}(Iu),pD={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},_D={visibility:"hidden"},bD={visibility:"visible"},kD=function(){function t(t){var n,i=this;this.pN=void 0,this.IN=void 0,this.oX=!1,this.aX=void 0,this.cX=void 0,this.hX=function(t){var n;i.oX=!1,i.aX=null==(n=t.source)?void 0:n.poster,i.qc()},this.VE=function(){i.oX=!0,i.Jm()},this.IN=t,this.CN(),this.pN=((n=we&&we.document&&we.document.createElement("div")).className="theoplayer-poster",hr(pD,n),n),t.gy.appendChild(this.pN)}var n=t.prototype;return n.qc=function(){var t=this.IN.$g,n=this.oX;this.hd?this.pN.style.backgroundImage='url("'+this.hd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.pN.style.backgroundImage="",t&&this.hd&&!n?this.Km():this.Jm()},n.Km=function(){hr(_D,this.IN.gy),hr(bD,this.pN)},n.Jm=function(){hr(_D,this.pN),hr(bD,this.IN.gy)},n.CN=function(){this.IN.Zs("sourcechange",this.hX),this.IN.Zs("play",this.VE)},n.xd=function(){this.IN.tu("sourcechange",this.hX),this.IN.tu("play",this.VE),nr(this.pN)},T(t,[{key:"hd",get:function(){return void 0!==this.aX?this.aX:void 0!==this.cX?this.cX:void 0}},{key:"fX",set:function(t){this.cX=t,this.qc()}}]),t}();function AD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).IN=void 0,r.vX=void 0,r.lX=void 0,r.dX=void 0,r.wX=void 0,r._X=void 0,r.gX=void 0,r.mX=void 0,r.NN=void 0,r.DN=void 0,r.aD=void 0,r.FC=void 0,r.$w=void 0,r.yX=function(t){t.type!==Pf.Df&&r.mX.push(t)},r.vX=new t(n,e),r.lX=new mD,r.IN=r.vX,r.dX=new kD(Jt(r)),r._X=new vD,r.gX=!1,r.mX=[],r.NN=!0,r.CN(),r}E(e,i);var r=e.prototype;return r.sX=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this._X.sX(t,n).catch(vu));case 1:case"end":return i.stop()}},null,this,null,qe)},r.kX=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),this.vX.Js(this.yX),i.next=4,Fr.awrap(this.vX.Wm(t,n));case 4:this.vX.ou(this.yX);case 5:case"end":return i.stop()}},null,this,null,qe)},r.bX=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Vm())&&!lI(t)&&this.Om&&this.$g){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.nh.mutedAutoplay,e.next=6,Fr.awrap(this.MU.pX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.AX(),e.abrupt("break",14);case 12:return(this.Jg||n===pp.ALL)&&(this.Jg=!0,this.Fm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,qe)},r.Wm=function(t){var i=this,e=this.DN;e&&!lI(e)&&this.Qs(new gp(0,0)),this.D_(),this.DN=t,pu(this.sX(function(e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return fu(e),r.prev=1,r.next=4,Fr.awrap(i.kX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.DN=void 0,i.mD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof lf?s:s instanceof l?new lf(u,s.message,s):new lf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Fr.awrap(i.TX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],qe)}))},r.TX=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SX(this.vX),this.Qs(new gD(this.Vm())),t.next=4,Fr.awrap(this.bX());case 4:case"end":return t.stop()}},null,this,null,qe)},r.HL=function(t){this.IN.jg=t},r.GL=function(){var t;return null!=(t=this.FC)?t:this.vX.mu},r.qL=function(){var t;return null!=(t=this.aD)?t:this.vX.Kg},r.mD=function(t){void 0===this.qL()&&(this.aD=t,this.FC=s_(t),this.Qs(new Bp(t)))},r.Fm=function(){this.IN.Fm()},r.AX=function(){this.Jg||this.jm(),this.Fm()},r.jm=function(){this.vX.jm()},r.Hm=function(){this.IN.Hm()},r.zm=function(){this.Wm(void 0)},r.Km=function(){this.NN=!0,this.IN.Km()},r.Jm=function(){this.NN=!1,this.IN.Jm()},r.xU=function(){this.vX.xU()},r.fM=function(t){this.vX.fM(t)},r.QL=function(t){this.vX.QL(t)},r.EX=function(t){this.wX=t,t.JU(this)},r.pC=function(){return this.vX.pC()},r.Vm=function(){return this.DN},r.$m=function(){return this.vX.$m()},r.FL=function(){return this.vX.jg},r.zL=function(){return this.vX.Qg},r.LL=function(){return this.vX.wy},r.tM=function(){return this.vX.Ry},r.rM=function(){return this.vX.Ny},r.D_=function(){var t=this;this.DN=void 0,this.aD=void 0,this.FC=void 0,Ks(this.mX),this.lX.D_(),this.SX(this.lX),this._X.Hs(),pu(this._X.sX(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(n),i.next=3,Fr.awrap(t.vX.D_());case 3:case"end":return i.stop()}},null,null,null,qe)}))},r.xd=function(){var t=this;this.Qs(new yD),this.dX.xd(),this.PN(),this.D_(),pu(this.sX(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.vX.xd());case 2:t.wX&&(t.wX.Gc(t),t.wX=void 0),t._X.xd();case 4:case"end":return n.stop()}},null,null,null,qe)})),this.$s()},r.SX=function(t){if(this.IN!==t){var n=this.IN.$g,i=this.IN.jg,e=this.IN.tm,r=this.IN.nm;this.PN(),t===this.vX?((r||t.jg!==i)&&(t.jg=i),t.tm!==e&&(t.tm=e),n?t.Hm():t.Fm()):this.nh.retainPlaybackRateOnSourceChange?t.tm=e:1!==e&&this.Qs(new Tp(this.FL(),1)),this.IN=t,this.CN();for(var s=0,u=this.mX;s<u.length;s++){var o=u[s];this.Qs(o)}Ks(this.mX),this.NN?t.Km():t.Jm()}},r.CN=function(){this.IN.Js(this.js)},r.PN=function(){this.IN.ou(this.js)},r.n_=function(){return t=this,e=function(n){i=n;var e=TI(n,t.nh);t.Wm(e)},r={get abr(){return t.LU.t_},get audioTracks(){return t.Lm.t_},get autoplay(){return t.Om},set autoplay(n){t.Om=Boolean(n)},get buffered(){return t.LL()},get canvas(){return t.kU.t_},get clip(){return t.OU.t_},get currentProgramDateTime(){var n;return null!=(n=t._y)?n:null},set currentProgramDateTime(n){t._y=null!=n?n:void 0},get currentTime(){return t.FL()},set currentTime(n){t.HL(Number(n))},get duration(){return t.zL()},get element(){return t.gy},get ended(){return t.Zg},get error(){return t.GL()},get errorObject(){return t.qL()},get loop(){return t.EM.EM},set loop(n){t.EM.EM=Boolean(n)},get metrics(){return t.Tm.t_},get muted(){return t.Jg},set muted(n){t.QL(n)},get network(){return t.FU.t_},get paused(){return t.$g},get playbackRate(){return t.tm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.tm=i},get played(){return t.tM()},get poster(){return t.IX},set poster(n){t.IX=Ay(n)},get preload(){return t.Dy},set preload(n){t.Dy=n},get presentation(){return t.bU.t_},get readyState(){return t.ag},get seekable(){return t.rM()},get seeking(){return t.nm},get source(){return i},set source(t){e(t)},get src(){return dI(t.Vm())},set src(t){e({sources:t})},get textTracks(){return t.Um.t_},get textTrackStyle(){return t.HU.t_},get uid(){return t.z_},get videoHeight(){return t.im},get videoTracks(){return t.Mm.t_},get videoWidth(){return t.um},get volume(){return t.cm},set volume(n){t.fM(Number(n))},get latency(){return t.Cy.t_},destroy:function(){t.xd(),t=null,i=void 0},play:function(){t.AX()},pause:function(){t.Hm()},stop:function(){i=void 0,t.zm()},prepareWithUserAction:function(){t.jm()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new ME(r,!0)).YC(t),r;var t,n,i,e,r},T(e,[{key:"yU",get:function(){return this.vX.yU}},{key:"kU",get:function(){return this.vX.kU}},{key:"nh",get:function(){return this.vX.nh}},{key:"mU",get:function(){return this.vX.mU}},{key:"jw",get:function(){return this.vX.jw}},{key:"jD",get:function(){return this.vX.AU}},{key:"bU",get:function(){return this.vX.bU}},{key:"pU",get:function(){return this.vX.pU}},{key:"DM",get:function(){return this.vX.DM}},{key:"LU",get:function(){return this.vX.LU}},{key:"Om",get:function(){return this.vX.Om},set:function(t){this.vX.Om=t,this.bX()}},{key:"MU",get:function(){return this.vX.MU}},{key:"Lm",get:function(){return this.vX.Lm}},{key:"UU",get:function(){return this.vX.UU}},{key:"XU",get:function(){return this.vX.pU}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Xm",get:function(){return this.vX.Xm}},{key:"Tm",get:function(){return this.vX.Tm}},{key:"FU",get:function(){return this.vX.FU}},{key:"Um",get:function(){return this.vX.Um}},{key:"HU",get:function(){return this.vX.HU}},{key:"Mm",get:function(){return this.vX.Mm}},{key:"OU",get:function(){return this.vX.OU}},{key:"EM",get:function(){return this.vX.EM}},{key:"_y",get:function(){return this.IN._y},set:function(t){this.IN._y=t}},{key:"vy",get:function(){return this.vX.vy}},{key:"gy",get:function(){return this.vX.gy}},{key:"Zg",get:function(){return this.vX.Zg}},{key:"Jg",get:function(){return this.vX.Jg},set:function(t){this.vX.Jg=t}},{key:"$g",get:function(){return this.IN.$g}},{key:"IX",get:function(){return this.dX.hd||""},set:function(t){this.dX.fX=t}},{key:"tm",get:function(){return this.vX.tm},set:function(t){this.IN.tm=t}},{key:"Dy",get:function(){return this.vX.Dy},set:function(t){this.vX.Dy=aE(t)}},{key:"ag",get:function(){return this.IN.ag}},{key:"nm",get:function(){return this.IN.nm}},{key:"z_",get:function(){return this.vX.z_}},{key:"im",get:function(){return this.vX.im}},{key:"um",get:function(){return this.vX.um}},{key:"cm",get:function(){return this.vX.cm},set:function(t){this.vX.cm=t}},{key:"Cy",get:function(){return this.vX.Cy}}]),e}(zy)}function TD(){return wD||(wD=iD(wD=AD(QC),$C.zU),wD=iD(wD,$C.VU)),wD}function SD(t,n){var i=Lp(n),e=new(TD())(t,i),r=e.t_;return e.xU(),e.EX(lD),w.defineProperty(r,"constructor",{value:SD}),r=dy(r),uD(e),r}yu(function(){t.dispatchEvent&&t.dispatchEvent(aD("theoplayerready"))});var ED,ID={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Vu(t)},n.decode=function(t){return Xu(t)},t}())},RD=["hls","airplay","ui"],CD=lD.t_,DD=KA.MI.registerContentProtectionIntegration.bind(KA.MI),ND=[Pf.If,Pf.Ef,wp.Yg,Pf.Ff,Pf.Rf,Pf.bf,Pf.Bf,Pf.Pf,Pf.mf,Pf.Df,Pf.Hf,Pf._f,wp.w_,Pf.Cf,xy.K_,Tu.yu,Tu.pu,Pf.lf,Pf.vf,Pf.zf],PD={RX:!1,DX:50},xD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.JP="NX"}(ED||(ED={}));var BD,OD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Nh=void 0,s.uD=void 0,s.Vh=void 0,s.CX=!1,s.PX=new na,s.BX=!1,s._X=new vD,s.OX=void 0,s.ys=void 0,s.Jc=void 0,s.xX=function(){s.BX=!0},s.LX=function(){s.MX(!0)},s.Nh=n,s.uD=i,s.Vh=i.xD,s.OX=e,s.ys=r,s.Vh.addEventListener("loadedmetadata",s.xX);for(var u=0;u<xD.length;u++){var o=xD[u];s.Vh.addEventListener(o,s.LX)}return s}E(i,t);var e=i.prototype;return e.UX=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.ah());case 5:return e=r.sent,r.next=8,Fr.awrap(this.XX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},e.FX=function(t){var n=this.Jc;return n?0!==t.XD.length&&t.XD.some(function(t){return t.$c.vs===n.$c}):0===t.XD.length||!this.BX},e.HX=function(t){return this.OX.HX(t),this.Nh=t,qe.resolve()},e.xs=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.$s(),this.Vh.removeEventListener("loadedmetadata",this.xX),t=0;t<xD.length;t++)n=xD[t],this.Vh.removeEventListener(n,this.LX);return i.next=5,Fr.awrap(this._X.xd());case 5:return i.next=7,Fr.awrap(this.zX());case 7:return i.next=9,Fr.awrap(this.OX.D_());case 9:return i.next=11,Fr.awrap(this.XX(void 0));case 11:case"end":return i.stop()}},null,this,null,qe)},e.MX=function(t){t!==this.CX&&(this.CX=t,t?this.PX.Wu(void 0):this.PX=new na)},e.XX=function(t){var n=this;return this._X.sX(function(){return n.VX(t)})},e.VX=function(t){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vh.src){e.next=4;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vh.src){e.next=6;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.CX){e.next=9;break}return e.next=9,Fr.awrap(this.PX.Fu);case 9:if(!(i=this.Jc)){e.next=14;break}return e.next=13,Fr.awrap(i.sh(this.Vh));case 13:this.Jc=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Fr.awrap(t.rh(this.Vh));case 17:this.Jc=t;case 18:case"end":return e.stop()}},null,this,null,qe)},e.Wm=function(t){var n=this;return this._X.sX(function(){return n.WX(t)})},e.WX=function(t){this.MX(!1);var n=this.uD.tm;this.Vh.src=t,this.uD.tm=n},e.GX=function(t){var n=this;return this._X.sX(function(){return n.qX(t)})},e.qX=function(t){this.WX(t),this.Vh.load()},e.zX=function(){var t=this;return this._X.sX(function(){return t.YX()})},e.YX=function(){this.MX(!1),vr(this.Vh)},T(i,[{key:"Lm",get:function(){throw new l("Not implemented")}},{key:"nh",get:function(){return this.Nh}},{key:"xD",get:function(){return this.Vh}},{key:"Mm",get:function(){throw new l("Not implemented")}}]),i}(Su),LD=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.SL=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.nh,n.t0=t.HD,n.next=n.t0===$y.Bg?4:n.t0===$y.Og?4:(n.t0,$y.Pg,6);break;case 4:return this.Vh.setAttribute("crossorigin",t.HD),n.abrupt("break",8);case 6:return this.Vh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Dy?this.Vh.preload=t.Dy:this.Vh.preload=uE.XR,void 0!==t.zD?this.Vh.title=t.zD:fr(this.Vh),n.next=12,Fr.awrap(this.Wm(t.fg));case 12:this.OX.Wc(this,t);case 13:case"end":return n.stop()}},null,this,null,qe)},i.FX=function(t){return!1},i.HX=function(t){return qe.resolve(void 0)},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fr(this.Vh),n.next=3,Fr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n.jX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Fl))},T(n,[{key:"wy",get:function(){return dE.gC(this.Vh.buffered)}},{key:"Qg",get:function(){return this.Vh.duration}},{key:"QX",get:function(){var t=this.Qg;if(!isFinite(t))return!1;var n=this.wy;return 0!==n.C_&&t-n.XN(n.C_-1)<1/6}},{key:"Dy",get:function(){return this.Vh.preload},set:function(t){this.Vh.preload=t}},{key:"Ny",get:function(){return dE.gC(this.Vh.seekable)}},{key:"ZX",get:function(){return this.wy}},{key:"KX",get:function(){if(lr(this.Vh)&&(this.Vh.videoWidth>0||this.Vh.videoHeight>0))return this.wy}}]),n}(OD),MD=function(t){function n(n){var i;return(i=t.call(this,Pf.Rf)||this).currentTime=n,i}return E(n,t),n}(Iu),jD=function(t){function n(){return t.call(this,Pf.bf)||this}return E(n,t),n}(Iu);!function(t){t.JX="$X"}(BD||(BD={}));var FD,UD,HD=[BD.JX];!function(t){t[t.tF=0]="tF",t[t.Yf=1]="Yf",t[t.nF=2]="nF"}(FD||(FD={})),function(t){t.iF="eF"}(UD||(UD={}));var XD=function(t){function n(n){var i;return(i=t.call(this,UD.iF)||this).rF=n,i}return E(n,t),n}(Iu),zD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sF=dE.kC(),n}E(n,t);var i=n.prototype;return i.uF=function(t,n){var i=new dE([t,n]);this.sF=this.sF.iC(i),this.Qs(new XD(i))},i.oF=function(t,n){this.sF=this.sF.rC(new dE([t,n]))},i.D_=function(){this.sF=dE.kC()},i.xd=function(){this.$s()},T(n,[{key:"aF",get:function(){return this.sF}}]),n}(Su);function VD(t,n){return void 0===n&&(n=new mw({highWaterMark:1/0})),new nw(new qD(t,n),{highWaterMark:0})}var WD,qD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.uv=void 0,this.cF=void 0,this.hF=void 0,this.Rv=[],this.Dv=0,this.nU=void 0,this.fF=!1,this.vF=void 0,this.lF=function(t){return t.done?(i.dF(),void i.nU.close()):(i.Rv.push(t.value),i.Dv+=i.cF(t.value),i.fF&&i.dF(),i.wF()?i.uv.read().then(i.lF):void 0)},this.mw=function(t){i.dF(),i.nU.error(t)},this.uv=t.getReader(),this.cF=r,this.hF=u}var n=t.prototype;return n.start=function(t){this.nU=t,this.wF()&&this._F()},n.pull=function(){this.Rv.length>0?this.dF():this.fF=!0,this.wF()&&this._F()},n.cancel=function(t){return Ks(this.Rv),this.Dv=0,this.fF=!1,this.uv.cancel(t)},n.dF=function(){if(0!==this.Rv.length){var t=this.Rv;this.Rv=[],this.Dv=0,this.fF=!1,this.nU.enqueue(t)}},n.wF=function(){return!!this.fF||this.hF-this.Dv>0},n._F=function(){var t=this;if(!this.vF){var n=this.uv.read().then(this.lF).catch(this.mw);this.vF=n;var i=function(){t.vF===n&&(t.vF=void 0)};n.then(i,i)}},t}(),GD=function(){function t(){this.gF=[],this.Cu=0}var n=t.prototype;return n.JU=function(t){this.gF.push(t),this.Cu+=t.byteLength},n.mF=function(t){if(this.Cu<=t)return this.yF();for(var n=this.gF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Vo(n[e],0,s)),i+=s}return{gF:r,Cu:i}},n.kF=function(t){var n=this.mF(t);return 1===n.gF.length?n.gF[0]:Qu(n.gF,n.Cu)},n.yF=function(){return{gF:this.gF,Cu:this.Cu}},n.bF=function(t){if(this.Cu<=t)return this.pF();for(var n=this.gF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Vo(n[0],0,s)),n[0]=Vo(n[0],s),i+=s}return this.Cu-=i,{gF:r,Cu:i}},n.AF=function(t){var n=this.bF(t);return 1===n.gF.length?n.gF[0]:Qu(n.gF,n.Cu)},n.pF=function(){var t=this.yF();return this.gF=[],this.Cu=0,t},n.TF=function(){var t=1===this.gF.length?this.gF[0]:Qu(this.gF,this.Cu);return this.gF=[],this.Cu=0,t},t}();!function(t){t[t.SF=0]="SF",t[t.EF=1]="EF",t[t.IF=2]="IF"}(WD||(WD={}));var $D=function(){var t=n.prototype;function n(){this.Rv=new GD,this.me=WD.SF,this.RF=0,this.DF=0,this.NF()}return t.CF=function(t,n){},t.PF=function(){},t.BF=function(t){this.Rv.JU(t),this.OF(!1)},t.xF=function(){this.OF(!0)},t.LF=function(){return this.me!==WD.SF||0!==this.Rv.Cu},t.OF=function(t){for(;0!==this.Rv.Cu;){if(!t&&this.RF>this.Rv.Cu)return;switch(this.me){case WD.SF:this.MF(t);break;case WD.EF:this.UF(t);break;case WD.IF:this.XF(t)}}},t.NF=function(){this.me=WD.SF,this.RF=8},t.MF=function(t){var n=qo(this.Rv.kF(this.RF)),i=new Jo,e=rk.DA(n,i);if(!e.TA)return this.RF=e.CA,void(t&&this.RF>this.Rv.Cu&&this.FF(this.Rv.Cu));var r=e.NA.fs,s=e.NA.Cu;0===s&&(s=1/0),this.CF(r,s),this.HF(r)?this.zF(s):this.FF(s)},t.zF=function(t){this.me=WD.EF,this.RF=t},t.UF=function(t){var n=qo(this.Rv.AF(this.RF)),i=new Jo,e=rk.SA(n,i,!t);if(!e.TA)throw new ek(i.Pu);this.PF(),this.VF(e.EA),this.NF()},t.FF=function(t){this.me=WD.IF,this.RF=0,this.DF=t},t.XF=function(t){var n=this.Rv.bF(this.DF);this.DF-=n.Cu;for(var i=0,e=n.gF;i<e.length;i++){var r=e[i];this.WF(r)}(0===this.DF||t&&this.DF===1/0)&&(this.PF(),this.NF())},n}();function YD(t){return t instanceof nc}function QD(t){return t instanceof Jh}function ZD(t){return t instanceof Qh||t instanceof Zh}function KD(t){return t instanceof bh}function JD(t){return t instanceof Za}function tN(t){return t instanceof vc}function nN(t){return t instanceof oc}function iN(t,n){var i=Ws(t.boxes,nN);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof hc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}}var eN=function(t){function n(n){var i;return(i=t.call(this)||this).nU=void 0,i.GF=void 0,i.qF=void 0,i.YF=zr(),i.GF=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.nU=t},i.transform=function(t){this.BF(t)},i.flush=function(){this.xF()},i.HF=function(t){return t===vb.gp||t===vb.Vp||t===vb.$p},i.VF=function(t){var n=this.jF(t);this.nU.enqueue(n)},i.WF=function(t){this.nU.enqueue(t)},i.jF=function(t){var n=Go(t.Hi.Hi);switch(t.fs){case"moov":return this.QF(n);case"sidx":return this.ZF(n);case"moof":return this.KF(n)}return n},i.JF=function(t){var n=this.YF.get(t);if(void 0===n)throw new l("Expected to have found a media header timescale for track ID "+t+".");return n},i.QF=function(t){for(var n=Nc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof qh?n.boxes[i]=this.tH(e):e instanceof Gh?n.boxes[i]=this.nH(e):e instanceof Jh&&this.iH(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof zh&&this.eH(u)}return n.serialize().join()},i.tH=function(t){this.qF=t.timescale;var n=sN(vt.fromNumber(t.duration,!0),this.rH,this.GF);return 0!==n.getHighBits()?this.nH(function(t){return new Gh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.GF,t.duration=n.toInt(),t)},i.nH=function(t){return this.qF=t.timescale,t.timescale=this.GF,t.duration=sN(t.duration,this.rH,this.GF),t},i.iH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof Qh?(n=e.trackId,t.boxes[i]=this.sH(e)):e instanceof Zh?(n=e.trackId,t.boxes[i]=this.uH(e)):e instanceof bh?this.oH(e,n):e instanceof ch&&this.aH(e)}},i.sH=function(t){var n=sN(vt.fromNumber(t.duration,!0),this.rH,this.GF);return 0!==n.getHighBits()?this.uH(function(t){return new Zh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),duration:vt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.uH=function(t){return t.duration=sN(t.duration,this.rH,this.GF),t},i.oH=function(t,n){for(var i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof mh?t.boxes[i]=this.cH(e,n):e instanceof yh&&(t.boxes[i]=this.hH(e,n))}},i.cH=function(t,n){this.YF.set(n,t.timescale);var i=sN(vt.fromNumber(t.duration,!0),t.timescale,this.GF);return 0!==i.getHighBits()?this.hH(function(t){return new yh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.GF,t.duration=i.toInt(),t)},i.hH=function(t,n){return this.YF.set(n,t.timescale),t.timescale=this.GF,t.duration=sN(t.duration,t.timescale,this.GF),t},i.aH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof oh?this.fH(e):e instanceof ah&&this.vH(e)}},i.fH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=rN(e.mediaTime,this.rH,this.GF),e.segmentDuration=rN(e.segmentDuration,this.rH,this.GF)}},i.vH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=sN(e.mediaTime,this.rH,this.GF),e.segmentDuration=sN(e.segmentDuration,this.rH,this.GF)}},i.eH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Hh?this.lH(i):i instanceof jh?t.boxes[n]=this.dH(i):i instanceof Fh&&(t.boxes[n]=this.wH(i))}},i.lH=function(t){var n=this.JF(t.trackId);t.defaultSampleDuration=rN(t.defaultSampleDuration,n,this.GF)},i.dH=function(t){var n=sN(vt.fromNumber(t.fragmentDuration,!0),this.rH,this.GF);return 0!==n.getHighBits()?this.wH(function(t){return new Fh(vt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.wH=function(t){return t.fragmentDuration=sN(t.fragmentDuration,this.rH,this.GF),t},i.ZF=function(t){var n=Pc(t);return(n=n instanceof pc?this._H(n):this.gH(n)).serialize().join()},i._H=function(t){var n=t.timescale,i=sN(vt.fromNumber(t.earliestPresentationTime,!0),n,this.GF);if(0!==i.getHighBits())return this.gH(function(t){return new _c(t.referenceId,t.timescale,vt.fromNumber(t.earliestPresentationTime,!0),vt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.GF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=rN(s.subsegmentDuration,n,this.GF)}return t},i.gH=function(t){var n=t.timescale;t.timescale=this.GF,t.earliestPresentationTime=sN(t.earliestPresentationTime,n,this.GF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=rN(r.subsegmentDuration,n,this.GF)}return t},i.KF=function(t){for(var n=xc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof fc&&this.mH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof fc&&iN(c,o)}return n.serialize().join()},i.mH=function(t){for(var n,i=0;i<t.boxes.length;i++){var e=t.boxes[i];e instanceof oc?(n=this.JF(e.trackId),this.yH(e,n)):e instanceof rc?t.boxes[i]=this.kH(e,n):e instanceof sc?t.boxes[i]=this.bH(e,n):e instanceof hc&&this.pH(e,n)}},i.yH=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=rN(t.defaultSampleDuration,n,this.GF))},i.kH=function(t,n){var i=sN(vt.fromNumber(t.baseMediaDecodeTime,!0),n,this.GF);return 0!==i.getHighBits()?this.bH(function(t){return new sc(vt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.bH=function(t,n){return t.baseMediaDecodeTime=sN(t.baseMediaDecodeTime,n,this.GF),t},i.pH=function(t,n){for(var i,e,r,s=0,u=0,o=0,a=t.samples;o<a.length;o++){var h=a[o];if(void 0!==h.duration){var c=rN(u+=h.duration,n,this.GF);h.duration=c-s,s=c}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(i=h.compositionTimeOffset,e=n,r=this.GF,vt.fromInt(i,!1).multiply(r).divide(e).toNumber()))}},T(n,[{key:"rH",get:function(){if(void 0===this.qF)throw new l("Expected to have found a movie header timescale.");return this.qF}}]),n}($D);function rN(t,n,i){return vt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function sN(t,n,i){return K_.Jk(t).Eb(K_.$k(i,!0)).Nb(K_.$k(n,!0)).wb()}var uN,oN,aN,hN=1e5,cN=function(){function t(t){this.AH=void 0,this.AH=new eN(t)}return t.prototype.TH=function(t){return t.pipeThrough(new Aw(this.AH))},t}();function fN(t,n,i){var e=vo(t,n);if(e!==i)throw new v("Expected descriptor with tag "+i+", but found "+e)}function lN(t,n){fN(t,n,uN.SH);var i,e,r,s=vN(t,n),u=n.Pu+s,o=_o(t,n),a=vo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=_o(t,n)),h)&&(e=Eo(t,n,vo(t,n)));c&&(r=Eo(t,n,2));var l=function(t,n){fN(t,n,uN.EH);var i,e=vN(t,n),r=n.Pu+e,s=vo(t,n),u=vo(t,n),o=u>>2,a=0!=(2&u),h=po(t,n,3),c=ko(t,n),f=ko(t,n);if(n.Pu<r){var l=function(t,n){return t.getUint8(n.Pu)}(t,n);l===uN.IH&&(i=function(t,n){fN(t,n,uN.IH);var i=vN(t,n),e=go(t,n,i);return{RH:uN.IH,DH:e}}(t,n))}return n.xu(r),{RH:uN.EH,NH:s,CH:o,PH:a,BH:h,OH:c,xH:f,LH:i}}(t,n);return n.xu(u),{RH:uN.SH,H_:o,MH:i,hd:e,UH:f,XH:r,FH:l}}function vN(t,n){for(var i=0,e=0;e<4;e++){var r=vo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function dN(t,n){for(var i=vo(t,n),e=vo(t,n),r=vo(t,n),s=vo(t,n),u=3&vo(t,n),o=31&vo(t,n),a=[],h=0;h<o;h++){var c=_o(t,n);a.push(go(t,n,c))}for(var f=vo(t,n),l=[],v=0;v<f;v++){var d=_o(t,n);l.push(go(t,n,d))}return{HH:i,zH:e,VH:r,WH:s,GH:u,qH:a,YH:l}}function wN(t){var n=nk(hk.MA(t),vb.gp);if(n){for(var i=n.NA.Bb,e=[],r=0,s=n.JA;r<s.length;r++){for(var u=s[r],o=u.NA.fT,a=u.oT.NA.Bb,h=void 0,c=void 0,f=0,l=u.oT.yT.pT.TT.ET;f<l.length;f++){var v,d,w=gN(l[f]);if(w)h=null!=(v=w.jH)?v:h,c=null!=(d=w.QH)?d:c}e.push({fT:o,Bb:a,ZH:{jH:h,QH:c,KH:void 0}})}return{Bb:i,JA:e}}}function gN(t){var n,i;if(t.fs===vb.Np)n=function(t){return"avc1."+mN(t.zH,2)+mN(t.VH,2)+mN(t.WH,2)}(dN(qo(t.JT.Hi),new Jo));else if(t.fs===vb.Pp||t.fs===vb.Bp){var e=function(t,n){for(var i=n.Xu(),e=no(t,i,8),r=no(t,i,2),s=no(t,i,1),u=no(t,i,5),o=no(t,i,32),a=[],h=0;h<6;h++)a.push(no(t,i,8));var c=no(t,i,8);i.Bu(4);var f=no(t,i,12);i.Bu(6);var l=no(t,i,2);i.Bu(6);var v=no(t,i,2);i.Bu(5);var d=no(t,i,3);i.Bu(5);for(var w=no(t,i,3),g=no(t,i,16),m=no(t,i,2),y=no(t,i,3),p=no(t,i,1),_=no(t,i,2),b=no(t,i,8),k=[],A=0;A<b;A++){var T=no(t,i,1);i.Bu(1);for(var S=no(t,i,6),E=no(t,i,16),I=[],R=0;R<E;R++){var C=no(t,i,16),D=go(t,new Jo(i.Pu>>3),C);i.Bu(8*C),I.push({JH:C,$H:D})}k.push({tz:T,nz:S,iz:E,ez:I})}return{HH:e,rz:r,sz:s,oz:u,cz:a,fz:c,vz:f,lz:l,wz:o,_z:v,gz:d,mz:w,yz:g,kz:y,bz:p,pz:m,GH:_,Az:b,Tz:k}}(qo(t.iS.Hi),new Jo);n=function(t,n){var i=t.toString()+".";switch(n.rz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.oz.toString()+".",i+=(e=n.wz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.sz){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.fz.toString();for(var s=n.cz.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.cz[u].toString(16).toUpperCase();return i}(t.fs,e)}else{if(t.fs!==vb.Lp)return(t.fs===vb.zp||t.fs===vb.Hp)&&t.sS?gN(t.sS):void 0;i=function(t){var n=t.FH;switch(n.NH){case oN.Sz:return function(t){var n;if(null==(n=t.LH)||!n.DH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=no(t,n,5);31===i&&(i=32+no(t,n,6));var e,r=no(t,n,4);return 15===r&&(e=no(t,n,24)),{Ez:i,Iz:r,Rz:e,Dz:no(t,n,4)}}(qo(t.LH.DH),new io).Ez}(n);case oN.Nz:return"mp4a.40.2";case oN.Cz:return"mp4a.40.34"}}(lN(qo(t.qT.Hi),new Jo))}return{jH:n,QH:i,KH:void 0}}function mN(t,n){return Is(t.toString(16),n,"0")}function yN(t,n){var i=hk.MA(qo(t)),e=function(t,n){for(var i,e=0,r=t.JA;e<r.length;e++){var s,u=r[e],o=null==(s=u.SS)?void 0:s.SS;o&&function(){var t=u.NA.fT,e=Ws(n.JA,function(n){return n.fT===t}),r=ob.Jk(o,e.Bb);i&&!r.zk(i)||(i=r)}()}return i}(nk(i,vb.Vp),n),r=nk(i,vb.Zp);return{Jy:e.xk(),Pz:r.Hi}}function pN(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.fs,e.next=e.t0===FD.tF?3:e.t0===FD.Yf?4:e.t0===FD.nF?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Fr.awrap(Fw(t.Hi,n));case 6:return i=e.sent,fu(n),e.abrupt("return",{fs:FD.tF,Hi:new _(i)});case 9:throw new l("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,qe)}!function(t){t[t.SH=3]="SH",t[t.EH=4]="EH",t[t.IH=5]="IH"}(uN||(uN={})),function(t){t[t.Sz=64]="Sz",t[t.Nz=103]="Nz",t[t.Cz=107]="Cz"}(oN||(oN={})),function(t){t[t.Bz=0]="Bz",t[t.Oz=1]="Oz",t[t.Nz=2]="Nz",t[t.xz=5]="xz",t[t.Lz=34]="Lz"}(aN||(aN={}));var _N=20,bN=j.Bn,kN=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Mz=void 0,o.Uz=void 0,o.Xz=void 0,o.Fz=void 0,o.Hz=void 0,o.kL=_N,o.bL=aC,o.zz=!1,o.Vz=!1,o.Wz=void 0,o.Gz=new au,o.qz=void 0,o.Yz=!1,o.jz=void 0,o.Qz=!1,o.Zz=void 0,o.Kz=function(){o.zz=!1},o.Mz=i,o.Uz=n,o.Xz=e,o.Xz.addEventListener("updateend",o.Kz),o.Fz=r,o.Hz=s,o.Qz=AN(r.Fl,s),null!=(u=i.nh)&&u.Ke&&(o.qz=new cN(hN)),o}E(n,t);var i=n.prototype;return i.Jz=function(t,n,i){var e=this;switch(t.fs){case FD.tF:case FD.Yf:return this.$z(function(i){return e.tV(t,n,i)},i);case FD.nF:throw new l("Opaque segments are not supported on web.")}},i.nV=function(t,n){var i=this;switch(t.fs){case FD.tF:return this.$z(function(n){return i.iV(t,n)},n);case FD.Yf:throw new l("Streaming initialization segments are not supported on web.");case FD.nF:throw new l("Opaque initialization segments are not supported on web.")}},i.iV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Qz){i.next=3;break}return this.Zz=wN(qo(t.Hi)),i.abrupt("return");case 3:return i.next=5,Fr.awrap(this.eV(t,void 0,n));case 5:bN&&(this.Yz=!1,this.jz=t);case 6:case"end":return i.stop()}},null,this,null,qe)},i.tV=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(bN&&this.Yz&&this.jz)){u.next=3;break}return u.next=3,Fr.awrap(this.iV(this.jz,i));case 3:if(u.prev=3,fu(i),!this.Qz||!this.Zz){u.next=12;break}return u.next=8,Fr.awrap(pN(t,i));case 8:r=u.sent,s=yN(r.Hi,this.Zz),t={fs:FD.tF,Hi:s.Pz},n=Ur({},n,{fp:s.Jy+(null!=(e=n.fp)?e:0)});case 12:return u.next=14,Fr.awrap(this.eV(t,n,i));case 14:this.Qs(new Iu(BD.JX));case 15:return u.prev=15,t.fs===FD.Yf&&t.Hi.cancel(new hu).catch(K),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[3,,15,18]],qe)},i.eV=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:fu(i),n&&this.rV(n),s.t0=t.fs,s.next=s.t0===FD.tF?5:s.t0===FD.Yf?13:21;break;case 5:if(!this.qz){s.next=10;break}return e=this.qz.TH(Mw(t.Hi)),s.next=9,Fr.awrap(this.sV(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Fr.awrap(this.uV(t.Hi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.qz){s.next=18;break}return r=this.qz.TH(t.Hi),s.next=17,Fr.awrap(this.sV(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Fr.awrap(this.sV(t.Hi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,qe)},i.sV=function(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Uz.wy,e=VD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Fr.awrap(du(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return fu(n),o=Yu(u.value),s=!0,c.next=17,Fr.awrap(this.uV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Fr.awrap(this.oV());case 27:a=this.Uz.wy.ZN(i.KN()),h=0;case 29:if(!(h<a.C_)){c.next=35;break}return c.next=32,Fr.awrap(this.aV(a.MN(h),a.XN(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],qe)},i.cV=function(t,n){var i=this;return this.$z(function(){return i.hV(t,n)})},i.hV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Xz.appendWindowStart===t&&this.Xz.appendWindowEnd===n){i.next=6;break}return i.next=3,Fr.awrap(this.oV());case 3:this.Xz.appendWindowStart=0,this.Xz.appendWindowEnd=n,this.Xz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,qe)},i.rV=function(t){this.Xz.timestampOffset!==t.fp&&(this.Xz.timestampOffset=t.fp)},i.uV=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Xz.appendBuffer(t),this.Vz=!0,n.next=4,Fr.awrap(this.fV());case 4:case"end":return n.stop()}},null,this,null,qe)},i.vV=function(t,n,i){var e=this;return this.$z(function(i){return e.aV(t,n,i)},i)},i.aV=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),this.Xz.remove(t,n),e.next=4,Fr.awrap(this.fV());case 4:case"end":return e.stop()}},null,this,null,qe)},i.fV=function(){var t=this,n=this.Uz.wy;return new qe(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.hC(t.Uz.wy)||t.Qs(new Iu(BD.JX)),i()):e(new l(r))},c=function(){t.Xz.removeEventListener("update",u),t.Xz.removeEventListener("error",o),t.Xz.removeEventListener("abort",a),t.Xz.removeEventListener("updateend",h)};t.Xz.addEventListener("update",u),t.Xz.addEventListener("error",o),t.Xz.addEventListener("abort",a),t.Xz.addEventListener("updateend",h)})},i.lV=function(){var t=this;return this.$z(function(){return t.oV()})},i.oV=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mz.ag===HN.Vd){t.next=2;break}return t.abrupt("return");case 2:bN&&(this.Yz=!0),this.Xz.updating&&(this.zz=!0);try{this.Xz.abort()}catch(t){0,this.zz=!1}if(!this.mx){t.next=8;break}return t.next=8,Fr.awrap(this.fV().catch(K));case 8:case"end":return t.stop()}},null,this,null,qe)},i.dV=function(){return"function"==typeof this.Xz.changeType},i.HX=function(t){var n;this.wV(),this.Mz.ag!==HN._V&&(this.Fz=t,this.Hz=null!=(n=WN(t.Fl))?n:t.Fl,this.Qz=AN(t.Fl,this.Hz),this.dV()&&this.Xz.changeType(this.Hz))},i.gV=function(){this.Mz.ag!==HN.mf||this.Wz||this.mx||(this.Xz.timestampOffset=this.Xz.timestampOffset,this.Mz.mV())},i.$z=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.wV(),(i=new au).zs(this.Gz.Ws),n&&i.zs(n),e.prev=4,this.Wz=t(i.Ws),e.next=8,Fr.awrap(this.Wz);case 8:if(this.Mz.mV(),!this.mx){e.next=12;break}return e.next=12,Fr.awrap(this.fV());case 12:return e.prev=12,this.Wz=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],qe)},i.wV=function(){if(this.Wz)throw new l("Internal error")},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.Gz.Hs(),!this.Wz){t.next=6;break}return t.next=5,Fr.awrap(this.Wz.catch(K));case 5:this.Wz=void 0;case 6:this.Xz.removeEventListener("updateend",this.Kz);case 7:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t}},{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t}},{key:"mx",get:function(){return this.zz||this.Xz.updating}}]),n}(Su);function AN(t,n){return As(t,"audio/mp4")&&As(n,"audio/mpeg")}var TN=function(){function t(t,n){this.yV=void 0,this.Xz=void 0,this.kV=void 0,this.yV=n,this.Xz=t}var n=t.prototype;return n.QX=function(){return!!this.kV&&this.wy.GN().tN(this.kV)},n.bV=function(){var t=this.wy;this.kV=t.C_>0?t.XN(t.C_-1):0,this.yV.pV()},n.gV=function(){this.kV=void 0},T(t,[{key:"wy",get:function(){if(this.yV.ag===HN._V)return dE.kC();var t=dE.gC(this.Xz.buffered).ZN(new dE([0,1/0])),n=this.kV;return void 0!==n&&t.C_>0&&t.XN(t.C_-1)===n&&(t=t.iC(dE.yC(n))),t}}]),t}();function SN(t){var n=t.vh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function EN(t,n){var i=IN(t)||RN(t),e=IN(n)||RN(n);return!i&&!e||t===n}function IN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function RN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function CN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function DN(t,n,i,e,r,s,u){var o=new TN(r,t),a=new kN(o,t,r,i,s);return new NN(t,n,i,e,o,a,u)}var NN=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Mz=void 0,a.Nh=void 0,a.AV=void 0,a.uD=void 0,a.Ih=void 0,a.TV=void 0,a.Uz=void 0,a.SV=void 0,a.EV=Xr(),a.Mz=n,a.Nh=e,a.Ih=e.Fl,a.AV=r,a.uD=i,a.Uz=s,a.SV=u,a.TV=o,a.SV.Zs(BD.JX,a.js),a}E(n,t);var i=n.prototype;return i.QX=function(){return this.Uz.QX()},i.bV=function(){this.Uz.bV()},i.gV=function(){this.Uz.gV(),this.SV.gV()},i.RV=function(t,n){this.TV.uF(t,n)},i.DV=function(t,n){this.TV.oF(t,n)},i.NV=function(){return this.SV.lV()},i.Jz=function(t,n,i){return this.SV.Jz(t,n,i)},i.nV=function(t,n,i){return this.SV.nV(t,i)},i.cV=function(t,n){return this.SV.cV(t,n)},i.Gc=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.DV(t,n),e=this.wy,s.next=4,Fr.awrap(this.SV.vV(t,n,i));case 4:r=0!==e.C_&&0===this.wy.C_,(j.Mn||j.En)&&r&&this.uD.xu(this.uD.jg);case 6:case"end":return s.stop()}},null,this,null,qe)},i.FX=function(t){var n=t.Fl;if(this.Ih===n)return!0;var i=this.EV.get(n);if(void 0!==i)return i;var e=this.CV(t);return this.EV.set(n,e),e},i.CV=function(t){var n=WN(t.Fl);if(void 0===n)return!1;var i=zc(this.Ih),e=zc(n),r=SN(i),s=SN(e);if(this.SV.dV()){if(!function(t,n){return uu(t,n,EN)}(r,s))return!1}else{if(i.fs!==e.fs)return!1;if(!function(t,n){return uu(t,n,CN)}(r,s))return!1}return!0},i.HX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Fl,this.Ih!==n&&(this.EV.clear(),this.SV.HX(t),this.Ih=n),this.Nh=t,this.Mz.PV();case 4:case"end":return i.stop()}},null,this,null,qe)},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.EV.clear(),this.$s(),this.TV.xd(),t.prev=3,this.SV.tu(BD.JX,this.js),t.next=7,Fr.awrap(this.SV.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],qe)},T(n,[{key:"wy",get:function(){return this.Uz.wy}},{key:"nh",get:function(){return this.Nh}},{key:"Fl",get:function(){return this.Ih}},{key:"BV",get:function(){return this.AV}},{key:"OV",get:function(){return this.TV.aF}},{key:"vL",get:function(){return this.SV.vL},set:function(t){this.SV.vL=t}},{key:"_L",get:function(){return this.SV._L},set:function(t){this.SV._L=t}},{key:"mx",get:function(){return this.SV.mx}}]),n}(Su),PN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.xV=void 0,this.MN=t,this.XN=n,this.LV=i,this.MV=e,this.xV=sR()}return t.prototype.UV=function(){var t=this.MN,n=this.XN;if(this.LV||this.MV){var i=.001*(sR()-this.xV);this.LV&&(t+=i),this.MV&&(n+=i)}return t>=n?dE.kC():new dE([t,n])},t}(),xN=100,BN=1e3,ON=1e4,LN=.01,MN=1,jN=[Pf.If,Pf.Ef,Pf.Bf,Pf.Pf,Pf.mf,Pf.Df,wp.w_,xy.K_],FN=function(){function t(t,n){var e=this;this.PE=Ky.Mg,this.XV=!1,this.FV=[],this.HV=void 0,this.zV=0,this.VV=0,this.WV=0,this.GV=0,this.qV=0,this.YV=BN,this.jV=function(t){var n=e.uD.jg;t.rF.tN(n)&&e.QV(n)},this.ZV=nt(function(){e.KV(wp.w_)},xN),this.JV=nt(function(){e.KV(Pf.Rf)},xN),this.$V=function(){e.tW()?e.nW():e.iW()},this.eW=function(){var t=e.zV,n=e.WV,r=e.uD.jg,s=i.ir(),u=t!==r;if(u||!e.tW())return e.zV=r,e.WV=s,void(u&&(e.qV=0,e.YV=BN));if(n>0&&s>n+e.YV){var o=e.Uz.wy;if(o.C_>1){var a=e.aF.GN().rC(o),h=a.lC(r);if(-1!==h)if(a.MN(h)-r<MN){var c=a.XN(h);return void e.uD.xu(c)}}var f=r+e.qV*LN;o.tN(f)||(f=e.rW(r,o)),e.zV=f,e.WV=s,e.qV++,e.YV=g.min(2*e.YV,ON),e.uD.xu(f)}},this.Uz=t,this.uD=n,this.uD.Zs(wp.w_,this.ZV),this.uD.Zs(Pf.Rf,this.JV),this.uD.Zs(jN,this.$V)}var n=t.prototype;return n.sW=function(t){this.FV.push(t),t.Zs(UD.iF,this.jV)},n.xd=function(){var t=this;this.iW(),this.PE=Ky.Mg,this.uD.tu(wp.w_,this.ZV),this.uD.tu(Pf.Rf,this.JV),this.uD.tu(jN,this.$V),this.FV.forEach(function(n){return n.tu(UD.iF,t.jV)}),void 0!==this.HV&&(i.jn(this.HV),this.HV=void 0),this.XV=!0},n.KV=function(t){if(!this.XV){var n=this.uD.ag;if(n<=Ky.Xg){var i=this.uD.jg,e=this.Uz.wy,r=e.sC(i),s=e.XN(r);-1!==r&&(t===wp.w_&&n<this.PE||t===Pf.Rf&&n===this.PE)&&s<i+.5&&(i=s),this.QV(i)}t===wp.w_&&(this.PE=n)}},n.QV=function(t){var n=this;if(this.uD.Zg)return!1;var e=this.aF.GN().rC(this.Uz.wy),r=e.sC(t);if(-1!==r&&!(g.abs(e.MN(r)-e.XN(r))<=.001)){if(i.Hw){if(void 0!==this.HV)return!1;this.VV=this.uD.jg,this.HV=i.Qn(function(){n.VV===n.uD.jg&&n.uD.xu(e.XN(r)),n.HV=void 0},1500)}else this.uD.xu(e.XN(r));return!0}return!1},n.nW=function(){0===this.GV&&(this.GV=i.Ar(this.eW,250))},n.iW=function(){0!==this.GV&&(i.Tr(this.GV),this.GV=0),this.uD.nm||(this.WV=0)},n.tW=function(){return!this.uD.$g&&!this.uD.nm&&0!==this.uD.tm&&!this.uD.Zg&&!this.uD.mu&&this.uD.ag>=Ky.Fg},n.rW=function(t,n){var i=n.sC(t);return i>-1?n.XN(i):t},T(t,[{key:"aF",get:function(){return this.FV.reduce(function(t,n){return t.iC(n.aF)},dE.kC())}}]),t}();function UN(t){var n=[];if(t.uW&&n.push(t.uW.wy),t.oW&&n.push(t.oW.wy),0===n.length)return dE.kC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.C_>0&&(i=g.max(i,r.XN(r.C_-1)))}for(var s=t.QX,u=new dE([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.C_>0&&(a=a.iC(new dE([a.XN(a.C_-1),i],[!0,!0]))),u=u.ZN(a)}return u}var HN,XN=j.In||j.Rn;!function(t){t._V="closed",t.Vd="open",t.mf="ended"}(HN||(HN={}));var zN=function(){function t(){}return t.prototype.aW=function(){return new MediaSource},t}(),VN=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new zN),(u=t.call(this,n,i,e,r)||this).cW=void 0,u.hW=void 0,u.fW=void 0,u.vW=new PN(0,1/0),u.oD=void 0,u.lW=void 0,u.dW=void 0,u.wW=!1,u._W=function(){u.gW()},u.mW=function(){u.uD.mW()},u.cW=s,u.oD=u.cW.aW(),u.uD.Zs(Pf.Bf,u._W),u.dW=new FN(Jt(u),u.uD),u}E(n,t);var i=n.prototype;return i.yW=function(t){if(p(t)||t<0)throw new l("Invalid duration");this.kW()?this.bW(t):this.lW=t},i.bW=function(t){var n=t===1/0,i=n?Mt:t;if(n&&this.oD.setLiveSeekableRange){var e=g.pow(2,39);this.oD.setLiveSeekableRange(0,e)}this.oD.duration=i,this.lW=void 0},i.pW=function(t,n,i,e){this.vW=new PN(t,n,!!i,!!e)},i.SL=function(){var t,n,i,e,r,s,u,o,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Nh,n=Ws(t.AW,function(t){return As(t.Fl,"audio")}),i=Ws(t.AW,function(t){return As(t.Fl,"video")}),f.next=5,Fr.awrap(this.TW());case 5:n&&(r=new zD,this.dW.sW(r),s=null!=(e=WN(n.Fl))?e:n.Fl,u=this.oD.addSourceBuffer(s),this.hW=DN(this,this.uD,n,o_.Sd,u,s,r),this.hW.Zs(BD.JX,this.mW)),i&&(a=new zD,this.dW.sW(a),h=null!=(o=WN(i.Fl))?o:i.Fl,c=this.oD.addSourceBuffer(h),this.fW=DN(this,this.uD,i,o_.Ed,c,h,a),this.fW.Zs(BD.JX,this.mW)),this.OX.Wc(this,t);case 8:case"end":return f.stop()}},null,this,null,qe)},i.TW=function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.oD),i.next=3,Fr.awrap(t.prototype.GX.call(this,n));case 3:if(this.ag===HN.Vd){i.next=6;break}return i.next=6,Fr.awrap(Ym(this.oD,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,qe)},i.kW=function(){if(this.ag!==HN.Vd)return!1;var t=this.hW&&this.hW.mx,n=this.fW&&this.fW.mx;return!(t||n)},i.bV=function(){this.wW=!0,this.hW&&this.hW.bV(),this.fW&&this.fW.bV(),this.wW=!1,this.gW()},i.gV=function(){this.hW&&this.hW.gV(),this.fW&&this.fW.gV()},i.FX=function(n){var i=Ws(n.AW,function(t){return As(t.Fl,"audio")}),e=Ws(n.AW,function(t){return As(t.Fl,"video")});if(this.hW){if(!i)return!1;if(!this.hW.FX(i))return!1}else if(i)return!1;if(this.fW){if(!e)return!1;if(!this.fW.FX(e))return!1}else if(e)return!1;return!!t.prototype.FX.call(this,n)},i.HX=function(n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Ws(n.AW,function(t){return As(t.Fl,"audio")}),e=Ws(n.AW,function(t){return As(t.Fl,"video")}),r=[],this.hW&&r.push(this.hW.HX(i)),this.fW&&r.push(this.fW.HX(e)),s.next=7,Fr.awrap(qe.all(r));case 7:return s.next=9,Fr.awrap(t.prototype.HX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,qe)},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.hW){n.next=4;break}return n.next=3,Fr.awrap(this.hW.xs());case 3:this.hW=void 0;case 4:if(!this.fW){n.next=8;break}return n.next=7,Fr.awrap(this.fW.xs());case 7:this.fW=void 0;case 8:return this.Vh.src&&URL.revokeObjectURL(this.Vh.src),this.uD.tu(Pf.Bf,this._W),this.dW.xd(),n.next=13,Fr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,qe)},i.PV=function(){var t=this,n=this.Nh,i=n.AW.map(function(n){return As(n.Fl,"audio")&&t.hW?t.hW.nh:As(n.Fl,"video")&&t.fW?t.fW.nh:n});this.Nh=Ur({},n,{AW:i})},i.pV=function(){this.wW||this.gW()},i.gW=function(){this.SW&&this.kW()&&(this.oD.endOfStream(),this.lW=void 0,this.Qs(new Iu(ED.JP)),this.uD.mW())},i.mV=function(){this.kW()&&(this.QX?this.gW():void 0!==this.lW&&this.bW(this.lW))},i.QV=function(t){return this.dW.QV(t)},n.jX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.AW;n<i.length;n++){if(void 0===WN(i[n].Fl))return!1}return!0},T(n,[{key:"uW",get:function(){return this.hW}},{key:"oW",get:function(){return this.fW}},{key:"Qg",get:function(){if(this.lW)return this.lW;var t=this.oD.duration;return t===Mt?1/0:t}},{key:"wy",get:function(){return XN?UN(this):(t=this,n=dE.gC(this.Vh.buffered),(i=n).C_>0&&t.QX&&(i=i.iC(dE.yC(i.XN(i.C_-1)))),i);var t,n,i}},{key:"ZX",get:function(){var t;return null==(t=this.hW)?void 0:t.wy}},{key:"KX",get:function(){var t;return null==(t=this.fW)?void 0:t.wy}},{key:"Ny",get:function(){return this.vW.UV().ZN(new dE([0,this.Qg],[!0,!0]))}},{key:"QX",get:function(){return(!this.hW||this.hW.QX())&&(!this.fW||this.fW.QX())}},{key:"ag",get:function(){return this.oD.readyState}},{key:"SW",get:function(){if(!this.QX)return!1;var t=this.wy;return 0!==t.C_&&t.MN(t.C_-1)<=this.uD.jg}}]),n}(OD);function WN(t){var n=zc(t),i="audio/mp4"===n.fs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(SN(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!j.Bn))return t;if(i){var e=Ws(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var qN=[Pf.Hf,Pf.Df,Pf.Bf,Pf.If,Pf.Ef],GN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).SC=n,c.ua=i,c.EW=e,c.IC=r,c.DC=s,c.EC=u,c.RC=o,c.Da=a,c.IW=h,c}E(n,t);var i=n.prototype;return i.Hm=function(){this.IC||(this.IC=!0,this.Qs(new mp(this.jg)))},i.Fm=function(){this.IC&&(this.IC=!1,this.Qs(new yp(this.jg)))},i.xs=function(){this.$s()},T(n,[{key:"jg",get:function(){return this.SC},set:function(t){this.jg!==t&&(this.SC=t,this.DC=!0,this.Qs(new Rp(this.jg)))}},{key:"Qg",get:function(){return this.ua}},{key:"Zg",get:function(){return this.EW}},{key:"$g",get:function(){return this.IC}},{key:"ag",get:function(){return this.IW}},{key:"nm",get:function(){return this.DC}},{key:"Jg",get:function(){return this.EC},set:function(t){this.Jg!==t&&(this.EC=t,this.Qs(new Dp(this.jg,this.cm)))}},{key:"tm",get:function(){return this.RC},set:function(t){this.tm!==t&&(this.RC=t,this.Qs(new Tp(this.jg,this.tm)))}},{key:"cm",get:function(){return this.Da},set:function(t){this.cm!==t&&(this.Da=t,this.Qs(new Dp(this.jg,this.cm)))}}]),n}(Su);var $N=function(t){function n(n){var i;return(i=t.call(this)||this).uD=void 0,i.PE=Ky.Mg,i.RW=function(){i.DW()},i.uD=n,i}E(n,t);var i=n.prototype;return i.NW=function(t){this.PE!==t&&(this.PE=t,this.Qs(new xp(this.uD.jg,t)))},i.DW=function(){this.NW(this.eM())},i.D_=function(){this.NW(Ky.Mg)},i.xs=function(){this.$s()},T(n,[{key:"ag",get:function(){return this.eM()}}]),n}(Su),YN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],QN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<YN.length;e++){var r=YN[e];i.uD.xD.addEventListener(r,i.RW)}return i}E(n,t);var i=n.prototype;return i.eM=function(){var t=this.uD.xD.readyState;return t>Ky.Xg&&this.uD.PW?Ky.Xg:(this.uD.xD.seeking&&t>Ky.Ug&&(t=Ky.Ug),t)},i.xs=function(){for(var n=0;n<YN.length;n++){var i=YN[n];this.uD.xD.removeEventListener(i,this.RW)}t.prototype.xs.call(this)},n}($N),ZN=function(t){function n(n){var i;(i=t.call(this,n)||this).uD.Zs(Pf.Bf,i.RW);for(var e=0;e<YN.length;e++){var r=YN[e];i.uD.xD.addEventListener(r,i.RW)}return i}E(n,t);var i=n.prototype;return i.eM=function(){if(this.uD.xD.readyState===Ky.Mg)return Ky.Mg;var t=this.BW(),n=t?t.XN-t.MN:0;if(!t)return Ky.Ug;var i=this.uD.tm;return this.OW()||n>=3*i?Ky.Hg:n>=3?Ky.Fg:Ky.Xg},i.BW=function(){var t=this.uD.jg,n=this.uD.wy.nC(.04),i=n.sC(t);if(!(i<0))return{MN:t,XN:n.XN(i)}},i.OW=function(){if(this.uD.Zg)return!0;var t=this.uD.Qg,n=this.BW();return!!n&&t-n.XN<=1/6},i.xs=function(){this.uD.tu(Pf.Bf,this.RW);for(var n=0;n<YN.length;n++){var i=YN[n];this.uD.xD.removeEventListener(i,this.RW)}t.prototype.xs.call(this)},n}($N),KN=[wp.w_,Pf.If,Pf.Ef,Pf.Bf,Pf.Pf,Pf.mf,xy.K_],JN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vh=void 0,i.xW=!1,i.GE=function(){i.xW=!0,i.qc()},i.Vh=n.xD,i.Vh.addEventListener(wp.Yg,i.GE),i}E(n,t);var i=n.prototype;return i.LW=function(){return this.xW&&t.prototype.LW.call(this)},i.qc=function(){this.xW&&(this.Vh.paused||this.Vh.ended||this.Vh.error)&&(this.xW=!1),t.prototype.qc.call(this)},i.D_=function(){t.prototype.D_.call(this),this.xW=!1},i.xs=function(){this.Vh.removeEventListener(wp.Yg,this.GE),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).ME=void 0,i.MW=!1,i.yx=function(){i.qc()},i.ME=n,i.ME.Zs(KN,i.yx),i}E(n,t);var i=n.prototype;return i.UW=function(){return this.ME.ag<Ky.Fg},i.LW=function(){return!this.ME.nm&&!(this.ME.$g||this.ME.Zg||this.ME.mu||this.UW())},i.qc=function(){var t=this.MW;this.MW=this.LW(),!t&&this.MW&&this.Qs(new bA(this.ME.jg))},i.D_=function(){this.MW=!1},i.xs=function(){this.$s(),this.ME.tu(KN,this.yx)},n}(Su)),tP=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).mu=void 0,i.mu=n,i}return E(n,t),n}(Iu);function nP(t,n){return t.Jy<=n&&t.$y>n}function iP(t,n){return function(t,n){return zs(t.Jy,n.Jy,F_)}(t,n)||function(t,n){return zs(t.$y,n.$y,F_)}(t,n)}function eP(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,iP,!0);if(i<0)return i;for(;i<t.length&&iP(n,t[i])===Os.Is;i++)if(t[i].Tk(n))return i;return-(i+1)}function rP(t){var n=t.i_;if(!n)return-1;if(t instanceof H_)return n.XW(t);var i=n.cg;if(!i)return-1;var e=eP(i.N_,t);return e>=0?e:-1}function sP(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{FW:o,HW:a}}(t,n,iP);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var uP=function(){function t(t){this.zW=void 0,this.$w=void 0,this.zW=t}var n=t.prototype;return n.n_=function(){return function(t){for(var n=[],i=0;i<t.C_;i++)n[i]=t.Iu(i).t_;return n.item=function(n){var i=0|n,e=t.Iu(i);return e&&e.t_||void 0},w.defineProperty(n,"constructor",{value:O_}),n}(this)},n.xy=function(t){for(var n=this.zW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Tk(e))return!0}return!1},n.Iu=function(t){return this.zW[t]},T(t,[{key:"N_",get:function(){return this.zW}},{key:"C_",get:function(){return this.zW.length}},{key:"t_",get:function(){if(this.$w){var t=this.zW;this.$w.length=t.length;for(var n=0;n<t.length;n++)this.$w[n]=t[n].t_}else this.$w=this.n_();return this.$w}}]),t}(),oP=function(t){function n(n,i){var e;return(e=t.call(this,ny.w_)||this).i_=n,e.ag=i,e}return E(n,t),n.prototype.n_=function(){return new aP(this.i_.t_,Uy(this.ag))},n}(iy),aP=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(ey),hP=function(t){function n(n){var i;return(i=t.call(this,ny.g_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new cP(this.i_.t_)},n}(iy),cP=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(ey),fP=function(t){function n(n){var i;return(i=t.call(this,ny.e_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new lP(this.Ky.t_)},n}(iy),lP=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(ey),vP=function(t){function n(n){var i;return(i=t.call(this,ny.s_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new dP(this.Ky.t_)},n}(iy),dP=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(ey),wP=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).$w=void 0,h.Cc=void 0,h.Uy=v_(),h.VW=!1,h.WW=void 0,h.GW=void 0,h.My=void 0,h.oa=void 0,h.QC=Py.j_,h.IW=k_.NONE,h.qW=void 0,h.Vi=void 0,h.YW=void 0,h.zW=[],h.jW=[],h.QW=void 0,h.ZW=void 0,h.KW=0,h.JW=0,h.Cc=i||"",h.WW=a||"",h.GW=n,h.oa=r||"",h.VW=Boolean(s),h.YW=Boolean(o),h.Vi=u||A_.DEFAULT,h.My=e||"",h.QW=new uP(h.zW),h.ZW=new uP(h.jW),h}E(n,t);var i=n.prototype;return i.$W=function(t){return Ws(this.QW.N_,function(n){return n.H_===t})},i.n_=function(){return My(this)},i.hP=function(t){var n=Oy(t);n!==this.eg&&(this.QC=n,n===Py.j_&&(this.jW.forEach(function(t){t.Sk=!1}),Ks(this.jW),this.JW=0),this.Qs(new hy(this)))},i.IE=function(t){if(t&&!t.i_){var n=eP(this.cg.N_,t);if(!(n>=0)){t.i_=this;var i=-(n+1);this.zW.splice(i,0,t),this.tG(i),t.Ak=i,i<this.JW&&(this.JW=i),this.Qs(new fP(t))}}},i.dE=function(t){if(t&&t.i_===this){var n=this.XW(t);if(!(n<0)){t.Sk=!1;var i=this.jW,e=eP(i,t);e>=0&&Ys(i,e),Ys(this.zW,n),this.tG(n),t.Ak=-1,this.JW>n&&--this.JW,this.Qs(new vP(t))}}},i.nG=function(t,n){var i=this.jW,e=this.zW,r=this.JW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){nP(i[u],t)||(s=!0,Ys(i,u))}for(;r<e.length&&e[r].Jy<=t;){var o=e[r];if(0===t)break;nP(o,t)&&!Qs(i,o)&&(s=!0,i.push(o)),r++}s&&js(i,iP),this.JW=r},i.XW=function(t){return(-1===t.Ak||t.Ak>=this.KW)&&this.iG(),t.Ak},i.iG=function(){for(var t=this.zW,n=this.KW;n<t.length;n++)t[n].Ak=n;this.KW=t.length},i.tG=function(t){t<this.KW&&(this.KW=t)},i.rg=function(t){this.og||(this.eg=t)},i.xd=function(){this.$s();for(var t=this.zW.slice(),n=0;n<t.length;n++){t[n].xd()}Ks(this.zW),Ks(this.jW)},T(n,[{key:"hg",get:function(){return this.ZW}},{key:"cg",get:function(){return this.QW}},{key:"DE",get:function(){return this.VW},set:function(t){this.VW=t}},{key:"og",get:function(){return this.YW}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"z_",get:function(){return this.Uy}},{key:"J_",get:function(){return this.WW},set:function(t){this.WW=t}},{key:"V_",get:function(){return this.GW}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new c_(this)))}},{key:"G_",get:function(){return this.oa}},{key:"eg",get:function(){return this.QC},set:function(t){this.hP(t)}},{key:"ag",get:function(){return this.IW},set:function(t){this.IW!==t&&(this.IW=t,this.Qs(new oP(this,this.IW)))}},{key:"fg",get:function(){return this.qW},set:function(t){this.qW=t}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new hP(this)))}}]),n}(Su),gP=function(t){function n(n,i){var e;return(e=t.call(this,I_.Yy,n)||this).Pb=i,e}return E(n,t),n.prototype.n_=function(){return new mP(this.Ky.t_)},n}(P_),mP=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(x_),yP=function(t){function n(n,i){var e;return(e=t.call(this,I_.Qy,n)||this).Pb=i,e}return E(n,t),n.prototype.n_=function(){return new pP(this.Ky.t_)},n}(P_),pP=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(x_),_P=function(t){function n(n){var i;return(i=t.call(this,ny.o_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new bP(this.Ky.t_)},n}(iy),bP=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(ey),kP=function(t){function n(n){var i;return(i=t.call(this,ny.c_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new AP(this.Ky.t_)},n}(iy),AP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(ey),TP=function(t){function n(n){var i;return(i=t.call(this)||this).eG=void 0,i.bk=void 0,i.Uy=void 0,i.gk=void 0,i.$w=void 0,i.yk=!1,i.rG=function(){i.Sk=!0},i.sG=function(){i.Sk=!1},i.Uy=y_(),i.eG=n,i.eG.addEventListener("enter",i.rG),i.eG.addEventListener("exit",i.sG),i}E(n,t);var i=n.prototype;return i.n_=function(){return B_(this)},i.Tk=function(t){return this===t||yy(this,t)&&U_(this,t)},i.xd=function(){this.$s(),this.eG.removeEventListener("enter",this.rG),this.eG.removeEventListener("exit",this.sG)},T(n,[{key:"z_",get:function(){return this.Uy}},{key:"Jy",get:function(){return this.eG.startTime},set:function(t){this.eG.startTime=t}},{key:"$y",get:function(){return this.eG.endTime},set:function(t){this.eG.endTime=t}},{key:"nk",get:function(){return this.bk},set:function(t){this.bk=t}},{key:"Ek",get:function(){return!!this.eG.pauseOnExit},set:function(t){this.eG.pauseOnExit=!!t}},{key:"i_",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"H_",get:function(){return this.eG.id||""}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Sk",get:function(){return this.yk},set:function(t){this.Sk!==t&&(this.yk=t,t?(this.Qs(new gP(this,this.Jy)),this.gk&&this.gk.Qs(new _P(this))):(this.Qs(new yP(this,this.$y)),this.gk&&this.gk.Qs(new kP(this))))}}]),n}(Xy),SP=function(t){function n(n){var i;return(i=t.call(this,ny.f_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new EP(this.i_.t_)},n}(iy),EP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(ey);function IP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new RP(t),t.THEOplayerVTTRegion=n),n}}var RP=function(){function t(t){this.uG=void 0,this.$w=void 0,this.uG=t}return T(t,[{key:"oG",get:function(){return this.uG}},{key:"H_",get:function(){return this.uG.id||""}},{key:"Bk",get:function(){return+this.uG.width||0},set:function(t){this.uG.width=t||0}},{key:"Ik",get:function(){return+this.uG.lines||0},set:function(t){this.uG.lines=t||0}},{key:"Rk",get:function(){return+this.uG.regionAnchorX||0},set:function(t){this.uG.regionAnchorX=t||0}},{key:"Dk",get:function(){return+this.uG.regionAnchorY||0},set:function(t){this.uG.regionAnchorY=t||0}},{key:"Ck",get:function(){return+this.uG.viewportAnchorX||0},set:function(t){this.uG.viewportAnchorX=t||0}},{key:"Pk",get:function(){return+this.uG.viewportAnchorY||0},set:function(t){this.uG.viewportAnchorY=t||0}},{key:"Nk",get:function(){return this.uG.scroll||""}},{key:"t_",get:function(){return this.$w||(this.$w=$_(this)),this.$w}}]),t}();var CP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"nk",get:function(){return this.eG.text},set:function(t){this.eG.text=t}},{key:"dk",get:function(){return this.eG.vertical||""},set:function(t){this.eG.vertical=t||""}},{key:"lk",get:function(){return this.eG.snapToLines},set:function(t){this.eG.snapToLines=t}},{key:"rk",get:function(){return this.eG.line},set:function(t){this.eG.line=t}},{key:"Cu",get:function(){return+this.eG.size},set:function(t){this.eG.size=Ft(t,0,100)}}]),n}(TP),DP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&X_(this,n)},T(n,[{key:"vk",get:function(){return IP(this.eG.region)}},{key:"ck",get:function(){return this.eG.lineAlign||"start"},set:function(t){this.eG.lineAlign=t||"start"}},{key:"hk",get:function(){return this.eG.position},set:function(t){this.eG.position=t}},{key:"fk",get:function(){return this.eG.positionAlign||"auto"},set:function(t){this.eG.positionAlign=t||"auto"}},{key:"ek",get:function(){return this.eG.align||"center"},set:function(t){this.eG.align=t||"center"}},{key:"t_",get:function(){return this.$w||(this.$w=L_(this)),this.$w}}]),n}(CP),NP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&X_(this,n)},T(n,[{key:"vk",get:function(){return IP(this.oG)}},{key:"oG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.eG.track,this.eG.regionId)}},{key:"ck",get:function(){return"middle"===(t=this.eG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.eG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"hk",get:function(){return this.eG.position},set:function(t){var n,i;this.eG.position=(n=t,i=this.ek,N_(n,i))}},{key:"fk",get:function(){return t=this.eG.positionAlign||"middle",C_[t];var t},set:function(t){var n,i;this.eG.positionAlign=(n=t||"center",i=this.ek,R_[D_(n,i)])}},{key:"ek",get:function(){return"middle"===(t=this.eG.align||"middle")?"center":t;var t},set:function(t){var n;this.eG.align="center"===(n=t||"center")?"middle":n}},{key:"t_",get:function(){return this.$w||(this.$w=L_(this)),this.$w}}]),n}(CP);function PP(t,n){return t.nk===n.nk}function xP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Jy<t.Jy)BP(n,i,t.Jy);else{var e=n[0];if(e.Jy>t.Jy)t.$y=e.Jy;else{var r=eP(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Jy<t.Jy&&BP(n,u,t.Jy);if(s<n.length){var o=n[s];t.$y=o.Jy}}}}}}function BP(t,n,i){for(var e=t[n].Jy,r=n;r>=0&&t[r].Jy===e;r--)t[r].$y=i}function OP(t){return B_(t)}var LP,MP,jP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).aG=void 0,e.aG=i,e}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&PP(this,n)},T(n,[{key:"nk",get:function(){return this.aG}},{key:"t_",get:function(){return this.$w||(this.$w=OP(this)),this.$w}}]),n}(TP);function FP(t){switch(t){case LP.ISO_8859_1:case LP.UTF16_BOM:case LP.UTF16:case LP.UTF8:return!0}return!1}function UP(t){switch(t){case LP.ISO_8859_1:return Ro;case LP.UTF16_BOM:return No;case LP.UTF16:return Po;case LP.UTF8:return Uo}}function HP(t,n){var i=n.Pu,e=t.byteLength,r=Go(t);return n.Bu(e-i),Qo(r,i,e).buffer}function XP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function zP(t,n,i){var e=vo(t,n);if(FP(e)){var r=UP(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function VP(t,n,i){var e=vo(t,n);if(FP(e)){var r=UP(e);return{id:i,mimeType:Ro(t,n),fileName:r(t,n),description:r(t,n),data:HP(t,n)}}}function WP(t,n,i){var e=vo(t,n);if(FP(e)){for(var r=UP(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function qP(t,n,i){var e=vo(t,n);if(FP(e)){for(var r=UP(e),s=Eo(t,n,3),u=vo(t,n),o=vo(t,n),a=r(t,n),h=!1,c=[];n.Pu<t.byteLength;){var f=void 0;if(e===LP.UTF16_BOM){var l=Do(t,n);void 0===l?l=h:h=l,f=Po(t,n,l)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;c.push({text:f,timestamp:ko(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function GP(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),identifier:HP(t,n)}}function $P(t,n,i){var e=vo(t,n);if(FP(e)){var r=UP(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function YP(t,n,i){var e=vo(t,n);if(FP(e))return{id:i,text:UP(e)(t,n)}}function QP(t,n,i){return{id:i,url:Ro(t,n)}}function ZP(t,n,i){var e=vo(t,n);if(FP(e)){var r=UP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function KP(t,n,i){var e=vo(t,n);if(FP(e))return{id:i,description:UP(e)(t,n),url:Ro(t,n)}}function JP(t,n,i){switch(i){case"COM":return zP(t,n,i);case"GEO":return VP(t,n,i);case"IPL":return WP(t,n,i);case"PIC":return function(t,n,i){var e=vo(t,n);if(FP(e)){var r,s,u=UP(e),o=Eo(t,n,3),a=vo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=Ro(t,n)):(r="image/"+o.toLowerCase(),s=HP(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return qP(t,n,i);case"TXX":return ZP(t,n,i);case"UFI":return GP(t,n,i);case"ULT":return $P(t,n,i);case"WXX":return KP(t,n,i);default:if("T"===i.charAt(0))return YP(t,n,i);if("W"===i.charAt(0))return QP(t,n,i)}}function tx(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=vo(t,n);if(FP(e)){var r=UP(e),s=Ro(t,n);return{id:i,mimeType:s,pictureType:vo(t,n),description:r(t,n),data:"--\x3e"===s?Ro(t,n):HP(t,n)}}}(t,n,i);case"COMM":return zP(t,n,i);case"COMR":return function(t,n,i){var e=vo(t,n);if(FP(e)){var r,s,u=UP(e),o=Ro(t,n),a=Eo(t,n,8),h=Ro(t,n),c=vo(t,n),f=u(t,n),l=u(t,n);return n.Pu<t.byteLength&&(r=Ro(t,n)||"image/",s=HP(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:l,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return VP(t,n,i);case"IPLS":return WP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),data:HP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:vo(t,n),position:ko(t,n)}}(t,n,i);case"SYLT":return qP(t,n,i);case"TXXX":return ZP(t,n,i);case"UFID":return GP(t,n,i);case"USER":return function(t,n,i){var e=vo(t,n);if(FP(e)){var r=UP(e);return{id:i,language:Eo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return $P(t,n,i);case"WXXX":return KP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return YP(t,n,i);default:var e=i.charAt(0);if("T"===e)return YP(t,n,i);if("W"===e)return QP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(LP||(LP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(MP||(MP={}));var nx=10;function ix(t,n){return(127&vo(t,n))<<21|(127&vo(t,n))<<14|(127&vo(t,n))<<7|127&vo(t,n)}function ex(t,n){switch(t){case MP.V24:return{cG:lo(n,0),hG:lo(n,1),fG:lo(n,2),vG:lo(n,3)};case MP.V23:return{cG:lo(n,0),hG:lo(n,1),fG:lo(n,2)};case MP.V22:return{cG:lo(n,0),lG:lo(n,1)}}}function rx(t,n,i){switch(i.xA){case MP.V23:i.LA.hG&&function(t,n){var i=n.Pu,e=ko(t,n)+4,r=32768&_o(t,n);n.xu(i+e),r&&ko(t,n)}(t,n);break;case MP.V24:i.LA.hG&&function(t,n){var i=n.Pu,e=ix(t,n);n.xu(i+e)}(t,n)}}function sx(t,n){if(t.byteLength-n.Pu<nx)return null;if(73!==vo(t,n)||68!==vo(t,n)||51!==vo(t,n))return null;var i=vo(t,n),e=vo(t,n);if(!function(t){switch(t){case MP.V22:case MP.V23:case MP.V24:return!0}return!1}(i))return null;var r=vo(t,n),s=ix(t,n);return{xA:i,dG:e,LA:ex(i,r),wG:s}}function ux(t,n,i){switch(i.xA){case MP.V22:return function(t,n,i){return{H_:Eo(t,n,3),Cu:po(t,n,3)}}(t,n);case MP.V23:return function(t,n,i){var e=Eo(t,n,4),r=ko(t,n);vo(t,n);var s=vo(t,n);return{H_:e,Cu:r,LA:{lG:lo(s,0),_G:lo(s,1),groupingIdentity:lo(s,2)}}}(t,n);case MP.V24:return function(t,n,i){var e=Eo(t,n,4),r=ix(t,n);vo(t,n);var s=vo(t,n);return{H_:e,Cu:r,LA:{groupingIdentity:lo(s,1),lG:lo(s,4),_G:lo(s,5),cG:lo(s,6),gG:lo(s,7)}}}(t,n)}}function ox(t){for(var n=new _(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function ax(t,n){var i=n||new Jo,e=sx(t,i);return e?{NA:e,mG:function(t,n,i){var e=[],r=n.Pu,s=Wo(t,r,r+i.wG),u=new Jo;switch(n.Bu(i.wG),i.xA){case MP.V22:case MP.V23:i.LA.cG&&(s=ox(s))}rx(t,n,i);for(;u.Pu<s.byteLength;)e.push(hx(s,u,i));return e}(t,i,e)}:null}function hx(t,n,i){var e,r,s=ux(t,n,i),u=n.Pu,o=Wo(t,u,u+s.Cu);switch(n.Bu(s.Cu),i.xA){case MP.V22:var a=s;e=JP(r=o,new Jo,a.H_);break;case MP.V23:var h=s,c=new Jo;!function(t,n,i){var e,r,s,u=i.LA;u.lG&&(e=ko(t,n)),u._G&&(r=vo(t,n)),u.groupingIdentity&&(s=vo(t,n))}(o,c,h),e=tx(r=Wo(o,c.Pu,o.byteLength),new Jo,h.H_);break;case MP.V24:var f=s,l=new Jo;f.LA.cG&&(o=ox(o)),function(t,n,i){var e,r,s,u,o=i.LA;o.groupingIdentity&&(e=vo(t,n)),o.lG&&(r=ko(t,n)),o._G&&(s=vo(t,n)),o.gG&&(u=ix(t,n))}(o,l,f),e=tx(r=Wo(o,l.Pu,o.byteLength),new Jo,f.H_)}if(!e){var v=Zo(Go(r));e=XP(s.H_,v.buffer)}return e}function cx(t){return function(t,n,i){return YP(t,n,i)}(new DataView(t.data),new Jo,t.key)}function fx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return cx(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return XP(t.key,t.data)}(t)}var lx="org.id3";var vx=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Ly=void 0,r.yG=void 0,r.zW=[],r.jW=[],r.QW=void 0,r.ZW=void 0,r.Uy=void 0,r.My=void 0,r.QC=Py.j_,r.IW=k_.NONE,r.$w=void 0,r.qW=void 0,r.Vi=A_.DEFAULT,r.kG=void 0,r.bG=function(){r.pG(),r.Ly.removeEventListener("cuechange",r.bG)},r.AG=function(){r.eg!==Py.j_&&(r.TG(),r.nG(),r.zW.length&&r.SG(k_.LOADING))},r.EG=function(){r.SG(k_.LOADED)},r.IG=function(){r.SG(k_.ERROR)},r.Ly=n,r.kG=e,r.Ly.addEventListener("cuechange",r.bG),r.Ly.addEventListener("cuechange",r.AG),r.yG=i,r.yG&&(r.qW=vg(r.yG.src),r.yG.addEventListener("load",r.EG),r.yG.addEventListener("error",r.IG)),r.Uy=v_(),r.My=n.label||"",r.QW=new uP(r.zW),r.ZW=new uP(r.jW),r.eg=r.RG,yu(function(){r.AG(),r.SG(k_.NONE)}),r}E(n,t);var i=n.prototype;return i.n_=function(){return My(this)},i.pG=function(){var t=this.eg;this.DG||t!==Py.Z_?this.RG=t:this.RG=Py.Q_},i.NG=function(){var t=this.eg,n=this.RG;t!==n&&(this.DG||t!==Py.Z_||n!==Py.Q_)&&("metadata"===this.V_&&n===Py.j_?this.eg=t:this.eg=n)},i.DW=function(t){this.IW!==t&&(this.IW=t,this.Qs(new oP(this,t)))},i.SG=function(t){var n=g.max(this.IW,this.CG,t);this.DW(n)},n.PG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.BG=function(t){var i=n.PG(t);if(i)return i;if(V(i=this.OG(t)))for(var e=0,r=i;e<r.length;e++){r[e].i_=this}else i.i_=this;return t.THEOplayerTextTrackCue=i,i},i.OG=function(t){return(n=t)&&n.type===lx&&n.value?(this.fs=A_.ID3,function(t){var n;try{n=fx(t.value)}catch(t){n=XP("")}return new jP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.fs=A_.ID3,function(t){var n=[];try{var i=ax(new DataView(t.data));if(i)for(var e=0,r=i.mG;e<r.length;e++){var s=r[e];n.push(new jP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.fs=A_.WEBVTT,function(t){return"regionId"in t}(t)?new NP(t):new DP(t)):new TP(t);var n},i.xG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.BG(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.TG=function(){for(var t=this.xG(this.Ly.cues),n=sP(this.zW,t),i=0,e=n.HW;i<e.length;i++){var r=e[i];r.tu(I_.Qy,this.AG),r.tu(I_.Yy,this.AG),this.Qs(new vP(r))}for(var s=0,u=n.FW;s<u.length;s++){var o=u[s];o.Zs(I_.Yy,this.AG),o.Zs(I_.Qy,this.AG),this.Qs(new fP(o))}},i.nG=function(){for(var t=this.xG(this.Ly.activeCues),n=sP(this.jW,t),i=0,e=n.HW;i<e.length;i++){e[i].Sk=!1}for(var r=0,s=n.FW;r<s.length;r++){s[r].Sk=!0}(n.FW.length||n.HW.length)&&this.Qs(new SP(this))},i.rg=function(t){this.eg=t},i.xd=function(){this.$s();for(var t=this.zW.slice(),n=0;n<t.length;n++){t[n].xd()}Ks(this.zW),Ks(this.jW),this.Ly.removeEventListener("cuechange",this.AG),this.yG&&(this.Ly.removeEventListener("load",this.EG),this.Ly.removeEventListener("error",this.IG)),this.yG&&nr(this.yG)},T(n,[{key:"hg",get:function(){return this.ZW}},{key:"DE",get:function(){return this.yG?this.yG.default:void 0}},{key:"cg",get:function(){return this.QW}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"H_",get:function(){return this.Ly.id||this.yG&&this.yG.id||""}},{key:"z_",get:function(){return this.Uy}},{key:"J_",get:function(){return this.Ly.inBandMetadataTrackDispatchType||""}},{key:"V_",get:function(){return this.Ly.kind||Bk.rA}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.W_&&(this.My=t,this.Qs(new c_(this)))}},{key:"G_",get:function(){return this.Ly.language||""}},{key:"eg",get:function(){return this.QC},set:function(t){var n=this.eg;this.QC=Oy(t),this.pG();var i=this.eg;n!==i&&this.Qs(new hy(this)),i!==Py.j_&&this.SG(k_.LOADING)}},{key:"RG",get:function(){return Oy(this.Ly.mode)},set:function(t){this.Ly.mode=t}},{key:"Vy",get:function(){return this.Ly}},{key:"ag",get:function(){return this.IW}},{key:"CG",get:function(){return this.yG?+this.yG.readyState||k_.NONE:k_.LOADED}},{key:"fg",get:function(){return this.qW}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new hP(this)))}},{key:"DG",get:function(){return this.kG},set:function(t){this.kG=t,this.pG()}}]),n}(Su);function dx(t,n){return Xs(t.Pb,n.Pb)||function(t,n){return t.i_===n.i_?Hs(rP(t),rP(n)):Qk(t.i_,n.i_)}(t.Ky,n.Ky)||function(t,n){return t===n?Os.Is:t===I_.Yy?Os.Ds:Os.Rs}(t.type,n.type)}var wx=function(){function t(t,n){var i=this;this.IN=void 0,this.LG=void 0,this.Pm=[],this.MG=0,this.UG=0,this.XG=[],this.FG=[],this.HG=!1,this.zG=!1,this.VG=void 0,this.WG=function(){i.MG=0,i.GG(),i.qG()},this.YG=function(){i.GG(),i.qG()},this.jG=function(){i.zG=!0,i.VG=i.IN.jg,i.QG()},this.ZG=function(){i.GG(),i.qG()},this.KG=function(){i.JG(),i.GG(),i.qG()},this.$G=function(t){Qs(i.FG,t.Ky)||i.FG.push(t.Ky),i.tq()},this.nq=function(t){$s(i.XG,t.Ky),$s(i.FG,t.Ky),i.tq()},this.LG=n,this.IN=t,t.Zs(Pf.Ff,this.YG),t.Zs(Pf.If,this.YG),t.Zs(wp.Yg,this.YG),t.Zs(Pf.Ef,this.YG),t.Zs(Pf.Bf,this.jG),t.Zs(Pf.Pf,this.ZG),this.tq()}var n=t.prototype;return n.D_=function(){Ks(this.XG);for(var t=0,n=this.Pm.slice();t<n.length;t++){var i=n[t];this.I_(i)}this.QG(),this.MG=0,this.UG=0,this.HG=!1,this.zG=!1,this.VG=void 0},n.E_=function(t){if(!Qs(this.Pm,t)){if(this.Pm.push(t),t.Zs(ny.e_,this.$G),t.Zs(ny.s_,this.nq),t.Zs(ny.l_,this.KG),t.cg.C_>0){for(var n=0,i=t.cg.N_;n<i.length;n++){var e=i[n];this.FG.push(e)}this.tq()}this.JG()}},n.I_=function(t){if($s(this.Pm,t)){if(t.tu(ny.e_,this.$G),t.tu(ny.s_,this.nq),t.tu(ny.l_,this.KG),t.cg.C_>0){for(var n=0,i=t.cg.N_;n<i.length;n++){var e=i[n];$s(this.XG,e),$s(this.FG,e)}this.tq()}this.JG()}},n.JG=function(){this.HG=this.Pm.some(function(t){return t.eg!==Py.j_})},n.qG=function(){this.IN.nm||this.IN.$g?this.QG():this.tq()},n.tq=function(){this.HG&&(this.MG||(this.MG=this.LG.Ce(this.WG)))},n.QG=function(){this.MG&&(this.LG.iq(this.MG),this.MG=0)},n.GG=function(){var t;if(this.HG&&!this.IN.nm){var n=this.Pm,i=this.UG,e=null!=(t=this.VG)?t:this.IN.jg,r=e-i<-.1,s=this.zG||r;s&&e>i&&e-i<.1&&(s=!1),this.zG=!1,this.VG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.eg!==Py.j_){h.nG(e,s);for(var c=0,f=h.hg.N_;c<f.length;c++){var l=f[c];o.push(l)}}}if(s)u=this.XG;else{u=[];for(var v=0;v<n.length;v++){var d=n[v];d.eg!==Py.j_&&Yk(d,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Qs(o,u[w])&&Ys(u,w);var m=[];if(!s)for(var y=u.length-1;y>=0;y--){var p=u[y];p.Jy>i&&p.$y<=e&&(m.push(p),Ys(u,y))}for(var _=0,b=this.FG;_<b.length;_++){$s(m,b[_])}Ks(this.FG);for(var k=[],A=[],T=0;T<m.length;T++){var S=m[T];S.Sk||k.push(new gP(S,S.Jy)),k.push(new yP(S,g.max(S.Jy,S.$y))),S.Sk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Sk&&(k.push(new yP(R,g.max(R.Jy,R.$y))),R.Sk=!1)}for(var C=0;C<o.length;C++){var D=o[C];D.Sk||(k.push(new gP(D,D.Jy)),D.Sk=!0)}k.sort(dx);for(var N=0;N<k.length;N++){var P=k[N],x=P.Ky;x.Qs(P);var B=x.i_;B&&(P.type===I_.Yy?B.Qs(new _P(x)):B.Qs(new kP(x)),Qs(A,B)||A.push(B))}A.sort(Qk);for(var O=0;O<A.length;O++){var L=A[O];L.Qs(new SP(L))}this.UG=e,this.XG=o}},n.xd=function(){this.D_(),this.IN.tu(Pf.Ff,this.YG),this.IN.tu(Pf.If,this.YG),this.IN.tu(wp.Yg,this.YG),this.IN.tu(Pf.Ef,this.YG),this.IN.tu(Pf.Bf,this.jG),this.IN.tu(Pf.Pf,this.ZG)},t}(),gx=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return ER(t)},n.iq=function(t){IR(t)},t}(),mx=new gx,yx=function(t){function n(n,i){return void 0===i&&(i=mx),t.call(this,n,i)||this}return E(n,t),n}(wx),px=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&PP(this,n)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=OP(this)),this.$w}}]),n}(H_),_x=function(t){function n(n,i,e){return void 0===e&&(e=A_.DEFAULT),t.call(this,Bk.uA,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(wP),bx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fs=A_.ID3,e}E(n,t);var i=n.prototype;return i.IE=function(n){xP(n,this.zW),t.prototype.IE.call(this,n)},i.n_=function(){return My(this)},n}(_x);function kx(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=fx(t.value);return t.THEOplayerTextTrackCue=new px(i,e),t.THEOplayerTextTrackCue}var Ax=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ly=void 0,i.AG=function(){i.eg!==Py.j_&&(i.TG(),i.SG(k_.LOADED))},i.Ly=n,i.Ly.addEventListener("cuechange",i.AG),i.eg=i.RG,yu(function(){i.AG()}),i}E(n,t);var i=n.prototype;return i.hP=function(n){t.prototype.hP.call(this,n),this.RG=this.eg},i.SG=function(t){this.ag=g.max(this.ag,t)},i.TG=function(){var t=this.Ly.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(kx(t[e]||t.item(e)));return js(i,iP),i}(t),i=sP(this.cg.N_.slice(),n),e=0,r=i.HW;e<r.length;e++){var s=r[e];this.dE(s)}for(var u=0,o=i.FW;u<o.length;u++){var a=o[u];this.IE(a)}}},i.xd=function(){this.Ly.removeEventListener("cuechange",this.AG),t.prototype.xd.call(this)},T(n,[{key:"H_",get:function(){return this.Ly.id||""}},{key:"J_",get:function(){return this.Ly.inBandMetadataTrackDispatchType||""}},{key:"G_",get:function(){return this.Ly.language||""}},{key:"RG",get:function(){return Oy(this.Ly.mode)},set:function(t){this.Ly.mode=t}},{key:"Vy",get:function(){return this.Ly}}]),n}(bx),Tx=function(t){function n(n,i){var e;return(e=t.call(this)||this).rq=zr(),e.ZR=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.i_).fs){i.next=4;break}return i.next=4,Fr.awrap(n.au(ny.g_));case 4:if(n.fs===A_.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.cg.C_){i.next=11;break}return i.next=9,Fr.awrap(n.au(ny.e_));case 9:i.next=6;break;case 11:e.uq(n);case 12:case"end":return i.stop()}},null,null,null,qe)},e.KR=function(t){var n=t.i_;if(n.fs===A_.ID3&&e.rq.has(n.z_)){var i=e.rq.get(n.z_);e.I_(i),e.bE.RE(i),n.tu(ny.e_,e.oq)}},e.oq=function(t){Sx(t.Ky)&&e.aq(t.Ky)},e.bE=n,e.cq=i,e.hq(),e}E(n,t);var i=n.prototype;return i.hq=function(){this.cq.Zs(Zm.Qw,this.ZR),this.cq.Zs(Zm.Kw,this.KR)},i.fq=function(){this.cq.tu(Zm.Qw,this.ZR),this.cq.tu(Zm.Kw,this.KR)},i.uq=function(t){var n=t.cg.N_[0];if(Sx(n)){var i=function(t){var n=t.match(Ex);if(!n)return;return{i_:n[1],G_:n[2]}}(n.nk.description),e=i.i_,r=i.G_;if(!this.vq(e,r)){var s=this.bE.SE(Bk.rA,t.H_,e,r,!1,A_.TTML);this.E_(s),this.rq.set(t.z_,s);for(var u=0,o=t.cg.N_;u<o.length;u++){var a=o[u];Sx(a)&&this.aq(a)}t.Zs(ny.e_,this.oq)}}},i.vq=function(t,n){return this.JA.N_.some(function(i){return i.W_===t&&i.G_===n})},i.aq=function(t){if(t.i_)for(var n=this.rq.get(t.i_.z_),i=kk(t.nk.text,n,{cp:0,hp:1/0,fp:t.Jy}),e=0;e<i.length;e++){var r=i[e];n.IE(r)}},i.D_=function(){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.cq.N_;n<i.length;n++)i[n].tu(ny.e_,this.oq);for(e=0,r=this.JA.N_;e<r.length;e++)s=r[e],this.bE.RE(s);return this.rq.clear(),u.next=5,Fr.awrap(t.prototype.D_.call(this));case 5:case"end":return u.stop()}},null,this,null,qe)},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.fq(),n.next=3,Fr.awrap(t.prototype.xd.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n}(nA);function Sx(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.nk)&&Ex.test(n.description);var n}var Ex=/^Track:(.+),Lang:(.+)$/;var Ix=function(t){function n(n){var i;return(i=t.call(this,Pf.vf)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Iu),Rx=function(t){function n(){return t.call(this,Pf.lf)||this}return E(n,t),n}(Iu),Cx=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).lq=n,i}return E(n,t),n}(Iu),Dx=new vD,Nx=function(t){function n(n){var i;return(i=t.call(this,"zc")||this).session=n,i}return E(n,t),n}(Iu),Px=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).dq=!1,u.wq=!1,u.$v=new au,u._q=void 0,u.Uc=function(t){if(!u.$v.Ws.Ns)switch(t.wu){case"license-request":case"license-renewal":u.fI(t.du,t._u).catch(function(t){return u.Ah(t)});break;default:u.Ah(new i_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u.gq=function(t){u.mq.Zc.Ru(function(t,n){switch(t){case"usable":i.Qn(function(){u.wq=!0,u.Qs(new Rx)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new Cx(n))}})},u.yq=function(t){u.Ah(new i_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.mq=e,u.kq=r,u.bq=s,e.Zs("du",u.Uc),e.Zs("vu",u.gq),e.Zs("mu",u.yq),e.jc.then(function(){return u.pq()}),u}E(e,t);var r=e.prototype;return r.Vc=function(){var t=this;return this.dq=!0,Dx.sX(function(n){return t.Aq(n)},this.$v.Ws)},r.Aq=function(t){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,fu(t),s.next=4,Fr.awrap(this.kq.rI(t));case 4:return s.next=6,Fr.awrap(this.kq.sI(this.bq.ls,this.bq.Tu,t));case 6:return i=s.sent,s.next=9,Fr.awrap(this.mq.Vc(this.bq.ls,this.bq.Tu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),lu(s.t0),e=s.t0 instanceof ua?s.t0.ju:void 0,r=new i_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Ah(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],qe)},r.fI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,!ea(t)){o.next=7;break}return o.next=4,Fr.awrap(this.kq.yI(new _(t),this.$v.Ws));case 4:e=o.sent,o.next=10;break;case 7:return o.next=9,Fr.awrap(this.kq.kI(new _(t),i,this.$v.Ws));case 9:e=o.sent;case 10:o.next=17;break;case 12:if(o.prev=12,o.t0=o.catch(0),!cu(o.t0)){o.next=16;break}return o.abrupt("return");case 16:throw o.t0;case 17:if(!this.$v.Ws.Ns){o.next=19;break}return o.abrupt("return");case 19:return r=this._q,s=new na,this._q=s,o.prev=22,o.next=25,Fr.awrap(this.mq.qc(e));case 25:return o.next=27,Fr.awrap(bu(100));case 27:o.next=33;break;case 29:throw o.prev=29,o.t1=o.catch(22),u=o.t1 instanceof ua?o.t1.ju:void 0,new i_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o.t1,void 0,void 0,void 0,void 0,u);case 33:if(o.prev=33,void 0===r){o.next=37;break}return o.next=37,Fr.awrap(r.Fu);case 37:return s.Wu(),this._q===s&&(this._q=void 0),o.finish(33);case 40:case"end":return o.stop()}},null,this,[[0,12],[22,29,33,40]],qe)},r.Ah=function(t){var i=t instanceof i_?t:new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new Ix(i)),this.zc()},r.pq=function(){this.mq.tu("du",this.Uc),this.mq.tu("vu",this.gq),this.mq.tu("mu",this.yq),this.wq=!1,this.$v.Hs(),this.Qs(new Nx(this))},r.zc=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s();case 1:if(void 0===(t=this._q)){n.next=5;break}return n.next=5,Fr.awrap(t.Fu);case 5:if(this._q!==t){n.next=1;break}case 6:return this.pq(),n.next=9,Fr.awrap(this.mq.zc().catch(K));case 9:case"end":return n.stop()}},null,this,null,qe)},e}(Su),xx=[Pf.lf,Pf.vf,Pf.zf],Bx=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Xc=void 0,r.Jc=void 0,r.Tq=void 0,r.Sq=[],r.Eq=void 0,r.Iq=[],r.Rq=function(t){t.session.tu(xx,r.js),t.session.tu("zc",r.Rq),$s(r.Sq,t.session)},r.Xc=n,r.Jc=i,r.Tq=e,r}E(n,t);var i=n.prototype;return i.mI=function(){return this.Tq.mI()},i.Dq=function(t){return this.Eq||(this.Eq=this.Nq(t)),this.Eq},i.Nq=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return fu(t),i.next=3,Fr.awrap(this.Tq.yI(new _(ia()),t));case 3:if(n=i.sent,fu(t),this.Jc){i.next=7;break}throw new l("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Fr.awrap(this.Jc.eh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,qe)},i.Cq=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Jc){e.next=2;break}throw new l("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.Iq.push(t),e.next=6,Fr.awrap(this.Jc.ih("temporary"));case 6:return n=e.sent,i=new Px(n,this.Tq,t),this.Sq.push(i),i.Zs(xx,this.js),i.Zs("zc",this.Rq),e.abrupt("return",i);case 12:return e.prev=12,$s(this.Iq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],qe)},i.Pq=function(t){if(t.Bq)return!1;for(var n=0,i=this.Sq;n<i.length;n++){if(Ox(i[n].bq,t))return!0}for(var e=0,r=this.Iq;e<r.length;e++){if(Ox(r[e],t))return!0}return!1},i.xd=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Jc=void 0,this.$s(),t=this.Sq.slice(),Ks(this.Sq),n.next=6,Fr.awrap(qe.all(t.map(function(t){return t.zc()})));case 6:this.Tq.xs();case 7:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"$c",get:function(){return this.Xc}}]),n}(Su);function Ox(t,n){return!t.Bq&&t.ls===n.ls&&Gu(t.Tu,n.Tu)}var Lx=function(t){function e(n){var i;return(i=t.call(this)||this).uD=void 0,i.$v=new au,i._X=new vD,i.Nh=void 0,i.Tq=void 0,i.oD=void 0,i.Xc=void 0,i.Oq=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(i.xq(t.ls,t.Tu,i.$v.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),cu(n.t0)||i.Ah(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],qe)},i.uD=n,i.uD.Zs(Tu.yu,i.Oq),i}E(e,t);var r=e.prototype;return r.Wc=function(t,n){this.oD=t,this.HX(n)},r.HX=function(t){this.Nh=t,this.Lq(this.$v.Ws).catch(vu)},r.Lq=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Lr.We){n.next=5;break}return n.next=3,Fr.awrap(this.Mq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Nh||!this.Nh.Uq){n.next=9;break}return n.next=8,Fr.awrap(this.Xq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,qe)},r.Mq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null==(n=this.Nh)?void 0:n.XD){l.next=3;break}return l.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Nh)?void 0:u.XD)?s:[];case 5:if(!(e<r.length)){l.next=27;break}o=r[e],a=0,h=null!=(c=o.YR)?c:[];case 8:if(!(a<h.length)){l.next=22;break}return f=h[a],l.prev=10,l.next=13,Fr.awrap(this.xq(o.$c.ls,f,t));case 13:i=!0,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),lu(l.t0);case 19:a++,l.next=8;break;case 22:if(!i){l.next=24;break}return l.abrupt("return",!0);case 24:e++,l.next=5;break;case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},null,this,[[10,16]],qe)},r.xq=function(t,e,r){var s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(fu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Nh&&this.Nh.XD.length){w.next=5;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===ts||t===is||t===ns){w.next=8;break}return w.abrupt("return");case 8:s=yT(t,e),u=this.Nh.XD,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],fu(r),(c=s[h.$c.ds])&&h.$c.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Fr.awrap(this.Fq(h,r));case 20:if(!(f=w.sent).mI()){w.next=24;break}return w.next=24,Fr.awrap(f.Dq());case 24:if(l=this.uD.yy,v={ls:h.$c.ls,Tu:c,Bq:l},!this.Hq(f,v)){w.next=32;break}return w.next=29,Fr.awrap(f.Cq(v));case 29:return d=w.sent,w.next=32,Fr.awrap(d.Vc());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),lu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Fr.awrap(i.Sr());case 44:if(!w.sent){w.next=48;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new i_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],qe)},r.Xq=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Nh)?void 0:n.XD){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],fu(t),u.prev=7,u.next=10,Fr.awrap(this.Fq(r,t));case 10:if(!(s=u.sent).mI()){u.next=14;break}return u.next=14,Fr.awrap(s.Dq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),lu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],qe)},r.Hq=function(t,n){return i.Lr.Ve||!t.Pq(n)},r.Fq=function(t,n){var i=this;return this._X.sX(function(n){return i.zq(t,n)},n)},r.zq=function(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(fu(n),this.Nh&&this.Tq&&this.oD){o.next=3;break}throw new l("Not initialized");case 3:if(!this.Xc){o.next=7;break}if(this.Xc.$c===t.$c){o.next=6;break}throw new l("Internal key system error");case 6:return o.abrupt("return",this.Xc);case 7:return i=this.Tq,e=Ur({},t,{$D:t.$D.map(function(n){var e;return Ur({},n,{persistentState:null!=(e=n.persistentState)?e:i.HI(t.$c),lh:n.lh||i.lh(t.$c)})})}),o.next=11,Fr.awrap(this.oD.UX(e.$c,e.$D));case 11:return r=o.sent,s=i.qR(e),(u=new Bx(e.$c,r,s)).Zs([Pf.lf,Pf.vf,Pf.zf],this.js),this.Xc=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,qe)},r.Ah=function(t){var i=t instanceof i_?t:new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new Ix(i))},r.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oD=void 0,this.Nh=void 0,this.$v.Hs(),this.$v=new au,t.next=6,Fr.awrap(this.Vq());case 6:case"end":return t.stop()}},null,this,null,qe)},r.Vq=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this._X.Hs());case 2:if(!(t=this.Xc)){n.next=8;break}return t.tu(Pf.zf,this.js),this.Xc=void 0,n.next=8,Fr.awrap(t.xd());case 8:case"end":return n.stop()}},null,this,null,qe)},r.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.uD.tu(Tu.yu,this.Oq),t.next=4,Fr.awrap(this.D_());case 4:return t.next=6,Fr.awrap(this._X.xd());case 6:case"end":return t.stop()}},null,this,null,qe)},T(e,[{key:"Wq",get:function(){var t;return null==(t=this.Xc)?void 0:t.$c}},{key:"LD",get:function(){return this.Tq},set:function(t){this.Tq=t}}]),e}(Su),Mx=j.In||j.Rn,jx=j.qn,Fx=.5,Ux=5,Hx=j.Bn,Xx=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vh=void 0,s.Gq=void 0,s.aD=void 0,s.NN=!0,s.oD=void 0,s.qq=new vD,s.Yq=void 0,s.jq=void 0,s.Qq=void 0,s.OX=void 0,s.Pm=void 0,s.OC=void 0,s.Zq=[],s.Kq=void 0,s.Jq=void 0,s.$q=void 0,s.tY=void 0,s.nY=void 0,s.iY=void 0,s.eY=NaN,s.rY=void 0,s.sY=void 0,s.DC=!1,s.uY=qe.resolve(),s.oY=new au,s.aY=[],s.cY=dE.kC(),s.hY=void 0,s.fY=1,s.vY=!1,s.lY=!1,s.dY=!1,s.wY=!1,s.ys=void 0,s._Y=!1,s.gY=!1,s.mY=!1,s.yY=!1,s.kY=0,s.bY=function(t){var n=t.track,i=s.pY(n);s.AY(n,i)},s.TY=function(t){var n=qx(s.Kq,t.track);n&&s.Kq.I_(n)},s.SY=function(){for(var t=0;t<s.Pm.C_;t++){var n=s.Pm.S_(t);n instanceof vx&&n.NG()}},s.EY=function(){s.Kq.D_()},s.IY=function(){var t=s.oD,n=t.uW,i=t.oW;if(n&&i)if(t.QX)s.RY();else if(t.ag!==HN._V){var e=n.wy,r=i.wy;if(0!==e.C_&&0!==r.C_){var u=s.jg;if(u<e.MN(0)||u<r.MN(0))s.RY();else if(e.tN(u)!==r.tN(u)){if(t.QV(u))return;s.DY()}else{if(s.RY(),!s.kY&&s.Qq.LW())e.eC(r).aC(u,u+Fx)&&(s.kY=ER(s.NY))}}else s.RY()}},s.NY=function(){s.kY=0,s.IY()},s.CY=function(){if(!(s.nm||s.ag>=Ky.Fg)){0;var t=s.oD,n=t.uW,i=t.oW;if(n&&i){var e=s.jg,r=n.wy,u=i.wy;if(r.tN(e)&&u.tN(e))r.eC(u).aC(e-Ux,e)&&(s.mY?s.RY():s.PY())}}},s.BY=function(){s.Qs(new yp(s.jg))},s.OY=function(){s.xY(new hu),s.Qs(new mp(s.jg))},s.LY=function(){s.MY(),s.Qs(new bA(s.jg))},s.UY=function(){s.XY(s.tm)},s.FY=function(){s.Qs(new Ap(s.Qg))},s.HY=function(){s.Qs(new MD(s.jg))},s.zY=function(){s.Qs(new jD)},s.VY=function(){var t=s.jg,n=s.nm,i=s.ag<Ky.Fg&&!s.Zg,e=void 0!==s.sY,r=e&&s.sY!==t;(n||!e||r&&!i)&&(s.Qs(new Sp(s.jg,void 0)),s.sY=t)},s.WY=function(){!s.vY&&s.Zg&&(s.vY=!0,s.Qs(new Ep(s.jg)))},s.GY=function(){if(null!==s.Vh.error){var t,n=s.Vh.error;s.mD(new e_(null!=(t=n.code)?t:Jp.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.qY=function(){s.lY&&(s.YY(),s.dY=!0)},s.jY=function(){s.Qs(new Dp(s.jg,s.cm))},s.QY=function(){s.um>0&&s.im>0&&s.Qs(new cA)},s.ZY=function(t){s.Qs(new xu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.KY=function(){s.Qs(new Bu)},s.JY=function(t){var n=t.initData,i=n?Zo(n).buffer:new ArrayBuffer(0);s.Qs(new xu(ts,i))},s.$Y=function(t){if(t.initData){var n=zx(t.initData);if(!n)return;s.Qs(new xu(is,n))}else s.Qs(new xu(is,new ArrayBuffer(0)))},s.tj=function(t){var n=t.initData,i=n?Zo(n).buffer:new ArrayBuffer(0);s.Qs(new xu(ts,i))},s.nj=function(){s.MY()},s.ij=function(t){s.xY(t)},s.ej=function(t){s.Qs(t),t.type===Pf.vf&&s.mD(s_(t.errorObject))},s.Vh=n,s.ys=i,s.Gq=e,s.OC=r,s.jq=new QN(Jt(s)),s.jq.Zs(wp.w_,s.js),s.Qq=new JN(Jt(s)),s.Qq.Zs(wp.Yg,s.LY),s.OX=new Lx(Jt(s)),s.OX.Zs([Pf.lf,Pf.vf,Pf.zf],s.ej),s.Pm=new Ok,s.Kq=new Ok,s.Jq=new $S([s.Pm,s.Kq]),s.$q=new Tx(Jt(s),s.Jq),s.tY=new $S([s.Jq,s.$q.JA]),s.nY=new yx(Jt(s)),s.rj(),s.UD(),s}E(n,t);var e=n.prototype;return e.sj=function(){this.xD.ended||this.jg===this.Qg||(this.vY=!1)},e.uj=function(){return void 0!==this.iY&&this.Qg===this.iY},e.XY=function(t){this.fY!==t&&(this.fY=t,this.Qs(new Tp(this.jg,t)))},e.eN=function(){return NC(this.Vh)},e.Fm=function(){var t=this.aj();return this.cj(),t},e.cj=function(){this._Y?this.gY&&(this.gY=!1,this.Qs(new yp(this.jg))):this.hj()},e.hj=function(){if(this.Yq)this.Yq.Fm();else{j.Bn&&!j.cn&&this.Vh.preload===uE.TN&&(this.Vh.preload=uE.uA);var t=this.tm,n=this.Vh.play();t!==this.xD.playbackRate&&(this.tm=t),Y(n)?n.then(this.nj,this.ij):this.Qq.LW()&&this.MY()}},e.Hm=function(){this._Y?this.gY||(this.gY=!0,this.Qs(new mp(this.jg))):this.vj()},e.vj=function(){this.Yq?this.Yq.Hm():(this.Vh.pause(),this.Qq.qc()),this.lj(new hu)},e.aj=function(){var t=new na;return this.aY.push(t),t.Fu},e.dj=function(){for(var t=0,n=this.aY;t<n.length;t++){n[t].Wu(void 0)}Ks(this.aY)},e.lj=function(t){for(var n=0,i=this.aY;n<i.length;n++){i[n].Gu(t)}Ks(this.aY)},e.MY=function(){this._Y||this.Yq||this.dj()},e.xY=function(t){this._Y||this.Yq||this.lj(t)},e.xu=function(t,n){this.Yq?this.Yq.jg=t:(this.oY.Hs(),this.oY=new au,this.uY=this.wj(t,this.uY,this.oY.Ws).catch(K))},e.iN=function(t){var n=this.rN;if(n&&!p(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.wj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,this.iY=t,this.eY=t,this.DC=!0,this.vY&&!this.uj()&&(this.vY=!1),this.Qs(new Rp(t)),l.next=8,Fr.awrap(n.catch(K));case 8:if(fu(i),this.wY&&this._j(),this.ag!==Ky.Mg){l.next=13;break}return l.next=13,Fr.awrap(this.au(wp.w_,i));case 13:if(0!==this.Vh.seekable.length){l.next=19;break}return l.next=16,Fr.awrap(qe.race([Ym(this.Vh,"timeupdate",i),bu(100,i)]));case 16:fu(i),l.next=13;break;case 19:e=this.gj(t),r=this.Ny,s=!0,u=!1;case 23:if((r=this.Ny).C_>0&&!r.tN(e)&&(e=r.YN(e),s=!0),Hx&&void 0!==(o=this.mj())&&e>o&&(e=o,s=!0),u){l.next=37;break}if(!(void 0!==(a=this.yj())&&e>a)){l.next=37;break}return u=!0,l.next=33,Fr.awrap(this.bj(a,i));case 33:return l.next=35,Fr.awrap(Ym(this.Vh,"seeked",i));case 35:fu(i),s=!0;case 37:if(!s){l.next=56;break}return s=!1,l.next=41,Fr.awrap(this.bj(e,i));case 41:fu(i),h=this.jg,r=this.Ny,e=r.YN(e),c=1;case 46:if(!(g.abs(e-h)>=1/6)){l.next=56;break}return r=this.Ny,e=Wx(e,r,c),l.next=51,Fr.awrap(this.bj(e,i));case 51:fu(i),h=this.jg,c++,l.next=46;break;case 56:if(this.Vh.seeking||this.ag<Ky.Xg){l.next=58;break}return l.abrupt("break",63);case 58:return l.next=60,Fr.awrap(gu(function(t){var n;return qe.race([Ym(f.Vh,"seeked",t),f.au([Pf.Rf,Pf._f,wp.w_],t),null==(n=f.oD)?void 0:n.au(ED.JP,t)].filter(H))},i));case 60:fu(i),l.next=23;break;case 63:this.pj(),l.next=71;break;case 66:if(l.prev=66,l.t0=l.catch(0),!cu(l.t0)){l.next=70;break}return l.abrupt("return");case 70:0;case 71:case"end":return l.stop()}},null,this,[[0,66]],qe)},e.bj=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(fu(n),i=this.Ny,t=i.YN(t),!this.wY){s.next=18;break}e=!0;case 5:if(!(e||this.ag<Ky.Fg)){s.next=17;break}if((i=this.Ny).tN(t)||(t=i.YN(t),e=!0),!e){s.next=13;break}return e=!1,this.iY=t,this.Aj(this.jg),s.abrupt("continue",5);case 13:return s.next=15,Fr.awrap(this.au([wp.w_,Pf._f],n));case 15:s.next=5;break;case 17:fu(n);case 18:if(r=Ym(this.Vh,"seeking",n),this.Vh.currentTime=t,this.iY=void 0,this.Aj(this.jg),!this.Vh.seeking){s.next=25;break}return s.next=25,Fr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,qe)},e.gj=function(t){var n=this.wy;if(n&&!n.tN(t)){var i=n.sC(t,.05);if(i>-1){var e=n.MN(i);if(t<e)return e}}return t},e.mj=function(){if(this.oD&&this.oD.QX){var t=this.oD.ZX,n=this.oD.KX,i=t&&n?t.ZN(n):t||n;if(i&&0!==i.C_){var e=i.MN(i.C_-1),r=i.XN(i.C_-1);return g.max(e,r-.001)}}},e.yj=function(){if(this.oD&&this.oD.QX){var t=this.oD.KX;if(t&&0!==t.C_){var n=t.MN(t.C_-1),i=t.XN(t.C_-1)-.02;return i-=.001,g.max(n,i)}}},e.Aj=function(t){this.eY!==t&&(this.eY=t,this.Qs(new Rp(t)))},e.pj=function(){this.DC=!1,this.eY=NaN,this.wY&&this.Tj(),this.Qs(new Cp(this.jg))},e._j=function(){this._Y||(this.gY=this.$g,this._Y=!0,this.vj())},e.Tj=function(){this._Y&&(this._Y=!1,this.gY||this.cj())},e.jX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===hA.NE&&LD.jX(i,this.Vh))return i;if(i.fs===hA.CE&&VN.jX(i))return i}},e.Jm=function(){this.NN=!1,lr(this.Vh)&&(this.Vh.style.display="none")},e.Km=function(){this.NN=!0,lr(this.Vh)&&(this.Vh.style.display="block")},e.SE=function(t,n,i,e,r,s,u,o){var a=new wP(t,n,i,e,r,s,u,o);return this.Pm.E_(a),this.nY.E_(a),a},e.WD=function(){return!0},e.qD=function(t,n,i,e){var r=s.createElement("track");r.src=vg(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=eR(),this.Vh.appendChild(r);var u=this.Vh.textTracks.getTrackById(r.id),o=new vx(u,r);return this.Kq.E_(o),this.Zq.push(o),o},e.RE=function(t){this.Pm.I_(t),this.nY.I_(t)},e.QD=function(){for(var t=0,n=this.Pm.N_.slice();t<n.length;t++){n[t].xd()}this.Pm.D_();for(var i=0,e=this.Zq.slice();i<e.length;i++){var r=e[i];this.Kq.I_(r),r.xd()}Ks(this.Zq)},e.UD=function(){var t=this.Vh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.bY),t.addEventListener("removetrack",this.TY),t.addEventListener("change",this.SY)),this.Vh.addEventListener("emptied",this.EY)},e.KD=function(){var t=this.Vh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.bY),t.removeEventListener("removetrack",this.TY),t.removeEventListener("change",this.SY)),this.Vh.removeEventListener("emptied",this.EY)},e.AY=function(t,n){if(j.Bn){if(t.kind===Bk.uA)return void this.Sj(t);if(t.kind===Bk.aE&&""===t.label&&""===t.language&&!Gx(t))return void this.Ej(t,n)}qx(this.Kq,t)||this.Kq.E_(new vx(t,n))},e.Sj=function(t){t.mode=Py.Q_;var n=new Ax(t);this.Kq.E_(n),this.nY.E_(n)},e.Ej=function(t,n){var i=this;t.addEventListener("cuechange",function e(){Gx(t)&&(t.removeEventListener("cuechange",e),i.Kq.E_(new vx(t,n)))}),t.mode=Py.Q_},e.pY=function(t){for(var n=this.Vh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Wc=function(t){var n=this;return this.qq.sX(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(fu(i),!n.oD){r.next=3;break}throw new l("Already loaded a media source");case 3:if(t.fs!==hA.NE){r.next=9;break}e=new LD(t,n,n.OX,n.ys),n.wY=!1,n.Ij(new QN(n)),r.next=17;break;case 9:if(t.fs!==hA.CE){r.next=16;break}e=new VN(t,n,n.OX,n.ys),n.wY=Mx,n.Ij(n.wY?new ZN(n):new QN(n)),jx&&(n.Zs(Pf.Ff,n.IY),n.Zs(wp.w_,n.CY)),r.next=17;break;case 16:throw new l("Unsupported configuration");case 17:return n.oD=e,r.next=20,Fr.awrap(e.SL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,qe)})},e.DY=function(){if(!this.mY){var t=this.tm;this.mY=!0,this.tm=t,this.Vh.playbackRate=0,this.jq&&this.jq.DW()}},e.RY=function(){if(this.mY){var t=this.tm;this.mY=!1,this.tm=t,this.PY()}},e.PY=function(){this.Vh.currentTime=this.Vh.currentTime,this.jq&&this.jq.DW()},e.Ij=function(t){var n=this.ag;this.jq.xs(),this.jq=t,this.jq.Zs(wp.w_,this.js);var i=this.ag;n!==i&&this.Qs(new xp(this.jg,i))},e.D_=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.DC=!1,this.cY=dE.kC(),this.oY.Hs(),this.iY=void 0,this.eY=NaN,this.rY=void 0,this.wY=!1,this._Y=!1,this.aD=void 0,this.vY=!1,this.sY=void 0,this.lY=!1,this.dY&&(this.rj(),this.dY=!1),this.lj(new hu),this.Ij(new QN(this)),this.Qq.D_(),this.RY(),jx&&(IR(this.kY),this.kY=0,this.tu(Pf.Ff,this.IY),this.tu(wp.w_,this.CY)),n.next=20,Fr.awrap(this.qq.Hs());case 20:return n.next=22,Fr.awrap(this.qq.sX(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.oD){n.next=4;break}return n.next=3,Fr.awrap(t.oD.xs());case 3:t.oD=void 0;case 4:case"end":return n.stop()}},null,null,null,qe)}));case 22:case"end":return n.stop()}},null,this,null,qe)},e.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dY=!1,this.YY(),this.KD(),t.next=5,Fr.awrap(this.D_());case 5:return t.next=7,Fr.awrap(this.qq.xd());case 7:return this.Qq.xs(),this.jq.xs(),t.next=11,Fr.awrap(this.OX.xs());case 11:return this.QD(),this.Pm.xd(),this.Kq.xd(),t.next=16,Fr.awrap(this.$q.xd());case 16:this.Jq.xd(),this.tY.xd(),this.$s();case 19:case"end":return t.stop()}},null,this,null,qe)},e.rj=function(){this.xD.addEventListener("play",this.BY),this.xD.addEventListener("pause",this.OY),this.xD.addEventListener("timeupdate",this.VY),this.xD.addEventListener("progress",this.HY),this.xD.addEventListener("loadstart",this.zY),this.xD.addEventListener("ended",this.WY),this.xD.addEventListener("ratechange",this.UY),this.xD.addEventListener("volumechange",this.jY),this.xD.addEventListener("durationchange",this.FY),this.xD.addEventListener("resize",this.QY),this.xD.addEventListener("loadedmetadata",this.QY),this.xD.addEventListener("error",this.GY),this.xD.addEventListener("emptied",this.qY),xs()?(this.Vh.addEventListener("encrypted",this.ZY),this.Vh.addEventListener("waitingforkey",this.KY)):void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported?this.Vh.addEventListener("webkitneedkey",this.$Y):Bs()?this.Vh.addEventListener("webkitneedkey",this.tj):void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported&&this.Vh.addEventListener("msneedkey",this.JY)},e.YY=function(){this.xD.removeEventListener("play",this.BY),this.xD.removeEventListener("pause",this.OY),this.xD.removeEventListener("timeupdate",this.VY),this.xD.removeEventListener("progress",this.HY),this.xD.removeEventListener("loadstart",this.zY),this.xD.removeEventListener("ended",this.WY),this.xD.removeEventListener("ratechange",this.UY),this.xD.removeEventListener("volumechange",this.jY),this.xD.removeEventListener("durationchange",this.FY),this.xD.removeEventListener("resize",this.QY),this.xD.removeEventListener("loadedmetadata",this.QY),this.xD.removeEventListener("error",this.GY),this.xD.removeEventListener("encrypted",this.ZY),this.xD.removeEventListener("waitingforkey",this.KY),this.xD.removeEventListener("webkitneedkey",this.$Y),this.xD.removeEventListener("webkitneedkey",this.tj),this.xD.removeEventListener("msneedkey",this.JY),this.xD.removeEventListener("emptied",this.qY)},e.Rj=function(){var t;this.Yq||(this.cY=this.Ry,this.Yq=new GN((t=this).jg,t.Qg,t.Zg,t.$g,t.nm,t.Jg,t.tm,t.cm,t.ag),this.YY(),this.Yq.Zs(qN,this.js))},e.Dj=function(){if(this.Yq){var t,n,i=this.Yq;this.Yq=void 0,this.jq.DW(),t=this,(n=i).Qg===t.Qg||p(n.Qg)&&p(t.Qg)||t.Qs(new Ap(t.Qg)),t.Jg=n.Jg,t.cm=n.cm,t.tm=n.tm,n.$g?t.Hm():t.Fm().catch(K),n.jg!==t.jg||n.ag>Ky.Mg&&t.ag===Ky.Mg?t.xu(n.jg):!n.nm&&t.nm?t.Qs(new Rp(t.jg)):n.nm&&!t.nm&&t.ag>=Ky.Xg&&t.Qs(new Cp(t.jg)),!n.Zg&&t.Zg&&t.Qs(new Ep(t.jg)),i.xs(),this.rj()}},e.mD=function(t){this.aD=t,this.lj(this.aD),this.Qs(new tP(this.aD))},e.Nj=function(){this.Cj||(pO(this.Vh,i.Lr),this.yY=!0)},e.Pj=function(t){t.appendChild(this.Vh)},e.mW=function(){jx&&this.IY(),this.jq.DW()},e.ly=function(){this.OX.Vq().catch(K)},T(n,[{key:"PW",get:function(){return this.mY}},{key:"wy",get:function(){return this.oD?this.oD.wy:dE.kC()}},{key:"_y",get:function(){var t=this.rN;if(t&&!p(t.getTime())){var n=1e3*this.jg;return new Date(t.getTime()+n)}}},{key:"rN",get:function(){if(this.xD.getStartDate)return this.DC&&this.rY||(this.rY=this.xD.getStartDate()),this.rY}},{key:"jg",get:function(){return this.Yq?this.Yq.jg:void 0!==this.iY?this.iY:this.Vh.currentTime}},{key:"XU",get:function(){return this.Gq}},{key:"Qg",get:function(){return this.Yq?this.Yq.Qg:this.oD?this.oD.Qg:this.Vh.duration}},{key:"Zg",get:function(){return this.nm?this.uj():this.Yq?this.Yq.Zg:this.Vh.ended||this.vY}},{key:"mu",get:function(){return this.aD}},{key:"xD",get:function(){return this.Vh}},{key:"$g",get:function(){return this._Y?this.gY:this.Yq?this.Yq.$g:this.Vh.paused}},{key:"Ry",get:function(){return this.cY.iC(dE.gC(this.Vh.played))}},{key:"dT",get:function(){return this.Vh.offsetHeight*i.Lr.He}},{key:"Bk",get:function(){return this.Vh.offsetWidth*i.Lr.He}},{key:"jD",get:function(){return mE}},{key:"ag",get:function(){return this.jq.ag}},{key:"Ny",get:function(){return this.oD?this.oD.Ny:dE.kC()}},{key:"nm",get:function(){return this.Yq?this.Yq.nm:this.DC}},{key:"Jg",get:function(){return this.Yq?this.Yq.Jg:this.Vh.muted},set:function(t){this.Yq?this.Yq.Jg=t:this.Vh.muted=t}},{key:"tm",get:function(){return this.Yq?this.Yq.tm:void 0!==this.hY?this.hY:this.Vh.playbackRate},set:function(t){this.Yq?this.Yq.tm=t:this.$g||this.mY?(this.hY=t,this.XY(t)):(this.hY=void 0,this.Vh.playbackRate=t)}},{key:"Bj",get:function(){return this.NN}},{key:"cm",get:function(){return this.Yq?this.Yq.cm:this.Vh.volume},set:function(t){this.Yq?this.Yq.cm=t:this.Vh.volume=t}},{key:"Um",get:function(){return this.tY}},{key:"HU",get:function(){return this.OC}},{key:"yy",get:function(){return!!this.Vh.webkitCurrentPlaybackTargetIsWireless}},{key:"Cj",get:function(){return this.yY}},{key:"Oj",get:function(){return Ur({},PD)}},{key:"LD",get:function(){return this.OX.LD},set:function(t){this.OX.LD=t}},{key:"Wq",get:function(){return this.OX.Wq}},{key:"Py",get:function(){return this.lY},set:function(t){this.lY=t,this.dY&&!this.lY&&(this.dY=!1,this.rj())}}]),n}(Su);function zx(t){try{var n=qo(t),i=new Jo;return Lo(Mo(go(n,i,ko(n,i,!0)),!0))}catch(t){return}}var Vx=.01;function Wx(t,n,i){if(void 0===i&&(i=0),!n.C_)return 0;var e=n.YN(t),r=Vx*i;return e===n.MN(0)?e+=r:e===n.XN(n.C_-1)&&(e-=r),e}function qx(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.Vy===n)return r}}function Gx(t){return!!t.cues&&t.cues.length>0}var $x={eU:void 0,rU:void 0,sU:void 0,uU:void 0,oU:void 0,aU:void 0,lU:void 0,cU:void 0,hU:void 0,fU:void 0,vU:void 0},Yx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$w=void 0,n}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=zC(this)),this.$w}},{key:"eU",get:function(){}},{key:"rU",get:function(){}},{key:"sU",get:function(){}},{key:"uU",get:function(){}},{key:"oU",get:function(){}},{key:"aU",get:function(){}},{key:"lU",get:function(){}},{key:"cU",get:function(){}},{key:"hU",get:function(){}},{key:"fU",get:function(){}},{key:"vU",get:function(){}}]),n}(Su);new Yx;var Qx=function(t){function n(n,i,e){return t.call(this,n,i,e,new Yx)||this}return E(n,t),n.prototype.$m=function(){},T(n,[{key:"im",get:function(){return 0}},{key:"um",get:function(){return 0}}]),n}(Xx),Zx="theoplayer-texttracks",Kx=function(){function t(t){void 0===t&&(t=5),this.xj=void 0;var n=we.document.createElement("div");n.className=Zx,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.xj=n,this.Km()}var n=t.prototype;return n.Jm=function(){this.xj.style.display="none"},n.Km=function(){this.xj.style.display="block"},n.Pj=function(t){t.appendChild(this.xj)},n.xd=function(){nr(this.xj)},T(t,[{key:"gy",get:function(){return this.xj}}]),t}();function Jx(t,n){return Ur({},n,py({eU:(i=t).eU,rU:i.rU,sU:i.sU,uU:i.uU,oU:i.oU,aU:i.aU,lU:i.lU,cU:i.cU,hU:i.hU,fU:i.fU,vU:i.vU}));var i}function tB(t){return t.sU&&Ts(t.sU,"%")?Number(t.sU.replace("%",""))/100:t.sU&&Ts(t.sU,"em")?Number(t.sU.replace("em","")):1}var nB,iB,eB=function(){function t(t,n,i,e,r){var s=this;this.Lj=zr(),this.Mj=!0,this.Uj=void 0,this.Xj=Ur({},$x),this.Fj=[],this.gk=void 0,this.Vh=void 0,this.Gq=void 0,this.Hj=void 0,this.zj=function(t){return s.IE(t.Ky)},this.Vj=function(t){return s.removeCue(t.Ky)},this.Wj=function(){return s.Gj()},this.qj=function(t){return s.Yj(t.Ky)},this.jj=function(t){return s.Qj(t.Ky)},this.Zj=function(t){return s.Kj(t.Ky)},this.Jj=function(t){s.$j(t.Bk,t.dT)},this.gk=t,this.Hj=this.Uj=r,this.Vh=this.tQ(i),this.Gq=e,n.appendChild(this.Vh)}var n=t.prototype;return n.nQ=function(t){var n=this.iQ(t);if(!n)return!1;for(var i=0;i<n.length;i++){nr(n[i])}return this.eQ(t),!0},n.SL=function(){var t=this;this.rQ(),this.gk.cg.N_.forEach(function(n){return t.IE(n)}),this.XU.Zs("CO",this.Jj),this.$j(this.XU.UO,this.XU.MO)},n.sQ=function(t){this.Xj=t,this.Uj=Jx(this.Xj,this.Hj),this.Uj.eU&&(this.xD.style.fontFamily=this.Uj.eU),this.Uj.lU&&(this.xD.style.visibility=this.Uj.lU),this.$j(this.XU.UO,this.XU.MO),this.uQ(!0)},n.oQ=function(){return this.Uj},n.aQ=function(t){return this.Lj.has(t.z_)},n.rQ=function(){this.gk.Zs(ny.e_,this.zj),this.gk.Zs(ny.s_,this.Vj),this.gk.Zs(ny.l_,this.Wj)},n.cQ=function(){this.gk.tu(ny.e_,this.zj),this.gk.tu(ny.s_,this.Vj),this.gk.tu(ny.l_,this.Wj)},n.hQ=function(t){t.Zs(I_.Yy,this.qj),t.Zs(I_.Qy,this.jj),t.Zs(I_.y_,this.Zj)},n.fQ=function(t){t.tu(I_.Yy,this.qj),t.tu(I_.Qy,this.jj),t.tu(I_.y_,this.Zj)},n.IE=function(t){this.hQ(t),t.Sk&&this.Yj(t)},n.removeCue=function(t){this.fQ(t),this.Qj(t)},n.Gj=function(){this.gk.eg===Py.Z_?this.vQ():this.lQ()},n.vQ=function(){if(this.Mj){this.Mj=!1;var t=this.XU.UO,n=this.XU.MO;this.$j(t,n),this.uQ(!1)}},n.lQ=function(){this.Mj||(this.Mj=!0,this.uQ(!0))},n.Yj=function(t){this.Mj||t.Sk&&!this.aQ(t)&&this.uQ(!1)},n.Qj=function(t){this.aQ(t)&&this.uQ(!1)},n.Kj=function(t){(t.Sk||this.aQ(t))&&this.uQ(!0)},n.uQ=function(t){var n=this.Fj,i=this.Mj?[]:this.gk.hg.N_.slice();this.dQ(i,n,t),this.Fj=i},n.iQ=function(t){var n;return null==(n=this.Lj.get(t.z_))?void 0:n.wQ},n._Q=function(t,n){this.Lj.set(t.z_,{Ky:t,wQ:n})},n.eQ=function(t){this.Lj.delete(t.z_)},n.gQ=function(){return this.Fj.slice()},n.xd=function(){var t=this;nr(this.xD),this.Lj.clear(),this.cQ(),this.gk.cg.N_.forEach(function(n){return t.fQ(n)}),this.XU.tu("CO",this.Jj)},T(t,[{key:"i_",get:function(){return this.gk}},{key:"xD",get:function(){return this.Vh}},{key:"XU",get:function(){return this.Gq}},{key:"mQ",get:function(){return this.Uj}},{key:"yQ",get:function(){return this.Xj}}]),t}();function rB(t){return sB[t||"none"]}!function(t){t.kQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.bQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.pQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.AQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(nB||(nB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(iB||(iB={}));var sB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},uB=Vr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),oB={rU:iB.WHITE,eU:"Arial, Helvetica, Sans-Serif",sU:"100%",uU:iB.TRANSPARENT,oU:iB.TRANSPARENT,aU:"none",lU:"visible",cU:void 0,hU:void 0,fU:void 0,vU:void 0},aB=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,oB)||this}E(n,t);var i=n.prototype;return i.tQ=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ar(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.$j=function(t,n){var i=g.min(t,n)/15;this.xD.style.fontSize=i+"px"},i.dQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Sk||this.nQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.TQ(u)}},i.TQ=function(t){var n=this.iQ(t);n||(n=this.SQ(t),this._Q(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.xD.appendChild(r)}},i.SQ=function(t){var n,i=[],e=t.eE,r=t.vp,u=t.nk;if(0===w.keys(r).length){gB(n=s.createElement("div"));for(var o=hB(u,e,t.rE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=w.keys(r);c<f.length;c++){var l=f[c],v=s.createElement("div");v.id=l;var d=hB(u,e,t.rE,v);if(d){gB(v),fB(v,"region",r[l],e);for(var g=0;g<d.length;g++){var m=d[g];v.appendChild(m)}i.push(v)}i.push(v)}return i},i.sQ=function(t){var n,i,e,r;n=this.xD,i=t,n.style.marginTop=(null!=(e=i.cU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.hU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",GC(this.xD,t)},n}(eB);function hB(t,n,i,e){var r,u;if(Zt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":cB(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",cB(n,t);break;case"DIV":cB(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");vB(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=gk(s.wi,["ebutts","tts","xml"]);dB(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&lB(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];lB(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=hB(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var l=0,v=a;l<v.length;l++){var d,w=v[l];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Kt(t)&&(r=s.createTextNode(t.Hi));return r?[r]:[]}function cB(t,n){var i=n.Oi(vk,"id");i&&(t.id=i)}function fB(t,n,i,e){vB(t,n,i.style,e,t);for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r];dB(t,n,u,i[u],t)}}function lB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Kt(n)?"data:image/png;base64,"+n.Hi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ar(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function vB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=w.keys(e[o]);a<h.length;a++){var c=h[a],f=gk(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?vB(t,n,e[o][c],e,r):dB(t,n,f,e[o][c],r)}}}function dB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=uB.get(e);t.style.fontFamily=s||e;break;case"fontSize":Ts(e,"px")?e=m(e)/24+"em":Ts(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=wB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var l=wB(n.toLowerCase())?r:t,v=e.split(" "),d=v[0],w=v[1];l&&(d||w)&&(d&&(l.style.left=d),w&&(l.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,p,_;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",_="bidi-override";break;case"tbrl":g="vertical-rl",p="upright";break;case"tblr":g="vertical-lr",p="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",p="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),p&&(t.style.textOrientation=p,t.style.setProperty("-webkit-text-orientation",p)),_&&(t.style.unicodeBidi=_);break;case"textOutline":break;case"linePadding":if(Ts(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function wB(t){return"div"===t||"p"===t||"span"===t}function gB(t){ar(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var mB,yB,pB=void 0;function _B(t,n){for(var i,e=mB.EQ,r="",s=[],u=t.charAt(n.Pu),o="",a={fs:yB.IQ,Ri:"",RQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case mB.EQ:switch(u){case"&":var h=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],pB||(pB=we.document.createElement("textarea")),pB.innerHTML=i,pB.value),n.Bu(h[0].length-1)):r+="&";break;case"<":if(r)return{fs:yB.DQ,nk:r};e=mB.NQ;break;case"EOF":return{fs:yB.DQ,nk:r};default:r+=u}break;case mB.NQ:switch(u){case"\t":case"\n":case"\f":case" ":e=mB.CQ;break;case".":e=mB.BQ;break;case"/":e=mB.OQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=mB.xQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=mB.LQ}break;case mB.LQ:switch(u){case"\t":case"\f":case" ":e=mB.CQ;break;case"\n":o=u,e=mB.CQ;break;case".":e=mB.BQ;break;case">":return n.Bu(1),{fs:yB.IQ,Ri:r,RQ:[]};case"EOF":return{fs:yB.IQ,Ri:r,RQ:[]};default:r+=u}break;case mB.BQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=mB.CQ;break;case"\n":s.push(o),o=u,e=mB.CQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{fs:yB.IQ,Ri:r,RQ:s};case"EOF":return s.push(o),{fs:yB.IQ,Ri:r,RQ:s};default:o+=u}break;case mB.CQ:switch(u){case"&":e=mB.MQ;break;case">":n.Bu(1);var c=o.trim();return c=c.replace(/\s/," "),{fs:yB.IQ,Ri:r,RQ:s,UQ:c};default:o+=u}break;case mB.MQ:for(var f="",l=n.Pu;">"===t.charAt(l);l++)f+=t.charAt(l);o+=f||"&",e=mB.CQ;break;case mB.OQ:switch(u){case">":return n.Bu(1),{fs:yB.XQ,Ri:r};case"EOF":return{fs:yB.XQ,Ri:r};default:r+=u}break;case mB.xQ:switch(u){case">":return n.Bu(1),{fs:yB.FQ,HQ:r};case"EOF":return{fs:yB.FQ,HQ:r};default:r+=u}}n.Bu(1)}return a}function bB(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.documentElement,e=s.body,u=i.clientLeft||e.clientLeft||0,o=r.pageXOffset||e.scrollLeft,a=n.left+o-u,h=i.clientTop||e.clientTop||0,c=r.pageYOffset||e.scrollTop,f=n.top+c-h;return{left:g.round(a),top:g.round(f)}}function kB(t,n,i,e){if(void 0===e&&(e=0),t&&n){t.style.left="0px";var r=t.getClientRects(),s=n.getClientRects();if(0!==r.length&&0!==s.length){var u=r[0],o=s[0],a=u.width/2+u.left;!function(t,n,i,e){void 0===e&&(e=0);!function(t,n,i,e,r,s){void 0===s&&(s=0);var u=t.getClientRects();if(r&&u.length>0){var o=u[0],a=r[i]+s-o[i],h=r[e]-s-o[e];n=Ft(n,a,h)}t.style[i]=n+"px"}(t,n,"left","right",i,e)}(t,o.width/2+o.left-a,i,e)}}}function AB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.EQ="Data",t.NQ="Tag",t.LQ="StartTag",t.BQ="StartTagClass",t.CQ="StartTagAnnotation",t.MQ="CharRefInAnnotation",t.OQ="EndTag",t.xQ="TimestampTag"}(mB||(mB={})),function(t){t.DQ="string",t.IQ="starttag",t.XQ="endtag",t.FQ="timestamp"}(yB||(yB={}));var TB,SB=function(){function t(t,n,i,e){this.zQ=void 0,this.VQ=void 0,this.Bk=void 0,this.dT=void 0,this.zQ=t,this.VQ=n,this.Bk=i,this.dT=e}var n=t.prototype;return n.WQ=function(t){return this.zQ<t.GQ&&this.GQ>t.zQ&&this.VQ<t.qQ&&this.qQ>t.VQ},n.xy=function(t){return this.zQ<=t.zQ&&t.GQ<=this.GQ&&this.VQ<=t.VQ&&t.qQ<=this.qQ},n.Lu=function(){return new t(this.zQ,this.VQ,this.Bk,this.dT)},T(t,[{key:"GQ",get:function(){return this.zQ+this.Bk},set:function(t){this.zQ=t-this.Bk}},{key:"qQ",get:function(){return this.VQ+this.dT},set:function(t){this.VQ=t-this.dT}}]),t}(),EB={rU:iB.WHITE,eU:"sans-serif",sU:"100%",uU:"rgba(0,0,0,0.8)",oU:iB.TRANSPARENT,aU:"none",lU:"visible",cU:void 0,hU:void 0,fU:void 0,vU:void 0},IB="theoplayer-webvtt-region-",RB="theoplayer-webvtt-styling-",CB="theoplayer-webvtt-voice-",DB="theoplayer-webvtt-default-style",NB=5.23,PB=1.14,xB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,EB)||this).YQ=Xr(),s.jQ=jB(3),s}E(n,t);var i=n.prototype;return i.tQ=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,cr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.mQ.eU;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(DB))return;for(var t=[],n=0;n<qB.length;n++){var i=qB[n],e=i[0],r=i[1];t.push("."+RB+e+" { color: "+r+" !important; }"),t.push("."+RB+"QQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("ZQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=DB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.SL=function(){this.xD.appendChild(this.jQ),t.prototype.SL.call(this)},i.$j=function(t,n){var i=this,e=g.min(t/100,n/100),r=tB(this.mQ);this.YQ.forEach(function(t){var n=t.vk,s=t.KQ;i.JQ(s,e,r,n)}),this.JQ(this.jQ,e,r)},i.sQ=function(n){GC(this.xD,n),t.prototype.sQ.call(this,n)},i.dQ=function(t,n,i){for(var e=this,r=this.xD,s=this.XU.MO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.vk&&(Qs(u,a.vk)||u.push(a.vk))}this.YQ.forEach(function(t,n){var r=t.vk,s=t.KQ;!i&&Qs(u,r)||(nr(s),e.YQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Sk||this.nQ(c)}var f=[],l=XB(this.jQ.getBoundingClientRect());f.push.apply(f,this.$Q(l));for(var v=0;v<u.length;v++){var d=u[v],w=void 0;this.YQ.has(d.H_)?w=this.YQ.get(d.H_).KQ:(w=FB(d,s),r.appendChild(w),this.YQ.set(d.H_,{vk:d,KQ:w})),f.push(XB(w.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var m=t[g],y=this.TQ(m,f,l);void 0!==y&&f.push(y)}},i.$Q=function(t){var n=[],i=this.mQ;if(void 0!==i.cU){var e=t.Lu();e.dT=i.cU,n.push(e)}if(void 0!==i.hU){var r=t.Lu();r.dT=i.hU,r.qQ=t.qQ,n.push(r)}return n},i.TQ=function(t,n,i){var e,r;t.vk?(r=this.YQ.get(t.vk.H_).KQ,"up"===t.vk.Nk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.jQ;var s=null==(e=this.iQ(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.tZ(t),r.appendChild(s),t.vk||(t.lk?function(t,n,i,e){var r=UB(t),s=r?i.dT:i.Bk,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=XB(n.getBoundingClientRect()),a=g.round(V_(t));"rl"===t.dk&&(a=-(a+1));var h=u*a;"rl"===t.dk&&(h=h-o.Bk+u);a<0&&(h+=s,u=-u);r?o.VQ+=h:o.zQ+=h;var c=o.Lu(),f=!1;for(;!i.xy(o)||HB(o,e);)if(r)if(u<0&&o.VQ<i.VQ||u>0&&o.qQ>i.qQ){if(o.VQ=c.VQ,f)break;u=-u,f=!0}else o.VQ+=u;else if(u<0&&o.zQ<i.zQ||u>0&&o.GQ>i.GQ){if(o.zQ=c.zQ,f)break;u=-u,f=!0}else o.zQ+=u;r?n.style.top=(o.VQ-i.VQ)/i.dT*100+"%":n.style.left=(o.zQ-i.zQ)/i.Bk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=XB(n.getBoundingClientRect());if(0===r.Bk||0===r.dT)return;UB(t)?"center"===t.ck?r.VQ-=r.dT/2:"end"===t.ck&&(r.VQ-=r.dT):"center"===t.ck?r.zQ-=r.Bk/2:"end"===t.ck&&(r.zQ-=r.Bk);var s,u=r.Lu(),o=u,a=1,h=!1;s=""===t.dk?[TB.POS_Y,TB.NEG_Y,TB.POS_X,TB.NEG_X]:"lr"===t.dk?[TB.POS_X,TB.NEG_X,TB.POS_Y,TB.NEG_Y]:[TB.NEG_X,TB.POS_X,TB.POS_Y,TB.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!VB(r,i,s[f],.01)&&(!i.xy(r)||HB(r,e));)zB(r,s[f],c);if(i.xy(r)){o=r.Lu(),h=!0;break}var l=(v=r,d=i,w=void 0,m=void 0,void 0,w=g.max(0,g.min(v.GQ,d.GQ)-g.max(v.zQ,d.zQ)),m=g.max(0,g.min(v.qQ,d.qQ)-g.max(v.VQ,d.VQ)),w*m/(v.Bk*v.dT));a>l&&(o=r.Lu(),a=l),r=u.Lu()}i.xy(r)||(o=u.Lu())}var v,d,w,m;n.style.left=(o.zQ-i.zQ)/i.Bk*100+"%",n.style.top=(o.VQ-i.VQ)/i.dT*100+"%"}(t,s,i,n)),this._Q(t,[s])),!t.vk)return XB(s.getBoundingClientRect())},i.tZ=function(t){for(var n=new Jo,i=t.nk,e=this.nZ(t),r={iZ:void 0,gy:e},u=r,o="",a="",h=[r],c=[],f=[];n.Pu<i.length;){var l=_B(i,n);if(l.fs===yB.DQ){var v=s.createElement("span");AB(v,l.nk),BB(v,h),""!==o&&(v.lang=o),this.eZ(v,a),u.gy.appendChild(v)}else if(l.fs===yB.IQ){var d=l.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.gy.appendChild(w),u={iZ:l,gy:w},h.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.iZ)?void 0:g.Ri.toLowerCase())){var m=s.createElement("rt");u.gy.appendChild(m),u={iZ:l,gy:m},h.push(u)}break;case"c":case"v":u={iZ:l,gy:u.gy},h.push(u);break;case"font":var y,p=null==(y=l.UQ)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(a=p[1],f.push(a),u={iZ:l,gy:u.gy},h.push(u));break;case"lang":var _;o=null!=(_=l.UQ)?_:"",c.push(o)}}else if(l.fs===yB.XQ){var b,k=l.Ri.toLowerCase(),A=null==(b=u.iZ)?void 0:b.Ri.toLowerCase();A===k?(h.pop(),u=h[h.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===k?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===k&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(l.fs===yB.FQ){var T=l.HQ,S=new Jo;try{Lb(T,S)}catch(t){ct("ERROR collecting timestamp",t)}}}return e},i.eZ=function(t,n){var i=this.mQ,e=this.yQ;i.uU&&(t.style.background=i.uU);var r=e.rU||n||i.rU;r&&(t.style.color=r)},i.JQ=function(t,n,i,e){if(e){var r=OB(e,n);t.style.height=r*i+"px",t.style.left=LB(e)+"%",t.style.top=MB(e,n)+"px"}t.style.fontSize=NB*n*i+"px"},i.nZ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.ek,function(t,n){"rl"===n.dk?t.style.writingMode="vertical-rl":"lr"===n.dk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=G_(n);UB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=q_(n),s=W_(n),u=G_(n);if(UB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.lk?0:V_(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.lk?0:V_(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.mQ.oU;i&&(n.style.background=i);var e=this.mQ.rU;return e&&(n.style.color=e),n.style.textShadow=rB(this.mQ.aU),n},n}(eB);function BB(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.iZ){for(var r=0,s=e.iZ.RQ;r<s.length;r++){var u=s[r];sr(t,RB+u)}"v"===e.iZ.Ri.toLowerCase()&&e.iZ.UQ&&sr(t,CB+e.iZ.UQ)}}}function OB(t,n){return t.Ik*(NB*n)*PB}function LB(t){return t.Ck-t.Rk*t.Bk/100}function MB(t,n){var i=t.Pk,e=t.Dk*OB(t,n)/100;return g.max(0,i-e)}function jB(t){var n=s.createElement("div");return n.className=IB+"default",cr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=NB*t+"px",n.style.lineHeight=PB+"em",n}function FB(t,n){var i=jB(n);i.className=IB+t.H_;var e=t.Bk,r=OB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=LB(t)+"%",i.style.right="",i.style.top=MB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function UB(t){return""===t.dk}function HB(t,n){return n.some(function(n){return t.WQ(n)})}function XB(t){return new SB(t.left,t.top,t.width,t.height)}function zB(t,n,i){switch(n){case TB.POS_X:t.zQ+=i;break;case TB.NEG_X:t.zQ-=i;break;case TB.POS_Y:t.VQ+=i;break;case TB.NEG_Y:t.VQ-=i}}function VB(t,n,i,e){switch(i){case TB.POS_X:return t.GQ>n.GQ+e;case TB.NEG_X:return t.zQ<n.zQ-e;case TB.POS_Y:return t.qQ>n.qQ+e;case TB.NEG_Y:return t.VQ<n.VQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(TB||(TB={}));var WB,qB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(WB||(WB={}));var GB={rU:iB.WHITE,eU:nB.pQ,sU:"100%",uU:iB.BLACK,oU:"transparent",aU:"none",rZ:WB.FONT_REGULAR,lU:"visible",cU:void 0,hU:void 0,fU:void 0,vU:void 0},$B=[{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.GREEN,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.GREEN,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.BLUE,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.BLUE,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.CYAN,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.CYAN,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.RED,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.RED,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.YELLOW,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.YELLOW,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.MAGENTA,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.MAGENTA,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.WHITE,rZ:WB.FONT_ITALICS,uZ:0},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE_ITALICS,uZ:0},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:0},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:0},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:4},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:4},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:8},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:8},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:12},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:12},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:16},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:16},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:20},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:20},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:24},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:24},{sZ:iB.WHITE,rZ:WB.FONT_REGULAR,uZ:28},{sZ:iB.WHITE,rZ:WB.FONT_UNDERLINE,uZ:28}],YB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function QB(t,n){return ab(t.oZ,n.oZ)||Hs(t.kS,n.kS)}var ZB=32,KB=function(){function t(t,n,i){this.aZ=void 0,this.cZ=t,this.hZ=n,this.Uj=i}var n=t.prototype;return n.fZ=function(){return this.aZ=this.vZ(),this.lZ(),this.dZ(),this.aZ},n.vZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.wZ/ZB*this.hZ._Z*100+"%",t.style.height=1.2*this.gZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.hZ.mZ?"calc(1em - 1ch)":"";var n=this.Uj.eU;n&&(t.style.fontFamily=n);var i=this.Uj.oU;return i&&(t.style.backgroundColor=i),t},n.lZ=function(){if(this.aZ){var t=this.kZ.yZ/15*100,n=this.kZ.uZ/ZB*100,i=(ZB-this.bZ.uZ-1)/ZB*100,e=(15-this.bZ.yZ-1)/15*100;this.hZ.pZ||(n=i=1,this.aZ.style.width="98%"),e<t?this.aZ.style.bottom=e*this.hZ._Z+"%":this.aZ.style.top=t*this.hZ._Z+"%",i<n?this.aZ.style.right=i+"%":this.aZ.style.left=n+"%"}},n.dZ=function(){for(var t=this.cZ.AZ.sort(JB),n=0;n<t.length;n++)this.TZ(t[n-1],t[n]),this.SZ(t[n]);this.TZ(t[t.length-1],void 0)},n.SZ=function(n){var i,e=Jx(this.Uj,n.EZ),r=t.IZ(e);AB(r,n.RZ),null==(i=this.aZ)||i.appendChild(r)},t.IZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.rZ!==WB.FONT_ITALICS&&t.rZ!==WB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.rZ!==WB.FONT_UNDERLINE&&t.rZ!==WB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.rU;i&&(n.style.color=i);var e=t.uU;return e&&(n.style.backgroundColor=e),n.style.textShadow=rB(t.aU),n.style.height="1.2em",n},n.TZ=function(t,n){var i=t?t.DZ.yZ:this.cZ.NZ.yZ,e=n?n.NZ.yZ:this.cZ.DZ.yZ,r=t?t.DZ.uZ:this.cZ.NZ.uZ,s=n?n.NZ.uZ:this.cZ.DZ.uZ;i<e&&(!n||t&&t.NZ.yZ!==n.NZ.yZ?this.CZ():this.PZ(this.cZ.DZ.uZ-r),r=this.cZ.NZ.uZ),r<s&&(n?this.PZ(s-r):this.CZ())},n.CZ=function(){var t,n=s.createElement("br");null==(t=this.aZ)||t.appendChild(n)},n.PZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",AB(i,Es(" ",t)),null==(n=this.aZ)||n.appendChild(i)}},T(t,[{key:"kZ",get:function(){return this.cZ.NZ}},{key:"bZ",get:function(){return this.cZ.DZ}},{key:"wZ",get:function(){return this.cZ.DZ.uZ-this.cZ.NZ.uZ+1}},{key:"gZ",get:function(){return this.cZ.DZ.yZ-this.cZ.NZ.yZ+1}}]),t}();function JB(t,n){return function(t,n){if(t.yZ!==n.yZ)return t.yZ-n.yZ;return t.uZ-n.uZ}(t.NZ,n.NZ)}var tO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,GB)||this).BZ=void 0,s.OZ=void 0,s}E(n,t);var i=n.prototype;return i.tQ=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.mQ.eU&&(n.style.fontFamily=this.mQ.eU),n},i.$j=function(t,n){this.xZ()},i.xZ=function(){var t,n=tB(this.mQ);this.OZ={_Z:(t=100*n)/100,mZ:t<=100,pZ:t<=150};var i=this.LZ/ZB;this.BZ=i*n,this.xD.style.fontSize=this.BZ+"px"},i.dQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Sk||this.nQ(r)}for(var s=0;s<t.length;s++){var u=t[s];this.TQ(u)}},i.TQ=function(t){this.OZ&&this.OZ.pZ?this.MZ(80):this.MZ(100),this.xZ();var n=this.iQ(t);n||(n=this.SQ(t),this._Q(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.xD.appendChild(r)}},i.SQ=function(t){var n=this;return t.nk.map(function(t){return new KB(t,n.OZ,n.mQ).fZ()})},i.MZ=function(t){var n=(100-t)/2;this.xD.style.left=n+"%",this.xD.style.width=t+"%"},T(n,[{key:"LZ",get:function(){var t=this.xD.offsetWidth;return this.OZ&&this.OZ.pZ||(t*=.8),t}}]),n}(eB),nO=function(){function t(t,n,i,e,r){var s=this;this.UZ=void 0,this.Gq=void 0,this.Pm=void 0,this.XZ=void 0,this.FZ=[],this.OC=void 0,this.HZ=function(t){var n=t.i_;n.Zs(ny.w_,s.zZ),n.Zs(ny.g_,s.zZ),n instanceof vx&&(n.DG=s.DG),s.VZ(n)},this.zZ=function(t){var n=t.i_;s.VZ(n)},this.WZ=function(t){var n=t.i_;n.tu(ny.w_,s.zZ),n.tu(ny.g_,s.zZ),s.GZ(n)},this.qZ=function(){for(var t=s.DG,n=0,i=s.Pm.N_;n<i.length;n++){var e=i[n];e instanceof vx&&(e.DG=t)}},this.YZ=function(){for(var t=0,n=s.FZ;t<n.length;t++){n[t].sQ(s.OC)}},this.jZ=function(){for(var t=0,n=s.FZ;t<n.length;t++){var i=n[t];i.sQ(Ur({},i.oQ(),{lU:"hidden"}))}},this.QZ=function(){for(var t=0,n=s.FZ;t<n.length;t++){var i=n[t];i.sQ(Ur({},i.oQ(),{lU:"visible"}))}},this.UZ=t,this.Gq=n,this.Pm=i,this.XZ=r,this.OC=e,this.Pm.Zs(Zm.Qw,this.HZ),this.Pm.Zs(Zm.Kw,this.WZ),this.Pm.Zs(ny.l_,this.zZ),this.XZ.Zs(lE.l_,this.qZ),this.OC.Zs("d_",this.YZ),this.qZ()}var n=t.prototype;return n.ZZ=function(t){for(var n=0,i=this.FZ;n<i.length;n++){var e=i[n];if(e.i_===t)return e}},t.KZ=function(t){switch(t.fs){case A_.TTML:case A_.SRT:case A_.WEBVTT:case A_.CEA608:return!0}return!1},n.JZ=function(t){switch(t.fs){case A_.TTML:return new aB(t,this.UZ,t.W_,this.Gq);case A_.SRT:case A_.WEBVTT:return new xB(t,this.UZ,t.W_,this.Gq);case A_.CEA608:return new tO(t,this.UZ,t.W_,this.Gq)}},n.$Z=function(t){var n=this.ZZ(t);n||(n=this.JZ(t))&&(n.SL(),n.sQ(this.OC),this.FZ.push(n),t.eg===Py.Z_&&n.vQ())},n.GZ=function(t){for(var n=this.FZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.i_===t&&(e.xd(),Ys(n,i))}},n.VZ=function(n){Xk(n.V_)&&t.KZ(n)&&(n.ag===k_.ERROR?this.GZ(n):this.$Z(n))},n.D_=function(){for(var t=0,n=this.FZ;t<n.length;t++){var i=n[t];i.i_.tu(ny.w_,this.zZ),i.i_.tu(ny.g_,this.zZ),i.xd()}Ks(this.FZ)},n.xd=function(){this.D_();for(var t=0,n=this.FZ;t<n.length;t++){n[t].xd()}this.Pm.tu(Zm.Qw,this.HZ),this.Pm.tu(Zm.Kw,this.WZ),this.Pm.tu(ny.l_,this.zZ),this.XZ.tu(lE.l_,this.qZ),this.OC.tu("d_",this.YZ)},T(t,[{key:"DG",get:function(){return this.XZ.pC}}]),t}();function iO(t){var n=new XR,i=function(t){var n=[];return UR.ux(t)&&n.push(new UR(t)),HR.ux(t)&&n.push(new HR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.lx(r)}n.vx(i[0])}return n}var eO,rO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).tK=void 0,s.nK=void 0,s.iK=void 0,s.iK=iO(n),s.tK=new Kx,s.nK=new nO(s.tK.gy,s.XU,s.Um,s.HU,s.jD),s}E(n,t);var i=n.prototype;return i.$m=function(){return this.Vh},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.iK.xd(),this.tK.xd(),this.nK.xd(),n.next=5,Fr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,qe)},i.Jm=function(){t.prototype.Jm.call(this),this.tK.Jm()},i.Km=function(){t.prototype.Km.call(this),this.tK.Km()},i.Pj=function(n){t.prototype.Pj.call(this,n),this.tK.Pj(n)},T(n,[{key:"xD",get:function(){return this.Vh}},{key:"im",get:function(){return this.Vh.videoHeight}},{key:"um",get:function(){return this.Vh.videoWidth}},{key:"jD",get:function(){return this.iK}}]),n}(Xx);!function(t){t.eK="HELLO",t.rK="HI_THERE",t.sK="INITIALIZE",t.uK="APPEND_INIT",t.oK="APPEND_DATA",t.aK="ACK",t.cK="REMOVE",t.hK="DESTROY_SESSION"}(eO||(eO={}));var sO=function(){function t(){this.we=void 0,this.Fh=void 0,this._X=new vD}var n=t.prototype;return n.fK=function(t){var n=this;return this._X.sX(function(t){var i,e,r,s,u,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(fu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Fr.awrap(Ym(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Fr.awrap(Ym(o.serviceWorker.controller,"activate",t));case 10:return s={kind:eO.eK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,h.prev=15,h.next=18,Fr.awrap(Ym(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===eO.rK){h.next=23;break}throw new l("Could not set up message channel");case 23:n.Fh=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),cu(h.t0)&&n.vK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],qe)},t)},n.lK=function(t,n){var i=this;return this.we,this._X.sX(function(){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new l("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Fr.awrap(Ym(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,qe)})},n.dK=function(){var t=this;return this._X.sX(function(){return t.vK()})},n.vK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:eO.hK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),uO=function(){function t(){this.wK=J_.zb}var n=t.prototype;return n._K=function(t,n){var i=t.qk(n);this.wK=i.Lk(this.gK)?this.wK:i},n.mK=function(t){this.wK=t},T(t,[{key:"gK",get:function(){return this.wK}}]),t}(),oO=function(t){function n(n,i){var e;return(e=t.call(this)||this).yK=void 0,e.kK=void 0,e.ra=void 0,e._X=new vD,e.bK=!1,e.pK=!1,e.oO=n,e.AK=i,e}E(n,t);var i=n.prototype;return i.RV=function(t,n){},i.DV=function(t,n){},i.QX=function(){return this.pK},i.NV=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.cV=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.Jz=function(t,i,e){var r,s,u=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs===FD.tF){i.next=2;break}throw new l("Streaming or opaque segments are not supported yet.");case 2:return r=t.Hi,s=function(){var t,i,e,s,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=hk.MA(new DataView(r.buffer)),(i=ik(t,vb.Vp)).length){c.next=4;break}throw new l("Moof boxes not found");case 4:return e=u.ra,s=n.TK(i,e),o=u.SK(i,e),a=r.buffer,h={kind:eO.oK,mimeType:u.oO,segment:r,startPts:ob.jb(s).ip(),totalDuration:ob.jb(o).ip()},c.next=11,Fr.awrap(u.AK.lK(h,[a]));case 11:void 0===u.yK&&(u.yK=s),void 0===u.kK&&(u.kK=s),u.kK=u.kK.Oy(o),u.Qs(new Iu(BD.JX));case 15:case"end":return c.stop()}},null,null,null,qe)},i.abrupt("return",this._X.sX(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,u.bK=!0,n.next=5,Fr.awrap(s());case 5:return n.prev=5,u.bK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},e));case 5:case"end":return i.stop()}},null,this,null,qe)},i.nV=function(t,n,i){var e,r,s=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.fs===FD.tF){n.next=2;break}throw new l("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Hi,r=function(){var t,n,i,r;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=hk.MA(new DataView(e.buffer)),n=nk(t,vb.gp)){u.next=4;break}throw new l("Moov Box not found");case 4:if(0!==n.JA.length){u.next=6;break}throw new l("Tracks not found");case 6:return s.ra=n.JA[0].oT.NA.Bb,i=e.buffer,r={kind:eO.uK,mimeType:s.oO,segment:e},u.next=11,Fr.awrap(s.AK.lK(r,[i]));case 11:s.Qs(new Iu(BD.JX));case 12:case"end":return u.stop()}},null,null,null,qe)},n.abrupt("return",this._X.sX(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,s.bK=!0,n.next=5,Fr.awrap(r());case 5:return n.prev=5,s.bK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 5:case"end":return n.stop()}},null,this,null,qe)},i.bV=function(){this.pK=!0},i.gV=function(){this.pK=!1},i.Gc=function(t,n,i){var e,r=this;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:eO.cK,mimeType:r.oO,endTime:ob.Wb(n).ip()},i.next=3,Fr.awrap(r.AK.lK(t));case 3:r.yK=void 0,r.kK=void 0,r.Qs(new Iu(BD.JX));case 6:case"end":return i.stop()}},null,null,null,qe)},t.abrupt("return",this._X.sX(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fu(t),n.prev=1,r.bK=!0,n.next=5,Fr.awrap(e());case 5:return n.prev=5,r.bK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 2:case"end":return t.stop()}},null,this,null,qe)},i.FX=function(t){return this.oO===t.Fl},i.HX=function(t){return this.oO=t.Fl,qe.resolve()},n.TK=function(t,n){if(0===t.length)throw new l("Initial Moof box not found");var i=t[0];if(0===i.JA.length)throw new l("No tracks");if(!i.JA[0].SS)throw new l("No decode time");return new J_(i.JA[0].SS.SS.toNumber(),n)},i.SK=function(t,n){var i=0;return t.forEach(function(t){t.JA.forEach(function(t){t.TS.forEach(function(t){t.CS.forEach(function(t){var n;i+=null!=(n=t.Qg)?n:0})})})}),new J_(i,n)},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this._X.xd());case 3:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"wy",get:function(){return void 0===this.yK||void 0===this.kK?dE.kC():new dE([this.yK.Fb,this.kK.Fb])}},{key:"nh",get:function(){return{Fl:this.oO}}},{key:"BV",get:function(){return o_.vd}},{key:"iO",get:function(){return this.oO}},{key:"OV",get:function(){return dE.kC()}},{key:"vL",get:function(){return 30},set:function(t){}},{key:"_L",get:function(){return 30},set:function(t){}},{key:"mx",get:function(){return this.bK}},{key:"EK",get:function(){return this.yK}},{key:"$y",get:function(){return this.kK}}]),n}(Su),aO=function(){function t(t,n){this.Nh=void 0,this.hW=void 0,this.fW=void 0,this.Nh=t,this.fW=Ws(n,function(t){return Boolean(t.iO.match(/video/))}),this.hW=Ws(n,function(t){return Boolean(t.iO.match(/audio/))}),this.IK()}t.RK=function(n,i){for(var e=[],r=0;r<n.AW.length;r++){var s=n.AW[r].Fl;e.push(new oO(s,i))}return new t(n,e)};var n=t.prototype;return n.IK=function(){},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(qe.all([this.hW,this.fW].filter(H).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,qe)},n.yW=function(t){},n.pW=function(t,n,i,e){},n.bV=function(){var t,n;null==(t=this.hW)||t.bV(),null==(n=this.fW)||n.bV()},n.gV=function(){var t,n;null==(t=this.hW)||t.gV(),null==(n=this.fW)||n.gV()},n.FX=function(t){return t===this.Nh},n.HX=function(t){return this.Nh=t,qe.resolve()},T(t,[{key:"DK",get:function(){return[this.hW,this.fW].filter(H)}},{key:"uW",get:function(){return this.hW}},{key:"wy",get:function(){return UN(this)}},{key:"nh",get:function(){return this.Nh}},{key:"Qg",get:function(){return 0}},{key:"QX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.hW)?void 0:n.QX())||t,s=null==(i=null==(e=this.fW)?void 0:e.QX())||i;return r&&s}},{key:"Ny",get:function(){return new dE([0,1/0])}},{key:"oW",get:function(){return this.fW}},{key:"Mm",get:function(){throw new l("Not implemented")}}]),t}(),hO=J_.eb,cO=new J_(-1/0),fO=J_.zb,lO=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Mk=function(t,n){return t.zk(n)?Os.Ds:t.Tk(n)?Os.Is:Os.Rs},i.Oy=function(t,n){return t.Oy(n)},i.qk=function(t,n){return t.qk(n)},i.Hk=function(t,n){return t.Hk(n)},i.jN=function(){return hO},i.QN=function(){return fO},i.$N=function(){return cO},n.gC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new J_(t.start(e)),new J_(t.end(e)));return new n(i)},n.NK=function(t){for(var i=[],e=[],r=0;r<t.C_;r++)i.push(new J_(t.MN(r))),i.push(new J_(t.XN(r))),e.push(t.UN(r)),e.push(t.FN(r));return new n(i,e)},n.yC=function(t){return new n([t,t],[!0,!0])},i.qN=function(t,i){return new n(t,i)},i.WN=function(t){return t.Fb},n.kC=function(){return vO},n}(vE),vO=new lO([]),dO=function(t){function n(n){var i;return(i=t.call(this)||this).CK=!0,i.AK=new sO,i.PK=new uO,i.oD=void 0,i.jq=void 0,i.BK=!0,i.xK=new na,i.DC=!1,i.uY=qe.resolve(),i.oY=new au,i.LK=!0,i.cY=dE.kC(),i.iK=void 0,i.MK=void 0,i.yY=!1,i.lD=void 0,i.UK=function(){i.$g||i.XK.C_<=0||i.wy.C_<=0||i.PK._K(new J_(i.wy.XN(i.wy.C_-1)),i.XK.XN(i.XK.C_-1))},i.FK=function(){i.Qs(new Ep(i.jg))},i.HK=function(){i.Qs(new Sp(i.jg,i._y))},i.zK=function(){i.Qs(new Tp(i.jg,i.tm))},i.VK=function(){i.Qs(new Dp(i.jg,i.cm))},i.WK=function(){i.Qs(new Ap(i.Qg))},i.GK=function(){i.Qs(new bA(i.jg))},i.qK=function(){i.xu(i.jg)},i.YK=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.LK&&i.Qs(new yp(i.jg)),i.BK=!1,i.LK=!0;case 3:case"end":return t.stop()}},null,null,null,qe)},i.jK=function(){i.BK=!0,i.Qs(new mp(i.jg))},i.MK=n,i.jq=new QN(Jt(i)),i.MK.setAttribute("id","player_video"),i.MK.setAttribute("x-webkit-airplay","deny"),i.MK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.MK.playsInline=!0,i.MK.style.width="100%",i.MK.style.height="100%",i.QK(),i.ZK(),i.iK=iO(i.MK),i}E(n,t);var e=n.prototype;return e.QK=function(){this.MK.addEventListener("timeupdate",this.UK),this.MK.addEventListener("ended",this.FK),this.MK.addEventListener("timeupdate",this.HK),this.MK.addEventListener("ratechange",this.zK),this.MK.addEventListener("volumechange",this.VK),this.MK.addEventListener("durationchange",this.WK),this.MK.addEventListener("playing",this.GK),this.MK.addEventListener("seeking",this.qK),this.MK.addEventListener("play",this.YK),this.MK.addEventListener("pause",this.jK)},e.KK=function(){this.MK.removeEventListener("timeupdate",this.UK),this.MK.removeEventListener("ended",this.FK),this.MK.removeEventListener("timeupdate",this.HK),this.MK.removeEventListener("ratechange",this.zK),this.MK.removeEventListener("volumechange",this.VK),this.MK.removeEventListener("durationchange",this.WK),this.MK.removeEventListener("playing",this.GK),this.MK.removeEventListener("seeking",this.qK),this.MK.removeEventListener("play",this.YK),this.MK.removeEventListener("pause",this.jK)},e.ZK=function(){this.jq.Zs(wp.w_,this.js)},e.JK=function(){this.jq.tu(wp.w_,this.js)},e.xu=function(t,n){this.oY.Hs(),this.oY=new au,this.uY=this.wj(t,this.uY,this.oY.Ws).catch(K)},e.wj=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.cY=this.Ry,r=null==(e=this.oD)?void 0:e.DK){u.next=4;break}return u.abrupt("return");case 4:return s=g.max.apply(g,r.map(function(t){return t.EK?t.EK.Fb:1/0})),this.DC=!0,this.Qs(new Rp(t)),u.next=9,Fr.awrap(n.catch(K));case 9:if(fu(i),u.prev=10,this.CK||this.$K(),this.MK.load(),this.BK){u.next=17;break}return this.LK=!1,u.next=17,Fr.awrap(du(this.MK.play(),i));case 17:if(!(this.ag<Ky.Xg)){u.next=22;break}return u.next=20,Fr.awrap(this.jq.au(wp.w_,i));case 20:u.next=17;break;case 22:this.xK.Wu(),this.CK=!1,this.DC=!1,this.Qs(new Cp(this.jg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.xK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.tJ(),this.PK.mK(new J_(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],qe)},e.Hm=function(){this.BK=!0,this.MK.pause()},e.Fm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.BK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.MK.src){t.next=9;break}return this.Nj(),t.next=7,Fr.awrap(this.xK.Fu);case 7:t.next=11;break;case 9:return t.next=11,Fr.awrap(this.MK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.BK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],qe)},e.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AK&&this.AK.dK().catch(K),this.oY.Hs(),this.KK(),this.JK(),this.jq.xs(),this.$s();case 6:case"end":return t.stop()}},null,this,null,qe)},e.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AK&&this.AK.dK().catch(K),this.oY.Hs(),this.MK.removeAttribute("src"),this.MK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.MK.removeAttribute("x-airplay-deny"),this.MK.load(),this.jq.D_(),this.cY=dE.kC();case 8:case"end":return t.stop()}},null,this,null,qe)},e.Nj=function(){this.Cj||(pO(this.MK,i.Lr),this.yY=!0)},e.$K=function(){var t,n=this.MK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.MK.videoWidth/this.MK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.MK.style.width=i+"px",this.MK.style.height=e+"px",this.MK.style.marginLeft=(r-i)/2+"px",this.MK.style.marginTop=(u-e)/2+"px",this.MK.style.backgroundColor="black"}},e.tJ=function(){this.MK.style.width="100%",this.MK.style.height="100%",this.MK.style.marginLeft="",this.MK.style.marginTop="",this.MK.style.backgroundColor=""},e.qD=function(t,n,i,e){},e.SE=function(t,n,i,e,r,s){},e.jX=function(t){},e.eN=function(){return NC(this.MK)},e.Km=function(){this.MK.style.display="block"},e.Jm=function(){this.MK.style.display="none"},e.Rj=function(){},e.Wc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs!==hA.NE){i.next=2;break}throw new l("Not yet implemented");case 2:return i.next=4,Fr.awrap(this.AK.fK());case 4:return n={kind:eO.sK,mediaBufferConfigs:t.AW.map(function(t){return t.Fl})},i.next=7,Fr.awrap(this.AK.lK(n));case 7:return this.oD=aO.RK(t,this.AK),this.MK.preload="none",this.MK.src="https://theo.proxy/"+this.AK.Fh+"/master.m3u8",i.abrupt("return",this.oD);case 11:case"end":return i.stop()}},null,this,null,qe)},e.Dj=function(){},e.RE=function(t){},e.QD=function(){},e.iN=function(t){},e.WD=function(){return!1},e.Pj=function(t){t.appendChild(this.MK)},e.$m=function(){return this.MK},e.sj=function(){},e.ly=function(){},T(n,[{key:"xD",get:function(){return this.MK}},{key:"PW",get:function(){return!1}},{key:"jg",get:function(){return this.MK.currentTime+this.PK.gK.Fb}},{key:"$g",get:function(){return this.MK.paused}},{key:"cm",get:function(){return this.MK.volume},set:function(t){this.MK.volume=t}},{key:"tm",get:function(){return this.MK.playbackRate},set:function(t){this.MK.playbackRate=t}},{key:"nJ",get:function(){return this.MK.defaultPlaybackRate}},{key:"wy",get:function(){var t,n;return null!=(t=null==(n=this.oD)?void 0:n.wy)?t:dE.kC()}},{key:"XK",get:function(){return lO.gC(this.MK.buffered)}},{key:"Ry",get:function(){var t=dE.mC(this.iJ);return this.cY.iC(t.Bu(this.PK.gK.Fb))}},{key:"iJ",get:function(){return lO.gC(this.MK.played)}},{key:"nm",get:function(){return this.DC}},{key:"Qg",get:function(){return this.MK.duration}},{key:"Jg",get:function(){return this.MK.muted},set:function(t){this.MK.muted=t}},{key:"EZ",get:function(){return this.MK.style}},{key:"Oj",get:function(){return Ur({},PD,{RX:!0,DX:300})}},{key:"ag",get:function(){return this.jq.ag}},{key:"im",get:function(){return this.MK.videoHeight}},{key:"um",get:function(){return this.MK.videoWidth}},{key:"Zg",get:function(){return this.MK.ended}},{key:"dT",get:function(){return this.MK.height||this.MK.clientHeight}},{key:"Bk",get:function(){return this.MK.width||this.MK.clientWidth}},{key:"yy",get:function(){return!1}},{key:"Cj",get:function(){return this.yY}},{key:"_y",get:function(){}},{key:"XU",get:function(){}},{key:"mu",get:function(){}},{key:"jD",get:function(){return this.iK}},{key:"Ny",get:function(){return this.oD?this.oD.Ny:dE.kC()}},{key:"rN",get:function(){}},{key:"Um",get:function(){}},{key:"HU",get:function(){}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"Bj",get:function(){return"block"===this.MK.style.display}},{key:"LD",get:function(){return this.lD},set:function(t){this.lD=t}},{key:"Wq",get:function(){}}]),n}(Su),wO=2,gO=[o_.Sd,o_.Ed];function mO(t){var n=s.createElement(t);return lr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),yO(n),n}function yO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),vr(t),t.pause(),t.playbackRate=1,t.preload=uE.AN,t.controls=!1,t.style.display="none",lr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function pO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Y(e)&&pu(e),t.pause()}}var _O,bO,kO;function AO(t){return{get bandwidth(){return t.HR},get codecs(){return t.ZH},get id(){return t.H_},get uid(){return t.z_},get name(){return t.W_},get averageBandwidth(){return t.eJ},get label(){return t.W_},set label(n){t.W_=Ay(n)},get height(){return t.dT},get width(){return t.Bk},get frameRate(){return t.rJ},get firstFrame(){return t.sJ},get available(){return t.uJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function TO(t){return{get bandwidth(){return t.HR},get codecs(){return t.ZH},get id(){return t.H_},get uid(){return t.z_},get name(){return t.W_},get averageBandwidth(){return t.eJ},get label(){return t.W_},set label(n){if(!G(n))throw new l("Unexpected - The provided label is not a string");t.W_=n},get audioSamplingRate(){return t.oJ},get available(){return t.uJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function SO(t,n){return[t,void 0!==n?t+n-1:Mt]}function EO(t){return Boolean(t.oT)}function IO(t){return Boolean(t.aJ)}le=(_O={cJ:function(){function t(t,n,i,e,r){void 0===i&&(i=wO),void 0===e&&(e=gO),void 0===r&&(r=Ef()),this.hJ=void 0,this.fJ=void 0,this.ys=void 0,this.vJ=void 0,this.Gq=void 0,this.OC=void 0,this.lJ=void 0,this.hJ=i,this.fJ=[].concat(e),this.ys=r,this.Gq=t,this.OC=n,this.vJ=Xr(),this.dJ()}var n=t.prototype;return n.MC=function(t){for(var n=0,i=this.XC;n<i.length;n++){i[n].Pj(t)}},n.OD=function(t){var n=Ws(this.vJ.get(t),function(t){return t.uJ});if(n)return n.uJ=!1,n.wJ},n._J=function(t){if(!this.lJ)throw new l("Error creating iOS Safari MediaController");return this.lJ},n.JD=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.xD,i=n.tagName.toLowerCase(),r.next=4,Fr.awrap(t.D_());case 4:yO(n),(e=Ws(this.vJ.get(i)||[],function(n){return t===n.wJ}))&&(e.uJ=!0);case 7:case"end":return r.stop()}},null,this,null,qe)},n.UC=function(){for(var t=0,n=this.XC;t<n.length;t++){n[t].Nj()}},n.xd=function(){for(var t=0,n=this.XC;t<n.length;t++){var i=n[t],e=i.xD;i.xs(),yO(e),nr(e)}},n.dJ=function(){for(var t=0,n=this.fJ;t<n.length;t++){var i=n[t],e=[];this.vJ.set(i,e);for(var r=0;r<this.hJ;r++){var s=mO(i),u=i===o_.Sd?new Qx(s,this.ys,this.Gq):new rO(s,this.ys,this.Gq,this.OC);e.push({wJ:u,uJ:!0})}}if(j.Bn&&j.cn){var o=mO(o_.Ed);this.lJ=new dO(o)}},T(t,[{key:"XC",get:function(){for(var t=[],n=0,i=this.fJ;n<i.length;n++){var e=i[n],r=this.vJ.get(e).map(function(t){return t.wJ});t.push.apply(t,r)}return this.lJ&&t.push(this.lJ),t}}]),t}(),gJ:function(){function t(n){var i=this;this.mJ=new vD,this.yJ=function(){var n,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.NC.OD(o_.Ed),e=n.xD,s.next=4,Fr.awrap(t.kJ(e));case 4:return r=s.sent,s.next=7,Fr.awrap(i.NC.JD(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,qe)},this.NC=n}var n=t.prototype;return n.pX=function(){return this.mJ.sX(this.yJ)},n.jm=function(){this.NC.UC()},t.kJ=function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!j.En&&!j.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Fr.awrap(t.bJ());case 5:return i.next=7,Fr.awrap(t.pJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Fr.awrap(t.AJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,qe)},t.pJ=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,Y(n)){e.next=4;break}return e.abrupt("return",!j.dn);case 4:return i=bu(100),e.next=7,Fr.awrap(qe.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],qe)},t.AJ=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Fr.awrap(t.pJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,qe)},t.bJ=function(){return new qe(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.xd=function(){this.mJ.xd()},t}(),TJ:{wO:function(t){we.addEventListener("beforeunload",t)},EO:function(t){we.removeEventListener("beforeunload",t)}},SJ:r}).cJ,ve=_O.gJ,de=_O.TJ,we=_O.SJ,ge=we&&we.location,me=we&&we.navigator,function(t){t.EJ="currentbufferingrenditionchange",t.IJ="RJ",t.DJ="NJ",t.CJ="PJ"}(bO||(bO={})),function(t){t[t.Sd=0]="Sd",t[t.Ed=1]="Ed",t[t.rA=2]="rA",t[t.BJ=3]="BJ"}(kO||(kO={}));var RO,CO,DO,NO=[kO.Sd,kO.Ed,kO.rA,kO.BJ];function PO(t){return t?t.OJ?t.Ai+"@"+t.OJ.MN+"-"+(null!=(n=t.OJ.C_)?n:""):""+t.Ai:"";var n}function xO(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.OJ)return!0;if(n.OJ){var i=SO(t.OJ.MN,t.OJ.C_),e=SO(n.OJ.MN,n.OJ.C_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function BO(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.OJ)===Boolean(n.OJ)&&(!t.OJ||!n.OJ||t.OJ.MN===n.OJ.MN&&t.OJ.C_===n.OJ.C_))}function OO(t){var n=!!t.xJ||void 0;return{H_:t.H_,LJ:t.LJ,rN:t.rN,MJ:t.MJ,Qg:t.Qg,UJ:t.UJ,xJ:n,XJ:t.FJ,HJ:t.zJ,VJ:t.VJ,WJ:t.WJ}}!function(t){t[t.GJ=0]="GJ",t[t.qJ=1]="qJ"}(RO||(RO={})),function(t){t[t.TN=0]="TN",t[t.YJ=1]="YJ",t[t.jJ=2]="jJ"}(CO||(CO={})),function(t){t[t.vd=0]="vd",t[t.QJ=1]="QJ",t[t.ZJ=2]="ZJ"}(DO||(DO={}));var LO=function(t,n){this.z_=void 0,this.KJ=void 0,this.fs=void 0,this.JJ=void 0,this.$J=void 0,this.t$=void 0,this.wi=void 0,this.G_=void 0,this.n$=void 0,this.i$=void 0,this.e$=void 0,this.z_=g_(),this.KJ=n,this.fs=t.fs,this.JJ=t.JJ,this.$J=t.$J,this.t$=t.t$,this.wi=t.wi,this.G_=t.G_,this.n$=t.n$,this.i$=t.i$,this.e$=void 0===t.r$};function MO(t,n){return t.fs===n.fs&&(t.wi===n.wi||!(!jO(t)||!jO(n)))}function jO(t){return t.fs===kO.Ed&&t.JJ&&t.e$&&void 0===t.G_}function FO(t,n){return t.KJ===n.KJ}function UO(t,n){for(var i=0;i<t.length;i++){if(FO(t[i],n))return!0}return!1}var HO,XO,zO=function(t){function n(n,i){var e;return(e=t.call(this,ny.p_)||this).q_=void 0,e.i_=void 0,e.q_=n||[],e.i_=i,e}return E(n,t),n.prototype.n_=function(){return new VO(this.q_.map(function(t){return t.t_}))},n}(Jm),VO=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Iu);!function(t){t.s$="alternative",t.u$="main",t.o$="commentary",t.a$="",t.cE="descriptions",t.c$="main-desc",t.h$="translation"}(HO||(HO={})),function(t){t.s$="alternative",t.u$="main",t.o$="commentary",t.a$="",t.aE="captions",t.f$="sign",t.rA="subtitles"}(XO||(XO={}));var WO=function(t){function n(n,i,e){var r;return(r=t.call(this,ny.k_)||this).v$=n,r.l$=i,r.d$=e,r}return E(n,t),n.prototype.n_=function(){return new qO(this.v$&&this.v$.t_)},n}(Jm),qO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Iu);function GO(t){return{HR:t.HR,$e:t.ZH,dT:$O(t)?t.dT:0,fs:$O(t)?o_.Ed:o_.Sd,Bk:$O(t)?t.Bk:0}}function $O(t){var n=t;return void 0!==n.dT&&void 0!==n.Bk}var YO,QO=function(t){function n(){return t.call(this,ny.NO_QUALITY)||this}return E(n,t),n}(Iu),ZO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).My=void 0,u.oa=void 0,u.w$=void 0,u._$=void 0,u.g$=void 0,u.$w=void 0,u.Uy=void 0,u.m$=function(){var t=u.X_;t&&u._$!==t&&(u._$=t,u.Qs(new WO(t)))},u.y$=function(){var t=u.F_;u.g$!==t&&(u.g$=t,u.k$.Qs(new hy(Jt(u))),u.Qs(new hy(Jt(u))))},u.IN=n,u.k$=i,u.q_=e,u._$=u.X_,u.g$=u.F_;var o=e.S_(0);return u.My=null!=(r=null==o?void 0:o.b$.wi)?r:"",u.oa=null!=(s=null==o?void 0:o.b$.G_)?s:"",u.Uy=v_(),u.IN.Zs(bO.EJ,u.m$),u.IN.Zs(bO.IJ,u.y$),u}E(n,t);var e=n.prototype;return e.Hy=function(t){this.F_=t},e.xd=function(){this.$s(),this.IN.tu(bO.EJ,this.m$),this.IN.tu(bO.IJ,this.y$);for(var t=0,n=this.q_.N_;t<n.length;t++){n[t].xd()}this.q_.D_()},T(n,[{key:"F_",get:function(){var t=this.p$();if(!t)return!1;for(var n=0,i=this.q_.N_;n<i.length;n++){if(i[n].b$===t)return!0}return!1},set:function(t){if(t!==this.F_&&t){for(var n=this.q_.S_(0).b$,i=this.IN.A$,e=0,r=this.q_.N_;e<r.length;e++){var s=r[e];if(s.T$===i){n=s.b$;break}}this.S$(n)}}},{key:"X_",get:function(){if(this.F_)for(var t=this.IN.E$,n=0,i=this.q_.N_;n<i.length;n++){var e=i[n];if(UO(t,e.b$))return e}}},{key:"t_",get:function(){return this.$w||(this.$w=Cy(this)),this.$w}},{key:"H_",get:function(){return this.Uy.toString()}},{key:"z_",get:function(){return this.Uy}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new c_(this)))}},{key:"G_",get:function(){return this.oa}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Y_",get:function(){return this.w$},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.X_?GO(n.X_):void 0;return i.Lr.Me(e,GO(t))}).filter(function(i){return n.q_.xy(t)&&i.uJ}):e=this.q_.N_.filter(function(t){return t.uJ});0!==e.length?t!==this.w$&&(this.w$&&Js(this.w$,e)||(this.w$=t?e:void 0,this.IN.I$(e.map(function(t){return t.T$})),1===e.length&&pu(this.IN.R$(e[0].T$,!1)),this.Qs(new zO(e,this)))):this.Qs(new QO)}}]),n}(Su),KO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.p$=function(){return this.IN.D$},i.S$=function(t){pu(this.IN.N$(t))},T(n,[{key:"V_",get:function(){return HO.u$}}]),n}(ZO),JO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.p$=function(){return this.IN.C$},i.S$=function(t){pu(this.IN.P$(t))},T(n,[{key:"V_",get:function(){return XO.u$}}]),n}(ZO),tL=function(t){function n(n,i){var e;return(e=t.call(this)||this).uJ=!0,e.T$=n,e.b$=i,e}E(n,t);var i=n.prototype;return i.mE=function(){},i.xd=function(){this.$s()},T(n,[{key:"H_",get:function(){return String(this.T$.H_)}},{key:"z_",get:function(){return this.T$.H_}},{key:"HR",get:function(){return this.T$.HR}},{key:"eJ",get:function(){return this.T$.eJ}},{key:"W_",get:function(){return this.b$.wi}},{key:"r$",get:function(){return this.b$.KJ.B$()}}]),n}(Su),nL=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return E(n,t),n.prototype.n_=function(){return TO(this)},T(n,[{key:"oJ",get:function(){return 0}},{key:"ZH",get:function(){var t;return(null==(t=this.T$.ZH)?void 0:t.QH)||""}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(tL),iL=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return E(n,t),n.prototype.n_=function(){return AO(this)},T(n,[{key:"ZH",get:function(){var t;return(null==(t=this.T$.ZH)?void 0:t.jH)||""}},{key:"sJ",get:function(){return 0}},{key:"rJ",get:function(){return 0}},{key:"dT",get:function(){var t,n;return null!=(t=null==(n=this.T$.O$)?void 0:n.dT)?t:0}},{key:"Bk",get:function(){var t,n;return null!=(t=null==(n=this.T$.O$)?void 0:n.Bk)?t:0}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(tL);!function(t){t.x$="FATAL",t.K_="ERROR",t.L$="WARNING",t.M$="INFO",t.U$="DEBUG"}(YO||(YO={}));var eL,rL=new(function(){function t(){this.F_=function(){return!1}}var n=t.prototype;return n.X$=function(t){if(!this.F_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.F$=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[YO.U$+" "+t+" -"].concat(e))}},n.yT=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[YO.M$+" "+t+" -"].concat(e))}},n.H$=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[YO.L$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[YO.K_+" "+t+" -"].concat(e))}},n.z$=function(t){if(this.X$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[YO.x$+" "+t+" -"].concat(e))}},t}()),sL="HLSPlaylistParser",uL=function(){function t(t,n,i){this.IN=t,this.V$=n,this.W$=i}var n=t.prototype;return n.G$=function(){var t,n,i=null==(t=this.IN.q$)?void 0:t.Y$;if(i&&0!==i.length){for(var e=null!=(n=Ws(i,function(t){return 0!==t.j$.length&&0!==t.Q$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.j$;s<u.length;s++){var o=u[s],a=new h_,h=[];a.Oy(new nL(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],l=0,v=f.j$;l<v.length;l++){var d=v[l];if(MO(d,o)&&!UO(h,d)){a.Oy(new nL(f,d)),h.push(d);break}}this.V$.E_(new KO(this.IN,this.V$,a))}for(var w=0,g=e.Q$;w<g.length;w++){var m=g[w],y=new h_,p=[];y.Oy(new iL(e,m)),p.push(m);for(var _=0;_<r.length;_++)for(var b=r[_],k=0,A=b.Q$;k<A.length;k++){var T=A[k];if(MO(T,m)&&!UO(p,T)){y.Oy(new iL(b,T)),p.push(T);break}}this.W$.E_(new JO(this.IN,this.W$,y))}}else rL.H$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.Z$=function(){this.K$(this.V$),this.K$(this.W$)},n.K$=function(t){for(var n=[],i=0,e=t.N_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.q_.N_;u<o.length;u++){var a=o[u];Qs(a.T$.J$,a.b$)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.q_.Gc(c),c.xd()}0===r.q_.C_&&n.push(r)}for(var f=0;f<n.length;f++){var l=n[f];t.I_(l),l.xd()}},t}(),oL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).xC=void 0,e.xC=i,e}return E(n,t),n.prototype.ud=function(t){var n,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new hg(t),e=this.xC.oL.FR(n)){o.next=4;break}return o.abrupt("return",this.pE.ud(n));case 4:return e.aL(i.ir()/1e3),o.next=7,Fr.awrap(this.pE.ud(t));case 7:return r=o.sent,e.cL(i.ir()/1e3),s=r.Xl().pipeThrough(new Aw(new aL(e))),u={Hi:s,ud:r.ud},o.abrupt("return",new ag(u,r));case 12:case"end":return o.stop()}},null,this,null,qe)},n}(function(){function t(t){this.pE=void 0,this.pE=t}var n=t.prototype;return n.ud=function(t){return this.pE.ud(t)},n.Od=function(t){this.pE.Od(t)},n.xd=function(){this.pE.xd()},t}()),aL=function(){function t(t){this.nU=void 0,this.n0=t}var n=t.prototype;return n.start=function(t){this.nU=t},n.transform=function(t){this.n0.hL(i.ir()/1e3,t),this.nU.enqueue(t)},n.flush=function(){this.n0.fL(i.ir()/1e3)},t}(),hL=function(){function t(t){this.i0=void 0,this.e0=0,this.r0=0,this.i0=g.exp(g.log(.5)/t)}var n=t.prototype;return n.s0=function(t,n){var i=g.pow(this.i0,t),e=n*(1-i)+i*this.e0;p(e)||(this.e0=e,this.r0+=t)},n.HX=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.i0)if(0!==this.r0){var i=this._K,e=1-g.pow(n,this.r0);this.e0=i*e,this.i0=n}else this.i0=n},T(t,[{key:"_K",get:function(){var t=1-g.pow(this.i0,this.r0);return this.e0/t}}]),t}();!function(t){t.u0="sample"}(eL||(eL={}));var cL=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.o0),void 0===s&&(s=n.a0),(u=t.call(this)||this).c0=void 0,u.h0=void 0,u.f0=0,u.v0=void 0,u.l0=void 0,u.l0=r,u.c0=new hL(i),u.h0=new hL(e),u.v0=s,u}E(n,t);var i=n.prototype;return i.d0=function(t,n,i){if(0!==t){var e=8*n/t;this.c0.s0(i,e),this.h0.s0(i,e),this.f0+=n,this.Qs(new Iu(eL.u0))}},i.w0=function(){return this.f0>=this.l0},T(n,[{key:"_K",get:function(){return this.w0()?g.min(this.c0._K,this.h0._K):this.v0}}]),n}(Su);cL.o0=128e3,cL.a0=5e5;var fL=function(){function t(n,i,e,r){void 0===n&&(n=t._0),void 0===i&&(i=t.g0),void 0===e&&(e=t.a0),void 0===r&&(r=!1),this.c0=void 0,this.h0=void 0,this.m0=0,this.y0=[],this.k0=void 0,this.b0=6e4,this.p0=10,this.A0=void 0,this.T0=void 0,this.v0=void 0,this.S0=void 0,this.A0=n,this.T0=i,this.v0=e,this.S0=r,this.c0=new hL(n),this.h0=new hL(i)}var n=t.prototype;return n.s0=function(t){var n=i.ir(),e=t;this.S0&&void 0!==this.k0&&n-this.k0>=this.b0&&this.D_(),this.m0+=1,this.c0.s0(1,e),this.h0.s0(1,e),this.y0.push(e),this.y0.length>this.p0&&this.y0.shift(),this.k0=n},n.w0=function(){return void 0!==this.k0&&i.ir()-this.k0<=this.b0},n.D_=function(){this.c0=new hL(this.A0),this.h0=new hL(this.T0),this.m0=0,this.y0=[],this.k0=void 0},T(t,[{key:"_K",get:function(){return this.w0()?g.max(this.c0._K,this.h0._K):this.v0}}]),t}();fL._0=2,fL.g0=5,fL.a0=.1;var lL=function(){function t(t){this.E0=t}var n=t.prototype;return n.aL=function(t){for(var n=0,i=this.E0;n<i.length;n++){i[n].aL(t)}},n.cL=function(t){for(var n=0,i=this.E0;n<i.length;n++){i[n].cL(t)}},n.hL=function(t,n){for(var i=0,e=this.E0;i<e.length;i++){e[i].hL(t,n)}},n.fL=function(t){for(var n=0,i=this.E0;n<i.length;n++){i[n].fL(t)}},t}(),vL=function(){function t(t){this.I0=void 0,this.R0=void 0,this.I0=t}var n=t.prototype;return n.aL=function(t){this.R0=t},n.cL=function(t){this.I0.s0(t-this.R0)},n.hL=function(t){},n.fL=function(t){},t}(),dL=function(){function t(t){this.D0=void 0,this.N0=void 0,this.C0=[],this.D0=t}var n=t.prototype;return n.hL=function(t,n){if(void 0!==this.N0){var i=t-this.N0,e=this.C0.length>0?this.C0.reduce(function(t,n){return n+t},0)/this.C0.length:0;i>e/2&&i<e+e/2&&this.D0.s0(i,n.length),this.C0.push(i),this.C0.length>100&&this.C0.shift(),this.N0=t}else this.N0=t},n.aL=function(t){},n.cL=function(t){},n.fL=function(t){},t}(),wL=function(){function t(t,n){void 0===n&&(n=0),this.D0=void 0,this.P0=void 0,this.B0=new gL,this.UG=0,this.O0=0,this.D0=t,this.P0=n}var n=t.prototype;return n.aL=function(t){},n.hL=function(t,n){var e=n.byteLength,r=this.O0;this.O0=e;var s=t-this.UG;this.UG=t,this.B0.BF(n);var u=!this.B0.x0(),o=e>=this.P0;r!==i.Lr.Qe&&u&&o&&this.D0.s0(s,e)},n.cL=function(t){this.UG=t},n.fL=function(t){},t}(),gL=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).L0=void 0,n.M0=!1,n}E(n,t);var i=n.prototype;return i.x0=function(){return this.M0},i.BF=function(n){this.M0=!1,t.prototype.BF.call(this,n)},i.CF=function(n,i){this.L0&&this.L0!==vb.Zp||(this.M0=!0),t.prototype.CF.call(this,n,i),this.L0=n},i.HF=function(t){return!1},i.VF=function(t){},i.WF=function(t){},n}($D),mL=function(t){function n(i,e,r,s){return void 0===i&&(i=n._0),void 0===e&&(e=n.g0),t.call(this,i,e,r,s)||this}return E(n,t),n.prototype.s0=function(t,n){this.d0(t,n,t)},n}(cL);mL._0=.5,mL.g0=5;var yL=function(){function t(t){this.D0=void 0,this.U0=void 0;var n=t.HR>0?t.HR:cL.a0,i=t.zR>0?t.zR:fL.a0;this.D0=new mL(mL._0,mL.g0,1,n),this.U0=new fL(fL._0,fL.g0,i)}var n=t.prototype;return n.FR=function(t){if("segment"===t.fs)return new lL([new vL(this.U0),new dL(this.D0),new lL([new dL(this.D0),new wL(this.D0,1e3)])])},n.X0=function(t){this.D0=new mL(mL._0,mL.g0,1,t)},T(t,[{key:"HR",get:function(){return this.D0._K}},{key:"zR",get:function(){return this.U0._K}}]),t}(),pL=function(t){function n(n){var i;return(i=t.call(this,bO.CJ)||this).mu=n,i}return E(n,t),n}(Iu),_L=function(){function t(t){this.wJ=t}return t.prototype.jX=function(t){var n={fs:hA.CE,XD:[],AW:[{Fl:t}]};return qe.resolve(void 0!==this.wJ.jX([n]))},t}(),bL=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){return!!Qs(r,t)||1.1*t.HR<=i.HR}))},kL=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){if(Qs(r,t))return!0;for(var s=1/0,u=0,o=t.J$;u<o.length;u++){var a,h,c=o[u];s=g.min(s,null!=(a=null!=(h=c.KJ.F0)?h:c.KJ.H0)?a:1/0)}s===1/0&&(s=1);var f=3*i.zR+t.HR*s/i.HR;return t.HR<=n.HR||e>f}))},AL=function(t,n,i,e,r){return qe.resolve(Ms(t,function(t,n){return n.HR-t.HR}))},TL=function(t,n,i,e,r){return qe.resolve(t.every(function(t){return t.z0&&!p(t.z0)})?Ms(t,function(t,n){return n.z0-t.z0}):t)},SL=function(t,n,i,e,r){return qe.resolve(Ms(t,function(t,n){var i=Qs(r,t)?1:0;return(Qs(r,t)?1:0)-i}))},EL=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){return!t.ZH||!n.ZH||(t.ZH.jH?!!n.ZH.jH&&(t.ZH.jH.split(".")[0]===n.ZH.jH.split(".")[0]&&(t.ZH.QH?!!n.ZH.QH&&(t.ZH.QH.split(".")[0]===n.ZH.QH.split(".")[0]&&t.ZH.KH===n.ZH.KH):!n.ZH.QH)):!n.ZH.jH)}))},IL=function(){function t(t){this.V0=[EL,bL,kL,AL,TL,SL],this.xC=t}var n=t.prototype;return n.W0=function(t){this.V0=t},n.G0=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new l("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:rL.F$("AbrEvaluator","Performing optimal variant stream selection."),r=this.q0,s=t,u=0,o=this.V0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Fr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return rL.H$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",nu(t,function(t){return t.HR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,qe)},T(t,[{key:"q0",get:function(){return this.xC.oL}}]),t}();function RL(t,n,i,e){var r=[],s=Ws(i,function(t){return t.Y0===Jr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.Y0!==Jr)for(var h=0,c=_s(a.Y0);h<c.length;h++){var f=c[h];r.push({$c:f,YR:a.j0?[a.j0]:[],uR:void 0})}}if(r.length)return{QE:t,Q0:{Z0:u,ZE:s.ZE},K0:r,J0:n===o_.Sd?e.slice():[],$0:n===o_.Ed?e.slice():[],Uq:!1}}}}function CL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Xr();return DL(e,r,t.K0),DL(e,r,n.K0),{QE:t.QE,Q0:{Z0:t.Q0.Z0,ZE:null!=(i=t.Q0.ZE)?i:n.Q0.ZE},K0:e,J0:NL(t.J0,n.J0,Qs),$0:NL(t.$0,n.$0,Qs),Uq:t.Uq||n.Uq||!1}}function DL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.$c._s,u=void 0;n.has(s)?(u=n.get(s)).YR=NL(u.YR,r.YR,PL):(u=Ur({},r),t.push(u),n.set(s,u))}}function NL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function PL(t,n){for(var i=0;i<t.length;i++){if(Gu(t[i],n))return!0}return!1}function xL(t,n){var i,e=t.n1;if(e){for(var r=t.iO,s=[],u=0,o=t.ZH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=RL(n||{},t.fs,e,s)}for(var h=0,c=t.i1;h<c.length;h++){i=CL(i,BL(c[h],n))}return i}function BL(t,n){return RL(n||{},t.fs,t.n1||[],[t.Fl])}function OL(t,n){switch(n.fs){case Kr.$r:return t.widevine;case Kr.Jr:return t.playready;case Kr.us:return t.fairplay;case Kr.rs:return t.clearkey}}function LL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function ML(t,n,i,e){var r,s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(t){v.next=2;break}return v.abrupt("return",[]);case 2:return r=n.filter(function(t){return ks(t,"audio")}),s=n.filter(function(t){return ks(t,"video")}),u=[],o=i.map(function(t){return jL(t,e)}),v.next=8,Fr.awrap(qe.all(o));case 8:for(a=v.sent.filter(H),h=UL(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],l=OL(t,f.$c),"cbcs",u.push({$c:f.$c,YR:f.YR,uR:f.uR,$D:[{initDataTypes:[f.$c.ls],audioCapabilities:LL(r,"cbcs",null==l?void 0:l.audioRobustness),videoCapabilities:LL(s,"cbcs",null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return v.abrupt("return",u);case 12:case"end":return v.stop()}},null,null,null,qe)}function jL(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.r$){s.next=2;break}return s.abrupt("return");case 2:if(t.e1){s.next=4;break}return s.abrupt("return");case 4:if(t.Rd===CO.jJ){s.next=6;break}return s.abrupt("return");case 6:if(i=FL(t.e1)){s.next=9;break}return s.abrupt("return");case 9:if(i._s!==fs){s.next=13;break}return s.abrupt("return",{$c:i,YR:[],uR:t.r$});case 13:return rL.yT("HLSDrmUtils","Fetching key uri "+t.r$+"."),s.next=16,Fr.awrap(n.ud({hd:t.r$}));case 16:return e=s.sent,s.next=19,Fr.awrap(e.Ul());case 19:return r=s.sent,s.abrupt("return",{$c:i,YR:[r],uR:void 0});case 21:case"end":return s.stop()}},null,null,null,qe)}function FL(t){return t===os?ws:t===ss?ds:t===vs?ms:void 0}function UL(t,n){var i=function(t){var i=n.indexOf(t.$c._s);return i>=0?i:n.length};return Ms(t,function(t,n){return i(t)-i(n)})}function HL(t){if("#"!==t[0])throw new l("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function XL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function zL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new l("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function VL(t){var n=YL(zL(t));if(void 0===n)throw new l("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function WL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:rL.H$(sL,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function qL(t,n){var e,r,s=WL(t);try{e=s.URI?i.Or(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return kO.Sd;case"VIDEO":return kO.Ed;case"SUBTITLES":return kO.rA;case"CLOSED-CAPTIONS":return kO.BJ}throw new l("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,v="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,g=s.CHANNELS;if(u||rL.H$(sL,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||rL.H$(sL,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||rL.H$(sL,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===kO.BJ?(e&&rL.H$(sL,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||rL.H$(sL,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):rL.H$(sL,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&rL.H$(sL,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&rL.H$(sL,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===kO.rA&&s.FORCED&&rL.H$(sL,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{s1:a,u1:g,o1:w,n$:u,$J:f,JJ:c,t$:v,i$:d,G_:o,wi:h,fs:r,r$:e}}function GL(t,n,e){var r,s,u,o=WL(t);try{r=i.Or(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(p(i)||p(e))throw new l("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Bk:i,dT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();As(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:As(o,"avc")||As(o,"hvc1")||As(o,"hev1")||As(o,"dvh")?i=u:e=e?e+","+o:o}return{QH:n,jH:i,KH:e}}(o.CODECS)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=YL(o.BANDWIDTH),h=YL(o["AVERAGE-BANDWIDTH"]),c=YL(o.SCORE),f=YL(o["FRAME-RATE"]),v=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var g=o["VIDEO-RANGE"],m=o.AUDIO,y=o.VIDEO,_=o.SUBTITLES,b=o["CLOSED-CAPTIONS"];if(void 0===a?rL.H$(sL,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&rL.H$(sL,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||rL.yT(sL,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.jH&&void 0===u&&rL.yT(sL,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Qs(["TYPE-0","TYPE-1","NONE"],v)||rL.H$(sL,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Qs(["SDR","PQ","HLG"],g)||rL.H$(sL,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{a1:d,c1:m,eJ:h,HR:a,h1:b,ZH:s,rJ:f,f1:v,O$:u,z0:c,v1:_,r$:r,l1:y,d1:g}}function $L(t,n){var i=WL(t);if(!i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return GL(t,n,i.URI)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function YL(t){var n=Number(t);return p(n)?void 0:n}function QL(t,n){var i,e,r=WL(t);try{i=function(t){switch(t){case"NONE":return CO.TN;case"AES-128":return CO.YJ;case"SAMPLE-AES":return CO.jJ;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new l("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?rM(r.URI,n):void 0}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,v=r.KEYFORMATVERSIONS;if(i!==CO.TN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(FL(o)!==ws)throw new l("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=CO.jJ}else s=i;u=e,a=f?ta(f):void 0,h=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=CO.TN,(e||c||v||f)&&rL.H$(sL,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Rd:s,r$:u,w1:a,e1:o,_1:h}}function ZL(t){var n=zL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[YL(e),r]}function KL(t,n){var i=t.split("@"),e=YL(i[0]),r=i.length>1?YL(i[1]):n;if(void 0===e||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{MN:r,C_:e}}function JL(t){if(void 0!==t)return KL(t,void 0)}function tM(t,n){return KL(zL(t),n)}function nM(t,n){var i=WL(t);try{return{Ai:rM(i.URI,n),OJ:JL(i.BYTERANGE)}}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function iM(t){var n=zL(t);if(!n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Vt(i))throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function eM(t){var n,i,e,r=WL(t),s=r["START-DATE"],u=r["END-DATE"],o=YL(r["PLANNED-DURATION"]),a=YL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=ta(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=ta(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=ta(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],v=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&As(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,g=r.CLASS;if(void 0===s)rL.H$(sL,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,Vt(h)||rL.H$(sL,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var m=new Date(h.getTime()+1e3*a);c?c.getTime()!==m.getTime()&&(rL.H$(sL,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=m):c=m}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||rL.H$(sL,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&rL.H$(sL,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&rL.H$(sL,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&rL.H$(sL,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{H_:d,LJ:g,rN:h,MJ:c,Qg:a,UJ:o,zJ:n,WJ:i,VJ:e,xJ:f,FJ:v}}function rM(t,n){if(void 0===t)throw new l("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Or(t,n)}function sM(t,n){var i=WL(t),e=YL(i.DURATION),r=rM(i.URI,n),s=JL(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new l("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Qg:e,r$:{Ai:r,OJ:s},g1:u,m1:o}}function uM(t){var n=WL(t);return{b1:"YES"===n["CAN-BLOCK-RELOAD"],A1:YL(n["CAN-SKIP-UNTIL"]),T1:"YES"===n["CAN-SKIP-DATERANGES"],S1:YL(n["HOLD-BACK"]),E1:YL(n["PART-HOLD-BACK"])}}function oM(t,n){var i=WL(t);if(void 0===i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=rM(i.URI,n),r=YL(i["LAST-MSN"]),s=YL(i["LAST-PART"]);if(void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{r$:e,I1:r,R1:s}}function aM(t,n){var i,e=WL(t),r=YL(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{D1:r,N1:s,C1:n}}function hM(t){var n=YL(WL(t)["PART-TARGET"]);if(void 0===n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function cM(t){switch(zL(t)){case"VOD":return DO.QJ;case"EVENT":return DO.ZJ;default:return rL.H$(sL,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),DO.vd}}function fM(t,n){var i,e,r=WL(t);try{i=function(t){if(void 0===t)throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return RO.GJ;if("PART"===t)return RO.qJ;throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=rM(r.URI,n)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=YL(r["BYTERANGE-START"]),o=YL(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={MN:u||0,C_:o}),{fs:i,r$:{Ai:e,OJ:s}}}var lM=function(){function t(n){this.P1=0,this.B1=void 0,this.B1=t.O1(n)}var n=t.prototype;return n.L1=function(){var t=this.B1[this.P1];return this.P1+=1,t},n.M1=function(){return this.B1[this.P1]},n.Lu=function(){var n=new t("");return n.P1=0,n.B1=this.B1.slice(this.P1),n},t.O1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function vM(t,n,i){var e=t.r$,r=t.xA,s=t.U1,u=t.MN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=VL(t);return p(n)?(rL.H$(sL,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=WL(t),i=YL(n["TIME-OFFSET"]);if(void 0===i)throw new l("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{X1:i,F1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":rL.H$(sL,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:rL.yT(sL,"Ignoring unrecognized line or comment: "+n+".")}return{r$:e,xA:r,U1:s,MN:u}}function dM(t,n){return t.map(function(t){return t.Rd===CO.TN||t.w1?t:Ur({},t,{w1:wM(n)})})}function wM(t){var n=new DataView(new ArrayBuffer(16)),i=new Jo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;Ao(t,n,e?s:r,e),Ao(t,n,u,e)}(n,i,vt.fromNumber(t)),new _(n.buffer)}function gM(t,n,e){rL.yT(sL,"Parsing M3U8 playlist at "+t+".");var r=new lM(e);if("#EXTM3U"!==r.L1())throw new l("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Or(t)}catch(n){throw rL.H$(sL,"The master playlist has no valid base URI: "+t+"."),new l("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={r$:r,U1:void 0,MN:void 0,xA:void 0},u=[],o=[],a=[],h=[];;){var c=n.L1();if(!c)break;try{var f=HL(c);switch(f){case"#EXT-X-MEDIA":var v=qL(c,r);u.push(v);break;case"#EXT-X-STREAM-INF":var d=GL(c,r,n.L1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=$L(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":rL.H$(sL,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var g=QL(c,r);h.push(g);break;default:s=vM(s,c,f)}}catch(t){rL.H$(sL,"Ignoring unparsable line: "+c,t)}}var m=s.xA,y=null!=(e=s.U1)&&e,p=s.MN;return void 0===m&&(rL.H$(sL,"The playlist has no #EXT-X-VERSION, assuming version is 2."),m=2),m>=8&&(o.some(function(t){return void 0!==t.z0})||a.some(function(t){return void 0!==t.z0}))&&(o.some(function(t){return void 0===t.z0})||a.some(function(t){return void 0===t.z0}))&&rL.H$(sL,"If one master playlist variant stream has a SCORE, all variants should have it."),{r$:r,xA:m,U1:y,MN:p,H1:a,z1:h,oT:u,V1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,v,d,w,g,m,y,p,_,b,k,A,T={r$:t,U1:void 0,MN:void 0,xA:void 0},S=[],E=!1,I=!1,R=[],C=Xr(),D=[],N=[],P=!1,x=!1,B=[],O=[],L=0,M=!1,j=DO.vd,F=!1,U=0;try{A=i.Or(t)}catch(n){throw rL.H$(sL,"The media playlist has no valid base URI: "+t+".",n),new l("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.Lu();void 0===_||void 0===b;){var X=H.L1();if(!X)break;try{switch(XL(X)){case"#EXT-X-MEDIA-SEQUENCE":_=VL(X);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":b=VL(X)}}catch(t){rL.H$(sL,"Ignoring unparsable line: "+X,t)}}void 0===_&&(rL.yT(sL,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),_=0),void 0===b&&(rL.yT(sL,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),b=0);for(var z=_,V=b;;){var W=e.L1();if(!W)break;var q=!1;try{var G=XL(W);switch(G){case"#EXTINF":q=!0;var $=ZL(W);h=$[0],c=$[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=tM(W,L))&&(L=f.MN+f.C_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,V++;break;case"#EXT-X-KEY":var Y,Q;q=!0;var Z=QL(W,A);if(Z.Rd===CO.TN){C.clear(),y=void 0;break}var K=null!=(Y=null==(Q=Z.e1)?void 0:Q.toString())?Y:"identity";C.set(K,Z),Z.Rd===CO.YJ&&(y=Z);break;case"#EXT-X-MAP":q=!0,d=nM(W,A),w=y;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,g=iM(W);break;case"#EXT-X-GAP":q=!0,x=!0;break;case"#EXT-X-BITRATE":q=!0,m=VL(W);break;case"#EXT-X-TARGETDURATION":s=VL(W);break;case"#EXT-X-DATERANGE":var J=eM(W);S.push(J);break;case"#EXT-X-PART":q=!0;var tt=sM(W,A);N.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=fM(W,A);B.push(nt);break;case"#EXT-X-SKIP":R.length>0&&rL.H$(sL,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=aM(W,z);U=it.D1,k=it.N1,z+=it.D1;break;case"#EXT-X-SERVER-CONTROL":var et=uM(W);E=et.b1,u=et.A1,I=et.T1,o=et.S1,a=et.E1;break;case"#EXT-X-RENDITION-REPORT":var rt=oM(W,A);O.push(rt);break;case"#EXT-X-PART-INF":p=hM(W);break;case"#EXT-X-MEDIA-SEQUENCE":q&&rL.H$(sL,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&rL.H$(sL,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":j=cM(W);break;case"#EXT-X-I-FRAMES-ONLY":F=!0;break;default:if(As(G,"#"))T=vM(T,W,G);else{v=i.Or(W,A);var st=d?{r$:d,W1:w}:void 0,ut={z1:dM(Wr(C),z),rE:D,G1:N,Qg:h,zD:c,q1:P,r$:{OJ:f,Ai:v},Y1:st,j1:g,m1:x,Q1:m,C1:z,Z1:V};R.push(ut),z++,D=[],N=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,v=void 0,g=void 0,x=!1,m=void 0}}}catch(t){rL.H$(sL,"Ignoring unparsable line: "+W,t)}}if(N.length){var ot=d?{r$:d,W1:y}:void 0,at={z1:dM(Wr(C),z),rE:D,G1:N,Qg:h,zD:c,q1:P,r$:void 0,Y1:ot,j1:g,m1:x,Q1:m,C1:z,Z1:V};R.push(at)}var ht=T.xA,ct=null!=(r=T.U1)&&r,ft=T.MN;void 0===ht&&(rL.H$(sL,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&rL.H$(sL,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var lt=R.length,vt=lt>0;vt||rL.H$(sL,"The HLS media playlist contains no segments.");var dt=vt&&R[lt-1].G1.length>0;return dt&&void 0===p&&rL.H$(sL,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&rL.H$(sL,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{b1:E,A1:u,T1:I,K1:S,Z1:b,J1:M,U1:ct,S1:o,n2:F,C1:_,D1:U,E1:a,F0:p,i2:j,e2:B,N1:k,s2:O,u2:s,aJ:R,MN:ft,r$:A,o2:n,xA:ht}}(t,n,r)}var mM=function(){function t(t,n,i){var e,r,s,u;this.H_=yM++,this.KJ=void 0,this.HR=void 0,this.z0=void 0,this.O$=void 0,this.c1=void 0,this.l1=void 0,this.v1=void 0,this.h1=void 0,this.a2=void 0,this.c2=void 0,this.h2=[],this.KJ=n,this.HR=t.HR,this.a2=t.eJ,this.z0=t.z0,this.c2=t.ZH?pM(t.ZH):void 0,this.O$=t.O$,this.c1=null!=(e=t.c1)?e:"f2"+this.H_,this.l1=null!=(r=t.l1)?r:"l2"+this.H_,this.v1=null!=(s=t.v1)?s:"d2"+this.H_,this.h1=null!=(u=t.h1)?u:"w2"+this.H_,this.h2=i}var n=t.prototype;return n._2=function(t){for(var n=0,i=this.h2;n<i.length;n++){var e=i[n].KJ._2(t);if(void 0!==e)return e}},n.g2=function(t){for(var n=0,i=this.h2;n<i.length;n++){var e=i[n].KJ.g2(t);if(void 0!==e)return e}},n.m2=function(t){for(var n=0,i=this.h2;n<i.length;n++){var e=i[n];if(e.fs===t&&e.e$)return void $s(this.h2,e)}},T(t,[{key:"r$",get:function(){return this.KJ.r$}},{key:"ZH",get:function(){return this.c2},set:function(t){this.c2=t?pM(t):void 0}},{key:"eJ",get:function(){return this.a2||this.HR}},{key:"b2",get:function(){var t,n;if(!this.h2.length)return dE.kC();var i=null!=(t=iu(this.h2,function(t){var n;return null!=(n=t.KJ.A2)?n:0}))?t:this.J$[0],e=i.KJ.aJ;if(!e.length||e.length<2)return dE.kC();var r=i.KJ.J1?e[0].Jy:e[1].Jy,s=e[e.length-1],u=s.Jy+(null!=(n=s.Qg)?n:s.T2)-this.J$.reduce(function(t,n){var i,e;return g.max(null!=(i=null!=(e=n.KJ.E1)?e:n.KJ.S1)?i:0,t)},0);return u<r?dE.kC():new dE([r,u])}},{key:"J$",get:function(){return this.h2}},{key:"j$",get:function(){return this.h2.filter(function(t){return t.fs===kO.Sd})}},{key:"Q$",get:function(){return this.h2.filter(function(t){return t.fs===kO.Ed})}},{key:"S2",get:function(){return this.h2.filter(function(t){return t.fs===kO.rA})}},{key:"E2",get:function(){return this.h2.filter(function(t){return t.fs===kO.BJ})}}]),t}(),yM=0;function pM(t){return Ur({},t,{jH:t.jH?qc(t.jH):void 0})}var _M=function(){function t(t,n,i,e,r){this.I2=void 0,this.R2=void 0,this.Qg=void 0,this.r$=void 0,this.g1=void 0,this.m1=void 0,this.D2=void 0,this.wk=void 0,this.N2=void 0,this.C2=void 0,this.I2=t,this.R2=n,this.wk=i,this.D2=e,this.Qg=r.Qg,this.r$=r.r$,this.g1=r.g1,this.m1=r.m1}return t.prototype.P2=function(t,n){this.wk=t,this.D2=n},T(t,[{key:"Jy",get:function(){var t;return this.wk+(null!=(t=this.C2)?t:0)}},{key:"B2",get:function(){return this.D2}},{key:"z1",get:function(){return this.I2.z1}}]),t}();function bM(t){return void 0!==t.G1}var kM,AM=function(){function t(t,n,i,e){this.ua=void 0,this.j1=void 0,this.r$=void 0,this.Y1=void 0,this.m1=void 0,this.D2=void 0,this.C1=void 0,this.q1=void 0,this.Z1=void 0,this.z1=void 0,this.wk=void 0,this.N2=void 0,this.O2=[],this.L2=0,this.M2=void 0,this.wk=t,this.Y1=e.Y1,this.D2=i,this.ua=e.Qg,this.j1=e.j1,this.r$=e.r$,this.m1=e.m1,this.C1=e.C1,this.q1=e.q1,this.Z1=n,this.z1=e.z1,this.U2(e.G1)}var n=t.prototype;return n.X2=function(t){return this.O2[t]},n.F2=function(t){for(var n=0;n<this.O2.length;n++){var i=this.O2[n],e=i.Jy,r=e+i.Qg;if(e<=t&&t<=r)return t===r&&n+1<this.O2.length?this.O2[n+1]:i}},n.H2=function(t){for(var n=this.O2.length-1;n>=0;n--){var i=this.O2[n];if(i.Jy<=t)return i}},n.z2=function(t){for(var n=this.H2(t);n&&!n.g1&&n.R2>0;)n=this.X2(n.R2-1);return n},n.P2=function(t,n){this.D2=n,this.ua=t.Qg,this.U2(t.G1)},n.U2=function(t){this.O2.length>t.length&&(this.O2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.B2&&i===t.length-1,s=this.wk+n;if(i<this.O2.length)this.O2[i].P2(s,r);else{var u=new _M(this,i,s,r,e);this.O2.push(u)}n+=e.Qg}this.L2=n},n.V2=function(){Ks(this.O2),this.L2=0},T(t,[{key:"Jy",get:function(){var t;return this.wk+(null!=(t=this.M2)?t:0)}},{key:"W2",get:function(){return this.wk}},{key:"Qg",get:function(){return this.ua}},{key:"B2",get:function(){return this.D2}},{key:"G1",get:function(){return this.O2}},{key:"T2",get:function(){return this.L2}},{key:"C2",get:function(){return this.M2},set:function(t){this.M2=t;for(var n=0,i=this.O2;n<i.length;n++){i[n].C2=t}}}]),t}();!function(t){t.G2="YES",t.q2="v2"}(kM||(kM={}));var TM=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nn);var SM=function(t){function n(n,i){var e,r=EM(i,n.Qg,n.rN,n.MJ);return(e=t.call(this,i,r,void 0,!1,n.H_)||this).Y2=void 0,e.j2=void 0,e.Q2=void 0,e.ua=void 0,e.Z2=void 0,e.K2=void 0,e.J2=void 0,e.n3=void 0,e.i3=void 0,e.e3=void 0,e.Y2=n.LJ,e.j2=n.rN,e.Q2=n.MJ,e.ua=n.Qg,e.Z2=n.UJ,e.K2=Boolean(n.xJ),e.J2=n.XJ||{},e.n3=n.HJ,e.i3=n.VJ,e.e3=n.WJ,e.r3(),e.s3(),e}E(n,t);var i=n.prototype;return i.qc=function(t){var n=!1;void 0===this.Y2&&void 0!==t.LJ&&(n=!0,this.Y2=t.LJ),void 0===this.Q2&&void 0!==t.MJ&&(n=!0,this.Q2=t.MJ),void 0===this.ua&&void 0!==t.Qg&&(n=!0,this.ua=t.Qg),void 0===this.Z2&&void 0!==t.UJ&&(n=!0,this.Z2=t.UJ),!this.K2&&t.xJ&&(n=!0,this.K2=t.xJ),n=this.updateCustomAttributes(t,n),void 0===this.n3&&void 0!==t.HJ&&(n=!0,this.n3=t.HJ),void 0===this.i3&&void 0!==t.VJ&&(n=!0,this.i3=t.VJ),void 0===this.e3&&void 0!==t.WJ&&(n=!0,this.e3=t.WJ),this.r3(),this.s3(),this.u3(),n&&this.Qs(new M_(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.XJ)for(var e=0,r=w.keys(t.XJ);e<r.length;e++){var s=r[e];void 0===this.J2[s]&&(i=!0,this.J2[s]=t.XJ[s])}return i},i.r3=function(){this.ua&&!this.Q2&&(this.Q2=new Date(this.j2.getTime()+Gt(this.ua)))},i.s3=function(){this.Q2&&!this.ua&&(this.ua=qt(this.Q2.getTime()-this.j2.getTime()))},i.u3=function(){this._k===1/0&&(this.Q2||this.ua)&&(this._k=EM(this.wk,this.ua,this.j2,this.Q2))},T(n,[{key:"t_",get:function(){var t;return this.$w||(this.$w=wy(B_(t=this),{get content(){return t.nk},get class(){return t.LJ},get startDate(){return t.rN},get endDate(){return t.MJ},get duration(){return t.Qg},get plannedDuration(){return t.UJ},get endOnNext(){return t.xJ},get scte35Cmd(){return t.HJ},get scte35Out(){return t.VJ},get scte35In(){return t.WJ},get customAttributes(){return t.XJ}})),this.$w}},{key:"LJ",get:function(){return this.Y2}},{key:"rN",get:function(){return this.j2}},{key:"MJ",get:function(){return this.Q2}},{key:"Qg",get:function(){return this.ua}},{key:"UJ",get:function(){return this.Z2}},{key:"xJ",get:function(){return this.K2}},{key:"HJ",get:function(){return this.n3}},{key:"VJ",get:function(){return this.i3}},{key:"WJ",get:function(){return this.e3}},{key:"XJ",get:function(){return this.J2}}]),n}(H_);function EM(t,n,i,e){return H(n)?t+n:e?t+(qt(e.getTime())-qt(i.getTime())):1/0}var IM=function(t){function n(){return t.call(this,void 0,void 0,A_.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.qc=function(t,n){RM(this,CM(t),n)},i.IE=function(n){var i,e,r;i=this.cg.N_,e=n,(r=qs(i,function(t){return t.LJ===e.LJ}))&&r.xJ&&r.qc({H_:r.H_,MJ:e.rN}),t.prototype.IE.call(this,n)},n}(_x);function RM(t,n,i){for(var e=t.cg.N_,r=function(i){var r=e[i],s=Ws(n,function(t){return t.H_===r.H_});s?r.qc(s):t.dE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.rN;if(void 0!==a&&!t.$W(o.H_)){var h=i(a);t.IE(new SM(o,h))}}}function CM(t){for(var n=Xr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.H_)){var s=n.get(r.H_),u=Ur({},s,py(r),{XJ:Ur({},s.XJ,r.XJ)});n.set(r.H_,u)}else n.set(r.H_,r),i.push(r.H_)}return i.map(function(t){return n.get(t)})}var DM=String.fromCharCode(95),NM=DM+"HLS_msn",PM=DM+"HLS_part",xM=DM+"HLS_skip",BM=function(){function t(t){this.r$=void 0,this.o3=void 0,this.a3=void 0,this.c3=void 0,this.h3=void 0,this.f3=void 0,this.v3=void 0,this.l3=void 0,this.d3=[],this.w3=[],this.M2=void 0,this._3=!1,this.g3=void 0,this.m3=!1,this.y3=DO.vd,this.vW=dE.kC(),this.b3=dE.kC(),this.ua=void 0,this.A3=-1/0,this.T3=void 0,this.r$=t}var n=t.prototype;return n.B$=function(t){if(!t)return this.r$;var n=i.Br(this.r$);return void 0!==t.C1&&n.searchParams.append(NM,String(t.C1)),void 0!==t.S3&&n.searchParams.append(PM,String(t.S3)),void 0!==t.yA&&n.searchParams.append(xM,t.yA),n.href},n.E3=function(t){return Ws(this.d3,function(n){return n.C1===t})},n.I3=function(t){for(var n=0;n<this.d3.length;n++){var i,e=this.d3[n],r=e.Jy,s=r+(null!=(i=e.Qg)?i:e.T2);if(r<=t&&t<=s)return t===s&&n+1<this.d3.length?this.d3[n+1]:e}},n._2=function(t){var n=this.R3();if(void 0!==n)return new Date(1e3*t+n)},n.g2=function(t){var n=this.R3();if(void 0!==n)return(t.getTime()-n)/1e3},n.R3=function(){for(var t=this.aJ,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.j1)return i.j1.getTime()-1e3*i.Jy}},n.D3=function(t){switch(t){case RO.GJ:return this.a3;case RO.qJ:return this.c3;default:return}},n.P2=function(t){var n;void 0===this.h3&&(this.h3=null!=(n=t.u2)?n:this.N3(t));void 0===this.v3&&void 0!==t.S1&&(this.v3=t.S1),void 0===this.f3&&void 0!==t.F0&&(this.f3=t.F0),void 0===this.l3&&void 0!==t.E1&&(this.l3=t.E1),this._3=t.b1,this.g3=t.A1,this.m3=t.T1,this.y3=t.i2,this.C3(t),this.P3(t);var e=Ws(t.e2,function(t){return t.fs===RO.GJ}),r=Ws(t.e2,function(t){return t.fs===RO.qJ});this.a3=e?{r$:e.r$,fs:e.fs,Z1:t.Z1}:void 0,this.c3=r?{r$:r.r$,fs:r.fs,Z1:t.Z1}:void 0,this.o3=i.ir()/1e3,this.b3=this.B3(),this.vW=this.O3(this.b3),this.ua=this.x3()},n.B3=function(){var t,n=this.aJ;if(0===n.length)return dE.kC();var i=n[0].Jy,e=n[n.length-1],r=e.Jy,s=null!=(t=e.Qg)?t:e.T2;return new dE([i,r+s])},n.O3=function(t){var n,i;if(0===t.C_||this.J1)return t;var e=t.MN(0),r=t.XN(0)-(null!=(n=null!=(i=this.E1)?i:this.S1)?n:0);return r<e?dE.yC(e):new dE([e,r])},n.x3=function(){return 0===this.d3.length?0:this.J1?(t=this.d3,n=function(t){var n;return null!=(n=t.Qg)?n:t.T2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.N3=function(t){for(var n,i=0,e=t.aJ;i<e.length;i++){var r=e[i];if(void 0!==r.Qg){var s=g.max(1,g.round(r.Qg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new l("HLSModel - Could not determine required segment target duration.");return n},n.C3=function(t){if(0===t.aJ.length)return Ks(this.d3),void this.L3();var n=this.M3(t);if(n){var i,e,r;n.U3>0&&this.d3.splice(0,n.U3);var s=t.D1;if(s>0){if(s>this.d3.length)throw new TM("New playlist skips over missing segments.");var u=this.d3[s-1];if(void 0===u.Qg)throw new TM("New playlist skips over an incomplete segment.");i=u.W2+u.Qg,r=u.Z1-t.Z1,e=s;for(var o=0;o<s;o++)this.d3[o].V2()}else i=n.X3,r=0,e=0;for(var a=0;a<t.aJ.length;a++,e++){var h=t.aJ[a],c=t.J1&&a===t.aJ.length-1,f=h.Qg,l=h.Z1+r;if(e<this.d3.length){var v=this.d3[e];0,v.P2(h,c)}else{var d=new AM(i,l,c,h);d.C2=this.M2,this.d3.push(d)}void 0!==f&&(i+=f)}}},n.M3=function(t){if(0===this.d3.length)return{U3:0,X3:0};var n=this.d3[0].C1,i=this.d3[this.d3.length-1].C1,e=t.aJ[0].C1-t.D1,r=t.aJ[t.aJ.length-1].C1,s=0,u=0;if(e<n)rL.H$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=qs(t,function(t){return void 0!==t.j1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.q1)return;if(r.j1)return[r,n];n+=null!=(e=r.Qg)?e:0}return}(n.aJ);if(void 0===e)return;var r=e[0],s=e[1];if(i.Z1!==r.Z1)return;var u=(r.j1.getTime()-i.j1.getTime())/1e3;return i.W2+u-s}(this.d3,t))?o:(h=this.d3,c=this.h3,l=h[h.length-1],v=null!=(f=l.Qg)?f:g.max(c,l.T2),l.W2+v),rL.F$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.d3.length,this.L3()}else{0;var a=Gs(this.d3,function(t){return t.C1===e});0,u=this.d3[a].W2,a>0&&(s=a)}var h,c,f,l,v;return{U3:s,X3:u}}rL.H$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.P3=function(t){var n=this,i=t.K1.map(OO);if(t.T1&&t.o2.yA===kM.q2&&(i=this.w3.concat(i)),this.w3=CM(i),t.N1)for(var e=function(t,i){var e=i[t],r=Gs(n.w3,function(t){return t.H_===e});r>=0&&Ys(n.w3,r)},r=0,s=t.N1;r<s.length;r++)e(r,s)},n.F3=function(t,n){if(this.M2!==t){this.M2=t;for(var i=0,e=this.d3;i<e.length;i++){e[i].C2=this.M2}}this.T3=n},n.L3=function(){this.M2=void 0,this.T3=void 0},T(t,[{key:"J1",get:function(){return Boolean(Ws(this.d3,function(t){return t.B2}))}},{key:"Qg",get:function(){return this.ua}},{key:"Ny",get:function(){return this.vW}},{key:"H3",get:function(){return this.b3}},{key:"H0",get:function(){return this.h3}},{key:"F0",get:function(){return this.f3}},{key:"S1",get:function(){return this.J1?0:this.v3?this.v3:this.h3?3*this.h3:void 0}},{key:"E1",get:function(){var t;return null!=(t=this.l3)?t:this.f3?3*this.f3:void 0}},{key:"z3",get:function(){var t,n,i;if(!this.J1&&0!==this.d3.length){var e=this.d3[this.d3.length-1],r=null!=(t=e.Qg)?t:e.T2,s=null!=(n=null!=(i=this.E1)?i:this.S1)?n:0;return e.Jy+r-s}}},{key:"b1",get:function(){return this._3}},{key:"A1",get:function(){return this.g3}},{key:"T1",get:function(){return this.m3}},{key:"i2",get:function(){return this.y3}},{key:"V3",get:function(){return void 0!==this.F0}},{key:"W3",get:function(){if(this.J1)return!0;var t=i.ir()/1e3,n=this.A2,e=this.G3;return void 0!==n&&t-n<e}},{key:"A2",get:function(){return this.o3}},{key:"C2",get:function(){return this.M2}},{key:"G3",get:function(){var t;return null!=(t=this.h3)?t:1}},{key:"aJ",get:function(){return this.d3}},{key:"K1",get:function(){return this.w3}},{key:"q3",get:function(){return this.A3},set:function(t){this.A3=t}},{key:"Y3",get:function(){return this.T3}}]),t}();var OM=function(){function t(){this.j3=[],this.Q3=zr()}var n=t.prototype;return n.Z3=function(t){var n=this.Q3.get(t);return void 0!==n&&LM(n)},n.K3=function(t){return this.t4(t).J3.Fu},n.n4=function(t){var n=this.Q3.get(t);if(!n||!LM(n))throw new l("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.i4=function(t){return this.n4(t).fp},n.e4=function(t,n){var i=bM(n)?n:n.I2,e=this.n4(i.Z1),r=t.Oy(e.fp);if(e.r4){var s=ob.Wb(n.Jy).qk(r);if(s.Vk().Lk(lb)){var u=g.round(s.xk()/fb.xk());r=r.Oy(fb.Eb(u))}}return r},n.s4=function(t,n){return this.e4(t,n).qk(t)},n.u4=function(t,n,i,e,r){var s=this.t4(t);void 0===s.fp&&(s.o4.some(function(t){return t.a4===n})||(s.o4.push({a4:n,c4:i,h4:e.Ub(i.Bb),r4:r}),this.f4(s)))},n.f4=function(t){if(!t.fp&&this.v4(t)){var n=eu(t.o4,MM);Ks(t.o4),t.fp=n.h4.qk(n.c4),t.r4=n.r4,t.J3.Wu()}},n.v4=function(t){return this.j3.length>0&&this.j3.every(function(n){return t.o4.some(function(t){return t.a4===n})})},n.t4=function(t){if(this.Q3.has(t))return this.Q3.get(t);var n={fp:void 0,r4:!1,J3:new na,o4:[]};return this.Q3.set(t,n),n},n.l4=function(t){var n=this;this.j3=t,this.Q3.forEach(function(t){return n.f4(t)})},n.xs=function(){this.Q3.forEach(function(t){return t.J3.Hs()}),this.Q3.clear()},t}();function LM(t){return void 0!==t.fp}function MM(t,n){return t.r4||n.r4?(i=t.c4,e=n.c4,r=i.qk(e),i.jk()||e.jk()?r:(r.Uk(lb)?r=r.qk(fb):r.zk(lb.Gk())&&(r=r.Oy(fb)),r)).Mk(ob.eb):t.c4.Mk(n.c4);var i,e,r}var jM=function(){function t(t){this.d4=[],this.w4=[],this._4=Xr(),this.g4=new OM,this.m4=t}var n=t.prototype;return n.P2=function(t,n){if(IO(t))if(0===this.d4.length)this.y4(t);else{if(!n)return void rL.H$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.KJ.P2(t)}else{if(0!==this.d4.length)return void rL.H$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.b4(t)}},n.y4=function(t){var n=this.A4(t.r$);n.P2(t);var i=this.T4(kO.Sd,n),e=this.T4(kO.Ed,n),r=new mM({r$:n.r$,HR:0,eJ:0,z0:NaN,ZH:void 0,O$:void 0,rJ:0,a1:[],f1:void 0,d1:void 0,c1:void 0,l1:void 0,v1:void 0,h1:void 0},n,[i,e]);this.d4.push(r)},n.b4=function(t){var n,i=this;(n=this.w4).push.apply(n,t.z1);for(var e=this.S4(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return FM(t.fs,t.n$,n)&&(!t.e$||t.KJ.r$===n.r$)}(t,r)});i.E4(r,s);var u=new mM(r,i.A4(r.r$),s);i.d4.push(u)},s=0,u=t.V1;s<u.length;s++)r(s,u)},n.A4=function(t){var n=this._4.get(t);return void 0===n&&(n=new BM(t),this._4.set(t,n)),n},n.S4=function(t){for(var n=[],i=0,e=t.oT;i<e.length;i++){var r=e[i];if(void 0===r.r$)for(var s=0,u=t.V1;s<u.length;s++){var o=u[s];if(FM(r.fs,r.n$,o)){var a=new LO(r,this.A4(o.r$));n.push(a)}}else{var h=new LO(r,this.A4(r.r$));n.push(h)}}return n},n.T4=function(t,n){return new LO({fs:t,r$:void 0,n$:"",G_:void 0,s1:void 0,wi:"",JJ:!0,$J:!1,t$:!1,o1:void 0,i$:void 0,u1:void 0},n)},n.E4=function(t,n){var i=n.filter(function(t){return t.fs===kO.Sd}),e=n.filter(function(t){return t.fs===kO.Ed}),r=t.ZH&&(t.ZH.jH||t.ZH.QH);if((!r||t.ZH.jH)&&0===e.length){var s=this.T4(kO.Ed,this.A4(t.r$));n.push(s)}if((!r||t.ZH.QH)&&0===i.length){var u=this.T4(kO.Sd,this.A4(t.r$));n.push(u)}t.ZH&&t.ZH.KH},n.I4=function(t){for(var n=0,i=this.d4;n<i.length;n++)for(var e=0,r=i[n].J$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.R4=function(t){for(var n=0,i=this.d4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.D4=function(t){for(var n=0,i=this.d4;n<i.length;n++){var e=i[n];if(Qs(e.J$,t))return e}},n.xs=function(){Ks(this.d4),Ks(this.w4),this._4.clear(),this.g4.xs()},T(t,[{key:"N4",get:function(){return this.w4}},{key:"Y$",get:function(){return this.d4}},{key:"$S",get:function(){return this.g4}}]),t}();function FM(t,n,i){switch(t){case kO.Sd:return i.c1===n;case kO.Ed:return i.l1===n;case kO.rA:return i.v1===n;case kO.BJ:return i.h1===n}return!1}var UM=function(t){function n(n){var i;return(i=t.call(this,XM.C4)||this).b$=n,i}return E(n,t),n}(Iu);function HM(t,n,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Fr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),lu(o.t0),!(s<i)){o.next=20;break}return u=g.min(e*g.pow(2,s),r),s++,o.next=19,Fr.awrap(bu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],qe)}var XM,zM=function(t){function n(n){var i;return(i=t.call(this,XM.P4)||this).b$=n,i}return E(n,t),n}(Iu),VM="HlsModelUpdater";!function(t){t.C4="B4",t.P4="O4"}(XM||(XM={}));var WM=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).x4=void 0,r.L4=!1,r.M4=void 0,r.U4=void 0,r.X4=zr(),r.pE=n,r.F4=i,r.rootURI=e,r.x4=new jM(e),r}E(n,t);var e=n.prototype;return e.H4=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.x4.m4){e.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Fr.awrap(this.z4(n,{},2,t));case 5:if(EO(i=e.sent)||IO(i)){e.next=8;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return EO(i)||rL.yT(VM,"Detected media playlist only HLS stream."),this.V4(i),e.next=12,Fr.awrap(this.W4(t));case 12:this.L4=!0;case 13:case"end":return e.stop()}},null,this,null,qe)},e.G4=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.x4.I4(t)){o.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={C1:n,S3:i,yA:YM(r)},u=Gt(g.max(1,3*t.KJ.G3)),o.prev=5,o.next=8,Fr.awrap(this.q4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),lu(o.t0),this.Y4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],qe)},e.j4=function(t,n){var i=this.x4.I4(t);if(!i)throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={C1:void 0,S3:void 0,yA:YM(i)},r=Gt(g.max(1,3*t.KJ.G3));return this.q4(i,e,n,r)},e.Q4=function(t,n){return this.X4.has(t.z_)||this.X4.set(t.z_,new na),du(this.X4.get(t.z_).Fu,n)},e.Y4=function(t){this.Qs(new zM(t))},e.q4=function(t,n,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.KJ.B$(n),a.prev=1,a.next=4,Fr.awrap(this.z4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),lu(a.t0),t.KJ.q3=i.ir(),a.t0;case 12:if(IO(u)){a.next=14;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.V4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof TM&&void 0!==n.yA)){a.next=23;break}return o=Ur({},n,{yA:void 0}),a.abrupt("return",this.q4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.M4||t===this.M4||this.M4.KJ.W3){a.next=35;break}return a.prev=25,a.next=28,Fr.awrap(this.j4(this.M4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),lu(a.t2),this.M4=t,this.Z4();case 35:this.K4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],qe)},e.z4=function(t,n,i,e,r){var s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return rL.yT(VM,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Fr.awrap(this.F4.J4([t]));case 4:if(s=h.sent,fu(e),void 0===s){h.next=8;break}return h.abrupt("return",gM(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),lu(h.t0);case 14:return u={hd:t,td:xf.$n,Rd:rg.GET,fs:sg.ld,Ws:e,Dd:r},h.next=17,Fr.awrap(HM(function(){return a.t6(u)},e,i));case 17:return o=h.sent,h.abrupt("return",gM(o.od,n,o.Hi));case 19:case"end":return h.stop()}},null,this,[[1,10]],qe)},e.t6=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.pE.ud(t));case 2:return n=e.sent,e.next=5,Fr.awrap(n.Ll());case 5:return i=e.sent,e.abrupt("return",{Hi:i,od:n.od});case 7:case"end":return e.stop()}},null,this,null,qe)},e.W4=function(t){var n,i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:fu(t),n=[],i=0,e=this.x4.Y$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.J$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Fr.awrap(this.F4.J4([o.KJ.r$]));case 11:a=h.sent,fu(t),void 0===a||o.KJ.W3||n.push(this.j4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),lu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Fr.awrap(qe.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],qe)},e.Z4=function(){for(var t=0,n=this.x4.Y$;t<n.length;t++)for(var i=0,e=n[t].J$;i<e.length;i++){var r=e[i];r!==this.M4&&(void 0!==r.KJ.C2&&(r.KJ.W3?this.K4(r):r.KJ.L3()))}},e.K4=function(t){if(0!==t.KJ.aJ.length){if(!this.M4)return this.M4=t,void this.M4.KJ.F3(0,void 0);if(this.n6(this.M4),!this.n6(t)&&void 0===t.KJ.C2){var n=this.i6(t,this.M4);rL.F$(VM,"Assuming global timeline offset of "+n+"s for rendition "+t.KJ.r$+"."),t.KJ.F3(n,void 0)}}},e.i6=function(t,n){var i;if(qM(t)){var e=t.KJ.aJ[0],r=n.KJ.aJ[0];return rL.F$(VM,"Synchronizing by start of VOD: "+r.Jy+" vs "+e.Jy),r.Jy-e.W2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[i];if(r.Z1>s.Z1)i--;else if(r.Z1<s.Z1)e--;else if(r.q1){if(s.q1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.KJ.aJ,n.KJ.aJ);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return rL.F$(VM,"Synchronizing by start of discontinuity #"+o.Z1+": "+o.Jy+" vs "+u.Jy),o.Jy-u.W2}var a=$M(t.KJ.aJ);if(void 0!==a){var h=$M(n.KJ.aJ);if(void 0!==h)return rL.F$(VM,"Synchronizing by PDT:",h.j1.toISOString()+" vs "+a.j1.getTime()),h.Jy-a.W2-(h.j1.getTime()-a.j1.getTime())/1e3}var c=GM(n),f=GM(t),l=null!=(i=t.KJ.C2)?i:0;return rL.F$(VM,"Synchronizing by last segment:",c+" vs "+f),c-f+l},e.n6=function(t){var n=this.x4.I4(t);if(!n)return!1;if(qM(n))return!1;var i,e,r=(i=n.KJ.aJ,e=this.x4.$S,qs(i,function(t){return void 0!==t.N2&&e.Z3(t.Z1)}));if(void 0===r)return!1;if(n.KJ.Y3===r.Z1)return!0;var s=this.x4.$S.e4(r.N2,r).xk()-r.W2;return rL.F$(VM,"Synchronize by media timestamp: "+s+"s for rendition "+t.KJ.r$+"."),n.KJ.F3(s,r.Z1),(void 0===this.M4||void 0===this.M4.KJ.Y3||this.M4.KJ.Y3<r.Z1)&&(this.M4=n),!0},e.V4=function(t,n){var i;(this.x4.P2(t,n),IO(t)&&n)&&(this.U4=n,this.Qs(new UM(n)),null==(i=this.X4.get(n.z_))||i.Wu(),this.X4.delete(n.z_))},e.e6=function(t,n){var i=this.x4.R4(t);if(!i)throw new l("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.x4.Y$;e<r.length;e++){var s=r[e];s.ZH||(n.jH||s.m2(kO.Ed),n.QH||s.m2(kO.Sd))}i.ZH=n},e.xs=function(){this.$s(),this.x4.xs(),this.X4.forEach(function(t){return t.Hs()}),this.X4.clear()},T(n,[{key:"r6",get:function(){return this.L4}},{key:"q$",get:function(){return this.x4}},{key:"s6",get:function(){return this.U4}}]),n}(Su);function qM(t){return t.KJ.J1||t.KJ.i2===DO.ZJ}function GM(t){var n,i=t.KJ.aJ[t.KJ.aJ.length-1];return i.Jy+(null!=(n=i.Qg)?n:i.T2)}function $M(t){return qs(t,function(t){return void 0!==t.j1})}function YM(t){if(void 0!==t.KJ.A1&&!t.KJ.J1&&!(void 0===t.KJ.A2||i.ir()/1e3-t.KJ.A2>=t.KJ.A1/2))return t.KJ.T1?kM.q2:kM.G2}var QM=function(){function t(t,n,i){var e=this;this.u6=void 0,this.o6=void 0,this.uD=void 0,this.a6=void 0,this.c6=void 0,this.h6=function(t){e.o6.hlsDateRange&&e.P3(t.b$)},this.o6=t,this.u6=n,this.uD=i,this.a6=new Ok,this.u6.Zs(XM.C4,this.h6)}return t.prototype.P3=function(t){if(0!==t.KJ.K1.length){this.c6||(this.c6=this.uD.SE(Bk.uA,void 0,void 0,void 0,void 0,A_.DATE_RANGE),this.a6.E_(this.c6));RM(this.c6,t.KJ.K1,function(n){var i;return null!=(i=t.KJ.g2(n))?i:NaN})}},T(t,[{key:"Um",get:function(){return this.a6}}]),t}(),ZM=function(t){function n(){return t.call(this,bO.EJ)||this}return E(n,t),n}(Iu);var KM,JM=function(){function t(t){this.d3=[],this.jz=void 0,this.f6=void 0,this.v6=t}var n=t.prototype;return n.l6=function(t){var n;return null==(n=this.d6(t))?void 0:n.b$},n.w6=function(t){this.jz=t,this._6()},n.g6=function(t,n,i,e,r,s){this.d3.push({C1:n,b$:t,m6:new dE([r,s]),y6:new dE([i,e])}),this._6()},n.d6=function(t){for(var n=0,i=this.d3;n<i.length;n++){var e=i[n];if(e.y6.tN(t))return e}},n.k6=function(t){for(var n=0,i=this.d3;n<i.length;n++){var e=i[n];if(e.C1===t)return e}},n.bV=function(){var t=this.wy;t.C_>0&&(this.f6=t.XN(t.C_-1))},n._6=function(){var t=this.v6.wy;this.d3=this.d3.filter(function(n){return 0!==t.ZN(n.y6).C_})},T(t,[{key:"b6",get:function(){return this.jz}},{key:"wy",get:function(){return t=this.v6.wy,n=this.v6.OV,i=n.fC(function(n,i){return t.aC(n,i,!1,!1)}),t.iC(i);var t,n,i}},{key:"aJ",get:function(){return this.d3}},{key:"p6",get:function(){return this.f6}}]),t}(),tj=function(){function t(t,n,i,e,r){var s=this;this.v6=void 0,this.A6=void 0,this.T6=void 0,this.Vi=void 0,this.S6=void 0,this.E6=void 0,this.$v=new au,this.I6=dE.kC(),this.R6=function(t){s.E6&&(t?lC(t)&&s.D6?s.S6.EL(s.v6.wy._C)?s.E6.Wu():s.E6.Gu(t):cu(t)?s.E6.Wu():s.E6.Gu(t):s.E6.Wu(),s.E6=void 0)},this.Vi=t,this.T6=i,this.v6=n,this.A6=e,this.S6=r}var n=t.prototype;return n.N6=function(){if(this.C6)throw new l("Cannot perform new operation while BufferAppender is still busy")},n.P6=function(t){this.v6!==t&&(this.N6(),this.v6=t,this.A6=new JM(t))},n.B6=function(){return this.E6?this.E6.Fu:qe.resolve()},n.O6=function(t){var n,i,e=this.A6.p6,r=this.A6.wy;if(void 0===e)return!1;var s=g.min(t,e);return null!=(n=null==(i=r.GN().rC(this.x6).wC(s))?void 0:i.tN(e))&&n},n.L6=function(t){return this.A6.l6(t)},n.Hs=function(){this.$v.Hs(),this.$v=new au},n.nV=function(t){var n=this;this.N6(),this.E6=new na;var i=function(i){n.T6.M6(t),n.R6(i)};this.iV(t,this.$v.Ws).then(i,i)},n.iV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return rL.F$("Buffering","Appending initializer",PO(t.U6.r$)),i.next=3,Fr.awrap(this.v6.nV(t,n));case 3:rL.F$("Buffering","Appended initializer",PO(t.U6.r$)),this.A6.w6(t);case 5:case"end":return i.stop()}},null,this,null,qe)},n.X6=function(t){var n=this;this.N6(),this.E6=new na;var i=function(i){n.T6.M6(t),n.R6(i)};this.F6(t,this.$v.Ws).then(i,i)},n.F6=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(e=t.b$,r=t.C1,void 0!==e.KJ.H0){m.next=4;break}throw new l("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.A6.wy.HN,u=this.v6.wy,rL.F$("Buffering","Appending",PO(t.U6.r$)),m.next=9,Fr.awrap(this.v6.Jz(t,n));case 9:rL.F$("Buffering","Appended",PO(t.U6.r$),s,this.A6.wy.HN),o=t.Jy,a=o+t.Qg,h=t.U6,c=h.Jy,f=h.Jy+(null!=(i=h.Qg)?i:0),this.A6.g6(e,r,o,a,c,f),v=this.v6.wy.rC(u),(d=this.A6.k6(r-1))?this.H6(d)?0===v.C_?Boolean(this.z6.k6(r))||(w=this.v6.OV.ZN(new dE([o,a])),this.I6=this.I6.iC(w)):(this.I6=this.I6.rC(new dE([v.MN(0),a])),v.MN(0)>o&&(this.I6=this.I6.iC(new dE([o,v.MN(0)])))):this.I6=this.I6.rC(new dE([o,a])):0===v.C_?(g=this.v6.OV.ZN(new dE([o,a])),this.I6=this.I6.iC(g)):v.MN(0)>o&&(this.I6=this.I6.iC(new dE([o,v.MN(0)]))),t.U6.B2&&this.A6.bV();case 20:case"end":return m.stop()}},null,this,null,qe)},n.H6=function(t){var n=t.y6,i=n.MN(0),e=n.XN(n.C_-1),r=n.UN(0),s=n.FN(n.C_-1);return this.I6.uC(i,e,r,s)},T(t,[{key:"fs",get:function(){return this.Vi}},{key:"D6",get:function(){return this.Vi===o_.Sd||this.Vi===o_.Ed}},{key:"z6",get:function(){return this.A6}},{key:"x6",get:function(){return this.I6}},{key:"C6",get:function(){return void 0!==this.E6}}]),t}(),nj=function(){function t(t,n){this.V6=void 0,this.W6=t,this.pE=n}var n=t.prototype;return n.G6=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.q6(n,e));case 2:return r=s.sent,s.next=5,Fr.awrap(this.W6.G6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},n.q6=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.V6)?void 0:i.hd)===t){u.next=10;break}return rL.F$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Fr.awrap(this.pE.ud({hd:t,td:xf.Gf,Rd:rg.GET,Ws:n,fs:sg.wd,Nd:ug.Td}));case 4:return e=u.sent,u.next=7,Fr.awrap(e.Ul());case 7:r=u.sent,s=new _(r),this.V6={hd:t,Hi:s};case 10:return u.abrupt("return",this.V6.Hi);case 11:case"end":return u.stop()}},null,this,null,qe)},t}(),ij=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.pE=t,this.F4=n,this.Y6=i,this.j6=e,this.Q6=r}var n=t.prototype;return n.ud=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Z6(t,n,xf.Gf,i));case 2:return e=r.sent,r.t0=_,r.next=6,Fr.awrap(e.Ul(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,qe)},n.K6=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Z6(t,n,xf.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Xl(i));case 4:case"end":return r.stop()}},null,this,null,qe)},n.Z6=function(t,n,i,e){var r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.OJ&&0===(r=SO(t.OJ.MN,t.OJ.C_))[0]&&r[1]===Mt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new hg({hd:t.Ai,td:i,$l:s,Pd:this.j6,Rd:rg.GET,fs:sg.dd,Nd:n,Cd:this.Y6,Ws:e}),h.prev=3,h.next=6,Fr.awrap(this.F4.J6(t.Ai,r));case 6:if(o=h.sent,fu(e),void 0===o){h.next=10;break}return h.abrupt("return",new ag({ud:u,Hi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),lu(h.t0);case 16:return h.next=18,Fr.awrap(HM(function(){return du(a.pE.ud(u),u.Ws)},e,this.Q6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],qe)},t}(),ej=function(){function t(t,n){this.u6=void 0,this.t5=void 0,this.n5=void 0,this.i5=new au,this.UG=-1/0,this.e5=!1,this.u6=t,this.t5=n,this.r5()}var n=t.prototype;return n.s5=function(){return this.t5.KJ.b1},n.u5=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.s5()){r.next=2;break}throw new l("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Fr.awrap(this.o5());case 5:return fu(e),r.next=8,Fr.awrap(this.u6.G4(this.t5,t,n,e));case 8:this.UG=i.ir(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),cu(r.t0)&&this.r5(),r.t0;case 15:this.r5();case 16:case"end":return r.stop()}},null,this,[[2,11]],qe)},n.a5=function(t){return this.u6.Q4(this.t5,t)},n.r5=function(){var t=this;if(!this.n5&&!this.e5){var n=function(){t.n5=void 0};this.n5=this.c5(this.i5.Ws).then(n,n)}},n.o5=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.n5){t.next=6;break}return this.i5.Hs(),this.i5=new au,t.next=5,Fr.awrap(this.n5.catch(K));case 5:this.n5=void 0;case 6:case"end":return t.stop()}},null,this,null,qe)},n.c5=function(t){var n,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.t5.KJ.J1||!this.t5.KJ.W3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.ir()-this.UG,e=1e3*this.t5.KJ.G3,!(n<e)){r.next=8;break}return r.next=8,Fr.awrap(bu(e-n,t));case 8:return r.prev=8,r.next=11,Fr.awrap(this.u6.j4(this.t5,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),lu(r.t0),this.u6.Y4(this.t5),r.t0;case 18:this.UG=i.ir(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],qe)},n.xs=function(){this.e5=!0,pu(this.o5())},t}();!function(t){t[t.GJ=0]="GJ",t[t.qJ=1]="qJ",t[t.dd=2]="dd",t[t.h5=3]="h5"}(KM||(KM={}));var rj="AssetExtractor",sj=function(){function t(){this.f5=[]}var n=t.prototype;return n.v5=function(t,n,i){for(var e=n,r=0,s=this.f5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.MN)return!1;if(e<u.XN){if(i<=u.XN)return!0;e=u.XN}}return e>=t},n.l5=function(t,n){for(var i=[],e=0;e<this.f5.length;e+=1){var r=this.f5[e],s=t-r.MN,u=r.Hi.length,o=g.min(u,g.max(s,0)),a=g.max(0,n+s),h=Qo(r.Hi,o,a);h.length&&(e=this.d5(e,r,t,o,a),i.push(h))}return i},n.w5=function(t,n){this.f5.push({MN:t,XN:t+n.length,Hi:n})},n.d5=function(t,n,i,e,r){var s=t;this.f5.splice(s,1),s-=1,n.MN<i&&(s+=1,this.f5.splice(s,0,{MN:n.MN,XN:i,Hi:Qo(n.Hi,0,e)}));var u=i+r-e;return u<n.XN&&(s+=1,this.f5.splice(s,0,{MN:u,XN:n.XN,Hi:Qo(n.Hi,r)})),s},t}(),uj=function(){function t(t,n){this.uv=void 0,this._5=n,this.uv=t.getReader()}var n=t.prototype;return n.g5=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.uv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this._5=1/0,new l("No more data can be read from the given stream.");case 6:return this._5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,qe)},n.m5=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.uv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"y5",get:function(){return this._5}}]),t}(),oj=function(){function t(t,n,i,e){this.k5=void 0,this.uv=void 0,this.b5=void 0,this.p5=void 0,this.A5=void 0,this.T5=void 0,this.S5=new na,this.k5=t,this.uv=n,this.b5=i,this.p5=e,this.A5=new na,this.T5=new na}var n=t.prototype;return n.E5=function(){this.T5.Wu(),this.T5=new na},n.I5=function(t){var n=hj(this.k5.OJ),i=n.R5,e=n.D5,r=this.b5.l5(i,e-i);rL.F$(rj,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v;return Fr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Fr.awrap(this.A5.Fu);case 2:n=hj(this.k5.OJ),i=n.R5,e=n.D5,d.prev=3;case 4:return r=this.uv.y5,d.next=8,Fr.awrap(this.uv.g5());case 8:if(s=d.sent,u=s.length,rL.F$(rj,"Read "+u+" at "+r+" for extraction of "+PO(this.k5)),o=g.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Qo(s,0,a),c=Qo(s,a),rL.F$(rj,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+PO(this.k5)),this.b5.w5(r,h),!(c.length>0)){d.next=23;break}return rL.F$(rj,"Extracting "+c.length+" bytes for extraction of "+PO(this.k5)),t.enqueue(c),this.E5(),d.abrupt("return",pu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return rL.F$(rj,"Extracting the read data range for extraction of "+PO(this.k5)),t.enqueue(s),this.E5(),d.abrupt("return",pu(this.readAndSliceOutAssetBytes(t)));case 33:if(l=Qo(s,0,f=e-r),v=Qo(s,f),l.length>0&&(rL.F$(rj,"Extracting "+l.length+" bytes for extraction of "+PO(this.k5)),t.enqueue(l)),rL.F$(rj,"Of the read "+u+" bytes, the last "+v.length+" will be stored locally for extraction of "+PO(this.k5)),this.b5.w5(r+f,v),rL.F$(rj,"Extraction of "+PO(this.k5)+" completed as the entire request has been fulfilled."),this.N5(t),!this.p5){d.next=45;break}return rL.F$(rj,"Aborting stream upstream as no more bytes are needed from "+PO(this.k5)+"."),d.next=45,Fr.awrap(this.uv.m5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),rL.F$(rj,"Extraction of "+PO(this.k5)+" completed as the entire source stream has been read."),this.N5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],qe)},n.N5=function(t){t.close(),this.E5(),this.S5.Wu()},n.start=function(t){rL.F$(rj,"Preparing to push all collected data to controller for extraction of "+PO(this.k5)),this.I5(t),rL.F$(rj,"Collected data pushed to controller for extraction of "+PO(this.k5));var n=hj(this.k5.OJ).D5;this.uv.y5>=n?(rL.F$(rj,"Extraction of "+PO(this.k5)+" completed as the entire request has been fulfilled."),this.N5(t)):(rL.F$(rj,"Continuing read from original stream for extraction of "+PO(this.k5)),pu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.A5.Wu(),this.A5=new na,this.T5.Fu},T(t,[{key:"C5",get:function(){return this.S5.Fu}}]),t}(),aj=function(){function t(t,n){this.b5=void 0,this.P5=void 0,this.B5=void 0,this.k5=n;var i=hj(this.k5.OJ).R5;this.P5=new uj(t,i),this.b5=new sj}var n=t.prototype;return n.xy=function(t){if(!xO(this.k5,t))return!1;var n=hj(t.OJ),i=n.R5,e=n.D5;return this.b5.v5(this.P5.y5,i,e)},n.O5=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.P5,e=this.b5,rL.yT(rj,"Extracting data from "+PO(t)+" out of "+PO(this.k5)),!this.B5){s.next=8;break}return rL.F$(rj,"Awaiting previous extraction before extracting "+PO(t)+" out of "+PO(this.k5)),s.next=8,Fr.awrap(this.B5);case 8:if(this.xy(t)){s.next=10;break}throw new l("The extractor does not contain the data requested");case 10:return r=new oj(t,i,e,n),this.B5=r.C5,s.abrupt("return",new nw(r));case 13:case"end":return s.stop()}},null,this,null,qe)},t}();function hj(t){if(t){var n=t.MN;return{R5:n,D5:void 0!==t.C_?n+t.C_:Mt}}return{R5:0,D5:Mt}}var cj,fj=function(){function t(t,n){this.$v=new au,this.x5=void 0,this.k5=t,this.L5=n,this.x5=this.Wc()}var n=t.prototype;return n.Wc=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.L5.K6(this.k5,ug.vd,this.$v.Ws));case 2:return t=n.sent,n.abrupt("return",new aj(t,this.k5));case 4:case"end":return n.stop()}},null,this,null,qe)},n.xy=function(t){return xO(this.k5,t)},n.O5=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Fr.awrap(this.x5);case 3:return i=e.sent,e.next=6,Fr.awrap(du(i.O5(t,n),this.$v.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,qe)},n.Hs=function(){this.x5.catch(K),this.$v.Hs()},t}(),lj=function(t){function n(){return t.call(this,cj.M5)||this}return E(n,t),n}(Iu),vj="HlsPlaylistDownloader";!function(t){t.M5="videosegmentdownloaded"}(cj||(cj={}));var dj=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Vi=void 0,a.u6=void 0,a.T6=void 0,a.L5=void 0,a.U5=void 0,a.t5=void 0,a.X5=void 0,a.F5=void 0,a.H5=void 0,a.z5=new au,a.V5=void 0,a.W5=void 0,a.G5=void 0,a.q5=void 0,a.Y5=function(t){a.F5&&(a.t5=a.F5,a.F5=void 0,a.V5=void 0,a.W5=void 0),a.H5&&(t&&!cu(t)?a.H5.Gu(t):a.H5.Wu(),a.H5=void 0)},a.Vi=n,a.u6=e,a.T6=r,a.t5=i,a.X5=new ej(e,i),a.U5=new nj(o,s),a.L5=new ij(s,u,function(t){switch(t){case kO.Ed:return og.Ed;case kO.Sd:return og.Sd;case kO.rA:case kO.BJ:return og.$n;default:return og.vd}}(i.fs),!1),a}E(n,t);var e=n.prototype;return e.j5=function(t){this.X5.xs(),this.X5=new ej(this.u6,t),this.C6?this.F5=t:(this.t5=t,this.V5=void 0,this.W5=void 0)},e.B6=function(){return this.H5?this.H5.Fu:qe.resolve()},e.Q5=function(){return this.T6.Q5()},e.Z5=function(t){this.T6.Z5(t)},e.Hs=function(){var t,n;this.z5.Hs(),this.z5=new au,null==(t=this.q5)||t.Hs(),null==(n=this.G5)||n.Hs(),this.q5=void 0,this.G5=void 0,this.V5=void 0,this.W5=void 0},e.xs=function(){this.X5.xs()},e.K5=function(t){var n=this.t5.KJ.I3(t);if(!n)return!1;if(void 0!==this.V5){var i=n.C1===this.V5;return void 0!==this.W5?n.F2(t)===n.X2(this.W5)&&i:i}return!1},e.J5=function(t){var n;if(void 0===this.V5)n=this.t8(t);else if(n=this.n8(this.V5,this.W5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Jy,u=3*this.b$.KJ.H0;g.abs(s-t)>=u&&(n=this.t8(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.R2)&&void 0!==a.Qg?[a,void 0]:[a,h]}},e.t8=function(t){var n,i,e,r=this.t5.KJ.aJ;if(0!==r.length){var s=r[r.length-1];if(s.Jy+(null!=(n=s.Qg)?n:s.T2)<=t)i=s,e=s.z2(t);else if(r[0].Jy>t)e=(i=r[0]).X2(0);else{var u;e=null==(u=i=this.t5.KJ.I3(t))?void 0:u.z2(t)}return i?[i,e]:void 0}},e.n8=function(t,n){var i,e,r;if((i=this.t5.KJ.E3(t))&&void 0!==n){if(0===i.G1.length)return[i,void 0];e=i.X2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.t5.KJ.E3(t+1))?void 0:r.X2(0));return i?[i,e]:void 0},e.N6=function(){if(this.C6)throw new l("Cannot perform new operation while PlaylistDownloader is still busy")},e.i8=function(t){this.N6(),this.H5=new na,this.e8(t,this.z5.Ws).then(this.Y5,this.Y5)},e.r8=function(){this.X5.r5()},e.e8=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.J5(t))||!this.X5.s5()||void 0===this.V5){e.next=5;break}return e.next=4,Fr.awrap(this.X5.u5(void 0===this.W5?this.V5+1:this.V5,void 0!==this.W5?this.W5+1:void 0,n));case 4:i=this.J5(t);case 5:if(i||!this.X5.s5()||void 0===this.V5){e.next=9;break}return e.next=8,Fr.awrap(this.X5.u5(this.V5+1,0,n));case 8:i=this.J5(t);case 9:if(i){e.next=16;break}return rL.yT(vj,"No next segment / part available, need to update playlist before continuing."),e.next=13,Fr.awrap(this.X5.a5(n));case 13:i=this.J5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,qe)},e.s8=function(){return this.T6.u8()},e.o8=function(){this.N6();try{var t=this.t5.KJ.D3(RO.GJ);t&&this.a8(t);var n=this.t5.KJ.D3(RO.qJ);n&&this.c8(n)}catch(t){throw lu(t),this.b$.KJ.q3=i.ir(),this.u6.Y4(this.b$),t}},e.a8=function(t){this.G5&&!this.G5.xy(t.r$)&&(this.G5.Hs(),this.G5=void 0),this.G5||(this.G5=new fj(t.r$,this.L5))},e.c8=function(t){this.q5&&!this.q5.xy(t.r$)&&(this.q5.Hs(),this.q5=void 0),this.q5||(this.q5=new fj(t.r$,this.L5))},e.h8=function(t,n,e){var r=this;this.N6(),rL.yT(vj,"Starting download of segment "+PO(t.r$)+" and part "+(null==n?void 0:n.R2)),this.H5=new na,this.f8(t,n,e,this.z5.Ws).catch(function(t){throw lu(t),r.b$.KJ.q3=i.ir(),r.u6.Y4(r.b$),t}).then(this.Y5,this.Y5)},e.f8=function(t,n,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.Y1){u.next=5;break}if(i&&BO(i.U6.r$,t.Y1.r$)&&t.Z1===i.Z1){u.next=5;break}return u.next=4,Fr.awrap(this.v8(t.Y1,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,Fr.awrap(this.l8(t,n,e));case 8:s=u.sent;case 9:this.T6.d8(s),"w8"===s.fs&&this.Vi===o_.Ed&&this.Qs(new lj),rL.F$("Buffering","Download complete",PO(null!=(r=null==n?void 0:n.r$)?r:t.r$));case 12:case"end":return u.stop()}},null,this,null,qe)},e.l8=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.q5){o.next=19;break}if(!this.q5.xy(n.r$)){o.next=17;break}return o.next=5,Fr.awrap(this.q5.O5(n.r$));case 5:return r=o.sent,o.t0=_,o.next=9,Fr.awrap(Fw(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Fr.awrap(this.G6(s,n.z1,i));case 13:u=o.sent,e=mj(n,u),o.next=19;break;case 17:this.q5.Hs(),this.q5=void 0;case 19:if(e){o.next=24;break}return rL.F$("Buffering","Start download",PO(n.r$)),o.next=23,Fr.awrap(this._8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return rL.F$("Buffering","Start download",PO(t.r$)),o.next=29,Fr.awrap(this.g8(t,i));case 29:e=o.sent;case 30:return this.V5=t.C1,this.W5=null==n?void 0:n.R2,o.abrupt("return",{fs:"w8",C1:t.C1,w8:e,b$:this.t5,Z1:t.Z1});case 33:case"end":return o.stop()}},null,this,null,qe)},e.v8=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.G5){a.next=17;break}if(!this.G5.xy(t.r$)){a.next=14;break}return a.next=4,Fr.awrap(du(this.G5.O5(t.r$),i));case 4:return s=a.sent,a.t0=_,a.next=8,Fr.awrap(Fw(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Fr.awrap(this.G6(u,t.W1?[t.W1]:[],i));case 12:o=a.sent,e=wj(t,n,o);case 14:rL.yT(vj,"MAP is required for segment, downloading MAP data."),null==(r=this.G5)||r.Hs(),this.G5=void 0;case 17:if(e){a.next=22;break}return rL.F$("Buffering","Start download",PO(t.r$)),a.next=21,Fr.awrap(this.m8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{fs:"Y1",Y1:e,Jy:n.Jy,Z1:n.Z1,z1:n.z1});case 23:case"end":return a.stop()}},null,this,null,qe)},e.m8=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.L5.ud(t.r$,ug._d,i));case 2:return e=u.sent,r=t.W1?[t.W1]:[],u.next=6,Fr.awrap(this.G6(e,r,i));case 6:return s=u.sent,u.abrupt("return",wj(t,n,s));case 8:case"end":return u.stop()}},null,this,null,qe)},e.g8=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.r$){r.next=2;break}throw new l("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Fr.awrap(this.L5.ud(t.r$,ug.vd,n));case 4:return i=r.sent,r.next=7,Fr.awrap(this.G6(i,t.z1,n));case 7:return e=r.sent,r.abrupt("return",gj(t,e));case 9:case"end":return r.stop()}},null,this,null,qe)},e._8=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.L5.ud(t.r$,ug.vd,n));case 2:return i=r.sent,r.next=5,Fr.awrap(this.G6(i,t.z1,n));case 5:return e=r.sent,r.abrupt("return",mj(t,e));case 7:case"end":return r.stop()}},null,this,null,qe)},e.G6=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Ws(n,function(t){return t.Rd===CO.YJ})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.r$&&e.w1){r.next=6;break}return rL.mu(vj,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Fr.awrap(this.U5.G6(t,e.r$,e.w1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,qe)},T(n,[{key:"C6",get:function(){return void 0!==this.H5}},{key:"b$",get:function(){var t;return null!=(t=this.F5)?t:this.t5}},{key:"y8",get:function(){if(!this.t5.KJ.J1)return!1;if(void 0===this.V5)return!1;var t=this.t5.KJ.aJ[this.t5.KJ.aJ.length-1];return t.C1===this.V5&&!(this.W5&&this.W5!==t.G1.length-1)}}]),n}(Su);function wj(t,n,i){return{Hi:{Hi:i,fs:FD.tF},fs:KM.GJ,U6:t,Z1:n.Z1}}function gj(t,n){return{Hi:{Hi:n,fs:FD.tF},fs:KM.dd,U6:t,Z1:t.Z1}}function mj(t,n){return{Hi:{Hi:n,fs:FD.tF},fs:KM.qJ,U6:t,Z1:t.I2.Z1}}var yj,pj=function(){function t(){this.k8=[],this.b8=Xr(),this.p8=void 0,this.A8=void 0}var n=t.prototype;return n.d8=function(t){"Y1"===t.fs&&(this.A8=t.Y1),this.k8.push(t),this.p8&&(this.p8.Wu(),this.p8=void 0)},n.Q5=function(){return this.k8[0]},n.Z5=function(t){$s(this.k8,t)},n.u8=function(){return null!=this.p8||(this.p8=new na),this.p8.Fu},n.T8=function(t){this.S8(t.a4).T8(t)},n.E8=function(t){return this.S8(t).E8()},n.M6=function(t){this.S8(t.a4).M6(t)},n.I8=function(t){var n;null==(n=this.b8.get(t))||n.xs()},n.R8=function(t){return this.S8(t).R8()},n.S8=function(t){if(this.b8.has(t))return this.b8.get(t);var n=new _j;return this.b8.set(t,n),n},n.Nu=function(){this.D8(),this.N8()},n.D8=function(){this.A8=void 0,Ks(this.k8)},n.N8=function(){this.b8.forEach(function(t){return t.Nu()})},n.xs=function(){this.b8.forEach(function(t){return t.xs()}),this.b8.clear(),this.Nu(),this.p8&&(this.p8.Gu(new hu),this.p8=void 0)},T(t,[{key:"b6",get:function(){return this.A8}},{key:"C8",get:function(){for(var t=dE.kC(),n=0,i=this.k8;n<i.length;n++){var e=i[n];if("w8"===e.fs){var r,s=e.w8.U6;t=t.iC(new dE([s.Jy,s.Jy+(null!=(r=s.Qg)?r:0)]))}}return t}},{key:"P8",get:function(){var t=dE.kC();return this.b8.forEach(function(n){t=t.iC(n.P8)}),t}}]),t}(),_j=function(){function t(){this.B8=[],this.O8=void 0}var n=t.prototype;return n.T8=function(t){this.B8.push(t),this.O8&&(this.O8.Wu(),this.O8=void 0)},n.E8=function(){return this.B8[0]},n.M6=function(t){$s(this.B8,t)},n.R8=function(){return null!=this.O8||(this.O8=new na),this.O8.Fu},n.Nu=function(){Ks(this.B8)},n.xs=function(){this.Nu(),this.O8&&(this.O8.Gu(new hu),this.O8=void 0)},T(t,[{key:"P8",get:function(){for(var t=dE.kC(),n=0,i=this.B8;n<i.length;n++){var e=i[n];"w8"===e.fs&&(t=t.iC(new dE([e.Jy,e.Jy+e.Qg])))}return t}}]),t}(),bj=function(){function t(t,n){this.x8=void 0,this.g4=void 0,this.L8=dE.kC(),this.x8=t,this.g4=n}var n=t.prototype;return n.nV=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Hi.Hi,this.M8(i),this.x8.fs!==A_.TTML){u.next=8;break}if(this.g4.Z3(t.Z1)){u.next=6;break}return u.next=6,Fr.awrap(du(this.g4.K3(t.Z1),n));case 6:for(e=this.U8(i,t.Z1),r=0;r<e.length;r++)s=e[r],this.x8.IE(s);case 8:case"end":return u.stop()}},null,this,null,qe)},n.Jz=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Hi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Jy,e=i+t.Qg,this.L8=this.L8.iC(new dE([i,e])),this.g4.Z3(t.Z1)){r.next=8;break}return r.next=8,Fr.awrap(du(this.g4.K3(t.Z1),n));case 8:this.tV(t.Hi.Hi,t.Z1,t.U6);case 9:case"end":return r.stop()}},null,this,null,qe)},n.tV=function(t,n,i){this.M8(t);for(var e=0,r=this.x8.fs===A_.WEBVTT?this.X8(t,i):this.U8(t,n);e<r.length;e++){var s=r[e];this.x8.IE(s)}},n.X8=function(t,n){for(var i,e,r=(void 0===e&&(e=mb),Eb(zo(qo(t),new Jo),e)),s=r.cg,u=null!=(i=r.dp)?i:{wp:ob.eb,_p:ob.eb},o=0;o<s.length;o++){var a=s[o],h=ob.Wb(a.Jy).qk(u._p).Oy(u.wp),c=this.g4.e4(h,n).xk(),f=c+(a.$y-a.Jy);a.Jy=c,a.$y=f}return s},n.U8=function(t,n){var i=this.g4.i4(n).xk();return bk(t,this.x8,{cp:0,hp:1/0,fp:i},Uc.APPLICATION_MP4)},n.M8=function(t){this.x8.fs===A_.DEFAULT&&(this.x8.fs=this.F8(t)?A_.WEBVTT:A_.TTML)},n.F8=function(t){return Mb(zo(Wo(qo(t),0,g.min(t.byteLength,7)),new Jo))},n.RV=function(t,n){},n.DV=function(t,n){},T(t,[{key:"wy",get:function(){return this.L8}},{key:"OV",get:function(){return dE.kC()}}]),t}(),kj=function(t){function n(n,i){var e;return(e=t.call(this,yj.H8)||this).b$=n,e.ZH=i,e}return E(n,t),n}(Iu),Aj=function(t){function n(n){var i;return(i=t.call(this,yj.z8)||this).b$=n,i}return E(n,t),n}(Iu);!function(t){t.H8="V8",t.z8="W8"}(yj||(yj={}));var Tj=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).t5=void 0,s.T6=void 0,s.g4=void 0,s.G8=void 0,s.q8=void 0,s.$v=new au,s.Y8=function(t){s.q8&&(t&&!cu(t)?s.q8.Gu(t):(s.q8.Wu(),s.q8=void 0))},s.t5=n,s.T6=i,s.g4=e,s.G8=r,s}E(n,t);var i=n.prototype;return i.j5=function(t){this.t5!==t&&(this.Hs(),this.t5=t)},i.j8=function(t){for(var n=0,i=this.G8;n<i.length;n++){var e=i[n];Qs(t,e)||this.T6.I8(e)}this.G8=t},i.B6=function(){var t,n;return null!=(t=null==(n=this.q8)?void 0:n.Fu)?t:qe.resolve()},i.N6=function(){if(this.C6)throw new l("Cannot perform new operation while transmuxer is still busy")},i.Q8=function(t){var n=this;this.N6(),this.q8=new na;var i=function(i){n.T6.Z5(t),n.Y8(i)};this.Z8(t,this.$v.Ws).then(i,i)},i.K8=function(t){var n=this;this.N6(),this.q8=new na;var i=function(i){n.T6.Z5(t),n.Y8(i)};this.J8(t,this.$v.Ws).then(i,i)},i.t9=function(t){this.Qs(new kj(this.t5,t))},i.n9=function(){this.Qs(new Aj(this.t5))},i.T8=function(t){Qs(this.G8,t.a4)&&this.T6.T8(t)},i.i9=function(t){return this.T6.E8(t)},i.M6=function(t){this.T6.M6(t)},i.e9=function(t){return this.T6.R8(t)},i.Hs=function(){this.$v.Hs(),this.$v=new au},T(n,[{key:"b$",get:function(){return this.t5}},{key:"r9",get:function(){return this.G8}},{key:"C6",get:function(){return void 0!==this.q8}}]),n}(Su),Sj=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.Z8=function(t,n){fu(n);var i={fs:"s9",Hi:t.Y1.Hi,a4:this.r9[0],Z1:t.Z1,u9:{ZH:"",z1:t.z1},Jy:t.Jy,b$:this.b$,U6:t.Y1.U6};return this.T8(i),qe.resolve()},i.J8=function(t,n){var i;fu(n);var e=t.w8.U6,r={fs:"w8",Hi:t.w8.Hi,a4:this.r9[0],C1:t.C1,Jy:e.Jy,Qg:null!=(i=e.Qg)?i:0,fp:0,Z1:t.Z1,b$:t.b$,U6:t.w8.U6};return this.T8(r),qe.resolve()},n}(Tj),Ej=function(){function t(t,n,i,e){this.o9=[],this.a9=t,this.T6=n,this.c9=i,this.xC=e}var n=t.prototype;return n.j5=function(t){this.a9.j5(t)},n.h9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.o9[t];if(!e.D6)throw new l("Invalid state");var r=Gs(i,function(t){return t.fs===e.fs});r>=0?(e.P6(i[r]),Ys(i,r)):Ys(n.o9,t)},r=this.o9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new JM(u);this.o9.push(new tj(u.fs,u,this.T6,o,this))}i.length>0&&this.T6.Nu();var a=t.map(function(t){return t.fs});this.c9.j8(a)},n.EL=function(t){var n,i=(null==(n=this.xC)?void 0:n.EL(t))||!1;return i&&(this.Hs(),this.f9.Nu()),i},n.v9=function(t){for(var n=0,i=this.o9;n<i.length;n++){var e=i[n];if(e.fs!==o_.$n||e.C6)throw new l("Invalid state")}var r=new JM(t),s=new tj(o_.$n,t,this.T6,r,this);this.o9=[s]},n.l9=function(){for(var t=0,n=this.o9;t<n.length;t++){n[t].z6._6()}},n.d9=function(t){var n=this.w9.wC(t,.001);return n?n.XN(n.C_-1):t},n.K5=function(t){return!!this.w9.wC(t,.001)||this.a9.K5(t)},n._9=function(t){return this.g9.tN(t,.001)},n.m9=function(t,n,i){for(var e=0,r=this.o9;e<r.length;e++){var s=r[e].z6,u=s.p6;if(void 0!==u&&n>=u)return!s.wy.GN().tN(u)}return n-t<i},n.Hs=function(){this.y9(),this.k9()},n.y9=function(){this.b9.Hs()},n.k9=function(){this.p9.Hs(),this.A9.forEach(function(t){return t.Hs()})},n.xs=function(){this.Hs(),this.b9.xs()},T(t,[{key:"A9",get:function(){return this.o9}},{key:"b9",get:function(){return this.a9}},{key:"p9",get:function(){return this.c9}},{key:"f9",get:function(){return this.T6}},{key:"b$",get:function(){return this.a9.b$}},{key:"b6",get:function(){var t=this.T6.b6;if(t)return t;if(this.o9.length>0){var n=this.o9[0].z6.b6;if(n&&this.o9.every(function(t){return t.z6.b6===n}))return n}}},{key:"w9",get:function(){if(0===this.o9.length)return dE.kC();for(var t=this.T6.C8.iC(this.T6.P8).GN(),n=new dE([0,1/0]),i=0,e=this.o9;i<e.length;i++){for(var r=e[i],s=r.z6.wy,u=r.z6.aJ,o=r.x6,a=0;a<u.length;a++)for(var h=u[a],c=h.m6.rC(h.y6),f=0;f<c.C_;f++)t.aC(c.MN(f),c.XN(f),!0,!0)&&(s=s.iC(c.dC(f)));n=n.ZN(s).rC(o)}return n=n.iC(t)}},{key:"g9",get:function(){if(0===this.o9.length)return dE.kC();for(var t=this.T6.P8.GN(),n=new dE([0,1/0]),i=0,e=this.o9;i<e.length;i++){for(var r=e[i],s=r.z6.wy,u=r.z6.aJ,o=0;o<u.length;o++)for(var a=u[o],h=a.m6.rC(a.y6),c=0;c<h.C_;c++)t.aC(h.MN(c),h.XN(c),!0,!0)&&(s=s.iC(h.dC(c)));n=n.ZN(s)}return n=n.iC(t)}}]),t}();var Ij=function(t){function n(){return t.call(this,bO.DJ)||this}return E(n,t),n}(Iu),Rj=function(t){function n(){return t.call(this,bO.IJ)||this}return E(n,t),n}(Iu),Cj=function(t){function i(n,i){var e;return(e=t.call(this)||this).Ih=void 0,e.v6=void 0,e.T9=new na,e.kL=dC,e.S9=!1,e.bL=aC,e.TV=new zD,e.Vi=n,e.E9=i,e}E(i,t);var e=i.prototype;return e.QX=function(){return this.v6?this.v6.QX():this.S9},e.RV=function(t,n){rL.F$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.TV.uF(t,n),this.v6&&this.v6.RV(t,n)},e.DV=function(t,n){rL.F$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.TV.oF(t,n),this.v6&&this.v6.DV(t,n)},e.I9=function(t){this.v6=t,this.v6._L=this.bL,this.v6.vL=this.kL;for(var n,i=this.TV.aF,e=0;e<i.C_;e++)this.v6.RV(i.MN(e),i.XN(e));this.S9&&(rL.F$("LazyMediaBuffer","End of stream"),null==(n=this.v6)||n.bV());this.v6.Zs(BD.JX,this.js),this.T9.Wu(t)},e.R9=function(t){return du(this.T9.Fu,t)},e.Jz=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Jz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.NV=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.R9());case 2:return t=n.sent,n.next=5,Fr.awrap(t.NV());case 5:case"end":return n.stop()}},null,this,null,qe)},e.nV=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.nV(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.Gc=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.R9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Gc(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.cV=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.R9());case 2:return i=e.sent,e.next=5,Fr.awrap(i.cV(t,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.bV=function(){this.S9=!0,this.v6&&this.v6.bV()},e.FX=function(t){return!!this.v6&&this.v6.FX(t)},e.HX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.R9());case 2:return n=i.sent,i.next=5,Fr.awrap(n.HX(t));case 5:case"end":return i.stop()}},null,this,null,qe)},e.xd=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s(),null==(t=this.v6)||t.tu(BD.JX,this.js);case 2:case"end":return n.stop()}},null,this,null,qe)},T(i,[{key:"Fl",get:function(){return this.Ih}},{key:"BV",get:function(){return this.Vi}},{key:"nh",get:function(){if(!this.v6)throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.v6.nh}},{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t,this.v6&&(this.v6.vL=t)}},{key:"wy",get:function(){return this.v6?this.v6.wy:dE.kC()}},{key:"OV",get:function(){return this.v6?this.v6.OV:this.TV.aF}},{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t,this.v6&&(this.v6._L=t)}}]),i}(Su),Dj="LazyMediaSource",Nj=function(){function t(t,n,i){this.D9=void 0,this.N9=void 0,this.C9=new na,this.oD=void 0,this.P9=!1,this.ua=NaN,this.pK=!1,this.B9=0,this.O9=1/0,this.x9=!1,this.L9=!1,this.uD=t,n&&(rL.F$(Dj,"Created lazy media buffer for audio."),this.D9=new Cj(o_.Sd,this)),i&&(rL.F$(Dj,"Created lazy media buffer for video."),this.N9=new Cj(o_.Ed,this))}var n=t.prototype;return n.yW=function(t){this.ua=t,this.oD&&this.oD.yW(t)},n.bV=function(){this.pK=!0,this.oD&&this.oD.bV()},n.gV=function(){this.pK=!1,this.oD&&this.oD.gV()},n.pW=function(t,n,i,e){this.B9=t,this.O9=n,this.x9=Boolean(i),this.L9=Boolean(e),this.oD&&this.oD.pW(t,n,i,e)},n.FX=function(t){return!this.oD||this.oD.FX(t)},n.HX=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.FX(t)){r.next=2;break}throw new l("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.oD){r.next=19;break}return this.uD.Rj(),r.next=6,Fr.awrap(this.uD.Wc(t));case 6:e=r.sent,p(this.ua)||e.yW(this.ua),this.pK&&e.bV(),e.pW(this.B9,this.O9,this.x9,this.L9),rL.F$(Dj,"The MediaSource has been loaded."),this.P9=!0,this.oD=e,null==(n=this.D9)||n.I9(this.oD.uW),null==(i=this.N9)||i.I9(this.oD.oW),this.C9.Wu(e),this.uD.Dj(),r.next=21;break;case 19:return r.next=21,Fr.awrap(this.oD.HX(t));case 21:case"end":return r.stop()}},null,this,null,qe)},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.oD){t.next=3;break}return t.next=3,Fr.awrap(this.oD.xs());case 3:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"nh",get:function(){return{fs:hA.CE,AW:[],XD:[]}}},{key:"Mm",get:function(){throw new l("Not implemented")}},{key:"uW",get:function(){return this.D9}},{key:"oW",get:function(){return this.N9}},{key:"wy",get:function(){return this.oD?this.oD.wy:dE.kC()}},{key:"Qg",get:function(){return this.oD?this.oD.Qg:this.ua}},{key:"QX",get:function(){return!!this.oD&&this.oD.QX}},{key:"Ny",get:function(){return this.oD?this.oD.Ny:new dE([0,1/0])}}]),t}();function Pj(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=Bj(i,"tag"),a=Bj(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}Pj(function(t,n){return"*"===n||t===n||ks(t,n+"-")},!0),Pj(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var xj=Pj(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function Bj(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new l("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var Oj,Lj=function(t){function n(){return t.call(this,Pf.Sf)||this}return E(n,t),n}(Iu),Mj=function(t){function n(){return t.call(this,Pf.Tf)||this}return E(n,t),n}(Iu),jj=16384,Fj=71,Uj=188;function Hj(t){return null!==sx(qo(t),new Jo)?Oj.M9:function(t){return function(t){if(t.length<2*Uj)return-1;for(var n=g.min(1e3,t.length-2*Uj),i=0;i<=n;i++)if(t[i]===Fj&&t[i+Uj]===Fj)return i;return-1}(t)>=0}(t)?Oj.U9:Xj(t)?Oj.Rg:Oj.vd}function Xj(t){var n=Vo(t,0,g.min(t.length,jj));return hk.XA(qo(n))}!function(t){t[t.vd=0]="vd",t[t.Rg=1]="Rg",t[t.U9=2]="U9",t[t.M9=3]="M9"}(Oj||(Oj={}));var zj=function(){function t(t,n,i,e){this.Vi=void 0,this.v6=void 0,this.X9=void 0,this.F9=void 0,this.H9=void 0,this.Vi=t,this.v6=n,this.F9=i,this.H9=e}var n=t.prototype;return n.z9=function(t){return this.v6===t},n.nV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Fr.awrap(this.v6.nV(t.Hi,{V9:t.b$.z_},n));case 3:this.Vi===o_.Ed&&Xj(t.Hi.Hi)&&this.H9.W9(t.Hi.Hi);case 4:case"end":return i.stop()}},null,this,null,qe)},n.Jz=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(fu(n),rL.yT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+PO(t.U6.r$)),i=t.Jy,e=t.Jy+t.Qg,r={N2:t.Jy,Qg:t.Qg,fp:t.fp,V9:t.b$.z_},void 0===t.Hi){s.next=10;break}return s.next=9,Fr.awrap(this.v6.Jz(t.Hi,r,n));case 9:this.G9(t.Hi,t);case 10:this.q9(i,e);case 11:case"end":return s.stop()}},null,this,null,qe)},n.G9=function(t,n){if(Xj(t.Hi)){var i=n.Jy,e=i+n.Qg,r=n.fp;this.F9.g6(t.Hi,i,r),this.Vi===o_.Ed&&this.H9.g6(t.Hi,i,e,r)}},n.q9=function(t,n){for(var i=this.v6.wy,e=new dE([t,n]).rC(i),r=0;r<e.C_;r++)this.v6.RV(e.MN(r),e.XN(r));for(var s=0;s<i.C_;s++)this.v6.DV(i.MN(s),i.XN(s))},n.RV=function(t,n){this.v6.RV(t,n)},n.DV=function(t,n){this.v6.DV(t,n)},T(t,[{key:"fs",get:function(){return this.Vi}},{key:"wy",get:function(){return this.v6.wy}},{key:"OV",get:function(){return this.v6.OV}}]),t}(),Vj=2500;var Wj=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).Y9=void 0,o.ke=void 0,o.j9=void 0,o.Y9=e,o.ke=r,o.j9=s,o}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&my(this.nk,n.nk)},T(n,[{key:"OS",get:function(){return this.Y9}},{key:"Ai",get:function(){return this.ke}},{key:"Q9",get:function(){return this.j9}},{key:"t_",get:function(){var t;return this.$w||(this.$w=wy(B_(t=this),{get schemeIDURI(){return t.OS},get value(){return t.Ai},get emsgID(){return t.Q9}})),this.$w}}]),n}(H_);function qj(t,n){return t+" "+n}var Gj,$j,Yj=function(t){function n(n){var i;return(i=t.call(this)||this).bE=void 0,i.bE=n,i}E(n,t);var i=n.prototype;return i.g6=function(t,i,e){var r=hk.MA(qo(t));if(r){var s=ik(r,vb.Jp);if(s.length){var u=n.Z9(r,i,e);this.K9(s,u,e)}}},i.K9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.xA?r.xS.toNumber()/r.Bb+i:n+r.US/r.Bb)+r.LS/r.Bb;"https://aomedia.org/emsg/ID3"===r.OS?this.J9(r,s):this.t7(r,s,u)}},i.t7=function(t,n,i){var e=qj(t.OS,t.Ai),r=this.n7(e);r||(r=this.i7(e),this.e7(r)),r.IE(new Wj(n,i,t.OS,t.Ai,t.H_,t.MS))},i.J9=function(t,n){var i=ax(qo(t.MS));if(i){var e=qj(t.OS,t.Ai),r=this.n7(e);r||(r=this.r7(e),this.e7(r));for(var s=0,u=i.mG;s<u.length;s++){var o=u[s],a=new px(n,o);xP(a,r.cg.N_),r.IE(a)}}},n.Z9=function(t,n,i){var e=nk(t,vb.$p);return e?Qt(e.ZS,e.Bb)+i:n},i.i7=function(t){var n=this.bE.SE(Bk.uA,"","","",void 0,A_.EMSG);return n.J_=t,n.eg=Py.Q_,n},i.r7=function(t){var n=this.bE.SE(Bk.uA,"","","",void 0,A_.ID3);return n.J_=t,n.eg=Py.Q_,n},i.D_=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.JA.N_;n<i.length;n++)e=i[n],this.bE.RE(e);return r.next=3,Fr.awrap(t.prototype.D_.call(this));case 3:case"end":return r.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.e7=function(t){return t.ag=k_.LOADED,this.E_(t),t},i.n7=function(t){for(var n=0,i=this.JA.N_;n<i.length;n++){var e=i[n];if(e.J_===t)return e}},n}(nA));function Qj(t){return"function"==typeof t.Iu}function Zj(t,n,i){if(!(i&&n.byte>=i)){var e=Qj(t)?t.Iu(n.byte):t[n.byte];return n.byte+=1,e}}function Kj(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+Zj(t,n);return e}(t,n,2)}!function(t){t[t.s7=0]="s7",t[t.u7=1]="u7",t[t.o7=2]="o7",t[t.a7=3]="a7",t[t.c7=4]="c7",t[t.h7=5]="h7"}(Gj||(Gj={})),function(t){t[t.f7=0]="f7",t[t.v7=1]="v7",t[t.l7=2]="l7",t[t.d7=3]="d7"}($j||($j={}));var Jj,tF=function(){function t(){this.w7=0,this._7=[],this.rE={}}var n=t.prototype;return n.g7=function(t){this._7=this._7.concat(t._7),this.w7+=t.C_},n.m7=function(t,n,i){var e=this.w7,r=i-n;r>0&&(this._7.push({y7:n,k7:i,b7:r,p7:e,A7:t}),this.w7+=r)},n.Iu=function(t){for(var n=0,i=this._7;n<i.length;n++){var e=i[n];if(e.p7<=t&&t<e.p7+e.b7)return e.A7[t+e.y7-e.p7]}},n.T7=function(t,n){for(var i=n,e=0,r=this._7;e<r.length;e++)for(var s=r[e],u=s.k7,o=s.y7;o<u;o+=1,i+=1)t[i]=s.A7[o];return i},n.S7=function(){for(var t=new _(this.w7),n=0,i=0,e=this._7;i<e.length;i++)for(var r=e[i],s=r.k7,u=r.y7;u<s;u+=1,n+=1)t[n]=r.A7[u];return t},n.Lu=function(n){for(var i=new t,e=0,r=this._7;e<r.length;e++){var s=r[e];i.m7(s.A7,s.y7,s.k7)}return i.rE=n||Ur({},this.rE),i},T(t,[{key:"C_",get:function(){return this.w7},set:function(t){var n=this._7,i=this.w7-t;if(!(t>=this.w7))if(this.w7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.b7)return r.k7-=i,r.b7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.b7}else n.length=0}},{key:"Hi",get:function(){for(var t=new Array(this.w7),n=0,i=0,e=this._7;i<e.length;i++)for(var r=e[i],s=r.k7,u=r.y7;u<s;u+=1,n+=1)t[n]=r.A7[u];return t}}]),t}();function nF(t,n,i){return i===Gj.s7?i:n!==$j.f7&&n!==$j.v7||i!==Gj.u7&&i!==Gj.o7?t?n===$j.l7?Gj.c7:n===$j.d7?Gj.a7:Gj.s7:Gj.h7:Gj.o7}function iF(t,n,i,e){var r={byte:i},s=Gj.u7,u=[],o=31&Zj(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=Zj(n,r,e),c=4&h,f=3&h;s=nF(Boolean(c),f,s);var l=Zj(n,r,e),v=Zj(n,r,e);u.push({oZ:t,kS:-1,E7:!a,I7:Boolean(c),fs:f,wQ:s,R7:l,D7:v})}return u}function eF(t,n,i){var e=Zj(t,n,i);if(!p(e))return String.fromCharCode(e)}function rF(t){var n=t.N7,i={byte:t.C7},e=t.P7,r=Zj(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=Kj(n,i);if(s===Jj.B7||s===Jj.O7){if(s===Jj.O7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=eF(t,n);return e}(n,i,4))return;if(3===Zj(n,i,e)){s===Jj.B7&&(i.byte+=1);var u=t;return u.x7=i.byte,u}}}}function sF(t){return 4===t.L7}function uF(t){for(var n=t.filter(sF).map(rF).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,iF(r.M7,r.N7,r.x7,r.P7))}return i}!function(t){t[t.B7=47]="B7",t[t.O7=49]="O7"}(Jj||(Jj={}));var oF="und";function aF(t){if(t!==oF)for(var n=t.toLowerCase(),i=0;i<cF.length;i++){var e=cF[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}var hF,cF=[{wi:"Abkhaz",_p:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",_p:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",_p:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",_p:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",_p:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",_p:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",_p:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",_p:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",_p:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",_p:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",_p:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",_p:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",_p:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",_p:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",_p:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",_p:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",_p:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",_p:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",_p:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",_p:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",_p:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",_p:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",_p:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",_p:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",_p:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",_p:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",_p:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",_p:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",_p:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",_p:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",_p:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",_p:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",_p:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",_p:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",_p:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",_p:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",_p:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",_p:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",_p:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",_p:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",_p:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",_p:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",_p:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",_p:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",_p:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",_p:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",_p:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",_p:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",_p:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",_p:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",_p:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",_p:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",_p:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",_p:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",_p:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",_p:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",_p:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",_p:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",_p:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",_p:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",_p:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",_p:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",_p:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",_p:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",_p:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",_p:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",_p:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",_p:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",_p:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",_p:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",_p:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",_p:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",_p:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",_p:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",_p:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",_p:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",_p:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",_p:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",_p:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",_p:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",_p:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",_p:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",_p:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",_p:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",_p:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",_p:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",_p:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",_p:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",_p:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",_p:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",_p:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",_p:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",_p:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",_p:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",_p:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",_p:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",_p:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",_p:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",_p:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",_p:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",_p:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",_p:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",_p:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",_p:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",_p:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",_p:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",_p:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",_p:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",_p:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",_p:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",_p:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",_p:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",_p:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",_p:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",_p:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",_p:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",_p:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",_p:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",_p:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",_p:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",_p:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",_p:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",_p:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",_p:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",_p:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",_p:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",_p:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",_p:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",_p:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",_p:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",_p:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",_p:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",_p:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",_p:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",_p:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",_p:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",_p:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",_p:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",_p:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",_p:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",_p:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",_p:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",_p:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",_p:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",_p:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",_p:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",_p:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",_p:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",_p:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",_p:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",_p:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",_p:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",_p:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",_p:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",_p:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",_p:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",_p:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",_p:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",_p:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",_p:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",_p:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",_p:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",_p:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",_p:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",_p:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",_p:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",_p:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",_p:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",_p:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",_p:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",_p:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",_p:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",_p:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",_p:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",_p:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",_p:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",_p:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",_p:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",_p:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",_p:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",_p:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",_p:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",_p:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",_p:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],fF=[128,64,32,16,8,4,2,1];function lF(t,n){var i=g.floor(n.bit/8),e=0==((Qj(t)?t.Iu(i):t[i])&fF[n.bit%8])?0:1;return n.bit+=1,e}function vF(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+lF(t,n);return e}function dF(t,n){for(var i=0;0===lF(t,n)&&i<32;)i+=1;return vF(t,n,i)+g.pow(2,i)-1}function wF(t,n){var i=dF(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function gF(t,n){var i,e=[],r={byte:1};do{e.push(yF(t,n,r)),i=n.Iu(r.byte)}while(void 0!==i&&128!==i);return e}function mF(t,n){var i,e=0;do{e+=i=Zj(t,n)}while(255===i);return e}function yF(t,n,i){var e=mF(n,i),r=mF(n,i),s=i.byte,u=s+r;return i.byte=u,{M7:t,L7:e,U7:r,C7:s,P7:u,N7:n}}!function(t){t[t.X7=1]="X7",t[t.F7=2]="F7",t[t.H7=3]="H7",t[t.z7=4]="z7",t[t.V7=5]="V7",t[t.W7=6]="W7",t[t.G7=7]="G7",t[t.q7=8]="q7",t[t.Y7=9]="Y7"}(hF||(hF={}));var pF=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function _F(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+wF(t,n)+256)%256;e=0===r?e:r}}var bF=function(){function t(t){this.j7=void 0,this.Q7=[],this.Z7=0,this.j7=t}var n=t.prototype;return n.K7=function(){for(var t=this.Q7,n=g.max(0,this.Z7+t.length-2),i=this.j7,e=i.C_,r=0;n<e;n+=1){var s=i.Iu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.Z7=n-t.length},n.J7=function(t){for(var n=this.Q7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Iu=function(t){if(!(t>this.j7.C_))return t>this.Z7&&this.K7(),this.j7.Iu(this.J7(t))},t}();var kF=24;function AF(t){var n=t.qH,i=new tF;return i.m7(Go(n),0,n.length),function(t){var n,i,e,r,s,u,o=new bF(t),a=0,h=0,c=0,f=0,l=o.Iu(1),v={bit:32};if(dF(o,v),100===l||110===l||122===l||144===l){var d=dF(o,v);if(3===d&&(n=lF(o,v)),dF(o,v),dF(o,v),lF(o,v),1===lF(o,v))for(var w=0;w<(3!==d?8:12);w+=1)1===lF(o,v)&&_F(o,v,w<6?16:64)}var m=dF(o,v),y=dF(o,v);if(0===y)dF(o,v);else if(1===y){lF(o,v),wF(o,v),wF(o,v);for(var p=dF(o,v),_=0;_<p;_+=1)wF(o,v)}dF(o,v),lF(o,v);var b=dF(o,v),k=dF(o,v),A=lF(o,v);if(0===A&&lF(o,v),lF(o,v),1===lF(o,v)&&(a=dF(o,v),h=dF(o,v),c=dF(o,v),f=dF(o,v)),1===lF(o,v)){if(1===lF(o,v)){var T=vF(o,v,8);if(255===T)i=vF(o,v,16),e=vF(o,v,16);else{var S=pF[T];S&&(i=S[0],e=S[1])}}1===lF(o,v)&&lF(o,v),1===lF(o,v)&&(vF(o,v,3),lF(o,v),1===lF(o,v)&&(vF(o,v,8),vF(o,v,8),vF(o,v,8))),1===lF(o,v)&&(dF(o,v),dF(o,v)),1===(r=lF(o,v))&&(s=vF(o,v,32),u=vF(o,v,32),lF(o,v))}return{width:g.floor(16*(b+1)-2*a-2*h),height:g.floor((2-A)*(k+1)*16-2*c-2*f),hS:i,fS:e,ttt:!!r&&u/(2*s),ntt:n,itt:m}}(i).ttt}function TF(t){var n=AF(t)||kF;return t.ett/n}function SF(t){return t.fs===vb.Vp}var EF,IF=65536;function RF(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.ett,s=vt.fromNumber(t.PS||0),u=e.Oy(ob.Jk(s,r));return{rtt:e.xk(),stt:e,utt:u,ott:e}}(t,0,i,e),o=ob.$k(t.Qg||0,i.ett),a=t.LA||0,h=!(a&IF)&&(a>>24&3)!==EF.SAMPLE_DEPENDS_ON_OTHERS,c=qo(r),f=new Jo;f.Pu<c.byteLength;){var l=ko(c,f);if((31&po(c,f,1))===hF.W7){var v,d=new tF;d.m7(r,f.Pu-1,f.Pu+l-1);var w=gF(u.utt,d);(v=s=s||[]).push.apply(v,uF(w))}f.Bu(l-1)}return Ur({},u,{Qg:o.xk(),att:o,ctt:u.utt.xk(),htt:u.rtt,ftt:h,ltt:s,dtt:!1,wtt:!1})}function CF(t){return t.fs===vb.gp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(EF||(EF={}));var DF=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(H_),NF=function(){function t(t,n){this.yZ=t,this.uZ=n}return t.prototype.Tk=function(t){return this.yZ===t.yZ&&this.uZ===t.uZ},t}(),PF=function(){function t(t,n){this._tt="",this.dU=t,this.gtt=n}var n=t.prototype;return n.mtt=function(t){this._tt+=t},n.ytt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.mtt(i)}},T(t,[{key:"RZ",get:function(){return this._tt}},{key:"AZ",get:function(){return[this]}},{key:"EZ",get:function(){return this.dU}},{key:"NZ",get:function(){return this.gtt}},{key:"DZ",get:function(){return new NF(this.NZ.yZ,this.NZ.uZ+this.RZ.length-1)}}]),t}(),xF=function(){function t(){}var n=t.prototype;return n.ktt=function(t){return t.ip(this)},n.btt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.ip(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.ptt=function(t,n){return new BF(t,n).Att()},t}(),BF=function(){function t(t,n){this.Ttt=[],this.Stt=null,this.yZ=t,this.Ett=n}var n=t.prototype;return n.Att=function(){if(this.Itt)return[];for(var t=0;t<this.yZ.length;t++)this.Rtt(t);return this.Dtt(),this.Ttt},n.Ntt=function(t){this.Stt=new PF(GB,new NF(this.Ett,t))},n.Dtt=function(){this.Stt&&(this.Ttt.push(this.Stt),this.Stt=null)},n.Rtt=function(t){var n=this.yZ[t];OF(n)?this.Stt&&this.Dtt():(this.Stt||this.Ntt(t),this.Stt.mtt(n))},T(t,[{key:"Itt",get:function(){return this.yZ.every(OF)}}]),t}();function OF(t){return null==t}var LF=function(){function t(){}return t.Ctt=function(t,n,i){if(!(n>=i)){var e=tu(t,function(t,n){return new BF(t.map(function(t){return t?t.Ptt():null}),n).Att()});if(0!==e.length)return new DF(n,i,e)}},t}(),MF="black",jF="white",FF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),UF=function(){function t(){this.Btt=[],this.Ott=0,this.xtt=void 0;for(var t=0;t<ZB;t++)this.Btt.push(null);this.xtt=!1}var n=t.prototype;return n.Ltt=function(t){for(var n=0;n<ZB;n++)t&&(this.Btt[n]=t.Btt[n])},n.Tk=function(t){for(var n=0;n<ZB;n++)if(this.Btt[n]!==t.Btt[n])return!1;return!0},n.Mtt=function(){for(var t=0;t<ZB;t++)if(null!==this.Btt[t])return!1;return!0},n.Utt=function(t){this.Ott!==t&&(this.Ott=t),this.Ott<0?this.Ott=0:this.Ott>ZB&&(this.Ott=ZB-1)},n.Xtt=function(t){var n=this.Ott+t;this.Utt(n)},n.Ftt=function(){this.Xtt(-1),this.Btt[this.Ott]=null},n.mtt=function(t){t>=144&&this.Ftt();var n,i=FF[n=t]?String.fromCharCode(FF[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Ott>=ZB||(32===Number(t)?(this.Btt[this.Ott]=this.xtt?"</i>":"<i>",this.xtt=!this.xtt):this.Btt[this.Ott]=t,this.Xtt(1))},n.Htt=function(t){for(var n=t;n<ZB;n++)this.Btt[n]=null},n.Nu=function(){this.Htt(0),this.Ott=0},n.ztt=function(){this.Htt(this.Ott)},n.Vtt=function(t,n){for(var i=this.Btt,e=null,r=0;r<ZB;r++){var s=i[r];null===s?e=null:(e||(e={x_:r,y_:t,Bk:0,dT:1,Btt:[[]]},n.push(e)),e.Btt[0].push(s),e.Bk++)}},n.ip=function(t,n){return t.ptt(this.Btt,n)},t}();var HF,XF=function(){function t(t,n){this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.Ktt=void 0,this.Jtt=void 0,this.$tt=void 0,this.tnt=void 0,this.qtt=new Array(zF+1);for(var i=0;i<=zF;i++)this.qtt[i]=new UF;this.Ytt=1,this.jtt=0,this.Qtt=t,this.Ztt=n,this.Ktt=!1,this.Jtt=!1,this.$tt=jF,this.tnt=MF,this.D_()}var n=t.prototype;return n.nnt=function(t,n){var i="CC"+(this.Qtt<<1|this.Ztt+1);if(t>=n)return null;var e=(new xF).btt(this.qtt.slice(1));return 0===e.length?null:{Ky:new DF(t,n,e),Xl:i,int:this.Qtt<<1|this.Ztt+1}},n.D_=function(){this.ent(),this.Ytt=1},n.rnt=function(){return this.Ytt},n.snt=function(t){this.Ytt=t},n.Utt=function(t){this.qtt[this.Ytt].Utt(t)},n.Xtt=function(t){this.qtt[this.Ytt].Xtt(t)},n.unt=function(){return this.jtt},n.ont=function(t){this.jtt=t},n.mtt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case HF.ant:i=void 0!==WF[n]?WF[n]:String.fromCharCode(n);break;case HF.cnt:i=qF[n];break;case HF.hnt:this.fnt(),i=GF[n];break;case HF.vnt:this.fnt(),i=$F[n]}i&&this.qtt[this.Ytt].addParsedChar(i)}},n.fnt=function(){this.qtt[this.Ytt].Ftt()},n.lnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.qtt[t+e]=this.qtt[n+e];else for(var r=0;r<i;r++)this.qtt[t+r]=this.qtt[n+r]},n.dnt=function(t,n){for(var i=0;i<=n;i++)this.qtt[t+i]=new UF},n.ent=function(){this.dnt(0,zF)},n.wnt=function(){this.Ytt=this.jtt>0?this.jtt:0,this.ent()},n._nt=function(t){this.Ktt=t},n.gnt=function(t){this.Jtt=t},n.mnt=function(t){this.$tt=t},n.ynt=function(t){this.tnt=t},t}(),zF=15;!function(t){t[t.ant=0]="ant",t[t.cnt=1]="cnt",t[t.hnt=2]="hnt",t[t.vnt=3]="vnt"}(HF||(HF={}));var VF,WF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},qF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},GF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},$F={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},YF=function(){function t(t,n){this.Vi=void 0,this.knt=void 0,this.bnt=void 0,this.pnt=void 0,this.Ant=void 0,this.Tnt=void 0,this.Snt=void 0,this.Ent=void 0,this.Vi=VF.TN,this.knt=new XF(t,n),this.bnt=new XF(t,n),this.pnt=new XF(t,n),this.Ant=this.bnt,this.Tnt=0,this.Snt=void 0,this.Ent=!1}var n=t.prototype;return n.D_=function(){this.Ent=!0,this.Tnt=0,this.Vi=VF.TN,this.Ant=this.bnt,this.Snt=void 0,this.bnt.D_(),this.pnt.D_(),this.knt.D_()},n.Int=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Rnt=function(t,n){var i=this.Int(t,n),e=(30&n)>>1,r=jF,s=!1;e<7?r=JF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==VF.$n){var o=this.Ant;if(this.Vi===VF.Dnt&&i!==o.rnt()){var a=1+o.rnt()-o.unt(),h=1+i-o.unt();o.lnt(h,a,o.unt()),o.dnt(0,h-1),o.dnt(i+1,zF-i)}o.snt(i);var c=YB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{sZ:$B[i].sZ,rZ:$B[i].rZ,uZ:$B[i].uZ,yZ:t}}(c,n);o.Utt(f.uZ),this.Ant._nt(u),this.Ant.gnt(s),this.Ant.mnt(r),this.Ant.ynt(MF)}}},n.Nnt=function(t,n){this.Ant._nt(!1),this.Ant.gnt(!1),this.Ant.mnt(jF);var i=this.Cnt(t,HF.ant," ".charCodeAt(0)),e=jF,r=!1,s=1==(1&n);return"white_italics"===(e=JF[(14&n)>>1])&&(e="white",r=!0),this.Ant._nt(s),this.Ant.gnt(r),this.Ant.mnt(e),i},n.Cnt=function(t,n,i){if(this.Ant.mtt(n,i),this.Vi===VF.Pnt||this.Vi===VF.Dnt){var e=this.Bnt(this.Ant,this.Tnt,t);return this.Tnt=t,e}return null},n.Bnt=function(t,n,i){return this.Ent?null:t.nnt(n,i)},n.Ont=function(t,n){var i=MF;0==(7&t)&&(i=KF[(14&n)>>1]),this.Ant.ynt(i)},n.xnt=function(t){var n=QF,i=t.Lnt,e=t.Mnt,r=null;switch(i){case n.RCL:this.Unt();break;case n.BS:this.Xnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Fnt(2,e);break;case n.RU3:r=this.Fnt(3,e);break;case n.RU4:r=this.Fnt(4,e);break;case n.FON:r=this.Hnt(e);break;case n.RDC:this.znt(e);break;case n.TR:this.Vnt();break;case n.RTD:this.Wnt();break;case n.EDM:r=this.Gnt(e);break;case n.CR:r=this.qnt(e);break;case n.ENM:this.Ynt();break;case n.EOC:r=this.jnt(e)}return r},n.qnt=function(t){var n=this.Ant;if(this.Vi!==VF.Dnt)return null;var i=this.Bnt(n,this.Tnt,t),e=n.rnt()-n.unt()+1;return n.lnt(e-1,e,n.unt()),n.dnt(0,e-1),n.dnt(n.rnt(),zF-n.rnt()),this.Tnt=t,i},n.Fnt=function(t,n){this.Ant=this.bnt;var i=this.Ant,e=null;return this.Vi!==VF.Dnt&&this.Vi!==VF.$n&&(e=this.Bnt(i,this.Tnt,n),this.bnt.wnt(),this.pnt.wnt(),this.Ent=!1,i.snt(zF)),this.Vi=VF.Dnt,i.ont(t),e},n.Hnt=function(t){return this.Cnt(t,HF.ant," ".charCodeAt(0))},n.Gnt=function(t){var n=this.bnt,i=null;return this.Vi!==VF.$n&&(i=this.Bnt(n,this.Tnt,t)),n.ent(),this.Ent=!1,i},n.znt=function(t){this.Vi=VF.Pnt,this.Ant=this.bnt,this.Ant.ont(0),this.Tnt=t},n.Ynt=function(){this.pnt.ent()},n.jnt=function(t){var n=null;this.Vi!==VF.$n&&(n=this.Bnt(this.bnt,this.Tnt,t));var i=this.pnt;return this.pnt=this.bnt,this.bnt=i,this.Unt(),this.Tnt=t,n},n.Unt=function(){this.Vi=VF.Qnt,this.Ant=this.pnt,this.Ant.ont(0)},n.Xnt=function(){this.Ant.fnt()},n.Vnt=function(){this.knt.D_(),this.Ent=!1,this.Wnt()},n.Wnt=function(){this.Ant=this.knt,this.Vi=VF.$n},n.Znt=function(t,n,i){return this.Ant.mtt(HF.ant,n),this.Cnt(t,HF.ant,i)},n.Knt=function(t,n,i){var e=1&n?HF.vnt:HF.hnt;return this.Cnt(t,e,i)},n.Jnt=function(t){var n=t.$nt,i=t.Lnt,e=t.Mnt;if(this.Snt===(n<<8|i))return this.Snt=void 0,null;if(this.Snt=n<<8|i,this.tit(n,i))this.Rnt(n,i);else{if(this.nit(n,i))return this.Nnt(e,i);if(this.iit(n,i))this.Ont(n,i);else{if(this.eit(n,i))return this.Cnt(e,HF.cnt,i);if(this.rit(n,i))return this.Knt(e,n,i);if(this.sit(n,i))return this.xnt(t);this.isTabOffset(n)&&this.Ant.Xtt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.sit=function(t,n){return 20==(246&t)&&32==(240&n)},n.tit=function(t,n){return 16==(240&t)&&64==(192&n)},n.nit=function(t,n){return 17==(247&t)&&32==(240&n)},n.iit=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.eit=function(t,n){return 17==(247&t)&&48==(240&n)},n.rit=function(t,n){return 18==(246&t)&&32==(224&n)},t.uit=function(t){return 16==(112&t)},t}(),QF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.TN=0]="TN",t[t.Qnt=1]="Qnt",t[t.Pnt=2]="Pnt",t[t.Dnt=3]="Dnt",t[t.$n=4]="$n"}(VF||(VF={}));var ZF,KF=["black","green","blue","cyan","red","yellow","magenta","black"],JF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],tU=function(){function t(t,n,i,e,r){this.oit=void 0,this.Ktt=void 0,this.Jtt=void 0,this.tnt=void 0,this.$tt=void 0,this.oit=t,this.Ktt=n,this.Jtt=i,this.tnt=e,this.$tt=r}var n=t.prototype;return n.Ptt=function(){return this.oit},n.ait=function(){return this.Ktt},n.cit=function(){return this.Jtt},n.hit=function(){return this.tnt},n.fit=function(){return this.$tt},t}(),nU=function(){function t(t){this.vit=void 0,this.NN=void 0,this.dit=void 0,this.wit=void 0,this._it=void 0,this.git=void 0,this.mit=void 0,this.yit=void 0,this.kit=void 0,this.pit=void 0,this.wk=void 0,this.Ytt=void 0,this.Ait=void 0,this.Jtt=void 0,this.Ktt=void 0,this.$tt=void 0,this.tnt=void 0,this.vit=t,this.NN=!1,this.dit=!1,this.wit=0,this._it=0,this.git=0,this.mit=0,this.yit=0,this.kit=ZF.Tit,this.pit=[],this.wk=0,this.Ytt=0,this.Ait=0,this.Jtt=!1,this.Ktt=!1,this.$tt=jF,this.tnt=MF,this.Sit()}var n=t.prototype;return n.Eit=function(t,n,i,e,r,s,u){this.NN=t,this._it=n,this.wit=i,this.git=e,this.dit=r,this.mit=s,this.yit=u},n.Sit=function(){this.pit=[];for(var t=0;t<eU;t++)this.pit.push(this.Iit())},n.Iit=function(){for(var t=[],n=0;n<iU;n++)t.push(null);return t},n.Rit=function(t){this.Dit()&&(this.pit[this.Ytt][this.Ait]=new tU(t,this.Ktt,this.Jtt,this.tnt,this.$tt),this.Ait++)},n.Nit=function(){this.Dit()&&(this.Ait<=0&&this.Ytt<=0||(this.Ait<=0?(this.Ait=this.yit-1,this.Ytt--):this.Ait--,this.pit[this.Ytt][this.Ait]=null))},n.Dit=function(){var t=this.Ytt<this.mit&&this.Ytt>=0,n=this.Ait<this.yit&&this.Ait>=0;return t&&n},n.Cit=function(){return this.NN},n.Pit=function(t){for(var n=0,i=t;i<eU;i++,n++)this.pit[n]=this.pit[i];for(var e=0;e<t;e++,n++)this.pit[n]=this.Iit()},n.Bit=function(){if(this.Ytt+1>=this.mit)return this.Pit(1),void(this.Ait=0);this.Ytt++,this.Ait=0},n.Oit=function(){this.pit[this.Ytt]=this.Iit(),this.Ait=0},n.nnt=function(t,n){if(this.wk>=t)return null;var i=LF.Ctt(this.pit,this.wk,t);return i?(this.xit(t),{Ky:i,Xl:"svc"+n,int:n}):null},n.Lit=function(t,n){this.Ytt=t,this.Ait=n},n.Mit=function(t){this.tnt=t},n.Uit=function(t){this.$tt=t},n.Xit=function(t){this.Ktt=t},n.Fit=function(t){this.Jtt=t},n.Hit=function(){this.Ytt=0,this.Ait=0,this.Ktt=!1,this.Jtt=!1,this.$tt=jF,this.tnt=MF},n.zit=function(t){this.kit=t},n.Vit=function(){this.NN=!0},n.Jm=function(){this.NN=!1},n.Wit=function(){this.NN=!this.NN},n.xit=function(t){this.wk=t},t}();!function(t){t[t.Git=0]="Git",t[t.qit=1]="qit",t[t.Tit=2]="Tit",t[t.Yit=3]="Yit"}(ZF||(ZF={}));var iU=42,eU=15,rU=function(){function t(t){this.jit=void 0,this.Qit=void 0,this.Zit=void 0,this.jit=t,this.Qit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Zit=void 0}var n=t.prototype;return n.Kit=function(t){var n=t.Jit(),i=n.Ai,e=n.Mnt;i===hU&&(i=i<<16|t.Jit().Ai);return i>=0&&i<=31?this.$it(i,e):i>=128&&i<=159?this.tet(t,i,e):(i>=4096&&i<=4127?this.net(t,255&i):i>=4224&&i<=4255?this.iet(t,255&i):i>=32&&i<=127?this.eet(i):i>=160&&i<=255?this.ret(i):i>=4128&&i<=4223?this.uet(255&i):i>=4256&&i<=4351&&this.oet(255&i),null)},n.eet=function(t){this.Zit&&(127!==t?this.Zit.Rit(String.fromCharCode(t)):this.Zit.Rit("\u266a"))},n.ret=function(t){this.Zit&&this.Zit.Rit(String.fromCharCode(t))},n.uet=function(t){if(this.Zit)if(void 0!==cU[t]){var n=cU[t];this.Zit.Rit(n)}else this.Zit.Rit("_")},n.oet=function(t){this.Zit&&(160===t?this.Zit.Rit("[CC]"):this.Zit.Rit("_"))},n.$it=function(t,n){if(!this.Zit)return null;var i=this.Zit,e=null;switch(t){case sU:i.Nit();break;case oU:i.Cit()&&(e=i.nnt(n,this.jit)),i.Bit();break;case aU:i.Cit()&&(e=i.nnt(n,this.jit)),i.Oit();break;case uU:i.Cit()&&(e=i.nnt(n,this.jit)),i.Sit(),i.Lit(0,0)}return e},n.tet=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.aet(e)}else{if(136===n){var r=t.Jit().Ai;return this.cet(r,i)}if(137===n){var s=t.Jit().Ai;this.het(s,i)}else{if(138===n){var u=t.Jit().Ai;return this.fet(u,i)}if(139===n){var o=t.Jit().Ai;return this.vet(o,i)}if(140===n){var a=t.Jit().Ai;return this.let(a,i)}if(143===n)return this.D_(i);if(144===n)this.det(t);else if(145===n)this.wet(t);else if(146===n)this.Lit(t);else if(151===n)this._et(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.Eit(t,h,i)}}}return null},n.net=function(t,n){n>=8&&n<=15?t.yA(1):n>=16&&n<=23?t.yA(2):n>=24&&n<=31&&t.yA(3)},n.iet=function(t,n){n>=128&&n<=135?t.yA(4):n>=136&&n<=143&&t.yA(5)},n.aet=function(t){this.Qit[t]&&(this.Zit=this.Qit[t])},n.met=Fr.mark(function t(n){var i;return Fr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Qit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.cet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),u.Sit()}return i},n.het=function(t,n){for(var i=0,e=this.met(t);i<e.length;i++){var r=e[i],s=this.Qit[r];s.Cit()||s.xit(n),s.Vit()}},n.fet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),u.Jm()}return i},n.vet=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()?i=u.nnt(n,this.jit):u.xit(n),u.Wit()}return i},n.let=function(t,n){for(var i=null,e=0,r=this.met(t);e<r.length;e++){var s=r[e],u=this.Qit[s];u.Cit()&&(i=u.nnt(n,this.jit)),this.Qit[s]=void 0}return i},n.D_=function(t){var n=this.let(255,t);return this.Nu(),n},n.Nu=function(){this.Zit=void 0,this.Qit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.det=function(t){t.yA(1);var n=t.Jit().Ai;if(this.Zit){var i=(128&n)>0,e=(64&n)>0;this.Zit.Fit(i),this.Zit.Xit(e)}},n.wet=function(t){var n=t.Jit().Ai,i=t.Jit().Ai;if(t.yA(1),this.Zit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.yet(s,r,e),c=this.yet(a,o,u);this.Zit.Uit(h),this.Zit.Mit(c)}},n.Lit=function(t){var n=t.Jit().Ai,i=t.Jit().Ai;if(this.Zit){var e=15&n,r=63&i;this.Zit.Lit(e,r)}},n._et=function(t){t.yA(1),t.yA(1);var n=t.Jit().Ai;if(t.yA(1),this.Zit){var i=3&n;this.Zit.zit(i)}},n.Eit=function(t,n,i){var e=void 0!==this.Qit[n];if(!e){var r=new nU(n);r.xit(i),this.Qit[n]=r}var s=t.Jit().Ai,u=t.Jit().Ai,o=t.Jit().Ai,a=t.Jit().Ai,h=t.Jit().Ai,c=t.Jit().Ai,f=(32&s)>0,l=127&u,v=(128&u)>0,d=o,w=1+(15&a),g=(240&a)>>4,m=1+(63&h);e&&0===(7&c)||this.Qit[n].Hit(),this.Qit[n].Eit(f,l,d,g,v,w,m),this.Zit=this.Qit[n]},n.yet=function(t,n,i){var e={0:0,1:0,2:1,3:1};return fU[e[t]<<2|e[n]<<1|e[i]]},t}(),sU=8,uU=12,oU=13,aU=14,hU=16,cU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},fU=["black","blue","green","cyan","red","magenta","yellow","white"],lU=function(){function t(){this.ket=void 0,this.bet=void 0,this.pet=void 0,this.ket=[],this.bet=null,this.pet=0}var n=t.prototype;return n.Aet=function(t){if(t.fs===$j.d7){var n=63&t.Ai;return this.pet=2*n-1,void(this.bet=[])}if(this.bet&&(this.pet>0&&(this.bet.push(t),this.pet--),0===this.pet)){var i=new vU(this.bet);this.ket.push(i),this.bet=null,this.pet=0}},n.Tet=function(){return this.ket},n.Eet=function(){this.ket=[]},n.Nu=function(){this.ket=[],this.bet=[],this.pet=0},t}(),vU=function(){function t(t){this.Iet=void 0,this.Ret=void 0,this.Iet=0,this.Ret=t}var i=t.prototype;return i.Det=function(){return this.Iet<this.Ret.length},i.Net=function(){return this.Iet},i.Jit=function(){if(!this.Det())throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Ret[this.Iet++]},i.yA=function(t){if(this.Iet+t>this.Ret.length)throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Iet+=t},t}(),dU=function(){function t(){this.Cet=void 0,this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.xet=void 0,this.Let=void 0,this.Met=void 0,this.Uet=void 0,this.Xet=!1,this.Cet=[],this.Pet=[],this.Bet=new lU,this.Oet=0,this.xet=Vr({CC1:new YF(0,0),CC2:new YF(0,1),CC3:new YF(1,0),CC4:new YF(1,1)}),this.Let=0,this.Met=0,this.Uet=zr(),this.D_()}var i=t.prototype;return i.Nu=function(){this.Oet=0,this.Cet=[],this.Pet=[],this.Bet.Nu(),this.D_(),this.Uet.forEach(function(t){t.Nu()})},i.D_=function(){this.Let=0,this.Met=0,this.xet.forEach(function(t){t.D_()})},i.O5=function(t,n){if(t.I7){var i=t.R7,e=t.D7,r=t.fs;r===$j.f7||r===$j.v7?this.Cet.push({Mnt:n,fs:r,$nt:i,Lnt:e,Fet:this.Cet.length}):this.Xet&&(this.Pet.push({Mnt:n,fs:r,Ai:i,Fet:this.Pet.length}),this.Pet.push({Mnt:n,fs:$j.l7,Ai:e,Fet:this.Pet.length}))}},i.oB=function(){var t=[];Ms(this.Cet,function(t,n){return t.Mnt-n.Mnt||t.Fet-n.Fet}),Ms(this.Pet,function(t,n){return t.Mnt-n.Mnt||t.Fet-n.Fet});for(var n=0,i=this.Cet;n<i.length;n++){var e=i[n],r=this.Het(e);r&&t.push(r)}for(var s=0,u=this.Pet;s<u.length;s++){var o=u[s];this.Bet.Aet(o)}for(var a=this.Bet.Tet(),h=0;h<a.length;h++){var c=a[h],f=this.zet(c);t.push.apply(t,f)}return this.Bet.Eet(),this.Cet=[],this.Pet=[],t},i.Het=function(t){var n=t.fs;if(YF.uit(t.$nt)){var i=t.$nt>>3&1;0===n?this.Let=i:this.Met=i}var e="CC"+(n<<1|(n?this.Met:this.Let)+1),r=this.xet.get(e);return 255===t.$nt&&255===t.Lnt||!t.$nt&&!t.Lnt||!this.Vet(t.$nt)||!this.Vet(t.Lnt)?(++this.Oet>=45&&this.D_(),null):(this.Oet=0,t.$nt&=127,t.Lnt&=127,t.$nt||t.Lnt?YF.uit(t.$nt)?r.Jnt(t):r.Znt(t.Mnt,t.$nt,t.Lnt):null)},i.zet=function(t){var i=[];try{for(;t.Det();){var e=t.Jit().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Jit().Ai;if(0!==r){if(!this.Uet.has(r)){var u=new rU(r);this.Uet.set(r,u)}for(var o=this.Uet.get(r),a=t.Net();t.Net()-a<s;){var h=o.Kit(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof lf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Vet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),wU=function(t){function n(n,i){var e;return(e=t.call(this,"Wet")||this).int=n,e.Ky=i,e}return E(n,t),n}(Iu),gU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Get=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.qet(e,e.oZ.xk()+n)}this.oB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).Yet=void 0,n.Yet=new dU,n}E(n,t);var i=n.prototype;return i.qet=function(t,n){this.Yet.O5(t,n)},i.oB=function(){for(var t=this.Yet.oB(),n=0;n<t.length;n++){var i=t[n];this.Qs(new wU(i.int,i.Ky))}},i.D_=function(){this.Yet.Nu()},i.xd=function(){this.$s(),this.Yet.Nu()},n}(Su)),mU=function(t){function n(n){var i;return(i=t.call(this)||this).jet=void 0,i.Qet=void 0,i.Zet=NaN,i.Ket=NaN,i.Jet=void 0,i.bE=void 0,i.$et=function(t){i.trt({nrt:t.int,irt:""}).IE(t.Ky)},i.bE=n,i.Jet=zr(),i.jet=new gU,i.jet.Zs("Wet",i.$et),i}E(n,t);var i=n.prototype;return i.ert=function(t){return this.Jet.get(t)},i.trt=function(t){var n=this.Jet.get(t.nrt);return n||(n=this.rrt(t),this.Jet.set(t.nrt,n)),n},i.rrt=function(t){var n,i=aF(t.irt),e=i?i.wi:"";t.urt&&(e="easy "+e),n=t.W_?"CC "+t.W_:e?"CC "+e:"CC"+t.nrt;var r=this.bE.SE(Bk.aE,n,n,e,!1,A_.CEA608);return this.E_(r),r},i.W9=function(t){var n=hk.MA(qo(t));this.Qet=function(t){for(var n=0;n<t.JA.length;n++){var i=t.JA[n],e={fT:(h=t.JA[n]).NA.fT,ett:h.oT.NA.Bb},r=i.oT.yT.pT.TT.ET,s=Ws(r,function(t){return t.fs===vb.Np});if(!s){var u=Ws(r.filter(function(t){return t.fs===vb.zp}),function(t){var n;return(null==(n=t.sS)?void 0:n.fs)===vb.Np});u&&(s=u.sS)}if(s){var o=dN(qo(s.JT.Hi),new Jo),a=s.tS;return Ur({},e,{fT:i.NA.fT,JT:Ko(s.JT.Hi),Bk:s.Bk,dT:s.dT,fS:a&&a.fS,hS:a&&a.hS,ort:o.zH,art:o.VH,V9:o.WH,qH:o.qH[0],YH:o.YH[0]})}}var h}(n.filter(CF)[0])},i.g6=function(t,n,i,e){if(this.Qet&&(p(this.Zet)||!Ut(this.Zet,n,1e-5))){p(this.Ket)||Ut(n,this.Ket,1e-5)||this.jet.D_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.rE.ltt&&n.push.apply(n,e.rE.ltt),delete e.rE.ltt}for(var r=0;r<n.length;r+=1)n[r].kS=r;return n.sort(QB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(SF),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Ws(c.JA,function(t){return t.NA.fT===i.fT});if(f)for(var l=f.NA.dS||0,v=f.NA.wS||0,d=f.SS?f.SS.SS:vt.ZERO,w=c.yS+(null!=(h=f.NA.ES)?h:vt.ZERO).toNumber(),g=0,m=f.TS;g<m.length;g++)for(var y=m[g],p=w+(y.yS||0),_=0,b=y.CS;_<b.length;_++){var k=b[_],A=k.Cu||v,T=new tF;T.m7(t,p,p+A);var S=ob.Jk(d,i.ett);T.rE=r(k,c,i,S,Qo(t,p,p+A)),s.push(T),p+=A,d=d.add(k.Qg||l||o)}}return s}(t,hk.MA(qo(t)),this.Qet,TF,RF));this.jet.Get(r,e),this.Zet=n,this.Ket=i}},i.D_=function(){var n=this;return this.jet.D_(),this.Jet.forEach(function(t){return n.I_(t)}),this.Jet.clear(),this.Qet=void 0,this.Zet=NaN,this.Ket=NaN,t.prototype.D_.call(this)},i.xd=function(){return this.jet.tu("Wet",this.$et),this.jet.xd(),t.prototype.xd.call(this)},n}(nA);function yU(t){if(t.fs===kO.BJ&&void 0!==t.i$){var n=t.i$.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.i$.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var pU=function(){function t(t){this.F4=void 0,this.crt=!1,this.F4=t}var n=t.prototype;return n.hrt=function(t,n){return this.crt?this.F4.hrt(t,n):qe.resolve(!1)},n.J6=function(t,n){return this.crt?this.F4.J6(t,n):qe.resolve(void 0)},n.J4=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.F4.J4(t));case 2:return n=i.sent,this.crt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,qe)},n.QM=function(t){return this.F4.QM(t)},t}(),_U="LLHLSPlayer",bU=[wp.zg,wp.Vg,wp.Wg,wp.Gg,wp.w_],kU=[Pf.bf,Pf.Df,Pf.Cf,Pf.lf],AU=50,TU=3e4,SU=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).uD=void 0,h.pE=void 0,h.wD=void 0,h.lD=void 0,h.frt=void 0,h.vrt=void 0,h.lrt=void 0,h.drt=void 0,h.F4=void 0,h.Nm=void 0,h.Cm=void 0,h.Pm=void 0,h.wrt=zr(),h._rt=void 0,h.grt=void 0,h.vD=void 0,h.F9=void 0,h.H9=void 0,h.mrt=!1,h.AE=new au,h.yrt=void 0,h.o6=void 0,h.oD=void 0,h.x5=void 0,h.krt=void 0,h.brt=new au,h.prt=void 0,h.u6=void 0,h.Art=void 0,h.Trt=void 0,h.Srt=void 0,h.Ert=void 0,h.Irt=void 0,h.Rrt=[],h.hW=void 0,h.fW=void 0,h.Drt=void 0,h.Nrt=void 0,h.Crt=void 0,h.c9=void 0,h.Prt=new au,h.Brt=void 0,h.oY=new au,h.uY=void 0,h.Ort=-1,h.xrt=void 0,h.Lrt=void 0,h.Mrt=void 0,h.Urt=void 0,h.Xrt=void 0,h.Frt=void 0,h.Hrt=!0,h.zrt=0,h.Vrt=!1,h.RC=1,h.hD=uE.TN,h.aD=void 0,h.cD=void 0,h.vW=dE.kC(),h.Wrt=[],h.Grt=void 0,h.qrt=!1,h.Yrt=void 0,h.jrt=void 0,h.Qrt=!1,h.Zrt=void 0,h.Krt=void 0,h._D=new ZS,h.handleContentProtectionErrorEvent=function(t){h.aD=s_(t.errorObject),h.cD=t.errorObject,h.js(t)},h.handleBufferingErrorEvent=function(t){h.mD(new lf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.Jrt=function(){h.$rt();var t=h.Qg;t!==h.Yrt&&(h.Yrt=t,h.Qs(new Ap(h.Yrt)))},h.tst=function(){h.Zg&&h.Qs(new Ep(h.jg))},h.nst=function(){h.Qs(new mp(h.jg))},h.ist=function(){h.Qs(new yp(h.jg))},h.bD=function(){void 0!==h.Krt&&i.jn(h.Krt),h.Qs(new bA(h.jg))},h.rst=function(){h.Qs(new MD(h.jg))},h.LE=function(){h.Qs(new xp(h.jg,h.ag))},h.YG=function(){var t=h.E$;Js(h.Wrt,t)||(h.Qs(new ZM),h.Wrt=t),h.Qs(new Sp(h.jg,h._y))},h.sst=function(){pu(h.G0())},h._W=function(){h.Qs(new Rp(h.jg))},h.kD=function(){h.Qs(new Cp(h.jg))},h.ust=function(){h.Qs(new Dp(h.jg,h.cm))},h.ost=function(){h.uD.nm?h.Qs(new _A(h.jg)):(h.Krt=i.Qn(function(){h.Zrt=void 0,pu(h.ast())},Vj),h.Qs(new _A(h.jg)))},h.cst=function(t){cu(t)||Uk(t)||Hk(t)||(h.hst(),pu(h.fst()),h.Qs(new pL(t)))},h.h6=function(){h.$rt()},h.vst=function(t){pu(h.lst(t.b$))},h.dst=nt(function(t){var n=[h.x5,h.Brt,h.uY].filter(H);h.oY=new au,h.uY=h.wj(n,t,h.oY.Ws).catch(h.cst)},AU),h.wst=function(t){if(!cu(t)){var i=t instanceof lf?t:new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.mD(i)}},h.onTextTrackChange=function(t){if(h.Art){var n=t.i_,i=Ws(h.Art.S2,function(t){return n===h.wrt.get(t.z_)});i&&(n.eg===Py.Q_||n.eg===Py.Z_?(pu(h._st(i)),h.wrt.forEach(function(t){t!==n&&(t.eg=Py.j_)})):h.Ert&&h.Ert===i&&pu(h.gst(h.Trt,h.Srt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.mst===t||h.D$===t||h.C$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Fr.awrap(h.u6.j4(t,n));case 4:t.KJ.q3=-1/0;case 5:case"end":return i.stop()}},null,null,null,qe)},h.yst=function(){h.kst()},h.bst=function(){h.pst()},h.Ast=function(t){if(t.b$.e$){var n=h.u6.q$.D4(t.b$);if(n&&!n.ZH){h.u6.e6(n,t.ZH),h._rt.Z$();var i=h.Art;if(i){var e=void 0!==h.Trt&&!Qs(i.j$,h.Trt),r=void 0!==h.Srt&&!Qs(i.Q$,h.Srt);(e||r)&&h.gst(e?void 0:h.Trt,r?void 0:h.Srt,h.Ert).catch(K)}}}},h.Tst=function(t){h.u6.n6(t.b$)},h.xC=s,h.W6=u,h.Sst=o,h.F4=new pU(a),h.uD=e,h.pE=new oL(r,h.xC),h.wD=new yL(h.xC.oL),h.lrt=new _L(h.uD),h.drt=new IL(h.xC),h.Nm=new a_,h.Cm=new a_,h._rt=new uL(Jt(h),h.Nm,h.Cm),h.grt=new Ok,h.vD=new eA(h.uD,h.pE),h.F9=new Yj(h.uD),h.H9=new mU(h.uD),h.Pm=new $S([h.grt,h.vD.JA,h.F9.JA,h.H9.JA]),h.lD=new qS(h.pE),h.uD.LD=h.lD,h.frt=new IU(Jt(h),h.uD),h.vrt=new AA(h.frt,!0),h.Est(),h}E(e,t);var r=e.prototype;return r.Ist=function(t){return nu(t,function(t){return t.HR})},r.ast=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.Rst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Fr.awrap(this.Dst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Ist(t))){e.next=14;break}return e.next=13,Fr.awrap(this.R$(i,!0));case 13:this.wD.X0(i.HR);case 14:case"end":return e.stop()}},null,this,null,qe)},r.$rt=function(){var t=function(t){for(var n=new dE([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.KJ.Ny;s.C_>0&&(n=n.ZN(s),i=g.max(i,s.MN(0)))}if(n.C_>0)return n;return dE.yC(i)}([this.Trt,this.Srt].filter(H));0!==t.C_&&(this.oD&&this.oD.QX&&this.Nst&&(t=new dE([t.MN(0),this.oD.Qg])),this.vW=t,this.F9.kE(t.MN(0)),this.H9.kE(t.MN(0)))},r.Gm=function(){return!1},r.iy=function(){return mE},r.Jm=function(){rL.yT(_U,"Hiding the player."),this.uD.Jm()},r.Hm=function(){rL.yT(_U,"Pausing the player."),this.uD.Hm()},r.Fm=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.uD.Fm(),this.mrt){n.next=4;break}return n.next=4,Fr.awrap(this.Wc());case 4:return n.next=6,Fr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,qe)},r.Cst=function(){this.aD=void 0,this.cD=void 0},r.mD=function(t){this.aD||(pu(this.D_()),this.aD=s_(t),this.cD=t,this.Qs(new Bp(t)))},r.Km=function(){rL.yT(_U,"Showing the player."),this.uD.Km()},r.qm=function(){throw new l("Not implemented")},r.Ym=function(){throw new l("Not implemented")},r.ly=function(){},r.Wm=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(rL.yT(_U,"Setting the player source to "+t.src+"."),this.Cst(),!this.yrt||hp(this.yrt)){r.next=6;break}return r.next=5,Fr.awrap(this.D_());case 5:fu(e);case 6:if(t.src&&!hp(t)){r.next=8;break}return r.abrupt("return");case 8:this.lD.GR(t.contentProtection),this.o6=t,this.Zs(bO.CJ,this.handleBufferingErrorEvent),this.u6=new WM(this.pE,this.F4,i.Or(t.src)),this.u6.Zs(XM.C4,this.h6),this.u6.Zs(XM.P4,this.vst),this.prt=new QM(t,this.u6,this.uD),this.Pm.$R(this.prt.Um),this.c9=this.Sst.RK(),n.textTracks&&this.VD(n.textTracks),aA(this.Pm),this.Pst();case 20:case"end":return r.stop()}},null,this,null,qe)},r.Wc=function(){return this.x5?this.x5:(this.x5=this.Pw(this.AE.Ws).catch(this.wst),this.x5)},r.Pw=function(t){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(rL.yT(_U,"Loading the player."),this.u6.r6){c.next=13;break}return c.prev=2,c.next=5,Fr.awrap(this.u6.H4(t));case 5:this.Bst(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),lu(c.t0),this.Iy=!1,new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.Irt=this.u6.q$.Y$,this.Irt.length){c.next=16;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Fr.awrap(this.Ost(this.Irt));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Fr.awrap(this.Dst(e));case 23:(r=c.sent).length>0&&(e=r),rL.yT(_U,"Selecting initial active variant stream."),s=CU(e,null==(i=this.o6)?void 0:i.abr,this.xC),(u=NU(s.j$))&&rL.yT(_U,"Detected initial audio rendition."),(o=NU(s.Q$))&&rL.yT(_U,"Detected initial video rendition."),(a=RU(s.S2))&&rL.yT(_U,"Detected initial subtitle rendition."),a||(h=RU(s.E2))&&rL.yT(_U,"Detected initial closed caption rendition."),this.xst(s),this._rt.G$(),this.Lst(s,h),this.gst(u,o,a).catch(K),this.mrt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],qe)},r.Bst=function(){this.Qrt||(this.Qrt=!0,this.frt.Mst())},r.VD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.vD.TE(i)}},r.Lst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=yU(e);void 0!==r&&n.push({nrt:r,irt:e.G_||"",W_:e.wi})}return n}(t.E2),e=0;e<i.length;e++){var r=i[e];this.H9.trt(r)}if(void 0!==n){var s=yU(n);this.H9.ert(s).eg=Py.Z_}},r.Pst=function(){this.brt.Hs(),this.brt=new au,this.krt=this.Ust(this.krt,this.brt.Ws).catch(this.wst)},r.Ust=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.hD,!t){e.next=5;break}return e.next=4,Fr.awrap(t);case 4:fu(n);case 5:if(i!==uE.TN&&this.u6){e.next=7;break}return e.abrupt("return");case 7:if(fu(n),this.u6.r6){e.next=19;break}return e.prev=9,e.next=12,Fr.awrap(this.u6.H4(n));case 12:this.Bst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),lu(e.t0),e.abrupt("return");case 19:if(i!==uE.uA){e.next=21;break}return e.abrupt("return");case 21:fu(n),this.Wc().catch(this.wst);case 23:case"end":return e.stop()}},null,this,[[9,15]],qe)},r.I$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Xst(i))throw new l("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Irt=t},r.Xst=function(t){var n=this.q$;return!!n&&Qs(n.Y$,t)},r.Fst=function(t){if(this.Art)return Ws(this.Art.J$,function(n){return n===t})},r.xst=function(t){if(rL.yT(_U,"Setting active variant stream."),this.Art!==t){var n;if((null==(n=this.Art)?void 0:n.v1)!==(null==t?void 0:t.v1)){if(this.Art)for(var i=0,e=this.Art.S2;i<e.length;i++){var r=e[i];this.RE(r)}if(t)for(var s=0,u=t.S2;s<u.length;s++){var o=u[s];this.Hst(o)}}this.Art=t,this.Qs(new Ij)}},r.Hst=function(t){var n=this.uD.SE(Bk.rA,void 0,t.wi,t.G_,t.JJ);this.grt.E_(n),this.wrt.set(t.z_,n),n.Zs(ny.l_,this.onTextTrackChange)},r.RE=function(t){var n=this.wrt.get(t.z_);n&&(n.tu(ny.l_,this.onTextTrackChange),this.grt.I_(n),this.wrt.delete(t.z_),this.uD.RE(n))},r.Rst=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Irt)?t:this.q$.Y$).length||this.Irt){r.next=4;break}return rL.yT(_U,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Irt){r.next=7;break}return rL.yT(_U,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Fr.awrap(this.Ost(n));case 9:if((i=r.sent).length){r.next=13;break}return rL.H$(_U,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=PU(i)).length){r.next=22;break}if(!this.Vrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return rL.H$(_U,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.zrt++,r.next=21,Fr.awrap(this.zst(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,qe)},r.G0=function(){var t,n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.Rst());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.uD,o=void 0,a=void 0,o=u.jg,a=u.wy.wC(o),n=a?a.XN(0)-o:0,s.next=8,Fr.awrap(this.Dst(t));case 8:return i=s.sent,s.next=11,Fr.awrap(this.drt.G0(t,this.Art,n,i));case 11:if(e=s.sent,r=!!this.Art&&e.HR<this.Art.HR,!(!!r||this.Vst(e,t,n))){s.next=17;break}return s.next=17,Fr.awrap(this.R$(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,qe)},r.Vst=function(t,n,e){var r,s;if(t===this.A$)return!1;if(t===this.Ist(n))return!0;(!this.Zrt||this.Zrt.T$.HR>t.HR)&&(this.Zrt={T$:t,rtt:i.ir()});var u=i.ir()-this.Zrt.rtt,o=null!=(r=null==(s=this.C$)?void 0:s.KJ.H0)?r:1/0;return e>=g.max(o-1,5)||u>1e3},r.zst=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Vrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Srt?Ws(e.Q$,function(t){return MO(t,u.Srt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Fr.awrap(this.j4(r));case 11:r.KJ.q3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.zrt=0,o.next=24,Fr.awrap(this.Wst());case 24:o.next=29;break;case 26:return s=g.min(1e3*g.pow(2,this.zrt),TU),o.next=29,Fr.awrap(bu(s));case 29:return this.Vrt=!1,o.next=32,Fr.awrap(this.G0());case 32:case"end":return o.stop()}},null,this,[[5,15]],qe)},r.Ost=function(t){var n,i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(ru(t,function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ZH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.ZH.QH,n.t1){n.next=7;break}return n.next=6,Fr.awrap(i.lrt.jX('audio/mp4; codecs="'+t.ZH.QH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.ZH.jH,n.t2){n.next=14;break}return n.next=13,Fr.awrap(i.lrt.jX('video/mp4; codecs="'+t.ZH.jH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,qe)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.ZH)?void 0:n.jH})&&(n=n.filter(function(t){return!t.ZH||t.ZH.jH})),n.some(function(t){var n;return null==(n=t.ZH)?void 0:n.QH})&&(n=n.filter(function(t){return!t.ZH||t.ZH.QH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,qe)},r.Dst=function(t){var n=this;return ru(t,function(t){var i,e,r,s,u=[NU(t.j$),NU(t.Q$),RU(t.S2),RU(t.E2)].filter(H);return i=u,e=function(t){return n.Gst(t)},Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Fr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,qe)})},r.Gst=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.KJ.aJ.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.KJ.aJ[0]).r$){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.r$,e=i.OJ?SO(i.OJ.MN,i.OJ.C_):void 0,r.prev=7,r.next=10,Fr.awrap(this.F4.hrt(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],qe)},r.R$=function(t,n){var i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.mrt){u.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new l("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Xst(t)){u.next=6;break}throw new l("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Art){u.next=9;break}return rL.yT(_U,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Trt?Ws(t.j$,function(t){return MO(t,s.Trt)}):void 0,e=this.Srt?Ws(t.Q$,function(t){return MO(t,s.Srt)}):void 0,r=this.Ert?Ws(t.S2,function(t){return MO(t,s.Ert)}):void 0,this.xst(t),this.Zrt=void 0,u.next=16,Fr.awrap(this.gst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,qe)},r.N$=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Fst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return rL.yT(_U,"Switching audio rendition"),i.next=12,Fr.awrap(this.gst(n,this.Srt,this.Ert,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,qe)},r.P$=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Fst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return rL.yT(_U,"Switching video rendition"),i.next=12,Fr.awrap(this.gst(this.Trt,n,this.Ert,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,qe)},r._st=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mrt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Art){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Fst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return rL.yT(_U,"Switching subtitle rendition"),i.next=12,Fr.awrap(this.gst(this.Trt,this.Srt,n));case 12:case"end":return i.stop()}},null,this,null,qe)},r.lst=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Vrt){i.next=2;break}return i.abrupt("return");case 2:if(t.fs===kO.Ed){i.next=7;break}return i.next=5,Fr.awrap(this.qst(t,n));case 5:i.next=17;break;case 7:if(!(this.Irt&&this.Irt.length<=1)){i.next=15;break}if(this.Srt===t){i.next=11;break}return i.next=11,Fr.awrap(this.gst(this.Trt,t,this.Ert));case 11:return i.next=13,Fr.awrap(this.qst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Fr.awrap(this.G0());case 17:case"end":return i.stop()}},null,this,null,qe)},r.j4=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.u6.j4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),lu(i.t0),!Uk(i.t0)&&!Hk(i.t0)){i.next=11;break}return i.next=11,Fr.awrap(this.lst(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],qe)},r.qst=function(t,n){var i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qs(this.Rrt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Rrt.push(t),e.prev=3,e.next=6,Fr.awrap(HM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,TU));case 6:if(e.prev=6,$s(this.Rrt,t),t.KJ.q3!==-1/0){e.next=11;break}return e.next=11,Fr.awrap(this.Wst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],qe)},r.gst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Trt===t&&this.Srt===n&&this.Ert===i?qe.resolve():void 0===t&&void 0===n?qe.reject(new l("Trying to buffer no media renditions.")):(this.Trt=t,this.Srt=n,this.Ert=i,this.$rt(),this.Qs(new Rj),this.oY.Hs(),this.oY=new au,this.Prt.Hs(),this.Prt=new au,this.Brt=this.Yst([this.Brt,this.uY].filter(H),t,n,i,e,r,s,this.Prt.Ws).catch(this.cst),this.Brt)},r.Yst=function(t,n,i,e,r,s,u,o){var a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return this.hst(),l.next=5,Fr.awrap(this.fst());case 5:return a=[],s&&this.oD&&this.oD.uW&&a.push(this.oD.uW.Gc(0,1/0)),u&&this.oD&&this.oD.oW&&a.push(this.oD.oW.Gc(0,1/0)),l.next=10,Fr.awrap(qe.all(a));case 10:return fu(o),l.next=13,Fr.awrap(this.jst(n,i,o));case 13:return this.Qst(n,i,r),this.Zst(e,r),fu(o),h=n&&i&&FO(n,i),c=[i,h?void 0:n,e].filter(H),l.prev=18,l.next=21,Fr.awrap(qe.all(c.filter(function(t){return!t.KJ.W3}).map(function(t){var n;return null==(n=f.u6)?void 0:n.Q4(t,o)})));case 21:l.next=26;break;case 23:l.prev=23,l.t0=l.catch(18),lu(l.t0);case 26:fu(o),this.bW(),this.$rt(),void 0!==this.Grt?this.dst(this.Grt):!this.qrt&&c.every(function(t){return!t.KJ.J1})?this.dst(1/0):this.Kst.length>0&&this.Jst();case 30:case"end":return l.stop()}},null,this,[[18,23]],qe)},r.jst=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.oD){c.next=7;break}if(s=void 0!==this.oD.uW,u=void 0!==this.oD.oW,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,Fr.awrap(this.$st(t,n,this.Art));case 9:for(o=c.sent,fu(i),a=0,h=this.Kst;a<h.length;a++)h[a].A9.forEach(function(t){return t.Hs()});if(this.uD.Rj(),c.prev=13,!this.oD){c.next=17;break}return c.next=17,Fr.awrap(this.uD.D_());case 17:return c.next=19,Fr.awrap(this.tut(o,e,r));case 19:this.oD=c.sent;case 20:return c.prev=20,this.uD.Dj(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],qe)},r.$st=function(t,n,i){var e,r,s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.ZH,a=[],o&&o.QH&&(h='audio/mp4; codecs="'+o.QH+'"',rL.yT(_U,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.jH&&(c='video/mp4; codecs="'+o.jH+'"',rL.yT(_U,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return rL.H$(_U,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.KJ.aJ[0])?void 0:r.z1)?e:[],l=null!=(s=null==t?void 0:null==(u=t.KJ.aJ[0])?void 0:u.z1)?s:[],v=this.u6.q$,w.next=12,Fr.awrap(ML(this.o6.contentProtection,a,v.N4.concat(l).concat(f),this.pE));case 12:return d=w.sent,w.abrupt("return",{fs:hA.CE,AW:a.map(function(t){return{Fl:t}}),XD:d});case 14:case"end":return w.stop()}},null,this,null,qe)},r.tut=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Fr.awrap(this.uD.Wc(t));case 3:e=r.sent,r.next=7;break;case 6:e=new Nj(this.uD,n,i);case 7:return this.oD=e,this.bW(),this.kst(),this.pst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,qe)},r.bW=function(){var t=this.oD;if(t&&p(t.Qg)){var n,i,e,r=null!=(n=null==(i=this.Trt)?void 0:i.KJ.Qg)?n:null==(e=this.Srt)?void 0:e.KJ.Qg;void 0!==r&&r>0&&t.yW(r)}this.$rt()},r.kst=function(){var t=this.oD;t&&(t.oW&&(t.oW.vL=this.xC.IL),t.uW&&(t.uW.vL=this.xC.IL))},r.pst=function(){var t=this.oD;t&&(t.oW&&(t.oW._L=this.xC._L),t.uW&&(t.uW._L=this.xC._L))},r.Qst=function(t,n,i){if(!this.oD)throw new l("Invalid state");this.oD.uW?this.hW&&this.hW.z9(this.oD.uW)||(this.hW=new zj(o_.Sd,this.oD.uW,this.F9,this.H9)):this.hW=void 0,this.oD.oW?this.fW&&this.fW.z9(this.oD.oW)||(this.fW=new zj(o_.Ed,this.oD.oW,this.F9,this.H9)):this.fW=void 0;var e,r,s,u,o,a,h,c,f,v,d,w,g,m,y=t&&n&&FO(t,n);if(this.fW&&n){var p=y&&this.hW?[this.fW,this.hW]:[this.fW];this.Nrt?this.Nrt.b$!==n&&(i&&(this.Nrt.Hs(),this.Nrt.f9.Nu()),this.Nrt.j5(n)):(this.Nrt=(e=n,r=p,this.uD,s=this.u6,u=this.pE,o=this.F4,a=this.W6,h=this.c9,c=this.xC,f=new pj,v=new dj(o_.Ed,e,s,f,u,o,a),d=r.map(function(t){return t.fs}),w=h.nut(e,f,s.q$.$S,d),(g=new Ej(v,f,w,c)).h9(r),g),this.Nrt.b9.Zs(cj.M5,this.sst),this.Nrt.p9.Zs(yj.H8,this.Ast),this.Nrt.p9.Zs(yj.z8,this.Tst)),this.Nrt.h9(p)}else{var _;null==(_=this.Nrt)||_.xs(),this.Nrt=void 0}this.hW&&t&&!y?(this.Drt?this.Drt.b$!==t&&(i&&(this.Drt.Hs(),this.Drt.f9.Nu()),this.Drt.j5(t)):(this.Drt=function(t,n,i,e,r,s,u,o,a){var h=new pj,c=new dj(o_.Sd,t,e,h,r,s,u),f=o.nut(t,h,e.q$.$S,[n.fs]),l=new Ej(c,h,f,a);return l.h9([n]),l}(t,this.hW,this.uD,this.u6,this.pE,this.F4,this.W6,this.c9,this.xC),this.Drt.p9.Zs(yj.H8,this.Ast),this.Drt.p9.Zs(yj.z8,this.Tst)),this.Drt.h9([this.hW])):(null==(m=this.Drt)||m.xs(),this.Drt=void 0);this.iut()},r.Zst=function(t,n){this.Crt&&(this.Crt.b9.b$===t?n&&(this.Crt.Hs(),this.Crt.f9.Nu()):(this.Crt.xs(),this.Crt=void 0));if(!this.Crt&&t){var i=this.wrt.get(t.z_);i.eg=Py.Z_,this.Crt=function(t,n,i,e,r,s){var u=i.q$.$S,o=new bj(n,u),a=new pj,h=new dj(o_.$n,t,i,a,e,r,s),c=new Sj(t,a,u,o_.$n),f=new Ej(h,a,c);return f.v9(o),f}(t,i,this.u6,this.pE,this.F4,this.W6)}},r.iut=function(){var t=[this.hW,this.fW].filter(H).map(function(t){return t.fs});this.u6.q$.$S.l4(t)},r.wj=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return fu(i),r.next=5,Fr.awrap(this.fst());case 5:fu(i),this.Grt=void 0,this.jrt=void 0,this.qrt=!0,e=this.eut.YN(n),this.uD.xu(e),this.mrt&&this.Kst.length>0&&(this.rut(this.uD.jg),this.Jst());case 12:case"end":return r.stop()}},null,this,null,qe)},r.rut=function(t){for(var n=0,i=this.Kst;n<i.length;n++){var e=i[n];e.K5(t)||(e.y9(),e.f9.D8()),e._9(t)||(e.k9(),e.f9.N8())}},r.hst=function(){for(var t=0,n=this.Kst;t<n.length;t++){n[t].Hs()}},r.fst=function(){return qe.all([this.sut(),this.uut(),this.out()])},r.Jst=function(){this.aut(),this.cut(),this.hut()},r.Wst=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.mrt&&this.Kst.length>0)){t.next=6;break}return this.Kst.forEach(function(t){return t.y9()}),t.next=4,Fr.awrap(this.sut());case 4:this.aut(),this.Kst.forEach(function(t){return t.b9.r8()});case 6:case"end":return t.stop()}},null,this,null,qe)},r.aut=function(){var t=this;if(!this.Urt){var n=function(){t.Urt=void 0};this.xrt=new au,this.Urt=this.fut(this.xrt.Ws).catch(this.cst).then(n,n)}},r.sut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.xrt)||t.Hs(),n=this.Urt,this.Urt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.fut=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:fu(t),n=this.Kst;case 2:for(i=[],e=this.uD.jg,r=0;r<n.length;r++)s=n[r],u=s.b9,o=s.d9(e),u.C6?i.push(u.B6()):s.m9(e,o,this.xC.IL)&&((a=u.J5(o))?(c=a[0],f=a[1],u.h8(c,f,s.b6)):((h=u.b$.KJ.aJ).length&&h[0].Jy>o&&(this.jg=1/0),u.o8(),u.i8(o)),i.push(u.B6()));if(0!==i.length){l.next=13;break}if(!n.every(function(t){return t.b9.y8})){l.next=9;break}return l.abrupt("break",17);case 9:return l.next=11,Fr.awrap(this.uD.au(Pf.Ff,t));case 11:l.next=15;break;case 13:return l.next=15,Fr.awrap(du(qe.race(i),t));case 15:l.next=2;break;case 17:case"end":return l.stop()}},null,this,null,qe)},r.cut=function(){var t=this;if(!this.Xrt){var n=function(){t.Xrt=void 0};this.Lrt=new au,this.Xrt=this.vut(this.Lrt.Ws).catch(this.cst).then(n,n)}},r.uut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Lrt)||t.Hs(),n=this.Xrt,this.Xrt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.vut=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(t),n=this.Kst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.b9,(u=r.p9).C6?i.push(u.B6()):(o=s.Q5())?"w8"===o.fs?(u.K8(o),i.push(u.B6())):"Y1"===o.fs&&(u.Q8(o),i.push(u.B6())):i.push(s.s8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.b9.y8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.uD.au(Pf.Ff,t));case 10:a.next=14;break;case 12:return a.next=14,Fr.awrap(du(qe.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,qe)},r.hut=function(){var t=this;if(!this.Frt){this.Mrt=new au;var n=function(){t.Frt=void 0};this.Frt=this.lut(this.Mrt.Ws).catch(this.cst).then(n,n)}},r.out=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Mrt)||t.Hs(),n=this.Frt,this.Frt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.lut=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v,d=this;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.Kst).forEach(function(t){return t.l9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.p9,a=0,h=u.A9;a<h.length;a++)c=h[a],f=c.D6?i:e,c.C6?f.push(c.B6()):c.O6(this.uD.jg)||((l=o.i9(c.fs))?"w8"===l.fs&&l.Z1===this.Ort?(c.X6(l),f.push(c.B6())):"s9"===l.fs&&l.Z1===this.Ort&&(c.nV(l),f.push(c.B6())):r.push(o.e9(c.fs)));if(0!==i.length){w.next=15;break}if(!((v=tu(n,function(t){return t.A9.filter(function(t){return t.D6}).map(function(n){return t.p9.i9(n.fs)})})).length>0&&v.every(function(t){return void 0!==t&&"s9"===t.fs&&t.Z1!==d.Ort}))){w.next=15;break}return w.next=12,Fr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=iu(i=v,function(t){return t.Z1}).Z1,!i.every(function(t){return t.Z1===e})){l.next=20;break}return r=nu(i,function(t){return t.Jy}).Jy,l.next=7,Fr.awrap(d.wut(i));case 7:if(s=l.sent,!d.oD.FX(s)){l.next=15;break}return rL.F$("Discontinuity","Seamless switch from",d.oD.nh,"to",s),l.next=12,Fr.awrap(d.oD.HX(s));case 12:rL.F$("Discontinuity","Seamless switch complete."),l.next=17;break;case 15:return l.next=17,Fr.awrap(d._ut(r,s,t));case 17:d.Ort=i[0].Z1,l.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.A9;a<h.length;a++)for(c=h[a],f=o.p9.i9(c.fs);f&&f.Z1!==e;)o.p9.M6(f),f=o.p9.i9(c.fs);case 21:return l.abrupt("return","continue");case 22:case"end":return l.stop()}},null,null,null,qe)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.A9.length>0&&t.A9.every(function(t){return t.O6(d.uD.jg)})})&&this.oD.bV(),w.abrupt("break",23);case 19:return w.next=21,Fr.awrap(du(qe.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,qe)},r.wut=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.u9.ZH}),i=n.map(function(t){return{Fl:t}}),(e=tu(t,function(t){return t.u9.z1})).push.apply(e,this.u6.q$.N4),r=this.o6.contentProtection,u.next=7,Fr.awrap(ML(r,n,e,this.pE));case 7:return 0===(s=u.sent).length&&this.oD&&this.oD.nh.XD.length>0&&(s=this.oD.nh.XD),u.abrupt("return",{fs:hA.CE,AW:i,XD:s});case 10:case"end":return u.stop()}},null,this,null,qe)},r._ut=function(t,n,i){var e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.oD,s=r.Qg,!(u=this.jg<t)){h.next=19;break}h.prev=4,rL.F$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.bV();case 7:if(this.uD.Zg||!(this.uD.jg<t)){h.next=12;break}return h.next=10,Fr.awrap(this.uD.au([Pf.Ff,Pf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.gV(),r.yW(s),h.t0;case 19:return rL.F$("Discontinuity","Perform hard switch from",null==(e=this.oD)?void 0:e.nh,"to",n),h.prev=20,this.jg<t&&(this.jg=t),this.uD.Rj(),this.fW=void 0,this.hW=void 0,this.iut(),h.next=28,Fr.awrap(this.uD.D_());case 28:return h.next=30,Fr.awrap(this.uD.Wc(n));case 30:this.oD=h.sent,this.bW(),this.kst(),this.pst(),this.oD.oW&&(this.fW=new zj(o_.Ed,this.oD.oW,this.F9,this.H9)),this.oD.uW&&(this.hW=new zj(o_.Sd,this.oD.uW,this.F9,this.H9)),this.iut();case 37:return h.prev=37,u&&pu(this.uD.Fm()),this.uD.Dj(),h.finish(37);case 41:this.Nrt&&(o=void 0!==this.hW&&void 0===this.Drt,a=o?[this.fW,this.hW]:[this.fW],this.Nrt.h9(a)),this.Drt&&this.Drt.h9([this.hW]),rL.F$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],qe)},r.gut=function(t){return du(_u(tu(this.Kst,function(t){return t.A9.map(function(t){return t.B6()})})),t)},r.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return rL.yT(_U,"Unloading the player."),this.mut(),this.Cst(),t.next=5,Fr.awrap(this.D_());case 5:return this.uD.LD=void 0,this.grt.xd(),t.next=9,Fr.awrap(this.vD.xd());case 9:return t.next=11,Fr.awrap(this.F9.xd());case 11:return t.next=13,Fr.awrap(this.H9.xd());case 13:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.vrt.xd(),this.frt.xs(),this.W6.xs();case 19:case"end":return t.stop()}},null,this,null,qe)},r.D_=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return rL.yT(_U,"Resetting the player."),this.tu(bO.CJ,this.handleBufferingErrorEvent),this.Ort=-1,this.brt.Hs(),this.brt=new au,this.AE.Hs(),this.AE=new au,this.oY.Hs(),this.oY=new au,this.Prt.Hs(),this.Prt=new au,t=[this.krt,this.x5,this.uY,this.Brt].filter(H),n.next=14,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 14:return this.krt=void 0,this.x5=void 0,this.uY=void 0,this.Brt=void 0,this.Trt=void 0,this.Srt=void 0,this.Ert=void 0,this.Irt=void 0,this.Rrt=[],this.xst(void 0),this.hst(),n.next=27,Fr.awrap(this.fst());case 27:return this.Drt&&(this.Drt.xs(),this.Drt=void 0),this.Nrt&&(this.Nrt.xs(),this.Nrt=void 0),this.Crt&&(this.Crt.xs(),this.Crt=void 0),this.hW=void 0,this.fW=void 0,this.oD=void 0,this.c9&&(this.c9.xs(),this.c9=void 0),this.u6&&(this.u6.xs(),this.u6=void 0),this.prt&&(this.Pm.nD(this.prt.Um),this.prt=void 0),n.next=38,Fr.awrap(this.vD.D_());case 38:return n.next=40,Fr.awrap(this.F9.D_());case 40:return n.next=42,Fr.awrap(this.H9.D_());case 42:return this.uD.QD(),n.next=45,Fr.awrap(this.uD.D_());case 45:this.o6=void 0,this.yrt=void 0,this.mrt=!1,this.RC=1,this.vW=dE.kC(),this.Grt=void 0,this.Yrt=void 0,this.jrt=void 0,this.qrt=!1,this.Qrt=!1,this.vrt.D_(),this.yut(),this.Qs(new gp(this.jg,this.ag));case 58:case"end":return n.stop()}},null,this,null,qe)},r.yut=function(){for(var t=0,n=this.Nm.N_;t<n.length;t++){n[t].xd()}for(var i=0,e=this.Cm.N_;i<e.length;i++){e[i].xd()}for(var r=0,s=this.Pm.N_;r<s.length;r++){s[r].xd()}this.Nm.D_(),this.Cm.D_(),this.Pm.D_(),this.wrt.clear()},r.Est=function(){this.vrt.Zs(bU,this.js),this.vrt.Zs(wp.Yg,this.bD),this.vrt.Zs(wp.qg,this.ost),this.xC.Zs("lL",this.yst),this.xC.Zs("gL",this.bst),this.uD.Zs(kU,this.js),this.uD.Zs(Pf.vf,this.handleContentProtectionErrorEvent),this.uD.Zs(Pf._f,this.Jrt),this.uD.Zs(Pf.mf,this.tst),this.uD.Zs(Pf.Ef,this.nst),this.uD.Zs(Pf.If,this.ist),this.uD.Zs(Pf.Rf,this.rst),this.uD.Zs(wp.w_,this.LE),this.uD.Zs(Pf.Ff,this.YG),this.uD.Zs(Pf.Bf,this._W),this.uD.Zs(Pf.Pf,this.kD),this.uD.Zs(Pf.Hf,this.ust)},r.mut=function(){this.vrt.tu(bU,this.js),this.vrt.tu(wp.Yg,this.bD),this.vrt.tu(wp.qg,this.ost),this.xC.tu("lL",this.yst),this.xC.tu("gL",this.bst),this.uD.tu(kU,this.js),this.uD.tu(Pf.vf,this.handleContentProtectionErrorEvent),this.uD.tu(Pf._f,this.Jrt),this.uD.tu(Pf.mf,this.tst),this.uD.tu(Pf.Ef,this.nst),this.uD.tu(Pf.If,this.ist),this.uD.tu(Pf.Rf,this.rst),this.uD.tu(wp.w_,this.LE),this.uD.tu(Pf.Ff,this.YG),this.uD.tu(Pf.Bf,this._W),this.uD.tu(Pf.Pf,this.kD),this.uD.tu(Pf.Hf,this.ust)},T(e,[{key:"Nst",get:function(){for(var t=[this.Trt,this.Srt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.KJ.J1)return!1;var e=i.KJ.aJ,r=e[e.length-1];if(r&&r.Z1!==this.Ort)return!1}return!0}},{key:"A$",get:function(){return this.Art}},{key:"D$",get:function(){return this.Trt}},{key:"C$",get:function(){return this.Srt}},{key:"mst",get:function(){return this.Ert}},{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.uD.wy.nN()}},{key:"E$",get:function(){var t=[];if(this.Art)for(var n=this.uD.jg,i=0,e=this.Kst;i<e.length;i++)for(var r=0,s=e[i].A9;r<s.length;r++){var u=s[r].L6(n);u&&!Qs(t,u)&&t.push(u)}return t}},{key:"_y",get:function(){if(this.Art){var t=this.uD.jg;return this.Art._2(t)}},set:function(t){if(t&&this.Art){var n=this.Art.g2(t);void 0!==n&&(this.jg=n)}}},{key:"jg",get:function(){var t;return null!=(t=this.Grt)?t:this.uD.jg},set:function(t){rL.yT(_U,"Seeking to "+t+" s."),this.Grt=t,this.jrt=!0,this.qrt=!0,this.Qs(new Rp(t)),this.oY.Hs(),this.dst(t)}},{key:"Qg",get:function(){var t,n,i,e,r,s,u;return this.Nst?this.uD.Qg:null!=(t=null!=(n=null!=(i=null==(e=this.Trt)?void 0:e.KJ.Qg)?i:null==(r=this.Srt)?void 0:r.KJ.Qg)?n:null==(s=this.u6)?void 0:null==(u=s.s6)?void 0:u.KJ.Qg)?t:1/0}},{key:"Zg",get:function(){if(!this.Nst)return!1;if(this.nm){var t,n,i=this.jg,e=null==(t=this.Trt)?void 0:t.KJ.Qg,r=null==(n=this.Srt)?void 0:n.KJ.Qg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.uD.Zg}},{key:"mu",get:function(){return this.aD}},{key:"Kg",get:function(){return this.cD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return!1}},{key:"Tm",get:function(){return Ur({},{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.uD.eN())}},{key:"q$",get:function(){var t;return null==(t=this.u6)?void 0:t.q$}},{key:"Jg",get:function(){return this.uD.Jg},set:function(t){this.uD.Jg=t}},{key:"Iy",get:function(){return this.Hrt},set:function(t){this.Hrt!==t&&(this.Hrt=t,this.Qs(t?new Lj:new Mj))}},{key:"$g",get:function(){return this.uD.$g}},{key:"tm",get:function(){return this.uD.tm},set:function(t){rL.yT(_U,"Setting playback rate to "+t+"."),this.uD.tm=t}},{key:"Ry",get:function(){return this.kut.nN()}},{key:"kut",get:function(){return this.uD.Ry}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD!==t&&(this.hD=t,this.Pst())}},{key:"ag",get:function(){var t=this.uD.ag;return this.Qrt&&(t=g.max(Ky.Ug,t)),t}},{key:"Ny",get:function(){return this.eut.nN()}},{key:"eut",get:function(){var t=this.vW,n=[this.Trt,this.Srt].filter(H);if(t.C_>0&&n.some(function(t){return!t.KJ.J1})){var i=this.kut,e=t.XN(t.C_-1);if(i.C_>0&&i.XN(i.C_-1)>e){var r=i.XN(i.C_-1),s=n.reduce(function(t,n){return t.ZN(n.KJ.H3)},new dE([0,1/0]));s.C_>0&&(r=g.min(r,s.XN(s.C_-1))),t=t.iC(new dE([e,r]))}}return t}},{key:"nm",get:function(){var t;return null!=(t=this.jrt)?t:this.uD.nm}},{key:"rN",get:function(){}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"im",get:function(){return this.uD.im}},{key:"um",get:function(){return this.uD.um}},{key:"cm",get:function(){return this.uD.cm},set:function(t){rL.yT(_U,"Setting volume to "+t+"."),this.uD.cm=t}},{key:"Cy",get:function(){return this._D}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"sN",get:function(){return this.wD}},{key:"Kst",get:function(){return[this.Drt,this.Nrt,this.Crt].filter(H)}}]),e}(Su),EU=function(){function t(){}return t.prototype.oN=function(n,i){var e;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(ep(n.type)){i.next=2;break}return i.abrupt("return",!1);case 2:if(!n.useNativePlayback){i.next=4;break}return i.abrupt("return",!1);case 4:if(!(e=n.contentProtection)||uT(e)){i.next=12;break}if(hT(e)){i.next=8;break}return i.abrupt("return",!1);case 8:return i.next=10,Fr.awrap(t.but(e));case 10:if(i.sent){i.next=12;break}return i.abrupt("return",!1);case 12:return i.abrupt("return",!0);case 13:case"end":return i.stop()}},null,null,null,qe)},t.but=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.aes128){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t0=t.playready,!n.t0){n.next=7;break}return n.next=6,Fr.awrap(i.Dr());case 6:n.t0=n.sent;case 7:if(!n.t0){n.next=9;break}return n.abrupt("return",!0);case 9:if(n.t1=t.widevine,!n.t1){n.next=14;break}return n.next=13,Fr.awrap(i.Nr());case 13:n.t1=n.sent;case 14:if(!n.t1){n.next=16;break}return n.abrupt("return",!0);case 16:if(n.t2=t.clearkey,!n.t2){n.next=21;break}return n.next=20,Fr.awrap(i.Ir());case 20:n.t2=n.sent;case 21:if(!n.t2){n.next=23;break}return n.abrupt("return",!0);case 23:if(!t.fairplay){n.next=25;break}return n.abrupt("return",!1);case 25:return n.next=27,Fr.awrap(i.Sr());case 27:if(!n.sent){n.next=29;break}return n.abrupt("return",!0);case 29:return n.abrupt("return",!1);case 30:case"end":return n.stop()}},null,null,null,qe)},t}(),IU=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).IN=n,e}return E(n,t),n.prototype.Mst=function(){this.Qs(new xp(this.jg,this.ag))},T(n,[{key:"ag",get:function(){return this.IN.ag}}]),n}(TA);function RU(t){var n=Ws(t,function(t){return t.JJ}),e=t.filter(function(t){return t.$J}),r=i.Hr,s=e.map(function(t){return t.G_}).filter(H),u=xj(s,r);return u?Ws(e,function(t){return t.G_===u}):n}function CU(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.ZH&&t.ZH.jH&&CN(t.ZH.jH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=DU(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=DU(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.dL.type){case eC.BANDWIDTH:var r=i.RL,s=e.filter(function(t){return t.HR<=r});if(s.length>0)return iu(s,function(t){return t.HR});case eC.PERFORMANCE:return nu(e,function(t){return t.HR});case eC.QUALITY:return iu(e,function(t){return t.HR})}}function DU(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.ZH&&t.ZH.QH&&CN(t.ZH.QH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function NU(t){var n;return null!=(n=RU(t))?n:t[0]}function PU(t){return t.filter(function(t){return t.Q$.some(function(t){return t.KJ.q3<i.ir()-TU})||0===t.Q$.length})}var xU=function(){function t(){}var i=t.prototype;return i.G6=function(t,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Fr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new _(s));case 10:throw u.prev=10,u.t0=u.catch(0),new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],qe)},i.xs=function(){},t.dh=function(){return void 0!==typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),BU=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Iu),OU=["message","messageerror","error"],LU=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).error=n,i}return E(n,t),n}(Iu),MU=function(t){function n(n){var i;return(i=t.call(this)||this).Aut=void 0,i.Tut=void 0,i.Sut=[],i.Eut=function(t){if(i.Iut)t.Rut();else{i.Aut=t,i.Aut.Zs(OU,i.js);for(var n=0,e=i.Sut;n<e.length;n++){var r=e[n];t.Dut(r.du,r.Nut)}Ks(i.Sut)}},i.Cut=function(t){if(!i.Iut){var n=t instanceof l?t:new l("Could not create Worker.");i.Qs(new LU(n)),i.Rut()}},i.Tut=new au,n(i.Tut.Ws).then(i.Eut,i.Cut),i}E(n,t);var i=n.prototype;return i.Dut=function(t,n){this.Iut||(void 0!==this.Aut?this.Aut.Dut(t,n):this.Sut.push({du:t,Nut:n}))},i.Rut=function(){this.Iut||(this.Tut.Hs(),Ks(this.Sut),void 0!==this.Aut&&this.Aut.Rut())},T(n,[{key:"Iut",get:function(){return this.Tut.Ws.Ns}}]),n}(Su);var jU=function(t){function n(n){var i;return(i=t.call(this)||this).Aut=void 0,i.Put=function(t){i.Qs(new BU("message",t.data))},i.But=function(t){i.Qs(new BU("messageerror",t.data))},i.GY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof l?t.error:new l(t.message);i.Qs(new LU(n)),i.Rut()},i.Aut=new b(n),i.Aut.addEventListener("message",i.Put),i.Aut.addEventListener("messageerror",i.But),i.Aut.addEventListener("error",i.GY),i}E(n,t);var i=n.prototype;return i.Dut=function(t,n){n?this.Aut.postMessage(t,n):this.Aut.postMessage(t)},i.Rut=function(){this.$s(),this.Aut.removeEventListener("message",this.Put),this.Aut.removeEventListener("messageerror",this.But),this.Aut.removeEventListener("error",this.GY),this.Aut.terminate()},n}(Su),FU=0,UU="iframe.html",HU=function(n){function e(e,r){var u;(u=n.call(this)||this).Cc=void 0,u.Out=void 0,u.xut=void 0,u.Lut=void 0,u.Mut=function(){u.xut.removeEventListener("load",u.Mut),u.xut.contentWindow.postMessage({type:"initialize",id:u.Cc,script:u.Out},"*")},u.Uut=function(t){t.origin===u.Lut&&t.data.id===u.Cc&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new LU(new l(t.data.data.message))),u.Rut()):u.Qs(new BU("message",t.data.data))))},u.Cc=FU++,u.Out=e;var o,a,h=i.Br(UU,r);return u.xut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Lut=h.origin,u.xut.addEventListener("load",u.Mut),t.addEventListener("message",u.Uut),u}E(e,n);var r=e.prototype;return r.Dut=function(t,n){n?this.xut.contentWindow.postMessage({type:"message",data:t},"*",n):this.xut.contentWindow.postMessage({type:"message",data:t},"*")},r.Rut=function(){var n;this.xut.removeEventListener("load",this.Mut),t.removeEventListener("message",this.Uut),null==(n=this.xut.contentWindow)||n.postMessage({type:"terminate"},"*"),nr(this.xut)},e}(Su);function XU(t,n){return t=i.Or(t,n),new MU(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,r=new jU(t),l.next=4,Fr.awrap(qU(r,e));case 4:return l.abrupt("return",r);case 7:l.prev=7,l.t0=l.catch(0),null==(s=r)||s.Rut(),lu(l.t0);case 11:if(!WU||!Df){l.next=42;break}return l.prev=12,l.next=15,Fr.awrap(i.jw.ud({hd:t,Rd:rg.GET,td:xf.$n,Ws:e}));case 15:return o=l.sent,l.next=18,Fr.awrap(o.Ll(e));case 18:u=l.sent,l.next=24;break;case 21:l.prev=21,l.t1=l.catch(12),lu(l.t1);case 24:if(!u){l.next=42;break}return l.prev=25,h=Df([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new jU(a),l.next=31,Fr.awrap(qU(r,e));case 31:return l.abrupt("return",r);case 34:l.prev=34,l.t2=l.catch(25),null==(c=r)||c.Rut(),lu(l.t2),WU=!1;case 39:return l.prev=39,a&&URL.revokeObjectURL(a),l.finish(39);case 42:return l.prev=42,r=new HU(t,n),l.next=46,Fr.awrap(qU(r,e));case 46:return l.abrupt("return",r);case 49:throw l.prev=49,l.t3=l.catch(42),null==(f=r)||f.Rut(),l.t3;case 53:case"end":return l.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],qe)}(t,n,e)})}var zU,VU,WU=!0;function qU(t,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.au(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(q(s=e.data)&&"4.3.0"===s.Xut){r.next=7;break}throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.3.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,qe)}!function(t){t.Fut="G6",t.Hut="m5"}(zU||(zU={})),function(t){t.zut="Vut",t.Wut="Gut"}(VU||(VU={}));var GU=function(){function t(t){var e=this;this.qut=void 0,this.Yut=void 0,this.Aut=void 0,this.jut=0,this.Qut=Xr(),this.Zut=function(t){var i=t.data,r=i.Kut,s=e.Qut.get(r);s&&(e.Qut.delete(r),i.Jut===VU.zut?s.Wu(i.$ut):i.Jut===VU.Wut&&s.Gu(new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.gw=function(t){var i=new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);e.xs(i)},this.qut=t;try{this.Yut=i.Or("theoplayer.d.js",t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var e=t.prototype;return e.tot=function(){var t=XU(this.Yut,this.qut);return t.Zs("message",this.Zut),t.Zs("error",this.gw),t},e.G6=function(t,n,i){var e=""+ ++this.jut,r={iot:zU.Fut,eot:e,rot:t,uot:n,oot:i},s=new na;return this.Qut.set(e,s),null!=this.Aut||(this.Aut=this.tot()),this.Aut.Dut(r),s.Fu},e.xs=function(t){void 0===t&&(t=new hu),this.Qut.forEach(function(n){return n.Gu(t)}),this.Qut.clear(),this.Aut&&(this.Aut.Rut(),this.Aut=void 0)},t}();function $U(t,n){if(void 0===n.aot)return{QH:void 0,jH:t};if(void 0===n.cot)return{QH:t,jH:void 0};for(var i=Oc(t),e=QU(i),r=QU(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];tN(u)&&(e.boxes[s]=tH(u,n.cot),r.boxes[s]=tH(u,n.aot))}var o=e.serialize().join(),a=r.serialize().join();return{QH:o,jH:a}}function YU(t){var n=Ws(t.boxes,KD);if(n){var i=Ws(n.boxes,JD);if(i)return i.handlerType}}function QU(t){var n,i=new Cc;return(n=i.boxes).push.apply(n,t.boxes),i}function ZU(t){var n,i=new zh;return(n=i.boxes).push.apply(n,t.boxes),i}var KU=8;function JU(t,n){for(var i=function(t){var n,i=new nc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=nH(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new wh(new _(n.getSize()-KU));else if(s instanceof zh){var u=s,o=Gs(u.boxes,function(t){return t instanceof Hh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=ZU(u);h.boxes[o]=new wh(new _(a.getSize()-KU)),i.boxes[r]=h}}}return i}function tH(t,n){for(var i=function(t){var n,i=new vc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof fc){var s=Ws(r.boxes,nN);s&&s.trackId===n&&(i.boxes[e]=new wh(new _(r.getSize()-KU)))}}return i}function nH(t){return Ws(t.boxes,ZD).trackId}function iH(t,n,i){for(var e=Ws(t.boxes,nN),r=!0,s=0,u=t.boxes;s<u.length;s++){var o=u[s];if(o instanceof sc)o.baseMediaDecodeTime=o.baseMediaDecodeTime.subtract(i.Ub(n).wb());else if(o instanceof rc)o.baseMediaDecodeTime-=i.Ok(n);else if(o instanceof hc&&o.samples.length>0&&r){r=!1;var a=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;for(var h=e.defaultSampleDuration,c=0;c<a.length;c++){a[c].duration=h}}a[0].duration+=i.Ok(n),o.samples=a}}}function eH(t,n){var i=nk(hk.MA(qo(t)),vb.Vp);if(!i)throw new l("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=[],e=function(t,e){var r=e[t];if(!r.SS||0===r.TS.length||0===r.TS[0].CS.length)return"continue";for(var s=r.NA.fT,u=Ws(n.JA,function(t){return t.fT===s}),o=0,a=1/0,h=0,c=r.NA.dS||0,f=0,l=r.TS;f<l.length;f++)for(var v=0,d=l[f].CS;v<d.length;v++){var w,g=d[v],m=g.PS||0,y=o+m,p=(o+=null!=(w=g.Qg)?w:c)+m;y<a&&(a=y),p>h&&(h=p)}var _=ob.Jk(r.SS.SS,u.Bb);i.push({fT:s,hot:_,EK:_.Oy(ob.$k(a,u.Bb)),fot:_.Oy(ob.$k(o,u.Bb)),vot:_.Oy(ob.$k(h,u.Bb))})},r=0,s=t.JA;r<s.length;r++)e(r,s);return i}(i,n)}var rH,sH=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Ow=void 0,u.lot=void 0,u.dot=void 0,u.wot=void 0,u._ot=void 0,u.got=0,u.mot=0,u.yot=zr(),u.Ow=n,u}E(i,t);var e=i.prototype;return e.Z8=function(n,i){return t.prototype.Z8.call(this,n,i)},e.kot=function(t){var n;return this.yot.has(t.Z1)?n=this.yot.get(t.Z1):(n=Hj(t.w8.Hi.Hi),this.yot.set(t.Z1,n)),n},e.J8=function(i,e){var r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b,k,A,T,S,E,I,R;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:if(fu(e),s=this.kot(i),u=i.w8,s===Oj.U9||s===Oj.M9){C.next=5;break}return C.abrupt("return",t.prototype.J8.call(this,i,e));case 5:if(!u.U6.z1.some(oH)){C.next=7;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");case 7:if(o=this.Ow.bot(),s!==Oj.U9){C.next=14;break}return C.next=11,Fr.awrap(o.pot({data:u.Hi.Hi,metadata:this.lot}));case 11:a=C.sent,C.next=17;break;case 14:return C.next=16,Fr.awrap(o.Aot({data:u.Hi.Hi,metadata:this.lot}));case 16:a=C.sent;case 17:if(fu(e),this.t9({QH:a.metadata.audio_codec,jH:a.metadata.video_codec,KH:void 0}),h=ob.Jk(vt.fromBits(a.metadata.first_decode_timestamp.low,a.metadata.first_decode_timestamp.high),a.metadata.first_decode_timestamp.base),c=ob.Jk(vt.fromBits(a.metadata.first_presentation_timestamp.low,a.metadata.first_presentation_timestamp.high),a.metadata.first_presentation_timestamp.base),u.U6.N2=c,this.n9(),this.g4.Z3(i.Z1)){C.next=30;break}for(f=ob.Wb(u.U6.Jy),l=0,v=this.r9;l<v.length;l++)d=v[l],this.g4.u4(i.Z1,d,h,f,!0);if(this.n9(),this.g4.Z3(i.Z1)){C.next=30;break}return C.next=30,Fr.awrap(du(this.g4.K3(i.Z1),e));case 30:if(w=this.g4.s4(h,u.U6),this.lot=a.metadata,g={C1:i.C1,Jy:u.U6.Jy,Qg:null!=(r=u.U6.Qg)?r:0,fp:w.xk(),Z1:i.Z1,b$:i.b$,U6:u.U6},void 0!==a.data.audio_media||void 0!==a.data.video_media){C.next=36;break}for(m=0,y=this.r9;m<y.length;m++)p=y[m],_=Ur({fs:"w8",Hi:void 0,a4:p},g),this.T8(_);return C.abrupt("return");case 36:b=[],void 0!==a.data.audio_media&&(!a.data.audio_init||this.dot&&this.got===i.Z1&&$u(this.dot,a.data.audio_init)||(k={fs:"s9",Hi:{fs:FD.tF,Hi:a.data.audio_init},a4:o_.Sd,Z1:i.Z1,u9:{ZH:'audio/mp4; codecs="'+a.metadata.audio_codec+'"',z1:u.U6.z1},Jy:u.U6.Jy,b$:i.b$,U6:u.U6},this.dot=a.data.audio_init,this.got=i.Z1,this.T8(k)),A=Ur({fs:"w8",Hi:{fs:FD.tF,Hi:a.data.audio_media},a4:o_.Sd},g),this.T8(A)),void 0!==a.data.video_media&&(!a.data.video_init||this.wot&&this.mot===i.Z1&&$u(this.wot,a.data.video_init)||(T={fs:"s9",Hi:{fs:FD.tF,Hi:a.data.video_init},a4:o_.Ed,Z1:i.Z1,u9:{ZH:'video/mp4; codecs="'+a.metadata.video_codec+'"',z1:u.U6.z1},Jy:u.U6.Jy,b$:i.b$,U6:u.U6},this.wot=a.data.video_init,this.mot=i.Z1,this._ot=wN(qo(a.data.video_init)),this.T8(T)),S=this._ot.JA[0],E=eH(a.data.video_media,this._ot)[0],I=this.Tot(a.data.video_media,S,E,u.U6),this.Sot=S,R=Ur({fs:"w8",Hi:{fs:FD.tF,Hi:I},a4:o_.Ed},g),this.T8(R),b.push(E)),this.Eot=u.U6,this.Iot=b;case 41:case"end":return C.stop()}},null,this,null,qe)},e.Hs=function(){this.dot=void 0,this.wot=void 0,t.prototype.Hs.call(this)},i}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Zz=void 0,n.Rot=void 0,n.Eot=void 0,n.Iot=void 0,n.Sot=void 0,n}E(n,t);var i=n.prototype;return i.Z8=function(t,n){fu(n);var i=this.b$.fs,e=wN(qo(t.Y1.Hi.Hi));if(!e)throw new l("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Zz=e;var r=function(t){for(var n,i,e,r=0,s=t.JA;r<s.length;r++){var u=s[r];n||(n=u.ZH.QH),i||(i=u.ZH.jH),e||(e=u.ZH.KH)}if(n||i)return{QH:n,jH:i,KH:e};return}(e);r&&this.t9(r);var s=function(t){var n=Oc(t),i=Ws(n.boxes,YD),e=i.boxes.filter(QD),r=Ws(e,function(t){return YU(t)===Ah.AUDIO}),s=Ws(e,function(t){return YU(t)===Ah.VIDEO}),u={aot:r?nH(r):void 0,cot:s?nH(s):void 0};if(!r||!s)return{QH:r?t:void 0,jH:s?t:void 0,rE:u};var o=QU(n),a=QU(n),h=n.boxes.indexOf(i);o.boxes[h]=JU(i,s),a.boxes[h]=JU(i,r);var c=o.serialize().join(),f=a.serialize().join();return{QH:c,jH:f,rE:u}}(t.Y1.Hi.Hi);if(this.Rot=s.rE,s.jH){var u=Ws(e.JA,function(t){return t.fT===s.rE.cot}),o={fs:"s9",Hi:{fs:FD.tF,Hi:s.jH},a4:o_.Ed,Z1:t.Z1,u9:{ZH:'video/mp4; codecs="'+u.ZH.jH+'"',z1:t.z1},Jy:t.Jy,b$:this.b$,U6:t.Y1.U6};this.T8(o)}if(s.QH){var a=Ws(e.JA,function(t){return t.fT===s.rE.aot}),h={fs:"s9",Hi:{fs:FD.tF,Hi:s.QH},a4:o_.Sd,Z1:t.Z1,u9:{ZH:'audio/mp4; codecs="'+a.ZH.QH+'"',z1:t.z1},Jy:t.Jy,b$:this.b$,U6:t.Y1.U6};this.T8(h)}return qe.resolve()},i.J8=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b;return Fr.async(function(k){for(;;)switch(k.prev=k.next){case 0:if(fu(n),e=t.w8.U6,r=this.b$.fs,rL.yT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+PO(e.r$)),s=t.w8.Hi,(u=eH(s.Hi,this.Zz)).length>0&&(o=eu(u.map(function(t){return t.EK}),ab),e.N2=o,this.n9()),this.g4.Z3(t.Z1)){k.next=13;break}if(a=ob.Wb(e.Jy),u.length>0){for(h=eu(u.map(function(t){return t.hot}),ab),c=0,f=this.r9;c<f.length;c++)l=f[c],this.g4.u4(t.Z1,l,h,a,!1);this.n9()}if(this.g4.Z3(t.Z1)){k.next=13;break}return k.next=13,Fr.awrap(du(this.g4.K3(t.Z1),n));case 13:v=this.g4.i4(t.Z1),d={C1:t.C1,Jy:e.Jy,Qg:null!=(i=e.Qg)?i:0,fp:v.xk(),Z1:t.Z1,b$:t.b$,U6:t.w8.U6},(w=$U(s.Hi,this.Rot)).jH&&(g=this.Rot.cot,m=Ws(this.Zz.JA,function(t){return t.fT===g}),y=Ws(u,function(t){return t.fT===g}),p=this.Tot(w.jH,m,y,e),this.Sot=m,_=Ur({fs:"w8",Hi:{fs:FD.tF,Hi:p},a4:o_.Ed},d),this.T8(_)),w.QH&&(b=Ur({fs:"w8",Hi:{fs:FD.tF,Hi:w.QH},a4:o_.Sd},d),this.T8(b)),this.Eot=e,this.Iot=u;case 20:case"end":return k.stop()}},null,this,null,qe)},i.Tot=function(t,n,i,e){if(!function(t){return bM(t)?t.q1:0===t.R2&&t.I2.q1}(e))return t;if(!this.Eot||!this.Sot||!this.Iot)return t;var r=this.Sot.fT,s=Ws(this.Iot,function(t){return t.fT===r}),u=this.g4.e4(s.vot,this.Eot),o=this.g4.e4(i.EK,e).qk(u).Ub(n.Bb);if(o.Fk(ob.eb))return t;if(o.Lk(ob.Wb(.5)))return t;var a=bM(e)?e:e.I2;return rL.F$("Mp4Transmuxer","Stretching first video frame of segment #"+a.C1+" to fill gap of "+o.xk()+"s"),function(t,n,i){var e=Oc(t),r=Ws(e.boxes,tN);if(r){for(var s=r.getSize(),u=0,o=r.boxes;u<o.length;u++){var a=o[u];a instanceof fc&&iH(a,n,i)}var h=r.getSize();if(h!==s)for(var c=h-s,f=0,l=r.boxes;f<l.length;f++){var v=l[f];v instanceof fc&&iN(v,c)}}return e.serialize().join()}(t,n.Bb,o)},n}(Tj)),uH=function(){function t(){}return t.prototype.nut=function(t,n,i,e){return new sH(this,t,n,i,e)},t}();function oH(t){return t.Rd===CO.jJ}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(rH||(rH={}));var aH=function(){function t(t){var e=this;this.qut=void 0,this.Yut=void 0,this.Dot=void 0,this.Aut=void 0,this.jut=0,this.Qut=zr(),this.Not=0,this.Zut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.Qut.get(n.requestId);if(!i)return;e.Qut.delete(n.requestId),n.success?(i.Wu(n.output),e.Cot()):i.Gu(new lf(n.errorCode,n.error))}else n.success||e.xs(new lf(n.errorCode,n.error))},this.gw=function(t){var i=new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.qut=t,this.Dot=function(){if("undefined"==typeof WebAssembly)return!1;var t=j.yn;return!(t>0&&t<=56)}();var r=this.Dot?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Yut=i.Or(r,t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Aut=this.tot()}var e=t.prototype;return e.pot=function(t){return this.Pot(rH.MPEGTS_TO_FMP4,t)},e.Aot=function(t){return this.Pot(rH.RAW_AUDIO_TO_FMP4,t)},e.tot=function(){var t=XU(this.Yut,this.qut);return t.Zs("message",this.Zut),t.Zs("error",this.gw),t},e.Cot=function(){this.Dot||this.Qut.size>0||this.Not<10||(this.Aut&&this.Aut.Rut(),this.Aut=this.tot(),this.Not=0)},e.Pot=function(t,n){var i=++this.jut;this.Not+=1;var e={type:t,id:i,input:n},r=new na;return this.Qut.set(i,r),this.Aut.Dut(e,[n.data.buffer]),r.Fu},e.xs=function(t){void 0===t&&(t=new hu),this.Qut.forEach(function(n){return n.Gu(t)}),this.Qut.clear(),this.Aut.Rut()},t}(),hH=function(t){function n(n){var i;return(i=t.call(this)||this).Aut=void 0,i.Bot=n,i}E(n,t);var i=n.prototype;return i.bot=function(){var t;return null!=(t=this.Aut)?t:this.Aut=new aH(this.Bot)},i.xs=function(){this.Aut&&(this.Aut.xs(),this.Aut=void 0)},n}(uH),cH=function(){function t(t){this.Bot=t}return t.prototype.RK=function(){return new hH(this.Bot)},t}(),fH=function(){function t(t){this.WR=void 0,this.WR=t}var n=t.prototype;return n.OD=function(t){return this.WR.OD(t)},n._J=function(t){return this.WR._J(t)},n.JD=function(t){return this.WR.JD(t)},t}(),lH=function(t){function n(n){var i;return(i=t.call(this)||this).uD=void 0,i.oD=void 0,i.Oot=new Hy,i.xot=function(t){return i.sy(t)},i.uD=n,i.Oot.M_=n.Um,i.uD.Zs(ND,i.xot),i}E(n,t);var i=n.prototype;return i.LL=function(){return this.uD.wy},i.UL=function(){return this.uD._y},i.FL=function(){return this.uD.jg},i.zL=function(){return this.uD.Qg},i.Lot=function(){return this.uD.rN},i.Mot=function(){return this.uD.Zg},i.Uot=function(){return this.uD.$g},i.tM=function(){return this.uD.Ry},i.eM=function(){return this.uD.ag},i.rM=function(){return this.uD.Ny},i.sM=function(){return this.uD.nm},i.uM=function(){return this.Oot},i.oQ=function(){return this.uD.HU},i.Xot=function(){return this.uD.LD},i.Fot=function(t){this.uD.LD=t},i.Hot=function(){return this.uD.Wq},i.eN=function(){return this.uD.eN()},i.Fm=function(){return this.uD.Fm()},i.Hm=function(){this.uD.Hm()},i.xu=function(t,n){this.uD.xu(t,n)},i.iN=function(t){this.uD.iN(t)},i.Km=function(){this.uD.Km()},i.Jm=function(){this.uD.Jm()},i.SE=function(t,n,i,e,r,s,u){return this.uD.SE(t,n,i,e,r,s,u)},i.WD=function(){return this.uD.WD()},i.qD=function(t,n,i,e){return this.uD.qD(t,n,i,e)},i.RE=function(t){this.uD.RE(t)},i.QD=function(){this.uD.QD()},i.jX=function(t){return this.uD.jX(t)},i.Wc=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.uD.Wc(t));case 2:return n=e.sent,i=t.fs===hA.NE?this.zot(n):this.Vot(n),this.oD=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,qe)},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.oD){t.next=4;break}return t.next=3,Fr.awrap(this.oD.xs());case 3:this.oD=void 0;case 4:return t.next=6,Fr.awrap(this.uD.D_());case 6:case"end":return t.stop()}},null,this,null,qe)},i.Rj=function(){this.uD.Rj()},i.Dj=function(){this.uD.Dj()},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.uD.tu(ND,this.xot),this.Oot.M_=void 0,this.Oot.xd(),!this.oD){t.next=8;break}return t.next=7,Fr.awrap(this.oD.xs());case 7:this.oD=void 0;case 8:case"end":return t.stop()}},null,this,null,qe)},i.Nj=function(){this.uD.Nj()},i.Wot=function(t){this.uD.tu(ND,this.xot),this.uD=t,this.Oot.M_=t.Um,this.uD.Zs(ND,this.xot)},i.sy=function(t){this.Qs(t)},T(n,[{key:"Got",get:function(){return this.uD}},{key:"wy",get:function(){return this.LL()}},{key:"_y",get:function(){return this.UL()}},{key:"jg",get:function(){return this.FL()}},{key:"XU",get:function(){return this.uD.XU}},{key:"Qg",get:function(){return this.zL()}},{key:"rN",get:function(){return this.Lot()}},{key:"Zg",get:function(){return this.Mot()}},{key:"mu",get:function(){return this.uD.mu}},{key:"dT",get:function(){return this.uD.dT}},{key:"Bk",get:function(){return this.uD.Bk}},{key:"jD",get:function(){return this.uD.jD}},{key:"Jg",get:function(){return this.uD.Jg},set:function(t){this.uD.Jg=t}},{key:"$g",get:function(){return this.Uot()}},{key:"tm",get:function(){return this.uD.tm},set:function(t){this.uD.tm=t}},{key:"Ry",get:function(){return this.tM()}},{key:"ag",get:function(){return this.eM()}},{key:"Ny",get:function(){return this.rM()}},{key:"nm",get:function(){return this.sM()}},{key:"Um",get:function(){return this.uM()}},{key:"HU",get:function(){return this.oQ()}},{key:"Bj",get:function(){return this.uD.Bj}},{key:"cm",get:function(){return this.uD.cm},set:function(t){this.uD.cm=t}},{key:"Cj",get:function(){return this.uD.Cj}},{key:"yy",get:function(){return this.uD.yy}},{key:"Oj",get:function(){return this.uD.Oj}},{key:"LD",get:function(){return this.Xot()},set:function(t){this.Fot(t)}},{key:"Wq",get:function(){return this.Hot()}}]),n}(Su),vH=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Pj=function(t){this.uD.Pj(t)},i.sj=function(){this.uD.sj()},i.ly=function(){this.uD.ly()},T(n,[{key:"xD",get:function(){return this.uD.xD}},{key:"PW",get:function(){return this.uD.PW}},{key:"Py",get:function(){return this.uD.Py},set:function(t){this.uD.Py=t}}]),n}(lH),dH=function(){function t(t){this.oD=void 0,this.oD=t}var n=t.prototype;return n.hh=function(){return this.oD.nh},n.rM=function(){return this.oD.Ny},n.FX=function(t){return this.oD.FX(t)},n.HX=function(t){return this.oD.HX(t)},n.xs=function(){return qe.resolve()},T(t,[{key:"nh",get:function(){return this.hh()}},{key:"Ny",get:function(){return this.rM()}},{key:"Mm",get:function(){return this.oD.Mm}}]),t}(),wH=function(t){function n(n){var i;return(i=t.call(this,n)||this).hW=void 0,i.fW=void 0,i.qot=function(t){return i.Yot(t)},i}E(n,t);var i=n.prototype;return i.LL=function(){return this.oD.wy},i.zL=function(){return this.oD.Qg},i.jot=function(){return this.oD.QX},i.yW=function(t){this.oD.yW(t)},i.pW=function(t,n,i,e){this.oD.pW(t,n,i,e)},i.bV=function(){this.oD.bV()},i.gV=function(){this.oD.gV()},i.xs=function(){return this.hW&&(this.hW.xs(),this.hW=void 0),this.fW&&(this.fW.xs(),this.fW=void 0),t.prototype.xs.call(this)},i.Qot=function(t){this.oD=t,this.hW?t.uW?this.hW.P6(t.uW):(this.hW.xs(),this.hW=void 0):t.uW&&(this.hW=this.Zot(t.uW),this.hW.Zs(HD,this.qot)),this.fW?t.oW?this.fW.P6(t.oW):(this.fW.xs(),this.fW=void 0):t.oW&&(this.fW=this.Zot(t.oW),this.fW.Zs(HD,this.qot))},i.Yot=function(t){},T(n,[{key:"uW",get:function(){return this.hW}},{key:"oW",get:function(){return this.fW}},{key:"wy",get:function(){return this.LL()}},{key:"Qg",get:function(){return this.zL()}},{key:"QX",get:function(){return this.jot()}}]),n}(dH),gH=function(t){function n(n){var i;return(i=t.call(this)||this).Nh=void 0,i.kL=0,i.bL=0,i.Nh=n,i}E(n,t);var i=n.prototype;return i.Jz=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.NV=function(){return qe.reject(new l("Invalid media buffer"))},i.nV=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.QX=function(){return!1},i.bV=function(){},i.RV=function(t,n){},i.DV=function(t,n){},i.Gc=function(t,n,i){return qe.resolve()},i.cV=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.Hy=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.FX=function(t){return!1},i.HX=function(t){return qe.reject(new l("Invalid media buffer"))},i.xs=function(){this.$s()},T(n,[{key:"_L",get:function(){return this.bL},set:function(t){this.bL=t}},{key:"wy",get:function(){return dE.kC()}},{key:"nh",get:function(){return this.Nh}},{key:"BV",get:function(){return o_.vd}},{key:"OV",get:function(){return dE.kC()}},{key:"Kot",get:function(){return!1}},{key:"vL",get:function(){return this.kL},set:function(t){this.kL=t}}]),n}(Su),mH=function(t){function n(n){var i;return(i=t.call(this,n)||this).uD=void 0,i}E(n,t);var i=n.prototype;return i.Jz=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return fu(i),e.next=3,Fr.awrap(this.Jot(this.uD.jg,null==n?void 0:n.N2,null==n?void 0:n.Qg));case 3:if(fu(i),t.fs!==FD.Yf){e.next=10;break}return e.next=7,Fr.awrap(this.$ot(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Fr.awrap(this.nat(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,qe)},i.$ot=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Hw(e.Hi),s=r[0],u=r[1],e={fs:FD.Yf,Hi:s},o.prev=4,o.next=7,Fr.awrap(this.iat(e,n,i));case 7:return u.cancel(new hu).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!lC(o.t0)){o.next=20;break}return o.next=16,Fr.awrap(this.Jot(this.uD.jg,n.N2,n.Qg,i));case 16:if(!o.sent){o.next=20;break}return e={fs:FD.Yf,Hi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],qe)},i.nat=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,fu(i),e.next=5,Fr.awrap(this.iat(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!lC(e.t0)){e.next=16;break}return e.next=13,Fr.awrap(this.Jot(this.uD.jg,n.N2,n.Qg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],qe)},i.Jot=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=fC(t,n,i,this.wy,this.vL,this._L),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Fr.awrap(this.eat(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,qe)},i.iat=function(n,i,e){return t.prototype.Jz.call(this,n,i,e)},i.eat=function(n,i,e){return t.prototype.Gc.call(this,n,i,e)},T(n,[{key:"wJ",get:function(){return this.uD},set:function(t){this.uD=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).v6=void 0,i.rat=function(t){return i.sy(t)},i.v6=n,i.v6.Zs(HD,i.rat),i}E(n,t);var i=n.prototype;return i.sat=function(){return this.v6._L},i.uat=function(t){this.v6._L=t},i.LL=function(){return this.v6.wy},i.hh=function(){return this.v6.nh},i.oat=function(){return this.v6.OV},i.aat=function(){return this.v6.vL},i.fat=function(t){this.v6.vL=t},i.Jz=function(t,n,i){return this.v6.Jz(t,n,i)},i.NV=function(){return this.v6.NV()},i.nV=function(t,n,i){return this.v6.nV(t,n,i)},i.QX=function(){return this.v6.QX()},i.bV=function(){this.v6.bV()},i.RV=function(t,n){this.v6.RV(t,n)},i.DV=function(t,n){this.v6.DV(t,n)},i.Gc=function(t,n,i){return this.v6.Gc(t,n,i)},i.cV=function(t,n){return this.v6.cV(t,n)},i.FX=function(t){return this.v6.FX(t)},i.HX=function(t){return this.v6.HX(t)},i.sy=function(t){this.Qs(t)},i.xs=function(){this.$s(),this.P6(new gH(this.nh))},i.P6=function(t){this.v6.tu(HD,this.rat),this.v6=t,this.v6.Zs(HD,this.rat)},T(n,[{key:"_L",get:function(){return this.sat()},set:function(t){this.uat(t)}},{key:"wy",get:function(){return this.LL()}},{key:"nh",get:function(){return this.hh()}},{key:"BV",get:function(){return this.v6.BV}},{key:"OV",get:function(){return this.oat()}},{key:"vL",get:function(){return this.aat()},set:function(t){this.fat(t)}}]),n}(Su)),yH=function(t){function n(n){var i;return(i=t.call(this,n)||this).uD=void 0,i.Qot(n),i}return E(n,t),n.prototype.Zot=function(t){var n=new mH(t);return n.wJ=this.uD,n},T(n,[{key:"wJ",get:function(){return this.uD},set:function(t){this.uD=t,this.hW&&(this.hW.wJ=t),this.fW&&(this.fW.wJ=t)}}]),n}(wH),pH=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Dy",get:function(){return this.oD.Dy},set:function(t){this.oD.Dy=t}}]),n}(dH),_H=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Pj=function(t){this.uD.Pj(t)},i.sj=function(){this.uD.sj()},i.ly=function(){this.uD.ly()},i.$m=function(){return this.uD.$m()},T(n,[{key:"xD",get:function(){return this.uD.xD}},{key:"PW",get:function(){return this.uD.PW}},{key:"um",get:function(){return this.uD.um}},{key:"im",get:function(){return this.uD.im}},{key:"Py",get:function(){return this.uD.Py},set:function(t){this.uD.Py=t}}]),n}(lH),bH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Vot=function(t){var n=new yH(t);return n.wJ=this,n},i.zot=function(t){return new pH(t)},T(n,[{key:"Got",get:function(){return this.uD}}]),n}(vH),kH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Vot=function(t){var n=new yH(t);return n.wJ=this,n},i.zot=function(t){return new pH(t)},T(n,[{key:"Got",get:function(){return this.uD}}]),n}(_H),AH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.OD=function(n){return n===o_.Ed?new kH(t.prototype.OD.call(this,n)):n===o_.Sd?new bH(t.prototype.OD.call(this,n)):void 0},i.JD=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Fr.awrap(i.xs());case 3:return e.next=5,Fr.awrap(t.prototype.JD.call(this,i.Got));case 5:case"end":return e.stop()}},null,this,null,qe)},n}(fH);function TH(t){return vg(t)}function SH(t,n){var i=vg(t);return n?""+i+n:""+i}var EH=function(){function t(t,n,i,e){this.vat=t,this.dat=n,this.wat=i,this._at=e}var n=t.prototype;return n.J4=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.vat.gat(t.map(TH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,qe)},n.hrt=function(t,n){var i=SH(t,n);return this.dat.Eu(i)},n.J6=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=SH(t,n),r.next=3,Fr.awrap(this.wat.Iu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,qe)},n.QM=function(t){return this._at.Iu(t)},t}(),IH=function(){function t(){}var n=t.prototype;return n.mat=function(t){return qe.resolve(!1)},n.yat=function(t){return qe.reject(RH)},n.bat=function(t){return qe.reject(RH)},n.Eu=function(t){return qe.resolve(!1)},n.Iu=function(t){return qe.resolve(void 0)},n.pat=function(t,n){return qe.resolve(void 0)},n.gat=function(t){return qe.resolve([])},n.Aat=function(){return qe.resolve([])},n.Tat=function(t){return qe.resolve([])},n.Sat=function(t,n){return qe.resolve([])},n.Gc=function(t){return qe.reject(RH)},n.Eat=function(t){return qe.reject(RH)},n.Iat=function(){return qe.reject(RH)},t}(),RH="Storage disabled",CH=function(){function t(){this.Rat=void 0,this.aJ=void 0,this.Dat=void 0,this.Nat=void 0,this.Cat=void 0,this.Rat=new IH,this.aJ=new IH,this.Dat=new IH,this.Nat=new IH,this.Cat=new IH}return t.RK=function(){return qe.resolve(new t)},t.prototype.Pat=function(t){return qe.reject(DH)},t}(),DH="Storage disabled",NH=function(){function t(t){var n=this;this.Fs=new na,this.Bat=void 0,this.Fs.Wu(t),this.Fs.Fu.then(function(t){n.Bat=t})}var n=t.prototype;return n.mat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.mat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.yat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.yat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.bat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.bat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Eu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Iu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.pat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.pat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.gat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.gat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Aat=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Bat,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.Oat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Aat());case 7:case"end":return n.stop()}},null,this,null,qe)},n.Tat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Tat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Sat=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Bat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.Oat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Sat(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Gc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Gc(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Eat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Bat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Oat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eat(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Iat=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.Bat,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.Oat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Iat());case 7:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"Oat",get:function(){return this.Fs.Fu}}]),t}(),PH=function(){function t(t){var n=this;this.Fs=new na,this.xat=void 0,this.aJ=void 0,this.Rat=void 0,this.Dat=void 0,this.Nat=void 0,this.Cat=void 0,this.Fs.Wu(t);var i=this.Fs.Fu;i.then(function(t){n.xat=t}),this.aJ=new NH(i.then(function(t){return t.aJ})),this.Rat=new NH(i.then(function(t){return t.Rat})),this.Dat=new NH(i.then(function(t){return t.Dat})),this.Nat=new NH(i.then(function(t){return t.Nat})),this.Cat=new NH(i.then(function(t){return t.Cat}))}return t.prototype.Pat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.xat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.Lat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Fr.awrap(n.Pat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,qe)},T(t,[{key:"Lat",get:function(){return this.Fs.Fu}}]),t}();function xH(t){return new l("This storage cannot handle persistency type "+t)}var BH=function(){function t(){this.Fo=[]}var n=t.prototype;return n.mat=function(t){return qe.resolve("temporary"===t)},n.yat=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?qe.reject(xH(n)):(this.Mat(t.key),this.Fo.push(t),qe.resolve())},n.bat=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return qe.reject(xH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Mat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Fo.push(s)}return qe.resolve()},n.Eu=function(t){return qe.resolve(Boolean(this.Uat(t)))},n.Iu=function(t){return qe.resolve(this.Uat(t))},n.pat=function(t,n){return qe.resolve(this.Xat(t,n))},n.gat=function(t){var n=this,i=t?t.map(function(t){return n.Uat(t)}):this.Fo;return qe.resolve(i.filter(H))},n.Aat=function(){return qe.resolve([].concat(this.Fo))},n.Tat=function(t){return this.Sat(t,"key")},n.Sat=function(t,n){var i=this.Fo.filter(function(i){return i[n]===t});return qe.resolve(i)},n.Gc=function(t){return this.Mat(t),qe.resolve()},n.Eat=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Mat(i)}return qe.resolve()},n.Iat=function(){return Ks(this.Fo),qe.resolve()},n.Uat=function(t){return this.Xat(t,"key")},n.Xat=function(t,n){for(var i=0,e=this.Fo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Mat=function(t){var n=this.Uat(t);n&&$s(this.Fo,n)},t}(),OH=function(){function t(){this.Rat=void 0,this.aJ=void 0,this.Dat=void 0,this.Nat=void 0,this.Cat=void 0,this.Rat=new BH,this.aJ=new BH,this.Dat=new BH,this.Nat=new BH,this.Cat=new BH}return t.RK=function(){return qe.resolve(new t)},t.prototype.Pat=function(t){return t(this)},t}(),LH=function(){function t(t){this.Fat=t}var n=t.prototype;return n.mat=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.mat(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.yat=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.mat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.yat(t));case 8:i++,s.next=2;break;case 11:throw xH(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.bat=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.mat(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.bat(t));case 8:i++,s.next=2;break;case 11:throw xH(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Eu=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.Eu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.Iu=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Fr.awrap(e.Iu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,qe)},n.pat=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Fat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Fr.awrap(r.pat(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,qe)},n.gat=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.gat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.Aat=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Fat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Fr.awrap(e.Aat());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,qe)},n.Tat=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Fat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.Tat(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.Sat=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Fat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Fr.awrap(s.Sat(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,qe)},n.Gc=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.Gc(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.Eat=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Fat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.Eat(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.Iat=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Fat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Fr.awrap(i.Iat());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,qe)},t}();function MH(t){return function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(qe.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",jH.RK(n));case 4:case"end":return i.stop()}},null,null,null,qe)}}var jH=function(){function t(t){this.Hat=void 0,this.zat=void 0,this.Vat=void 0,this.Wat=void 0,this.Gat=void 0,this.qat=void 0,this.Hat=t,this.zat=new LH(t.map(function(t){return t.Nat})),this.Vat=new LH(t.map(function(t){return t.Cat})),this.Wat=new LH(t.map(function(t){return t.Dat})),this.Gat=new LH(t.map(function(t){return t.Rat})),this.qat=new LH(t.map(function(t){return t.aJ}))}return t.RK=function(n){return qe.resolve(new t(n))},t.prototype.Pat=function(n){var i=this;if(0===this.Hat.length)return n(this);var e=[],r=0;return this.Hat[r].Pat(function s(u){return e.push(u),++r<i.Hat.length?i.Hat[r].Pat(s):n(new t(e))})},T(t,[{key:"Nat",get:function(){return this.zat}},{key:"Cat",get:function(){return this.Vat}},{key:"Dat",get:function(){return this.Wat}},{key:"Rat",get:function(){return this.Gat}},{key:"aJ",get:function(){return this.qat}}]),t}(),FH=function(){function t(t){this.Yat=void 0,this.jat=[],this.Qat=!0,this.Yat=t}var n=t.prototype;return n.RK=function(){return new PH(this.Zat())},n.Zat=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Qat){e.next=4;break}return e.next=3,Fr.awrap(qe.resolve());case 3:this.Qat=!1;case 4:t=0,n=this.jat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Fr.awrap(MH([OH.RK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Fr.awrap(MH([OH.RK,this.Yat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],qe)},n.EX=function(t){if(!this.Qat)throw new l("Registration overdue");this.jat.push(t)},t}(),UH=function(){function t(){}return t.EX=function(n){t.WR.EX(n)},T(t,null,[{key:"Yn",get:function(){return t.Kat||(t.Kat=t.WR.RK()),t.Kat}}]),t}();UH.WR=new FH(CH.RK),UH.Kat=void 0;var HH=function(t){function n(n,i,e,r,s,u){var o,a=new AH(n),h=a.OD(o_.Ed);return(o=t.call(this,h,i,e,r,s,u)||this).sD=void 0,o.sD=a,o}return E(n,t),n.prototype.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.xd.call(this));case 2:return n.next=4,Fr.awrap(this.sD.JD(this.uD));case 4:case"end":return n.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.$m=function(){if(void 0!==this.uD.im)return this.uD.$m()},T(n,[{key:"Py",get:function(){return!1},set:function(t){}}]),n}(SU));rE(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).uN=US.Ng,n}E(i,t);var e=i.prototype;return e.DI=function(t,n,i,e,r,s){return new HH(n,i,r,(u=e.libraryLocation,xU.dh()?new xU:new GU(u)),new cH(e.libraryLocation),new EH(UH.Yn.Dat,UH.Yn.Rat,UH.Yn.aJ,UH.Yn.Cat));var u},e.oN=function(i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(t.prototype.oN.call(this,i,e));case 2:if(s.sent){s.next=4;break}return s.abrupt("return",!1);case 4:if(null==(r=i.hls)||!r.useLegacy){s.next=8;break}if(Qs(RD,"hls-legacy")){s.next=7;break}throw new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');case 7:return s.abrupt("return",!1);case 8:return s.abrupt("return",!0);case 9:case"end":return s.stop()}},null,this,null,qe)},e.aN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.oN=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.MediaSource){e.next=2;break}return e.abrupt("return",!1);case 2:if(!j.cn&&!j.Vn){e.next=4;break}return e.abrupt("return",!1);case 4:if(!i.manifestMetadataTrack){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",t.prototype.oN.call(this,n,i));case 7:case"end":return e.stop()}},null,this,null,qe)},n}(EU)))),rL.F_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var XH=[];function zH(){XH.shift()()}var VH,WH=function(){function t(t){this.Jat=void 0,this.$at=void 0,this.tct=void 0,this.tct=t}var n=t.prototype;return n.nct=function(t){return this.Jat=this.Jat||{},void 0===this.Jat[t]&&(this.Jat[t]=[]),this.Jat[t]},n.addEventListener=function(t,n){var i=this.nct(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.$at||(this.$at=[])).push(t)},n.removeEventListener=function(t,n){var i=this.nct(t);n?$s(i,n):i.length=0},n.ou=function(t){var n=this.$at;n&&$s(n,t)},n.$s=function(){this.Jat=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),XH.push(i),void a(zH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.nct(t.type).slice(),r=this.$at&&this.$at.slice(),s=0;s<e.length;s++){e[s].call(this.tct||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.tct||this,t)}},n.ict=function(t){return Boolean(this.Jat&&this.Jat[t]&&this.Jat[t].length)},n.ect=function(){return this.Jat?w.keys(this.Jat):[]},t}(),qH=function(t){function n(n,i){var e,r=YH[n];return(e=t.call(this,r?r.du:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.rct,e.helpLinkText=r&&r.sct,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(nn);!function(t){t.uct="LICENSE_INVALID",t.act="MANIFEST_NOT_FOUND",t.cct="MANIFEST_CORS_ERROR",t.hct="INVALID_HLS_MANIFEST",t.fct="PLAYBACK_ISSUE",t.vct="AUDIO_ISSUE",t.lct="BROWSER_SUPPORT_ISSUE",t.dct="INVALID_KEY",t.Wut="DECRYPTION_ERROR",t.wct="AD_BLOCK_DETECTED",t._ct="THEOPLAYER_NOT_INITIALIZED",t.K_="ERROR",t.gct="MANIFEST_SEQUENCE_RESET_ERROR",t.mct="PLAYER_INCORRECTLY_CONFIGURED",t.yct="UNSUPPORTED"}(VH||(VH={}));for(var GH,$H=[{Yu:VH.uct,du:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:VH.act,du:"Could not load the manifest file."},{Yu:VH.cct,du:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",rct:"https://www.theoplayer.com/documentation/cors.html",kct:!1},{Yu:VH.hct,du:"The source of the player is an invalid HLS manifest.",rct:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:VH.fct,du:"There appears to be a playback issue."},{Yu:VH.vct,du:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:VH.lct,du:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:VH.dct,du:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:VH.Wut,du:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:VH.wct,du:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:VH._ct,du:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:VH.K_,du:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:VH.gct,du:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:VH.mct,du:"The player is incorrectly configured.",rct:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:VH.yct,du:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],YH={},QH=0;QH<$H.length;QH++){var ZH=$H[QH];YH[ZH.Yu]=ZH}function KH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function JH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function tX(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function nX(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ta(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var iX,eX="x-";function rX(t,n,i,e){var r=t.split("@"),s=KH(n,i),u=m(r[0],10),o=r[1]?m(r[1],10):e;return{r$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},bct:{MN:o,XN:o+u-1}}}function sX(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,l=0,v=!1,d=[],w=null,p=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new qH(VH.hct,{code:"HMP2670",uri:n});for(var k={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),JH(T,"#EXT")){if(JH(T,"#EXTINF"))c=(c=y(tX(T)))||.5;else if(JH(T,"#EXT-X-BYTERANGE"))f=tX(T);else if(JH(T,"#EXT-X-KEY"))(s=nX(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=KH(s.uri,i);else if(JH(T,"#EXT-X-DISCONTINUITY")&&!JH(T,"#EXT-X-DISCONTINUITY-"))v=!0,l+=1;else if(JH(T,"#EXT-X-STREAM-INF"))(r=nX(T)).R2=h++,(A+=1)<b.length&&(r.uri=KH(b[A].trim(),i),k.streams.push(r));else if(JH(T,"#EXT-X-MEDIA")&&!JH(T,"#EXT-X-MEDIA-"))(u=nX(T)).uri&&(u.uri=KH(u.uri,i)),k.media.push(u);else if(JH(T,"#EXT-X-PROGRAM-DATE-TIME"))w=new Date(tX(T));else if(JH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))k.pct=!0,k.Act=m(tX(T),10);else if(JH(T,"#EXT-X-MEDIA-SEQUENCE"))a=m(tX(T),10),k.Tct=!0,k.Sct=a;else if(JH(T,"#EXT-X-TARGETDURATION"))k.targetDuration=m(tX(T),10),k.hasTargetDuration=!0;else if(JH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))k.isEvent=!0;else if(JH(T,"#EXT-X-ENDLIST"))k.live=!1,k.hasEnd=!0;else if(JH(T,"#EXT-X-MAP")){var S=nX(T),E=S.uri,I=S.byterange;o=I?rX(I,E,i,0):KH(E,i)}else if(JH(T,"#EXT-X-VERSION"))k.version=m(tX(T),10);else if(JH(T,"#EXT-X-DATERANGE")){var R=uX(T);k.dateRanges.push(R)}}else if(JH(T,"#"));else if(0!==T.length){f?p=(e=rX(f,T,i,p)).bct.XN+1:e=KH(T,i);var C,D=s&&Ur({},s);s&&void 0===s.iv&&(C=a%4294967295,D.iv=new _([0,0,0,0,0,0,0,0,0,0,0,0,C>>24,C>>16,C>>8,255&C])),k.fragments.push({start:0,duration:c,uri:e,R2:a,Ect:v,Z1:l,key:D,j1:w,Ict:d,Rct:!1,Dct:o}),a+=1,c=0,f=null,v=!1,w=null,d=[]}}return k.hasEnd&&k.fragments.length&&(k.fragments[k.fragments.length-1].Rct=!0),k.isMasterPlaylist=0!==k.streams.length,k.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=g.min(i,o.duration),e=g.max(e,o.duration)}return{Nct:i,Cct:e,Pct:n?t.fragments[n-1].duration:0,Bct:r/n,Oct:r}}(k),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(k),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(k),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.R2-n.R2})}(k),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ys(t.media,s)}}(k,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(k),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(k),k}function uX(t){var n=nX(t),i=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i];As(r,eX)&&(n[r.substr(eX.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{H_:n.id,LJ:n.class,rN:e,MJ:r,Qg:n.duration,UJ:n["planned-duration"],xJ:s,XJ:i,HJ:u,VJ:o,WJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(iX||(iX={}));(GH={})[iX.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",GH[iX.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",GH[iX.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",GH[iX.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",GH[iX.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",GH[iX.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",GH[iX.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var oX=function(){function t(){}return t.prototype.MA=function(t,n,i){return sX(t,n,i)},t}(),aX=3,hX=function(){function t(t,n,i){void 0===i&&(i=aX),this.pE=t,this.j6=n,this.xct=i}var n=t.prototype;return n.Lct=function(t,n,i){return this.Mct(t,n,!0,i)},n.Uct=function(t,n,i){return this.Mct(t,n,!1,i)},n.Mct=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.xct)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Fr.awrap(bu(s,e));case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new hg({hd:a,td:xf.$n,$l:n,Pd:this.j6,Rd:rg.GET,fs:sg.ld,Nd:ug.vd,Ws:e}),i.next=14,Fr.awrap(this.pE.ud(h));case 14:return c=i.sent,i.next=17,Fr.awrap(c.Ll(e));case 17:return f=i.sent,i.abrupt("return",{Xct:f,Fct:a,od:c.od});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],qe)},t}(),cX=function(){function t(t){this.Hct=void 0,this.Hct=t}return t.prototype.zct=function(t,n,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.Hct;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Fr.awrap(o.zct(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),lu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],qe)},t}(),fX=function(){function t(t){this.F4=t}return t.prototype.zct=function(t,n,i,e){var r;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.F4.J4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Xct:r.data,Fct:r.locationURL,od:r.responseURL});case 7:throw new l("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,qe)},t}(),lX=function(){function t(t){this.Vct=t}return t.prototype.zct=function(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Fr.awrap(this.Vct.Lct(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Fr.awrap(this.Vct.Uct(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},t}();function vX(t,n){return new cX([new fX(n),new lX(t)])}var dX=function(){function t(t,n,i){this.Wct=t,this.Gct=n,this.qct=i}var n=t.prototype;return n.zct=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Fr.awrap(this.Wct.zct(t,n,i,e));case 3:return r=s.sent,s.next=6,Fr.awrap(this.Yct(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,qe)},n.Yct=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Gct.yat({key:TH(t.Fct),locationURL:vg(t.Fct),responseURL:vg(t.od),data:t.Xct,references:[this.qct.H_]}));case 2:case"end":return n.stop()}},null,this,null,qe)},t}();function wX(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var gX,mX=function(){function t(t,n,i){this.Nh=void 0,this.pE=void 0,this.Wct=void 0,this.jct=void 0,this.jct=new oX,this.Nh=t,this.pE=i;var e=this.Nh&&this.Nh.crossOrigin===$y.Og,r=new hX(i,e,1);this.Wct=vX(r,new EH(UH.Yn.Dat,UH.Yn.Rat,UH.Yn.aJ,UH.Yn.Cat))}var n=t.prototype;return n.Wc=function(t,n,i){var e=this.Pw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Pw=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Fr.awrap(this.Wct.zct([t],n));case 3:return i=r.sent,t=i.od,e=this.jct.MA(i.Xct,t,wX(t)),r.abrupt("return",{Am:e,Qct:i.Xct});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof pg)){r.next=16;break}throw new qH(VH.act,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof _g)){r.next=24;break}if(0!==r.t0.jd.Jl){r.next=21;break}throw new qH(VH.cct,{code:"MFL3900",uri:t,status:r.t0.jd.Jl});case 21:throw new qH(VH.act,{code:"MFL4100",uri:t,status:r.t0.jd.Jl});case 22:r.next=25;break;case 24:throw new qH(VH.K_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],qe)},t}(),yX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Zct=void 0,e.Kct=void 0,e.Jct=void 0,e.$ct=void 0,e.tht=void 0,e.nht=void 0,e.iht=void 0,e.aD=void 0,e.Zct=new mX(i||{},UH.Yn.Dat,n),e}E(n,t);var i=n.prototype;return i.zm=function(){void 0!==this.$ct&&(h(this.$ct),this.$ct=void 0),this.Jct&&this.Jct.ud&&(this.Jct=void 0)},i.eht=function(t){if(this.iht)for(var n=0,i=this.iht.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.rht=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Oct<3*s)?1e3*u.Nct:s?1e3*s:1e4,i===n&&(r/=2),r=g.max(r-e,1e3)},i.sht=function(t){if(t.fragments.length>0)for(var n=this.eht(t.fragments[0].uri),i=n&&n.R2||0,e=0,r=t.fragments;e<r.length;e++){r[e].R2+=i}},i.uht=function(t,i,e,r,s,u){var o=this;if(this.Jct&&e===this.Jct.ud){var h=sR()-i;if(r){this.Jct=void 0,this.aD=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.Jct=void 0;var f=u.Am,l=u.Qct;f.Tct||this.sht(f),t===this.Kct&&(this.nht=f),this.iht=f;var v=n.rht(f,l,this.tht,h);f.live?f.isMasterPlaylist||(this.$ct=a(function(){return o.Pw(t)},v)):this.zm(),s&&s(r,u);var d={type:"oht",manifest:f,manifestText:l};this.dispatchEvent(d),this.tht=l}},i.Pw=function(t,n){var i=this,e=sR(),r=t;h(this.$ct),this.$ct=void 0;var s=this.Zct.Wc(r,{},function(r,u){return i.uht(t,e,s,r,n,u)});this.Jct={ud:s,hd:t}},i.MN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.iht?this.iht.uri:this.Kct))&&(this.Jct&&this.Jct.hd===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("oht",i);var r=t;n(null,{Am:r.manifest,Qct:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("oht",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("oht",i)):(this.zm(),this.Pw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.aht=function(t){t&&(this.tht=void 0,this.nht&&this.nht.isMasterPlaylist?this.MN(t.uri):this.iht&&!this.cht()&&this.MN(this.iht.uri))},i.xd=function(){this.zm(),this.$s()},i.cht=function(){return!!this.Jct||!!this.$ct||!(!this.iht||this.iht.live)},T(n,[{key:"Am",get:function(){return this.iht}},{key:"hht",get:function(){return this.nht}},{key:"fht",get:function(){return this.Kct},set:function(t){this.zm(),this.tht=void 0,this.nht=void 0,this.iht=void 0,this.Kct=t}}]),n}(WH),pX=function(t){function n(){return t.call(this,"vht")||this}return E(n,t),n}(Iu),_X=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).dht=void 0,r.wht=void 0,r._ht=void 0,r.yrt=void 0,r.ght=void 0,r.pE=void 0,r.dq=void 0,r.mht=void 0,r.yht=function(){r.Qs(new pX)},r.yrt=n,r.ght=Ur({},i,{crossOrigin:r.yrt.crossOrigin,withCredentials:r.yrt.useCredentials,liveOffset:r.yrt.liveOffset,hlsDateRange:r.yrt.hlsDateRange}),r.pE=e,r.wht=[],r.dq=!1,r}E(n,t);var i=n.prototype;return i.kht=function(){if(this._ht)return this._ht.Am},i.MN=function(t){var n=this;pu(HM(function(){return n.bht()},t))},i.bht=function(){var t,n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.pht());case 2:if((t=u.sent).isMasterPlaylist)for(this.dht=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new yX(this.pE,this.ght),this.wht.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new yX(this.pE,this.ght),this.wht.push({stream:{uri:t.uri},updater:s});this.mht&&(this.Aht(this.mht.width,this.mht.height),this.mht=void 0),this.dq=!0;case 6:case"end":return u.stop()}},null,this,null,qe)},i.Tht=function(t,n){this.dq?this.Aht(t,n):this.mht={width:t,height:n}},i.Aht=function(t,n){this.Sht();var i=this.Eht(t,n);i&&(this._ht=i.updater,this._ht.addEventListener("oht",this.yht),i.updater.MN(i.stream.uri))},i.Sht=function(){this._ht&&(this._ht.zm(),this._ht.removeEventListener("oht",this.yht),this._ht=void 0)},i.Eht=function(t,n){return 1===this.wht.length?this.wht[0]:Ws(this.wht,function(i){return i.stream.width===t&&i.stream.height===n})},i.pht=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new mX(this.ght,UH.Yn.Dat,this.pE),i.next=3,Fr.awrap(t.Wc(this.yrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.Am);case 5:case"end":return i.stop()}},null,this,null,qe)},i.xd=function(){this.Sht();for(var t=0,n=this.wht;t<n.length;t++){n[t].updater.xd()}Ks(this.wht)},n}(Su),bX=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Iht=void 0,r.Rht=void 0,r.GM=void 0,r.Dht=!1,r.c6=void 0,r.nY=void 0,r.handleManifestUpdate=function(){var t=r.Iht.kht();if(t){var n=r.rN;if(n){var i=n.getTime(),e=r.c6;e||(e=new IM,r.c6=e),e.qc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Dht&&e.cg.C_>0&&(r.Um.E_(e),r.nY.E_(e),r.Dht=!0)}}},r.Nht=function(){r.Iht&&r.Iht.Tht(r.um,r.im)},r.Rht=i,r.GM=e,r.nY=new yx(Jt(r)),r.Zs(Pf.Cf,r.Nht),r}E(n,t);var i=n.prototype;return i.Wm=function(n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.Wm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Cht(n,i,e);case 3:case"end":return r.stop()}},null,this,null,qe)},i.Cht=function(t,n,i){this.Iht&&(this.Iht.tu("vht",this.handleManifestUpdate),this.Iht.xd()),this.Iht=new _X(t,n,this.Rht),this.Iht.Zs("vht",this.handleManifestUpdate),this.Iht.MN(i)},i.D_=function(){return this.c6&&(this.Um.I_(this.c6),this.nY.I_(this.c6),this.c6.xd(),this.c6=void 0,this.Dht=!1),this.nY.D_(),t.prototype.D_.call(this)},i.xd=function(){return this.tu(Pf.Cf,this.Nht),this.Iht&&(this.Iht.tu("vht",this.handleManifestUpdate),this.Iht.xd()),this.nY.xd(),t.prototype.xd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Pht=void 0,i.Pht=n;for(var e=0;e<hE.length;e++){var r=hE[e];i.Pht.Zs(r,i.js)}return i}E(n,t);var i=n.prototype;return i.Gm=function(){return this.Pht.Gm()},i.iy=function(){return this.Pht.iy()},i.$m=function(){return this.Pht.$m()},i.Jm=function(){return this.Pht.Jm()},i.ly=function(){return this.Pht.ly()},i.Hm=function(){return this.Pht.Hm()},i.Fm=function(){return this.Pht.Fm()},i.D_=function(){return this.Pht.D_()},i.Wm=function(t,n,i){return this.Pht.Wm(t,n,i)},i.Km=function(){return this.Pht.Km()},i.qm=function(){return this.Pht.qm()},i.Ym=function(){return this.Pht.Ym()},i.xd=function(){this.$s();for(var t=0;t<hE.length;t++){var n=hE[t];this.Pht.tu(n,this.js)}return this.Pht.xd()},T(n,[{key:"Lm",get:function(){return this.Pht.Lm}},{key:"wy",get:function(){return this.Pht.wy}},{key:"_y",get:function(){return this.Pht._y},set:function(t){this.Pht._y=t}},{key:"jg",get:function(){return this.Pht.jg},set:function(t){this.Pht.jg=t}},{key:"Qg",get:function(){return this.Pht.Qg}},{key:"Zg",get:function(){return this.Pht.Zg}},{key:"Kg",get:function(){return this.Pht.Kg}},{key:"Xm",get:function(){return this.Pht.Xm}},{key:"mu",get:function(){return this.Pht.mu}},{key:"yy",get:function(){return this.Pht.yy}},{key:"Tm",get:function(){return this.Pht.Tm}},{key:"Jg",get:function(){return this.Pht.Jg},set:function(t){this.Pht.Jg=t}},{key:"Iy",get:function(){return this.Pht.Iy}},{key:"$g",get:function(){return this.Pht.$g}},{key:"tm",get:function(){return this.Pht.tm},set:function(t){this.Pht.tm=t}},{key:"Ry",get:function(){return this.Pht.Ry}},{key:"Dy",get:function(){return this.Pht.Dy},set:function(t){this.Pht.Dy=t}},{key:"ag",get:function(){return this.Pht.ag}},{key:"Ny",get:function(){return this.Pht.Ny}},{key:"nm",get:function(){return this.Pht.nm}},{key:"rN",get:function(){return this.Pht.rN}},{key:"Um",get:function(){return this.Pht.Um}},{key:"im",get:function(){return this.Pht.im}},{key:"Mm",get:function(){return this.Pht.Mm}},{key:"um",get:function(){return this.Pht.um}},{key:"cm",get:function(){return this.Pht.cm},set:function(t){this.Pht.cm=t}},{key:"Cy",get:function(){return this.Pht.Cy}},{key:"Py",get:function(){return this.Pht.Py},set:function(t){this.Pht.Py=t}},{key:"sN",get:function(){return this.Pht.sN}}]),n}(Xy));gX=function(t,n,i){return new bX(t,n,i)},iE.fN().vN(gX);var kX=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},AX=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),TX={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(TX,TX.exports);var SX=TX.exports;function EX(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function IX(t){return JSON.stringify(t,TX.exports.getSerialize(EX))}var RX={},CX={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(CX);var DX={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(DX);var NX={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}w.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(NX),w.defineProperty(RX,"__esModule",{value:!0});var PX=CX.isS,xX=CX.isChar,BX=CX.isNameStartChar,OX=CX.isNameChar,LX=CX.S_LIST,MX=CX.NAME_RE,jX=DX.isChar,FX=NX.isNCNameStartChar,UX=NX.isNCNameChar,HX=NX.NC_NAME_RE;const XX="http://www.w3.org/XML/1998/namespace",zX="http://www.w3.org/2000/xmlns/",VX={__proto__:null,xml:XX,xmlns:zX},WX={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},qX=-1,GX=-2,$X=0,YX=1,QX=2,ZX=3,KX=4,JX=5,tz=6,nz=7,iz=8,ez=9,rz=10,sz=11,uz=12,oz=13,az=14,hz=15,cz=16,fz=17,lz=18,vz=19,dz=20,wz=21,gz=22,mz=23,yz=24,pz=25,_z=26,bz=27,kz=28,Az=29,Tz=30,Sz=31,Ez=32,Iz=33,Rz=34,Cz=35,Dz=36,Nz=37,Pz=38,xz=39,Bz=40,Oz=41,Lz=42,Mz=43,jz=44,Fz=9,Uz=10,Hz=13,Xz=32,zz=33,Vz=38,Wz=45,qz=47,Gz=59,$z=60,Yz=61,Qz=62,Zz=63,Kz=91,Jz=93,tV=133,nV=8232,iV=t=>34===t||39===t,eV=[34,39],rV=[...eV,Kz,Qz],sV=[...eV,$z,Jz],uV=[Yz,Zz,...LX],oV=[...LX,Qz,Vz,$z];function aV(t,n,i){switch(n){case"xml":i!==XX&&t.fail(`xml prefix must be bound to ${XX}.`);break;case"xmlns":i!==zX&&t.fail(`xmlns prefix must be bound to ${zX}.`)}switch(i){case zX:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${zX}.`);break;case XX:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const hV=t=>HX.test(t),cV=t=>MX.test(t),fV=0,lV=1,vV=2;RX.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const dV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var wV=RX.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=FX,this.nameCheck=UX,this.isName=hV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=w.assign({__proto__:null},VX);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of w.keys(n))aV(t,i,n[i])}(this,t),w.assign(this.ns,t))}else this.nameStartCheck=BX,this.nameCheck=OX,this.isName=cV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.do}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=fV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?oz:$X,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new l("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.do=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=w.create(WX),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[dV[t]]=n}off(t){this[dV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new l(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===Hz||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return qX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Xz||i===Fz)return i;switch(i){case Uz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Uz;case Hz:return t.charCodeAt(n+1)===Uz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,GX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return qX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==nV||i===Fz)return i;switch(i){case Uz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Uz;case Hz:{const i=t.charCodeAt(n+1);i!==Uz&&i!==tV||(this.i=n+2)}case tV:case nV:return this.line++,this.column=0,this.positionAtNewLine=this.position,GX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===GX?Uz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===GX,s=r?Uz:e;if(s===qX||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case GX:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=Uz;break;case qX:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===qX)return this.name+=t.slice(n),qX;if(!OX(i))return this.name+=t.slice(n,this.prevI),i===GX?Uz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===qX||!PX(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=xX,this.getCode=this.getCode10):(this.isChar=jX,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=YX}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case $z:if(this.state=hz,0!==this.text.length)throw new l("no-empty text at start");break;case qX:break;default:this.unget(),this.state=oz,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(rV);switch(n){case Qz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=oz,this.doctype=!0;break;case qX:break;default:this.text+=String.fromCodePoint(n),n===Kz?this.state=KX:iV(n)&&(this.state=ZX,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=QX)}sDTD(){const t=this.captureTo(sV);t!==qX&&(this.text+=String.fromCodePoint(t),t===Jz?this.state=QX:t===$z?this.state=tz:iV(t)&&(this.state=JX,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=KX,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case zz:this.state=nz,this.openWakaBang="";break;case Zz:this.state=sz;break;default:this.state=KX}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?iz:KX,this.openWakaBang="")}sDTDComment(){this.captureToChar(Wz)&&(this.text+="-",this.state=ez)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Wz?rz:iz}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Qz?this.state=KX:(this.fail("malformed comment."),this.state=iz)}sDTDPI(){this.captureToChar(Zz)&&(this.text+="?",this.state=uz)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Qz&&(this.state=KX)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case GX:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Gz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===oz&&void 0===this.textHandler||(this.text+=r);break t}case qX:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(BX(t))this.state=Rz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case qz:this.state=Mz,this.xmlDeclPossible=!1;break;case zz:this.state=cz,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Zz:this.state=mz;break;default:this.fail("disallowed character in tag name"),this.state=oz,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=dz,this.openWakaBang="";break;case"--":this.state=fz,this.openWakaBang="";break;case"DOCTYPE":this.state=QX,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Wz)&&(this.state=lz)}sCommentEnding(){var t;const n=this.getCodeNorm();n===Wz?(this.state=vz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=fz)}sCommentEnded(){const t=this.getCodeNorm();t!==Qz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=fz):this.state=oz}sCData(){this.captureToChar(Jz)&&(this.state=wz)}sCDataEnding(){const t=this.getCodeNorm();t===Jz?this.state=gz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=dz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Qz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=oz;break;case Jz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=dz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=yz):t===Zz||PX(t)?(this.fail("processing instruction without a target."),this.state=t===Zz?_z:pz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=yz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===qX)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Zz;e||PX(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?Iz:bz):this.state=e?_z:pz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Zz?this.state=_z:PX(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Zz)&&(this.state=_z)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Qz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=oz}else n===Zz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=pz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Zz?t!==qX&&(this.state=kz,this.name=String.fromCodePoint(t)):this.state=Iz}sXMLDeclName(){const t=this.captureTo(uV);if(t===Zz)return this.state=Iz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(PX(t)||t===Yz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Yz?Tz:Az}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Zz)return this.state=Iz,void this.fail("XML declaration is incomplete.");PX(t)||(t!==Yz&&this.fail("value required."),this.state=Tz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Zz)return this.state=Iz,void this.fail("XML declaration is incomplete.");PX(t)||(iV(t)?this.q=t:(this.fail("value must be quoted."),this.q=Xz),this.state=Sz)}sXMLDeclValue(){const t=this.captureTo([this.q,Zz]);if(t===Zz)return this.state=Iz,this.text="",void this.fail("XML declaration is incomplete.");if(t===qX)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Ez}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Zz?(PX(t)||(this.fail("whitespace required."),this.unget()),this.state=bz):this.state=Iz}sXMLDeclEnding(){var t;this.getCodeNorm()===Qz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=oz):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===qX)return;const i=this.tag={name:this.name,attributes:w.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=w.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Qz:this.openTag();break;case qz:this.state=Cz;break;default:PX(n)||this.fail("disallowed character in tag name."),this.state=Dz}}sOpenTagSlash(){this.getCode()===Qz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Dz)}sAttrib(){const t=this.skipSpaces();t!==qX&&(BX(t)?(this.unget(),this.state=Nz):t===Qz?this.openTag():t===qz?this.state=Cz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Yz?this.state=xz:PX(t)?this.state=Pz:t===Qz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==qX&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case qX:return;case Yz:this.state=xz;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Qz?this.openTag():BX(t)?(this.unget(),this.state=Nz):(this.fail("disallowed character in attribute name."),this.state=Dz)}}sAttribValue(){const t=this.getCodeNorm();iV(t)?(this.q=t,this.state=Bz):PX(t)||(this.fail("unquoted attribute value."),this.state=Lz,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=Oz);case Vz:return this.text+=n.slice(i,this.prevI),this.state=az,void(this.entityReturnState=Bz);case Uz:case GX:case Fz:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case $z:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case qX:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();PX(t)?this.state=Dz:t===Qz?this.openTag():t===qz?this.state=Cz:BX(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Nz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(oV);switch(t){case Vz:this.state=az,this.entityReturnState=Lz;break;case $z:this.fail("disallowed character.");break;case qX:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Qz?this.openTag():this.state=Dz}}sCloseTag(){const t=this.captureNameChars();t===Qz?this.closeTag():PX(t)?this.state=jz:t!==qX&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Qz:this.closeTag();break;case qX:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case $z:if(this.state=hz,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=fV;break t;case Vz:this.state=az,this.entityReturnState=oz,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=fV;break t;case Jz:switch(n){case fV:n=lV;break;case lV:n=vV;break;case vV:break;default:throw new l("impossible state")}break;case Qz:n===vV&&this.fail('the string "]]>" is disallowed in char data.'),n=fV;break;case GX:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=fV;break;case qX:void 0!==e&&(this.text+=i.slice(t));break t;default:n=fV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case $z:if(this.state=hz,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case Vz:this.state=az,this.entityReturnState=oz,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case GX:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case qX:void 0!==i&&(this.text+=n.slice(t));break t;default:PX(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,aV(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,aV(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==$X&&this.state!==oz&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.do=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?zX:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=oz,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=oz,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=oz,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=m(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=m(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},gV=function(){function t(){}return t.prototype.ui=function(t){var n=new wV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new AV,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new bV(t))}),n.on("cdata",function(t){r(new kV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new pV({di:n,_i:""===i?void 0:i,Bht:""===s?void 0:s}),o=t.attributes,a=0,h=w.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,l=c.local,v=c.uri,d=c.value,g=new mV({di:l,Ai:d,_i:""===v?void 0:v,Bht:""===f?void 0:f});u.Oht(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new en(t)}),n.write(t).close(),i},t}(),mV=function(){function t(t){this.xht=void 0,this.Lht=void 0,this.Mht=void 0,this.ke=void 0,this.xht=t.di,this.ke=t.Ai,this.Lht=t._i,this.Mht=t.Bht}var n=t.prototype;return n.ai=function(t){return this===t||!!SV(this,t)&&(this.xht===t.xht&&this.Lht===t.Lht&&this.Mht===t.Mht&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,Bht:this.gi})},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){return this.xht}},{key:"wi",get:function(){return void 0===this.Mht?this.xht:this.Mht+":"+this.xht}},{key:"_i",get:function(){return this.Lht}},{key:"gi",get:function(){return this.Mht}},{key:"Ai",get:function(){return this.ke}}]),t}(),yV=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return TV(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return TV(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},T(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(TV)}}]),t}(),pV=function(t){function n(n){var i;return(i=t.call(this)||this).xht=void 0,i.Lht=void 0,i.Mht=void 0,i.Uht=[],i.xht=n.di,i.Lht=n._i,i.Mht=n.Bht,i}E(n,t);var i=n.prototype;return i.Xht=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];TV(e)?e.Xht(t):t.push(e.Hi)}},i.Oi=function(t,n){for(var i=0,e=this.Uht;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.Uht;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.Oht=function(t){this.Uht.push(t)},i.xi=function(t){for(var n=0;n<this.Uht.length;n++)if(this.Uht[n].wi===t)return void this.Uht.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.Uht.length;i++)if(this.Uht[i].di===n&&this.Uht[i]._i===t)return void this.Uht.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.Oht(new mV({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.Oht(new mV({di:e[e.length-1],Ai:i,_i:t,Bht:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,Bht:this.gi});return this.Xi.forEach(function(t){return i.Oht(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!SV(this,t)&&(this.xht===t.xht&&this.Mht===t.Mht&&this.Lht===t.Lht&&(EV(this.Xi,t.Xi)&&EV(this.Ii,t.Ii)))},T(n,[{key:"Kn",get:function(){return $t.Jn}},{key:"Xi",get:function(){return this.Uht}},{key:"di",get:function(){return this.xht}},{key:"_i",get:function(){return this.Lht}},{key:"gi",get:function(){return this.Mht}},{key:"Ri",get:function(){return void 0===this.Mht?this.xht:this.Mht+":"+this.xht}},{key:"Fi",get:function(){var t=[];return this.Xht(t),t.join("")}}]),n}(yV),_V=function(){function t(t){this.Gi=void 0,this.Gi=t}return T(t,[{key:"Hi",get:function(){return this.Gi}}]),t}(),bV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Hi)},i.ai=function(t){return this===t||!!SV(this,t)&&this.Hi===t.Hi},T(n,[{key:"Kn",get:function(){return $t.$n}}]),n}(_V),kV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Hi)},i.ai=function(t){return this===t||!!SV(this,t)&&this.Hi===t.Hi},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(_V),AV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!SV(this,t)&&EV(this.Ii,t.Ii)},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(yV);function TV(t){return Zt(t)}function SV(t,n){return t.Kn===n.Kn}function EV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var IV,RV=["adBreak"],CV=["adBreak"];function DV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Ur({},t,{adBreak:Ur({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,qA(t,RV)})})})}function NV(t){return void 0===t.ads?t:Ur({},t,{ads:t.ads.map(function(t){return t.adBreak,qA(t,CV)})})}function PV(t){return"string"==typeof t.date?new Date(t.date):t.date}function xV(t){var n;return t.cue.track?(n=OV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=OV(t.cue,""),n}function BV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&w.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=w.entries(i);return w.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function OV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new gV).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=LV(o);s[u]={type:IV.Fht,value:a}}else jV(o)?s[u]={type:IV.Hht,value:o}:s[u]={type:IV.DQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=LV(t.scte35Cmd),i.scte35Out=LV(t.scte35Out),i.scte35In=LV(t.scte35In),i.customAttributes=s}var h}(),i}function LV(t){if(void 0!==t)return Vu(t)}function MV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(OV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(OV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function jV(t){return"number"==typeof t}!function(t){t.DQ="daterange-ca-type_string",t.Hht="daterange-ca-type_number",t.Fht="daterange-ca-type_arraybuffer"}(IV||(IV={}));var FV={cue:function(t){var n={};switch(n.date=PV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=xV(t)}return n},textTrack:function(t){var n={};switch(n.date=PV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;zV().register(i);var e=XV()[VV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=xV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(OV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:MV(t.track),date:PV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=zV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=PV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Pf.Hf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Ur({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=MV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=NV(t.ad);break;case"adloaded":case"adimpression":n.ad=DV(t.ad);break;case"aderror":t.zht&&(n.zht=t.zht),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=DV(t.ad)}return BV(n)},minimizeCueHelper:function(t){var n={};return n.date=PV(t),n.type=t.type,n.cue=xV(t),n.track={uid:t.cue.track.uid},n},adReplacer:DV,adBreakReplacer:NV,removeCircularReferences:BV},UV=function(){this.stringify=IX,this.minimize=FV};function HV(){return we.self}function XV(){return HV().THEOplayerBridge}function zV(){return HV().THEOCueMirrorMap}function VV(){return HV().THEOplayerGlobalID}function WV(){var t=HV();if(t.THEOplayerBridge){var n=new kX;t.THEOplayerBridge=wy(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new kX;t.THEOplayerUtils||(t.THEOplayerUtils=new UV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new AX)}WV();var qV,GV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return E(n,t),n}(Iu),$V=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new GV(t,n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(zy),YV=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vht=void 0,e.Wht=void 0,e.Ght=function(t){e.Vht.lK("THEOplayerABRSetTargetBuffer",t.vL),e.Qs(t)},e.qht=function(t){e.Vht.lK("THEOplayerABRSetStrategy",t.dL),e.Qs(t)},e.Vht=n,e.Wht=i,e.Wht.Zs("lL",e.Ght),e.Wht.Zs("wL",e.qht),e}return E(n,t),n.prototype.EL=function(t){return this.Wht.EL(t)},T(n,[{key:"RL",get:function(){var t;switch(this.dL.type){case eC.PERFORMANCE:return 1;case eC.QUALITY:return 0;case eC.BANDWIDTH:return null!=(t=this.dL.metadata)&&t.bitrate&&!p(this.dL.metadata.bitrate)?this.dL.metadata.bitrate:0;default:return 0}}},{key:"t_",get:function(){return this.Wht.t_}},{key:"dL",get:function(){return this.Wht.dL},set:function(t){this.Wht.dL=t}},{key:"vL",get:function(){return this.Wht.vL},set:function(t){this.Wht.vL=t}},{key:"IL",get:function(){return this.Wht.IL}},{key:"_L",get:function(){return this.Wht._L},set:function(t){this.Wht._L=t}},{key:"mL",get:function(){return this.Wht.mL}},{key:"oL",get:function(){return this.Wht.oL}}]),n}(Su),QV=function(){function t(t,n,i){this.Nh=void 0,this.ys=void 0,this.Vh=void 0,this.Jc=void 0,this.Nh=t,this.ys=i,this.Vh=n}var n=t.prototype;return n.RE=function(t){throw new l("Not implemented yet.")},n.UX=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.ah());case 5:return e=r.sent,r.next=8,Fr.awrap(this.XX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},n.FX=function(t){return!1},n.HX=function(t){return qe.resolve(void 0)},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.XX(void 0));case 2:case"end":return t.stop()}},null,this,null,qe)},n.XX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.VX(t),i.next=3,Fr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,qe)},n.VX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.Jc)){i.next=5;break}return i.next=4,Fr.awrap(n.sh(this.Vh));case 4:this.Jc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Fr.awrap(t.rh(this.Vh));case 8:this.Jc=t;case 9:case"end":return i.stop()}},null,this,null,qe)},n.SE=function(t,n,i){throw new l("Not implemented yet.")},T(t,[{key:"nh",get:function(){return this.Nh}},{key:"Dy",get:function(){throw new l("Not implemented yet.")},set:function(t){throw new l("Not implemented yet.")}},{key:"Ny",get:function(){return new dE([0,1/0])}},{key:"Um",get:function(){throw new l("Not implemented yet.")}},{key:"Yht",get:function(){throw new l("Not implemented yet")}},{key:"Mm",get:function(){throw new l("Not implemented yet.")}},{key:"jht",get:function(){throw new l("Not implemented yet")}},{key:"Qht",get:function(){throw new l("Not implemented yet")}}]),t}();!function(t){t.Zht="webkitneedkey",t.Kht="webkitkeymessage",t.Jht="webkitkeyerror"}(qV||(qV={}));var ZV=function(t){function n(n,i){var e;return(e=t.call(this,qV.Zht)||this).initData=n,e.sessionId=i,e}return E(n,t),n}(Iu),KV=function(t){function n(n,i){var e;return(e=t.call(this,qV.Kht)||this).message=n,e.destinationURL=i,e}return E(n,t),n}(Iu),JV=function(t){function n(){return t.call(this,qV.Jht)||this}return E(n,t),n}(Iu),tW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).wh=new na,u.Ch=void 0,u.yh=new Lu,u.Bh=new na,u.$ht=function(t){u.Ch?(u.Ch.Gu(void 0),u.Ch=void 0):u.Sh("internal-error"),u.Qs(new Pu)},u.tft=function(t){u.Ch&&(u.Ch.Wu(void 0),u.Ch=void 0),u.Qs(new Nu(Jt(u),"license-request",Zo(t.message).buffer,t.destinationURL||void 0))},u.Ih=n,u.Xc=i,u.nft=e,u.Fh=r,u.Lh=s,u}E(n,t);var i=n.prototype;return i.Vc=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Mh){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Fr.awrap(this.ift(Yo(n),e));case 5:this.Sh("usable"),this.Bh.Wu(),this.Bh=new na;case 8:case"end":return t.stop()}},null,this,null,qe)},i.Wc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,qe)},i.qc=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Ch=new na,this.nft.qc(this.Fh,n),i.next=7,Fr.awrap(this.Ch.Fu);case 7:case"end":return i.stop()}},null,this,null,qe)},i.zc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.Bh);case 2:return this.nft.tu(qV.Kht,this.tft),this.nft.tu(qV.Jht,this.$ht),this.Bh.Hs(),this.wh.Wu(void 0),t.abrupt("return",this.wh.Fu);case 7:case"end":return t.stop()}},null,this,null,qe)},i.Gc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,qe)},i.ift=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=ff(t,n,this.Lh),this.nft.Zs(qV.Kht,this.tft),this.nft.Zs(qV.Jht,this.$ht),this.nft.Cq(this.Fh,i);case 4:case"end":return e.stop()}},null,this,null,qe)},i.Sh=function(t){this.yh.Nu(),this.yh.Du(Ou,t),this.Qs(new Du(this))},T(n,[{key:"Kc",get:function(){return this.Fh}},{key:"Qc",get:function(){return NaN}},{key:"jc",get:function(){return this.wh.Fu}},{key:"Zc",get:function(){return this.yh}}]),n}(Su),nW=function(){function t(t,n,i){this.eft=void 0,this.Fh=void 0,this.Lh=void 0,this.nft=void 0,this.Xc=void 0,this.Nh=void 0,this.Ih=void 0,this.nft=t,this.Xc=n,this.Nh=i;var e=Yc(i)||"video/mp4";this.Ih=Wc(e)}var i=t.prototype;return i.ih=function(t){var i;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new tW(this.Ih,this.Xc,this.nft,this.Fh,this.Lh),this.eft=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,qe)},i.eh=function(t){return this.Lh=Yo(t),qe.resolve(!0)},i.rh=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,qe)},i.sh=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,qe)},i.createSession=function(){throw new l("Whoops.")},T(t,[{key:"$c",get:function(){return this.Xc}},{key:"nh",get:function(){return this.Nh}},{key:"sessionId",set:function(t){this.Fh=t}}]),t}(),iW=function(){function t(t,n,i){this.rft=t,this.Xc=n,this.Nh=i}var n=t.prototype;return n.hh=function(){return this.Nh},n.ah=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new nW(this.rft,this.Xc,this.Nh));case 1:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"$c",get:function(){return this.Xc}}]),t}(),eW=function(){function t(t){this.rft=void 0,this.rft=t}return t.prototype.Ss=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Gc(rW,Cu,t,e))){s.next=6;break}return s.abrupt("return",new iW(this.rft,t,r));case 6:i++,s.next=1;break;case 9:throw new v("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,qe)},t}();function rW(t,n){return t===ls}var sW,uW=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Hq=function(t,n){return!0},n}(Lx),oW=function(t){function n(n,i,e){var r;return void 0===e&&(e=new eW(i)),(r=t.call(this)||this).oD=void 0,r.ys=void 0,r.OX=void 0,r.qq=new vD,r.sft=void 0,r.rft=void 0,r.uft=!1,r.Fh=void 0,r.Oh=null,r.oft={by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.aft=function(t){"boolean"==typeof t.detail.casting&&(r.uft=t.detail.casting,r.Qs(new E_(r.uft)))},r.cft=function(t){r.Fh=t.sessionId,r.Oh&&(r.Oh.sessionId=r.Fh);var n=t.initData;if(n){var i=zx(n);if(!i)return;r.Qs(new xu(is,i))}else r.Qs(new xu(is,new ArrayBuffer(0)))},r.sft=n,r.rft=i,r.rft.Zs(qV.Zht,r.cft),r.ys=e,r.OX=new uW(Jt(r)),r.hft(),r}E(n,t);var i=n.prototype;return i.jX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===hA.NE)return i}},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.D_());case 2:return this.$s(),this.fft(),this.rft.tu(qV.Zht,this.cft),t.next=7,Fr.awrap(this.OX.xs());case 7:case"end":return t.stop()}},null,this,null,qe)},i.Jm=function(){throw new l("Not implemented yet")},i.SE=function(t,n,i,e,r,s,u,o){throw new l("Not implemented yet")},i.WD=function(){return!1},i.qD=function(t,n,i,e){throw new l("Not implemented yet")},i.RE=function(t){throw new l("Not implemented yet")},i.QD=function(){throw new l("Not implemented yet")},i.Wc=function(t){var n=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.qq.sX(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.fs!==hA.NE){r.next=8;break}return fu(i),e=new QV(t,n,n.ys),n.oD=e,n.OX.Wc(e,t),r.abrupt("return",e);case 8:throw new l("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,qe)}));case 1:case"end":return i.stop()}},null,this,null,qe)},i.Hm=function(){throw new l("Not implemented yet")},i.Fm=function(){throw new l("Not implemented yet")},i.D_=function(){var t=this;return this.qq.Hs(),this.qq.sX(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.oD){n.next=4;break}return n.next=3,Fr.awrap(t.oD.xs());case 3:t.oD=void 0;case 4:return n.next=6,Fr.awrap(t.OX.D_());case 6:case"end":return n.stop()}},null,null,null,qe)})},i.xu=function(t,n){throw new l("Not implemented yet")},i.iN=function(t){throw new l("Not implemented yet")},i.Km=function(){throw new l("Not implemented yet")},i.eN=function(){return this.oft},i.hft=function(){this.sft.addEventListener("airPlayIsCasting",this.aft)},i.fft=function(){this.sft.removeEventListener("airPlayIsCasting",this.aft)},i.webkitSetMediaKeys=function(t){this.Oh=t||null,this.Oh&&(this.Oh.sessionId=this.Fh)},i.Nj=function(){},i.Rj=function(){throw new l("Not implemented yet")},i.Dj=function(){throw new l("Not implemented yet")},T(n,[{key:"_y",get:function(){throw new l("Not implemented yet")}},{key:"wy",get:function(){throw new l("Not implemented yet")}},{key:"jg",get:function(){throw new l("Not implemented yet")}},{key:"XU",get:function(){throw new l("Not implemented yet")}},{key:"Qg",get:function(){throw new l("Not implemented yet")}},{key:"Zg",get:function(){throw new l("Not implemented yet")}},{key:"mu",get:function(){throw new l("Not implemented yet")}},{key:"dT",get:function(){throw new l("Not implemented yet")}},{key:"yy",get:function(){return this.uft}},{key:"Jg",get:function(){throw new l("Not implemented yet")}},{key:"$g",get:function(){throw new l("Not implemented yet")}},{key:"tm",get:function(){throw new l("Not implemented yet")}},{key:"Ry",get:function(){throw new l("Not implemented yet")}},{key:"ag",get:function(){throw new l("Not implemented yet")}},{key:"Ny",get:function(){throw new l("Not implemented yet")}},{key:"nm",get:function(){throw new l("Not implemented yet")}},{key:"Bj",get:function(){throw new l("Not implemented yet")}},{key:"cm",get:function(){throw new l("Not implemented yet")},set:function(t){throw new l("Not implemented yet")}},{key:"Bk",get:function(){throw new l("Not implemented yet")}},{key:"jD",get:function(){throw new l("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Oh}},{key:"Oj",get:function(){return PD}},{key:"Um",get:function(){throw new l("Not implemented yet")}},{key:"HU",get:function(){throw new l("Not implemented yet")}},{key:"rN",get:function(){throw new l("Not implemented yet")}},{key:"Cj",get:function(){return!0}},{key:"LD",get:function(){return this.OX.LD},set:function(t){this.OX.LD=t}},{key:"Wq",get:function(){return this.OX.Wq}}]),n}(Xy),aW=function(t){function n(n){var i;return(i=t.call(this,Pf.Wf)||this).oft=n,i}return E(n,t),n}(Iu);function hW(t){switch(t.type){case sW.DQ:return t.value;case sW.Hht:return by(t.value);case sW.Fht:return Xu(t.value);default:return}}function cW(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.DQ="daterange-ca-type_string",t.Hht="daterange-ca-type_number",t.Fht="daterange-ca-type_arraybuffer"}(sW||(sW={}));var fW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this)._R=void 0,u.vft=void 0,u._R=n,u.vft=s,u}return E(n,t),T(n,[{key:"name",get:function(){return this._R}},{key:"timestamp",get:function(){return this.vft}}]),n}(lf),lW=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return E(n,t),n}(fW),vW=function(){function t(t,n){this.Pm=void 0,this.nY=void 0,this.Pm=new Ok,this.nY=new wx(t,n)}var n=t.prototype;return n.SE=function(t,n,i,e,r,s,u){var o=new wP(t,n,i,e,r,s,u);return this.Pm.E_(o),this.nY.E_(o),o},n.RE=function(t){this.Pm.I_(t),this.nY.I_(t),t.xd()},n.D_=function(){for(var t=0,n=this.Pm.N_.slice();t<n.length;t++){n[t].xd()}this.Pm.D_(),this.nY.D_()},n.xd=function(){this.D_(),this.Pm.xd(),this.nY.xd()},T(t,[{key:"Um",get:function(){return this.Pm}}]),t}(),dW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).SC=0,u.EW=!1,u.aD=void 0,u.cD=void 0,u.lft=void 0,u.IC=!0,u.RC=1,u.Nm=void 0,u.Cm=void 0,u.Kq=void 0,u.$q=void 0,u.Pm=void 0,u.bE=void 0,u.ua=void 0,u.L8=dE.kC(),u.vW=dE.kC(),u.EC=!1,u.cY=dE.kC(),u.DC=void 0,u.dft=void 0,u.wft=void 0,u.IW=Ky.Mg,u.PE=Ky.Mg,u.sft=void 0,u.nY=void 0,u.vD=void 0,u.Vht=void 0,u.yrt=void 0,u.xC=void 0,u.uD=void 0,u.lD=void 0,u.rft=void 0,u.oft={by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.oD=void 0,u._ft=void 0,u.wD=new WS,u._D=new ZS,u.setCurrentTime=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=4;break}return u.SC=t,n.next=4,Fr.awrap(u.sft.au("seekablechange"));case 4:u.SC=u.updateCurrentTime(t),u.Vht.lK("THEOplayerSetCurrentTime",u.SC),u.DC=!0,u.Qs(new Rp(u.SC));case 8:case"end":return n.stop()}},null,null,null,qe)},u.gft=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.L8=new dE(i),u.Qs(new MD(u.jg))}},u.mft=function(t){u.IW=t.detail.readyState,u.Qs(new Np(+t.detail.currentTime,u.ag)),u.yft()},u.kft=function(t){u.IW=t.detail.readyState,u.Qs(new Pp(+t.detail.currentTime,u.ag)),u.yft()},u.bft=function(t){if(t.detail){var n=+t.detail.duration;u.ua=n,u.Qs(new Ap(u.Qg))}},u.pft=function(t){t.detail&&(u.EW=!0,u.Qs(new Ep(+t.detail.currentTime)))},u.gD=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);cW(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.cD=new lW(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.aD=s_(u.cD),u.Qs(new Bp(u.cD))):cW(i)&&(u.cD=new fW(i.name,i.message,void 0,i.code,i.timestamp),u.aD=s_(u.cD),u.Qs(new Bp(u.cD)))}},u.Aft=function(t){u.Qs(new jD)},u.Tft=function(t){u.IW=t.detail.readyState,u.Qs(new Ip(+t.detail.currentTime,u.ag)),u.yft()},u.Sft=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=3;break}return n.next=3,Fr.awrap(u.sft.au("seekablechange"));case 3:u.IW=t.detail.readyState,u.Qs(new kp(+t.detail.currentTime,u.ag)),u.yft();case 6:case"end":return n.stop()}},null,null,null,qe)},u.Eft=function(t){t.detail&&u.IC&&(u.IC=!1,u.Qs(new yp(+t.detail.currentTime)))},u.Ift=function(t){t.detail&&(u.IC||(u.IC=!0,u.Qs(new mp(+t.detail.currentTime))))},u.Rft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.cY=new dE(i)}},u.Dft=function(t){t.detail&&u.Qs(new bA(+t.detail.currentTime))},u.Nft=function(t){t.detail&&(u.RC=t.detail.playbackRate,u.Qs(new Tp(+t.detail.currentTime,u.RC)))},u.Cft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.vW=new dE(i)}},u.Pft=function(t){t.detail&&(u.SC=+t.detail.currentTime,u.DC=!1,u.Qs(new Sp(u.SC,u.lft)),u.Qs(new Cp(u.SC)))},u.Bft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ua&&(u.EW=!1),u.DC=!0,u.Qs(new Rp(n))}},u.Oft=function(t){t.detail&&(t.detail.currentDate&&(u.lft=new Date(1e3*t.detail.currentDate)),u.SC=+t.detail.currentTime,u.Qs(new Sp(u.SC,u.lft)))},u.xft=function(t){u.dft=t.detail.height,u.wft=t.detail.width},u.Lft=function(t){t.detail&&u.Qs(new _A(+t.detail.currentTime))},u.Mft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Lm.E_(new __(n))},u.Uft=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Nm.C_;s++){var o=u.Lm.S_(s);o.G_==e&&o.W_==r?i=u.Nm.S_(s):1==o.F_&&(n=u.Nm.S_(s))}i&&n&&(i.F_=!0,n.F_=!1)},u.Xft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Mm.E_(new S_(n))},u.HZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Bk.uA&&e===A_.ID3?(n=new bx("",t.detail.label)).eg=Py.Q_:i===Bk.uA&&e===A_.DATE_RANGE?(n=new IM,u._ft=n):n=new wP(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Kq.E_(n),u.nY.E_(n)},u.Fft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new px(by(e.startTime),s,e.uid),a=u.Hft();a&&a.IE(o)}},u.zft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new z_(by(r.startTime),by(r.endTime),r.content,!1),o=null!=(e=u.Vft(Bk.rA))?e:u.Vft(Bk.aE);o&&(o.fs=A_.WEBVTT,o.IE(s))}},u.ej=function(t){t.type===Pf.vf&&(u.aD=s_(t.errorObject)),u.js(t)},u.Wft=function(t){t.detail&&(u.oft.py=t.detail.corruptedVideoFrames,u.oft.by=t.detail.droppedVideoFrames,u.Qs(new aW(u.Tm)))},u.Gft=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={H_:t.id};if(void 0!==t.startDate&&(n.rN=new Date(t.startDate)),void 0!==t.endDate&&(n.MJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=hW(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.XJ=e}void 0!==t.scte35Cmd&&(n.HJ=Xu(t.scte35Cmd)),void 0!==t.scte35In&&(n.WJ=Xu(t.scte35In)),void 0!==t.scte35Out&&(n.VJ=Xu(t.scte35Out)),void 0!==t.startTime&&(n.Jy=t.startTime),n.LJ=t.class,n.Qg=by(t.duration),n.UJ=by(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Jy?t.Jy:(new Date).getTime(),e=new SM(t,i);u._ft.IE(e),u._ft.qc(n,i)})};var o=r.uid;u.Vht=u.getSdkBridge(o),u.sft=new $V,XV()[o].sdkEventBus=u.sft,u.Nm=new a_,u.Cm=new a_;var a=u.qft(e);return u.bE=new vW(Jt(u),new gx),u.nY=new yx(Jt(u)),u.vD=new eA(u.bE,a),u.Kq=new Ok,u.$q=new Tx(u.bE,u.Kq),u.Pm=new $S([u.Kq,u.vD.JA,u.$q.JA]),u.rft=u.getFairPlayControllerBridge(u.Vht),u.uD=new oW(u.sft,u.rft),u.lD=new qS(a),u.uD.LD=u.lD,u.observeMediaElement(),u.UD(),u.xC=new YV(u.Vht,s),u.xC.Zs("lL",function(){u.Vht.lK("THEOplayerSetPreferredForwardBufferDuration",u.xC.vL)}),u}E(n,t);var i=n.prototype;return i.iy=function(){return mE},i.Km=function(){this.Vht.lK("THEOplayerShow",{})},i.Jm=function(){this.Vht.lK("THEOplayerHide",{})},i.Yft=function(){var t=this;this.Vht.lK("THEOplayerSetInitialPreferredPeakBitRate",this.xC.RL);this.Zs("playing",function n(){t.Vht.lK("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.Wm=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.yrt=t,i=Ur({},n,{sources:{src:t.src,type:Yy.Ng,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Vht.lK("THEOplayerSourceChange",i),e={fs:hA.NE,fg:t.src,Fl:t.type,XD:this.FD(t),HD:t.crossOrigin,zD:n.metadata&&n.metadata.title},this.lD.GR(t.contentProtection),s.next=7,Fr.awrap(this.uD.Wc(e));case 7:this.oD=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==A_.WEBVTT})).length>0&&this.VD(r),aA(this.Um),this.Yft();case 11:case"end":return s.stop()}},null,this,null,qe)},i.FD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{$c:gs,$D:[{initDataTypes:[gs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Fm=function(){this.IC=!1,this.Qs(new yp(this.jg)),this.Vht.lK("THEOplayerPlay",{})},i.Hm=function(){this.IC=!0,this.Qs(new mp(this.jg)),this.Vht.lK("THEOplayerPause",{})},i.$m=function(){},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SC=0,this.EW=!1,this.aD=void 0,this.cD=void 0,this.IC=!0,this.RC=1,this.ua=void 0,this.vW=dE.kC(),this.L8=dE.kC(),this.dft=void 0,this.wft=void 0,this.IW=Ky.Mg,this.PE=Ky.Mg,this.Nm.D_(),this.Cm.D_(),this.Kq.D_(),this.Pm.D_(),t.next=19,Fr.awrap(this.$q.D_());case 19:return t.next=21,Fr.awrap(this.vD.D_());case 21:return this.bE.D_(),this.nY.D_(),this.yrt=void 0,t.next=26,Fr.awrap(this.uD.D_());case 26:case"end":return t.stop()}},null,this,null,qe)},i.qm=function(){this.Vht.lK("THEOplayerShowAirPlayPicker",{})},i.Ym=function(){this.Vht.lK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Tm.py=t.py,this.Tm.by=t.by},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.D_());case 2:return this.$s(),this.unobserveMediaElement(),this.KD(),this.uD.LD=void 0,t.next=8,Fr.awrap(this.uD.xs());case 8:return this.Nm.xd(),this.Cm.xd(),this.Kq.xd(),this.Pm.xd(),t.next=14,Fr.awrap(this.$q.xd());case 14:return t.next=16,Fr.awrap(this.vD.xd());case 16:this.bE.xd(),this.nY.xd();case 18:case"end":return t.stop()}},null,this,null,qe)},i.VD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.vD.TE(i)}},i.yft=function(){var t=this.PE,n=this.IW;t!==n&&(this.PE=n,this.Qs(new xp(this.jg,n)))},i.observeMediaElement=function(){this.uD.Zs(Pf.sf,this.js),this.uD.Zs([Pf.lf,Pf.vf],this.ej),this.sft.addEventListener("play",this.Eft),this.sft.addEventListener("pause",this.Ift),this.sft.addEventListener("seeking",this.Bft),this.sft.addEventListener("seeked",this.Pft),this.sft.addEventListener("ratechange",this.Nft),this.sft.addEventListener("durationchange",this.bft),this.sft.addEventListener("timeupdate",this.Oft),this.sft.addEventListener("waiting",this.Lft),this.sft.addEventListener("playing",this.Dft),this.sft.addEventListener("ended",this.pft),this.sft.addEventListener("loadedmetadata",this.Sft),this.sft.addEventListener("loadeddata",this.Tft),this.sft.addEventListener("loadstart",this.Aft),this.sft.addEventListener("canplay",this.mft),this.sft.addEventListener("canplaythrough",this.kft),this.sft.addEventListener("error",this.gD),this.sft.addEventListener("seekablechange",this.Cft),this.sft.addEventListener("videosizechange",this.xft),this.sft.addEventListener("bufferedchange",this.gft),this.sft.addEventListener("playedchange",this.Rft),this.sft.addEventListener("metricschange",this.Wft),this.sft.addEventListener("addDateRangeCues",this.Gft)},i.unobserveMediaElement=function(){this.uD.tu(Pf.sf,this.js),this.uD.tu([Pf.lf,Pf.vf],this.ej),this.sft.removeEventListener("play",this.Eft),this.sft.removeEventListener("pause",this.Ift),this.sft.removeEventListener("seeking",this.Bft),this.sft.removeEventListener("seeked",this.Pft),this.sft.removeEventListener("ratechange",this.Nft),this.sft.removeEventListener("durationchange",this.bft),this.sft.removeEventListener("timeupdate",this.Oft),this.sft.removeEventListener("waiting",this.Lft),this.sft.removeEventListener("playing",this.Dft),this.sft.removeEventListener("ended",this.pft),this.sft.removeEventListener("loadedmetadata",this.Sft),this.sft.removeEventListener("loadeddata",this.Tft),this.sft.removeEventListener("loadstart",this.Aft),this.sft.removeEventListener("canplay",this.mft),this.sft.removeEventListener("canplaythrough",this.kft),this.sft.removeEventListener("error",this.gD),this.sft.removeEventListener("seekablechange",this.Cft),this.sft.removeEventListener("videosizechange",this.xft),this.sft.removeEventListener("bufferedchange",this.gft),this.sft.removeEventListener("playedchange",this.Rft),this.sft.removeEventListener("metricschange",this.Wft),this.sft.removeEventListener("addDateRangeCues",this.Gft)},i.updateCurrentTime=function(t){var n=this.Ny.start(0),i=this.Ny.end(0);return g.min(g.max(t,n),i)},i.Hft=function(){for(var t=0,n=this.Pm.N_;t<n.length;t++){var i=n[t];if(i.V_===Bk.uA&&i.fs===A_.ID3)return i}},i.Vft=function(t){for(var n=0,i=this.Pm.N_;n<i.length;n++){var e=i[n],r=e.eg===Py.Z_,s=e.V_===t;if(r&&s)return e}},i.UD=function(){this.sft.addEventListener("addaudiotrack",this.Mft),this.sft.addEventListener("enableaudiotrack",this.Uft),this.sft.addEventListener("addvideotrack",this.Xft),this.sft.addEventListener("addtexttrack",this.HZ),this.sft.addEventListener("addtexttrackid3cues",this.Fft),this.sft.addEventListener("addtexttrackcues",this.zft)},i.KD=function(){this.sft.removeEventListener("addaudiotrack",this.Mft),this.sft.removeEventListener("enableaudiotrack",this.Uft),this.sft.removeEventListener("addvideotrack",this.Xft),this.sft.removeEventListener("addtexttrack",this.HZ),this.sft.removeEventListener("addtexttrackid3cues",this.Fft),this.sft.removeEventListener("addtexttrackcues",this.zft)},i.ly=function(){},T(n,[{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.L8.nN()}},{key:"_y",get:function(){return this.lft?this.lft:null},set:function(t){this.Vht.lK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.lft=t}},{key:"jg",get:function(){return this.SC},set:function(t){this.setCurrentTime(t)}},{key:"Qg",get:function(){return this.ua}},{key:"Zg",get:function(){return this.EW}},{key:"mu",get:function(){return this.aD}},{key:"Kg",get:function(){return this.cD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return this.uD.yy}},{key:"Tm",get:function(){return this.oft}},{key:"Jg",get:function(){return this.EC},set:function(t){this.EC!==t&&(this.Vht.lK("THEOplayerSetMuted",t),this.EC=t,this.Qs(new Dp(this.jg,t?0:1)))}},{key:"$g",get:function(){return this.IC}},{key:"tm",get:function(){return this.RC},set:function(t){this.Vht.lK("THEOplayerSetPlaybackRate",t),this.RC=t}},{key:"Ry",get:function(){return this.cY.nN()}},{key:"Dy",get:function(){return uE.TN},set:function(t){}},{key:"ag",get:function(){return this.IW}},{key:"Ny",get:function(){return this.vW.nN()}},{key:"nm",get:function(){return this.DC}},{key:"rN",get:function(){}},{key:"Um",get:function(){return this.Pm}},{key:"im",get:function(){return this.dft}},{key:"um",get:function(){return this.wft}},{key:"cm",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this._D}},{key:"Mm",get:function(){return this.Cm}},{key:"sN",get:function(){return this.wD}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"Iy",get:function(){return!0}}]),n}(Xy),wW=function(){function t(){this.uN=US.MR}var n=t.prototype;return n.oN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(ip(n.type))return!1;var e=n.contentProtection;if(e&&!uT(e)){if(!hT(e))return!1;if(!t.but(e))return!1}return!0},t.but=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.aN=function(){return!1},t}(),gW=function(){function t(){this.jft=r.webkit}return t.prototype.lK=function(t,n){this.jft.messageHandlers[t]&&this.jft.messageHandlers[t].postMessage(n)},t}(),mW=function(t){function n(n){var i;return(i=t.call(this)||this).Vht=void 0,i.sft=void 0,i.Qft=function(t){var n=Xu(t.detail.initData),e=t.detail.sessionId;i.Qs(new ZV(n,e))},i.Zft=function(t){var n=new _(Zu(t.detail.message)),e=t.detail.destinationURL;i.Qs(new KV(n,e))},i.Kft=function(t){i.Qs(new JV)},i.Vht=n,i.sft=new $V,XV().fairplayController={sdkEventBus:i.sft},i.Jft(),i}E(n,t);var i=n.prototype;return i.Jft=function(){this.sft.addEventListener(qV.Zht,this.Qft),this.sft.addEventListener(qV.Kht,this.Zft),this.sft.addEventListener(qV.Jht,this.Kft)},i.Cq=function(t,n){var i={playerId:VV(),data:Ku(n.buffer),sessionId:t};this.Vht.lK("THEOplayerCreateKeySession",i)},i.qc=function(t,n){var i={playerId:VV(),data:Ku(n.buffer),sessionId:t};this.Vht.lK("THEOplayerUpdateKey",i)},n}(Xy),yW=function(t){var n=this;this.sft=void 0,this.$ft=void 0,this.tvt=function(){n.$ft.QZ()},this.nvt=function(){n.$ft.jZ()},this.sft=new $V,this.$ft=t,this.sft.addEventListener("showTracks",this.tvt),this.sft.addEventListener("hideTracks",this.nvt),XV().texttracks={sdkEventBus:this.sft}},pW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).tK=void 0,o.nK=void 0,o.ivt=void 0;var a=i.OD(o_.Ed);return o.tK=new Kx,o.tK.Pj(n),o.nK=new nO(o.tK.gy,a.XU,o.Um,u,a.jD),o.ivt=new yW(o.nK),i.JD(a),we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.add("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="transparent",o}E(n,t);var i=n.prototype;return i.Km=function(){t.prototype.Km.call(this),this.tK.Km()},i.Jm=function(){t.prototype.Jm.call(this),this.tK.Jm()},i.Gm=function(){return!0},i.getSdkBridge=function(){return new gW},i.getFairPlayControllerBridge=function(){return bW},i.qft=function(t){return t},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="#000000",n.next=3,Fr.awrap(t.prototype.xd.call(this));case 3:this.nK.xd(),this.tK.xd();case 5:case"end":return n.stop()}},null,this,null,qe)},n}(dW);rE(new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.DI=function(t,n,i,e,r,s){return new pW(t,n,i,e,r,s)},i.oN=function(n,i){if(n.type){var e=wr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.oN.call(this,n,i)},n}(wW)));var _W,bW=new mW(new gW),kW=function(t){function n(){return t.call(this,"evt")||this}return E(n,t),n.prototype.n_=function(){return new AW},n}(Jm),AW=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Iu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(_W||(_W={}));var TW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rvt=new Xy,n.js=function(t){n.Qs(t)},n}E(n,t);var i=n.prototype;return i.n_=function(){return n=function(t){var n=t.svt.map(function(t){return t.t_});return n.item=function(n){n|=0;var i=t.S_(n);return i&&i.t_||void 0},n}(t=this),i=new TC(t,n),n.addEventListener=function(t,n){i.Zs(t,n)},n.removeEventListener=function(t,n){i.tu(t,n)},n;var t,n,i},i.Zs=function(t,n){this.rvt.Zs(t,n)},i.Js=function(t){this.rvt.Js(t)},i.$s=function(){this.rvt.$s()},i.Qs=function(t){this.rvt.Qs(t)},i.tu=function(t,n){this.rvt.tu(t,n)},i.uu=function(t){this.rvt.uu(t)},i.ou=function(t){this.rvt.ou(t)},i.au=function(t,n){return this.rvt.au(t,n)},n}(function(){function t(){this.Su=[],this.$w=void 0}var n=t.prototype;return n.S_=function(t){return this.Su[t]},n.Oy=function(t){this.Su.push(t),this.$w&&this.$w.push(t.t_),this.uvt(t)},n.ovt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Oy(i)}},n.avt=function(t,n){n>=0&&n<=this.Su.length&&(this.Su.splice(n,0,t),this.$w&&this.$w.splice(n,0,t.t_),this.uvt(t))},n.xy=function(t){return Qs(this.Su,t)},n.Gc=function(t){this.cvt(this.Su.indexOf(t))},n.cvt=function(t){if(t>=0&&t<this.Su.length){var n=this.Su[t];Ys(this.Su,t),this.$w&&Ys(this.$w,t),this.fvt(n)}},n.Nu=function(){var t=this.Su.slice();Ks(this.Su),this.$w&&Ks(this.$w);for(var n=0;n<t.length;n++){var i=t[n];this.fvt(i)}},T(t,[{key:"svt",get:function(){return this.Su}},{key:"C_",get:function(){return this.Su.length}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),t}());var SW,EW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Iu),IW=function(t){function n(n){var i;return(i=t.call(this,"lvt")||this).vvt=n,i}return E(n,t),n.prototype.n_=function(){return new EW(this.vvt.t_)},n}(Jm),RW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Iu),CW=function(t){function n(n){var i;return(i=t.call(this,"dvt")||this).task=n,i}return E(n,t),n.prototype.n_=function(){return new RW(this.task.t_)},n}(Jm),DW=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.uvt=function(t){this.Qs(new IW(t))},i.fvt=function(t){this.Qs(new CW(t))},n}(TW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(SW||(SW={}));var NW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wvt=SW.UNINITIALISED,r.tX=new DW,r.Gct=void 0,r._vt=void 0,r.gvt=void 0,r.gvt=i,r._vt=e,r.Gct=n,r.jm(),r}E(n,t);var i=n.prototype;return i.jm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.mvt());case 2:this.yvt(SW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,qe)},i.mvt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.kvt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],qe)},i.kvt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Gct.Aat());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.gvt.bvt(i.id,i.sourceDescription,i.parameters,this._vt),this.pvt(e),this.tX.Oy(e);case 4:case"end":return r.stop()}},null,this,null,qe)},i.yvt=function(t){this.wvt=t,this.Qs(new kW)},i.bvt=function(t,n,i){void 0===i&&(i="persistent");var e=this.gvt.Avt(t,n,i);return this.Tvt(e,i),this.tX.Oy(e),this.pvt(e),e},i.Tvt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.Svt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),l("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],qe)},i.Svt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Gct.yat({key:t.H_,id:t.H_,sourceDescription:t.yN,parameters:t.fh},n));case 2:case"end":return i.stop()}},null,this,null,qe)},i.pvt=function(t){var n=this;t.Zs("evt",function(){t.Jl===_W.EVICTED&&n.tX.Gc(t)})},T(n,[{key:"Jl",get:function(){return this.wvt}},{key:"Evt",get:function(){return this.tX}}]),n}(Su);function PW(t,n){return function(t,n){var i=t.Bk&&n.Bk,e=t.dT&&n.dT;return i||e?i&&e?t.Bk*t.dT-n.Bk*n.dT:i?t.Bk-n.Bk:e?t.dT-n.dT:(t.Bk||1)*(t.dT||1)-(n.Bk||1)*(n.dT||1):0}(t,n)||function(t,n){return t.HR-n.HR}(t,n)}var xW=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Iu),BW=function(t){function n(){return t.call(this,"Ivt")||this}return E(n,t),n.prototype.n_=function(){return new xW},n}(Jm),OW=function(){function t(t,n,i){if(this.Rvt=void 0,this.Dvt=t,this.By=n,this.Nvt=i,0===this.By.size)this.Rvt=dE.kC();else{var e=new dE([-1/0,1/0]);this.By.forEach(function(t){e=e.ZN(t.timeRanges)}),this.Rvt=e}}return t.prototype.Tk=function(t){return!!my(this.By,t.By)&&(!!Xt(this.Dvt,t.Dvt)&&(!!Xt(this._C,t._C)&&(!!Xt(this.Cvt,t.Cvt)&&this.Pvt.hC(t.Pvt))))},t.Bvt=function(){return MW},T(t,[{key:"_C",get:function(){return this.Nvt}},{key:"Ovt",get:function(){return this.Dvt}},{key:"Cvt",get:function(){return this.Pvt._C}},{key:"xvt",get:function(){var t=0,n=0;return this.By.forEach(function(i){t+=i.timeRanges._C,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"Pvt",get:function(){return this.Rvt}}]),t}(),LW=Xr(),MW=new OW(0,LW,NaN);function jW(t,n){if(G(t)){if(ks(t,"%"))return y(t)/100*n;throw new l("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var FW,UW=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"Lvt"}}]),n}(nn);function HW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Mvt;r<s.length;r++)u=s[r],e.push(XW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{Qg:t.Xvt.Uvt(),Fvt:[t.Hvt],Mvt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function XW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.zvt;r<s.length;r++)u=s[r],e.push(zW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{Vvt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function zW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Wvt;r<s.length;r++)VW(u=s[r])||e.push($W(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{JA:o,fs:t.fs});case 6:case"end":return a.stop()}},null,null,null,qe)}function VW(t){return t.i1.every(GW)}!function(t){t[t.Dg=0]="Dg",t[t.Ng=1]="Ng"}(FW||(FW={}));var WW,qW=1;function GW(t){return t.Gvt!==qW&&Boolean(t.Gvt)}function $W(t,n,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=[],r=0,s=t.i1;r<s.length;r++)GW(u=s[r])||e.push(QW(u,i));return l.next=4,Fr.awrap(qe.all(e));case 4:return o=l.sent,a=t.ZH[0],h=t.n1,c=h?YW(a,h):void 0,f=xL(t,n),l.abrupt("return",{q_:o,G_:t.irt,fs:t.fs,XD:c,qvt:f});case 10:case"end":return l.stop()}},null,null,null,qe)}function YW(t,n){for(var i=[],e=function(t){return t?ks(t,"avc")?Uc.VIDEO_H264:ks(t,"hev")||ks(t,"hvc")||ks(t,"hvt")||ks(t,"lhv")||ks(t,"lhe")||ks(t,"lht")?Uc.VIDEO_H265:ks(t,"mp4")?Uc.VIDEO_MP4:ks(t,"mpeg2")?Uc.VIDEO_MPEG2:ks(t,"mpeg")?Uc.VIDEO_MPEG:Uc.VIDEO_UNKNOWN:Uc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.Y0.split(":").pop(),o=s.j0;i.push({mimeType:e,uuid:u,data:o})}return{type:FW.Dg,schemeType:ts,schemeDatas:i}}function QW(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(ZW(t,n));case 2:r=u.sent,s={H_:JW(t),$S:r,HR:t.HR,$e:t.$e,dT:t.dT,fs:t.fs,Bk:t.Bk},u.t0=t.fs,u.next=u.t0===o_.$n?7:u.t0===o_.Ed?8:u.t0===o_.Sd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.rJ=null!=(i=null==(e=t.rJ)?void 0:e.xk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.oJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,qe)}function ZW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Yvt,t.Dct&&i.push({Jy:0,Qg:0,jvt:t.Dct}),r=e.Qvt(),s=r;case 5:if(!s){c.next=17;break}if(!t.Zvt(s)){c.next=13;break}return c.next=9,Fr.awrap(t.Kvt(s,n,(new au).Ws));case 9:for(u=c.sent,o=0;o<u.C_;o++)i.push(KW(u.Jvt(o),t));c.next=14;break;case 13:i.push(KW(s,t));case 14:s=e.$vt(s),c.next=5;break;case 17:return a=e.tlt(),h=a.$y-r.Jy,c.abrupt("return",{Qg:h,aJ:i});case 20:case"end":return c.stop()}},null,null,null,qe)}function KW(t,n){return{Jy:t.Jy,Qg:t.Qg,jvt:n.nlt(t)}}function JW(t){return t.ilt.MN+"-"+(""+t.H_)}function tq(t,n){return function(t,n){for(var i={},e=0;e<NO.length;e++){var r=NO[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],l=nq(f,r,n);a.push(l)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.n$]||(n[e.n$]={fs:e.fs,oT:[]}),n[e.n$].oT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.oT;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.fs])?a:i[o]={};c[h.wi]||(c[h.wi]=[]),c[h.wi].push(h)}return i}(t),n)}function nq(t,n,i){for(var e=t.n$,r={b$:t,Y$:[]},s=0;s<i.length;s++){var u=i[s];FM(n,e,u)&&r.Y$.push(u)}return r}function iq(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(n.zct([t],{}));case 2:return i=e.sent,e.abrupt("return",gM(i.od,{},i.Xct));case 4:case"end":return e.stop()}},null,null,null,qe)}function eq(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!EO(t)){i.next=4;break}return i.abrupt("return",rq(t,n));case 4:return i.abrupt("return",(r=void 0,{Qg:(r=vq(e=t)).Qg,Fvt:[e.r$],Mvt:[{Vvt:[{fs:o_.vd,JA:[{fs:o_.vd,G_:oF,q_:[{H_:e.r$,$S:r,HR:0,$e:"",dT:0,fs:o_.vd,Bk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,qe)}function rq(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=tq(t.oT,t.V1),s.next=3,Fr.awrap(oq(i,n));case 3:return e=s.sent,s.next=6,Fr.awrap(uq(t.V1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Qg:sq(e),Fvt:[t.r$],Mvt:[{Vvt:e}]});case 9:case"end":return s.stop()}},null,null,null,qe)}function sq(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].JA;e<r.length;e++){var s=r[e];n=g.max.apply(g,[n].concat(s.q_.map(function(t){return t.$S.Qg})))}return n}function uq(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Fr.awrap(lq(a.r$,n));case 6:(h=c.sent).HR=a.HR,h.$e=a.ZH?[(f=a.ZH).QH,f.jH,f.KH].filter(H).join(","):"",h.dT=null!=(r=null==(s=a.O$)?void 0:s.dT)?r:0,h.Bk=null!=(u=null==(o=a.O$)?void 0:o.Bk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{fs:o_.vd,JA:[{G_:oF,fs:o_.vd,q_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,qe)}function oq(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<NO.length)){o.next=13;break}if(r=NO[e],!(s=t[r])){o.next=10;break}return o.next=8,Fr.awrap(aq(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,qe)}function aq(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Fr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Fr.awrap(hq(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{fs:cq(n),JA:e});case 12:case"end":return o.stop()}},null,null,null,qe)}function hq(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].b$,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Fr.awrap(fq(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{G_:e.G_||oF,fs:cq(e.fs),q_:i});case 13:case"end":return o.stop()}},null,null,null,qe)}function cq(t){switch(t){case kO.Sd:return o_.Sd;case kO.Ed:return o_.Ed;case kO.rA:case kO.BJ:return o_.$n;default:return o_.vd}}function fq(t,n){var i,e,r;return lq((e=(i=t).b$.r$,r=i.Y$.map(function(t){return t.r$}),e||(r.length?r[0]:void 0)),n)}function lq(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Qg:0,aJ:[]},!t){r.next=6;break}return r.next=4,Fr.awrap(iq(t,n));case 4:IO(e=r.sent)&&(i=vq(e));case 6:return r.abrupt("return",{H_:t||"default",elt:t,$S:i,HR:0,$e:"",dT:0,fs:o_.vd,Bk:0});case 7:case"end":return r.stop()}},null,null,null,qe)}function vq(t){for(var n,i=[],e=0,r=0,s=t.aJ;r<s.length;r++){var u=s[r],o=e;!u.Y1||void 0!==n&&BO(u.Y1.r$,n)||(i.push(dq(u.Y1,o)),n=u.Y1.r$),i.push(wq(u,o)),e+=u.Qg}return{Qg:e,aJ:i}}function dq(t,n){return{Jy:n,Qg:0,jvt:gq(t.r$)}}function wq(t,n){return{Jy:n,Qg:t.Qg,jvt:gq(t.r$)}}function gq(t){return{hd:t.Ai,bct:t.OJ?[t.OJ.MN,t.OJ.MN+t.OJ.C_]:void 0,Pd:!1}}!function(t){t.NE="static",t.CE="dynamic"}(WW||(WW={}));var mq,yq=31536e3,pq=2592e3,_q=86400,bq=3600,kq=60,Aq=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,Tq=function(){function t(t){this.rlt=void 0;var n=t.match(Aq);if(!n)throw new l("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.rlt=i*yq+e*pq+r*_q+s*bq+u*kq+o}var n=t.prototype;return n.Uvt=function(){return this.rlt},n.slt=function(){return 1e3*this.rlt},T(t,[{key:"rtt",get:function(){return ob.Wb(this.rlt,1e3)}}]),t}();!function(t){t.ult="progressive",t.olt="interlaced",t.vd="unknown"}(mq||(mq={}));var Sq=function(){function t(t,n){this.clt=t,this.hlt=n}return t.prototype.xk=function(){return this.clt/this.hlt},t}(),Eq=/^(?:true|false)$/i,Iq=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function Rq(t){if(void 0!==t)return new Tq(t)}function Cq(t){if(void 0!==t){var n=t.match(Iq);if(!n)throw new l("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(e),w=Number(r)-1,m=Number(s),y=Number(u),_=Number(o),b=Number(a),k=Number("0."+(h||"")),A=g.round(1e3*k);if(c)_-=("-"===c?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(d,w,m,y,_,b,A));if(p(T.getTime()))throw new l("The given value could not be parsed as a valid Date");return T}}function Dq(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[Pq(n[1]),Pq(n[2])]}}function Nq(t){if(void 0!==t){if(!p(Number(t)))try{return vt.fromString(t,!0)}catch(t){}throw new l("The given value could not be parsed as a valid unsigned long")}}function Pq(t){if(void 0!==t){var n=Number(t);if(!p(n))return n;throw new l("The given value could not be parsed as a valid Number")}}function xq(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!p(i)&&!p(e))return new Sq(i,e);throw new l("The given value could not be parsed as a valid frame rate")}}function Bq(t){if(void 0!==t){if(Eq.test(t))return"true"===t.toLowerCase();if(!p(m(t)))return Boolean(m(t));throw new l("The given value could not be parsed as a valid Boolean.")}}function Oq(t){return{hd:t.Fi,flt:Bq(t.Bi("availabilityTimeComplete")),vlt:Pq(t.Bi("availabilityTimeOffset"))}}function Lq(t){return t.map(Oq)}function Mq(t){var n,i,e,r,s,u,o=$q(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),h=dk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Zu(h.Fi)),!u){var c=dk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Xu(t.Fi),i=new _([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new _(s),o=new DataView(s),a=new Jo;Ao(o,a,r),Ao(o,a,1886614376),Ao(o,a,0),mo(o,a,i),Ao(o,a,e),mo(o,a,n),0;return u.buffer}(c))}return{ZE:a,j0:u,Y0:o.Y0,Ai:o.Ai}}function jq(t){return{llt:t.Bi("sourceURL"),bct:Dq(t.Bi("range"))}}function Fq(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=Pq(t.Bi("r"));n.push({Qg:i,Jy:e,dlt:r})}function Uq(t){return{wlt:t.Bi("index"),_lt:Dq(t.Bi("indexRange")),oT:t.Bi("media"),glt:Dq(t.Bi("mediaRange"))}}function Hq(t){var n,i;return Ur({},Vq(t),{ylt:(n=t.Ei("SegmentURL"),(i=n.map(Uq)).length>0?i:void 0),klt:t.Bi("xlink:href"),blt:t.Bi("xlink:actuate")})}function Xq(t){var n=t.map(Hq);return n.length>0?n:void 0}function zq(t){var n=Bq(t.Bi("availabilityTimeComplete")),i=Pq(t.Bi("availabilityTimeOffset")),e=Dq(t.Bi("indexRange")),r=Bq(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?jq(s[0]):void 0,o=Nq(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{flt:n,vlt:i,_lt:e,plt:r,Alt:u,Tlt:o,Slt:1===a.length?jq(a[0]):void 0,Elt:Rq(t.Bi("timeShiftBufferDepth")),Bb:Pq(t.Bi("timescale"))}}function Vq(t){var n=zq(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?jq(i[0]):void 0,r=Pq(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Ur({},n,{Ilt:e,Qg:r,Yvt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)Fq(i[e],n);return n}(s[0]):void 0,Rlt:Pq(t.Bi("startNumber")),Dlt:Pq(t.Bi("endNumber"))})}function Wq(t){return Ur({},Vq(t),{Nlt:t.Bi("bitstreamSwitching"),Clt:t.Bi("index"),Plt:t.Bi("initialization"),Blt:t.Bi("media")})}function qq(t){return{oJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(Pq)):1===n.length?n.map(Pq)[0]:void 0}}(t.Bi("audioSamplingRate")),ZH:t.Bi("codecs"),Olt:Bq(t.Bi("codingDependency")),n1:function(t){if(0!==t.length)return t.map(Mq)}(t.Ei("ContentProtection")),xlt:t.Ei("EssentialProperty").map(Yq),rJ:xq(t.Bi("frameRate")),dT:Pq(t.Bi("height")),Gvt:Pq(t.Bi("maxPlayoutRate")),Llt:Pq(t.Bi("maximumSAPPeriod")),iO:t.Bi("mimeType"),Mlt:t.Bi("profiles"),Ult:t.Bi("sar"),Xlt:function(t){switch(t){case mq.ult:case mq.olt:case mq.vd:return t;default:return}}(t.Bi("scanType")),Flt:t.Bi("segmentProfiles"),Hlt:Pq(t.Bi("startWithSAP")),Bk:Pq(t.Bi("width"))}}function Gq(t){var n=qq(t),i=Pq(t.Bi("bandwidth")),e=Lq(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=Pq(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?zq(a[0]):void 0,c=Xq(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Ur({},n,{HR:i,zlt:e,Vlt:r,H_:s,Wlt:u,Glt:o,qlt:h,Ylt:c,jlt:1===f.length?Wq(f[0]):void 0})}function $q(t){return{Y0:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function Yq(t){return $q(t)}function Qq(t){return $q(t)}function Zq(t){return $q(t)}function Kq(t){var n,i=qq(t),e=function(t){return t.map(Zq)}(t.Ei("Accessibility")),r=Lq(t.Ei("BaseURL")),s=Bq(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=Pq(t.Bi("group")),a=Pq(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.Fi)||"",c=t.Bi("lang"),f=Pq(t.Bi("maxBandwidth")),v=xq(t.Bi("maxFrameRate")),d=Pq(t.Bi("maxHeight")),w=Pq(t.Bi("maxWidth")),g=Pq(t.Bi("minBandwidth")),m=xq(t.Bi("minFrameRate")),y=Pq(t.Bi("minHeight")),p=Pq(t.Bi("minWidth")),_=t.Bi("par"),b=t.Ei("Representation").map(Gq);if(0===b.length)throw new l("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(Qq)}(t.Ei("Role")),A=Bq(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?zq(T[0]):void 0,E=Xq(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,C=1===I.length?Wq(I[0]):void 0,D=Pq(t.Bi("selectionPriority")),N=D||1,P=Bq(t.Bi("subsegmentAlignment"))||!1;try{R=Pq(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Ur({},i,{Qlt:e,zlt:r,Ilt:s,Fl:u,Zlt:o,H_:a,W_:h,G_:c,Klt:f,Jlt:v,$lt:d,tdt:w,ndt:g,idt:m,edt:y,rdt:p,sdt:_,i1:b,udt:k,odt:A,qlt:S,Ylt:E,jlt:C,uN:N,adt:P,cdt:R,hdt:t.Bi("xlink:actuate")||"onRequest",fdt:t.Bi("xlink:href")})}function Jq(t){var n=Nq(t.Bi("presentationTime"))||vt.ZERO,i=Nq(t.Bi("duration")),e=Pq(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Fi;return{xS:n,Qg:i,H_:e,Xi:r,Hi:""!==s.trim()?s:t.Bi("messageData")||""}}function tG(t){return{fdt:t.Bi("xlink:href"),hdt:t.Bi("xlink:actuate"),Y0:t.Bi("schemeIdUri"),Ai:t.Bi("value"),Bb:Pq(t.Bi("timescale")),Tlt:Nq(t.Bi("presentationTimeOffset")),eO:t.Ei("Event").map(Jq)}}function nG(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?$q(i[0]):void 0,r=t.Ei("AdaptationSet").map(Kq),s=Lq(t.Ei("BaseURL")),u=Bq(t.Bi("bitstreamSwitching")),o=Rq(t.Bi("duration")),a=t.Ei("EventStream").map(tG),h=t.Bi("id"),c=n&&Rq(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?zq(f[0]):void 0,d=Xq(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===w.length?Wq(w[0]):void 0,m=Rq(t.Bi("start"));t.Ei("Subset");var y=t.Bi("xlink:href");return{Wvt:r,vdt:e,zlt:s,Ilt:u,Qg:o,ldt:a,H_:h,ddt:c,qlt:v,Ylt:d,jlt:g,MN:m,hdt:t.Bi("xlink:actuate"),fdt:y}}function iG(t){var n=t.Bi("schemeIdUri");if(n)return{Y0:n,Ai:t.Bi("value")}}function eG(t,n){var i=Cq(t.Bi("availabilityEndTime")),e=Cq(t.Bi("availabilityStartTime")),r=Lq(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Fi}),o=Rq(t.Bi("maxSegmentDuration")),a=Rq(t.Bi("maxSubsegmentDuration")),h=Rq(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=Rq(t.Bi("minBufferTime"));if(!c)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=Rq(t.Bi("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(nG(t[i],t[i+1]));return n}(t.Ei("Period"));if(!v.length)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{wdt:i,_dt:e,zlt:r,H_:s,gdt:u,mdt:n,ydt:o,kdt:a,Xvt:h,bdt:c,pdt:f,Mvt:v,Mlt:d,Adt:Cq(t.Bi("publishTime")),Tdt:Rq(t.Bi("suggestedPresentationDelay")),Elt:Rq(t.Bi("timeShiftBufferDepth")),fs:function(t){switch(t){case WW.NE:case WW.CE:return t;default:return}}(t.Bi("type")),Sdt:function(t){for(var n=[],i=0;i<t.length;i++){var e=iG(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var rG,sG=function(){function t(){}return t.prototype.Cht=function(t,n){return function(t,n){if(!t)throw new l("The provided MPEG-DASH document does not contain a valid MPD root element.");return eG(t,n)}(i.ui(t).zi,n)},t}(),uG=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Iu),oG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).z_=void 0,u.My=void 0,u.Edt=void 0,u.H_=n,u.HR=i,u.ZH=e,u.r$=s,u.z_=g_(),u.My=r||"",u.Edt=!0,u}return E(n,t),n.prototype.mE=function(){this.Edt=!1,this.Qs(new uG(this.t_))},T(n,[{key:"W_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Qs(new uG(this.t_)))}},{key:"eJ",get:function(){}},{key:"uJ",get:function(){return this.Edt}}]),n}(Su),aG=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).$w=void 0,c.rJ=u,c.Bk=o,c.dT=a,c.sJ=h,c}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=AO(this)),this.$w}}]),n}(oG),hG=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).$w=void 0,o.oJ=u,o}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=TO(this)),this.$w}}]),n}(oG);!function(t){t.Idt="Rdt",t.Ddt="Ndt"}(rG||(rG={}));var cG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Cdt=function(t){n.Qs(t)},n}return E(n,t),T(n,[{key:"Pdt",get:function(){var t=this.Bdt();return null==t?void 0:t.MN}},{key:"Odt",get:function(){var t=this.Bdt();return null==t?void 0:t.XN}}]),n}(Su);function fG(t){return Z(t.xdt)}var lG=function(t){function n(n,i){var e;if((e=t.call(this)||this).Ldt=void 0,e.$w=void 0,e.x4=void 0,e.Mdt=void 0,e.Udt=void 0,e.Ldt=n,e.x4=i,e.x4.Zs(rG.Idt,e.Cdt),e.fs===o_.Ed){var r,s,u=null!=(r=null==(s=e.rJ)?void 0:s.xk())?r:NaN;e.Mdt=new aG(e.H_,e.HR,e.$e,"","",u,e.Bk,e.dT)}else e.fs===o_.Sd?e.Mdt=new hG(e.H_,e.HR,e.$e,"","",e.oJ):e.Mdt=void 0;return e}E(n,t);var i=n.prototype;return i.nlt=function(t){var n=fG(t)?this.x4.Xdt(t):this.x4.nlt(t);return{hd:n.hd,bct:n.bct,Pd:this.Fdt.Pd}},i.Hdt=function(){return this.x4.Hdt()},i.Bdt=function(){return this.x4.Bdt()},i.zdt=function(){return this.x4.zdt()},i.Zvt=function(t){return this.x4.Zvt(t)},i.Kvt=function(t,n,i){return this.x4.Kvt(t,this.Fdt.Pd,n,i)},i.Vdt=function(t){return fG(t)?this.Yvt.Wdt(t):this.Yvt.Vdt(t)},i.Gdt=function(t){return fG(t)?this.Yvt.qdt(t):this.Yvt.Gdt(t)},i.xd=function(){this.x4.tu(rG.Idt,this.Cdt)},T(n,[{key:"Ydt",get:function(){return this.Ldt}},{key:"oJ",get:function(){var t;return null!=(t=this.x4.Hi.oJ)?t:this.Ydt.oJ}},{key:"HR",get:function(){return this.x4.Hi.HR||0}},{key:"ZH",get:function(){var t=this.x4.Hi;return t.ZH?[t.ZH]:this.Ydt.ZH}},{key:"jdt",get:function(){var t=this.x4.Hi;return t.ZH?[t.ZH]:[]}},{key:"$e",get:function(){return this.x4.Hi.ZH||this.Ydt.$e}},{key:"Olt",get:function(){return this.x4.Hi.Olt||this.Ydt.Olt}},{key:"n1",get:function(){return this.x4.Hi.n1||this.Ydt.n1}},{key:"Fl",get:function(){return this.iO+'; codecs="'+this.$e+'"'}},{key:"xlt",get:function(){var t=this.x4.Hi;return t.xlt.length?t.xlt:this.Ydt.xlt}},{key:"t_",get:function(){return this.$w||(this.$w=(t=this,{get id(){return t.H_},get type(){return t.fs},get bandwidth(){return t.HR},get width(){return t.Bk},get height(){return t.dT},get frameRate(){var n,i;return null!=(n=null==(i=t.rJ)?void 0:i.xk())?n:NaN},get audioSamplingRate(){return t.oJ}}));var t}},{key:"rJ",get:function(){var t;return null!=(t=this.x4.Hi.rJ)?t:this.Ydt.rJ}},{key:"dT",get:function(){return this.x4.Hi.dT||this.Ydt.dT}},{key:"H_",get:function(){return this.x4.Hi.H_||""}},{key:"Qdt",get:function(){return this.Udt},set:function(t){this.Udt=t}},{key:"Dct",get:function(){var t=this.x4.Zdt();if(t)return{hd:t.hd,bct:t.bct,Pd:this.Fdt.Pd}}},{key:"Gvt",get:function(){return this.x4.Hi.Gvt||this.Ydt.Gvt||1}},{key:"Llt",get:function(){return this.x4.Hi.Llt||this.Ydt.Llt}},{key:"Fdt",get:function(){return this.ilt.Fdt}},{key:"iO",get:function(){return this.x4.Hi.iO||this.Ydt.iO}},{key:"ilt",get:function(){return this.Ydt.ilt}},{key:"Mlt",get:function(){return this.x4.Hi.Mlt||this.Ydt.Mlt}},{key:"v$",get:function(){return this.Mdt}},{key:"Ult",get:function(){return this.x4.Hi.Ult||this.Ydt.Ult}},{key:"Xlt",get:function(){return this.x4.Hi.Xlt||this.Ydt.Xlt}},{key:"Kdt",get:function(){return this.x4.Kdt}},{key:"Flt",get:function(){return this.x4.Hi.Flt||this.Ydt.Flt}},{key:"Yvt",get:function(){return this.x4.Yvt}},{key:"Hlt",get:function(){return this.x4.Hi.Hlt||this.Ydt.Hlt}},{key:"fs",get:function(){var t=this.iO.split("/")[0];return"application"===t||"text"===t||qk(this.iO,this.ZH)?o_.$n:"video"===t?o_.Ed:"audio"===t?o_.Sd:"image"===t?o_.Id:o_.vd}},{key:"Bk",get:function(){return this.x4.Hi.Bk||this.Ydt.Bk}}]),n}(cG),vG=function(t){function n(n,i){var e;return(e=t.call(this)||this).Jdt=[],e.x4=void 0,e.$dt=void 0,e.twt=[],e.$dt=n,e.x4=i,e.x4.Zs(rG.Idt,e.Cdt),e}E(n,t);var i=n.prototype;return i.qc=function(t,n){var i,e=this;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.twt.length){r.next=6;break}return this.twt=[],i=this.x4.i1.map(function(i){return e.nwt(i,t,n)}),r.next=5,Fr.awrap(qe.all(i));case 5:this.twt=r.sent.filter(H);case 6:this.iwt();case 7:case"end":return r.stop()}},null,this,null,qe)},i.nwt=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new lG(this,t),s.next=3,Fr.awrap(n(e));case 3:if(r=s.sent,fu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,qe)},i.iwt=function(){if(!this.twt.length)throw new l("Detected an AdaptationSet without any supported Representations.")},i.Bdt=function(){return this.x4.Bdt()},i.zdt=function(){return this.x4.zdt()},i.xd=function(){this.x4.tu(rG.Idt,this.Cdt);for(var t=0,n=this.twt;t<n.length;t++){n[t].xd()}Ks(this.twt)},T(n,[{key:"Qlt",get:function(){return this.x4.Hi.Qlt}},{key:"oJ",get:function(){var t;return null!=(t=this.x4.Hi.oJ)?t:-1}},{key:"ZH",get:function(){if(this.x4.Hi.ZH)return[this.x4.Hi.ZH];for(var t=[],n=0,i=this.i1;n<i.length;n++){var e=i[n];e.jdt.length&&-1===t.indexOf(e.$e)&&t.push(e.$e)}return t}},{key:"$e",get:function(){return this.ZH.join()}},{key:"Olt",get:function(){return this.x4.Hi.Olt}},{key:"n1",get:function(){return this.x4.Hi.n1}},{key:"Fl",get:function(){return this.iO+'; codecs="'+this.$e+'"'}},{key:"xlt",get:function(){return this.Jdt}},{key:"rJ",get:function(){return this.x4.Hi.rJ}},{key:"Zlt",get:function(){return this.x4.Hi.Zlt}},{key:"dT",get:function(){return this.x4.Hi.dT||0}},{key:"H_",get:function(){return this.x4.Hi.H_}},{key:"W_",get:function(){return this.x4.Hi.W_||""}},{key:"Gvt",get:function(){return this.x4.Hi.Gvt}},{key:"Llt",get:function(){return this.x4.Hi.Llt}},{key:"Fdt",get:function(){return this.ilt.Fdt}},{key:"iO",get:function(){return this.x4.Hi.iO||this.twt[0].iO}},{key:"ilt",get:function(){return this.$dt}},{key:"Mlt",get:function(){return this.x4.Hi.Mlt}},{key:"i1",get:function(){return this.twt}},{key:"udt",get:function(){return this.x4.Hi.udt||[]}},{key:"Ult",get:function(){return this.x4.Hi.Ult}},{key:"Xlt",get:function(){return this.x4.Hi.Xlt}},{key:"Flt",get:function(){return this.x4.Hi.Flt}},{key:"uN",get:function(){return this.x4.Hi.uN}},{key:"Hlt",get:function(){return this.x4.Hi.Hlt}},{key:"fs",get:function(){var t=(this.x4.Hi.Fl||this.iO).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||qk(this.iO,this.ZH)?o_.$n:"video"===t?o_.Ed:"audio"===t?o_.Sd:"image"===t?o_.Id:o_.vd}},{key:"Bk",get:function(){return this.x4.Hi.Bk||0}},{key:"irt",get:function(){return this.x4.Hi.G_||""}},{key:"ewt",get:function(){return this.Pdt}},{key:"rwt",get:function(){var t=this.ewt,n=this.Odt;if(void 0!==t&&void 0!==n){var i=g.min(n,this.Fdt.swt);return g.max(t,i)}}}]),n}(cG);function dG(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var wG=function(){function t(t,n){this.$dt=void 0,this.uwt=void 0,this.ra=void 0,this.owt=void 0,this.awt=void 0,this.$dt=t,this.uwt=n,this.ra=n.Bb,this.owt=n.vlt,this.awt=n.Tlt}var n=t.prototype;return n.cwt=function(t){var n=t-this.$dt.MN;if(!(n<0||n>=this.$dt.Qg)){var i=this.hwt();return void 0!==i&&Ut(i,n,1e-5)?this.Qvt():this.fwt(n)}},n.vwt=function(t){var n=t-this.$dt.MN;if(!(n<0))return this.lwt(g.min(n,this.$dt.Qg))},n.Qvt=function(){return this.dwt(0)},n.tlt=function(){var t=this.$dt.Qg;if(isFinite(t))return this.lwt(t)},n.Hdt=function(t){if(this.$dt.wwt.fs===WW.CE){var n=this._wt(t);if(!n)return;return{gwt:t,mwt:this.ywt(t),kwt:n}}var i=this.Qvt();if(i)return{gwt:t,mwt:i,kwt:this.tlt()}},n.zdt=function(t,n){if(n){var i=this.bwt(n.mwt),e=this.$vt(n.kwt);if(e){var r=this.pwt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Qvt();if(s){var u=this.pwt(s);if(t.getTime()<u.getTime())return u}var o=this.$dt.wwt._dt;return t.getTime()<o.getTime()?o:void 0},n._wt=function(t){var n=(t.getTime()-this.$dt.wwt._dt.getTime())/1e3-this.$dt.MN+this.owt,i=this.lwt(Ft(n,0,this.$dt.Qg));if(i&&(i=this.Awt(i,t))){for(var e=this.$vt(i);e&&this.Twt(e,t);)i=e,e=this.$vt(i);return i}},n.ywt=function(t){var n,i=this.uwt.Elt;if(i){var e=(t.getTime()-this.$dt.wwt._dt.getTime())/1e3-this.$dt.MN-i.Uvt();(n=this.lwt(Ft(e,0,this.$dt.Qg)))||(n=this.Qvt())}else n=this.Qvt();if(n&&(n=this.Awt(n,t))){for(var r=this.Swt(n);r&&this.Twt(r,t);)n=r,r=this.Swt(n);return n}},n.Awt=function(t,n){for(var i=t;i&&this.pwt(i).getTime()>n.getTime();)i=this.Swt(i);if(i){var e=this.bwt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Swt(i);for(r&&this.Twt(r,n)&&(i=r);i;){if(this.pwt(i).getTime()>n.getTime())return;if(this.Twt(i,n))break;i=this.$vt(i)}if(!i)return}return i}},n.Twt=function(t,n){if(this.pwt(t).getTime()>n.getTime())return!1;var i=this.bwt(t);return!(i&&n.getTime()>=i.getTime())},n.Ewt=function(t,n){if(this.Iwt(t).getTime()>n.getTime())return!1;var i=this.bwt(t);return!(i&&n.getTime()>=i.getTime())},n.Rwt=function(t,n,i){var e=Qt(n,this.ra)+this.$dt.MN;return{wlt:t,Dwt:n,Jy:e,Qg:i,$y:e+i}},n.Iwt=function(t){return this.$dt.wwt.fs===WW.CE?new Date(this.$dt.wwt._dt.getTime()+1e3*(t.Jy+t.Qg)):this.$dt.wwt._dt},n.pwt=function(t){var n=this.Iwt(t);return this.$dt.wwt.fs===WW.CE?new Date(n.getTime()-1e3*this.owt):n},n.bwt=function(t){var n=1/0;if(this.$dt.wwt.fs===WW.CE){var i=this.uwt.Elt;i&&(n=this.Iwt(t).getTime()+1e3*t.Qg+i.slt())}var e=this.$dt.wwt.wdt;return e&&(n=g.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Nwt=function(t,n){return t.wlt+n},n.Zvt=function(t){return!1},n.Kvt=function(t,n,i,e,r){var s=this.Cwt(t);if(!s)return qe.reject(new l("Invalid segment"));var u=this.Pwt(s.wlt);return u?qe.resolve(u):this.Bwt(s.wlt,n,i,e,r)},n.Pwt=function(t){},n.Bwt=function(t,n,i,e,r){return qe.reject(new l("Not supported"))},n.Swt=function(t){var n=this.Cwt(t);if(n)return this.dwt(n.wlt-1)},n.$vt=function(t){var n=this.Cwt(t);if(n)return this.dwt(n.wlt+1)},n.Cwt=function(t){var n=this.dwt(t.wlt);if(n&&n.Jy===t.Jy)return n;var i=this.cwt(t.Jy);return i&&i.Jy===t.Jy?i:void 0},n.Owt=function(t){var n=this.xwt(t);if(n&&this.Zvt(n.wlt)){var i=this.Pwt(n.wlt);if(i)return i.Owt(t)}},n.xwt=function(t){return this.dwt(t.Lwt)},n.Vdt=function(t){var n=this.Cwt(t);return!!n&&0===n.wlt},n.Wdt=function(t){var n=this.Owt(t);return!!n&&0===n.xdt},n.Gdt=function(t){var n=this.Cwt(t);if(!n)return!1;var i=this.tlt();return!!i&&n.wlt===i.wlt},n.qdt=function(t){var n=this.Owt(t);if(!n)return!1;var i=this.tlt();if(!i||n.Lwt!==i.wlt)return!1;var e=this.Pwt(n.Lwt);return n.xdt+1===e.C_},T(t,[{key:"fp",get:function(){return this.$dt.MN-Qt(this.awt,this.ra)}},{key:"Tlt",get:function(){return Qt(this.awt,this.ra)}}]),t}(),gG=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Mwt=void 0,e.Uwt=void 0;var r=n.Xwt,s=n.Qg;if(void 0===r||void 0===s)throw new l("MultipleSegmentBase does not have a segment duration specified.");return e.Uwt=r,e.Mwt=s,e}E(n,t);var i=n.prototype;return i.dwt=function(t){if(!(t<0)){var n=this.Uwt.multiply(t),i=Qt(n,this.ra),e=this.$dt.Qg;if(!(i>=e)){var r=this.Fwt();if(void 0!==r){if(t>r)return;if(t===r)return this.Rwt(t,n,e-i)}return isFinite(e)&&i+this.Mwt>e?this.Rwt(t,n,e-i):this.Rwt(t,n,this.Mwt)}}},i.hwt=function(){return 0},i.fwt=function(t){var n=g.floor(t/this.Mwt),i=this.Fwt();return void 0!==i&&n>=i?this.dwt(i):this.dwt(n)},i.lwt=function(t){if(t>=this.$dt.Qg){var n=g.ceil(this.$dt.Qg/this.Mwt)-1,i=this.Fwt();return void 0!==i&&n>=i?this.dwt(i):this.dwt(n)}return this.fwt(t)},i.Fwt=function(){var t,n=this.uwt.Dlt;if(void 0!==n)return n-(null!=(t=this.uwt.Rlt)?t:1);if(isFinite(this.$dt.Qg)){var i=this.uwt.Hwt;if(void 0!==i&&i>0)return i-1}},i.zwt=function(){if(isFinite(this.$dt.Qg))return this.tlt()},i.Vwt=function(t,n){return this.Uwt.multiply(t.wlt+(n-1))},i.qc=function(){},n}(wG);function mG(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Jy,u=t[r].$y;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+g.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Jy,c=o+1<i?t[o+1].Jy:a.$y;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var yG=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).d3=[],e.Wwt=void 0,e.Zet=vt.ZERO,e.qc(),e}E(n,t);var i=n.prototype;return i.dwt=function(t){if(!(t<0))return t<this.d3.length?this.d3[t].w8:this.Gwt(t-this.d3.length)},i.hwt=function(){if(this.d3.length>0)return Qt(this.d3[0].Jy,this.ra)},i.fwt=function(t){if(this.Wwt&&Qt(this.Wwt.Jy,this.ra)<=t){var n=Qt(this.Wwt.Jy,this.ra),i=Qt(this.Wwt.Qg,this.ra),e=g.floor((t-n)/i);return this.Gwt(e)}if(this.d3.length>0&&Ut(t,Qt(this.d3[0].Jy,this.ra),1e-5))return this.d3[0].w8;var r=mG(this.d3,vt.fromNumber(t*this.ra));return r<0?void 0:this.d3[r].w8},i.lwt=function(t){if(!this.Wwt&&this.d3.length>0){var n=this.d3[this.d3.length-1];if(i=t,e=Qt(n.$y,this.ra),zs(i,e,1e-5)>=0)return n.w8}var i,e,r=this.hwt();return r&&t<r?this.d3[0].w8:this.fwt(t)},i.zwt=function(){return isFinite(this.$dt.Qg)?this.tlt():this.dwt(this.d3.length-1)},i.Vwt=function(t){return this.qwt(t)},i.Gwt=function(t){if(this.Wwt){var n=this.Wwt.Jy,i=this.Wwt.Qg,e=n.add(i.multiply(t)),r=Qt(e,this.ra),s=this.$dt.Qg;if(!(r>=s)){var u=this.d3.length+t,o=g.min(Qt(i,this.ra),r+s);return this.Rwt(u,e,o)}}},i.qwt=function(t){return t.Dwt.add(this.awt)},i.qc=function(){var t=this.uwt.Hi.Yvt;if(!t)throw new l("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.C3(t)},i.C3=function(t){var n=this.awt;this.Ywt(t,n);var i=this.jwt(t);this.Qwt(t,n,i.Zwt,i.Lwt)},i.Ywt=function(t,n){var i=this.d3;if(0===t.length)Ks(i);else{for(var e=t[0],r=e.Jy?vt.fromString(e.Jy,!1).subtract(n):vt.ZERO,s=0;s<i.length&&i[s].Jy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.jwt=function(t){for(var n=this.d3,i=this.Zet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].dlt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Jy.greaterThanOrEqual(i))break;if(n[r].w8.wlt===r)r=u+1;else for(;r<=u;)n[r].w8.wlt=r,r++;0,e++}return{Zwt:e,Lwt:r}},i.Qwt=function(t,n,i,e){for(var r,s=this.d3,u=i,o=e;u<t.length;){var a=t[u],h=vt.fromString(a.Qg,!1),c=a.dlt||0,f=void 0;if(a.Jy){if(f=vt.fromString(a.Jy,!1).subtract(n),o>0){var l=s[o-1];l.$y.greaterThan(f)&&(l.Qg=f.subtract(l.Jy),l.$y=l.Jy.add(l.Qg))}}else f=o>0?s[o-1].$y:vt.ZERO;if(c<0){if(u+1===t.length){r={Jy:f,Qg:h};break}for(var v=vt.fromString(t[u+1].Jy,!1).subtract(n);f.lessThan(v);){var d=f.add(h);this.Kwt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var g=f.add(h);this.Kwt(s,o,f,h,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Zet=s[s.length-1].Jy),this.Wwt=r},i.Kwt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Qg.equals(e)?s.w8.wlt=n:t[n]={Jy:i,Qg:e,$y:r,w8:this.Rwt(n,i,Qt(e,this.ra))}}else t.push({Jy:i,Qg:e,$y:r,w8:this.Rwt(n,i,Qt(e,this.ra))})},n}(wG),pG=function(){function t(t,n,i){this.ilt=void 0,this.Jwt=void 0,this.Gi=void 0,this.$wt=void 0,this.t_t=void 0,this.ilt=t,this.Jwt=n,this.Gi=i}var n=t.prototype;return n.n_t=function(){if(this.t_t=this.i_t(),this.t_t)return this.t_t;if(this.Jwt)return this.Jwt.Yvt;throw new l("Missing media segment information.")},n.Zdt=function(t){var n=this.Alt;if(n)return{hd:(void 0!==n.llt?i.Br(n.llt,t.zlt[0]):t.zlt[0]).href,bct:n.bct};var e=this._lt;return e?{hd:t.zlt[0].href,bct:[0,e[0]-1]}:void 0},n.qc=function(t){this.Gi=t,this.t_t&&this.t_t.qc()},T(t,[{key:"Hi",get:function(){return this.Gi}},{key:"vlt",get:function(){return this.Gi&&void 0!==this.Gi.vlt?this.Gi.vlt:this.Jwt?this.Jwt.vlt:0}},{key:"Tlt",get:function(){return this.Gi&&void 0!==this.Gi.Tlt?this.Gi.Tlt:this.Jwt?this.Jwt.Tlt:vt.ZERO}},{key:"Elt",get:function(){return this.Gi&&void 0!==this.Gi.Elt?this.Gi.Elt:this.Jwt?this.Jwt.Elt:this.ilt.wwt.Elt}},{key:"Bb",get:function(){return this.Gi&&void 0!==this.Gi.Bb?this.Gi.Bb:this.Jwt&&this.Jwt.Bb?this.Jwt.Bb:1}},{key:"_lt",get:function(){return this.Gi&&void 0!==this.Gi._lt?this.Gi._lt:this.Jwt?this.Jwt._lt:void 0}},{key:"Alt",get:function(){return this.Gi&&void 0!==this.Gi.Alt?this.Gi.Alt:this.Jwt?this.Jwt.Alt:void 0}},{key:"Yvt",get:function(){return this.$wt||(this.$wt=this.n_t()),this.$wt}}]),t}(),_G=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.i_t=function(){return this.Gi.Yvt?new yG(this,this.ilt):void 0!==this.Gi.Qg?new gG(this,this.ilt):void 0},T(n,[{key:"Qg",get:function(){return void 0!==this.Gi.Qg?this.Gi.Qg/this.Bb:this.Jwt&&this.Jwt instanceof n?this.Jwt.Qg:void 0}},{key:"Xwt",get:function(){return void 0!==this.Gi.Qg?vt.fromNumber(this.Gi.Qg):this.Jwt&&this.Jwt instanceof n?this.Jwt.Xwt:void 0}},{key:"Rlt",get:function(){return void 0!==this.Gi.Rlt?this.Gi.Rlt:this.Jwt&&this.Jwt instanceof n?this.Jwt.Rlt:void 0}},{key:"Dlt",get:function(){return void 0!==this.Gi.Dlt?this.Gi.Dlt:this.Jwt&&this.Jwt instanceof n?this.Jwt.Dlt:void 0}}]),n}(pG),bG=function(){function t(t){this.e_t=void 0,this.e_t=t}return t.prototype.Wu=function(t){return this.e_t.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Is(u,Number(e),"0")})},t}();var kG=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).r_t=void 0,r.s_t=void 0,r.r_t=e.Plt?new bG(e.Plt):void 0,r.s_t=e.Blt?new bG(e.Blt):void 0,r}E(n,t);var e=n.prototype;return e.Zdt=function(n){var e=this.Plt;if(!e)return t.prototype.Zdt.call(this,n);var r=e.Wu({Bandwidth:n.Hi.HR,RepresentationID:n.Hi.H_});return{hd:i.Or(r,n.zlt[0])}},e.nlt=function(t,n){var e,r=null!=(e=n.Kdt.Rlt)?e:1,s=this.Blt.Wu({Bandwidth:n.Hi.HR,Number:n.Yvt.Nwt(t,r),RepresentationID:n.Hi.H_,Time:n.Yvt.Vwt(t,r)});return{hd:i.Or(s,n.zlt[0])}},e.Xdt=function(t,n){},T(n,[{key:"Plt",get:function(){return this.r_t?this.r_t:this.Jwt&&this.Jwt instanceof n?this.Jwt.Plt:void 0}},{key:"Blt",get:function(){return this.s_t?this.s_t:this.Jwt&&this.Jwt instanceof n?this.Jwt.Blt:void 0}},{key:"Hwt",get:function(){}}]),n}(_G),AG=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.nlt=function(t,n){var e=this.Gi.ylt[t.wlt],r=n.zlt[0];return{hd:(e.oT?i.Br(e.oT,r):r).href,bct:e.glt}},e.Xdt=function(t,n){},T(n,[{key:"Hwt",get:function(){return void 0!==this.Gi.ylt?this.Gi.ylt.length:this.Jwt&&this.Jwt instanceof _G?this.Jwt.Hwt:void 0}}]),n}(_G),TG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Lwt=void 0,u.R5=void 0,u.Bb=void 0,u.u_t=void 0,u.Tlt=void 0,u.o_t=void 0,u.Lwt=n,u.R5=i,u.Bb=e.Bb,u.u_t=r,u.Tlt=s,u.o_t=u.a_t(e),u}E(n,t);var i=n.prototype;return i.Jvt=function(t){if(t>=0&&t<this.C_)return this.c_t(this.o_t[t])},i.h_t=function(t){var n=this.f_t(t);if(this.o_t.length>0){var i=this.o_t[0];if(n<=Qt(i.Jy,this.Bb))return this.c_t(i)}var e=mG(this.o_t,vt.fromNumber(n*this.Bb));if(!(e<0))return this.c_t(this.o_t[e])},i.v_t=function(t){var n=this.f_t(t);if(this.o_t.length>0){var i=this.o_t[this.o_t.length-1];if(n>=Qt(i.$y,this.Bb))return this.c_t(i)}return this.h_t(t)},i.c_t=function(t){var n=Qt(t.Jy,this.Bb)-this.Tlt,i=n+this.u_t,e=Qt(t.Qg,this.Bb);return{Lwt:this.Lwt,xdt:t.wlt,Jy:i,Dwt:vt.fromNumber(n*this.Bb),Qg:e,$y:i+e,OJ:[this.R5+t.R5,this.R5+t.D5]}},i.a_t=function(t){for(var n=[],i=t.ZS,e=t.KS.toNumber(),r=0,s=0,u=t.$S;s<u.length;s++){var o=u[s],a=o.GS,h=vt.fromNumber(o.Qg),c=i.add(h);0===o.WS&&n.push({wlt:r++,Jy:i,Qg:h,$y:c,R5:e,D5:e+a-1}),e+=a,i=c}return n},i.f_t=function(t){return t-this.u_t+this.Tlt},T(n,[{key:"C_",get:function(){return this.o_t.length}}]),n}(function(){function t(){}return t.prototype.Owt=function(t){var n=this.Jvt(t.xdt);if(n&&n.Jy===t.Jy)return n;var i=this.h_t(t.Jy);return i&&i.Jy===t.Jy?i:void 0},t}()),SG=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).l_t=void 0,e.d_t=void 0,e.w_t=void 0,e.l_t=n._lt,e.d_t=e.Rwt(0,vt.ZERO,e.$dt.Qg),e}E(n,t);var i=n.prototype;return i.dwt=function(t){if(0===t)return this.d_t},i.hwt=function(){return 0},i.fwt=function(t){return this.d_t},i.lwt=function(t){return this.fwt(t)},i.zwt=function(){return this.d_t},i.Vwt=function(t,n){return vt.ZERO},i.Hdt=function(t){var n=this.__t(t);return n&&{gwt:t,mwt:n,kwt:n}},i.__t=function(t){var n=this.d_t;return this.Twt(n,t)?n:void 0},i._wt=function(t){return this.__t(t)},i.ywt=function(t){return this.__t(t)},i.qc=function(){},i.Zvt=function(t){return 0===t&&void 0!==this.l_t},i.Pwt=function(t){return this.w_t},i.Bwt=function(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.zlt[0].href,u=this.l_t,a.next=4,Fr.awrap(e.g_t(s,u,i,r));case 4:return o=a.sent,this.w_t=this.m_t(t,o),a.abrupt("return",this.w_t);case 7:case"end":return a.stop()}},null,this,null,qe)},i.m_t=function(t,n){var i=this.l_t,e=rk.IA(new DataView(n),new Jo);if(e.fs!==vb.$p)throw new l("Invalid segment index");var r=hk.YA(e.Hi),s=i[1]+1;return new TG(t,s,r,this.$dt.MN,Qt(this.awt,this.ra))},n}(wG),EG=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.nlt=function(t,n){return{hd:n.zlt[0].href}},i.Xdt=function(t,n){return{hd:n.zlt[0].href,bct:t.OJ}},i.i_t=function(){return new SG(this,this.ilt)},T(n,[{key:"Rlt",get:function(){}}]),n}(pG),IG=function(t){function n(){return t.call(this,rG.Idt)||this}return E(n,t),n}(Iu);var RG=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ow=void 0,r.Gi=void 0,r.y_t=void 0,r.uwt=void 0,r.k_t=1/0,r.b_t=void 0,r.Ow=i,r.p_t(n,e),r}E(n,t);var i=n.prototype;return i.A_t=function(){return this.uwt||this.Ow&&this.Ow.A_t()},i.T_t=function(t){var n=this.ilt,i=this.Ow&&this.Ow.A_t();this.Gi.jlt?this.uwt=new kG(n,i,this.Gi.jlt):this.Gi.Ylt?this.uwt=new AG(n,i,this.Gi.Ylt[0]):this.Gi.qlt?this.uwt=new EG(n,i,this.Gi.qlt):t&&!i&&(this.uwt=new EG(n,i,void 0))},i.p_t=function(t,n){this.Gi=t,this.y_t=t.zlt&&t.zlt.length>0?dG(t.zlt.map(function(t){return t.hd}),n):n.slice(),this.uwt&&(t.jlt?this.uwt.qc(t.jlt):t.Ylt?this.uwt.qc(t.Ylt[0]):t.qlt&&this.uwt.qc(t.qlt))},i.Bdt=function(){var t;return null==(t=this.b_t)?void 0:t.S_t},i.zdt=function(){var t;return null==(t=this.b_t)?void 0:t.E_t},i.I_t=function(t){var n=this.k_t,i=this.ilt.Qg,e=this.b_t,r=this.R_t(t);e&&Ut(i,n,1e-5)&&PG(e,r)||(this.k_t=i,this.b_t=r,this.Qs(new IG))},i.xs=function(){this.$s()},T(n,[{key:"Hi",get:function(){return this.Gi}},{key:"zlt",get:function(){return this.y_t}}]),n}(Su);function CG(t){for(var n,i=0;i<t.length;i++){var e=t[i].Bdt();if(e){n=e.MN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Bdt();if(u){r=u.XN;break}}if(void 0!==r)return{MN:n,XN:r}}}function DG(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Bdt();if(!r)return;if((n=g.max(n,r.MN))>=(i=g.min(i,r.XN)))return}return{MN:n,XN:i}}}function NG(t){for(var n,i=0;i<t.length;i++){var e=t[i].zdt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function PG(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.E_t,n.E_t)&&function(t,n){return t&&n?Ut(t.MN,n.MN,1e-5)&&Ut(t.XN,n.XN,1e-5):t===n}(t.S_t,n.S_t)}var xG=function(t){function n(n,i,e){var r;(r=t.call(this)||this).$dt=void 0,r.Cc=void 0,r.D_t=void 0,r.$dt=n,r.Cc=i,r.D_t=e.slice();for(var s=0;s<e.length;s++){e[s].Zs(rG.Idt,r.Cdt)}return r}E(n,t);var i=n.prototype;return i.Bdt=function(){return DG(this.D_t)},i.zdt=function(){for(var t,n=0,i=this.D_t;n<i.length;n++){var e=i[n].zdt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.xd=function(){this.$s();for(var t=0,n=this.D_t;t<n.length;t++){n[t].tu(rG.Idt,this.Cdt)}},T(n,[{key:"Wvt",get:function(){return this.D_t}},{key:"ZH",get:function(){return this.Wvt.reduce(function(t,n){for(var i=0,e=n.ZH;i<e.length;i++){var r=e[i];Qs(t,r)||t.push(r)}return t},[])}},{key:"$e",get:function(){return this.ZH.length>0?this.ZH[0]:""}},{key:"fs",get:function(){return this.D_t[0].fs}},{key:"H_",get:function(){return this.Cc}},{key:"Fdt",get:function(){return this.$dt.Fdt}},{key:"iO",get:function(){return this.D_t[0].iO}},{key:"ilt",get:function(){return this.$dt}},{key:"i1",get:function(){return tu(this.Wvt,function(t){return t.i1})}}]),n}(cG),BG=function(t){function n(){return t.call(this,rG.Ddt)||this}return E(n,t),n}(Iu);function OG(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Zlt;void 0===s||(r=Ws(n,function(t){return t.H_===s})),r||(r={H_:s,Wvt:[]},n.push(r)),r.Wvt.push(e)},e=0;e<t.length;e++)i(e);return n}var LG,MG=function(t){function n(n,i){var e;return(e=t.call(this)||this).x4=void 0,e.D_t=[],e.N_t=[],e.C_t=void 0,e.P_t=!1,e.C_t=n,e.x4=i,e.x4.Zs(rG.Idt,e.Cdt),e}E(n,t);var i=n.prototype;return i.B_t=function(t,n){if(0!==this.N_t.length){for(var i=t,e=0,r=this.N_t;e<r.length;e++){var s=r[e],u=s.fs;if(u===o_.Sd||u===o_.Ed){var o=s.Odt;if(void 0===o)return;i=n(i,o)}}return i}},i.O_t=function(){this.P_t||(this.P_t=!0,this.Qs(new BG),this.xd())},i.qc=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.D_t.length){i.next=7;break}return i.next=3,Fr.awrap(this.x_t(this.x4.Wvt,t,n));case 3:this.L_t(this.D_t),fu(n),i.next=9;break;case 7:return i.next=9,Fr.awrap(this.M_t(t,n));case 9:case"end":return i.stop()}},null,this,null,qe)},i.x_t=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new vG(this,r),u.prev=4,u.next=7,Fr.awrap(s.qc(n,i));case 7:this.D_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),lu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],qe)},i.L_t=function(t){for(var n=OG(t),i=0;i<n.length;i++){var e=n[i],r=new xG(this,e.H_,e.Wvt);this.N_t.push(r)}},i.M_t=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.D_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Fr.awrap(r.qc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,qe)},i.Bdt=function(){return this.x4.Bdt()},i.zdt=function(){return this.x4.zdt()},i.xd=function(){this.$s(),this.x4.tu(rG.Idt,this.Cdt);for(var t=0,n=this.N_t;t<n.length;t++){n[t].xd()}for(var i=0,e=this.D_t;i<e.length;i++){e[i].xd()}Ks(this.D_t),Ks(this.N_t)},T(n,[{key:"Wvt",get:function(){return this.D_t}},{key:"zvt",get:function(){return this.N_t}},{key:"vdt",get:function(){return this.x4.Hi.vdt}},{key:"Qg",get:function(){return this.x4.Qg}},{key:"XN",get:function(){return this.MN+this.Qg}},{key:"ldt",get:function(){return this.x4.Hi.ldt||[]}},{key:"H_",get:function(){return this.x4.H_}},{key:"Ndt",get:function(){return this.P_t}},{key:"Fdt",get:function(){return this.C_t}},{key:"U_t",get:function(){return this.C_t.X_t(this)}},{key:"ilt",get:function(){return this}},{key:"F_t",get:function(){return this.C_t.H_t(this)}},{key:"z_t",get:function(){return this.B_t(1/0,g.min)}},{key:"V_t",get:function(){return this.B_t(0,g.max)}},{key:"MN",get:function(){return this.x4.MN}},{key:"Pd",get:function(){return this.Fdt.Pd}}]),n}(cG),jG=function(t){function n(){return t.call(this,Pf.pf)||this}return E(n,t),n}(Iu);!function(t){t.W_t="G_t"}(LG||(LG={}));var FG=function(t){function n(){return t.call(this,LG.W_t)||this}return E(n,t),n}(Iu),UG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.zlt)||this).Ldt=void 0,e.q_t=void 0,e.Ldt=i,e.T_t(!0),e}E(n,t);var i=n.prototype;return i.Zvt=function(t){return!!Hc(this.iO)&&this.Yvt.Zvt(t.wlt)},i.Kvt=function(t,n,i,e){return this.Yvt.Kvt(t,this,n,i,e)},i.Zdt=function(){return this.Kdt.Zdt(this)},i.nlt=function(t){return this.Kdt.nlt(t,this)},i.Xdt=function(t){return this.Kdt.Xdt(t,this)},i.Hdt=function(){return this.q_t},i.R_t=function(t){var n=this.Yvt,i=n.Hdt(t),e=i&&function(t,n){var i,e=t.mwt,r=t.kwt,s=t.gwt,u=e.Jy,o=n.Iwt(r);if(o.getTime()<=s.getTime())i=r.$y;else{var a=(o.getTime()-s.getTime())/1e3,h=g.max(r.Qg-a,0);i=r.Jy+h}return{MN:u,XN:i}}(i,n),r=this.Yvt.zdt(t,i);return this.q_t=i,{gwt:t,S_t:e,E_t:r}},i.qc=function(t){this.p_t(t,this.Ldt.zlt)},T(n,[{key:"Ydt",get:function(){return this.Ldt}},{key:"ilt",get:function(){return this.Ldt.ilt}},{key:"wwt",get:function(){return this.Ldt.wwt}},{key:"iO",get:function(){return this.Gi.iO||this.Ldt.iO}},{key:"Kdt",get:function(){return this.A_t()}},{key:"Yvt",get:function(){return this.Kdt.Yvt}}]),n}(RG),HG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.zlt)||this).$dt=void 0,e.twt=void 0,e.$dt=i,e.T_t(!1),e.twt=n.i1.map(function(t){return new UG(t,Jt(e))}),e}E(n,t);var i=n.prototype;return i.qc=function(t){this.p_t(t,this.$dt.zlt);var n=t.i1||[];if(this.twt.length!==n.length)throw new l("Expected "+this.twt.length+' representations in adaptation set "'+t.H_+'", found '+n.length);for(var i=0;i<n.length;i++)this.twt[i].qc(n[i])},i.I_t=function(n){for(var i=0,e=this.twt;i<e.length;i++){e[i].I_t(n)}t.prototype.I_t.call(this,n)},i.R_t=function(t){return{gwt:t,S_t:DG(this.twt),E_t:NG(this.twt)}},i.xs=function(){for(var n=0,i=this.twt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},T(n,[{key:"i1",get:function(){return this.twt}},{key:"ilt",get:function(){return this.$dt}},{key:"wwt",get:function(){return this.$dt.wwt}},{key:"Zlt",get:function(){return this.Gi.Zlt}},{key:"iO",get:function(){var t;return this.Gi.iO||(null==(t=this.twt[0])?void 0:t.Hi.iO)||""}}]),n}(RG),XG=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.zlt)||this).Y_t=void 0,s.sE=void 0,s.ua=void 0,s.D_t=void 0,s.N_t=[],s.Y_t=n,s.sE=e,s.ua=r,s.T_t(!1),s.D_t=(i.Wvt||[]).map(function(t){return new HG(t,Jt(s))}),s.N_t=OG(s.D_t),s}E(n,t);var i=n.prototype;return i.qc=function(t,n){this.p_t(t,this.Y_t.zlt),this.ua=n;var i=t.Wvt||[];if(this.D_t.length!==i.length)throw new l("Expected "+this.D_t.length+' adaptation sets in period "'+t.H_+'", found '+i.length);for(var e=0;e<i.length;e++)this.D_t[e].qc(i[e])},i.I_t=function(n){for(var i=0,e=this.D_t;i<e.length;i++){e[i].I_t(n)}t.prototype.I_t.call(this,n)},i.R_t=function(t){return{gwt:t,S_t:DG(this.D_t),E_t:NG(this.D_t)}},i.xs=function(){for(var n=0,i=this.D_t;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},T(n,[{key:"Wvt",get:function(){return this.D_t}},{key:"zvt",get:function(){return this.N_t}},{key:"ilt",get:function(){return this}},{key:"wwt",get:function(){return this.Y_t}},{key:"H_",get:function(){return this.Gi.H_}},{key:"MN",get:function(){return this.sE}},{key:"Qg",get:function(){return this.ua}}]),n}(RG),zG=new Date("2000-01-01"),VG=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.j_t=void 0,s.Q_t=void 0,s.UG=void 0,s.Z_t=void 0,s.b_t=void 0,s.y_t=void 0,s.K_t=void 0,s.J_t=void 0,s.$_t=void 0,s.tgt=[],s.j_t=i,s.qc(n,e,r),n.fs===WW.CE){var u=s.zwt();u&&u.wdt&&u.wdt.getTime()<zG.getTime()&&(s.$_t=new Date(s.Adt.getTime()-1e3*(u.w8.Jy+u.w8.Qg)),s.I_t(r))}return s}E(n,t);var e=n.prototype;return e.Bdt=function(){var t;return null==(t=this.b_t)?void 0:t.S_t},e.zdt=function(){var t;return null==(t=this.b_t)?void 0:t.E_t},e.qc=function(t,n,e,r){var s;this.Gi=t,this.Q_t=n,this.Z_t=null!=r?r:e,this.UG=e;var u,o=[(u=n,i.Br(".",u))];this.y_t=t.zlt&&t.zlt.length>0?dG(t.zlt.map(function(t){return t.hd}),o):o,this.K_t=t.gdt&&t.gdt.length>0?dG(t.gdt,this.y_t):[];var a=this.K_t.map(function(t){return t.href}),h=n.href;Qs(a,h)||(this.K_t.push(n),a.push(h));var c=this.j_t.href;Qs(a,c)||(this.K_t.push(this.j_t),a.push(c)),this.J_t=null==(s=t.Xvt)?void 0:s.Uvt();var f=t.fs===WW.CE,l=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.MN)u=s.MN.Uvt();else if(r>0&&t[r-1].Qg){var o=e[r-1],a=t[r-1].Qg.Uvt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Hi:t[c],MN:e[c],Qg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,l=t[f],v=e[f],d=1/0;n||(d=l.Qg?l.Qg.Uvt():i-v),h.push({Hi:l,MN:v,Qg:d})}return h}(t.Mvt,f,this.J_t);this.ngt(l),this.I_t(e)},e.ngt=function(t){var n=this.tgt;if(0!==t.length){for(var i=t[0].Hi.H_,e=0;e<n.length&&n[e].H_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.qc(o.Hi,o.Qg)}else n.push(new XG(this,o.Hi,o.MN,o.Qg))}}else Ks(n)},e.I_t=function(t){for(var n=0,i=this.tgt;n<i.length;n++){i[n].I_t(t)}var e=this.b_t,r=this.R_t(t);e&&PG(e,r)||(this.b_t=r,this.Qs(new IG))},e.R_t=function(t){return{gwt:t,S_t:CG(this.tgt),E_t:NG(this.tgt)}},e.zwt=function(){if(0!==this.tgt.length){var t=this.tgt[this.tgt.length-1];if(!isFinite(t.Qg)&&0!==t.Wvt.length){var n=t.Wvt[0];if(0!==n.i1.length){var i=n.i1[0].Yvt,e=i.zwt();if(e)return{w8:e,wdt:i.bwt(e)}}}}},e.xs=function(){this.$s();for(var t=0,n=this.tgt;t<n.length;t++){n[t].xs()}},T(n,[{key:"Hi",get:function(){return this.Gi}},{key:"fs",get:function(){return this.Gi.fs||WW.NE}},{key:"_dt",get:function(){return this.$_t||this.Gi._dt||this.Adt}},{key:"wdt",get:function(){return this.Gi.wdt}},{key:"Xvt",get:function(){return this.J_t}},{key:"zlt",get:function(){return this.y_t}},{key:"gdt",get:function(){return this.K_t}},{key:"Mvt",get:function(){return this.tgt}},{key:"Adt",get:function(){return this.Gi.Adt||this.UG}},{key:"Elt",get:function(){return this.Gi.Elt}},{key:"igt",get:function(){return this.Z_t}},{key:"egt",get:function(){return this.UG}}]),n}(Su);var WG=function(){function t(t,n,i){this.rgt=0,this.pE=t,this.sgt=n,this.ugt=i}var n=t.prototype;return n.SL=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.ogt(t,this.pE,this.sgt,this.ugt).catch(vu));case 2:case"end":return n.stop()}},null,this,null,qe)},n.agt=function(){return new Date(Wt()+this.rgt)},n.ogt=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Fr.awrap(this.cgt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}fu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Fr.awrap(this.hgt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.rgt=void 0===r?0:r-Wt();case 18:case"end":return o.stop()}},null,this,null,qe)},n.hgt=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.Y0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Fr.awrap(this.cgt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),p(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,qe)},n.cgt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.ud({hd:n,Rd:rg.GET,td:xf.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Fr.awrap(e.Ll());case 6:if(r=u.sent,s=new Date(r).getTime(),p(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),lu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],qe)},t}(),qG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).fgt=void 0,s.x4=void 0,s.vgt=void 0,s.Hrt=!0,s.tgt=[],s.lgt=void 0,s.dgt=void 0,s.wgt=void 0,s.pE=void 0,s._gt=void 0,s.lgt=n,s.vgt=n.fg,s.dgt=i,s.pE=e,s.fgt=r,s._gt=new WG(s.pE,s.fgt,s.lgt.ggt),s}E(n,t);var e=n.prototype;return e.mgt=function(t){var n=this.Iy;this.Hrt=t,n!==this.Iy&&this.Qs(new FG)},e.qc=function(t,n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=[],u=[],o=t.mdt?i.Br(t.mdt,this.vgt):this.vgt,void 0!==this.x4){m.next=10;break}return m.next=6,Fr.awrap(this._gt.SL(t.Sdt));case 6:this.x4=new VG(t,this.vgt,o,this.agt()),this.x4.Zs(rG.Idt,this.js),m.next=11;break;case 10:this.x4.qc(t,o,this.agt(),n);case 11:if(0===(a=this.x4.Mvt).length)h=this.tgt.slice(),Ks(this.tgt);else{for(c=a[0].H_,f=0;f<this.tgt.length&&this.tgt[f].H_!==c;)f++;for(h=this.tgt.splice(0,f),l=0;l<a.length;l++)v=a[l],d=void 0,l<this.tgt.length?d=this.tgt[l]:(d=new MG(this,v),s.push(d)),u.push(d.qc(this.dgt,e))}return m.next=15,Fr.awrap(qe.all(u));case 15:for((r=this.tgt).push.apply(r,s),w=0,g=h;w<g.length;w++)g[w].O_t();this.Qs(new jG);case 18:case"end":return m.stop()}},null,this,null,qe)},e.agt=function(){return this._gt.agt()},e.H_t=function(t){var n=this.tgt.indexOf(t);if(n>0)return this.tgt[n-1]},e.X_t=function(t){var n=this.tgt.indexOf(t);if(n>=0&&n+1<this.tgt.length)return this.tgt[n+1]},e.Bdt=function(){return this.x4?this.x4.Bdt():void 0},e.zdt=function(){return this.x4&&this.x4.zdt()},e.I_t=function(t){this.x4&&this.x4.I_t(t)},e.xd=function(){this.$s(),this.wgt=void 0,this.mgt(!1);for(var t=0,n=this.tgt;t<n.length;t++){n[t].xd()}Ks(this.tgt),this.x4&&this.x4.xs()},T(n,[{key:"wdt",get:function(){return this.x4&&this.x4.wdt}},{key:"_dt",get:function(){return this.x4&&this.x4._dt}},{key:"H_",get:function(){return this.x4&&this.x4.Hi.H_}},{key:"igt",get:function(){var t;return null==(t=this.x4)?void 0:t.igt}},{key:"ygt",get:function(){var t;return null==(t=this.x4)?void 0:t.egt}},{key:"gdt",get:function(){return this.x4?this.x4.gdt.map(function(t){return t.href}):[this.Hvt]}},{key:"Hvt",get:function(){return this.vgt.href}},{key:"ydt",get:function(){return this.x4&&this.x4.Hi.ydt}},{key:"kdt",get:function(){return this.x4&&this.x4.Hi.kdt}},{key:"Xvt",get:function(){return this.x4&&this.x4.Hi.Xvt}},{key:"bdt",get:function(){return this.x4&&this.x4.Hi.bdt}},{key:"pdt",get:function(){var t,n,i=(null==(t=this.x4)?void 0:null==(n=t.Hi.pdt)?void 0:n.slt())||0;return g.max(i,$G)}},{key:"Iy",get:function(){return this.Hrt}},{key:"Mvt",get:function(){return this.tgt}},{key:"kgt",get:function(){return this.fs===WW.CE?this.swt:this.bgt}},{key:"pgt",get:function(){var t=this.kgt;if(void 0!==t)for(var n=0,i=this.Mvt;n<i.length;n++){var e=i[n];if(e.MN<=t&&e.XN>t)return e}}},{key:"Mlt",get:function(){return this.x4&&this.x4.Hi.Mlt}},{key:"Adt",get:function(){return this.x4&&this.x4.Adt}},{key:"z_t",get:function(){for(var t=this.tgt.length-1;t>=0;t-=1){var n=this.tgt[t].z_t;if(n)return n}}},{key:"swt",get:function(){var t=this.z_t;if(void 0!==t){var n=t-this.Agt;return g.max(n,this.bgt)}}},{key:"bgt",get:function(){for(var t=0,n=this.tgt;t<n.length;t++){var i=n[t].Pdt;if(void 0!==i)return i}}},{key:"Pd",get:function(){return Boolean(this.lgt.Pd)}},{key:"Agt",get:function(){var t=this.x4&&this.x4.Hi.Tdt;return t?t.Uvt():this.fs===WW.CE?this.Tgt:0}},{key:"Tgt",get:function(){return this.lgt.Tgt?this.lgt.Tgt:1.5*this.bdt.Uvt()}},{key:"Elt",get:function(){return this.x4&&this.x4.Elt}},{key:"fs",get:function(){return this.x4?this.x4.fs:void 0}}]),n}(Su),GG=function(){function t(t,n,i,e){this.C_t=void 0,this.C_t=new qG(t,n,i,e)}return T(t,[{key:"Fdt",get:function(){return this.C_t}}]),t}(),$G=1e3,YG=g.pow(2,31)-1,QG=function(){function t(t,n,i,e){var r=this;this.Wct=void 0,this.x4=void 0,this.Sgt=void 0,this.Egt=void 0,this.Igt=void 0,this.Rgt=new au,this.Dgt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.x4.Fdt.agt(),e.next=4,Fr.awrap(r.Ngt(r.x4.Fdt.gdt,t));case 4:return i=e.sent,e.next=7,Fr.awrap(r.x4.Fdt.qc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Uk(e.t0)&&r.x4.Fdt.mgt(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],qe)},this.Wct=e,this.x4=new GG(t,n,i,this.Rgt.Ws)}var n=t.prototype;return n.Pw=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.x4.Fdt.Qs(new jD),n.prev=1,n.next=4,Fr.awrap(HM(this.Dgt,t));case 4:this.x4.Fdt.mgt(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),lu(n.t0),this.Egt=void 0,this.x4.Fdt.mgt(!1),new l("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.Sgt=this.Cgt(this.Rgt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],qe)},n.Cgt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.x4.Fdt.fs!==WW.CE){n.next=6;break}return n.next=4,Fr.awrap(du(this.Pgt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],qe)},n.Bgt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(fu(t),!((n=this.Ogt())>0)){e.next=6;break}return i=g.min(n,YG),e.next=6,Fr.awrap(bu(i,t));case 6:return e.prev=6,e.next=9,Fr.awrap(HM(this.Dgt,t,1/0,$G,3e4));case 9:this.x4.Fdt.mgt(!0);case 10:return e.prev=10,this.Igt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],qe)},n.Ogt=function(){var t=this.x4.Fdt.agt().getTime()-this.x4.Fdt.igt.getTime();return this.x4.Fdt.pdt-t},n.xgt=function(t){var n=this.x4.Fdt.zdt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.x4.Fdt.I_t(t);var e=this.x4.Fdt.zdt();return e?e.getTime()-t.getTime():NaN},n.Lgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.Igt||(this.Igt=this.Bgt(t)),(n=new au).zs(t),i.prev=3,i.next=6,Fr.awrap(qe.race([this.Igt,this.Mgt(n.Ws)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),vu(i.t0);case 11:return i.prev=11,n.Hs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],qe)},n.Mgt=function(t){var n=this.x4.Fdt.agt(),i=this.xgt(n);if(!p(i))return this.Ugt(i,t)},n.Ugt=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(bu(t,n));case 2:i=this.x4.Fdt.agt(),this.x4.Fdt.I_t(i);case 4:case"end":return e.stop()}},null,this,null,qe)},n.Ngt=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Wct.zct(t,{},n,!1));case 2:return i=r.sent,e=new sG,r.abrupt("return",e.Cht(i.Xct,i.od));case 5:case"end":return r.stop()}},null,this,null,qe)},n.xd=function(){return this.Rgt.Hs(),this.Sgt=void 0,this.Egt=void 0,this.Igt=void 0,this.x4.Fdt.xd(),qe.resolve()},T(t,[{key:"q$",get:function(){return this.x4}},{key:"Xgt",get:function(){return this.Egt||(this.Egt=this.Pw(this.Rgt.Ws),pu(this.Egt)),this.Egt}},{key:"Pgt",get:function(){return this.x4.Fdt.ygt&&this.x4.Fdt.fs===WW.CE?this.Lgt(this.Rgt.Ws):this.Xgt}}]),t}(),ZG=function(){function t(t,n,i){this.Wct=t,this.Fgt=n,this.Hgt=i}var n=t.prototype;return n.zgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new l("Invalid typed source");case 2:if(!ep(n=t.type)){i.next=9;break}return i.next=6,Fr.awrap(this.Vgt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!ip(n)){i.next=15;break}return i.next=12,Fr.awrap(this.Wgt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new l("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,qe)},n.Vgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(iq(t.src,this.Wct));case 3:return n=i.sent,i.next=6,Fr.awrap(eq(n,this.Wct));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new l("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],qe)},n.Wgt=function(t){var n;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new QG({fg:i.Br(t.src),Tgt:t.liveOffset,ggt:t.timeServer,Pd:t.useCredentials},this.Hgt,fg.Hd,this.Wct),e.next=4,Fr.awrap(n.Xgt);case 4:return e.next=6,Fr.awrap(HW(n.q$.Fdt,t.contentProtection,this.Fgt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new l("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],qe)},t}();var KG=function(){function t(t){this.Ggt=void 0,this.qgt=[],this.Ygt=0,this.Ggt=t}var n=t.prototype;return n.jgt=function(){var t=new na;return this.qgt.push(t),this.Qgt(),t.Fu},n.Zgt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t);case 2:this.Ygt-=1,this.Qgt(),0===this.qgt.length&&0===this.Ygt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,qe)},n.Qgt=function(){this.qgt.length>0&&this.Ygt<this.Ggt&&(this.qgt.shift().Wu(),this.Ygt+=1)},t}();function JG(t,n){for(var i=0,e=0,r=t.$S.aJ.map(function(t){return t.Qg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var t$=function(t){function n(n,e,r,s,u,o,a,h){var c,f,l,v,d;void 0===h&&(l=j.En||j.Tn,v=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=l&&!v,h=function(t){var n,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Fl,MediaSource.isTypeSupported(e)||Gk(t.iO,t.ZH)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.$e)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.n1){u.next=13;break}return r=t.n1,s=tu(r,function(t){return _s(t.Y0)}).filter(H),u.next=10,Fr.awrap(su(s,function(t){return i.Cr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,qe)}),(c=t.call(this)||this).qct=void 0,c.Kgt=void 0,c.Jgt=new na,c.$gt=void 0,c.iht=void 0,c.tmt=OW.Bvt(),c.Nvt=void 0,c.nmt=void 0,c.Dm=void 0,c.imt=void 0,c.xat=void 0,c.Wct=void 0,c.emt=void 0,c.Fgt=void 0,c.Hgt=void 0,c._vt=void 0,c.qct=n,c.xat=e,c.Wct=r,c.imt=s,c.emt=u,c.Fgt=o,c.Hgt=h,c._vt=a,c.nmt=-1;var w=c.qct.yN.sources[0];return c.$gt=w,c.Dm=c.jm(),c.Kgt=new KG(c.qct.fh.parallelTasksThreshold),c}E(n,t);var e=n.prototype;return e.jm=function(){var t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w,m,y,p,_,b,k,A,T,S,E,I,R=this;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:return t=new ZG(this.Wct,this.Fgt,this.Hgt),C.next=3,Fr.awrap(t.zgt(this.$gt));case 3:return this.iht=C.sent,n=this.qct.fh.amount,i=this.iht.Qg,e=jW(n,i),this.Nvt=e,s=TH(this.iht.Fvt[0]),C.next=11,Fr.awrap(this.xat.Rat.Sat(s,"manifestURL"));case 11:for(u=C.sent.filter(function(t){return Qs(t.references,R.qct.H_)}),o=[],a=this.qct.fh.bandwidth,h=0,c=this.iht.Mvt;h<c.length;h++)for(f=c[h],l=0,v=f.Vvt;l<v.length;l++)for(d=v[l],w=0,m=i$(d.JA);w<m.length;w++)for(y=m[w],p=0,_=e$(y.q_,a);p<_.length;p++)b=_[p],o.push(b);if(this.nmt=g.ceil(o.map(function(t){return t.HR*JG(t,e)/8}).reduce(function(t,n){return t+n},0)),k=Xr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new dE(n.startsAndEnds);if(k.has(i))k.get(i).timeRanges=k.get(i).timeRanges.iC(e).nC(5e-4);else{var r,s=Ws(o,function(t){return t.H_===i}),a=g.min(R.Nvt,null!=(r=null==s?void 0:s.$S.Qg)?r:1/0);k.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new OW(A,k,this.Nvt)}else{for(E=0;E<o.length;E++)I=o[E],k.set(I.H_,{timeRanges:dE.kC(),totalQualityDurationToCache:g.min(I.$S.Qg,this.Nvt)});r=new OW(0,k,this.Nvt)}this.rmt=r;case 19:case"end":return C.stop()}},null,this,null,qe)},e.smt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Dm);case 2:return n.next=4,Fr.awrap(this.umt(this.iht,t));case 4:return n.next=6,Fr.awrap(this.Jgt.Fu);case 6:case"end":return n.stop()}},null,this,null,qe)},e.umt=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Fvt){u.next=2;break}throw new l("Unexpected - manifest is missing locations");case 2:return u.next=4,Fr.awrap(this.omt());case 4:for(i=[],e=0,r=t.Mvt;e<r.length;e++)s=r[e],i.push(this.amt(s,t.Fvt[0],n));return u.abrupt("return",qe.all(i));case 7:case"end":return u.stop()}},null,this,null,qe)},e.omt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.imt.Aat());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Fr.awrap(this.xat.Dat.Iu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Fr.awrap(n$(e,this.qct.H_,this.xat.Dat,this._vt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Fr.awrap(this.xat.Dat.yat(i,this._vt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new UW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Fr.awrap(this.imt.Iat());case 27:case"end":return r.stop()}},null,this,[[14,19]],qe)},e.amt=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.Vvt;r<s.length;r++)for(u=s[r],o=i$(u.JA),a=0;a<o.length;a++)h=o[a],e.push(this.cmt(h,n,i));return c.abrupt("return",qe.all(e));case 3:case"end":return c.stop()}},null,this,null,qe)},e.cmt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.qct.fh.bandwidth,r=e$(t.q_,e),t.fs!==o_.Ed||!t.qvt||!t.qvt.QE.widevine||"persistent"!==t.qvt.QE.widevine.licenseType){a.next=6;break}return a.next=5,Fr.awrap(this.hmt(t.qvt));case 5:fu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.fmt(o,n,i));return a.abrupt("return",qe.all(s));case 9:case"end":return a.stop()}},null,this,null,qe)},e.fmt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:fu(i),e=t.$S.aJ[0].Jy,r=e+this.Nvt,s=0,u=t.$S.aJ;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Jy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.vmt(i));case 10:return a.next=12,Fr.awrap(this.Kgt.jgt());case 12:pu(this.Kgt.Zgt(this.lmt(o,t,n),this.Jgt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,qe)},e.vmt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ns){n.next=4;break}return n.next=3,Fr.awrap(this.Jgt.Fu);case 3:throw new hu;case 4:case"end":return n.stop()}},null,this,null,qe)},e.dmt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.Dm);case 2:return t.abrupt("return",this.iht);case 3:case"end":return t.stop()}},null,this,null,qe)},e.hmt=function(t){return qe.resolve()},e.wmt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ht("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,qe)},e.lmt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.xat.Rat,r=SH(t.jvt.hd,t.jvt.bct),f.next=4,Fr.awrap(e.Iu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Fr.awrap(n$(s,this.qct.H_,e,this._vt));case 8:this._mt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Fr.awrap(this.gmt(t.jvt));case 14:return u=f.sent,o=this.mmt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Fr.awrap(this.xat.Pat(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.Rat.yat(a,c._vt));case 2:return n.next=4,Fr.awrap(t.aJ.yat(h,c._vt));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 18:this._mt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new UW("Unable to store segment with url: "+t.jvt.hd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],qe)},e.gmt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.emt.ymt(t,!1));case 2:return n=i.sent,i.next=5,Fr.awrap(this.kmt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,qe)},e.kmt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.Ul());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,qe)},e.mmt=function(t,n,i,e){var r=SH(t.jvt.hd,t.jvt.bct),s=t.Jy,u=t.Qg,o=this.bmt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:TH(i),qualityId:n.H_,byteSize:o,startsAndEnds:new dE([s,s+u]).HN,references:[this.qct.H_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:TH(i),data:e}}},e.bmt=function(t){return t.buffer.byteLength},e._mt=function(t,n){var i=t.qualityId,e=this.tmt,r=e.By;r.get(i).timeRanges=r.get(i).timeRanges.iC(new dE(t.startsAndEnds)).nC(5e-4),this.rmt=new OW(n?e.Ovt+t.byteSize:e.Ovt,r,this.Nvt)},T(n,[{key:"pmt",get:function(){return this.nmt}},{key:"rmt",get:function(){return this.tmt},set:function(t){this.tmt.Tk(t)||(this.tmt=t,t.Tk(OW.Bvt())||this.Qs(new BW))}}]),n}(Su);function n$(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Qs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Fr.awrap(i.yat(t,e));case 4:case"end":return r.stop()}},null,null,null,qe)}function i$(t){return t.length?[t[0]]:[]}function e$(t,n){if(!t.length)return[];var i=[].concat(t).sort(PW),e=i.filter(function(t){return t.HR<=n});return e.length>0?[e.pop()]:[i.shift()]}var r$=function(){function t(t){this.pE=void 0,this._X=new vD,this.pE=t}var n=t.prototype;return n.ud=function(t){var n=this,i=new na;return this._X.sX(function(e){return n.Amt(i,t,e)},t.Ws).catch(K),i.Fu},n.Od=function(t){return this.pE.Od(t)},n.Amt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return fu(i),e=new hg({hd:n.hd,Ws:i},n),r=this.pE.ud(e),t.Wu(r),u.next=6,Fr.awrap(r);case 6:return s=u.sent,u.next=9,Fr.awrap(s.Yl());case 9:case"end":return u.stop()}},null,this,null,qe)},n.xd=function(){this._X.xd()},t}(),s$=function(){function t(t,n){this.pE=void 0,this.Tmt=void 0,this.Y6=void 0,this.pE=t,this.Tmt=new r$(t),this.Y6=n}var n=t.prototype;return n.ymt=function(t,n,i){return this.E3(t,n,!0,!1,void 0,i)},n.h8=function(t,n,i,e){return this.E3(t,n,!1,!1,i,e)},n.Smt=function(t,n,i,e){return this.E3(t,n,!1,!0,i,e)},n.E3=function(n,i,e,r,s,u){var o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return fu(u),a.next=3,Fr.awrap(this.g8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.Emt(o));case 8:return a.abrupt("return",this.Imt(o));case 9:case"end":return a.stop()}},null,this,null,qe)},n.Imt=function(t){return t},t.Emt=function(t){return t},n.g8=function(t,n,i,e,r){var s=new hg({hd:t.hd,td:xf.Gf,$l:t.bct?{Range:"bytes="+t.bct[0]+"-"+t.bct[1]}:void 0,Pd:t.Pd,Rd:rg.GET,fs:sg.dd,Nd:i?ug._d:ug.vd,Cd:this.Y6,Dd:e,Ws:r});return n?this.Tmt.ud(s):this.pE.ud(s)},t}(),u$=function(){function t(t){this.pE=void 0,this.pE=t}return t.prototype.g_t=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.pE.ud({hd:t,td:xf.Gf,$l:{Range:"bytes="+n[0]+"-"+n[1]},Pd:i,Rd:rg.GET,fs:sg.vd,Ws:e}));case 2:return r=s.sent,s.next=5,Fr.awrap(r.Ul());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},t}(),o$=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).w8=void 0,r.w8=n,r}return E(n,t),n}(nn),a$=function(){function t(t){this.F4=void 0,this.F4=t}return t.prototype.g_t=function(t,n,i,e){var r,s;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.F4.J6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Fr.awrap(this.F4.J6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Qo(new _(s.buffer),n[0],n[1]));case 10:throw new o$({hd:t,bct:n,Pd:!1});case 11:case"end":return i.stop()}},null,this,null,qe)},t}(),h$={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new dE([0,0]).HN,references:[]},c$={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},f$=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).Rmt=void 0,u.Dmt=void 0,u.xat=void 0,u._vt=void 0,u.Rmt=new u$(i),u.xat=e,u.Dmt=r,u._vt=s,u}E(n,t);var i=n.prototype;return i.g_t=function(n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.prototype.g_t.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),lu(u.t0);case 9:return u.next=11,Fr.awrap(this.Rmt.g_t(n,i,e,r));case 11:return s=u.sent,u.next=14,Fr.awrap(this.Nmt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],qe)},i.Nmt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==this.Dmt){l.next=2;break}return l.abrupt("return");case 2:return r=this.xat.Rat,s=SH(t,i),l.next=6,Fr.awrap(r.Iu(s));case 6:if(!(u=l.sent)){l.next=12;break}return l.next=10,Fr.awrap(n$(u,this.Dmt,r,this._vt));case 10:l.next=22;break;case 12:return l.prev=12,o={buffer:e},a=n.mmt(s,o,this.Dmt),h=a.segmentMetadataEntry,c=a.segmentEntry,l.next=17,Fr.awrap(this.xat.Pat(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.Rat.yat(h,f._vt));case 2:return n.next=4,Fr.awrap(t.aJ.yat(c,f._vt));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 17:l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(12),new UW("Unable to store segment with url: "+t,l.t0);case 22:case"end":return l.stop()}},null,this,[[12,19]],qe)},n.mmt=function(t,n,i){return{segmentMetadataEntry:Ur({},h$,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Ur({},c$,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(a$);var l$=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Cmt=function(t,n,i,e,r,s,u){return new t$(t,n,i,e,r,s,u)},n}(function(){function t(t){this.pE=t}return t.prototype.RK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.yN.sources[0].useCredentials),r=new s$(this.pE,og.vd),s=new hX(this.pE,e),u=new EH(n.Dat,n.Rat,n.aJ,n.Cat),o=function(t,n,i,e,r){return new f$(n,t,i,e,r)}(this.pE,u,n,t.H_,i),a=new BH,h=new dX(vX(s,u),a,t);return this.Cmt(t,n,h,a,r,o,i)},t}());function v$(t){var n,i={get id(){return t.H_},get status(){return t.Jl},get source(){return t.yN},get parameters(){return t.fh},get duration(){return t.Qg},get cached(){return t.Pmt.nN()},get secondsCached(){return t.Bmt},get percentageCached(){return t.Omt},get bytes(){return t.xmt},get bytesCached(){return t.Lmt},get license(){return t.mO.t_},start:function(){t.MN()},pause:function(){t.Hm()},remove:function(){t.Gc()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}};return n=new AC(t,["Ivt","evt"],i),i}var d$=function(){function t(t,n,i){this.qct=t,this.xat=n,this.iht=i}var n=t.prototype;return n.Mmt=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.xat.Pat(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.Umt(n));case 2:return i.next=4,Fr.awrap(t.Xmt(n));case 4:return i.next=6,Fr.awrap(t.Fmt(n));case 6:return i.next=8,Fr.awrap(t.Hmt(n));case 8:case"end":return i.stop()}},null,null,null,qe)}));case 2:case"end":return n.stop()}},null,this,null,qe)},n.Umt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Nat,i=this.qct.H_,e.next=4,Fr.awrap(n.Gc(i));case 4:case"end":return e.stop()}},null,this,null,qe)},n.Xmt=function(t){var n,i,e,r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Rat,i=t.aJ,op(e=this.qct.yN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=TH(e.src),h.next=8,Fr.awrap(n.Sat(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Qs(t.references,a.qct.H_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if($s((o=s[u]).references,this.qct.H_),0!==o.references.length){h.next=20;break}return h.next=16,Fr.awrap(n.Gc(o.key));case 16:return h.next=18,Fr.awrap(i.Gc(o.key));case 18:h.next=22;break;case 20:return h.next=22,Fr.awrap(n.yat(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,qe)},n.Fmt=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Dat,i=this.zmt(),o.next=4,Fr.awrap(n.gat(i));case 4:e=o.sent.filter(function(t){return Qs(t.references,u.qct.H_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if($s((s=e[r]).references,this.qct.H_),0!==s.references.length){o.next=14;break}return o.next=12,Fr.awrap(n.Gc(s.key));case 12:o.next=16;break;case 14:return o.next=16,Fr.awrap(n.yat(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,qe)},n.zmt=function(){if(!this.iht)return[];var t=this.qct.yN.sources[0];if(!op(t))return[];var n=TH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Mvt;i<e.length;i++)for(var r=0,s=e[i].Vvt;r<s.length;r++)for(var u=0,o=s[r].JA;u<o.length;u++)for(var a=0,h=o[u].q_;a<h.length;a++){var c=h[a];c.elt&&n.push(c.elt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.iht).map(function(t){return{src:t}}).map(function(t){return TH(t.src)});return[n].concat(i)},n.Hmt=function(t){var n,i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.Cat,u.next=3,Fr.awrap(n.Aat());case 3:i=u.sent.filter(function(t){return Qs(t.references,s.qct.H_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if($s((r=i[e]).references,this.qct.H_),0!==r.references.length){u.next=14;break}return u.next=11,Fr.awrap(n.Gc(r.key));case 11:this.Vmt(r),u.next=16;break;case 14:return u.next=16,Fr.awrap(n.yat(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,qe)},n.Vmt=function(t){},t}(),w$=new(function(){function t(){}return t.prototype.RK=function(t,n,i){return new d$(t,n,i)},t}());var g$=function(){function t(t,n){this.$w=void 0,this.Ow=t,this.Wmt=n}var n=t.prototype;return n.Gmt=function(t){this.qmt(t)},n.qmt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.Wmt.wmt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Ow.yvt(_W.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],qe)},T(t,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{renew:function(n){t.Gmt(n)}})),this.$w}}]),t}(),m$=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Cc=void 0,o.wvt=void 0,o.$w=void 0,o.yrt=void 0,o.Ymt=void 0,o.xat=void 0,o.Wmt=void 0,o.jmt=new au,o.Qmt=void 0,o.evictOnLoading=function(){o.tu("evt",o.evictOnLoading),o.Zmt()},o.Cc=n,o.yrt=i,o.Ymt=e,o.xat=r,o.Wmt=s.RK(Jt(o),o.xat,u),o.Qmt=new g$(Jt(o),o.Wmt),o.wvt=1===o.Wmt.rmt.xvt?_W.DONE:_W.IDLE,o.Wmt.Zs("Ivt",function(t){o.js(t),1===o.Omt&&o.yvt(_W.DONE)});var h=new Date,c=o.Ymt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.Zmt()},c),o}E(n,t);var i=n.prototype;return i.yvt=function(t){this.wvt!==t&&(this.wvt=t,this.Qs(new kW))},i.MN=function(){this.wvt===_W.EVICTED||this.wvt===_W.DONE||this.Kmt()},i.Kmt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.yvt(_W.LOADING),t=new au,this.jmt=t,n.next=6,Fr.awrap(this.Wmt.smt(t.Ws));case 6:this.yvt(_W.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),cu(n.t0)?this.yvt(_W.IDLE):this.yvt(_W.ERROR);case 12:return n.prev=12,this.jmt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],qe)},i.Hm=function(){this.jmt.Hs()},i.Gc=function(){this.Jl===_W.LOADING?(this.Zs("evt",this.evictOnLoading),this.Hm()):this.Zmt()},i.Zmt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.Wmt.dmt());case 3:return t=n.sent,n.next=6,Fr.awrap(w$.RK(this,this.xat,t).Mmt());case 6:this.Wmt.rmt=OW.Bvt(),this.yvt(_W.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.yvt(_W.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],qe)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=v$(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"mO",get:function(){return this.Qmt}},{key:"Jl",get:function(){return this.wvt}},{key:"yN",get:function(){return this.yrt}},{key:"fh",get:function(){return this.Ymt}},{key:"Qg",get:function(){return this.Wmt.rmt._C}},{key:"Pmt",get:function(){return this.Wmt.rmt.Pvt}},{key:"Bmt",get:function(){return this.Wmt.rmt.Cvt}},{key:"Omt",get:function(){return this.Wmt.rmt.xvt}},{key:"xmt",get:function(){return this.Wmt.pmt}},{key:"Lmt",get:function(){return this.Wmt.rmt.Ovt}}]),n}(Xy);var y$=function(){function t(t,n){this.xat=t,this.Jmt=n}var n=t.prototype;return n.Avt=function(t,n,i){var e=eR();return this.bvt(e,t,n,i)},n.bvt=function(t,n,i,e){return new m$(t,n,i,this.xat,this.Jmt,e)},t}(),p$=30,_$=5;function b$(t){if(!t)throw new l("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!ks(t,"%"))return m(t);return t}(t.amount);!function(t){if(i=t,G(i)&&ks(i,"%")){var n=y(t);if(p(n)||n<0||n>100)throw new l("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&p(t))throw new l("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+p$),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new l("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(p(t)||t<0)throw new l("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return _$;if(p(t))throw new l("The amount must be a number");return t}(t.numberOfParallelTasks)}}var k$,A$,T$,S$,E$,I$,R$=function(t){function n(n,i){var e;return(e=t.call(this)||this).$w=void 0,e.$mt=n,e.IU=i,e.$mt.Zs("evt",e.js),e}return E(n,t),n.prototype.tyt=function(t,n,i){var e,r;if(!t)throw new l("Unexpected - The source description is undefined");if(e=TI(t),r=b$(n),lI(e))throw new l("Invalid source description");return this.$mt.bvt(e,r).t_},T(n,[{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get status(){return t.Jl},get tasks(){return t.Evt},get network(){return t.FU.t_},createTask:function(n,i){return t.tyt(n,i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new TC(t=this,i),i)),this.$w}},{key:"Jl",get:function(){return this.$mt.Jl}},{key:"Evt",get:function(){return this.$mt.Evt.t_}},{key:"FU",get:function(){return this.IU}}]),n}(Xy);(k$=new rC(i.jw,!1),A$=UH.Yn,T$=new l$(k$),S$=new y$(A$,T$),E$=new uC(k$),I$=new NW(A$.Nat,S$,"persistent"),new R$(I$,E$)).t_;var C$=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Cc=void 0,s.wvt=void 0,s.$w=void 0,s.yrt=void 0,s.Ymt=void 0,s.ua=0,s.nyt=dE.kC(),s.iyt=0,s.eyt=0,s.$mt=void 0,s.Cc=n,s.wvt=_W.IDLE,s.yrt=i,s.Ymt=e,s.$mt=r,s}E(n,t);var i=n.prototype;return i.MN=function(){this.$mt.startCachingTask(this)},i.Gc=function(){this.$mt.removeCachingTask(this)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=v$(this)),this.$w}},{key:"H_",get:function(){return this.Cc}},{key:"Jl",get:function(){return this.wvt},set:function(t){this.wvt!==t&&(this.wvt=t,this.Qs(new kW))}},{key:"yN",get:function(){return this.yrt}},{key:"fh",get:function(){return this.Ymt}},{key:"Qg",get:function(){return this.ua},set:function(t){this.ua=t}},{key:"Pmt",get:function(){return this.nyt},set:function(t){this.nyt=t}},{key:"Bmt",get:function(){return this.iyt},set:function(t){this.iyt=t}},{key:"Omt",get:function(){return this.eyt},set:function(t){this.eyt=t,this.Qs(new BW)}}]),n}(zy),D$=30;function N$(t){var n,i;if(!t)throw new l("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+D$),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new l("Invalid expiration date for the cache parameters");return{expirationDate:n}}var P$=function(t){function n(){var n;return(n=t.call(this)||this).wvt=SW.UNINITIALISED,n.tX=new DW,n.Vht=void 0,n.sft=void 0,n.ryt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Jl=_W.EVICTED,i.Omt=0,i.Bmt=0,i.Qg=0,i.Pmt=dE.kC(),n.tX.Gc(i))}},n.syt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Jl=e);var r=t.detail.percentage;r&&(i.Omt=r);var s=t.detail.duration;s&&(i.Qg=s);var u=t.detail.seconds;u&&(i.Bmt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.Pmt=new dE(a)}}}},n.uyt=function(t){if(t.detail){var i=TI(JSON.parse(t.detail.source));if(!n.oyt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.bvt(i,N$(e),s)}}},n.ayt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.bvt(TI(r),N$(i),s);u.Jl=t.detail.status,u.Omt=t.detail.percentage,u.Qg=t.detail.duration,u.Bmt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.Pmt=new dE(a)}},n.cyt=function(t){t.detail&&n.yvt(t.detail.status)},n.Vht=new gW,n.sft=new $V,XV().cache={sdkEventBus:n.sft},n.Jft(),n}E(n,t);var i=n.prototype;return i.yvt=function(t){this.wvt!==t&&(this.wvt=t,this.Qs(new kW))},i.bvt=function(t,n,i){void 0===i&&(i=void 0);var e=new C$(i||eR(),t,n,this);return this.tX.Oy(e),i||this.Vht.lK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.H_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.tX.svt;n<i.length;n++){var e=i[n];if(e.H_===t)return e}},i.oyt=function(t){for(var n=B$(t.sources),i=0,e=this.tX.svt;i<e.length;i++){if(B$(e[i].yN.sources).src===n.src)return!0}return!1},i.Jft=function(){this.sft.addEventListener("deleteTask",this.ryt),this.sft.addEventListener("updateValues",this.syt),this.sft.addEventListener("newTask",this.uyt),this.sft.addEventListener("restoreTask",this.ayt),this.sft.addEventListener("setCacheStatus",this.cyt)},i.startCachingTask=function(t){this.Vht.lK("THEOplayerCacheStartCachingTask",{id:t.H_})},i.removeCachingTask=function(t){this.Vht.lK("THEOplayerCacheRemoveCachingTask",{id:t.H_})},T(n,[{key:"Jl",get:function(){return this.wvt}},{key:"Evt",get:function(){return this.tX}}]),n}(Su),x$=function(t){function n(n){var i;return(i=t.call(this,n)||this).hyt=n,i.hyt.Zs("evt",i.js),i}return E(n,t),n.prototype.tyt=function(t,n){var i,e;if(!t)throw new l("Unexpected - The source description is undefined");if(i=TI(t),e=N$(n),lI(i))throw new l("Invalid source description");if(!B$(i.sources))throw new l("The provided sources can't be cached");return this.hyt.bvt(i,e).t_},n}(R$);function B$(t){for(var n=0;n<t.length;n++){var i=t[n];if(ep(i.type))return i}}var O$,L$,M$=function(){var t=new P$;return new x$(t)}().t_;!function(t){t.fyt="any",t.vyt="natural",t.lyt="landscape",t.dyt="portrait",t.wyt="portrait-primary",t._yt="portrait-secondary",t.gyt="landscape-primary",t.myt="landscape-secondary"}(O$||(O$={})),function(t){t.wyt="portrait-primary",t._yt="portrait-secondary",t.gyt="landscape-primary",t.myt="landscape-secondary"}(L$||(L$={}));var j$,F$,U$=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Vht=new gW,n.yyt=O$.vyt,n.kyt=L$.wyt,n.byt=L$.wyt,n.pyt=L$.wyt,n}E(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.yyt=t,n.Vht.lK("THEOplayerOrientationLock",t),n.Ayt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.yyt=O$.vyt,t.Vht.lK("THEOplayerOrientationUnlock"),t.type=t.byt,t.Ayt(),n()})},i.Ayt=function(){var t=this.pyt,n=this.type;t!==n&&(this.pyt=n,this.Qs(new Iu("change")))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n.Tyt=function(t){switch(t){case O$.wyt:return[L$.wyt];case O$._yt:return[L$._yt];case O$.dyt:return[L$.wyt,L$._yt];case O$.gyt:return[L$.gyt];case O$.myt:return[L$.myt];case O$.lyt:return[L$.gyt,L$.myt];case O$.vyt:return[L$.wyt,L$.gyt,L$.myt];case O$.fyt:return[L$.wyt,L$._yt,L$.gyt,L$.myt]}},n.Syt=function(t,i){return n.Tyt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.kyt},set:function(t){this.byt=t,n.Syt(t,this.yyt)?(this.kyt=t,this.Ayt()):(t===L$.gyt&&this.yyt===O$.myt&&(this.kyt=L$.myt,this.Ayt()),t===L$.myt&&this.yyt===O$.gyt&&(this.kyt=L$.gyt,this.Ayt()))}},{key:"angle",get:function(){switch(this.type){case L$.gyt:return-90;case L$.myt:return 90;case L$.wyt:return 0;case L$._yt:return 180;default:return 0}}}]),n}(zy);U$.Yn=new U$,r.screen.orientation=U$.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&w.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Eyt="unavailable",t.Iyt="available",t.Ryt="presenting"}(j$||(j$={})),tD(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),n.prototype.Wm=function(n){t.prototype.Wm.call(this,n);var i=this.t_;this.t_.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===j$.Ryt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(O$.myt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},$C.VU),function(t){t.Qw="addtrack",t.Kw="removetrack",t.l_="change",t.y_="update"}(F$||(F$={}));var H$=function(t,n,i){this.type=F$.l_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},X$=function(t,n){this.type=F$.Qw,this.mediaType=t,this.mediaTrack=n},z$=function(t,n){this.type=F$.Kw,this.mediaType=t,this.mediaTrack=n},V$=function(t,n){this.type=F$.y_,this.mediaType=t,this.mediaTrack=n},W$=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Dyt=function(t){var n=new H$(e.type,t.track,e.mediaTracks);e.messageDispatcher.Nyt(n)},this.Cyt=function(t){var n=new X$(e.type,t.track);e.messageDispatcher.Nyt(n),t.track.addEventListener("update",e.Pyt)},this.Byt=function(t){var n=new z$(e.type,t.track);e.messageDispatcher.Nyt(n)},this.Pyt=function(t){var n=new V$(e.type,t.track);e.messageDispatcher.Nyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Jft()}return t.prototype.Jft=function(){this.mediaTracks.addEventListener("change",this.Dyt),this.mediaTracks.addEventListener("addtrack",this.Cyt),this.mediaTracks.addEventListener("removetrack",this.Byt)},t}(),q$=function(){function t(){this.Oyt=void 0,this.Oyt=new gW}return t.prototype.Nyt=function(t){this.Oyt.lK(t.type,IX(t))},t}();sD(function(t){if(t.t_.audioTracks){var n=new q$;new W$("audio",t.t_.audioTracks,n)}if(t.t_.videoTracks){var i=new q$;new W$("video",t.t_.videoTracks,i)}});var G$,$$="nativePromiseCallback",Y$=function(t){function n(n){var i;return(i=t.call(this,$$)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(G$||(G$={}));var Q$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new Y$(n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}($V),Z$=function(){function t(){var t=this;this.Oyt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new l("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case G$.RESOLVE:i.Wu(n.detail.data);break;case G$.REJECT:i.Gu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new Q$;XV().nativePromise={sdkEventBus:n},n.addEventListener($$,this.handleNativePromiseEvent)}return t.prototype.xyt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Ur({},n,{promiseId:e}),s=new na;return this.promisesMap[e]=s,null==(i=this.Oyt)||i.lK(n.type,SX(r)),s.Fu},t}();Z$.messageIdTracker=-1;var K$,J$=function(t){function n(){var n;return(n=t.call(this)||this).Oyt=new gW,n}return E(n,t),n}(Z$),tY=function(){function n(t){this.playerID=t}return n.prototype.lK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),nY=function(t){function n(n){var i;return(i=t.call(this)||this).Oyt=new tY(n),i}return E(n,t),n}(Z$);!function(t){t.Qw="TextTrackListAddTrack",t.Kw="TextTrackListRemoveTrack",t.l_="TextTrackListChange"}(K$||(K$={}));var iY,eY=function(t){this.type=K$.Qw,this.textTrack=t},rY=function(t){this.type=K$.Kw,this.textTrack=t},sY=function(t){this.type=K$.l_,this.textTrack=t};!function(t){t.e_="TextTrackAddCue",t.s_="TextTrackRemoveCue",t.o_="TextTrackEnterCue",t.c_="TextTrackExitCue",t.f_="TextTrackCueChange"}(iY||(iY={}));var uY,oY=function(t,n){this.type=iY.e_,this.textTrackCue=t,this.textTrackUid=n},aY=function(t,n){this.type=iY.s_,this.textTrackCue=t,this.textTrackUid=n},hY=function(t,n){this.type=iY.o_,this.textTrackCue=t,this.textTrackUid=n},cY=function(t,n){this.type=iY.c_,this.textTrackCue=t,this.textTrackUid=n},fY=function(t){this.type=iY.f_,this.textTrackUid=t};!function(t){t.Yy="TextTrackCueEnter",t.Qy="TextTrackCueExit",t.y_="TextTrackCueUpdate"}(uY||(uY={}));var lY=function(t){this.type=uY.Yy,this.textTrackCue=t},vY=function(t){this.type=uY.Qy,this.textTrackCue=t},dY=function(t){this.type=uY.y_,this.textTrackCue=t},wY=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Lyt=function(t){var i=gY(t.cue),e=new lY(i);n.messageDispatcher.xyt(e).then()},this.Myt=function(t){var i=gY(t.cue),e=new vY(i);n.messageDispatcher.xyt(e).then()},this.Uyt=function(t){var i=gY(t.cue),e=new dY(i);n.messageDispatcher.xyt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.Jft=function(t){t.addEventListener("enter",this.Lyt),t.addEventListener("exit",this.Myt),t.addEventListener("update",this.Uyt)},n.uu=function(t){t.removeEventListener("enter",this.Lyt),t.removeEventListener("exit",this.Myt),t.removeEventListener("update",this.Uyt)},t}();function gY(t){var n=OV(t,t.track.type);return delete n.track,n}var mY=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Xyt=function(t){var n,e=gY(t.cue),r=new oY(e,t.cue.track.uid);i.messageDispatcher.xyt(r).then(),null==(n=i.textTrackCueBridge)||n.Jft(t.cue)},this.Fyt=function(t){var n,e=gY(t.cue),r=new aY(e,t.cue.track.uid);i.messageDispatcher.xyt(r).then(),null==(n=i.textTrackCueBridge)||n.uu(t.cue)},this.Lyt=function(t){var n=gY(t.cue),e=new hY(n,t.cue.track.uid);i.messageDispatcher.xyt(e).then()},this.Myt=function(t){var n=gY(t.cue),e=new cY(n,t.cue.track.uid);i.messageDispatcher.xyt(e).then()},this.Hyt=function(t){var n=new fY(t.track.uid);i.messageDispatcher.xyt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new wY(e))}var n=t.prototype;return n.Jft=function(t){t.addEventListener("addcue",this.Xyt),t.addEventListener("removecue",this.Fyt),t.addEventListener("entercue",this.Lyt),t.addEventListener("exitcue",this.Myt),t.addEventListener("cuechange",this.Hyt)},n.uu=function(t){t.removeEventListener("addcue",this.Xyt),t.removeEventListener("removecue",this.Fyt),t.removeEventListener("entercue",this.Lyt),t.removeEventListener("exitcue",this.Myt),t.removeEventListener("cuechange",this.Hyt)},n.initMessageDispatcher=function(t){return j.Vn?new J$:j.Wn&&void 0!==t?new nY(t):void 0},t}(),yY=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Cyt=function(t){var n,i=new eY(t.track);e.messageDispatcher.xyt(i).then(),null==(n=e.textTrackBridge)||n.Jft(t.track)},this.Byt=function(t){var n,i=new rY(t.track);e.messageDispatcher.xyt(i).then(),null==(n=e.textTrackBridge)||n.uu(t.track)},this.zyt=function(t){var n=new sY(t.track);e.messageDispatcher.xyt(n).then()},this.Vyt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Wyt(i);r&&(this.textTrackBridge=new mY(r,i)),this.Jft(),this.sdkEventBus=new $V,XV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Vyt)}var n=t.prototype;return n.Jft=function(){this.textTracks.addEventListener("addtrack",this.Cyt),this.textTracks.addEventListener("removetrack",this.Byt),this.textTracks.addEventListener("change",this.zyt)},n.Wyt=function(t){return j.Vn?new J$:j.Wn&&void 0!==t?new nY(t):void 0},t}();sD(function(t){if(t.t_.textTracks){var n=new J$;new yY(t.t_.textTracks,n)}});var pY,_Y,bY=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case pY.Gyt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qs(new kY(i));break;default:0}},n}($V),kY=function(t){function n(n){var i;return(i=t.call(this,pY.Gyt)||this).detail=n,i}return E(n,t),n}(Iu);!function(t){t.Gyt="registerContentProtectionIntegration"}(pY||(pY={})),function(t){t.qyt="certifiateRequest",t.Yyt="certifiateResponse",t.jyt="licenseRequest",t.Qyt="licenseResponse",t.Zyt="extractFairplayContentId",t.Kyt="buildContentProtection",t.Jyt="registerContentProtectionCallback"}(_Y||(_Y={}));var AY,TY,SY=function(t,n){this.type=_Y.Jyt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(AY||(AY={})),function(t){t.GALLERY="gallery",t.OVERLAY="overlay",t.SPOTLIGHT="spotlight"}(TY||(TY={}));var EY=function(t,n){this.type=_Y.Kyt,this.value=t,this.integrationId=n},IY=function(t,n){this.type=_Y.qyt,this.value=t,this.integrationId=n},RY=function(t,n){this.type=_Y.Yyt,this.value=t,this.integrationId=n},CY=function(t,n){this.type=_Y.Zyt,this.value=t,this.integrationId=n},DY=function(t,n){this.type=_Y.jyt,this.value=t,this.integrationId=n},NY=function(t,n){this.type=_Y.Qyt,this.value=t,this.integrationId=n},PY=function(){function t(t,n){this.$yt=void 0,this.NI=void 0,this.$yt=t,this.NI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new IY(i,this.NI),a.prev=2,a.next=5,Fr.awrap(this.$yt.xyt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.tkt(s)){a.next=13;break}return u=Ur({},s),a.abrupt("return",u);case 13:if(!this.nkt(s)){a.next=16;break}return o=new _(s),a.abrupt("return",o);case 16:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],qe)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new RY(e,this.NI),o.next=5,Fr.awrap(this.$yt.xyt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new _(u));case 11:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,qe)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new DY(e,this.NI),h.prev=3,h.next=6,Fr.awrap(this.$yt.xyt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.tkt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new _(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.nkt(u)){h.next=17;break}return a=new _(u),h.abrupt("return",a);case 17:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],qe)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Ur({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new NY(r,this.NI),a.next=6,Fr.awrap(this.$yt.xyt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new _(o));case 12:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,qe)},i.extractFairplayContentId=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new CY(t,this.NI),r.next=3,Fr.awrap(this.$yt.xyt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",qe.reject(new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,qe)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.tkt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.nkt=function(t){return!!new _(t)},t}(),xY=function(){function t(t){this.$yt=void 0,this.$yt=t}return t.prototype.build=function(t){if(!t.integration)throw new l("integrationId is undefined");var n=new PY(this.$yt,t.integration),i=new EY({drmConfiguration:t},t.integration);return this.$yt.xyt(i),n},t}(),BY=function(t){function n(){var n;return(n=t.call(this)||this).$yt=new J$,n}return E(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.$yt}}]),n}(function(){var t=this;this.sft=void 0,this.ikt=function(n){var i=new xY(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:KA.MI.BI(r,s,i)};t.messageDispatcher.xyt(new SY(u,r))},this.sft=new bY,XV().contentProtectionIntegration={sdkEventBus:this.sft},this.sft.addEventListener(pY.Gyt,this.ikt)});sD(function(t){new BY});var OY=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Iu);var LY,MY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ekt=function(){},e.rkt(),e}E(n,t);var e=n.prototype;return e.skt=function(){this.IN&&this.IN.tu(Pf.sf,this.handleAirplayChangedEvent),this.IN=this.sL,this.IN.Zs(Pf.sf,this.handleAirplayChangedEvent)},e.ukt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.IN){t.next=2;break}return t.abrupt("return");case 2:this.okt(YE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,qe)},e.akt=function(){this.okt(YE.AVAILABLE)},e.qm=function(){i.Lr.ze&&(this.ckt.jm(),this.hkt.Hs(),this.hkt=new au,pu(this.fkt(this.hkt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).$w=void 0,e.ckt=void 0,e.IN=void 0,e.sL=void 0,e.me=YE.UNAVAILABLE,e.hkt=new au,e.ekt=void 0,e.handleAirplayChangedEvent=function(){e.IN&&e.IN.yy?e.ukt():e.wQ===YE.CONNECTED&&e.akt()},e.ckt=n,e.sL=i,e}E(n,t);var e=n.prototype;return e.rkt=function(){this.skt(),this.ckt.Zs("sourcechange",this.ekt),i.Lr.ze&&this.okt(YE.AVAILABLE)},e.preloadPlayer=function(t){if(fu(t),this.IN.ag<Ky.Ug){var n=this.IN.au("loadedmetadata",t);return this.IN.Dy=uE.uA,n}return qe.resolve()},e.okt=function(t){t!==this.me&&(this.me=t,this.Qs(new OY(this.me)))},e.fkt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.preloadPlayer(t));case 2:this.sL.qm();case 3:case"end":return n.stop()}},null,this,null,qe)},e.Ym=function(){i.Lr.ze&&this.IN.Ym()},e.xd=function(){this.$s(),this.ckt.tu("sourcechange",this.ekt),this.hkt.Hs()},T(n,[{key:"LM",get:function(){return this.wQ===YE.CONNECTED}},{key:"wQ",get:function(){return this.me}},{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get casting(){return t.LM},get state(){return t.wQ},start:function(){t.qm()},stop:function(){t.Ym()},addEventListener:function(n,i){var e=Sy(n,Ay);t.Zs(e,i)},removeEventListener:function(n,i){var e=Sy(n,Ay);t.tu(e,i)}})),this.$w}}]),n}(Su));tD(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.n_=function(){var n=this.UU.t_;return wy(t.prototype.n_.call(this),{get cast(){return n}})},n}(t)},$C.zU),tD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).vkt=void 0,e.vkt=new MY(Jt(e),e.DM),e.UU.MM(e.vkt),e.Zs("currentsourcechange",function(){e.vkt.skt()}),e}E(n,t);var i=n.prototype;return i.n_=function(){var n=this,i=t.prototype.n_.call(this);return wy(i.cast,{get airplay(){return n.vkt.t_}}),i},i.xd=function(){this.vkt.xd(),t.prototype.xd.call(this)},n}(t)},$C.zU),function(t){t.lkt="airplaystatechange"}(LY||(LY={}));var jY=function(t){this.type=LY.lkt,this.state=t},FY=function(t){function n(n){var i;return(i=t.call(this)||this).dkt=void 0,i.wkt=function(t){var n=new jY(t.state);i.Nyt(n)},i.dkt=n,i.Jft(n),i}return E(n,t),n.prototype.Jft=function(t){t.addEventListener("statechange",this.wkt)},n}(q$);function UY(t){throw new l('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}sD(function(t){var n;null!=(n=t.t_.cast)&&n.airplay&&new FY(t.t_.cast.airplay)});var HY,XY={exports:{}},zY=Mr(XY.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=UY;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new l("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=UY,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.tpt=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.kN.play();if(!(this.tpt&&t.clientX&&t.clientY)){var i=this.kN.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.kN.focus()}},n.prototype.handleKeyPress=function(n){this.tpt=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.tpt=!0},n}(r.default);a.prototype.npt="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.ipt.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.ipt.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=m(s),o=t(82),a=m(o),h=t(83),c=m(h),f=t(87),l=y(f),d=t(85),g=t(89);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,g.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&l.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,g.assign)({role:"button","aria-live":"polite"},e),this.ept=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.rpt=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.rpt),this.controlText(this.npt,t),this.rpt},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.npt||"Need Text";var i=this.localize(t);return this.npt=t,this.rpt.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.ipt.setAttribute("aria-disabled","false"),void 0!==this.ept&&this.ipt.setAttribute("tabIndex",this.ept),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.ipt.setAttribute("aria-disabled","true"),void 0!==this.ept&&this.ipt.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.npt)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",p),i.default=p},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),p=T(d),_=t(92),b=T(_),k=t(88),A=T(k);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),!n&&this.play?this.kN=n=this:this.kN=n,this.spt=(0,A.default)({},this.spt),i=this.spt=(0,A.default)(this.spt,i),this.H_=i.id||i.el&&i.el.id,!this.H_){var r=n&&n.id&&n.id()||"no_player";this.H_=r+"upt"+h.newGUID()}this.wi=i.name||null,i.el?this.ipt=i.el:!1!==i.createEl&&(this.ipt=this.createEl()),this.Pi=[],this.apt={},this.hpt={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Pi)for(var t=this.Pi.length-1;t>=0;t--)this.Pi[t].dispose&&this.Pi[t].dispose();this.Pi=null,this.apt=null,this.hpt=null,this.off(),this.ipt.parentNode&&this.ipt.parentNode.removeChild(this.ipt),s.removeElData(this.ipt),this.ipt=null},t.prototype.player=function(){return this.kN},t.prototype.options=function(t){return p.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.spt=(0,A.default)(this.spt,t),this.spt):this.spt},t.prototype.el=function(){return this.ipt},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.kN.language&&this.kN.language(),i=this.kN.languages&&this.kN.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.cpt||this.ipt},t.prototype.id=function(){return this.H_},t.prototype.name=function(){return this.wi},t.prototype.children=function(){return this.Pi},t.prototype.getChildById=function(t){return this.apt[t]},t.prototype.getChild=function(t){if(t)return t=(0,b.default)(t),this.hpt[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Pi.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,b.default)(n),i||(i={}),!0===i&&(p.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new l("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.kN||this,i)}else r=n;if(this.Pi.splice(e,0,r),"function"==typeof r.id&&(this.apt[r.id()]=r),(s=s||r.name&&(0,b.default)(r.name()))&&(this.hpt[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Pi){for(var n=!1,i=this.Pi.length-1;i>=0;i--)if(this.Pi[i]===t){n=!0,this.Pi.splice(i,1);break}if(n){this.apt[t.id()]=null,this.hpt[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.spt.children;if(i){var e=this.spt,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:w.keys(i)).concat(w.keys(this.spt).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.spt[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,b.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.spt.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.ipt,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.ipt,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.ipt,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.ipt,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.fpt?n?t.call(this):this.setTimeout(t,1):(this.lpt=this.lpt||[],this.lpt.push(t))),this},t.prototype.triggerReady=function(){this.fpt=!0,this.setTimeout(function(){var t=this.lpt;this.lpt=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.ipt,t)},t.prototype.addClass=function(t){return s.addElClass(this.ipt,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.ipt,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.ipt,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.ipt,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.ipt,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.ipt,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.ipt.style[t]=n:this.ipt.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.ipt)return 0;var e=this.ipt.style[t],r=e.indexOf("px");return m(-1!==r?e.slice(0,r):this.ipt["offset"+(0,b.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new l("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.ipt);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,b.default)(t);n=this.ipt[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.ipt.focus()},t.prototype.blur=function(){this.ipt.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=g.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,b.default)(n),t.vpt||(t.vpt={}),"Player"===n&&t.vpt[n]){var e=t.vpt[n];if(e.players&&w.keys(e.players).length>0&&w.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new l("Can not register Player component after player has been created")}return t.vpt[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,b.default)(n),t.vpt&&t.vpt[n]?t.vpt[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(p.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},p.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=w.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.ipt.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.dpt=1;var n=this.kN.audioTracks&&this.kN.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.kN,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.npt="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.kN.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.spt={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.kN.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.kN.isFullscreen()?this.kN.exitFullscreen():this.kN.requestFullscreen()},n}(r.default);a.prototype.npt="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.cpt=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.rpt=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.wpt=a.document.createTextNode(this.localize("LIVE")),this.cpt.appendChild(this.rpt),this.cpt.appendChild(this.wpt),n.appendChild(this.cpt),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.rpt.innerHTML=this.localize("Stream Type"),this.wpt.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.gpt&&!1===i.gpt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.gpt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.kN.muted(!this.kN.muted())},n.prototype.update=function(t){var n=this.kN.volume(),i=3;this.kN.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.kN.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.ipt,"vjs-vol-"+r);a.addElClass(this.ipt,"vjs-vol-"+i)},n}(r.default);c.prototype.npt="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.kN.paused()?this.kN.play():this.kN.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.npt="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.mpt=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.mpt),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.spt.playbackRates||this.spt.playerOptions&&this.spt.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().gpt&&this.player().gpt.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.mpt.innerHTML=this.player().playbackRate()+"x")},n}(r.default);g.prototype.npt="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",g),i.default=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.ypt=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.ppt=o.createEl("span",{innerHTML:this.localize("Loaded")}),this._pt=a.document.createTextNode(": 0%"),this.rpt=o.createEl("span",{className:"vjs-control-text"}),this.rpt.appendChild(this.ppt),this.rpt.appendChild(this._pt),n.appendChild(this.rpt),n},n.prototype.update=function(t){var n=this.kN.buffered(),i=this.kN.duration(),e=this.kN.bufferedEnd(),r=this.ypt,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.ipt.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.ipt.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.ipt.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.ppt.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=m(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=m(h),f=t(80),l=m(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.kN.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.kN.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.bpt(n),r=n-e+1,s=y((0,l.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.bpt=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=g.ceil(e):t>n-e&&(r=g.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",p),i.default=p},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.kpt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.Apt=f.document.createTextNode(": 0%"),this.rpt=c.createEl("span",{className:"vjs-control-text"}),this.rpt.appendChild(this.kpt),this.rpt.appendChild(this.Apt),n.appendChild(this.rpt),n},n.prototype.updateDataAttr=function(t){var n=this.kN.scrubbing()?this.kN.getCache().currentTime:this.kN.currentTime();this.ipt.setAttribute("data-current-time",(0,a.default)(n,this.kN.duration()))},n.prototype.handleLanguagechange=function(){this.kpt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.spt={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),l=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.ipt),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.ipt),this.tooltipProgressBar.ipt.style.width=this.bar.ipt.style.width;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=g.floor(n-i/2)+"px",e.minWidth=g.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.kN.scrubbing()?this.kN.getCache().currentTime:this.kN.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.kN.duration()))},n.prototype.getPercent=function(){var t=this.kN.currentTime()/this.kN.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.kN.scrubbing(!0),this.videoWasPlaying=!this.kN.paused(),this.kN.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.kN.duration();n===this.kN.duration()&&(n-=.1),this.kN.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.kN.scrubbing(!1),this.videoWasPlaying&&this.kN.play()},n.prototype.stepForward=function(){this.kN.currentTime(this.kN.currentTime()+5)},n.prototype.stepBack=function(){this.kN.currentTime(this.kN.currentTime()-5)},n}(r.default);m.prototype.spt={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",m),i.default=m},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.kpt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.Apt=f.document.createTextNode(": 0%"),this.rpt=c.createEl("span",{className:"vjs-control-text"}),this.rpt.appendChild(this.kpt),this.rpt.appendChild(this.Apt),n.appendChild(this.tooltip),n.appendChild(this.rpt),n},n.prototype.updateDataAttr=function(t){var n=this.kN.scrubbing()?this.kN.getCache().currentTime:this.kN.currentTime(),i=(0,a.default)(n,this.kN.duration());this.ipt.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.kpt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").ipt.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.ipt.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().gpt&&this.player().gpt.featuresNativeTextTracks||(n.push(new a.default(this.kN,{kind:this.V_})),this.dpt+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.V_="captions",c.prototype.npt="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.ipt.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this.i_&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this.i_!==t){if(this.Tpt||(this.Tpt=this.update.bind(this)),this.i_){var n=this.kN.remoteTextTrackEls().Spt(this.i_);n&&n.removeEventListener("load",this.Tpt),this.i_=null}if(this.i_=t,this.i_){this.i_.mode="hidden";var i=this.kN.remoteTextTrackEls().Spt(this.i_);i&&i.addEventListener("load",this.Tpt)}}},n.prototype.findChaptersTrack=function(){for(var t=this.kN.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.V_)return i}},n.prototype.getMenuCaption=function(){return this.i_&&this.i_.label?this.i_.label:this.localize((0,c.default)(this.V_))},n.prototype.createMenu=function(){return this.spt.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this.i_)return t;var n=this.i_.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.kN,{track:this.i_,cue:r});t.push(s)}return t},n}(r.default);l.prototype.V_="chapters",l.prototype.npt="Chapters",u.default.registerComponent("ChaptersButton",l),i.default=l},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.kN.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.kN.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.ipt.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.V_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.V_="descriptions",c.prototype.npt="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.ipt.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.V_="subtitles",a.prototype.npt="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.kN,{kind:this.V_})),this.dpt+=1;var n=this.kN.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.V_&&t.push(new a.default(this.kN,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",l),i.default=l},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.kN.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",l),i.default=l},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.cpt=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.cpt),n},n.prototype.updateContent=function(t){var n=this.kN.scrubbing()?this.kN.getCache().currentTime:this.kN.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.kN.duration());e!==this.Ept&&(this.Ept=e,this.cpt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.cpt=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.cpt),n},n.prototype.updateContent=function(t){var n=this.kN.duration();if(n&&this.Qg!==n){this.Qg=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.cpt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.cpt=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.cpt),n},n.prototype.updateContent=function(t){if(this.kN.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.kN.remainingTime());i!==this.Ept&&(this.Ept=i,this.cpt.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.kN.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.kN.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.kN.muted()&&this.kN.muted(!1)},n.prototype.getPercent=function(){return this.kN.muted()?0:this.kN.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.kN.volume(this.kN.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.kN.volume(this.kN.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.kN.volume()).toFixed(2);this.ipt.setAttribute("aria-valuenow",n),this.ipt.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.spt={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.gpt&&!1===i.gpt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.gpt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.spt={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=m(s),o=t(54),a=m(o),h=t(53),c=m(h),f=t(11),l=m(f),d=t(37),g=m(d);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.gpt&&!1===i.gpt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.spt.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.kN,{contentElType:"div"}),n=new g.default(this.kN,this.spt.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){l.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.ipt.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=l.default.prototype.update,y.prototype.npt="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.spt=(0,a.default)(u.default.prototype.spt,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.Ipt={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.Ipt[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==w.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.Rpt=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=m(h),f=t(83),l=m(f),d=t(92),g=y(d);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.F_=!0,r.ipt.setAttribute("aria-haspopup","true"),r.ipt.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.Cpt=!1,this.ipt.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.dpt?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.kN);if(this.dpt=0,this.spt.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,g.default)(this.spt.title),tabIndex:-1});this.dpt+=1,t.Pi.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.spt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(t){this.unpressButton(),this.ipt.blur()})),this.Cpt?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.Cpt&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.Cpt||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.Cpt&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.F_&&(this.Cpt=!0,this.menu.lockShowing(),this.ipt.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.F_&&(this.Cpt=!1,this.menu.unlockShowing(),this.ipt.setAttribute("aria-expanded","false"),this.ipt.focus())},n.prototype.disable=function(){return this.Cpt=!1,this.menu.unlockShowing(),this.ipt.setAttribute("aria-expanded","false"),this.F_=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.F_=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",p),i.default=p},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.ipt.setAttribute("role","menuitemcheckbox"):r.ipt.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.mpt=a.document.createTextNode(this.localize(this.spt.label)),r.appendChild(this.mpt),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.ipt.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.ipt.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.mpt.innerHTML=this.localize(this.spt.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Dpt=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.spt.contentElType||"ul";this.cpt=o.createEl(n,{className:"vjs-menu-content"}),this.cpt.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.cpt,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.cpt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.Dpt&&(t=this.Dpt+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.Dpt&&(t=this.Dpt-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.Dpt=t,n[t].ipt.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",l=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Npt=r.Ppt=r.xpt=!1,r.closeable(!r.spt.uncloseable),r.content(r.spt.content),r.cpt=s.createEl("div",{className:f+"-content"},{role:"document"}),r.Bpt=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.Bpt,r.description()),r.ipt.appendChild(r.Bpt),r.ipt.appendChild(r.cpt),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"Opt","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.spt.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.spt.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.Npt){var t=this.player();this.trigger("beforemodalopen"),this.Npt=!0,(this.spt.fillAlways||!this.Ppt&&!this.xpt)&&this.fill(),this.Lpt=!t.paused(),this.spt.pauseOnOpen&&this.Lpt&&t.pause(),this.closeable()&&this.on(this.ipt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.Ppt=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.Npt},n.prototype.close=function(){if(this.Npt){var t=this.player();this.trigger("beforemodalclose"),this.Npt=!1,this.Lpt&&this.spt.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.ipt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.spt.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this.Mpt=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.cpt;this.cpt=this.ipt,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.cpt=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.Mpt},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.xpt=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.nk=t),this.nk},n.prototype.handleLanguagechange=function(){this.ipt.setAttribute("aria-label",this.label()),s.textContent(this.Bpt,this.description()),this.opened()?this.fill():(this.Ppt||this.xpt)&&(this.Ppt=!1,this.xpt=!1,this.empty())},n}(h.default);l.prototype.spt={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",l),i.default=l},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=Y(u),a=t(81),h=Y(a),c=t(83),f=Y(c),d=t(86),m=Y(d),_=t(78),b=Y(_),k=t(87),A=Q(k),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),C=Y(R),D=t(44),N=Q(D),P=t(46),x=Q(P),B=t(116),O=Q(B),L=t(89),M=t(88),j=Q(M),F=t(69),U=Q(F),H=t(50),X=Q(H),z=t(62),V=Q(z),W=t(63),q=Q(W),G=t(76),$=Q(G);function Y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var Z=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",m.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.spt||!o.spt.techOrder||!o.spt.techOrder.length)throw new l("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.spt.language),e.languages){var a={};w.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.jpt=a}else o.jpt=n.prototype.spt.languages;o.smt={},o.IX=e.poster||"",o.Fpt=!!e.controls,i.controls=!1,o.Upt=!1,o.ipt=o.createEl();var c=(0,j.default)(o.spt);if(e.plugins){var f=e.plugins;w.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.spt.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.ipt.setAttribute("role","region"),o.isAudio()?o.ipt.setAttribute("aria-label","audio player"):o.ipt.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.Hpt()&&o.addClass("vjs-no-flex"),b.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.H_]=o;var d="5.20.6-opentelly.8".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.Xpt(),o.on("fullscreenchange",o.eP),o.on("stageclick",o.zpt),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.Vpt&&this.Vpt.parentNode&&this.Vpt.parentNode.removeChild(this.Vpt),n.players[this.H_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.ipt&&this.ipt.player&&(this.ipt.player=null),this.gpt&&this.gpt.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.Wpt=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.ipt=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(w.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="qpt",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.Vpt=C.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.Vpt,u?u.nextSibling:o.firstChild)}this.width(this.spt.width),this.height(this.spt.height),this.fluid(this.spt.fluid),this.aspectRatio(this.spt.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.Gpt=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Pi.unshift(n),this.ipt=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"Bk":"dT";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(p(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.$pt(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.Ypt;this.Ypt=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.$pt()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.Qpt;if(!/^\d+\:\d+$/.test(t))throw new l("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Qpt=t,this.fluid(!0),this.$pt()},n.prototype.$pt=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.Qpt&&"auto"!==this.Qpt?this.Qpt:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.Bk?this.Bk:void 0!==this.dT?this.dT/r:this.videoWidth()||300,n=void 0!==this.dT?this.dT:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),C.setTextContent(this.Vpt,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.Bk?this.Bk:this.spt.width,o="number"==typeof this.dT?this.dT:this.spt.height,a=this.gpt&&this.gpt.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.Zpt=function(t,n){var i=this;this.gpt&&this.Kpt(),"Html5"!==t&&this.tag&&(V.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Jpt=t,this.fpt=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.spt.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"tbt",videoTracks:this.Mm,textTracks:this.Um,audioTracks:this.Lm,autoplay:this.spt.autoplay,playsinline:this.spt.playsinline,preload:this.spt.preload,loop:this.spt.loop,muted:this.spt.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Wpt||!1,"vtt.js":this.spt["vtt.js"]},this.spt[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.nbt=n.type,n.src===this.smt.src&&this.smt.currentTime>0&&(e.startTime=this.smt.currentTime),this.smt.sources=null,this.smt.source=n,this.smt.src=n.src);var s=V.default.getTech(t);s||(s=r.default.getComponent(t)),this.gpt=new s(e),this.gpt.ready(f.bind(this,this.ibt),!0),U.default.jsonToTextTracks(this.ebt||[],this.gpt),Z.forEach(function(t){i.on(i.gpt,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.gpt,"loadstart",this.rbt),this.on(this.gpt,"waiting",this.sbt),this.on(this.gpt,"canplay",this.ubt),this.on(this.gpt,"canplaythrough",this.obt),this.on(this.gpt,"playing",this.abt),this.on(this.gpt,"ended",this.hbt),this.on(this.gpt,"seeking",this.cbt),this.on(this.gpt,"seeked",this.fbt),this.on(this.gpt,"play",this.lbt),this.on(this.gpt,"firstplay",this.vbt),this.on(this.gpt,"pause",this.dbt),this.on(this.gpt,"durationchange",this.wbt),this.on(this.gpt,"fullscreenchange",this.gbt),this.on(this.gpt,"error",this.mbt),this.on(this.gpt,"loadedmetadata",this.$pt),this.on(this.gpt,"resize",this.$pt),this.on(this.gpt,"posterchange",this.ybt),this.on(this.gpt,"textdata",this.pbt),this.usingNativeControls(this._bt("controls")),this.controls()&&!this.usingNativeControls()&&this.bbt(),this.gpt.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.gpt.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.Kpt=function(){this.Mm=this.videoTracks(),this.Um=this.textTracks(),this.Lm=this.audioTracks(),this.ebt=U.default.textTracksToJson(this.gpt),this.fpt=!1,this.gpt.dispose(),this.gpt=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.gpt;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new l(n)},n.prototype.bbt=function(){this.kbt(),this.on(this.gpt,"mousedown",this.Abt),this.on(this.gpt,"touchstart",this.Tbt),this.on(this.gpt,"touchmove",this.Sbt),this.on(this.gpt,"touchend",this.Ebt),this.on(this.gpt,"tap",this.Ibt)},n.prototype.kbt=function(){this.off(this.gpt,"tap",this.Ibt),this.off(this.gpt,"touchstart",this.Tbt),this.off(this.gpt,"touchmove",this.Sbt),this.off(this.gpt,"touchend",this.Ebt),this.off(this.gpt,"mousedown",this.Abt)},n.prototype.ibt=function(){if(this.triggerReady(),this.smt.volume&&this.Rbt("setVolume",this.smt.volume),this.ybt(),this.wbt(),(this.src()||this.currentSrc())&&this.tag&&this.spt.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.rbt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this.Cbt!==t&&(this.Cbt=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.Cbt},n.prototype.lbt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.sbt=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.ubt=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.obt=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype.abt=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.cbt=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.fbt=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.vbt=function(){this.spt.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.spt.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.dbt=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.hbt=function(){this.addClass("vjs-ended"),this.spt.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.wbt=function(){this.duration(this._bt("duration"))},n.prototype.Abt=function(t){0===t.button&&this.controls()&&(void 0!==this.spt&&void 0!==this.spt.userActions&&void 0!==this.spt.userActions.click&&!1===this.spt.userActions.click||(void 0!==this.spt&&void 0!==this.spt.userActions&&"function"==typeof this.spt.userActions.click?this.spt.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},n.prototype.Ibt=function(){this.userActive(!this.userActive())},n.prototype.Tbt=function(){this.userWasActive=this.userActive()},n.prototype.Sbt=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.Ebt=function(t){t.preventDefault()},n.prototype.eP=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.zpt=function(){this.reportUserActivity()},n.prototype.gbt=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.mbt=function(){var t=this.gpt.error();this.error(t)},n.prototype.pbt=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.smt},n.prototype.Rbt=function(t,n){if(this.gpt&&!this.gpt.fpt)this.gpt.ready(function(){this[t](n)},!0);else try{this.gpt&&this.gpt[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype._bt=function(t){if(this.gpt&&this.gpt.fpt)try{return this.gpt[t]()}catch(n){throw void 0===this.gpt[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.Jpt+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.Jpt+" playback technology element.",n),this.gpt.fpt=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this.Rbt("play"):this.gpt.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this.Rbt("pause"),this},n.prototype.paused=function(){return!1!==this._bt("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.Upt=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.Upt},n.prototype.currentTime=function(t){return void 0!==t?(this.Rbt("setCurrentTime",t),this):(this.smt.currentTime=this._bt("currentTime")||0,this.smt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this.smt.duration?this.smt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this.smt.duration&&(this.smt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this._bt("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=g.max(0,g.min(1,y(t))),this.smt.volume=n,this.Rbt("setVolume",n),this):(n=y(this._bt("volume")),p(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this.Rbt("setMuted",t),this):this._bt("muted")||!1},n.prototype.supportsFullScreen=function(){return this._bt("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.pC=!!t,this):!!this.pC},n.prototype.requestFullscreen=function(t){var n=N.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.spt.fullscreenOptions,void 0!==t&&(i=t)),this.ipt[n.requestFullscreen](i)):this.gpt.supportsFullScreen()?this.Rbt("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=N.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.gpt.supportsFullScreen()?this.Rbt("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.spt.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=V.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.spt.techOrder.map(S.default).map(function(t){return[t,V.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.spt[e.toLowerCase()]))return{source:n,tech:e}};return(this.spt.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this._bt("src");var n=V.default.getTech(this.Jpt);return n||(n=r.default.getComponent(this.Jpt)),Array.isArray(t)?this.Dbt(t):"string"==typeof t?this.src({src:t}):t instanceof w&&(t.type&&!n.canPlaySource(t,this.spt[this.Jpt.toLowerCase()])?this.Dbt([t]):(this.smt.sources=null,this.smt.source=t,this.smt.src=t.src,this.nbt=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this.Rbt("setSource",t):this.Rbt("src",t.src),"auto"===this.spt.preload&&this.load(),this.spt.autoplay&&this.play()},!0))),this},n.prototype.Dbt=function(t){var n=this.selectSource(t);n?(n.tech===this.Jpt?this.src(n.source):this.Zpt(n.tech,n.source),this.smt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.spt.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this.Rbt("load"),this},n.prototype.reset=function(){return this.Zpt((0,S.default)(this.spt.techOrder[0]),null),this.Rbt("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==w.keys(t).length&&n.push(t),this.smt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.smt.source||t},n.prototype.currentSrc=function(){return this._bt("currentSrc")||this.smt.src||""},n.prototype.currentType=function(){return this.nbt||""},n.prototype.preload=function(t){return void 0!==t?(this.Rbt("setPreload",t),this.spt.preload=t,this):this._bt("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this.Rbt("setAutoplay",t),this.spt.autoplay=t,this):this._bt("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this.Rbt("setPlaysinline",t),this.spt.playsinline=t,this):this._bt("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this.Rbt("setLoop",t),this.spt.loop=t,this):this._bt("loop")},n.prototype.poster=function(t){return void 0===t?this.IX:(t||(t=""),this.IX=t,this.Rbt("setPoster",t),this.trigger("posterchange"),this)},n.prototype.ybt=function(){!this.IX&&this.gpt&&this.gpt.poster&&(this.IX=this.gpt.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.Fpt!==t&&(this.Fpt=t,this.usingNativeControls()&&this.Rbt("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.bbt()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.kbt())),this):!!this.Fpt},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.Nbt!==t&&(this.Nbt=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.Nbt},n.prototype.error=function(t){return void 0===t?this.mu||null:null===t?(this.mu=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.mu=new x.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.mu.code+" "+x.default.errorTypes[this.mu.code]+")",this.mu.message,this.mu),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.Pbt=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.xbt&&(this.xbt=t,t?(this.Pbt=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.Pbt=!1,this.gpt&&this.gpt.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.xbt},n.prototype.Xpt=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.Pbt){this.Pbt=!1,this.userActive(!0),this.clearTimeout(r);var t=this.spt.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.Pbt||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this.Rbt("setPlaybackRate",t),this):this.gpt&&this.gpt.featuresPlaybackRate?this._bt("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.Bbt=!!t,this):!!this.Bbt},n.prototype.videoTracks=function(){return this.gpt?this.gpt.videoTracks():(this.Mm=this.Mm||new $.default,this.Mm)},n.prototype.audioTracks=function(){return this.gpt?this.gpt.audioTracks():(this.Lm=this.Lm||new q.default,this.Lm)},n.prototype.textTracks=function(){if(this.gpt)return this.gpt.textTracks()},n.prototype.remoteTextTracks=function(){if(this.gpt)return this.gpt.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.gpt)return this.gpt.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.gpt)return this.gpt.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.gpt)return this.gpt.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.gpt)return this.gpt.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this._bt("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.gpt&&this.gpt.videoWidth&&this.gpt.videoWidth()||0},n.prototype.videoHeight=function(){return this.gpt&&this.gpt.videoHeight&&this.gpt.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.G_:(this.G_!==String(t).toLowerCase()&&(this.G_=String(t).toLowerCase(),void 0!==this.ipt&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,j.default)(n.prototype.spt.languages,this.jpt)},n.prototype.toJSON=function(){var t=(0,j.default)(this.spt),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,j.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,O.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],l=f.nodeName.toLowerCase();"source"===l?n.sources.push(h.getElAttributes(f)):"track"===l&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.Hpt=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);K.players={};var J=s.window.navigator;K.prototype.spt={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){K.prototype[t]=function(){return this._bt(t)}}),Z.forEach(function(t){K.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",K),i.default=K},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.spt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.spt.contentElType||"ul";this.cpt=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.cpt,className:"vjs-menu"});return i.appendChild(this.cpt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=g(e),s=t(5),u=g(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),l=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.Obt=c.createEl("img"),t.appendChild(this.Obt)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.Obt)this.Obt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.ipt.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.kN.controls()&&(this.kN.paused()?this.kN.play():this.kN.pause())},n}(r.default);u.default.registerComponent("PosterImage",m),i.default=m},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,v=i.length;f<v;f++){var d=i[f];if(!d||!d.getAttribute){l(1);break}if(void 0===d.player){var w=d.getAttribute("data-setup");null!==w&&c(d)}}else h||l(1)}};function l(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=l,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.spt.barName),r.vertical(!!r.spt.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.ipt.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.ipt.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.ipt){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.ipt,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.ipt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.ipt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this.dk||!1:(this.dk=!!t,this.dk?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=p(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=p(c),l=t(5),d=p(l),g=t(85),m=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function p(t){return t&&t.__esModule?t:{default:t}}var _=g.window.navigator,b=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),g.window.videojs=g.window.videojs||{},g.window.videojs.Flash=g.window.videojs.Flash||{},g.window.videojs.Flash.onReady=n.onReady,g.window.videojs.Flash.onEvent=n.onEvent,g.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.Lbt=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.spt;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,m.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,m.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,m.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.ipt=n.embed(t.swf,e,r,s),this.ipt.tech=this,this.ipt},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.ipt.vjs_play()},n.prototype.pause=function(){this.ipt.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.ipt.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.Lbt},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.Lbt=n,this.trigger("seeking"),this.ipt.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.Lbt||0:this.ipt.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.vy?this.vy.src:this.ipt.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.ipt.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.ipt.vjs_load()},n.prototype.poster=function(){this.ipt.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.ipt.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.ipt.vjs_getProperty("getVideoPlaybackQuality");return g.window.performance&&"function"==typeof g.window.performance.now?t.creationTime=g.window.performance.now():g.window.performance&&g.window.performance.timing&&"number"==typeof g.window.performance.timing.navigationStart&&(t.creationTime=g.window.Date.now()-g.window.performance.timing.navigationStart),t},n}(r.default),k=b.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);k["set"+n]=function(n){return this.ipt.vjs_setProperty(t,n)}}function E(t){k[t]=function(){return this.ipt.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);b.isSupported=function(){return b.version()[0]>=10},r.default.withSourceHandlers(b),b.nativeSourceHandler={},b.nativeSourceHandler.canPlayType=function(t){return t in b.formats?"maybe":""},b.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),b.nativeSourceHandler.canPlayType(r)},b.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},b.nativeSourceHandler.dispose=function(){},b.registerSourceHandler(b.nativeSourceHandler),b.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},b.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&b.checkReady(i)},b.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){b.checkReady(t)},50))},b.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},b.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},b.version=function(){var t="0,0,0";try{t=new g.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{_.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(_.plugins["Shockwave Flash 2.0"]||_.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},b.embed=function(t,n,i,e){var r=b.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},b.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&w.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,m.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),w.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,m.assign)({data:t,width:"100%",height:"100%"},e),w.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(b),d.default.registerComponent("Flash",b),r.default.registerTech("Flash",b),i.default=b},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=D(s),o=t(5),a=D(o),h=t(81),c=C(h),f=t(93),l=C(f),d=t(83),g=C(d),m=t(87),y=D(m),p=t(121),_=D(p),b=t(78),k=C(b),A=t(85),T=t(89),S=t(88),E=D(S),I=t(92),R=D(I);function C(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function D(t){return t&&t.__esModule?t:{default:t}}var N=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.ipt.currentSrc!==u.src||i.tag&&3===i.tag.Gpt)?s.setSource(u):s.Mbt(s.ipt),s.ipt.hasChildNodes()){for(var a=s.ipt.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().jbt(f),s.remoteTextTracks().E_(f.track),o||s.ipt.hasAttribute("crossorigin")||!l.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var w=0;w<c.length;w++)s.ipt.removeChild(c[w])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"Fbt"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"Ubt"]=function(t){return i.addTrack(t.track)},s["handle"+e+"Hbt"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"Fbt"]),n.addEventListener("addtrack",s["handle"+e+"Ubt"]),n.addEventListener("removetrack",s["handle"+e+"Hbt"]),s["removeOld"+e+"Xbt"]=function(t){return s.zbt(i,n)},s.on("loadstart",s["removeOld"+e+"Xbt"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,_.default)(r)),s.Vbt=g.bind(s,s.handleTextTrackChange),s.Wbt=g.bind(s,s.handleTextTrackAdd),s.qbt=g.bind(s,s.handleTextTrackRemove),s.Gbt()),s.$bt(),(k.TOUCH_ENABLED||k.IS_IPHONE||k.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.Ybt(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.ipt[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"Fbt"]),e.removeEventListener("addtrack",i["handle"+n+"Ubt"]),e.removeEventListener("removetrack",i["handle"+n+"Hbt"])),e&&i.off("loadstart",i["removeOld"+n+"Xbt"])}),n.disposeMediaElement(this.ipt),t.prototype.dispose.call(this)},n.prototype.$bt=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.spt.tag;if(!t||!this.spt.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.spt.tag&&c.getElAttributes(this.spt.tag),r=(0,E.default)({},e);k.TOUCH_ENABLED&&!0===this.spt.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.spt.techId,class:"vjs-tech"}))}t.playerId=this.spt.playerId}void 0!==this.spt.preload&&c.setAttribute(t,"preload",this.spt.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.spt[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype.Mbt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.Gbt=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().E_(t[n]);t.addEventListener&&(t.addEventListener("change",this.Vbt),t.addEventListener("addtrack",this.Wbt),t.addEventListener("removetrack",this.qbt)),this.on("loadstart",this.Qbt)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().E_(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().I_(t.track)},n.prototype.zbt=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.I_(a)}}},n.prototype.Qbt=function(t){var n=this.textTracks(),i=this.el().textTracks;this.zbt(n,i)},n.prototype.play=function(){var t=this.ipt.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.ipt.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.ipt.duration===1/0&&k.IS_ANDROID&&k.IS_CHROME&&0===this.ipt.currentTime?(this.on("timeupdate",function n(){t.ipt.currentTime>0&&(t.ipt.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.ipt.duration||NaN},n.prototype.width=function(){return this.ipt.offsetWidth},n.prototype.height=function(){return this.ipt.offsetHeight},n.prototype.Ybt=function(){var t=this;if("webkitDisplayingFullscreen"in this.ipt){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.ipt&&"picture-in-picture"!==this.ipt.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.ipt.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.ipt;t.paused&&t.networkState<=t.HAVE_METADATA?(this.ipt.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.ipt.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.ipt.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.ipt)},n.prototype.currentSrc=function(){return this.vy?this.vy.src:this.ipt.currentSrc},n.prototype.setControls=function(t){this.ipt.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.ipt.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){N.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",N.TEST_VID.appendChild(P)}N.isSupported=function(){try{N.TEST_VID.volume=.5}catch(t){return!1}return!(!N.TEST_VID||!N.TEST_VID.canPlayType)},N.canControlVolume=function(){try{var t=N.TEST_VID.volume;return N.TEST_VID.volume=t/2+.1,t!==N.TEST_VID.volume}catch(t){return!1}},N.canControlPlaybackRate=function(){if(k.IS_ANDROID&&k.IS_CHROME&&k.CHROME_VERSION<58)return!1;try{var t=N.TEST_VID.playbackRate;return N.TEST_VID.playbackRate=t/2+.1,t!==N.TEST_VID.playbackRate}catch(t){return!1}},N.supportsNativeTextTracks=function(){return k.IS_ANY_SAFARI},N.supportsNativeVideoTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.videoTracks)},N.supportsNativeAudioTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.audioTracks)},N.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],N.prototype.featuresVolumeControl=N.canControlVolume(),N.prototype.featuresPlaybackRate=N.canControlPlaybackRate(),N.prototype.movingMediaElementInDOM=!k.IS_IOS,N.prototype.featuresFullscreenResize=!0,N.prototype.featuresProgressEvents=!0,N.prototype.featuresTimeupdateEvents=!0,N.prototype.featuresNativeTextTracks=N.supportsNativeTextTracks(),N.prototype.featuresNativeVideoTracks=N.supportsNativeVideoTracks(),N.prototype.featuresNativeAudioTracks=N.supportsNativeAudioTracks();var x=N.TEST_VID&&N.TEST_VID.constructor.prototype.canPlayType,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,O=/^video\/mp4/i;N.patchCanPlayType=function(){k.ANDROID_VERSION>=4&&!k.IS_FIREFOX?N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&B.test(t)?"maybe":x.call(this,t)}:k.IS_OLD_ANDROID&&(N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&O.test(t)?"maybe":x.call(this,t)})},N.unpatchCanPlayType=function(){var t=N.TEST_VID.constructor.prototype.canPlayType;return N.TEST_VID.constructor.prototype.canPlayType=x,t},N.patchCanPlayType(),N.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},N.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){N.prototype[t]=function(){return this.ipt[t]||this.ipt.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.ipt[t]=n,n?this.ipt.setAttribute(t,t):this.ipt.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){N.prototype[t]=function(){return this.ipt[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.ipt[t]=n}}),["pause","load"].forEach(function(t){N.prototype[t]=function(){return this.ipt[t]()}}),u.default.withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(t){try{return N.TEST_VID.canPlayType(t)}catch(t){return""}},N.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return N.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=l.getFileExtension(t.src);return N.nativeSourceHandler.canPlayType("video/"+i)}return""},N.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),a.default.registerComponent("Html5",N),u.default.registerTech("Html5",N),i.default=N},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),l=u.default.getTech(f);if(f||(l=r.default.getComponent(f)),l&&l.isSupported()){i.Zpt(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),g=t(70),m=P(g),y=t(76),p=P(y),_=t(63),b=P(_),k=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(k),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),C=P(R),D=t(85),N=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r.Cbt=!1,r.on("playing",function(){this.Cbt=!0}),r.on("loadstart",function(){this.Cbt=!1}),r.Um=i.textTracks,r.Mm=i.videoTracks,r.Lm=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.Zbt=new m.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.wi=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.Kbt!==t&&this.trigger("progress"),this.Kbt=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.Qg=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.Qg)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.I_(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.Zbt||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.mu=new C.default(t),this.trigger("error")),this.mu},n.prototype.played=function(){return this.Cbt?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.Jbt=function(){var t=this;if(!D.window.WebVTT)if(D.document.body.contains(this.el())){var n={};if(!this.spt["vtt.js"]&&(0,N.isPlain)(n)&&w.keys(n).length>0)return void this.trigger("vttjsloaded");var i=D.document.createElement("script");i.src=this.spt["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),D.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.Jbt)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.E_(t.track)},r=function(t){return n.I_(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.Jbt();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.Mm=this.Mm||new p.default,this.Mm},n.prototype.audioTracks=function(){return this.Lm=this.Lm||new b.default,this.Lm},n.prototype.textTracks=function(){return this.Um=this.Um||new m.default,this.Um},n.prototype.remoteTextTracks=function(){return this.gkt=this.gkt||new m.default,this.gkt},n.prototype.remoteTextTrackEls=function(){return this.mkt=this.mkt||new a.default,this.mkt},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new l("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.E_(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().jbt(i),this.remoteTextTracks().E_(i.track),!0!==n&&this.Zbt.E_(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().Spt(t);this.remoteTextTrackEls().ykt(n),this.remoteTextTracks().I_(t),this.Zbt.I_(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.pkt||(n.pkt={}),!n.isTech(i))throw new l("Tech "+t+" must be a Tech");return n.pkt[t]=i,i},n.getTech=function(t){return n.pkt&&n.pkt[t]?n.pkt[t]:D.window&&D.window.videojs&&D.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.window.videojs[t]):void 0},n}(r.default);x.prototype.Um,x.prototype.Lm,x.prototype.Mm,x.prototype.featuresVolumeControl=!0,x.prototype.featuresFullscreenResize=!1,x.prototype.featuresPlaybackRate=!1,x.prototype.featuresProgressEvents=!1,x.prototype.featuresTimeupdateEvents=!1,x.prototype.featuresNativeTextTracks=!1,x.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this._kt&&this._kt[t]?this._kt[t].apply(this._kt,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.spt);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.vy=n,this.off(this.ipt,"loadstart",t.prototype.bkt),this.off(this.ipt,"loadstart",t.prototype.kkt),this.one(this.ipt,"loadstart",t.prototype.bkt)),this._kt=i.handleSource(n,this,this.spt),this.on("dispose",this.disposeSourceHandler),this},t.prototype.bkt=function(){this.one(this.ipt,"loadstart",t.prototype.kkt)},t.prototype.kkt=function(){this.disposeSourceHandler(),this.one(this.ipt,"loadstart",t.prototype.kkt)},t.prototype.disposeSourceHandler=function(){this.vy&&(this.clearTracks(["audio","video"]),this.vy=null),this.cleanupAutoTextTracks(),this._kt&&(this.off(this.ipt,"loadstart",t.prototype.bkt),this.off(this.ipt,"loadstart",t.prototype.kkt),this._kt.dispose&&this._kt.dispose(),this._kt=null)}},r.default.registerComponent("Tech",x),r.default.registerComponent("MediaTechController",x),x.registerTech("Tech",x),i.default=x},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).Akt=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(n){var i=this;n.enabled&&c(this,n),t.prototype.E_.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.Akt||(i.Akt=!0,c(i,n),i.Akt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.E_(t)},n.prototype.removeTrack=function(n){t.prototype.I_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.Xgt=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i.Tkt=[],w.defineProperty(i,"length",{get:function(){return this.Tkt.length}});for(var u=0,o=n.length;u<o;u++)i.jbt(n[u]);if(r.IS_IE8)return i}return t.prototype.jbt=function(t){var n=this.Tkt.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.Tkt[n]}}),-1===this.Tkt.indexOf(t)&&this.Tkt.push(t)},t.prototype.Spt=function(t){for(var n=void 0,i=0,e=this.Tkt.length;i<e;i++)if(t===this.Tkt[i].track){n=this.Tkt[i];break}return n},t.prototype.ykt=function(t){for(var n=0,i=this.Tkt.length;n<i;n++)if(t===this.Tkt[n]){this.Tkt.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=0,d=2,g=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,w.defineProperty(o,"readyState",{get:function(){return u}}),w.defineProperty(o,"track",{get:function(){return c}}),u=l,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);g.prototype.Ipt={load:"load"},g.NONE=l,g.LOADING=1,g.LOADED=d,g.ERROR=3,i.default=g},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.Skt.call(i,n),w.defineProperty(i,"length",{get:function(){return this.C_}}),r.IS_IE8)return i}return t.prototype.Skt=function(t){var n=this.length||0,i=0,e=t.length;this.cg=t,this.C_=t.length;var r=function(t){""+t in this||w.defineProperty(this,""+t,{get:function(){return this.cg[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+m(t[1]+t[1],16)+","+m(t[2]+t[2],16)+","+m(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.gpt&&i.gpt.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.spt.playerOptions.tracks||[],n=0;n<t.length;n++)this.kN.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.kN.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.kN.gpt&&this.kN.gpt.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.ipt)},n.prototype.updateDisplay=function(){var t=this.kN.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.kN.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.ipt);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",l),i.default=l},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},Ekt:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=l(this,t.call(this,e,r)),l(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(n){t.prototype.E_.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=g(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),l=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=["#000","Black"],y=["#00F","Blue"],p=["#0FF","Cyan"],_=["#0F0","Green"],b=["#F0F","Magenta"],k=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,A,k,_,y,T,b,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,m,k,_,y,T,b,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function C(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.spt.persistTextTrackSettings=r.spt.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.spt.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.Ikt=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.H_);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.Rkt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this.Ikt("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.Ikt("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Ckt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this.Ikt("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.Ikt("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Dkt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this.Ikt("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.Ikt("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.Nkt=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.Rkt(),this.Ckt(),this.Dkt()])},n.prototype.Pkt=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.Ikt("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.Ikt("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.Ikt("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.xkt=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.Nkt(),this.Pkt(),this.xkt()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.H_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.H_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,C(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(C(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){l.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.spt.persistTextTrackSettings){var t=this.getValues();try{w.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){l.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.kN.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",D),i.default=D},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),g=t(93),m=t(122),y=T(m),p=t(88),_=T(p),b=t(78),k=A(b);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,g.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.Xgt=!0,"function"!=typeof c.window.WebVTT){if(n.gpt){var r=function(){return E(e,n)};n.gpt.on("vttjsloaded",r),n.gpt.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.gpt.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),!e.tech)throw new l("A tech was not provided.");var s=(0,_.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.gpt=s.tech,k.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c.cg=[],c.hg=[];var d=new r.default(c.cg),g=new r.default(c.hg),m=!1,y=u.bind(c,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==a&&c.gpt.ready(function(){c.gpt.on("timeupdate",y)},!0),w.defineProperty(c,"default",{get:function(){return h},set:function(){}}),w.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.gpt.ready(function(){n.gpt.on("timeupdate",y)},!0),this.trigger("modechange"))}}),w.defineProperty(c,"cues",{get:function(){return this.Xgt?d:null},set:function(){}}),w.defineProperty(c,"activeCues",{get:function(){if(!this.Xgt)return null;if(0===this.cues.length)return g;for(var t=this.gpt.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(m=!1,n.length!==this.hg.length)m=!0;else for(var s=0;s<n.length;s++)-1===this.hg.indexOf(n[s])&&(m=!0);return this.hg=n,g.Skt(this.hg),g},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.Xgt=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.Bkt=t}var e=this.gpt.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this.cg.push(n),this.cues.Skt(this.cg)},n.prototype.removeCue=function(t){for(var n=this.cg.length;n--;){var i=this.cg[n];if(i===t||i.Bkt&&i.Bkt===t){this.cg.splice(n,1),this.cues.Skt(this.cg);break}}},n}(d.default);R.prototype.Ipt={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.JA=[],w.defineProperty(e,"length",{get:function(){return this.JA.length}});for(var u=0;u<i.length;u++)e.E_(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(t){var n=this.JA.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.JA[n]}}),-1===this.JA.indexOf(t)&&(this.JA.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.I_=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.JA.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.Ipt={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.Ipt)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=l(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){w.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return l(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).Akt=!1,w.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(n){var i=this;n.selected&&c(this,n),t.prototype.E_.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.Akt||(i.Akt=!0,c(i,n),i.Akt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.E_(t)},n.prototype.removeTrack=function(n){t.prototype.I_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,l=i.IS_IPOD=/iPod/i.test(o),v=i.IS_IOS=f||c||l;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),g=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&g<2.3,i.IS_NATIVE_ANDROID=d&&g<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var m,p,_=i.IS_EDGE=/Edge/i.test(o),b=i.IS_CHROME=!_&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(m=/MSIE\s(\d+)\.\d/.exec(o),!(p=m&&y(m[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(p=11),p);var k=i.IS_SAFARI=/Safari/i.test(o)&&!b&&!d&&!_;i.IS_ANY_SAFARI=k||v,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=p,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return w.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?b(u,i):u[t]=i}),w.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&N(u,e),u},i.textContent=b,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),k[n]||(k[n]={}),k[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!w.getOwnPropertyNames(k[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete k[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){w.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=g.max(0,g.min(1,(u-a+s)/s)),i.x=g.max(0,g.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=C,i.normalizeContent=D,i.appendContent=N,i.insertContent=function(t,n){return N(C(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),v=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function m(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new l("class has illegal whitespace characters")}function p(t){return(0,v.isObject)(t)&&1===t.nodeType}function _(t){return function(n,i){if(!m(n))return s.document[t](null);m(i)&&(i=s.document.querySelector(i));var e=p(i)?i:s.document;return e[t]&&e[t](n)}}function b(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var k={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:g.round(o),top:g.round(c)}}function R(t){return(0,v.isObject)(t)&&3===t.nodeType}function C(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function D(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),p(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function N(t,n){return D(n).forEach(function(n){return t.appendChild(n)}),t}i.$=_("querySelector"),i.$$=_("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=p,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return v(t,n,i,e);var r=function t(){p(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),w.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===w.getOwnPropertyNames(i).length&&s.removeElData(t)}function v(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var g=!1;!function(){try{var t=w.defineProperty({},"passive",{get:function(){g=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var m=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return v(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;g&&m.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function p(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return v(p,t,n,i);var r=function(n){e.handlers[n]=[],l(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);l(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=g.floor(t%60),e=g.floor(t/60%60),r=g.floor(t/3600),s=g.floor(n/60%60),u=g.floor(n/3600);return(p(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return w.assign?w.assign.apply(w,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===w};var r=w.prototype.toString,s=function(t){return o(t)?w.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new l("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new l("This TimeRanges object is empty")},end:function(){throw new l("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=K(s),o=t(81),a=K(o),h=t(56),c=K(h),f=t(90),l=K(f),d=t(5),g=Z(d),m=t(42),y=Z(m),p=t(82),_=K(p),b=t(51),k=Z(b),A=t(52),T=Z(A),S=t(88),E=Z(S),I=t(83),R=K(I),C=t(72),D=Z(C),N=t(64),P=Z(N),x=t(77),B=Z(x),O=t(91),L=t(84),M=Z(L),j=t(87),F=Z(j),U=t(93),H=K(U),X=t(89),z=t(80),V=Z(z),W=t(43),q=Z(W),G=t(122),$=Z(G),Y=t(62),Q=Z(Y);function Z(t){return t&&t.__esModule?t:{default:t}}function K(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function J(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),J.getPlayers()[t])return n&&F.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&J.getPlayers()[t].ready(i),J.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new v("The element or ID supplied is not valid. (videojs)");if(e.player||k.default.players[e.playerId])return e.player||k.default.players[e.playerId];n=n||{},J.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):F.default.error("please return an object in beforesetup hooks")});var r=g.default.getComponent("Player"),s=new r(e,n,i);return J.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),J.Okt={},J.hooks=function(t,n){return J.Okt[t]=J.Okt[t]||[],n&&(J.Okt[t]=J.Okt[t].concat(n)),J.Okt[t]},J.hook=function(t,n){J.hooks(t,n)},J.removeHook=function(t,n){var i=J.hooks(t).indexOf(n);return!(i<=-1||(J.Okt[t]=J.Okt[t].slice(),J.Okt[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=l.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),l.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,J),J.VERSION="5.20.6-opentelly.8",J.options=k.default.prototype.spt,J.getPlayers=function(){return k.default.players},J.players=k.default.players,J.getComponent=g.default.getComponent,J.registerComponent=function(t,n){Q.default.isTech(n)&&F.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.default.registerComponent.call(g.default,t,n)},J.getTech=Q.default.getTech,J.registerTech=Q.default.registerTech,J.browser=u,J.TOUCH_ENABLED=u.TOUCH_ENABLED,J.extend=q.default,J.mergeOptions=E.default,J.bind=R.bind,J.plugin=T.default,J.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),J.options.languages=(0,E.default)(J.options.languages,((i={})[t]=n,i)),J.options.languages[t]},J.log=F.default,J.createTimeRange=J.createTimeRanges=O.createTimeRanges,J.formatTime=M.default,J.parseUrl=H.parseUrl,J.isCrossOrigin=H.isCrossOrigin,J.EventTarget=y.default,J.on=_.on,J.one=_.one,J.off=_.off,J.trigger=_.trigger,J.xhr=$.default,J.TextTrack=D.default,J.AudioTrack=P.default,J.VideoTrack=B.default,J.isEl=a.isEl,J.isTextNode=a.isTextNode,J.createEl=a.createEl,J.hasClass=a.hasElClass,J.addClass=a.addElClass,J.removeClass=a.removeElClass,J.toggleClass=a.toggleElClass,J.setAttributes=a.setElAttributes,J.getAttributes=a.getElAttributes,J.emptyEl=a.emptyEl,J.appendContent=a.appendContent,J.insertContent=a.insertContent,J.computedStyle=V.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=J),i.default=J},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=w.prototype.toString,u=Array.prototype.concat,o=w.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,w.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=w.getOwnPropertyDescriptor?function(){return w.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new v},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=w.getPrototypeOf||function(t){return t.__proto__},u=void 0===_?void 0:s(_),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":l,"$ %ErrorPrototype%":l.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":p,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":g,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":w,"$ %ObjectPrototype%":w.prototype,"$ %ObjProto_toString%":w.prototype.toString,"$ %ObjProto_valueOf%":w.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":m,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":v,"$ %TypeErrorPrototype%":v.prototype,"$ %Uint8Array%":void 0===_?void 0:_,"$ %Uint8ArrayPrototype%":void 0===_?void 0:_.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new v('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new v("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),l=t(110),d=t(103),w=t(109),m={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*g.floor(g.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*g.floor(g.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:l,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(w(t,i)&&!n[i])return!1;var e=w(t,"[[Value]]"),r=w(t,"[[Get]]")||w(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(w(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(n["[[Value]]"]=t.value),w(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new v("getter must be a function");n["[[Get]]"]=i}if(w(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((w(n,"[[Get]]")||w(n,"[[Set]]"))&&(w(n,"[[Value]]")||w(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=m},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return g.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=w.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new v("No default value")}throw new v("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=w.prototype.toString,s=w.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new v("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=w.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new v("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=g.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return w(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,w.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=w.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=w.prototype.toString},{}],112:[function(t,n,i){var e;if(!w.keys){var s=w.prototype.hasOwnProperty,u=w.prototype.toString,o=t(114),a=w.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{l(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new v("Object.keys called on a non-object");var w=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var m=0;m<t.length;++m)d.push(String(m));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var p in t)w&&"prototype"===p||!s.call(t,p)||d.push(String(p));if(h)for(var _=function(t){if(void 0===r||!g)return l(t);try{return l(t)}catch(t){return!1}}(t),b=0;b<f.length;++b)_&&"constructor"===f[b]||!s.call(t,f[b])||d.push(f[b]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=w.keys,u=s?function(t){return s(t)}:t(112),o=w.keys;u.shim=function(){if(w.keys){var t=function(){var t=w.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(w.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else w.keys=u;return w.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=w.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===w.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new l("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),b)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:d};function u(t){return h(w),t instanceof l||(t=new l(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!v){var n;h(w),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:m,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new l("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,v,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var w,g=d.url=t.uri||t.url,m=d.method=t.method||"GET",y=t.body||t.data||null,p=d.headers=t.headers||{},_=!!t.sync,b=!1;if("json"in t&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(m,g,!_,t.username,t.password),_||(d.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(w=a(function(){v=!0,d.abort("timeout");var t=new l("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in p)p.hasOwnProperty(f)&&d.setRequestHeader(f,p[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new l("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=w.prototype.hasOwnProperty},{}]},{},[94])(94)),VY=10,WY=60;function qY(t){return t.duration()===1/0}function GY(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function $Y(t){var n=ZY(t);return qY(t)?n.end(n.length-1):n.start(0)}function YY(t){return ZY(t).start(0)}function QY(t){var n=ZY(t);return n.end(n.length-1)-n.start(0)}function ZY(t){var n=t.seekable();if(n&&n.length)return n;var i=t.duration();return i=isFinite(i)?i:0,new dE([0,i]).nN()}function KY(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=g.abs(t);var e=g.floor(t%60),r=g.floor(t/60%60),s=g.floor(t/3600),u=g.floor(n/60%60),o=g.floor(n/3600);return(p(t)||t===1/0)&&(s=r=e="-"),i+(s=s>0||o>0?s+":":"")+(r=((s||u>=10)&&r<10?"0"+r:r)+":")+(e=e<10?"0"+e:e)}function JY(){var t=GY(this);this.toggleClass("theo-at-live",function(t,n){if(qY(t)){var i=ZY(t);return i.end(i.length-1)-n<VY}return!1}(this,t)),this.toggleClass("theo-dvr",function(t){return qY(t)&&QY(t)>=WY}(this))}!function(t){t.Lkt="theo",t.Mkt="google-ima",t.jkt="google-dai",t.Fkt="freewheel"}(HY||(HY={}));var tQ="theo-ad-playing",nQ="theo-dai-ad-playing";function iQ(t,n){var i=function(n){var i,e=(null==(i=n.ad)?void 0:i.integration)===HY.jkt;!function(t,n,i){var e="adbreakbegin"===n;t.toggleClass(tQ,e),i?t.toggleClass(nQ,e):t.toggleClass(nQ,!1)}(t,n.type,e)};n&&(n.ads&&(n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i),n.addEventListener("sourcechange",i)),n.verizonMedia&&n.verizonMedia.ads.adBreaks.addEventListener("addadbreak",function(t){t.adBreak.addEventListener("adbreakbegin",i),t.adBreak.addEventListener("adbreakend",i)}))}function eQ(){this.userActive(!1)}var rQ,sQ=function(t,n){this.type=void 0,this.target=void 0,this.playerEvent=void 0,this.type=t.type,this.target=n,this.playerEvent=t};!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(rQ||(rQ={}));var uQ=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],oQ=zY.getTech("Tech"),aQ=zY.getTech("Html5"),hQ=function(t){function n(n,i){var e;void 0===n&&(n={}),(e=t.call(this,n,i)||this).Ukt=void 0,e.Hkt=function(t){return e.js(t)},e.Xkt=!1,e.ZU=function(){e.js(new gp(e.Ukt.currentTime,e.Ukt.readyState)),e.js(new jD)},e.zkt=function(t){e.textTracks().E_(t.track)},e.Vkt=function(t){e.audioTracks().E_(t.track)},e.Wkt=function(t){e.textTracks().I_(t.track)},e.qkt=function(t){e.audioTracks().I_(t.track)},e.Gkt=function(){var t=e.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.$kt=function(){var t=e.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.Ykt=function(){if(e.supportsFullScreen()){var t=e.Xkt,n=e.Ukt.presentation.currentMode===BE.FULLSCREEN;t!==n&&(e.Xkt=n,e.trigger("fullscreenchange",{isFullscreen:n}))}},e.Ah=function(){var t=e.Ukt.errorObject,n=t&&u_(t.code)||-1,i=t&&t.message||"An unknown error occurred.";e.error({code:n,message:e.localize(i)})},e.Ukt=e.spt.player,e.Qkt();var r=!e.paused();return r&&e.pause(),n.preload&&e.setPreload(n.preload),n.autoplay&&e.setAutoplay(n.autoplay),n.muted&&e.setMuted(n.muted),n.source?e.setSrc(n.source):e.Mbt(),r&&e.ready(function(){return e.play()}),e.triggerReady(),e}E(n,t);var i=n.prototype;return i.Qkt=function(){for(var t,n=0;n<uQ.length;n++){var i=uQ[n];this.Ukt.addEventListener(i,this.Hkt)}this.Ukt.addEventListener("error",this.Ah),this.Ukt.addEventListener("contentprotectionerror",this.Ah),this.Ukt.addEventListener("sourcechange",this.ZU),null==(t=this.Ukt.presentation)||t.addEventListener("presentationmodechange",this.Ykt),this.Ukt.textTracks.addEventListener("addtrack",this.zkt),this.Ukt.textTracks.addEventListener("removetrack",this.Wkt),this.Ukt.textTracks.addEventListener("change",this.Gkt),this.Ukt.audioTracks.addEventListener("addtrack",this.Vkt),this.Ukt.audioTracks.addEventListener("removetrack",this.qkt),this.Ukt.audioTracks.addEventListener("change",this.$kt)},i.Zkt=function(){for(var t,n=0;n<uQ.length;n++){var i=uQ[n];this.Ukt.removeEventListener(i,this.Hkt)}this.Ukt.removeEventListener("error",this.Ah),this.Ukt.removeEventListener("contentprotectionerror",this.Ah),this.Ukt.removeEventListener("sourcechange",this.ZU),null==(t=this.Ukt.presentation)||t.removeEventListener("presentationmodechange",this.Ykt),this.Ukt.textTracks.removeEventListener("addtrack",this.zkt),this.Ukt.textTracks.removeEventListener("removetrack",this.Wkt),this.Ukt.textTracks.removeEventListener("change",this.Gkt),this.Ukt.audioTracks.removeEventListener("addtrack",this.Vkt),this.Ukt.audioTracks.removeEventListener("removetrack",this.qkt),this.Ukt.audioTracks.removeEventListener("change",this.$kt)},i.js=function(t){this.trigger(new sQ(t,this))},i.createEl=function(){var t=this.spt,n=t.player;if(!n)throw new l(this.localize('Missing required tech option "player"'));var i=n.element;return zY.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.Ukt},i.addTextTrack=function(n,i,e){return t.prototype.addTextTrack.call(this,n,i,e)},i.buffered=function(){return this.Ukt.buffered},i.played=function(){return this.Ukt.played},i.reset=function(){this.Ukt.stop()},i.play=function(){this.Ukt.play()},i.pause=function(){this.Ukt.pause()},i.paused=function(){return this.Ukt.paused},i.currentTime=function(){return this.Ukt.currentTime},i.setCurrentTime=function(t){this.Ukt.currentTime=t},i.duration=function(){return this.Ukt.duration},i.volume=function(){return this.Ukt.volume},i.setVolume=function(t){this.Ukt.volume=t},i.muted=function(){return this.Ukt.muted},i.setMuted=function(t){this.Ukt.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.Ukt.src)return this.Ukt.src;if(this.Ukt.source){if(!vI(this.Ukt.source.ads))return this.Ukt.source.ads[0].sources;if(function(t){if(t.sources)if(z(t.sources))for(var n=0,i=t.sources;n<i.length;n++){var e=i[n];if(!G(e)&&"verizon-media"===e.integration)return!0}else if(!G(t.sources))return"verizon-media"===t.sources.integration;return!1}(this.Ukt.source))return"This source is managed by the Verizon Media integration extension.";if(function(t){if(t.sources)if(z(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(rp(i[n]))return!0}else if(W(t.sources))return rp(t.sources);return!1}(this.Ukt.source))return"This source is managed by the DAI integration extension."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.mu=null,this.trigger("error")},i.currentSrc=function(){return this.Ukt.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.Ukt.preload},i.setPreload=function(t){this.Ukt.preload=t},i.autoplay=function(){return this.Ukt.autoplay},i.setAutoplay=function(t){this.Ukt.autoplay=!!t},i.seeking=function(){return this.Ukt.seeking},i.seekable=function(){return this.Ukt.seekable},i.ended=function(){return this.Ukt.ended},i.playbackRate=function(){return this.Ukt.playbackRate},i.setPlaybackRate=function(t){this.Ukt.playbackRate=t},i.readyState=function(){return this.Ukt.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.Ukt.videoHeight},i.videoWidth=function(){return this.Ukt.videoWidth},i.supportsFullScreen=function(){return this.Ukt.presentation.supportsMode(BE.FULLSCREEN)},i.enterFullScreen=function(){this.Ukt.presentation.requestMode(BE.FULLSCREEN)},i.exitFullScreen=function(){this.Ukt.presentation.requestMode(BE.INLINE)},i.Kkt=function(){var t=this.Ukt.ads;if(t&&t.playing)return!0;var n=this.Ukt.vr;return!(!n||n.state===j$.Eyt)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",function(t){n.Kkt()&&(t.preventDefault=function(){})}),t.prototype.initTextTrackListeners.call(this)},i.Mbt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,e=function(){i=!0};this.on("loadstart",e);var r=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){t.off("loadstart",e),t.off("loadedmetadata",r),i||t.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),n>=2&&s.push("loadeddata"),n>=3&&s.push("canplay"),n>=4&&s.push("canplaythrough"),this.ready(function(){for(var n=0;n<s.length;n++){var i=s[n];t.trigger(i)}})}},i.dispose=function(){this.Zkt(),this.Ukt=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},T(n,[{key:"featuresVolumeControl",get:function(){return br}}]),n}(oQ);function cQ(t){return function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Jkt=void 0,n}return E(n,t),n.prototype.dispose=function(){this.Jkt=void 0,t.prototype.dispose.call(this)},T(n,[{key:"Ukt",get:function(){return this.Jkt||(this.Jkt=this.player().tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.Jkt}}]),n}(t)}hQ.prototype.featuresFullscreenResize=aQ.prototype.featuresFullscreenResize,hQ.prototype.featuresPlaybackRate=aQ.prototype.featuresPlaybackRate,hQ.prototype.featuresProgressEvents=!0,hQ.prototype.featuresTimeupdateEvents=!0,hQ.prototype.featuresNativeTextTracks=!0,zY.registerTech("THEOplayer",hQ);var fQ=function(t){var n=this;this.pN=void 0,this.tAt=function(t){sr(n.pN,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.nAt=function(t){ur(n.pN,"theo-mobile-button-hover")},this.iAt=function(t){n.pN.blur()},this.pN=t,t.addEventListener("touchstart",this.tAt),t.addEventListener("touchend",this.nAt),t.addEventListener("focusin",this.iAt)},lQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.eAt=function(){sr(this.rAt,"theo-menu-opened")},i.zc=function(){ur(this.rAt,"theo-menu-opened")},T(n,[{key:"rAt",get:function(){return this.player().el()}}]),n}(cQ(zY.getComponent("Menu"))),vQ=function(t){function n(n,e,r){var s;return(s=t.call(this,n,Ur({selectable:!0},e))||this).sAt=void 0,s.uAt=!1,s.tAt=function(t){sr(s.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},s.nAt=function(t){ur(s.el(),"theo-mobile-menu-item-hover")},s.sAt=r,i.Lr.dn&&(s.el().addEventListener("touchstart",s.tAt),s.el().addEventListener("touchend",s.nAt)),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},e.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},e.handleClick=function(t){this.uAt||(this.parentMenu.oAt(this),"tap"!==t.type&&"keydown"!==t.type||(this.uAt=!0,this.trigger("click"),this.uAt=!1))},e.dispose=function(){i.Lr.dn&&(this.el().removeEventListener("touchstart",this.tAt),this.el().removeEventListener("touchend",this.nAt)),t.prototype.dispose.call(this)},T(n,[{key:"parentMenu",get:function(){return this.sAt}}]),n}(cQ(zY.getComponent("MenuItem"))),dQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).sAt=void 0,r.uAt=!1,r.aAt=!1,r.sAt=e,r.on(n,"languagechange",r.hAt),r}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.uAt&&this.cAt&&(this.sAt.fAt(),"tap"===t.type&&(this.uAt=!0,this.trigger("click"),this.uAt=!1))},i.hAt=function(){this.cAt?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},T(n,[{key:"parentMenu",get:function(){return this.sAt}},{key:"cAt",get:function(){return this.aAt},set:function(t){this.aAt=t,this.el().setAttribute("tabindex",this.cAt?"0":"-1"),this.hAt()}}]),n}(zY.getComponent("ClickableComponent")),wQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.lAt=function(t){this.dAt.vAt(t,"replace")},i.wAt=function(t){t.dAt.vAt(this,"restore")},i.Km=function(){ur(this.gAt,"vjs-hidden"),this.gAt.style.opacity="1",t.prototype.show.call(this)},i.Jm=function(){sr(this.gAt,"vjs-hidden")},i.eAt=function(){this.dAt&&this.dAt.eAt(),t.prototype.eAt.call(this)},i.zc=function(){this.dAt&&this.dAt.zc(),t.prototype.zc.call(this),sr(this.gAt,"vjs-hidden")},i.mAt=function(){if(this.dAt&&this.dAt.yAt)return this.dAt.yAt.gAt},i.pAt=function(n,i){if(i.length>0){var e=i[0].height,r=i[0].width;this._At.gy.style.height=e+"px",this._At.gy.style.width=r+"px"}t.prototype.pAt.call(this,n,i)},T(n,[{key:"dAt",get:function(){return this._At},set:function(t){this._At&&this._At.bAt(this),this._At=t,t&&t.kAt(this)}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).AAt=void 0,e.TAt=function(){return e.SAt()},e.AAt=e.player().el(),e.hide(),e.on("menuchange",e.SAt),e}E(n,t);var e=n.prototype;return e.addMenuItem=function(t){t=Ur({playerOptions:this.spt.playerOptions},t);var n=new vQ(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.addSubMenuItem=function(t){t=Ur({playerOptions:this.spt.playerOptions},t);var n=this.EAt(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},e.buildCSSClass=function(){return"theo-menu vjs-menu"},e.eAt=function(){t.prototype.eAt.call(this),r.removeEventListener("resize",this.TAt),r.addEventListener("resize",this.TAt),this.show()},e.SAt=function(){var t=this.mAt();if(t){var n=t.getClientRects();i.Lr.dn?this.IAt(t,n):this.pAt(t,n)}},e.mAt=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},e.pAt=function(t,n){},e.IAt=function(t,n){},e.zc=function(){r.removeEventListener("resize",this.TAt),t.prototype.zc.call(this),this.hide(),i.Lr.dn&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},e.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();sr(i,"theo-menu-content");var e=new dQ(this.player(),this.spt,this);return i.parentNode.insertBefore(e.el(),i),this.RAt=e,n},e.oAt=function(t){},e.show=function(){return this.SAt(),t.prototype.show.call(this)},e.dispose=function(){this.RAt&&this.RAt.dispose(),t.prototype.dispose.call(this)},T(n,[{key:"menuHeader",get:function(){return this.RAt}},{key:"menuItems",get:function(){return this.children()}}]),n}(lQ)),gQ=function(){function t(t){this.CAt=void 0,this.DAt=void 0,this.pN=void 0,this.AAt=void 0,this.DAt=this.CAt=t,this.pN=s.createElement("div"),this.pN.className="theo-tertiary-background theo-menu-animation-container",this.pN.appendChild(this.DAt.gAt),this.AAt=this.CAt.player().el()}var n=t.prototype;return n.kAt=function(t){t.Jm(),this.pN.appendChild(t.gAt)},n.bAt=function(t){this.pN.removeChild(t.gAt)},n.vAt=function(t,n){if(t!=this.CAt){var e=this.CAt;if(this.CAt=t,this.CAt.Km(),this.yAt.focus(),i.Lr.dn)e.Jm();else{var r=PR("transform");e.gAt.style.opacity="0",e.gAt.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this.CAt.gAt.style.opacity="1",this.CAt.gAt.style[r]="",a(function(){e.Jm(),e.gAt.style[r]=""},300)}}},n.eAt=function(){this.NAt(),this.CAt.Km(),this.PAt()},n.zc=function(){this.NAt(),this.CAt.Jm(),this.DAt.Jm(),this.CAt=this.DAt,this.PAt()},n.PAt=function(){var t=this;ER(function(){ur(t.pN,"theo-no-transition"),ur(t.CAt.gAt,"theo-no-transition")})},n.NAt=function(){sr(this.pN,"theo-no-transition"),sr(this.CAt.gAt,"theo-no-transition")},T(t,[{key:"gy",get:function(){return this.pN}},{key:"yAt",get:function(){return this.CAt}}]),t}(),mQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xAt=void 0,r.BAt=!1,r.xAt=e,r.menuHeader.cAt=!0,r}E(n,t);var i=n.prototype;return i.EAt=function(t,n){var i=new yQ(t,n,this);return i.subMenu.dAt=this.dAt,i},i.fAt=function(){this.OAt()},i.oAt=function(n){t.prototype.oAt.call(this,n),this.OAt()},i.OAt=function(){this.parentMenu.wAt(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.BAt?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.BAt=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},T(n,[{key:"gAt",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.xAt}}]),n}(wQ),yQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,Ur({selectable:!1},i),e)||this).LAt=void 0,r.LAt=new mQ(n,i,e),r}return E(n,t),n.prototype.handleClick=function(t){this.parentMenu.lAt(this.subMenu)},T(n,[{key:"subMenu",get:function(){return this.LAt}}]),n}(vQ),pQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).MAt=void 0,r.jAt=!1,r.MAt=e,r}E(n,t);var i=n.prototype;return i.createEl=function(){var n=zY.createEl("div",{className:this.buildCSSClass()});return this.FAt=t.prototype.createEl.call(this),this.FAt.className=t.prototype.buildCSSClass.call(this),sr(this.FAt,"theo-menu-content-animatable"),n.appendChild(this.FAt),this.dAt=new gQ(this),n.appendChild(this.dAt.gy),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.EAt=function(t,n){var i=new yQ(t,n,this);return i.subMenu.dAt=this.dAt,i},i.pAt=function(n,i){t.prototype.pAt.call(this,n,i);var e=this.AAt.getClientRects(),r=e.length>0?e[0]:void 0,s=y(getComputedStyle(this.el()).fontSize);kB(this.el(),this.MAt.el(),r,s)},i.fAt=function(){this.MAt.closeMenu()},i.dispose=function(){this.jAt||(this.jAt=!0,t.prototype.dispose.call(this))},T(n,[{key:"menuButton",get:function(){return this.MAt}},{key:"gAt",get:function(){return this.FAt}}]),n}(wQ),_Q=function(){function t(t,n){var i=this;this.UAt=void 0,this.HAt=void 0,this.XAt=function(){ur(i.UAt,"vjs-hidden");var t=i.HAt.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,e=y(getComputedStyle(i.UAt).fontSize);kB(i.UAt,i.HAt.el(),n,e)},this.zAt=function(){sr(i.UAt,"vjs-hidden")},this.VAt=function(){return i.WAt()},this.HAt=t,fr(t.el()),t.el().addEventListener("mouseover",function(t){fr(t.target)}),this.UAt=s.createElement("span"),this.UAt.innerHTML=this.HAt.localize(n),this.UAt.className="theo-button-tooltip vjs-hidden",this.UAt.setAttribute("aria-hidden","true"),this.HAt.el().appendChild(this.UAt),this.HAt.on("mouseover",this.XAt),this.HAt.on("mouseout",this.zAt),this.HAt.on("dispose",this.VAt)}return t.prototype.WAt=function(){this.HAt.off("mouseover",this.XAt),this.HAt.off("mouseout",this.zAt),this.HAt.off("dispose",this.VAt),nr(this.UAt)},T(t,[{key:"qAt",get:function(){return this.UAt.textContent||""},set:function(t){this.UAt.innerHTML=this.HAt.localize(t),this.zAt(),this.XAt(),fr(this.HAt.el())}}]),t}(),bQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).GAt=void 0,r.UAt=void 0,r.$At=!1,r.YAt=1,r.Xy=!0,r.QAt=function(t){var n,e=r.el().contains(t.target),s=r.GAt.el().contains(t.target),u=!1;i.Lr.dn&&r.ZAt&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);e||s||!r.$At||(u&&t.preventDefault(),r.closeMenu())},r.KAt=function(t){27===t.which&&(r.closeMenu(),r.focus())},r._W=function(){r.$At&&r.closeMenu()},r.JAt=function(){r.GAt.menuItems.length>=r.YAt?r.show():(r.closeMenu(),r.hide())},r.GAt=new pQ(n,e,Jt(r)),r.player().getChild("controlBarMenuContainer").addChild(r.GAt),r.UAt=new _Q(Jt(r),r.controlText()),r.el().setAttribute("aria-haspopup","true"),i.Lr.Gt?(r.on(s,"touchend",r.QAt),new fQ(r.el())):(r.on(s,"click",r.QAt),r.on(s,"keydown",r.KAt),jR&&r.on(s,jR.nx,r.closeMenu)),r.Ukt.addEventListener("seeking",r._W),r.on(r.GAt,"menuchange",r.JAt),r.on(n,"languagechange",r.hAt),r.JAt(),r}E(n,t);var e=n.prototype;return e.isMenuOpen=function(){return this.$At},e.openMenu=function(){this.Xy&&!this.$At&&(this.GAt.eAt(),this.el().setAttribute("aria-expanded","true"),this.$At=!0,this.GAt.focus())},e.closeMenu=function(){this.Xy&&this.$At&&(this.GAt.zc(),this.el().setAttribute("aria-expanded","false"),this.$At=!1)},e.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},e.handleClick=function(){this.$At?this.closeMenu():this.openMenu()},e.enable=function(){return this.Xy=!0,t.prototype.enable.call(this)},e.disable=function(){return this.closeMenu(),this.Xy=!1,t.prototype.disable.call(this)},e.hAt=function(){this.UAt.qAt=this.controlText()},e.dispose=function(){this.player().removeChild(this.GAt),this.GAt.dispose(),this.UAt.WAt(),this.Ukt.removeEventListener("seeking",this._W),t.prototype.dispose.call(this)},T(n,[{key:"ZAt",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.GAt}},{key:"minimumMenuItems",set:function(t){this.YAt=t,this.JAt()}}]),n}(cQ(zY.getComponent("Button"))),kQ=zY.getComponent("Component"),AQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),e}E(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=Ur({playerOptions:this.spt.playerOptions},t);var n=new bQ(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(zY.getComponent("ControlBar")),TQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(kQ);zY.registerComponent("THEOControlBarShadow",TQ);var SQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).tTt=void 0,e.tTt=i.nTt,e}E(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.tTt.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.tTt.removeClass("focus-within")},n}(zY.getComponent("VolumeBar")),EQ=zY.getComponent("VolumeControl"),IQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).iTt=void 0,e.iTt=new SQ(n,{nTt:Jt(e)}),e.addChild(e.iTt),e}return E(n,t),n}(EQ);IQ.prototype.spt=Ur({},EQ.prototype.spt,{children:[]}),zY.registerComponent("VolumeControl",IQ);var RQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).eTt=void 0,e.rTt=function(t){if("opacity"===t.propertyName){var n=e.sTt();e.Ukt.textTrackStyle.marginBottom!==n&&(e.Ukt.textTrackStyle.marginBottom=n)}},e.uTt=function(t){"opacity"===t.propertyName&&"0"===r.getComputedStyle(e.el()).opacity&&(e.Ukt.textTrackStyle.marginBottom=void 0)},e.oTt=function(){void 0!==e.Ukt.textTrackStyle.marginBottom&&(e.Ukt.textTrackStyle.marginBottom=e.sTt())},e.el().addEventListener("transitionstart",e.rTt),e.el().addEventListener("transitionend",e.uTt),e.eTt=new LR(e.el()),e.eTt.Zs("CO",e.oTt),e.eTt.rh(),e}E(n,t);var i=n.prototype;return i.sTt=function(){return this.el().getBoundingClientRect().height},i.dispose=function(){this.el().removeEventListener("transitionstart",this.rTt),this.el().removeEventListener("transitionend",this.uTt),this.eTt.tu("CO",this.oTt),this.eTt.xd(),t.prototype.dispose.call(this)},n}(cQ(AQ));RQ.prototype.spt=Ur({},AQ.prototype.spt,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","multiViewButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),zY.registerComponent("ControlBar",RQ);var CQ=function(t){function n(n,i){var e;return e=t.call(this,n,i)||this,n.topControlBar=Jt(e),e}return E(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(AQ);CQ.prototype.spt=Ur({},AQ.prototype.spt,{children:[]}),zY.registerComponent("TopControlBar",CQ);var DQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=GY(t),i=YY(t),e=this.localize("Current Time"),r=KY(g.max(0,n-i),QY(t));r!==this.Ept&&(this.Ept=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> "+r)},n}(zY.getComponent("CurrentTimeDisplay"));zY.registerComponent("CurrentTimeDisplay",DQ);var NQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).aTt=function(){return e.updateContent()},e.off(n,"durationchange",e.updateContent),e.on(n,"durationchange",e.updateContent),e.off(n,"timeupdate",e.updateContent),e.on(n,"timeupdate",e.updateContent),e.off(n,"emptied",e.updateContent),e.on(n,"emptied",e.updateContent),e.Ukt&&e.Ukt.clip.addEventListener("change",e.aTt),e}return E(n,t),n.prototype.updateContent=function(){var t=p(this.Ukt.duration)?NaN:QY(this.player()),n=this.Ukt.clip.endTime-this.Ukt.clip.startTime,i=g.min(t,n)||0;if(this.Qg!==i){this.Qg=i;var e=this.localize("Duration Time"),r=KY(i);this.cpt.innerHTML='<span class="vjs-control-text">'+e+"</span> "+r}},n}(cQ(zY.getComponent("DurationDisplay")));zY.registerComponent("DurationDisplay",NQ);var PQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).controlText("Live"),r.hTt(),r.on(r.player(),"durationchange",r.hTt),i.Lr.Gt&&new fQ(r.el()),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},e.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.cTt=zY.createEl("span",{className:"theo-live-control-indicator"}),n.insertBefore(this.cTt,n.firstChild),n},e.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return zY.removeClass(i,"vjs-control-text"),zY.addClass(i,"theo-live-control-text"),i},e.handleClick=function(){var t,n=this.Ukt;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime($Y(i)),i.play()}},e.hTt=function(){qY(this.player())?this.show():this.hide()},n}(cQ(zY.getComponent("Button")));zY.registerComponent("LiveDisplay",PQ);var xQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=zY.createEl("div",{className:"theo-loading-spinner-rotator"}),e=zY.createEl("div",{className:"theo-loading-spinner-circle-left"}),r=zY.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(e),i.appendChild(r),n.appendChild(i),n},n}(zY.getComponent("LoadingSpinner"));zY.registerComponent("LoadingSpinner",xQ);var BQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fTt=[],e.on(n,"emptied",e.update),e}return E(n,t),n.prototype.update=function(){var t=this.player(),n=dE.gC(ZY(t)),i=n.MN(0),e=dE.gC(t.buffered()).ZN(n),r=n.XN(0)-i,u=e.C_&&e.XN(e.C_-1)||0;u=g.max(0,u-i);var o=this.el(),a=this.fTt;o.style.width=OQ(u,r);for(var h=0;h<e.C_;h++){var c=e.MN(h),f=e.XN(h),l=a[h];l||(l=s.createElement("div"),a.push(l),o.appendChild(l)),l.style.left=OQ(c-i,u),l.style.width=OQ(f-c,u)}for(var v=a.length;v>e.C_;v--)o.removeChild(a[v-1]);a.length=e.C_},n}(zY.getComponent("LoadProgressBar"));function OQ(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}zY.registerComponent("LoadProgressBar",BQ);var LQ=function(t){function n(n,i){var e,r;((e=t.call(this,n,i)||this).lTt=function(){var t=e.player(),n=t.scrubbing()?t.getCache().currentTime:t.currentTime(),i=(n-YY(t))/QY(t)||0;i=Ft(i,0,1),e.update(n,100*i+"%")},e.keepTooltipsInside&&(zY.addClass(e.tooltip,"theo-secondary-color"),e.tooltip.appendChild(e.vTt)),j.dn)&&(e.on(n,"firstplay",e.lTt),e.on(n,"play",e.lTt),e.on(n,"seeking",e.lTt),e.on(n,"seeked",e.lTt),e.on(n,"timeupdate",e.lTt),e.Ukt.addEventListener("dimensionchange",e.lTt),null==(r=e.Ukt.presentation)||r.addEventListener("presentationmodechange",e.lTt),n.on("ready",function(){e.on(n.controlBar.progressControl,"touchmove",tt(function(t){return e.handleTouchMove(t)},25)),e.lTt()}));return e}E(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=this.player(),i=YY(n)+this.calculateDistance(t)*QY(n),e=t.pageX-bB(this.el().parentNode).left;this.update(i,e+"px")},i.handleTouchMove=function(t){var n=this.player(),i=YY(n)+this.calculateDistance(t)*QY(n),e=t.touches[0].pageX-bB(this.el().parentNode).left;this.update(i,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.vTt=zY.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){var i=this.dTt(t);if(this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(AB(this.vTt,i),this.tooltip.offsetParent)){var e=this.player().contentEl(),r=e.getClientRects(),s=r.length>0?r[0]:void 0,u=y(getComputedStyle(e).fontSize);kB(this.tooltip,this.el(),s,u)}},i.dTt=function(t){var n=this.player(),i=t-$Y(n);return KY(qY(n)?g.min(i,0):i,QY(n))},n}(cQ(zY.getComponent("MouseTimeDisplay")));zY.registerComponent("MouseTimeDisplay",LQ);var MQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=GY(this.player());this.el().setAttribute("data-current-time",this.dTt(t))},i.dTt=function(t){var n=this.player();return KY(t-$Y(n),QY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(zY.getComponent("PlayProgressBar"));zY.registerComponent("PlayProgressBar",MQ);var jQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=QY(t);if(n){var i=ZY(t).end(0),e=this.localize("Remaining Time"),r=KY(g.max(0,i-t.currentTime()),n);r!==this.Ept&&(this.Ept=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> -"+r)}},n}(zY.getComponent("RemainingTimeDisplay"));zY.registerComponent("RemainingTimeDisplay",jQ);var FQ=function(){function t(t,n){var i=this;this.wTt=void 0,this.gTt=void 0,this.mTt=void 0,this.yTt=void 0,this.pTt=[],this.Jkt=void 0,this._Tt=function(t){var n=t.track;n.kind===Bk.hE&&(n.addEventListener("addcue",i.bTt),n.addEventListener("removecue",i.bTt),n.addEventListener("readystatechange",i.bTt)),i.bTt()},this.kTt=function(t){var n=t.track;n.kind===Bk.hE&&(n.removeEventListener("addcue",i.bTt),n.removeEventListener("removecue",i.bTt),n.removeEventListener("readystatechange",i.bTt)),i.bTt()},this.ATt=function(t){var n=i.TTt,e=function(t,n){var i,e,r=bB(t),s=t.offsetWidth,u=t.offsetHeight,o=r.top,a=r.left;!function(t){return void 0!==t.changedTouches}(n)?(e=n.pageX,i=n.pageY):(e=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var h=Ft((o-i+u)/u,0,1);return{x:Ft((e-a)/s,0,1),y:h}}(i.wTt,t),r=YY(n)+e.x*QY(n);r===n.duration()&&(r-=.1),i.STt(r)},this.ETt=function(){i.gTt.Jm()},this.ITt=function(){i.gTt.Km()},this.bTt=function(){var t=i.RTt();t!==i.yTt&&(i.D_(),t&&i.CTt(t))},this.TTt=n,this.mTt=t,this.gTt=new HQ,this.TTt.contentEl().appendChild(this.gTt.gy),this.wTt=s.createElement("div"),sr(this.wTt,"theoplayer-chapterbar"),this.mTt.appendChild(this.wTt),this.mTt.addEventListener("mousemove",this.ATt),this.mTt.addEventListener("mouseenter",this.ITt),this.mTt.addEventListener("mouseleave",this.ETt),this.DTt()}var n=t.prototype;return n.CTt=function(t){if(t.kind===Bk.hE&&0!==this.Ukt.seekable.length){this.yTt=t;var n=t.cues.slice();this.gTt.Wc(n);for(var i=0;i<n.length;i++){var e=n[i],r=n[i+1],s=!r||e.endTime!==r.startTime,u=new UQ(e,this.Ukt,s);this.pTt.push(u),this.wTt.appendChild(u.gy)}}},n.DTt=function(){this.Ukt.addEventListener("loadedmetadata",this.bTt),this.Ukt.addEventListener("loadeddata",this.bTt),this.Ukt.addEventListener("sourcechange",this.bTt),this.Ukt.textTracks.addEventListener("addtrack",this._Tt),this.Ukt.textTracks.addEventListener("removetrack",this.kTt),this.Ukt.textTracks.addEventListener("change",this.bTt)},n.NTt=function(){this.Ukt.removeEventListener("loadedmetadata",this.bTt),this.Ukt.removeEventListener("loadeddata",this.bTt),this.Ukt.removeEventListener("sourcechange",this.bTt),this.Ukt.textTracks.removeEventListener("addtrack",this._Tt),this.Ukt.textTracks.removeEventListener("removetrack",this.kTt),this.Ukt.textTracks.removeEventListener("change",this.bTt)},n.RTt=function(){if(!(this.Ukt.readyState<Ky.Ug))for(var t=0,n=this.Ukt.textTracks;t<n.length;t++){var i=n[t];if(i.kind===Bk.hE&&i.mode===Py.Z_&&i.cues.length>0&&i.readyState!==k_.ERROR)return i}},n.STt=function(t){this.gTt.qc(t)},n.PTt=function(){this.gTt.Km()},n.xTt=function(){this.gTt.Jm()},n.D_=function(){for(var t=0,n=this.pTt;t<n.length;t++){n[t].WAt()}this.gTt.D_(),this.pTt=[],this.yTt=void 0},n.WAt=function(){this.NTt(),this.mTt.removeEventListener("mousemove",this.ATt),this.mTt.removeEventListener("mouseenter",this.ITt),this.mTt.removeEventListener("mouseleave",this.ETt),this.D_(),this.gTt.WAt(),this.Jkt=void 0},T(t,[{key:"Ukt",get:function(){return this.Jkt||(this.Jkt=this.TTt.tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.Jkt}}]),t}(),UQ=function(){function t(t,n,i){var e=this;this.pN=void 0,this.BTt=function(){sr(e.gy,"theoplayer-chapter-indicator-active")},this.OTt=function(){ur(e.gy,"theoplayer-chapter-indicator-active")},this.LTt=t,this.kN=n,this.MTt=i,this.pN=this.jTt(),this.FTt()}var n=t.prototype;return n.FTt=function(){XQ(this.LTt,this.kN.currentTime)&&this.BTt(),this.LTt.addEventListener("enter",this.BTt),this.LTt.addEventListener("exit",this.OTt)},n.jTt=function(){var t=this.kN.seekable.start(0),n=this.kN.seekable.end(this.kN.seekable.length-1)-t,i=this.LTt.startTime,e=this.LTt.endTime-i,r=s.createElement("div");sr(r,"theoplayer-chapter-indicator");var u=s.createElement("div");sr(u,"theoplayer-chapter-indicator-highlight"),r.appendChild(u),this.MTt&&sr(r,"theoplayer-chapter-indicator-discontinuous");var o=g.min(i/n*100,100),a=100-o,h=g.min(e/n*100,a);return r.style.width=h+"%",r.style.left=o+"%",r},n.WAt=function(){this.LTt.removeEventListener("enter",this.BTt),this.LTt.removeEventListener("exit",this.OTt),nr(this.pN)},T(t,[{key:"gy",get:function(){return this.pN}}]),t}(),HQ=function(){function t(){this.UTt=[],this.gy=void 0,this.HTt=void 0,this.XTt=0,this.gy=s.createElement("div"),sr(this.gy,"theoplayer-chaptertitle"),this.gy.style.display="none",this.HTt=s.createElement("p"),this.gy.appendChild(this.HTt)}var n=t.prototype;return n.Jm=function(){this.XTt--,0===this.XTt&&ur(this.gy,"theoplayer-chapter-hovering")},n.Wc=function(t){this.UTt=t||[],this.UTt.length>0&&(this.gy.style.display="")},n.fZ=function(t){AB(this.HTt,t.content)},n.D_=function(){this.UTt=[],AB(this.HTt,""),this.gy.style.display="none"},n.Km=function(){this.XTt++,this.XTt>0&&sr(this.gy,"theoplayer-chapter-hovering")},n.qc=function(t){for(var n=0,i=this.UTt;n<i.length;n++){var e=i[n];if(XQ(e,t)){this.fZ(e);break}}},n.WAt=function(){nr(this.gy)},t}();function XQ(t,n){return new dE([t.startTime,t.endTime]).tN(n)}var zQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).wTt=void 0,e.playingStates=[],e.on(n,"emptied",e.update),e.on(n,"seeking",e.update),e.wTt=new FQ(e.el(),n),e}E(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=this.player(),i=GY(n);t.setAttribute("aria-valuenow",(100*this.zTt(i)).toFixed(2)),t.setAttribute("aria-valuetext",KY(i-$Y(n),QY(n)))},i.getPercent=function(){return this.zTt(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.Ukt&&this.Ukt.ads&&this.Ukt.ads.playing)){var n=this.player(),i=YY(n)+this.calculateDistance(t)*QY(n);i>=n.duration()&&(i=n.duration()-.1),this.wTt.STt(i),n.currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.wTt.PTt(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.wTt.xTt(),t.prototype.handleMouseUp.call(this,n)},i.zTt=function(t){var n=this.player();return Ft((t-YY(n))/QY(n),0,1)},i.dispose=function(){this.wTt.WAt(),Ks(this.playingStates)},n}(cQ(zY.getComponent("SeekBar")));zY.registerComponent("SeekBar",zQ);var VQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(Jt(e),"touchmove",e.handleMouseMove),e.on("touchstart",e.handleMouseDown),e.seekBar.off(["touchmove","touchstart"]),e}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(zY.getComponent("ProgressControl"));i.Lr.dn&&zY.registerComponent("ProgressControl",VQ);var WQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=GY(this.player()),n=this.dTt(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.dTt=function(t){var n=this.player();return KY(t-$Y(n),QY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(zY.getComponent("TooltipProgressBar"));function qQ(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function GQ(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:$Q(t),description:YQ(t),hd:!!t.height&&t.height>=720}}function $Q(t){return t.height?t.height+"p":t.bandwidth?YQ(t):""}function YQ(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}zY.registerComponent("TooltipProgressBar",WQ);var QQ=function(){function t(t){this.VTt=void 0,this.WTt=[],this.VTt=t}var n=t.prototype;return n.qTt=function(t){var n=this.GTt;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(e.q$===t)return e}},n.$Tt=function(t){var n=this,i=this.VTt.addMenuItem();return i.q$=t,i.on("click",function(){return n.YTt(i)}),i.el().setAttribute("role","menuitemradio"),i},n.QTt=function(t){t.dispose()},n.ZTt=function(t){return!0},n.KTt=function(t){if(this.ZTt(t)){Qs(this.WTt,t)||this.WTt.push(t);var n=this.qTt(t)||this.$Tt(t);return this.JTt(n),n}this.tSt(t)},n.tSt=function(t){var n=this.qTt(t);n&&(this.VTt.removeMenuItem(n),this.QTt(n)),$s(this.WTt,t)},n.WAt=function(){for(var t=[],n=0,i=this.WTt;n<i.length;n++){var e=i[n];t.push(e)}for(var r=0;r<t.length;r++){var s=t[r];this.tSt(s)}Ks(t)},T(t,[{key:"nSt",get:function(){return this.WTt},set:function(t){for(var n=this.WTt,i=n.length-1;i>=0;i--){var e=n[i];Qs(t,e)||this.tSt(e)}for(var r=0;r<t.length;r++){var s=t[r];this.KTt(s)}this.VTt.SAt()}},{key:"GTt",get:function(){return this.VTt.menuItems}}]),t}(),ZQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n.subMenu)||this).iSt=void 0,r.Jkt=void 0,r.eSt=void 0,r.rSt=void 0,r.sSt=void 0,r.uSt=void 0,r.oSt=void 0,r.aSt=void 0,r.hSt=void 0,r.cSt=function(){var t=qQ(r.Jkt.videoTracks);if(t!==r.rSt){var n=[];if(r.rSt&&(r.rSt.removeEventListener("activequalitychanged",r.fSt),r.rSt.removeEventListener("targetqualitychanged",r.lSt),r.rSt.removeEventListener("update",r.uP)),r.rSt=t,t){t.addEventListener("activequalitychanged",r.fSt),t.addEventListener("targetqualitychanged",r.lSt),t.addEventListener("update",r.uP);var i=JQ(iZ(t.qualities.filter(function(t){return t.available})));n=[void 0].concat(i)}r.nSt=n,r.lSt(),r.fSt()}},r.uP=function(t){var n=t.track;if(n===r.rSt){var i=JQ(iZ(n.qualities.filter(function(t){return t.available}))),e=n&&eZ(n.targetQuality);r.sSt=r.vSt(e,i),r.nSt=[void 0].concat(i),r.dSt()}},r.fSt=function(){r.KTt(void 0),r.dSt()},r.lSt=function(){var t=qQ(r.Jkt.videoTracks),n=t&&eZ(t.targetQuality),i=r.vSt(n),e=r.sSt;i!==e&&(r.sSt=i,i&&e||r.KTt(void 0),e&&Qs(r.nSt,e)&&r.KTt(e),n&&r.KTt(i),r.dSt())},r.hAt=function(){AB(r.VTt.menuHeader.el(),r.eSt.localize("Quality")),AB(r.uSt,r.eSt.localize("Quality")),AB(r.oSt,r.eSt.localize("Automatic")),AB(r.aSt,r.eSt.localize("Automatic")),AB(r.hSt,r.eSt.localize("HD")),r.iSt.el().setAttribute("aria-label",r.eSt.localize("Open the video quality settings menu"));for(var t=0,n=r.GTt;t<n.length;t++){var i=n[t];r.JTt(i)}r.dSt()},r.iSt=n,r.Jkt=i,r.eSt=e,r.uSt=r.wSt(),r.oSt=r.gSt(),r.aSt=r.mSt(),r.hSt=r.ySt(),r.pSt(),AB(r.VTt.menuHeader.el(),r.eSt.localize("Quality")),r.nSt=[void 0],r.Jkt.videoTracks.addEventListener(["addtrack","removetrack","change"],r.cSt),r.eSt.on("languagechange",r.hAt),r.cSt(),r}E(n,t);var i=n.prototype;return i.wSt=function(){return this.uSt=s.createElement("span"),this.uSt.className="theo-settings-control-menu-item-title",AB(this.uSt,this.eSt.localize("Quality")),this.uSt},i.gSt=function(){return this.oSt=s.createElement("span"),this.oSt.className="theo-settings-control-menu-quality-automatic",AB(this.oSt,this.eSt.localize("Automatic")),this.oSt},i.mSt=function(){return this.aSt=s.createElement("span"),AB(this.aSt,this.eSt.localize("Automatic")),this.aSt},i.ySt=function(){return this.hSt=s.createElement("span"),this.hSt.className="theo-primary-color theo-settings-control-menu-item-hd-label",AB(this.hSt,this.eSt.localize("HD")),this.hSt},i.pSt=function(){var t=s.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.oSt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.aSt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.hSt),this.iSt.el().appendChild(this.uSt),this.iSt.el().appendChild(t),this.iSt.el().setAttribute("aria-label",this.eSt.localize("Open the video quality settings menu"))},i.dSt=function(){var t=this.rSt,n=t&&eZ(t.targetQuality),i=t&&t.activeQuality,e=GQ(this.vSt(n||i))||{name:this.eSt.localize("Automatic")};AB(this.aSt,e.name),or(this.oSt,"vjs-hidden",!!n),or(this.hSt,"vjs-hidden",!e.hd)},i.JTt=function(t){var n=GQ(t.q$)||{name:this.eSt.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.eSt.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.eSt.localize("Set video quality to ")+n.name),t.q$?t.selected(t.q$===this.sSt):t.selected(!this.sSt)},i.YTt=function(t){this.rSt&&(this.rSt.targetQuality=t.q$&&t.q$.videoQualities)},i.vSt=function(t,n){for(var i=n||this.nSt,e=0;e<i.length;e++){var r=i[e];if(t&&r&&-1!==r.videoQualities.indexOf(t))return r}},i.WAt=function(){this.Jkt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.cSt),this.eSt.off("languagechange",this.hAt),this.rSt&&(this.rSt.removeEventListener("activequalitychanged",this.fSt),this.rSt.removeEventListener("targetqualitychanged",this.lSt),this.rSt.removeEventListener("update",this.uP)),t.prototype.WAt.call(this)},n}(QQ),KQ=function(){function t(t){this._St=t}return t.prototype.add=function(t){this._St.push(t)},T(t,[{key:"height",get:function(){return this._St[0].height}},{key:"bandwidth",get:function(){return this._St[0].bandwidth}},{key:"videoQualities",get:function(){return this._St}},{key:"label",get:function(){return this._St[0].label}}]),t}();function JQ(t){for(var n,i,e=[],r=0;r<t.length;r++){for(var s=t[r],u=!1,o=0;o<e.length;o++){var a=e[o];if(i=s,(n=a).label&&i.label&&n.label===i.label||my(GQ(n),GQ(i))){a.add(s),u=!0;break}}u||e.push(new KQ([s]))}return e}function tZ(t,n){return t&&n?Xs(t,n):Os.Is}function nZ(t,n){return t===n?Os.Is:tZ(t.height,n.height)||tZ(t.width,n.width)||tZ(t.bandwidth,n.bandwidth)}function iZ(t){return Ms(t,nZ).reverse()}function eZ(t){return z(t)?1===t.length?t[0]:void 0:t}function rZ(t){return 1===t?"Normal":""+g.round(100*t)/100}var sZ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n.subMenu)||this).iSt=void 0,s.Jkt=void 0,s.eSt=void 0,s.bSt=void 0,s.uSt=void 0,s.kSt=void 0,s.ASt=function(){s.bSt&&s.KTt(s.bSt);var t=s.Jkt.playbackRate;s.bSt=t,AB(s.kSt,s.eSt.localize(rZ(t))),t&&s.KTt(t)},s.hAt=function(){AB(s.VTt.menuHeader.el(),s.eSt.localize("Speed")),AB(s.uSt,s.eSt.localize("Speed")),s.iSt.el().setAttribute("aria-label",s.eSt.localize("Open the video speed settings menu"));for(var t=0,n=s.GTt;t<n.length;t++){var i=n[t];s.JTt(i)}s.ASt()},s.iSt=n,s.Jkt=i,s.eSt=e,s.uSt=s.wSt(),s.kSt=s.pSt(),AB(s.VTt.menuHeader.el(),s.eSt.localize("Speed")),s.nSt=r,s.Jkt.addEventListener("ratechange",s.ASt),s.eSt.on("languagechange",s.hAt),s.ASt(),s}E(n,t);var i=n.prototype;return i.wSt=function(){return this.uSt=s.createElement("span"),this.uSt.className="theo-settings-control-menu-item-title",AB(this.uSt,this.eSt.localize("Speed")),this.uSt},i.pSt=function(){var t=s.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.iSt.el().appendChild(this.uSt),this.iSt.el().appendChild(t),this.iSt.el().setAttribute("aria-label",this.eSt.localize("Open the video speed settings menu")),t},i.$Tt=function(n){var i=t.prototype.$Tt.call(this,n);return this.JTt(i),i},i.JTt=function(t){var n=t.q$,i=this.eSt.localize(rZ(n));AB(t.el(),i),t.el().setAttribute("aria-label",this.eSt.localize("Set video speed to "+i)),t.selected(t.q$===this.Jkt.playbackRate)},i.YTt=function(t){this.Jkt.playbackRate=t.q$},i.WAt=function(){this.Jkt.removeEventListener("ratechange",this.ASt),this.eSt.off("languagechange",this.hAt),t.prototype.WAt.call(this)},n}(QQ),uZ=function(t){function n(n,i){var e,r,s;(s=t.call(this,n,i)||this).TSt=void 0,s.SSt=void 0,s.ESt=void 0,s.ISt=void 0,s.rSt=void 0,s.DD=function(){var t=qQ(s.Ukt.videoTracks);t!==s.rSt&&(s.rSt&&s.rSt.removeEventListener("activequalitychanged",s.fSt),s.rSt=t,t&&t.addEventListener("activequalitychanged",s.fSt),s.fSt())},s.fSt=function(){var t,n=null==(t=s.rSt)?void 0:t.activeQuality,i=!!(n&&n.height>=720);s.player().toggleClass("theo-hd",i)},sr(s.menu.el(),"theo-settings-control-menu"),AB(s.menu.menuHeader.el(),n.localize("Settings")),s.controlText("Settings"),s.UAt.qAt=s.controlText(),s.TSt=s.menu.addSubMenuItem({name:"QualityMenuItem"}),s.SSt=new ZQ(s.TSt,s.Ukt,n);var u=null!=(e=null==i?void 0:null==(r=i.playerOptions)?void 0:r.playbackRates)?e:[];return s.ESt=s.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),s.ISt=new sZ(s.ESt,s.Ukt,n,u),s.Ukt.videoTracks.addEventListener(["addtrack","removetrack","change"],s.DD),s.DD(),s}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.RSt=zY.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),AB(this.RSt,this.localize("HD")),n.appendChild(this.RSt),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.hAt=function(){t.prototype.hAt.call(this),AB(this.RSt,this.localize("HD")),AB(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.rSt&&(this.rSt.removeEventListener("activequalitychanged",this.fSt),this.rSt=void 0),this.Ukt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.DD),this.SSt.WAt(),this.ISt.WAt(),t.prototype.dispose.call(this)},n}(bQ);zY.registerComponent("SettingsButton",uZ);var oZ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).k$=void 0,e.CSt=function(t){var n=t.track;e.KTt(n),n.addEventListener("update",e.DSt)},e.NSt=function(t){var n=t.track;e.tSt(n),n.removeEventListener("update",e.DSt)},e.PSt=function(t){return e.xSt()},e.DSt=function(){for(var t=0,n=e.nSt;t<n.length;t++){var i=n[t];e.KTt(i)}},e.k$=i,e.k$.addEventListener("addtrack",e.CSt),e.k$.addEventListener("removetrack",e.NSt),e.k$.addEventListener("change",e.PSt),e.xSt(),e}E(n,t);var i=n.prototype;return i.BSt=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var e=aF(i);if(e)return e._p}return i||""},i.xSt=function(){this.nSt=this.k$},i.WAt=function(){this.k$.removeEventListener("addtrack",this.CSt),this.k$.removeEventListener("removetrack",this.NSt),this.k$.removeEventListener("change",this.PSt),t.prototype.WAt.call(this)},n}(QQ),aZ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.audioTracks)||this).Ukt=void 0,r.eSt=void 0,r.hAt=function(){AB(r.VTt.menuHeader.el(),r.eSt.localize("Language"));for(var t=0,n=r.GTt;t<n.length;t++){var i=n[t];r.JTt(i)}},r.Ukt=i,r.eSt=e,AB(r.VTt.menuHeader.el(),r.eSt.localize("Language")),r.eSt.on("languagechange",r.hAt),r}E(n,t);var i=n.prototype;return i.JTt=function(t){var n=t.q$,i=this.BSt(n);AB(t.el(),this.BSt(n)),t.el().setAttribute("aria-label",this.eSt.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.YTt=function(t){for(var n=t.q$,i=0,e=this.Ukt.audioTracks;i<e.length;i++){var r=e[i];r!==n&&(r.enabled=!1)}n.enabled=!0},i.WAt=function(){this.eSt.off("languagechange",this.hAt),t.prototype.WAt.call(this)},n}(oZ),hZ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).OSt=void 0,e.minimumMenuItems=2,e.OSt=new aZ(e.menu,e.Ukt,n),e.controlText("Language"),e.UAt.qAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.OSt.WAt(),t.prototype.dispose.call(this)},n}(bQ);zY.registerComponent("audioTrackButton",hZ);var cZ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.textTracks)||this).Ukt=void 0,r.eSt=void 0,r.hAt=function(){AB(r.VTt.menuHeader.el(),r.eSt.localize("Subtitles"));for(var t=0,n=r.GTt;t<n.length;t++){var i=n[t];r.JTt(i)}},r.Ukt=i,r.eSt=e,AB(r.VTt.menuHeader.el(),e.localize("Subtitles")),r.eSt.on("languagechange",r.hAt),r}E(n,t);var i=n.prototype;return i.ZTt=function(n){return!!t.prototype.ZTt.call(this,n)&&(!n.forced&&Xk(n.kind))},i.$Tt=function(n){var i=this,e=t.prototype.$Tt.call(this,n);sr(e.el(),"theo-text-track-menu-item");var r=s.createElement("span");e.W_=r;var u=s.createElement("div");u.className="theo-text-track-menu-item-toggle",e.Wit=u;var o=function(t){return i.LSt(t,e)};e.MSt=o,u.addEventListener("click",o);var a=s.createElement("div");return a.className="theo-text-track-menu-item-toggle-slider",u.appendChild(a),e.el().appendChild(r),e.el().appendChild(u),e},i.JTt=function(t){var n=t,i=n.q$,e=this.BSt(i);AB(n.W_,e),n.el().setAttribute("aria-label",this.eSt.localize("Set the subtitle language to")+" "+e),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Py.Z_)},i.QTt=function(n){var i=n;i.Wit.removeEventListener("click",i.MSt),t.prototype.QTt.call(this,n)},i.YTt=function(t){for(var n,i,e=t.q$,r=0,s=this.Ukt.textTracks;r<s.length;r++){var u=s[r];u!==e&&(n=u.kind,i=e.kind,Mk(n)&&Mk(i)&&(n===i||n===Bk.rA&&i===Bk.aE||n===Bk.aE&&i===Bk.rA))&&(u.mode=Py.j_)}e.mode!==Py.Z_?e.mode=Py.Z_:e.mode=Py.j_},i.LSt=function(t,n){t.stopImmediatePropagation(),this.YTt(n)},i.WAt=function(){this.eSt.off("languagechange",this.hAt),t.prototype.WAt.call(this)},n}(oZ),fZ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).OSt=void 0,e.OSt=new cZ(e.menu,e.Ukt,n),e.controlText("Subtitles"),e.UAt.qAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.OSt.WAt(),t.prototype.dispose.call(this)},n}(bQ);zY.registerComponent("subtitlesButton",fZ);var lZ,vZ=zY.getComponent("playToggle");!function(t){t.Ef="Pause",t.If="Play",t.jSt="Replay"}(lZ||(lZ={}));var dZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).UAt=void 0,r.tst=function(){r.controlText(lZ.jSt),r.UAt.qAt=r.controlText()},r.controlText(lZ.If),r.UAt=new _Q(Jt(r),r.controlText()),r.Ukt.addEventListener("ended",r.tst),r.on(n,"languagechange",r.hAt),i.Lr.Gt&&new fQ(r.el()),r}E(n,t);var e=n.prototype;return e.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText(lZ.Ef),this.UAt.qAt=this.controlText()},e.handlePause=function(n){this.Ukt.ended||(t.prototype.handlePause.call(this,n),this.controlText(lZ.If),this.UAt.qAt=this.controlText())},e.hAt=function(){this.UAt.qAt=this.controlText()},e.dispose=function(){this.UAt.WAt(),this.Ukt.removeEventListener("ended",this.tst),t.prototype.dispose.call(this)},n}(cQ(vZ));zY.registerComponent("playToggle",dZ);var wZ,gZ=zY.getComponent("fullscreenToggle");!function(t){t.FSt="Exit fullscreen",t.USt="Fullscreen"}(wZ||(wZ={}));var mZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).UAt=void 0,r.controlText(wZ.USt),r.UAt=new _Q(Jt(r),r.controlText()),i.Lr.Gt&&new fQ(r.el()),r.on(n,"languagechange",r.updateContent),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.Ukt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},e.updateContent=function(){var t=this.player().isFullscreen()?wZ.FSt:wZ.USt;this.controlText(t),this.UAt.qAt=this.controlText()},e.dispose=function(){this.UAt.WAt(),t.prototype.dispose.call(this)},n}(cQ(gZ));zY.registerComponent("fullscreenToggle",mZ);var yZ,pZ=zY.getComponent("muteToggle");!function(t){t.HSt="Unmute",t.XSt="Mute"}(yZ||(yZ={}));var _Z=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).UAt=void 0,r.controlText(yZ.XSt),r.UAt=new _Q(Jt(r),r.controlText()),i.Lr.Gt&&new fQ(r.el()),r.on(n,"languagechange",r.hAt),_r&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",function(){r.removeClass("vjs-hidden")})),r}E(n,t);var e=n.prototype;return e.update=function(n){t.prototype.update.call(this,n),this.hAt()},e.hAt=function(){var t=this.player().muted()?yZ.HSt:yZ.XSt;this.controlText(t),this.UAt.qAt=this.controlText()},e.dispose=function(){this.UAt.WAt(),t.prototype.dispose.call(this)},n}(pZ);zY.registerComponent("muteToggle",_Z);var bZ=zY.getComponent("BigPlayButton"),kZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=zY.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="theo-play-svg-circle" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},n}(bZ);zY.registerComponent("BigPlayButton",kZ);var AZ=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var TZ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zSt=void 0,e.VSt=void 0,e.WSt=void 0,e.qSt=function(t){return e.GSt(t)},e.$St=void 0,e.showThumbnails=function(){e.zSt&&(e.zSt.hidden=!1)},e.hideThumbnails=function(){e.zSt&&!e.player().scrubbing()&&(e.zSt.hidden=!0)},e.player().textTracks().on("addtrack",e.qSt),e.player().textTracks().on("removetrack",e.qSt),j.dn&&(e.on(n,"seeking",e.showThumbnails),e.on(n,"seeked",e.hideThumbnails)),e}E(n,t);var e=n.prototype;return e.GSt=function(t){var n=t.track;"removetrack"===t.type&&n===this.VSt?(this.VSt=void 0,this.WSt=void 0,this.YSt(),this.$St=void 0):"addtrack"===t.type&&"metadata"===n.kind&&"thumbnails"===n.label&&(this.VSt=n,this.WSt=n.src?i.Br(n.src).href:void 0)},e.createEl=function(){var n=t.prototype.createEl.call(this);return this.QSt=zY.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.ZSt=zY.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},e.update=function(n,i){if(t.prototype.update.call(this,n,i),this.keepTooltipsInside){var e;if(this.VSt&&this.VSt.cues){var r=function(t,n){for(var i=t[0],e=0;e<t.length;e++){var r=t[e];if(r.startTime<=n)i=r;else if(n>=r.endTime)return i}return i}(this.VSt.cues,n);e=r&&r.content}if(e!==this.$St)if(this.$St=e,zY.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!e),e){var s=e.match(AZ);if(s){var u=s[1],o=s[2],a=s[3],h=s[4],c=s[5];u=this.KSt(u);var f={x_:+o,y_:+a,Bk:+h,dT:+c};this.JSt(u,f)}else{var l=this.KSt(e);this.JSt(l)}}else this.YSt()}},e.KSt=function(t){return this.VSt&&this.WSt?i.Br(t,this.WSt).href:t},e.JSt=function(t,n){var i=this;this.QSt&&(this.QSt.src!==t?(this.QSt.onload=function(){i.tEt(n)},this.QSt.src="",this.QSt.src=t):this.tEt(n))},e.tEt=function(t){if(this.ZSt&&this.QSt){var n=this.ZSt.getContext("2d");n&&(t=t||{x_:0,y_:0,Bk:this.QSt.naturalWidth,dT:this.QSt.naturalHeight},this.ZSt.width=t.Bk,this.ZSt.height=t.dT,n.drawImage(this.QSt,t.x_,t.y_,t.Bk,t.dT,0,0,t.Bk,t.dT),this.nEt(this.ZSt))}},e.nEt=function(t){this.zSt||(this.tooltip.firstChild?this.tooltip.insertBefore(t,this.tooltip.firstChild):this.tooltip.appendChild(t),this.zSt=t)},e.YSt=function(){this.zSt&&this.tooltip.removeChild(this.zSt),j.dn&&(this.off(this.player(),"seeking",this.showThumbnails),this.off(this.player(),"seeked",this.hideThumbnails)),this.zSt=void 0},n}(LQ);zY.registerComponent("MouseTimeDisplay",TZ);var SZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(zY.getComponent("VolumeLevel"));zY.registerComponent("VolumeLevel",SZ);var EZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(zY.getComponent("Component"));EZ.prototype.spt=Ur({},EZ.prototype.spt,{children:[]}),zY.registerComponent("controlBarMenuContainer",EZ);var IZ=zY.getComponent("Player"),RZ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).handleKeyPress=function(t){9===t.which&&r.addClass("theo-probably-keyboard-focus")},r.handleClick=function(t){0===t.x&&0===t.y||r.removeClass("theo-probably-keyboard-focus")},s.body.addEventListener("keydown",r.handleKeyPress),s.body.addEventListener("click",r.handleClick),r}return E(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),e=n.parentNode,r=n.nextSibling;t.prototype.dispose.call(this),nr(i),this.Wpt&&e&&(r?e.insertBefore(n,r):e.appendChild(n)),s.body.removeEventListener("keydown",this.handleKeyPress),s.body.removeEventListener("click",this.handleClick)},n}(IZ);RZ.prototype.spt=Ur({},IZ.prototype.spt,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings"]}),zY.registerComponent("Player",RZ);var CZ=zY.getComponent("Player"),DZ=CZ.prototype.Abt;CZ.prototype.Abt=function(t){if(!(this.gpt&&this.gpt.Kkt&&this.gpt.Kkt()))return DZ.call(this,t)};var NZ,PZ=CZ.prototype.createEl;function xZ(t,n,e,s){var u=Ur({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},e);u.controlBar=Ur({progressControl:{keepTooltipsInside:!0}},u.controlBar);var o,a=u.techOrder||(u.techOrder=[]);(-1===a.indexOf("THEOplayer")&&a.unshift("THEOplayer"),(u.theoplayer||(u.theoplayer={})).player=t,e&&W(e.language))&&(u.languages=Ur({},u.languages,((o={})[oF]=e.language,o)),u.language=oF);n.setAttribute("data-vjs-player","");var h,c,f,l=n.getAttribute("style"),v=zY(t.element,u,s);return v.ready(function(){!function(t){t.on("timeupdate",JY),t.on("durationchange",JY)}(v),iQ(v,t),function(t){t.on("mouseleave",eQ)}(v)}),n.removeAttribute("data-vjs-player"),l?n.setAttribute("style",l):n.removeAttribute("style"),i.Lr.dn&&(sr(n,"theo-mobile"),h=n,c=r.outerHeight,f=r.outerWidth,c>f?(ur(h,"theo-mobile-landscape"),sr(h,"theo-mobile-portrait")):(ur(h,"theo-mobile-portrait"),sr(h,"theo-mobile-landscape"))),function(t){t.on("seeking",function(){rr(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()})}(v),v}function BZ(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).iEt=void 0,r.eEt=void 0,r.rEt=void 0,r.iEt=n,r.rEt=t.prototype.n_.call(Jt(r)),w.defineProperty(r.rEt,"constructor",{value:SD}),r.eEt=xZ(r.rEt,r.iEt,e.ui),r}E(n,t);var i=n.prototype;return i.n_=function(){return t=this.rEt,n=this,wy(w.create(t),{get controls(){return n.Fpt},set controls(t){n.Fpt=_y(t)},get ui(){return n.eEt}});var t,n},i.xd=function(){t.prototype.xd.call(this),this.eEt.dispose()},i.Wm=function(n){this.eEt.src(""),t.prototype.Wm.call(this,n)},T(n,[{key:"Fpt",get:function(){return this.eEt.controls()},set:function(t){this.eEt.controls(t)}}]),n}(t)}function OZ(){return NZ||(NZ=function(t,n){var i=t;if(JC[n])for(var e=0,r=JC[n];e<r.length;e++)i=(0,r[e])(i);return i}(NZ=BZ(TD()),YC.WU)),NZ}function LZ(t){return{get ratio(){return t.sEt},get thresholds(){return t.uEt.slice()}}}function MZ(t){var n=[],i=g.floor(1/t);if(p(i))return[];for(var e=0;e<=i;e++){var r=Ft(e*t,0,1);n.push(r)}return n}CZ.prototype.createEl=function(){var t=PZ.call(this),n=zY.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.cpt=n,t};var jZ=function(){function t(t,n,i){this.oEt=1,this.aEt=void 0,this.hEt=void 0,this.$w=void 0,this.aEt=MZ(n);var e=this.cEt(i);this.hEt=new r.IntersectionObserver(e,{root:null,threshold:this.aEt}),this.hEt.observe(t)}var n=t.prototype;return n.cEt=function(t){var n=this;return function(i){var e=i[i.length-1];n.oEt=e.intersectionRatio,t(e.intersectionRatio)}},n.zm=function(){this.hEt.disconnect()},T(t,[{key:"sEt",get:function(){return this.oEt}},{key:"uEt",get:function(){return this.aEt}},{key:"t_",get:function(){return this.$w||(this.$w=LZ(this)),this.$w}}]),t}(),FZ=function(t){function n(n,i,e){var s;return(s=t.call(this,i,e)||this).fEt=void 0,s.lEt=tt(function(){return s.vEt(s.dEt())},50),s.fEt=n,r.addEventListener("scroll",s.lEt,!!DR&&{passive:!0}),yu(function(){return s.vEt(s.dEt())}),s}E(n,t);var i=n.prototype;return i.dEt=function(){var t=this.fEt.getBoundingClientRect();return Ft(g.max(0,g.min(r.innerWidth,t.right)-g.max(0,t.left))*g.max(0,g.min(r.innerHeight,t.bottom)-g.max(0,t.top))/(t.width*t.height),0,1)},i.zm=function(){r.removeEventListener("scroll",this.lEt)},n}(function(){function t(t,n){this.aEt=void 0,this.wEt=void 0,this.oEt=1,this.gEt=-1,this.$w=void 0,this.aEt=MZ(t),this.wEt=n}return t.prototype.vEt=function(t){this.oEt=t;var n=this.aEt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.gEt!==i&&(this.gEt=i,this.wEt(t))},T(t,[{key:"sEt",get:function(){return this.oEt}},{key:"uEt",get:function(){return this.aEt}},{key:"t_",get:function(){return this.$w||(this.$w=LZ(this)),this.$w}}]),t}()),UZ=zY.getComponent("Button");var HZ=function(t){function n(n,i){var e;if((e=t.call(this,n,i)||this).mEt=void 0,e.controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.mEt)}(i))throw new l("Invalid Picture-in-picture options.");return e.mEt=i.mEt,e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.mEt.yEt()},n}(UZ);zY.registerComponent("THEOPiPCloseButton",HZ);var XZ=.1,zZ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).pEt=void 0,r.hk=void 0,r._Et=void 0,r.kN=void 0,r.fEt=void 0,r.cY=!1,r.yk=!1,r.bEt=!1,r.kEt=!1,r.Dm=!1,r.yEt=void 0,r.AEt=!1,r.TEt=void 0,r.SEt=void 0,r.EEt=void 0,r.IEt=!1,r.REt=void 0,r.CEt=function(){r.cY=!0,r.REt&&!r.Sk&&r.TEt&&r.pEt&&r.TEt.sEt<=r.pEt&&r.jy(!1)},r.DEt=function(){r._Et||(r.cY=!1,r.Zy(!1))},r.hAt=function(){if(r.EEt){var t=r.kN.eEt;AB(r.EEt,t.localize("Video playing in Picture-in-Picture mode"))}},r.NEt=function(t){!r.kEt&&r.REt&&(p(t)||(r.pEt&&t<=r.pEt||r.IEt?r.yk||r.bEt||r.jy(!1):r.yk?r.Zy(!1):r.bEt=!1))},r.pEt=i.visibility,r.hk=i.position,r._Et=i.retainPresentationModeOnSourceChange,r.REt=void 0!==r.pEt,r.kN=n,r.fEt=n.iEt,r.yEt=e,r.Jft(),r}E(n,t);var i=n.prototype;return i.Jft=function(){this.kN.Zs("play",this.CEt),this._Et||this.kN.Zs("sourcechange",this.DEt),this.kN.eEt.on("languagechange",this.hAt)},i.PEt=function(){var t=this.hk;if(t)return"theo-pip-"+t},i.jy=function(t){var n=this.fEt;if(n&&!this.xEt){this.Dm||this.BEt(),this.OEt(),sr(n,"theo-pip");var i=this.PEt();i&&sr(n,i),this.yk=!0,this.kEt=t,this.bEt=!1,this.Qs(new OE(BE.PICTURE_IN_PICTURE))}},i.Zy=function(t){var n=this.fEt;if(n){this.LEt(),ur(n,"theo-pip");var i=this.PEt();i&&ur(n,i),this.yk=!1,this.bEt=t,this.IEt=this.kEt,this.kEt=!1,this.Qs(new OE(BE.INLINE))}},i.BEt=function(){if(!this.Dm){var t=this.kN.eEt;t.addChild("THEOPiPCloseButton",{mEt:this});var n=s.createElement("div");n.className="theo-pip-overlay",this.EEt=s.createElement("div"),this.EEt.className="theo-pip-overlay-text",AB(this.EEt,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.EEt),t.el().appendChild(n),this.SEt=n,this.Dm=!0}},i.MEt=function(){this.REt&&!this.AEt&&this.kN.jEt&&(this.TEt=this.kN.jEt.FEt(XZ,this.NEt),this.AEt=!0)},i.UEt=function(){this.TEt&&this.kN.jEt&&(this.kN.jEt.HEt(this.TEt),this.AEt=!1)},i.OEt=function(){var t=this.kN.eEt.contentEl(),n=t.getBoundingClientRect(),i=s.documentElement.clientWidth,e=s.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=e-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.LEt=function(){var t=this.kN.eEt.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.XEt=function(){ur(this.fEt,"theo-pip"),this.Sk&&this.hk&&ur(this.fEt,"theo-pip-"+this.hk),this.SEt&&(nr(this.SEt),this.SEt=void 0)},i.xd=function(){this.XEt(),this.UEt(),this.$s(),this.kN.tu("play",this.CEt),this.kN.tu("sourcechange",this.DEt),this.kN.eEt.off("languagechange",this.hAt)},T(n,[{key:"Sk",get:function(){return this.yk}},{key:"xEt",get:function(){return this.kN.pC()}}]),n}(zy),VZ=function(){function t(t){this.fEt=void 0,this.zEt=1,this.VEt=0,this.WEt=[],this.$w=void 0,this.fEt=t,this.FEt(XZ,this.qEt())}var n=t.prototype;return n.qEt=function(t){var n=this;return function(i){n.zEt=i,null==t||t(n.zEt)}},n.FEt=function(t,n){if(p(t))throw new v("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new jZ(this.fEt,t,this.qEt(n)):new FZ(this.fEt,t,this.qEt(n)),this.WEt.push(i),i},n.HEt=function(t){t.zm(),$s(this.WEt,t)},n.GEt=function(t){for(var n=0,i=this.WEt;n<i.length;n++){var e=i[n];if(e.t_===t)return e}},n.xd=function(){for(var t=0,n=this.WEt;t<n.length;t++){n[t].zm()}Ks(this.WEt)},T(t,[{key:"$Et",get:function(){return this.zEt}},{key:"pEt",get:function(){return this.VEt},set:function(t){if(p(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.VEt=t}},{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get ratio(){return t.$Et},get visible(){return t.$Et>t.pEt},get visibleThreshold(){return t.pEt},set visibleThreshold(n){n=by(n),t.pEt=n},addObserver:function(n,i){return n=by(n),t.FEt(n,i).t_},removeObserver:function(n){var i=t.GEt(n);i&&t.HEt(i)}})),this.$w}}]),t}();tD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jEt=void 0,e.jEt=new VZ(n),e}E(n,t);var i=n.prototype;return i.n_=function(){var n=this;return wy(t.prototype.n_.call(this),{get visibility(){return n.jEt.t_}})},i.xd=function(){this.jEt&&(this.jEt.xd(),this.jEt=void 0),t.prototype.xd.call(this)},n}(t)},$C.VU),nD(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).jEt=void 0,r.jEt=new VZ(n),r}E(n,t);var i=n.prototype;return i.n_=function(){var n=this;return wy(t.prototype.n_.call(this),{get visibility(){return n.jEt.t_}})},i.xd=function(){this.jEt&&(this.jEt.xd(),this.jEt=void 0),t.prototype.xd.call(this)},n}(t)},YC.WU);var WZ=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).IN=void 0,r.YEt=void 0,r.QEt=function(){return r.uP()},r.yEt=function(){return r.aP(BE.INLINE)},r.ZEt=function(){r.oP()!==BE.FULLSCREEN&&r.YEt.MEt(),r.IN.tu("play",r.ZEt)},r.IN=n,r.YEt=new zZ(n,e.pip,r.yEt),r.YEt.Zs("presentationmodechange",r.QEt),r.IN.Zs("play",r.ZEt),r.uP(),r}E(n,t);var i=n.prototype;return i.oP=function(){var n=t.prototype.oP.call(this);return n===BE.INLINE&&this.YEt&&this.YEt.Sk?BE.PICTURE_IN_PICTURE:n},i.cP=function(n){switch(n){case BE.PICTURE_IN_PICTURE:return!0;default:return t.prototype.cP.call(this,n)}},i.hP=function(n,i){n===BE.FULLSCREEN&&this.YEt.UEt(),t.prototype.hP.call(this,n,i),n!==BE.FULLSCREEN&&this.YEt.MEt()},i.fP=function(n,i){n!==i&&(n===BE.FULLSCREEN&&this.YEt.Zy(!1),n===BE.INLINE&&i===BE.PICTURE_IN_PICTURE&&this.YEt.Zy(!0),t.prototype.fP.call(this,n,i),n===BE.PICTURE_IN_PICTURE&&(i===BE.INLINE?this.YEt.jy(!0):this.YEt.jy(!1)))},i.xd=function(){t.prototype.xd.call(this),this.YEt.xd()},n}(FE),qZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).eEt=void 0,e.KEt=void 0,e.Xkt=!1,e.JEt=!1,e.mx=!1,e.tIt=function(){if(!e.mx){var t=e.Xkt,n=e.pC;t!==n&&(e.Xkt=n,e.Qs(new MR))}},e.nIt=function(){e.JEt=e.KEt.pC,e.tIt()},e.iIt=function(){e.mx||(e.eEt.isFullWindow&&e.eEt.supportsFullScreen()||e.JEt&&!e.eEt.supportsFullScreen())&&(e.mx=!0,e.eEt.exitFullscreen(),e.eEt.requestFullscreen(),e.mx=!1,e.tIt())},e.eEt=n,e.KEt=i,e.eEt.on("fullscreenchange",e.tIt),e.KEt.Zs(lE.l_,e.nIt),e.KEt.Zs(lE.bC,e.iIt),e.KEt.Zs(lE.K_,e.js),e.tIt(),e}E(n,t);var i=n.prototype;return i.jy=function(){this.eEt.requestFullscreen()},i.Zy=function(){this.eEt.exitFullscreen(),this.KEt.Zy()},i.xd=function(){this.$s(),this.eEt.off("fullscreenchange",this.tIt),this.KEt.tu(lE.l_,this.tIt),this.KEt.tu(lE.K_,this.js)},T(n,[{key:"AC",get:function(){return UR.ux(this.eEt.el())||this.eEt.supportsFullScreen()}},{key:"pC",get:function(){return this.eEt.isFullscreen()||this.JEt}}]),n}(Su);nD(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).eIt=void 0,r.rIt=void 0,r.rIt=new qZ(r.eEt,r.jD),r.eIt=new WZ(Jt(r),r.rIt,e),r.eIt.Zs("presentationmodechange",r.js),r}E(n,t);var i=n.prototype;return i.pC=function(){return"fullscreen"===this.eIt.oP()},i.n_=function(){var n=this.eIt;return wy(t.prototype.n_.call(this),{get presentation(){return n.t_},get presentationMode(){return n.t_.currentMode},set presentationMode(t){n.t_.requestMode(t)}})},i.xd=function(){this.eIt.xd(),this.rIt.xd(),t.prototype.xd.call(this)},n}(t)},YC.WU);var GZ=function(t){function n(n,e){var r,s;return(s=t.call(this,n,e)||this).fEt=void 0,s.me=void 0,s.UAt=void 0,s.fEt=n.el(),s.me=YE.UNAVAILABLE,s.controlText("Unavailable"),s.UAt=new _Q(Jt(s),s.controlText()),null==(r=s.sIt)||r.addEventListener("statechange",function(t){var n=t;s.okt(n.state)}),i.Lr.Gt&&new fQ(s.el()),s.okt(s.sIt?s.sIt.state:YE.UNAVAILABLE),s.on(n,"languagechange",s.hAt),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-cast-button theo-"+this.uIt+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){var r=t.prototype.createEl.call(this),u=s.createElement("div");u.className="theo-button-icon-blur";var o=s.createElement("div");return o.className="theo-cast-svg-container",o.innerHTML=this.oIt,r.appendChild(u),r.appendChild(o),r},e.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.me===YE.AVAILABLE)null==(i=this.sIt)||i.start();else if(this.me===YE.CONNECTED||this.me===YE.CONNECTING){var e;null==(e=this.sIt)||e.stop()}},e.okt=function(t){ur(this.fEt,"theo-"+this.uIt+"-"+this.me),this.me=t,sr(this.fEt,"theo-"+this.uIt+"-"+this.me),this.hAt()},e.hAt=function(){this.aIt(this.me),this.UAt.qAt=this.controlText()},e.aIt=function(t){t===YE.CONNECTED?this.controlText("Stop Casting"):t===YE.AVAILABLE?this.controlText("Start Casting"):t===YE.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},T(n,[{key:"sIt",get:function(){throw new l("hIt")}},{key:"oIt",get:function(){return this.spt.oIt}},{key:"uIt",get:function(){return this.spt.uIt}}]),n}(cQ(zY.getComponent("Button"))),$Z='\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>',YZ=function(t){function n(n,i){var e,r,s;return(s=t.call(this,n,Ur({},i,{uIt:"airplay",oIt:$Z}))||this).cIt=function(){s.enable()},s.fIt=function(){s.disable()},null==(e=s.Ukt.ads)||e.addEventListener("adbreakbegin",s.fIt),null==(r=s.Ukt.ads)||r.addEventListener("adbreakend",s.cIt),s.Ukt.addEventListener("currentsourcechange",s.cIt),s}return E(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.Ukt.ads)||n.removeEventListener("adbreakbegin",this.fIt),null==(i=this.Ukt.ads)||i.removeEventListener("adbreakend",this.cIt),this.Ukt.removeEventListener("currentsourcechange",this.cIt),t.prototype.dispose.call(this)},T(n,[{key:"sIt",get:function(){var t;return null==(t=this.Ukt.cast)?void 0:t.airplay}}]),n}(GZ);zY.registerComponent("airplayButton",YZ),tD(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Vht=new gW,e.Zs("presentationmodechange",function(t){t.presentationMode===BE.FULLSCREEN?e.enterFullscreen():e.exitFullscreen()}),e}E(n,t);var i=n.prototype;return i.enterFullscreen=function(){this.Vht.lK("THEOplayerFullscreen","true")},i.exitFullscreen=function(){this.Vht.lK("THEOplayerFullscreen","false")},n}(t)},$C.VU),n.ChromelessPlayer=SD,n.Player=function t(n,i){var e=function(t){var n=t=Lp(t);return n.ui=n.ui||{},void 0!==t.width&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==t.height&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==t.fluid&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=xE(n.pip),n}(i),r=s.createElement("div");r.style.position="absolute",n.appendChild(r);var u=new(OZ())(n,r,e),o=u.t_;return u.xU(),u.EX(lD),w.defineProperty(o,"constructor",{value:t}),o=dy(o),uD(u),function(t){for(var n=0;n<rD.length;n++)(0,rD[n])(t)}(u),o},n.cache=M$,n.createGlobals=WV,n.features=RD,n.getCueMirrorMap=zV,n.getGlobalId=VV,n.getSdkEventBridge=XV,n.playerSuiteVersion="2022.4.1",n.players=CD,n.registerContentProtectionIntegration=DD,n.utils=ID,n.version="4.3.0",n.videojs=zY,w.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
