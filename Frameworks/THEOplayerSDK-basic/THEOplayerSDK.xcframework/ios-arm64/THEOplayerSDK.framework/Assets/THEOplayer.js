/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.0 (4.2.0)
 Created: 2022-10-24T08:46:48.915Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,h=t.clearTimeout,c=t.setInterval,f=t.clearInterval,l=t.Error,v=t.TypeError,d=t.SyntaxError,w=t.Object,g=t.Math,m=t.parseInt,y=t.parseFloat,p=t.isNaN,_=t.Uint8Array,b=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function T(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),w.defineProperty(t,"prototype",{writable:!1}),t}function S(t,n){return(S=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t,n){t.prototype=w.create(n.prototype),t.prototype.constructor=t,S(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var I=o?o.userAgent:"",R=I.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),C=I.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),D=I.match(/Android ([0-9\.]+)/i),N=I.match(/Windows NT ([0-9\.]+)/i),P=I.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=I.match(/Firefox\/([0-9\.]+)/i),B=I.match(/OPR\/(\d+\.\d+)/i),O=I.match(/Tizen ([0-9\.]+)/i),L=I.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),M=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(I)||/(macintosh|mac(?=_powerpc)\s)/i.test(I),this.V=/Windows NT/i.test(I),this.G=N?y(N[1]):0,this.Y=/Android/i.test(I),this.j=D?y(D[1]):0,this.Z=/windows phone (8|8\.1)/i.test(I),this.K=/iPhone/i.test(I),this.J=/iPad/i.test(I),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(I),this.ot=/Mobile Safari/i.test(I),this.ct=/EOSSTB/i.test(I),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=L?y(L[2]):0,this.dt=this.Z||this.ft||this.Y||this.ot,this.wt=/CriOS/i.test(I),this._t=Boolean(t.chrome&&/google/i.test(o.vendor))||this.wt,this.yt=this._t&&/Edg\//i.test(o.userAgent),this.kt=C?m(C[1],10):0,this.bt=Boolean(t.chrome||/Chrome/i.test(I)||/CriOS/i.test(I)),this.At=R?m(R[1],10):0,this.Tt=/SMART-TV.*Tizen/i.test(I),this.St=O?y(O[1]):0,this.Et=/webos|web0s/i.test(I),this.It=/Edge\/\d+/i.test(I),this.Rt=/Trident/i.test(I),this.Dt=this.Rt&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(I),this.Ct=/Firefox/i.test(I)&&!/Seamonkey/i.test(I),this.Pt=x?y(x[1]):0,this.Bt=/Safari/i.test(I)&&!/Chrome/i.test(I)&&!this.Z&&!this.Tt,this.Ot=P?y(P[2]):0,this.xt=Boolean(B),this.Lt=B?y(B[1]):0,this.Mt=/CrKey/.test(I),this.Ut=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(I),this.Xt="ios"===e.I,this.Ft="ios"===e.g,this.Ht=this.Ft||this.Xt,this.zt="ios"===e.R,this.Vt="ios"===e.N,this.Wt="ios"===e.M}return T(n,[{key:"Gt",get:function(){return this.U}},{key:"qt",get:function(){return this.F}},{key:"Yt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.j}},{key:"Kt",get:function(){return this.Z}},{key:"Jt",get:function(){return this.K}},{key:"$t",get:function(){return this.J}},{key:"in",get:function(){return this.nt}},{key:"un",get:function(){return this.ut}},{key:"hn",get:function(){return this.ft}},{key:"cn",get:function(){return this.vt}},{key:"fn",get:function(){return this.ct}},{key:"vn",get:function(){return this.ot}},{key:"dn",get:function(){return this.dt}},{key:"wn",get:function(){return this.wt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.At}},{key:"pn",get:function(){return this.yt}},{key:"An",get:function(){return this.kt}},{key:"Tn",get:function(){return this.Tt}},{key:"Sn",get:function(){return this.St}},{key:"En",get:function(){return this.Et}},{key:"In",get:function(){return this.It}},{key:"Rn",get:function(){return this.Rt}},{key:"Dn",get:function(){return this.Dt}},{key:"Nn",get:function(){return this.Nt}},{key:"Cn",get:function(){return this.Ct}},{key:"Pn",get:function(){return this.Pt}},{key:"Bn",get:function(){return this.Bt}},{key:"On",get:function(){return this.Ot}},{key:"xn",get:function(){return this.xt}},{key:"Ln",get:function(){return this.Lt}},{key:"Mn",get:function(){return this.Mt}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return!(!this.En&&!this.Tn)&&this.yn<=56}},{key:"Fn",get:function(){return this.Xt}},{key:"Hn",get:function(){return this.Ft}},{key:"zn",get:function(){return this.Ht}},{key:"Vn",get:function(){return this.zt}},{key:"Wn",get:function(){return this.Vt}},{key:"Gn",get:function(){return this.Wt}},{key:"qn",get:function(){return this.bt}}]),n}();M.Yn=new M;var j=M.Yn,F={}.hasOwnProperty,U={}.toString;function H(t){return null!=t}function X(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===U.call(t)};function V(t){return W(t)&&F.call(t,"length")&&Z(t.length)}function W(t){return"object"==typeof t&&null!==t}function q(t){return W(t)&&t.constructor&&t.constructor===w}function G(t){return"string"==typeof t}function $(t){return"boolean"==typeof t}function Y(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Z(t){return"number"==typeof t}var K=function(){},J=function(t){return t};function tt(t,n){var e=-1/0;return function(){var r=i.ir();r-e>=n&&(t.apply(void 0,arguments),e=r)}}function nt(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,h=e&&!r;void 0!==r&&i.jn(r),r=i.Qn(function(){r=void 0,e||t.apply(a,u)},n),h&&t.apply(a,u)}}var it=!(j.Rn&&!j.Dn),et=t.console;function rt(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(rt).join(" ")}function ut(t){var n=et&&et[t];return n?n.bind&&it?n.bind(et):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];et[t](st(i))}:void 0}var ot,at=ut("log")||K,ht=ut("warn")||at.bind(void 0,"WARNING:"),ct=ut("error")||at.bind(void 0,"ERROR:"),ft=(ot=et&&et.assert)?ot.bind&&it?ot.bind(et):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];et.assert(t,st(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ct.apply(void 0,["Assertion failed:"].concat(i))}},lt=null;try{lt=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function vt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function dt(t){return!0===(t&&t.Zn)}function wt(t){var n=g.clz32(t&-t);return t?31-n:n}vt.prototype.Zn,w.defineProperty(vt.prototype,"Zn",{value:!0}),vt.isLong=dt;var gt={},mt={};function yt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=mt[t])?e:(i=_t(t,0,!0),r&&(mt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=gt[t])?e:(i=_t(t,t<0?-1:0,!1),r&&(gt[t]=i),i)}function pt(t,n){if(p(t))return n?Ct:Rt;if(n){if(t<0)return Ct;if(t>=St)return Bt}else{if(t<=-Et)return Ot;if(t+1>=Et)return xt}return t<0?pt(-t,n).neg():_t(t%Tt|0,t/Tt|0,n)}function _t(t,n,i){return new vt(t,n,i)}vt.fromInt=yt,vt.fromNumber=pt,vt.fromBits=_t;var bt=g.pow;function kt(t,n,i){if(0===t.length)throw l("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Ct:Rt;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw l("interior hyphen");if(0===e)return kt(t.substring(1),n,i).neg();for(var r=pt(bt(i,8)),s=Rt,u=0;u<t.length;u+=8){var o=g.min(8,t.length-u),a=m(t.substring(u,u+o),i);if(o<8){var h=pt(bt(i,o));s=s.mul(h).add(pt(a))}else s=(s=s.mul(r)).add(pt(a))}return s.unsigned=n,s}function At(t,n){return"number"==typeof t?pt(t,n):"string"==typeof t?kt(t,n):_t(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}vt.fromString=kt,vt.fromValue=At;var Tt=4294967296,St=Tt*Tt,Et=St/2,It=yt(1<<24),Rt=yt(0);vt.ZERO=Rt;var Ct=yt(0,!0);vt.UZERO=Ct;var Dt=yt(1);vt.ONE=Dt;var Nt=yt(1,!0);vt.UONE=Nt;var Pt=yt(-1);vt.NEG_ONE=Pt;var xt=_t(-1,2147483647,!1);vt.MAX_VALUE=xt;var Bt=_t(-1,-1,!0);vt.MAX_UNSIGNED_VALUE=Bt;var Ot=_t(0,-2147483648,!1);vt.MIN_VALUE=Ot;var Lt=vt.prototype;Lt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Lt.toNumber=function(){return this.unsigned?(this.high>>>0)*Tt+(this.low>>>0):this.high*Tt+(this.low>>>0)},Lt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ot)){var n=pt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=pt(bt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Lt.getHighBits=function(){return this.high},Lt.getHighBitsUnsigned=function(){return this.high>>>0},Lt.getLowBits=function(){return this.low},Lt.getLowBitsUnsigned=function(){return this.low>>>0},Lt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ot)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Lt.isZero=function(){return 0===this.high&&0===this.low},Lt.eqz=Lt.isZero,Lt.isNegative=function(){return!this.unsigned&&this.high<0},Lt.isPositive=function(){return this.unsigned||this.high>=0},Lt.isOdd=function(){return 1==(1&this.low)},Lt.isEven=function(){return 0==(1&this.low)},Lt.equals=function(t){return dt(t)||(t=At(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Lt.eq=Lt.equals,Lt.notEquals=function(t){return!this.eq(t)},Lt.neq=Lt.notEquals,Lt.ne=Lt.notEquals,Lt.lessThan=function(t){return this.comp(t)<0},Lt.lt=Lt.lessThan,Lt.lessThanOrEqual=function(t){return this.comp(t)<=0},Lt.lte=Lt.lessThanOrEqual,Lt.le=Lt.lessThanOrEqual,Lt.greaterThan=function(t){return this.comp(t)>0},Lt.gt=Lt.greaterThan,Lt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Lt.gte=Lt.greaterThanOrEqual,Lt.ge=Lt.greaterThanOrEqual,Lt.compare=function(t){if(dt(t)||(t=At(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Lt.comp=Lt.compare,Lt.negate=function(){return!this.unsigned&&this.eq(Ot)?Ot:this.not().add(Dt)},Lt.neg=Lt.negate,Lt.add=function(t){dt(t)||(t=At(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,h=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,h+=(c+=e+o)>>>16,a+=(h+=i+u)>>>16,a+=n+s,_t((c&=65535)<<16|(f&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Lt.subtract=function(t){return dt(t)||(t=At(t)),this.add(t.neg())},Lt.sub=Lt.subtract,Lt.multiply=function(t){if(this.isZero())return this;if(dt(t)||(t=At(t)),lt)return _t(lt.mul(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Ct:Rt;if(this.eq(Ot))return t.isOdd()?Ot:Rt;if(t.eq(Ot))return this.isOdd()?Ot:Rt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(It)&&t.lt(It))return pt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,h=0,c=0,f=0,l=0;return f+=(l+=r*a)>>>16,c+=(f+=e*a)>>>16,f&=65535,c+=(f+=r*o)>>>16,h+=(c+=i*a)>>>16,c&=65535,h+=(c+=e*o)>>>16,c&=65535,h+=(c+=r*u)>>>16,h+=n*a+i*o+e*u+r*s,_t((f&=65535)<<16|(l&=65535),(h&=65535)<<16|(c&=65535),this.unsigned)},Lt.mul=Lt.multiply,Lt.divide=function(t){if(dt(t)||(t=At(t)),t.isZero())throw l("division by zero");var n,i,e;if(lt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?_t((this.unsigned?lt.div_u:lt.div_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ct:Rt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ct;if(t.gt(this.shru(1)))return Nt;e=Ct}else{if(this.eq(Ot))return t.eq(Dt)||t.eq(Pt)?Ot:t.eq(Ot)?Dt:(n=this.shr(1).div(t).shl(1)).eq(Rt)?t.isNegative()?Dt:Pt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Ot))return this.unsigned?Ct:Rt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Rt}for(i=this;i.gte(t);){n=g.max(1,g.floor(i.toNumber()/t.toNumber()));for(var r=g.ceil(g.log(n)/g.LN2),s=r<=48?1:bt(2,r-48),u=pt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=pt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Dt),e=e.add(u),i=i.sub(o)}return e},Lt.div=Lt.divide,Lt.modulo=function(t){return dt(t)||(t=At(t)),lt?_t((this.unsigned?lt.rem_u:lt.rem_s)(this.low,this.high,t.low,t.high),lt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Lt.mod=Lt.modulo,Lt.rem=Lt.modulo,Lt.not=function(){return _t(~this.low,~this.high,this.unsigned)},Lt.countLeadingZeros=function(){return this.high?g.clz32(this.high):g.clz32(this.low)+32},Lt.clz=Lt.countLeadingZeros,Lt.countTrailingZeros=function(){return this.low?wt(this.low):wt(this.high)+32},Lt.ctz=Lt.countTrailingZeros,Lt.and=function(t){return dt(t)||(t=At(t)),_t(this.low&t.low,this.high&t.high,this.unsigned)},Lt.or=function(t){return dt(t)||(t=At(t)),_t(this.low|t.low,this.high|t.high,this.unsigned)},Lt.xor=function(t){return dt(t)||(t=At(t)),_t(this.low^t.low,this.high^t.high,this.unsigned)},Lt.shiftLeft=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_t(0,this.low<<t-32,this.unsigned)},Lt.shl=Lt.shiftLeft,Lt.shiftRight=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_t(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Lt.shr=Lt.shiftRight,Lt.shiftRightUnsigned=function(t){return dt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?_t(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):_t(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Lt.shru=Lt.shiftRightUnsigned,Lt.shr_u=Lt.shiftRightUnsigned,Lt.rotateLeft=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),_t(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Lt.rotl=Lt.rotateLeft,Lt.rotateRight=function(t){var n;return dt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?_t(this.high,this.low,this.unsigned):t<32?(n=32-t,_t(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),_t(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Lt.rotr=Lt.rotateRight,Lt.toSigned=function(){return this.unsigned?_t(this.low,this.high,!1):this},Lt.toUnsigned=function(){return this.unsigned?this:_t(this.low,this.high,!0)},Lt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Lt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Lt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},vt.fromBytes=function(t,n,i){return i?vt.fromBytesLE(t,n):vt.fromBytesBE(t,n)},vt.fromBytesLE=function(t,n){return new vt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},vt.fromBytesBE=function(t,n){return new vt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Mt=9007199254740991,jt=g.pow(2,-52);function Ft(t,n,i){return g.min(g.max(t,n),i)}function Ut(t,n,i){return t===n||g.abs(t-n)<=i}function Ht(t){return t!=t}function Xt(t,n){return t===n||Ht(t)&&Ht(n)}function zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Vt(t){return!p(t.getTime())}function Wt(){return Date.now()||(new Date).getTime()}function qt(t){return t/1e3}function Gt(t){return 1e3*t}var $t,Yt=vt.fromNumber(Mt);function Qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Yt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Zt(t){return t.Kn===$t.Jn}function Kt(t){return t.Kn===$t.$n}function Jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Jn=1]="Jn",t[t.ni=2]="ni",t[t.$n=3]="$n",t[t.ei=4]="ei",t[t.ri=9]="ri"}($t||($t={}));var tn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];l.apply(this,n)};(tn.prototype=w.create(l.prototype)).constructor=tn;var nn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,l.captureStackTrace&&l.captureStackTrace(Jt(e),e.constructor),e}return E(n,t),T(n,[{key:"name",get:function(){return"BaseError"}}]),n}(tn),en=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return E(n,t),n}(nn),rn=function(){function t(){}return t.prototype.ui=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new en(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new en;return new fn(n)},t}(),sn=function(){function t(t){this.oi=void 0,this.oi=t}var n=t.prototype;return n.ai=function(t){return this.oi.isEqualNode(t.oi)},n.ci=function(n){return new t(this.oi.cloneNode(n))},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){var t;return null!=(t=this.oi.localName)?t:dn(this.oi.nodeName)}},{key:"wi",get:function(){return this.oi.nodeName}},{key:"_i",get:function(){var t;return null!=(t=this.oi.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.oi.prefix)?t:void 0}},{key:"Ai",get:function(){return this.oi.nodeValue}}]),t}(),un=function(){function t(t){this.Ti=void 0,this.Si=void 0,this.Ti=t}var n=t.prototype;return n.Ei=function(t){return this.Ii.filter(function(n){return ln(n)&&n.Ri===t})},n.Di=function(t,n){return this.Ii.filter(function(i){return ln(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Ti.appendChild(t.Ci),this.Si&&this.Si.push(t)},n.ai=function(t){return this.Ti.isEqualNode(t.Ci)},T(t,[{key:"Ii",get:function(){return void 0===this.Si&&(this.Si=function(t){for(var n=[],i=0;i<t.length;i++){var e=vn(t.item(i));e&&n.push(e)}return n}(this.Ti.childNodes)),this.Si}},{key:"Pi",get:function(){return this.Ii.filter(ln)}},{key:"Ci",get:function(){return this.Ti}}]),t}(),on=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Bi=function(t){if(this.Ti.hasAttribute(t))return this.Ti.getAttribute(t)},i.Oi=function(t,n){if(this.Ti.hasAttributeNS(t,n))return this.Ti.getAttributeNS(t,n)},i.xi=function(t){this.Ti.removeAttribute(t)},i.Li=function(t,n){this.Ti.removeAttributeNS(t,n)},i.Mi=function(t,n){this.Ti.setAttribute(t,n)},i.Ui=function(t,n,i){this.Ti.setAttributeNS(t,n,i)},i.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.Jn}},{key:"di",get:function(){var t;return null!=(t=this.Ti.localName)?t:dn(this.Ti.nodeName)}},{key:"_i",get:function(){var t;return null!=(t=this.Ti.namespaceURI)?t:void 0}},{key:"gi",get:function(){var t;return null!=(t=this.Ti.prefix)?t:void 0}},{key:"Ri",get:function(){return this.Ti.nodeName}},{key:"Xi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new sn(t.item(i)));return n}(this.Ti.attributes)}},{key:"Fi",get:function(){return this.Ti.textContent}}]),n}(un),an=function(){function t(t){this.Ti=void 0,this.Ti=t}return t.prototype.ai=function(t){return this.Hi===t.Hi},T(t,[{key:"Hi",get:function(){return this.Ti.nodeValue}},{key:"Ci",get:function(){return this.Ti}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.$n}}]),n}(an),cn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(an),fn=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.ci=function(t){return new n(this.Ti.cloneNode(t))},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"zi",get:function(){return new on(this.Ti.documentElement)}}]),n}(un);function ln(t){return Zt(t)}function vn(t){switch(t.nodeType){case $t.Jn:return new on(t);case $t.$n:return new hn(t);case $t.ei:return new cn(t)}}function dn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function wn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function gn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){mn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&mn(i,null,t.length,t),t}function mn(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(r=0;r<h;r+=f)for(u=(s=r+i)+i,s>h&&(s=h),u>h&&(u=h),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<s)e[c++]=t[o++];else{if(!(a<u))break;e[c++]=t[a++]}}var yn=/[a-zA-Z]/,pn=/[0-9]/,_n=/[0-9a-fA-F]/,bn=/^0x/i,kn=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,Tn=/^[0-7]+$/,Sn=w.prototype.toString,En=Array.isArray||function(t){return"[object Array]"===Sn.call(t)},In="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Rn(t){return En(t)?t:Array.from(t)}function Cn(t){return t>=65&&t<=90}function Dn(t){return Cn(t)||function(t){return t>=97&&t<=122}(t)}function Nn(t){return t>=48&&t<=57}function Pn(t){return Nn(t)||Dn(t)}function xn(t){return Nn(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return Cn(t)?t+32:t}function On(t){return Nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ln(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Mn=g.min,jn=String.fromCharCode,Fn=16384;function Un(t){for(var n=t.length,i=[],e=0;e<n;e+=Fn){var r=Mn(e+Fn,n);i.push(jn.apply(null,t.slice(e,r)))}return i.join("")}var Hn=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,zn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Vn=g.floor,Wn=String.fromCharCode;function qn(t){throw new RangeError(zn[t])}function Gn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var $n,Yn,Qn,Zn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Kn=function(t,n,i){var e=0;for(t=i?Vn(t/700):t>>1,t+=Vn(t/n);t>455;e+=36)t=Vn(t/35);return Vn(e+36*t/(t+38))},Jn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Hn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Gn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(Wn(a))}var h=n.length,c=h;for(h&&n.push("-");c<i;){for(var f=2147483647,l=0,v=t;l<v.length;l++){var d=v[l];d>=e&&d<f&&(f=d)}var w=c+1;f-e>Vn((2147483647-r)/w)&&qn("overflow"),r+=(f-e)*w,e=f;for(var g=0,m=t;g<m.length;g++){var y=m[g];if(y<e&&++r>2147483647&&qn("overflow"),y==e){for(var p=r,_=36;;_+=36){var b=_<=s?1:_>=s+26?26:_-s;if(p<b)break;var k=p-b,A=36-b;n.push(Wn(Zn(b+k%A,0))),p=Vn(k/A)}n.push(Wn(Zn(p,0))),s=Kn(r,w,c==h),r=0,++c}}++r,++e}return n.join("")}(t):t})};function ti(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Un(n)}function ni(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ii(t,n){return t>>n&63|128}function ei(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ni(t),n.push(t>>12&15|224),n.push(ii(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ii(t,12)),n.push(ii(t,6))),n.push(63&t|128)):n.push(t)}function ri(t){for(var n=[],i=0;i<t.length;i++){ei(t[i],n)}return n}function si(){if(Qn>=Yn)throw new l("Invalid byte index");var t=255&$n[Qn];if(Qn++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function ui(){var t,n;if(Qn>Yn)throw new l("Invalid byte index");if(Qn===Yn)return!1;if(t=255&$n[Qn],Qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|si())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|si()<<6|si())>=2048)return ni(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|si()<<12|si()<<6|si())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}function oi(t){return[37,Ln(t>>4),Ln(15&t)]}function ai(t){return function(t){return t>=0&&t<=31}(t)||t>126}function hi(t){return ai(t)||32===t||34===t||60===t||62===t||96===t}function ci(t){return hi(t)||35===t||63===t||123===t||125===t}function fi(t){return ci(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function li(t){return t<33||t>126||34===t||35===t||60===t||62===t}function vi(t){return li(t)||39===t}function di(t,n){if(!n(t))return[t];for(var i=ri([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,oi(s))}return e}function wi(t,n){for(var i=[],e=0,r=Gn(t);e<r.length;e++){var s=r[e];i.push.apply(i,di(s,n))}return ti(i)}function gi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&xn(t[e+1])&&xn(t[e+2])){var s=On(t[e+1])<<4|On(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ri(t))}function mi(t){return ti(function(t){$n=t.slice(),Yn=$n.length,Qn=0;for(var n,i=[];!1!==(n=ui());)i.push(n);return i}(gi(Gn(t))))}function yi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,h=0;if(h<s&&":"===t[h]){if(!(h+1<s&&":"===t[h+1]))throw new v;h+=2,a=o+=1}for(;h<s;){if(8===o)throw new v("Too many groups");if(":"!==t[h]){for(var c=0,f=0;f<4&&h<s&&_n.test(t[h]);)c=c<<4|m(t[h],16),h+=1,f+=1;if("."===t[h]){if(0===f)throw new v;if(h-=f,o>6)throw new v;for(var l=0;h<s;){var d=null;if(l>0){if(!("."===t[h]&&l<4))throw new v;h+=1}if(!pn.test(t[h]))throw new v;for(;h<s&&pn.test(t[h]);){var w=m(t[h],10);if(null===d)d=w;else{if(0===d)throw new v;if((d=10*d+w)>255)throw new v}h+=1}u[o]=u[o]<<8|d,2!==(l+=1)&&4!==l||(o+=1)}if(4!==l)throw new v;break}if(":"===t[h]){if((h+=1)===s)throw new v}else if(h<s)throw new v;u[o]=c,o+=1}else{if(null!==a)throw new v("Too many :: groups");h+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function pi(t){var n=10,i=kn;return bn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Tn),""===t?0:i.test(t)?m(t,n):void 0}var _i={Vi:4},bi=/[\0\t\n\r #%/:?@\[\\\]]/,ki=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Vi:2,Wi:yi(t.slice(1,-1))}}if(!n)return function(t){if(ki.test(t))throw new v("Invalid code point in opaque host");var n=wi(t,ai);return""===n?_i:{Vi:3,Gi:n}}(t);var i=function(t){return function(t){return Jn(t.toLowerCase())}(t)}(mi(t));if(bi.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=pi(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=g.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*g.pow(256,3-a);return o}}(i);return void 0!==e?{Vi:1,Wi:e}:""===i?_i:{Vi:0,qi:i}}function Ti(t){switch(t.Vi){case 0:return t.qi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Wi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.Wi)+"]";case 3:return t.Gi;case 4:return""}}var Si=/\+/g;function Ei(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Si," "),o=o.replace(Si," ");var a=mi(u),h=mi(o);i.push([a,h])}}return i}function Ii(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ri(ri(Gn(e[0])))+"="+Ri(ri(Gn(e[1])))}return n}function Ri(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Pn(n)?i.push(r):i.push.apply(i,oi(r))}return Un(i)}var Ci=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Di(t){var n=""+t,i=Ci.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Pi(s))if(xi(s)||r===i-1)e.push(Ni);else{var u=t.charCodeAt(r+1);xi(u)?(e.push(s,u),r++):e.push(Ni)}else e.push(s)}return t.slice(0,n)+Un(e)}(n,i.index):n}var Ni=65533,Pi=function(t){return 55296==(63488&t)},xi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Oi(t){t.Yi.length=0}function Li(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Yi,Ei(n))}function Mi(t){if(t.ji){var n=Ii(t.Yi);""===n&&(n=null),t.ji.ji.Qi=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.ji=null,null==t)this.Yi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ji&&En(s.Yi)&&(!In||s[Symbol.iterator]===Fi))this.Yi=t.Yi.slice();else if(function(t){return null!=t&&(!!En(t)||!!In&&"function"==typeof t[Symbol.iterator])}(t)){this.Yi=[];for(var n=0,i=Rn(t);n<i.length;n++){var e=Rn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Yi.push([Di(e[0]),Di(e[1])])}}else for(var r in this.Yi=[],t)w.prototype.hasOwnProperty.call(t,r)&&this.Yi.push([Di(r),Di(t[r])]);else(t=Di(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Yi=Ei(t);var s}var n=t.prototype;return n.append=function(t,n){t=Di(t),n=Di(n),this.Yi.push([t,n]),Mi(this)},n.delete=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Mi(this)},n.get=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Di(t);for(var n=this.Yi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Di(t);for(var n=this.Yi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Di(t),n=Di(n);for(var i=this.Yi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Mi(this)},n.sort=function(){gn(this.Yi,Bi),Mi(this)},n.toString=function(){return Ii(this.Yi)},n.entries=function(){return new zi(this.Yi,Ui)},n.keys=function(){return new zi(this.Yi,Hi)},n.values=function(){return new zi(this.Yi,Xi)},n.forEach=function(t){var n=this;this.Yi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Fi=ji.prototype.entries;In&&(ji.prototype[Symbol.iterator]=Fi);var Ui=function(t){return[t[0],t[1]]},Hi=function(t){return t[0]},Xi=function(t){return t[1]},zi=function(){function t(t,n){this.Zi=0,this.Yi=t,this.Ki=n}return t.prototype.next=function(){return this.Zi<this.Yi.length?{done:!1,value:this.Ki(this.Yi[this.Zi++])}:{done:!0,value:void 0}},t}(),Vi="null";var Wi=w.create(null);Wi.ftp=21,Wi.file=0,Wi.gopher=70,Wi.http=80,Wi.https=443,Wi.ws=80,Wi.wss=443;var qi=/^(?:\.|%2e)$/i,Gi=/^(?:\.|%2e){2}$/i;function $i(t){return qi.test(t)}function Yi(t){return Gi.test(t)}function Qi(t){return void 0!==Wi[t]}function Zi(t){return Qi(t.Ji)}function Ki(t){return""!==t.$i||""!==t.re}function Ji(t){var n=t.length;if(!(n>=2))return!1;if(!ne(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function te(t){return 2===t.length&&yn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ne(t){return 2===t.length&&te(Un(t))}function ie(t){return te(t)&&":"===t[1]}function ee(t){var n=t.ue;0!==n.length&&("file"===t.Ji&&1===n.length&&ie(n[0])||n.pop())}function re(t){return null===t.oe||_i===t.oe||t.fe||"file"===t.Ji}var se=-1,ue=/\t|\n|\r/g,oe=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ae(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new ce,t=t.replace(oe,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,h=Gn(t=t.replace(ue,"")),c=h.length,f=0;f<=c;){var l=f<c?h[f]:se;switch(r){case 0:if(!Dn(l)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(Bn(l)),r=1;break;case 1:if(Pn(l)||43===l||45===l||46===l)s.push(Bn(l));else{if(58!==l){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var d=ti(s);if(null!==e){if(Qi(i.Ji)&&!Qi(d))return;if(!Qi(i.Ji)&&Qi(d))return;if((Ki(i)||null!==i.we)&&"file"===d)return;if("file"===i.Ji&&(i.oe===_i||null===i.oe))return}if(i.Ji=d,null!==e)return void(Zi(i)&&i.we===Wi[i.Ji]&&(i.we=null));s.length=0,"file"===i.Ji?r=13:Zi(i)&&n&&n.Ji===i.Ji?r=3:Zi(i)?r=7:47===h[f+1]?(r=4,f+=1):(i.fe=!0,i.ue.push(""),r=18)}break;case 2:if(!n||n.fe&&35!==l)throw new v("Invalid scheme");n.fe&&35===l?(i.Ji=n.Ji,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",i.fe=!0,r=20):"file"!==n.Ji?(r=5,f-=1):(r=13,f-=1);break;case 3:47===l&&47===h[f+1]?r=8:(r=5,f-=1);break;case 4:47===l?r=9:(r=17,f-=1);break;case 5:i.Ji=n.Ji,se===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi):47===l?r=6:63===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi="",r=19):35===l?(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):92===l&&Zi(i)?r=6:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,i.ue=n.ue.slice(),i.ue.pop(),r=17,f-=1);break;case 6:!Zi(i)||47!==l&&92!==l?47===l?r=9:(i.$i=n.$i,i.re=n.re,i.oe=n.oe,i.we=n.we,r=17,f-=1):r=8;break;case 7:if(47!==l||47!==h[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==l&&92!==l&&(r=9,f-=1);break;case 9:if(64===l){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var y=ti(di(g,fi));a?i.re+=y:i.$i+=y}else a=!0}s.length=0}else if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(l);break;case 10:case 11:if(null!==e&&"file"===i.Ji)f-=1,r=15;else if(58!==l||o)if(se===l||47===l||63===l||35===l||Zi(i)&&92===l){if(f-=1,Zi(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(Ki(i)||null!==i.we))return;var p=Ai(ti(s),Zi(i));if(i.oe=p,s.length=0,r=16,null!==e)return}else 91===l?o=!0:93===l&&(o=!1),s.push(l);else{if(0===s.length)throw new v("Invalid host");var _=Ai(ti(s),Zi(i));if(i.oe=_,s.length=0,r=12,11===e)return}break;case 12:if(Nn(l))s.push(l);else{if(!(se===l||47===l||63===l||35===l||Zi(i)&&92===l||null!==e))throw new v("Invalid port");if(0!==s.length){var b=m(ti(s),10);if(b>65535)throw new v("Invalid port");i.we=b===Wi[i.Ji]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ji="file",47===l||92===l?r=14:n&&"file"===n.Ji?se===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi):63===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi="",r=19):35===l?(i.oe=n.oe,i.ue=n.ue.slice(),i.Qi=n.Qi,i._e="",r=20):(Ji(h.slice(f))||(i.oe=n.oe,i.ue=n.ue.slice(),ee(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===l||92===l?r=15:(n&&"file"===n.Ji&&!Ji(h.slice(f))&&(ie(n.ue[0])?i.ue.push(n.ue[0]):i.oe=n.oe),r=17,f-=1);break;case 15:if(se===l||47===l||92===l||63===l||35===l)if(f-=1,null===e&&ne(s))r=17;else if(0===s.length){if(i.oe=_i,null!==e)return;r=16}else{var k=Ai(ti(s),Zi(i));if(0===k.Vi&&"localhost"===k.qi&&(k=_i),i.oe=k,null!==e)return;s.length=0,r=16}else s.push(l);break;case 16:Zi(i)?(r=17,47!==l&&92!==l&&(f-=1)):null===e&&63===l?(i.Qi="",r=19):null===e&&35===l?(i._e="",r=20):se!==l&&(r=17,47!==l&&(f-=1));break;case 17:if(se===l||47===l||Zi(i)&&92===l||null===e&&(63===l||35===l)){var A=ti(s);if(Yi(A)?(ee(i),47===l||Zi(i)&&92===l||i.ue.push("")):!$i(A)||47===l||Zi(i)&&92===l?$i(A)||("file"===i.Ji&&0===i.ue.length&&ne(s)&&(_i!==i.oe&&null!==i.oe&&(i.oe=_i),s[1]=58,A=ti(s)),i.ue.push(A)):i.ue.push(""),s.length=0,"file"===i.Ji&&(se===l||63===l||35===l))for(;i.ue.length>1&&""===i.ue[0];)i.ue.shift();63===l?(i.Qi="",r=19):35===l&&(i._e="",r=20)}else s.push.apply(s,di(l,ci));break;case 18:63===l?(i.Qi="",r=19):35===l?(i._e="",r=20):se!==l&&(i.ue[0]+=ti(di(l,ai)));break;case 19:null===e&&35===l?(i._e="",r=20):se!==l&&(i.Qi+=ti(di(l,Zi(i)?vi:li)));break;case 20:se===l||0===l||(i._e+=ti(di(l,hi)))}f++}return i}function he(t,n,i,e){try{ae(t,n,i,e)}catch(t){}}var ce=function(){this.Ji="",this.$i="",this.re="",this.oe=null,this.we=null,this.ue=[],this.Qi=null,this._e=null,this.fe=!1};function fe(t){switch(t.Ji){case"blob":var n;try{n=ae(t.ue[0],null)}catch(t){return Vi}return fe(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ji,e=t.oe,r=t.we,i+"://"+Ti(e)+(null===r?"":":"+r);case"file":default:return Vi}var i,e,r}var le,ve,de,we,ge,me,ye=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ye&&"object"==typeof i.ji)r=n.ji;else try{r=ae(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=ae(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Qi;this.ji=e,this.Qi=function(t){var n=new ji;return null!==t&&Li(n,t),n}(s),this.Qi.ji=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ji+":";if(null!==t.oe?(i+="//",Ki(t)&&(i+=t.$i,""!==t.re&&(i+=":"+t.re),i+="@"),i+=Ti(t.oe),null!==t.we&&(i+=":"+t.we)):null===t.oe&&"file"===t.Ji&&(i+="//"),t.fe)i+=t.ue[0];else for(var e=0,r=t.ue;e<r.length;e++)i+="/"+r[e];return null!==t.Qi&&(i+="?"+t.Qi),n||null===t._e||(i+="#"+t._e),i}(this.ji)},set:function(t){var n;try{n=ae(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.ji=n,Oi(this.Qi);var i=this.ji.Qi;null!==i&&Li(this.Qi,i)}},{key:"origin",get:function(){return fe(this.ji)}},{key:"protocol",get:function(){return this.ji.Ji+":"},set:function(t){he(t+":",null,this.ji,0)}},{key:"username",get:function(){return this.ji.$i},set:function(t){re(this.ji)||(this.ji.$i=wi(t,fi))}},{key:"password",get:function(){return this.ji.re},set:function(t){re(this.ji)||(this.ji.re=wi(t,fi))}},{key:"host",get:function(){var t=this.ji,n=t.oe;if(null===n)return"";var i=t.we,e=Ti(n);return null!==i&&(e+=":"+i),e},set:function(t){this.ji.fe||he(t,null,this.ji,10)}},{key:"hostname",get:function(){var t=this.ji.oe;return null===t?"":Ti(t)},set:function(t){this.ji.fe||he(t,null,this.ji,11)}},{key:"port",get:function(){var t=this.ji.we;return null===t?"":""+t},set:function(t){re(this.ji)||(""===t?this.ji.we=null:he(t,null,this.ji,12))}},{key:"pathname",get:function(){var t=this.ji.ue;return this.ji.fe?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ji.fe||(this.ji.ue.length=0,he(t,null,this.ji,16))}},{key:"search",get:function(){var t=this.ji.Qi;return null===t||""===t?"":"?"+t},set:function(t){t=Di(t);var n=this.ji;if(""===t)return n.Qi=null,void Oi(this.Qi);"?"===t[0]&&(t=t.slice(1)),n.Qi="",he(t,null,n,19),Li(this.Qi,t)}},{key:"searchParams",get:function(){return this.Qi}},{key:"hash",get:function(){var t=this.ji._e;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ji._e="",he(t,null,this.ji,20)):this.ji._e=null}}])&&wn(n.prototype,i),e&&wn(n,e),t}();function pe(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=a;function be(t){return Boolean(t&&void 0!==t.length)}function ke(){}function Ae(t){if(!(this instanceof Ae))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.me=0,this.ye=!1,this.ke=void 0,this.pe=[],Ce(t,this)}function Te(t,n){for(;3===t.me;)t=t.ke;0!==t.me?(t.ye=!0,Ae.Ae(function(){var i=1===t.me?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.ke)}catch(t){return void Ee(n.promise,t)}Se(n.promise,e)}else(1===t.me?Se:Ee)(n.promise,t.ke)})):t.pe.push(n)}function Se(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Ae)return t.me=3,t.ke=n,void Ie(t);if("function"==typeof i)return void Ce((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.me=1,t.ke=n,Ie(t)}catch(n){Ee(t,n)}var e,r}function Ee(t,n){t.me=2,t.ke=n,Ie(t)}function Ie(t){2===t.me&&0===t.pe.length&&Ae.Ae(function(){t.ye||Ae.Te(t.ke)});for(var n=0,i=t.pe.length;n<i;n++)Te(t,t.pe[n]);t.pe=null}function Re(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ce(t,n){var i=!1;try{t(function(t){i||(i=!0,Se(n,t))},function(t){i||(i=!0,Ee(n,t))})}catch(t){if(i)return;i=!0,Ee(n,t)}}Ae.prototype.catch=function(t){return this.then(null,t)},Ae.prototype.then=function(t,n){var i=new this.constructor(ke);return Te(this,new Re(t,n,i)),i},Ae.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Ae.all=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new v(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Ae.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Ae?t:new Ae(function(n){n(t)})},Ae.reject=function(t){return new Ae(function(n,i){i(t)})},Ae.race=function(t){return new Ae(function(n,i){if(!be(t))return i(new v("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Ae.resolve(t[e]).then(n,i)})},Ae.Ae="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},Ae.Te=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var De=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ne=o?o.userAgent:"",Pe=Ne.match(/Firefox\/([0-9]+)/i),xe=null!=Pe,Be=Pe?Number(Pe[1]):0,Oe=Ne.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Le=null!=Oe,Me=Oe?Number(Oe[3]):0,je=function(){function t(t){this.Se=0,this.Ee=0,this.Gi=[],this.Ie=t}return t.prototype.Re=function(t){var n=this.length();this.De(n+1);var i=this.Ee+n&this.Ie-1;this.Gi[i]=t,this.Se=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ie<n)this.Re(t);else{var i=this.Ee+n-1,e=this.Ie-1;this.Gi[i&e]=t,this.Se=n}},t.prototype.shift=function(){var t=this.Ee,n=this.Gi[t];return this.Gi[t]=void 0,this.Ee=t+1&this.Ie-1,this.Se--,n},t.prototype.length=function(){return this.Se},t.prototype.De=function(t){this.Ie<t&&this.Ne(this.Ie<<1)},t.prototype.Ne=function(t){var n=this.Ie;this.Ie=t;var i=this.Ee+this.Se&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Gi,0,n,i)},t}();var Fe="unhandledrejection",Ue=t.PromiseRejectionEvent,He=t.CustomEvent;function Xe(t){return new Ue(Fe,{reason:t,promise:De.reject(t).catch(function(){}),cancelable:!0})}function ze(t){var n=new He(Fe,{detail:{reason:t},cancelable:!0});return w.defineProperty(n,"reason",{value:t}),n}function Ve(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Fe,!1,!0,{reason:t}),n}var We,qe,Ge,$e,Ye,Qe,Ze,Ke=function(t){return(Ke=function(){try{var t=De.resolve(),n=new Ue(Fe,{reason:"error",promise:t});return Fe===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new He(Fe,{detail:{reason:"error"}});return Fe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?ze:Ve)(t)};if(De&&!(xe&&Be<60||Le&&Me<15))qe=De;else{qe=Ae;var Je=null!==(We=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=De;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==We?We:Ae.Ae,tr=(Ge=Je,$e=new je(16),Ye=!1,{Ce:function(t){$e.push(t),Ye||(Ye=!0,Ge(Qe))},Pe:Qe=function(){for(;$e.length()>0;)$e.shift()();Ye=!1}});Ae.Ae=tr.Ce,Ae.Te=function(n){try{var i=Ke(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new l("Unhandled promise rejection: ".concat(n))},0)}}function nr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ir(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function er(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function rr(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+ir(t)+" ").indexOf(" "+n+" ")}function sr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=ir(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&er(t,(i+" "+n).trim())}}function ur(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+ir(t)+" ",e=" "+n+" ";-1!==i.indexOf(e);)i=i.replace(e," ");er(t,i.trim())}}function or(t,n,i){void 0===i&&(i=!rr(t,n)),i?sr(t,n):ur(t,n)}function ar(t,n){j.Tn&&j.Sn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function hr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function fr(t){t.removeAttribute("title")}function lr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function vr(t){t.src&&(t.removeAttribute("src"),t.load())}function dr(){return void 0!==s?s.createElement("video"):void 0}function wr(){return Ze||(Ze=dr()),Ze}var gr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),mr=wr(),yr=!(!mr||!mr.webkitShowPlaybackTargetPicker),pr=function(){function t(){this.Be=void 0,this.Oe=!1,this.Gt=gr,this.dn=!1,this.xe=!0}var n=t.prototype;return n.Le=function(){return 0},n.Me=function(t,n){return!0},n.Ue=function(t){return t>=1/6*2},T(t,[{key:"Xe",get:function(){return void 0===this.Be&&(this.Be=this.Le()),this.Be}},{key:"Fe",get:function(){return!j.Un}},{key:"He",get:function(){return r.devicePixelRatio||1}},{key:"ze",get:function(){return yr}},{key:"Ve",get:function(){return!1}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return j.Bn||j.hn}},{key:"qe",get:function(){return!0}},{key:"Ye",get:function(){return!0}},{key:"je",get:function(){return!1}},{key:"Qe",get:function(){}},{key:"Ze",get:function(){return!0}},{key:"Ke",get:function(){return!1}}]),t}(),_r=function(){var t=dr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),br=function(){if(j.in)return!1;var t=dr();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var kr=function(t){function n(n){var i;return(i=t.call(this)||this).Je=void 0,i.Je=n,i.Je&&(i.Oe=i.Je.Oe,i.Gt=i.Je.Gt,i.xe=_r&&i.Je.xe),i}E(n,t);var i=n.prototype;return i.Le=function(){return this.Je?this.Je.Xe:t.prototype.Le.call(this)},i.Me=function(n,i){return this.Je?this.Je.Me(n,i):t.prototype.Me.call(this,n,i)},i.Ue=function(n){return this.Je?this.Je.Ue(n):t.prototype.Ue.call(this,n)},T(n,[{key:"Qe",get:function(){var t;return null==(t=this.Je)?void 0:t.Qe}},{key:"Ze",get:function(){var t,n;return null==(t=null==(n=this.Je)?void 0:n.Ze)||t}}]),n}(pr),Ar=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oe=!0,i.dn=!0,i}return E(n,t),T(n,[{key:"je",get:function(){return j.hn}}]),n}(kr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Le=function(){return we.MediaSource?t.prototype.Le.call(this):1},T(n,[{key:"je",get:function(){return!0}}]),n}(Ar),Sr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(n,i){return t.prototype.Me.call(this,n,i)},T(n,[{key:"Ve",get:function(){return j.Sn<3}},{key:"We",get:function(){return j.Sn>=3}},{key:"Ke",get:function(){return j.Sn<3}}]),n}(kr),Er=function(t){function n(){return t.call(this)||this}return E(n,t),n}(pr),Ir=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Me=function(t,n){if(t&&t.$e&&n&&n.$e){var i=Rr(t.$e,"mp4a.40.2")&&Rr(n.$e,"mp4a.40.5"),e=Rr(t.$e,"mp4a.40.5")&&Rr(n.$e,"mp4a.40.2"),r=Rr(t.$e,"mp4a.40.2")&&Rr(n.$e,"mp4a.40.34"),s=Rr(t.$e,"mp4a.40.34")&&Rr(n.$e,"mp4a.40.2"),u=Rr(t.$e,"mp4a.40.5")&&Rr(n.$e,"mp4a.40.34"),o=Rr(t.$e,"mp4a.40.34")&&Rr(n.$e,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},T(n,[{key:"Qe",get:function(){if(j.qt)return 4096}}]),n}(Er);function Rr(t,n){return t.indexOf(n)>-1}var Cr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Ue=function(t){return t>=2},n}(Er),Dr=function(t){function n(){var n;return(n=t.call(this)||this).Oe=j.On>=11,n.xe=j.Bn&&!(j.hn&&j.On<10),n}return E(n,t),n}(Er),Nr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"qe",get:function(){return!1}}]),n}(kr),Pr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Ze",get:function(){return!j.Yt||(j.pn?92!==j.An:j.yn>=100)}}]),n}(Er),xr=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"je",get:function(){return!0}}]),n}(kr),Br=function(){function n(){var n;this.ir=void 0,this.er=new rn,this.rr=new Or,this.dr=(n=function(){if(j.Cn)return new Ir;if(j.In||j.Rn)return new Cr;if(j.Bn)return new Dr;if(j._n)return new Pr;return new Er}(),j.hn?new Tr(n):j.dn?new Ar(n):j.Tn?new Sr(n):j.En?new Nr(n):j.qt?new xr(n):new kr(n)),this.wr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ir=function(){return t.performance.now()}:this.ir=Wt}var i=n.prototype;return i._r=function(){at.apply(void 0,arguments)},i.gr=function(){ht.apply(void 0,arguments)},i.yr=function(){ct.apply(void 0,arguments)},i.pr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ft.apply(void 0,[t].concat(i))},i.Qn=function(t,n){return a(t,n)},i.Ar=function(t,n){return c(t,n)},i.jn=function(t){h(t)},i.Tr=function(t){f(t)},i.ui=function(t){return this.er.ui(t)},i.Sr=function(){return this.Er.Sr()},i.Ir=function(){return this.Er.Ir()},i.Rr=function(){return this.Er.Rr()},i.Dr=function(){return this.Er.Dr()},i.Nr=function(){return this.Er.Nr()},i.Cr=function(t,n){return this.Er.Cr(t,n)},i.Pr=function(t){return this.Er.Pr(t)},i.Br=function(t,n){var i;return void 0===n&&(n=pe(we)),i="object"!=typeof n||n instanceof ye?n:n.href,new ye(t,i)},i.Or=function(n,i){if(void 0===i&&(i=pe(we)),this.wr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Br(n,i).href},T(n,[{key:"xr",get:function(){return this.rr}},{key:"Lr",get:function(){return this.dr}},{key:"Mr",get:function(){return{Ur:o&&o.userAgent.match(/Android /i)?"Android":"other",Xr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Fr",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Hr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Or=function(){function t(){}return T(t,[{key:"zr",get:function(){return o.oscpu}},{key:"Lr",get:function(){return o.platform}},{key:"Vr",get:function(){return o.vendor}},{key:"Wr",get:function(){return o.vendorSub}}]),t}();var Lr="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function Mr(t){return t&&t.__esModule&&w.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jr={exports:{}};!function(t){var n,i=w.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=w.create(r.prototype),u=new N(e||[]);return s.Gr=function(t,n,i){var e=c;return function(r,s){if(e===d)throw new l("Generator is already running");if(e===g){if("throw"===r)throw s;return x()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i.qr=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=d;var a=h(t,n,i);if("normal"===a.type){if(e=i.done?g:f,a.arg===m)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=g,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function h(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var c="suspendedStart",f="suspendedYield",d="executing",g="completed",m={};function y(){}function _(){}function b(){}var k={};k[s]=function(){return this};var A=w.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(k=T);var S=b.prototype=y.prototype=w.create(k);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Gr(n,t)}})}function I(t){var n;this.Gr=function(i,r){function s(){return new qe(function(n,s){!function n(i,r,s,u){var o=h(t[i],t,r);if("throw"!==o.type){var a=o.arg,c=a.value;return c&&"object"==typeof c&&e.call(c,"Yr")?qe.resolve(c.Yr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):qe.resolve(c).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return m}var r=h(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,m)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!p(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}_.prototype=S.constructor=b,b.constructor=_,b[o]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return w.setPrototypeOf?w.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=w.create(S),t},t.awrap=function(t){return{Yr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!p(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),h=e.call(u,"finallyLoc");if(a&&h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!h)throw new l("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new l("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}(jr.exports);var Fr=jr.exports;function Ur(){return(Ur=w.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)w.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Hr(){var t=w.create(null);return t.__=void 0,delete t.__,t}function Xr(){return new $r}function zr(){return new Zr}function Vr(t){var n=Xr();for(var i in t)F.call(t,i)&&n.set(i,t[i]);return n}function Wr(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var qr,Gr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,$r=Gr||(qr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=w.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hr(),this.size=0},n.keys=function(){return new qr(this.data,function(t,n){return n})},n.values=function(){return new qr(this.data,function(t,n){return t[n]})},n.entries=function(){return new qr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Qr,Zr=Gr||(Yr=function(){function t(t,n){this.Qr=void 0,this.Zr=void 0,this.Qr=t,this.Zr=n}var n=t.prototype;return n.next=function(){var t=this.Qr.next();return t.done?t:{value:this.Zr(t.value),done:!1}},t}(),function(){function t(){this.Kr=Xr()}var n=t.prototype;return n.get=function(t){return this.Kr.get(""+t)},n.set=function(t,n){return this.Kr.set(""+t,n),this},n.has=function(t){return this.Kr.has(""+t)},n.delete=function(t){return this.Kr.delete(""+t)},n.clear=function(){this.Kr.clear()},n.keys=function(){return new Yr(this.Kr.keys(),function(t){return Number(t)})},n.values=function(){return this.Kr.values()},n.entries=function(){return new Yr(this.Kr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Kr.forEach(function(n,i){t(n,Number(i))})},T(t,[{key:"size",get:function(){return this.Kr.size}}]),t}());!function(t){t.Jr="9a04f079-9840-4286-ab92-e65be0885f95",t.$r="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.rs="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.us="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Qr||(Qr={}));var Kr,Jr="urn:mpeg:dash:mp4protection:2011",ts="cenc",ns="sinf",is="skd",es=Qr.Jr,rs="urn:uuid:"+es,ss="com.microsoft.playready",us=Qr.$r,os="urn:uuid:"+us,as=Qr.rs,hs="urn:uuid:"+as,cs=Qr.us,fs="urn:uuid:"+cs,ls="com.apple.fps.1_0",vs="com.apple.streamingkeydelivery";!function(t){t.Jr="playready",t.$r="widevine",t.us="fairplay",t.rs="clearkey",t.hs="aes128"}(Kr||(Kr={}));var ds={fs:Kr.Jr,vs:ss,ls:"cenc",ds:es,_s:rs,gs:"PlayReady"},ws={fs:Kr.$r,vs:"com.widevine.alpha",ls:"cenc",ds:us,_s:os,gs:"Widevine"},gs={fs:Kr.us,vs:ls,ls:"skd",ds:cs,_s:fs,gs:"FairPlay"},ms={fs:Kr.us,vs:"com.apple.fps",ls:"sinf",ds:cs,_s:fs,gs:"FairPlay"},ys={fs:Kr.rs,vs:"org.w3.clearkey",ls:"cenc",ds:as,_s:hs,gs:"ClearKey"},ps=[ds,ws,gs,ys];function _s(t){return ps.filter(function(n){return n._s===t.toLowerCase()})}function bs(t,n,i){return t.split(n).join(i)}function ks(t,n){return null!=t&&-1!==t.indexOf(n)}function As(t,n){return null!=t&&t.substr(0,n.length)===n}function Ts(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ss(t,n){return t.toUpperCase()===n.toUpperCase()}function Es(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Is(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Es(e,r/e.length)),e.slice(0,r)+t)}function Rs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ds(n)}var Cs=16384;function Ds(t){var n=t.length;if(n<=Cs)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Cs)i.push(String.fromCharCode.apply(String,t.slice(e,e+Cs)));return i.join("")}var Ns=j._n&&j.yn>=42||j.Cn&&j.Pn>=38||j.In||j.Dn||j.xn&&j.Ln>=29;function Ps(t,n){return ks(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Ur({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function xs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Bs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Os,Ls=function(){function t(t){this.ys=void 0,this.As=Xr(),this.Ts=void 0,this.ys=t}var n=t.prototype;return n.Nr=function(){return this.Pr(ws)},n.Ir=function(){return this.Pr(ys)},n.Dr=function(){return this.Pr(ds)},n.Rr=function(){return this.Pr(gs)},n.Pr=function(t){var n=t._s,i=this.As.get(n);if(i)return i;var e=this.Cr(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,e),e},n.Cr=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.ys.Ss(t.vs,[Ps(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Fr.awrap(this.ys.Ss(t.vs,[Ps(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],qe)},n.Sr=function(){return this.Ts||(this.Ts=this.Es()),this.Ts},n.Es=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ge.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ns){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Fr.awrap(this.Ir());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,qe)},t}();function Ms(t,n){return Fs(t.slice(),n)}function js(t,n){var i=Fs(t,n);return i!==t&&Us(i,void 0,t.length,t),t}function Fs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Us(i,n,s,r);var u=i;i=r,r=u}return i}function Us(t,n,i,e){var r,s,u,o,a,h=t.length,c=0,f=2*i;for(s=0;s<h;s+=f)for(r=(u=s+i)+i,u>h&&(u=h),r>h&&(r=h),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[c++]=t[o++]:e[c++]=t[a++];else if(o<u)e[c++]=t[o++];else{if(!(a<r))break;e[c++]=t[a++]}}!function(t){t[t.Is=0]="Is",t[t.Rs=1]="Rs",t[t.Ds=-1]="Ds"}(Os||(Os={}));var Hs=function(t,n){return(0|t)-(0|n)},Xs=function(t,n){return t===n?Os.Is:t<n?Os.Ds:t>n?Os.Rs:p(t)?p(n)?Os.Is:Os.Rs:Os.Ds};function zs(t,n,i){return Ut(t,n,i)?Os.Is:Xs(t,n)}var Vs=function(t,n){return function(t,n){if(t===n)return!0;var i=g.abs(t-n);return i<jt||i<g.max(g.abs(t),g.abs(n))*jt}(t,n)?Os.Is:Xs(t,n)};function Ws(t,n,i){var e=Gs(t,n,i);return-1===e?void 0:t[e]}function qs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Gs(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function $s(t,n){var i=t.indexOf(n);return-1!==i&&(Ys(t,i),!0)}function Ys(t,n){t.splice(n,1)}function Qs(t,n){return-1!==t.indexOf(n)}function Zs(t){t.length=0}function Ks(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Qs(n,t[i]))return!1}return!0}function Js(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function tu(t,n){return iu(t,function(t,i){return Xs(n(t),n(i))})}function nu(t,n){return function(t,n){return iu(t,function(t,i){return n(i,t)})}(t,function(t,i){return Xs(n(t),n(i))})}function iu(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function eu(t,n){return qe.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function ru(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Fr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,qe)}function su(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var uu=function(){function t(){this.Ns=!1,this.Cs=!1,this.Ps=[],this.Bs=[]}var n=t.prototype;return n.Os=function(){if(!this.Ns&&!this.Cs){this.Ns=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.xs()}},n.xs=function(){if(!this.Cs){this.Cs=!0;for(var t=0,n=this.Bs.slice();t<n.length;t++){(0,n[t])()}Zs(this.Ps),Zs(this.Bs)}},n.Ls=function(t){this.Cs||this.Ps.push(t)},n.Ms=function(t){this.Cs||$s(this.Ps,t)},n.Us=function(t){this.Cs||this.Bs.push(t)},n.Xs=function(t){this.Cs||$s(this.Bs,t)},t}(),ou=function(){function t(){this.Fs=new uu}var n=t.prototype;return n.Hs=function(){this.Fs.Os()},n.xs=function(){this.Fs.xs()},n.zs=function(t){var n=this.Fs;if(!n.Ns)if(t.Ns)n.Os();else if(!n.Cs&&!t.Cs){var i=function(){e(),n.Os()},e=function e(){t.Ms(i),t.Xs(e),n.Ms(i),n.Xs(e)};t.Ls(i),t.Us(e),n.Ls(i),n.Us(e)}},n.Vs=function(){var n=new t,i=new t,e=n.Ws,r=i.Ws,s=this.Fs,u=function(){e.Ns&&r.Cs||r.Ns&&e.Cs?s.Os():e.Cs&&r.Cs&&s.xs()};e.Ls(u),r.Ls(u),e.Us(u),r.Us(u),n.zs(s),i.zs(s);return s.Us(function(){e.Ms(u),r.Ms(u),e.Xs(u),r.Xs(u)}),[n,i]},T(t,[{key:"Ws",get:function(){return this.Fs}}]),t}(),au=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"AbortError"}}]),n}(nn);function hu(t){return t instanceof l&&"AbortError"===t.name}function cu(t){if(t&&t.Ns)throw new au}function fu(t){if(hu(t))throw t}function lu(t){if(!hu(t))throw t}function vu(t,n){return n?new qe(function(i,e){if(n.Ns)return t.catch(K),e(new au);var r=function t(){n.Ms(t),e(new au)};n.Ls(r),t.then(function(t){n.Ms(r),i(t)},function(t){n.Ms(r),e(t)})}):t}function du(t,n){return t.then(function(t){return n.xs(),t},function(t){throw n.xs(),t})}function wu(t,n){var i=new ou;return n&&i.zs(n),t(i.Ws).then(function(t){return i.Hs(),t},function(t){throw i.Hs(),t})}var gu=qe.resolve();function mu(t){gu.then(t)}function yu(t){t.then(K,K)}function pu(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(qe.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],qe)}function _u(t,n){return new qe(function(e,r){if(void 0!==n&&n.Ns)r(new au);else{var s=i.Qn(function(){void 0!==n&&n.Ms(u),e()},t),u=function(){i.jn(s),r(new au)};void 0!==n&&n.Ls(u)}})}function bu(t){return t&&"function"!=typeof t?t.slice():t}function ku(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Au,Tu=function(){function t(t){var n=this;this.Gs=Hr(),this.qs=void 0,this.Ys=void 0,this.js=function(t){n.Qs(t)},this.Ys=t||this}var n=t.prototype;return n.Zs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ks(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ks(e,n)}},n.Ks=function(t,n){var i=this.Gs[t];i?"function"==typeof i?this.Gs[t]=[i,n]:i.push(n):this.Gs[t]=n},n.Js=function(t){if("function"==typeof t){var n=this.qs;n?"function"==typeof n?this.qs=[n,t]:n.push(t):this.qs=t}},n.$s=function(){this.Gs=Hr(),this.qs=void 0},n.Qs=function(t){var n=bu(this.Gs[t.type]),i=bu(this.qs);ku(this.Ys,t,n),ku(this.Ys,t,i)},n.tu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nu(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.nu(e,n)}},n.nu=function(t,n){var i=this.Gs[t];i&&("function"==typeof i?i===n&&(this.Gs[t]=void 0):$s(i,n))},n.uu=function(t){if("string"==typeof t)this.Gs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Gs[i]=void 0}},n.ou=function(t){var n=this.qs;n&&("function"==typeof n?n===t&&(this.qs=void 0):$s(n,t))},n.au=function(t,n){var i=this;return new qe(function(e,r){if(n&&n.Ns)return r(new au);var s=function(t){o(),e(t)},u=function(){o(),r(new au)},o=function(){i.tu(t,s),n&&n.Ms(u)};i.Zs(t,s),n&&n.Ls(u)})},t}(),Su=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Qs=function(n){var i=this;mu(function(){t.prototype.Qs.call(i,n)})},n}(Tu),Eu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Iu=["cenc"],Ru=["cbcs","cbcs-1-9"],Cu=function(t){function n(n){var i;return(i=t.call(this,"vu")||this).fu=n,i}return E(n,t),n}(Eu),Du=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"du")||this).fu=n,s.wu=i,s.du=e,s._u=r,s}return E(n,t),n}(Eu),Nu=function(t){function n(){return t.call(this,"mu")||this}return E(n,t),n}(Eu);!function(t){t.yu="bu",t.pu="Au"}(Au||(Au={}));var Pu=function(t){function n(n,i){var e;return(e=t.call(this,Au.yu)||this).ls=n,e.Tu=i,e}return E(n,t),n}(Eu),xu=function(t){function n(){return t.call(this,Au.pu)||this}return E(n,t),n}(Eu),Bu=new _([0]).buffer,Ou=function(){function t(){this.Su=void 0,this.Su=[]}var n=t.prototype;return n.Eu=function(t){for(var n=0,i=this.Su;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Iu=function(t){for(var n=0,i=this.Su;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ru=function(t,n){this.Su.forEach(function(n){return t(n[1],n[0])},n)},n.Du=function(t,n){this.Su.push([t,n])},n.Nu=function(){Zs(this.Su)},T(t,[{key:"Cu",get:function(){return this.Su.length}}]),t}(),Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Mu=16383,ju=/[\t\n\f\r ]/g;function Fu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Uu()}function Uu(){throw new l("Invalid base64 input")}function Hu(t){var n=t;ju.test(n)&&(n=n.replace(ju,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Uu();for(var r,s=0===e?0:4-e,u=new _(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,h=0;a<o;a+=4)r=Fu(n.charCodeAt(a))<<18|Fu(n.charCodeAt(a+1))<<12|Fu(n.charCodeAt(a+2))<<6|Fu(n.charCodeAt(a+3)),u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=255&r;return 2===s?(r=Fu(n.charCodeAt(a))<<2|Fu(n.charCodeAt(a+1))>>4,u[h++]=255&r):1===s&&(r=Fu(n.charCodeAt(a))<<10|Fu(n.charCodeAt(a+1))<<4|Fu(n.charCodeAt(a+2))>>2,u[h++]=r>>8&255,u[h++]=255&r),u}function Xu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Lu[e>>2]+Lu[(3&e)<<4|r>>4]+Lu[(15&r)<<2|s>>6]+Lu[63&s]));return u.join("")}function zu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Mu)e.push(Xu(t,s,g.min(r,s+Mu)));if(1===i){var u=t[n-1];e.push(Lu[u>>2]+Lu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Lu[o>>2]+Lu[(3&o)<<4|a>>4]+Lu[(15&a)<<2]+"=")}return e.join("")}var Vu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Wu=ArrayBuffer.isView||function(t){return t&&Qs(Vu,U.call(t))};function qu(t,n){return t===n||t.byteLength===n.byteLength&&Gu(new _(t),new _(n))}function Gu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function $u(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Yu(t,n)}function Yu(t,n){for(var i=new _(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Qu(t){return Hu(t).buffer}function Zu(t){return zu(new _(t))}function Ku(t){return zu(Lo(t))}function Ju(t,n){var i=n.Pu,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Bu(1),(e&r)===r?1:0}function to(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+Ju(t,n);return e}var no=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},T(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function io(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function eo(t,n){return t>>n&63|128}function ro(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(io(t),n.push(t>>12&15|224),n.push(eo(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(eo(t,12)),n.push(eo(t,6))),n.push(63&t|128)):n.push(t)}function so(t,n){if(n.Pu>=t.length)throw new l("Invalid byte index");var i=255&t[n.Pu];if(n.Bu(1),128==(192&i))return 63&i;throw new l("Invalid continuation byte")}function uo(t,n){var i=n.Pu;if(i>t.length)throw new l("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Bu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|so(t,n);if(r>=128)return r;throw new l("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|so(t,n)<<6|so(t,n);if(s>=2048)return io(s),s;throw new l("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|so(t,n)<<12|so(t,n)<<6|so(t,n);if(u>=65536&&u<=1114111)return u}throw new l("Invalid UTF-8 detected")}var oo=65279;var ao=[128,64,32,16,8,4,2,1],ho=function(){function t(t){this.Mu=t}return t.prototype.Uu=function(t){return co(this.Mu,t)},t}();function co(t,n){return(t&n)===n}function fo(t,n){return co(t,ao[n])}function lo(t,n){var i=t.getUint8(n.Pu);return n.Bu(1),i}function vo(t,n,i){t.setUint8(n.Pu,i),n.Bu(1)}function wo(t,n,i){var e=Vo(Go(t),n.Pu,n.Pu+i);return n.Bu(e.byteLength),e}function go(t,n,i){Go(t).set(Go(i),n.Pu),n.Bu(i.byteLength)}function mo(t,n,i){return n.Pu+i<=t.byteLength}function yo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=lo(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+lo(t,n);return e}(t,n,i)}function po(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pu,i);return n.Bu(2),e}function _o(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pu,i,e),n.Bu(2)}function bo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pu,i);return n.Bu(4),e}function ko(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pu,i,e),n.Bu(4)}function Ao(t,n,i){void 0===i&&(i=!1);var e=bo(t,n,i),r=bo(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function To(t,n){var i=lo(t,n);if(i)return String.fromCharCode(i)}function So(t,n){return Ro(t,n)}function Eo(t,n,i){for(var e="",r=0;r<i;r++)e+=To(t,n);return e}function Io(t,n){var i,e=lo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&lo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&lo(t,n))+(63&lo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&lo(t,n))+64*(63&lo(t,n))+(63&lo(t,n))),i}function Ro(t,n){return Co(t,n,!0)}function Co(t,n,i){for(var e=[];n.Pu<t.byteLength;){var r=lo(t,n);if(i&&!r)break;e.push(r)}return Ds(e)}function Do(t,n){if(n.Pu+2<=t.byteLength){var i=t.getUint8(n.Pu),e=t.getUint8(n.Pu+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function No(t,n){var i=Do(t,n);return void 0!==i&&n.Bu(2),Po(t,n,!0===i)}function Po(t,n,i){return void 0===i&&(i=!1),xo(t,n,i,!0)}function xo(t,n,i,e){for(var r=[];n.Pu+2<=t.byteLength;){var s=po(t,n,i);if(e&&!s)break;r.push(s)}return Ds(r)}function Bo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){_o(t,n,i.charCodeAt(s),e)}}function Oo(t){return Co(qo(t),new Jo,!1)}function Lo(t){var n=new _(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)vo(t,n,i.charCodeAt(r))}(qo(n),new Jo,t),n}function Mo(t,n){return void 0===n&&(n=!1),xo(qo(t),new Jo,n,!1)}function jo(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return Bo(qo(i),new Jo,t,n),i}function Fo(t,n){return n.Pu+3<=t.byteLength&&(239===t.getUint8(n.Pu)&&187===t.getUint8(n.Pu+1)&&191===t.getUint8(n.Pu+2))}function Uo(t,n){return function(t,n,i){var e=[];Fo(t,n)&&n.Bu(3);for(;n.Pu<t.byteLength;){var r=Io(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Rs(e)}(t,n,!0)}function Ho(t){return Rs(function(t,n){var i,e=[],r=new Jo;if(!n){if(!1===(i=uo(t,r)))return e;i===oo||e.push(i)}for(;!1!==(i=uo(t,r));)e.push(i);return e}(Go(t)))}function Xo(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)ro(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function zo(t,n){if(Fo(t,n))return Uo(t,n);if(void 0!==Do(t,n))return No(t,n);if(n.Pu+4<=t.byteLength){if(0===t.getUint8(n.Pu)&&0===t.getUint8(n.Pu+2))return Po(t,n,!1);if(0===t.getUint8(n.Pu+1)&&0===t.getUint8(n.Pu+3))return Po(t,n,!0)}return Uo(t,n)}function Vo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function qo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Go(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function $o(t){return t instanceof ArrayBuffer||Wu(t)}function Yo(t){return t instanceof ArrayBuffer?new _(t):Go(t)}function Qo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Zo(Vo(t,n,i))}function Zo(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}function Ko(t){return[].slice.call(t)}var Jo=function(){function t(t){void 0===t&&(t=0),this.Ou=t}var n=t.prototype;return n.Bu=function(t){this.Ou+=t},n.xu=function(t){this.Ou=t},n.Lu=function(){return new t(this.Pu)},n.Xu=function(){return new no(this.Pu<<3)},T(t,[{key:"Pu",get:function(){return this.Ou}}]),t}();function ta(t){var n=t.toLowerCase(),i=0,e=0;As(n,"0x")&&(n=n.substring(2));var r=new _(g.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=m(n[0],16));i<n.length;i+=2)r[e++]=m(n.substr(i,2),16);return r}var na=function(){function t(){var t=this;this.Fu=void 0,this.Hu=void 0,this.Vu=void 0,this.Fu=new qe(function(n,i){t.Hu=n,t.Vu=i})}var n=t.prototype;return n.Wu=function(t){this.Hu&&(this.Hu(t),this.xs())},n.Gu=function(t){this.Vu&&(this.Vu(t),this.xs())},n.Hs=function(){this.Fu.catch(K),this.Gu(new au)},n.xs=function(){this.Hu=void 0,this.Vu=void 0},t}();function ia(){return new _([8,4]).buffer}function ea(t){return qu(t,ia())}function ra(t,n){return t===ss?function(t){if(t.byteLength<2*sa.length)return t;if(Mo(new DataView(t,0,2*sa.length),!0)===sa)return t;return n=t,jo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var sa="<PlayReady";var ua=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Yu=void 0,s.ju=void 0,s.Yu=i,s.ju=e,s}return E(n,t),n}(nn),oa=function(t,n){return(oa=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)w.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function aa(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}oa(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}function ha(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function ca(t,n,i){return g.min(g.max(t,n),i)}function fa(t,n){return t>>8-n}function la(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Qu=t,this.Zu=n}t.prototype.get=function(t){var n=this.Qu.get(t);if(0===this.Zu||void 0===n)return n;var i=this.Qu.get(t+1)||0,e=n&(1<<8-this.Zu)-1,r=i>>8-this.Zu;return(e<<this.Zu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Qu.get(g.floor((t+this.Zu)/8));if(void 0!==n)return(n&1<<7-this.Zu-t%8)>0?1:0}},w.defineProperty(t.prototype,"bitLength",{get:function(){return this.Qu.bitLength-this.Zu},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"length",{get:function(){return this.Qu.length},enumerable:!1,configurable:!0})}();var va=function(){function t(t){this.Ku=t,this.Ju=0,this.$u=0}return w.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ju+this.$u},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"done",{get:function(){return this.Ju===this.Ku.length&&0===this.$u},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ju,bit:this.$u}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ku);return n.seek(this.Ju,this.$u),n},t.prototype.canReadBits=function(t){return 8*this.Ju+t+this.$u<=8*this.Ku.length},t.prototype.canReadBytes=function(t){return 0===this.$u?this.Ju+t<=this.Ku.length:this.Ju+t<this.Ku.length},t.prototype.incBit=function(){this.$u++,this.$u>7&&(this.Ju++,this.$u=0)},t.prototype.seek=function(t,n){this.Ju=t,this.$u=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new l("Cannot read past end of buffer.");return this.Ku.get(this.Ju)>>7-this.$u&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new l("Cannot read past end of buffer.");if(0===this.$u)return this.Ku.get(this.Ju++);var t=la(this.Ku.get(this.Ju),8-this.$u),n=fa(this.Ku.get(this.Ju+1),this.$u);return this.Ju++,t<<this.$u|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=0;if(0===this.$u&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new l("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new l("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-g.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new l("Skipping over the buffer edge is not allowed.");var n=this.$u+t;this.Ju+=n>>3,this.$u=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new l("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),da=function(t,n){return t===n?0:t<n?-1:t>n?1:p(t)?p(n)?0:1:-1},wa=function(){function t(){this.uo=[],this.oo=[],this.Se=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new l("The buffer length must be positive.");if(0!==i){if(0===this.oo.length)this.oo.push(0);else{var e=this.oo[this.oo.length-1]+this.uo[this.uo.length-1].length;this.oo.push(e)}this.uo.push(t.subarray(n,n+i)),this.Se+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.uo;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.uo=[],this.oo=[],this.Se=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.oo[n];return this.uo[n][i]}},w.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.uo.length<1)return-1;if(this.uo.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.uo[0];return"number"==typeof t?ha(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ha(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=g.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.oo,t,da)},t.prototype.join=function(){if(1===this.uo.length)return this.uo[0];var t=new _(this.length);return this.copyInternal(t,0),t},w.defineProperty(t.prototype,"length",{get:function(){return this.Se},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new l("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new l("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*g.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=ca(n,0,this.length),r=ca(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.uo[u],a=e,h=a-this.oo[u];a+o.length-h<r;)s.pushRange(o,h,o.length-h),u+=1,h=(a+=o.length-h)-this.oo[u],o=this.uo[u];var c=r-a;return s.pushRange(o,h,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.uo.length-1,e=this.uo[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.uo[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),ga=function(){function t(n){this.ao=n||t.BUFFER_CHUNK_SIZE,this.do=!1,this._o=new wa,this.Ku=new _(this.ao),this.mo=0,this.po=0,this.$u=7}return t.prototype.closeByte=function(){this.Ku[this.mo++]=this.po,this.mo>=this.ao&&this.closeBuffer(),this.po=0,this.$u=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.mo&&(this._o.pushRange(this.Ku,0,this.mo),t&&(this.Ku=new _(this.ao)),this.mo=0)},w.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.$u},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.do)throw new l("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.do=!0,this._o},t.prototype.writeBit=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.po|=t<<this.$u,0===this.$u?this.closeByte():this.$u--},t.prototype.writeByte=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.po=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.$u;this.po|=fa(t,n+1),this.closeByte(),this.po=la(t,8-n)<<n+1,this.$u=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.do)throw new l("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.mo+t.length<=this.ao?(this.Ku.set(t,this.mo),this.mo+=t.length,this.mo===this.ao&&this.closeBuffer()):(this.closeBuffer(),this._o.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.$u;this.po|=fa(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=la(t[i-1],8-n),r=fa(t[i],n+1);this.po=e<<n+1|r,this.closeByte()}this.po=la(t[t.length-1],8-n)<<n+1,this.$u=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new l("Received a negative number.");if(n>32)throw new l("The max bitlength that can be provided is 32.");if(t>=g.pow(2,n))throw new l("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new l("The max bitlength that can be provided is 32.");if(g.abs(t)>=g.pow(2,n-1))throw new l("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+g.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new l("Received a negative number.");for(var n=g.floor(g.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new _(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ma=function(){function t(t){this.rb=new wa,this.Ao=t}return t.prototype.closeWriter=function(){void 0!==this.Ao&&(this.rb=this.rb.concat(this.Ao.close()),this.Ao=void 0)},w.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ao&&(this.Ao=new ga),this.Ao},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),ya=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new l("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(g.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ma;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=g.pow(2,32),t}();function pa(t,n){return t instanceof vt?64===n:t<g.pow(2,n)}function _a(t,n){return g.round(t*g.pow(2,n))}function ba(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function ka(t,n){return t/g.pow(2,n)}var Aa=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!pa(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(ya),Ta=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(wa.from(this.data))},n}(ya),Sa=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function Ea(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Ia)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ia)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ia)));return i.join("")}(n)}var Ia=16384;var Ra=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Ca(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Da(t,n,i){return n.offset+i<=t.byteLength}function Na(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Pa(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!0)}function xa(t,n){var i=Ca(t,n);if(i)return String.fromCharCode(i)}function Ba(t,n,i){for(var e="",r=0;r<i;r++)e+=xa(t,n);return e}function Oa(t,n){var i,e=Ca(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ca(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ca(t,n))+(63&Ca(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ca(t,n))+64*(63&Ca(t,n))+(63&Ca(t,n))),i}function La(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Oa(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Ea(e)}(t,n,!0)}function Ma(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function ja(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fa(t){return new _(t.buffer,t.byteOffset,t.byteLength)}var Ua=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Sa(this.offset<<3)},t}(),Ha=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Ca(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Na(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Na(t,n,i),r=Na(t,n,i),s=i?r:e,u=i?e:r;return vt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Pa(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=Ma(Fa(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Na(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ba(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return La(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Xa(t,n){return t.type===n}var za=8;function Va(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Wa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new l("Data incomplete");return n.boxes}function Wa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Da(t,n,za)){var e=n.offset+za;return{complete:!1,neededOffset:e}}var r=Na(t,n),s=Ba(t,n,4);if(1===r){if(!Da(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Pa(t,n).toNumber()}if("uuid"===s){if(!Da(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Ba(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,h,c,f={type:r.type,offset:i,data:new Ha((a=t,h=i,c=u,void 0===h&&(h=0),void 0===c&&(c=a.byteLength),new DataView(a.buffer,a.byteOffset+h,c-h)),new Ua(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function qa(t){return{version:t>>24,flags:new Ra(16777215&t)}}function Ga(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function $a(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ya(t){var n=t.nextUint32Array(9);return{a:ka(n[0],16),b:ka(n[1],16),u:ka(n[2],30),c:ka(n[3],16),d:ka(n[4],16),v:ka(n[5],30),x:ka(n[6],16),y:ka(n[7],16),w:ka(n[8],30)}}function Qa(t){return new Ta(t.type,Ma(Fa(t.data.data),t.data.cursor.offset))}var Za=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return aa(n,t),w.defineProperty(n.prototype,"handlerType",{get:function(){return this.So},set:function(t){this.So=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Aa);function Ka(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Za(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}aa(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Za);var Ja=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},w.defineProperty(t.prototype,"tag",{get:function(){return this.Eo},set:function(t){if(!pa(t,8))throw new l("Provided tag does not fit in 8 bits.");this.Eo=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}aa(n,t),w.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Io},set:function(t){if(!pa(t,8))throw new l("Provided objectTypeIndication does not fit in 8 bits.");this.Io=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamType",{get:function(){return this.Ro},set:function(t){if(!pa(t,6))throw new l("Provided streamType does not fit in 6 bits.");this.Ro=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!pa(t,24))throw new l("Provided bufferSizeDb does not fit in 24 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.No},set:function(t){if(!pa(t,32))throw new l("Provided maxBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Co},set:function(t){if(!pa(t,32))throw new l("Provided avgBitrate does not fit in 32 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ja),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}aa(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(wa.from(this.data))}}(Ja);var th=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return aa(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ja);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new th(r.fixed28BitMode),s}aa(n,t),w.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"esId",{get:function(){return this.Po},set:function(t){if(!pa(t,16))throw new l("Provided esId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Bo},set:function(t){if(!pa(t,5))throw new l("Provided streamPriority does not fit in 5 bits.");this.Bo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Oo},set:function(t){if(t&&!pa(t,16))throw new l("Provided dependsOnEsId does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.xo},set:function(t){if(t&&!pa(t,16))throw new l("Provided ocrEsId does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ja);var nh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return aa(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(ya),ih=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return aa(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(nh),eh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return aa(n,t),w.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Lo},set:function(t){if(!pa(t,16))throw new l("Provided dataReferenceIndex does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ih),rh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return aa(n,t),w.defineProperty(n.prototype,"channelCount",{get:function(){return this.Mo},set:function(t){if(!pa(t,16))throw new l("Provided channelCount does not fit in 16 bits.");this.Mo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Uo},set:function(t){if(!pa(t,16))throw new l("Provided sampleSize does not fit in 16 bits.");this.Uo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Xo},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Xo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(_a(this.sampleRate,16),32),this.extra&&ba(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}aa(n,t),w.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Ho},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureWidthN does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.zo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureWidthD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Vo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureHeightN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Wo},set:function(t){if(!pa(t,32))throw new l("Provided cleanApertureHeightD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Go},set:function(t){if(!pa(t,32))throw new l("Provided horizOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizOffD",{get:function(){return this.qo},set:function(t){if(!pa(t,32))throw new l("Provided horizOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Yo},set:function(t){if(!pa(t,32))throw new l("Provided vertOffN does not fit in 32 bits.");this.Yo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vertOffD",{get:function(){return this.jo},set:function(t){if(!pa(t,32))throw new l("Provided vertOffD does not fit in 32 bits.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(ya),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.sampleCount,32)||!pa(t.sampleOffset,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){this.flags=void 0===t?1:0,this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}aa(n,t),w.defineProperty(n.prototype,"location",{get:function(){return this.Qo},set:function(t){if(1&this.flags)throw new l("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Aa),function(t){function n(){return t.call(this,"dinf")||this}aa(n,t)}(ih);var sh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!pa(i,8))throw new l("the provided version cannot fit in 8 bits.");return r.flags=e,r}return aa(n,t),w.defineProperty(n.prototype,"flags",{get:function(){return this.To},set:function(t){this.To=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new l("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(nh);!function(t){function n(){return t.call(this,"dref",0,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var uh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!pa(e.segmentDuration,this.bitSize))throw new l("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!pa(e.mediaTime,this.bitSize))throw new l("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!pa(e.mediaRateInteger,16))throw new l("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!pa(e.mediaRateFraction,16))throw new l("Provided mediaRateFraction does not fit in 16 bits.")}this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Aa),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh),ah=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh);function hh(t){for(var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,h=void 0;0===e?(a=n.nextUint32(),h=n.nextInt32()):(a=n.nextUint64(),h=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:h,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new oh(u,r.raw):new ah(u,r.raw)}var ch=function(t){function n(){return t.call(this,"edts")||this}return aa(n,t),n}(ih);function fh(t){for(var n=new ch,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"elst")?n.boxes.push(hh(r)):n.boxes.push(Qa(r))}return n}var lh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return aa(n,t),w.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Zo},set:function(t){if(4!==t.length)throw new l("the provided major brand does not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Ko},set:function(t){if(!pa(t,32))throw new l("the provided minor version does not fit in 32 bits.");this.Ko=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Jo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new l("Some of the compatible brands do not conform to the 4 character requirement");this.Jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(ya),vh=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return aa(n,t),n}(lh);function dh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new vh(i,e,r)}var wh=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return aa(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(wa.from(this.data))},n}(ya),gh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return aa(n,t),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"language",{get:function(){return this.oa},set:function(t){if(!_h(t))throw new l("Expected an ISO-639-2/T language code");this.oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Aa),mh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(gh),yh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return aa(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(gh);function ph(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=new va(wa.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var h=o.map(function(t){return String.fromCharCode(t+96)}).join("");return _h(h)||(h="und"),n.skip(2),0===e?new mh(s,h,r.raw):new yh(s,h,r.raw)}function _h(t){return/^[a-z]{3}$/.test(t)}var bh=function(t){function n(){return t.call(this,"mdia")||this}return aa(n,t),n}(ih);function kh(t){for(var n=new bh,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"mdhd")?n.boxes.push(ph(r)):Xa(r,"hdlr")?n.boxes.push(Ka(r)):n.boxes.push(Qa(r))}return n}var Ah,Th=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new wa,n}return aa(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(ya);function Sh(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new Th;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(sh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Ah||(Ah={}));var Eh,Ih,Rh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Ch(t,n){n.writer.writeUInt(_a(t.a,16),32),n.writer.writeUInt(_a(t.b,16),32),n.writer.writeUInt(_a(0,30),32),n.writer.writeUInt(_a(t.c,16),32),n.writer.writeUInt(_a(t.d,16),32),n.writer.writeUInt(_a(0,30),32),n.writer.writeUInt(_a(t.x,16),32),n.writer.writeUInt(_a(t.y,16),32),n.writer.writeUInt(_a(1,30),32)}function Dh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Eh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Ih.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Ih.UNKNOWN,2)}function Nh(t,n){var i,e,r;n.writer.writeUInt(0,4),Dh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Eh||(Eh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Ih||(Ih={}));var Ph=function(){return function(){}}(),xh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return aa(n,t),w.defineProperty(n.prototype,"systemId",{get:function(){return this.va},set:function(t){if(16!==t.length)throw new l("Provided systemId length is not 16.");this.va=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"data",{get:function(){return this.Gi},set:function(t){if(!pa(t.length,32))throw new l("Provided data length does not fit in 32 bits.");this.Gi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(wa.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(wa.from(this.data))},n}(Aa),Bh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return aa(n,t),n}(xh),Oh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return aa(n,t),w.defineProperty(n.prototype,"kIds",{get:function(){return this._a},set:function(t){if(!pa(t.length,32))throw new l("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new l("Not all provided key ids are 16 bytes long.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(wa.from(e))}},n}(xh);function Lh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Oh(i,o,e):new Bh(i,o)}var Mh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.ma},set:function(t){if(!pa(t,this.bitSize))throw new l("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),jh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Mh),Fh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Mh);function Uh(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jh(n.nextUint32(),r.raw):new Fh(n.nextUint64(),r.raw)}var Hh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!pa(t,32))throw new l("Provided default sample description index does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(!pa(t,32))throw new l("Provided default sample duration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!pa(t,32))throw new l("Provided default sample size does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Nh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Aa);function Xh(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),h=$a(new va(wa.from(n.nextUint8Array(4))));return new Hh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:h},e,r.raw)}var zh=function(t){function n(){return t.call(this,"mvex")||this}return aa(n,t),n}(ih);function Vh(t){for(var n=new zh,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"mehd")?n.boxes.push(Uh(r)):Xa(r,"trex")?n.boxes.push(Xh(r)):n.boxes.push(Qa(r))}return n}var Wh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,h,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,c.matrix=null!==(h=r.matrix)&&void 0!==h?h:Rh,c.Ia=e,c}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"rate",{get:function(){return this.Ra},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!pa(_a(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ia},set:function(t){if(0===t)throw new l("NextTrackId cannot be 0.");if(!pa(t,32))throw new l("NextTrackId cannot exceed 32 bits.");this.Ia=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(_a(this.rate,16),32),n.writer.writeUInt(_a(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Ch(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Aa),qh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Wh),Gh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return aa(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Wh);function $h(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags,s=Ga(n,e),u=ka(n.nextUint32(),16),o=ka(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ya(n);n.skip(24);var h=n.nextUint32();return 0===e?new qh(s,h,{rate:u,volume:o,matrix:a},r.raw):new Gh(s,h,{rate:u,volume:o,matrix:a},r.raw)}var Yh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,h,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(h=o.alternateGroup)&&void 0!==h?h:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Rh,f}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"creationTime",{get:function(){return this.$o},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.$o=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ea},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(0===t)throw new l("trackId cannot be 0.");if(!pa(t,32))throw new l("trackId cannot exceed 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"duration",{get:function(){return this.ua},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"volume",{get:function(){return this.Da},set:function(t){if(!pa(_a(t,8),16))throw new l("Provided volume does not fit in 16 bits (fixed 8.8).");this.Da=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided width does not fit in 32 bits (fixed 16.16).");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided height does not fit in 32 bits (fixed 16.16).");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"layer",{get:function(){return this.Ba},set:function(t){if(!pa(t,16))throw new l("Provided layer does not fit in 16 bits.");this.Ba=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Oa},set:function(t){if(!pa(t,16))throw new l("Provided alternateGroup does not fit in 16 bits.");this.Oa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"matrix",{get:function(){return this.Na},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new l("(u, v, w) does not match the required (0, 0, 1)");this.Na=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(_a(this.volume,8),16),n.writer.writeUInt(0,16),Ch(this.matrix,n),n.writer.writeUInt(_a(this.width,16),32),n.writer.writeUInt(_a(this.height,16),32)},n}(Aa),Qh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Yh),Zh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Yh);function Kh(t){var n,i,e,r,s=t.data,u=qa(s.nextUint32()),o=u.version,a=u.flags,h=a.isSet(8),c=a.isSet(4),f=a.isSet(2),l=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var v=s.nextInt16(),d=s.nextInt16(),w=ka(s.nextInt16(),8);s.skip(2);var g=Ya(s),m=ka(s.nextUint32(),16),y=ka(s.nextUint32(),16);return 0===o?new Qh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f}):new Zh({creation:n,modification:i,duration:r},e,w,m,y,{layer:v,matrix:g,alternateGroup:d,trackSizeIsAspectRatio:h,trackEnabled:l,trackInPreview:c,trackInMovie:f})}var Jh=function(t){function n(){return t.call(this,"trak")||this}return aa(n,t),n}(ih);function tc(t){for(var n=new Jh,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"tkhd")?n.boxes.push(Kh(r)):Xa(r,"mdia")?n.boxes.push(kh(r)):Xa(r,"edts")?n.boxes.push(fh(r)):n.boxes.push(Qa(r))}return n}var nc=function(t){function n(){return t.call(this,"moov")||this}return aa(n,t),n}(ih);function ic(t){for(var n=new nc,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"mvhd")?n.boxes.push($h(r)):Xa(r,"trak")?n.boxes.push(tc(r)):Xa(r,"mvex")?n.boxes.push(Vh(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}var ec=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.xa},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Aa),rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ec),sc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return aa(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ec);function uc(t){var n=t.data,i=qa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new rc(n.nextUint32(),r.raw):new sc(n.nextUint64(),r.raw)}var oc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("Provided track id does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.La},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new l("The base data offset present flag is not set.");if(t&&!pa(t,64))throw new l("Provided baseDataOffset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Ma},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new l("The sample description index flag is not set.");if(t&&!pa(t,32))throw new l("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Ma=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new l("The default sample duration present flag is not set.");if(t&&!pa(t,32))throw new l("Provided defaultSampleDuration does not fit in 32 bits.");this.Ta=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new l("The default sample size present flag is not set.");if(t&&!pa(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ea},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new l("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Ea=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Nh(this.defaultSampleFlags,n)},n}(Aa);function ac(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),l=c?n.nextUint64():void 0,v=h?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,g=u?$a(new va(wa.from(n.nextUint8Array(4)))):void 0;return new oc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:l,sampleDescriptionIndex:v,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:g},i)}var hc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return aa(n,t),w.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Ua},set:function(t){if(t&&!pa(t,32))throw new l("Provided data offset does not fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xa},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!pa(t.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!pa(t.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");this.Xa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){var n,i;if(!pa(t.length,32))throw new l("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new l("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new l("The sample duration present flag is not set.");if(s.duration&&!pa(s.duration,32))throw new l("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new l("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new l("The sample size present flag is not set.");if(s.size&&!pa(s.size,32))throw new l("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new l("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!pa(s.flags.samplePaddingValue,3))throw new l("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!pa(s.flags.sampleDegradationPriority,16))throw new l("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new l("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!pa(s.compositionTimeOffset,32))throw new l("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Nh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Nh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Aa);function cc(t){var n=t.data,i=n.nextUint8(),e=new va(wa.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var h=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};h&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=$a(new va(wa.from(n.nextUint8Array(4)))));for(var l=[],v=0;v<c;v++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=$a(new va(wa.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),l.push(d)}return new hc(i,f,l)}var fc=function(t){function n(){return t.call(this,"traf")||this}return aa(n,t),n}(ih);function lc(t){for(var n=new fc,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"tfhd")?n.boxes.push(ac(r)):Xa(r,"tfdt")?n.boxes.push(uc(r)):Xa(r,"trun")?n.boxes.push(cc(r)):n.boxes.push(Qa(r))}return n}var vc=function(t){function n(){return t.call(this,"moof")||this}return aa(n,t),n}(ih);function dc(t){for(var n=new vc,i=0,e=Va(t.data);i<e.length;i++){var r=e[i];Xa(r,"traf")?n.boxes.push(lc(r)):Xa(r,"pssh")?n.boxes.push(Lh(r)):n.boxes.push(Qa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}aa(n,t),w.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Ha},set:function(t){if(!pa(t,32))throw new l("Provided sequence number does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Aa);var wc=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return aa(n,t),w.defineProperty(n.prototype,"codingName",{get:function(){return this.Va},set:function(t){if(4!==t.length)throw new l("Provided coding name was not 4 characters long.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(ya);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}aa(n,t),w.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Wa},set:function(t){if(!pa(t,32))throw new l("Provided hSpacing does not fit in 32 bits.");this.Wa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Ga},set:function(t){if(!pa(t,32))throw new l("Provided vSpacing does not fit in 32 bits.");this.Ga=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(ya),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}aa(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ih),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new wc(n),r}aa(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(ya);var gc=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){var n=this;if(!pa(t.length,32))throw new l("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!pa(t,n.bitSize)}))throw new l("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Fo=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!pa(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!pa(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Aa);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(gc),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}aa(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(gc),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}aa(n,t),w.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ya},set:function(t){if(!pa(t,8))throw new l("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ya=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Qa},set:function(t){if(!pa(t.length,32))throw new l("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!pa(t,8)}))throw new l("Not all provided sampleInfoSizes fit in a byte.");this.Qa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.qa},set:function(t){if(void 0===t)this.flags=0;else{if(!pa(t.auxInfoType,32))throw new l("Provided auxInfoType does not fit in 32 bits.");if(!pa(t.auxInfoTypeParameter,32))throw new l("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new l("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Aa),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Dh(e[i],n)}}}(Aa),function(t){function n(n){return t.call(this,"stsd",n,0)||this}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh);var mc=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return aa(n,t),w.defineProperty(n.prototype,"groupingType",{get:function(){return this.Za},set:function(t){if(4!==t.length)throw new l("The provided groupingType does not equal 4 characters.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Aa);!function(t){function n(n,i){return t.call(this,0,n,i)||this}aa(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(mc),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}aa(n,t),w.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Ka},set:function(t){if(!pa(t,32))throw new l("The provided defaultLength does not fit in 32 bits.");this.Ka=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(mc),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new l("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}aa(n,t),w.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Aa},set:function(t){if(!pa(t,32))throw new l("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(mc),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}aa(n,t),w.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Ja},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all sampleSizes can be represented in 32 bits.");this.Ja=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}aa(n,t),w.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Sa},set:function(t){if(!pa(t,32))throw new l("Provided defaultSampleSize does not fit in 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){if(!pa(t,32))throw new l("Number of allowed samples cannot fit in 32 bits.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Aa),function(t){function n(){return t.call(this,"stbl")||this}aa(n,t)}(ih),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.firstChunk,32)||!pa(t.sampleDescriptionIndex,32)||!pa(t.samplesPerChunk,32)}))throw new l("Not all entries can be represented in 96 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Aa),function(t){function n(){return t.call(this,"schi")||this}aa(n,t)}(ih),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}aa(n,t),w.defineProperty(n.prototype,"schemeType",{get:function(){return this.$a},set:function(t){if(4!==t.length)throw new l("The provided schemeType does not have a length of 4.");this.$a=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.nh},set:function(t){if(!pa(t,32))throw new l("The provided schemeVersion does not fit in 23 bits.");this.nh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"schemeUri",{get:function(){return this.ih},set:function(t){if(t&&4!==t.length)throw new l("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.ih=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Aa);var yc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return aa(n,t),w.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"referenceId",{get:function(){return this.eh},set:function(t){if(!pa(t,32))throw new l("Provided referenceId does not fit in 32 bits.");this.eh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("Provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.rh},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.rh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"firstOffset",{get:function(){return this.sh},set:function(t){if(!pa(t,this.bitSize))throw new l("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.sh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"references",{get:function(){return this.uh},set:function(t){if(!pa(t.length,16))throw new l("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!pa(e.referencedSize,31))throw new l("Provided referenced size does not fit in 31 bits.");if(!pa(e.subsegmentDuration,32))throw new l("Provided subsegment duration does not fit in 31 bits.");if(!pa(e.sapType,3))throw new l("Provided SAP type does not fit in 3 bits.");if(!pa(e.sapDeltaTime,28))throw new l("Provided SAP delta time does not fit in 28 bits.")}this.uh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Aa),pc=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(yc),_c=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return aa(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(yc);var bc=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return aa(n,t),n}(lh);function kc(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new bc(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}aa(n,t),w.defineProperty(n.prototype,"balance",{get:function(){return this.oh},set:function(t){if(t<-1||t>1)throw new l("Provided balance does not fit in the allowed range [-1, 1].");if(!pa(_a(t,8),16))throw new l("Provided balance does not fit in 16 bits (fixed 8.8).");this.oh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(_a(this.balance,8),16),n.writer.writeUInt(0,16)}}(Aa),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t,32)}))throw new l("Not all entries can be represented in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}aa(n,t),w.defineProperty(n.prototype,"entries",{get:function(){return this.Fo},set:function(t){if(!pa(t.length,32))throw new l("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!pa(t.sampleCount,32)||!pa(t.sampleDelta,32)}))throw new l("Not all entries can be represented in 64 bits.");this.Fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Aa),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}aa(n,t),w.defineProperty(n.prototype,"trackId",{get:function(){return this.ya},set:function(t){if(!pa(t,32))throw new l("The provided trackId does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(sh),function(t){function n(){return t.call(this,"udta")||this}aa(n,t)}(ih);var Ac={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Ac);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}aa(n,t),w.defineProperty(n.prototype,"opColor",{get:function(){return this.ah},set:function(t){if(!pa(t.red,16)||!pa(t.green,16)||!pa(t.blue,16))throw new l("Not all colors could be represented in 16 bits.");this.ah=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Aa);var Tc=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,h,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return aa(n,t),w.defineProperty(n.prototype,"width",{get:function(){return this.Ca},set:function(t){if(!pa(t,16))throw new l("Provided width does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"height",{get:function(){return this.Pa},set:function(t){if(!pa(t,16))throw new l("Provided height does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.hh},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.hh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.fh},set:function(t){if(!pa(_a(t,16),32))throw new l("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.fh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"compressorName",{get:function(){return this.vh},set:function(t){if(t.length>31)throw new l("The provided compressorName should at most be 31 characters long.");this.vh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"frameCount",{get:function(){return this.lh},set:function(t){if(!pa(t,16))throw new l("Provided frameCount does not fit in 16 bits.");this.lh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"depth",{get:function(){return this.dh},set:function(t){if(!pa(t,16))throw new l("Provided depth does not fit in 16 bits.");this.dh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(_a(this.horizontalResolution,16),32),n.writer.writeUInt(_a(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ba(n.writer,this.extra)},n}(eh);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof _?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof _?n.concat(wa.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Aa),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(rh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Tc),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}aa(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(eh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}aa(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(ya),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}w.defineProperty(t.prototype,"version",{get:function(){return this.wh},set:function(t){if(!pa(t,8))throw new l("Provided version does not fit in 8 bits.");this.wh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileIndication",{get:function(){return this._h},set:function(t){if(!pa(t,8))throw new l("Provided profileIndication does not fit in 8 bits.");this._h=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.gh},set:function(t){if(!pa(t,8))throw new l("Provided profileCompatibility does not fit in 8 bits.");this.gh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"levelIndication",{get:function(){return this.yh},set:function(t){if(!pa(t,8))throw new l("Provided levelIndication does not fit in 8 bits.");this.yh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"spsSets",{get:function(){return this.kh},set:function(t){if(!pa(t.length,5))throw new l("Provided number of spsSets exceeds the max (32)");this.kh=t},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ppsSets",{get:function(){return this.ph},set:function(t){if(!pa(t.length,8))throw new l("Provided number of ppsSets exceeds the max (256)");this.ph=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(wa.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(wa.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}aa(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Tc),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}aa(n,t),w.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Do},set:function(t){if(!pa(t,32))throw new l("Provided bufferSizeDb does not fit in 32 bits.");this.Do=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"max",{get:function(){return this.Ah},set:function(t){if(!pa(t,32))throw new l("Provided max does not fit in 32 bits.");this.Ah=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"avg",{get:function(){return this.Th},set:function(t){if(!pa(t,32))throw new l("Provided avg does not fit in 32 bits.");this.Th=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(ya);var Sc=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new l("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new _(0),o}return aa(n,t),w.defineProperty(n.prototype,"isProtected",{get:function(){return this.Sh},set:function(t){if(!pa(t,8))throw new l("Provided isProtected does not fit in 1 byte.");this.Sh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Eh},set:function(t){if(![8,16].includes(t))throw new l("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Eh=t,this.Ih=new _(0)},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"kId",{get:function(){return this.Rh},set:function(t){if(16!==t.length)throw new l("Provided kId length is not 16.");this.Rh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ih},set:function(t){if(![8,16].includes(t.length))throw new l("Provided constant IV length does not match any allowed value [8, 16].");this.Ih=t,this.Eh=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ba(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ba(t.writer,this.constantIv))},n}(Aa);!function(t){function n(n){return t.call(this,0,n)||this}aa(n,t)}(Sc);var Ec=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return aa(n,t),w.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Dh},set:function(t){if(!pa(t,4))throw new l("Provided cryptByteBlocks does not fit in 4 bits.");this.Dh=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Nh},set:function(t){if(!pa(t,4))throw new l("Provided skipByteBlocks does not fit in 4 bits.");this.Nh=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Sc);function Ic(t){return void 0!==t.iv}function Rc(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Ec(n),i}aa(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ph),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}aa(n,t),w.defineProperty(n.prototype,"samples",{get:function(){return this.Fa},set:function(t){var n;if(!pa(t.length,32))throw new l("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ic(r)&&![8,16].includes(r.iv.length))throw new l("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Rc(r)),!0===n&&!Rc(r)||!1===n&&Rc(r))throw new l("Mix of samples with and without subsamples detected.");if(Rc(r)){if(!pa(r.subsamples.length,16))throw new l("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!pa(o.clearData,16))throw new l("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!pa(o.protectedData,23))throw new l("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ic(r)&&(n+=r.iv.length),Rc(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ic(r)&&ba(n.writer,r.iv),Rc(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Aa),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}aa(n,t),w.defineProperty(n.prototype,"timescale",{get:function(){return this.ra},set:function(t){if(!pa(t,32))throw new l("The provided timescale does not fit in 32 bits.");this.ra=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ch},set:function(t){if(!pa(t,32))throw new l("The provided presentationTimeDelta does not fit in 32 bits.");this.Ch=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Ph},set:function(t){if(!pa(t,32))throw new l("The provided eventDuration does not fit in 32 bits.");this.Ph=t},enumerable:!1,configurable:!0}),w.defineProperty(n.prototype,"id",{get:function(){return this.Bh},set:function(t){if(!pa(t,32))throw new l("The provided id does not fit in 32 bits.");this.Bh=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(wa.from(this.data))}}(Aa);var Cc=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ma,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function Dc(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Wa(i,e);if(!r.complete)return;if(Xa(r.box,n))return r.box}}(new Ha(ja(i),new Ua),t);if(!e)throw new l("".concat(t," box not found"));return n(e)}}var Nc=Dc("moov",ic),Pc=Dc("sidx",function(t){var n,i,e=t.data,r=qa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var h=e.nextUint16(),c=[],f=0;f<h;f++){var l=new va(wa.from(e.nextUint8Array(12))),v=l.readBit(),d=l.readUInt(31),w=l.readUInt(32),g=Boolean(l.readBit()),m=l.readUInt(3),y=l.readUInt(28);c.push({referenceType:v,referencedSize:d,subsegmentDuration:w,startsWithSap:g,sapType:m,sapDeltaTime:y})}return 0===s?new pc(o,a,n,i,c,u.raw):new _c(o,a,n,i,c,u.raw)}),xc=Dc("moof",dc),Bc=Dc("pssh",Lh);function Oc(t){return function(t){for(var n=new Cc,i=0,e=Va(t);i<e.length;i++){var r=e[i];Xa(r,"ftyp")?n.boxes.push(dh(r)):Xa(r,"styp")?n.boxes.push(kc(r)):Xa(r,"moov")?n.boxes.push(ic(r)):Xa(r,"moof")?n.boxes.push(dc(r)):Xa(r,"mdat")?n.boxes.push(Sh(r)):n.boxes.push(Qa(r))}return n}(new Ha(ja(t),new Ua))}var Lc=function(t){function n(n,i){var e;(e=t.call(this)||this).Oh=void 0,e.Lh=!1,e.Mh=void 0,e.Uh=void 0,e.Xh=function(){e.Fh()},e.Hh=function(t){e.Qs(new Du(Jt(e),t.messageType,ra(e.Vh,t.message)))},e.Wh=function(){e.Lh=!0,e.Oh.Cu>0&&(e.Oh.Nu(),e.Qs(new Cu(Jt(e)))),e.Gh.removeEventListener("keystatuseschange",e.Xh),e.Gh.removeEventListener("message",e.Hh)},e.Gh=n,e.Vh=i,e.Gh.addEventListener("keystatuseschange",e.Xh),e.Gh.addEventListener("message",e.Hh),e.Oh=new Ou;var r=[];return e.Gh.closed&&r.push(qe.resolve(e.Gh.closed)),e.Uh=new na,r.push(e.Uh.Fu),e.Mh=qe.race(r).then(e.Wh,e.Wh),e.Fh(),e}E(n,t);var i=n.prototype;return i.qh=function(){if(this.Lh)return this.Mh;var t=[];return t.push(qe.resolve(this.Gh.close())),t.push(_u(1e3)),this.Uh.Wu(qe.race(t).catch(Mc)),this.Lh=!0,this.Mh},i.Yh=function(t,n,i){if(j.fn){var e=Bc(Yo(n));if(1===e.version)n=new Bh(e.systemId,e.data).serialize().join()}return qe.resolve(this.Gh.generateRequest(t,n)).catch(Mc)},i.jh=function(t){return qe.resolve(this.Gh.load(t)).catch(Mc)},i.Qh=function(){return qe.resolve(this.Gh.remove()).catch(Mc)},i.Zh=function(t){return qe.resolve(this.Gh.update(t)).catch(Mc)},i.Fh=function(){var t=this;this.Oh.Nu(),this.Gh.keyStatuses.forEach(function(n,i){t.Kh(i,n)}),this.Qs(new Cu(this))},i.Kh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Yo(t);if(this.Vh===ss&&16===e.byteLength){var r=qo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vh===ss&&"status-pending"===n&&(n="usable"),this.Oh.Du(e,n)},T(n,[{key:"Jh",get:function(){return this.Mh}},{key:"$h",get:function(){return this.Gh.expiration}},{key:"tc",get:function(){return this.Oh}},{key:"nc",get:function(){return this.Gh.sessionId}}]),n}(Tu);function Mc(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|m(i[1],16))}throw new ua(t.message,void 0,n,t)}var jc=function(){function t(t,n,i){this.ic=t,this.ec=n,this.rc=i}var n=t.prototype;return n.uc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Lc(this.ic.createSession(t),this.ec));case 1:case"end":return n.stop()}},null,this,null,qe)},n.ac=function(t){return qe.resolve(this.ic.setServerCertificate(t))},n.hc=function(t){return qe.resolve(t.setMediaKeys(this.ic))},n.cc=function(t){return qe.resolve(t.setMediaKeys(null))},t}(),Fc=function(){function t(t,n,i){this.fc=t,this.Vh=n,this.vc=i}var n=t.prototype;return n.lc=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.fc.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new jc(t,this.Vh,this.vc));case 4:case"end":return n.stop()}},null,this,null,qe)},n.dc=function(){return this.vc},T(t,[{key:"ec",get:function(){return this.fc.keySystem}}]),t}(),Uc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Hc(t){return ks(t,Uc.APPLICATION_MP4)||ks(t,Uc.VIDEO_MP4)||ks(t,Uc.AUDIO_MP4)}var Xc=function(){function t(t,n){this.fs=void 0,this.wc=void 0,this.fs=t,this.wc=n}return t.prototype._c=function(t){for(var n=0,i=this.wc;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function zc(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Xc(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var h=r[a];if(o||";"!==h)'"'===h&&(o=!o);else{var c=Vc(r.substr(u,a));c&&s.push(c),u=a+1}}if(u!==r.length){var f=Vc(r.substr(u));f&&s.push(f)}return new Xc(e,s)}function Vc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Wc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function qc(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+Is((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Gc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gc:e.gc},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return $c(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return $c(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function $c(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Qs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Wc(e.contentType))))}function Yc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Qc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Zc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Kc))||!(!t.videoCapabilities||!t.videoCapabilities.some(Kc))}function Kc(t){return!t.robustness}function Jc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Ur({},r,{robustness:n}))}return i}var tf=function(){function t(){}return t.prototype.Ss=function(t,n){var i,e,r,s,u,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gc}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Qc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Qc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Zc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Ur({},n=t,{videoCapabilities:n.videoCapabilities?Jc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Jc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Fr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Fc(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Fr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return h=f.sent,c=h.getConfiguration(),f.abrupt("return",new Fc(h,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],qe)},t.mc=function(){return xs()},t}(),nf=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lh=!1,e.yc=void 0,e.kc=void 0,e.bc=void 0,e.pc=void 0,e.Ac=void 0,e.Wh=function(){e.Lh=!0,e.yc.Wu(void 0),e.Ac&&(e.Ac.removeEventListener("mskeyclose",e.Wh),e.Ac.removeEventListener("mskeymessage",e.Tc),e.Ac.removeEventListener("mskeyerror",e.Sc),e.Ac.removeEventListener("mskeyadded",e.Ec))},e.Tc=function(t){e.bc&&(e.bc.Wu(void 0),e.bc=void 0),e.Qs(new Du(Jt(e),"license-request",Zo(t.message).buffer,t.destinationURL||void 0))},e.Sc=function(){var t=e.Ac&&e.Ac.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);if(e.bc)e.bc.Gu(n),e.bc=void 0;else if(e.kc)e.kc.Gu(n),e.kc=void 0;else switch(n.Yu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ic("output-not-allowed");break;default:e.Ic("internal-error")}}},e.Ec=function(){e.bc&&(e.Ic("usable"),e.bc.Wu(void 0),e.bc=void 0),e.kc&&(e.Ic("usable"),e.kc.Wu(void 0),e.kc=void 0)},e.Rc=n,e.Dc=i,e.yc=new na,e.pc=new Ou,e}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),this.bc=new na,this.uc(Yo(n),i),t.next=5,Fr.awrap(this.bc.Fu);case 5:case"end":return t.stop()}},null,this,null,qe)},i.uc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Cc;return(i=n?this.Rc.createSession(this.Dc,t,e):this.Rc.createSession(this.Dc,t)).addEventListener("mskeyclose",this.Wh),i.addEventListener("mskeymessage",this.Tc),i.addEventListener("mskeyerror",this.Sc),i.addEventListener("mskeyadded",this.Ec),this.Ac=i,this.Ic("status-pending"),i},i.jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,qe)},i.Zh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.kc=new na,this.Nc(),this.Ac){i.next=4;break}return i.abrupt("return",qe.resolve());case 4:if(0!==(n=Yo(t)).byteLength){i.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Ac.update(n),i.next=10,Fr.awrap(this.kc.Fu);case 10:case"end":return i.stop()}},null,this,null,qe)},i.qh=function(){return!this.Lh&&this.Ac&&(this.Lh=!0,this.Ac.close()),this.yc.Fu},i.Qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nc(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,qe)},i.Nc=function(){if(this.Lh)throw new v("Already closing or closed.")},i.Ic=function(t){this.pc.Nu(),this.pc.Du(Bu,t),this.Qs(new Cu(this))},T(n,[{key:"nc",get:function(){return this.Ac&&this.Ac.sessionId||""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Fu}},{key:"tc",get:function(){return this.pc}}]),n}(Tu),ef=function(){function t(t,n,i){this.Dc=void 0,this.Rc=t,this.ec=n,this.rc=i;var e=Yc(i)||"video/mp4";this.Dc=Wc(e)}var n=t.prototype;return n.uc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new nf(this.Rc,this.Dc));case 1:case"end":return t.stop()}},null,this,null,qe)},n.ac=function(t){return qe.resolve(!1)},n.hc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rc):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rc),t.removeEventListener("loadedmetadata",i)}),qe.resolve()},n.cc=function(t){return qe.resolve()},t}(),rf=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new we.MSMediaKeys(this.Vh);return qe.resolve(new ef(t,this.Vh,this.Pc))},T(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),sf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(function(t,n){if(!uf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(of,Iu,t,e);if(r)return new rf(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.mc=function(){return uf()},t}();function uf(){return void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported}function of(t,n){return we.MSMediaKeys.isTypeSupported(t,n)}var af,hf,cf=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yc=new na,r.Bc=void 0,r.pc=new Ou,r.Oc=void 0,r.xc=new na,r.Sc=function(){var t=r.Oc&&r.Oc.error;if(t){var n=new ua("Unknown CDM error",t.code,t.systemCode);r.Bc?(r.Bc.Gu(n),r.Bc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ic("output-not-allowed"):r.Ic("internal-error"),r.Qs(new Nu)}},r.Tc=function(t){r.Bc&&(r.Bc.Wu(void 0),r.Bc=void 0),r.Qs(new Du(Jt(r),"license-request",Zo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Lc=n,r.Dc=i,r.Mc=e,r}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Uc;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=ff(Yo(n),e,this.Mc);return this.Oc=this.Lc.createSession(this.Dc,r),this.Oc.addEventListener("webkitkeymessage",this.Tc,!1),this.Oc.addEventListener("webkitkeyerror",this.Sc,!1),this.Ic("usable"),this.xc.Wu(this.Oc),this.xc=new na,qe.resolve()},i.jh=function(t){return qe.resolve(!0)},i.Zh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Bc=new na,i.t0=this.Oc,i.t0){i.next=9;break}return i.next=8,Fr.awrap(this.xc.Fu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Fr.awrap(this.Bc.Fu);case 13:case"end":return i.stop()}},null,this,null,qe)},i.qh=function(){var t=this.Oc;return t&&(t.removeEventListener("webkitkeymessage",this.Tc,!1),t.removeEventListener("webkitkeyerror",this.Sc,!1),t.close()),this.xc.Hs(),this.yc.Wu(void 0),this.yc.Fu},i.Qh=function(){return qe.resolve(void 0)},i.Ic=function(t){this.pc.Nu(),this.pc.Du(Bu,t),this.Qs(new Cu(this))},T(n,[{key:"nc",get:function(){return this.Oc?this.Oc.sessionId:""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Fu}},{key:"tc",get:function(){return this.pc}}]),n}(Tu);function ff(t,n,i){var e=Ho(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new Jo;return ko(o,a,r,!0),Bo(o,a,e,!0),ko(o,a,s,!0),Bo(o,a,n,!0),ko(o,a,i.byteLength,!0),go(o,a,i),new _(u)}n.ErrorCode=void 0,(af=n.ErrorCode||(n.ErrorCode={}))[af.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",af[af.LICENSE_ERROR=2e3]="LICENSE_ERROR",af[af.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",af[af.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",af[af.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",af[af.SOURCE_INVALID=3e3]="SOURCE_INVALID",af[af.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",af[af.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",af[af.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",af[af.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",af[af.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",af[af.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",af[af.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",af[af.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",af[af.MEDIA_ABORTED=5004]="MEDIA_ABORTED",af[af.NETWORK_ERROR=6e3]="NETWORK_ERROR",af[af.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",af[af.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",af[af.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",af[af.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",af[af.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",af[af.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",af[af.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",af[af.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",af[af.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",af[af.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",af[af.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",af[af.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",af[af.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",af[af.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",af[af.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",af[af.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",af[af.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",af[af.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",af[af.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",af[af.AD_ERROR=1e4]="AD_ERROR",af[af.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",af[af.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(hf=n.ErrorCategory||(n.ErrorCategory={}))[hf.CONFIGURATION=1]="CONFIGURATION",hf[hf.LICENSE=2]="LICENSE",hf[hf.SOURCE=3]="SOURCE",hf[hf.MANIFEST=4]="MANIFEST",hf[hf.MEDIA=5]="MEDIA",hf[hf.NETWORK=6]="NETWORK",hf[hf.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",hf[hf.SUBTITLE=8]="SUBTITLE",hf[hf.VR=9]="VR",hf[hf.AD=10]="AD",hf[hf.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=g.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var lf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return E(i,t),T(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(nn);var vf=function(){function t(t,n,i){this.Dc=void 0,this.Mc=void 0,this.Lc=t,this.ec=n,this.rc=i;var e=Yc(i)||"video/mp4";this.Dc=Wc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Lc},i.uc=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new cf(this.Lc,this.Dc,this.Mc));case 3:case"end":return t.stop()}},null,this,null,qe)},i.ac=function(t){return this.Mc=Yo(t),qe.resolve(!0)},i.hc=function(t){return t.webkitSetMediaKeys(this.Lc),qe.resolve()},i.cc=function(t){return t.webkitSetMediaKeys(null),qe.resolve()},t}(),df=function(){function t(t,n){this.Vh=t,this.Pc=n}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){var t=new we.WebKitMediaKeys(this.Vh);return qe.resolve(new vf(t,this.Vh,this.Pc))},T(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),wf=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(function(t,n){if(t!==ls)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!gf())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(mf,Ru,t,e);if(r)return new df(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return qe.reject(t)}},t.mc=function(){return gf()},t}();function gf(){return void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported}function mf(t,n){return we.WebKitMediaKeys.isTypeSupported(t,n)}var yf,pf=function(){function t(t){this.Xc=t}return t.prototype.Ss=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Xc;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Fr.awrap(r.Ss(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new v("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],qe)},t}(),_f=function(t){function n(n){var i;return(i=t.call(this)||this).bc=void 0,i.Bc=void 0,i.yc=void 0,i.do=!1,i.Fc=void 0,i.Hc=void 0,i.zc=void 0,i.Vc=void 0,i.Wc=void 0,i.Vh=n,i.yc=new na,i.Hc="",i.Wc=new na,i.zc=new Ou,i}E(n,t);var i=n.prototype;return i.Gc=function(){this.Bc&&(this.Ic("usable"),this.Bc.Wu(void 0),this.Bc=void 0)},i.qc=function(t){var n=new ua("Unknown CDM error",t.errorCode,t.systemCode);this.Bc?(this.Bc.Gu(n),this.Bc=void 0):this.bc?(this.bc.Gu(n),this.bc=void 0):n.Yu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ic("output-restricted"):1===n.ju?this.Ic("expired"):this.Ic("internal-error")},i.Yc=function(t){0!==t.message.byteLength&&(this.bc&&(this.bc.Wu(void 0),this.bc=void 0),this.Qs(new Du(this,"license-request",ra(this.Vh,Zo(t.message).buffer),t.defaultURL||void 0)))},i.jc=function(t){this.Vc||(this.Vc=t,this.Wc.Wu(t))},i.qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.do=!0,this.yc.Wu(void 0);case 3:case"end":return t.stop()}},null,this,null,qe)},i.Yh=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.bc=new na,this.Fc=Yo(n),t.t0=this.Vc,t.t0){t.next=8;break}return t.next=7,Fr.awrap(this.Wc.Fu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vh,this.Fc),t.next=12,Fr.awrap(this.bc.Fu);case 12:case"end":return t.stop()}},null,this,null,qe)},i.jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,qe)},i.Qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,qe)},i.Zh=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Bc=new na,n.t0=this.Vc,n.t0){n.next=7;break}return n.next=6,Fr.awrap(this.Wc.Fu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Vh,Yo(t),this.Fc,this.nc),n.next=11,Fr.awrap(this.Bc.Fu);case 11:case"end":return n.stop()}},null,this,null,qe)},i.throwIfClosed=function(){if(this.do)throw new v("Already closing or closed.")},i.Ic=function(t){this.zc.Nu(),this.zc.Du(Bu,t),this.Qs(new Cu(this))},T(n,[{key:"tc",get:function(){return this.zc}},{key:"nc",get:function(){return this.Hc},set:function(t){this.Hc=t}},{key:"Jh",get:function(){return this.yc.Fu}},{key:"$h",get:function(){return NaN}}]),n}(Tu),bf=function(){function t(t,n){var i=this;this.Vc=void 0,this.Qc=Xr(),this.Zc=[],this.Ec=function(t){var n=i.Kc(t.sessionId);n&&n.Gc()},this.Jc=function(t){var n=i.Kc(t.sessionId);n&&n.qc(t)},this.$c=function(t){var n=i.Kc(t.sessionId);n&&n.Yc(t)},this.ec=t,this.rc=n}var n=t.prototype;return n.hc=function(t){return this.Vc=t,this.Vc.addEventListener("webkitkeyadded",this.Ec),this.Vc.addEventListener("webkitkeyerror",this.Jc),this.Vc.addEventListener("webkitkeymessage",this.$c),this.Qc.forEach(function(n,i){return n.jc(t)}),this.Zc.forEach(function(n){return n.jc(t)}),qe.resolve()},n.cc=function(t){return t.removeEventListener("webkitkeyadded",this.Ec),t.removeEventListener("webkitkeyerror",this.Jc),t.removeEventListener("webkitkeymessage",this.$c),this.Vc=void 0,qe.resolve()},n.uc=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _f(this.ec),this.Vc&&e.jc(this.Vc),this.Zc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,qe)},n.ac=function(t){return qe.resolve(!1)},n.Kc=function(t){if(t){var n=this.Qc.get(t);return n||((n=this.Zc.shift())?(n.nc=t,this.Qc.set(t,n),n):void 0)}},t}(),kf=function(){function t(t,n){this.ec=t,this.tf=n}var n=t.prototype;return n.lc=function(){return qe.resolve(new bf(this.ec,this.tf))},n.dc=function(){return this.tf},t}(),Af=function(){function t(){}return t.prototype.Ss=function(t,n){try{return qe.resolve(Tf(t,n))}catch(t){return qe.reject(t)}},t.mc=function(){return Bs()},t}();function Tf(t,n){if(!Af.mc())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Gc(Sf,Iu,t,e);if(r)return new kf(t,r)}throw new v("Unsupported key system configuration for "+t)}function Sf(t,n){var i=wr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ef(){return yf||(yf=function(){var t=[];wf.mc()&&t.push(new wf);tf.mc()&&t.push(new tf);sf.mc()&&t.push(new sf);Af.mc()&&t.push(new Af);return new pf(t)}()),yf}var If=function(){function t(){this.nf=Xr()}var n=t.prototype;return n.Nu=function(t){this.nf.delete(t)},n.if=function(){this.nf.clear()},n.Iu=function(t){return this.nf.get(t)},n.ef=function(t,n){this.nf.set(t,n)},t}(),Rf=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=Cf.mc()?new Cf:new If),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t}();Rf.Yn=void 0;var Cf=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.mc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Nu=function(n){t.sessionStorage.removeItem(n)},e.if=function(){t.sessionStorage.clear()},e.Iu=function(n){return t.sessionStorage[n]},e.ef=function(n,i){t.sessionStorage[n]=i},i}(Rf);var Df=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Nf(t,n,i){var e=Df([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Pf,xf;!function(t){t.sf="uf",t.hf="cf",t.vf="contentprotectionerror",t.lf="contentprotectionsuccess",t.df="currentsourcechange",t.wf="destroy",t._f="durationchange",t.gf="emptied",t.yu="encrypted",t.mf="ended",t.yf="kf",t.bf="loadstart",t.pf="manifestupdate",t.Af="nosupportedrepresentationfound",t.Tf="offline",t.Sf="online",t.Ef="pause",t.If="play",t.Rf="progress",t.Df="ratechange",t.Nf="representationchange",t.Cf="resize",t.Pf="seeked",t.Bf="seeking",t.Of="segmentnotfound",t.xf="Lf",t.Mf="Uf",t.Xf="sourcechange",t.Ff="timeupdate",t.Hf="volumechange",t.zf="Vf",t.Wf="metricschange"}(Pf||(Pf={})),function(t){t.Gf="arraybuffer",t.qf="json",t.Yf="stream",t.$n="text"}(xf||(xf={}));var Bf=function(){function t(n){var i=this;this.Kr=void 0,this.Kr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&w.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Of(i),e=Lf(e);var r=i.toLowerCase();if(this.Kr.hasOwnProperty(r)){var s=this.Kr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Kr[r]=[i,e]},n.delete=function(t){var n=Of(t).toLowerCase();delete this.Kr[n]},n.get=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},n.has=function(t){var n=Of(t).toLowerCase();return this.Kr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Of(i)).toLowerCase();this.Kr[e]=[i,Lf(n)]},n.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Qf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Of(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Lf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function jf(){}var Ff=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Uf(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Hf=jf,Xf=qe,zf=qe.prototype.then,Vf=qe.resolve.bind(Xf),Wf=qe.reject.bind(Xf);function qf(t){return new Xf(t)}function Gf(t){return Vf(t)}function $f(t){return Wf(t)}function Yf(t,n,i){return zf.call(t,n,i)}function Qf(t,n,i){Yf(Yf(t,n,i),void 0,Hf)}function Zf(t,n){Qf(t,n)}function Kf(t,n){Qf(t,void 0,n)}function Jf(t,n,i){return Yf(t,n,i)}function tl(t){Yf(t,void 0,Hf)}var nl=function(){var t=Ff&&Ff.queueMicrotask;if("function"==typeof t)return t;var n=Gf(void 0);return function(t){return Yf(n,t)}}();function il(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function el(t,n,i){try{return Gf(il(t,n,i))}catch(t){return $f(t)}}var rl=function(){function t(){this.Kf=0,this.Jf=0,this.Ee={$f:[],tv:void 0},this.ev=this.Ee,this.Kf=0,this.Jf=0}return w.defineProperty(t.prototype,"length",{get:function(){return this.Jf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.ev,i=n;16383===n.$f.length&&(i={$f:[],tv:void 0}),n.$f.push(t),i!==n&&(this.ev=i,n.tv=i),++this.Jf},t.prototype.shift=function(){var t=this.Ee,n=t,i=this.Kf,e=i+1,r=t.$f,s=r[i];return 16384===e&&(n=t.tv,e=0),--this.Jf,this.Kf=e,t!==n&&(this.Ee=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Kf,i=this.Ee,e=i.$f;!(n===e.length&&void 0===i.tv||n===e.length&&(n=0,0===(e=(i=i.tv).$f).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Ee,n=this.Kf;return t.$f[n]},t}();function sl(t,n){t.rv=n,n.uv=t,"readable"===n.me?hl(t):"closed"===n.me?function(t){hl(t),ll(t)}(t):cl(t,n.ov)}function ul(t,n){return ow(t.rv,n)}function ol(t){"readable"===t.rv.me?fl(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){cl(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.rv.uv=void 0,t.rv=void 0}function al(t){return new v("Cannot "+t+" a stream using a released reader")}function hl(t){t.Mh=qf(function(n,i){t.hv=n,t.fv=i})}function cl(t,n){hl(t),fl(t,n)}function fl(t,n){void 0!==t.fv&&(tl(t.Mh),t.fv(n),t.hv=void 0,t.fv=void 0)}function ll(t){void 0!==t.hv&&(t.hv(void 0),t.hv=void 0,t.fv=void 0)}var vl=Mf("[[AbortSteps]]"),dl=Mf("[[ErrorSteps]]"),wl=Mf("[[CancelSteps]]"),gl=Mf("[[PullSteps]]"),ml=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},yl=g.trunc||function(t){return t<0?g.ceil(t):g.floor(t)};function pl(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new v(n+" is not an object.");var i}function _l(t,n){if("function"!=typeof t)throw new v(n+" is not a function.")}function bl(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new v(n+" is not an object.")}function kl(t,n,i){if(void 0===t)throw new v("Parameter "+n+" is required in '"+i+"'.")}function Al(t,n,i){if(void 0===t)throw new v(n+" is required in '"+i+"'.")}function Tl(t){return Number(t)}function Sl(t){return 0===t?0:t}function El(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Sl(e),!ml(e))throw new v(n+" is not a finite number");if((e=function(t){return Sl(yl(t))}(e))<0||e>i)throw new v(n+" is outside the accepted range of 0 to "+i+", inclusive");return ml(e)&&0!==e?e:0}function Il(t,n){if(!sw(t))throw new v(n+" is not a ReadableStream.")}function Rl(t){return new Ol(t)}function Cl(t,n){t.uv.vv.push(n)}function Dl(t,n,i){var e=t.uv.vv.shift();i?e.wv():e._v(n)}function Nl(t){return t.uv.vv.length}function Pl(t){var n=t.uv;return void 0!==n&&!!Ll(n)}var xl,Bl,Ol=function(){function t(t){if(kl(t,1,"ReadableStreamDefaultReader"),Il(t,"First parameter"),uw(t))throw new v("This stream has already been locked for exclusive reading by another reader");sl(this,t),this.vv=new rl}return w.defineProperty(t.prototype,"closed",{get:function(){return Ll(this)?this.Mh:$f(jl("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Ll(this)?void 0===this.rv?$f(al("cancel")):ul(this,t):$f(jl("cancel"))},t.prototype.read=function(){if(!Ll(this))return $f(jl("read"));if(void 0===this.rv)return $f(al("read from"));var t,n,i=qf(function(i,e){t=i,n=e});return Ml(this,{_v:function(n){return t({value:n,done:!1})},wv:function(){return t({value:void 0,done:!0})},mv:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Ll(this))throw jl("releaseLock");if(void 0!==this.rv){if(this.vv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ol(this)}},t}();function Ll(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"vv")&&t instanceof Ol)}function Ml(t,n){var i=t.rv;i.yv=!0,"closed"===i.me?n.wv():"errored"===i.me?n.mv(i.ov):i.bv[gl](n)}function jl(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}w.defineProperties(Ol.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Ol.prototype,Mf.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Mf.asyncIterator&&((xl={})[Mf.asyncIterator]=function(){return this},Bl=xl,w.defineProperty(Bl,Mf.asyncIterator,{enumerable:!1}));var Fl=function(){function t(t,n){this.pv=void 0,this.Av=!1,this.uv=t,this.Tv=n}return t.prototype.next=function(){var t=this,n=function(){return t.Sv()};return this.pv=this.pv?Jf(this.pv,n,n):n(),this.pv},t.prototype.return=function(t){var n=this,i=function(){return n.Ev(t)};return this.pv?Jf(this.pv,i,i):i()},t.prototype.Sv=function(){var t=this;if(this.Av)return qe.resolve({value:void 0,done:!0});var n,i,e=this.uv;if(void 0===e.rv)return $f(al("iterate"));var r=qf(function(t,e){n=t,i=e});return Ml(e,{_v:function(i){t.pv=void 0,nl(function(){return n({value:i,done:!1})})},wv:function(){t.pv=void 0,t.Av=!0,ol(e),n({value:void 0,done:!0})},mv:function(n){t.pv=void 0,t.Av=!0,ol(e),i(n)}}),r},t.prototype.Ev=function(t){if(this.Av)return qe.resolve({value:t,done:!0});this.Av=!0;var n=this.uv;if(void 0===n.rv)return $f(al("finish iterating"));if(!this.Tv){var i=ul(n,t);return ol(n),Jf(i,function(){return{value:t,done:!0}})}return ol(n),Gf({value:t,done:!0})},t}(),Ul={next:function(){return Hl(this)?this.Iv.next():$f(Xl("next"))},return:function(t){return Hl(this)?this.Iv.return(t):$f(Xl("return"))}};function Hl(t){if(!Uf(t))return!1;if(!w.prototype.hasOwnProperty.call(t,"Iv"))return!1;try{return t.Iv instanceof Fl}catch(t){return!1}}function Xl(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Bl&&w.setPrototypeOf(Ul,Bl);var zl=Number.isNaN||function(t){return t!=t};function Vl(t){return t.slice()}function Wl(t,n,i,e,r){new _(t).set(new _(i,e,r),n)}function ql(t){return t}function Gl(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Wl(r,0,t,n,e),r}function $l(t){var n=Gl(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new _(n)}function Yl(t){var n=t.Rv.shift();return t.Dv-=n.size,t.Dv<0&&(t.Dv=0),n.value}function Ql(t,n,i){if("number"!=typeof(e=i)||zl(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Rv.push({value:n,size:i}),t.Dv+=i}function Zl(t){t.Rv=new rl,t.Dv=0}var Kl=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"view",{get:function(){if(!nv(this))throw Av("view");return this.Nv},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!nv(this))throw Av("respond");if(kl(t,1,"respond"),t=El(t,"First parameter"),void 0===this.Cv)throw new v("This BYOB request has been invalidated");this.Nv.buffer,_v(this.Cv,t)},t.prototype.respondWithNewView=function(t){if(!nv(this))throw Av("respondWithNewView");if(kl(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");if(void 0===this.Cv)throw new v("This BYOB request has been invalidated");t.buffer,bv(this.Cv,t)},t}();w.defineProperties(Kl.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Kl.prototype,Mf.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Jl=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"byobRequest",{get:function(){if(!tv(this))throw Tv("byobRequest");return yv(this)},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!tv(this))throw Tv("desiredSize");return pv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!tv(this))throw Tv("close");if(this.Pv)throw new v("The stream has already been closed; do not close it again!");var t=this.Bv.me;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");wv(this)},t.prototype.enqueue=function(t){if(!tv(this))throw Tv("enqueue");if(kl(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new v("chunk must be an array buffer view");if(0===t.byteLength)throw new v("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new v("chunk's buffer must have non-zero byteLength");if(this.Pv)throw new v("stream is closed or draining");var n=this.Bv.me;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");gv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!tv(this))throw Tv("error");mv(this,t)},t.prototype[wl]=function(t){ev(this),Zl(this);var n=this.Ov(t);return dv(this),n},t.prototype[gl]=function(t){var n=this.Bv;if(this.Dv>0){var i=this.Rv.shift();this.Dv-=i.byteLength,hv(this);var e=new _(i.buffer,i.byteOffset,i.byteLength);t._v(e)}else{var r=this.xv;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.mv(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:_,readerType:"default"};this.Lv.push(u)}Cl(n,t),iv(this)}},t}();function tv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Bv")&&t instanceof Jl)}function nv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Cv")&&t instanceof Kl)}function iv(t){(function(t){var n=t.Bv;if("readable"!==n.me)return!1;if(t.Pv)return!1;if(!t.Mv)return!1;if(Pl(n)&&Nl(n)>0)return!0;if(Rv(n)&&Iv(n)>0)return!0;if(pv(t)>0)return!0;return!1})(t)&&(t.Uv?t.Xv=!0:(t.Uv=!0,Qf(t.Fv(),function(){t.Uv=!1,t.Xv&&(t.Xv=!1,iv(t))},function(n){mv(t,n)})))}function ev(t){cv(t),t.Lv=new rl}function rv(t,n){var i=!1;"closed"===t.me&&(i=!0);var e=sv(n);"default"===n.readerType?Dl(t,e,i):function(t,n,i){var e=t.uv.Hv.shift();i?e.wv(n):e._v(n)}(t,e,i)}function sv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function uv(t,n,i,e){t.Rv.push({buffer:n,byteOffset:i,byteLength:e}),t.Dv+=e}function ov(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=g.min(t.Dv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var h=t.Rv;o>0;){var c=h.peek(),f=g.min(o,c.byteLength),l=n.byteOffset+n.bytesFilled;Wl(n.buffer,l,c.buffer,c.byteOffset,f),c.byteLength===f?h.shift():(c.byteOffset+=f,c.byteLength-=f),t.Dv-=f,av(t,f,n),o-=f}return a}function av(t,n,i){i.bytesFilled+=n}function hv(t){0===t.Dv&&t.Pv?(dv(t),aw(t.Bv)):iv(t)}function cv(t){null!==t.zv&&(t.zv.Cv=void 0,t.zv.Nv=null,t.zv=null)}function fv(t){for(;t.Lv.length>0;){if(0===t.Dv)return;var n=t.Lv.peek();ov(t,n)&&(vv(t),rv(t.Bv,n))}}function lv(t,n){var i=t.Lv.peek();cv(t),"closed"===t.Bv.me?function(t,n){var i=t.Bv;if(Rv(i))for(;Iv(i)>0;)rv(i,vv(t))}(t):function(t,n,i){if(av(0,n,i),!(i.bytesFilled<i.elementSize)){vv(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Gl(i.buffer,r-e,r);uv(t,s,0,s.byteLength)}i.bytesFilled-=e,rv(t.Bv,i),fv(t)}}(t,n,i),iv(t)}function vv(t){return t.Lv.shift()}function dv(t){t.Fv=void 0,t.Ov=void 0}function wv(t){var n=t.Bv;if(!t.Pv&&"readable"===n.me)if(t.Dv>0)t.Pv=!0;else{if(t.Lv.length>0)if(t.Lv.peek().bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw mv(t,i),i}dv(t),aw(n)}}function gv(t,n){var i=t.Bv;if(!t.Pv&&"readable"===i.me){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=ql(e);if(t.Lv.length>0){var o=t.Lv.peek();o.buffer,0,o.buffer=ql(o.buffer)}if(cv(t),Pl(i))if(0===Nl(i))uv(t,u,r,s);else t.Lv.length>0&&vv(t),Dl(i,new _(u,r,s),!1);else Rv(i)?(uv(t,u,r,s),fv(t)):uv(t,u,r,s);iv(t)}}function mv(t,n){var i=t.Bv;"readable"===i.me&&(ev(t),Zl(t),dv(t),hw(i,n))}function yv(t){if(null===t.zv&&t.Lv.length>0){var n=t.Lv.peek(),i=new _(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=w.create(Kl.prototype);!function(t,n,i){t.Cv=n,t.Nv=i}(e,t,i),t.zv=e}return t.zv}function pv(t){var n=t.Bv.me;return"errored"===n?null:"closed"===n?0:t.Vv-t.Dv}function _v(t,n){var i=t.Lv.peek();if("closed"===t.Bv.me){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new v("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=ql(i.buffer),lv(t,n)}function bv(t,n){var i=t.Lv.peek();if("closed"===t.Bv.me){if(0!==n.byteLength)throw new v("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new v("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=ql(n.buffer),lv(t,e)}function kv(t,n,i,e,r,s,u){n.Bv=t,n.Xv=!1,n.Uv=!1,n.zv=null,n.Rv=n.Dv=void 0,Zl(n),n.Pv=!1,n.Mv=!1,n.Vv=s,n.Fv=e,n.Ov=r,n.xv=u,n.Lv=new rl,t.bv=n,Qf(Gf(i()),function(){n.Mv=!0,iv(n)},function(t){mv(n,t)})}function Av(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Tv(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Sv(t){return new Cv(t)}function Ev(t,n){t.uv.Hv.push(n)}function Iv(t){return t.uv.Hv.length}function Rv(t){var n=t.uv;return void 0!==n&&!!Dv(n)}w.defineProperties(Jl.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Jl.prototype,Mf.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Cv=function(){function t(t){if(kl(t,1,"ReadableStreamBYOBReader"),Il(t,"First parameter"),uw(t))throw new v("This stream has already been locked for exclusive reading by another reader");if(!tv(t.bv))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");sl(this,t),this.Hv=new rl}return w.defineProperty(t.prototype,"closed",{get:function(){return Dv(this)?this.Mh:$f(Pv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Dv(this)?void 0===this.rv?$f(al("cancel")):ul(this,t):$f(Pv("cancel"))},t.prototype.read=function(t){if(!Dv(this))return $f(Pv("read"));if(!ArrayBuffer.isView(t))return $f(new v("view must be an array buffer view"));if(0===t.byteLength)return $f(new v("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return $f(new v("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.rv)return $f(al("read from"));var n,i,e=qf(function(t,e){n=t,i=e});return Nv(this,t,{_v:function(t){return n({value:t,done:!1})},wv:function(t){return n({value:t,done:!0})},mv:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Dv(this))throw Pv("releaseLock");if(void 0!==this.rv){if(this.Hv.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ol(this)}},t}();function Dv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Hv")&&t instanceof Cv)}function Nv(t,n,i){var e=t.rv;e.yv=!0,"errored"===e.me?i.mv(e.ov):function(t,n,i){var e=t.Bv,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=ql(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Lv.length>0)return t.Lv.push(o),void Ev(e,i);if("closed"!==e.me){if(t.Dv>0){if(ov(t,o)){var a=sv(o);return hv(t),void i._v(a)}if(t.Pv){var h=new v("Insufficient bytes to fill elements in the given buffer");return mv(t,h),void i.mv(h)}}t.Lv.push(o),Ev(e,i),iv(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.wv(c)}}(e.bv,n,i)}function Pv(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function xv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(zl(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Bv(t){var n=t.size;return n||function(){return 1}}function Ov(t,n){pl(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:Tl(i),size:void 0===e?void 0:Lv(e,n+" has member 'size' that")}}function Lv(t,n){return _l(t,n),function(n){return Tl(t(n))}}function Mv(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function jv(t,n,i){return _l(t,i),function(){return el(t,n,[])}}function Fv(t,n,i){return _l(t,i),function(i){return il(t,n,[i])}}function Uv(t,n,i){return _l(t,i),function(i,e){return el(t,n,[i,e])}}function Hv(t,n){if(!qv(t))throw new v(n+" is not a WritableStream.")}w.defineProperties(Cv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Cv.prototype,Mf.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Xv="function"==typeof AbortController;var zv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:bl(t,"First parameter");var i=Ov(n,"Second parameter"),e=function(t,n){pl(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Mv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:jv(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Fv(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Uv(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Wv(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Bv(i);!function(t,n,i,e){var r=w.create(cd.prototype),s=function(){},u=function(){return Gf(void 0)},o=function(){return Gf(void 0)},a=function(){return Gf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(a=function(t){return n.abort(t)});ld(t,r,s,u,o,a,i,e)}(this,e,xv(i,1),r)}return w.defineProperty(t.prototype,"locked",{get:function(){if(!qv(this))throw pd("locked");return Gv(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),qv(this)?Gv(this)?$f(new v("Cannot abort a stream that already has a writer")):$v(this,t):$f(pd("abort"))},t.prototype.close=function(){return qv(this)?Gv(this)?$f(new v("Cannot close a stream that already has a writer")):Jv(this)?$f(new v("Cannot close an already-closing stream")):Yv(this):$f(pd("close"))},t.prototype.getWriter=function(){if(!qv(this))throw pd("getWriter");return Vv(this)},t}();function Vv(t){return new id(t)}function Wv(t){t.me="writable",t.ov=void 0,t.Ao=void 0,t.Wv=void 0,t.Gv=new rl,t.qv=void 0,t.Yv=void 0,t.Qv=void 0,t.Zv=void 0,t.Kv=!1}function qv(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Wv")&&t instanceof zv)}function Gv(t){return void 0!==t.Ao}function $v(t,n){var i;if("closed"===t.me||"errored"===t.me)return Gf(void 0);t.Wv.Jv=n,null===(i=t.Wv.$v)||void 0===i||i.abort();var e=t.me;if("closed"===e||"errored"===e)return Gf(void 0);if(void 0!==t.Zv)return t.Zv.il;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=qf(function(i,e){t.Zv={il:void 0,Hu:i,Vu:e,ul:n,ol:r}});return t.Zv.il=s,r||Zv(t,n),s}function Yv(t){var n=t.me;if("closed"===n||"errored"===n)return $f(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=qf(function(n,i){var e={Hu:n,Vu:i};t.Yv=e}),r=t.Ao;return void 0!==r&&t.Kv&&"writable"===n&&Nd(r),Ql(i=t.Wv,hd,0),wd(i),e}function Qv(t,n){"writable"!==t.me?Kv(t):Zv(t,n)}function Zv(t,n){var i=t.Wv;t.me="erroring",t.ov=n;var e=t.Ao;void 0!==e&&ud(e,n),!function(t){if(void 0===t.qv&&void 0===t.Qv)return!1;return!0}(t)&&i.Mv&&Kv(t)}function Kv(t){t.me="errored",t.Wv[dl]();var n=t.ov;if(t.Gv.forEach(function(t){t.Vu(n)}),t.Gv=new rl,void 0!==t.Zv){var i=t.Zv;if(t.Zv=void 0,i.ol)return i.Vu(n),void td(t);Qf(t.Wv[vl](i.ul),function(){i.Hu(),td(t)},function(n){i.Vu(n),td(t)})}else td(t)}function Jv(t){return void 0!==t.Yv||void 0!==t.Qv}function td(t){void 0!==t.Yv&&(t.Yv.Vu(t.ov),t.Yv=void 0);var n=t.Ao;void 0!==n&&Sd(n,t.ov)}function nd(t,n){var i=t.Ao;void 0!==i&&n!==t.Kv&&(n?function(t){Id(t)}(i):Nd(i)),t.Kv=n}w.defineProperties(zv.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(zv.prototype,Mf.toStringTag,{value:"WritableStream",configurable:!0});var id=function(){function t(t){if(kl(t,1,"WritableStreamDefaultWriter"),Hv(t,"First parameter"),Gv(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.al=t,t.Ao=this;var n,i=t.me;if("writable"===i)!Jv(t)&&t.Kv?Id(this):Cd(this),Ad(this);else if("erroring"===i)Rd(this,t.ov),Ad(this);else if("closed"===i)Cd(this),Ad(n=this),Ed(n);else{var e=t.ov;Rd(this,e),Td(this,e)}}return w.defineProperty(t.prototype,"closed",{get:function(){return ed(this)?this.Mh:$f(bd("closed"))},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ed(this))throw bd("desiredSize");if(void 0===this.al)throw kd("desiredSize");return function(t){var n=t.al,i=n.me;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return dd(n.Wv)}(this)},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"ready",{get:function(){return ed(this)?this.hl:$f(bd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ed(this)?void 0===this.al?$f(kd("abort")):function(t,n){return $v(t.al,n)}(this,t):$f(bd("abort"))},t.prototype.close=function(){if(!ed(this))return $f(bd("close"));var t=this.al;return void 0===t?$f(kd("close")):Jv(t)?$f(new v("Cannot close an already-closing stream")):rd(this)},t.prototype.releaseLock=function(){if(!ed(this))throw bd("releaseLock");void 0!==this.al&&od(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),ed(this)?void 0===this.al?$f(kd("write to")):ad(this,t):$f(bd("write"))},t}();function ed(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"al")&&t instanceof id)}function rd(t){return Yv(t.al)}function sd(t,n){"pending"===t.cl?Sd(t,n):function(t,n){Td(t,n)}(t,n)}function ud(t,n){"pending"===t.fl?Dd(t,n):function(t,n){Rd(t,n)}(t,n)}function od(t){var n=t.al,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");ud(t,i),sd(t,i),n.Ao=void 0,t.al=void 0}function ad(t,n){var i=t.al,e=i.Wv,r=function(t,n){try{return t.vl(n)}catch(n){return gd(t,n),1}}(e,n);if(i!==t.al)return $f(kd("write to"));var s=i.me;if("errored"===s)return $f(i.ov);if(Jv(i)||"closed"===s)return $f(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return $f(i.ov);var u=function(t){return qf(function(n,i){var e={Hu:n,Vu:i};t.Gv.push(e)})}(i);return function(t,n,i){try{Ql(t,n,i)}catch(n){return void gd(t,n)}var e=t.ll;if(!Jv(e)&&"writable"===e.me){var r=md(t);nd(e,r)}wd(t)}(e,n,r),u}w.defineProperties(id.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(id.prototype,Mf.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var hd={},cd=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"abortReason",{get:function(){if(!fd(this))throw _d("abortReason");return this.Jv},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"signal",{get:function(){if(!fd(this))throw _d("signal");if(void 0===this.$v)throw new v("WritableStreamDefaultController.prototype.signal is not supported");return this.$v.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!fd(this))throw _d("error");"writable"===this.ll.me&&yd(this,t)},t.prototype[vl]=function(t){var n=this.dl(t);return vd(this),n},t.prototype[dl]=function(){Zl(this)},t}();function fd(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"ll")&&t instanceof cd)}function ld(t,n,i,e,r,s,u,o){n.ll=t,t.Wv=n,n.Rv=void 0,n.Dv=void 0,Zl(n),n.Jv=void 0,n.$v=function(){if(Xv)return new AbortController}(),n.Mv=!1,n.vl=o,n.Vv=u,n.wl=e,n._l=r,n.dl=s;var a=md(n);nd(t,a),Qf(Gf(i()),function(){n.Mv=!0,wd(n)},function(i){n.Mv=!0,Qv(t,i)})}function vd(t){t.wl=void 0,t._l=void 0,t.dl=void 0,t.vl=void 0}function dd(t){return t.Vv-t.Dv}function wd(t){var n=t.ll;if(t.Mv&&void 0===n.qv)if("erroring"!==n.me){if(0!==t.Rv.length){var i=t.Rv.peek().value;i===hd?function(t){var n=t.ll;(function(t){t.Qv=t.Yv,t.Yv=void 0})(n),Yl(t);var i=t._l();vd(t),Qf(i,function(){!function(t){t.Qv.Hu(void 0),t.Qv=void 0,"erroring"===t.me&&(t.ov=void 0,void 0!==t.Zv&&(t.Zv.Hu(),t.Zv=void 0)),t.me="closed";var n=t.Ao;void 0!==n&&Ed(n)}(n)},function(t){!function(t,n){t.Qv.Vu(n),t.Qv=void 0,void 0!==t.Zv&&(t.Zv.Vu(n),t.Zv=void 0),Qv(t,n)}(n,t)})}(t):function(t,n){var i=t.ll;(function(t){t.qv=t.Gv.shift()})(i),Qf(t.wl(n),function(){!function(t){t.qv.Hu(void 0),t.qv=void 0}(i);var n=i.me;if(Yl(t),!Jv(i)&&"writable"===n){var e=md(t);nd(i,e)}wd(t)},function(n){"writable"===i.me&&vd(t),function(t,n){t.qv.Vu(n),t.qv=void 0,Qv(t,n)}(i,n)})}(t,i)}}else Kv(n)}function gd(t,n){"writable"===t.ll.me&&yd(t,n)}function md(t){return dd(t)<=0}function yd(t,n){var i=t.ll;vd(t),Zv(i,n)}function pd(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function _d(t){return new v("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function bd(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function kd(t){return new v("Cannot "+t+" a stream using a released writer")}function Ad(t){t.Mh=qf(function(n,i){t.hv=n,t.fv=i,t.cl="pending"})}function Td(t,n){Ad(t),Sd(t,n)}function Sd(t,n){void 0!==t.fv&&(tl(t.Mh),t.fv(n),t.hv=void 0,t.fv=void 0,t.cl="rejected")}function Ed(t){void 0!==t.hv&&(t.hv(void 0),t.hv=void 0,t.fv=void 0,t.cl="resolved")}function Id(t){t.hl=qf(function(n,i){t.yl=n,t.bl=i}),t.fl="pending"}function Rd(t,n){Id(t),Dd(t,n)}function Cd(t){Id(t),Nd(t)}function Dd(t,n){void 0!==t.bl&&(tl(t.hl),t.bl(n),t.yl=void 0,t.bl=void 0,t.fl="rejected")}function Nd(t){void 0!==t.yl&&(t.yl(void 0),t.yl=void 0,t.bl=void 0,t.fl="fulfilled")}w.defineProperties(cd.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(cd.prototype,Mf.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Pd="undefined"!=typeof DOMException?DOMException:void 0;var xd,Bd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Pd)?Pd:((xd=function(t,n){this.message=t||"",this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),w.defineProperty(xd.prototype,"constructor",{value:xd,writable:!0,configurable:!0}),xd);function Od(t,n,i,e,r,s){var u=Rl(t),o=Vv(n);t.yv=!0;var a=!1,h=Gf(void 0);return qf(function(c,f){var l,d,w,g;if(void 0!==s){if(l=function(){var i=new Bd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.me?$v(n,i):Gf(void 0)}),r||s.push(function(){return"readable"===t.me?ow(t,i):Gf(void 0)}),_(function(){return qe.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void l();s.addEventListener("abort",l)}if(p(t,u.Mh,function(t){e?b(!0,t):_(function(){return $v(n,t)},!0,t)}),p(n,o.Mh,function(n){r?b(!0,n):_(function(){return ow(t,n)},!0,n)}),d=t,w=u.Mh,g=function(){i?b():_(function(){return function(t){var n=t.al,i=n.me;return Jv(n)||"closed"===i?Gf(void 0):"errored"===i?$f(n.ov):rd(t)}(o)})},"closed"===d.me?g():Zf(w,g),Jv(n)||"closed"===n.me){var m=new v("the destination writable stream closed before all data could be piped to it");r?b(!0,m):_(function(){return ow(t,m)},!0,m)}function y(){var t=h;return Yf(h,function(){return t!==h?y():void 0})}function p(t,n,i){"errored"===t.me?i(t.ov):Kf(n,i)}function _(t,i,e){function r(){Qf(t(),function(){return k(i,e)},function(t){return k(!0,t)})}a||(a=!0,"writable"!==n.me||Jv(n)?r():Zf(y(),r))}function b(t,i){a||(a=!0,"writable"!==n.me||Jv(n)?k(t,i):Zf(y(),function(){return k(t,i)}))}function k(t,n){od(o),ol(u),void 0!==s&&s.removeEventListener("abort",l),t?f(n):c(void 0)}tl(qf(function(t,n){!function i(e){e?t():Yf(a?Gf(!0):Yf(o.hl,function(){return qf(function(t,n){Ml(u,{_v:function(n){h=Yf(ad(o,n),void 0,jf),t(!1)},wv:function(){return t(!0)},mv:n})})}),i,n)}(!1)}))})}var Ld=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Md(this))throw Gd("desiredSize");return Vd(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Md(this))throw Gd("close");if(!Wd(this))throw new v("The stream is not in a state that permits close");Hd(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Md(this))throw Gd("enqueue");if(!Wd(this))throw new v("The stream is not in a state that permits enqueue");return Xd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Md(this))throw Gd("error");zd(this,t)},t.prototype[wl]=function(t){Zl(this);var n=this.Ov(t);return Ud(this),n},t.prototype[gl]=function(t){var n=this.Al;if(this.Rv.length>0){var i=Yl(this);this.Pv&&0===this.Rv.length?(Ud(this),aw(n)):jd(this),t._v(i)}else Cl(n,t),jd(this)},t}();function Md(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Al")&&t instanceof Ld)}function jd(t){Fd(t)&&(t.Uv?t.Xv=!0:(t.Uv=!0,Qf(t.Fv(),function(){t.Uv=!1,t.Xv&&(t.Xv=!1,jd(t))},function(n){zd(t,n)})))}function Fd(t){var n=t.Al;return!!Wd(t)&&(!!t.Mv&&(!!(uw(n)&&Nl(n)>0)||Vd(t)>0))}function Ud(t){t.Fv=void 0,t.Ov=void 0,t.vl=void 0}function Hd(t){if(Wd(t)){var n=t.Al;t.Pv=!0,0===t.Rv.length&&(Ud(t),aw(n))}}function Xd(t,n){if(Wd(t)){var i=t.Al;if(uw(i)&&Nl(i)>0)Dl(i,n,!1);else{var e=void 0;try{e=t.vl(n)}catch(n){throw zd(t,n),n}try{Ql(t,n,e)}catch(n){throw zd(t,n),n}}jd(t)}}function zd(t,n){var i=t.Al;"readable"===i.me&&(Zl(t),Ud(t),hw(i,n))}function Vd(t){var n=t.Al.me;return"errored"===n?null:"closed"===n?0:t.Vv-t.Dv}function Wd(t){var n=t.Al.me;return!t.Pv&&"readable"===n}function qd(t,n,i,e,r,s,u){n.Al=t,n.Rv=void 0,n.Dv=void 0,Zl(n),n.Mv=!1,n.Pv=!1,n.Xv=!1,n.Uv=!1,n.vl=u,n.Vv=s,n.Fv=e,n.Ov=r,t.bv=n,Qf(Gf(i()),function(){n.Mv=!0,jd(n)},function(t){zd(n,t)})}function Gd(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function $d(t,n){return tv(t.bv)?function(t){var n,i,e,r,s,u=Rl(t),o=!1,a=!1,h=!1,c=!1,f=!1,l=qf(function(t){s=t});function v(t){Kf(t.Mh,function(n){t===u&&(mv(e.bv,n),mv(r.bv,n),c&&f||s(void 0))})}function d(){Dv(u)&&(ol(u),v(u=Rl(t)));var n={_v:function(n){nl(function(){a=!1,h=!1;var i=n,u=n;if(!c&&!f)try{u=$l(n)}catch(n){return mv(e.bv,n),mv(r.bv,n),void s(ow(t,n))}c||gv(e.bv,i),f||gv(r.bv,u),o=!1,a?g():h&&m()})},wv:function(){o=!1,c||wv(e.bv),f||wv(r.bv),e.bv.Lv.length>0&&_v(e.bv,0),r.bv.Lv.length>0&&_v(r.bv,0),c&&f||s(void 0)},mv:function(){o=!1}};Ml(u,n)}function w(n,i){Ll(u)&&(ol(u),v(u=Sv(t)));var l=i?r:e,d=i?e:r,w={_v:function(n){nl(function(){a=!1,h=!1;var e=i?f:c,r=i?c:f;if(r)e||bv(l.bv,n);else{var u=void 0;try{u=$l(n)}catch(n){return mv(l.bv,n),mv(d.bv,n),void s(ow(t,n))}e||bv(l.bv,n),gv(d.bv,u)}o=!1,a?g():h&&m()})},wv:function(t){o=!1;var n=i?f:c,e=i?c:f;n||wv(l.bv),e||wv(d.bv),void 0!==t&&(n||bv(l.bv,t),!e&&d.bv.Lv.length>0&&_v(d.bv,0)),n&&e||s(void 0)},mv:function(){o=!1}};Nv(u,n,w)}function g(){if(o)return a=!0,Gf(void 0);o=!0;var t=yv(e.bv);return null===t?d():w(t.Nv,!1),Gf(void 0)}function m(){if(o)return h=!0,Gf(void 0);o=!0;var t=yv(r.bv);return null===t?d():w(t.Nv,!0),Gf(void 0)}function y(){}return e=ew(y,g,function(e){if(c=!0,n=e,f){var r=Vl([n,i]),u=ow(t,r);s(u)}return l}),r=ew(y,m,function(e){if(f=!0,i=e,c){var r=Vl([n,i]),u=ow(t,r);s(u)}return l}),v(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=Rl(t),a=!1,h=!1,c=!1,f=!1,l=qf(function(t){u=t});function v(){if(a)return h=!0,Gf(void 0);a=!0;var t={_v:function(t){nl(function(){h=!1;var n=t,i=t;c||Xd(r.bv,n),f||Xd(s.bv,i),a=!1,h&&v()})},wv:function(){a=!1,c||Hd(r.bv),f||Hd(s.bv),c&&f||u(void 0)},mv:function(){a=!1}};return Ml(o,t),Gf(void 0)}function d(){}return r=iw(d,v,function(n){if(c=!0,i=n,f){var r=Vl([i,e]),s=ow(t,r);u(s)}return l}),s=iw(d,v,function(n){if(f=!0,e=n,c){var r=Vl([i,e]),s=ow(t,r);u(s)}return l}),Kf(o.Mh,function(t){zd(r.bv,t),zd(s.bv,t),c&&f||u(void 0)}),[r,s]}(t)}function Yd(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function Qd(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function Zd(t,n,i){return _l(t,i),function(i){return il(t,n,[i])}}function Kd(t,n){if("bytes"!==(t=""+t))throw new v(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function Jd(t,n){if("byob"!==(t=""+t))throw new v(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function tw(t,n){pl(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new v(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}w.defineProperties(Ld.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Ld.prototype,Mf.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var nw=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:bl(t,"First parameter");var i=Ov(n,"Second parameter"),e=function(t,n){pl(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:El(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Yd(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Qd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Zd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Kd(o,n+" has member 'type' that")}}(t,"First parameter");if(rw(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=w.create(Jl.prototype),r=function(){},s=function(){return Gf(void 0)},u=function(){return Gf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new v("autoAllocateChunkSize must be greater than 0");kv(t,e,r,s,u,i,o)}(this,e,xv(i,0))}else{var r=Bv(i);!function(t,n,i,e){var r=w.create(Ld.prototype),s=function(){},u=function(){return Gf(void 0)},o=function(){return Gf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),qd(t,r,s,u,o,i,e)}(this,e,xv(i,1),r)}}return w.defineProperty(t.prototype,"locked",{get:function(){if(!sw(this))throw cw("locked");return uw(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),sw(this)?uw(this)?$f(new v("Cannot cancel a stream that already has a reader")):ow(this,t):$f(cw("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!sw(this))throw cw("getReader");return void 0===function(t,n){pl(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Jd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Rl(this):Sv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!sw(this))throw cw("pipeThrough");kl(t,1,"pipeThrough");var i=function(t,n){pl(t,n);var i=null==t?void 0:t.readable;Al(i,"readable","ReadableWritablePair"),Il(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return Al(e,"writable","ReadableWritablePair"),Hv(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=tw(n,"Second parameter");if(uw(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Gv(i.writable))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return tl(Od(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!sw(this))return $f(cw("pipeTo"));if(void 0===t)return $f("Parameter 1 is required in 'pipeTo'.");if(!qv(t))return $f(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=tw(n,"Second parameter")}catch(t){return $f(t)}return uw(this)?$f(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Gv(t)?$f(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Od(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!sw(this))throw cw("tee");return Vl($d(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!sw(this))throw cw("values");var n,i,e,r,s,u=function(t,n){pl(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=Rl(n),r=new Fl(e,i),(s=w.create(Ul)).Iv=r,s},t}();function iw(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=w.create(nw.prototype);return rw(s),qd(s,w.create(Ld.prototype),t,n,i,e,r),s}function ew(t,n,i){var e=w.create(nw.prototype);return rw(e),kv(e,w.create(Jl.prototype),t,n,i,0,void 0),e}function rw(t){t.me="readable",t.uv=void 0,t.ov=void 0,t.yv=!1}function sw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"bv")&&t instanceof nw)}function uw(t){return void 0!==t.uv}function ow(t,n){if(t.yv=!0,"closed"===t.me)return Gf(void 0);if("errored"===t.me)return $f(t.ov);aw(t);var i=t.uv;return void 0!==i&&Dv(i)&&(i.Hv.forEach(function(t){t.wv(void 0)}),i.Hv=new rl),Jf(t.bv[wl](n),jf)}function aw(t){t.me="closed";var n=t.uv;void 0!==n&&(ll(n),Ll(n)&&(n.vv.forEach(function(t){t.wv()}),n.vv=new rl))}function hw(t,n){t.me="errored",t.ov=n;var i=t.uv;void 0!==i&&(fl(i,n),Ll(i)?(i.vv.forEach(function(t){t.mv(n)}),i.vv=new rl):(i.Hv.forEach(function(t){t.mv(n)}),i.Hv=new rl))}function cw(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function fw(t,n){pl(t,n);var i=null==t?void 0:t.highWaterMark;return Al(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Tl(i)}}w.defineProperties(nw.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(nw.prototype,Mf.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Mf.asyncIterator&&w.defineProperty(nw.prototype,Mf.asyncIterator,{value:nw.prototype.values,writable:!0,configurable:!0});var lw=function(t){return t.byteLength};try{w.defineProperty(lw,"name",{value:"size",configurable:!0})}catch(xl){}var vw=function(){function t(t){kl(t,1,"ByteLengthQueuingStrategy"),t=fw(t,"First parameter"),this.Tl=t.highWaterMark}return w.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!ww(this))throw dw("highWaterMark");return this.Tl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"size",{get:function(){if(!ww(this))throw dw("size");return lw},enumerable:!1,configurable:!0}),t}();function dw(t){return new v("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function ww(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Tl")&&t instanceof vw)}w.defineProperties(vw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(vw.prototype,Mf.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var gw=function(){return 1};try{w.defineProperty(gw,"name",{value:"size",configurable:!0})}catch(xl){}var mw=function(){function t(t){kl(t,1,"CountQueuingStrategy"),t=fw(t,"First parameter"),this.Sl=t.highWaterMark}return w.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!pw(this))throw yw("highWaterMark");return this.Sl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"size",{get:function(){if(!pw(this))throw yw("size");return gw},enumerable:!1,configurable:!0}),t}();function yw(t){return new v("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function pw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Sl")&&t instanceof mw)}function _w(t,n,i){return _l(t,i),function(i){return el(t,n,[i])}}function bw(t,n,i){return _l(t,i),function(i){return il(t,n,[i])}}function kw(t,n,i){return _l(t,i),function(i,e){return el(t,n,[i,e])}}w.defineProperties(mw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(mw.prototype,Mf.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Aw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Ov(n,"Second parameter"),r=Ov(i,"Third parameter"),s=function(t,n){pl(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:_w(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:bw(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:kw(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=xv(r,0),a=Bv(r),h=xv(e,1),c=Bv(e);!function(t,n,i,e,r,s){function u(){return n}t.El=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=w.create(zv.prototype);return Wv(u),ld(u,w.create(cd.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Il;if(t.Kv){var e=t.Rl;return Jf(e,function(){var e=t.El,r=e.me;if("erroring"===r)throw e.ov;return Pw(i,n)})}return Pw(i,n)}(t,n)},function(){return function(t){var n=t.Dl,i=t.Il,e=i.Nl();return Dw(i),Jf(e,function(){if("errored"===n.me)throw n.ov;Hd(n.bv)},function(i){throw Sw(t,i),n.ov})}(t)},function(n){return function(t,n){return Sw(t,n),Gf(void 0)}(t,n)},i,e),t.Dl=iw(u,function(){return function(t){return Iw(t,!1),t.Rl}(t)},function(n){return Ew(t,n),Gf(void 0)},r,s),t.Kv=void 0,t.Rl=void 0,t.Cl=void 0,Iw(t,!0),t.Il=void 0}(this,qf(function(t){u=t}),h,c,o,a),function(t,n){var i=w.create(Rw.prototype),e=function(t){try{return Nw(i,t),Gf(void 0)}catch(t){return $f(t)}},r=function(){return Gf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.Pl=t,t.Il=n,n.Bl=i,n.Nl=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.Il)):u(void 0)}return w.defineProperty(t.prototype,"readable",{get:function(){if(!Tw(this))throw Bw("readable");return this.Dl},enumerable:!1,configurable:!0}),w.defineProperty(t.prototype,"writable",{get:function(){if(!Tw(this))throw Bw("writable");return this.El},enumerable:!1,configurable:!0}),t}();function Tw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Il")&&t instanceof Aw)}function Sw(t,n){zd(t.Dl.bv,n),Ew(t,n)}function Ew(t,n){Dw(t.Il),gd(t.El.Wv,n),t.Kv&&Iw(t,!1)}function Iw(t,n){void 0!==t.Rl&&t.Cl(),t.Rl=qf(function(n){t.Cl=n}),t.Kv=n}w.defineProperties(Aw.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Aw.prototype,Mf.toStringTag,{value:"TransformStream",configurable:!0});var Rw=function(){function t(){throw new v("Illegal constructor")}return w.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Cw(this))throw xw("desiredSize");return Vd(this.Pl.Dl.bv)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Cw(this))throw xw("enqueue");Nw(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Cw(this))throw xw("error");var n;n=t,Sw(this.Pl,n)},t.prototype.terminate=function(){if(!Cw(this))throw xw("terminate");!function(t){var n=t.Pl;Hd(n.Dl.bv);var i=new v("TransformStream terminated");Ew(n,i)}(this)},t}();function Cw(t){return!!Uf(t)&&(!!w.prototype.hasOwnProperty.call(t,"Pl")&&t instanceof Rw)}function Dw(t){t.Bl=void 0,t.Nl=void 0}function Nw(t,n){var i=t.Pl,e=i.Dl.bv;if(!Wd(e))throw new v("Readable side is not in a state that permits enqueue");try{Xd(e,n)}catch(t){throw Ew(i,t),i.Dl.ov}(function(t){return!Fd(t)})(e)!==i.Kv&&Iw(i,!0)}function Pw(t,n){return Jf(t.Bl(n),void 0,function(n){throw Sw(t.Pl,n),n})}function xw(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Bw(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}w.defineProperties(Rw.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mf.toStringTag&&w.defineProperty(Rw.prototype,Mf.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Ow,Lw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return E(n,t),T(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(nn);function Mw(t){return n=[t],new nw({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function jw(t){return Mw(new _(t))}function Fw(t,n){return function(t,n){var i=n,e=t.getReader(),r=new na,s=function(){u();var t=new au;e.cancel(t).catch(K),r.Gu(t)},u=function(){i&&(i.Ms(s),i=void 0)};i&&(i.Ns?s():i.Ls(s));var o=[];return qe.resolve(e.read()).then(function t(n){return n.done?(u(),qe.resolve(o)):(o.push(n.value),qe.resolve(e.read()).then(t))}).then(function(t){u(),r.Wu(t)},function(t){u(),r.Gu(t)}),r.Fu}(t,n).then(function(t){return $u(t).buffer})}function Uw(t,n){var i=n,e=new Aw,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Hs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(K)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(K)}),r}function Hw(t){var n=new Aw,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=z(n)?n[0]===n[1]||hu(n[0])&&hu(n[1])?n[0]:new Lw(n):n,t.cancel(i).catch(K)}),i.tee()}function Xw(t){return Ho(new _(t))}function zw(t){return Xo(t).buffer}!function(t){t[t.Yf=0]="Yf",t[t.Ol=1]="Ol"}(Ow||(Ow={}));var Vw="content-type",Ww="text/plain;charset=UTF-8",qw=function(){function t(){}var n=t.prototype;return n.xl=function(t){return this.Ll(t).then(JSON.parse)},n.Ml=function(t,n){switch(t){case xf.Gf:return this.Ul(n);case xf.qf:return this.xl(n);case xf.Yf:return this.Xl();case xf.$n:return this.Ll(n);default:throw new v}},t}();function Gw(t,n,i){if(t instanceof qw)return t;if(t instanceof nw)return function(t,n){return new Yw({fs:Ow.Yf,Xl:t,Fl:$w(n)})}(t,i);var e=$w(i),r=qe.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{fs:xf.$n,Hl:t,Fl:n||Ww};if(t instanceof ArrayBuffer||Wu(t))return{fs:xf.Gf,Hl:ig(t),Fl:n};if(q(t)||z(t))return{fs:xf.qf,Hl:t,Fl:n};throw new v("Unsupported BodyInit type")}return{fs:xf.$n,Hl:null,Fl:n}}(t,e)});return new Yw({fs:Ow.Ol,Fu:r,zl:n})}function $w(t){return(t.get(Vw)||"").toLowerCase()}var Yw=function(t){function n(n){var i;return(i=t.call(this)||this).Vl=!1,i.Wl=void 0,i.Gl=new na,i.Gl.Fu.catch(K),i.ql(n),i}E(n,t);var i=n.prototype;return i.Yl=function(){return this.Gl.Fu},i.Ll=function(t){return this.jl(Qw,t)},i.xl=function(t){return this.jl(Kw,t)},i.Ul=function(t){return this.jl(tg,t)},i.Xl=function(){return this.Ql((t=this.Wl).fs===Ow.Yf?t.Xl:Uw(t.Fu.then(ng).then(jw),t.zl));var t},i.jl=function(t,n){if(this.Vl)return qe.reject(new v("Already used"));this.Vl=!0;var i=t(this.Wl,n);return this.Gl.Wu(i.then(K)),i},i.Ql=function(t){if(this.Vl)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Vl=!0;var n=new Aw,i=qe.resolve(t.pipeTo(n.writable));return this.Gl.Wu(i),n.readable},i.ql=function(t){this.Wl=t,t.fs===Ow.Ol&&t.Fu.catch(K)},i.Zl=function(){if(this.Vl)throw new v("Already used");var t=function(t){if(t.fs===Ow.Yf){var n=t.Xl.tee(),i=n[0],e=n[1];return[{fs:t.fs,Xl:i,Fl:t.Fl},{fs:t.fs,Xl:e,Fl:t.Fl}]}var r=t.zl.Vs(),s=r[0],u=r[1];return[{fs:t.fs,Fu:t.Fu,zl:s},{fs:t.fs,Fu:t.Fu,zl:u}]}(this.Wl),i=t[0],e=t[1];return this.ql(i),new n(e)},T(n,[{key:"Kl",get:function(){return this.Vl}}]),n}(qw);function Qw(t,n){return t.fs===Ow.Yf?Fw(t.Xl,n).then(Xw):(n&&t.zl.zs(n),du(t.Fu.then(Zw),t.zl))}function Zw(t){switch(t.fs){case xf.$n:return qe.resolve(t.Hl||"");case xf.Gf:return qe.resolve(t.Hl).then(Xw);case xf.qf:return qe.resolve(t.Hl).then(JSON.stringify)}}function Kw(t,n){return t.fs===Ow.Yf?Qw(t,n).then(JSON.parse):(n&&t.zl.zs(n),du(t.Fu.then(Jw),t.zl))}function Jw(t){return t.fs===xf.qf?qe.resolve(t.Hl):Zw(t).then(JSON.parse)}function tg(t,n){return t.fs===Ow.Yf?Fw(t.Xl,n):(n&&t.zl.zs(n),du(t.Fu.then(ng),t.zl))}function ng(t){switch(t.fs){case xf.Gf:return qe.resolve(t.Hl);case xf.$n:case xf.qf:return Zw(t).then(zw)}}function ig(t){return t instanceof ArrayBuffer?t:Zo(Go(t)).buffer}function eg(t){return t.Jl>=200&&t.Jl<=299||304===t.Jl}var rg,sg,ug,og,ag=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.$l,s=i.td,u=i.Jl,o=i.ed,a=i.rd):(r=[],s=xf.$n,u=200,o="OK",a=!1);var h=n.ud,c=new Bf(n.$l||r),f=n.td||s,l=n.od||(i&&i.ud===h?i.od:h.hd),v=i?i.fd:null,d=Gw(void 0!==n.Hi?n.Hi:v,n.zl||new ou,c);return(e=t.call(this,d)||this).$l=void 0,e.ud=void 0,e.od=void 0,e.td=void 0,e.Jl=void 0,e.ed=void 0,e.rd=void 0,e.$l=c,e.ud=h,e.od=l,e.td=f,e.Jl=void 0!==n.Jl?n.Jl:u,e.ed=void 0!==n.ed?String(n.ed):o,e.rd=n.rd||a,e}E(n,t);var i=n.prototype;return i.Hi=function(t){return this.Ml(this.td,t)},i.Lu=function(){return new n({Hi:this.Zl(),ud:this.ud},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).fd=void 0,i.fd=n,i}E(n,t);var i=n.prototype;return i.Yl=function(){return this.fd.Yl()},i.Ll=function(t){return this.fd.Ll(t)},i.xl=function(t){return this.fd.xl(t)},i.Ul=function(t){return this.fd.Ul(t)},i.Xl=function(){return this.fd.Xl()},i.Zl=function(){return this.fd.Zl()},T(n,[{key:"Kl",get:function(){return this.fd.Kl}}]),n}(qw));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(rg||(rg={})),function(t){t.vd="",t.ld="manifest",t.dd="segment",t.wd="content-protection"}(sg||(sg={})),function(t){t.vd="",t._d="initialization-segment",t.md="fairplay-license",t.yd="fairplay-certificate",t.kd="widevine-license",t.bd="widevine-certificate",t.pd="playready-license",t.Ad="clearkey-license",t.Td="aes128-key"}(ug||(ug={})),function(t){t.vd="",t.Sd="audio",t.Ed="video",t.$n="text",t.Id="image"}(og||(og={}));var hg=function(t,n){this.Hl=void 0,this.$l=void 0,this.Rd=void 0,this.td=void 0,this.Dd=void 0,this.Ws=void 0,this.fs=void 0,this.Nd=void 0,this.Cd=void 0,this.hd=void 0,this.Pd=void 0,this.Bd=void 0;var i,e,r,s,u,o,a,h,c,f,l,v=t.hd;n?(i=n.Hl,e=n.$l,r=n.Rd,s=n.td,u=n.Dd,o=n.Ws,a=n.fs,h=n.Nd,c=n.Cd,f=n.Pd,l=n.Bd):(i=null,e={},r=rg.GET,s=xf.$n,u=0,a=sg.vd,h=ug.vd,c=og.vd,f=!1),this.hd=v,this.Hl=t.Hl||i,this.$l=new Bf(t.$l||e),this.Rd=t.Rd||r,this.td=t.td||s,this.Dd=void 0!==t.Dd?Number(t.Dd)||0:u,this.Ws=t.Ws||o||(new ou).Ws,this.fs=t.fs||a,this.Nd=t.Nd||h,this.Cd=t.Cd||c,this.Pd=void 0!==t.Pd?Boolean(t.Pd):f,this.Bd=t.Bd||l},cg=function(){function t(){}var n=t.prototype;return n.ud=function(t){var n=function(t){return new ag({Hi:null,$l:{},ud:t,od:t.hd,td:t.td,Jl:0,ed:Pf.Tf})}(new hg(t));return qe.resolve(n)},n.Od=function(t){},n.xd=function(){},t}();var fg=function(){function t(t,n){void 0===n&&(n=!0),this.Ld=void 0,this.Md=void 0,this.Ld=t,this.Md=n}var n=t.prototype;return n.ud=function(t){var n=this.Ud(t);return this.Ld.ud(n)},n.Od=function(t){return this.Ld.Od(this.Xd(t))},n.Ud=function(n){var i=new hg(n);if(!this.Md){var e=t.Fd(i.hd);i=new hg({hd:e},i)}return i},n.Xd=function(n){var i=n.hd;return this.Md||(i=t.Fd(i)),{hd:i,Hl:n.Hl}},t.Fd=function(t){return i.Fr&&As(t,"http://")?t.replace(":","s:"):t},n.xd=function(){this.Ld.xd()},T(t,null,[{key:"Hd",get:function(){return t.zd||(t.zd=new t(new cg)),t.zd}}]),t}();function lg(t,n){for(var i=0,e=w.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function vg(t,n){var e=i.Or(t);return n&&!Ts(e,"/")&&(e+="/"),e}fg.zd=void 0;var dg,wg=/cache:(.+)?(?=&|$)/,gg="http://webcache.googleusercontent.com/search?q=cache:";function mg(t){if(!As(t,gg))return"";var n=i.Br(t).search.match(wg);return n&&n.length>1?n[1]:""}!function(t){t.Vd="HttpOpenError",t.Wd="HttpResponseError",t.Gd="HttpTimeoutError"}(dg||(dg={}));var yg=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).qd=void 0,r.qd=n,r}return E(n,t),T(n,[{key:"ud",get:function(){return this.qd}}]),n}(nn);var pg=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.hd+". Invalid URL.",i)||this}return E(n,t),T(n,[{key:"name",get:function(){return dg.Vd}}]),n}(yg);var _g=function(t){function n(n,i,e){var r;return(r=t.call(this,n.ud,null!=e?e:function(t){return"Error while loading "+t.ud.hd+", status code "+t.Jl}(n),i)||this).Yd=void 0,r.Yd=n,r}return E(n,t),T(n,[{key:"name",get:function(){return dg.Wd}},{key:"jd",get:function(){return this.Yd}}]),n}(yg);var bg=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.hd+" timed out after "+t.Dd+" seconds."}(n),i)||this}return E(n,t),T(n,[{key:"name",get:function(){return dg.Gd}}]),n}(yg),kg=function(t,n){return(kg=w.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Ag(t,n){function i(){this.constructor=t}kg(t,n),t.prototype=null===n?w.create(n):(i.prototype=n.prototype,new i)}var Tg="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Sg=function(){var t=Tg.Blob;if(t)try{return new t,function(t,n){return new Tg.Blob(t,n)}}catch(t){}var n,i=Tg.BlobBuilder||Tg.WebKitBlobBuilder||Tg.MozBlobBuilder||Tg.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Eg="function"==typeof nw?nw:void 0;function Ig(t){return t&&"function"==typeof t.getReader}function Rg(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Ig(i)}catch(t){return!1}}var Cg=function(){function t(t,n){this.uv=t,this.Qd=n}return t.prototype.pull=function(t){var n=this;return this.uv.read().then(function(i){n.Qd&&n.Qd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.uv.cancel(t)},t}();function Dg(t,n){return n.constructor===t?n:new t(new Cg(n.getReader()),{highWaterMark:0})}var Ng=function(){function t(t,n){this.Zd=t,this.Kd=n}return t.prototype.pull=function(t){return this.Zd().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.Kd&&this.Kd(t)},t}();function Pg(t,n,i){return new t(new Ng(n,i),{highWaterMark:0})}var xg={searchParams:"URLSearchParams"in Tg,iterable:"Symbol"in Tg&&"iterator"in Symbol,blob:"FileReader"in Tg&&!!Sg,formData:"FormData"in Tg,arrayBuffer:"ArrayBuffer"in Tg,stream:Rg(Eg),streamRequest:"Request"in Tg&&"body"in Tg.Request.prototype,streamResponse:"Response"in Tg&&"body"in Tg.Response.prototype,abort:"AbortController"in Tg&&"Request"in Tg&&"signal"in Tg.Request.prototype,encoding:"TextEncoder"in Tg&&"TextDecoder"in Tg,url:"URL"in Tg&&function(t){try{return new Tg.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Tg&&/Firefox\//.test(Tg.navigator.userAgent)};function Bg(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Og(t){return"string"!=typeof t&&(t=String(t)),t}function Lg(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return xg.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Mg=function(){function t(t){var n=this;this.Kr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return xg.iterable&&t&&t[Symbol.iterator]}(t)?t&&w.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Bg(t),n=Og(n);var i=t.toLowerCase();if(this.Kr.hasOwnProperty(i)){var e=this.Kr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Kr[i]=[t,n]},t.prototype.delete=function(t){var n=Bg(t).toLowerCase();delete this.Kr[n]},t.prototype.get=function(t){var n=Bg(t).toLowerCase();return this.Kr.hasOwnProperty(n)?this.Kr[n][1]:null},t.prototype.has=function(t){var n=Bg(t).toLowerCase();return this.Kr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Bg(t)).toLowerCase();this.Kr[i]=[t,Og(n)]},t.prototype.forEach=function(t,n){for(var i in this.Kr)this.Kr.hasOwnProperty(i)&&t.call(n,this.Kr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Lg(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Lg(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Lg(t)},t.prototype.asList=function(){var t=[];for(var n in this.Kr)if(this.Kr.hasOwnProperty(n)){var i=this.Kr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function jg(){}xg.iterable&&(Mg.prototype[Symbol.iterator]=Mg.prototype.entries);var Fg,Ug,Hg,Xg=g.min,zg=String.fromCharCode,Vg=16384;function Wg(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=Vg){var r=Xg(e+Vg,n);i.push(zg.apply(null,t.slice(e,r)))}return i.join("")}(n)}function qg(t){if(t>=55296&&t<=57343)throw new l("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Gg(t,n){return t>>n&63|128}function $g(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(qg(t),n.push(t>>12&15|224),n.push(Gg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Gg(t,12)),n.push(Gg(t,6))),n.push(63&t|128)):n.push(t)}function Yg(){if(Hg>=Ug)throw new l("Invalid byte index");var t=255&Fg[Hg];if(Hg++,128==(192&t))return 63&t;throw new l("Invalid continuation byte")}function Qg(){var t,n;if(Hg>Ug)throw new l("Invalid byte index");if(Hg===Ug)return!1;if(t=255&Fg[Hg],Hg++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Yg())>=128)return n;throw new l("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Yg()<<6|Yg())>=2048)return qg(n),n;throw new l("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Yg()<<12|Yg()<<6|Yg())>=65536&&n<=1114111)return n;throw new l("Invalid UTF-8 detected")}var Zg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Kg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Jg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function tm(t){return t&&DataView.prototype.isPrototypeOf(t)}var nm,im=ArrayBuffer.isView||function(t){return t&&(Zg.indexOf(w.prototype.toString.call(t))>-1||tm(t))};function em(t){if(t.bodyUsed)return qe.reject(new v("Already used"));t.bodyUsed=!0}function rm(t){return new qe(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function sm(t){return xg.encoding?new Tg.TextDecoder("utf-8").decode(new _(t)):Wg(function(t){Ug=(Fg=t).length,Hg=0;for(var n,i=[];!1!==(n=Qg());)i.push(n);return i}(new _(t)))}function um(t){return xg.encoding?(new Tg.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,e=t;i<e.length;i++)$g(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function om(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?qe.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function am(t){return om(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new _(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function hm(t){return t.slice?t.slice(0):cm(new _(t))}function cm(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function fm(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function lm(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Jd===nm.$d){if(!n.nw.tee)throw new l("could not clone ReadableStream body");var i=n.nw.tee(),e=i[0],r=i[1];return n.body=e,n.nw=e,n.iw=e,r}return n.Jd===nm.Gf?hm(n.nw):n.Jd===nm.Ol?n.nw.then(lm):n.iw}!function(t){t[t.$n=0]="$n",t[t.ew=1]="ew",t[t.uw=2]="uw",t[t.Gf=3]="Gf",t[t.$d=4]="$d",t[t.Ol=5]="Ol"}(nm||(nm={}));var vm=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.iw=n||null,n)if("string"==typeof n)this.Jd=nm.$n,this.nw=n;else if((s=n)&&"function"==typeof s.then)this.Jd=nm.Ol,this.nw=qe.resolve(n).then(function(n){return new t(n,i)}),this.nw.catch(jg);else if(xg.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Jd=nm.ew,this.nw=n;else if(xg.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Jd=nm.uw,this.nw=n;else if(xg.searchParams&&Kg(n))this.Jd=nm.$n,this.nw=n.toString();else if(xg.arrayBuffer&&(Jg(n)||im(n)))tm(n)&&(this.iw=new _((r=n).buffer,r.byteOffset,r.byteLength)),this.Jd=nm.Gf,this.nw=Jg(e=n)?hm(e):cm(e);else{if(!xg.stream||!Ig(n))throw new l("unsupported BodyInit type");n=Dg(Eg,n),this.Jd=nm.$d,this.nw=n,this.iw=n}else this.Jd=nm.$n,this.nw="";this.ow="",i.has("content-type")?this.ow=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.ow="text/plain;charset=UTF-8":u.Jd===nm.ew&&u.nw.type?this.ow=u.nw.type:xg.searchParams&&Kg(n)&&(this.ow="application/x-www-form-urlencoded;charset=UTF-8"),this.ow&&i.set("content-type",this.ow)),xg.stream&&(null==n?this.body=null:u.Jd===nm.$d?this.body=u.nw:this.body=Pg(Eg,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=em(this);return e||(this.Jd===nm.ew?(t=this.nw,n=new FileReader,i=rm(n),n.readAsText(t),i):this.Jd===nm.Gf?qe.resolve(this.nw).then(sm):this.Jd===nm.$d?am(this.nw).then(sm):this.Jd===nm.Ol?this.nw.then(function(t){return t.text()}):this.Jd===nm.uw?qe.reject(new l("could not read FormData body as text")):qe.resolve(this.nw))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();xg.blob&&(vm.prototype.blob=function(){var t,n,i=em(this);return i||(this.Jd===nm.ew?qe.resolve(this.nw):this.Jd===nm.Gf?qe.resolve(Sg([this.nw],{type:this.ow})):this.Jd===nm.$d?(t=this.nw,n=this.ow,om(t).then(function(t){return Sg(t,{type:n||""})})):this.Jd===nm.Ol?this.nw.then(function(t){return t.blob()}):this.Jd===nm.uw?qe.reject(new l("could not read FormData body as Blob")):qe.resolve(Sg([this.nw],{type:this.ow})))}),xg.arrayBuffer&&(vm.prototype.arrayBuffer=function(){var t,n,i;return this.Jd===nm.Gf?em(this)||qe.resolve(this.nw):this.Jd===nm.ew?em(this)||(t=this.nw,n=new FileReader,i=rm(n),n.readAsArrayBuffer(t),i):this.Jd===nm.$d?am(this.nw):this.Jd===nm.Ol?em(this)||this.nw.then(function(t){return t.arrayBuffer()}):this.Jd===nm.uw?qe.reject(new l("could not read FormData body as ArrayBuffer")):qe.resolve(this.nw).then(um)}),xg.formData&&(vm.prototype.formData=function(){return this.Jd===nm.uw?em(this)||qe.resolve(this.nw):this.text().then(fm)});var dm=[301,302,303,307,308],wm=function(t){function n(n,i){var e=this,r=new Mg((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Ag(n,t),n.prototype.clone=function(){return new n(lm(this),{status:this.status,statusText:this.statusText,headers:new Mg(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===dm.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(vm);var gm,mm=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),w.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=w.setPrototypeOf?w.getPrototypeOf:function(t){return t.__proto__||w.getPrototypeOf(t)})(t)}function o(t,n){return(o=w.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!w.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=w.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}w.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),w.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?h(e):r).listeners||f.call(h(t)),w.defineProperty(h(t),"aborted",{value:!1,writable:!0,configurable:!0}),w.defineProperty(h(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=w.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),d=function(){function t(){i(this,t),w.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=d,n.default=d});(gm=mm)&&gm.__esModule&&w.prototype.hasOwnProperty.call(gm,"default")&&gm.default,mm.AbortSignal;var ym=mm.AbortController,pm=Tg.DOMException;try{new pm}catch(t){(pm=function(t,n){l.call(this,t),this.name=n||"Error",l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}).prototype=w.create(l.prototype),pm.prototype.constructor=pm}var _m=ym;function bm(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function km(t,n,i){return new qe(function(e,r){if(n.signal.aborted)return t.catch(jg),r(Am());var s=function(){n.signal.removeEventListener("abort",s),r(Am())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Am(){return new pm("Aborted","AbortError")}var Tm,Sm="moz-chunked-arraybuffer";function Em(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Tm||(Tm={}));var Im=function(){function t(t,n){var i=this;this.aw=!1,this.qd=t,this.hw=n,this.cw=new k,this.fw=new qe(function(t,n){i.vw=t,i.lw=n})}return t.prototype.send=function(){var t=this;return this.dw().then(function(n){return t.ww(n,t.hw),t.fw})},t.prototype.dw=function(){var t=this.qd;return t.Jd===nm.$d?t.arrayBuffer():qe.resolve(t.iw)},t.prototype._w=function(t){this.qd.onprogress&&this.qd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.gw=function(t){this.lw(t)},t.prototype.mw=function(){this.gw(new v("Network request failed"))},t.prototype.yw=function(){this.gw(new v("Network request failed"))},t.prototype.bw=function(){this.gw(Am())},t.prototype.ww=function(t,n){var i=this,e=this.qd,r=this.cw,s=function(){return i.pw()};if(e.signal.aborted)return this.bw();r.onreadystatechange=function(){if(r.readyState>=Tm.HEADERS_RECEIVED&&!i.aw){var t=function(t){var n=new Mg;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.aw=!0,i.Aw(n)}},r.onprogress=function(t){return i._w(t)},r.onload=function(){return i.Tw()},r.onerror=function(){return i.mw()},r.ontimeout=function(){return i.yw()},r.onabort=function(){return i.bw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.pw=function(){this.bw(),this.cw.abort()},t}(),Rm=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Sw=void 0,e.Ew=void 0,e}return Ag(n,t),n.prototype.Aw=function(t){var n=this;this.Sw=new qe(function(t,i){n.Ew=t,n.Iw=i}),this.vw(new wm(this.Sw,t))},n.prototype.Tw=function(){var t=this.cw.response;if(null==t){var n=this.hw;""===n||"text"===n?t=this.cw.responseText:"document"===n?t=this.cw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Sg([]))}this.Ew(t)},n.prototype.gw=function(n){t.prototype.gw.call(this,n),this.Iw&&this.Iw(n)},n}(Im),Cm=function(t){function n(n){var i=t.call(this,n,Sm)||this;return i.Rw=void 0,i.Dw=void 0,i.Nw=!1,i}return Ag(n,t),n.prototype.Aw=function(t){var n=this;this.Rw=new Eg({start:function(t){n.Dw=t},cancel:function(){n.Nw=!0,n.pw()}}),this.vw(new wm(this.Rw,t))},n.prototype._w=function(n){this.Nw||this.Dw.enqueue(new _(this.cw.response)),t.prototype._w.call(this,n)},n.prototype.Tw=function(){this.Dw.close()},n.prototype.gw=function(n){t.prototype.gw.call(this,n),this.Dw&&!this.Nw&&(this.Nw=!0,this.Dw.error(n))},n}(Im),Dm=function(){var t=xg.firefox&&Em(Sm);return Dm=function(){return t},t},Nm=function(){var t;return t=xg.arrayBuffer&&Em("arraybuffer")?"arraybuffer":xg.blob&&Em("blob")?"blob":"",Nm=function(){return t},t};function Pm(t){return(xg.stream&&Dm()?new Cm(t):new Rm(t,Nm())).send()}var xm=Tg.fetch,Bm=Tg.Request;Tg.Response;var Om=Tg.AbortController;var Lm=["http:","https:"];var Mm=function(){try{if(xg.streamRequest){var t=new Bm("about:blank",{body:"",method:"POST"}).body;if(t&&Rg(t.constructor))return t.constructor}}catch(t){}}();function jm(t,n,i){var e;if(xg.stream){var r=void 0;if(xg.streamResponse){var s=t.body;r=s&&Dg(Eg,s)}else r=Pg(Eg,function(){return km(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Cg(n.getReader(),i),{highWaterMark:0})}(Eg,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Fm(t.headers))),e=r}else{var u=km(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return qe.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Fm(t.headers))),e=u}return new wm(e,t)}function Fm(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Um(t){var n=new _m;return t.signal&&bm(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Jd===nm.$d?xg.streamRequest&&Mm?qe.resolve(Dg(Mm,r.nw)):km(t.arrayBuffer(),n,!1):km(qe.resolve(t.iw),n,!1),xg.abort){var s=new Om;bm(s,n.signal),e=s.signal}return i.then(function(n){return new Bm(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Mg?i:new Mg(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return xm(i).then(function(i){return jm(i,n,t.onprogress)})})}var Hm=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Xm=function(t){function n(i,e){var r,s,u,o,a,h,c,f,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new Mg(i.headers)),o=i.method,a=i.mode,h=i.referrer,c=i.referrerPolicy,f=i.signal,l=i.onprogress,w||null==i.iw||(w=i.iw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",h="about:client",c="",f=null,l=null;if(!e.headers&&u||(u=new Mg(e.headers)),e&&(h="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Hm.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new _m).signal,d.referrer=void 0!==e.referrer?e.referrer:h,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return d}return Ag(n,t),n.prototype.clone=function(){return new n(this,{body:lm(this)})},n}(vm),zm="function"==typeof xm&&xg.stream&&xg.streamResponse&&xg.url;function Vm(t,n){return new qe(function(i){var e=new Xm(t,n);i((zm&&function(t){try{return Lm.indexOf(new Tg.URL(t,Tg.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Um:Pm)(e))})}Vm.polyfill=!0;var Wm=function(){function t(t){this.jd=void 0,this.qd=void 0,this.$v=new ou,this.Yd=void 0,this.Cw=!1,this.qd=t,this.$v.zs(t.Ws),this.jd=this.Pw()}var n=t.prototype;return n.Pw=function(){var t,n,e,r,s,u,o,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.qd).Dd&&a(function(){c.Cw=!0,c.$v.Hs()},t.Dd),f.prev=2,n=Vm(t.hd,{method:t.Rd,headers:t.$l.jf(),body:t.Hl,credentials:t.Pd?"include":"same-origin",signal:$m(this.$v.Ws),onprogress:t.Bd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new pg(t,f.t0);case 9:return f.prev=9,f.next=12,Fr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),hu(r=this.Bw(f.t1))&&this.$v.Hs(),r;case 20:if(s=e.url||t.hd,u=0===e.status&&"file:"===(l=s,i.Br(l).protocol)?200:e.status,o=new qm(this,e,this.$v),h=new ag({Hi:o,ud:t,td:t.td,$l:new Bf(e.headers.asList()),Jl:u,ed:e.statusText,od:s}),this.Yd=h,!eg(h)){f.next=29;break}return f.abrupt("return",h);case 29:throw new _g(h);case 30:case"end":return f.stop()}var l},null,this,[[2,6],[9,15]],qe)},n.Bw=function(t){return hu(t)?this.Cw?new bg(this.qd):new au(t.message,t):this.Yd?new _g(this.Yd,t):new pg(this.qd,t)},t}(),qm=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ow=void 0,r.xw=void 0,r.$v=void 0,r.Gl=new na,r.Ow=n,r.xw=i,r.$v=e,r.Gl.Fu.catch(K),r}E(n,t);var i=n.prototype;return i.Yl=function(){return this.Gl.Fu},i.Ll=function(t){return this.jl(this.xw.text(),t)},i.Ul=function(t){return this.jl(this.xw.arrayBuffer(),t)},i.Xl=function(){var t=this.xw.body;return t?this.Ql(t):Uw(this.Ul().then(jw),this.$v)},i.Zl=function(){var t=this.xw.clone(),i=this.$v.Vs(),e=i[0],r=i[1];return this.$v=e,new n(this.Ow,t,r)},i.jl=function(t,n){var i=this;n&&this.$v.zs(n);var e=qe.resolve(t).catch(function(t){throw i.Ow.Bw(t)});return e=du(e,this.$v),this.Gl.Wu(e.then(K)),e},i.Ql=function(t){var n=this,i=new Aw,e=qe.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Ow.Bw(t);throw i.writable.abort(e).catch(K),e});return e=du(e,this.$v),this.Gl.Wu(e.then(K)),i.readable},T(n,[{key:"Kl",get:function(){return this.xw.bodyUsed}}]),n}(qw),Gm="abort";function $m(t){var n=new _m;if(t.Ns)n.abort();else if(!t.Cs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Gm,i),t.Ms(i),t.Xs(e)};n.signal.addEventListener(Gm,i),t.Ls(i),t.Us(e)}return n.signal}function Ym(t,n,i){return new qe(function(e,r){if(i&&i.Ns)return r(new au);var s=function(t){o(),e(t)},u=function(){o(),r(new au)},o=function(){t.removeEventListener(n,s),i&&i.Ms(u)};t.addEventListener(n,s),i&&i.Ls(u)})}var Qm,Zm,Km=function(){function t(){}var n=t.prototype;return n.ud=function(t){return new Wm(t).jd},n.Od=function(t){if(me&&me.sendBeacon)me.sendBeacon(t.hd,Df([t.Hl],{type:t.Fl}));else{var n=t.Fl?{"Content-type":t.Fl}:void 0;yu(this.ud(new hg({Rd:rg.POST,hd:t.hd,Hl:t.Hl,$l:n})))}},n.xd=function(){},t}();Qm=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Lw=void 0,i.Mw=function(){if(j.fn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Uw=j.Xn||j.fn,i.Xw=void 0,i}return E(i,n),T(i,[{key:"Er",get:function(){return this.Lw||(this.Lw=new Ls(Ef())),this.Lw}},{key:"Fw",get:function(){return this.Mw}},{key:"Hw",get:function(){return this.Uw}},{key:"zw",get:function(){return!1}},{key:"Vw",get:function(){return Rf.rf()}},{key:"Ww",get:function(){return{Gw:Nf}}},{key:"qw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Yw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"jw",get:function(){return this.Xw||(this.Xw=new fg(new Km)),this.Xw}}]),i}(Br)),i=Qm,function(t){t.Qw="Zw",t.Kw="Jw"}(Zm||(Zm={})),Zm.Qw,Zm.Kw;var Jm=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(Eu);function ty(t){return Boolean(t&&t.t_)}var ny,iy=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Jm),ey=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n}(Eu),ry=function(t){function n(n){var i;return(i=t.call(this,Zm.Qw)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new sy(this.i_.t_)},n}(iy),sy=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return E(n,t),n}(ey),uy=function(t){function n(n){var i;return(i=t.call(this,Zm.Kw)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new oy(this.i_.t_)},n}(iy),oy=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return E(n,t),n}(ey);!function(t){t.e_="r_",t.s_="u_",t.o_="a_",t.h_="c_",t.f_="v_",t.l_="d_",t.w_="__",t.g_="m_",t.y_="Zh",t.k_="b_",t.p_="A_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(ny||(ny={}));var ay=function(t){function n(){var n;return(n=t.call(this)||this).T_=[],n.$w=void 0,n}E(n,t);var i=n.prototype;return i.S_=function(t){return this.T_[t]},i.E_=function(t){return!(!t||Qs(this.T_,t))&&(this.T_.push(t),this.$w&&this.$w.push(t.t_),t.Zs(ny.l_,this.js),this.Qs(new ry(t)),!0)},i.I_=function(t){if(!t)return!1;var n=this.T_.indexOf(t);return!(n<0)&&(Ys(this.T_,n),this.$w&&Ys(this.$w,n),t.tu(ny.l_,this.js),this.Qs(new uy(t)),!0)},i.R_=function(t){return Qs(this.T_,t)},i.D_=function(){for(var t=this.T_,n=t.length-1;n>=0;n-=1)this.I_(t[n])},i.xd=function(){this.D_(),this.$s()},T(n,[{key:"N_",get:function(){return this.T_}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"C_",get:function(){return this.T_.length}}]),n}(Tu),hy=function(t){function n(n){var i;return(i=t.call(this,ny.l_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new cy(this.i_.t_)},n}(iy),cy=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return E(n,t),n}(ey),fy=function(t){function n(){var n;return(n=t.call(this)||this).P_=void 0,n.B_=function(t){var i=t.i_;n.E_(i)},n.O_=function(t){var i=t.i_;n.I_(i)},n}E(n,t);var i=n.prototype;return i.x_=function(t){t.Zs(Zm.Qw,this.B_),t.Zs(Zm.Kw,this.O_)},i.L_=function(t){t.tu(Zm.Qw,this.B_),t.tu(Zm.Kw,this.O_)},i.xd=function(){this.P_&&this.P_.xd(),t.prototype.xd.call(this)},T(n,[{key:"M_",get:function(){return this.P_},set:function(t){var n=this.P_;if(t!==n){if(n){this.L_(n);for(var i=0,e=n.N_;i<e.length;i++){var r=e[i];t&&t.R_(r)||this.I_(r)}}if(this.P_=t,t){for(var s=[],u=0,o=t.N_;u<o.length;u++){var a=o[u];this.E_(a),this.U_(a)&&s.push(a)}this.x_(t);for(var h=0;h<s.length;h++){var c=s[h];c.Qs(new hy(c))}}}}}]),n}(ay),ly=w.freeze||J;function vy(t,n,i){w.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function dy(t){return ly(t)}function wy(t,n){for(var i=0,e=w.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];w.defineProperty(t,r,w.getOwnPropertyDescriptor(n,r))}return t}function gy(t){if(q(t)){var n={};for(var i in t)F.call(t,i)&&(n[i]=gy(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=gy(t[r]));return e}return t}function my(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!my(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=w.keys(t),e=w.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!F.call(n,s)||!my(t[s],n[s]))return!1}return!0}(t,n)))}function yy(t,n){return t.constructor===n.constructor}function py(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function _y(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function by(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function ky(t){var n=by(t);if(p(n))throw new l("Expected a valid number.");return n}function Ay(t){return"string"==typeof t?t:""}function Ty(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Sy(t,n){return V(t)?Ty(t,n):n(t)}var Ey=[Zm.Qw,Zm.Kw,ny.l_];function Iy(t){var n,i=t.N_.map(function(t){return t.t_});return i.item=function(n){var i=0|n,e=t.S_(i);return e&&e.t_||void 0},i.addEventListener=function(t,i){n.Zs(t,i)},i.removeEventListener=function(t,i){n.tu(t,i)},n=new Su(i),t.Zs(Ey,function(t){return n.Qs(t.t_)}),i}function Ry(){}function Cy(t){var n,i=[ny.y_,ny.l_,ny.k_,ny.p_,ny.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.X_&&t.X_.t_},get enabled(){return t.F_},set enabled(n){t.F_=_y(n)},get id(){return t.H_},get uid(){return t.z_},get kind(){return t.V_},get label(){return t.W_},set label(n){t.W_=Ay(n)},get language(){return t.G_},get qualities(){return t.q_.t_},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.q_.N_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.t_===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.Y_=i:t.Y_=void 0},get targetQuality(){if(t.Y_)return 1===t.Y_.length?t.Y_[0].t_:t.Y_.map(function(t){return t.t_})},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Su(e),t.Zs(i,function(t){return n.Qs(t.t_)}),w.defineProperty(e,"constructor",{value:Ry}),e}function Dy(){}function Ny(t){var n=Iy(t);return w.defineProperty(n,"constructor",{value:Dy}),n}var Py,xy,By=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.n_=function(){return Ny(this)},i.U_=function(t){return t.F_},n}(fy);function Oy(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Py.j_:case Py.Q_:case Py.Z_:return n}}else if("number"==typeof t)switch(t){case 0:return Py.j_;case 1:return Py.Q_;case 2:return Py.Z_}return Py.j_}function Ly(){}function My(t){var n,i=[ny.l_,ny.y_,ny.e_,ny.s_,ny.o_,ny.h_,ny.f_,ny.w_,ny.g_],e=[xy.K_],r={get kind(){return t.V_},get label(){return t.W_},set label(n){t.W_=Ay(n)},get language(){return t.G_},get id(){return t.H_},get uid(){return t.z_},get inBandMetadataTrackDispatchType(){return t.J_},get mode(){return t.eg},set mode(n){n!==Py.Z_&&n!==Py.Q_&&n!==Py.j_||t.rg(n)},get forced(){return Boolean(t.og)},get type(){return t.fs},get readyState(){return Uy(t.ag)},get cues(){return t.eg===Py.j_?null:t.hg.t_},get activeCues(){return t.eg===Py.j_?null:t.cg.t_},get src(){return t.fg||""},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Su(t),t.Zs(i,function(t){return n.Qs(t.t_)}),t.Zs(e,function(t){return n.Qs(t)}),w.defineProperty(r,"constructor",{value:Ly}),r}function jy(){}function Fy(t){var n=Iy(t);return w.defineProperty(n,"constructor",{value:jy}),n}function Uy(t){return t}!function(t){t.j_="disabled",t.Q_="hidden",t.Z_="showing"}(Py||(Py={})),function(t){t.K_="error"}(xy||(xy={}));var Hy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.n_=function(){return Fy(this)},i.U_=function(t){return t.eg===Py.Z_},n}(fy),Xy=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},n}(Tu),zy=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(Xy),Vy=function(t){function n(){return t.call(this,Pf.yf)||this}return E(n,t),n}(Eu),Wy=function(t){function n(n){var i;return(i=t.call(this,Pf.df)||this).currentSource=n,i}return E(n,t),n}(Eu),qy=function(){function t(){}return t.vg=function(n,i){var e=t.dg(n,i);return e?t.wg(e):0},t._g=function(){return i.qw||"default"},t.gg=function(){return i.Yw||"unknown"},t.dg=function(n,e){var r,s=null==(r=i.Vw)?void 0:r.Iu(e),u=s&&JSON.parse(s);if(u&&u[n])return t.yg(u,n,e)},t.wg=function(t){var n=t.availableBandwidth;return n||0},t.yg=function(n,i,e){if(!t.pg(n,i))return n[i];t.Ag(n,i,e)},t.Ag=function(t,n,e){var r;delete t[n],null==(r=i.Vw)||r.ef(e,JSON.stringify(t))},t.pg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Tg=function(t,n,i,e){var r;return Ur({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Sg=function(n){var i=t._g();t.Eg(i,"theoplayer-stored-network-info",n,Wt())},t.Eg=function(n,e,r,s){var u,o,a=null==(u=i.Vw)?void 0:u.Iu(e),h=a?JSON.parse(a):void 0,c=t.Tg(h,n,r,s);null==(o=i.Vw)||o.ef(e,JSON.stringify(c))},t.Ig=function(){var n=t._g();return t.vg(n,"theoplayer-stored-network-info")},t}();var Gy,$y,Yy,Qy,Zy,Ky,Jy="1ADD53F3";function tp(t){return{chromecast:function(t){return{appID:t&&t.appID?Ay(t.appID):Jy}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Gy.AUTO;case"manual":return Gy.MANUAL;case"disabled":return Gy.DISABLED;default:return Gy.MANUAL}}(t?t.strategy:void 0)}}function np(t){var n,i=Yy.Rg;return(n=t)&&ks(n,"mpd")&&(i=Yy.Dg),function(t){return!!t&&ks(t,"m3u8")}(t)&&(i=Yy.Ng),i}function ip(t){return!!t&&As(t.toLowerCase(),Yy.Dg)}function ep(t){if(!t)return!1;var n=t.toLowerCase();return As(n,Yy.Ng)||As(n,Yy.Cg)}function rp(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function sp(t){return W(t)&&G(t.integration)&&"verizon-media"===t.integration}function up(t){if(G(t))return!t;if(sp(t))return!t.id;if(rp(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function op(t){return Boolean(W(t)&&G(t.src))}function ap(t){return G(t)||op(t)||rp(t)||sp(t)}function hp(t){if(t){if(ap(t))return up(t);for(var n=0;n<t.length;n++){if(!up(t[n]))return!1}return!0}return!0}function cp(){return{crossOrigin:$y.Pg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function fp(){return Ur({},cp(),{src:void 0,type:Yy.Rg,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function lp(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Qy.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Zy.NONE;case"midroll-and-postroll":default:return Zy.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=_y(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Qy.INSECURE;case"disabled":return Qy.DISABLED;case"enabled":default:return Qy.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:_y(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function vp(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];q(r)&&n.push(r)}return n}function dp(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Gy||(Gy={})),function(t){t.Pg="",t.Bg="anonymous",t.Og="use-credentials"}($y||($y={})),function(t){t.Dg="application/dash+xml",t.Ng="application/vnd.apple.mpegurl",t.Cg="application/x-mpegurl",t.Rg="video/mp4",t.xg="application/vnd.theoplayer.hesp+json",t.Lg="application/vnd.theo.hesp+json"}(Yy||(Yy={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Qy||(Qy={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Zy||(Zy={})),function(t){t[t.Mg=0]="Mg",t[t.Ug=1]="Ug",t[t.Xg=2]="Xg",t[t.Fg=3]="Fg",t[t.Hg=4]="Hg"}(Ky||(Ky={}));var wp,gp=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Mg),(e=t.call(this,Pf.gf)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),mp=function(t){function n(n){var i;return(i=t.call(this,Pf.Ef)||this).currentTime=n,i}return E(n,t),n}(Eu),yp=function(t){function n(n){var i;return(i=t.call(this,Pf.If)||this).currentTime=n,i}return E(n,t),n}(Eu);!function(t){t.zg="canplay",t.Vg="canplaythrough",t.Wg="loadeddata",t.Gg="loadedmetadata",t.w_="readystatechange",t.qg="waiting",t.Yg="playing"}(wp||(wp={}));var pp,_p,bp=[wp.zg,wp.Vg,wp.Wg,wp.Gg,wp.w_,wp.qg,wp.Yg],kp=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Ug),(e=t.call(this,wp.Gg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Ap=function(t){function n(n){var i;return(i=t.call(this,Pf._f)||this).duration=n,i}return E(n,t),n}(Eu),Tp=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Df)||this).currentTime=n,e.playbackRate=i,e}return E(n,t),n}(Eu),Sp=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Ff)||this).currentTime=n,e.currentProgramDateTime=i,e}return E(n,t),n}(Eu),Ep=function(t){function n(n){var i;return(i=t.call(this,Pf.mf)||this).currentTime=n,i}return E(n,t),n}(Eu),Ip=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Xg),(e=t.call(this,wp.Wg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Rp=function(t){function n(n){var i;return(i=t.call(this,Pf.Bf)||this).currentTime=n,i}return E(n,t),n}(Eu),Cp=function(t){function n(n){var i;return(i=t.call(this,Pf.Pf)||this).currentTime=n,i}return E(n,t),n}(Eu),Dp=function(t){function n(n,i){var e;return(e=t.call(this,Pf.Hf)||this).currentTime=n,e.volume=i,e}return E(n,t),n}(Eu),Np=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Fg),(e=t.call(this,wp.zg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Pp=function(t){function n(n,i){var e;return void 0===i&&(i=Ky.Hg),(e=t.call(this,wp.Vg)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),xp=function(t){function n(n,i){var e;return(e=t.call(this,wp.w_)||this).currentTime=n,e.readyState=i,e}return E(n,t),n}(Eu),Bp=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).errorObject=n,i}return E(n,t),n.prototype.n_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Jm);function Op(t){switch(t){case pp.ALL:case pp.CONTENT:return t;default:return pp.NONE}}function Lp(t){var n,e,r,s=gy(t||{});return s.libraryLocation&&(s.libraryLocation=vg(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=tp(s.cast),s.ads=lp(s.ads),s.analytics=vp(s.analytics),s.mutedAutoplay=Op(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=G(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return vg(t)}catch(t){return void i.gr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Mp(t){return{jg:t.jg,Qg:t.Qg,Zg:t.Zg,mu:t.mu,Kg:t.Kg,Jg:t.Jg,$g:t.$g,tm:t.tm,ag:t.ag,nm:t.nm,im:t.im,um:t.um,hm:t.hm}}function jp(t,n,i){if(n!==i){var e=n.jg,r=n.Qg,s=n.Jg,u=n.$g,o=n.tm,a=n.ag,h=n.nm;n.um,n.im;var c=n.hm,f=i.jg,l=i.Qg,v=i.Zg,d=i.Kg,w=i.Jg,g=i.$g,m=i.tm,y=i.ag,_=i.nm;i.um,i.im;var b=i.hm;a!==Ky.Mg&&t.Qs(new gp(f,y)),g&&!u?t.Qs(new mp(f)):!g&&u&&t.Qs(new yp(f)),y>=Ky.Ug&&t.Qs(new kp(f,y)),l===r||p(l)&&p(r)||t.Qs(new Ap(l)),m!==o&&t.Qs(new Tp(f,m)),f!==e&&t.Qs(new Sp(f,void 0)),v&&t.Qs(new Ep(f)),y>=Ky.Xg&&t.Qs(new Ip(f,y)),_&&!h?t.Qs(new Rp(f)):!_&&h&&t.Qs(new Cp(f)),b===c&&w===s||t.Qs(new Dp(f,b)),y>=Ky.Fg&&t.Qs(new Np(f,y)),y>=Ky.Hg&&t.Qs(new Pp(f,y)),y!==a&&t.Qs(new xp(f,y)),d&&t.Qs(new Bp(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(pp||(pp={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(_p||(_p={}));var Fp=400,Up=.25,Hp={cm:.2,fm:.45,vm:.7,lm:3,dm:$p,wm:Yp},Xp={cm:.4,fm:.65,vm:1,lm:3,dm:$p,wm:Yp},zp={cm:.4,fm:.7,vm:.9,lm:3,dm:$p,wm:Yp},Vp={cm:.4,fm:.65,vm:1,lm:3,dm:$p,wm:Yp},Wp={cm:.5,fm:1.125,vm:1.75,lm:2.55,dm:$p,wm:Yp};function qp(){var t;return t=i.Lr.Ge?Vp:i.Lr.je?Xp:i.Lr.Ye?"Android"===i.Mr.Ur?zp:Hp:Wp,i.Mr.Xr?function(t){if(i.Mr.Xr){var n=(Fp+250)/1e3,e=g.max(n,t.cm),r=g.max(e+Up,t.fm),s=g.max(r+Up,t.vm);return{cm:e,fm:r,vm:s,lm:g.max(s+Up,t.lm),dm:$p,wm:Yp}}return t}(t):t}var Gp,$p=.92,Yp=1.08;function Qp(t){return{goLive:function(){return t._m()},get isLive(){return t.gm},get currentServerLiveTime(){return t.mm},get currentLatency(){return t.ym},get latency(){return t.pm},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=H(n.target)&&"number"==typeof n.target&&H(n.windowEnd)&&"number"==typeof n.windowEnd&&H(n.windowStart)&&"number"==typeof n.windowStart&&H(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new l("Invalid latency configuration");t.pm=n},get manifest(){return t.Am},get metrics(){return t.Tm},addEventListener:function(n,i){t.Zs(Kp(n),i)},removeEventListener:function(n,i){t.tu(Kp(n),i)}}}!function(t){t[t.j_=0]="j_",t[t.Sm=1]="Sm",t[t.Em=2]="Em"}(Gp||(Gp={}));var Zp=["analytic","golive","nogolive","bufferedchange"];function Kp(t){var n=Sy(t,Ay);return(G(n)?[n]:n).filter(function(t){return Qs(Zp,t)})}var Jp,t_=function(t){function n(){var n,i;return(n=t.call(this)||this).P_=void 0,n.$w=void 0,n.Im={windowStart:(i=qp()).cm,windowEnd:i.vm,target:i.fm,maxOffset:i.lm},n.P_=void 0,n}E(n,t);var i=n.prototype;return i.x_=function(t){t.Zs(Zp,this.js)},i.L_=function(t){t.tu(Zp,this.js)},i._m=function(){var t;null==(t=this.P_)||t._m()},i.xd=function(){this.$s(),this.P_&&this.L_(this.P_),this.P_=void 0},T(n,[{key:"M_",get:function(){return this.P_},set:function(t){var n=this.P_;t!==n&&(n&&this.L_(n),t&&this.x_(t),this.P_=t,this.P_&&(this.P_.pm=this.Im))}},{key:"t_",get:function(){return this.$w||(this.$w=Qp(this)),this.$w}},{key:"mm",get:function(){var t;return null==(t=this.P_)?void 0:t.mm}},{key:"ym",get:function(){var t;return null==(t=this.P_)?void 0:t.ym}},{key:"gm",get:function(){return!!this.P_&&this.P_.gm}},{key:"pm",get:function(){return this.P_?this.P_.pm:this.Im},set:function(t){this.P_&&(this.P_.pm=t),this.Im=t}},{key:"Am",get:function(){var t;return null==(t=this.P_)?void 0:t.Am}},{key:"Tm",get:function(){var t;return null==(t=this.P_)?void 0:t.Tm}}]),n}(Tu),n_=function(t){function n(n){var i;return(i=t.call(this)||this).P_=void 0,i.Rm=[],i.Dm=!1,i.Nm=new By,i.Cm=new By,i.Pm=new Hy,i.Bm=new t_,i.Om=!1,i.xm(n),n.Js(i.js),i.P_=n,i.Nm.M_=n.Lm,i.Cm.M_=n.Mm,i.Pm.M_=n.Um,i.Bm.M_=n.Xm,i}E(n,t);var i=n.prototype;return i.Fm=function(){this.P_.Fm()},i.Hm=function(){this.P_.Hm()},i.zm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pu(this.Rm.map(function(t){return t.zm()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},i.Vm=function(){return this.P_.Vm()},i.Wm=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),i.next=3,Fr.awrap(this.P_.Wm(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.Gm=function(){return this.M_.Gm()},i.qm=function(){this.M_.qm()},i.Ym=function(){this.M_.Ym()},i.jm=function(){if(!this.Dm){for(var t=0,n=this.Rm;t<n.length;t++){n[t].jm()}this.Dm=!0}},i.Qm=function(t){this.P_.Qm(t)},i.Zm=function(){this.P_.Zm()},i.Km=function(){this.P_.Km()},i.Jm=function(){this.P_.Jm()},i.$m=function(){return this.P_.$m()},i.iy=function(){return this.P_.iy()},i.ey=function(){for(var t=[],n=0,i=this.Rm;n<i.length;n++){var e=i[n];t.push.apply(t,e.ey())}return t},i.sy=function(t){for(var n=!1,i=0,e=this.Rm;i<e.length;i++){n=e[i].sy(t)||n}return n},i.Qs=function(n){this.sy(n)||t.prototype.Qs.call(this,n)},i.xm=function(t){this.Rm.push(t)},i.uy=function(t){$s(this.Rm,t)},i.oy=function(t){if(t!==this.P_){var n=this.P_;n.Zm(),n.ou(this.js);var i=Mp(this),e=this.vy,r=this.iy();this.P_=t,this.Nm.M_=t.Lm,this.Cm.M_=t.Mm,this.Pm.M_=t.Um,this.Bm.M_=t.Xm,jp(this,i,this);var s=this.vy;s!==e&&this.Qs(new Wy(s)),this.iy()!==r&&this.Qs(new Vy),t.Js(this.js),t.Qm(n)}},i.ly=function(){},i.xd=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.$s(),this.P_.Zm(),t=0,n=this.Rm;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Fr.awrap(i.xd());case 7:t++,e.next=3;break;case 10:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.Bm.xd();case 14:case"end":return e.stop()}},null,this,null,qe)},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",pu(this.Rm.map(function(t){return t.D_()})).then(K));case 1:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"Lm",get:function(){return this.Nm}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"wy",get:function(){return this.P_.wy}},{key:"_y",get:function(){return this.P_._y},set:function(t){this.P_._y=t}},{key:"vy",get:function(){return this.P_.vy}},{key:"jg",get:function(){return this.P_.jg},set:function(t){this.P_.jg=t}},{key:"Qg",get:function(){return this.P_.Qg}},{key:"gy",get:function(){return this.P_.gy}},{key:"Zg",get:function(){return this.P_.Zg}},{key:"mu",get:function(){return this.P_.mu}},{key:"Kg",get:function(){return this.P_.Kg}},{key:"Xm",get:function(){return this.Bm}},{key:"yy",get:function(){return this.P_.yy}},{key:"Tm",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.by,i+=a.py,e+=a.Ay,r+=a.Ty,s+=a.Sy,u.amountOfBufferedAudioSegments+=a.Ey.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Ey.amountOfBufferedVideoSegments}return{by:n,py:i,Ay:e,Ty:r,Sy:s,Ey:u}}(this.Rm.map(function(t){return t.Tm}))}},{key:"Jg",get:function(){return this.P_.Jg},set:function(t){this.P_.Jg=t}},{key:"Iy",get:function(){return this.P_.Iy}},{key:"$g",get:function(){return this.P_.$g}},{key:"tm",get:function(){return this.P_.tm},set:function(t){this.P_.tm=t}},{key:"Ry",get:function(){return this.P_.Ry}},{key:"Dy",get:function(){return this.P_.Dy},set:function(t){this.P_.Dy=t}},{key:"ag",get:function(){return this.P_.ag}},{key:"Ny",get:function(){return this.P_.Ny}},{key:"nm",get:function(){return this.P_.nm}},{key:"im",get:function(){return this.P_.im}},{key:"um",get:function(){return this.P_.um}},{key:"hm",get:function(){return this.P_.hm},set:function(t){this.P_.hm=t}},{key:"Cy",get:function(){return this.P_.Cy}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"M_",get:function(){return this.P_},set:function(t){this.oy(t)}}]),n}(zy),i_=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e)||this).url=void 0,h.status=void 0,h.statusText=void 0,h.response=void 0,h.systemCode=void 0,h.url=r,h.status=s,h.statusText=u,h.response=o,h.systemCode=a,h}return E(n,t),T(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(lf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Jp||(Jp={}));var e_=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,l.captureStackTrace&&l.captureStackTrace(Jt(s),s.constructor),s}return E(n,t),T(n,[{key:"name",get:function(){return"MediaError"}}]),n}(tn);function r_(t){vy(t,"MEDIA_ERR_ABORTED",Jp.ABORTED),vy(t,"MEDIA_ERR_NETWORK",Jp.NETWORK),vy(t,"MEDIA_ERR_DECODE",Jp.DECODE),vy(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Jp.SRC_NOT_SUPPORTED),vy(t,"MEDIA_ERR_ENCRYPTED",Jp.ENCRYPTED)}function s_(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new e_(Jp.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new e_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Jp.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Jp.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Jp.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Jp.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Jp.NETWORK;if(i===n.ErrorCategory.SOURCE)return Jp.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Jp.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Jp.ENCRYPTED;if(i===n.ErrorCategory.AD)return Jp.ADVERTISEMENT_ERROR;return Jp.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}r_(e_),r_(e_.prototype);var u_,o_=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.E_=function(n){return t.prototype.E_.call(this,n)},i.n_=function(){return Ny(this)},n}(ay);!function(t){t.Sd="audio",t.Ed="video",t.$n="text",t.Id="image",t.vd="unknown"}(u_||(u_={}));var a_=function(){function t(){this.By=[],this.$w=void 0}var n=t.prototype;return n.Oy=function(t){this.By.push(t),this.$w&&this.$w.push(t.t_)},n.Qh=function(t){$s(this.By,t),this.$w&&$s(this.$w,t.t_)},n.S_=function(t){return this.By[t]},n.xy=function(t){return z(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Qs(t,n[i]))return!1;return!0}(this.By,t):Qs(this.By,t)},n.D_=function(){Zs(this.By),this.$w&&Zs(this.$w)},T(t,[{key:"N_",get:function(){return this.By}},{key:"C_",get:function(){return this.By.length}},{key:"t_",get:function(){var t,n;return this.$w||(this.$w=((n=(t=this).N_.map(function(t){return t.t_})).item=function(n){var i=0|n,e=t.S_(i);return e&&e.t_||void 0},n)),this.$w}}]),t}(),h_=function(t){function n(n){var i;return(i=t.call(this,ny.y_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new c_(this.i_.t_)},n}(iy),c_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return E(n,t),n}(ey),f_=0;function l_(){return f_++}var v_=0;var d_=0;function w_(){return d_++}var g_=0;function m_(){return g_++}var y_=0;var p_=function(t){function n(n){var i;return(i=t.call(this)||this).fs=u_.Sd,i.Ly=void 0,i.Bh=void 0,i.My=void 0,i.Uy=void 0,i.Xy=!1,i.By=void 0,i.$w=void 0,i.Ly=n,i.Uy=l_(),i.Bh=y_+++"",i.My=n.label,i.By=new a_,i.Fy(),i}E(n,t);var i=n.prototype;return i.Hy=function(t){this.F_=t},i.Fy=function(){this.F_=this.zy},T(n,[{key:"X_",get:function(){}},{key:"F_",get:function(){return this.Xy},set:function(t){this.Xy!==t&&(this.Xy=t,this.zy=t,this.Qs(new hy(this)))}},{key:"zy",get:function(){return this.Ly.enabled},set:function(t){this.Ly.enabled=t}},{key:"t_",get:function(){return this.$w||(this.$w=Cy(this)),this.$w}},{key:"H_",get:function(){return this.Bh}},{key:"z_",get:function(){return this.Uy}},{key:"V_",get:function(){return this.Ly.kind}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new h_(this)))}},{key:"G_",get:function(){return this.Ly.language}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Vy",get:function(){return this.Ly}},{key:"q_",get:function(){return this.By}},{key:"Y_",get:function(){},set:function(t){}}]),n}(Tu),__=0;var b_,k_,A_,T_=function(t){function n(n){var i;return(i=t.call(this)||this).fs=u_.Ed,i.Ly=void 0,i.Bh=void 0,i.Uy=void 0,i.Xy=!1,i.By=void 0,i.My=void 0,i.$w=void 0,i.Ly=n,i.Uy=l_(),i.Bh=__+++"",i.By=new a_,i.My=n.label,i.Fy(),i}E(n,t);var i=n.prototype;return i.Fy=function(){this.F_=this.zy},i.Hy=function(t){this.F_=t},T(n,[{key:"X_",get:function(){}},{key:"F_",get:function(){return this.Xy},set:function(t){this.Xy!==t&&(this.Xy=t,this.zy=t,this.Qs(new hy(this)))}},{key:"zy",get:function(){return!!this.Ly.selected},set:function(t){this.Ly.selected=t}},{key:"t_",get:function(){return this.$w||(this.$w=Cy(this)),this.$w}},{key:"H_",get:function(){return this.Bh}},{key:"z_",get:function(){return this.Uy}},{key:"V_",get:function(){return"main"}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new h_(this)))}},{key:"G_",get:function(){return this.Ly.language}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Vy",get:function(){return this.Ly}},{key:"q_",get:function(){return this.By}},{key:"Y_",get:function(){},set:function(t){}}]),n}(Tu),S_=function(t){function n(n){var i;return(i=t.call(this,Pf.sf)||this).yy=n,i}return E(n,t),n}(Eu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(b_||(b_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(k_||(k_={})),function(t){t.Wy="cue",t.Gy="region",t.qy="stylesheet"}(A_||(A_={}));var E_,I_={"line-left":"start",center:"middle","line-right":"end"},R_={start:"line-left",middle:"center",end:"line-right"};function C_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function D_(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:y(i),p(r)?e:r;var i,e,r}!function(t){t.Yy="jy",t.Qy="Zy",t.y_="Zh"}(E_||(E_={}));var N_=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Ky=i,e}return E(n,t),n}(iy),P_=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return E(n,t),n}(ey);function x_(t){var n,i=[E_.Yy,E_.Qy,E_.y_],e={get track(){return t.i_.t_},get id(){return t.H_},get uid(){return t.z_},get startTime(){return t.Jy},get endTime(){return t.$y},get content(){return t.nk},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Su(e),t.Zs(i,function(t){return n.Qs(t.t_)}),e}function B_(){}function O_(t){return wy(x_(t),{get align(){return t.ek},get line(){return t.rk},get lineAlign(){return t.hk},get position(){return t.ck},get positionAlign(){return t.fk},get region(){return t.vk?t.vk.t_:null},get size(){return t.Cu},get snapToLines(){return t.lk},get text(){return t.nk},get vertical(){return t.dk}})}var L_=function(t){function n(n){return t.call(this,E_.y_,n)||this}return E(n,t),n.prototype.n_=function(){return new M_(this.Ky.t_)},n}(N_),M_=function(t){function n(n){return t.call(this,"update",n)||this}return E(n,t),n}(P_),j_=.02;function F_(t,n){return Ut(t.Jy,n.Jy,j_)&&Ut(t.$y,n.$y,j_)&&t.H_===n.H_}var U_=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Uy=void 0,u.Bh=void 0,u.wk=void 0,u._k=void 0,u.$w=void 0,u.gk=void 0,u.yk=!1,u.bk=void 0,u.pk=void 0,u.Ak=-1,u.Uy=m_(),u.wk=n,u._k=i,u.bk=e,u.pk=Boolean(r),u.Bh=null!=s?s:"",u}E(n,t);var i=n.prototype;return i.n_=function(){return x_(this)},i.Tk=function(t){return this===t||yy(this,t)&&F_(this,t)},i.xd=function(){this.$s()},T(n,[{key:"Jy",get:function(){return this.wk},set:function(t){this.wk!==t&&(this.wk=t,this.Qs(new L_(this)))}},{key:"$y",get:function(){return this._k},set:function(t){this._k!==t&&(this._k=t,this.Qs(new L_(this)))}},{key:"H_",get:function(){return this.Bh}},{key:"z_",get:function(){return this.Uy}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Sk",get:function(){return this.yk},set:function(t){this.yk=t}},{key:"i_",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"nk",get:function(){return this.bk},set:function(t){this.bk!==t&&(this.bk=t,this.Qs(new L_(this)))}},{key:"Ek",get:function(){return this.pk},set:function(t){this.pk=t}}]),n}(Tu);function H_(t,n){return t.nk===n.nk&&t.rk===n.rk&&t.hk===n.hk&&t.ck===n.ck&&t.fk===n.fk&&t.vk===n.vk&&t.lk===n.lk&&t.Cu===n.Cu&&t.ek===n.ek&&t.dk===n.dk}var X_=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).rk="auto",u.hk="start",u.ck="auto",u.fk="auto",u.vk=void 0,u.lk=!0,u.Cu=100,u.ek="center",u.dk="",u}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&H_(this,n)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=O_(this)),this.$w}},{key:"fs",get:function(){return A_.Wy}}]),n}(U_);function z_(t){var n=Z(t.rk)?t.rk:y(t.rk);return p(n)||t.lk||!(n<0||n>100)?p(n)?t.lk?-1:100:n:100}function V_(t){return D_(t.ck,t.ek)}function W_(t){return C_(t.fk,t.ek)}function q_(t){var n,i=W_(t),e=V_(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return g.min(t.Cu,n)}function G_(t){return{get id(){return t.H_},get identifier(){return t.H_},get lines(){return t.Ik},get regionAnchorX(){return t.Rk},get regionAnchorY(){return t.Dk},get scrollValue(){return t.Nk},get viewportAnchorX(){return t.Ck},get viewportAnchorY(){return t.Pk},get width(){return t.Bk}}}var $_=function(){function t(t,n,i,e,r,s,u,o){this.$w=void 0,this.H_=t,this.Bk=n,this.Ik=i,this.Rk=e,this.Dk=r,this.Ck=s,this.Pk=u,this.Nk=o}return T(t,[{key:"t_",get:function(){return this.$w||(this.$w=G_(this)),this.$w}},{key:"fs",get:function(){return A_.Gy}}]),t}(),Y_=function(){function t(){}var n=t.prototype;return n.Ok=function(t){return this.xk()*t},n.Lk=function(t){return this.Mk(t)>0},n.Uk=function(t){return this.Mk(t)>=0},n.Xk=function(t,n){return this.Hk(t).Fk(n)},n.Tk=function(t){return 0===this.Mk(t)},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.Vk=function(){return this.Wk()?this.Gk():this},n.qk=function(t){return this.Oy(t.Gk())},n.Hk=function(t){return this.qk(t).Vk()},t}();function Q_(t,n){return t.Yk()?n.Yk()?Os.Is:Os.Rs:n.Yk()?Os.Ds:t.jk()?n.jk()&&t.Wk()===n.Wk()?Os.Is:t.Wk()?Os.Ds:Os.Rs:n.Wk()?Os.Rs:Os.Ds}var Z_=function(){function t(t,n){this.Qk=void 0,this.Zk=void 0,this.Qk=t,this.Zk=n}t.Kk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Jk=function(n){return n.unsigned?new t(n,vt.UZERO):new t(n,n.isNegative()?vt.NEG_ONE:vt.ZERO)},t.$k=function(n,i){if(p(n))return i?t.ib:t.eb;if(i){if(n<0)return t.ib;if(n>=3.402823669209385e38)return t.sb}else{if(n<=-1.7014118346046923e38)return t.ub;if(n+1>=1.7014118346046923e38)return t.ob}return n<0?t.$k(-n,i).Gk():t.Kk(vt.fromNumber(n%0x10000000000000000),vt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.hb=function(){return this.Zk.unsigned},n.cb=function(){return this.Qk.isZero()&&this.Zk.isZero()},n.Wk=function(){return this.Zk.isNegative()},n.fb=function(){return this.hb()?t.Kk(this.Qk,this.Zk,!1):this},n.vb=function(){return this.hb()?this:t.Kk(this.Qk,this.Zk,!0)},n.wb=function(){return this.Qk},n.xk=function(){return this.Wk()?-this.Gk().xk():0x10000000000000000*this.Zk.toNumber()+this.Qk.toUnsigned().toNumber()},n._b=function(){return this.Qk.toInt()},n.Tk=function(t){return(this.hb()===t.hb()||this.Zk.getHighBits()>>>31!=1||t.Zk.getHighBits()>>>31!=1)&&(this.Zk.toUnsigned().eq(t.Zk.toUnsigned())&&this.Qk.toUnsigned().eq(t.Qk.toUnsigned()))},n.Mk=function(t){if(this.Tk(t))return Os.Is;var n=this.Wk(),i=t.Wk();if(n&&!i)return Os.Ds;if(!n&&i)return Os.Rs;if(!this.hb())return this.qk(t).Wk()?Os.Ds:Os.Rs;var e=this.vb(),r=t.vb(),s=r.Zk.comp(e.Zk);return s>0||0===s&&r.Qk.gt(e.Qk)?Os.Ds:Os.Rs},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.gb=function(t){return this.Mk(t)>0},n.mb=function(t){return this.Mk(t)>=0},n.yb=function(){return new t(this.Qk.not(),this.Zk.not())},n.kb=function(n){return new t(this.Qk.and(n.Qk),this.Zk.and(n.Zk))},n.bb=function(n){return new t(this.Qk.or(n.Qk),this.Zk.or(n.Zk))},n.pb=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shl(i),this.Zk.shl(i).or(this.Qk.shru(64-i)),this.hb()):t.Kk(vt.ZERO,this.Qk.shl(i-64),this.hb())},n.Ab=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shru(i).or(this.Zk.shl(64-i)),this.Zk.shr(i),this.hb()):t.Kk(this.Zk.shr(i-64),this.Zk.isNegative()?vt.NEG_ONE:vt.ZERO,this.hb())},n.Tb=function(n){var i=127&n;return 0===i?this:i<64?t.Kk(this.Qk.shru(i).or(this.Zk.shl(64-i)),this.Zk.shru(i),this.hb()):64===i?t.Kk(this.Zk,vt.ZERO,this.hb()):t.Kk(this.Zk.shru(i-64),vt.ZERO,this.hb())},n.Oy=function(n){var i=this.Zk.high>>>16,e=65535&this.Zk.high,r=this.Zk.low>>>16,s=65535&this.Zk.low,u=this.Qk.high>>>16,o=65535&this.Qk.high,a=this.Qk.low>>>16,h=65535&this.Qk.low,c=n.Zk.high>>>16,f=65535&n.Zk.high,l=n.Zk.low>>>16,v=65535&n.Zk.low,d=n.Qk.high>>>16,w=65535&n.Qk.high,g=n.Qk.low>>>16,m=0,y=0,p=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=h+(65535&n.Qk.low))>>>16,T&=65535,k+=(A+=a+g)>>>16,A&=65535,b+=(k+=o+w)>>>16,k&=65535,_+=(b+=u+d)>>>16,b&=65535,p+=(_+=s+v)>>>16,_&=65535,y+=(p+=r+l)>>>16,p&=65535,m+=(y+=e+f)>>>16,y&=65535,m+=i+c,m&=65535;var S=this.hb(),E=vt.fromBits(p<<16|_,m<<16|y,S),I=vt.fromBits(A<<16|T,b<<16|k,S);return t.Kk(I,E,S)},n.qk=function(t){return this.Oy(t.Gk())},n.Gk=function(){return this.yb().Oy(t.Sb)},n.Eb=function(n){if(this.cb()||n.cb())return this.hb()?t.ib:t.eb;if(this.Wk())return n.Wk()?this.Gk().Eb(n.Gk()):this.Gk().Eb(n).Gk();if(n.Wk())return this.Eb(n.Gk()).Gk();if(this.Zk.isZero()&&0===this.Qk.high&&n.Zk.isZero()&&0===n.Qk.high)return t.Jk(this.Qk.multiply(n.Qk));var i=vt.fromBits(4294967295,0,!0),e=this.Qk.and(i),r=this.Qk.shru(32),s=this.Zk.and(i),u=this.Zk.shru(32),o=n.Qk.and(i),a=n.Qk.shru(32),h=n.Zk.and(i),c=n.Zk.shru(32),f=vt.UZERO,l=vt.UZERO,v=vt.UZERO,d=vt.UZERO;f=f.add(e.mul(o)),l=l.add(f.shru(32)),f=f.and(i),l=l.add(r.mul(o)),v=v.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),v=v.add(l.shru(32)),l=l.and(i),v=v.add(s.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(h)).add(e.mul(c)).and(i);var w=vt.fromBits(f.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0),g=vt.fromBits(v.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Kk(w,g,this.hb())},n.Ib=function(n){var i,e,r=n;if(r.cb())throw new RangeError("division by zero");if(this.cb())return this.hb()?[t.ib,t.ib]:[t.eb,t.eb];if(this.hb()){if(r.hb()||(r=r.vb()),r.gb(this))return[t.ib,this];if(r.gb(this.Tb(1)))return[e=t.Rb,i=this.qk(r)];e=t.ib}else{if(this.Tk(t.ub)){if(r.Tk(t.Sb)||r.Tk(t.Db))return[t.ub,t.eb];if(r.Tk(t.ub))return[t.Sb,t.eb];var s=this.Ab(1).Nb(r).pb(1);return s.Tk(t.eb)?e=r.Wk()?t.Sb:t.Db:(i=this.qk(r.Eb(s)),e=s.Oy(i.Nb(r))),[e,i=this.qk(r.Eb(e))]}if(r.Tk(t.ub))return this.hb()?[t.ib,this]:[t.eb,this];if(this.Wk()){if(r.Wk())return this.Gk().Ib(r.Gk());var u=this.Gk().Ib(r);return e=u[0],i=u[1],[e.Gk(),i.Gk()]}if(r.Wk()){var o=this.Ib(r.Gk());return e=o[0],i=o[1],[e.Gk(),i.Gk()]}e=t.eb}for(i=this;i.mb(r);){for(var a=g.max(1,g.floor(i.xk()/r.xk())),h=g.ceil(g.log(a)/g.LN2),c=h<=48?1:g.pow(2,h-48),f=t.$k(a),l=f.Eb(r);l.Wk()||l.gb(i);)a-=c,l=(f=t.$k(a,this.hb())).Eb(r);f.cb()&&(f=t.Sb),e=e.Oy(f),i=i.qk(l)}return[e,i]},n.Nb=function(t){return this.Ib(t)[0]},n.Cb=function(t){return this.Ib(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cb())return"0";if(this.Wk()){if(this.Tk(t.ub)){var e=t.$k(i),r=this.Nb(e),s=r.Eb(e).qk(this);return r.toString(i)+s._b().toString(i)}return"-"+this.Gk().toString(i)}for(var u=t.$k(g.pow(i,6),this.hb()),o=this,a="";;){var h=o.Nb(u),c=(o.qk(h.Eb(u))._b()>>>0).toString(i);if((o=h).cb())return c+a;for(;c.length<6;)c="0"+c;a=String(c)+a}},t}();Z_.eb=Z_.Jk(vt.ZERO),Z_.ib=Z_.Jk(vt.UZERO),Z_.Sb=Z_.Jk(vt.ONE),Z_.Rb=Z_.Jk(vt.UONE),Z_.Db=Z_.Jk(vt.NEG_ONE),Z_.ob=Z_.Kk(vt.NEG_ONE,vt.MAX_VALUE,!1),Z_.sb=Z_.Kk(vt.MAX_UNSIGNED_VALUE,vt.MAX_UNSIGNED_VALUE,!0),Z_.ub=Z_.Kk(vt.ZERO,vt.MIN_VALUE,!1);var K_=function(){function t(t,n){void 0===n&&(n=1),this.Pb=void 0,this.Bb=void 0,this.Pb=t,this.Bb=n}t.Ob=function(n){return new t(g.ceil(n.Pb),n.Bb)},t.xb=function(n){return new t(g.floor(n.Pb),n.Bb)},t.Lb=function(t,n){return t.Uk(n)?t:n},t.Mb=function(t,n){return t.Fk(n)?t:n};var n=t.prototype;return n.Oy=function(n){return this.Bb>=n.Bb?new t(this.Pb+n.Ub(this.Bb).Pb,this.Bb):new t(this.Ub(n.Bb).Pb+n.Pb,n.Bb)},n.Lk=function(t){return t.zk(this)},n.Uk=function(t){return t.Fk(this)},n.Hk=function(n){return this.Bb>=n.Bb?new t(g.abs(this.Pb-n.Ub(this.Bb).Pb),this.Bb):n.Hk(this)},n.Xk=function(t,n){return this.Hk(t).Fk(n)},n.Mk=function(t){return i=t,(n=this).Bb>=i.Bb?Vs(n.Pb,i.Ub(n.Bb).Pb):Vs(n.Ub(i.Bb).Pb,i.Pb);var n,i},n.Tk=function(t){return 0===this.Mk(t)},n.zk=function(t){return this.Mk(t)<0},n.Fk=function(t){return this.Mk(t)<=0},n.Ub=function(n){return new t(this.Pb*(n/this.Bb),n)},n.qk=function(n){return this.Bb>=n.Bb?new t(this.Pb-n.Ub(this.Bb).Pb,this.Bb):new t(this.Ub(n.Bb).Pb-n.Pb,n.Bb)},n.Xb=function(n){return new t(this.Pb*n,this.Bb)},T(t,[{key:"jk",get:function(){return!isFinite(this.Pb)}},{key:"Fb",get:function(){return this.Pb/this.Bb}}]),t}();K_.Hb=new K_(1/6,1),K_.eb=new K_(0),K_.zb=new K_(1/0),K_.Vb=1e6;var J_=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bb=void 0,e.Ai=n.toSigned(),e.Bb=i>>>0,e}E(n,t),n.Wb=function(t,i){return void 0===i&&(i=1e6),n.$k(t*i,i)},n.$k=function(t,i){return p(t)?n.Gb:t===1/0?n.qb:t===-1/0?n.Yb:new n(vt.fromNumber(t),i)},n.Jk=function(t,i){return new n(t,i)},n.jb=function(t){return n.Wb(t.Fb,1e6)},n.Qb=function(t){return new n(vt.fromNumber(t.getTime()),1e3)},n.Lb=function(t,n){return t.Uk(n)?t:n},n.Mb=function(t,n){return t.Fk(n)?t:n},n.Zb=function(t,i,e){return n.Lb(i,n.Mb(e,t))};var i=n.prototype;return i.Wk=function(){return this.Ai.isNegative()},i.cb=function(){return 0!==this.Bb&&this.Ai.isZero()},i.jk=function(){return 0===this.Bb&&!this.Ai.isZero()},i.Yk=function(){return 0===this.Bb&&this.Ai.isZero()},i.xk=function(){if(0===this.Bb)return this.Ai.isZero()?NaN:this.Ai.isNegative()?-1/0:1/0;var t=this.Ai.divide(this.Bb),n=this.Ai.subtract(t.multiply(this.Bb));return t.toNumber()+n.toNumber()/this.Bb},i.wb=function(){if(0===this.Bb)throw new l("Failed to convert timestamp");return this.Ai},i.Kb=function(){return new Date(0===this.Bb?NaN:this.Ub(1e3).Ai.toNumber())},i.Jb=function(){return new K_(0===this.Bb?this.xk():this.Ai.toNumber(),this.Bb)},i.Ub=function(t,i){void 0===i&&(i=ib.$b);var e=this.Bb;if(e===t)return this;if(0===e)return this;var r=zt(e,t);return new n(function(t,n,i){var e=t.Ib(n),r=e[0],s=e[1];if(s.cb())return r;if(i===ib.$b)return s.Wk()?r.qk(Z_.Sb):r;if(i===ib.tp)return s.Wk()?r:r.Oy(Z_.Sb);var u=s.Eb(Z_.$k(2));return u.Wk()?u.Gk().zk(n)?r:r.qk(Z_.Sb):u.zk(n)?r:r.Oy(Z_.Sb)}(Z_.Jk(this.Ai).Eb(Z_.$k(t/r)),Z_.$k(e/r),i).wb(),t)},i.Mk=function(t){if(this===t)return Os.Is;if(0===this.Bb||0===t.Bb)return Q_(this,t);if(this.cb())return t.cb()?Os.Is:t.Wk()?Os.Rs:Os.Ds;if(t.cb())return this.Wk()?Os.Ds:Os.Rs;var n=g.min(this.Bb,t.Bb),i=this.Ub(n,ib.np).Ai,e=t.Ub(n,ib.np).Ai;return i.compare(e)},i.Gk=function(){return 0===this.Bb?tb(this):new n(this.Ai.negate(),this.Bb)},i.Oy=function(t){if(0===this.Bb||0===t.Bb)return nb(this,t);if(this.cb())return t;if(t.cb())return this;var i=g.max(this.Bb,t.Bb),e=this.Ub(i,ib.np),r=t.Ub(i,ib.np);return new n(e.Ai.add(r.Ai),i)},i.Eb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk()||!isFinite(t)){if(this.cb()||0===t)return n.Gb;var i=this.Wk()?n.Yb:n.qb;return t<0?i.Gk():i}return this.cb()?this:new n(0===t?vt.ZERO:this.Ai.multiply(t),this.Bb)},i.Nb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Gk():this:t<0?this.Gk():this:n.Gb;if(!isFinite(t))return new n(vt.ZERO,this.Bb);if(this.cb())return 0===t?n.Gb:new n(vt.ZERO,this.Bb);if(0===t){var i=this.Wk()?n.Yb:n.qb;return 1/t<0?i.Gk():i}return new n(this.Ai.divide(t),this.Bb)},i.ip=function(){return[this.Ai.low,this.Ai.high,this.Bb]},n}(Y_);function tb(t){return t.Yk()?t:t.Wk()?J_.qb:J_.Yb}function nb(t,n){return t.Yk()||n.Yk()?J_.Gb:t.jk()&&n.jk()?t.Wk()===n.Wk()?t:J_.Gb:t.jk()?t:n}J_.eb=new J_(vt.ZERO,1e6),J_.Gb=new J_(vt.ZERO,0),J_.qb=new J_(vt.ONE,0),J_.Yb=new J_(vt.NEG_ONE,0);var ib,eb=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ai=void 0,e.Bb=void 0,e.Ai=BigInt.asIntN(64,n),e.Bb=i>>>0,e}E(n,t),n.Wb=function(t,i){return void 0===i&&(i=1e6),n.$k(t*i,i)},n.$k=function(t,i){return p(t)?n.Gb:t===1/0?n.qb:t===-1/0?n.Yb:new n(BigInt(g.floor(t)),i)},n.Jk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.jb=function(t){return n.Wb(t.Fb,1e6)},n.Qb=function(t){return n.$k(t.getTime(),1e3)},n.Lb=function(t,n){return t.Uk(n)?t:n},n.Mb=function(t,n){return t.Fk(n)?t:n},n.Zb=function(t,i,e){return n.Lb(i,n.Mb(e,t))};var i=n.prototype;return i.Wk=function(){return this.Ai<BigInt(0)},i.cb=function(){return 0!==this.Bb&&this.Ai===BigInt(0)},i.jk=function(){return 0===this.Bb&&this.Ai!==BigInt(0)},i.Yk=function(){return 0===this.Bb&&this.Ai===BigInt(0)},i.xk=function(){if(0===this.Bb)return this.Ai===BigInt(0)?NaN:this.Ai<BigInt(0)?-1/0:1/0;var t=this.Ai/BigInt(this.Bb),n=this.Ai-t*BigInt(this.Bb);return Number(t)+Number(n)/this.Bb},i.wb=function(){if(0===this.Bb)throw new l("Failed to convert timestamp");return this.ep()},i.ep=function(){var t=this.Ai&BigInt(4294967295),n=this.Ai>>BigInt(32)&BigInt(4294967295);return vt.fromBits(Number(t),Number(n))},i.Kb=function(){return new Date(0===this.Bb?NaN:Number(this.Ub(1e3).Ai))},i.Jb=function(){return new K_(0===this.Bb?this.xk():Number(this.Ai),this.Bb)},i.Ub=function(t,i){void 0===i&&(i=ib.$b);var e=this.Bb;if(e===t)return this;if(0===e)return this;var r=zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===ib.$b)return r<BigInt(0)?e-BigInt(1):e;if(i===ib.tp)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Ai*BigInt(t/r),BigInt(e/r),i),t)},i.Mk=function(t){if(this===t)return Os.Is;if(0===this.Bb||0===t.Bb)return Q_(this,t);if(this.cb())return t.cb()?Os.Is:t.Wk()?Os.Rs:Os.Ds;if(t.cb())return this.Wk()?Os.Ds:Os.Rs;var n=g.min(this.Bb,t.Bb),i=this.Ub(n,ib.np).Ai,e=t.Ub(n,ib.np).Ai;return i>e?Os.Rs:i<e?Os.Ds:Os.Is},i.Gk=function(){return 0===this.Bb?rb(this):new n(-this.Ai,this.Bb)},i.Oy=function(t){if(0===this.Bb||0===t.Bb)return sb(this,t);if(this.cb())return t;if(t.cb())return this;var i=g.max(this.Bb,t.Bb),e=this.Ub(i,ib.np),r=t.Ub(i,ib.np);return new n(e.Ai+r.Ai,i)},i.Eb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk()||!isFinite(t)){if(this.cb()||0===t)return n.Gb;var i=this.Wk()?n.Yb:n.qb;return t<0?i.Gk():i}return this.cb()?this:new n(0===t?BigInt(0):this.Ai*BigInt(t),this.Bb)},i.Nb=function(t){if(this.Yk()||p(t))return n.Gb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Gk():this:t<0?this.Gk():this:n.Gb;if(!isFinite(t))return new n(BigInt(0),this.Bb);if(this.cb())return 0===t?n.Gb:new n(BigInt(0),this.Bb);if(0===t){var i=this.Wk()?n.Yb:n.qb;return 1/t<0?i.Gk():i}return new n(this.Ai/BigInt(t),this.Bb)},i.ip=function(){var t=this.ep();return[t.low,t.high,this.Bb]},T(n,null,[{key:"eb",get:function(){return n.rp||(n.rp=new n(BigInt(0),1e6)),n.rp}},{key:"Gb",get:function(){return n.sp||(n.sp=new n(BigInt(0),0)),n.sp}},{key:"qb",get:function(){return n.op||(n.op=new n(BigInt(1),0)),n.op}},{key:"Yb",get:function(){return n.ap||(n.ap=new n(BigInt(-1),0)),n.ap}}]),n}(Y_);function rb(t){return t.Yk()?t:t.Wk()?eb.qb:eb.Yb}function sb(t,n){return t.Yk()||n.Yk()?eb.Gb:t.jk()&&n.jk()?t.Wk()===n.Wk()?t:eb.Gb:t.jk()?t:n}eb.rp=void 0,eb.sp=void 0,eb.op=void 0,eb.ap=void 0,function(t){t[t.$b=0]="$b",t[t.tp=1]="tp",t[t.np=2]="np"}(ib||(ib={}));var ub=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?eb:J_;var ob=9e4,ab=g.pow(2,33),hb=ub.$k(ab,ob),cb=hb.Nb(2);var fb,lb,vb,db,wb={hp:0,cp:1/0,fp:0},gb=6,mb=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],yb=[" ","\t","\n","\f","\r"],pb=/^\d*$/,_b=/.*[0-9]+.*/,bb=/^[\d.-]+$/,kb=/(^\.|\.$)/,Ab=/(\D\.|\.\D)/;function Tb(t,n){void 0===n&&(n=wb);var i={hg:[],vp:[],lp:[]},e=Sb(t),r=new Jo;if(Lb(e),Eb(e,function(t){return"\n"!==t},r),r.Pu>=e.length)return i;(r.Bu(1),"\n"!==e.charAt(r.Pu))?Db(Ib(e,r,!1,!0,i,n),i):r.Bu(1);for(Eb(e,function(t){return"\n"===t},r);r.Pu<e.length;){Db(Ib(e,r,!1,!1,i,n),i),Eb(e,function(t){return"\n"===t},r)}return i}function Sb(t){var n=bs(t,"\0"," "),i=bs(n,"\r\n","\n");return bs(i,"\r","\n")}function Eb(t,n,i){for(var e=i.Pu;i.Pu<t.length&&n(t.charAt(i.Pu));)i.Bu(1);return t.substring(e,i.Pu)}function Ib(t,n,e,r,s,u){for(var o,a=0,h=n.Pu,c="",f=!1,l=!1,v=null,d=null,w=null;!f;)if(o=Eb(t,function(t){return"\n"!==t},n),a++,n.Pu>=t.length?f=!0:n.Bu(1),ks(o,"--\x3e")){if(r||1!==a&&(2!==a||l)){n.xu(h);break}l=!0,h=n.Pu,v=new X_(0,0,"",!1,c);try{Nb(o,s.vp,v,u),c=""}catch(t){i.gr(t),v=null}}else{if(""===o)break;r&&As(o,"X-TIMESTAMP-MAP")&&(s.dp=Rb(o)),r||2!==a||e||(Ss("STYLE",c.replace(/ /g,""))?(d={fs:A_.qy},c=""):Ss("REGION",c.replace(/ /g,""))&&(w=new $_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,h=n.Pu}if(v)return v.nk=c,v;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ks(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Gb(o,n);break;case"WIDTH":Qb(o,n);break;case"LINES":Yb(o,n);break;case"REGIONANCHOR":var a=qb(o);a&&(n.Rk=a[0],n.Dk=a[1]);break;case"VIEWPORTANCHOR":var h=qb(o);h&&(n.Ck=h[0],n.Pk=h[1]);break;case"SCROLL":$b(o,n)}}}}(c,w),w;return null}function Rb(t){var n,i,e=t.split("=")[1].trim().split(","),r=Cb(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Cb(e[0].trim(),"LOCAL")?e[0]:e[1];return{wp:(i=Number(r.split(/:(.*)/)[1].trim())||0,ub.$k(i,ob)),_p:ub.Wb(null!=(n=Bb(s.split(/:(.*)/)[1].trim(),new Jo))?n:0)}}function Cb(t,n){return As(t,n)}function Db(t,n){t&&function(t){return t.fs===A_.Wy}(t)?n.hg.push(t):t&&function(t){return t.fs===A_.Gy}(t)?n.vp.push(t):t&&function(t){return t.fs===A_.qy}(t)&&n.lp.push(t)}function Nb(t,n,i,e){var r=new Jo;if(Mb(t,r),i.Jy=Pb(Bb(t,r),e),Mb(t,r),"--\x3e"!==t.substring(r.Pu,r.Pu+3))throw l("Something went wrong with parsing a WebVTT Cue");r.Bu(3),Mb(t,r),i.$y=Pb(Bb(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ks(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Xb(a,n,i);break;case"VERTICAL":Vb(a,n);break;case"D":Wb(a,n);break;case"LINE":case"L":Ub(a,n);break;case"POSITION":case"T":Hb(a,n);break;case"SIZE":case"S":zb(a,n);break;case"ALIGN":case"A":Fb(a,n)}}}}(t.substring(r.Pu,t.length),i,n)}function Pb(t,n){return t+n.hp}function xb(t){return/^[0-9]$/.test(t)}function Bb(t,n){var i,e,r,s=bs(t,",","."),u=!1;if(n.Pu>=s.length||!xb(s.charAt(n.Pu)))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var o=Eb(s,xb,n),a=m(o,10);if((o.length>2||a>59)&&(u=!0),n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var h=Eb(s,xb,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");var c=m(h,10);if(u||n.Pu<s.length&&":"===s.charAt(n.Pu)){if(n.Pu>=s.length||":"!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var f=Eb(s,xb,n);if(2!==h.length)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=c,r=m(f,10)}else i=0,e=a,r=c;if(n.Pu>=s.length||"."!==s.charAt(n.Pu))throw new l("Something went wrong with parsing a WebVTT Cue timestamp");n.Bu(1);var v=Eb(s,xb,n),d=m(v,10);if(c>59||r>59)throw new l("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Ob(t){return Lb(Sb(t))}function Lb(t){if(t.length<gb)return!1;for(var n=0;n<mb.length;n++){if(As(t,mb[n]))return!0}return!1}function Mb(t,n){for(;n.Pu<t.length&&(i=t.charAt(n.Pu),Qs(yb,i));)n.Bu(1);var i}function jb(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!p(i)&&i>=0&&i<=100)return i}return null}function Fb(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ek=i;break;case"middle":n.ek="center"}}function Ub(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),_b.test(i)){var s,u;if(Ts(i,"%")){var o=jb(i);if(null===o)return;s=o,u=!1}else{if(!bb.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Ab.test(i)||kb.test(i)))return;if(s=y(i),p(s))return;u=!0}switch(n.rk=s,n.lk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.hk=e;break;case"middle":n.hk="center"}}}function Hb(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=jb(i);if(null!==s)switch(n.ck=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.fk=e;break;case"start":n.fk="line-left";break;case"middle":n.fk="center";break;case"end":n.fk="line-right"}}function Xb(t,n,i){var e=qs(i,function(n){return n.H_===t});void 0!==e&&(n.vk=e)}function zb(t,n){var i=jb(t);null!==i&&(n.Cu=i)}function Vb(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.dk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.dk="lr";break;default:n.dk=""}}function Wb(t,n){"VERTICAL"===t.toUpperCase()?n.dk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.dk="lr")}function qb(t){if(t.indexOf(",")>=0){var n=jb(t.substring(0,t.indexOf(","))),i=jb(t.substring(t.indexOf(",")+1,t.length));return[Ft(n||0,0,100),Ft(i||100,0,100)]}return null}function Gb(t,n){n.H_=t}function $b(t,n){"up"===t.toLowerCase()&&(n.Nk="up")}function Yb(t,n){pb.test(t)&&(n.Ik=m(t))}function Qb(t,n){var i=jb(t);null!==i&&(n.Bk=i)}!function(t){t.gp="moov",t.mp="mvhd",t.yp="trak",t.kp="tkhd",t.bp="mdia",t.pp="mdhd",t.Ap="hdlr",t.Tp="minf",t.Sp="stbl",t.Ep="stsd",t.Ip="stsc",t.Rp="mvex",t.Dp="trex",t.Np="avc1",t.Cp="avcC",t.Pp="hev1",t.Bp="hvc1",t.Op="hvcC",t.xp="pasp",t.Lp="mp4a",t.Mp="esds",t.Up="wvtt",t.Xp="vttC",t.Fp="vlab",t.Hp="enca",t.zp="encv",t.Vp="moof",t.Wp="mfhd",t.Gp="traf",t.qp="tfhd",t.Yp="trun",t.jp="tfdt",t.Qp="senc",t.Zp="mdat",t.Kp="pssh",t.Jp="emsg",t.$p="sidx",t.tA="styp",t.nA="ftyp",t.iA="sinf",t.eA="frma"}(fb||(fb={})),function(t){t.Ed="vide",t.Sd="soun",t.rA="subt",t.sA="hint",t.uA="meta",t.oA="auxv"}(lb||(lb={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(vb||(vb={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(db||(db={}));var Zb=function(){function t(t,n){this.Hi=void 0,this.aA=void 0,this.Hi=t,this.aA=n}var n=t.prototype;return n.hA=function(){return lo(this.Hi,this.aA)},n.cA=function(){return po(this.Hi,this.aA)},n.fA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pu,i);return n.Bu(2),e}(this.Hi,this.aA)},n.vA=function(){return bo(this.Hi,this.aA)},n.lA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pu,i);return n.Bu(4),e}(this.Hi,this.aA)},n.dA=function(){return Ao(this.Hi,this.aA)},n.wA=function(t){return wo(this.Hi,this.aA,t)},n._A=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(bo(t,n));return e}(this.Hi,this.aA,t)},n.gA=function(t){return Eo(this.Hi,this.aA,t)},n.mA=function(){return Uo(this.Hi,this.aA)},n.yA=function(t){this.aA.Bu(t)},n.Lu=function(){return new t(this.Hi,this.aA.Lu())},t}();function Kb(t,n){return t.fs===n}function Jb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Kb(e,n))return e}}function tk(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Kb(r,n)&&i.push(r)}return i}var nk=function(t){function n(n,i){var e;return(e=t.call(this)||this).kA=n,e.bA=i,e}return E(n,t),T(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(nn),ik=function(){function t(){}return t.pA=function(n){var i=n.Hi,e=n.aA,r=t.AA(i,e,!1);if(!r.TA)throw new nk(e.Pu,r.Pi);return r.Pi},t.AA=function(n,i,e){for(var r=[];i.Pu<n.byteLength;){var s=t.SA(n,i,e);if(!s.TA)return{TA:!1,Pi:r};r.push(s.EA)}return{TA:!0,Pi:r}},t.IA=function(n,i){var e=t.SA(n,i,!1);if(!e.TA)throw new nk(i.Pu);return e.EA},t.RA=function(n,i){for(var e=n.Hi,r=n.aA;r.Pu<e.byteLength;){var s=t.SA(e,r,!1);if(!s.TA)return;if(s.EA.fs===i)return s.EA}},t.SA=function(n,i,e){var r=i.Pu,s=t.DA(n,i);if(!s.TA)return s;var u=s.NA,o=u.Cu;if(0===o){if(e)return i.xu(r),{TA:!1,CA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var h=a;return i.xu(r),{TA:!1,CA:h}}var c={fs:u.fs,Pu:r,Hi:new Zb(Wo(n,r,a),new Jo(u.PA))};return i.xu(a),{TA:!0,EA:c}},t.DA=function(t,n){var i=n.Pu;if(!mo(t,n,8))return{TA:!1,CA:n.Pu+8};var e=bo(t,n),r=Eo(t,n,4);if(1===e){if(!mo(t,n,8)){var s=n.Pu+8;return n.xu(i),{TA:!1,CA:s}}e=Ao(t,n).toNumber()}if("uuid"===r){if(!mo(t,n,16)){var u=n.Pu+16;return n.xu(i),{TA:!1,CA:u}}r=Eo(t,n,16)}return{TA:!0,NA:{fs:r,Cu:e,PA:n.Pu-i}}},t.BA=function(t,n,i){var e=t.Hi,r=t.aA,s=Vo(Go(e),r.Pu,e.byteLength);return i&&(s=Zo(s)),r.Bu(s.byteLength),{fs:n,Hi:s}},t.OA=function(n,i,e){var r=uk(n.vA());return{fs:i,xA:r.version,LA:r.flags,Hi:t.BA(n,i,e).Hi}},t}();function ek(t,n){var i=rk(t,n);if(!i)throw new l("Missing "+n+" atom");return i}function rk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fs===n)return e.Hi}}function sk(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.fs===n&&i.push(r.Hi)}return i}function uk(t){return{version:t>>24,flags:new ho(16777215&t)}}var ok=function(){function t(){}return t.MA=function(n){for(var i=[],e=ik.pA(new Zb(n,new Jo)),r=0;r<e.length;r++){var s=e[r],u=t.UA(s);u&&i.push(u)}return i},t.XA=function(t){return ik.AA(t,new Jo,!1).Pi.some(this.FA)},t.HA=function(n){return sk(ik.pA(new Zb(n,new Jo)),fb.Kp).map(t.zA)},t.VA=function(n){return sk(ik.pA(n.Hi),fb.Kp).map(t.zA)},t.FA=function(t){return t.fs===fb.nA||t.fs===fb.tA||t.fs===fb.gp||t.fs===fb.Vp||t.fs===fb.Zp||t.fs===fb.$p||t.fs===fb.Jp},t.UA=function(n){switch(n.fs){case fb.gp:return t.WA(n.Hi);case fb.Vp:return t.GA(n.Hi,n.Pu);case fb.Zp:return t.qA(n.Hi);case fb.$p:return t.YA(n.Hi);case fb.Jp:return t.jA(n.Hi)}},t.WA=function(n){var i=ik.pA(n),e=ek(i,fb.mp),r=sk(i,fb.yp),s=rk(i,fb.Rp),u=t.QA(e),o=r.map(t.ZA),a=s?t.KA(s):void 0;return{fs:fb.gp,NA:u,JA:o,$A:a}},t.QA=function(t){var n=uk(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA(),o=1===i?t.dA():t.vA(),a=t.vA(),h=t.cA()>>8;t.yA(2),t.yA(8);var c=t._A(9);t.yA(24);var f=t.vA();return{fs:fb.mp,xA:i,LA:e,tT:r,nT:s,Bb:u,Qg:o,iT:a,hm:h,eT:c,rT:f}},t.ZA=function(n){var i=ik.pA(n),e=ek(i,fb.kp),r=ek(i,fb.bp),s=t.sT(e),u=t.uT(r);return{fs:fb.yp,NA:s,oT:u}},t.sT=function(t){var n=uk(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA();t.yA(4);var o=1===i?t.dA():t.vA();t.yA(8);var a=t.fA(),h=t.fA(),c=t.fA()/g.pow(2,8);t.yA(2);var f=t._A(9),l=t.vA()/g.pow(2,16),v=t.vA()/g.pow(2,16);return{fs:fb.kp,aT:e.Uu(1),hT:e.Uu(2),cT:e.Uu(4),tT:r,nT:s,fT:u,Qg:o,vT:a,lT:h,hm:c,eT:f,Bk:l,dT:v}},t.uT=function(n){var i=ik.pA(n),e=ek(i,fb.pp),r=ek(i,fb.Ap),s=ek(i,fb.Tp),u=t.wT(e),o=t._T(r),a=t.gT(s);return{fs:fb.bp,NA:u,mT:o,yT:a}},t.wT=function(t){var n=uk(t.vA()),i=n.version,e=n.flags,r=1===i?t.dA():t.vA(),s=1===i?t.dA():t.vA(),u=t.vA(),o=1===i?t.dA():t.vA();return t.cA(),t.yA(2),{fs:fb.pp,xA:i,LA:e,tT:r,nT:s,Bb:u,Qg:o}},t._T=function(t){var n=uk(t.vA()),i=n.version,e=n.flags;t.yA(4);var r=t.gA(4);t.yA(12);var s=t.mA();return{fs:fb.Ap,xA:i,LA:e,kT:r,wi:s}},t.gT=function(n){var i=ek(ik.pA(n),fb.Sp),e=t.bT(i);return{fs:fb.Tp,pT:e}},t.bT=function(n){var i=ek(ik.pA(n),fb.Ep),e=t.AT(i);return{fs:fb.Sp,TT:e}},t.AT=function(n){var i=uk(n.vA()),e=i.version,r=i.flags;n.vA();for(var s=[],u=ik.pA(n),o=0;o<u.length;o++){var a=u[o],h=t.ST(a.Hi,a.fs);h&&s.push(h)}return{fs:fb.Ep,xA:e,LA:r,ET:s}},t.ST=function(n,i){var e=t.IT(n,i);return e||((e=t.RT(n,i))||(i===fb.Up?t.DT(n):void 0))},t.IT=function(n,i){return i===fb.Lp?t.NT(n):i===fb.Hp?t.CT(n):void 0},t.RT=function(n,i){return i===fb.Np?t.PT(n):i===fb.Pp||i===fb.Bp?t.BT(n,i):i===fb.zp?t.OT(n):void 0},t.xT=function(t,n){return t.yA(6),{fs:n,LT:t.cA()}},t.MT=function(n,i){var e=t.xT(n,i);n.yA(8);var r=n.cA(),s=n.cA();return n.yA(2),n.yA(2),Ur({},e,{UT:r,XT:s,FT:n.vA()>>>16})},t.HT=function(n,i){var e=t.xT(n,i);n.yA(2),n.yA(2),n.yA(12);var r=n.cA(),s=n.cA(),u=n.vA(),o=n.vA();n.yA(4);var a=n.cA();n.yA(32);var h=n.cA();return n.yA(2),Ur({},e,{Bk:r,dT:s,zT:u,VT:o,WT:a,GT:h})},t.NT=function(n){var i=t.MT(n,fb.Lp),e=ek(ik.pA(n),fb.Mp);return Ur({},i,{qT:t.YT(e)})},t.DT=function(n){var i=t.xT(n,fb.Up),e=ik.pA(n),r=ek(e,fb.Xp),s=t.jT(r),u=rk(e,fb.Fp);return Ur({},i,{QT:s,ZT:u?t.KT(u):u})},t.jT=function(t){return{fs:fb.Xp,rc:t.mA()}},t.KT=function(t){return{fs:fb.Fp,W_:t.mA()}},t.YT=function(t){return ik.OA(t,fb.Mp,!0)},t.PT=function(n){var i=t.HT(n,fb.Np),e=ik.pA(n),r=ek(e,fb.Cp),s=rk(e,fb.xp);return Ur({},i,{JT:t.$T(r),tS:s?t.nS(s):void 0})},t.BT=function(n,i){var e=t.HT(n,i),r=ek(ik.pA(n),fb.Op);return Ur({},e,{iS:t.eS(r)})},t.OT=function(n){var i=n.Lu(),e=t.HT(n,fb.zp),r=ek(ik.pA(n),fb.iA),s=t.rS(r);return Ur({},e,{sS:t.RT(i,s.oS.uS),aS:s})},t.CT=function(n){var i=n.Lu(),e=t.MT(n,fb.Hp),r=ek(ik.pA(n),fb.iA),s=t.rS(r);return Ur({},e,{sS:t.IT(i,s.oS.uS),aS:s})},t.rS=function(n){var i=ek(ik.pA(n),fb.eA),e=t.hS(i);return{fs:fb.iA,oS:e}},t.hS=function(t){var n=t.gA(4);return{fs:fb.eA,uS:n}},t.$T=function(t){return ik.BA(t,fb.Cp,!0)},t.eS=function(t){return ik.BA(t,fb.Op,!0)},t.nS=function(t){var n=t.vA(),i=t.vA();return{fs:fb.xp,cS:n,fS:i}},t.KA=function(n){var i=sk(ik.pA(n),fb.Dp).map(t.vS);return{fs:fb.Rp,JA:i}},t.vS=function(t){var n=uk(t.vA()),i=n.version,e=n.flags,r=t.vA(),s=t.vA(),u=t.vA(),o=t.vA(),a=t.vA();return{fs:fb.Dp,xA:i,LA:e,fT:r,lS:s,dS:u,wS:o,_S:a}},t.GA=function(n,i){var e=ik.pA(n),r=ek(e,fb.Wp),s=sk(e,fb.Gp),u=t.gS(r),o=s.map(t.mS);return{fs:fb.Vp,yS:i,NA:u,JA:o}},t.gS=function(t){var n=uk(t.vA()),i=n.version,e=n.flags,r=t.vA();return{fs:fb.Wp,xA:i,LA:e,kS:r}},t.mS=function(n){var i=ik.pA(n),e=ek(i,fb.qp),r=sk(i,fb.Yp),s=rk(i,fb.jp),u=t.bS(e),o=r.map(function(n){return t.pS(n,u)}),a=s?t.AS(s):void 0;return{fs:fb.Gp,NA:u,TS:o,SS:a}},t.bS=function(t){var n=uk(t.vA()),i=n.version,e=n.flags,r=t.vA(),s=e.Uu(vb.BASE_DATA_OFFSET_PRESENT)?t.dA():void 0,u=e.Uu(vb.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vA():void 0,o=e.Uu(vb.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vA():void 0,a=e.Uu(vb.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vA():void 0,h=e.Uu(vb.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vA():void 0;return{fs:fb.qp,xA:i,LA:e,fT:r,ES:s,IS:u,dS:o,wS:a,_S:h}},t.pS=function(n,i){for(var e=uk(n.vA()),r=e.version,s=e.flags,u=n.vA(),o=s.Uu(db.DATA_OFFSET_PRESENT)?n.lA():void 0,a=s.Uu(db.FIRST_SAMPLE_FLAGS_PRESENT)?n.vA():void 0,h=[],c=0;c<u;c++){var f=t.RS(n,s,r,i);0===c&&void 0!==a&&(f.LA=a),h.push(f)}return{fs:fb.Yp,xA:r,LA:s,DS:u,yS:o,NS:a,CS:h}},t.RS=function(t,n,i,e){return{Qg:n.Uu(db.SAMPLE_DURATION_PRESENT)?t.vA():e.dS,Cu:n.Uu(db.SAMPLE_SIZE_PRESENT)?t.vA():e.wS,LA:n.Uu(db.SAMPLE_FLAGS_PRESENT)?t.vA():e._S,PS:n.Uu(db.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vA():t.lA():void 0}},t.jA=function(t){var n=t.Hi,i=t.aA,e=uk(bo(n,i)),r=e.version,s=e.flags;if(1===r){var u=bo(n,i),o=Ao(n,i),a=bo(n,i),h=bo(n,i),c=So(n,i),f=So(n,i),l=Qo(Go(n),i.Pu,n.byteLength);return i.Bu(l.byteLength),{fs:fb.Jp,xA:r,LA:s,OS:c,Ai:f,Bb:u,xS:o,LS:a,H_:h,MS:l}}var v=So(n,i),d=So(n,i),w=bo(n,i),g=bo(n,i),m=bo(n,i),y=bo(n,i),p=Qo(Go(n),i.Pu,n.byteLength);return i.Bu(p.byteLength),{fs:fb.Jp,LA:s,xA:r,OS:v,Ai:d,Bb:w,US:g,LS:m,H_:y,MS:p}},t.qA=function(t){return ik.BA(t,fb.Zp,!1)},t.zA=function(n){var i=n.Hi,e=n.aA,r=Zo(Go(i)).buffer,s=uk(bo(i,e)),u=s.version,o=s.flags,a=t.XS(i,e),h=[];if(u>0)for(var c=bo(i,e),f=0;f<c;f++){var l=wo(i,e,16);h.push(l)}var v=bo(i,e),d=new _(r,e.Pu,v);return e.Bu(i.byteLength),{fs:fb.Kp,xA:u,LA:o,FS:a,HS:h,zS:v,Hi:d,VS:r}},t.XS=function(t,n){for(var i="",e=0;e<4;e++){var r=lo(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=lo(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=lo(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var h=0;h<2;h++){var c=lo(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var l=lo(t,n).toString(16);i+=1===l.length?"0"+l:l}return i.toLowerCase()},t.YA=function(t){var n,i,e=t.Hi,r=t.aA,s=uk(bo(e,r)),u=s.version,o=s.flags,a=bo(e,r),h=bo(e,r);0===u?(n=vt.fromBits(bo(e,r),0,!0),i=vt.fromBits(bo(e,r),0,!0)):(n=Ao(e,r),i=Ao(e,r)),r.Bu(2);for(var c=po(e,r),f=[],l=0;l<c;l+=1){var v=bo(e,r),d=v>>31&1,w=2147483647&v,g=bo(e,r),m=bo(e,r),y=m>>31&1,p=m>>28&7,_=268435455&m;f.push({WS:d,GS:w,Qg:g,qS:y,YS:p,jS:_})}return{fs:fb.$p,xA:u,LA:o,QS:a,Bb:h,ZS:n,KS:i,JS:c,$S:f}},t.AS=function(t){var n,i=t.Hi,e=t.aA,r=uk(bo(i,e)),s=r.version,u=r.flags;return n=0===s?vt.fromBits(bo(i,e),0,!0):Ao(i,e),{fs:fb.jp,xA:s,LA:u,SS:n}},t}();function ak(t){return t&&"Ci"in t?t.Ci:t}var hk=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).tE=void 0,a.nE=void 0,a.iE=void 0,a.tE=s,a.nE=u,a.iE=o||void 0,a}return E(n,t),n.prototype.Tk=function(n){return this===n||!!yy(this,n)&&(!!t.prototype.Tk.call(this,n)&&(!!my(this.eE,n.eE)&&(!!my(this.vp,n.vp)&&(this.rE&&n.rE?!!this.rE.ai(n.rE)&&(this.nk&&n.nk?this.nk.ai(n.nk):this.nk===n.nk):this.rE===n.rE))))},T(n,[{key:"eE",get:function(){return this.tE}},{key:"vp",get:function(){return this.nE}},{key:"rE",get:function(){return this.iE}},{key:"t_",get:function(){var t;return this.$w||(this.$w=wy(x_(t=this),{get styles(){return t.eE},get regions(){return t.vp},get metadata(){return ak(t.rE)},get content(){return ak(t.nk)}})),this.$w}}]),n}(U_),ck=function(){function t(t,n,i){this.Nv=void 0,this.sE=void 0,this.uE=void 0,this.sE=t,this.uE=n,Zt(i)?this.Nv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.xi(s)}return i}(0,0,i):this.Nv=i}return T(t,[{key:"oE",get:function(){return this.Nv.ci(!0)}},{key:"Jy",get:function(){return this.sE}},{key:"$y",get:function(){return this.uE}}]),t}();var fk="http://www.w3.org/XML/1998/namespace";function lk(t,n,i,e){var r=t.Di(i,n);return 0===r.length&&(r=t.Ei(e+":"+n)),r}function vk(t,n){return function(t,n){var i=t.Pi.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Pi)}return e}(t,function(t){return t.Ri===n})}function dk(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function wk(t,n){for(var i=t.Xi,e={},r=0;r<i.length;r++)e[dk(i[r].wi,n)]=i[r].Ai;return e}var gk=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,mk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,yk="http://www.w3.org/ns/ttml";function pk(t,n,i,e){void 0===i&&(i=wb),void 0===e&&(e=Uc.APPLICATION_TTML_XML);var r=[],s=qo(t);return e===Uc.APPLICATION_MP4?r=function(t,n,i){var e=Jb(ok.MA(t),fb.Zp);if(!e)return[];return kk(qo(e.Hi),n,i)}(s,n,i):e===Uc.APPLICATION_TTML_XML&&(r=kk(s,n,i)),r}function _k(t,n,i){return void 0===i&&(i=wb),Ak(t,n,i)}function bk(t,n){for(var i=function t(n){var i=[];var e;if(Zt(n)){(e=n.Bi("region"))&&i.push(e);for(var r=n.Ii,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.oE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function kk(t,n,i){return Ak(zo(t,new Jo),n,i)}function Ak(t,n,e){var r,s=[];try{r=i.ui(t)}catch(t){return s}var u=r.zi;if("tt"!==u.di)return s;var o=u&&u.Di(yk,"head")[0],a=u&&u.Di(yk,"body")[0],h=["ebutts","tts","xml"];if(!a||!o)return s;for(var c=function(t,n){for(var i={},e=t.Di(yk,"styling")[0],r=e&&e.Di(yk,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(fk,"id");i[o]=wk(u,n)}return i}(o,h),f=function(t,n){var i=gy(t),e=Ek(n.Bi("tts:extent"));if(!e)return i;for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r],o=Ek(i[u].extent);if(o){var a=Tk(o[0],e[0]),h=Tk(o[1],e[1]);i[u].extent=a+" "+h}var c=Ek(i[u].origin);if(c){var f=Tk(c[0],e[0]),l=Tk(c[1],e[1]);i[u].origin=f+" "+l}}return i}(function(t,n){for(var i={},e=t.Di(yk,"layout")[0],r=e&&e.Di(yk,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Oi(fk,"id");if(o){i[o]=wk(u,n);var a=Ck(u,n);for(var h in a)F.call(a,h)&&(i[o][h]=a[h])}}return i}(o,h),u),l=o.Di(yk,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var h=[];if(Zt(n)){var c,f;s=null!=(c=Rk(n.Bi("begin"),r))?c:s,u=Rk(n.Bi("dur"),0),o=null!=(f=Rk(n.Bi("end"),r))?f:void 0!==u?s+u:o;for(var l=n.Ii,v=0;v<l.length;v++)("body"===n.di||"div"===n.di)&&l[v].Kn>1||(a=a.concat(t(l[v],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Jy,s.$y)}e.sort(Xs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Ys(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var g=Ik(d[w],d[w+1],a);if(g.length<=0&&Dk(n)){var m=n.ci(!1);h.push(new ck(d[w],d[w+1],m))}else g.length>0&&function(){var t=n.ci(!1);g.forEach(function(n){return t.Ni(n.oE)}),h.push(new ck(d[w],d[w+1],t))}()}return h}(a,e.hp,e.cp,e.fp),d=0;d<v.length;d++){var g=v[d],m=bk(f,g);s.push(new hk(g.Jy,g.$y,g.oE,!1,c,m,l))}return s}function Tk(t,n){var i=Sk(t),e=Sk(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return p(r)||p(s)?t:r/s*100+"%"}return t}function Sk(t){return Ts(t,"px")?"px":Ts(t,"em")?"em":Ts(t,"c")?"c":Ts(t,"%")?"%":void 0}function Ek(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Ik(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Jy,u=i[r].$y;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Rk(t,n){if(t){if(gk.test(t)){var i=gk.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*g.pow(.1,u.length):0)+n}if(mk.test(t)){var o=mk.exec(t);if(!o)return;var a,h=Number(o[1]);switch(o[4]){case"h":a=3600*h;break;case"m":a=60*h;break;case"s":a=h;break;case"ms":a=.001*h;break;case"f":case"t":default:a=NaN}return a+n}}}function Ck(t,n){for(var i={},e=t.Ei("style")||[],r=0;r<e.length;r++){var s=wk(e[r],n);for(var u in s)F.call(s,u)&&(i[u]=s[u])}return i}function Dk(t){if(Zt(t)){var n=t.di.toUpperCase(),i=Boolean(t.Bi("smpte:backgroundImage"));return"BR"===n||i}return t.Kn===$t.$n}function Nk(t){var n=function(t){try{return i.ui(t).zi}catch(t){}}(t);return"tt"===(null==n?void 0:n.di)}var Pk,xk=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.E_=function(n){return t.prototype.E_.call(this,n)},i.I_=function(n){var i=t.prototype.I_.call(this,n);return i&&(n.eg=Py.j_),i},i.n_=function(){return Fy(this)},n}(ay);!function(t){t.rA="subtitles",t.aE="captions",t.hE="descriptions",t.cE="chapters",t.uA="metadata",t.fE="thumbnails"}(Pk||(Pk={}));var Bk=[Pk.rA,Pk.aE,Pk.hE,Pk.cE,Pk.uA,Pk.fE];function Ok(t){return"string"==typeof t&&Qs(Bk,t)}var Lk,Mk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return E(n,t),n}(lf);function jk(t){return t instanceof yg}function Fk(t){return t instanceof _g}function Uk(t){return t===Pk.rA||t===Pk.aE}function Hk(t){return ks(t,Lk.vE)}function Xk(t){return t.some(zk)}function zk(t){return ks(t,Lk.lE)||ks(t,Lk.Up)}function Vk(t,n){return Hc(t)&&Xk(n)}function Wk(t,n){return!!t&&(Hc(t)?function(t){return t.some(Hk)}(n)||Xk(n):ks(t,Uc.APPLICATION_TTML_XML)||ks(t,Uc.TEXT_VTT)||ks(t,Uc.IMAGE_JPEG))}function qk(t,n){return t===Pk.fE||t===Pk.uA&&n===Pk.fE}function Gk(t,n,i,e){for(var r=0,s=t.hg.N_;r<s.length;r++){var u=s[r];if(u.Jy>i)break;n<=u.$y&&e.push(u)}}function $k(t,n){return Hs(t.z_,n.z_)}function Yk(t,i){var e=i,r=0;if(jk(t)&&t.name===dg.Vd)e=t.ud.hd;else if(Fk(t)){var s=t.jd;if(e=s.od,0===(r=s.Jl))return new Mk(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Mk(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Qk(t,i,e,r){var s=function(t){switch(t){case k_.WEBVTT:return"WebVTT";case k_.SRT:return"SRT";case k_.TTML:return"TTML";default:return""}}(t);return new Mk(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Zk(t){return Ob(t)?k_.WEBVTT:Nk(t)?k_.TTML:k_.SRT}function Kk(t,n){for(var i=[],e=0,r=t.hg.N_;e<r.length;e++){var s=r[e];if(s.$y<=n)i.push(s);else if(s.Jy>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.dE(o)}}!function(t){t.lE="vtt",t.Up="wvtt",t.vE="stpp"}(Lk||(Lk={}));var Jk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JA=new xk,n.wE=function(t){var i=t.i_;n._E(i)},n}E(n,t);var i=n.prototype;return i.E_=function(t){t.Zs(ny.l_,this.wE),this.JA.E_(t),this._E(t)},i.I_=function(t){t.tu(ny.l_,this.wE),t.eg=Py.j_,this.JA.I_(t)},i.gE=function(t){},i.mE=function(t){},i._E=function(t){t.eg!==Py.j_?this.gE(t):this.mE(t)},i.yE=function(){for(var t=0,n=this.JA.N_;t<n.length;t++){var i=n[t];i.tu(ny.l_,this.wE),i.xd()}},i.kE=function(t){if(t>0)for(var n=0,i=this.JA.N_;n<i.length;n++){Kk(i[n],t)}},i.D_=function(){return this.yE(),this.JA.D_(),qe.resolve()},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.D_());case 3:this.JA.xd();case 4:case"end":return t.stop()}},null,this,null,qe)},n}(Tu),tA=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).errorObject=n,i}return E(n,t),n.prototype.n_=function(){return this},T(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Jm),nA=function(t){function n(n,i){var e;return(e=t.call(this)||this).bE=void 0,e.pE=void 0,e.AE=new ou,e.bE=n,e.pE=i,e}E(n,t);var i=n.prototype;return i.TE=function(t){if(t.src){var n=t.kind||Pk.rA,i=this.bE.SE(n,t.id,t.label,t.srclang,t.default);return i.fg=vg(t.src),this.E_(i),i}},i.EE=function(t,n){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return t.ag=b_.LOADING,i=new hg({hd:t.fg,td:xf.$n,Rd:rg.GET,Ws:n}),l.prev=2,l.next=5,Fr.awrap(this.pE.ud(i));case 5:return s=l.sent,r=s.Jl,l.next=9,Fr.awrap(s.Ll());case 9:e=l.sent,l.next=18;break;case 12:return l.prev=12,l.t0=l.catch(2),fu(l.t0),t.ag=b_.ERROR,t.Qs(new tA(Yk(l.t0,t.fg))),l.abrupt("return");case 18:for(l.prev=18,u=Zk(e),t.fs=u,o=[],u===k_.WEBVTT||u===k_.SRT?(a=Tb(e),o=a.hg):u===k_.TTML&&(o=_k(e,t)),h=0,c=o;h<c.length;h++)f=c[h],t.IE(f);l.next=32;break;case 26:return l.prev=26,l.t1=l.catch(18),fu(l.t1),t.ag=b_.ERROR,t.Qs(new tA(Qk(t.fs,t.fg,r,l.t1))),l.abrupt("return");case 32:t.ag=b_.LOADED;case 33:case"end":return l.stop()}},null,this,[[2,12],[18,26]],qe)},i.gE=function(t){Qs(this.JA.N_,t)&&t.ag===b_.NONE&&this.EE(t,this.AE.Ws).catch(lu)},i.jh=function(){},i.D_=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.AE.Hs(),this.AE=new ou,n=0,i=this.JA.N_;n<i.length;n++)e=i[n],this.bE.RE(e);return r.next=5,Fr.awrap(t.prototype.D_.call(this));case 5:case"end":return r.stop()}},null,this,null,qe)},n}(Jk);function iA(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.V_===n&&e.DE)return e}}function eA(t,n){rA(iA(t.N_,n))}function rA(t){void 0!==t&&(t.eg=Py.Z_)}function sA(t,n){rA(iA(t.N_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.V_===n)return e}}(t.N_,n))}function uA(t){for(var n=0;n<Bk.length;n++){var i=Bk[n];i===Pk.cE?sA(t,i):eA(t,i)}}var oA,aA=function(t){function n(){return t.call(this,Pf.Cf)||this}return E(n,t),n}(Eu);!function(t){t[t.NE=0]="NE",t[t.CE=1]="CE"}(oA||(oA={}));var hA=t,cA=hA.MediaSource,fA=hA.WebKitMediaSource,lA=hA.TextTrack,vA=s&&s.createElement("video");s&&s.documentElement.style;var dA=j.qt&&j.xn&&j.Ln<=26;j.dn;var wA=!(!cA&&!fA),gA=!!lA;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||j.hn,j.Cn&&j.Pn,vA&&vA.canPlayType&&(""!==vA.canPlayType("application/vnd.apple.mpegURL")||j.Qt&&!j.Cn&&j.Zt);vA&&vA.canPlayType&&vA.canPlayType("video/mp4");var mA=wA&&!j.Bn&&!j.Rn&&!j.In&&((cA||fA).isTypeSupported?(cA||fA).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):vA&&vA.canPlayType&&""!==vA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));wA&&!j.Bn&&(mA||((cA||fA).isTypeSupported?(cA||fA).isTypeSupported("audio/mpeg"):vA&&vA.canPlayType&&vA.canPlayType("audio/mpeg"))),wA&&(!j.Nn||!j.qt)&&(cA||fA).isTypeSupported&&(cA||fA).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),j.Bn||j.Rn||j.In,j.Dn,j.Bn,j.Rn&&j.Yt&&j.jt;try{r&&r.top!==r.self}catch(t){!0}var yA=function(t){function n(n){var i;return(i=t.call(this,wp.qg)||this).currentTime=n,i}return E(n,t),n}(Eu),pA=function(t){function n(n){var i;return(i=t.call(this,wp.Yg)||this).currentTime=n,i}return E(n,t),n}(Eu),_A=[wp.w_,wp.Yg,Pf.If,Pf.Ef],bA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).PE=Ky.Mg,e.BE=!0,e.OE=!1,e.xE=!1,e.LE=function(t){var n=e.ME.ag;n!==e.PE&&e.Qs(new xp(t.currentTime,n)),n===Ky.Mg&&(e.OE=!1,e.xE=!1),e.UE(n),e.XE(n),e.FE(n),e.maybeDispatchCanPlayThroughEvent(n),e.HE(n),e.zE(n),e.PE=n},e.VE=function(){e.zE(e.PE),e.HE(e.PE),e.BE=e.ME.$g},e.WE=function(){e.BE=e.ME.$g},e.ME=n,e.GE=i,e.ME.Zs(wp.w_,e.LE),e.ME.Zs(Pf.If,e.VE),e.ME.Zs(Pf.Ef,e.WE),e.GE&&e.ME.Zs(wp.Yg,e.js),e}E(n,t);var i=n.prototype;return i.UE=function(t){!this.xE&&t>=Ky.Ug&&(this.xE=!0,this.Qs(new kp(this.ME.jg,t)))},i.XE=function(t){!this.OE&&t>=Ky.Xg&&(this.OE=!0,this.Qs(new Ip(this.ME.jg,t)))},i.HE=function(t){this.GE||(t>=Ky.Fg&&this.PE<Ky.Fg&&!this.ME.$g||this.qE&&t>=Ky.Fg)&&this.Qs(new pA(this.ME.jg))},i.zE=function(t){!this.YE(t)||this.ME.Zg||this.ME.mu||this.Qs(new yA(this.ME.jg))},i.FE=function(t){this.PE<=Ky.Xg&&t>=Ky.Fg&&this.Qs(new Np(this.ME.jg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Ky.Hg&&this.Qs(new Pp(this.ME.jg,t))},i.YE=function(t){var n=!this.ME.$g&&t<=Ky.Xg,i=!this.BE&&this.PE<=Ky.Xg;return n&&!i},i.D_=function(){this.PE=Ky.Mg,this.BE=!0,this.OE=!1,this.xE=!1},i.xd=function(){this.$s(),this.GE&&this.ME.tu(wp.Yg,this.js),this.ME.tu(Pf.If,this.VE),this.ME.tu(Pf.Ef,this.WE),this.ME.tu(wp.w_,this.LE)},T(n,[{key:"qE",get:function(){return!this.ME.$g&&this.BE}}]),n}(Tu),kA=function(t){function n(n){var i;return(i=t.call(this)||this).ME=n,i.ME.Zs(_A,i.js),i}return E(n,t),n.prototype.xs=function(){this.$s(),this.ME.tu(_A,this.js)},T(n,[{key:"jg",get:function(){return this.ME.jg}},{key:"Zg",get:function(){return this.ME.Zg}},{key:"mu",get:function(){return this.ME.mu}},{key:"$g",get:function(){return this.ME.$g}},{key:"ag",get:function(){return this.ME.ag}}]),n}(Tu),AA="titanium",TA="conax",SA="ezdrm",EA="irdeto",IA="vudrm",RA="verimatrix",CA="keyos",DA="drmtoday",NA="expressplay",PA="azure",xA="xstream",BA="vimond",OA="axinom",LA="uplynk",MA="comcast",jA="custom",FA=function(){function t(t,n,i,e,r){this.ec=void 0,this.jE=void 0,this.QE=void 0,this.ZE=void 0,this.pE=void 0,this.KE=void 0,this.JE=void 0,this.ec=t,this.jE=n,this.QE=i,this.pE=e,this.JE=r,this.ZE=this.$E(n)}var e=t.prototype;return e.tI=function(){return this.KE},e.nI=function(t){this.KE=t},e.iI=function(){return this.ZE.licenseAcquisitionURL||this.tI()},e.eI=function(t){return qe.resolve()},e.rI=function(t,n){return qe.resolve(void 0)},e.sI=function(t,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.uI(t,i,e,r)).hd){o.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Fr.awrap(this.jw.ud(s));case 6:return u=o.sent,o.next=9,Fr.awrap(u.Ml(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),fu(o.t0),o.next=17,Fr.awrap(this.oI(o.t0,s.hd,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],qe)},e.uI=function(t,n,i,e){var r=this.aI().jf(),s=this.Pd,u={hd:this.hI(),td:n,$l:r,Hl:t,Pd:s,Rd:rg.POST,Dd:0,Ws:e,fs:sg.wd,Nd:i};return new hg(u)},e.cI=function(t,n){return qe.resolve(t)},e.fI=function(t,n,i,e){return qe.resolve(t)},e.aI=function(){return new Bf(this.ZE.headers||{})},e.oI=function(t,i,e){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,qe)},e.hI=function(t,n){var e=n,r=this.ZE.queryParameters;if(!e){var s=this.iI();if(!s)return"";e=s}if(r||t){var u=i.Br(e);t&&lg(u,t),r&&lg(u,r),e=u.href}return e},e.vI=function(t,n){return UA(t)},e.lI=function(t){return new _(t)},e.dI=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.vI(t,i));case 2:return e=u.sent,u.next=5,Fr.awrap(this.sI(e,this.JE,n,i));case 5:return r=u.sent,s=this.lI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,qe)},e.xd=function(){},T(t,[{key:"jw",get:function(){return this.pE}},{key:"wI",get:function(){return!1}},{key:"_I",get:function(){var t=this.ZE.certificate;if(t)return G(t)?Hu(t):Yo(t)}},{key:"gI",get:function(){return!1}},{key:"Pd",get:function(){return Boolean(this.ZE.useCredentials)}}]),t}();function UA(t){return qe.resolve(Zo(t).buffer)}var HA,XA,zA=function(t){function n(n,i,e,r){return t.call(this,ws,n,i,e,r)||this}E(n,t);var i=n.prototype;return i.$E=function(t){return t.widevine||{}},i.mI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this._I){i.next=2;break}return i.abrupt("return",this._I);case 2:return i.abrupt("return",this.yI(new _(t),n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.yI=function(n,i){return t.prototype.dI.call(this,n,ug.kd,i)},n}(FA);function VA(t,n){if(null==t)return{};var i,e,r={},s=w.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function WA(t){return H(t.token&&t.deviceId)}function qA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&H(i.PreAuthorization)}function GA(t){var n=t;return WA(n)&&""!==n.token&&""!==n.deviceId&&!qA(n)}(XA=HA||(HA={})).kI=!1,XA.bI=!1,XA.pI=!1,XA.AI=!1,XA.LOG_ADS_DETAILS=!1,XA.LOG_CHROMECAST_DETAILS=!1,XA.LOG_CUSTOM_DRM=!1,XA.LOG_BUFFERING_VIDEO_MAIN=!1,XA.LOG_BUFFERING_VIDEO_SELECTION=!1,XA.LOG_BUFFERING_AUDIO_MAIN=!1,XA.LOG_BUFFERING_AUDIO_SELECTION=!1,XA.TI=!1,XA.SI=!1,XA.LOG_LCEVC_DETAILS=!1;var $A,YA=function(){function t(t,n,i){this.EI=t,this.Vh=n,this.II=i}return t.prototype.RI=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.II.build(t))},T(t,[{key:"DI",get:function(){return this.EI}},{key:"ec",get:function(){return this.Vh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}($A||($A={}));var QA=function(){function t(){this.NI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.CI(t,e,r)){case $A.FAILED:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case $A.OVERRIDDEN:var s=wT(e);i.gr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case $A.SUCCEEDED:wT(e);0}},e.CI=function(t,n,i){var e=wT(n);if(!e)return $A.FAILED;for(var r=$A.SUCCEEDED,s=0,u=this.NI.slice();s<u.length;s++){var o=u[s];o.DI===t&&o.ec===e&&(r=$A.OVERRIDDEN,$s(this.NI,o))}return this.NI.push(new YA(t,e,i)),r},e.BI=function(t,n){return void 0!==this.OI(t,n)},e.xI=function(t,n,i){var e=this.OI(t,n);if(!e)throw l("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.RI(i)},e.OI=function(t,n){for(var i=0,e=this.NI;i<e.length;i++){var r=e[i];if(r.DI===t&&(!n||r.ec===n))return r}},t}();QA.LI=new QA;var ZA=["customdata"],KA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function JA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function tT(t){return t&&void 0!==t.licenseAcquisitionURL}var nT,iT=tT,eT=tT;function rT(t){if(!t)return!0;if(aT(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return JA(n)&&JA(i)&&JA(e)&&JA(r)&&JA(s)}function sT(t){var n=GA(t),i=function(t){var n,i=t;return qA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!WA(i)}(t);return(!n||!i)&&(n||i)}function uT(t){return t.integration===EA}function oT(t){var n=t;if(!n)return!1;if(rT(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(aT(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!iT(e))return!1;if(r&&!eT(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(QA.LI.BI(n.integration))return!0;switch(n.integration){case AA:if(!function(t){return t.integration===AA&&(hT(t)||cT(t))}(t))return!1;break;case IA:if(!fT(t))return!1;break;case RA:if(!function(t){return t.integration===RA}(t))return!1;break;case EA:if(!uT(t))return!1;break;case TA:if(!sT(t))return!1;break;case SA:if(!function(t){return t.integration===SA}(t))return!1;break;case CA:if(!aT(t))return!1;break;case DA:if(!function(t){var n=t;return n.integration===DA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case NA:if(!function(t){return t.integration===NA}(t))return!1;break;case xA:if(!lT(t))return!1;break;case BA:if(!function(t){return t.integration===BA}(t))return!1;break;case OA:if(!vT(t))return!1;break;case PA:if(!function(t){var n=t;return n.integration===PA&&void 0!==n.token}(t))return!1;break;case LA:if(!function(t){return t.integration===LA}(t))return!1;break;case MA:if(!function(t){var n=t;return n&&H(n.releasePid)&&H(n.accountId)&&H(n.token)}(t))return!1;break;case jA:return!0;default:return!1}}return!0}function aT(t){return t.integration===CA}function hT(t){return void 0!==t.authToken}function cT(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function fT(t){var n=t;return n.integration===IA&&void 0!==n.token}function lT(t){var n=t;return n&&n.integration===xA&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function vT(t){var n=t;return n.integration===OA&&void 0!==n.token}function dT(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:KA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},h=Ur({},null!=(r=null==s?void 0:s.headers)?r:{},a),c=null!=s?s:{};return c.customdata,Ur({},VA(c,ZA),{licenseAcquisitionURL:u,headers:h})}function wT(t){switch(t.toLowerCase()){case"widevine":case os:return os;case"playready":case rs:return rs;case"fairplay":case fs:return fs}}function gT(t,i){switch(t){case ts:return function(t){for(var n={},i=ok.HA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.FS]=r.VS}return n}(i);case ns:case is:return function(t){var n;return(n={})[cs]=t,n}(i);default:throw new lf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.$r="Widevine",t.Jr="PlayreadyV2",t.MI="PlayreadyV2",t.UI="PlayreadyV3",t.us="Fairplay"}(nT||(nT={}));var mT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function yT(t,n){var e,r,s,u,o=mT[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xr)?void 0:e.Lr,OSVersion:null==(r=i.xr)?void 0:r.zr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xr)?void 0:s.Vr,DeviceModel:null==(u=i.xr)?void 0:u.Wr}}}function pT(t,i){if(!t.accountName)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function _T(t,n,i){var e;if(hT(t))e={AuthToken:t.authToken,Payload:n};else{if(!cT(t))throw pT(t,i);e={LatensRegistration:yT(t,i),Payload:n}}return Ku(JSON.stringify(e))}function bT(t,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.jd){a.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Fr.awrap(s.xl(e));case 7:u=a.sent,o=kT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.ud.hd,s.Jl,s.ed,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],qe)}function kT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var AT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,xf.qf)||this).XI=void 0,r}E(e,t),e.FI=function(){return i.Lr.qe?"required":"optional"};var r=e.prototype;return r.oI=function(t,n,i){return bT(t,n,i)},r.eI=function(t){return this.XI?vu(this.XI.Fu,t):(this.XI=new na,qe.resolve())},r.vI=function(t,i){var e,r;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.jE){i.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=zu(t),i.abrupt("return",_T(e,r,nT.$r));case 5:case"end":return i.stop()}},null,this,null,qe)},r.lI=function(t){if(!t.license)throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Hu(t.license)},r.HI=function(t){return qe.resolve(new _(t))},r.mI=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.zI(),r.next=3,Fr.awrap(this.vI(t,n));case 3:return i=r.sent,r.next=6,Fr.awrap(this.sI(i,xf.Gf,ug.bd,n));case 6:return e=r.sent,r.next=9,Fr.awrap(this.HI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},r.yI=function(n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.yI.call(this,n,i));case 2:return e=r.sent,this.zI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,qe)},r.zI=function(){this.XI||(this.XI=new na),this.XI.Wu()},r.xd=function(){this.XI&&this.XI.Hs(),t.prototype.xd.call(this)},e}(zA),TT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).nI("https://widevine-proxy.drm.technology/proxy"),r}return E(i,t),i.prototype.vI=function(t,i){var e,r,s,u;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(UA(t));case 2:if(e=i.sent,r=this.QE,s=Ko(new _(e)),u=this.VI){i.next=8;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,qe)},T(i,[{key:"VI",get:function(){if(fT(this.jE))return this.jE.token}}]),i}(zA);function ST(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Ur({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Ur({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ET=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).nI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return E(n,t),n.prototype.hI=function(n,i){var e=n;return uT(this.jE)&&(e=ST(this.jE,e)),t.prototype.hI.call(this,e,i)},n}(zA),IT="Conax-Custom-Data";function RT(t,n,i){var e=t&&sT(t)&&t;if(e&&!i.has(IT)){var r=GA(e)?e.token:void 0,s=GA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(IT,u)}return i}var CT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).nI("https://connect.conax.com:8094/license"),r}return E(n,t),n.prototype.aI=function(){var n=t.prototype.aI.call(this);return RT(this.jE,"Widevine",n)},n}(zA);function DT(t){var n=Oo(new _(t));return Hu(JSON.parse(n).license)}function NT(t){return"string"==typeof t.token?t.token:Ku(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function PT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var xT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,xf.Gf)||this).nI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}E(n,t);var i=n.prototype;return i.lI=function(t){return DT(t)},i.aI=function(){return PT(t.prototype.aI.call(this),this.VI,this.jE)},T(n,[{key:"VI",get:function(){return NT(this.jE)}}]),n}(zA),BT=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}return E(n,t),n.prototype.aI=function(){var n=t.prototype.aI.call(this),i=this.jE.token;return n.set("Authorization","Bearer "+i),n},n}(zA);function OT(t,i,e,r){var s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(lT(t)){l.next=2;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Bf).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",h={drmType:i,licenseType:a,streamId:o},c={hd:t.ticketAcquisitionURL,td:xf.qf,$l:s,Rd:rg.POST,Hl:JSON.stringify(h),Ws:r},l.next=13,Fr.awrap(e.ud(c));case 13:return f=l.sent,l.next=16,Fr.awrap(f.xl());case 16:return l.abrupt("return",l.sent);case 17:case"end":return l.stop()}},null,null,null,qe)}var LT=function(t){function n(n,i,e){return t.call(this,n,i,e,xf.qf)||this}E(n,t);var i=n.prototype;return i.aI=function(){var n=t.prototype.aI.call(this);return n.set("Content-Type","application/json"),n},i.vI=function(n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Zu(n.buffer),r=this.jE,o.next=4,Fr.awrap(OT(r,"widevine_modular",this.jw,i));case 4:return s=o.sent,this.nI(s.licenseServerUrl),u=Lo(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.vI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,qe)},i.lI=function(t){return Hu(t.license)},n}(zA),MT=function(t){function i(n,i,e){return t.call(this,n,i,e,xf.Gf)||this}return E(i,t),i.prototype.aI=function(){if(!vT(this.jE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.aI.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},i}(zA);function jT(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var FT=function(t){function n(n,i,e){var r;return(r=t.call(this,ds,n,i,e,xf.Gf)||this).WI=void 0,r}E(n,t);var e=n.prototype;return e.$E=function(t){return t.playready||{}},e.aI=function(){var n=new Bf(this.WI);return n.Zf(t.prototype.aI.call(this)),n},e.GI=function(t){return t.length>=1&&t[0].Ii.length>0},e.rI=function(n){var i=this.jE.playready.customData;if(i){var e=jT(i),r=jT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+zu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return qe.resolve({playready:{Cc:r}})}return t.prototype.rI.call(this,n)},e.vI=function(t,n){var i;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(UA(t));case 2:return i=n.sent,n.abrupt("return",this.qI(i));case 4:case"end":return n.stop()}},null,this,null,qe)},e.qI=function(t){var n,e,r,s,u,o,a,h,c,f,l,v,d,w,g,m;return Fr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),a=Po(o,new Jo,!0),y.prev=3,h=i.ui(a),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=h.Ei("PlayReadyKeyMessage")[0])?void 0:n.Ei("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ei("Challenge"))?e:[],this.GI(f)&&(u=Qu(f[0].Fi)),l=new Bf,v=null!=(r=null==c?void 0:null==(s=c.Ei("HttpHeaders")[0])?void 0:s.Ei("HttpHeader"))?r:[],d=0;d<v.length;d++)w=v[d],g=w.Ei("name")[0].Fi,m=w.Ei("value")[0].Fi,l.append(g,m);return this.WI=l,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],qe)},e.mI=function(t,n){return qe.resolve(t)},e.yI=function(n,i){return t.prototype.dI.call(this,n,ug.pd,i)},n}(FA),UT=function(){function t(n){this.wh=void 0,this.YI=n,this.wh=t.jI(n)}return t.jI=function(t){return"3"===t.version?nT.UI:nT.MI},t.prototype.QI=function(){var t={};if(this.wh===nT.UI){var n={LatensRegistration:yT(this.YI,nT.UI)};t["X-TITANIUM-DRM-CDATA"]=Ku(JSON.stringify(n))}return t},T(t,[{key:"ZI",get:function(){return this.wh}},{key:"gc",get:function(){return this.wh===nT.MI}}]),t}();var HT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KI=void 0,r.KI=new UT(r.jE),r}E(e,t);var r=e.prototype;return r.rI=function(t){var i=this.jE;if(!this.jE)throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(cT(i)){var e={};return e.playready={Cc:XT(i,this.KI.ZI)},qe.resolve(e)}return qe.reject(pT(i,nT.Jr))},r.aI=function(){var n=new Bf(this.KI.QI());return n.Zf(t.prototype.aI.call(this)),n},r.oI=function(t,e,r){var s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(s=t.jd){v.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return v.prev=3,v.next=6,Fr.awrap(s.Ul(r));case 6:a=v.sent,h=Oo(new _(a)),(c=i.ui(h))&&(f=vk(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Fi),o=null==(l=u.DrmErr)?void 0:l.desc),v.next=14;break;case 12:v.prev=12,v.t0=v.catch(3);case 14:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Jl,s.ed,o);case 15:case"end":return v.stop()}},null,null,[[3,12]],qe)},r.GI=function(t){if(1!==t.length)throw new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(FT);function XT(t,n){var i=yT(t,n),e=i.DeviceInfo.FormatVersion,r=Ku('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=jo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return jo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+zu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var zT,VT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nI("https://playready-license.drm.technology/rightsmanager.asmx"),r}E(i,t);var e=i.prototype;return e.GI=function(t){if(1!==t.length)throw new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.hI=function(n,i){var e=Ur({},n||{},{token:this.VI});return t.prototype.hI.call(this,e,i)},T(i,[{key:"VI",get:function(){if(fT(this.jE))return this.jE.token}}]),i}(FT),WT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return E(n,t),n.prototype.hI=function(n,i){var e=n;return uT(this.jE)&&(e=ST(this.jE,e)),t.prototype.hI.call(this,e,i)},n}(FT),qT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return E(n,t),n.prototype.aI=function(){var n=t.prototype.aI.call(this);return RT(this.jE,"PlayReady",n)},n}(FT),GT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).nI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}E(n,t);var i=n.prototype;return i.lI=function(n){return(As(Oo(new _(n)),"<?xml")?zT.JI:zT.xl)===zT.xl?DT(n):t.prototype.lI.call(this,new _(n))},i.aI=function(){return PT(t.prototype.aI.call(this),this.VI,this.jE)},T(n,[{key:"VI",get:function(){return NT(this.jE)}}]),n}(FT);!function(t){t[t.JI=0]="JI",t[t.xl=1]="xl"}(zT||(zT={}));var $T,YT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$I=void 0,r}E(n,t);var i=n.prototype;return i.aI=function(){var n=t.prototype.aI.call(this);return this.$I&&n.set("Ticket",this.$I),n.set("Content-Type","text/xml"),n},i.vI=function(n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.jE,s.next=3,Fr.awrap(OT(e,"playready",this.jw,i));case 3:return r=s.sent,this.nI(r.licenseServerUrl),this.$I=r.ticket,s.abrupt("return",t.prototype.vI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,qe)},n}(FT),QT=function(t){function i(){return t.apply(this,arguments)||this}return E(i,t),i.prototype.aI=function(){if(!vT(this.jE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.aI.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},i}(FT);!function(t){t.qf="application/json",t.tR="application/x-www-form-urlencoded",t.nR="application/octet-stream",t.$n="text/plain;charset=UTF-8"}($T||($T={}));var ZT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ec,i,e,r,s)||this).iR="",u.eR=void 0,u.rR=void 0,u.rR=n.sR,u}E(n,t);var i=n.prototype;return i.uR=function(){return this.ZE.certificateURL||this.eR},i.oR=function(t){this.eR=t},i.vI=function(t){return qe.resolve(this.aR(t,this.iR))},i.aR=function(t,n){return"spc="+encodeURIComponent(zu(t))+"&assetId="+encodeURIComponent(n)},i.$E=function(t){return t.fairplay||{}},i.hR=function(t){var n=t.indexOf("?");if(n>=0)return qe.resolve(t.substr(n+1));var i=t.split("/");return qe.resolve(i[i.length-1])},i.rI=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.rR)?n:Ho(new _(t)),s.next=3,Fr.awrap(this.hR(i));case 3:return e=s.sent,this.iR=e,(r={}).fairplay={Uc:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,qe)},i.aI=function(){var n=t.prototype.aI.call(this);return n.set("Content-Type",this.cR),n},i.mI=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._I){t.next=2;break}return t.abrupt("return",this._I);case 2:return t.next=4,Fr.awrap(this.fR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,qe)},i.yI=function(n,i){return t.prototype.dI.call(this,n,ug.md,i)},i.vR=function(t){var n=this.uR(),i=this.aI(),e={hd:n,td:xf.Gf,$l:i,Rd:rg.GET,Pd:!1,Hl:null,Dd:0,Ws:t,fs:sg.wd,Nd:ug.yd};return new hg(e)},i.fR=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.vR(t),r.next=3,Fr.awrap(this.jw.ud(n));case 3:return i=r.sent,r.next=6,Fr.awrap(i.Ul());case 6:return e=r.sent,r.abrupt("return",new _(e));case 8:case"end":return r.stop()}},null,this,null,qe)},i.lI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hu(i)}else n=new _(t);return n},i.hI=function(n,i){var e=t.prototype.hI.call(this,n,i);return As(e,"skd:")&&(e=e.substr("skd:".length)),e},T(n,[{key:"gI",get:function(){return!0}},{key:"cR",get:function(){return $T.tR}}]),n}(FA),KT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(n,t);var i=n.prototype;return i.hR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return qe.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return qe.resolve(i)},i.vI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},i.lI=function(t){return new _(t)},i.hI=function(n,i){var e=n||{};return e.p1=Wt(),t.prototype.hI.call(this,e,i)},T(n,[{key:"cR",get:function(){return $T.nR}}]),n}(ZT),JT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).nI("https://fairplay-license.drm.technology/license"),s.oR("https://fairplay-license.drm.technology/certificate"),s}E(i,t);var e=i.prototype;return e.aR=function(t,n){var i={token:this.VI,contentId:n,payload:zu(t)};return JSON.stringify(i)},e.lI=function(t){return new _(t)},e.aI=function(){var n=t.prototype.aI.call(this);return n.set("x-vudrm-token",this.VI),n},T(i,[{key:"cR",get:function(){return $T.qf}},{key:"VI",get:function(){if(!fT(this.jE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.jE.token}}]),i}(ZT),tS="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",nS="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",iS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}return E(i,t),i.prototype.lI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,tS)}if(!i)throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,nS);return i}(Oo(new DataView(i)));return t.prototype.lI.call(this,e)},i}(ZT);var eS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.qf)||this}E(i,t);var e=i.prototype;return e.vI=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.jE){r.next=3;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=zu(t),r.abrupt("return",_T(i,e,nT.us));case 5:case"end":return r.stop()}},null,this,null,qe)},e.lI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Qu(i.license);return new _(r)}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.oI=function(t,n,i){return bT(t,n,i)},T(i,[{key:"cR",get:function(){return $T.qf}}]),i}(ZT),rS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).nI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.oR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}E(n,t);var e=n.prototype;return e.uR=function(){var n=t.prototype.uR.call(this);if(!n)return n;var e=i.Br(n),r=this.jE;return uT(r)&&lg(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.hR=function(n){return uT(this.jE)?qe.resolve(this.jE.contentId):t.prototype.hR.call(this,n)},e.vI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.lI=function(t){return new _(t)},e.hI=function(n,i){var e=n;return uT(this.jE)&&(e=function(t,n){return Ur({},ST(t,n),{KeyId:t.keyId})}(this.jE,e)),t.prototype.hI.call(this,e,i)},T(n,[{key:"cR",get:function(){return $T.nR}}]),n}(ZT),sS=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,xf.$n)||this,!sT(e))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.nI("https://connect.conax.com:8097/license"),u}E(i,t);var e=i.prototype;return e.aI=function(){var n=t.prototype.aI.call(this);return RT(this.jE,"FairPlay",n)},e.fR=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.uR(),i={hd:n,td:xf.Gf,$l:{},Rd:rg.GET,Pd:!1,Hl:null,Dd:0,Ws:t,fs:sg.wd,Nd:ug.yd},s.next=4,Fr.awrap(this.jw.ud(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Ul());case 7:return r=s.sent,s.abrupt("return",new _(r));case 9:case"end":return s.stop()}},null,this,null,qe)},e.vI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.hR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),qe.resolve(Oo(Hu(n)))):qe.resolve("unknown")},e.lI=function(t){try{var n=JSON.parse(t);return new _(Qu(n.CkcMessage))}catch(t){throw new l("CFLRW-66")}},i}(ZT),uS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.$n)||this).nI(KA[Kr.us]),s}E(i,t);var e=i.prototype;return e.hR=function(t){return As(t,"skd://")?qe.resolve(t.substring("skd://".length,40)):qe.reject(new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.aR=function(t,n){return"spc="+zu(t)+"&assetId="+n},i}(ZT),oS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.$n)||this).nI("https://lic.drmtoday.com/license-server-fairplay/"),s}E(n,t);var i=n.prototype;return i.aR=function(t,n){var i="spc="+encodeURIComponent(zu(t))+"&"+encodeURI(n);return"persistent"===this.ZE.licenseType?i+"&offline=true":i},i.aI=function(){return PT(t.prototype.aI.call(this),this.VI,this.jE)},T(n,[{key:"VI",get:function(){return NT(this.jE)}}]),n}(ZT),aS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(n,t);var e=n.prototype;return e.hR=function(t){var n=t;return As(n,"skd:")&&(n="http:"+n.substring(4)),As(n,"http:")||As(n,"https:")?qe.resolve(i.Br(n).hostname):qe.reject(new l("Could not parse ExpressPlay FairPlay content ID."))},e.vI=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,qe)},e.lI=function(t){return new _(t)},T(n,[{key:"cR",get:function(){return $T.nR}}]),n}(ZT),hS=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,xf.$n)||this}return E(n,t),n.prototype.aI=function(){var n=t.prototype.aI.call(this),i=this.jE.token;return n.set("Authorization","Bearer "+i),n},n}(ZT),cS=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,xf.qf)||this,!lT(i))throw new l("Invalid Xstream DRM configuration");return s}E(n,t);var i=n.prototype;return i.fR=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.uR(),i=this.aI(),e={hd:n,td:xf.qf,$l:i,Rd:rg.POST,Ws:t,fs:sg.wd,Nd:ug.yd},u.next=5,Fr.awrap(this.jw.ud(e));case 5:return r=u.sent,u.next=8,Fr.awrap(r.xl());case 8:return s=u.sent,u.abrupt("return",new _(Hu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,qe)},i.yI=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=zu(t),r=this.jE,i.next=5,Fr.awrap(OT(r,"fairplay",this.jw,n));case 5:return s=i.sent,u=Lo(JSON.stringify({spc:e,ticket:s.ticket})),o={hd:this.iI(),td:xf.qf,$l:this.aI(),Rd:rg.POST,Hl:u,Dd:0,Ws:n,fs:sg.wd,Nd:ug.md},i.next=10,Fr.awrap(this.jw.ud(o));case 10:return a=i.sent,i.next=13,Fr.awrap(a.xl());case 13:return h=i.sent,i.abrupt("return",Hu(h.licence));case 15:case"end":return i.stop()}},null,this,null,qe)},T(n,[{key:"cR",get:function(){return $T.qf}}]),n}(ZT),fS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.$n)||this}E(i,t);var e=i.prototype;return e.aR=function(t,n){return zu(t)},e.lI=function(i){if(0===i.length)throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.lI.call(this,i)},e.aI=function(){var n=t.prototype.aI.call(this);return n.set("Content-Type","text/plain"),n},i}(ZT),lS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,xf.Gf)||this}E(i,t);var e=i.prototype;return e.aR=function(t,n){return t},e.lI=function(t){return new _(t)},e.aI=function(){if(!vT(this.jE))throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.aI.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},T(i,[{key:"cR",get:function(){return $T.qf}}]),i}(ZT),vS=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.qf)||this).lR=void 0,s}E(e,t);var r=e.prototype;return r.aR=function(t,n){var i={spc:zu(t)};return JSON.stringify(i)},r.hR=function(t){var e=i.Br(t);return this.lR=t,e.searchParams.has("b")?qe.resolve(e.searchParams.get("b")):qe.reject(new i_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.hI=function(n,i){var e=this.iI();return!e&&this.lR&&(e=this.lR),e&&(e=e.replace("skd://","https://")),t.prototype.hI.call(this,n,i||e)},r.lI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Hu(i.ckc)}catch(t){throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},T(e,[{key:"cR",get:function(){return $T.$n}}]),e}(ZT),dS=function(){function t(t,n){this.dR=t,this.wR=n}var n=t.prototype;return n._R=function(t){return this.dR(t)},n.gR=function(t,n){throw new v(n+" must be "+this.wR+". (Received: "+t+")")},t}();new dS(function(t){return!0},"any");var wS=new dS(Z,"a number"),gS=new dS(G,"a string"),mS=new dS($,"a boolean");new dS(Q,"a date"),new dS(X,"undefined"),new dS(W,"an object"),new dS(function(t){return null===t},"null"),new dS(function(t){return null==t},"null or undefined");var yS,pS=(yS={responseCode:wS,isException:mS,description:gS,title:gS,correlationId:gS},{_R:function(t){if(!W(t))return!1;for(var n=0,i=w.keys(yS);n<i.length;n++){var e=i[n];if(!yS[e]._R(t[e]))return!1}return!0},gR:function(t,n){if(!W(t))throw new v(n+" must be an object.");for(var i=0,e=w.keys(yS);i<e.length;i++){var r=e[i],s=yS[r];if(!s._R(t[r]))return s.gR(t[r],n+"."+String(r))}throw new v}});function _S(t,n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=bS(t,n,i,r),u.next=3,Fr.awrap(kS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,qe)}function bS(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Br(t);return lg(e,n),e.toString()}(e,s)),o=new Bf({});o.append("Content-Type","application/json");var a=zu(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{hd:u,td:xf.$n,$l:o,Rd:rg.POST,Hl:JSON.stringify(h),Ws:r,fs:sg.wd,Nd:ug.md}}function kS(t,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(i.ud(t));case 2:return e=s.sent,s.next=5,Fr.awrap(e.xl());case 5:if(r=s.sent,!pS._R(r)){s.next=8;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.hd,r.responseCode);case 8:return s.abrupt("return",Hu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,qe)}var AS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xf.Gf)||this).mR=void 0,s.mR=i,s}E(n,t);var i=n.prototype;return i.hR=function(n){var i=n.replace("FairPlay",this.mR.releasePid);return t.prototype.hR.call(this,i)},i.yI=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(_S(t,this.mR,this.iI(),this.jw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,qe)},n}(ZT),TS=function(t){function i(n,i,e){return t.call(this,ys,n,i,e,xf.Gf)||this}E(i,t);var e=i.prototype;return e.$E=function(t){return t.clearkey||{}},e.sI=function(i,e,r,s){var u,o;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.ZE,!this.iI()){e.next=5;break}return e.abrupt("return",t.prototype.sI.call(this,i,this.JE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Lo(JSON.stringify(o)).buffer);case 10:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,qe)},e.mI=function(t,n){return qe.resolve(new _(0))},e.yI=function(n,i){return t.prototype.dI.call(this,n,ug.Ad,i)},i}(FA),SS=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(zA),ES={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function IS(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=LS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",qe.resolve(n));case 5:return u.next=8,Fr.awrap(vu(qe.resolve(r.call(t,e)),i));case 8:if(!$o(s=u.sent)){u.next=11;break}return u.abrupt("return",Yo(s));case 11:return u.abrupt("return",OS(Ur({},ES,s)));case 12:case"end":return u.stop()}},null,null,null,qe)}function RS(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=BS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(vu(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function CS(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(NS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",OS(r));case 6:case"end":return s.stop()}},null,null,null,qe)}function DS(t,n,i,e,r,s){var u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=xS(i,r),a.next=3,Fr.awrap(PS(t,new _(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Yo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,qe)}function NS(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=xS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",qe.resolve(s));case 5:return o.next=8,Fr.awrap(vu(qe.resolve(r.call(t,s)),e));case 8:if(!$o(u=o.sent)){o.next=11;break}return o.abrupt("return",Yo(u).buffer);case 11:return o.abrupt("return",Ur({fairplaySkdUrl:void 0},ES,u));case 12:case"end":return o.stop()}},null,null,null,qe)}function PS(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=BS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",qe.resolve(n));case 5:return a.next=8,Fr.awrap(vu(qe.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Yo(o));case 10:case"end":return a.stop()}},null,null,null,qe)}function xS(t,n){return Ur({},LS(t),{fairplaySkdUrl:n})}function BS(t,n,i){return{url:i.od,status:i.Jl,statusText:i.ed,headers:i.$l.jf(),body:t,request:n}}function OS(t){return new hg({hd:t.url,Rd:t.method,$l:t.headers,Hl:t.body,Pd:t.useCredentials})}function LS(t){var n;return{url:t.hd,body:null!=(n=MS(t.Hl))?n:null,headers:t.$l.jf(),method:t.Rd,useCredentials:t.Pd}}function MS(t){if(t)return"string"==typeof t?Xo(t):t instanceof ArrayBuffer?new _(t):Wu(t)?Go(t):void 0}var jS,FS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).yR=void 0,s.yR=r,s}E(i,t);var e=i.prototype;return e.mI=function(t,n){return qe.resolve(t)},e.yI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.qI(Zo(t).buffer));case 2:return e=a.sent,r=this.uI(e,xf.Gf,ug.pd,i),a.next=6,Fr.awrap(CS(this.yR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new _(s));case 10:if(""!==s.hd){a.next=12;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Fr.awrap(this.jw.ud(s));case 15:return u=a.sent,a.next=18,Fr.awrap(u.Ul(i));case 18:return o=a.sent,a.t0=_,a.next=22,Fr.awrap(DS(this.yR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),fu(a.t2),new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],qe)},i}(FT),US=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,xf.Gf)||this).yR=void 0,s.yR=r,s}E(i,t);var e=i.prototype;return e.mI=function(t,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this._I){a.next=2;break}return a.abrupt("return",this._I);case 2:return e=this.uI(t,xf.Gf,ug.bd,i),a.next=5,Fr.awrap(IS(this.yR,e,i));case 5:if(!((r=a.sent)instanceof _)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.hd){a.next=11;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Fr.awrap(this.jw.ud(r));case 14:return s=a.sent,a.next=17,Fr.awrap(s.Ul(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),fu(a.t0),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=xS(e,void 0),a.next=27,Fr.awrap(RS(this.yR,new _(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],qe)},e.yI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.uI(t,xf.Gf,ug.kd,i),o.next=3,Fr.awrap(CS(this.yR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.hd){o.next=9;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.jw.ud(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Ul(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),fu(o.t0),new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=_,o.next=25,Fr.awrap(DS(this.yR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],qe)},i}(SS),HS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,xf.Gf)||this).yR=void 0,u.kR=void 0,u.yR=s,u}E(i,t);var e=i.prototype;return e.mI=function(t,i){var e,r,s,u,o;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._I){t.next=2;break}return t.abrupt("return",this._I);case 2:return e=this.vR(i),t.next=5,Fr.awrap(IS(this.yR,e,i));case 5:if(r=t.sent,!Wu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Fr.awrap(this.jw.ud(r));case 11:return s=t.sent,t.next=14,Fr.awrap(s.Ul());case 14:return u=t.sent,o=xS(e,void 0),t.next=18,Fr.awrap(RS(this.yR,new _(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),fu(t.t0),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],qe)},e.yI=function(t,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.uI(t,xf.Gf,ug.md,i),o.next=3,Fr.awrap(CS(this.yR,e,this.kR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new _(r));case 7:if(""!==r.hd){o.next=9;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Fr.awrap(this.jw.ud(r));case 12:return s=o.sent,o.next=15,Fr.awrap(s.Ul(i));case 15:return u=o.sent,o.t0=_,o.next=19,Fr.awrap(DS(this.yR,u,e,s,this.kR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),fu(o.t2),new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],qe)},e.hR=function(n){var i;return this.kR=n,null!=(i=this.yR)&&i.extractFairplayContentId?qe.resolve(this.yR.extractFairplayContentId(n)):t.prototype.hR.call(this,n)},i}(ZT),XS=function(){function t(){}var n=t.prototype;return n.bR=function(t,n,i,e){switch(t.ec.fs){case Kr.$r:return this.pR(n,i,e);case Kr.Jr:return this.AR(n,i,e);case Kr.us:return this.SR(t,n,i,e);case Kr.rs:default:return this.ER(n,i,e)}},n.pR=function(t,n,i){var e,r=(e=t).integration===jA&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&QA.LI.BI(r,os)){var s=QA.LI.xI(r,os,t);return new US(t,n,i,s)}switch(r){case AA:return new AT(t,n,i);case IA:return new TT(t,n,i);case EA:return new ET(t,n,i);case TA:return new CT(t,n,i);case DA:return new xT(t,n,i);case PA:return new BT(t,n,i);case xA:return new LT(t,n,i);case OA:return new MT(t,n,i);case CA:default:return new SS(t,n,i,xf.Gf)}},n.AR=function(t,n,i){var e=t.integration;if(e&&QA.LI.BI(e,rs)){var r=QA.LI.xI(e,rs,t);return new FS(t,n,i,r)}switch(e){case AA:return new HT(t,n,i);case IA:return new VT(t,n,i);case EA:return new WT(t,n,i);case TA:return new qT(t,n,i);case DA:return new GT(t,n,i);case xA:return new YT(t,n,i);case OA:return new QT(t,n,i);case CA:default:return new FT(t,n,i)}},n.SR=function(t,n,i,e){var r=n.integration;if(r&&QA.LI.BI(r,fs)){var s=QA.LI.xI(r,fs,n);return new HS(t,n,i,e,s)}switch(r){case SA:return new KT(t,n,i,e);case IA:return new JT(t,n,i,e);case RA:return new iS(t,n,i,e);case AA:return new eS(t,n,i,e);case EA:return new rS(t,n,i,e);case TA:return new sS(t,n,i,e);case CA:return new uS(t,n,i,e);case DA:return new oS(t,n,i,e);case NA:return new aS(t,n,i,e);case PA:return new hS(t,n,i,e);case xA:return new cS(t,n,i,e);case BA:return new fS(t,n,i,e);case OA:return new lS(t,n,i,e);case LA:return new vS(t,n,i,e);case MA:return new AS(t,n,i,e);default:return new ZT(t,n,i,e,xf.$n)}},n.ER=function(t,n,i){return new TS(t,n,i)},n.IR=function(t){return t.fs===Kr.Jr||t.fs===Kr.$r||t.fs===Kr.us||t.fs===Kr.rs},n.gc=function(t,n){var i;if(t.fs!==Kr.Jr)return!1;if(H(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!QA.LI.BI(e,fs))&&(e===AA&&new UT(n).gc)},n.FI=function(t,n){if(t.fs===Kr.$r){var i=n.integration;if(!i||!QA.LI.BI(i,fs))return i===AA?AT.FI():void 0}},t}();!function(t){t[t.RR=0]="RR",t[t.DR=1]="DR",t[t.NR=2]="NR",t[t.PR=3]="PR",t[t.OR=4]="OR",t[t.Ng=5]="Ng",t[t.xR=6]="xR",t[t.LR=7]="LR",t[t.Lg=8]="Lg",t[t.MR=9]="MR",t[t.UR=10]="UR"}(jS||(jS={}));var zS=function(){function t(){}return t.prototype.XR=function(t){},T(t,[{key:"FR",get:function(){return 0}},{key:"HR",get:function(){return 0}}]),t}(),VS=function(){function t(t,n){void 0===n&&(n=new XS),this.pE=void 0,this.zR=void 0,this.YI=void 0,this.pE=t,this.zR=n}var n=t.prototype;return n.WR=function(t){this.YI=t},n.FI=function(t){var n=this.YI;if(void 0!==n)return this.zR.FI(t,n)},n.gc=function(t){var n=this.YI;return void 0!==n&&this.zR.gc(t,n)},n.GR=function(t){var n={ec:t.ec,qR:t.qR||[],sR:t.sR},i=this.zR.bR(n,this.YI||{},t.QE,this.pE);return new WS(i)},t}(),WS=function(){function t(t){this.YR=void 0,this.YR=t}var n=t.prototype;return n.eI=function(t){return this.YR.eI(t)},n.rI=function(t,n,i){return this.YR.rI(n,i)},n.gI=function(){return this.YR.gI||void 0!==this.YR._I},n.mI=function(t,n){return this.YR.mI(t,n)},n.yI=function(t,n,i){return n&&this.YR.nI(n),this.YR.yI(t,i)},n.xs=function(){this.YR.xd()},t}(),qS=function(t){function n(n){var i;(i=t.call(this)||this).jR=[],i.QR=function(t){i.E_(t.i_)},i.ZR=function(t){var n=t.i_;i.KR(n)||i.I_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.JR(r)}return i}E(n,t);var i=n.prototype;return i.JR=function(t){this.jR.push(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.E_(e)}this.$R(t)},i.tD=function(t){$s(this.jR,t),this.nD(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.KR(e)||this.I_(e)}},i.KR=function(t){for(var n=0,i=this.jR;n<i.length;n++){if(i[n].R_(t))return!0}return!1},i.$R=function(t){t.Zs(Zm.Qw,this.QR),t.Zs(Zm.Kw,this.ZR)},i.nD=function(t){t.tu(Zm.Qw,this.QR),t.tu(Zm.Kw,this.ZR)},i.xd=function(){for(;this.jR.length>0;)this.tD(this.jR[0]);t.prototype.xd.call(this)},i.n_=function(){return Fy(this)},n}(ay);function GS(t){return{get enabled(){return t.F_},set enabled(n){t.F_=_y(n)},get currentLatency(){return t.ym},get streamConfiguration(){if(void 0!==t.iD)return function(t){return{get minimumOffset(){return t.cm},get maximumOffset(){return t.vm},get targetOffset(){return t.fm},get forceSeekOffset(){return t.lm},get minimumPlaybackRate(){return t.dm},get maximumPlaybackRate(){return t.wm}}}(t.iD)},get configuration(){return function(t){return{get minimumOffset(){return t.cm},set minimumOffset(n){t.cm=by(n)},get maximumOffset(){return t.vm},set maximumOffset(n){t.vm=by(n)},get targetOffset(){return t.fm},set targetOffset(n){t.fm=by(n)},get forceSeekOffset(){return t.lm},set forceSeekOffset(n){t.lm=by(n)},get minimumPlaybackRate(){return t.dm},set minimumPlaybackRate(n){t.dm=by(n)},get maximumPlaybackRate(){return t.wm},set maximumPlaybackRate(n){t.wm=by(n)},update:function(n){t.Zh(function(t){var n={};void 0!==t.minimumOffset&&(n.cm=by(t.minimumOffset));void 0!==t.maximumOffset&&(n.vm=by(t.maximumOffset));void 0!==t.targetOffset&&(n.fm=by(t.targetOffset));void 0!==t.forceSeekOffset&&(n.lm=by(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.dm=by(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.wm=by(t.maximumPlaybackRate));return n}(n))}}}(t.rc)}}}var $S,YS=function(){function t(){this.$w=void 0,this.eD=void 0,this.eD={lm:0,vm:0,wm:0,cm:0,dm:0,fm:0,Zh:K}}return T(t,[{key:"t_",get:function(){return null!=this.$w||(this.$w=GS(this)),this.$w}},{key:"F_",get:function(){return!1},set:function(t){}},{key:"ym",get:function(){}},{key:"iD",get:function(){}},{key:"rc",get:function(){return this.eD}}]),t}();function QS(){return $S||($S=we&&we.document&&we.document.createElement("video")),$S}var ZS=function(t){function i(i,e,r,s,u,o,a){var h;return void 0===o&&(o=new XS),void 0===a&&(a=Ef()),(h=t.call(this)||this).rD=void 0,h.sD=void 0,h.uD=void 0,h.Nm=void 0,h.Cm=void 0,h.Pm=void 0,h.oD=void 0,h.aD=void 0,h.hD=void 0,h.cD=void 0,h.fD=void 0,h.pE=void 0,h.ys=void 0,h.vD=void 0,h.lD=void 0,h.dD=new zS,h.wD=new YS,h._D=function(t){var i=t.mu,e=i.code,r=new lf(function(t){switch(t){case Jp.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Jp.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Jp.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Jp.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Jp.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Jp.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Jp.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new e_(e,r.message,i.message);h.gD(r,s)},h.mD=function(){h.Qs(new Sp(h.jg,h._y))},h.yD=function(t){h.$g||(h.lD=void 0),h.Qs(t)},h.kD=function(t){h.lD=void 0,h.Qs(t)},h.bD=function(){h.Qs(new S_(h.yy))},h.pD=function(){h.um>0&&h.im>0&&h.Qs(new aA)},h.TD=function(t){h.Nm.E_(new p_(t.track))},h.SD=function(t){var n=JS(h.Nm,t.track);n&&h.Nm.I_(n)},h.ED=function(){h.RD(h.Nm)},h.DD=function(t){h.Cm.E_(new T_(t.track))},h.ND=function(t){var n=JS(h.Cm,t.track);n&&h.Cm.I_(n)},h.CD=function(){h.RD(h.Cm)},h.PD=function(t){h.Qs(t),h.gD(t.errorObject,s_(t.errorObject))},h.rD=e,h.pE=r,h.ys=a,h.sD=h.rD.BD(u_.Ed),h.hD=h.sD.OD.preload,h.cD=new bA(h.sD,!0),h.cD.Zs(bp,h.js),h.vD=new VS(r,o),h.sD.xD=h.vD,h.LD(),h.Nm=new o_,h.Cm=new o_,h.MD(),h.fD=new nA(h.sD,h.pE),h.Pm=new qS([h.sD.Um]),h.Km(),h}E(i,t);var e=i.prototype;return e.Jm=function(){this.sD.Jm()},e.Km=function(){this.sD.Km()},e.Wm=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return cu(i),e={fs:oA.NE,fg:t.src,Fl:t.type,UD:this.XD(t),Dy:this.hD,FD:t.crossOrigin,HD:n.metadata&&n.metadata.title},this.vD.WR(t.contentProtection),r.next=5,Fr.awrap(this.sD.jh(e));case 5:this.uD=r.sent,cu(i),n.textTracks&&this.zD(n.textTracks),uA(this.Um);case 9:case"end":return r.stop()}},null,this,null,qe)},e.zD=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.sD.VD()&&j.hn&&gA&&!qk(i.kind,i.label)&&this.WD(i)){var e,r=null!=(e=i.kind)?e:Pk.rA;this.sD.GD(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.fD.TE(i)}}},e.WD=function(t){return!t.format||"webvtt"===t.format},e.Fm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.sD.Fm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.qD){t.next=12;break}return t.next=10,Fr.awrap(this.sD.au(Pf.Rf));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],qe)},e.Hm=function(){this.sD.Hm()},e.Gm=function(){return void 0!==this.sD.OD.webkitShowPlaybackTargetPicker},e.qm=function(){this.sD.OD.webkitShowPlaybackTargetPicker&&this.sD.OD.webkitShowPlaybackTargetPicker()},e.Ym=function(){this.sD.OD.webkitShowPlaybackTargetPicker&&this.sD.OD.webkitShowPlaybackTargetPicker()},e.$m=function(){return this.sD.OD},e.iy=function(){return this.sD.YD},e.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oD=void 0,this.aD=void 0,this.uD=void 0,t.next=5,Fr.awrap(this.fD.D_());case 5:return this.sD.jD(),t.next=8,Fr.awrap(this.sD.D_());case 8:this.cD.D_(),this.Dy=this.hD,this.Lm.D_(),this.Mm.D_(),this.lD=void 0;case 13:case"end":return t.stop()}},null,this,null,qe)},e.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.D_());case 2:return this.$s(),this.QD(),this.ZD(),this.cD.xd(),this.sD.xD=void 0,t.next=9,Fr.awrap(this.rD.KD(this.sD));case 9:return this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),t.next=14,Fr.awrap(this.fD.xd());case 14:case"end":return t.stop()}},null,this,null,qe)},e.LD=function(){this.sD.Zs(Pf.If,this.js),this.sD.Zs(Pf.Ef,this.js),this.sD.Zs(Pf.Ff,this.mD),this.sD.Zs(Pf.Rf,this.js),this.sD.Zs(Pf.bf,this.js),this.sD.Zs(Pf.Bf,this.js),this.sD.Zs(Pf.Pf,this.yD),this.sD.Zs(Pf.mf,this.js),this.sD.Zs(Pf.Df,this.js),this.sD.Zs(Pf.Hf,this.js),this.sD.Zs(Pf._f,this.js),this.sD.Zs(Pf.Cf,this.pD),this.sD.Zs(wp.Yg,this.kD),this.sD.Zs(xy.K_,this._D),this.sD.Zs(Pf.lf,this.js),this.sD.Zs(Pf.vf,this.PD),this.sD.OD.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.bD)},e.QD=function(){this.sD.tu(Pf.If,this.js),this.sD.tu(Pf.Ef,this.js),this.sD.tu(Pf.Ff,this.mD),this.sD.tu(Pf.Rf,this.js),this.sD.tu(Pf.bf,this.js),this.sD.tu(Pf.Bf,this.js),this.sD.tu(Pf.Pf,this.yD),this.sD.tu(Pf.mf,this.js),this.sD.tu(Pf.Df,this.js),this.sD.tu(Pf.Hf,this.js),this.sD.tu(Pf._f,this.js),this.sD.tu(Pf.Cf,this.pD),this.sD.tu(wp.Yg,this.kD),this.sD.tu(xy.K_,this._D),this.sD.tu(Pf.lf,this.js),this.sD.tu(Pf.vf,this.PD),this.sD.OD.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.bD)},e.XD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:gs,JD:[{initDataTypes:[gs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.MD=function(){var t=this.sD.OD.audioTracks,n=this.sD.OD.videoTracks;t&&(t.addEventListener("addtrack",this.TD),t.addEventListener("removetrack",this.SD),t.addEventListener("change",this.ED)),n&&(n.addEventListener("addtrack",this.DD),n.addEventListener("removetrack",this.ND),n.addEventListener("change",this.CD))},e.ZD=function(){var t=this.sD.OD.audioTracks,n=this.sD.OD.videoTracks;t&&(t.removeEventListener("addtrack",this.TD),t.removeEventListener("removetrack",this.SD),t.removeEventListener("change",this.ED)),n&&(n.removeEventListener("addtrack",this.DD),n.removeEventListener("removetrack",this.ND),n.removeEventListener("change",this.CD))},e.RD=function(t){for(var n=0;n<t.C_;n++){t.S_(n).Fy()}},e.ly=function(){this.sD.ly()},e.gD=function(t,n){this.oD||(this.oD=n,this.aD=t,this.Qs(new Bp(t)))},T(i,[{key:"qD",get:function(){var t=this.sD.wy,n=this.jg;return t.$D(n,.01)}},{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.sD.wy.tN()}},{key:"_y",get:function(){return this.sD._y},set:function(t){t&&this.sD.nN(t)}},{key:"jg",get:function(){return void 0!==this.lD?this.lD:this.sD.jg},set:function(t){this.yy&&(this.lD=t),this.sD.xu(t)}},{key:"Qg",get:function(){return this.sD.Qg}},{key:"Zg",get:function(){return this.sD.Zg}},{key:"mu",get:function(){return this.oD}},{key:"Kg",get:function(){return this.aD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return this.sD.yy}},{key:"Tm",get:function(){return Ur({},{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.sD.iN())}},{key:"Jg",get:function(){return this.sD.Jg},set:function(t){this.sD.Jg=t}},{key:"Iy",get:function(){return!0}},{key:"$g",get:function(){return this.sD.$g}},{key:"tm",get:function(){return this.sD.tm},set:function(t){this.sD.tm=t}},{key:"Ry",get:function(){return this.sD.OD.played}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD=t,this.uD&&(this.uD.Dy=t)}},{key:"ag",get:function(){return this.sD.ag}},{key:"Ny",get:function(){return this.sD.Ny.tN()}},{key:"nm",get:function(){return this.sD.nm}},{key:"eN",get:function(){return this.sD.eN}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"im",get:function(){return this.sD.im}},{key:"um",get:function(){return this.sD.um}},{key:"hm",get:function(){return this.sD.hm},set:function(t){this.sD.hm=t}},{key:"Cy",get:function(){return this.wD}},{key:"Py",get:function(){return this.sD.Py},set:function(t){this.sD.Py=t}},{key:"rN",get:function(){return this.dD}}]),i}(Xy);var KS=function(){function t(){this.sN=jS.UR}var n=t.prototype;return n.RI=function(t,n,i,e,r,s){return new ZS(t,n,i,e,r)},n.uN=function(t,n){return function(t){return!t.type||!(!QS().canPlayType||!QS().canPlayType(t.type))}(t)},n.oN=function(){return!1},t}();function JS(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.Vy===n)return r}}var tE=function(){function t(){this.aN=new KS,this.hN=[]}t.cN=function(){return this.Yn};var n=t.prototype;return n.fN=function(t){this.hN.push(t)},n.RI=function(t,n,i,e,r,s){for(var u=this.aN.RI(t,n,i,e,r,s),o=0,a=this.hN;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.uN=function(t,n){return this.aN.uN(t,n)},n.oN=function(){return!1},T(t,[{key:"sN",get:function(){return this.aN.sN}}]),t}();function nE(t,n){return Hs(t.sN,n.sN)}function iE(t){eE.Yn.vN(t)}tE.Yn=new tE;var eE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).lN=tE.cN(),n}E(n,t);var i=n.prototype;return i.dN=function(t){this.lN=t},i.wN=function(){return this.lN},i._N=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Fr.awrap(this.gN(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{mN:e,yN:r});case 8:i++,a.next=1;break;case 11:s=this.lN,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.uN(o,n)){a.next=17;break}return a.abrupt("return",{mN:o,yN:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{mN:t[0],yN:s});case 21:case"end":return a.stop()}},null,this,null,qe)},n}(function(){function t(){this.kN=[]}var n=t.prototype;return n.vN=function(t){this.kN.push(t),this.kN.sort(nE)},n.gN=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.kN;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Y(s=r.uN(t,n))){u.next=10;break}return u.next=7,Fr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,qe)},t}());eE.Yn=new eE;var rE,sE=function(){function t(t){this.bN=void 0,this.bN=we&&we.document&&we.document.createElement("div"),cr(this.bN),t.appendChild(this.bN)}return t.prototype.xd=function(){nr(this.bN)},t}();function uE(t){switch(t){case rE.pN:case"":return rE.pN;case rE.uA:return rE.uA;case rE.AN:default:return rE.AN}}!function(t){t.UR="",t.AN="none",t.uA="metadata",t.pN="auto"}(rE||(rE={}));var oE=[xy.K_,Pf.gf,Pf.yu,Pf.Wf,Pf.sf,Pf.yf,Pf.Tf,Pf.Sf,Pf.xf,Pf.Mf,wp.zg,wp.Vg,wp.Wg,wp.Gg,wp.w_,wp.qg,wp.Yg,Pf.vf,Pf.lf,Pf._f,Pf.mf,Pf.bf,Pf.pf,Pf.If,Pf.Rf,Pf.Ef,Pf.Df,Pf.Cf,Pf.Bf,Pf.Pf,Pf.Ff,Pf.Hf,Pf.Nf,Pf.Af,Pf.Of],aE=function(t){function n(n,i){var e;return(e=t.call(this)||this).TN=void 0,e.SN=void 0,e.EN=void 0,e.IN=void 0,e.hD=rE.AN,e.RN=void 0,e.DN=!0,e.Nm=new By,e.Cm=new By,e.Pm=new Hy,e.Bm=new t_,e.TN=n,e.EN=i,e.EN.Dy=e.Dy,e.NN(),e}E(n,t);var i=n.prototype;return i.Hm=function(){this.EN.Hm()},i.Fm=function(){var t=this.EN.Fm();Y(t)&&yu(t)},i.zm=function(){return this.Wm(void 0)},i.jm=function(){},i.sy=function(t){return!1},i.NN=function(){this.Nm.M_=this.EN.Lm,this.Cm.M_=this.EN.Mm,this.Pm.M_=this.EN.Um,this.Bm.M_=this.EN.Xm,this.EN.Zs(oE,this.js)},i.CN=function(){this.EN.tu(oE,this.js),this.Nm.M_=void 0,this.Cm.M_=void 0,this.Pm.M_=void 0,this.Bm.M_=void 0},i.Vm=function(){return this.RN},i.Wm=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(cu(n),this.RN=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!hp(i=t.sources.filter(dp))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Fr.awrap(this.TN._N(i,t));case 9:if(e=a.sent,cu(n),r=e.mN,s=e.yN,u=this.iy(),o=Mp(this),this.SN===s&&!this.mu){a.next=25;break}return this.CN(),a.next=19,Fr.awrap(this.EN.xd());case 19:cu(n),this.SN=s,this.EN=this.PN(s),hE(this.EN,o),jp(this,o,this),this.NN();case 25:return this.EN.Dy=this.Dy,this.DN?this.EN.Km():this.EN.Jm(),a.next=29,Fr.awrap(this.EN.Wm(r,t,n));case 29:cu(n),this.BN(r),this.iy()!==u&&this.Qs(new Vy);case 32:case"end":return a.stop()}},null,this,null,qe)},i.BN=function(t){this.IN!==t&&(this.IN=t,this.Qs(new Wy(t)))},i.Gm=function(){return this.EN.Gm()},i.qm=function(){this.EN.qm()},i.Ym=function(){this.EN.Ym()},i.iy=function(){return this.EN.iy()},i.ly=function(){this.EN.ly()},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RN=void 0,this.BN(void 0),t.next=4,Fr.awrap(this.EN.D_());case 4:case"end":return t.stop()}},null,this,null,qe)},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.D_());case 3:return t.next=5,Fr.awrap(this.EN.xd());case 5:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.Bm.xd();case 9:case"end":return t.stop()}},null,this,null,qe)},i.Km=function(){this.DN=!0,this.EN.Km()},i.Jm=function(){this.DN=!1,this.EN.Jm()},T(n,[{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.EN.wy}},{key:"mu",get:function(){return this.EN.mu}},{key:"Kg",get:function(){return this.EN.Kg}},{key:"_y",get:function(){return this.EN._y},set:function(t){this.EN._y=t}},{key:"vy",get:function(){return this.IN}},{key:"jg",get:function(){return this.EN.jg},set:function(t){this.EN.jg=t}},{key:"Qg",get:function(){return this.EN.Qg}},{key:"Zg",get:function(){return this.EN.Zg}},{key:"Xm",get:function(){return this.Bm}},{key:"yy",get:function(){return this.EN.yy}},{key:"Tm",get:function(){return this.EN.Tm}},{key:"Jg",get:function(){return this.EN.Jg},set:function(t){this.EN.Jg=t}},{key:"Iy",get:function(){return this.EN.Iy}},{key:"$g",get:function(){return this.EN.$g}},{key:"tm",get:function(){return this.EN.tm},set:function(t){this.EN.tm=t}},{key:"Ry",get:function(){return this.EN.Ry}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD=t,this.EN&&(this.EN.Dy=this.hD)}},{key:"ag",get:function(){return this.EN.ag}},{key:"Ny",get:function(){return this.EN.Ny}},{key:"nm",get:function(){return this.EN.nm}},{key:"Um",get:function(){return this.Pm}},{key:"im",get:function(){return this.EN.im}},{key:"Mm",get:function(){return this.Cm}},{key:"um",get:function(){return this.EN.um}},{key:"hm",get:function(){return this.EN.hm},set:function(t){this.EN.hm=t}},{key:"Cy",get:function(){return this.EN.Cy}},{key:"rN",get:function(){return this.EN.rN}}]),n}(Tu);function hE(t,n){t.Jg!==n.Jg&&(t.Jg=n.Jg),t.hm!==n.hm&&(t.hm=n.hm),t.tm!==n.tm&&(t.tm=n.tm)}var cE,fE=function(t){function n(n,i){var e;return(e=t.call(this)||this).C_=void 0,e.ON=void 0,e.xN=void 0,e.C_=n.length>>1,e.ON=n,e.xN=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.C_),e}E(n,t);var i=n.prototype;return i.LN=function(t){return this.ON[2*t]},i.MN=function(t){return this.xN[2*t]},i.UN=function(t){return this.ON[2*t+1]},i.XN=function(t){return this.xN[2*t+1]},T(n,[{key:"FN",get:function(){return this.ON.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Tk=function(t,n){return 0===this.Mk(t,n)},n.gb=function(t,n){return this.Mk(t,n)>0},n.mb=function(t,n){return this.Mk(t,n)>=0},n.zk=function(t,n){return this.Mk(t,n)<0},n.Fk=function(t,n){return this.Mk(t,n)<=0},n.Mb=function(t,n){return this.zk(t,n)?t:n},n.Lb=function(t,n){return this.gb(t,n)?t:n},n.HN=function(t,n,i){return i?this.Fk(t,n):this.zk(t,n)},n.tN=function(){var t=this;return{get length(){return t.C_},start:function(n){var i=0|n;return t.zN(i),t.VN(t.LN(i))},end:function(n){var i=0|n;return t.zN(i),t.VN(t.UN(i))}}},n.WN=function(){for(var t=new Array(2*this.C_),n=new Array(2*this.C_),i=0;i<this.C_;i++)t[2*i]=this.LN(i),t[2*i+1]=this.UN(i),n[2*i]=!0,n[2*i+1]=!0;return this.GN(t,n)},n.zN=function(t){if(t<0)throw new l("The index provided ("+t+") must be non-negative");if(t>=this.C_)throw new l("The index provided ("+t+") is greater than the maximum bound ("+this.C_+")")},n.qN=function(t){if(0===this.C_)return this.YN();if(this.$D(t))return t;if(this.Fk(t,this.LN(0)))return this.LN(0);if(this.mb(t,this.UN(this.C_-1)))return this.UN(this.C_-1);for(var n,i=this.jN(),e=0;e<this.C_;e++){var r=this.LN(e),s=this.Hk(r,t);this.zk(s,i)&&(n=r,i=s);var u=this.UN(e),o=this.Hk(this.UN(e),t);this.zk(o,i)&&(n=u,i=o)}return n},n.QN=function(t){for(var n=0,i=0,e=[],r=[];n<this.C_&&i<t.C_;){var s=this.LN(n),u=this.UN(n),o=this.MN(n),a=this.XN(n),h=t.LN(i),c=t.UN(i),f=t.MN(i),l=t.XN(i),v=this.Lb(s,h),d=this.Mb(u,c),w=void 0;w=this.Tk(s,h)?o&&f:this.Tk(v,s)?o:f;var g=void 0;g=this.Tk(u,c)?a&&l:this.Tk(d,u)?a:l,(this.zk(v,d)||w&&g&&this.Tk(v,d))&&(e.push(v,d),r.push(w,g));var m=this.Mk(this.UN(n),t.UN(i));0===m?(n+=1,i+=1):m<0?n+=1:i+=1}return this.GN(e,r)},n.ZN=function(){var t=this.KN(),n=t.C_;if(0===n)return this.GN([t.JN(),t.jN()],[!1,!1]);var i=[],e=[],r=t.LN(0);t.Tk(r,t.JN())||(i.push(t.JN(),r),e.push(!1,!t.MN(0)));for(var s=0;s<n-1;s++)i.push(t.UN(s),t.LN(s+1)),e.push(!t.XN(s),!t.MN(s+1));var u=t.UN(n-1);return t.Tk(u,t.jN())||(i.push(u,t.jN()),e.push(!t.XN(n-1),!1)),t.GN(i,e)},n.$N=function(t){for(var n=0,i=0,e=this.C_,r=t.C_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.LN(n),h=this.UN(n),c=t.LN(i),f=t.UN(i);this.zk(a,c)||this.Tk(a,c)&&this.zk(h,f)?(s[o]=a,s[o+1]=h,u[o]=this.MN(n),u[o+1]=this.XN(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.MN(i),u[o+1]=t.XN(i),i++),o+=2}for(;n<e;)s[o]=this.LN(n),s[o+1]=this.UN(n),u[o]=this.MN(n),u[o+1]=this.XN(n),n++,o+=2;for(;i<r;)s[o]=t.LN(i),s[o+1]=t.UN(i),u[o]=t.MN(i),u[o+1]=t.XN(i),i++,o+=2;return this.GN(s,u)},n.tC=function(t){void 0===t&&(t=this.YN());var n=this.C_;if(n<2)return this;for(var i=[],e=[],r=this.LN(0),s=this.UN(0),u=this.MN(0),o=this.XN(0),a=1;a<n;a++){var h=this.LN(a),c=this.UN(a),f=this.MN(a),l=this.XN(a);this.zk(r,h)&&this.gb(s,c)||(this.Tk(r,h)&&(u=f=u||f),this.Tk(s,c)&&(o=l=o||l),this.HN(h,this.Oy(s,t),o||f)?(s=c,o=l):(i.push(r,s),e.push(u,o),r=h,s=c,u=f,o=l))}return i.push(r,s),e.push(u,o),this.GN(i,e).KN()},n.KN=function(){for(var t=[],n=[],i=0;i<this.C_;i++){var e=this.LN(i),r=this.UN(i),s=this.MN(i),u=this.XN(i);this.Tk(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.GN(t,n)},n.nC=function(t){return this.C_?t.C_?this.$N(t).tC():this:t},n.iC=function(t){var n=this.KN(),i=t.KN(),e=n.ZN(),r=i.ZN(),s=e.QN(i),u=r.QN(n);return s.nC(u)},n.Bu=function(t){if(this.Tk(t,this.YN()))return this;for(var n=[],i=[],e=0;e<this.C_;e++){var r=this.Oy(this.LN(e),t),s=this.Oy(this.UN(e),t);n.push(r,s),i.push(this.MN(e),this.XN(e))}return this.GN(n,i)},n.eC=function(t){return 0===this.C_||0===t.C_?this:this.KN().QN(t.KN().ZN())},n.$D=function(t,n){return this.rC(t,n)>=0},n.sC=function(t,n,i,e,r){return this.uC(t,n,i,e,r)>=0},n.oC=function(t,n,i,e,r){return this.aC(t,n,i,e,r)>=0},n.hC=function(t){if(t.C_!==this.C_)return!1;for(var n=0;n<this.C_;n++)if(!this.Tk(this.LN(n),t.LN(n))||!this.Tk(this.UN(n),t.UN(n))||this.MN(n)!==t.MN(n)||this.XN(n)!==t.XN(n))return!1;return!0},n.cC=function(t){for(var n=[],i=[],e=0;e<this.C_;e++){var r=this.LN(e),s=this.UN(e),u=this.MN(e),o=this.XN(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.GN(n,i)},n.aC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.YN());for(var s=this.qk(t,r),u=this.Oy(n,r),o=0;o<this.C_;o+=1)if(this.HN(this.LN(o),u,!e||this.MN(o))&&this.HN(s,this.UN(o),!i||this.XN(o)))return o;return-1},n.uC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.YN());for(var s=this.Oy(t,r),u=this.qk(n,r),o=0;o<this.C_;o+=1)if(this.HN(this.LN(o),s,!i||this.MN(o))&&this.HN(u,this.UN(o),!e||this.XN(o)))return o;return-1},n.rC=function(t,n){return this.uC(t,t,!0,!0,n)},n.fC=function(t,n){void 0===n&&(n=this.YN());for(var i=this.Oy(t,n),e=this.C_-1;e>=0;e-=1)if(this.HN(this.LN(e),i,this.MN(e)))return e;return-1},n.vC=function(t,n){void 0===n&&(n=this.YN());for(var i=this.qk(t,n),e=0;e<this.C_;e+=1)if(this.HN(i,this.UN(e),this.XN(e)))return e;return-1},n.lC=function(t){return this.zN(t),this.GN([this.LN(t),this.UN(t)],[this.MN(t),this.XN(t)])},n.dC=function(t,n){var i=this.rC(t,n);return i<0?void 0:this.lC(i)},T(t,[{key:"wC",get:function(){for(var t=this.YN(),n=0;n<this.C_;n++){var i=this.qk(this.UN(n),this.LN(n));t=this.Oy(t,i)}return t}}]),t}()),lE=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Mk=function(t,n){return t<n?Os.Ds:t===n?Os.Is:Os.Rs},i.Oy=function(t,n){return t+n},i.qk=function(t,n){return t-n},i.Hk=function(t,n){return g.abs(t-n)},i.YN=function(){return 0},i.jN=function(){return 1/0},i.JN=function(){return-1/0},n._C=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.gC=function(t){for(var i=[],e=[],r=0;r<t.C_;r++)i.push(t.LN(r).Fb),i.push(t.UN(r).Fb),e.push(t.MN(r)),e.push(t.XN(r));return new n(i,e)},n.mC=function(t){return new n([t,t],[!0,!0])},i.GN=function(t,i){return new n(t,i)},i.VN=function(t){return t},n.yC=function(){return vE},n}(fE),vE=new lE([]);!function(t){t.l_="fullscreenchange",t.kC="fullscreensupportchange",t.K_="fullscreenerror"}(cE||(cE={}));var dE=function(t){function n(){return t.call(this,cE.K_)||this}return E(n,t),n}(Eu),wE=new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.jy=function(){this.Qs(new dE)},i.Zy=function(){},i.xd=function(){this.$s()},T(n,[{key:"bC",get:function(){return!1}},{key:"pC",get:function(){return!1}}]),n}(Tu)),gE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).rD=void 0,n.sD=void 0,n}E(n,t);var i=n.prototype;return i.$m=function(){var t;return null==(t=this.sD)?void 0:t.OD},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.xd.call(this));case 2:if(!this.sD){n.next=6;break}return n.next=5,Fr.awrap(this.rD.KD(this.sD));case 5:this.sD=void 0;case 6:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"AC",set:function(t){this.rD=t,this.sD=t.BD(u_.Ed)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).TC=0,n.SC=!1,n.EC=!0,n.IC=1,n.RC=!1,n.Da=1,n.Lm=new o_,n.wy=lE.yC().tN(),n.Qg=NaN,n.Zg=!1,n.mu=void 0,n.Kg=void 0,n.Xm=void 0,n.yy=!1,n.Iy=!0,n.Ry=lE.yC().tN(),n.Dy=rE.AN,n.ag=Ky.Mg,n.Ny=lE.yC().tN(),n.eN=void 0,n.Um=new xk,n.im=0,n.Mm=new o_,n.um=0,n.Cy=new YS,n.dD=new zS,n}E(n,t);var i=n.prototype;return i.Km=function(){},i.Jm=function(){},i.Fm=function(){this.EC&&(this.EC=!1,this.Qs(new yp(this.jg)),this.Qs(new yA(this.jg)))},i.Hm=function(){this.EC||(this.EC=!0,this.Qs(new Sp(this.jg,this._y)),this.Qs(new mp(this.jg)))},i.Wm=function(t,n){return qe.resolve()},i.Gm=function(){return!1},i.qm=function(){},i.Ym=function(){},i.iy=function(){return wE},i.ly=function(){},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.TC=0,this.RC=!1,this.Hm(),this.Qs(new gp(this.TC));case 4:case"end":return t.stop()}},null,this,null,qe)},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$s(),this.Lm.xd(),this.Um.xd(),this.Mm.xd();case 4:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"_y",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.TC},set:function(t){this.TC!==t&&(this.TC=t,this.RC=!0,this.Qs(new Rp(this.jg)))}},{key:"Tm",get:function(){return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.SC=t,this.Qs(new Dp(this.jg,this.hm)))}},{key:"$g",get:function(){return this.EC}},{key:"tm",get:function(){return this.IC},set:function(t){this.IC!==t&&(this.IC=t,this.Qs(new Tp(this.jg,this.tm)))}},{key:"nm",get:function(){return this.RC}},{key:"hm",get:function(){return this.Da},set:function(t){this.Da!==t&&(this.Da=t,this.Qs(new Dp(this.jg,this.hm)))}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"rN",get:function(){return this.dD}}]),n}(Tu)),mE=function(t){function n(n,i,e,r,s,u){var o,a=new gE;return(o=t.call(this,eE.Yn,a)||this).Pc=void 0,o.DC=void 0,o.NC=void 0,o.BC=void 0,o.pE=void 0,o.OC=void 0,o.xC=void 0,o.NC=n,o.Pc=i,o.pE=e,o.OC=r,o.BC=u,o.DC=new le(s,o.BC),o.DC.LC(o.NC),a.AC=o.DC,o.xC=new sE(o.NC),o}E(n,t);var i=n.prototype;return i.jm=function(){t.prototype.jm.call(this),this.DC.MC()},i.Qm=function(t){var n,i,e,r;n=this,e=(i=t).hm,r=i.Jg,n.hm=e,n.Jg=r},i.Zm=function(){},i.PN=function(t){return t.RI(this.NC,this.DC,this.pE,this.Pc,this.OC,this.BC)},i.$m=function(){return this.EN.$m()},i.ey=function(){return this.DC.UC.map(function(t){return t.OD})},i.Js=function(n){t.prototype.Js.call(this,n)},i.ou=function(n){t.prototype.ou.call(this,n)},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.xd.call(this));case 2:this.DC.xd(),this.xC.xd();case 4:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"gy",get:function(){return this.NC}},{key:"Py",get:function(){return this.EN.Py},set:function(t){this.EN.Py=t}}]),n}(aE),yE=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).NC=void 0,r.XC=void 0,r.FC=void 0,r.HC=void 0,r.zC=void 0,r.wD=new YS,r.NC=n,r.XC=i,r.HC=new o_,r.zC=new xk,r.FC=e,r}E(n,t);var i=n.prototype;return i.sy=function(t){return!0},i.Jm=function(){},i.Fm=function(){throw this.Qs(new Bp(this.FC)),this.XC},i.Hm=function(){},i.Vm=function(){},i.Wm=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw cu(n),this.Qs(new Bp(this.FC)),this.XC;case 3:case"end":return t.stop()}},null,this,null,qe)},i.Km=function(){},i.zm=function(){return qe.resolve()},i.$m=function(){},i.iy=function(){return wE},i.ey=function(){return[]},i.jm=function(){},i.Qm=function(t){},i.Zm=function(){},i.Gm=function(){return!1},i.qm=function(){},i.Ym=function(){},i.ly=function(){},i.D_=function(){return qe.resolve()},i.xd=function(){return this.$s(),this.HC.xd(),this.zC.xd(),qe.resolve()},T(n,[{key:"Lm",get:function(){return this.HC}},{key:"wy",get:function(){return lE.yC().tN()}},{key:"_y",get:function(){return new Date(NaN)},set:function(t){}},{key:"vy",get:function(){}},{key:"jg",get:function(){return 0},set:function(t){}},{key:"Qg",get:function(){return 0}},{key:"gy",get:function(){return this.NC}},{key:"Zg",get:function(){return!0}},{key:"mu",get:function(){return this.XC}},{key:"Kg",get:function(){return this.FC}},{key:"Xm",get:function(){}},{key:"Tm",get:function(){return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Jg",get:function(){return!1},set:function(t){}},{key:"Iy",get:function(){return!0}},{key:"$g",get:function(){return!0}},{key:"tm",get:function(){return 0},set:function(t){}},{key:"Ry",get:function(){return lE.yC().tN()}},{key:"Dy",get:function(){return rE.AN},set:function(t){}},{key:"ag",get:function(){return Ky.Mg}},{key:"Ny",get:function(){return lE.yC().tN()}},{key:"nm",get:function(){return!1}},{key:"Um",get:function(){return this.zC}},{key:"im",get:function(){return 0}},{key:"Mm",get:function(){return this.HC}},{key:"um",get:function(){return 0}},{key:"hm",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this.wD}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"yy",get:function(){return!1}}]),n}(zy);function pE(t){if(t&&W(t))return Ur({},t,{integration:_E(t.integration),fairplay:EE(t.fairplay),widevine:bE(t.widevine),playready:kE(t.playready),clearkey:IE(t.clearkey),aes128:RE(t.aes128),integrationParameters:CE(t.integrationParameters),preferredKeySystems:DE(t.preferredKeySystems)})}function _E(t){if(G(t))return t}function bE(t){if(t&&W(t))return{persistentState:AE(t.persistentState),distinctiveIdentifier:AE(t.distinctiveIdentifier),audioRobustness:TE(t.audioRobustness),videoRobustness:TE(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:SE(t.licenseType),headers:t.headers,useCredentials:!!$(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||$o(t.certificate)?t.certificate:void 0}}function kE(t){if(t){var n=bE(t);if(n)return Ur({},n,{customData:G(t.customData)?t.customData:void 0})}}function AE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function TE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function SE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function EE(t){if(t){var n=bE(t);if(n)return Ur({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function IE(t){if(t){var n=bE(t);if(n)return Ur({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(H):void 0})}}function RE(t){if(W(t))return{useCredentials:$(t.useCredentials)?t.useCredentials:void 0}}function CE(t){if(W(t))return t}function DE(t){return t&&z(t)?t.map(function(t){return wT(t)}).filter(H):[os,rs,fs]}function NE(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(H(t)&&!p(t))return Ft(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=_y(t.retainPresentationModeOnSourceChange),t}var PE,xE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return E(n,t),n}(Eu),BE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).VC=[],e.WC=void 0,e.GC=function(t){mu(function(){e.js(t)})},e.WC=i?e.GC:e.js,e}E(n,t);var i=n.prototype;return i.qC=function(t){t.Js(this.WC),this.VC.push(t)},i.YC=function(t){t.ou(this.WC),$s(this.VC,t)},i.xd=function(){this.$s();for(var t=0,n=this.VC;t<n.length;t++){n[t].ou(this.WC)}Zs(this.VC)},n}(Xy),OE=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(BE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(PE||(PE={}));var LE,ME=function(t){function i(n){var i;return(i=t.call(this)||this).jC=void 0,i.QC=void 0,i.ZC=!1,i.KC=!1,i.JC=void 0,i.$C=void 0,i.tP=void 0,i.$w=void 0,i.nP=function(){return i.iP()},i.eP=function(){return i.rP()},i.tP=n,i.jC=i.QC=i.JC=i.$C=PE.INLINE,i.tP.Zs(cE.l_,i.nP),i.tP.Zs(cE.K_,i.eP),i.sP(),i}E(i,t);var e=i.prototype;return e.n_=function(){return t=this,i={get currentMode(){return t.uP()},requestMode:function(n){var i=FE(n);i&&t.oP(i)},supportsMode:function(n){var i=FE(n);return!!i&&t.aP(i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},(n=new BE(i,!0)).qC(t),i;var t,n,i},e.oP=function(t){this.hP(t,t)},e.hP=function(t,n){this.QC!==n&&(this.ZC=!0,this.jC=t,this.cP(n,this.QC),t!==PE.FULLSCREEN&&(this.JC=t),this.ZC=!1,this.sP())},e.uP=function(){return this.KC?PE.FULLSCREEN:PE.INLINE},e.aP=function(t){switch(t){case PE.FULLSCREEN:return this.tP.pC;case PE.INLINE:return!0}return!1},e.sP=function(){if(!this.ZC){var t=this.QC,n=this.uP();this.QC=n,n!==PE.FULLSCREEN&&(this.$C=n),t!==n&&this.Qs(new xE(n))}},e.cP=function(t,n){var i=t===PE.FULLSCREEN;this.KC=i,i!==this.tP.bC&&(i?this.tP.jy():this.tP.Zy())},e.iP=function(){if(!this.ZC){var t=this.tP.bC;this.KC=t,t?this.hP(PE.FULLSCREEN,PE.FULLSCREEN):t||this.jC!==PE.FULLSCREEN?this.sP():this.hP(this.JC,this.$C)}},e.rP=function(){this.iP(),this.Qs(new Bp(new lf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.xd=function(){this.tP.xd(),this.$s()},T(i,[{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),i}(Xy),jE={jg:0,Qg:NaN,Zg:!1,mu:void 0,Kg:void 0,Jg:!1,$g:!0,tm:1,ag:Ky.Mg,nm:!1,im:0,um:0,hm:1};function FE(t){switch(t){case PE.INLINE:case PE.FULLSCREEN:case PE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(LE||(LE={}));var UE,HE,XE,zE,VE,WE,qE,GE,$E=function(){function t(){this.fP=[]}var n=t.prototype;return n.vP=function(t){var n=this.lP.filter(function(n){return n.dP(t)});if(n.length>1)0;else if(0===n.length)throw l("Unknown ad integration: "+t.integration);return n[0]||null},n.wP=function(t){this.fP.push(t)},T(t,[{key:"lP",get:function(){return this.fP}}]),t}();$E.Yn=new $E,function(t){t.Yg="PLAYING",t.Em="PAUSED",t._P="SEEK",t.gP="STALLED",t.mP="FAILED",t.yP="INITIAL_BUFFERING",t.kP="NO_ACCESS"}(UE||(UE={})),function(t){t.bP="HTTP_REQUEST_STATUS_CODE_1XX",t.pP="HTTP_REQUEST_STATUS_CODE_2XX",t.AP="HTTP_REQUEST_STATUS_CODE_3XX",t.TP="HTTP_REQUEST_STATUS_CODE_4XX",t.SP="HTTP_REQUEST_STATUS_CODE_5XX",t.EP="BUFFER_LENGTH",t.IP="BYTES_RECEIVED",t.RP="SEGMENT_READ_BITRATE",t.DP="SEGMENT_PROFILE_BITRATE",t.NP="NUMBER_OF_FRAMES_DROPPED",t.CP="PLAYBACK_POSITION",t.PP="NUMBER_OF_FRAMES_DECODED",t.BP="PLAYBACK_DELTA_TO_ORIGIN",t.OP="STREAM_DELTA_TO_ORIGIN",t.xP="ORIGIN_TIMESTAMP"}(HE||(HE={})),function(t){t.LP="MANIFEST_URI",t.MP="ASSET_DURATION",t.UP="NUMBER_OF_CONTENT_PROFILES",t.XP="CDN",t.FP="CONTENT_TITLE",t.HP="SERVICE_NAME",t.zP="CONTENT_TYPE",t.VP="CONTENT_DESCRIPTION"}(XE||(XE={})),function(t){t.WP="shutdown_normal_shutdown"}(zE||(zE={})),function(t){t.GP="session/",t.qP="internalError/",t.YP="drmError/",t.jP="caError/",t.QP="networkError/"}(VE||(VE={})),function(t){t.ZP="userAction",t.KP="endOfStreamReached"}(WE||(WE={})),function(t){t.PAUSE="JP",t.RESUME="$P"}(qE||(qE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(GE||(GE={}));var YE,QE,ZE,KE,JE,tI="agama";function nI(t){return function(t){switch(t){case YE.NONE:case YE.HORIZONTAL:case YE.VERTICAL:return!0;default:return!1}}(t)?t:YE.NONE}function iI(t){switch(t){case"":return YE.NONE;case"horizontal":return YE.HORIZONTAL;case"vertical":return YE.VERTICAL;default:throw new v}}function eI(t){return{useSeamlessPeriodSwitch:function(t){if(!t||!G(t))return QE.pN;switch(t){case"always":return QE.tB;case"never":return QE.nB;default:return QE.pN}}(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:null==t?void 0:t.needsTimescaleShifting}}function rI(t){if(!t||!G(t))return ZE.pN;switch(t){case"playlist":return ZE.iB;case"media":return ZE.eB;default:return ZE.pN}}function sI(t,n){return t.length>0?t:n.length>0?n:void 0}function uI(t){if(null!==t)return t}function oI(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:uI(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:uI(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Ur({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.gr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.gr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Ur({},e,{availabilityType:"live",assetKey:u}):void i.gr("A Live DAI configuration was provided without valid assetKey which is required.")}i.gr("A DAI configuration was provided without a valid availabilityType which is required.")}function aI(t){if(!oT(t)||!t.integration)return t;switch(t.integration){case CA:return n=t,i=dT(Kr.$r,n),e=dT(Kr.Jr,n),r=n[Kr.us]&&dT(Kr.us,n),Ur({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(YE||(YE={})),function(t){t.pN="auto",t.tB="always",t.nB="never"}(QE||(QE={})),function(t){t.pN="auto",t.iB="playlist",t.eB="media"}(ZE||(ZE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(KE||(KE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(JE||(JE={}));var hI="https://content.uplynk.com";function cI(t){if(!t)return!0;var n,i=!(ap(n=t.sources)||V(n)&&ap(n[0]))||hp(t.sources),e=!t.ads||fI(t.ads),r=""!==t.poster&&!t.poster;return i&&e&&r}function fI(t){return!t||z(t)&&0===t.length}function lI(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(op(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function vI(t,n,i){return sp(t)?function(t,n,i){var e=Ur({},cp(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:KE.VERIZON_MEDIA,id:"",prefix:hI,preplayParameters:{},playbackUrlParameters:{},assetType:JE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:V(r)&&G(r[0])?r:W(s=r)&&G(s.userId)&&(V(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return JE.CHANNEL;case"event":return JE.EVENT;case"asset":default:return JE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=_y(t.contentProtected));t.assetInfo?e.assetInfo=_y(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Ay(t.prefix)||hI);return e.ping=(u=e.assetType,o=t.ping,a=!1,h=!1,c=!1,o?(a=!!$(o.adImpressions)&&o.adImpressions,h=!!$(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=$(o.linearAdData)?o.linearAdData:u!==JE.ASSET):u!==JE.ASSET&&(c=!0),{adImpressions:a,freeWheelVideoViews:h,linearAdData:c}),e=wI(e=gI(e=dI(e,t),n,i),t,i);var u,o,a,h,c}(t,n,i):function(t,n,i){var e=fp(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=np(t),r){var s=pE(r);e.contentProtection=aI(s)}}else if(op(t)||rp(t)){e.src=t.src,e.type=t.type||np(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Yy.xg||t.type===Yy.Lg}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&G(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,h=pE(a);e.contentProtection=aI(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return oI(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=dI(e,t)}var c;return e=wI(e=gI(e,n,i),t,i)}(t,n,i)}function dI(t,n){var i,e;n.useCredentials?t.crossOrigin=$y.Og:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case $y.Bg:case $y.Og:return t;default:return $y.Pg}}(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=_y(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=_y(n.useNativePlayback)),n.dash&&(t.dash=eI(n.dash)),n.hls&&(t.hls={discontinuityAlignment:rI(null==(i=n.hls)?void 0:i.discontinuityAlignment),useLegacy:(e=null==i?void 0:i.useLegacy,H(e)?Boolean(e):void 0)}),n.lcevc&&(t.lcevc=_y(n.lcevc));var r=void 0!==n.experimentalRendering?_y(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var s=void 0!==n.nativeUiRendering?_y(n.nativeUiRendering):void 0;return void 0!==s&&(t.nativeUiRendering=s),t}function wI(t,n,i){return t.abr=function(t,n){var i=Ty(null==t?void 0:t.preferredAudioCodecs,Ay),e=Ty(null==t?void 0:t.preferredVideoCodecs,Ay),r=Ty(null==n?void 0:n.preferredAudioCodecs,Ay),s=Ty(null==n?void 0:n.preferredVideoCodecs,Ay),u=sI(i,r),o=sI(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function gI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!H(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!H(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===$y.Pg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=$y.Bg),t.useCredentials=t.crossOrigin===$y.Og,G(r)&&!t.timeServer&&(t.timeServer=r),t}function mI(t){var n,i,e={src:""};if(t&&t.src){if(e.src=Ay(t.src),"default"in t&&(e.default=_y(t.default)),e.kind=(n=t.kind,Ok(i=String(n||"").toLowerCase())?i:i?Pk.uA:Pk.rA),function(t){switch(t){case k_.DEFAULT:case k_.SRT:case k_.TTML:case k_.WEBVTT:case k_.EMSG:case k_.EVENT_STREAM:case k_.ID3:case k_.CEA608:case k_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(e.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(e.srclang=r)}if("label"in t){var s=t.label;"string"==typeof s&&""!==s&&(e.label=s)}}return e}function yI(t,n){if(q(t))try{return n.vP(t).rB(t)}catch(t){return}}function pI(t){return G(t.sources)&&""!==t.sources||W(t.sources)&&G(t.sources.src)}function _I(t){return t.integration===LE.SPOTX&&!p(t.id)}function bI(t){return"freewheel"===t.integration}function kI(t,n,i){if(void 0===i&&(i=$E.Yn),cI(t))return{sources:[fp()]};var e=gy(t);if(e.sources=function(t,n,i){if(ap(t))return[vI(t,n,i)];if(V(t)&&ap(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(vI(s,n,i))}return e}return[fp()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=yI(s,n))&&(pI(s)||_I(s)||bI(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!hp(e.sources),h=e.ads&&e.ads.length>0;if(a&&!h?delete e.ads:h&&!a&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=mI(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Ay(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=nI(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?iI(u.stereoMode):YE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=vp(e.analytics),l=n&&n.analytics||[];e.analytics=function(t,n){for(var i=gy(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==tI&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,l)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Op(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=by(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var AI=function(){function t(t){this.sB=t}return t.prototype.uB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var h=t.length%4;if(h>0)for(;h++<4;)t+=this.sB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.sB.indexOf(t.charAt(n))<<18|this.sB.indexOf(t.charAt(n+1))<<12|(s=this.sB.indexOf(t.charAt(n+2)))<<6|(u=this.sB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.oB=function(t,n){var i,e,r,s,u,o,a,h=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.sB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,h[o/3]=this.sB.charAt(e)+this.sB.charAt(r)+this.sB.charAt(s)+this.sB.charAt(u);return a=(a=h.join("")).slice(0,a.length-c.length),n||(a+=c),a},t._p=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.aB=new t(t._p.uB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function TI(t){return"string"==typeof t}function SI(t){return"number"==typeof t}var EI={}.toString;var II,RI=Array.isArray||function(t){return"[object Array]"===EI.call(t)};function CI(t,n){return RI(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(II||(II={}));var DI,NI=w.keys(II).map(function(t){return II[t]});function PI(t){return-1!==NI.indexOf(t)}function xI(t){try{var n=AI.aB.uB(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=TI(t.key),e=TI(t.customer_id),r=SI(t.generation_date),s=SI(t.expiration_date),u=CI(t.domains_page,TI),o=CI(t.domains_source,TI),a=CI(t.sdks,PI),h=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&a&&h))return!1;return!0}(i))throw new l("The provided license could not be decoded correctly.");return i}catch(t){throw new l("The provided license could not be decoded correctly.")}}function BI(){return DI||(DI={hd:ge.href,hB:we.parent&&we.parent!==r,cB:MI()}),DI}var OI,LI=["http:","https:","ftp:","ws:","wss:"];function MI(){try{return we.top.location.href}catch(t){return we&&we.document&&we.document.referrer}}!function(t){t[t.fB=0]="fB",t[t.vB=1]="vB",t[t.lB=2]="lB"}(OI||(OI={}));var jI,FI=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.dB=t,this.wB=n,this._B=i,this.gB=e,this.mB=r,this.yB=s,this.kB=u,this.bB=o};!function(t){t.vB="expired",t.pB="invaliddomain",t.AB="invalidsource",t.K_="error"}(jI||(jI={}));var UI=function(){function t(t,n,i){this.TB=void 0,this.SB=t,this.EB=n,this.Qo=i,this.TB=qI(this.Qo)}var n=t.prototype;return n.IB=function(t,n){var i=this;if(!cI(t)&&0!==n._B.length&&!zI(n._B)){var e=[];if(ap(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.RB(t,n)})){var r=jI.AB,s=$I.DB(r);throw new lf(HI(r),s)}}},n.NB=function(n){return this.CB(n.kB)&&this.PB(n)?t.BB(n.gB)?OI.fB:OI.vB:OI.lB},n.CB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.OB(t)})},n.OB=function(t){return"ios"===function(t){switch(t){case II.ANDROID:return e.g;case II.ANDROIDTV:case II.FIRETV:return e.I;case II.IOS:return e.R;case II.TVOS:return e.N;case II.CHROMECAST:case II.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.BB=function(t){var n=Number(new Date);return!!t&&n<=t},n.PB=function(t){return!(this.TB&&0!==t.wB.length&&!zI(t.wB))||!!(this.TB&&this.xB(t.wB)&&this.LB(t.wB))},n.xB=function(t){return VI(this.Qo.hd,t)},n.LB=function(t){if(!this.Qo.hB)return!0;if(this.SB)return!0;var n=this.MB();return!!n&&VI(n,t)},n.MB=function(){if(this.Qo.hB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Qo.cB?this.Qo.cB:void 0}},n.RB=function(n,i){return!!t.UB(n,i._B)},t.UB=function(t,n){return VI(this.XB(t),n)},t.XB=function(t){return G(t)?t:op(t)&&t.src||""},t}();function HI(t){switch(t){case jI.pB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case jI.AB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case jI.vB:return n.ErrorCode.LICENSE_EXPIRED;case jI.K_:return n.ErrorCode.LICENSE_ERROR}}function XI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),h=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var c=new RegExp("^"+a[1]+r+h(a[2])+r+h(a[3])+r+h(a[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function zI(t){return t.some(function(t){return"*"===t})}function VI(t,n){var e=i.Br(t);if(!WI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(XI(e.hostname,s))return!0;if(XI(mg(t),s))return!0}return!1}function WI(t){return-1!==LI.indexOf(t.protocol)}function qI(t){var n=i.Br(t.hd);return WI(n)&&!XI(n.hostname,"localhost")&&!function(t){return XI(t.hostname,"theoplayer.doubleclick.net")}(n)}var GI,$I=function(){function t(){}return t.DB=function(t){return t===jI.pB?this.FB:t===jI.AB?this.HB:t===jI.vB?this.zB:this.VB},t}();function YI(t){var n=[t.kS,t.WB,t.GB];switch(t.WB){case GI.qB:n.push(t.fg);break;case GI.YB:n.push(t.jg),n.push(t.mu);break;case GI.jB:n.push(t.mu)}return n}$I.VB="The license for this player is invalid.",$I.zB="The usage license for this video player has expired.",$I.FB="The current domain is incompatible with the license for this player.",$I.HB="The provided video source is incompatible with the license for this player.",function(t){t[t.qB=1]="qB",t[t.YB=4]="YB",t[t.jB=5]="jB"}(GI||(GI={}));for(var QI=new Array(256),ZI=0;ZI<256;ZI+=1)QI[ZI]=(ZI<16?"0":"")+ZI.toString(16);function KI(){var t=Wt(),n=(4294967296*g.random()|0)+t&3029421624,i=(4294967296*g.random()|0)+t&3595553209,e=(4294967296*g.random()|0)+t&1130486254,r=(4294967296*g.random()|0)+t&1284287105;return QI[255&n]+QI[n>>>8&255]+QI[n>>>16&255]+QI[n>>>24&255]+"-"+QI[255&i]+QI[i>>>8&255]+"-"+QI[i>>>16&15|64]+QI[i>>>24&255]+"-"+QI[63&e|128]+QI[e>>>8&255]+"-"+QI[e>>>16&255]+QI[e>>>24&255]+QI[255&r]+QI[r>>>8&255]+QI[r>>>16&255]+QI[r>>>24&255]}var JI=function(){function t(t){this.sB=void 0,this.sB=t}var n=t.prototype;return n.uB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.sB.indexOf(t.charAt(n))<<18|this.sB.indexOf(t.charAt(n+1))<<12|(s=this.sB.indexOf(t.charAt(n+2)))<<6|(u=this.sB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.oB=function(t){var n,i,e,r,s,u,o,a=[],h="";if((u=t.length%3)>0)for(;u++<3;)h+=this.sB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.sB.charAt(i)+this.sB.charAt(e)+this.sB.charAt(r)+this.sB.charAt(s);return(o=a.join("")).slice(0,o.length-h.length)+h},t}();function tR(){return i.ir()}JI._p=new JI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),JI.aB=new JI(JI._p.uB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var nR,iR="theoplayer-session-id";function eR(){if(!nR){var t=Rf.Iu(iR);t?nR=t:(nR=KI(),Rf.ef(iR,nR))}return nR}var rR=/[^\x00-\x7E]/g;function sR(t){return"\\u"+Is(t.charCodeAt(0).toString(16),4,"0")}var uR=0,oR=1,aR=6e4;function hR(t){var n,i,e,r,s,u=(n=function(t){return[t.QB,t.nc,t.dB,t.xA,t.ZB,t.KB,t.JB.map(YI)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(rR,sR));return JI.aB.oB(u)}var cR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=JI._p),void 0===r&&(r=uR),void 0===s&&(s=oR),this.$B=[],this.tO=null,this.nO=0,this.iO="unknown",this.Ha=0,this.eO=void 0,this.rO=function(){tR()-u.nO>aR&&u.Pe()},this.sO=function(){u.Pe(!0)},this.wh=t,this.pE=n,this.uO=i,this.oO=e,this.aO=r,this.hO=s,de.cO(this.sO),this.eO=c(this.rO,aR)}var n=t.prototype;return n.fO=function(){return Boolean(this.ZB)},n.vO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.uO.lO());case 2:if(i.sent.bB){i.next=5;break}return i.abrupt("return");case 5:return n={WB:GI.qB,GB:Wt(),fg:t},i.next=8,Fr.awrap(this.dO(n));case 8:case"end":return i.stop()}},null,this,null,qe)},n.wO=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={WB:GI.YB,GB:Wt(),jg:n,mu:t},e.next=3,Fr.awrap(this.dO(i));case 3:case"end":return e.stop()}},null,this,null,qe)},n._O=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={WB:GI.jB,GB:Wt(),mu:t},i.next=3,Fr.awrap(this.dO(n));case 3:case"end":return i.stop()}},null,this,null,qe)},n.dO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.uO.lO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.oO.oB(n.dB)){i.next=6;break}if(t.WB===GI.jB){i.next=6;break}return i.abrupt("return");case 6:if(t.WB===GI.qB?this.gO():this.fO()||this.gO(),t.kS=this.Ha++,this.$B.push(t),(e=t.WB)!==GI.qB&&e!==GI.jB){i.next=14;break}return i.next=12,Fr.awrap(this.Pe());case 12:i.next=19;break;case 14:if(!(this.$B.length>this.aO)){i.next=19;break}return i.next=17,Fr.awrap(this.mO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,qe)},n.Pe=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.$B.length>0)){n.next=6;break}return n.next=4,Fr.awrap(this.mO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,qe)},n.yO=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.uO.lO());case 2:return n=i.sent,i.abrupt("return",{QB:Wt(),nc:eR(),dB:this.oO.oB(n.dB)||"dev",xA:this.wh,ZB:this.tO,KB:this.iO,JB:t});case 4:case"end":return i.stop()}},null,this,null,qe)},n.mO=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.$B.splice(0,this.hO),e.next=4,Fr.awrap(this.yO(n));case 4:i=e.sent,t?this.Od(i):this.kO(i),this.nO=tR();case 7:case"end":return e.stop()}},null,this,null,qe)},n.kO=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=hR(t),i=new hg({hd:"https://license.theoplayer.com",Hl:n,Pd:!1,td:xf.$n,$l:{"Content-Type":$T.tR},Dd:4e3,Rd:rg.POST}),r.prev=2,r.next=5,Fr.awrap(this.pE.ud(i));case 5:return e=r.sent,r.next=8,Fr.awrap(e.Ul());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],qe)},n.Od=function(t){var n=hR(t);this.pE.Od({hd:"https://license.theoplayer.com",Hl:n,Fl:$T.tR})},n.gO=function(){this.fO()&&this.Pe(),this.tO=KI(),this.Ha=0},n.xd=function(){de.bO(this.sO),f(this.eO),this.Pe()},T(t,[{key:"JB",get:function(){return this.$B}},{key:"ZB",get:function(){return this.tO}}]),t}();var fR=j.Rn||j.hn&&j.On<13;function lR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var vR=function(){function t(t){this.yN=void 0,this.$w=void 0,this.pO=void 0,this.yN=t}var n=t.prototype;return n.AO=function(t){if(!t||!t.drawImage)return!1;var n=this.yN.$m();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.TO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.yN,a=o.$m();if(!a)return!1;if(fR){this.pO||(this.pO=s.createElement("canvas"));var h=this.pO,c=h.getContext("2d"),f=o.um,v=o.im,d=h.width,w=h.height;c.clearRect(0,0,h.width,h.height),d===f&&w===v||(h.width=f,h.height=v),c.drawImage(a,0,0,f,v);var g=!1;f>0&&lR(c,f-1,0)&&(h.width=d,g=!0),v>0&&lR(c,0,v-1)&&(h.height=w,g=!0),g&&c.drawImage(a,0,0,f,v),a=h}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new l("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},T(t,[{key:"t_",get:function(){return this.$w||(this.$w=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.AO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.TO(n,i,e,r,s,u)}}));var t}}]),t}(),dR=function(t){function n(n,i){var e;return(e=t.call(this,"SO")||this).Bk=n,e.dT=i,e}return E(n,t),n.prototype.n_=function(){return new wR(this.Bk,this.dT)},n}(Jm),wR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return E(n,t),n}(Eu),gR=function(t,n){this.gy=void 0,this.EO=void 0,this.gy=t,this.EO=n},mR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).IO=void 0,e.RO=0,e.DO=0,e.CO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.DO=n.width,e.RO=n.height,e.EO(e.DO,e.RO)}},e.IO=new we.ResizeObserver(e.CO),e.IO.observe(e.gy),e}return E(n,t),n.prototype.xd=function(){this.IO.disconnect()},T(n,[{key:"PO",get:function(){return this.RO}},{key:"BO",get:function(){return this.DO}}]),n}(gR),yR=0;var pR,_R=h,bR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,kR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function AR(){return pR||(pR=we&&we.document&&we.document.createElement("span")),pR}bR&&kR||(bR=function(t){var n=tR(),i=g.max(0,16-(n-yR)),e=a(function(){return t(n+i)},i);return yR=n+i,e},kR=_R),bR=bR.bind(t),kR=kR.bind(t);var TR=["Webkit","Moz","O","ms"],SR=function(){var t=!1;try{if(void 0!==we&&"function"==typeof we.addEventListener){var n=w.defineProperty({},"passive",{get:function(){t=!0}});we.addEventListener("testPassiveEventSupport",K,n),we.removeEventListener("testPassiveEventSupport",K,n)}}catch(t){}return t}(),ER=Xr();function IR(t){return ER.has(t)||ER.set(t,function(t){var n=AR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<TR.length;e++){var r=TR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),ER.get(t)}function RR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function CR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[IR("transition")]="0s"}var DR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).OO=void 0,u.xO=0,u.DO=NaN,u.RO=NaN,u.LO=void 0,u.MO=void 0,u.UO=void 0,u.XO=void 0,u.FO=void 0,u.D_=function(){u.MO.style.width=1e5+"px",u.MO.style.height=1e5+"px",u.LO.scrollLeft=1e5,u.LO.scrollTop=1e5,u.UO.scrollLeft=1e5,u.UO.scrollTop=1e5,0===u.UO.scrollTop&&bR(u.D_)},u.HO=function(){var t=u.BO,n=u.PO;u.EO(t,n),u.DO=t,u.RO=n,u.D_(),u.xO=0},u.zO=function(){if(!u.xO){var t=u.BO,n=u.PO;t===u.DO&&n===u.RO||(u.xO=bR(u.HO))}},u.VO=function(){u.FO||(u.FO=a(u.WO,66))},u.WO=function(){u.FO=void 0,u.GO()},u.GO=function(){u.zO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var h,c=s.createElement("div");return u.OO=c,u.LO=s.createElement("div"),u.MO=s.createElement("div"),u.UO=s.createElement("div"),u.XO=s.createElement("div"),RR(u.LO),RR(u.UO),CR(u.MO),CR(h=u.XO),h.style.width="200%",h.style.height="200%",c.appendChild(u.LO),c.appendChild(u.UO),u.LO.appendChild(u.MO),u.UO.appendChild(u.XO),n.appendChild(c),u.LO.addEventListener("scroll",u.zO),u.UO.addEventListener("scroll",u.zO),r&&r.addEventListener("resize",u.VO),u.zO(),u}return E(n,t),n.prototype.xd=function(){kR(this.xO),this.xO=0,this.LO.removeEventListener("scroll",this.zO),this.UO.removeEventListener("scroll",this.zO),nr(this.OO),r&&r.removeEventListener("resize",this.VO)},T(n,[{key:"PO",get:function(){return this.gy.getBoundingClientRect().height||this.RO||0}},{key:"BO",get:function(){return this.gy.getBoundingClientRect().width||this.DO||0}}]),n}(gR),NR=function(t){function n(n){var i;return(i=t.call(this)||this).gy=void 0,i.IO=void 0,i.CO=function(t,n){i.Qs(new dR(t,n))},i.gy=n,i}E(n,t);var i=n.prototype;return i.hc=function(t){this.IO||("function"==typeof we.ResizeObserver?this.IO=new mR(this.gy,this.CO):this.IO=new DR(this.gy,this.CO,t))},i.xd=function(){this.$s(),this.IO&&(this.IO.xd(),this.IO=void 0)},T(n,[{key:"PO",get:function(){return this.IO?this.IO.PO:0}},{key:"BO",get:function(){return this.IO?this.IO.BO:0}}]),n}(Tu),PR=function(t){function n(){return t.call(this,cE.l_)||this}return E(n,t),n}(Eu);var xR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{qO:i[0],YO:i[1],jO:i[2],QO:i[3],ZO:i[4],KO:i[5]}}}(),BR=function(t){function n(){return t.call(this,cE.kC)||this}return E(n,t),n}(Eu),OR=function(t){function n(i){var e;return(e=t.call(this)||this).gy=void 0,e.pC=void 0,e.bC=!1,e.JO=function(){return e.nP()},e.$O=function(){return e.eP()},e.gy=i,e.pC=n.tx(i),s.addEventListener(xR.ZO,e.JO),e.nP(),e}E(n,t),n.tx=function(t){return Boolean(xR&&s[xR.QO]&&xR.qO in t)};var i=n.prototype;return i.jy=function(){var t=this.gy[xR.qO]();t&&t.then?t.then(this.JO,this.$O):(s.removeEventListener(xR.KO,this.$O),s.addEventListener(xR.KO,this.$O))},i.Zy=function(){var t=s[xR.YO]();t&&t.then?t.then(this.JO,this.$O):(s.removeEventListener(xR.KO,this.$O),s.addEventListener(xR.KO,this.$O))},i.nP=function(){var t=this.bC,n=this.gy===s[xR.jO];this.bC=n,t!==n&&this.Qs(new PR)},i.eP=function(){this.Qs(new dE)},i.xd=function(){this.$s(),s.removeEventListener(xR.ZO,this.JO),s.removeEventListener(xR.KO,this.$O)},n}(Tu),LR=function(t){function n(i){var e;return(e=t.call(this)||this).gy=void 0,e.pC=void 0,e.bC=!1,e.JO=function(){return e.nP()},e.gy=i,e.pC=n.tx(i),e.gy.addEventListener("webkitbeginfullscreen",e.JO),e.gy.addEventListener("webkitendfullscreen",e.JO),e.gy.addEventListener("webkitpresentationmodechanged",e.JO),e.nP(),e}E(n,t),n.tx=function(t){return j.hn&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.jy=function(){var t=this;this.gy.webkitSupportsPresentationMode&&this.gy.webkitSupportsPresentationMode("fullscreen")?j.hn?requestAnimationFrame(function(){return t.gy.webkitSetPresentationMode("fullscreen")}):this.gy.webkitSetPresentationMode("fullscreen"):this.gy.webkitEnterFullscreen()},i.Zy=function(){this.gy.webkitSupportsPresentationMode&&this.gy.webkitSupportsPresentationMode("inline")?this.gy.webkitSetPresentationMode("inline"):this.gy.webkitExitFullscreen()},i.nP=function(){var t,n=this.bC;t=this.gy.webkitPresentationMode?"fullscreen"===this.gy.webkitPresentationMode:!!this.gy.webkitDisplayingFullscreen,this.bC=t,n!==t&&this.Qs(new PR)},i.xd=function(){this.$s(),this.gy.removeEventListener("webkitbeginfullscreen",this.JO),this.gy.removeEventListener("webkitendfullscreen",this.JO),this.gy.removeEventListener("webkitpresentationmodechanged",this.JO)},n}(Tu),MR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nx=[],n.ix=void 0,n.KC=!1,n.nP=function(){var t=n.KC,i=n.ex();t!==i&&(n.KC=i,n.Qs(new PR))},n}E(n,t);var i=n.prototype;return i.jy=function(){this.ix?this.ix.jy():this.Qs(new dE)},i.Zy=function(){for(var t=0,n=this.nx;t<n.length;t++){var i=n[t];i.bC&&i.Zy()}},i.sx=function(t){this.ix=t},i.ux=function(t){this.nx.push(t),t.Zs(cE.l_,this.nP),t.Zs(cE.K_,this.js),this.nP()},i.ox=function(t){$s(this.nx,t),t.tu(cE.l_,this.nP),t.tu(cE.K_,this.js)},i.ex=function(){for(var t=0,n=this.nx;t<n.length;t++){if(n[t].bC)return!0}return!1},i.D_=function(){this.ix=void 0,this.KC=!1;for(var t=this.nx.slice(),n=0;n<t.length;n++){var i=t[n];this.ox(i),i.xd()}this.nP()},i.xd=function(){this.$s(),this.D_()},T(n,[{key:"pC",get:function(){return!!this.ix&&this.ix.pC}},{key:"bC",get:function(){return this.KC}}]),n}(Tu),jR=function(t){function n(n,i){var e;return(e=t.call(this)||this).yN=void 0,e.ax=void 0,e.hx=void 0,e.vx=!1,e.lx=function(){return e.Zh()},e.nP=function(t){e.vx||e.Qs(t)},e.yN=n,e.ax=i,e.hx=wE,e.wx(),e.yN.Zs(Pf.yf,e.lx),e.Zh(),e}E(n,t);var i=n.prototype;return i.jy=function(){this.ax&&this.hx.jy()},i.Zy=function(){this.hx.Zy()},i.wx=function(){this.hx.Zs(cE.l_,this.nP),this.hx.Zs(cE.K_,this.js)},i._x=function(){this.hx.tu(cE.l_,this.nP),this.hx.tu(cE.K_,this.js)},i.Zh=function(){var t=this.hx,n=this.yN.iy();if(t!==n){this.vx=!0;var i=this.bC,e=this.pC;i&&this.Zy(),this._x(),this.hx=n,this.wx(),i&&!this.bC&&this.pC?this.jy():this.Zy(),this.vx=!1,e!==this.pC&&this.Qs(new BR),i!==this.bC&&this.Qs(new PR)}},i.xd=function(){this.$s(),this._x(),this.yN.tu(Pf.yf,this.lx)},T(n,[{key:"pC",get:function(){return!!this.ax&&this.hx.pC}},{key:"bC",get:function(){return this.hx.bC}}]),n}(Tu);function FR(t){var n;return{get url(){return t.hd},get method(){return t.Rd},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},get useCredentials(){return t.Pd},get type(){return VR(t.fs)},get subType(){return qR(t.Nd)},get mediaType(){return $R(t.Cd)},get responseType(){return HR(t.td)}}}function UR(t){switch(t.toLowerCase()){case"arraybuffer":return xf.Gf;case"json":return xf.qf;case"stream":return xf.Yf;case"text":default:return xf.$n}}function HR(t){return t}function XR(t){switch(t.toUpperCase()){case"POST":return rg.POST;case"PUT":return rg.PUT;case"DELETE":return rg.DELETE;case"HEAD":return rg.HEAD;case"OPTIONS":return rg.OPTIONS;case"GET":default:return rg.GET}}function zR(t){switch(t.toLowerCase()){case"manifest":return sg.ld;case"segment":return sg.dd;case"content-protection":return sg.wd;default:return sg.vd}}function VR(t){return t}function WR(t){switch(t.toLowerCase()){case"initialization-segment":return ug._d;case"fairplay-license":return ug.md;case"fairplay-certificate":return ug.yd;case"widevine-license":return ug.kd;case"widevine-certificate":return ug.bd;case"playready-license":return ug.pd;case"clearkey-license":return ug.Ad;case"aes128-key":return ug.Td;default:return ug.vd}}function qR(t){return t}function GR(t){switch(t.toLowerCase()){case"audio":return og.Sd;case"video":return og.Ed;case"text":return og.$n;case"image":return og.Id;case"":default:return og.vd}}function $R(t){return t}var YR=function(){function t(t,n){this.gx=new na,this.mx=[],this.$w=void 0,this.yx=!1,this.Yd=void 0,this.kx=0,this.bx=t,this.Ax=n}var n=t.prototype;return n.TA=function(){this.yx=!0,this.gx.Wu(null)},n.Tx=function(){this.gx.Gu(new Lw(this.mx))},n.Sx=function(t){if(!this.Ex)throw new v("Cannot respond more than once");if(!W(t))throw new v("Expected valid response");this.Yd=this.Ix(t),this.TA()},n.Rx=function(){try{var t=this.Ax(this.t_);t?this.Dx(t):this.Nx||this.Cx||this.TA()}catch(t){this.mx.push(t),this.Tx()}},n.Dx=function(t){if(this.Cx)throw new l("Request has been redirected or a response already exists");if(Y(t))this.Px(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new na;try{var i=t(function(t){t?n.Gu(t):n.Wu(void 0)});Y(i)&&n.Wu(i)}catch(t){n.Gu(t)}this.Px(n.Fu)}},n.Px=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.kx++,n.next=4,Fr.awrap(t);case 4:this.kx--,this.Nx||this.Cx||(this.mx.length?this.Tx():this.TA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.kx--,this.mx.push(n.t0),this.Nx||this.Cx||this.Tx();case 13:case"end":return n.stop()}},null,this,[[0,8]],qe)},T(t,[{key:"Bx",get:function(){return this.gx.Fu}},{key:"t_",get:function(){return this.$w||(this.$w=this.Ox()),this.$w}},{key:"Cx",get:function(){return this.yx}},{key:"Ex",get:function(){return!this.yx}},{key:"Nx",get:function(){return this.kx>0}},{key:"jd",get:function(){return this.Yd}}]),t}(),QR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xx=void 0,r.xx=e,r.Rx(),r}E(n,t),n.Lx=function(t,n,i){var e=void 0===t.body?i:t.body;return new ag({Hi:e,ud:n.ud,td:n.ud.td,$l:t.headers,Jl:t.status,ed:t.statusText,od:t.url,rd:!0},n)};var i=n.prototype;return i.Ox=function(){return i=FR((t=this).ud),{get closed(){return!t.Ex},get request(){return i},get url(){return t.hd},get status(){return t.Jl},get statusText(){return t.ed},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},respondWith:function(n){return t.Sx(n)},waitUntil:function(n){return t.Dx(n)}};var t,n,i},i.Ix=function(t){return n.Lx(t,this.bx,this.xx)},T(n,[{key:"Hl",get:function(){return this.xx}},{key:"$l",get:function(){return this.bx.$l}},{key:"ud",get:function(){return this.bx.ud}},{key:"jd",get:function(){return this.Yd}},{key:"Jl",get:function(){return this.bx.Jl}},{key:"ed",get:function(){return this.bx.ed}},{key:"hd",get:function(){return this.bx.od}}]),n}(YR),ZR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Mx=void 0,r.Ux=void 0,r.Ux=e,r.Rx(),r}E(n,t);var i=n.prototype;return i.Ox=function(){return t=this,{get url(){return t.hd},get method(){return t.Rd},get headers(){return n||(n=t.$l.jf()),n},get body(){return t.Hl},get closed(){return!t.Ex},get useCredentials(){return t.Pd},get type(){return VR(t.fs)},get subType(){return qR(t.Nd)},get mediaType(){return $R(t.Cd)},get responseType(){return HR(t.td)},redirect:function(n){return t.Xx(n)},respondWith:function(n){return t.Sx(n)},waitUntil:function(n){return t.Dx(n)}};var t,n},i.Ix=function(t){var n=this.bx.Hl,i=new ag({Hi:n,$l:{},ud:this.bx,od:this.bx.hd,td:this.bx.td,Jl:200,ed:"OK"});return QR.Lx(t,i,n)},i.Xx=function(t){if(!this.Ex)throw new v("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.Mx=function(t,n){return new hg({hd:void 0===t.url?n.hd:t.url,Rd:void 0!==t.method?XR(t.method):void 0,$l:t.headers,Hl:t.body,Pd:t.useCredentials,fs:void 0!==t.type?zR(t.type):void 0,Nd:void 0!==t.subType?WR(t.subType):void 0,Cd:void 0!==t.mediaType?GR(t.mediaType):void 0,td:void 0!==t.responseType?UR(t.responseType):void 0},n)}(n,this.bx),this.TA()},T(n,[{key:"Hl",get:function(){return this.bx.Hl}},{key:"Ex",get:function(){return this.Ux&&!this.yx}},{key:"$l",get:function(){return this.bx.$l}},{key:"Rd",get:function(){return this.bx.Rd}},{key:"Fx",get:function(){return this.Mx}},{key:"jd",get:function(){return this.Yd}},{key:"td",get:function(){return this.bx.td}},{key:"Dd",get:function(){return this.bx.Dd}},{key:"Ws",get:function(){return this.bx.Ws}},{key:"fs",get:function(){return this.bx.fs}},{key:"Nd",get:function(){return this.bx.Nd}},{key:"Cd",get:function(){return this.bx.Cd}},{key:"hd",get:function(){return this.bx.hd}},{key:"Pd",get:function(){return this.bx.Pd}},{key:"Bd",get:function(){return this.bx.Bd}}]),n}(YR);var KR,JR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new tC(n);return(e=t.call(this,r,i)||this).Hx=void 0,e.Hx=r,e}E(n,t);var i=n.prototype;return i.zx=function(t){this.Hx.zx(t)},i.Vx=function(t){this.Hx.Vx(t)},i.Wx=function(t){this.Hx.Wx(t)},i.Gx=function(t){this.Hx.Gx(t)},i.qx=function(t){this.Hx.qx(t)},n}(fg),tC=function(){function t(t){this.Ld=void 0,this.Yx=[],this.jx=[],this.Ld=t}var n=t.prototype;return n.ud=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.Qx(t,t.Ws));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof yg)){i.next=12;break}return i.next=11,Fr.awrap(this.Zx(i.t0,t.Ws));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Fr.awrap(this.Kx(n,t.Ws));case 15:if(!eg(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new _g(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],qe)},n.Od=function(t){return this.Ld.Od(t)},n.Qx=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:cu(n),i=t,r=0,s=this.Yx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],cu(n),(o=new ZR(i,u,!e)).Cx){a.next=17;break}return a.prev=8,a.next=11,Fr.awrap(o.Bx);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Fx&&!e?i=o.Fx:o.jd&&!e&&(e=o.jd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.Ld.ud(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],qe)},n.Zx=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof _g?t.jd:new ag({Hi:null,ud:t.ud,Jl:0,ed:""}),r.next=3,Fr.awrap(this.Kx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!eg(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new _g(e);case 13:case"end":return r.stop()}},null,this,null,qe)},n.Kx=function(t,n){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.jx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],cu(n),a.next=7,Fr.awrap(qe.resolve(i.Lu().Hi(n)));case 7:if(u=a.sent,(o=new QR(i,s,u)).Cx){a.next=19;break}return a.prev=10,a.next=13,Fr.awrap(o.Bx);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.jd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],qe)},n.zx=function(t){this.Yx.unshift(t)},n.Vx=function(t){this.Yx.push(t)},n.Wx=function(t){$s(this.Yx,t)},n.Gx=function(t){this.jx.unshift(t)},n.qx=function(t){$s(this.jx,t)},n.xd=function(){this.Ld.xd(),Zs(this.Yx),Zs(this.jx)},t}(),nC=function(){function t(t){this.$w=void 0,this.pE=t}var n=t.prototype;return n.zx=function(t){this.pE.zx(t)},n.Wx=function(t){this.pE.Wx(t)},n.Gx=function(t){this.pE.Gx(t)},n.qx=function(t){this.pE.qx(t)},T(t,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{addRequestInterceptor:function(n){t.zx(n)},removeRequestInterceptor:function(n){t.Wx(n)},addResponseInterceptor:function(n){t.Gx(n)},removeResponseInterceptor:function(n){t.qx(n)}})),this.$w}}]),t}(),iC=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).$w=void 0,r.Jx=function(t){r.Qs(t)},r.$x=function(t){r.Qs(t)},r.tL=n,r.pE=i,r.OC=e,r.tL.Zs(Pf.Sf,r.Jx),r.tL.Zs(Pf.Tf,r.$x),r}E(n,t);var i=n.prototype;return i.nL=function(t){this.OC.nL(t)},i.zx=function(t){this.pE.zx(t)},i.Wx=function(t){this.pE.Wx(t)},i.Gx=function(t){this.pE.Gx(t)},i.qx=function(t){this.pE.qx(t)},i.xd=function(){this.$s(),this.tL.tu(Pf.Sf,this.Jx),this.tL.tu(Pf.Tf,this.$x)},T(n,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get online(){return t.Iy},get estimator(){return n=t.iL,{get bandwidth(){return n.FR},get roundTripTime(){return n.HR}};var n},setEstimator:function(n){t.nL(function(t){if(t)return{get FR(){return ky(t.bandwidth)},get HR(){return ky(t.roundTripTime)},XR:function(n){return function(t){if(t)return{eL:function(n){t.markRequestStart(n)},rL:function(n){t.markResponseStart(n)},sL:function(n,i){t.markResponseData(n,i)},uL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(FR(n)))}}}(n))},addRequestInterceptor:function(n){t.zx(n)},removeRequestInterceptor:function(n){t.Wx(n)},addResponseInterceptor:function(n){t.Gx(n)},removeResponseInterceptor:function(n){t.qx(n)},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}})),this.$w}},{key:"Iy",get:function(){return this.tL.Iy}},{key:"iL",get:function(){return this.OC.iL}}]),n}(Tu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(KR||(KR={}));var eC=30,rC=1,sC=5;function uC(t,n,i,e,r,s){var u=[],o=t-g.max(s,rC),a=t+r;if(n&&i){var h=Ft(i,rC,sC),c=n-h;o=g.min(o,c);var f=n+i+h;a=g.max(a,f)}return 0!==o&&e.oC(0,o)&&u.push([0,o]),e.oC(a,1/0)&&u.push([a,1/0]),u}function oC(t){return t instanceof l&&"QuotaExceededError"===t.name}var aC={type:KR.BANDWIDTH},hC=20,cC=60;function fC(t){var n,i,e,r=gy(aC);return G(t)?r.type=lC(t):W(t)&&function(t){switch(t){case KR.PERFORMANCE:case KR.QUALITY:case KR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=lC(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=by(n.bitrate),p(e)||(i.bitrate=e),i)),r}function lC(t){switch(t){case"bandwidth":return KR.BANDWIDTH;case"performance":return KR.PERFORMANCE;case"quality":return KR.QUALITY}}var vC=function(t){function n(n){var i;return(i=t.call(this,"aL")||this).oL=n,i}return E(n,t),n}(Eu),dC=function(t){function n(n){var i;return(i=t.call(this,"cL")||this).hL=n,i}return E(n,t),n}(Eu),wC=function(t){function n(n){var i;return(i=t.call(this,"vL")||this).fL=n,i}return E(n,t),n}(Eu),gC=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).$w=(i=Jt(n),{get strategy(){return{metadata:(t=i.hL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.hL=fC(t)},get targetBuffer(){return i.oL},set targetBuffer(t){var n=by(t);p(n)||(i.oL=n>cC?cC:n)},get bufferLookbackWindow(){return i.fL},set bufferLookbackWindow(t){var n=by(t);p(n)||(i.fL=n<=0?eC:n)},get maxBufferLength(){return i.lL}}),n.dL=aC,n.wL=hC,n._L=eC,n.gL=1/0,n.mL=void 0,n.yL=void 0,n}E(n,t);var i=n.prototype;return i.kL=function(t){this.yL=t},i.nL=function(t){this.mL=t},i.bL=function(t){var n=g.min(t,.8*this.gL);if(n=g.max(10,n),this.gL===n)return!1;var i=this.pL;this.gL=n;var e=this.pL;return e!==i&&this.Qs(new vC(e)),!0},T(n,[{key:"AL",get:function(){switch(this.dL.type){case KR.PERFORMANCE:return 0;case KR.QUALITY:return 1/0;case KR.BANDWIDTH:return this.dL.metadata&&void 0!==this.dL.metadata.bitrate?this.dL.metadata.bitrate:8*qy.Ig();default:return 8*qy.Ig()}}},{key:"t_",get:function(){return this.$w}},{key:"hL",get:function(){return this.dL},set:function(t){this.dL=t,this.Qs(new dC(t))}},{key:"oL",get:function(){return this.wL},set:function(t){this.wL=t,this.Qs(new vC(t))}},{key:"pL",get:function(){return g.min(this.wL,this.gL)}},{key:"fL",get:function(){return this._L},set:function(t){this._L=t,this.Qs(new wC(t))}},{key:"lL",get:function(){return this.gL}},{key:"iL",get:function(){var t;return null!=(t=this.mL)?t:this.yL.rN}}]),n}(Tu),mC=function(t){function n(){return t.call(this,"d_")||this}return E(n,t),n.prototype.n_=function(){return new yC},n}(Jm),yC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Eu),pC=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).TL=void 0,r.$B=void 0,r.SL=function(t){ty(t)&&mu(function(){r.Qs(t.t_)})},r.TL=n,r.$B=i;for(var s=0,u=r.$B;s<u.length;s++){var o=u[s];r.TL.Zs(o,r.SL)}return r}return E(n,t),n.prototype.xd=function(){this.$s();for(var t=0,n=this.$B;t<n.length;t++){var i=n[t];this.TL.tu(i,this.SL)}},n}(Tu),_C=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).TL=void 0,e.SL=function(t){ty(t)&&mu(function(){e.Qs(t.t_)})},e.TL=n,e.TL.Js(e.SL),e}return E(n,t),n.prototype.xd=function(){this.$s(),this.TL.ou(this.SL)},n}(Xy);var bC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).wk=0,n._k=1/0,n.$w=void 0,n}E(n,t);var i=n.prototype;return i.D_=function(){0===this.wk&&this._k===1/0||(this.wk=0,this._k=1/0,this.Qs(new mC))},i.EL=function(){return new lE([this.Jy,this.$y],[!0,!0])},T(n,[{key:"Jy",get:function(){return this.wk},set:function(t){if(this.$y<=t)throw new l("Start time of a clip should be smaller than the end time.");this.wk!==t&&(this.wk=t,this.Qs(new mC))}},{key:"$y",get:function(){return this._k},set:function(t){if(t<=this.Jy)throw new l("End time of a clip should be larger than the start time.");this._k!==t&&(this._k=t,this.Qs(new mC))}},{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get startTime(){return t.Jy},set startTime(n){t.Jy=n},get endTime(){return t.$y},set endTime(n){t.$y=n},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new _C(t=this,i),i)),this.$w}}]),n}(Xy),kC=function(t){function n(n){var i;return(i=t.call(this)||this).IL=function(t){i.RL(t)||i.Qs(t)},i.DL=n,i.DL.Js(i.IL),i}E(n,t);var i=n.prototype;return i.NL=function(){return this.DL.Lm},i.ey=function(){return this.DL.ey()},i.CL=function(){return this.DL.wy},i.PL=function(){return this.DL.vy},i.BL=function(){return this.DL._y},i.OL=function(t){this.DL._y=t},i.xL=function(){return this.DL.jg},i.LL=function(t){this.DL.jg=t},i.ML=function(){return this.DL.Qg},i.UL=function(){return this.DL.gy},i.XL=function(){return this.DL.Zg},i.FL=function(){return this.DL.mu},i.HL=function(){return this.DL.Kg},i.zL=function(){return this.DL.yy},i.VL=function(){return this.DL.Jg},i.WL=function(t){this.DL.Jg=t},i.GL=function(){return this.DL.Iy},i.qL=function(){return this.DL.$g},i.YL=function(){return this.DL.tm},i.jL=function(t){this.DL.tm=t},i.QL=function(){return this.DL.Ry},i.ZL=function(){return this.DL.Dy},i.KL=function(t){this.DL.Dy=t},i.JL=function(){return this.DL.ag},i.$L=function(){return this.DL.Ny},i.tM=function(){return this.DL.nm},i.Vm=function(){return this.DL.Vm()},i.Wm=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),i.next=3,Fr.awrap(this.DL.Wm(t,n));case 3:case"end":return i.stop()}},null,this,null,qe)},i.nM=function(){return this.DL.Um},i.iM=function(){return this.DL.im},i.eM=function(){return this.DL.Mm},i.rM=function(){return this.DL.um},i.sM=function(){return this.DL.hm},i.uM=function(t){this.DL.hm=t},i.iy=function(){return this.DL.iy()},i.$m=function(){return this.DL.$m()},i.Qm=function(t){this.DL.Qm(t)},i.Zm=function(){this.DL.Zm()},i.Jm=function(){this.DL.Jm()},i.jm=function(){this.DL.jm()},i.Hm=function(){this.DL.Hm()},i.Fm=function(){this.DL.Fm()},i.Km=function(){this.DL.Km()},i.zm=function(){return this.DL.zm()},i.Gm=function(){return this.DL.Gm()},i.qm=function(){this.DL.qm()},i.Ym=function(){this.DL.Ym()},i.D_=function(){return this.DL.D_()},i.xd=function(){return this.DL.xd()},i.ly=function(){this.DL.ly()},i.sy=function(t){return this.DL.sy(t)},i.RL=function(t){return!1},T(n,[{key:"Lm",get:function(){return this.NL()}},{key:"wy",get:function(){return this.CL()}},{key:"_y",get:function(){return this.BL()},set:function(t){this.OL(t)}},{key:"vy",get:function(){return this.PL()}},{key:"jg",get:function(){return this.xL()},set:function(t){this.LL(t)}},{key:"Qg",get:function(){return this.ML()}},{key:"gy",get:function(){return this.UL()}},{key:"Zg",get:function(){return this.XL()}},{key:"mu",get:function(){return this.FL()}},{key:"Kg",get:function(){return this.HL()}},{key:"Xm",get:function(){return this.DL.Xm}},{key:"yy",get:function(){return this.zL()}},{key:"Tm",get:function(){return this.DL.Tm}},{key:"Jg",get:function(){return this.VL()},set:function(t){this.WL(t)}},{key:"Iy",get:function(){return this.GL()}},{key:"$g",get:function(){return this.qL()}},{key:"tm",get:function(){return this.YL()},set:function(t){this.jL(t)}},{key:"Ry",get:function(){return this.QL()}},{key:"Dy",get:function(){return this.ZL()},set:function(t){this.KL(t)}},{key:"ag",get:function(){return this.JL()}},{key:"Ny",get:function(){return this.$L()}},{key:"nm",get:function(){return this.tM()}},{key:"Um",get:function(){return this.nM()}},{key:"im",get:function(){return this.iM()}},{key:"Mm",get:function(){return this.eM()}},{key:"um",get:function(){return this.rM()}},{key:"hm",get:function(){return this.sM()},set:function(t){this.uM(t)}},{key:"Cy",get:function(){return this.DL.Cy}},{key:"Py",get:function(){return this.DL.Py},set:function(t){this.DL.Py=t}}]),n}(zy),AC=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).oM=void 0,r.aM=!1,r.hM=void 0,r.cM=!1,r.fM=function(){r.vM(),r.lM()},r.mD=function(){r.dM(),r.lM(),r.wM&&r.jg>=r.oM.$y-n._M&&!r.Zg&&(r.hM=bR(r.mD))},r.gM=function(){r.cM=!0},r.mM=function(){r.cM&&(r.cM=!1,r.lM())},r.oM=e,r.oM.Zs("d_",r.fM),r.DL.Zs("timeupdate",r.mD),r}E(n,t);var i=n.prototype;return i.LL=function(n){var i=this.oM.EL().qN(n);t.prototype.LL.call(this,i),this.lM()},i.XL=function(){return t.prototype.XL.call(this)||this.aM},i.$L=function(){return lE._C(t.prototype.$L.call(this)).QN(this.oM.EL()).tN()},i.Fm=function(){this.XL()?this.LL(this.yM.start(0)):this.vM(),t.prototype.Fm.call(this),this.lM()},i.Wm=function(n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return cu(i),this.aM=!1,this.oM.D_(),e.next=5,Fr.awrap(t.prototype.Wm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,qe)},i.xd=function(){return this.oM.tu("d_",this.fM),this.DL.tu("timeupdate",this.mD),this.dM(),t.prototype.xd.call(this)},i.RL=function(n){switch(n.type){case"seeking":return this.Qs(n),this.gM(),!0;case"seeked":case"emptied":return this.Qs(n),this.mM(),!0;case"ended":if(this.wM)return!0}return t.prototype.RL.call(this,n)},i.dM=function(){this.hM&&(kR(this.hM),this.hM=void 0)},i.lM=function(){var t=this.jg,i=this.wM&&t>=this.oM.$y-n.Hb;this.aM&&!i?(this.aM=!1,this.$g&&this.Fm()):this.aM||!i||this.nm||this.cM||(this.aM=!0,this.Qs(new Ep(t)),this.Hm())},i.vM=function(){if(this.Qg!==1/0){var t=this.yM,i=lE._C(t).qN(this.jg);Ut(this.jg,i,n.Hb)||this.LL(i)}},T(n,[{key:"yM",get:function(){return this.$L().length?this.$L():this.oM.EL().tN()}},{key:"wM",get:function(){return this.oM.$y<this.Qg}}]),n}(kC);AC._M=1,AC.Hb=.001;var TC=function(){function t(){this.kM=void 0,this.kM=!1}return T(t,[{key:"bM",get:function(){return this.kM},set:function(t){this.kM=t}}]),t}(),SC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).kM=void 0,e.pM=!1,e.AM=!1,e.kM=i,e}E(n,t);var i=n.prototype;return i.XL=function(){return!this.kM.bM&&t.prototype.XL.call(this)},i.Hm=function(){this.AM=!0,t.prototype.Hm.call(this)},i.Fm=function(){this.AM=!1,t.prototype.Fm.call(this)},i.RL=function(n){if(this.kM.bM)switch(n.type){case"ended":return this.jg=0,this.AM||(this.nm?this.pM=!0:this.Fm()),!0;case"seeked":this.pM&&(this.pM=!1,this.Fm());break;case"pause":if(this.pM||t.prototype.XL.call(this))return!0}return t.prototype.RL.call(this,n)},n}(kC);var EC=function(){function t(t){var n;this.$w=(n=this,{get currentBandwidthEstimate(){return n.Ty},get corruptedVideoFrames(){return n.py},get droppedVideoFrames(){return n.by},get totalBytesLoaded(){return n.Sy},get bufferedSegments(){return n.Ey}}),this.EN=t}return T(t,[{key:"t_",get:function(){return this.$w}},{key:"py",get:function(){return this.EN.TM.Tm.py}},{key:"Ty",get:function(){return this.EN.TM.Tm.Ty}},{key:"by",get:function(){return this.EN.TM.Tm.by}},{key:"SM",get:function(){throw new l("Not implemented")}},{key:"EM",get:function(){throw new l("Not implemented")}},{key:"Sy",get:function(){return this.EN.TM.Tm.Sy}},{key:"Ay",get:function(){return this.EN.TM.Tm.Ay}},{key:"Ey",get:function(){return this.EN.TM.Tm.Ey}}]),t}();function IC(t){if(!t||!lr(t))return{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{by:n.droppedVideoFrames,py:n.corruptedVideoFrames||0,Ay:n.totalVideoFrames}}return{by:t.webkitDroppedFrameCount||0,py:0,Ay:t.webkitDecodedFrameCount||0}}var RC=function(t){function n(){return t.call(this,"IM")||this}return E(n,t),n.prototype.n_=function(){return new CC},n}(Jm),CC=function(t){function n(){return t.call(this,"castingchange")||this}return E(n,t),n}(Eu);var DC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).RM=[],n.DM=!1,n.$w=void 0,n.NM=function(){var t=n.DM,i=n.CM;t!==i&&(n.DM=i,n.Qs(new RC))},n}E(n,t);var i=n.prototype;return i.PM=function(t){this.RM.push(t),t.Zs("statechange",this.NM)},i.xd=function(){for(var t=0,n=this.RM;t<n.length;t++){n[t].tu("statechange",this.NM)}Zs(this.RM)},T(n,[{key:"CM",get:function(){return this.RM.some(function(t){return t.CM})}},{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get casting(){return t.CM},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new pC(t=this,["IM"],i),i)),this.$w}}]),n}(Tu),NC=function(){function t(){}return t.BM=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new hg({hd:t,td:xf.$n,Rd:rg.GET}),s.next=4,Fr.awrap(n.ud(i));case 4:return e=s.sent,s.next=7,Fr.awrap(e.Hi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),hu(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],qe)},t.OM=function(t){try{var i=xI(t);return new FI(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new lf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.xM=function(t){void 0===t&&(t=JI._p),i.gr("The baked-in license is used. Please update the configuration with your license.");var n=t.uB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.uB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.uB(n)}),s=Number(new Date(Number(t.uB("COD|aHpHa:p3Ceo3Co\"\""))));return new FI(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new FI(t.dB,t.wB,t._B,864e13,t.mB,Date.now(),t.kB,t.bB)},t}(),PC=function(){function t(){}return t.rf=function(){return t.Yn||(t.Yn=xC.mc()?new xC:new If),t.Yn},t.Nu=function(n){t.rf().Nu(n)},t.if=function(){t.rf().if()},t.Iu=function(n){return t.rf().Iu(n)},t.ef=function(n,i){t.rf().ef(n,i)},t.LM=function(n){var i=t.Iu(n);if(void 0!==i)return y(i)},t.MM=function(n){return"true"===t.Iu(n)},t}();PC.Yn=void 0;var xC=function(n){function i(){return n.apply(this,arguments)||this}E(i,n),i.mc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Nu=function(n){t.localStorage.removeItem(n)},e.if=function(){t.localStorage.clear()},e.Iu=function(n){return t.localStorage[n]},e.ef=function(n,i){t.localStorage[n]=i},i}(PC),BC=g.floor(14399999*g.random()-72e5),OC=function(){function t(t,n,i,e,r,s){this.TB=void 0,this.pE=t,this.UM=n,this.XM=i,this.uO=e,this.FM=r,this.Qo=s,this.TB=qI(s)}var i=t.prototype;return i.HM=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.zM(this.FM.license,this.FM.licenseUrl));case 2:t=n.sent,this.uO.VM(t);case 4:case"end":return n.stop()}},null,this,null,qe)},i.zM=function(t,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=i,t?r=NC.OM(t):e||(r=NC.xM()),e||(e="https://validate.theoplayer.com/1/"+r.dB),s=this.WM(),!r){l.next=14;break}if((u=this.UM.NB(r))!==OI.fB){l.next=14;break}if(!this.GM(r.gB)||!this.GM(null==s?void 0:s.gB)){l.next=13;break}return l.next=10,Fr.awrap(this.qM(e));case 10:if(!(o=l.sent)){l.next=13;break}return l.abrupt("return",o);case 13:return l.abrupt("return",r);case 14:if(!s){l.next=25;break}if(this.UM.NB(s)!==OI.fB){l.next=24;break}if(!this.GM(null==s?void 0:s.gB)){l.next=23;break}return l.next=20,Fr.awrap(this.qM(e));case 20:if(!(a=l.sent)){l.next=23;break}return l.abrupt("return",a);case 23:return l.abrupt("return",s);case 24:PC.Nu("THEOplayer.license");case 25:return l.next=27,Fr.awrap(NC.BM(e,this.pE));case 27:if(!(h=l.sent)){l.next=37;break}if(c=NC.OM(h),this.UM.NB(c)!==OI.fB){l.next=34;break}return PC.ef("THEOplayer.license",h),l.abrupt("return",c);case 34:PC.Nu("THEOplayer.license"),l.next=39;break;case 37:if(this.TB||!r||u!==OI.vB||e!=="https://validate.theoplayer.com/1/"+r.dB){l.next=39;break}return l.abrupt("return",NC.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){l.next=43;break}this.YM(null!=(f=r)?f:c,new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),l.next=44;break;case 43:throw new lf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return l.stop()}},null,this,null,qe)},i.IB=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Fr.awrap(this.uO.lO());case 2:if(n=a.sent,!this.GM(n.gB)){a.next=9;break}return e=null!=(i=this.FM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.dB,a.next=7,Fr.awrap(this.qM(e));case 7:(r=a.sent)&&(this.uO.VM(r),n=r);case 9:if(a.prev=9,(s=this.UM.NB(n))!==OI.lB){a.next=16;break}throw u=jI.pB,new lf(HI(u),$I.DB(u));case 16:if(s!==OI.vB){a.next=19;break}throw o=jI.vB,new lf(HI(o),$I.DB(o));case 19:this.UM.IB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.jM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],qe)},i.qM=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fr.awrap(NC.BM(t,this.pE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=NC.OM(n),this.UM.NB(i)!==OI.fB){e.next=11;break}return PC.ef("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],qe)},i.GM=function(t){return!t||Number(new Date)+2592e5+BC>=t},i.WM=function(){var t=PC.Iu("THEOplayer.license");if(t)return NC.OM(t)},i.YM=function(t,n){this.uO.VM(t),this.jM(n)},i.jM=function(t){throw ct(t.message),this.XM._O(t.message),t},t}(),LC=function(){function t(){this.QM=void 0,this.ZM=new na}var n=t.prototype;return n.VM=function(t){this.QM=t,this.ZM.Wu()},n.lO=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.QM){t.next=2;break}return t.abrupt("return",qe.resolve(this.QM));case 2:return t.next=4,Fr.awrap(this.ZM.Fu);case 4:return t.abrupt("return",this.QM);case 5:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"KM",get:function(){return this.QM}}]),t}(),MC=function(t){function n(){return t.call(this,"d_")||this}return E(n,t),n.prototype.n_=function(){return new jC},n}(Jm),jC=function(t){function n(){return t.call(this,"change")||this}return E(n,t),n}(Eu);function FC(t){var n,i={get fontFamily(){return t.JM},set fontFamily(n){t.JM=n},get fontColor(){return t.$M},set fontColor(n){t.$M=n},get fontSize(){return t.tU},set fontSize(n){t.tU=n},get backgroundColor(){return t.nU},set backgroundColor(n){t.nU=n},get windowColor(){return t.iU},set windowColor(n){t.iU=n},get edgeStyle(){return t.eU},set edgeStyle(n){t.eU=n},get marginTop(){return t.rU},set marginTop(n){t.rU=n},get marginBottom(){return t.sU},set marginBottom(n){t.sU=n},get marginLeft(){return t.uU},set marginLeft(n){t.uU=n},get marginRight(){return t.oU},set marginRight(n){t.oU=n},addEventListener:function(t,i){var e=Sy(t,Ay);n.Zs(e,i)},removeEventListener:function(t,i){var e=Sy(t,Ay);n.tu(e,i)}};return n=new Su(i),t.Zs(["d_"],function(t){return n.Qs(t.t_)}),i}var UC={JM:void 0,$M:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0,aU:void 0,rU:void 0,sU:void 0,uU:void 0,oU:void 0},HC="THEOplayer.textTrackStyle.",XC=function(t){function n(){var i;return(i=t.call(this)||this).hU=void 0,i.$w=void 0,i.hU=n.cU(),i}return E(n,t),n.prototype.Zh=function(t){this.hU=Ur({},this.hU,t),n.fU(this.hU),this.Qs(new MC)},n.cU=function(){var t=Ur({},UC);return t.JM=PC.Iu(HC+"fontFamily")||t.JM,t.$M=PC.Iu(HC+"fontColor")||t.$M,t.tU=PC.Iu(HC+"fontSize")||t.tU,t.nU=PC.Iu(HC+"backgroundColor")||t.nU,t.iU=PC.Iu(HC+"windowColor")||t.iU,t.eU=PC.Iu(HC+"edgeStyle")||t.eU,t},n.fU=function(t){PC.ef(HC+"fontFamily",t.JM||""),PC.ef(HC+"fontColor",t.$M||""),PC.ef(HC+"fontSize",t.tU||""),PC.ef(HC+"backgroundColor",t.nU||""),PC.ef(HC+"windowColor",t.iU||""),PC.ef(HC+"edgeStyle",t.eU||"")},T(n,[{key:"vU",get:function(){return this.hU}},{key:"JM",get:function(){return this.hU.JM},set:function(t){this.Zh({JM:t})}},{key:"$M",get:function(){return this.hU.$M},set:function(t){this.Zh({$M:t})}},{key:"tU",get:function(){return this.hU.tU},set:function(t){this.Zh({tU:t})}},{key:"nU",get:function(){return this.hU.nU},set:function(t){this.Zh({nU:t})}},{key:"iU",get:function(){return this.hU.iU},set:function(t){this.Zh({iU:t})}},{key:"eU",get:function(){return this.hU.eU},set:function(t){this.Zh({eU:t})}},{key:"aU",get:function(){return this.hU.aU}},{key:"rU",get:function(){return this.hU.rU},set:function(t){this.Zh({rU:t})}},{key:"sU",get:function(){return this.hU.sU},set:function(t){this.Zh({sU:t})}},{key:"oU",get:function(){return this.hU.oU},set:function(t){this.Zh({oU:t})}},{key:"uU",get:function(){return this.hU.uU},set:function(t){this.Zh({uU:t})}},{key:"t_",get:function(){return this.$w||(this.$w=FC(this)),this.$w}}]),n}(Tu);function zC(t,n){var i,e;t.style.marginLeft=(null!=(i=n.uU)?i:0)+"px",t.style.marginRight=(null!=(e=n.oU)?e:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var VC,WC,qC=function(t){function n(n,e){var r;(r=t.call(this)||this).lU=void 0,r.rc=void 0,r.TM=void 0,r.dU=void 0,r.jw=void 0,r.oM=void 0,r.kM=void 0,r.wU=void 0,r._U=void 0,r.OC=void 0,r.UM=void 0,r.gU=void 0,r.mU=void 0,r.BC=void 0,r.yU=!1,r.Dm=!1,r.Uy=void 0,r.kU=!1,r.bU=void 0,r.pU=void 0,r.AU=void 0,r.TU=void 0,r.SU=void 0,r.EU=function(t){if(!r.kU){r.kU=!0;var n=r.lU,i=s_(t);r.TM.M_=new yE(r.gy,i,t),yu(n.xd())}},r.IU=function(t){r.Qs(t.t_)},r.RU=function(t){t.type!==Pf.Sf&&t.type!==Pf.Tf&&r.Qs(t)};var s=by(e.uid);p(s)?r.Uy=v_++:r.Uy=s,r.rc=e;var u=i.jw,o=new LC;r.dU=new cR("4.2.0",u,o),r.jw=new JR(u,e.allowMixedContent),r.OC=new gC,r.UM=new UI(e.isEmbeddable,"4.2.0",BI()),r.SU=new OC(u,r.UM,r.dU,o,e,BI()),r.SU.HM().catch(r.EU),r.gU=new NR(n),r.gU.Zs("SO",r.IU),r.BC=new XC,r.oM=new bC,r.kM=new TC;var a=new mE(n,e,r.jw,r.OC,r.gU,r.BC);r.OC.kL(a);var h=a;h=new AC(h,r.DU),h=new SC(h,r.bM),r.lU=h,r.TM=new n_(r.lU),r.TM.Js(r.RU),r.TU=new EC(Jt(r)),r.pU=new iC(r.TM,r.jw,r.OC),r.wU=new vR(Jt(r)),r.mU=new jR(r.TM,e.allowNativeFullscreen),r._U=new ME(r.mU),r.gU.hc();var c=new le(r.gU,r.BC,1,[u_.Ed]);return r.bU=new ve(c),r.AU=new DC,r}E(n,t);var e=n.prototype;return e.WL=function(t){this.TM.Jg=t,t||this.$g||this.jm()},e.uM=function(t){this.TM.hm=t},e.NU=function(){jp(this,jE,this)},e.Fm=function(){this.TM.Fm()},e.Hm=function(){this.TM.Hm()},e.Wm=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.SU.IB(t).catch(this.EU),i=GC(t),e.next=5,Fr.awrap(this.TM.Wm(i,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.jm=function(){this.Dm||(this.TM.jm(),this.bU.jm(),this.Dm=!0)},e.bC=function(){return this._U.uP()===PE.FULLSCREEN},e.Km=function(){this.TM.Km()},e.Jm=function(){this.TM.Jm()},e.$m=function(){return this.TM.$m()},e.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.TM.zm());case 2:return t.next=4,Fr.awrap(this.TM.D_());case 4:case"end":return t.stop()}},null,this,null,qe)},e.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.AU.xd(),this.jw.xd(),this.pU.xd(),this.mU.xd(),this._U.xd(),this.gU.xd(),this.dU.xd(),this.bU.xd(),t.next=11,Fr.awrap(this.TM.xd());case 11:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"CU",get:function(){return this.OC}},{key:"Om",get:function(){return this.yU},set:function(t){this.yU=t,this.TM.Om=t}},{key:"PU",get:function(){return this.bU}},{key:"Lm",get:function(){return this.TM.Lm}},{key:"BU",get:function(){return this.AU}},{key:"OU",get:function(){return this.gU}},{key:"Xm",get:function(){return this.TM.Xm}},{key:"Tm",get:function(){return this.TU}},{key:"xU",get:function(){return this.pU}},{key:"Um",get:function(){return this.TM.Um}},{key:"LU",get:function(){return this.BC}},{key:"Mm",get:function(){return this.TM.Mm}},{key:"wy",get:function(){return this.TM.wy}},{key:"DU",get:function(){return this.oM}},{key:"bM",get:function(){return this.kM}},{key:"jg",get:function(){return this.TM.jg},set:function(t){this.TM.jg=t}},{key:"_y",get:function(){return this.TM._y},set:function(t){this.TM._y=t}},{key:"vy",get:function(){return this.TM.vy}},{key:"Qg",get:function(){return this.TM.Qg}},{key:"gy",get:function(){return this.TM.gy}},{key:"Zg",get:function(){return this.TM.Zg}},{key:"mu",get:function(){return this.TM.mu}},{key:"Kg",get:function(){return this.TM.Kg}},{key:"Jg",get:function(){return this.TM.Jg},set:function(t){var n=Boolean(t);this.WL(n)}},{key:"$g",get:function(){return this.TM.$g}},{key:"tm",get:function(){return this.TM.tm},set:function(t){this.TM.tm=t}},{key:"Ry",get:function(){return this.TM.Ry}},{key:"Dy",get:function(){return this.TM.Dy},set:function(t){this.TM.Dy=uE(t)}},{key:"ag",get:function(){return this.TM.ag}},{key:"Ny",get:function(){return this.TM.Ny}},{key:"nm",get:function(){return this.TM.nm}},{key:"z_",get:function(){return this.Uy}},{key:"im",get:function(){return this.TM.im}},{key:"um",get:function(){return this.TM.um}},{key:"hm",get:function(){return this.TM.hm},set:function(t){var n=Ft(Number(t),0,1)||0;this.uM(n)}},{key:"Cy",get:function(){return this.TM.Cy}}]),n}(zy);function GC(t){t.sources;var n=t.sources.filter(function(t){return X(t.integration)});return t.sources=n,t}!function(t){t[t.MU=0]="MU",t[t.UU=1]="UU"}(VC||(VC={})),function(t){t[t.XU=0]="XU"}(WC||(WC={}));var $C={},YC={};function QC(t,n){($C[n]||($C[n]=[])).push(t)}function ZC(t,n){(YC[n]||(YC[n]=[])).push(t)}function KC(t,n){var i=t;if($C[n])for(var e=0,r=$C[n];e<r.length;e++){i=(0,r[e])(i)}return i}var JC=[],tD=[];function nD(t){JC.push(t)}function iD(t){for(var n=0;n<JC.length;n++){(0,JC[n])(t)}}var eD=t.CustomEvent;var rD=function(){try{var t=new eD("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},sD=function(){function t(t,n){var i=this;this.EN=void 0,this.FU=void 0,this.HU=!1,this.zU=function(t){i.FU.wO(t.error,i.jg)},this.VU=function(){i.FU.vO(i.WU),i.EN.removeEventListener("playing",i.VU),i.HU=!1},this.GU=function(){i.HU||(i.EN.addEventListener("playing",i.VU),i.HU=!0)},this.FU=n,this.EN=t,this.EN.addEventListener("error",this.zU),this.EN.addEventListener("sourcechange",this.GU),this.GU()}return t.prototype.D_=function(){},T(t,[{key:"jg",get:function(){var t=this.EN.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"WU",get:function(){return this.EN.src||""}}]),t}();nD(function(t){new sD(t.t_,t.dU)});var uD="theoplayer-stored-volume",oD="theoplayer-stored-mutedstate";QC(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=PC.LM(uD);(void 0===r||p(r))&&(r=1);var s=PC.MM(oD)||!1;e.hm=r,e.Jg=s}return e}E(n,t);var i=n.prototype;return i.WL=function(n){this.rc.persistVolume&&PC.ef(oD,""+Boolean(n)),t.prototype.WL.call(this,n)},i.uM=function(n){this.rc.persistVolume&&PC.ef(uD,""+Number(n)),t.prototype.uM.call(this,n)},n}(t)},VC.UU);var aD=new(function(){function t(){this.qU=[],this.$w=void 0}var n=t.prototype;return n.S_=function(t){return this.qU[t]},n.YU=function(t){this.qU.push(t),this.t_.push(t.t_)},n.Qh=function(t){var n=this.qU.indexOf(t);n<0||(Ys(this.qU,n),this.$w&&Ys(this.$w,n))},n.jU=function(t){for(var n=0,i=this.qU;n<i.length;n++){var e=i[n];if(e.z_===t)return e}},T(t,[{key:"C_",get:function(){return this.qU.length}},{key:"t_",get:function(){return this.$w||(this.$w=function(t){for(var n=[],i=0;i<t.C_;i++)n[i]=t.S_(i).t_;return n.getPlayerByUID=function(n){var i=t.jU(n);return i&&i.t_},n}(this)),this.$w}}]),t}()),hD=function(){function t(t){var n=this;this.QU=[],this.ZU=void 0,this.$v=new ou,this.KU=void 0,this.JU=function(){return 0===n.QU.length?n.KU?cD(n.KU,n.$v.Ws).then(n.$U,n.$U):n.$U():n.QU.shift()().then(n.JU)},this.$U=function(){if(0!==n.QU.length)return n.JU();n.ZU=void 0},this.KU=t}var n=t.prototype;return n.tX=function(t,n){var i=this;return new qe(function(e){var r=new ou;r.zs(i.$v.Ws),n&&r.zs(n);var s=function(){r.xs()};i.QU.push(function(){var n=cD(t,r.Ws);return e(n),n.then(s,s)}),i.ZU||(i.ZU=i.JU())})},n.Hs=function(){return this.nX(!0)},n.xd=function(){return this.KU=void 0,this.nX(!1)},n.nX=function(t){var n=this.ZU;return this.$v.Hs(),t&&(this.$v=new ou),qe.resolve(n)},t}();function cD(t,n){return new qe(function(i){return i(t(n))})}var fD,lD=function(t){function n(n){var i;return(i=t.call(this,Pf.Xf)||this).source=n,i}return E(n,t),n}(Eu),vD=function(t){function n(){var n;return(n=t.call(this)||this).TC=void 0,n.EC=void 0,n.RC=void 0,n.IC=void 0,n.TC=0,n.EC=!0,n.RC=!1,n.IC=1,n}E(n,t);var i=n.prototype;return i.Fm=function(){this.EC&&(this.EC=!1,this.Qs(new yp(this.jg)),this.Qs(new yA(this.jg)))},i.Hm=function(){this.EC||(this.EC=!0,this.Qs(new Sp(this.jg,this._y)),this.Qs(new mp(this.jg)))},i.D_=function(){this.TC=0,this.RC=!1,this.IC=1,this.Hm(),this.Qs(new gp(this.TC))},i.xd=function(){this.$s()},i.Jm=function(){},i.Km=function(){},T(n,[{key:"_y",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.TC},set:function(t){this.RC&&this.TC===t||(this.TC=t,this.RC=!0,this.Qs(new Rp(this.jg)))}},{key:"$g",get:function(){return this.EC}},{key:"tm",get:function(){return this.IC},set:function(t){this.IC!==t&&(this.IC=t,this.Qs(new Tp(this.jg,this.tm)))}},{key:"ag",get:function(){return Ky.Mg}},{key:"nm",get:function(){return this.RC}}]),n}(Xy),dD=function(t){function n(){return t.call(this,Pf.wf)||this}return E(n,t),n}(Eu),wD={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},gD={visibility:"hidden"},mD={visibility:"visible"},yD=function(){function t(t){var n,i=this;this.bN=void 0,this.EN=void 0,this.iX=!1,this.eX=void 0,this.rX=void 0,this.sX=function(t){var n;i.iX=!1,i.eX=null==(n=t.source)?void 0:n.poster,i.Zh()},this.VE=function(){i.iX=!0,i.Jm()},this.EN=t,this.NN(),this.bN=((n=we&&we.document&&we.document.createElement("div")).className="theoplayer-poster",hr(wD,n),n),t.gy.appendChild(this.bN)}var n=t.prototype;return n.Zh=function(){var t=this.EN.$g,n=this.iX;this.hd?this.bN.style.backgroundImage='url("'+this.hd.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.bN.style.backgroundImage="",t&&this.hd&&!n?this.Km():this.Jm()},n.Km=function(){hr(gD,this.EN.gy),hr(mD,this.bN)},n.Jm=function(){hr(gD,this.bN),hr(mD,this.EN.gy)},n.NN=function(){this.EN.Zs("sourcechange",this.sX),this.EN.Zs("play",this.VE)},n.xd=function(){this.EN.tu("sourcechange",this.sX),this.EN.tu("play",this.VE),nr(this.bN)},T(t,[{key:"hd",get:function(){return void 0!==this.eX?this.eX:void 0!==this.rX?this.rX:void 0}},{key:"uX",set:function(t){this.rX=t,this.Zh()}}]),t}();function pD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).EN=void 0,r.oX=void 0,r.aX=void 0,r.hX=void 0,r.cX=void 0,r.fX=void 0,r.vX=void 0,r.lX=void 0,r.DN=void 0,r.RN=void 0,r.oD=void 0,r.XC=void 0,r.$w=void 0,r.dX=function(t){t.type!==Pf.Df&&r.lX.push(t)},r.oX=new t(n,e),r.aX=new vD,r.EN=r.oX,r.hX=new yD(Jt(r)),r.fX=new hD,r.vX=!1,r.lX=[],r.DN=!0,r.NN(),r}E(e,i);var r=e.prototype;return r.tX=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.fX.tX(t,n).catch(lu));case 1:case"end":return i.stop()}},null,this,null,qe)},r.wX=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),this.oX.Js(this.dX),i.next=4,Fr.awrap(this.oX.Wm(t,n));case 4:this.oX.ou(this.dX);case 5:case"end":return i.stop()}},null,this,null,qe)},r._X=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Vm())&&!cI(t)&&this.Om&&this.$g){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rc.mutedAutoplay,e.next=6,Fr.awrap(this.PU.gX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.mX(),e.abrupt("break",14);case 12:return(this.Jg||n===pp.ALL)&&(this.Jg=!0,this.Fm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,qe)},r.Wm=function(t){var i=this,e=this.RN;e&&!cI(e)&&this.Qs(new gp(0,0)),this.D_(),this.RN=t,yu(this.tX(function(e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return cu(e),r.prev=1,r.next=4,Fr.awrap(i.wX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.RN=void 0,i.gD((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof lf?s:s instanceof l?new lf(u,s.message,s):new lf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Fr.awrap(i.yX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],qe)}))},r.yX=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kX(this.oX),this.Qs(new lD(this.Vm())),t.next=4,Fr.awrap(this._X());case 4:case"end":return t.stop()}},null,this,null,qe)},r.LL=function(t){this.EN.jg=t},r.FL=function(){var t;return null!=(t=this.XC)?t:this.oX.mu},r.HL=function(){var t;return null!=(t=this.oD)?t:this.oX.Kg},r.gD=function(t){void 0===this.HL()&&(this.oD=t,this.XC=s_(t),this.Qs(new Bp(t)))},r.Fm=function(){this.EN.Fm()},r.mX=function(){this.Jg||this.jm(),this.Fm()},r.jm=function(){this.oX.jm()},r.Hm=function(){this.EN.Hm()},r.zm=function(){this.Wm(void 0)},r.Km=function(){this.DN=!0,this.EN.Km()},r.Jm=function(){this.DN=!1,this.EN.Jm()},r.NU=function(){this.oX.NU()},r.uM=function(t){this.oX.uM(t)},r.WL=function(t){this.oX.WL(t)},r.bX=function(t){this.cX=t,t.YU(this)},r.bC=function(){return this.oX.bC()},r.Vm=function(){return this.RN},r.$m=function(){return this.oX.$m()},r.xL=function(){return this.oX.jg},r.ML=function(){return this.oX.Qg},r.CL=function(){return this.oX.wy},r.QL=function(){return this.oX.Ry},r.$L=function(){return this.oX.Ny},r.D_=function(){var t=this;this.RN=void 0,this.oD=void 0,this.XC=void 0,Zs(this.lX),this.aX.D_(),this.kX(this.aX),this.fX.Hs(),yu(this.fX.tX(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(n),i.next=3,Fr.awrap(t.oX.D_());case 3:case"end":return i.stop()}},null,null,null,qe)}))},r.xd=function(){var t=this;this.Qs(new dD),this.hX.xd(),this.CN(),this.D_(),yu(this.tX(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.oX.xd());case 2:t.cX&&(t.cX.Qh(t),t.cX=void 0),t.fX.xd();case 4:case"end":return n.stop()}},null,null,null,qe)})),this.$s()},r.kX=function(t){if(this.EN!==t){var n=this.EN.$g,i=this.EN.jg,e=this.EN.tm,r=this.EN.nm;this.CN(),t===this.oX?((r||t.jg!==i)&&(t.jg=i),t.tm!==e&&(t.tm=e),n?t.Hm():t.Fm()):this.rc.retainPlaybackRateOnSourceChange?t.tm=e:1!==e&&this.Qs(new Tp(this.xL(),1)),this.EN=t,this.NN();for(var s=0,u=this.lX;s<u.length;s++){var o=u[s];this.Qs(o)}Zs(this.lX),this.DN?t.Km():t.Jm()}},r.NN=function(){this.EN.Js(this.js)},r.CN=function(){this.EN.ou(this.js)},r.n_=function(){return t=this,e=function(n){i=n;var e=kI(n,t.rc);t.Wm(e)},r={get abr(){return t.CU.t_},get audioTracks(){return t.Lm.t_},get autoplay(){return t.Om},set autoplay(n){t.Om=Boolean(n)},get buffered(){return t.CL()},get canvas(){return t.wU.t_},get clip(){return t.DU.t_},get currentProgramDateTime(){var n;return null!=(n=t._y)?n:null},set currentProgramDateTime(n){t._y=null!=n?n:void 0},get currentTime(){return t.xL()},set currentTime(n){t.LL(Number(n))},get duration(){return t.ML()},get element(){return t.gy},get ended(){return t.Zg},get error(){return t.FL()},get errorObject(){return t.HL()},get loop(){return t.bM.bM},set loop(n){t.bM.bM=Boolean(n)},get metrics(){return t.Tm.t_},get muted(){return t.Jg},set muted(n){t.WL(n)},get network(){return t.xU.t_},get paused(){return t.$g},get playbackRate(){return t.tm},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.tm=i},get played(){return t.QL()},get poster(){return t.pX},set poster(n){t.pX=Ay(n)},get preload(){return t.Dy},set preload(n){t.Dy=n},get presentation(){return t._U.t_},get readyState(){return t.ag},get seekable(){return t.$L()},get seeking(){return t.nm},get source(){return i},set source(t){e(t)},get src(){return lI(t.Vm())},set src(t){e({sources:t})},get textTracks(){return t.Um.t_},get textTrackStyle(){return t.LU.t_},get uid(){return t.z_},get videoHeight(){return t.im},get videoTracks(){return t.Mm.t_},get videoWidth(){return t.um},get volume(){return t.hm},set volume(n){t.uM(Number(n))},get latency(){return t.Cy.t_},destroy:function(){t.xd(),t=null,i=void 0},play:function(){t.mX()},pause:function(){t.Hm()},stop:function(){i=void 0,t.zm()},prepareWithUserAction:function(){t.jm()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)},setSource:function(t){e(t)}},(n=new OE(r,!0)).qC(t),r;var t,n,i,e,r},T(e,[{key:"dU",get:function(){return this.oX.dU}},{key:"wU",get:function(){return this.oX.wU}},{key:"rc",get:function(){return this.oX.rc}},{key:"lU",get:function(){return this.oX.lU}},{key:"jw",get:function(){return this.oX.jw}},{key:"YD",get:function(){return this.oX.mU}},{key:"_U",get:function(){return this.oX._U}},{key:"gU",get:function(){return this.oX.gU}},{key:"TM",get:function(){return this.oX.TM}},{key:"CU",get:function(){return this.oX.CU}},{key:"Om",get:function(){return this.oX.Om},set:function(t){this.oX.Om=t,this._X()}},{key:"PU",get:function(){return this.oX.PU}},{key:"Lm",get:function(){return this.oX.Lm}},{key:"BU",get:function(){return this.oX.BU}},{key:"OU",get:function(){return this.oX.gU}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Xm",get:function(){return this.oX.Xm}},{key:"Tm",get:function(){return this.oX.Tm}},{key:"xU",get:function(){return this.oX.xU}},{key:"Um",get:function(){return this.oX.Um}},{key:"LU",get:function(){return this.oX.LU}},{key:"Mm",get:function(){return this.oX.Mm}},{key:"DU",get:function(){return this.oX.DU}},{key:"bM",get:function(){return this.oX.bM}},{key:"_y",get:function(){return this.EN._y},set:function(t){this.EN._y=t}},{key:"vy",get:function(){return this.oX.vy}},{key:"gy",get:function(){return this.oX.gy}},{key:"Zg",get:function(){return this.oX.Zg}},{key:"Jg",get:function(){return this.oX.Jg},set:function(t){this.oX.Jg=t}},{key:"$g",get:function(){return this.EN.$g}},{key:"pX",get:function(){return this.hX.hd||""},set:function(t){this.hX.uX=t}},{key:"tm",get:function(){return this.oX.tm},set:function(t){this.EN.tm=t}},{key:"Dy",get:function(){return this.oX.Dy},set:function(t){this.oX.Dy=uE(t)}},{key:"ag",get:function(){return this.EN.ag}},{key:"nm",get:function(){return this.EN.nm}},{key:"z_",get:function(){return this.oX.z_}},{key:"im",get:function(){return this.oX.im}},{key:"um",get:function(){return this.oX.um}},{key:"hm",get:function(){return this.oX.hm},set:function(t){this.oX.hm=t}},{key:"Cy",get:function(){return this.oX.Cy}}]),e}(zy)}function _D(){return fD||(fD=KC(fD=pD(qC),VC.MU),fD=KC(fD,VC.UU)),fD}function bD(t,n){var i=Lp(n),e=new(_D())(t,i),r=e.t_;return e.NU(),e.bX(aD),w.defineProperty(r,"constructor",{value:bD}),r=dy(r),iD(e),r}mu(function(){t.dispatchEvent&&t.dispatchEvent(rD("theoplayerready"))});var kD,AD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return zu(t)},n.decode=function(t){return Hu(t)},t}())},TD=["hls","airplay","ui"],SD=aD.t_,ED=QA.LI.registerContentProtectionIntegration.bind(QA.LI),ID=[Pf.If,Pf.Ef,wp.Yg,Pf.Ff,Pf.Rf,Pf.bf,Pf.Bf,Pf.Pf,Pf.mf,Pf.Df,Pf.Hf,Pf._f,wp.w_,Pf.Cf,xy.K_,Au.yu,Au.pu,Pf.lf,Pf.vf,Pf.zf],RD={AX:!1,TX:50},CD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.KP="SX"}(kD||(kD={}));var DD,ND=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Pc=void 0,s.sD=void 0,s.Vc=void 0,s.EX=!1,s.IX=new na,s.RX=!1,s.fX=new hD,s.DX=void 0,s.ys=void 0,s.ic=void 0,s.NX=function(){s.RX=!0},s.CX=function(){s.PX(!0)},s.Pc=n,s.sD=i,s.Vc=i.OD,s.DX=e,s.ys=r,s.Vc.addEventListener("loadedmetadata",s.NX);for(var u=0;u<CD.length;u++){var o=CD[u];s.Vc.addEventListener(o,s.CX)}return s}E(i,t);var e=i.prototype;return e.BX=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.OX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},e.xX=function(t){var n=this.ic;return n?0!==t.UD.length&&t.UD.some(function(t){return t.ec.vs===n.ec}):0===t.UD.length||!this.RX},e.LX=function(t){return this.DX.LX(t),this.Pc=t,qe.resolve()},e.xs=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.$s(),this.Vc.removeEventListener("loadedmetadata",this.NX),t=0;t<CD.length;t++)n=CD[t],this.Vc.removeEventListener(n,this.CX);return i.next=5,Fr.awrap(this.fX.xd());case 5:return i.next=7,Fr.awrap(this.MX());case 7:return i.next=9,Fr.awrap(this.DX.D_());case 9:return i.next=11,Fr.awrap(this.OX(void 0));case 11:case"end":return i.stop()}},null,this,null,qe)},e.PX=function(t){t!==this.EX&&(this.EX=t,t?this.IX.Wu(void 0):this.IX=new na)},e.OX=function(t){var n=this;return this.fX.tX(function(){return n.UX(t)})},e.UX=function(t){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vc.src){e.next=4;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vc.src){e.next=6;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.EX){e.next=9;break}return e.next=9,Fr.awrap(this.IX.Fu);case 9:if(!(i=this.ic)){e.next=14;break}return e.next=13,Fr.awrap(i.cc(this.Vc));case 13:this.ic=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Fr.awrap(t.hc(this.Vc));case 17:this.ic=t;case 18:case"end":return e.stop()}},null,this,null,qe)},e.Wm=function(t){var n=this;return this.fX.tX(function(){return n.XX(t)})},e.XX=function(t){this.PX(!1);var n=this.sD.tm;this.Vc.src=t,this.sD.tm=n},e.FX=function(t){var n=this;return this.fX.tX(function(){return n.HX(t)})},e.HX=function(t){this.XX(t),this.Vc.load()},e.MX=function(){var t=this;return this.fX.tX(function(){return t.zX()})},e.zX=function(){this.PX(!1),vr(this.Vc)},T(i,[{key:"Lm",get:function(){throw new l("Not implemented")}},{key:"rc",get:function(){return this.Pc}},{key:"OD",get:function(){return this.Vc}},{key:"Mm",get:function(){throw new l("Not implemented")}}]),i}(Tu),PD=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.kL=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rc,n.t0=t.FD,n.next=n.t0===$y.Bg?4:n.t0===$y.Og?4:(n.t0,$y.Pg,6);break;case 4:return this.Vc.setAttribute("crossorigin",t.FD),n.abrupt("break",8);case 6:return this.Vc.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Dy?this.Vc.preload=t.Dy:this.Vc.preload=rE.UR,void 0!==t.HD?this.Vc.title=t.HD:fr(this.Vc),n.next=12,Fr.awrap(this.Wm(t.fg));case 12:this.DX.jh(this,t);case 13:case"end":return n.stop()}},null,this,null,qe)},i.xX=function(t){return!1},i.LX=function(t){return qe.resolve(void 0)},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return fr(this.Vc),n.next=3,Fr.awrap(t.prototype.xs.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n.VX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Fl))},T(n,[{key:"wy",get:function(){return lE._C(this.Vc.buffered)}},{key:"Qg",get:function(){return this.Vc.duration}},{key:"WX",get:function(){var t=this.Qg;if(!isFinite(t))return!1;var n=this.wy;return 0!==n.C_&&t-n.UN(n.C_-1)<1/6}},{key:"Dy",get:function(){return this.Vc.preload},set:function(t){this.Vc.preload=t}},{key:"Ny",get:function(){return lE._C(this.Vc.seekable)}},{key:"GX",get:function(){return this.wy}},{key:"qX",get:function(){if(lr(this.Vc)&&(this.Vc.videoWidth>0||this.Vc.videoHeight>0))return this.wy}}]),n}(ND),xD=function(t){function n(n){var i;return(i=t.call(this,Pf.Rf)||this).currentTime=n,i}return E(n,t),n}(Eu),BD=function(t){function n(){return t.call(this,Pf.bf)||this}return E(n,t),n}(Eu);!function(t){t.YX="jX"}(DD||(DD={}));var OD,LD,MD=[DD.YX];!function(t){t[t.QX=0]="QX",t[t.Yf=1]="Yf",t[t.ZX=2]="ZX"}(OD||(OD={})),function(t){t.KX="JX"}(LD||(LD={}));var jD=function(t){function n(n){var i;return(i=t.call(this,LD.KX)||this).$X=n,i}return E(n,t),n}(Eu),FD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).tF=lE.yC(),n}E(n,t);var i=n.prototype;return i.nF=function(t,n){var i=new lE([t,n]);this.tF=this.tF.nC(i),this.Qs(new jD(i))},i.iF=function(t,n){this.tF=this.tF.eC(new lE([t,n]))},i.D_=function(){this.tF=lE.yC()},i.xd=function(){this.$s()},T(n,[{key:"eF",get:function(){return this.tF}}]),n}(Tu);function UD(t,n){return void 0===n&&(n=new mw({highWaterMark:1/0})),new nw(new XD(t,n),{highWaterMark:0})}var HD,XD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.uv=void 0,this.rF=void 0,this.sF=void 0,this.Rv=[],this.Dv=0,this.ZM=void 0,this.uF=!1,this.oF=void 0,this.aF=function(t){return t.done?(i.hF(),void i.ZM.close()):(i.Rv.push(t.value),i.Dv+=i.rF(t.value),i.uF&&i.hF(),i.cF()?i.uv.read().then(i.aF):void 0)},this.mw=function(t){i.hF(),i.ZM.error(t)},this.uv=t.getReader(),this.rF=r,this.sF=u}var n=t.prototype;return n.start=function(t){this.ZM=t,this.cF()&&this.fF()},n.pull=function(){this.Rv.length>0?this.hF():this.uF=!0,this.cF()&&this.fF()},n.cancel=function(t){return Zs(this.Rv),this.Dv=0,this.uF=!1,this.uv.cancel(t)},n.hF=function(){if(0!==this.Rv.length){var t=this.Rv;this.Rv=[],this.Dv=0,this.uF=!1,this.ZM.enqueue(t)}},n.cF=function(){return!!this.uF||this.sF-this.Dv>0},n.fF=function(){var t=this;if(!this.oF){var n=this.uv.read().then(this.aF).catch(this.mw);this.oF=n;var i=function(){t.oF===n&&(t.oF=void 0)};n.then(i,i)}},t}(),zD=function(){function t(){this.vF=[],this.Cu=0}var n=t.prototype;return n.YU=function(t){this.vF.push(t),this.Cu+=t.byteLength},n.lF=function(t){if(this.Cu<=t)return this.dF();for(var n=this.vF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Vo(n[e],0,s)),i+=s}return{vF:r,Cu:i}},n.wF=function(t){var n=this.lF(t);return 1===n.vF.length?n.vF[0]:Yu(n.vF,n.Cu)},n.dF=function(){return{vF:this.vF,Cu:this.Cu}},n._F=function(t){if(this.Cu<=t)return this.gF();for(var n=this.vF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Vo(n[0],0,s)),n[0]=Vo(n[0],s),i+=s}return this.Cu-=i,{vF:r,Cu:i}},n.mF=function(t){var n=this._F(t);return 1===n.vF.length?n.vF[0]:Yu(n.vF,n.Cu)},n.gF=function(){var t=this.dF();return this.vF=[],this.Cu=0,t},n.yF=function(){var t=1===this.vF.length?this.vF[0]:Yu(this.vF,this.Cu);return this.vF=[],this.Cu=0,t},t}();!function(t){t[t.kF=0]="kF",t[t.bF=1]="bF",t[t.pF=2]="pF"}(HD||(HD={}));var VD=function(){var t=n.prototype;function n(){this.Rv=new zD,this.me=HD.kF,this.AF=0,this.TF=0,this.SF()}return t.EF=function(t,n){},t.IF=function(){},t.RF=function(t){this.Rv.YU(t),this.DF(!1)},t.NF=function(){this.DF(!0)},t.CF=function(){return this.me!==HD.kF||0!==this.Rv.Cu},t.DF=function(t){for(;0!==this.Rv.Cu;){if(!t&&this.AF>this.Rv.Cu)return;switch(this.me){case HD.kF:this.PF(t);break;case HD.bF:this.BF(t);break;case HD.pF:this.OF(t)}}},t.SF=function(){this.me=HD.kF,this.AF=8},t.PF=function(t){var n=qo(this.Rv.wF(this.AF)),i=new Jo,e=ik.DA(n,i);if(!e.TA)return this.AF=e.CA,void(t&&this.AF>this.Rv.Cu&&this.xF(this.Rv.Cu));var r=e.NA.fs,s=e.NA.Cu;0===s&&(s=1/0),this.EF(r,s),this.LF(r)?this.MF(s):this.xF(s)},t.MF=function(t){this.me=HD.bF,this.AF=t},t.BF=function(t){var n=qo(this.Rv.mF(this.AF)),i=new Jo,e=ik.SA(n,i,!t);if(!e.TA)throw new nk(i.Pu);this.IF(),this.UF(e.EA),this.SF()},t.xF=function(t){this.me=HD.pF,this.AF=0,this.TF=t},t.OF=function(t){var n=this.Rv._F(this.TF);this.TF-=n.Cu;for(var i=0,e=n.vF;i<e.length;i++){var r=e[i];this.XF(r)}(0===this.TF||t&&this.TF===1/0)&&(this.IF(),this.SF())},n}(),WD=function(t){function n(n){var i;return(i=t.call(this)||this).ZM=void 0,i.FF=void 0,i.HF=void 0,i.zF=void 0,i.FF=n,i}E(n,t);var i=n.prototype;return i.start=function(t){this.ZM=t},i.transform=function(t){this.RF(t)},i.flush=function(){this.NF()},i.LF=function(t){return t===fb.gp||t===fb.Vp||t===fb.$p},i.UF=function(t){var n=this.VF(t);this.ZM.enqueue(n)},i.XF=function(t){this.ZM.enqueue(t)},i.VF=function(t){var n=Go(t.Hi.Hi);switch(t.fs){case"moov":return this.WF(n);case"sidx":return this.GF(n);case"moof":return this.qF(n)}return n},i.WF=function(t){for(var n=Nc(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof qh?n.boxes[i]=this.YF(e):e instanceof Gh?n.boxes[i]=this.jF(e):e instanceof Jh&&this.QF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof zh&&this.ZF(u)}return n.serialize().join()},i.YF=function(t){this.HF=t.timescale;var n=GD(vt.fromNumber(t.duration,!0),this.KF,this.FF);return 0!==n.getHighBits()?this.jF(function(t){return new Gh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.FF,t.duration=n.toInt(),t)},i.jF=function(t){return this.HF=t.timescale,t.timescale=this.FF,t.duration=GD(t.duration,this.KF,this.FF),t},i.QF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Qh?t.boxes[n]=this.JF(i):i instanceof Zh?t.boxes[n]=this.tH(i):i instanceof bh?this.nH(i):i instanceof ch&&this.iH(i)}},i.JF=function(t){var n=GD(vt.fromNumber(t.duration,!0),this.KF,this.FF);return 0!==n.getHighBits()?this.tH(function(t){return new Zh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),duration:vt.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.tH=function(t){return t.duration=GD(t.duration,this.KF,this.FF),t},i.nH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof mh?t.boxes[n]=this.eH(i):i instanceof yh&&(t.boxes[n]=this.rH(i))}},i.eH=function(t){this.zF=t.timescale;var n=GD(vt.fromNumber(t.duration,!0),this.sH,this.FF);return 0!==n.getHighBits()?this.rH(function(t){return new yh({creation:vt.fromNumber(t.creationTime,!0),modification:vt.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:vt.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.FF,t.duration=n.toInt(),t)},i.rH=function(t){return this.zF=t.timescale,t.timescale=this.FF,t.duration=GD(t.duration,this.sH,this.FF),t},i.iH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof oh?this.uH(e):e instanceof ah&&this.oH(e)}},i.uH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=qD(e.mediaTime,this.KF,this.FF),e.segmentDuration=qD(e.segmentDuration,this.KF,this.FF)}},i.oH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=GD(e.mediaTime,this.KF,this.FF),e.segmentDuration=GD(e.segmentDuration,this.KF,this.FF)}},i.ZF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Hh?this.aH(i):i instanceof jh?t.boxes[n]=this.hH(i):i instanceof Fh&&(t.boxes[n]=this.cH(i))}},i.aH=function(t){t.defaultSampleDuration=qD(t.defaultSampleDuration,this.sH,this.FF)},i.hH=function(t){var n=GD(vt.fromNumber(t.fragmentDuration,!0),this.KF,this.FF);return 0!==n.getHighBits()?this.cH(function(t){return new Fh(vt.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.cH=function(t){return t.fragmentDuration=GD(t.fragmentDuration,this.KF,this.FF),t},i.GF=function(t){var n=Pc(t);return(n=n instanceof pc?this.fH(n):this.vH(n)).serialize().join()},i.fH=function(t){var n=t.timescale,i=GD(vt.fromNumber(t.earliestPresentationTime,!0),n,this.FF);if(0!==i.getHighBits())return this.vH(function(t){return new _c(t.referenceId,t.timescale,vt.fromNumber(t.earliestPresentationTime,!0),vt.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.FF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=qD(s.subsegmentDuration,n,this.FF)}return t},i.vH=function(t){var n=t.timescale;t.timescale=this.FF,t.earliestPresentationTime=GD(t.earliestPresentationTime,n,this.FF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=qD(r.subsegmentDuration,n,this.FF)}return t},i.qF=function(t){for(var n=xc(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof fc&&this.lH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,h=n.boxes;a<h.length;a++){var c=h[a];c instanceof fc&&this.dH(c,o)}return n.serialize().join()},i.lH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof oc?this.wH(i):i instanceof rc?t.boxes[n]=this._H(i):i instanceof sc?t.boxes[n]=this.gH(i):i instanceof hc&&this.mH(i)}},i.wH=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=qD(t.defaultSampleDuration,this.sH,this.FF))},i._H=function(t){var n=GD(vt.fromNumber(t.baseMediaDecodeTime,!0),this.sH,this.FF);return 0!==n.getHighBits()?this.gH(function(t){return new sc(vt.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.gH=function(t){return t.baseMediaDecodeTime=GD(t.baseMediaDecodeTime,this.sH,this.FF),t},i.mH=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var a=o[u];if(void 0!==a.duration){var h=qD(s+=a.duration,this.sH,this.FF);a.duration=h-r,r=h}void 0!==a.compositionTimeOffset&&(a.compositionTimeOffset=(n=a.compositionTimeOffset,i=this.sH,e=this.FF,vt.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.dH=function(t,n){var i=Ws(t.boxes,$D);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof hc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},T(n,[{key:"KF",get:function(){if(void 0===this.HF)throw new l("Expected to have found a movie header timescale.");return this.HF}},{key:"sH",get:function(){if(void 0===this.zF)throw new l("Expected to have found a media header timescale.");return this.zF}}]),n}(VD);function qD(t,n,i){return vt.fromInt(t,!0).multiply(i).divide(n).toNumber()}function GD(t,n,i){return Z_.Jk(t).Eb(Z_.$k(i,!0)).Nb(Z_.$k(n,!0)).wb()}function $D(t){return t instanceof oc}var YD,QD,ZD,KD=1e5,JD=function(){function t(t){this.yH=void 0,this.yH=new WD(t)}return t.prototype.kH=function(t){return t.pipeThrough(new Aw(this.yH))},t}();function tN(t,n,i){var e=lo(t,n);if(e!==i)throw new v("Expected descriptor with tag "+i+", but found "+e)}function nN(t,n){tN(t,n,YD.bH);var i,e,r,s=iN(t,n),u=n.Pu+s,o=po(t,n),a=lo(t,n),h=0!=(64&a),c=0!=(32&a),f=31&a;(0!=(128&a)&&(i=po(t,n)),h)&&(e=Eo(t,n,lo(t,n)));c&&(r=Eo(t,n,2));var l=function(t,n){tN(t,n,YD.pH);var i,e=iN(t,n),r=n.Pu+e,s=lo(t,n),u=lo(t,n),o=u>>2,a=0!=(2&u),h=yo(t,n,3),c=bo(t,n),f=bo(t,n);if(n.Pu<r){var l=function(t,n){return t.getUint8(n.Pu)}(t,n);l===YD.AH&&(i=function(t,n){tN(t,n,YD.AH);var i=iN(t,n),e=wo(t,n,i);return{TH:YD.AH,SH:e}}(t,n))}return n.xu(r),{TH:YD.pH,EH:s,IH:o,RH:a,DH:h,NH:c,CH:f,PH:i}}(t,n);return n.xu(u),{TH:YD.bH,H_:o,BH:i,hd:e,OH:f,xH:r,LH:l}}function iN(t,n){for(var i=0,e=0;e<4;e++){var r=lo(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function eN(t,n){for(var i=lo(t,n),e=lo(t,n),r=lo(t,n),s=lo(t,n),u=3&lo(t,n),o=31&lo(t,n),a=[],h=0;h<o;h++){var c=po(t,n);a.push(wo(t,n,c))}for(var f=lo(t,n),l=[],v=0;v<f;v++){var d=po(t,n);l.push(wo(t,n,d))}return{MH:i,UH:e,XH:r,FH:s,HH:u,zH:a,VH:l}}function rN(t,n){for(var i,e=0,r=t.JA;e<r.length;e++){var s,u=r[e],o=null==(s=u.SS)?void 0:s.SS;o&&function(){var t=u.NA.fT,e=Ws(n.JA,function(n){return n.fT===t}),r=ub.Jk(o,e.Bb);i&&!r.zk(i)||(i=r)}()}return i}function sN(t){var n=Jb(ok.MA(t),fb.gp);if(n){for(var i=n.NA.Bb,e=[],r=0,s=n.JA;r<s.length;r++){for(var u=s[r],o=u.NA.fT,a=u.oT.NA.Bb,h=void 0,c=void 0,f=0,l=u.oT.yT.pT.TT.ET;f<l.length;f++){var v,d,w=uN(l[f]);if(w)h=null!=(v=w.WH)?v:h,c=null!=(d=w.GH)?d:c}e.push({fT:o,Bb:a,qH:{WH:h,GH:c,YH:void 0}})}return{Bb:i,JA:e}}}function uN(t){var n,i;if(t.fs===fb.Np)n=function(t){return"avc1."+oN(t.UH,2)+oN(t.XH,2)+oN(t.FH,2)}(eN(qo(t.JT.Hi),new Jo));else if(t.fs===fb.Pp||t.fs===fb.Bp){var e=function(t,n){for(var i=n.Xu(),e=to(t,i,8),r=to(t,i,2),s=to(t,i,1),u=to(t,i,5),o=to(t,i,32),a=[],h=0;h<6;h++)a.push(to(t,i,8));var c=to(t,i,8);i.Bu(4);var f=to(t,i,12);i.Bu(6);var l=to(t,i,2);i.Bu(6);var v=to(t,i,2);i.Bu(5);var d=to(t,i,3);i.Bu(5);for(var w=to(t,i,3),g=to(t,i,16),m=to(t,i,2),y=to(t,i,3),p=to(t,i,1),_=to(t,i,2),b=to(t,i,8),k=[],A=0;A<b;A++){var T=to(t,i,1);i.Bu(1);for(var S=to(t,i,6),E=to(t,i,16),I=[],R=0;R<E;R++){var C=to(t,i,16),D=wo(t,new Jo(i.Pu>>3),C);i.Bu(8*C),I.push({jH:C,QH:D})}k.push({ZH:T,KH:S,JH:E,$H:I})}return{MH:e,tz:r,nz:s,iz:u,ez:a,rz:c,sz:f,oz:l,cz:o,fz:v,vz:d,lz:w,wz:g,_z:y,gz:p,mz:m,HH:_,yz:b,kz:k}}(qo(t.iS.Hi),new Jo);n=function(t,n){var i=t.toString()+".";switch(n.tz){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.iz.toString()+".",i+=(e=n.cz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.nz){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.rz.toString();for(var s=n.ez.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.ez[u].toString(16).toUpperCase();return i}(t.fs,e)}else{if(t.fs!==fb.Lp)return(t.fs===fb.zp||t.fs===fb.Hp)&&t.sS?uN(t.sS):void 0;i=function(t){var n=t.LH;switch(n.EH){case QD.bz:return function(t){var n;if(null==(n=t.PH)||!n.SH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=to(t,n,5);31===i&&(i=32+to(t,n,6));var e,r=to(t,n,4);return 15===r&&(e=to(t,n,24)),{pz:i,Az:r,Tz:e,Sz:to(t,n,4)}}(qo(t.PH.SH),new no).pz}(n);case QD.Ez:return"mp4a.40.2";case QD.Iz:return"mp4a.40.34"}}(nN(qo(t.qT.Hi),new Jo))}return{WH:n,GH:i,YH:void 0}}function oN(t,n){return Is(t.toString(16),n,"0")}function aN(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.fs,e.next=e.t0===OD.QX?3:e.t0===OD.Yf?4:e.t0===OD.ZX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Fr.awrap(Fw(t.Hi,n));case 6:return i=e.sent,cu(n),e.abrupt("return",{fs:OD.QX,Hi:new _(i)});case 9:throw new l("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,qe)}!function(t){t[t.bH=3]="bH",t[t.pH=4]="pH",t[t.AH=5]="AH"}(YD||(YD={})),function(t){t[t.bz=64]="bz",t[t.Ez=103]="Ez",t[t.Iz=107]="Iz"}(QD||(QD={})),function(t){t[t.Rz=0]="Rz",t[t.Dz=1]="Dz",t[t.Ez=2]="Ez",t[t.Nz=5]="Nz",t[t.Cz=34]="Cz"}(ZD||(ZD={}));var hN=20,cN=j.Bn,fN=function(t){function n(n,i,e,r,s){var u,o;return(o=t.call(this)||this).Pz=void 0,o.Bz=void 0,o.Oz=void 0,o.xz=void 0,o.Lz=void 0,o.wL=hN,o._L=eC,o.Mz=!1,o.Uz=!1,o.Xz=void 0,o.Fz=new ou,o.Hz=void 0,o.zz=!1,o.Vz=void 0,o.Wz=!1,o.Gz=void 0,o.qz=function(){o.Mz=!1},o.Pz=i,o.Bz=n,o.Oz=e,o.Oz.addEventListener("updateend",o.qz),o.xz=r,o.Lz=s,o.Wz=lN(r.Fl,s),null!=(u=i.rc)&&u.Ke&&(o.Hz=new JD(KD)),o}E(n,t);var i=n.prototype;return i.Yz=function(t,n,i){var e=this;switch(t.fs){case OD.QX:case OD.Yf:return this.jz(function(i){return e.Qz(t,n,i)},i);case OD.ZX:throw new l("Opaque segments are not supported on web.")}},i.Zz=function(t,n){var i=this;switch(t.fs){case OD.QX:return this.jz(function(n){return i.Kz(t,n)},n);case OD.Yf:throw new l("Streaming initialization segments are not supported on web.");case OD.ZX:throw new l("Opaque initialization segments are not supported on web.")}},i.Kz=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Wz){i.next=3;break}return this.Gz=sN(qo(t.Hi)),i.abrupt("return");case 3:return i.next=5,Fr.awrap(this.Jz(t,void 0,n));case 5:cN&&(this.zz=!1,this.Vz=t);case 6:case"end":return i.stop()}},null,this,null,qe)},i.Qz=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(cN&&this.zz&&this.Vz)){u.next=3;break}return u.next=3,Fr.awrap(this.Kz(this.Vz,i));case 3:if(u.prev=3,cu(i),!this.Wz||!this.Gz){u.next=12;break}return u.next=8,Fr.awrap(aN(t,i));case 8:r=u.sent,o=r.Hi,a=this.Gz,h=void 0,c=void 0,f=void 0,h=ok.MA(qo(o)),c=rN(Jb(h,fb.Vp),a),f=Jb(h,fb.Zp),s={Jy:c.xk(),$z:f.Hi},t={fs:OD.QX,Hi:s.$z},n=Ur({},n,{fp:s.Jy+(null!=(e=n.fp)?e:0)});case 12:return u.next=14,Fr.awrap(this.Jz(t,n,i));case 14:this.Qs(new Eu(DD.YX));case 15:return u.prev=15,t.fs===OD.Yf&&t.Hi.cancel(new au).catch(K),u.finish(15);case 18:case"end":return u.stop()}var o,a,h,c,f},null,this,[[3,,15,18]],qe)},i.Jz=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:cu(i),n&&this.tV(n),s.t0=t.fs,s.next=s.t0===OD.QX?5:s.t0===OD.Yf?13:21;break;case 5:if(!this.Hz){s.next=10;break}return e=this.Hz.kH(Mw(t.Hi)),s.next=9,Fr.awrap(this.nV(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Fr.awrap(this.iV(t.Hi));case 12:return s.abrupt("return",s.sent);case 13:if(!this.Hz){s.next=18;break}return r=this.Hz.kH(t.Hi),s.next=17,Fr.awrap(this.nV(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Fr.awrap(this.nV(t.Hi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,qe)},i.nV=function(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.Bz.wy,e=UD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Fr.awrap(vu(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return cu(n),o=$u(u.value),s=!0,c.next=17,Fr.awrap(this.iV(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(K),!s){c.next=35;break}return c.next=27,Fr.awrap(this.eV());case 27:a=this.Bz.wy.QN(i.ZN()),h=0;case 29:if(!(h<a.C_)){c.next=35;break}return c.next=32,Fr.awrap(this.rV(a.LN(h),a.UN(h)));case 32:h++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],qe)},i.sV=function(t,n){var i=this;return this.jz(function(){return i.uV(t,n)})},i.uV=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Oz.appendWindowStart===t&&this.Oz.appendWindowEnd===n){i.next=6;break}return i.next=3,Fr.awrap(this.eV());case 3:this.Oz.appendWindowStart=0,this.Oz.appendWindowEnd=n,this.Oz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,qe)},i.tV=function(t){this.Oz.timestampOffset!==t.fp&&(this.Oz.timestampOffset=t.fp)},i.iV=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Oz.appendBuffer(t),this.Uz=!0,n.next=4,Fr.awrap(this.oV());case 4:case"end":return n.stop()}},null,this,null,qe)},i.aV=function(t,n,i){var e=this;return this.jz(function(i){return e.rV(t,n,i)},i)},i.rV=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return cu(i),this.Oz.remove(t,n),e.next=4,Fr.awrap(this.oV());case 4:case"end":return e.stop()}},null,this,null,qe)},i.oV=function(){var t=this,n=this.Bz.wy;return new qe(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},h=function(){c(),s&&!r?(n.hC(t.Bz.wy)||t.Qs(new Eu(DD.YX)),i()):e(new l(r))},c=function(){t.Oz.removeEventListener("update",u),t.Oz.removeEventListener("error",o),t.Oz.removeEventListener("abort",a),t.Oz.removeEventListener("updateend",h)};t.Oz.addEventListener("update",u),t.Oz.addEventListener("error",o),t.Oz.addEventListener("abort",a),t.Oz.addEventListener("updateend",h)})},i.hV=function(){var t=this;return this.jz(function(){return t.eV()})},i.eV=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Pz.ag===DN.Vd){t.next=2;break}return t.abrupt("return");case 2:cN&&(this.zz=!0),this.Oz.updating&&(this.Mz=!0);try{this.Oz.abort()}catch(t){0,this.Mz=!1}if(!this.vx){t.next=8;break}return t.next=8,Fr.awrap(this.oV().catch(K));case 8:case"end":return t.stop()}},null,this,null,qe)},i.cV=function(){return"function"==typeof this.Oz.changeType},i.LX=function(t){var n;this.fV(),this.Pz.ag!==DN.vV&&(this.xz=t,this.Lz=null!=(n=BN(t.Fl))?n:t.Fl,this.Wz=lN(t.Fl,this.Lz),this.cV()&&this.Oz.changeType(this.Lz))},i.lV=function(){this.Pz.ag!==DN.mf||this.Xz||this.vx||(this.Oz.timestampOffset=this.Oz.timestampOffset,this.Pz.dV())},i.jz=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.fV(),(i=new ou).zs(this.Fz.Ws),n&&i.zs(n),e.prev=4,this.Xz=t(i.Ws),e.next=8,Fr.awrap(this.Xz);case 8:if(this.Pz.dV(),!this.vx){e.next=12;break}return e.next=12,Fr.awrap(this.oV());case 12:return e.prev=12,this.Xz=void 0,i.xs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],qe)},i.fV=function(){if(this.Xz)throw new l("Internal error")},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.Fz.Hs(),!this.Xz){t.next=6;break}return t.next=5,Fr.awrap(this.Xz.catch(K));case 5:this.Xz=void 0;case 6:this.Oz.removeEventListener("updateend",this.qz);case 7:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"oL",get:function(){return this.wL},set:function(t){this.wL=t}},{key:"fL",get:function(){return this._L},set:function(t){this._L=t}},{key:"vx",get:function(){return this.Mz||this.Oz.updating}}]),n}(Tu);function lN(t,n){return As(t,"audio/mp4")&&As(n,"audio/mpeg")}var vN=function(){function t(t,n){this.wV=void 0,this.Oz=void 0,this._V=void 0,this.wV=n,this.Oz=t}var n=t.prototype;return n.WX=function(){return!!this._V&&this.wy.WN().$D(this._V)},n.gV=function(){var t=this.wy;this._V=t.C_>0?t.UN(t.C_-1):0,this.wV.mV()},n.lV=function(){this._V=void 0},T(t,[{key:"wy",get:function(){if(this.wV.ag===DN.vV)return lE.yC();var t=lE._C(this.Oz.buffered).QN(new lE([0,1/0])),n=this._V;return void 0!==n&&t.C_>0&&t.UN(t.C_-1)===n&&(t=t.nC(lE.mC(n))),t}}]),t}();function dN(t){var n=t._c("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function wN(t,n){var i=gN(t)||mN(t),e=gN(n)||mN(n);return!i&&!e||t===n}function gN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function mN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function yN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function pN(t,n,i,e,r,s,u){var o=new vN(r,t),a=new fN(o,t,r,i,s);return new _N(t,n,i,e,o,a,u)}var _N=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Pz=void 0,a.Pc=void 0,a.yV=void 0,a.sD=void 0,a.Dc=void 0,a.kV=void 0,a.Bz=void 0,a.bV=void 0,a.pV=Xr(),a.Pz=n,a.Pc=e,a.Dc=e.Fl,a.yV=r,a.sD=i,a.Bz=s,a.bV=u,a.kV=o,a.bV.Zs(DD.YX,a.js),a}E(n,t);var i=n.prototype;return i.WX=function(){return this.Bz.WX()},i.gV=function(){this.Bz.gV()},i.lV=function(){this.Bz.lV(),this.bV.lV()},i.AV=function(t,n){this.kV.nF(t,n)},i.TV=function(t,n){this.kV.iF(t,n)},i.SV=function(){return this.bV.hV()},i.Yz=function(t,n,i){return this.bV.Yz(t,n,i)},i.Zz=function(t,n,i){return this.bV.Zz(t,i)},i.sV=function(t,n){return this.bV.sV(t,n)},i.Qh=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.TV(t,n),e=this.wy,s.next=4,Fr.awrap(this.bV.aV(t,n,i));case 4:r=0!==e.C_&&0===this.wy.C_,(j.Mn||j.En)&&r&&this.sD.xu(this.sD.jg);case 6:case"end":return s.stop()}},null,this,null,qe)},i.xX=function(t){var n=t.Fl;if(this.Dc===n)return!0;var i=this.pV.get(n);if(void 0!==i)return i;var e=this.EV(t);return this.pV.set(n,e),e},i.EV=function(t){var n=BN(t.Fl);if(void 0===n)return!1;var i=zc(this.Dc),e=zc(n),r=dN(i),s=dN(e);if(this.bV.cV()){if(!function(t,n){return su(t,n,wN)}(r,s))return!1}else{if(i.fs!==e.fs)return!1;if(!function(t,n){return su(t,n,yN)}(r,s))return!1}return!0},i.LX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Fl,this.Dc!==n&&(this.pV.clear(),this.bV.LX(t),this.Dc=n),this.Pc=t,this.Pz.RV();case 4:case"end":return i.stop()}},null,this,null,qe)},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pV.clear(),this.$s(),this.kV.xd(),t.prev=3,this.bV.tu(DD.YX,this.js),t.next=7,Fr.awrap(this.bV.xs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],qe)},T(n,[{key:"wy",get:function(){return this.Bz.wy}},{key:"rc",get:function(){return this.Pc}},{key:"Fl",get:function(){return this.Dc}},{key:"DV",get:function(){return this.yV}},{key:"NV",get:function(){return this.kV.eF}},{key:"oL",get:function(){return this.bV.oL},set:function(t){this.bV.oL=t}},{key:"fL",get:function(){return this.bV.fL},set:function(t){this.bV.fL=t}},{key:"vx",get:function(){return this.bV.vx}}]),n}(Tu),bN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.CV=void 0,this.LN=t,this.UN=n,this.PV=i,this.BV=e,this.CV=tR()}return t.prototype.OV=function(){var t=this.LN,n=this.UN;if(this.PV||this.BV){var i=.001*(tR()-this.CV);this.PV&&(t+=i),this.BV&&(n+=i)}return t>=n?lE.yC():new lE([t,n])},t}(),kN=100,AN=1e3,TN=1e4,SN=.01,EN=1,IN=[Pf.If,Pf.Ef,Pf.Bf,Pf.Pf,Pf.mf,Pf.Df,wp.w_,xy.K_],RN=function(){function t(t,n){var e=this;this.PE=Ky.Mg,this.xV=!1,this.LV=[],this.MV=void 0,this.UV=0,this.XV=0,this.FV=0,this.HV=0,this.zV=0,this.VV=AN,this.WV=function(t){var n=e.sD.jg;t.$X.$D(n)&&e.GV(n)},this.qV=nt(function(){e.YV(wp.w_)},kN),this.jV=nt(function(){e.YV(Pf.Rf)},kN),this.QV=function(){e.ZV()?e.KV():e.JV()},this.$V=function(){var t=e.UV,n=e.FV,r=e.sD.jg,s=i.ir(),u=t!==r;if(u||!e.ZV())return e.UV=r,e.FV=s,void(u&&(e.zV=0,e.VV=AN));if(n>0&&s>n+e.VV){var o=e.Bz.wy;if(o.C_>1){var a=e.eF.WN().eC(o),h=a.vC(r);if(-1!==h)if(a.LN(h)-r<EN){var c=a.UN(h);return void e.sD.xu(c)}}var f=r+e.zV*SN;o.$D(f)||(f=e.tW(r,o)),e.UV=f,e.FV=s,e.zV++,e.VV=g.min(2*e.VV,TN),e.sD.xu(f)}},this.Bz=t,this.sD=n,this.sD.Zs(wp.w_,this.qV),this.sD.Zs(Pf.Rf,this.jV),this.sD.Zs(IN,this.QV)}var n=t.prototype;return n.nW=function(t){this.LV.push(t),t.Zs(LD.KX,this.WV)},n.xd=function(){var t=this;this.JV(),this.PE=Ky.Mg,this.sD.tu(wp.w_,this.qV),this.sD.tu(Pf.Rf,this.jV),this.sD.tu(IN,this.QV),this.LV.forEach(function(n){return n.tu(LD.KX,t.WV)}),void 0!==this.MV&&(i.jn(this.MV),this.MV=void 0),this.xV=!0},n.YV=function(t){if(!this.xV){var n=this.sD.ag;if(n<=Ky.Xg){var i=this.sD.jg,e=this.Bz.wy,r=e.rC(i),s=e.UN(r);-1!==r&&(t===wp.w_&&n<this.PE||t===Pf.Rf&&n===this.PE)&&s<i+.5&&(i=s),this.GV(i)}t===wp.w_&&(this.PE=n)}},n.GV=function(t){var n=this;if(this.sD.Zg)return!1;var e=this.eF.WN().eC(this.Bz.wy),r=e.rC(t);if(-1!==r&&!(g.abs(e.LN(r)-e.UN(r))<=.001)){if(i.Hw){if(void 0!==this.MV)return!1;this.XV=this.sD.jg,this.MV=i.Qn(function(){n.XV===n.sD.jg&&n.sD.xu(e.UN(r)),n.MV=void 0},1500)}else this.sD.xu(e.UN(r));return!0}return!1},n.KV=function(){0===this.HV&&(this.HV=i.Ar(this.$V,250))},n.JV=function(){0!==this.HV&&(i.Tr(this.HV),this.HV=0),this.sD.nm||(this.FV=0)},n.ZV=function(){return!this.sD.$g&&!this.sD.nm&&0!==this.sD.tm&&!this.sD.Zg&&!this.sD.mu&&this.sD.ag>=Ky.Fg},n.tW=function(t,n){var i=n.rC(t);return i>-1?n.UN(i):t},T(t,[{key:"eF",get:function(){return this.LV.reduce(function(t,n){return t.nC(n.eF)},lE.yC())}}]),t}();function CN(t){var n=[];if(t.iW&&n.push(t.iW.wy),t.eW&&n.push(t.eW.wy),0===n.length)return lE.yC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.C_>0&&(i=g.max(i,r.UN(r.C_-1)))}for(var s=t.WX,u=new lE([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.C_>0&&(a=a.nC(new lE([a.UN(a.C_-1),i],[!0,!0]))),u=u.QN(a)}return u}var DN,NN=j.In||j.Rn;!function(t){t.vV="closed",t.Vd="open",t.mf="ended"}(DN||(DN={}));var PN=function(){function t(){}return t.prototype.rW=function(){return new MediaSource},t}(),xN=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new PN),(u=t.call(this,n,i,e,r)||this).sW=void 0,u.uW=void 0,u.oW=void 0,u.aW=new bN(0,1/0),u.uD=void 0,u.hW=void 0,u.cW=void 0,u.fW=!1,u.vW=function(){u.lW()},u.dW=function(){u.sD.dW()},u.sW=s,u.uD=u.sW.rW(),u.sD.Zs(Pf.Bf,u.vW),u.cW=new RN(Jt(u),u.sD),u}E(n,t);var i=n.prototype;return i.wW=function(t){if(p(t)||t<0)throw new l("Invalid duration");this._W()?this.gW(t):this.hW=t},i.gW=function(t){var n=t===1/0,i=n?Mt:t;if(n&&this.uD.setLiveSeekableRange){var e=g.pow(2,39);this.uD.setLiveSeekableRange(0,e)}this.uD.duration=i,this.hW=void 0},i.mW=function(t,n,i,e){this.aW=new bN(t,n,!!i,!!e)},i.kL=function(){var t,n,i,e,r,s,u,o,a,h,c;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Pc,n=Ws(t.yW,function(t){return As(t.Fl,"audio")}),i=Ws(t.yW,function(t){return As(t.Fl,"video")}),f.next=5,Fr.awrap(this.kW());case 5:n&&(r=new FD,this.cW.nW(r),s=null!=(e=BN(n.Fl))?e:n.Fl,u=this.uD.addSourceBuffer(s),this.uW=pN(this,this.sD,n,u_.Sd,u,s,r),this.uW.Zs(DD.YX,this.dW)),i&&(a=new FD,this.cW.nW(a),h=null!=(o=BN(i.Fl))?o:i.Fl,c=this.uD.addSourceBuffer(h),this.oW=pN(this,this.sD,i,u_.Ed,c,h,a),this.oW.Zs(DD.YX,this.dW)),this.DX.jh(this,t);case 8:case"end":return f.stop()}},null,this,null,qe)},i.kW=function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.uD),i.next=3,Fr.awrap(t.prototype.FX.call(this,n));case 3:if(this.ag===DN.Vd){i.next=6;break}return i.next=6,Fr.awrap(Ym(this.uD,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,qe)},i._W=function(){if(this.ag!==DN.Vd)return!1;var t=this.uW&&this.uW.vx,n=this.oW&&this.oW.vx;return!(t||n)},i.gV=function(){this.fW=!0,this.uW&&this.uW.gV(),this.oW&&this.oW.gV(),this.fW=!1,this.lW()},i.lV=function(){this.uW&&this.uW.lV(),this.oW&&this.oW.lV()},i.xX=function(n){var i=Ws(n.yW,function(t){return As(t.Fl,"audio")}),e=Ws(n.yW,function(t){return As(t.Fl,"video")});if(this.uW){if(!i)return!1;if(!this.uW.xX(i))return!1}else if(i)return!1;if(this.oW){if(!e)return!1;if(!this.oW.xX(e))return!1}else if(e)return!1;return!!t.prototype.xX.call(this,n)},i.LX=function(n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Ws(n.yW,function(t){return As(t.Fl,"audio")}),e=Ws(n.yW,function(t){return As(t.Fl,"video")}),r=[],this.uW&&r.push(this.uW.LX(i)),this.oW&&r.push(this.oW.LX(e)),s.next=7,Fr.awrap(qe.all(r));case 7:return s.next=9,Fr.awrap(t.prototype.LX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,qe)},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.uW){n.next=4;break}return n.next=3,Fr.awrap(this.uW.xs());case 3:this.uW=void 0;case 4:if(!this.oW){n.next=8;break}return n.next=7,Fr.awrap(this.oW.xs());case 7:this.oW=void 0;case 8:return this.Vc.src&&URL.revokeObjectURL(this.Vc.src),this.sD.tu(Pf.Bf,this.vW),this.cW.xd(),n.next=13,Fr.awrap(t.prototype.xs.call(this));case 13:case"end":return n.stop()}},null,this,null,qe)},i.RV=function(){var t=this,n=this.Pc,i=n.yW.map(function(n){return As(n.Fl,"audio")&&t.uW?t.uW.rc:As(n.Fl,"video")&&t.oW?t.oW.rc:n});this.Pc=Ur({},n,{yW:i})},i.mV=function(){this.fW||this.lW()},i.lW=function(){this.bW&&this._W()&&(this.uD.endOfStream(),this.hW=void 0,this.Qs(new Eu(kD.KP)),this.sD.dW())},i.dV=function(){this._W()&&(this.WX?this.lW():void 0!==this.hW&&this.gW(this.hW))},i.GV=function(t){return this.cW.GV(t)},n.VX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.yW;n<i.length;n++){if(void 0===BN(i[n].Fl))return!1}return!0},T(n,[{key:"iW",get:function(){return this.uW}},{key:"eW",get:function(){return this.oW}},{key:"Qg",get:function(){if(this.hW)return this.hW;var t=this.uD.duration;return t===Mt?1/0:t}},{key:"wy",get:function(){return NN?CN(this):(t=this,n=lE._C(this.Vc.buffered),(i=n).C_>0&&t.WX&&(i=i.nC(lE.mC(i.UN(i.C_-1)))),i);var t,n,i}},{key:"GX",get:function(){var t;return null==(t=this.uW)?void 0:t.wy}},{key:"qX",get:function(){var t;return null==(t=this.oW)?void 0:t.wy}},{key:"Ny",get:function(){return this.aW.OV().QN(new lE([0,this.Qg],[!0,!0]))}},{key:"WX",get:function(){return(!this.uW||this.uW.WX())&&(!this.oW||this.oW.WX())}},{key:"ag",get:function(){return this.uD.readyState}},{key:"bW",get:function(){if(!this.WX)return!1;var t=this.wy;return 0!==t.C_&&t.LN(t.C_-1)<=this.sD.jg}}]),n}(ND);function BN(t){var n=zc(t),i="audio/mp4"===n.fs&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(dN(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!j.Bn))return t;if(i){var e=Ws(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var ON=[Pf.Hf,Pf.Df,Pf.Bf,Pf.If,Pf.Ef],LN=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return(c=t.call(this)||this).TC=n,c.ua=i,c.pW=e,c.EC=r,c.RC=s,c.SC=u,c.IC=o,c.Da=a,c.AW=h,c}E(n,t);var i=n.prototype;return i.Hm=function(){this.EC||(this.EC=!0,this.Qs(new mp(this.jg)))},i.Fm=function(){this.EC&&(this.EC=!1,this.Qs(new yp(this.jg)))},i.xs=function(){this.$s()},T(n,[{key:"jg",get:function(){return this.TC},set:function(t){this.jg!==t&&(this.TC=t,this.RC=!0,this.Qs(new Rp(this.jg)))}},{key:"Qg",get:function(){return this.ua}},{key:"Zg",get:function(){return this.pW}},{key:"$g",get:function(){return this.EC}},{key:"ag",get:function(){return this.AW}},{key:"nm",get:function(){return this.RC}},{key:"Jg",get:function(){return this.SC},set:function(t){this.Jg!==t&&(this.SC=t,this.Qs(new Dp(this.jg,this.hm)))}},{key:"tm",get:function(){return this.IC},set:function(t){this.tm!==t&&(this.IC=t,this.Qs(new Tp(this.jg,this.tm)))}},{key:"hm",get:function(){return this.Da},set:function(t){this.hm!==t&&(this.Da=t,this.Qs(new Dp(this.jg,this.hm)))}}]),n}(Tu);var MN=function(t){function n(n){var i;return(i=t.call(this)||this).sD=void 0,i.PE=Ky.Mg,i.TW=function(){i.SW()},i.sD=n,i}E(n,t);var i=n.prototype;return i.EW=function(t){this.PE!==t&&(this.PE=t,this.Qs(new xp(this.sD.jg,t)))},i.SW=function(){this.EW(this.JL())},i.D_=function(){this.EW(Ky.Mg)},i.xs=function(){this.$s()},T(n,[{key:"ag",get:function(){return this.JL()}}]),n}(Tu),jN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],FN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<jN.length;e++){var r=jN[e];i.sD.OD.addEventListener(r,i.TW)}return i}E(n,t);var i=n.prototype;return i.JL=function(){var t=this.sD.OD.readyState;return t>Ky.Xg&&this.sD.IW?Ky.Xg:(this.sD.OD.seeking&&t>Ky.Ug&&(t=Ky.Ug),t)},i.xs=function(){for(var n=0;n<jN.length;n++){var i=jN[n];this.sD.OD.removeEventListener(i,this.TW)}t.prototype.xs.call(this)},n}(MN),UN=function(t){function n(n){var i;(i=t.call(this,n)||this).sD.Zs(Pf.Bf,i.TW);for(var e=0;e<jN.length;e++){var r=jN[e];i.sD.OD.addEventListener(r,i.TW)}return i}E(n,t);var i=n.prototype;return i.JL=function(){if(this.sD.OD.readyState===Ky.Mg)return Ky.Mg;var t=this.RW(),n=t?t.UN-t.LN:0;if(!t)return Ky.Ug;var i=this.sD.tm;return this.DW()||n>=3*i?Ky.Hg:n>=3?Ky.Fg:Ky.Xg},i.RW=function(){var t=this.sD.jg,n=this.sD.wy.tC(.04),i=n.rC(t);if(!(i<0))return{LN:t,UN:n.UN(i)}},i.DW=function(){if(this.sD.Zg)return!0;var t=this.sD.Qg,n=this.RW();return!!n&&t-n.UN<=1/6},i.xs=function(){this.sD.tu(Pf.Bf,this.TW);for(var n=0;n<jN.length;n++){var i=jN[n];this.sD.OD.removeEventListener(i,this.TW)}t.prototype.xs.call(this)},n}(MN),HN=[wp.w_,Pf.If,Pf.Ef,Pf.Bf,Pf.Pf,Pf.mf,xy.K_],XN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vc=void 0,i.NW=!1,i.PW=function(){i.NW=!0,i.Zh()},i.Vc=n.OD,i.Vc.addEventListener(wp.Yg,i.PW),i}E(n,t);var i=n.prototype;return i.BW=function(){return this.NW&&t.prototype.BW.call(this)},i.Zh=function(){this.NW&&(this.Vc.paused||this.Vc.ended||this.Vc.error)&&(this.NW=!1),t.prototype.Zh.call(this)},i.D_=function(){t.prototype.D_.call(this),this.NW=!1},i.xs=function(){this.Vc.removeEventListener(wp.Yg,this.PW),t.prototype.xs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).ME=void 0,i.OW=!1,i.lx=function(){i.Zh()},i.ME=n,i.ME.Zs(HN,i.lx),i}E(n,t);var i=n.prototype;return i.xW=function(){return this.ME.ag<Ky.Fg},i.BW=function(){return!this.ME.nm&&!(this.ME.$g||this.ME.Zg||this.ME.mu||this.xW())},i.Zh=function(){var t=this.OW;this.OW=this.BW(),!t&&this.OW&&this.Qs(new pA(this.ME.jg))},i.D_=function(){this.OW=!1},i.xs=function(){this.$s(),this.ME.tu(HN,this.lx)},n}(Tu)),zN=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).mu=void 0,i.mu=n,i}return E(n,t),n}(Eu);function VN(t,n){return t.Jy<=n&&t.$y>n}function WN(t,n){return function(t,n){return zs(t.Jy,n.Jy,j_)}(t,n)||function(t,n){return zs(t.$y,n.$y,j_)}(t,n)}function qN(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var h=o+(a-o>>1),c=e(i(t[h]),n);if(c<0)o=h+1;else if(c>0)a=h-1;else{if(!(r&&h>s&&0===e(i(t[h-1]),n)))return h;a=h-1}}return~o}(t,n,J,WN,!0);if(i<0)return i;for(;i<t.length&&WN(n,t[i])===Os.Is;i++)if(t[i].Tk(n))return i;return-(i+1)}function GN(t){var n=t.i_;if(!n)return-1;if(t instanceof U_)return n.LW(t);var i=n.hg;if(!i)return-1;var e=qN(i.N_,t);return e>=0?e:-1}function $N(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var h=t[s],c=n[u];h===c?(s++,u++):i(c,h)<=0?(o.push(c),u++):(a.push(h),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{MW:o,UW:a}}(t,n,WN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var YN=function(){function t(t){this.XW=void 0,this.$w=void 0,this.XW=t}var n=t.prototype;return n.n_=function(){return function(t){for(var n=[],i=0;i<t.C_;i++)n[i]=t.Iu(i).t_;return n.item=function(n){var i=0|n,e=t.Iu(i);return e&&e.t_||void 0},w.defineProperty(n,"constructor",{value:B_}),n}(this)},n.xy=function(t){for(var n=this.XW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Tk(e))return!0}return!1},n.Iu=function(t){return this.XW[t]},T(t,[{key:"N_",get:function(){return this.XW}},{key:"C_",get:function(){return this.XW.length}},{key:"t_",get:function(){if(this.$w){var t=this.XW;this.$w.length=t.length;for(var n=0;n<t.length;n++)this.$w[n]=t[n].t_}else this.$w=this.n_();return this.$w}}]),t}(),QN=function(t){function n(n,i){var e;return(e=t.call(this,ny.w_)||this).i_=n,e.ag=i,e}return E(n,t),n.prototype.n_=function(){return new ZN(this.i_.t_,Uy(this.ag))},n}(iy),ZN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return E(n,t),n}(ey),KN=function(t){function n(n){var i;return(i=t.call(this,ny.g_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new JN(this.i_.t_)},n}(iy),JN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return E(n,t),n}(ey),tP=function(t){function n(n){var i;return(i=t.call(this,ny.e_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new nP(this.Ky.t_)},n}(iy),nP=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return E(n,t),n}(ey),iP=function(t){function n(n){var i;return(i=t.call(this,ny.s_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new eP(this.Ky.t_)},n}(iy),eP=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return E(n,t),n}(ey),rP=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this)||this).$w=void 0,h.Bh=void 0,h.Uy=l_(),h.FW=!1,h.HW=void 0,h.zW=void 0,h.My=void 0,h.oa=void 0,h.jC=Py.j_,h.AW=b_.NONE,h.VW=void 0,h.Vi=void 0,h.WW=void 0,h.XW=[],h.GW=[],h.qW=void 0,h.YW=void 0,h.jW=0,h.QW=0,h.Bh=i||"",h.HW=a||"",h.zW=n,h.oa=r||"",h.FW=Boolean(s),h.WW=Boolean(o),h.Vi=u||k_.DEFAULT,h.My=e||"",h.qW=new YN(h.XW),h.YW=new YN(h.GW),h}E(n,t);var i=n.prototype;return i.ZW=function(t){return Ws(this.qW.N_,function(n){return n.H_===t})},i.n_=function(){return My(this)},i.hP=function(t){var n=Oy(t);n!==this.eg&&(this.jC=n,n===Py.j_&&(this.GW.forEach(function(t){t.Sk=!1}),Zs(this.GW),this.QW=0),this.Qs(new hy(this)))},i.IE=function(t){if(t&&!t.i_){var n=qN(this.hg.N_,t);if(!(n>=0)){t.i_=this;var i=-(n+1);this.XW.splice(i,0,t),this.KW(i),t.Ak=i,i<this.QW&&(this.QW=i),this.Qs(new tP(t))}}},i.dE=function(t){if(t&&t.i_===this){var n=this.LW(t);if(!(n<0)){t.Sk=!1;var i=this.GW,e=qN(i,t);e>=0&&Ys(i,e),Ys(this.XW,n),this.KW(n),t.Ak=-1,this.QW>n&&--this.QW,this.Qs(new iP(t))}}},i.JW=function(t,n){var i=this.GW,e=this.XW,r=this.QW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){VN(i[u],t)||(s=!0,Ys(i,u))}for(;r<e.length&&e[r].Jy<=t;){var o=e[r];if(0===t)break;VN(o,t)&&!Qs(i,o)&&(s=!0,i.push(o)),r++}s&&js(i,WN),this.QW=r},i.LW=function(t){return(-1===t.Ak||t.Ak>=this.jW)&&this.$W(),t.Ak},i.$W=function(){for(var t=this.XW,n=this.jW;n<t.length;n++)t[n].Ak=n;this.jW=t.length},i.KW=function(t){t<this.jW&&(this.jW=t)},i.rg=function(t){this.og||(this.eg=t)},i.xd=function(){this.$s();for(var t=this.XW.slice(),n=0;n<t.length;n++){t[n].xd()}Zs(this.XW),Zs(this.GW)},T(n,[{key:"cg",get:function(){return this.YW}},{key:"hg",get:function(){return this.qW}},{key:"DE",get:function(){return this.FW},set:function(t){this.FW=t}},{key:"og",get:function(){return this.WW}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"H_",get:function(){return this.Bh}},{key:"z_",get:function(){return this.Uy}},{key:"J_",get:function(){return this.HW},set:function(t){this.HW=t}},{key:"V_",get:function(){return this.zW}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new h_(this)))}},{key:"G_",get:function(){return this.oa}},{key:"eg",get:function(){return this.jC},set:function(t){this.hP(t)}},{key:"ag",get:function(){return this.AW},set:function(t){this.AW!==t&&(this.AW=t,this.Qs(new QN(this,this.AW)))}},{key:"fg",get:function(){return this.VW},set:function(t){this.VW=t}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new KN(this)))}}]),n}(Tu),sP=function(t){function n(n,i){var e;return(e=t.call(this,E_.Yy,n)||this).Pb=i,e}return E(n,t),n.prototype.n_=function(){return new uP(this.Ky.t_)},n}(N_),uP=function(t){function n(n){return t.call(this,"enter",n)||this}return E(n,t),n}(P_),oP=function(t){function n(n,i){var e;return(e=t.call(this,E_.Qy,n)||this).Pb=i,e}return E(n,t),n.prototype.n_=function(){return new aP(this.Ky.t_)},n}(N_),aP=function(t){function n(n){return t.call(this,"exit",n)||this}return E(n,t),n}(P_),hP=function(t){function n(n){var i;return(i=t.call(this,ny.o_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new cP(this.Ky.t_)},n}(iy),cP=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return E(n,t),n}(ey),fP=function(t){function n(n){var i;return(i=t.call(this,ny.h_)||this).Ky=n,i}return E(n,t),n.prototype.n_=function(){return new lP(this.Ky.t_)},n}(iy),lP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return E(n,t),n}(ey),vP=function(t){function n(n){var i;return(i=t.call(this)||this).tG=void 0,i.bk=void 0,i.Uy=void 0,i.gk=void 0,i.$w=void 0,i.yk=!1,i.nG=function(){i.Sk=!0},i.iG=function(){i.Sk=!1},i.Uy=m_(),i.tG=n,i.tG.addEventListener("enter",i.nG),i.tG.addEventListener("exit",i.iG),i}E(n,t);var i=n.prototype;return i.n_=function(){return x_(this)},i.Tk=function(t){return this===t||yy(this,t)&&F_(this,t)},i.xd=function(){this.$s(),this.tG.removeEventListener("enter",this.nG),this.tG.removeEventListener("exit",this.iG)},T(n,[{key:"z_",get:function(){return this.Uy}},{key:"Jy",get:function(){return this.tG.startTime},set:function(t){this.tG.startTime=t}},{key:"$y",get:function(){return this.tG.endTime},set:function(t){this.tG.endTime=t}},{key:"nk",get:function(){return this.bk},set:function(t){this.bk=t}},{key:"Ek",get:function(){return!!this.tG.pauseOnExit},set:function(t){this.tG.pauseOnExit=!!t}},{key:"i_",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"H_",get:function(){return this.tG.id||""}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"Sk",get:function(){return this.yk},set:function(t){this.Sk!==t&&(this.yk=t,t?(this.Qs(new sP(this,this.Jy)),this.gk&&this.gk.Qs(new hP(this))):(this.Qs(new oP(this,this.$y)),this.gk&&this.gk.Qs(new fP(this))))}}]),n}(Xy),dP=function(t){function n(n){var i;return(i=t.call(this,ny.f_)||this).i_=n,i}return E(n,t),n.prototype.n_=function(){return new wP(this.i_.t_)},n}(iy),wP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return E(n,t),n}(ey);function gP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new mP(t),t.THEOplayerVTTRegion=n),n}}var mP=function(){function t(t){this.eG=void 0,this.$w=void 0,this.eG=t}return T(t,[{key:"rG",get:function(){return this.eG}},{key:"H_",get:function(){return this.eG.id||""}},{key:"Bk",get:function(){return+this.eG.width||0},set:function(t){this.eG.width=t||0}},{key:"Ik",get:function(){return+this.eG.lines||0},set:function(t){this.eG.lines=t||0}},{key:"Rk",get:function(){return+this.eG.regionAnchorX||0},set:function(t){this.eG.regionAnchorX=t||0}},{key:"Dk",get:function(){return+this.eG.regionAnchorY||0},set:function(t){this.eG.regionAnchorY=t||0}},{key:"Ck",get:function(){return+this.eG.viewportAnchorX||0},set:function(t){this.eG.viewportAnchorX=t||0}},{key:"Pk",get:function(){return+this.eG.viewportAnchorY||0},set:function(t){this.eG.viewportAnchorY=t||0}},{key:"Nk",get:function(){return this.eG.scroll||""}},{key:"t_",get:function(){return this.$w||(this.$w=G_(this)),this.$w}}]),t}();var yP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),T(n,[{key:"nk",get:function(){return this.tG.text},set:function(t){this.tG.text=t}},{key:"dk",get:function(){return this.tG.vertical||""},set:function(t){this.tG.vertical=t||""}},{key:"lk",get:function(){return this.tG.snapToLines},set:function(t){this.tG.snapToLines=t}},{key:"rk",get:function(){return this.tG.line},set:function(t){this.tG.line=t}},{key:"Cu",get:function(){return+this.tG.size},set:function(t){this.tG.size=Ft(t,0,100)}}]),n}(vP),pP=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&H_(this,n)},T(n,[{key:"vk",get:function(){return gP(this.tG.region)}},{key:"hk",get:function(){return this.tG.lineAlign||"start"},set:function(t){this.tG.lineAlign=t||"start"}},{key:"ck",get:function(){return this.tG.position},set:function(t){this.tG.position=t}},{key:"fk",get:function(){return this.tG.positionAlign||"auto"},set:function(t){this.tG.positionAlign=t||"auto"}},{key:"ek",get:function(){return this.tG.align||"center"},set:function(t){this.tG.align=t||"center"}},{key:"t_",get:function(){return this.$w||(this.$w=O_(this)),this.$w}}]),n}(yP),_P=function(t){function n(n){return t.call(this,n)||this}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&H_(this,n)},T(n,[{key:"vk",get:function(){return gP(this.rG)}},{key:"rG",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.tG.track,this.tG.regionId)}},{key:"hk",get:function(){return"middle"===(t=this.tG.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.tG.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"ck",get:function(){return this.tG.position},set:function(t){var n,i;this.tG.position=(n=t,i=this.ek,D_(n,i))}},{key:"fk",get:function(){return t=this.tG.positionAlign||"middle",R_[t];var t},set:function(t){var n,i;this.tG.positionAlign=(n=t||"center",i=this.ek,I_[C_(n,i)])}},{key:"ek",get:function(){return"middle"===(t=this.tG.align||"middle")?"center":t;var t},set:function(t){var n;this.tG.align="center"===(n=t||"center")?"middle":n}},{key:"t_",get:function(){return this.$w||(this.$w=O_(this)),this.$w}}]),n}(yP);function bP(t,n){return t.nk===n.nk}function kP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Jy<t.Jy)AP(n,i,t.Jy);else{var e=n[0];if(e.Jy>t.Jy)t.$y=e.Jy;else{var r=qN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Jy<t.Jy&&AP(n,u,t.Jy);if(s<n.length){var o=n[s];t.$y=o.Jy}}}}}}function AP(t,n,i){for(var e=t[n].Jy,r=n;r>=0&&t[r].Jy===e;r--)t[r].$y=i}function TP(t){return x_(t)}var SP,EP,IP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).sG=void 0,e.sG=i,e}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&bP(this,n)},T(n,[{key:"nk",get:function(){return this.sG}},{key:"t_",get:function(){return this.$w||(this.$w=TP(this)),this.$w}}]),n}(vP);function RP(t){switch(t){case SP.ISO_8859_1:case SP.UTF16_BOM:case SP.UTF16:case SP.UTF8:return!0}return!1}function CP(t){switch(t){case SP.ISO_8859_1:return Ro;case SP.UTF16_BOM:return No;case SP.UTF16:return Po;case SP.UTF8:return Uo}}function DP(t,n){var i=n.Pu,e=t.byteLength,r=Go(t);return n.Bu(e-i),Qo(r,i,e).buffer}function NP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function PP(t,n,i){var e=lo(t,n);if(RP(e)){var r=CP(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function xP(t,n,i){var e=lo(t,n);if(RP(e)){var r=CP(e);return{id:i,mimeType:Ro(t,n),fileName:r(t,n),description:r(t,n),data:DP(t,n)}}}function BP(t,n,i){var e=lo(t,n);if(RP(e)){for(var r=CP(e),s=[];n.Pu<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function OP(t,n,i){var e=lo(t,n);if(RP(e)){for(var r=CP(e),s=Eo(t,n,3),u=lo(t,n),o=lo(t,n),a=r(t,n),h=!1,c=[];n.Pu<t.byteLength;){var f=void 0;if(e===SP.UTF16_BOM){var l=Do(t,n);void 0===l?l=h:h=l,f=Po(t,n,l)}else f=r(t,n);if(!f||n.Pu+4>t.byteLength)break;c.push({text:f,timestamp:bo(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:c}}}function LP(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),identifier:DP(t,n)}}function MP(t,n,i){var e=lo(t,n);if(RP(e)){var r=CP(e);return{id:i,language:Eo(t,n,3),description:r(t,n),text:r(t,n)}}}function jP(t,n,i){var e=lo(t,n);if(RP(e))return{id:i,text:CP(e)(t,n)}}function FP(t,n,i){return{id:i,url:Ro(t,n)}}function UP(t,n,i){var e=lo(t,n);if(RP(e)){var r=CP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function HP(t,n,i){var e=lo(t,n);if(RP(e))return{id:i,description:CP(e)(t,n),url:Ro(t,n)}}function XP(t,n,i){switch(i){case"COM":return PP(t,n,i);case"GEO":return xP(t,n,i);case"IPL":return BP(t,n,i);case"PIC":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r,s,u=CP(e),o=Eo(t,n,3),a=lo(t,n),h=u(t,n);return"--\x3e"===o?(r=o,s=Ro(t,n)):(r="image/"+o.toLowerCase(),s=DP(t,n)),{id:i,mimeType:r,pictureType:a,description:h,data:s}}}(t,n,i);case"SLT":return OP(t,n,i);case"TXX":return UP(t,n,i);case"UFI":return LP(t,n,i);case"ULT":return MP(t,n,i);case"WXX":return HP(t,n,i);default:if("T"===i.charAt(0))return jP(t,n,i);if("W"===i.charAt(0))return FP(t,n,i)}}function zP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r=CP(e),s=Ro(t,n);return{id:i,mimeType:s,pictureType:lo(t,n),description:r(t,n),data:"--\x3e"===s?Ro(t,n):DP(t,n)}}}(t,n,i);case"COMM":return PP(t,n,i);case"COMR":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r,s,u=CP(e),o=Ro(t,n),a=Eo(t,n,8),h=Ro(t,n),c=lo(t,n),f=u(t,n),l=u(t,n);return n.Pu<t.byteLength&&(r=Ro(t,n)||"image/",s=DP(t,n)),{id:i,price:o,validUntil:a,contactURL:h,receivedAs:c,nameOfSeller:f,description:l,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return xP(t,n,i);case"IPLS":return BP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Ro(t,n),data:DP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:lo(t,n),position:bo(t,n)}}(t,n,i);case"SYLT":return OP(t,n,i);case"TXXX":return UP(t,n,i);case"UFID":return LP(t,n,i);case"USER":return function(t,n,i){var e=lo(t,n);if(RP(e)){var r=CP(e);return{id:i,language:Eo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return MP(t,n,i);case"WXXX":return HP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return jP(t,n,i);default:var e=i.charAt(0);if("T"===e)return jP(t,n,i);if("W"===e)return FP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(SP||(SP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(EP||(EP={}));var VP=10;function WP(t,n){return(127&lo(t,n))<<21|(127&lo(t,n))<<14|(127&lo(t,n))<<7|127&lo(t,n)}function qP(t,n){switch(t){case EP.V24:return{uG:fo(n,0),oG:fo(n,1),aG:fo(n,2),hG:fo(n,3)};case EP.V23:return{uG:fo(n,0),oG:fo(n,1),aG:fo(n,2)};case EP.V22:return{uG:fo(n,0),cG:fo(n,1)}}}function GP(t,n,i){switch(i.xA){case EP.V23:i.LA.oG&&function(t,n){var i=n.Pu,e=bo(t,n)+4,r=32768&po(t,n);n.xu(i+e),r&&bo(t,n)}(t,n);break;case EP.V24:i.LA.oG&&function(t,n){var i=n.Pu,e=WP(t,n);n.xu(i+e)}(t,n)}}function $P(t,n){if(t.byteLength-n.Pu<VP)return null;if(73!==lo(t,n)||68!==lo(t,n)||51!==lo(t,n))return null;var i=lo(t,n),e=lo(t,n);if(!function(t){switch(t){case EP.V22:case EP.V23:case EP.V24:return!0}return!1}(i))return null;var r=lo(t,n),s=WP(t,n);return{xA:i,fG:e,LA:qP(i,r),vG:s}}function YP(t,n,i){switch(i.xA){case EP.V22:return function(t,n,i){return{H_:Eo(t,n,3),Cu:yo(t,n,3)}}(t,n);case EP.V23:return function(t,n,i){var e=Eo(t,n,4),r=bo(t,n);lo(t,n);var s=lo(t,n);return{H_:e,Cu:r,LA:{cG:fo(s,0),lG:fo(s,1),groupingIdentity:fo(s,2)}}}(t,n);case EP.V24:return function(t,n,i){var e=Eo(t,n,4),r=WP(t,n);lo(t,n);var s=lo(t,n);return{H_:e,Cu:r,LA:{groupingIdentity:fo(s,1),cG:fo(s,4),lG:fo(s,5),uG:fo(s,6),dG:fo(s,7)}}}(t,n)}}function QP(t){for(var n=new _(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function ZP(t,n){var i=n||new Jo,e=$P(t,i);return e?{NA:e,wG:function(t,n,i){var e=[],r=n.Pu,s=Wo(t,r,r+i.vG),u=new Jo;switch(n.Bu(i.vG),i.xA){case EP.V22:case EP.V23:i.LA.uG&&(s=QP(s))}GP(t,n,i);for(;u.Pu<s.byteLength;)e.push(KP(s,u,i));return e}(t,i,e)}:null}function KP(t,n,i){var e,r,s=YP(t,n,i),u=n.Pu,o=Wo(t,u,u+s.Cu);switch(n.Bu(s.Cu),i.xA){case EP.V22:var a=s;e=XP(r=o,new Jo,a.H_);break;case EP.V23:var h=s,c=new Jo;!function(t,n,i){var e,r,s,u=i.LA;u.cG&&(e=bo(t,n)),u.lG&&(r=lo(t,n)),u.groupingIdentity&&(s=lo(t,n))}(o,c,h),e=zP(r=Wo(o,c.Pu,o.byteLength),new Jo,h.H_);break;case EP.V24:var f=s,l=new Jo;f.LA.uG&&(o=QP(o)),function(t,n,i){var e,r,s,u,o=i.LA;o.groupingIdentity&&(e=lo(t,n)),o.cG&&(r=bo(t,n)),o.lG&&(s=lo(t,n)),o.dG&&(u=WP(t,n))}(o,l,f),e=zP(r=Wo(o,l.Pu,o.byteLength),new Jo,f.H_)}if(!e){var v=Zo(Go(r));e=NP(s.H_,v.buffer)}return e}function JP(t){return function(t,n,i){return jP(t,n,i)}(new DataView(t.data),new Jo,t.key)}function tx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return JP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return NP(t.key,t.data)}(t)}var nx="org.id3";var ix=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Ly=void 0,r._G=void 0,r.XW=[],r.GW=[],r.qW=void 0,r.YW=void 0,r.Uy=void 0,r.My=void 0,r.jC=Py.j_,r.AW=b_.NONE,r.$w=void 0,r.VW=void 0,r.Vi=k_.DEFAULT,r.gG=void 0,r.mG=function(){r.yG(),r.Ly.removeEventListener("cuechange",r.mG)},r.kG=function(){r.eg!==Py.j_&&(r.bG(),r.JW(),r.XW.length&&r.pG(b_.LOADING))},r.AG=function(){r.pG(b_.LOADED)},r.TG=function(){r.pG(b_.ERROR)},r.Ly=n,r.gG=e,r.Ly.addEventListener("cuechange",r.mG),r.Ly.addEventListener("cuechange",r.kG),r._G=i,r._G&&(r.VW=vg(r._G.src),r._G.addEventListener("load",r.AG),r._G.addEventListener("error",r.TG)),r.Uy=l_(),r.My=n.label||"",r.qW=new YN(r.XW),r.YW=new YN(r.GW),r.eg=r.SG,mu(function(){r.kG(),r.pG(b_.NONE)}),r}E(n,t);var i=n.prototype;return i.n_=function(){return My(this)},i.yG=function(){var t=this.eg;this.EG||t!==Py.Z_?this.SG=t:this.SG=Py.Q_},i.IG=function(){var t=this.eg,n=this.SG;t!==n&&(this.EG||t!==Py.Z_||n!==Py.Q_)&&("metadata"===this.V_&&n===Py.j_?this.eg=t:this.eg=n)},i.SW=function(t){this.AW!==t&&(this.AW=t,this.Qs(new QN(this,t)))},i.pG=function(t){var n=g.max(this.AW,this.RG,t);this.SW(n)},n.DG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.NG=function(t){var i=n.DG(t);if(i)return i;if(V(i=this.CG(t)))for(var e=0,r=i;e<r.length;e++){r[e].i_=this}else i.i_=this;return t.THEOplayerTextTrackCue=i,i},i.CG=function(t){return(n=t)&&n.type===nx&&n.value?(this.fs=k_.ID3,function(t){var n;try{n=tx(t.value)}catch(t){n=NP("")}return new IP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.fs=k_.ID3,function(t){var n=[];try{var i=ZP(new DataView(t.data));if(i)for(var e=0,r=i.wG;e<r.length;e++){var s=r[e];n.push(new IP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.fs=k_.WEBVTT,function(t){return"regionId"in t}(t)?new _P(t):new pP(t)):new vP(t);var n},i.PG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.NG(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.bG=function(){for(var t=this.PG(this.Ly.cues),n=$N(this.XW,t),i=0,e=n.UW;i<e.length;i++){var r=e[i];r.tu(E_.Qy,this.kG),r.tu(E_.Yy,this.kG),this.Qs(new iP(r))}for(var s=0,u=n.MW;s<u.length;s++){var o=u[s];o.Zs(E_.Yy,this.kG),o.Zs(E_.Qy,this.kG),this.Qs(new tP(o))}},i.JW=function(){for(var t=this.PG(this.Ly.activeCues),n=$N(this.GW,t),i=0,e=n.UW;i<e.length;i++){e[i].Sk=!1}for(var r=0,s=n.MW;r<s.length;r++){s[r].Sk=!0}(n.MW.length||n.UW.length)&&this.Qs(new dP(this))},i.rg=function(t){this.eg=t},i.xd=function(){this.$s();for(var t=this.XW.slice(),n=0;n<t.length;n++){t[n].xd()}Zs(this.XW),Zs(this.GW),this.Ly.removeEventListener("cuechange",this.kG),this._G&&(this.Ly.removeEventListener("load",this.AG),this.Ly.removeEventListener("error",this.TG)),this._G&&nr(this._G)},T(n,[{key:"cg",get:function(){return this.YW}},{key:"DE",get:function(){return this._G?this._G.default:void 0}},{key:"hg",get:function(){return this.qW}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}},{key:"H_",get:function(){return this.Ly.id||this._G&&this._G.id||""}},{key:"z_",get:function(){return this.Uy}},{key:"J_",get:function(){return this.Ly.inBandMetadataTrackDispatchType||""}},{key:"V_",get:function(){return this.Ly.kind||Pk.rA}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.W_&&(this.My=t,this.Qs(new h_(this)))}},{key:"G_",get:function(){return this.Ly.language||""}},{key:"eg",get:function(){return this.jC},set:function(t){var n=this.eg;this.jC=Oy(t),this.yG();var i=this.eg;n!==i&&this.Qs(new hy(this)),i!==Py.j_&&this.pG(b_.LOADING)}},{key:"SG",get:function(){return Oy(this.Ly.mode)},set:function(t){this.Ly.mode=t}},{key:"Vy",get:function(){return this.Ly}},{key:"ag",get:function(){return this.AW}},{key:"RG",get:function(){return this._G?+this._G.readyState||b_.NONE:b_.LOADED}},{key:"fg",get:function(){return this.VW}},{key:"fs",get:function(){return this.Vi},set:function(t){this.Vi!==t&&(this.Vi=t,this.Qs(new KN(this)))}},{key:"EG",get:function(){return this.gG},set:function(t){this.gG=t,this.yG()}}]),n}(Tu);function ex(t,n){return Xs(t.Pb,n.Pb)||function(t,n){return t.i_===n.i_?Hs(GN(t),GN(n)):$k(t.i_,n.i_)}(t.Ky,n.Ky)||function(t,n){return t===n?Os.Is:t===E_.Yy?Os.Ds:Os.Rs}(t.type,n.type)}var rx=function(){function t(t,n){var i=this;this.EN=void 0,this.BG=void 0,this.Pm=[],this.OG=0,this.xG=0,this.LG=[],this.MG=[],this.UG=!1,this.XG=!1,this.FG=void 0,this.HG=function(){i.OG=0,i.zG(),i.VG()},this.WG=function(){i.zG(),i.VG()},this.GG=function(){i.XG=!0,i.FG=i.EN.jg,i.qG()},this.YG=function(){i.zG(),i.VG()},this.jG=function(){i.QG(),i.zG(),i.VG()},this.ZG=function(t){Qs(i.MG,t.Ky)||i.MG.push(t.Ky),i.KG()},this.JG=function(t){$s(i.LG,t.Ky),$s(i.MG,t.Ky),i.KG()},this.BG=n,this.EN=t,t.Zs(Pf.Ff,this.WG),t.Zs(Pf.If,this.WG),t.Zs(wp.Yg,this.WG),t.Zs(Pf.Ef,this.WG),t.Zs(Pf.Bf,this.GG),t.Zs(Pf.Pf,this.YG),this.KG()}var n=t.prototype;return n.D_=function(){Zs(this.LG);for(var t=0,n=this.Pm.slice();t<n.length;t++){var i=n[t];this.I_(i)}this.qG(),this.OG=0,this.xG=0,this.UG=!1,this.XG=!1,this.FG=void 0},n.E_=function(t){if(!Qs(this.Pm,t)){if(this.Pm.push(t),t.Zs(ny.e_,this.ZG),t.Zs(ny.s_,this.JG),t.Zs(ny.l_,this.jG),t.hg.C_>0){for(var n=0,i=t.hg.N_;n<i.length;n++){var e=i[n];this.MG.push(e)}this.KG()}this.QG()}},n.I_=function(t){if($s(this.Pm,t)){if(t.tu(ny.e_,this.ZG),t.tu(ny.s_,this.JG),t.tu(ny.l_,this.jG),t.hg.C_>0){for(var n=0,i=t.hg.N_;n<i.length;n++){var e=i[n];$s(this.LG,e),$s(this.MG,e)}this.KG()}this.QG()}},n.QG=function(){this.UG=this.Pm.some(function(t){return t.eg!==Py.j_})},n.VG=function(){this.EN.nm||this.EN.$g?this.qG():this.KG()},n.KG=function(){this.UG&&(this.OG||(this.OG=this.BG.Ce(this.HG)))},n.qG=function(){this.OG&&(this.BG.$G(this.OG),this.OG=0)},n.zG=function(){var t;if(this.UG&&!this.EN.nm){var n=this.Pm,i=this.xG,e=null!=(t=this.FG)?t:this.EN.jg,r=e-i<-.1,s=this.XG||r;s&&e>i&&e-i<.1&&(s=!1),this.XG=!1,this.FG=void 0;for(var u,o=[],a=0;a<n.length;a++){var h=n[a];if(h.eg!==Py.j_){h.JW(e,s);for(var c=0,f=h.cg.N_;c<f.length;c++){var l=f[c];o.push(l)}}}if(s)u=this.LG;else{u=[];for(var v=0;v<n.length;v++){var d=n[v];d.eg!==Py.j_&&Gk(d,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Qs(o,u[w])&&Ys(u,w);var m=[];if(!s)for(var y=u.length-1;y>=0;y--){var p=u[y];p.Jy>i&&p.$y<=e&&(m.push(p),Ys(u,y))}for(var _=0,b=this.MG;_<b.length;_++){$s(m,b[_])}Zs(this.MG);for(var k=[],A=[],T=0;T<m.length;T++){var S=m[T];S.Sk||k.push(new sP(S,S.Jy)),k.push(new oP(S,g.max(S.Jy,S.$y))),S.Sk=!1}for(var E=0,I=u;E<I.length;E++){var R=I[E];R.Sk&&(k.push(new oP(R,g.max(R.Jy,R.$y))),R.Sk=!1)}for(var C=0;C<o.length;C++){var D=o[C];D.Sk||(k.push(new sP(D,D.Jy)),D.Sk=!0)}k.sort(ex);for(var N=0;N<k.length;N++){var P=k[N],x=P.Ky;x.Qs(P);var B=x.i_;B&&(P.type===E_.Yy?B.Qs(new hP(x)):B.Qs(new fP(x)),Qs(A,B)||A.push(B))}A.sort($k);for(var O=0;O<A.length;O++){var L=A[O];L.Qs(new dP(L))}this.xG=e,this.LG=o}},n.xd=function(){this.D_(),this.EN.tu(Pf.Ff,this.WG),this.EN.tu(Pf.If,this.WG),this.EN.tu(wp.Yg,this.WG),this.EN.tu(Pf.Ef,this.WG),this.EN.tu(Pf.Bf,this.GG),this.EN.tu(Pf.Pf,this.YG)},t}(),sx=function(){function t(){}var n=t.prototype;return n.Ce=function(t){return bR(t)},n.$G=function(t){kR(t)},t}(),ux=new sx,ox=function(t){function n(n,i){return void 0===i&&(i=ux),t.call(this,n,i)||this}return E(n,t),n}(rx),ax=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&bP(this,n)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=TP(this)),this.$w}}]),n}(U_),hx=function(t){function n(n,i,e){return void 0===e&&(e=k_.DEFAULT),t.call(this,Pk.uA,"",i||"","",!1,e,!1,n)||this}return E(n,t),n}(rP),cx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fs=k_.ID3,e}E(n,t);var i=n.prototype;return i.IE=function(n){kP(n,this.XW),t.prototype.IE.call(this,n)},i.n_=function(){return My(this)},n}(hx);function fx(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=tx(t.value);return t.THEOplayerTextTrackCue=new ax(i,e),t.THEOplayerTextTrackCue}var lx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ly=void 0,i.kG=function(){i.eg!==Py.j_&&(i.bG(),i.pG(b_.LOADED))},i.Ly=n,i.Ly.addEventListener("cuechange",i.kG),i.eg=i.SG,mu(function(){i.kG()}),i}E(n,t);var i=n.prototype;return i.hP=function(n){t.prototype.hP.call(this,n),this.SG=this.eg},i.pG=function(t){this.ag=g.max(this.ag,t)},i.bG=function(){var t=this.Ly.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(fx(t[e]||t.item(e)));return js(i,WN),i}(t),i=$N(this.hg.N_.slice(),n),e=0,r=i.UW;e<r.length;e++){var s=r[e];this.dE(s)}for(var u=0,o=i.MW;u<o.length;u++){var a=o[u];this.IE(a)}}},i.xd=function(){this.Ly.removeEventListener("cuechange",this.kG),t.prototype.xd.call(this)},T(n,[{key:"H_",get:function(){return this.Ly.id||""}},{key:"J_",get:function(){return this.Ly.inBandMetadataTrackDispatchType||""}},{key:"G_",get:function(){return this.Ly.language||""}},{key:"SG",get:function(){return Oy(this.Ly.mode)},set:function(t){this.Ly.mode=t}},{key:"Vy",get:function(){return this.Ly}}]),n}(cx),vx=function(t){function n(n,i){var e;return(e=t.call(this)||this).tq=zr(),e.QR=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.i_).fs){i.next=4;break}return i.next=4,Fr.awrap(n.au(ny.g_));case 4:if(n.fs===k_.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.hg.C_){i.next=11;break}return i.next=9,Fr.awrap(n.au(ny.e_));case 9:i.next=6;break;case 11:e.nq(n);case 12:case"end":return i.stop()}},null,null,null,qe)},e.ZR=function(t){var n=t.i_;if(n.fs===k_.ID3&&e.tq.has(n.z_)){var i=e.tq.get(n.z_);e.I_(i),e.bE.RE(i),n.tu(ny.e_,e.iq)}},e.iq=function(t){dx(t.Ky)&&e.rq(t.Ky)},e.bE=n,e.uq=i,e.oq(),e}E(n,t);var i=n.prototype;return i.oq=function(){this.uq.Zs(Zm.Qw,this.QR),this.uq.Zs(Zm.Kw,this.ZR)},i.aq=function(){this.uq.tu(Zm.Qw,this.QR),this.uq.tu(Zm.Kw,this.ZR)},i.nq=function(t){var n=t.hg.N_[0];if(dx(n)){var i=function(t){var n=t.match(wx);if(!n)return;return{i_:n[1],G_:n[2]}}(n.nk.description),e=i.i_,r=i.G_;if(!this.hq(e,r)){var s=this.bE.SE(Pk.rA,t.H_,e,r,!1,k_.TTML);this.E_(s),this.tq.set(t.z_,s);for(var u=0,o=t.hg.N_;u<o.length;u++){var a=o[u];dx(a)&&this.rq(a)}t.Zs(ny.e_,this.iq)}}},i.hq=function(t,n){return this.JA.N_.some(function(i){return i.W_===t&&i.G_===n})},i.rq=function(t){if(t.i_)for(var n=this.tq.get(t.i_.z_),i=_k(t.nk.text,n,{hp:0,cp:1/0,fp:t.Jy}),e=0;e<i.length;e++){var r=i[e];n.IE(r)}},i.D_=function(){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.uq.N_;n<i.length;n++)i[n].tu(ny.e_,this.iq);for(e=0,r=this.JA.N_;e<r.length;e++)s=r[e],this.bE.RE(s);return this.tq.clear(),u.next=5,Fr.awrap(t.prototype.D_.call(this));case 5:case"end":return u.stop()}},null,this,null,qe)},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.aq(),n.next=3,Fr.awrap(t.prototype.xd.call(this));case 3:case"end":return n.stop()}},null,this,null,qe)},n}(Jk);function dx(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.nk)&&wx.test(n.description);var n}var wx=/^Track:(.+),Lang:(.+)$/;var gx=function(t){function n(n){var i;return(i=t.call(this,Pf.vf)||this).errorObject=void 0,i.errorObject=n,i}return E(n,t),T(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Eu),mx=function(t){function n(){return t.call(this,Pf.lf)||this}return E(n,t),n}(Eu),yx=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).cq=n,i}return E(n,t),n}(Eu),px=new hD,_x=function(t){function n(n){var i;return(i=t.call(this,"qh")||this).session=n,i}return E(n,t),n}(Eu),bx=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).fq=!1,u.vq=!1,u.$v=new ou,u.lq=void 0,u.Hh=function(t){if(!u.$v.Ws.Ns)switch(t.wu){case"license-request":case"license-renewal":u.cI(t.du,t._u).catch(function(t){return u.Sc(t)});break;default:u.Sc(new i_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wu))}},u.dq=function(t){u.wq.tc.Ru(function(t,n){switch(t){case"usable":i.Qn(function(){u.vq=!0,u.Qs(new mx)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Qs(new yx(n))}})},u._q=function(t){u.Sc(new i_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.wq=e,u.gq=r,u.mq=s,e.Zs("du",u.Hh),e.Zs("vu",u.dq),e.Zs("mu",u._q),e.Jh.then(function(){return u.yq()}),u}E(e,t);var r=e.prototype;return r.Yh=function(){var t=this;return this.fq=!0,px.tX(function(n){return t.kq(n)},this.$v.Ws)},r.kq=function(t){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,cu(t),s.next=4,Fr.awrap(this.gq.eI(t));case 4:return s.next=6,Fr.awrap(this.gq.rI(this.mq.ls,this.mq.Tu,t));case 6:return i=s.sent,s.next=9,Fr.awrap(this.wq.Yh(this.mq.ls,this.mq.Tu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),fu(s.t0),e=s.t0 instanceof ua?s.t0.ju:void 0,r=new i_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Sc(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],qe)},r.cI=function(t,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,!ea(t)){u.next=7;break}return u.next=4,Fr.awrap(this.gq.mI(new _(t),this.$v.Ws));case 4:e=u.sent,u.next=10;break;case 7:return u.next=9,Fr.awrap(this.gq.yI(new _(t),i,this.$v.Ws));case 9:e=u.sent;case 10:u.next=17;break;case 12:if(u.prev=12,u.t0=u.catch(0),!hu(u.t0)){u.next=16;break}return u.abrupt("return");case 16:throw u.t0;case 17:if(!this.$v.Ws.Ns){u.next=19;break}return u.abrupt("return");case 19:return u.prev=19,this.lq=new na,u.next=23,Fr.awrap(this.wq.Zh(e));case 23:this.lq.Wu(_u(100)),u.next=31;break;case 26:throw u.prev=26,u.t1=u.catch(19),null==(r=this.lq)||r.Wu(),s=u.t1 instanceof ua?u.t1.ju:void 0,new i_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",u.t1,void 0,void 0,void 0,void 0,s);case 31:case"end":return u.stop()}},null,this,[[0,12],[19,26]],qe)},r.Sc=function(t){var i=t instanceof i_?t:new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new gx(i)),this.qh()},r.yq=function(){this.wq.tu("du",this.Hh),this.wq.tu("vu",this.dq),this.wq.tu("mu",this._q),this.vq=!1,this.$v.Hs(),this.Qs(new _x(this))},r.qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),!this.lq){t.next=4;break}return t.next=4,Fr.awrap(this.lq.Fu);case 4:return this.yq(),t.next=7,Fr.awrap(this.wq.qh().catch(K));case 7:case"end":return t.stop()}},null,this,null,qe)},e}(Tu),kx=[Pf.lf,Pf.vf,Pf.zf],Ax=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vh=void 0,r.ic=void 0,r.bq=void 0,r.pq=[],r.Aq=void 0,r.Tq=[],r.Sq=function(t){t.session.tu(kx,r.js),t.session.tu("qh",r.Sq),$s(r.pq,t.session)},r.Vh=n,r.ic=i,r.bq=e,r}E(n,t);var i=n.prototype;return i.gI=function(){return this.bq.gI()},i.Eq=function(t){return this.Aq||(this.Aq=this.Iq(t)),this.Aq},i.Iq=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return cu(t),i.next=3,Fr.awrap(this.bq.mI(new _(ia()),t));case 3:if(n=i.sent,cu(t),this.ic){i.next=7;break}throw new l("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Fr.awrap(this.ic.ac(n.buffer));case 9:case"end":return i.stop()}},null,this,null,qe)},i.Rq=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ic){e.next=2;break}throw new l("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.Tq.push(t),e.next=6,Fr.awrap(this.ic.uc("temporary"));case 6:return n=e.sent,i=new bx(n,this.bq,t),this.pq.push(i),i.Zs(kx,this.js),i.Zs("qh",this.Sq),e.abrupt("return",i);case 12:return e.prev=12,$s(this.Tq,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],qe)},i.Dq=function(t){if(t.Nq)return!1;for(var n=0,i=this.pq;n<i.length;n++){if(Tx(i[n].mq,t))return!0}for(var e=0,r=this.Tq;e<r.length;e++){if(Tx(r[e],t))return!0}return!1},i.xd=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ic=void 0,this.$s(),t=this.pq.slice(),Zs(this.pq),n.next=6,Fr.awrap(qe.all(t.map(function(t){return t.qh()})));case 6:this.bq.xs();case 7:case"end":return n.stop()}},null,this,null,qe)},T(n,[{key:"ec",get:function(){return this.Vh}}]),n}(Tu);function Tx(t,n){return!t.Nq&&t.ls===n.ls&&qu(t.Tu,n.Tu)}var Sx=function(t){function e(n){var i;return(i=t.call(this)||this).sD=void 0,i.$v=new ou,i.fX=new hD,i.Pc=void 0,i.bq=void 0,i.uD=void 0,i.Vh=void 0,i.Cq=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(i.Pq(t.ls,t.Tu,i.$v.Ws));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),hu(n.t0)||i.Sc(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],qe)},i.sD=n,i.sD.Zs(Au.yu,i.Cq),i}E(e,t);var r=e.prototype;return r.jh=function(t,n){this.uD=t,this.LX(n)},r.LX=function(t){this.Pc=t,this.Bq(this.$v.Ws).catch(lu)},r.Bq=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Lr.We){n.next=5;break}return n.next=3,Fr.awrap(this.Oq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Pc||!this.Pc.xq){n.next=9;break}return n.next=8,Fr.awrap(this.Lq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,qe)},r.Oq=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null==(n=this.Pc)?void 0:n.UD){l.next=3;break}return l.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Pc)?void 0:u.UD)?s:[];case 5:if(!(e<r.length)){l.next=27;break}o=r[e],a=0,h=null!=(c=o.qR)?c:[];case 8:if(!(a<h.length)){l.next=22;break}return f=h[a],l.prev=10,l.next=13,Fr.awrap(this.Pq(o.ec.ls,f,t));case 13:i=!0,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),fu(l.t0);case 19:a++,l.next=8;break;case 22:if(!i){l.next=24;break}return l.abrupt("return",!0);case 24:e++,l.next=5;break;case 27:return l.abrupt("return",!1);case 28:case"end":return l.stop()}},null,this,[[10,16]],qe)},r.Pq=function(t,e,r){var s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(cu(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Pc&&this.Pc.UD.length){w.next=5;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===ts||t===is||t===ns){w.next=8;break}return w.abrupt("return");case 8:s=gT(t,e),u=this.Pc.UD,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(h=u[a],cu(r),(c=s[h.ec.ds])&&h.ec.ls===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Fr.awrap(this.Mq(h,r));case 20:if(!(f=w.sent).gI()){w.next=24;break}return w.next=24,Fr.awrap(f.Eq());case 24:if(l=this.sD.yy,v={ls:h.ec.ls,Tu:c,Nq:l},!this.Uq(f,v)){w.next=32;break}return w.next=29,Fr.awrap(f.Rq(v));case 29:return d=w.sent,w.next=32,Fr.awrap(d.Yh());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),fu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Fr.awrap(i.Sr());case 44:if(!w.sent){w.next=48;break}throw new i_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new i_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],qe)},r.Lq=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Pc)?void 0:n.UD){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],cu(t),u.prev=7,u.next=10,Fr.awrap(this.Mq(r,t));case 10:if(!(s=u.sent).gI()){u.next=14;break}return u.next=14,Fr.awrap(s.Eq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),fu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],qe)},r.Uq=function(t,n){return i.Lr.Ve||!t.Dq(n)},r.Mq=function(t,n){var i=this;return this.fX.tX(function(n){return i.Xq(t,n)},n)},r.Xq=function(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(cu(n),this.Pc&&this.bq&&this.uD){o.next=3;break}throw new l("Not initialized");case 3:if(!this.Vh){o.next=7;break}if(this.Vh.ec===t.ec){o.next=6;break}throw new l("Internal key system error");case 6:return o.abrupt("return",this.Vh);case 7:return i=this.bq,e=Ur({},t,{JD:t.JD.map(function(n){var e;return Ur({},n,{persistentState:null!=(e=n.persistentState)?e:i.FI(t.ec),gc:n.gc||i.gc(t.ec)})})}),o.next=11,Fr.awrap(this.uD.BX(e.ec,e.JD));case 11:return r=o.sent,s=i.GR(e),(u=new Ax(e.ec,r,s)).Zs([Pf.lf,Pf.vf,Pf.zf],this.js),this.Vh=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,qe)},r.Sc=function(t){var i=t instanceof i_?t:new i_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Qs(new gx(i))},r.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uD=void 0,this.Pc=void 0,this.$v.Hs(),this.$v=new ou,t.next=6,Fr.awrap(this.Fq());case 6:case"end":return t.stop()}},null,this,null,qe)},r.Fq=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.fX.Hs());case 2:if(!(t=this.Vh)){n.next=8;break}return t.tu(Pf.zf,this.js),this.Vh=void 0,n.next=8,Fr.awrap(t.xd());case 8:case"end":return n.stop()}},null,this,null,qe)},r.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.sD.tu(Au.yu,this.Cq),t.next=4,Fr.awrap(this.D_());case 4:return t.next=6,Fr.awrap(this.fX.xd());case 6:case"end":return t.stop()}},null,this,null,qe)},T(e,[{key:"Hq",get:function(){var t;return null==(t=this.Vh)?void 0:t.ec}},{key:"xD",get:function(){return this.bq},set:function(t){this.bq=t}}]),e}(Tu),Ex=j.In||j.Rn,Ix=j.qn,Rx=.5,Cx=5,Dx=j.Bn,Nx=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vc=void 0,s.zq=void 0,s.oD=void 0,s.DN=!0,s.uD=void 0,s.Vq=new hD,s.Wq=void 0,s.Gq=void 0,s.qq=void 0,s.DX=void 0,s.Pm=void 0,s.BC=void 0,s.Yq=[],s.jq=void 0,s.Qq=void 0,s.Zq=void 0,s.Kq=void 0,s.Jq=void 0,s.$q=void 0,s.tY=NaN,s.nY=void 0,s.iY=void 0,s.RC=!1,s.eY=qe.resolve(),s.rY=new ou,s.sY=[],s.uY=lE.yC(),s.oY=void 0,s.aY=1,s.hY=!1,s.cY=!1,s.fY=!1,s.vY=!1,s.ys=void 0,s.lY=!1,s.dY=!1,s.wY=!1,s._Y=!1,s.gY=0,s.mY=function(t){var n=t.track,i=s.yY(n);s.kY(n,i)},s.bY=function(t){var n=Ox(s.jq,t.track);n&&s.jq.I_(n)},s.pY=function(){for(var t=0;t<s.Pm.C_;t++){var n=s.Pm.S_(t);n instanceof ix&&n.IG()}},s.AY=function(){s.jq.D_()},s.TY=function(){var t=s.uD,n=t.iW,i=t.eW;if(n&&i)if(t.WX)s.SY();else if(t.ag!==DN.vV){var e=n.wy,r=i.wy;if(0!==e.C_&&0!==r.C_){var u=s.jg;if(u<e.LN(0)||u<r.LN(0))s.SY();else if(e.$D(u)!==r.$D(u)){if(t.GV(u))return;s.EY()}else{if(s.SY(),!s.gY&&s.qq.BW())e.iC(r).oC(u,u+Rx)&&(s.gY=bR(s.IY))}}else s.SY()}},s.IY=function(){s.gY=0,s.TY()},s.RY=function(){if(!(s.nm||s.ag>=Ky.Fg)){0;var t=s.uD,n=t.iW,i=t.eW;if(n&&i){var e=s.jg,r=n.wy,u=i.wy;if(r.$D(e)&&u.$D(e))r.iC(u).oC(e-Cx,e)&&(s.wY?s.SY():s.DY())}}},s.NY=function(){s.Qs(new yp(s.jg))},s.CY=function(){s.PY(new au),s.Qs(new mp(s.jg))},s.BY=function(){s.OY(),s.Qs(new pA(s.jg))},s.xY=function(){s.LY(s.tm)},s.MY=function(){s.Qs(new Ap(s.Qg))},s.UY=function(){s.Qs(new xD(s.jg))},s.XY=function(){s.Qs(new BD)},s.FY=function(){var t=s.jg,n=s.nm,i=s.ag<Ky.Fg&&!s.Zg,e=void 0!==s.iY,r=e&&s.iY!==t;(n||!e||r&&!i)&&(s.Qs(new Sp(s.jg,void 0)),s.iY=t)},s.HY=function(){!s.hY&&s.Zg&&(s.hY=!0,s.Qs(new Ep(s.jg)))},s.zY=function(){if(null!==s.Vc.error){var t,n=s.Vc.error;s.gD(new e_(null!=(t=n.code)?t:Jp.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.VY=function(){s.cY&&(s.WY(),s.fY=!0)},s.GY=function(){s.Qs(new Dp(s.jg,s.hm))},s.qY=function(){s.um>0&&s.im>0&&s.Qs(new aA)},s.YY=function(t){s.Qs(new Pu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.jY=function(){s.Qs(new xu)},s.QY=function(t){var n=t.initData,i=n?Zo(n).buffer:new ArrayBuffer(0);s.Qs(new Pu(ts,i))},s.ZY=function(t){if(t.initData){var n=Px(t.initData);if(!n)return;s.Qs(new Pu(is,n))}else s.Qs(new Pu(is,new ArrayBuffer(0)))},s.KY=function(t){var n=t.initData,i=n?Zo(n).buffer:new ArrayBuffer(0);s.Qs(new Pu(ts,i))},s.JY=function(){s.OY()},s.$Y=function(t){s.PY(t)},s.tj=function(t){s.Qs(t),t.type===Pf.vf&&s.gD(s_(t.errorObject))},s.Vc=n,s.ys=i,s.zq=e,s.BC=r,s.Gq=new FN(Jt(s)),s.Gq.Zs(wp.w_,s.js),s.qq=new XN(Jt(s)),s.qq.Zs(wp.Yg,s.BY),s.DX=new Sx(Jt(s)),s.DX.Zs([Pf.lf,Pf.vf,Pf.zf],s.tj),s.Pm=new xk,s.jq=new xk,s.Qq=new qS([s.Pm,s.jq]),s.Zq=new vx(Jt(s),s.Qq),s.Kq=new qS([s.Qq,s.Zq.JA]),s.Jq=new ox(Jt(s)),s.nj(),s.MD(),s}E(n,t);var e=n.prototype;return e.ij=function(){this.OD.ended||this.jg===this.Qg||(this.hY=!1)},e.ej=function(){return void 0!==this.$q&&this.Qg===this.$q},e.LY=function(t){this.aY!==t&&(this.aY=t,this.Qs(new Tp(this.jg,t)))},e.iN=function(){return IC(this.Vc)},e.Fm=function(){var t=this.rj();return this.sj(),t},e.sj=function(){this.lY?this.dY&&(this.dY=!1,this.Qs(new yp(this.jg))):this.uj()},e.uj=function(){if(this.Wq)this.Wq.Fm();else{j.Bn&&!j.hn&&this.Vc.preload===rE.AN&&(this.Vc.preload=rE.uA);var t=this.tm,n=this.Vc.play();t!==this.OD.playbackRate&&(this.tm=t),Y(n)?n.then(this.JY,this.$Y):this.qq.BW()&&this.OY()}},e.Hm=function(){this.lY?this.dY||(this.dY=!0,this.Qs(new mp(this.jg))):this.aj()},e.aj=function(){this.Wq?this.Wq.Hm():(this.Vc.pause(),this.qq.Zh()),this.hj(new au)},e.rj=function(){var t=new na;return this.sY.push(t),t.Fu},e.cj=function(){for(var t=0,n=this.sY;t<n.length;t++){n[t].Wu(void 0)}Zs(this.sY)},e.hj=function(t){for(var n=0,i=this.sY;n<i.length;n++){i[n].Gu(t)}Zs(this.sY)},e.OY=function(){this.lY||this.Wq||this.cj()},e.PY=function(t){this.lY||this.Wq||this.hj(t)},e.xu=function(t,n){this.Wq?this.Wq.jg=t:(this.rY.Hs(),this.rY=new ou,this.eY=this.vj(t,this.eY,this.rY.Ws).catch(K))},e.nN=function(t){var n=this.eN;if(n&&!p(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.xu(i)}},e.vj=function(t,n,i){var e,r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,this.$q=t,this.tY=t,this.RC=!0,this.hY&&!this.ej()&&(this.hY=!1),this.Qs(new Rp(t)),l.next=8,Fr.awrap(n.catch(K));case 8:if(cu(i),this.vY&&this.lj(),this.ag!==Ky.Mg){l.next=13;break}return l.next=13,Fr.awrap(this.au(wp.w_,i));case 13:if(0!==this.Vc.seekable.length){l.next=19;break}return l.next=16,Fr.awrap(qe.race([Ym(this.Vc,"timeupdate",i),_u(100,i)]));case 16:cu(i),l.next=13;break;case 19:e=this.dj(t),r=this.Ny,s=!0,u=!1;case 23:if((r=this.Ny).C_>0&&!r.$D(e)&&(e=r.qN(e),s=!0),Dx&&void 0!==(o=this.wj())&&e>o&&(e=o,s=!0),u){l.next=37;break}if(!(void 0!==(a=this._j())&&e>a)){l.next=37;break}return u=!0,l.next=33,Fr.awrap(this.gj(a,i));case 33:return l.next=35,Fr.awrap(Ym(this.Vc,"seeked",i));case 35:cu(i),s=!0;case 37:if(!s){l.next=56;break}return s=!1,l.next=41,Fr.awrap(this.gj(e,i));case 41:cu(i),h=this.jg,r=this.Ny,e=r.qN(e),c=1;case 46:if(!(g.abs(e-h)>=1/6)){l.next=56;break}return r=this.Ny,e=Bx(e,r,c),l.next=51,Fr.awrap(this.gj(e,i));case 51:cu(i),h=this.jg,c++,l.next=46;break;case 56:if(this.Vc.seeking||this.ag<Ky.Xg){l.next=58;break}return l.abrupt("break",63);case 58:return l.next=60,Fr.awrap(wu(function(t){var n;return qe.race([Ym(f.Vc,"seeked",t),f.au([Pf.Rf,Pf._f,wp.w_],t),null==(n=f.uD)?void 0:n.au(kD.KP,t)].filter(H))},i));case 60:cu(i),l.next=23;break;case 63:this.mj(),l.next=71;break;case 66:if(l.prev=66,l.t0=l.catch(0),!hu(l.t0)){l.next=70;break}return l.abrupt("return");case 70:0;case 71:case"end":return l.stop()}},null,this,[[0,66]],qe)},e.gj=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(cu(n),i=this.Ny,t=i.qN(t),!this.vY){s.next=18;break}e=!0;case 5:if(!(e||this.ag<Ky.Fg)){s.next=17;break}if((i=this.Ny).$D(t)||(t=i.qN(t),e=!0),!e){s.next=13;break}return e=!1,this.$q=t,this.yj(this.jg),s.abrupt("continue",5);case 13:return s.next=15,Fr.awrap(this.au([wp.w_,Pf._f],n));case 15:s.next=5;break;case 17:cu(n);case 18:if(r=Ym(this.Vc,"seeking",n),this.Vc.currentTime=t,this.$q=void 0,this.yj(this.jg),!this.Vc.seeking){s.next=25;break}return s.next=25,Fr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,qe)},e.dj=function(t){var n=this.wy;if(n&&!n.$D(t)){var i=n.rC(t,.05);if(i>-1){var e=n.LN(i);if(t<e)return e}}return t},e.wj=function(){if(this.uD&&this.uD.WX){var t=this.uD.GX,n=this.uD.qX,i=t&&n?t.QN(n):t||n;if(i&&0!==i.C_){var e=i.LN(i.C_-1),r=i.UN(i.C_-1);return g.max(e,r-.001)}}},e._j=function(){if(this.uD&&this.uD.WX){var t=this.uD.qX;if(t&&0!==t.C_){var n=t.LN(t.C_-1),i=t.UN(t.C_-1)-.02;return i-=.001,g.max(n,i)}}},e.yj=function(t){this.tY!==t&&(this.tY=t,this.Qs(new Rp(t)))},e.mj=function(){this.RC=!1,this.tY=NaN,this.vY&&this.bj(),this.Qs(new Cp(this.jg))},e.lj=function(){this.lY||(this.dY=this.$g,this.lY=!0,this.aj())},e.bj=function(){this.lY&&(this.lY=!1,this.dY||this.sj())},e.VX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===oA.NE&&PD.VX(i,this.Vc))return i;if(i.fs===oA.CE&&xN.VX(i))return i}},e.Jm=function(){this.DN=!1,lr(this.Vc)&&(this.Vc.style.display="none")},e.Km=function(){this.DN=!0,lr(this.Vc)&&(this.Vc.style.display="block")},e.SE=function(t,n,i,e,r,s,u,o){var a=new rP(t,n,i,e,r,s,u,o);return this.Pm.E_(a),this.Jq.E_(a),a},e.VD=function(){return!0},e.GD=function(t,n,i,e){var r=s.createElement("track");r.src=vg(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=KI(),this.Vc.appendChild(r);var u=this.Vc.textTracks.getTrackById(r.id),o=new ix(u,r);return this.jq.E_(o),this.Yq.push(o),o},e.RE=function(t){this.Pm.I_(t),this.Jq.I_(t)},e.jD=function(){for(var t=0,n=this.Pm.N_.slice();t<n.length;t++){n[t].xd()}this.Pm.D_();for(var i=0,e=this.Yq.slice();i<e.length;i++){var r=e[i];this.jq.I_(r),r.xd()}Zs(this.Yq)},e.MD=function(){var t=this.Vc.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.mY),t.addEventListener("removetrack",this.bY),t.addEventListener("change",this.pY)),this.Vc.addEventListener("emptied",this.AY)},e.ZD=function(){var t=this.Vc.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.mY),t.removeEventListener("removetrack",this.bY),t.removeEventListener("change",this.pY)),this.Vc.removeEventListener("emptied",this.AY)},e.kY=function(t,n){if(j.Bn){if(t.kind===Pk.uA)return void this.pj(t);if(t.kind===Pk.aE&&""===t.label&&""===t.language&&!Lx(t))return void this.Aj(t,n)}Ox(this.jq,t)||this.jq.E_(new ix(t,n))},e.pj=function(t){t.mode=Py.Q_;var n=new lx(t);this.jq.E_(n),this.Jq.E_(n)},e.Aj=function(t,n){var i=this;t.addEventListener("cuechange",function e(){Lx(t)&&(t.removeEventListener("cuechange",e),i.jq.E_(new ix(t,n)))}),t.mode=Py.Q_},e.yY=function(t){for(var n=this.Vc.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.jh=function(t){var n=this;return this.Vq.tX(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(cu(i),!n.uD){r.next=3;break}throw new l("Already loaded a media source");case 3:if(t.fs!==oA.NE){r.next=9;break}e=new PD(t,n,n.DX,n.ys),n.vY=!1,n.Tj(new FN(n)),r.next=17;break;case 9:if(t.fs!==oA.CE){r.next=16;break}e=new xN(t,n,n.DX,n.ys),n.vY=Ex,n.Tj(n.vY?new UN(n):new FN(n)),Ix&&(n.Zs(Pf.Ff,n.TY),n.Zs(wp.w_,n.RY)),r.next=17;break;case 16:throw new l("Unsupported configuration");case 17:return n.uD=e,r.next=20,Fr.awrap(e.kL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,qe)})},e.EY=function(){if(!this.wY){var t=this.tm;this.wY=!0,this.tm=t,this.Vc.playbackRate=0,this.Gq&&this.Gq.SW()}},e.SY=function(){if(this.wY){var t=this.tm;this.wY=!1,this.tm=t,this.DY()}},e.DY=function(){this.Vc.currentTime=this.Vc.currentTime,this.Gq&&this.Gq.SW()},e.Tj=function(t){var n=this.ag;this.Gq.xs(),this.Gq=t,this.Gq.Zs(wp.w_,this.js);var i=this.ag;n!==i&&this.Qs(new xp(this.jg,i))},e.D_=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.RC=!1,this.uY=lE.yC(),this.rY.Hs(),this.$q=void 0,this.tY=NaN,this.nY=void 0,this.vY=!1,this.lY=!1,this.oD=void 0,this.hY=!1,this.iY=void 0,this.cY=!1,this.fY&&(this.nj(),this.fY=!1),this.hj(new au),this.Tj(new FN(this)),this.qq.D_(),this.SY(),Ix&&(kR(this.gY),this.gY=0,this.tu(Pf.Ff,this.TY),this.tu(wp.w_,this.RY)),n.next=20,Fr.awrap(this.Vq.Hs());case 20:return n.next=22,Fr.awrap(this.Vq.tX(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.uD){n.next=4;break}return n.next=3,Fr.awrap(t.uD.xs());case 3:t.uD=void 0;case 4:case"end":return n.stop()}},null,null,null,qe)}));case 22:case"end":return n.stop()}},null,this,null,qe)},e.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fY=!1,this.WY(),this.ZD(),t.next=5,Fr.awrap(this.D_());case 5:return t.next=7,Fr.awrap(this.Vq.xd());case 7:return this.qq.xs(),this.Gq.xs(),t.next=11,Fr.awrap(this.DX.xs());case 11:return this.jD(),this.Pm.xd(),this.jq.xd(),t.next=16,Fr.awrap(this.Zq.xd());case 16:this.Qq.xd(),this.Kq.xd(),this.$s();case 19:case"end":return t.stop()}},null,this,null,qe)},e.nj=function(){this.OD.addEventListener("play",this.NY),this.OD.addEventListener("pause",this.CY),this.OD.addEventListener("timeupdate",this.FY),this.OD.addEventListener("progress",this.UY),this.OD.addEventListener("loadstart",this.XY),this.OD.addEventListener("ended",this.HY),this.OD.addEventListener("ratechange",this.xY),this.OD.addEventListener("volumechange",this.GY),this.OD.addEventListener("durationchange",this.MY),this.OD.addEventListener("resize",this.qY),this.OD.addEventListener("loadedmetadata",this.qY),this.OD.addEventListener("error",this.zY),this.OD.addEventListener("emptied",this.VY),xs()?(this.Vc.addEventListener("encrypted",this.YY),this.Vc.addEventListener("waitingforkey",this.jY)):void 0!==we.WebKitMediaKeys&&"function"==typeof we.WebKitMediaKeys.isTypeSupported?this.Vc.addEventListener("webkitneedkey",this.ZY):Bs()?this.Vc.addEventListener("webkitneedkey",this.KY):void 0!==we.MSMediaKeys&&"function"==typeof we.MSMediaKeys.isTypeSupported&&this.Vc.addEventListener("msneedkey",this.QY)},e.WY=function(){this.OD.removeEventListener("play",this.NY),this.OD.removeEventListener("pause",this.CY),this.OD.removeEventListener("timeupdate",this.FY),this.OD.removeEventListener("progress",this.UY),this.OD.removeEventListener("loadstart",this.XY),this.OD.removeEventListener("ended",this.HY),this.OD.removeEventListener("ratechange",this.xY),this.OD.removeEventListener("volumechange",this.GY),this.OD.removeEventListener("durationchange",this.MY),this.OD.removeEventListener("resize",this.qY),this.OD.removeEventListener("loadedmetadata",this.qY),this.OD.removeEventListener("error",this.zY),this.OD.removeEventListener("encrypted",this.YY),this.OD.removeEventListener("waitingforkey",this.jY),this.OD.removeEventListener("webkitneedkey",this.ZY),this.OD.removeEventListener("webkitneedkey",this.KY),this.OD.removeEventListener("msneedkey",this.QY),this.OD.removeEventListener("emptied",this.VY)},e.Sj=function(){var t;this.Wq||(this.uY=this.Ry,this.Wq=new LN((t=this).jg,t.Qg,t.Zg,t.$g,t.nm,t.Jg,t.tm,t.hm,t.ag),this.WY(),this.Wq.Zs(ON,this.js))},e.Ej=function(){if(this.Wq){var t,n,i=this.Wq;this.Wq=void 0,this.Gq.SW(),t=this,(n=i).Qg===t.Qg||p(n.Qg)&&p(t.Qg)||t.Qs(new Ap(t.Qg)),t.Jg=n.Jg,t.hm=n.hm,t.tm=n.tm,n.$g?t.Hm():t.Fm().catch(K),n.jg!==t.jg||n.ag>Ky.Mg&&t.ag===Ky.Mg?t.xu(n.jg):!n.nm&&t.nm?t.Qs(new Rp(t.jg)):n.nm&&!t.nm&&t.ag>=Ky.Xg&&t.Qs(new Cp(t.jg)),!n.Zg&&t.Zg&&t.Qs(new Ep(t.jg)),i.xs(),this.nj()}},e.gD=function(t){this.oD=t,this.hj(this.oD),this.Qs(new zN(this.oD))},e.Ij=function(){this.Rj||(aO(this.Vc,i.Lr),this._Y=!0)},e.Dj=function(t){t.appendChild(this.Vc)},e.dW=function(){Ix&&this.TY(),this.Gq.SW()},e.ly=function(){this.DX.Fq().catch(K)},T(n,[{key:"IW",get:function(){return this.wY}},{key:"wy",get:function(){return this.uD?this.uD.wy:lE.yC()}},{key:"_y",get:function(){var t=this.eN;if(t&&!p(t.getTime())){var n=1e3*this.jg;return new Date(t.getTime()+n)}}},{key:"eN",get:function(){if(this.OD.getStartDate)return this.RC&&this.nY||(this.nY=this.OD.getStartDate()),this.nY}},{key:"jg",get:function(){return this.Wq?this.Wq.jg:void 0!==this.$q?this.$q:this.Vc.currentTime}},{key:"OU",get:function(){return this.zq}},{key:"Qg",get:function(){return this.Wq?this.Wq.Qg:this.uD?this.uD.Qg:this.Vc.duration}},{key:"Zg",get:function(){return this.nm?this.ej():this.Wq?this.Wq.Zg:this.Vc.ended||this.hY}},{key:"mu",get:function(){return this.oD}},{key:"OD",get:function(){return this.Vc}},{key:"$g",get:function(){return this.lY?this.dY:this.Wq?this.Wq.$g:this.Vc.paused}},{key:"Ry",get:function(){return this.uY.nC(lE._C(this.Vc.played))}},{key:"dT",get:function(){return this.Vc.offsetHeight*i.Lr.He}},{key:"Bk",get:function(){return this.Vc.offsetWidth*i.Lr.He}},{key:"YD",get:function(){return wE}},{key:"ag",get:function(){return this.Gq.ag}},{key:"Ny",get:function(){return this.uD?this.uD.Ny:lE.yC()}},{key:"nm",get:function(){return this.Wq?this.Wq.nm:this.RC}},{key:"Jg",get:function(){return this.Wq?this.Wq.Jg:this.Vc.muted},set:function(t){this.Wq?this.Wq.Jg=t:this.Vc.muted=t}},{key:"tm",get:function(){return this.Wq?this.Wq.tm:void 0!==this.oY?this.oY:this.Vc.playbackRate},set:function(t){this.Wq?this.Wq.tm=t:this.$g||this.wY?(this.oY=t,this.LY(t)):(this.oY=void 0,this.Vc.playbackRate=t)}},{key:"Nj",get:function(){return this.DN}},{key:"hm",get:function(){return this.Wq?this.Wq.hm:this.Vc.volume},set:function(t){this.Wq?this.Wq.hm=t:this.Vc.volume=t}},{key:"Um",get:function(){return this.Kq}},{key:"LU",get:function(){return this.BC}},{key:"yy",get:function(){return!!this.Vc.webkitCurrentPlaybackTargetIsWireless}},{key:"Rj",get:function(){return this._Y}},{key:"Cj",get:function(){return Ur({},RD)}},{key:"xD",get:function(){return this.DX.xD},set:function(t){this.DX.xD=t}},{key:"Hq",get:function(){return this.DX.Hq}},{key:"Py",get:function(){return this.cY},set:function(t){this.cY=t,this.fY&&!this.cY&&(this.fY=!1,this.nj())}}]),n}(Tu);function Px(t){try{var n=qo(t),i=new Jo;return Lo(Mo(wo(n,i,bo(n,i,!0)),!0))}catch(t){return}}var xx=.01;function Bx(t,n,i){if(void 0===i&&(i=0),!n.C_)return 0;var e=n.qN(t),r=xx*i;return e===n.LN(0)?e+=r:e===n.UN(n.C_-1)&&(e-=r),e}function Ox(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.Vy===n)return r}}function Lx(t){return!!t.cues&&t.cues.length>0}var Mx={JM:void 0,$M:void 0,tU:void 0,nU:void 0,iU:void 0,eU:void 0,aU:void 0,rU:void 0,sU:void 0,uU:void 0,oU:void 0},jx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$w=void 0,n}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=FC(this)),this.$w}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"iU",get:function(){}},{key:"eU",get:function(){}},{key:"aU",get:function(){}},{key:"rU",get:function(){}},{key:"sU",get:function(){}},{key:"uU",get:function(){}},{key:"oU",get:function(){}}]),n}(Tu);new jx;var Fx=function(t){function n(n,i,e){return t.call(this,n,i,e,new jx)||this}return E(n,t),n.prototype.$m=function(){},T(n,[{key:"im",get:function(){return 0}},{key:"um",get:function(){return 0}}]),n}(Nx),Ux="theoplayer-texttracks",Hx=function(){function t(t){void 0===t&&(t=5),this.Pj=void 0;var n=we.document.createElement("div");n.className=Ux,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Pj=n,this.Km()}var n=t.prototype;return n.Jm=function(){this.Pj.style.display="none"},n.Km=function(){this.Pj.style.display="block"},n.Dj=function(t){t.appendChild(this.Pj)},n.xd=function(){nr(this.Pj)},T(t,[{key:"gy",get:function(){return this.Pj}}]),t}();function Xx(t,n){return Ur({},n,py({JM:(i=t).JM,$M:i.$M,tU:i.tU,nU:i.nU,iU:i.iU,eU:i.eU,aU:i.aU,rU:i.rU,sU:i.sU,uU:i.uU,oU:i.oU}));var i}function zx(t){return t.tU&&Ts(t.tU,"%")?Number(t.tU.replace("%",""))/100:t.tU&&Ts(t.tU,"em")?Number(t.tU.replace("em","")):1}var Vx,Wx,qx=function(){function t(t,n,i,e,r){var s=this;this.Bj=zr(),this.Oj=!0,this.xj=void 0,this.Lj=Ur({},Mx),this.Mj=[],this.gk=void 0,this.Vc=void 0,this.zq=void 0,this.Uj=void 0,this.Xj=function(t){return s.IE(t.Ky)},this.Fj=function(t){return s.removeCue(t.Ky)},this.Hj=function(){return s.zj()},this.Vj=function(t){return s.Wj(t.Ky)},this.Gj=function(t){return s.qj(t.Ky)},this.Yj=function(t){return s.jj(t.Ky)},this.Qj=function(t){s.Zj(t.Bk,t.dT)},this.gk=t,this.Uj=this.xj=r,this.Vc=this.Kj(i),this.zq=e,n.appendChild(this.Vc)}var n=t.prototype;return n.Jj=function(t){var n=this.$j(t);if(!n)return!1;for(var i=0;i<n.length;i++){nr(n[i])}return this.tQ(t),!0},n.kL=function(){var t=this;this.nQ(),this.gk.hg.N_.forEach(function(n){return t.IE(n)}),this.OU.Zs("SO",this.Qj),this.Zj(this.OU.BO,this.OU.PO)},n.iQ=function(t){this.Lj=t,this.xj=Xx(this.Lj,this.Uj),this.xj.JM&&(this.OD.style.fontFamily=this.xj.JM),this.xj.aU&&(this.OD.style.visibility=this.xj.aU),this.Zj(this.OU.BO,this.OU.PO),this.eQ(!0)},n.rQ=function(){return this.xj},n.sQ=function(t){return this.Bj.has(t.z_)},n.nQ=function(){this.gk.Zs(ny.e_,this.Xj),this.gk.Zs(ny.s_,this.Fj),this.gk.Zs(ny.l_,this.Hj)},n.uQ=function(){this.gk.tu(ny.e_,this.Xj),this.gk.tu(ny.s_,this.Fj),this.gk.tu(ny.l_,this.Hj)},n.oQ=function(t){t.Zs(E_.Yy,this.Vj),t.Zs(E_.Qy,this.Gj),t.Zs(E_.y_,this.Yj)},n.aQ=function(t){t.tu(E_.Yy,this.Vj),t.tu(E_.Qy,this.Gj),t.tu(E_.y_,this.Yj)},n.IE=function(t){this.oQ(t),t.Sk&&this.Wj(t)},n.removeCue=function(t){this.aQ(t),this.qj(t)},n.zj=function(){this.gk.eg===Py.Z_?this.hQ():this.cQ()},n.hQ=function(){if(this.Oj){this.Oj=!1;var t=this.OU.BO,n=this.OU.PO;this.Zj(t,n),this.eQ(!1)}},n.cQ=function(){this.Oj||(this.Oj=!0,this.eQ(!0))},n.Wj=function(t){this.Oj||t.Sk&&!this.sQ(t)&&this.eQ(!1)},n.qj=function(t){this.sQ(t)&&this.eQ(!1)},n.jj=function(t){(t.Sk||this.sQ(t))&&this.eQ(!0)},n.eQ=function(t){var n=this.Mj,i=this.Oj?[]:this.gk.cg.N_.slice();this.fQ(i,n,t),this.Mj=i},n.$j=function(t){var n;return null==(n=this.Bj.get(t.z_))?void 0:n.vQ},n.lQ=function(t,n){this.Bj.set(t.z_,{Ky:t,vQ:n})},n.tQ=function(t){this.Bj.delete(t.z_)},n.dQ=function(){return this.Mj.slice()},n.xd=function(){var t=this;nr(this.OD),this.Bj.clear(),this.uQ(),this.gk.hg.N_.forEach(function(n){return t.aQ(n)}),this.OU.tu("SO",this.Qj)},T(t,[{key:"i_",get:function(){return this.gk}},{key:"OD",get:function(){return this.Vc}},{key:"OU",get:function(){return this.zq}},{key:"wQ",get:function(){return this.xj}},{key:"_Q",get:function(){return this.Lj}}]),t}();function Gx(t){return $x[t||"none"]}!function(t){t.gQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.mQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.yQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.kQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(Vx||(Vx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(Wx||(Wx={}));var $x={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},Yx=Vr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Qx={$M:Wx.WHITE,JM:"Arial, Helvetica, Sans-Serif",tU:"100%",nU:Wx.TRANSPARENT,iU:Wx.TRANSPARENT,eU:"none",aU:"visible",rU:void 0,sU:void 0,uU:void 0,oU:void 0},Zx=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Qx)||this}E(n,t);var i=n.prototype;return i.Kj=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",ar(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Zj=function(t,n){var i=g.min(t,n)/15;this.OD.style.fontSize=i+"px"},i.fQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Sk||this.Jj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.bQ(u)}},i.bQ=function(t){var n=this.$j(t);n||(n=this.pQ(t),this.lQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.OD.appendChild(r)}},i.pQ=function(t){var n,i=[],e=t.eE,r=t.vp,u=t.nk;if(0===w.keys(r).length){sB(n=s.createElement("div"));for(var o=Kx(u,e,t.rE,void 0),a=0;a<o.length;a++){var h=o[a];n.appendChild(h)}i.push(n)}else for(var c=0,f=w.keys(r);c<f.length;c++){var l=f[c],v=s.createElement("div");v.id=l;var d=Kx(u,e,t.rE,v);if(d){sB(v),tB(v,"region",r[l],e);for(var g=0;g<d.length;g++){var m=d[g];v.appendChild(m)}i.push(v)}i.push(v)}return i},i.iQ=function(t){var n,i,e,r;n=this.OD,i=t,n.style.marginTop=(null!=(e=i.rU)?e:0)+"px",n.style.marginBottom=(null!=(r=i.sU)?r:0)+"px",n.style.height="calc(100% - "+n.style.marginTop+" - "+n.style.marginBottom+")",zC(this.OD,t)},n}(qx);function Kx(t,n,i,e){var r,u;if(Zt(t)&&("SPAN"===(u=t).di.toUpperCase()||"P"===u.di.toUpperCase()||"BR"===u.di.toUpperCase()||"DIV"===u.di.toUpperCase()||"BODY"===u.di.toUpperCase())){var o=function t(n){var i=n.Bi("region");if("p"===n.di.toLowerCase())return i;var e=[];for(var r=0,s=n.Pi;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(r="BODY"===t.di.toUpperCase()?e:function(t){var n;switch(t.di.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":Jx(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",Jx(n,t);break;case"DIV":Jx(n=s.createElement("div"),t)}var i;return n}(t))&&(function(t,n,i,e){var r=n.Bi("style");iB(t,n.di,r,i,e),function(t,n,i){for(var e=0,r=n.Xi;e<r.length;e++){var s=r[e],u=dk(s.wi,["ebutts","tts","xml"]);eB(t,n.di,u,s.Ai,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Bi("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Pi;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Xi.some(function(t){return"id"===t.di&&t.Ai===e})});r&&nB(t,r,n,!0)}!function(t,n){var i=n.Pi[0];if(!i||"metadata"!==i.di.toLowerCase())return;var e=i.Pi[0];nB(t,e,n)}(t,n)}(r,t,i));for(var a=[],h=t.Ii,c=0;c<h.length;c++){var f=Kx(h[c],n,i,e);f&&(a=a.concat(f))}if("BODY"!==t.di.toUpperCase()){for(var l=0,v=a;l<v.length;l++){var d,w=v[l];null==(d=r)||d.appendChild(w)}return r?[r]:[]}return a}}else Kt(t)&&(r=s.createTextNode(t.Hi));return r?[r]:[]}function Jx(t,n){var i=n.Oi(fk,"id");i&&(t.id=i)}function tB(t,n,i,e){iB(t,n,i.style,e,t);for(var r=0,s=w.keys(i);r<s.length;r++){var u=s[r];eB(t,n,u,i[u],t)}}function nB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Ii.length>0?t.Ii[0]:null;return n&&Kt(n)?"data:image/png;base64,"+n.Hi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){ar(t.style,"flex");var i=n.Bi("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Bi("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function iB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,h=w.keys(e[o]);a<h.length;a++){var c=h[a],f=dk(c,["ebutts","tts","xml"]);"style"===f.toLowerCase()?iB(t,n,e[o][c],e,r):eB(t,n,f,e[o][c],r)}}}function eB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=Yx.get(e);t.style.fontFamily=s||e;break;case"fontSize":Ts(e,"px")?e=m(e)/24+"em":Ts(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,h,c=rB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],h=f[1]):a=h="100%",c&&(c.style.height=h,c.style.width=a);break;case"origin":var l=rB(n.toLowerCase())?r:t,v=e.split(" "),d=v[0],w=v[1];l&&(d||w)&&(d&&(l.style.left=d),w&&(l.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,y,p,_;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",y="rtl",_="bidi-override";break;case"tbrl":g="vertical-rl",p="upright";break;case"tblr":g="vertical-lr",p="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",y="rtl";break;case"tb":g="vertical-rl",p="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),y&&(t.style.direction=y),p&&(t.style.textOrientation=p,t.style.setProperty("-webkit-text-orientation",p)),_&&(t.style.unicodeBidi=_);break;case"textOutline":break;case"linePadding":if(Ts(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function rB(t){return"div"===t||"p"===t||"span"===t}function sB(t){ar(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var uB,oB,aB=void 0;function hB(t,n){for(var i,e=uB.AQ,r="",s=[],u=t.charAt(n.Pu),o="",a={fs:oB.TQ,Ri:"",SQ:[]};n.Pu<t.length+1;){switch(u=n.Pu<t.length?t.charAt(n.Pu):"EOF",e){case uB.AQ:switch(u){case"&":var h=t.substring(n.Pu).match(/&#?[0-9a-zA-Z]+;/);h?(r+=(i=h[0],aB||(aB=we.document.createElement("textarea")),aB.innerHTML=i,aB.value),n.Bu(h[0].length-1)):r+="&";break;case"<":if(r)return{fs:oB.EQ,nk:r};e=uB.IQ;break;case"EOF":return{fs:oB.EQ,nk:r};default:r+=u}break;case uB.IQ:switch(u){case"\t":case"\n":case"\f":case" ":e=uB.RQ;break;case".":e=uB.DQ;break;case"/":e=uB.NQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=uB.CQ;break;case">":return n.Bu(1),a;case"EOF":return a;default:r=u,e=uB.BQ}break;case uB.BQ:switch(u){case"\t":case"\f":case" ":e=uB.RQ;break;case"\n":o=u,e=uB.RQ;break;case".":e=uB.DQ;break;case">":return n.Bu(1),{fs:oB.TQ,Ri:r,SQ:[]};case"EOF":return{fs:oB.TQ,Ri:r,SQ:[]};default:r+=u}break;case uB.DQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=uB.RQ;break;case"\n":s.push(o),o=u,e=uB.RQ;break;case".":s.push(o),o="";break;case">":return n.Bu(1),s.push(o),{fs:oB.TQ,Ri:r,SQ:s};case"EOF":return s.push(o),{fs:oB.TQ,Ri:r,SQ:s};default:o+=u}break;case uB.RQ:switch(u){case"&":e=uB.OQ;break;case">":n.Bu(1);var c=o.trim();return c=c.replace(/\s/," "),{fs:oB.TQ,Ri:r,SQ:s,xQ:c};default:o+=u}break;case uB.OQ:for(var f="",l=n.Pu;">"===t.charAt(l);l++)f+=t.charAt(l);o+=f||"&",e=uB.RQ;break;case uB.NQ:switch(u){case">":return n.Bu(1),{fs:oB.LQ,Ri:r};case"EOF":return{fs:oB.LQ,Ri:r};default:r+=u}break;case uB.CQ:switch(u){case">":return n.Bu(1),{fs:oB.MQ,UQ:r};case"EOF":return{fs:oB.MQ,UQ:r};default:r+=u}}n.Bu(1)}return a}function cB(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.documentElement,e=s.body,u=i.clientLeft||e.clientLeft||0,o=r.pageXOffset||e.scrollLeft,a=n.left+o-u,h=i.clientTop||e.clientTop||0,c=r.pageYOffset||e.scrollTop,f=n.top+c-h;return{left:g.round(a),top:g.round(f)}}function fB(t,n,i,e){if(void 0===e&&(e=0),t&&n){t.style.left="0px";var r=t.getClientRects(),s=n.getClientRects();if(0!==r.length&&0!==s.length){var u=r[0],o=s[0],a=u.width/2+u.left;!function(t,n,i,e){void 0===e&&(e=0);!function(t,n,i,e,r,s){void 0===s&&(s=0);var u=t.getClientRects();if(r&&u.length>0){var o=u[0],a=r[i]+s-o[i],h=r[e]-s-o[e];n=Ft(n,a,h)}t.style[i]=n+"px"}(t,n,"left","right",i,e)}(t,o.width/2+o.left-a,i,e)}}}function lB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.AQ="Data",t.IQ="Tag",t.BQ="StartTag",t.DQ="StartTagClass",t.RQ="StartTagAnnotation",t.OQ="CharRefInAnnotation",t.NQ="EndTag",t.CQ="TimestampTag"}(uB||(uB={})),function(t){t.EQ="string",t.TQ="starttag",t.LQ="endtag",t.MQ="timestamp"}(oB||(oB={}));var vB,dB=function(){function t(t,n,i,e){this.XQ=void 0,this.FQ=void 0,this.Bk=void 0,this.dT=void 0,this.XQ=t,this.FQ=n,this.Bk=i,this.dT=e}var n=t.prototype;return n.HQ=function(t){return this.XQ<t.zQ&&this.zQ>t.XQ&&this.FQ<t.VQ&&this.VQ>t.FQ},n.xy=function(t){return this.XQ<=t.XQ&&t.zQ<=this.zQ&&this.FQ<=t.FQ&&t.VQ<=this.VQ},n.Lu=function(){return new t(this.XQ,this.FQ,this.Bk,this.dT)},T(t,[{key:"zQ",get:function(){return this.XQ+this.Bk},set:function(t){this.XQ=t-this.Bk}},{key:"VQ",get:function(){return this.FQ+this.dT},set:function(t){this.FQ=t-this.dT}}]),t}(),wB={$M:Wx.WHITE,JM:"sans-serif",tU:"100%",nU:"rgba(0,0,0,0.8)",iU:Wx.TRANSPARENT,eU:"none",aU:"visible",rU:void 0,sU:void 0,uU:void 0,oU:void 0},gB="theoplayer-webvtt-region-",mB="theoplayer-webvtt-styling-",yB="theoplayer-webvtt-voice-",pB="theoplayer-webvtt-default-style",_B=5.23,bB=1.14,kB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,wB)||this).WQ=Xr(),s.GQ=IB(3),s}E(n,t);var i=n.prototype;return i.Kj=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,cr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.wQ.JM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(pB))return;for(var t=[],n=0;n<OB.length;n++){var i=OB[n],e=i[0],r=i[1];t.push("."+mB+e+" { color: "+r+" !important; }"),t.push("."+mB+"qQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("YQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=pB,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.kL=function(){this.OD.appendChild(this.GQ),t.prototype.kL.call(this)},i.Zj=function(t,n){var i=this,e=g.min(t/100,n/100),r=zx(this.wQ);this.WQ.forEach(function(t){var n=t.vk,s=t.jQ;i.QQ(s,e,r,n)}),this.QQ(this.GQ,e,r)},i.iQ=function(n){zC(this.OD,n),t.prototype.iQ.call(this,n)},i.fQ=function(t,n,i){for(var e=this,r=this.OD,s=this.OU.PO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.vk&&(Qs(u,a.vk)||u.push(a.vk))}this.WQ.forEach(function(t,n){var r=t.vk,s=t.jQ;!i&&Qs(u,r)||(nr(s),e.WQ.delete(n))});for(var h=0;h<n.length;h++){var c=n[h];!i&&c.Sk||this.Jj(c)}var f=[],l=NB(this.GQ.getBoundingClientRect());f.push.apply(f,this.ZQ(l));for(var v=0;v<u.length;v++){var d=u[v],w=void 0;this.WQ.has(d.H_)?w=this.WQ.get(d.H_).jQ:(w=RB(d,s),r.appendChild(w),this.WQ.set(d.H_,{vk:d,jQ:w})),f.push(NB(w.getBoundingClientRect()))}for(var g=0;g<t.length;g++){var m=t[g],y=this.bQ(m,f,l);void 0!==y&&f.push(y)}},i.ZQ=function(t){var n=[],i=this.wQ;if(void 0!==i.rU){var e=t.Lu();e.dT=i.rU,n.push(e)}if(void 0!==i.sU){var r=t.Lu();r.dT=i.sU,r.VQ=t.VQ,n.push(r)}return n},i.bQ=function(t,n,i){var e,r;t.vk?(r=this.WQ.get(t.vk.H_).jQ,"up"===t.vk.Nk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.GQ;var s=null==(e=this.$j(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.KQ(t),r.appendChild(s),t.vk||(t.lk?function(t,n,i,e){var r=CB(t),s=r?i.dT:i.Bk,u=y(getComputedStyle(n).lineHeight);if(0===u)return;var o=NB(n.getBoundingClientRect()),a=g.round(z_(t));"rl"===t.dk&&(a=-(a+1));var h=u*a;"rl"===t.dk&&(h=h-o.Bk+u);a<0&&(h+=s,u=-u);r?o.FQ+=h:o.XQ+=h;var c=o.Lu(),f=!1;for(;!i.xy(o)||DB(o,e);)if(r)if(u<0&&o.FQ<i.FQ||u>0&&o.VQ>i.VQ){if(o.FQ=c.FQ,f)break;u=-u,f=!0}else o.FQ+=u;else if(u<0&&o.XQ<i.XQ||u>0&&o.zQ>i.zQ){if(o.XQ=c.XQ,f)break;u=-u,f=!0}else o.XQ+=u;r?n.style.top=(o.FQ-i.FQ)/i.dT*100+"%":n.style.left=(o.XQ-i.XQ)/i.Bk*100+"%"}(t,s,i,n):function(t,n,i,e){var r=NB(n.getBoundingClientRect());if(0===r.Bk||0===r.dT)return;CB(t)?"center"===t.hk?r.FQ-=r.dT/2:"end"===t.hk&&(r.FQ-=r.dT):"center"===t.hk?r.XQ-=r.Bk/2:"end"===t.hk&&(r.XQ-=r.Bk);var s,u=r.Lu(),o=u,a=1,h=!1;s=""===t.dk?[vB.POS_Y,vB.NEG_Y,vB.POS_X,vB.NEG_X]:"lr"===t.dk?[vB.POS_X,vB.NEG_X,vB.POS_Y,vB.NEG_Y]:[vB.NEG_X,vB.POS_X,vB.POS_Y,vB.NEG_Y];var c=y(getComputedStyle(n).lineHeight)/4;if(c>0){for(var f=0;f<s.length&&!h;f++){for(;!xB(r,i,s[f],.01)&&(!i.xy(r)||DB(r,e));)PB(r,s[f],c);if(i.xy(r)){o=r.Lu(),h=!0;break}var l=(v=r,d=i,w=void 0,m=void 0,void 0,w=g.max(0,g.min(v.zQ,d.zQ)-g.max(v.XQ,d.XQ)),m=g.max(0,g.min(v.VQ,d.VQ)-g.max(v.FQ,d.FQ)),w*m/(v.Bk*v.dT));a>l&&(o=r.Lu(),a=l),r=u.Lu()}i.xy(r)||(o=u.Lu())}var v,d,w,m;n.style.left=(o.XQ-i.XQ)/i.Bk*100+"%",n.style.top=(o.FQ-i.FQ)/i.dT*100+"%"}(t,s,i,n)),this.lQ(t,[s])),!t.vk)return NB(s.getBoundingClientRect())},i.KQ=function(t){for(var n=new Jo,i=t.nk,e=this.JQ(t),r={$Q:void 0,gy:e},u=r,o="",a="",h=[r],c=[],f=[];n.Pu<i.length;){var l=hB(i,n);if(l.fs===oB.EQ){var v=s.createElement("span");lB(v,l.nk),AB(v,h),""!==o&&(v.lang=o),this.tZ(v,a),u.gy.appendChild(v)}else if(l.fs===oB.TQ){var d=l.Ri.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u.gy.appendChild(w),u={$Q:l,gy:w},h.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.$Q)?void 0:g.Ri.toLowerCase())){var m=s.createElement("rt");u.gy.appendChild(m),u={$Q:l,gy:m},h.push(u)}break;case"c":case"v":u={$Q:l,gy:u.gy},h.push(u);break;case"font":var y,p=null==(y=l.xQ)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);p&&(a=p[1],f.push(a),u={$Q:l,gy:u.gy},h.push(u));break;case"lang":var _;o=null!=(_=l.xQ)?_:"",c.push(o)}}else if(l.fs===oB.LQ){var b,k=l.Ri.toLowerCase(),A=null==(b=u.$Q)?void 0:b.Ri.toLowerCase();A===k?(h.pop(),u=h[h.length-1],"font"===k&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===k?(h.pop(),h.pop(),u=h[h.length-1]):"lang"===k&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(l.fs===oB.MQ){var T=l.UQ,S=new Jo;try{Bb(T,S)}catch(t){ct("ERROR collecting timestamp",t)}}}return e},i.tZ=function(t,n){var i=this.wQ,e=this._Q;i.nU&&(t.style.background=i.nU);var r=e.$M||n||i.$M;r&&(t.style.color=r)},i.QQ=function(t,n,i,e){if(e){var r=TB(e,n);t.style.height=r*i+"px",t.style.left=SB(e)+"%",t.style.top=EB(e,n)+"px"}t.style.fontSize=_B*n*i+"px"},i.JQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.ek,function(t,n){"rl"===n.dk?t.style.writingMode="vertical-rl":"lr"===n.dk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=q_(n);CB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=W_(n),s=V_(n),u=q_(n);if(CB(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.lk?0:z_(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.lk?0:z_(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.wQ.iU;i&&(n.style.background=i);var e=this.wQ.$M;return e&&(n.style.color=e),n.style.textShadow=Gx(this.wQ.eU),n},n}(qx);function AB(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.$Q){for(var r=0,s=e.$Q.SQ;r<s.length;r++){var u=s[r];sr(t,mB+u)}"v"===e.$Q.Ri.toLowerCase()&&e.$Q.xQ&&sr(t,yB+e.$Q.xQ)}}}function TB(t,n){return t.Ik*(_B*n)*bB}function SB(t){return t.Ck-t.Rk*t.Bk/100}function EB(t,n){var i=t.Pk,e=t.Dk*TB(t,n)/100;return g.max(0,i-e)}function IB(t){var n=s.createElement("div");return n.className=gB+"default",cr(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=_B*t+"px",n.style.lineHeight=bB+"em",n}function RB(t,n){var i=IB(n);i.className=gB+t.H_;var e=t.Bk,r=TB(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=SB(t)+"%",i.style.right="",i.style.top=EB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function CB(t){return""===t.dk}function DB(t,n){return n.some(function(n){return t.HQ(n)})}function NB(t){return new dB(t.left,t.top,t.width,t.height)}function PB(t,n,i){switch(n){case vB.POS_X:t.XQ+=i;break;case vB.NEG_X:t.XQ-=i;break;case vB.POS_Y:t.FQ+=i;break;case vB.NEG_Y:t.FQ-=i}}function xB(t,n,i,e){switch(i){case vB.POS_X:return t.zQ>n.zQ+e;case vB.NEG_X:return t.XQ<n.XQ-e;case vB.POS_Y:return t.VQ>n.VQ+e;case vB.NEG_Y:return t.FQ<n.FQ-e}}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(vB||(vB={}));var BB,OB=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(BB||(BB={}));var LB={$M:Wx.WHITE,JM:Vx.yQ,tU:"100%",nU:Wx.BLACK,iU:"transparent",eU:"none",nZ:BB.FONT_REGULAR,aU:"visible",rU:void 0,sU:void 0,uU:void 0,oU:void 0},MB=[{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.GREEN,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.GREEN,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.BLUE,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.BLUE,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.CYAN,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.CYAN,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.RED,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.RED,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.YELLOW,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.YELLOW,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.MAGENTA,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.MAGENTA,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.WHITE,nZ:BB.FONT_ITALICS,eZ:0},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE_ITALICS,eZ:0},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:0},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:0},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:4},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:4},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:8},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:8},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:12},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:12},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:16},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:16},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:20},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:20},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:24},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:24},{iZ:Wx.WHITE,nZ:BB.FONT_REGULAR,eZ:28},{iZ:Wx.WHITE,nZ:BB.FONT_UNDERLINE,eZ:28}],jB=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function FB(t,n){return i=t.rZ,e=n.rZ,i.Mk(e)||Hs(t.kS,n.kS);var i,e}var UB=32,HB=function(){function t(t,n,i){this.sZ=void 0,this.uZ=t,this.oZ=n,this.xj=i}var n=t.prototype;return n.aZ=function(){return this.sZ=this.hZ(),this.cZ(),this.fZ(),this.sZ},n.hZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.vZ/UB*this.oZ.lZ*100+"%",t.style.height=1.2*this.dZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.oZ.wZ?"calc(1em - 1ch)":"";var n=this.xj.JM;n&&(t.style.fontFamily=n);var i=this.xj.iU;return i&&(t.style.backgroundColor=i),t},n.cZ=function(){if(this.sZ){var t=this.gZ._Z/15*100,n=this.gZ.eZ/UB*100,i=(UB-this.mZ.eZ-1)/UB*100,e=(15-this.mZ._Z-1)/15*100;this.oZ.yZ||(n=i=1,this.sZ.style.width="98%"),e<t?this.sZ.style.bottom=e*this.oZ.lZ+"%":this.sZ.style.top=t*this.oZ.lZ+"%",i<n?this.sZ.style.right=i+"%":this.sZ.style.left=n+"%"}},n.fZ=function(){for(var t=this.uZ.kZ.sort(XB),n=0;n<t.length;n++)this.bZ(t[n-1],t[n]),this.pZ(t[n]);this.bZ(t[t.length-1],void 0)},n.pZ=function(n){var i,e=Xx(this.xj,n.AZ),r=t.TZ(e);lB(r,n.SZ),null==(i=this.sZ)||i.appendChild(r)},t.TZ=function(t){var n=s.createElement("span");n.style.display="inline-block",t.nZ!==BB.FONT_ITALICS&&t.nZ!==BB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.nZ!==BB.FONT_UNDERLINE&&t.nZ!==BB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.$M;i&&(n.style.color=i);var e=t.nU;return e&&(n.style.backgroundColor=e),n.style.textShadow=Gx(t.eU),n.style.height="1.2em",n},n.bZ=function(t,n){var i=t?t.EZ._Z:this.uZ.IZ._Z,e=n?n.IZ._Z:this.uZ.EZ._Z,r=t?t.EZ.eZ:this.uZ.IZ.eZ,s=n?n.IZ.eZ:this.uZ.EZ.eZ;i<e&&(!n||t&&t.IZ._Z!==n.IZ._Z?this.RZ():this.DZ(this.uZ.EZ.eZ-r),r=this.uZ.IZ.eZ),r<s&&(n?this.DZ(s-r):this.RZ())},n.RZ=function(){var t,n=s.createElement("br");null==(t=this.sZ)||t.appendChild(n)},n.DZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",lB(i,Es(" ",t)),null==(n=this.sZ)||n.appendChild(i)}},T(t,[{key:"gZ",get:function(){return this.uZ.IZ}},{key:"mZ",get:function(){return this.uZ.EZ}},{key:"vZ",get:function(){return this.uZ.EZ.eZ-this.uZ.IZ.eZ+1}},{key:"dZ",get:function(){return this.uZ.EZ._Z-this.uZ.IZ._Z+1}}]),t}();function XB(t,n){return function(t,n){if(t._Z!==n._Z)return t._Z-n._Z;return t.eZ-n.eZ}(t.IZ,n.IZ)}var zB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,LB)||this).NZ=void 0,s.CZ=void 0,s}E(n,t);var i=n.prototype;return i.Kj=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.wQ.JM&&(n.style.fontFamily=this.wQ.JM),n},i.Zj=function(t,n){this.PZ()},i.PZ=function(){var t,n=zx(this.wQ);this.CZ={lZ:(t=100*n)/100,wZ:t<=100,yZ:t<=150};var i=this.BZ/UB;this.NZ=i*n,this.OD.style.fontSize=this.NZ+"px"},i.fQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Sk||this.Jj(r)}for(var s=0;s<t.length;s++){var u=t[s];this.bQ(u)}},i.bQ=function(t){this.CZ&&this.CZ.yZ?this.OZ(80):this.OZ(100),this.PZ();var n=this.$j(t);n||(n=this.pQ(t),this.lQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.OD.appendChild(r)}},i.pQ=function(t){var n=this;return t.nk.map(function(t){return new HB(t,n.CZ,n.wQ).aZ()})},i.OZ=function(t){var n=(100-t)/2;this.OD.style.left=n+"%",this.OD.style.width=t+"%"},T(n,[{key:"BZ",get:function(){var t=this.OD.offsetWidth;return this.CZ&&this.CZ.yZ||(t*=.8),t}}]),n}(qx),VB=function(){function t(t,n,i,e,r){var s=this;this.xZ=void 0,this.zq=void 0,this.Pm=void 0,this.LZ=void 0,this.MZ=[],this.BC=void 0,this.UZ=function(t){var n=t.i_;n.Zs(ny.w_,s.XZ),n.Zs(ny.g_,s.XZ),n instanceof ix&&(n.EG=s.EG),s.FZ(n)},this.XZ=function(t){var n=t.i_;s.FZ(n)},this.HZ=function(t){var n=t.i_;n.tu(ny.w_,s.XZ),n.tu(ny.g_,s.XZ),s.zZ(n)},this.VZ=function(){for(var t=s.EG,n=0,i=s.Pm.N_;n<i.length;n++){var e=i[n];e instanceof ix&&(e.EG=t)}},this.WZ=function(){for(var t=0,n=s.MZ;t<n.length;t++){n[t].iQ(s.BC)}},this.GZ=function(){for(var t=0,n=s.MZ;t<n.length;t++){var i=n[t];i.iQ(Ur({},i.rQ(),{aU:"hidden"}))}},this.qZ=function(){for(var t=0,n=s.MZ;t<n.length;t++){var i=n[t];i.iQ(Ur({},i.rQ(),{aU:"visible"}))}},this.xZ=t,this.zq=n,this.Pm=i,this.LZ=r,this.BC=e,this.Pm.Zs(Zm.Qw,this.UZ),this.Pm.Zs(Zm.Kw,this.HZ),this.Pm.Zs(ny.l_,this.XZ),this.LZ.Zs(cE.l_,this.VZ),this.BC.Zs("d_",this.WZ),this.VZ()}var n=t.prototype;return n.YZ=function(t){for(var n=0,i=this.MZ;n<i.length;n++){var e=i[n];if(e.i_===t)return e}},t.jZ=function(t){switch(t.fs){case k_.TTML:case k_.SRT:case k_.WEBVTT:case k_.CEA608:return!0}return!1},n.QZ=function(t){switch(t.fs){case k_.TTML:return new Zx(t,this.xZ,t.W_,this.zq);case k_.SRT:case k_.WEBVTT:return new kB(t,this.xZ,t.W_,this.zq);case k_.CEA608:return new zB(t,this.xZ,t.W_,this.zq)}},n.ZZ=function(t){var n=this.YZ(t);n||(n=this.QZ(t))&&(n.kL(),n.iQ(this.BC),this.MZ.push(n),t.eg===Py.Z_&&n.hQ())},n.zZ=function(t){for(var n=this.MZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.i_===t&&(e.xd(),Ys(n,i))}},n.FZ=function(n){Uk(n.V_)&&t.jZ(n)&&(n.ag===b_.ERROR?this.zZ(n):this.ZZ(n))},n.D_=function(){for(var t=0,n=this.MZ;t<n.length;t++){var i=n[t];i.i_.tu(ny.w_,this.XZ),i.i_.tu(ny.g_,this.XZ),i.xd()}Zs(this.MZ)},n.xd=function(){this.D_();for(var t=0,n=this.MZ;t<n.length;t++){n[t].xd()}this.Pm.tu(Zm.Qw,this.UZ),this.Pm.tu(Zm.Kw,this.HZ),this.Pm.tu(ny.l_,this.XZ),this.LZ.tu(cE.l_,this.VZ),this.BC.tu("d_",this.WZ)},T(t,[{key:"EG",get:function(){return this.LZ.bC}}]),t}();function WB(t){var n=new MR,i=function(t){var n=[];return OR.tx(t)&&n.push(new OR(t)),LR.tx(t)&&n.push(new LR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.ux(r)}n.sx(i[0])}return n}var qB,GB=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).KZ=void 0,s.JZ=void 0,s.$Z=void 0,s.$Z=WB(n),s.KZ=new Hx,s.JZ=new VB(s.KZ.gy,s.OU,s.Um,s.LU,s.YD),s}E(n,t);var i=n.prototype;return i.$m=function(){return this.Vc},i.xs=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.$Z.xd(),this.KZ.xd(),this.JZ.xd(),n.next=5,Fr.awrap(t.prototype.xs.call(this));case 5:case"end":return n.stop()}},null,this,null,qe)},i.Jm=function(){t.prototype.Jm.call(this),this.KZ.Jm()},i.Km=function(){t.prototype.Km.call(this),this.KZ.Km()},i.Dj=function(n){t.prototype.Dj.call(this,n),this.KZ.Dj(n)},T(n,[{key:"OD",get:function(){return this.Vc}},{key:"im",get:function(){return this.Vc.videoHeight}},{key:"um",get:function(){return this.Vc.videoWidth}},{key:"YD",get:function(){return this.$Z}}]),n}(Nx);!function(t){t.tK="HELLO",t.nK="HI_THERE",t.iK="INITIALIZE",t.eK="APPEND_INIT",t.rK="APPEND_DATA",t.sK="ACK",t.uK="REMOVE",t.oK="DESTROY_SESSION"}(qB||(qB={}));var $B=function(){function t(){this.we=void 0,this.Hc=void 0,this.fX=new hD}var n=t.prototype;return n.aK=function(t){var n=this;return this.fX.tX(function(t){var i,e,r,s,u,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(cu(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){h.next=7;break}return h.next=7,Fr.awrap(Ym(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){h.next=10;break}return h.next=10,Fr.awrap(Ym(o.serviceWorker.controller,"activate",t));case 10:return s={kind:qB.tK,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.we=e,h.prev=15,h.next=18,Fr.awrap(Ym(e,"message",t));case 18:if(u=h.sent,(a=u.data).kind===qB.nK){h.next=23;break}throw new l("Could not set up message channel");case 23:n.Hc=a.sessionId,h.next=30;break;case 26:throw h.prev=26,h.t0=h.catch(15),hu(h.t0)&&n.hK(),h.t0;case 30:case"end":return h.stop()}},null,null,[[15,26]],qe)},t)},n.cK=function(t,n){var i=this;return this.we,this.fX.tX(function(){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.we){r.next=2;break}throw new l("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.we.postMessage(t,n),r.next=7,Fr.awrap(Ym(i.we,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,qe)})},n.fK=function(){var t=this;return this.fX.tX(function(){return t.hK()})},n.hK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.we){var t={kind:qB.oK};this.we.postMessage(t),this.we.close(),this.we=void 0}},t}(),YB=function(){function t(){this.vK=K_.zb}var n=t.prototype;return n.lK=function(t,n){var i=t.qk(n);this.vK=i.Lk(this.dK)?this.vK:i},n.wK=function(t){this.vK=t},T(t,[{key:"dK",get:function(){return this.vK}}]),t}(),QB=function(t){function n(n,i){var e;return(e=t.call(this)||this)._K=void 0,e.gK=void 0,e.ra=void 0,e.fX=new hD,e.mK=!1,e.yK=!1,e.iO=n,e.kK=i,e}E(n,t);var i=n.prototype;return i.AV=function(t,n){},i.TV=function(t,n){},i.WX=function(){return this.yK},i.SV=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.sV=function(t,n){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,qe)},i.Yz=function(t,i,e){var r,s,u=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs===OD.QX){i.next=2;break}throw new l("Streaming or opaque segments are not supported yet.");case 2:return r=t.Hi,s=function(){var t,i,e,s,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=ok.MA(new DataView(r.buffer)),(i=tk(t,fb.Vp)).length){c.next=4;break}throw new l("Moof boxes not found");case 4:return e=u.ra,s=n.bK(i,e),o=u.pK(i,e),a=r.buffer,h={kind:qB.rK,mimeType:u.iO,segment:r,startPts:ub.jb(s).ip(),totalDuration:ub.jb(o).ip()},c.next=11,Fr.awrap(u.kK.cK(h,[a]));case 11:void 0===u._K&&(u._K=s),void 0===u.gK&&(u.gK=s),u.gK=u.gK.Oy(o),u.Qs(new Eu(DD.YX));case 15:case"end":return c.stop()}},null,null,null,qe)},i.abrupt("return",this.fX.tX(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cu(t),n.prev=1,u.mK=!0,n.next=5,Fr.awrap(s());case 5:return n.prev=5,u.mK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},e));case 5:case"end":return i.stop()}},null,this,null,qe)},i.Zz=function(t,n,i){var e,r,s=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.fs===OD.QX){n.next=2;break}throw new l("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Hi,r=function(){var t,n,i,r;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=ok.MA(new DataView(e.buffer)),n=Jb(t,fb.gp)){u.next=4;break}throw new l("Moov Box not found");case 4:if(0!==n.JA.length){u.next=6;break}throw new l("Tracks not found");case 6:return s.ra=n.JA[0].oT.NA.Bb,i=e.buffer,r={kind:qB.eK,mimeType:s.iO,segment:e},u.next=11,Fr.awrap(s.kK.cK(r,[i]));case 11:s.Qs(new Eu(DD.YX));case 12:case"end":return u.stop()}},null,null,null,qe)},n.abrupt("return",this.fX.tX(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cu(t),n.prev=1,s.mK=!0,n.next=5,Fr.awrap(r());case 5:return n.prev=5,s.mK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 5:case"end":return n.stop()}},null,this,null,qe)},i.gV=function(){this.yK=!0},i.lV=function(){this.yK=!1},i.Qh=function(t,n,i){var e,r=this;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:qB.uK,mimeType:r.iO,endTime:ub.Wb(n).ip()},i.next=3,Fr.awrap(r.kK.cK(t));case 3:r._K=void 0,r.gK=void 0,r.Qs(new Eu(DD.YX));case 6:case"end":return i.stop()}},null,null,null,qe)},t.abrupt("return",this.fX.tX(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return cu(t),n.prev=1,r.mK=!0,n.next=5,Fr.awrap(e());case 5:return n.prev=5,r.mK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],qe)},i));case 2:case"end":return t.stop()}},null,this,null,qe)},i.xX=function(t){return this.iO===t.Fl},i.LX=function(t){return this.iO=t.Fl,qe.resolve()},n.bK=function(t,n){if(0===t.length)throw new l("Initial Moof box not found");var i=t[0];if(0===i.JA.length)throw new l("No tracks");if(!i.JA[0].SS)throw new l("No decode time");return new K_(i.JA[0].SS.SS.toNumber(),n)},i.pK=function(t,n){var i=0;return t.forEach(function(t){t.JA.forEach(function(t){t.TS.forEach(function(t){t.CS.forEach(function(t){var n;i+=null!=(n=t.Qg)?n:0})})})}),new K_(i,n)},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.next=3,Fr.awrap(this.fX.xd());case 3:case"end":return t.stop()}},null,this,null,qe)},T(n,[{key:"wy",get:function(){return void 0===this._K||void 0===this.gK?lE.yC():new lE([this._K.Fb,this.gK.Fb])}},{key:"rc",get:function(){return{Fl:this.iO}}},{key:"DV",get:function(){return u_.vd}},{key:"KB",get:function(){return this.iO}},{key:"NV",get:function(){return lE.yC()}},{key:"oL",get:function(){return 30},set:function(t){}},{key:"fL",get:function(){return 30},set:function(t){}},{key:"vx",get:function(){return this.mK}},{key:"AK",get:function(){return this._K}},{key:"$y",get:function(){return this.gK}}]),n}(Tu),ZB=function(){function t(t,n){this.Pc=void 0,this.uW=void 0,this.oW=void 0,this.Pc=t,this.oW=Ws(n,function(t){return Boolean(t.KB.match(/video/))}),this.uW=Ws(n,function(t){return Boolean(t.KB.match(/audio/))}),this.TK()}t.SK=function(n,i){for(var e=[],r=0;r<n.yW.length;r++){var s=n.yW[r].Fl;e.push(new QB(s,i))}return new t(n,e)};var n=t.prototype;return n.TK=function(){},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(qe.all([this.uW,this.oW].filter(H).map(function(t){return t.xs()})));case 2:case"end":return t.stop()}},null,this,null,qe)},n.wW=function(t){},n.mW=function(t,n,i,e){},n.gV=function(){var t,n;null==(t=this.uW)||t.gV(),null==(n=this.oW)||n.gV()},n.lV=function(){var t,n;null==(t=this.uW)||t.lV(),null==(n=this.oW)||n.lV()},n.xX=function(t){return t===this.Pc},n.LX=function(t){return this.Pc=t,qe.resolve()},T(t,[{key:"EK",get:function(){return[this.uW,this.oW].filter(H)}},{key:"iW",get:function(){return this.uW}},{key:"wy",get:function(){return CN(this)}},{key:"rc",get:function(){return this.Pc}},{key:"Qg",get:function(){return 0}},{key:"WX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.uW)?void 0:n.WX())||t,s=null==(i=null==(e=this.oW)?void 0:e.WX())||i;return r&&s}},{key:"Ny",get:function(){return new lE([0,1/0])}},{key:"eW",get:function(){return this.oW}},{key:"Mm",get:function(){throw new l("Not implemented")}}]),t}(),KB=K_.eb,JB=new K_(-1/0),tO=K_.zb,nO=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Mk=function(t,n){return t.zk(n)?Os.Ds:t.Tk(n)?Os.Is:Os.Rs},i.Oy=function(t,n){return t.Oy(n)},i.qk=function(t,n){return t.qk(n)},i.Hk=function(t,n){return t.Hk(n)},i.YN=function(){return KB},i.jN=function(){return tO},i.JN=function(){return JB},n._C=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new K_(t.start(e)),new K_(t.end(e)));return new n(i)},n.IK=function(t){for(var i=[],e=[],r=0;r<t.C_;r++)i.push(new K_(t.LN(r))),i.push(new K_(t.UN(r))),e.push(t.MN(r)),e.push(t.XN(r));return new n(i,e)},n.mC=function(t){return new n([t,t],[!0,!0])},i.GN=function(t,i){return new n(t,i)},i.VN=function(t){return t.Fb},n.yC=function(){return iO},n}(fE),iO=new nO([]),eO=function(t){function n(n){var i;return(i=t.call(this)||this).RK=!0,i.kK=new $B,i.DK=new YB,i.uD=void 0,i.Gq=void 0,i.NK=!0,i.CK=new na,i.RC=!1,i.eY=qe.resolve(),i.rY=new ou,i.PK=!0,i.uY=lE.yC(),i.$Z=void 0,i.BK=void 0,i._Y=!1,i.vD=void 0,i.xK=function(){i.$g||i.LK.C_<=0||i.wy.C_<=0||i.DK.lK(new K_(i.wy.UN(i.wy.C_-1)),i.LK.UN(i.LK.C_-1))},i.MK=function(){i.Qs(new Ep(i.jg))},i.UK=function(){i.Qs(new Sp(i.jg,i._y))},i.XK=function(){i.Qs(new Tp(i.jg,i.tm))},i.FK=function(){i.Qs(new Dp(i.jg,i.hm))},i.HK=function(){i.Qs(new Ap(i.Qg))},i.zK=function(){i.Qs(new pA(i.jg))},i.VK=function(){i.xu(i.jg)},i.WK=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.PK&&i.Qs(new yp(i.jg)),i.NK=!1,i.PK=!0;case 3:case"end":return t.stop()}},null,null,null,qe)},i.GK=function(){i.NK=!0,i.Qs(new mp(i.jg))},i.BK=n,i.Gq=new FN(Jt(i)),i.BK.setAttribute("id","player_video"),i.BK.setAttribute("x-webkit-airplay","deny"),i.BK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.BK.playsInline=!0,i.BK.style.width="100%",i.BK.style.height="100%",i.qK(),i.YK(),i.$Z=WB(i.BK),i}E(n,t);var e=n.prototype;return e.qK=function(){this.BK.addEventListener("timeupdate",this.xK),this.BK.addEventListener("ended",this.MK),this.BK.addEventListener("timeupdate",this.UK),this.BK.addEventListener("ratechange",this.XK),this.BK.addEventListener("volumechange",this.FK),this.BK.addEventListener("durationchange",this.HK),this.BK.addEventListener("playing",this.zK),this.BK.addEventListener("seeking",this.VK),this.BK.addEventListener("play",this.WK),this.BK.addEventListener("pause",this.GK)},e.jK=function(){this.BK.removeEventListener("timeupdate",this.xK),this.BK.removeEventListener("ended",this.MK),this.BK.removeEventListener("timeupdate",this.UK),this.BK.removeEventListener("ratechange",this.XK),this.BK.removeEventListener("volumechange",this.FK),this.BK.removeEventListener("durationchange",this.HK),this.BK.removeEventListener("playing",this.zK),this.BK.removeEventListener("seeking",this.VK),this.BK.removeEventListener("play",this.WK),this.BK.removeEventListener("pause",this.GK)},e.YK=function(){this.Gq.Zs(wp.w_,this.js)},e.QK=function(){this.Gq.tu(wp.w_,this.js)},e.xu=function(t,n){this.rY.Hs(),this.rY=new ou,this.eY=this.vj(t,this.eY,this.rY.Ws).catch(K)},e.vj=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.uY=this.Ry,r=null==(e=this.uD)?void 0:e.EK){u.next=4;break}return u.abrupt("return");case 4:return s=g.max.apply(g,r.map(function(t){return t.AK?t.AK.Fb:1/0})),this.RC=!0,this.Qs(new Rp(t)),u.next=9,Fr.awrap(n.catch(K));case 9:if(cu(i),u.prev=10,this.RK||this.ZK(),this.BK.load(),this.NK){u.next=17;break}return this.PK=!1,u.next=17,Fr.awrap(vu(this.BK.play(),i));case 17:if(!(this.ag<Ky.Xg)){u.next=22;break}return u.next=20,Fr.awrap(this.Gq.au(wp.w_,i));case 20:u.next=17;break;case 22:this.CK.Wu(),this.RK=!1,this.RC=!1,this.Qs(new Cp(this.jg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.CK.Gu(u.t0),u.t0;case 32:return u.prev=32,this.KK(),this.DK.wK(new K_(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],qe)},e.Hm=function(){this.NK=!0,this.BK.pause()},e.Fm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.NK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.BK.src){t.next=9;break}return this.Ij(),t.next=7,Fr.awrap(this.CK.Fu);case 7:t.next=11;break;case 9:return t.next=11,Fr.awrap(this.BK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.NK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],qe)},e.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.kK&&this.kK.fK().catch(K),this.rY.Hs(),this.jK(),this.QK(),this.Gq.xs(),this.$s();case 6:case"end":return t.stop()}},null,this,null,qe)},e.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.kK&&this.kK.fK().catch(K),this.rY.Hs(),this.BK.removeAttribute("src"),this.BK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.BK.removeAttribute("x-airplay-deny"),this.BK.load(),this.Gq.D_(),this.uY=lE.yC();case 8:case"end":return t.stop()}},null,this,null,qe)},e.Ij=function(){this.Rj||(aO(this.BK,i.Lr),this._Y=!0)},e.ZK=function(){var t,n=this.BK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.BK.videoWidth/this.BK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.BK.style.width=i+"px",this.BK.style.height=e+"px",this.BK.style.marginLeft=(r-i)/2+"px",this.BK.style.marginTop=(u-e)/2+"px",this.BK.style.backgroundColor="black"}},e.KK=function(){this.BK.style.width="100%",this.BK.style.height="100%",this.BK.style.marginLeft="",this.BK.style.marginTop="",this.BK.style.backgroundColor=""},e.GD=function(t,n,i,e){},e.SE=function(t,n,i,e,r,s){},e.VX=function(t){},e.iN=function(){return IC(this.BK)},e.Km=function(){this.BK.style.display="block"},e.Jm=function(){this.BK.style.display="none"},e.Sj=function(){},e.jh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.fs!==oA.NE){i.next=2;break}throw new l("Not yet implemented");case 2:return i.next=4,Fr.awrap(this.kK.aK());case 4:return n={kind:qB.iK,mediaBufferConfigs:t.yW.map(function(t){return t.Fl})},i.next=7,Fr.awrap(this.kK.cK(n));case 7:return this.uD=ZB.SK(t,this.kK),this.BK.preload="none",this.BK.src="https://theo.proxy/"+this.kK.Hc+"/master.m3u8",i.abrupt("return",this.uD);case 11:case"end":return i.stop()}},null,this,null,qe)},e.Ej=function(){},e.RE=function(t){},e.jD=function(){},e.nN=function(t){},e.VD=function(){return!1},e.Dj=function(t){t.appendChild(this.BK)},e.$m=function(){return this.BK},e.ij=function(){},e.ly=function(){},T(n,[{key:"OD",get:function(){return this.BK}},{key:"IW",get:function(){return!1}},{key:"jg",get:function(){return this.BK.currentTime+this.DK.dK.Fb}},{key:"$g",get:function(){return this.BK.paused}},{key:"hm",get:function(){return this.BK.volume},set:function(t){this.BK.volume=t}},{key:"tm",get:function(){return this.BK.playbackRate},set:function(t){this.BK.playbackRate=t}},{key:"JK",get:function(){return this.BK.defaultPlaybackRate}},{key:"wy",get:function(){var t,n;return null!=(t=null==(n=this.uD)?void 0:n.wy)?t:lE.yC()}},{key:"LK",get:function(){return nO._C(this.BK.buffered)}},{key:"Ry",get:function(){var t=lE.gC(this.$K);return this.uY.nC(t.Bu(this.DK.dK.Fb))}},{key:"$K",get:function(){return nO._C(this.BK.played)}},{key:"nm",get:function(){return this.RC}},{key:"Qg",get:function(){return this.BK.duration}},{key:"Jg",get:function(){return this.BK.muted},set:function(t){this.BK.muted=t}},{key:"AZ",get:function(){return this.BK.style}},{key:"Cj",get:function(){return Ur({},RD,{AX:!0,TX:300})}},{key:"ag",get:function(){return this.Gq.ag}},{key:"im",get:function(){return this.BK.videoHeight}},{key:"um",get:function(){return this.BK.videoWidth}},{key:"Zg",get:function(){return this.BK.ended}},{key:"dT",get:function(){return 0}},{key:"Bk",get:function(){return 0}},{key:"yy",get:function(){return!1}},{key:"Rj",get:function(){return this._Y}},{key:"_y",get:function(){}},{key:"OU",get:function(){}},{key:"mu",get:function(){}},{key:"YD",get:function(){return this.$Z}},{key:"Ny",get:function(){return this.uD?this.uD.Ny:lE.yC()}},{key:"eN",get:function(){}},{key:"Um",get:function(){}},{key:"LU",get:function(){}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"Nj",get:function(){return"block"===this.BK.style.display}},{key:"xD",get:function(){return this.vD},set:function(t){this.vD=t}},{key:"Hq",get:function(){}}]),n}(Tu),rO=2,sO=[u_.Sd,u_.Ed];function uO(t){var n=s.createElement(t);return lr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),oO(n),n}function oO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),vr(t),t.pause(),t.playbackRate=1,t.preload=rE.pN,t.controls=!1,t.style.display="none",lr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function aO(t,n){if(n.xe){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Y(e)&&yu(e),t.pause()}}var hO,cO;function fO(t){return{get bandwidth(){return t.FR},get codecs(){return t.qH},get id(){return t.H_},get uid(){return t.z_},get name(){return t.W_},get averageBandwidth(){return t.tJ},get label(){return t.W_},set label(n){t.W_=Ay(n)},get height(){return t.dT},get width(){return t.Bk},get frameRate(){return t.nJ},get firstFrame(){return t.iJ},get available(){return t.eJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}function lO(t){return{get bandwidth(){return t.FR},get codecs(){return t.qH},get id(){return t.H_},get uid(){return t.z_},get name(){return t.W_},get averageBandwidth(){return t.tJ},get label(){return t.W_},set label(n){if(!G(n))throw new l("Unexpected - The provided label is not a string");t.W_=n},get audioSamplingRate(){return t.rJ},get available(){return t.eJ},addEventListener:function(n,i){t.Zs(n,i)},removeEventListener:function(n,i){t.tu(n,i)}}}le=(hO={sJ:function(){function t(t,n,i,e,r){void 0===i&&(i=rO),void 0===e&&(e=sO),void 0===r&&(r=Ef()),this.uJ=void 0,this.oJ=void 0,this.ys=void 0,this.aJ=void 0,this.zq=void 0,this.BC=void 0,this.hJ=void 0,this.uJ=i,this.oJ=[].concat(e),this.ys=r,this.zq=t,this.BC=n,this.aJ=Xr(),this.cJ()}var n=t.prototype;return n.LC=function(t){for(var n=0,i=this.UC;n<i.length;n++){i[n].Dj(t)}},n.BD=function(t){var n=Ws(this.aJ.get(t),function(t){return t.eJ});if(n)return n.eJ=!1,n.fJ},n.vJ=function(t){if(!this.hJ)throw new l("Error creating iOS Safari MediaController");return this.hJ},n.KD=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.OD,i=n.tagName.toLowerCase(),r.next=4,Fr.awrap(t.D_());case 4:oO(n),(e=Ws(this.aJ.get(i)||[],function(n){return t===n.fJ}))&&(e.eJ=!0);case 7:case"end":return r.stop()}},null,this,null,qe)},n.MC=function(){for(var t=0,n=this.UC;t<n.length;t++){n[t].Ij()}},n.xd=function(){for(var t=0,n=this.UC;t<n.length;t++){var i=n[t],e=i.OD;i.xs(),oO(e),nr(e)}},n.cJ=function(){for(var t=0,n=this.oJ;t<n.length;t++){var i=n[t],e=[];this.aJ.set(i,e);for(var r=0;r<this.uJ;r++){var s=uO(i),u=i===u_.Sd?new Fx(s,this.ys,this.zq):new GB(s,this.ys,this.zq,this.BC);e.push({fJ:u,eJ:!0})}}if(j.Bn&&j.hn){var o=uO(u_.Ed);this.hJ=new eO(o)}},T(t,[{key:"UC",get:function(){for(var t=[],n=0,i=this.oJ;n<i.length;n++){var e=i[n],r=this.aJ.get(e).map(function(t){return t.fJ});t.push.apply(t,r)}return this.hJ&&t.push(this.hJ),t}}]),t}(),lJ:function(){function t(n){var i=this;this.dJ=new hD,this.wJ=function(){var n,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.DC.BD(u_.Ed),e=n.OD,s.next=4,Fr.awrap(t._J(e));case 4:return r=s.sent,s.next=7,Fr.awrap(i.DC.KD(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,qe)},this.DC=n}var n=t.prototype;return n.gX=function(){return this.dJ.tX(this.wJ)},n.jm=function(){this.DC.MC()},t._J=function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!j.En&&!j.Tn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Fr.awrap(t.gJ());case 5:return i.next=7,Fr.awrap(t.mJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Fr.awrap(t.yJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,qe)},t.mJ=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,Y(n)){e.next=4;break}return e.abrupt("return",!j.dn);case 4:return i=_u(100),e.next=7,Fr.awrap(qe.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],qe)},t.yJ=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Fr.awrap(t.mJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,qe)},t.gJ=function(){return new qe(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.xd=function(){this.dJ.xd()},t}(),kJ:{cO:function(t){we.addEventListener("beforeunload",t)},bO:function(t){we.removeEventListener("beforeunload",t)}},bJ:r}).sJ,ve=hO.lJ,de=hO.kJ,we=hO.bJ,ge=we&&we.location,me=we&&we.navigator,function(t){t.pJ="currentbufferingrenditionchange",t.AJ="TJ",t.SJ="EJ",t.IJ="RJ"}(cO||(cO={}));var vO=function(t,n){this.z_=void 0,this.DJ=void 0,this.fs=void 0,this.NJ=void 0,this.CJ=void 0,this.PJ=void 0,this.wi=void 0,this.G_=void 0,this.BJ=void 0,this.OJ=void 0,this.xJ=void 0,this.z_=w_(),this.DJ=n,this.fs=t.fs,this.NJ=t.NJ,this.CJ=t.CJ,this.PJ=t.PJ,this.wi=t.wi,this.G_=t.G_,this.BJ=t.BJ,this.OJ=t.OJ,this.xJ=void 0===t.LJ};function dO(t,n){return t.fs===n.fs&&t.wi===n.wi}function wO(t,n){return t.DJ===n.DJ}function gO(t,n){for(var i=0;i<t.length;i++){if(wO(t[i],n))return!0}return!1}var mO,yO,pO=function(t){function n(n,i){var e;return(e=t.call(this,ny.p_)||this).q_=void 0,e.i_=void 0,e.q_=n||[],e.i_=i,e}return E(n,t),n.prototype.n_=function(){return new _O(this.q_.map(function(t){return t.t_}))},n}(Jm),_O=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return E(n,t),n}(Eu);!function(t){t.MJ="alternative",t.UJ="main",t.XJ="commentary",t.FJ="",t.hE="descriptions",t.HJ="main-desc",t.zJ="translation"}(mO||(mO={})),function(t){t.MJ="alternative",t.UJ="main",t.XJ="commentary",t.FJ="",t.aE="captions",t.VJ="sign",t.rA="subtitles"}(yO||(yO={}));var bO=function(t){function n(n,i,e){var r;return(r=t.call(this,ny.k_)||this).WJ=n,r.GJ=i,r.qJ=e,r}return E(n,t),n.prototype.n_=function(){return new kO(this.WJ&&this.WJ.t_)},n}(Jm),kO=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return E(n,t),n}(Eu);function AO(t){return{FR:t.FR,$e:t.qH,dT:TO(t)?t.dT:0,fs:TO(t)?u_.Ed:u_.Sd,Bk:TO(t)?t.Bk:0}}function TO(t){var n=t;return void 0!==n.dT&&void 0!==n.Bk}var SO,EO=function(t){function n(){return t.call(this,ny.NO_QUALITY)||this}return E(n,t),n}(Eu),IO=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).My=void 0,u.oa=void 0,u.YJ=void 0,u.jJ=void 0,u.QJ=void 0,u.$w=void 0,u.Uy=void 0,u.ZJ=function(){var t=u.X_;t&&u.jJ!==t&&(u.jJ=t,u.Qs(new bO(t)))},u.KJ=function(){var t=u.F_;u.QJ!==t&&(u.QJ=t,u.JJ.Qs(new hy(Jt(u))),u.Qs(new hy(Jt(u))))},u.EN=n,u.JJ=i,u.q_=e,u.jJ=u.X_,u.QJ=u.F_;var o=e.S_(0);return u.My=null!=(r=null==o?void 0:o.$J.wi)?r:"",u.oa=null!=(s=null==o?void 0:o.$J.G_)?s:"",u.Uy=l_(),u.EN.Zs(cO.pJ,u.ZJ),u.EN.Zs(cO.AJ,u.KJ),u}E(n,t);var e=n.prototype;return e.Hy=function(t){this.F_=t},e.xd=function(){this.$s(),this.EN.tu(cO.pJ,this.ZJ),this.EN.tu(cO.AJ,this.KJ);for(var t=0,n=this.q_.N_;t<n.length;t++){n[t].xd()}this.q_.D_()},T(n,[{key:"F_",get:function(){var t=this.t$();if(!t)return!1;for(var n=0,i=this.q_.N_;n<i.length;n++){if(i[n].$J===t)return!0}return!1},set:function(t){if(t!==this.F_&&t){for(var n=this.q_.S_(0).$J,i=this.EN.n$,e=0,r=this.q_.N_;e<r.length;e++){var s=r[e];if(s.i$===i){n=s.$J;break}}this.e$(n)}}},{key:"X_",get:function(){if(this.F_)for(var t=this.EN.r$,n=0,i=this.q_.N_;n<i.length;n++){var e=i[n];if(gO(t,e.$J))return e}}},{key:"t_",get:function(){return this.$w||(this.$w=Cy(this)),this.$w}},{key:"H_",get:function(){return this.Uy.toString()}},{key:"z_",get:function(){return this.Uy}},{key:"W_",get:function(){return this.My},set:function(t){t!==this.My&&(this.My=t,this.Qs(new h_(this)))}},{key:"G_",get:function(){return this.oa}},{key:"eg",get:function(){return this.F_?"enabled":"disabled"}},{key:"Y_",get:function(){return this.YJ},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.X_?AO(n.X_):void 0;return i.Lr.Me(e,AO(t))}).filter(function(i){return n.q_.xy(t)&&i.eJ}):e=this.q_.N_.filter(function(t){return t.eJ});0!==e.length?t!==this.YJ&&(this.YJ&&Ks(this.YJ,e)||(this.YJ=t?e:void 0,this.EN.s$(e.map(function(t){return t.i$})),1===e.length&&yu(this.EN.u$(e[0].i$,!1)),this.Qs(new pO(e,this)))):this.Qs(new EO)}}]),n}(Tu),RO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.t$=function(){return this.EN.o$},i.e$=function(t){yu(this.EN.a$(t))},T(n,[{key:"V_",get:function(){return mO.UJ}}]),n}(IO),CO=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.t$=function(){return this.EN.h$},i.e$=function(t){yu(this.EN.c$(t))},T(n,[{key:"V_",get:function(){return yO.UJ}}]),n}(IO),DO=function(t){function n(n,i){var e;return(e=t.call(this)||this).eJ=!0,e.i$=n,e.$J=i,e}E(n,t);var i=n.prototype;return i.mE=function(){},i.xd=function(){this.$s()},T(n,[{key:"H_",get:function(){return String(this.i$.H_)}},{key:"z_",get:function(){return this.i$.H_}},{key:"FR",get:function(){return this.i$.FR}},{key:"tJ",get:function(){return this.i$.tJ}},{key:"W_",get:function(){return this.$J.wi}},{key:"LJ",get:function(){return this.$J.DJ.f$()}}]),n}(Tu),NO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return E(n,t),n.prototype.n_=function(){return lO(this)},T(n,[{key:"rJ",get:function(){return 0}},{key:"qH",get:function(){var t;return(null==(t=this.i$.qH)?void 0:t.GH)||""}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(DO),PO=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$w=void 0,e}return E(n,t),n.prototype.n_=function(){return fO(this)},T(n,[{key:"qH",get:function(){var t;return(null==(t=this.i$.qH)?void 0:t.WH)||""}},{key:"iJ",get:function(){return 0}},{key:"nJ",get:function(){return 0}},{key:"dT",get:function(){var t,n;return null!=(t=null==(n=this.i$.v$)?void 0:n.dT)?t:0}},{key:"Bk",get:function(){var t,n;return null!=(t=null==(n=this.i$.v$)?void 0:n.Bk)?t:0}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),n}(DO);!function(t){t.l$="FATAL",t.K_="ERROR",t.d$="WARNING",t.w$="INFO",t._$="DEBUG"}(SO||(SO={}));var xO,BO=new(function(){function t(){this.F_=function(){return!1}}var n=t.prototype;return n.g$=function(t){if(!this.F_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.m$=function(t){if(this.g$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[SO._$+" "+t+" -"].concat(e))}},n.yT=function(t){if(this.g$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[SO.w$+" "+t+" -"].concat(e))}},n.y$=function(t){if(this.g$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.gr.apply(i,[SO.d$+" "+t+" -"].concat(e))}},n.mu=function(t){if(this.g$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[SO.K_+" "+t+" -"].concat(e))}},n.k$=function(t){if(this.g$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.yr.apply(i,[SO.l$+" "+t+" -"].concat(e))}},t}()),OO="HLSPlaylistParser",LO=function(){function t(t,n,i){this.EN=t,this.b$=n,this.p$=i}var n=t.prototype;return n.A$=function(){var t,n,i=null==(t=this.EN.T$)?void 0:t.S$;if(i&&0!==i.length){for(var e=null!=(n=Ws(i,function(t){return 0!==t.E$.length&&0!==t.I$.length}))?n:i[0],r=i.filter(function(t){return t!==e}),s=0,u=e.E$;s<u.length;s++){var o=u[s],a=new a_,h=[];a.Oy(new NO(e,o)),h.push(o);for(var c=0;c<r.length;c++)for(var f=r[c],l=0,v=f.E$;l<v.length;l++){var d=v[l];if(dO(d,o)&&!gO(h,d)){a.Oy(new NO(f,d)),h.push(d);break}}this.b$.E_(new RO(this.EN,this.b$,a))}for(var w=0,g=e.I$;w<g.length;w++){var m=g[w],y=new a_,p=[];y.Oy(new PO(e,m)),p.push(m);for(var _=0;_<r.length;_++)for(var b=r[_],k=0,A=b.I$;k<A.length;k++){var T=A[k];if(dO(T,m)&&!gO(p,T)){y.Oy(new PO(b,T)),p.push(T);break}}this.p$.E_(new CO(this.EN,this.p$,y))}}else BO.y$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.R$=function(){this.D$(this.b$),this.D$(this.p$)},n.D$=function(t){for(var n=[],i=0,e=t.N_;i<e.length;i++){for(var r=e[i],s=[],u=0,o=r.q_.N_;u<o.length;u++){var a=o[u];Qs(a.i$.N$,a.$J)||s.push(a)}for(var h=0;h<s.length;h++){var c=s[h];r.q_.Qh(c),c.xd()}0===r.q_.C_&&n.push(r)}for(var f=0;f<n.length;f++){var l=n[f];t.I_(l),l.xd()}},t}(),MO=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).OC=void 0,e.OC=i,e}return E(n,t),n.prototype.ud=function(t){var n,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new hg(t),e=this.OC.iL.XR(n)){o.next=4;break}return o.abrupt("return",this.pE.ud(n));case 4:return e.eL(i.ir()/1e3),o.next=7,Fr.awrap(this.pE.ud(t));case 7:return r=o.sent,e.rL(i.ir()/1e3),s=r.Xl().pipeThrough(new Aw(new jO(e))),u={Hi:s,ud:r.ud},o.abrupt("return",new ag(u,r));case 12:case"end":return o.stop()}},null,this,null,qe)},n}(function(){function t(t){this.pE=void 0,this.pE=t}var n=t.prototype;return n.ud=function(t){return this.pE.ud(t)},n.Od=function(t){this.pE.Od(t)},n.xd=function(){this.pE.xd()},t}()),jO=function(){function t(t){this.ZM=void 0,this.C$=t}var n=t.prototype;return n.start=function(t){this.ZM=t},n.transform=function(t){this.C$.sL(i.ir()/1e3,t),this.ZM.enqueue(t)},n.flush=function(){this.C$.uL(i.ir()/1e3)},t}(),FO=function(){function t(t){this.P$=void 0,this.B$=0,this.O$=0,this.P$=g.exp(g.log(.5)/t)}var n=t.prototype;return n.x$=function(t,n){var i=g.pow(this.P$,t),e=n*(1-i)+i*this.B$;p(e)||(this.B$=e,this.O$+=t)},n.LX=function(t){var n=g.exp(g.log(.5)/t);if(n!==this.P$)if(0!==this.O$){var i=this.lK,e=1-g.pow(n,this.O$);this.B$=i*e,this.P$=n}else this.P$=n},T(t,[{key:"lK",get:function(){var t=1-g.pow(this.P$,this.O$);return this.B$/t}}]),t}();!function(t){t.L$="sample"}(xO||(xO={}));var UO=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.M$),void 0===s&&(s=n.U$),(u=t.call(this)||this).X$=void 0,u.F$=void 0,u.H$=0,u.z$=void 0,u.V$=void 0,u.V$=r,u.X$=new FO(i),u.F$=new FO(e),u.z$=s,u}E(n,t);var i=n.prototype;return i.W$=function(t,n,i){if(0!==t){var e=8*n/t;this.X$.x$(i,e),this.F$.x$(i,e),this.H$+=n,this.Qs(new Eu(xO.L$))}},i.G$=function(){return this.H$>=this.V$},T(n,[{key:"lK",get:function(){return this.G$()?g.min(this.X$.lK,this.F$.lK):this.z$}}]),n}(Tu);UO.M$=128e3,UO.U$=5e5;var HO=function(){function t(n,i,e,r){void 0===n&&(n=t.q$),void 0===i&&(i=t.Y$),void 0===e&&(e=t.U$),void 0===r&&(r=!1),this.X$=void 0,this.F$=void 0,this.j$=0,this.Q$=[],this.Z$=void 0,this.K$=6e4,this.J$=10,this.n0=void 0,this.i0=void 0,this.z$=void 0,this.e0=void 0,this.n0=n,this.i0=i,this.z$=e,this.e0=r,this.X$=new FO(n),this.F$=new FO(i)}var n=t.prototype;return n.x$=function(t){var n=i.ir(),e=t;this.e0&&void 0!==this.Z$&&n-this.Z$>=this.K$&&this.D_(),this.j$+=1,this.X$.x$(1,e),this.F$.x$(1,e),this.Q$.push(e),this.Q$.length>this.J$&&this.Q$.shift(),this.Z$=n},n.G$=function(){return void 0!==this.Z$&&i.ir()-this.Z$<=this.K$},n.D_=function(){this.X$=new FO(this.n0),this.F$=new FO(this.i0),this.j$=0,this.Q$=[],this.Z$=void 0},T(t,[{key:"lK",get:function(){return this.G$()?g.max(this.X$.lK,this.F$.lK):this.z$}}]),t}();HO.q$=2,HO.Y$=5,HO.U$=.1;var XO=function(){function t(t){this.r0=t}var n=t.prototype;return n.eL=function(t){for(var n=0,i=this.r0;n<i.length;n++){i[n].eL(t)}},n.rL=function(t){for(var n=0,i=this.r0;n<i.length;n++){i[n].rL(t)}},n.sL=function(t,n){for(var i=0,e=this.r0;i<e.length;i++){e[i].sL(t,n)}},n.uL=function(t){for(var n=0,i=this.r0;n<i.length;n++){i[n].uL(t)}},t}(),zO=function(){function t(t){this.s0=void 0,this.u0=void 0,this.s0=t}var n=t.prototype;return n.eL=function(t){this.u0=t},n.rL=function(t){this.s0.x$(t-this.u0)},n.sL=function(t){},n.uL=function(t){},t}(),VO=function(){function t(t){this.o0=void 0,this.a0=void 0,this.h0=[],this.o0=t}var n=t.prototype;return n.sL=function(t,n){if(void 0!==this.a0){var i=t-this.a0,e=this.h0.length>0?this.h0.reduce(function(t,n){return n+t},0)/this.h0.length:0;i>e/2&&i<e+e/2&&this.o0.x$(i,n.length),this.h0.push(i),this.h0.length>100&&this.h0.shift(),this.a0=t}else this.a0=t},n.eL=function(t){},n.rL=function(t){},n.uL=function(t){},t}(),WO=function(){function t(t,n){void 0===n&&(n=0),this.o0=void 0,this.c0=void 0,this.f0=new qO,this.xG=0,this.v0=0,this.o0=t,this.c0=n}var n=t.prototype;return n.eL=function(t){},n.sL=function(t,n){var e=n.byteLength,r=this.v0;this.v0=e;var s=t-this.xG;this.xG=t,this.f0.RF(n);var u=!this.f0.l0(),o=e>=this.c0;r!==i.Lr.Qe&&u&&o&&this.o0.x$(s,e)},n.rL=function(t){this.xG=t},n.uL=function(t){},t}(),qO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).d0=void 0,n.w0=!1,n}E(n,t);var i=n.prototype;return i.l0=function(){return this.w0},i.RF=function(n){this.w0=!1,t.prototype.RF.call(this,n)},i.EF=function(n,i){this.d0&&this.d0!==fb.Zp||(this.w0=!0),t.prototype.EF.call(this,n,i),this.d0=n},i.LF=function(t){return!1},i.UF=function(t){},i.XF=function(t){},n}(VD),GO=function(t){function n(i,e,r,s){return void 0===i&&(i=n.q$),void 0===e&&(e=n.Y$),t.call(this,i,e,r,s)||this}return E(n,t),n.prototype.x$=function(t,n){this.W$(t,n,t)},n}(UO);GO.q$=.5,GO.Y$=5;var $O,YO=function(){function t(t){this.o0=void 0,this._0=void 0;var n=t.FR>0?t.FR:UO.U$,i=t.HR>0?t.HR:HO.U$;this.o0=new GO(GO.q$,GO.Y$,1,n),this._0=new HO(HO.q$,HO.Y$,i)}var n=t.prototype;return n.XR=function(t){if("segment"===t.fs)return new XO([new zO(this._0),new VO(this.o0),new XO([new VO(this.o0),new WO(this.o0,1e3)])])},n.g0=function(t){this.o0=new GO(GO.q$,GO.Y$,1,t)},T(t,[{key:"FR",get:function(){return this.o0.lK}},{key:"HR",get:function(){return this._0.lK}}]),t}(),QO=function(t){function n(n){var i;return(i=t.call(this,cO.IJ)||this).mu=n,i}return E(n,t),n}(Eu),ZO=function(){function t(t){this.fJ=t}return t.prototype.VX=function(t){var n={fs:oA.CE,UD:[],yW:[{Fl:t}]};return qe.resolve(void 0!==this.fJ.VX([n]))},t}(),KO=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){return!!Qs(r,t)||1.1*t.FR<=i.FR}))},JO=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){if(Qs(r,t))return!0;for(var s=1/0,u=0,o=t.N$;u<o.length;u++){var a,h,c=o[u];s=g.min(s,null!=(a=null!=(h=c.DJ.m0)?h:c.DJ.y0)?a:1/0)}s===1/0&&(s=1);var f=3*i.HR+t.FR*s/i.FR;return t.FR<=n.FR||e>f}))},tL=function(t,n,i,e,r){return qe.resolve(Ms(t,function(t,n){return n.FR-t.FR}))},nL=function(t,n,i,e,r){return qe.resolve(t.every(function(t){return t.k0&&!p(t.k0)})?Ms(t,function(t,n){return n.k0-t.k0}):t)},iL=function(t,n,i,e,r){return qe.resolve(Ms(t,function(t,n){var i=Qs(r,t)?1:0;return(Qs(r,t)?1:0)-i}))},eL=function(t,n,i,e,r){return qe.resolve(t.filter(function(t){return!t.qH||!n.qH||(t.qH.WH?!!n.qH.WH&&(t.qH.WH.split(".")[0]===n.qH.WH.split(".")[0]&&(t.qH.GH?!!n.qH.GH&&(t.qH.GH.split(".")[0]===n.qH.GH.split(".")[0]&&t.qH.YH===n.qH.YH):!n.qH.GH)):!n.qH.WH)}))},rL=function(){function t(t){this.b0=[eL,KO,JO,tL,nL,iL],this.OC=t}var n=t.prototype;return n.p0=function(t){this.b0=t},n.A0=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t.length){h.next=2;break}throw new l("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:BO.m$("AbrEvaluator","Performing optimal variant stream selection."),r=this.T0,s=t,u=0,o=this.b0;case 6:if(!(u<o.length)){h.next=14;break}return a=o[u],h.next=10,Fr.awrap(a(s,n,r,i,e));case 10:s=h.sent;case 11:u++,h.next=6;break;case 14:if(s.length){h.next=17;break}return BO.y$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),h.abrupt("return",tu(t,function(t){return t.FR}));case 17:return h.abrupt("return",s[0]);case 18:case"end":return h.stop()}},null,this,null,qe)},T(t,[{key:"T0",get:function(){return this.OC.iL}}]),t}();function sL(t,n){return[t,void 0!==n?t+n-1:Mt]}function uL(t){return Boolean(t.oT)}function oL(t){return Boolean(t.S0)}!function(t){t[t.Sd=0]="Sd",t[t.Ed=1]="Ed",t[t.rA=2]="rA",t[t.E0=3]="E0"}($O||($O={}));var aL,hL,cL,fL=[$O.Sd,$O.Ed,$O.rA,$O.E0];function lL(t){return t?t.I0?t.Ai+"@"+t.I0.LN+"-"+(null!=(n=t.I0.C_)?n:""):""+t.Ai:"";var n}function vL(t,n){if(n===t)return!0;if(n.Ai!==t.Ai)return!1;if(!t.I0)return!0;if(n.I0){var i=sL(t.I0.LN,t.I0.C_),e=sL(n.I0.LN,n.I0.C_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function dL(t,n){return t===n||t.Ai===n.Ai&&(Boolean(t.I0)===Boolean(n.I0)&&(!t.I0||!n.I0||t.I0.LN===n.I0.LN&&t.I0.C_===n.I0.C_))}function wL(t){var n=!!t.R0||void 0;return{H_:t.H_,D0:t.D0,eN:t.eN,N0:t.N0,Qg:t.Qg,C0:t.C0,R0:n,P0:t.B0,O0:t.x0,L0:t.L0,M0:t.M0}}function gL(t,n,i,e){var r=[],s=Ws(i,function(t){return t.U0===Jr});if(void 0!==s){var u=s.Ai?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Ai.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.U0!==Jr)for(var h=0,c=_s(a.U0);h<c.length;h++){var f=c[h];r.push({ec:f,qR:a.X0?[a.X0]:[],sR:void 0})}}if(r.length)return{jE:t,F0:{H0:u,QE:s.QE},z0:r,V0:n===u_.Sd?e.slice():[],W0:n===u_.Ed?e.slice():[],xq:!1}}}}function mL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Xr();return yL(e,r,t.z0),yL(e,r,n.z0),{jE:t.jE,F0:{H0:t.F0.H0,QE:null!=(i=t.F0.QE)?i:n.F0.QE},z0:e,V0:pL(t.V0,n.V0,Qs),W0:pL(t.W0,n.W0,Qs),xq:t.xq||n.xq||!1}}function yL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ec._s,u=void 0;n.has(s)?(u=n.get(s)).qR=pL(u.qR,r.qR,_L):(u=Ur({},r),t.push(u),n.set(s,u))}}function pL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function _L(t,n){for(var i=0;i<t.length;i++){if(qu(t[i],n))return!0}return!1}function bL(t,n){var i,e=t.G0;if(e){for(var r=t.KB,s=[],u=0,o=t.qH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=gL(n||{},t.fs,e,s)}for(var h=0,c=t.q0;h<c.length;h++){i=mL(i,kL(c[h],n))}return i}function kL(t,n){return gL(n||{},t.fs,t.G0||[],[t.Fl])}function AL(t,n){switch(n.fs){case Kr.$r:return t.widevine;case Kr.Jr:return t.playready;case Kr.us:return t.fairplay;case Kr.rs:return t.clearkey}}function TL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function SL(t,n,i,e){var r,s,u,o,a,h,c,f,l;return Fr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(t){v.next=2;break}return v.abrupt("return",[]);case 2:return r=n.filter(function(t){return ks(t,"audio")}),s=n.filter(function(t){return ks(t,"video")}),u=[],o=i.map(function(t){return EL(t,e)}),v.next=8,Fr.awrap(qe.all(o));case 8:for(a=v.sent.filter(H),h=RL(a,t.preferredKeySystems),c=0;c<h.length;c++)f=h[c],l=AL(t,f.ec),"cbcs",u.push({ec:f.ec,qR:f.qR,sR:f.sR,JD:[{initDataTypes:[f.ec.ls],audioCapabilities:TL(r,"cbcs",null==l?void 0:l.audioRobustness),videoCapabilities:TL(s,"cbcs",null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return v.abrupt("return",u);case 12:case"end":return v.stop()}},null,null,null,qe)}function EL(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.LJ){s.next=2;break}return s.abrupt("return");case 2:if(t.Y0){s.next=4;break}return s.abrupt("return");case 4:if(t.Rd===hL.j0){s.next=6;break}return s.abrupt("return");case 6:if(i=IL(t.Y0)){s.next=9;break}return s.abrupt("return");case 9:if(i._s!==fs){s.next=13;break}return s.abrupt("return",{ec:i,qR:[],sR:t.LJ});case 13:return BO.yT("HLSDrmUtils","Fetching key uri "+t.LJ+"."),s.next=16,Fr.awrap(n.ud({hd:t.LJ}));case 16:return e=s.sent,s.next=19,Fr.awrap(e.Ul());case 19:return r=s.sent,s.abrupt("return",{ec:i,qR:[r],sR:void 0});case 21:case"end":return s.stop()}},null,null,null,qe)}function IL(t){return t===os?ws:t===ss?ds:t===vs?ms:void 0}function RL(t,n){var i=function(t){var i=n.indexOf(t.ec._s);return i>=0?i:n.length};return Ms(t,function(t,n){return i(t)-i(n)})}function CL(t){if("#"!==t[0])throw new l("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function DL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function NL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new l("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function PL(t){var n=ML(NL(t));if(void 0===n)throw new l("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function xL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:BO.y$(OO,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function BL(t,n){var e,r,s=xL(t);try{e=s.URI?i.Or(s.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return $O.Sd;case"VIDEO":return $O.Ed;case"SUBTITLES":return $O.rA;case"CLOSED-CAPTIONS":return $O.E0}throw new l("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(s.TYPE)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=s["GROUP-ID"],o=s.LANGUAGE,a=s["ASSOC-LANGUAGE"],h=s.NAME,c="YES"===s.DEFAULT,f="YES"===s.AUTOSELECT,v="YES"===s.FORCED,d=s["INSTREAM-ID"],w=s.CHARACTERISTICS,g=s.CHANNELS;if(u||BO.y$(OO,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),o||BO.y$(OO,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),h||BO.y$(OO,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===$O.E0?(e&&BO.y$(OO,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||BO.y$(OO,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):BO.y$(OO,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&BO.y$(OO,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!f&&(f=!0,s.AUTOSELECT&&BO.y$(OO,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),r===$O.rA&&s.FORCED&&BO.y$(OO,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{Q0:a,Z0:g,K0:w,BJ:u,CJ:f,NJ:c,PJ:v,OJ:d,G_:o,wi:h,fs:r,LJ:e}}function OL(t,n,e){var r,s,u,o=xL(t);try{r=i.Or(e,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(p(i)||p(e))throw new l("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Bk:i,dT:e}}(o.RESOLUTION),s=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();As(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:As(o,"avc")||As(o,"hvc1")||As(o,"hev1")||As(o,"dvh")?i=u:e=e?e+","+o:o}return{GH:n,WH:i,YH:e}}(o.CODECS)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var a=ML(o.BANDWIDTH),h=ML(o["AVERAGE-BANDWIDTH"]),c=ML(o.SCORE),f=ML(o["FRAME-RATE"]),v=o["HDCP-LEVEL"],d=[];if(void 0!==o["ALLOWED-CPC"]){var w=o["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var g=o["VIDEO-RANGE"],m=o.AUDIO,y=o.VIDEO,_=o.SUBTITLES,b=o["CLOSED-CAPTIONS"];if(void 0===a?BO.y$(OO,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==h&&h>a&&BO.y$(OO,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),s||BO.yT(OO,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),s&&s.WH&&void 0===u&&BO.yT(OO,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||Qs(["TYPE-0","TYPE-1","NONE"],v)||BO.y$(OO,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Qs(["SDR","PQ","HLG"],g)||BO.y$(OO,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===a)throw new l("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{J0:d,$0:m,tJ:h,FR:a,n1:b,qH:s,nJ:f,i1:v,v$:u,k0:c,e1:_,LJ:r,s1:y,u1:g}}function LL(t,n){var i=xL(t);if(!i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return OL(t,n,i.URI)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function ML(t){var n=Number(t);return p(n)?void 0:n}function jL(t,n){var i,e,r=xL(t);try{i=function(t){switch(t){case"NONE":return hL.AN;case"AES-128":return hL.o1;case"SAMPLE-AES":return hL.j0;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new l("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(r.METHOD),e=r.URI?qL(r.URI,n):void 0}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var s,u,o,a,h,c=r.KEYFORMAT,f=r.IV,v=r.KEYFORMATVERSIONS;if(i!==hL.AN){if(o=c||"identity","SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(IL(o)!==ws)throw new l("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");s=hL.j0}else s=i;u=e,a=f?ta(f):void 0,h=v?v.split("/").map(function(t){return Number(t)}):[1]}else s=hL.AN,(e||c||v||f)&&BO.y$(OO,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{Rd:s,LJ:u,a1:a,Y0:o,h1:h}}function FL(t){var n=NL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[ML(e),r]}function UL(t,n){var i=t.split("@"),e=ML(i[0]),r=i.length>1?ML(i[1]):n;if(void 0===e||void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{LN:r,C_:e}}function HL(t){if(void 0!==t)return UL(t,void 0)}function XL(t,n){return UL(NL(t),n)}function zL(t,n){var i=xL(t);try{return{Ai:qL(i.URI,n),I0:HL(i.BYTERANGE)}}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function VL(t){var n=NL(t);if(!n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Vt(i))throw new l("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function WL(t){var n,i,e,r=xL(t),s=r["START-DATE"],u=r["END-DATE"],o=ML(r["PLANNED-DURATION"]),a=ML(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=ta(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=ta(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=ta(r["SCTE35-OUT"]).buffer);var h,c,f="YES"===r["END-ON-NEXT"],v=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&As(r,"X-")&&(n[r]=s)}return n}(r),d=r.ID,g=r.CLASS;if(void 0===s)BO.y$(OO,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(h=new Date(s),c=void 0!==u?new Date(u):void 0,Vt(h)||BO.y$(OO,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+h+"."),void 0!==a){var m=new Date(h.getTime()+1e3*a);c?c.getTime()!==m.getTime()&&(BO.y$(OO,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),c=m):c=m}else c&&(a=(h.getTime()-c.getTime())/1e3);if(f&&(r.CLASS||BO.y$(OO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&BO.y$(OO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),c&&BO.y$(OO,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===d&&BO.y$(OO,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===d||void 0===h)throw new l("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{H_:d,D0:g,eN:h,N0:c,Qg:a,C0:o,x0:n,M0:i,L0:e,R0:f,B0:v}}function qL(t,n){if(void 0===t)throw new l("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Or(t,n)}function GL(t,n){var i=xL(t),e=ML(i.DURATION),r=qL(i.URI,n),s=HL(i.BYTERANGE),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===e)throw new l("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Qg:e,LJ:{Ai:r,I0:s},c1:u,f1:o}}function $L(t){var n=xL(t);return{v1:"YES"===n["CAN-BLOCK-RELOAD"],l1:ML(n["CAN-SKIP-UNTIL"]),d1:"YES"===n["CAN-SKIP-DATERANGES"],w1:ML(n["HOLD-BACK"]),_1:ML(n["PART-HOLD-BACK"])}}function YL(t,n){var i=xL(t);if(void 0===i.URI)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var e=qL(i.URI,n),r=ML(i["LAST-MSN"]),s=ML(i["LAST-PART"]);if(void 0===r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{LJ:e,g1:r,m1:s}}function QL(t,n){var i,e=xL(t),r=ML(e["SKIPPED-SEGMENTS"]),s=null==(i=e["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!r)throw new l("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{b1:r,A1:s,T1:n}}function ZL(t){var n=ML(xL(t)["PART-TARGET"]);if(void 0===n)throw new l("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function KL(t){switch(NL(t)){case"VOD":return cL.S1;case"EVENT":return cL.E1;default:return BO.y$(OO,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),cL.vd}}function JL(t,n){var i,e,r=xL(t);try{i=function(t){if(void 0===t)throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return aL.I1;if("PART"===t)return aL.R1;throw new l("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(r.TYPE),e=qL(r.URI,n)}catch(n){throw new l("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var s,u=ML(r["BYTERANGE-START"]),o=ML(r["BYTERANGE-LENGTH"]);return void 0===u&&void 0===o||(s={LN:u||0,C_:o}),{fs:i,LJ:{Ai:e,I0:s}}}!function(t){t[t.I1=0]="I1",t[t.R1=1]="R1"}(aL||(aL={})),function(t){t[t.AN=0]="AN",t[t.o1=1]="o1",t[t.j0=2]="j0"}(hL||(hL={})),function(t){t[t.vd=0]="vd",t[t.S1=1]="S1",t[t.E1=2]="E1"}(cL||(cL={}));var tM=function(){function t(n){this.D1=0,this.N1=void 0,this.N1=t.C1(n)}var n=t.prototype;return n.P1=function(){var t=this.N1[this.D1];return this.D1+=1,t},n.B1=function(){return this.N1[this.D1]},n.Lu=function(){var n=new t("");return n.D1=0,n.N1=this.N1.slice(this.D1),n},t.C1=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function nM(t,n,i){var e=t.LJ,r=t.xA,s=t.O1,u=t.LN;switch(i){case"#EXT-X-VERSION":r=function(t){var n=PL(t);return p(n)?(BO.y$(OO,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=xL(t),i=ML(n["TIME-OFFSET"]);if(void 0===i)throw new l("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{L1:i,M1:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":BO.y$(OO,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:BO.yT(OO,"Ignoring unrecognized line or comment: "+n+".")}return{LJ:e,xA:r,O1:s,LN:u}}function iM(t,n){return t.map(function(t){return t.Rd===hL.AN||t.a1?t:Ur({},t,{a1:eM(n)})})}function eM(t){var n=new DataView(new ArrayBuffer(16)),i=new Jo;return i.Bu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;ko(t,n,e?s:r,e),ko(t,n,u,e)}(n,i,vt.fromNumber(t)),new _(n.buffer)}function rM(t,n,e){BO.yT(OO,"Parsing M3U8 playlist at "+t+".");var r=new tM(e);if("#EXTM3U"!==r.P1())throw new l("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,n){var e,r;try{r=i.Or(t)}catch(n){throw BO.y$(OO,"The master playlist has no valid base URI: "+t+"."),new l("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var s={LJ:r,O1:void 0,LN:void 0,xA:void 0},u=[],o=[],a=[],h=[];;){var c=n.P1();if(!c)break;try{var f=CL(c);switch(f){case"#EXT-X-MEDIA":var v=BL(c,r);u.push(v);break;case"#EXT-X-STREAM-INF":var d=OL(c,r,n.P1());o.push(d);break;case"#EXT-X-I-FRAME-STREAM-INF":var w=LL(c,r);a.push(w);break;case"#EXT-X-SESSION-DATA":BO.y$(OO,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var g=jL(c,r);h.push(g);break;default:s=nM(s,c,f)}}catch(t){BO.y$(OO,"Ignoring unparsable line: "+c,t)}}var m=s.xA,y=null!=(e=s.O1)&&e,p=s.LN;return void 0===m&&(BO.y$(OO,"The playlist has no #EXT-X-VERSION, assuming version is 2."),m=2),m>=8&&(o.some(function(t){return void 0!==t.k0})||a.some(function(t){return void 0!==t.k0}))&&(o.some(function(t){return void 0===t.k0})||a.some(function(t){return void 0===t.k0}))&&BO.y$(OO,"If one master playlist variant stream has a SCORE, all variants should have it."),{LJ:r,xA:m,O1:y,LN:p,U1:a,X1:h,oT:u,F1:o}}(t,r):function(t,n,e){var r,s,u,o,a,h,c,f,v,d,w,g,m,y,p,_,b,k,A,T={LJ:t,O1:void 0,LN:void 0,xA:void 0},S=[],E=!1,I=!1,R=[],C=Xr(),D=[],N=[],P=!1,x=!1,B=[],O=[],L=0,M=!1,j=cL.vd,F=!1,U=0;try{A=i.Or(t)}catch(n){throw BO.y$(OO,"The media playlist has no valid base URI: "+t+".",n),new l("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var H=e.Lu();void 0===_||void 0===b;){var X=H.P1();if(!X)break;try{switch(DL(X)){case"#EXT-X-MEDIA-SEQUENCE":_=PL(X);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":b=PL(X)}}catch(t){BO.y$(OO,"Ignoring unparsable line: "+X,t)}}void 0===_&&(BO.yT(OO,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),_=0),void 0===b&&(BO.yT(OO,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),b=0);for(var z=_,V=b;;){var W=e.P1();if(!W)break;var q=!1;try{var G=DL(W);switch(G){case"#EXTINF":q=!0;var $=FL(W);h=$[0],c=$[1];break;case"#EXT-X-BYTERANGE":q=!0,(f=XL(W,L))&&(L=f.LN+f.C_);break;case"#EXT-X-DISCONTINUITY":q=!0,P=!0,V++;break;case"#EXT-X-KEY":var Y,Q;q=!0;var Z=jL(W,A);if(Z.Rd===hL.AN){C.clear(),y=void 0;break}var K=null!=(Y=null==(Q=Z.Y0)?void 0:Q.toString())?Y:"identity";C.set(K,Z),Z.Rd===hL.o1&&(y=Z);break;case"#EXT-X-MAP":q=!0,d=zL(W,A),w=y;break;case"#EXT-X-PROGRAM-DATE-TIME":q=!0,g=VL(W);break;case"#EXT-X-GAP":q=!0,x=!0;break;case"#EXT-X-BITRATE":q=!0,m=PL(W);break;case"#EXT-X-TARGETDURATION":s=PL(W);break;case"#EXT-X-DATERANGE":var J=WL(W);S.push(J);break;case"#EXT-X-PART":q=!0;var tt=GL(W,A);N.push(tt);break;case"#EXT-X-PRELOAD-HINT":var nt=JL(W,A);B.push(nt);break;case"#EXT-X-SKIP":R.length>0&&BO.y$(OO,"#EXT-X-SKIP must appear before any #EXTINF tags."),q=!0;var it=QL(W,z);U=it.b1,k=it.A1,z+=it.b1;break;case"#EXT-X-SERVER-CONTROL":var et=$L(W);E=et.v1,u=et.l1,I=et.d1,o=et.w1,a=et._1;break;case"#EXT-X-RENDITION-REPORT":var rt=YL(W,A);O.push(rt);break;case"#EXT-X-PART-INF":p=ZL(W);break;case"#EXT-X-MEDIA-SEQUENCE":q&&BO.y$(OO,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":q&&BO.y$(OO,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":M=!0;break;case"#EXT-X-PLAYLIST-TYPE":j=KL(W);break;case"#EXT-X-I-FRAMES-ONLY":F=!0;break;default:if(As(G,"#"))T=nM(T,W,G);else{v=i.Or(W,A);var st=d?{LJ:d,H1:w}:void 0,ut={X1:iM(Wr(C),z),rE:D,z1:N,Qg:h,HD:c,V1:P,LJ:{I0:f,Ai:v},W1:st,G1:g,f1:x,q1:m,T1:z,Y1:V};R.push(ut),z++,D=[],N=[],h=void 0,h=void 0,c=void 0,P=!1,f=void 0,v=void 0,g=void 0,x=!1,m=void 0}}}catch(t){BO.y$(OO,"Ignoring unparsable line: "+W,t)}}if(N.length){var ot=d?{LJ:d,H1:y}:void 0,at={X1:iM(Wr(C),z),rE:D,z1:N,Qg:h,HD:c,V1:P,LJ:void 0,W1:ot,G1:g,f1:x,q1:m,T1:z,Y1:V};R.push(at)}var ht=T.xA,ct=null!=(r=T.O1)&&r,ft=T.LN;void 0===ht&&(BO.y$(OO,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ht=2),void 0===s&&BO.y$(OO,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var lt=R.length,vt=lt>0;vt||BO.y$(OO,"The HLS media playlist contains no segments.");var dt=vt&&R[lt-1].z1.length>0;return dt&&void 0===p&&BO.y$(OO,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===a&&BO.y$(OO,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{v1:E,l1:u,d1:I,j1:S,Y1:b,Q1:M,O1:ct,w1:o,Z1:F,T1:_,b1:U,_1:a,m0:p,K1:j,J1:B,A1:k,n2:O,i2:s,S0:R,LN:ft,LJ:A,e2:n,xA:ht}}(t,n,r)}var sM=function(){function t(t,n,i){var e,r,s,u;this.H_=uM++,this.DJ=void 0,this.FR=void 0,this.k0=void 0,this.v$=void 0,this.$0=void 0,this.s1=void 0,this.e1=void 0,this.n1=void 0,this.s2=void 0,this.u2=void 0,this.o2=[],this.DJ=n,this.FR=t.FR,this.s2=t.tJ,this.k0=t.k0,this.u2=t.qH?oM(t.qH):void 0,this.v$=t.v$,this.$0=null!=(e=t.$0)?e:"a2"+this.H_,this.s1=null!=(r=t.s1)?r:"h2"+this.H_,this.e1=null!=(s=t.e1)?s:"c2"+this.H_,this.n1=null!=(u=t.n1)?u:"f2"+this.H_,this.o2=i}var n=t.prototype;return n.l2=function(t){for(var n=0,i=this.o2;n<i.length;n++){var e=i[n].DJ.l2(t);if(void 0!==e)return e}},n.d2=function(t){for(var n=0,i=this.o2;n<i.length;n++){var e=i[n].DJ.d2(t);if(void 0!==e)return e}},n.w2=function(t){for(var n=0,i=this.o2;n<i.length;n++){var e=i[n];if(e.fs===t&&e.xJ)return void $s(this.o2,e)}},T(t,[{key:"LJ",get:function(){return this.DJ.LJ}},{key:"qH",get:function(){return this.u2},set:function(t){this.u2=t?oM(t):void 0}},{key:"tJ",get:function(){return this.s2||this.FR}},{key:"_2",get:function(){var t,n;if(!this.o2.length)return lE.yC();var i=null!=(t=nu(this.o2,function(t){var n;return null!=(n=t.DJ.g2)?n:0}))?t:this.N$[0],e=i.DJ.S0;if(!e.length||e.length<2)return lE.yC();var r=i.DJ.Q1?e[0].Jy:e[1].Jy,s=e[e.length-1],u=s.Jy+(null!=(n=s.Qg)?n:s.m2)-this.N$.reduce(function(t,n){var i,e;return g.max(null!=(i=null!=(e=n.DJ._1)?e:n.DJ.w1)?i:0,t)},0);return u<r?lE.yC():new lE([r,u])}},{key:"N$",get:function(){return this.o2}},{key:"E$",get:function(){return this.o2.filter(function(t){return t.fs===$O.Sd})}},{key:"I$",get:function(){return this.o2.filter(function(t){return t.fs===$O.Ed})}},{key:"b2",get:function(){return this.o2.filter(function(t){return t.fs===$O.rA})}},{key:"A2",get:function(){return this.o2.filter(function(t){return t.fs===$O.E0})}}]),t}(),uM=0;function oM(t){return Ur({},t,{WH:t.WH?qc(t.WH):void 0})}var aM=function(){function t(t,n,i,e,r){this.T2=void 0,this.S2=void 0,this.Qg=void 0,this.LJ=void 0,this.c1=void 0,this.f1=void 0,this.E2=void 0,this.wk=void 0,this.I2=void 0,this.R2=void 0,this.T2=t,this.S2=n,this.wk=i,this.E2=e,this.Qg=r.Qg,this.LJ=r.LJ,this.c1=r.c1,this.f1=r.f1}return t.prototype.D2=function(t,n){this.wk=t,this.E2=n},T(t,[{key:"Jy",get:function(){var t;return this.wk+(null!=(t=this.R2)?t:0)}},{key:"N2",get:function(){return this.E2}},{key:"X1",get:function(){return this.T2.X1}}]),t}();var hM,cM=function(){function t(t,n,i,e){this.ua=void 0,this.G1=void 0,this.LJ=void 0,this.W1=void 0,this.f1=void 0,this.E2=void 0,this.T1=void 0,this.V1=void 0,this.Y1=void 0,this.X1=void 0,this.wk=void 0,this.I2=void 0,this.C2=[],this.P2=0,this.B2=void 0,this.wk=t,this.W1=e.W1,this.E2=i,this.ua=e.Qg,this.G1=e.G1,this.LJ=e.LJ,this.f1=e.f1,this.T1=e.T1,this.V1=e.V1,this.Y1=n,this.X1=e.X1,this.O2(e.z1)}var n=t.prototype;return n.L2=function(t){return this.C2[t]},n.M2=function(t){for(var n=0;n<this.C2.length;n++){var i=this.C2[n],e=i.Jy,r=e+i.Qg;if(e<=t&&t<=r)return t===r&&n+1<this.C2.length?this.C2[n+1]:i}},n.U2=function(t){for(var n=this.C2.length-1;n>=0;n--){var i=this.C2[n];if(i.Jy<=t)return i}},n.X2=function(t){for(var n=this.U2(t);n&&!n.c1&&n.S2>0;)n=this.L2(n.S2-1);return n},n.D2=function(t,n){this.E2=n,this.ua=t.Qg,this.O2(t.z1)},n.O2=function(t){this.C2.length>t.length&&(this.C2.length=t.length);for(var n=0,i=0;i<t.length;i++){var e=t[i],r=!!this.N2&&i===t.length-1,s=this.wk+n;if(i<this.C2.length)this.C2[i].D2(s,r);else{var u=new aM(this,i,s,r,e);this.C2.push(u)}n+=e.Qg}this.P2=n},n.F2=function(){Zs(this.C2),this.P2=0},T(t,[{key:"Jy",get:function(){var t;return this.wk+(null!=(t=this.B2)?t:0)}},{key:"H2",get:function(){return this.wk}},{key:"Qg",get:function(){return this.ua}},{key:"N2",get:function(){return this.E2}},{key:"z1",get:function(){return this.C2}},{key:"m2",get:function(){return this.P2}},{key:"R2",get:function(){return this.B2},set:function(t){this.B2=t;for(var n=0,i=this.C2;n<i.length;n++){i[n].R2=t}}}]),t}();!function(t){t.z2="YES",t.V2="v2"}(hM||(hM={}));var fM=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n}(nn);var lM=function(t){function n(n,i){var e,r=vM(i,n.Qg,n.eN,n.N0);return(e=t.call(this,i,r,void 0,!1,n.H_)||this).W2=void 0,e.G2=void 0,e.q2=void 0,e.ua=void 0,e.Y2=void 0,e.j2=void 0,e.Q2=void 0,e.Z2=void 0,e.K2=void 0,e.J2=void 0,e.W2=n.D0,e.G2=n.eN,e.q2=n.N0,e.ua=n.Qg,e.Y2=n.C0,e.j2=Boolean(n.R0),e.Q2=n.P0||{},e.Z2=n.O0,e.K2=n.L0,e.J2=n.M0,e.n3(),e.i3(),e}E(n,t);var i=n.prototype;return i.Zh=function(t){var n=!1;void 0===this.W2&&void 0!==t.D0&&(n=!0,this.W2=t.D0),void 0===this.q2&&void 0!==t.N0&&(n=!0,this.q2=t.N0),void 0===this.ua&&void 0!==t.Qg&&(n=!0,this.ua=t.Qg),void 0===this.Y2&&void 0!==t.C0&&(n=!0,this.Y2=t.C0),!this.j2&&t.R0&&(n=!0,this.j2=t.R0),n=this.updateCustomAttributes(t,n),void 0===this.Z2&&void 0!==t.O0&&(n=!0,this.Z2=t.O0),void 0===this.K2&&void 0!==t.L0&&(n=!0,this.K2=t.L0),void 0===this.J2&&void 0!==t.M0&&(n=!0,this.J2=t.M0),this.n3(),this.i3(),this.e3(),n&&this.Qs(new L_(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.P0)for(var e=0,r=w.keys(t.P0);e<r.length;e++){var s=r[e];void 0===this.Q2[s]&&(i=!0,this.Q2[s]=t.P0[s])}return i},i.n3=function(){this.ua&&!this.q2&&(this.q2=new Date(this.G2.getTime()+Gt(this.ua)))},i.i3=function(){this.q2&&!this.ua&&(this.ua=qt(this.q2.getTime()-this.G2.getTime()))},i.e3=function(){this._k===1/0&&(this.q2||this.ua)&&(this._k=vM(this.wk,this.ua,this.G2,this.q2))},T(n,[{key:"t_",get:function(){var t;return this.$w||(this.$w=wy(x_(t=this),{get content(){return t.nk},get class(){return t.D0},get startDate(){return t.eN},get endDate(){return t.N0},get duration(){return t.Qg},get plannedDuration(){return t.C0},get endOnNext(){return t.R0},get scte35Cmd(){return t.O0},get scte35Out(){return t.L0},get scte35In(){return t.M0},get customAttributes(){return t.P0}})),this.$w}},{key:"D0",get:function(){return this.W2}},{key:"eN",get:function(){return this.G2}},{key:"N0",get:function(){return this.q2}},{key:"Qg",get:function(){return this.ua}},{key:"C0",get:function(){return this.Y2}},{key:"R0",get:function(){return this.j2}},{key:"O0",get:function(){return this.Z2}},{key:"L0",get:function(){return this.K2}},{key:"M0",get:function(){return this.J2}},{key:"P0",get:function(){return this.Q2}}]),n}(U_);function vM(t,n,i,e){return H(n)?t+n:e?t+(qt(e.getTime())-qt(i.getTime())):1/0}var dM=function(t){function n(){return t.call(this,void 0,void 0,k_.DATE_RANGE)||this}E(n,t);var i=n.prototype;return i.Zh=function(t,n){wM(this,gM(t),n)},i.IE=function(n){var i,e,r;i=this.hg.N_,e=n,(r=qs(i,function(t){return t.D0===e.D0}))&&r.R0&&r.Zh({H_:r.H_,N0:e.eN}),t.prototype.IE.call(this,n)},n}(hx);function wM(t,n,i){for(var e=t.hg.N_,r=function(i){var r=e[i],s=Ws(n,function(t){return t.H_===r.H_});s?r.Zh(s):t.dE(r)},s=e.length-1;s>=0;s--)r(s);for(var u=0;u<n.length;u++){var o=n[u],a=o.eN;if(void 0!==a&&!t.ZW(o.H_)){var h=i(a);t.IE(new lM(o,h))}}}function gM(t){for(var n=Xr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.H_)){var s=n.get(r.H_),u=Ur({},s,py(r),{P0:Ur({},s.P0,r.P0)});n.set(r.H_,u)}else n.set(r.H_,r),i.push(r.H_)}return i.map(function(t){return n.get(t)})}var mM=String.fromCharCode(95),yM=mM+"HLS_msn",pM=mM+"HLS_part",_M=mM+"HLS_skip",bM=function(){function t(t){this.LJ=void 0,this.r3=void 0,this.s3=void 0,this.u3=void 0,this.o3=void 0,this.a3=void 0,this.h3=void 0,this.c3=void 0,this.f3=[],this.v3=[],this.B2=void 0,this.l3=!1,this.d3=void 0,this.w3=!1,this._3=cL.vd,this.aW=lE.yC(),this.g3=lE.yC(),this.ua=void 0,this.m3=-1/0,this.y3=void 0,this.LJ=t}var n=t.prototype;return n.f$=function(t){if(!t)return this.LJ;var n=i.Br(this.LJ);return void 0!==t.T1&&n.searchParams.append(yM,String(t.T1)),void 0!==t.b3&&n.searchParams.append(pM,String(t.b3)),void 0!==t.yA&&n.searchParams.append(_M,t.yA),n.href},n.A3=function(t){return Ws(this.f3,function(n){return n.T1===t})},n.T3=function(t){for(var n=0;n<this.f3.length;n++){var i,e=this.f3[n],r=e.Jy,s=r+(null!=(i=e.Qg)?i:e.m2);if(r<=t&&t<=s)return t===s&&n+1<this.f3.length?this.f3[n+1]:e}},n.l2=function(t){var n=this.S3();if(void 0!==n)return new Date(1e3*t+n)},n.d2=function(t){var n=this.S3();if(void 0!==n)return(t.getTime()-n)/1e3},n.S3=function(){for(var t=this.S0,n=t.length-1;n>=0;n--){var i=t[n];if(void 0!==i.G1)return i.G1.getTime()-1e3*i.Jy}},n.E3=function(t){switch(t){case aL.I1:return this.s3;case aL.R1:return this.u3;default:return}},n.D2=function(t){var n;void 0===this.o3&&(this.o3=null!=(n=t.i2)?n:this.I3(t));void 0===this.h3&&void 0!==t.w1&&(this.h3=t.w1),void 0===this.a3&&void 0!==t.m0&&(this.a3=t.m0),void 0===this.c3&&void 0!==t._1&&(this.c3=t._1),this.l3=t.v1,this.d3=t.l1,this.w3=t.d1,this._3=t.K1,this.R3(t),this.D3(t);var e=Ws(t.J1,function(t){return t.fs===aL.I1}),r=Ws(t.J1,function(t){return t.fs===aL.R1});this.s3=e?{LJ:e.LJ,fs:e.fs,Y1:t.Y1}:void 0,this.u3=r?{LJ:r.LJ,fs:r.fs,Y1:t.Y1}:void 0,this.r3=i.ir()/1e3,this.g3=this.N3(),this.aW=this.C3(this.g3),this.ua=this.P3()},n.N3=function(){var t,n=this.S0;if(0===n.length)return lE.yC();var i=n[0].Jy,e=n[n.length-1],r=e.Jy,s=null!=(t=e.Qg)?t:e.m2;return new lE([i,r+s])},n.C3=function(t){var n,i;if(0===t.C_||this.Q1)return t;var e=t.LN(0),r=t.UN(0)-(null!=(n=null!=(i=this._1)?i:this.w1)?n:0);return r<e?lE.mC(e):new lE([e,r])},n.P3=function(){return 0===this.f3.length?0:this.Q1?(t=this.f3,n=function(t){var n;return null!=(n=t.Qg)?n:t.m2},t.reduce(function(t,i){return t+n(i)},0)):1/0;var t,n},n.I3=function(t){for(var n,i=0,e=t.S0;i<e.length;i++){var r=e[i];if(void 0!==r.Qg){var s=g.max(1,g.round(r.Qg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new l("HLSModel - Could not determine required segment target duration.");return n},n.R3=function(t){if(0===t.S0.length)return Zs(this.f3),void this.B3();var n=this.O3(t);if(n){var i,e,r;n.x3>0&&this.f3.splice(0,n.x3);var s=t.b1;if(s>0){if(s>this.f3.length)throw new fM("New playlist skips over missing segments.");var u=this.f3[s-1];if(void 0===u.Qg)throw new fM("New playlist skips over an incomplete segment.");i=u.H2+u.Qg,r=u.Y1-t.Y1,e=s;for(var o=0;o<s;o++)this.f3[o].F2()}else i=n.L3,r=0,e=0;for(var a=0;a<t.S0.length;a++,e++){var h=t.S0[a],c=t.Q1&&a===t.S0.length-1,f=h.Qg,l=h.Y1+r;if(e<this.f3.length){var v=this.f3[e];0,v.D2(h,c)}else{var d=new cM(i,l,c,h);d.R2=this.B2,this.f3.push(d)}void 0!==f&&(i+=f)}}},n.O3=function(t){if(0===this.f3.length)return{x3:0,L3:0};var n=this.f3[0].T1,i=this.f3[this.f3.length-1].T1,e=t.S0[0].T1-t.b1,r=t.S0[t.S0.length-1].T1,s=0,u=0;if(e<n)BO.y$("HLSMediaPlaylist","Ignoring older playlist (first media sequence number is "+e+", but previous playlist already started at "+n+")");else{if(!(r<i)){if(i<e){var o;u=null!=(o=function(t,n){var i=qs(t,function(t){return void 0!==t.G1});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(r.V1)return;if(r.G1)return[r,n];n+=null!=(e=r.Qg)?e:0}return}(n.S0);if(void 0===e)return;var r=e[0],s=e[1];if(i.Y1!==r.Y1)return;var u=(r.G1.getTime()-i.G1.getTime())/1e3;return i.H2+u-s}(this.f3,t))?o:(h=this.f3,c=this.o3,l=h[h.length-1],v=null!=(f=l.Qg)?f:g.max(c,l.m2),l.H2+v),BO.m$("HLSMediaPlaylist","New playlist (starting at "+e+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+u+"s"),s=this.f3.length,this.B3()}else{0;var a=Gs(this.f3,function(t){return t.T1===e});0,u=this.f3[a].H2,a>0&&(s=a)}var h,c,f,l,v;return{x3:s,L3:u}}BO.y$("HLSMediaPlaylist","Ignoring older playlist (last media sequence number is "+r+", but previous playlist already ended at "+i+")")}},n.D3=function(t){var n=this,i=t.j1.map(wL);if(t.d1&&t.e2.yA===hM.V2&&(i=this.v3.concat(i)),this.v3=gM(i),t.A1)for(var e=function(t,i){var e=i[t],r=Gs(n.v3,function(t){return t.H_===e});r>=0&&Ys(n.v3,r)},r=0,s=t.A1;r<s.length;r++)e(r,s)},n.M3=function(t,n){if(this.B2!==t){this.B2=t;for(var i=0,e=this.f3;i<e.length;i++){e[i].R2=this.B2}}this.y3=n},n.B3=function(){this.B2=void 0,this.y3=void 0},T(t,[{key:"Q1",get:function(){return Boolean(Ws(this.f3,function(t){return t.N2}))}},{key:"Qg",get:function(){return this.ua}},{key:"Ny",get:function(){return this.aW}},{key:"U3",get:function(){return this.g3}},{key:"y0",get:function(){return this.o3}},{key:"m0",get:function(){return this.a3}},{key:"w1",get:function(){return this.Q1?0:this.h3?this.h3:this.o3?3*this.o3:void 0}},{key:"_1",get:function(){var t;return null!=(t=this.c3)?t:this.a3?3*this.a3:void 0}},{key:"X3",get:function(){var t,n,i;if(!this.Q1&&0!==this.f3.length){var e=this.f3[this.f3.length-1],r=null!=(t=e.Qg)?t:e.m2,s=null!=(n=null!=(i=this._1)?i:this.w1)?n:0;return e.Jy+r-s}}},{key:"v1",get:function(){return this.l3}},{key:"l1",get:function(){return this.d3}},{key:"d1",get:function(){return this.w3}},{key:"K1",get:function(){return this._3}},{key:"F3",get:function(){return void 0!==this.m0}},{key:"H3",get:function(){if(this.Q1)return!0;var t=i.ir()/1e3,n=this.g2,e=this.z3;return void 0!==n&&t-n<e}},{key:"g2",get:function(){return this.r3}},{key:"R2",get:function(){return this.B2}},{key:"z3",get:function(){var t;return null!=(t=this.o3)?t:1}},{key:"S0",get:function(){return this.f3}},{key:"j1",get:function(){return this.v3}},{key:"V3",get:function(){return this.m3},set:function(t){this.m3=t}},{key:"W3",get:function(){return this.y3}}]),t}();var kM=function(){function t(){this.G3=[],this.q3=zr()}var n=t.prototype;return n.Y3=function(t){var n;return void 0!==(null==(n=this.q3.get(t))?void 0:n.fp)},n.j3=function(t){return this.Z3(t).Q3.Fu},n.K3=function(t){var n=this.q3.get(t);if(!n||!n.fp)throw new l("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n.fp},n.J3=function(t,n){var i=void 0!==n.z1?n:n.T2;return t.Oy(this.K3(i.Y1))},n.t4=function(t,n){return this.n4(t,n).qk(t)},n.n4=function(t,n){var i=this.J3(t,n),e=ub.Wb(n.Jy).qk(i);if(e.Vk().Lk(cb)){var r=g.round(e.xk()/hb.xk());i=i.Oy(hb.Eb(r))}return i},n.i4=function(t,n,i,e,r){var s=this.Z3(t);void 0===s.fp&&(s.e4.some(function(t){return t.r4===n})||(s.e4.push({r4:n,s4:i,u4:e.Ub(i.Bb),o4:r}),this.a4(s)))},n.a4=function(t){if(!t.fp&&this.h4(t)){var n=iu(t.e4,AM);Zs(t.e4),t.fp=n.u4.qk(n.s4),t.Q3.Wu()}},n.h4=function(t){return this.G3.length>0&&this.G3.every(function(n){return t.e4.some(function(t){return t.r4===n})})},n.Z3=function(t){if(this.q3.has(t))return this.q3.get(t);var n={fp:void 0,Q3:new na,e4:[]};return this.q3.set(t,n),n},n.c4=function(t){var n=this;this.G3=t,this.q3.forEach(function(t){return n.a4(t)})},n.xs=function(){this.q3.forEach(function(t){return t.Q3.Hs()}),this.q3.clear()},t}();function AM(t,n){return t.o4||n.o4?(i=t.s4,e=n.s4,r=i.qk(e),i.jk()||e.jk()?r:(r.Uk(cb)?r=r.qk(hb):r.zk(cb.Gk())&&(r=r.Oy(hb)),r)).Mk(ub.eb):t.s4.Mk(n.s4);var i,e,r}var TM=function(){function t(t){this.f4=[],this.v4=[],this.l4=Xr(),this.d4=new kM,this.w4=t}var n=t.prototype;return n.D2=function(t,n){if(oL(t))if(0===this.f4.length)this._4(t);else{if(!n)return void BO.y$("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.DJ.D2(t)}else{if(0!==this.f4.length)return void BO.y$("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.g4(t)}},n._4=function(t){var n=this.m4(t.LJ);n.D2(t);var i=this.y4($O.Sd,n),e=this.y4($O.Ed,n),r=new sM({LJ:n.LJ,FR:0,tJ:0,k0:NaN,qH:void 0,v$:void 0,nJ:0,J0:[],i1:void 0,u1:void 0,$0:void 0,s1:void 0,e1:void 0,n1:void 0},n,[i,e]);this.f4.push(r)},n.g4=function(t){var n,i=this;(n=this.v4).push.apply(n,t.X1);for(var e=this.b4(t),r=function(t,n){var r=n[t],s=e.filter(function(t){return function(t,n){return SM(t.fs,t.BJ,n)&&(!t.xJ||t.DJ.LJ===n.LJ)}(t,r)});i.A4(r,s);var u=new sM(r,i.m4(r.LJ),s);i.f4.push(u)},s=0,u=t.F1;s<u.length;s++)r(s,u)},n.m4=function(t){var n=this.l4.get(t);return void 0===n&&(n=new bM(t),this.l4.set(t,n)),n},n.b4=function(t){for(var n=[],i=0,e=t.oT;i<e.length;i++){var r=e[i];if(void 0===r.LJ)for(var s=0,u=t.F1;s<u.length;s++){var o=u[s];if(SM(r.fs,r.BJ,o)){var a=new vO(r,this.m4(o.LJ));n.push(a)}}else{var h=new vO(r,this.m4(r.LJ));n.push(h)}}return n},n.y4=function(t,n){return new vO({fs:t,LJ:void 0,BJ:"",G_:void 0,Q0:void 0,wi:"",NJ:!0,CJ:!1,PJ:!1,K0:void 0,OJ:void 0,Z0:void 0},n)},n.A4=function(t,n){var i=n.filter(function(t){return t.fs===$O.Sd}),e=n.filter(function(t){return t.fs===$O.Ed}),r=t.qH&&(t.qH.WH||t.qH.GH);if((!r||t.qH.WH)&&0===e.length){var s=this.y4($O.Ed,this.m4(t.LJ));n.push(s)}if((!r||t.qH.GH)&&0===i.length){var u=this.y4($O.Sd,this.m4(t.LJ));n.push(u)}t.qH&&t.qH.YH},n.T4=function(t){for(var n=0,i=this.f4;n<i.length;n++)for(var e=0,r=i[n].N$;e<r.length;e++){var s=r[e];if(s===t)return s}},n.S4=function(t){for(var n=0,i=this.f4;n<i.length;n++){var e=i[n];if(e===t)return e}},n.E4=function(t){for(var n=0,i=this.f4;n<i.length;n++){var e=i[n];if(Qs(e.N$,t))return e}},n.xs=function(){Zs(this.f4),Zs(this.v4),this.l4.clear(),this.d4.xs()},T(t,[{key:"I4",get:function(){return this.v4}},{key:"S$",get:function(){return this.f4}},{key:"$S",get:function(){return this.d4}}]),t}();function SM(t,n,i){switch(t){case $O.Sd:return i.$0===n;case $O.Ed:return i.s1===n;case $O.rA:return i.e1===n;case $O.E0:return i.n1===n}return!1}var EM=function(t){function n(n){var i;return(i=t.call(this,RM.R4)||this).$J=n,i}return E(n,t),n}(Eu);function IM(t,n,i,e,r){var s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Fr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),fu(o.t0),!(s<i)){o.next=20;break}return u=g.min(e*g.pow(2,s),r),s++,o.next=19,Fr.awrap(_u(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],qe)}var RM,CM=function(t){function n(n){var i;return(i=t.call(this,RM.D4)||this).$J=n,i}return E(n,t),n}(Eu),DM="HlsModelUpdater";!function(t){t.R4="N4",t.D4="C4"}(RM||(RM={}));var NM=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).P4=void 0,r.B4=!1,r.O4=void 0,r.x4=void 0,r.L4=zr(),r.pE=n,r.M4=i,r.rootURI=e,r.P4=new TM(e),r}E(n,t);var e=n.prototype;return e.U4=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.P4.w4){e.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Fr.awrap(this.X4(n,{},2,t));case 5:if(uL(i=e.sent)||oL(i)){e.next=8;break}throw new l("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return uL(i)||BO.yT(DM,"Detected media playlist only HLS stream."),this.F4(i),e.next=12,Fr.awrap(this.H4(t));case 12:this.B4=!0;case 13:case"end":return e.stop()}},null,this,null,qe)},e.z4=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.P4.T4(t)){o.next=3;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s={T1:n,b3:i,yA:OM(r)},u=Gt(g.max(1,3*t.DJ.z3)),o.prev=5,o.next=8,Fr.awrap(this.V4(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),fu(o.t0),this.W4(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],qe)},e.G4=function(t,n){var i=this.P4.T4(t);if(!i)throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e={T1:void 0,b3:void 0,yA:OM(i)},r=Gt(g.max(1,3*t.DJ.z3));return this.V4(i,e,n,r)},e.q4=function(t,n){return this.L4.has(t.z_)||this.L4.set(t.z_,new na),vu(this.L4.get(t.z_).Fu,n)},e.W4=function(t){this.Qs(new CM(t))},e.V4=function(t,n,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.DJ.f$(n),a.prev=1,a.next=4,Fr.awrap(this.X4(s,n,0,e,r));case 4:u=a.sent,a.next=12;break;case 7:throw a.prev=7,a.t0=a.catch(1),fu(a.t0),t.DJ.V3=i.ir(),a.t0;case 12:if(oL(u)){a.next=14;break}throw new l("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 14:a.prev=14,this.F4(u,t),a.next=24;break;case 18:if(a.prev=18,a.t1=a.catch(14),!(a.t1 instanceof fM&&void 0!==n.yA)){a.next=23;break}return o=Ur({},n,{yA:void 0}),a.abrupt("return",this.V4(t,o,e,r));case 23:throw a.t1;case 24:if(!this.O4||t===this.O4||this.O4.DJ.H3){a.next=35;break}return a.prev=25,a.next=28,Fr.awrap(this.G4(this.O4,e));case 28:a.next=35;break;case 30:a.prev=30,a.t2=a.catch(25),fu(a.t2),this.O4=t,this.Y4();case 35:this.j4(t);case 36:case"end":return a.stop()}},null,this,[[1,7],[14,18],[25,30]],qe)},e.X4=function(t,n,i,e,r){var s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return BO.yT(DM,"Loading HLS playlist at "+t+"."),h.prev=1,h.next=4,Fr.awrap(this.M4.Q4([t]));case 4:if(s=h.sent,cu(e),void 0===s){h.next=8;break}return h.abrupt("return",rM(s.responseURL,{},s.data));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(1),fu(h.t0);case 14:return u={hd:t,td:xf.$n,Rd:rg.GET,fs:sg.ld,Ws:e,Dd:r},h.next=17,Fr.awrap(IM(function(){return a.Z4(u)},e,i));case 17:return o=h.sent,h.abrupt("return",rM(o.od,n,o.Hi));case 19:case"end":return h.stop()}},null,this,[[1,10]],qe)},e.Z4=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.pE.ud(t));case 2:return n=e.sent,e.next=5,Fr.awrap(n.Ll());case 5:return i=e.sent,e.abrupt("return",{Hi:i,od:n.od});case 7:case"end":return e.stop()}},null,this,null,qe)},e.H4=function(t){var n,i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:cu(t),n=[],i=0,e=this.P4.S$;case 3:if(!(i<e.length)){h.next=26;break}r=e[i],s=0,u=r.N$;case 6:if(!(s<u.length)){h.next=23;break}return o=u[s],h.prev=8,h.next=11,Fr.awrap(this.M4.Q4([o.DJ.LJ]));case 11:a=h.sent,cu(t),void 0===a||o.DJ.H3||n.push(this.G4(o,t)),h.next=20;break;case 16:h.prev=16,h.t0=h.catch(8),fu(h.t0);case 20:s++,h.next=6;break;case 23:i++,h.next=3;break;case 26:return h.next=28,Fr.awrap(qe.all(n));case 28:case"end":return h.stop()}},null,this,[[8,16]],qe)},e.Y4=function(){for(var t=0,n=this.P4.S$;t<n.length;t++)for(var i=0,e=n[t].N$;i<e.length;i++){var r=e[i];r!==this.O4&&(void 0!==r.DJ.R2&&(r.DJ.H3?this.j4(r):r.DJ.B3()))}},e.j4=function(t){if(0!==t.DJ.S0.length){if(!this.O4)return this.O4=t,void this.O4.DJ.M3(0,void 0);if(this.K4(this.O4),!this.K4(t)&&void 0===t.DJ.R2){var n=this.J4(t,this.O4);BO.m$(DM,"Assuming global timeline offset of "+n+"s for rendition "+t.DJ.LJ+"."),t.DJ.M3(n,void 0)}}},e.J4=function(t,n){var i;if(PM(t)){var e=t.DJ.S0[0],r=n.DJ.S0[0];return BO.m$(DM,"Synchronizing by start of VOD: "+r.Jy+" vs "+e.Jy),r.Jy-e.H2}var s=function(t,n){var i=t.length-1,e=n.length-1;for(;i>=0&&e>=0;){var r=t[i],s=n[i];if(r.Y1>s.Y1)i--;else if(r.Y1<s.Y1)e--;else if(r.V1){if(s.V1)return{segment:r,referenceSegment:s};e--}else i--}return}(t.DJ.S0,n.DJ.S0);if(void 0!==s){var u=s.segment,o=s.referenceSegment;return BO.m$(DM,"Synchronizing by start of discontinuity #"+o.Y1+": "+o.Jy+" vs "+u.Jy),o.Jy-u.H2}var a=BM(t.DJ.S0);if(void 0!==a){var h=BM(n.DJ.S0);if(void 0!==h)return BO.m$(DM,"Synchronizing by PDT:",h.G1.toISOString()+" vs "+a.G1.getTime()),h.Jy-a.H2-(h.G1.getTime()-a.G1.getTime())/1e3}var c=xM(n),f=xM(t),l=null!=(i=t.DJ.R2)?i:0;return BO.m$(DM,"Synchronizing by last segment:",c+" vs "+f),c-f+l},e.K4=function(t){var n=this.P4.T4(t);if(!n)return!1;if(PM(n))return!1;var i,e,r=(i=n.DJ.S0,e=this.P4.$S,qs(i,function(t){return void 0!==t.I2&&e.Y3(t.Y1)}));if(void 0===r)return!1;if(n.DJ.W3===r.Y1)return!0;var s=this.P4.$S.J3(r.I2,r).xk()-r.H2;return BO.m$(DM,"Synchronize by media timestamp: "+s+"s for rendition "+t.DJ.LJ+"."),n.DJ.M3(s,r.Y1),(void 0===this.O4||void 0===this.O4.DJ.W3||this.O4.DJ.W3<r.Y1)&&(this.O4=n),!0},e.F4=function(t,n){var i;(this.P4.D2(t,n),oL(t)&&n)&&(this.x4=n,this.Qs(new EM(n)),null==(i=this.L4.get(n.z_))||i.Wu(),this.L4.delete(n.z_))},e.t6=function(t,n){var i=this.P4.S4(t);if(!i)throw new l("HLSModelUpdater - Could not update HLS variant stream: the stream does not exist on the internal model.");for(var e=0,r=this.P4.S$;e<r.length;e++){var s=r[e];s.qH||(n.WH||s.w2($O.Ed),n.GH||s.w2($O.Sd))}i.qH=n},e.xs=function(){this.$s(),this.P4.xs(),this.L4.forEach(function(t){return t.Hs()}),this.L4.clear()},T(n,[{key:"n6",get:function(){return this.B4}},{key:"T$",get:function(){return this.P4}},{key:"i6",get:function(){return this.x4}}]),n}(Tu);function PM(t){return t.DJ.Q1||t.DJ.K1===cL.E1}function xM(t){var n,i=t.DJ.S0[t.DJ.S0.length-1];return i.Jy+(null!=(n=i.Qg)?n:i.m2)}function BM(t){return qs(t,function(t){return void 0!==t.G1})}function OM(t){if(void 0!==t.DJ.l1&&!t.DJ.Q1&&!(void 0===t.DJ.g2||i.ir()/1e3-t.DJ.g2>=t.DJ.l1/2))return t.DJ.d1?hM.V2:hM.z2}var LM=function(){function t(t,n,i){var e=this;this.e6=void 0,this.r6=void 0,this.sD=void 0,this.s6=void 0,this.u6=void 0,this.o6=function(t){e.r6.hlsDateRange&&e.D3(t.$J)},this.r6=t,this.e6=n,this.sD=i,this.s6=new xk,this.e6.Zs(RM.R4,this.o6)}return t.prototype.D3=function(t){if(0!==t.DJ.j1.length){this.u6||(this.u6=this.sD.SE(Pk.uA,void 0,void 0,void 0,void 0,k_.DATE_RANGE),this.s6.E_(this.u6));wM(this.u6,t.DJ.j1,function(n){var i;return null!=(i=t.DJ.d2(n))?i:NaN})}},T(t,[{key:"Um",get:function(){return this.s6}}]),t}(),MM=function(t){function n(){return t.call(this,cO.pJ)||this}return E(n,t),n}(Eu);var jM,FM=function(){function t(t){this.f3=[],this.Vz=void 0,this.a6=void 0,this.h6=t}var n=t.prototype;return n.c6=function(t){var n;return null==(n=this.f6(t))?void 0:n.$J},n.v6=function(t){this.Vz=t,this.l6()},n.d6=function(t,n,i,e,r,s){this.f3.push({T1:n,$J:t,w6:new lE([r,s]),_6:new lE([i,e])}),this.l6()},n.f6=function(t){for(var n=0,i=this.f3;n<i.length;n++){var e=i[n];if(e._6.$D(t))return e}},n.g6=function(t){for(var n=0,i=this.f3;n<i.length;n++){var e=i[n];if(e.T1===t)return e}},n.gV=function(){var t=this.wy;t.C_>0&&(this.a6=t.UN(t.C_-1))},n.l6=function(){var t=this.h6.wy;this.f3=this.f3.filter(function(n){return 0!==t.QN(n._6).C_})},T(t,[{key:"m6",get:function(){return this.Vz}},{key:"wy",get:function(){return t=this.h6.wy,n=this.h6.NV,i=n.cC(function(n,i){return t.oC(n,i,!1,!1)}),t.nC(i);var t,n,i}},{key:"S0",get:function(){return this.f3}},{key:"y6",get:function(){return this.a6}}]),t}(),UM=function(){function t(t,n,i,e){var r=this;this.h6=void 0,this.k6=void 0,this.b6=void 0,this.Vi=void 0,this.p6=void 0,this.$v=new ou,this.A6=lE.yC(),this.T6=function(t){r.p6&&(t&&!hu(t)?r.p6.Gu(t):r.p6.Wu(),r.p6=void 0)},this.Vi=t,this.b6=i,this.h6=n,this.k6=e}var n=t.prototype;return n.S6=function(){if(this.E6)throw new l("Cannot perform new operation while BufferAppender is still busy")},n.I6=function(t){this.h6!==t&&(this.S6(),this.h6=t,this.k6=new FM(t))},n.R6=function(){return this.p6?this.p6.Fu:qe.resolve()},n.D6=function(t){var n,i,e=this.k6.y6,r=this.k6.wy;if(void 0===e)return!1;var s=g.min(t,e);return null!=(n=null==(i=r.WN().eC(this.N6).dC(s))?void 0:i.$D(e))&&n},n.C6=function(t){return this.k6.c6(t)},n.Hs=function(){this.$v.Hs(),this.$v=new ou},n.Zz=function(t){var n=this;this.S6(),this.p6=new na;var i=function(i){n.b6.P6(t),n.T6(i)};this.Kz(t,this.$v.Ws).then(i,i)},n.Kz=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return BO.m$("Buffering","Appending initializer",lL(t.B6.LJ)),i.next=3,Fr.awrap(this.h6.Zz(t,n));case 3:BO.m$("Buffering","Appended initializer",lL(t.B6.LJ)),this.k6.v6(t);case 5:case"end":return i.stop()}},null,this,null,qe)},n.O6=function(t){var n=this;this.S6(),this.p6=new na;var i=function(i){n.b6.P6(t),n.T6(i)};this.x6(t,this.$v.Ws).then(i,i)},n.x6=function(t,n){var i,e,r,s,u,o,a,h,c,f,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(e=t.$J,r=t.T1,void 0!==e.DJ.y0){m.next=4;break}throw new l("MediaBufferWrapper - Cannot append HLSAsset to "+this.Vi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.k6.wy.FN,u=this.h6.wy,BO.m$("Buffering","Appending",lL(t.B6.LJ)),m.next=9,Fr.awrap(this.h6.Yz(t,n));case 9:BO.m$("Buffering","Appended",lL(t.B6.LJ),s,this.k6.wy.FN),o=t.Jy,a=o+t.Qg,h=t.B6,c=h.Jy,f=h.Jy+(null!=(i=h.Qg)?i:0),this.k6.d6(e,r,o,a,c,f),v=this.h6.wy.eC(u),(d=this.k6.g6(r-1))?this.L6(d)?0===v.C_?Boolean(this.M6.g6(r))||(w=this.h6.NV.QN(new lE([o,a])),this.A6=this.A6.nC(w)):(this.A6=this.A6.eC(new lE([v.LN(0),a])),v.LN(0)>o&&(this.A6=this.A6.nC(new lE([o,v.LN(0)])))):this.A6=this.A6.eC(new lE([o,a])):0===v.C_?(g=this.h6.NV.QN(new lE([o,a])),this.A6=this.A6.nC(g)):v.LN(0)>o&&(this.A6=this.A6.nC(new lE([o,v.LN(0)]))),t.B6.N2&&this.k6.gV();case 20:case"end":return m.stop()}},null,this,null,qe)},n.L6=function(t){var n=t._6,i=n.LN(0),e=n.UN(n.C_-1),r=n.MN(0),s=n.XN(n.C_-1);return this.A6.sC(i,e,r,s)},T(t,[{key:"fs",get:function(){return this.Vi}},{key:"U6",get:function(){return this.Vi===u_.Sd||this.Vi===u_.Ed}},{key:"M6",get:function(){return this.k6}},{key:"N6",get:function(){return this.A6}},{key:"E6",get:function(){return void 0!==this.p6}}]),t}(),HM=function(){function t(t,n){this.X6=void 0,this.F6=t,this.pE=n}var n=t.prototype;return n.H6=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.z6(n,e));case 2:return r=s.sent,s.next=5,Fr.awrap(this.F6.H6(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},n.z6=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.X6)?void 0:i.hd)===t){u.next=10;break}return BO.m$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Fr.awrap(this.pE.ud({hd:t,td:xf.Gf,Rd:rg.GET,Ws:n,fs:sg.wd,Nd:ug.Td}));case 4:return e=u.sent,u.next=7,Fr.awrap(e.Ul());case 7:r=u.sent,s=new _(r),this.X6={hd:t,Hi:s};case 10:return u.abrupt("return",this.X6.Hi);case 11:case"end":return u.stop()}},null,this,null,qe)},t}(),XM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.pE=t,this.M4=n,this.V6=i,this.W6=e,this.G6=r}var n=t.prototype;return n.ud=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.q6(t,n,xf.Gf,i));case 2:return e=r.sent,r.t0=_,r.next=6,Fr.awrap(e.Ul(i));case 6:return r.t1=r.sent,r.abrupt("return",new r.t0(r.t1));case 8:case"end":return r.stop()}},null,this,null,qe)},n.Y6=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.q6(t,n,xf.Yf,i));case 2:return e=r.sent,r.abrupt("return",e.Xl(i));case 4:case"end":return r.stop()}},null,this,null,qe)},n.q6=function(t,n,i,e){var r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return t.I0&&0===(r=sL(t.I0.LN,t.I0.C_))[0]&&r[1]===Mt&&(r=void 0),s=r?{Range:"bytes="+r[0]+"-"+r[1]}:void 0,u=new hg({hd:t.Ai,td:i,$l:s,Pd:this.W6,Rd:rg.GET,fs:sg.dd,Nd:n,Cd:this.V6,Ws:e}),h.prev=3,h.next=6,Fr.awrap(this.M4.j6(t.Ai,r));case 6:if(o=h.sent,cu(e),void 0===o){h.next=10;break}return h.abrupt("return",new ag({ud:u,Hi:o.buffer}));case 10:h.next=16;break;case 12:h.prev=12,h.t0=h.catch(3),fu(h.t0);case 16:return h.next=18,Fr.awrap(IM(function(){return vu(a.pE.ud(u),u.Ws)},e,this.G6));case 18:return h.abrupt("return",h.sent);case 19:case"end":return h.stop()}},null,this,[[3,12]],qe)},t}(),zM=function(){function t(t,n){this.e6=void 0,this.Q6=void 0,this.Z6=void 0,this.K6=new ou,this.xG=-1/0,this.J6=!1,this.e6=t,this.Q6=n,this.t5()}var n=t.prototype;return n.n5=function(){return this.Q6.DJ.v1},n.i5=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.n5()){r.next=2;break}throw new l("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Fr.awrap(this.e5());case 5:return cu(e),r.next=8,Fr.awrap(this.e6.z4(this.Q6,t,n,e));case 8:this.xG=i.ir(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),hu(r.t0)&&this.t5(),r.t0;case 15:this.t5();case 16:case"end":return r.stop()}},null,this,[[2,11]],qe)},n.r5=function(t){return this.e6.q4(this.Q6,t)},n.t5=function(){var t=this;if(!this.Z6&&!this.J6){var n=function(){t.Z6=void 0};this.Z6=this.s5(this.K6.Ws).then(n,n)}},n.e5=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Z6){t.next=6;break}return this.K6.Hs(),this.K6=new ou,t.next=5,Fr.awrap(this.Z6.catch(K));case 5:this.Z6=void 0;case 6:case"end":return t.stop()}},null,this,null,qe)},n.s5=function(t){var n,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.Q6.DJ.Q1||!this.Q6.DJ.H3){r.next=3;break}return r.abrupt("return");case 3:if(n=i.ir()-this.xG,e=1e3*this.Q6.DJ.z3,!(n<e)){r.next=8;break}return r.next=8,Fr.awrap(_u(e-n,t));case 8:return r.prev=8,r.next=11,Fr.awrap(this.e6.G4(this.Q6,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),fu(r.t0),this.e6.W4(this.Q6),r.t0;case 18:this.xG=i.ir(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],qe)},n.xs=function(){this.J6=!0,yu(this.e5())},t}();!function(t){t[t.I1=0]="I1",t[t.R1=1]="R1",t[t.dd=2]="dd",t[t.u5=3]="u5"}(jM||(jM={}));var VM="AssetExtractor",WM=function(){function t(){this.o5=[]}var n=t.prototype;return n.a5=function(t,n,i){for(var e=n,r=0,s=this.o5;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.LN)return!1;if(e<u.UN){if(i<=u.UN)return!0;e=u.UN}}return e>=t},n.h5=function(t,n){for(var i=[],e=0;e<this.o5.length;e+=1){var r=this.o5[e],s=t-r.LN,u=r.Hi.length,o=g.min(u,g.max(s,0)),a=g.max(0,n+s),h=Qo(r.Hi,o,a);h.length&&(e=this.c5(e,r,t,o,a),i.push(h))}return i},n.f5=function(t,n){this.o5.push({LN:t,UN:t+n.length,Hi:n})},n.c5=function(t,n,i,e,r){var s=t;this.o5.splice(s,1),s-=1,n.LN<i&&(s+=1,this.o5.splice(s,0,{LN:n.LN,UN:i,Hi:Qo(n.Hi,0,e)}));var u=i+r-e;return u<n.UN&&(s+=1,this.o5.splice(s,0,{LN:u,UN:n.UN,Hi:Qo(n.Hi,r)})),s},t}(),qM=function(){function t(t,n){this.uv=void 0,this.v5=n,this.uv=t.getReader()}var n=t.prototype;return n.l5=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.uv.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.v5=1/0,new l("No more data can be read from the given stream.");case 6:return this.v5+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,qe)},n.d5=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.uv.cancel(t));case 2:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"w5",get:function(){return this.v5}}]),t}(),GM=function(){function t(t,n,i,e){this._5=void 0,this.uv=void 0,this.g5=void 0,this.m5=void 0,this.y5=void 0,this.k5=void 0,this.b5=new na,this._5=t,this.uv=n,this.g5=i,this.m5=e,this.y5=new na,this.k5=new na}var n=t.prototype;return n.p5=function(){this.k5.Wu(),this.k5=new na},n.A5=function(t){var n=YM(this._5.I0),i=n.T5,e=n.S5,r=this.g5.h5(i,e-i);BO.m$(VM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v;return Fr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Fr.awrap(this.y5.Fu);case 2:n=YM(this._5.I0),i=n.T5,e=n.S5,d.prev=3;case 4:return r=this.uv.w5,d.next=8,Fr.awrap(this.uv.l5());case 8:if(s=d.sent,u=s.length,BO.m$(VM,"Read "+u+" at "+r+" for extraction of "+lL(this._5)),o=g.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(h=Qo(s,0,a),c=Qo(s,a),BO.m$(VM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+lL(this._5)),this.g5.f5(r,h),!(c.length>0)){d.next=23;break}return BO.m$(VM,"Extracting "+c.length+" bytes for extraction of "+lL(this._5)),t.enqueue(c),this.p5(),d.abrupt("return",yu(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return BO.m$(VM,"Extracting the read data range for extraction of "+lL(this._5)),t.enqueue(s),this.p5(),d.abrupt("return",yu(this.readAndSliceOutAssetBytes(t)));case 33:if(l=Qo(s,0,f=e-r),v=Qo(s,f),l.length>0&&(BO.m$(VM,"Extracting "+l.length+" bytes for extraction of "+lL(this._5)),t.enqueue(l)),BO.m$(VM,"Of the read "+u+" bytes, the last "+v.length+" will be stored locally for extraction of "+lL(this._5)),this.g5.f5(r+f,v),BO.m$(VM,"Extraction of "+lL(this._5)+" completed as the entire request has been fulfilled."),this.E5(t),!this.m5){d.next=45;break}return BO.m$(VM,"Aborting stream upstream as no more bytes are needed from "+lL(this._5)+"."),d.next=45,Fr.awrap(this.uv.d5("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),BO.m$(VM,"Extraction of "+lL(this._5)+" completed as the entire source stream has been read."),this.E5(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],qe)},n.E5=function(t){t.close(),this.p5(),this.b5.Wu()},n.start=function(t){BO.m$(VM,"Preparing to push all collected data to controller for extraction of "+lL(this._5)),this.A5(t),BO.m$(VM,"Collected data pushed to controller for extraction of "+lL(this._5));var n=YM(this._5.I0).S5;this.uv.w5>=n?(BO.m$(VM,"Extraction of "+lL(this._5)+" completed as the entire request has been fulfilled."),this.E5(t)):(BO.m$(VM,"Continuing read from original stream for extraction of "+lL(this._5)),yu(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.y5.Wu(),this.y5=new na,this.k5.Fu},T(t,[{key:"I5",get:function(){return this.b5.Fu}}]),t}(),$M=function(){function t(t,n){this.g5=void 0,this.R5=void 0,this.D5=void 0,this._5=n;var i=YM(this._5.I0).T5;this.R5=new qM(t,i),this.g5=new WM}var n=t.prototype;return n.xy=function(t){if(!vL(this._5,t))return!1;var n=YM(t.I0),i=n.T5,e=n.S5;return this.g5.a5(this.R5.w5,i,e)},n.N5=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.R5,e=this.g5,BO.yT(VM,"Extracting data from "+lL(t)+" out of "+lL(this._5)),!this.D5){s.next=8;break}return BO.m$(VM,"Awaiting previous extraction before extracting "+lL(t)+" out of "+lL(this._5)),s.next=8,Fr.awrap(this.D5);case 8:if(this.xy(t)){s.next=10;break}throw new l("The extractor does not contain the data requested");case 10:return r=new GM(t,i,e,n),this.D5=r.I5,s.abrupt("return",new nw(r));case 13:case"end":return s.stop()}},null,this,null,qe)},t}();function YM(t){if(t){var n=t.LN;return{T5:n,S5:void 0!==t.C_?n+t.C_:Mt}}return{T5:0,S5:Mt}}var QM,ZM=function(){function t(t,n){this.$v=new ou,this.C5=void 0,this._5=t,this.P5=n,this.C5=this.jh()}var n=t.prototype;return n.jh=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.P5.Y6(this._5,ug.vd,this.$v.Ws));case 2:return t=n.sent,n.abrupt("return",new $M(t,this._5));case 4:case"end":return n.stop()}},null,this,null,qe)},n.xy=function(t){return vL(this._5,t)},n.N5=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Fr.awrap(this.C5);case 3:return i=e.sent,e.next=6,Fr.awrap(vu(i.N5(t,n),this.$v.Ws));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,qe)},n.Hs=function(){this.C5.catch(K),this.$v.Hs()},t}(),KM=function(t){function n(){return t.call(this,QM.B5)||this}return E(n,t),n}(Eu),JM="HlsPlaylistDownloader";!function(t){t.B5="videosegmentdownloaded"}(QM||(QM={}));var tj=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Vi=void 0,a.e6=void 0,a.b6=void 0,a.P5=void 0,a.O5=void 0,a.Q6=void 0,a.x5=void 0,a.L5=void 0,a.M5=void 0,a.U5=new ou,a.X5=void 0,a.F5=void 0,a.H5=void 0,a.z5=void 0,a.V5=function(t){a.L5&&(a.Q6=a.L5,a.L5=void 0,a.X5=void 0,a.F5=void 0),a.M5&&(t&&!hu(t)?a.M5.Gu(t):a.M5.Wu(),a.M5=void 0)},a.Vi=n,a.e6=e,a.b6=r,a.Q6=i,a.x5=new zM(e,i),a.O5=new HM(o,s),a.P5=new XM(s,u,function(t){switch(t){case $O.Ed:return og.Ed;case $O.Sd:return og.Sd;case $O.rA:case $O.E0:return og.$n;default:return og.vd}}(i.fs),!1),a}E(n,t);var e=n.prototype;return e.W5=function(t){this.x5.xs(),this.x5=new zM(this.e6,t),this.E6?this.L5=t:(this.Q6=t,this.X5=void 0,this.F5=void 0)},e.R6=function(){return this.M5?this.M5.Fu:qe.resolve()},e.G5=function(){return this.b6.G5()},e.q5=function(t){this.b6.q5(t)},e.Hs=function(){var t,n;this.U5.Hs(),this.U5=new ou,null==(t=this.z5)||t.Hs(),null==(n=this.H5)||n.Hs(),this.z5=void 0,this.H5=void 0,this.X5=void 0,this.F5=void 0},e.xs=function(){this.x5.xs()},e.Y5=function(t){var n=this.Q6.DJ.T3(t);if(!n)return!1;if(void 0!==this.X5){var i=n.T1===this.X5;return void 0!==this.F5?n.M2(t)===n.L2(this.F5)&&i:i}return!1},e.j5=function(t){var n;if(void 0===this.X5)n=this.Q5(t);else if(n=this.Z5(this.X5,this.F5)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Jy,u=3*this.$J.DJ.y0;g.abs(s-t)>=u&&(n=this.Q5(t))}if(n){var o=n,a=o[0],h=o[1];return 0===(null==h?void 0:h.S2)&&void 0!==a.Qg?[a,void 0]:[a,h]}},e.Q5=function(t){var n,i,e,r=this.Q6.DJ.S0;if(0!==r.length){var s=r[r.length-1];if(s.Jy+(null!=(n=s.Qg)?n:s.m2)<=t)i=s,e=s.X2(t);else if(r[0].Jy>t)e=(i=r[0]).L2(0);else{var u;e=null==(u=i=this.Q6.DJ.T3(t))?void 0:u.X2(t)}return i?[i,e]:void 0}},e.Z5=function(t,n){var i,e,r;if((i=this.Q6.DJ.A3(t))&&void 0!==n){if(0===i.z1.length)return[i,void 0];e=i.L2(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.Q6.DJ.A3(t+1))?void 0:r.L2(0));return i?[i,e]:void 0},e.S6=function(){if(this.E6)throw new l("Cannot perform new operation while PlaylistDownloader is still busy")},e.K5=function(t){this.S6(),this.M5=new na,this.J5(t,this.U5.Ws).then(this.V5,this.V5)},e.t8=function(){this.x5.t5()},e.J5=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.j5(t))||!this.x5.n5()||void 0===this.X5){e.next=5;break}return e.next=4,Fr.awrap(this.x5.i5(void 0===this.F5?this.X5+1:this.X5,void 0!==this.F5?this.F5+1:void 0,n));case 4:i=this.j5(t);case 5:if(i||!this.x5.n5()||void 0===this.X5){e.next=9;break}return e.next=8,Fr.awrap(this.x5.i5(this.X5+1,0,n));case 8:i=this.j5(t);case 9:if(i){e.next=16;break}return BO.yT(JM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Fr.awrap(this.x5.r5(n));case 13:i=this.j5(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,qe)},e.n8=function(){return this.b6.i8()},e.e8=function(){this.S6();try{var t=this.Q6.DJ.E3(aL.I1);t&&this.r8(t);var n=this.Q6.DJ.E3(aL.R1);n&&this.s8(n)}catch(t){throw fu(t),this.$J.DJ.V3=i.ir(),this.e6.W4(this.$J),t}},e.r8=function(t){this.H5&&!this.H5.xy(t.LJ)&&(this.H5.Hs(),this.H5=void 0),this.H5||(this.H5=new ZM(t.LJ,this.P5))},e.s8=function(t){this.z5&&!this.z5.xy(t.LJ)&&(this.z5.Hs(),this.z5=void 0),this.z5||(this.z5=new ZM(t.LJ,this.P5))},e.u8=function(t,n,e){var r=this;this.S6(),BO.yT(JM,"Starting download of segment "+lL(t.LJ)+" and part "+(null==n?void 0:n.S2)),this.M5=new na,this.o8(t,n,e,this.U5.Ws).catch(function(t){throw fu(t),r.$J.DJ.V3=i.ir(),r.e6.W4(r.$J),t}).then(this.V5,this.V5)},e.o8=function(t,n,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t.W1){u.next=5;break}if(i&&dL(i.B6.LJ,t.W1.LJ)&&t.Y1===i.Y1){u.next=5;break}return u.next=4,Fr.awrap(this.a8(t.W1,t,e));case 4:s=u.sent;case 5:if(s){u.next=9;break}return u.next=8,Fr.awrap(this.h8(t,n,e));case 8:s=u.sent;case 9:this.b6.c8(s),"f8"===s.fs&&this.Vi===u_.Ed&&this.Qs(new KM),BO.m$("Buffering","Download complete",lL(null!=(r=null==n?void 0:n.LJ)?r:t.LJ));case 12:case"end":return u.stop()}},null,this,null,qe)},e.h8=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n){o.next=26;break}if(!this.z5){o.next=19;break}if(!this.z5.xy(n.LJ)){o.next=17;break}return o.next=5,Fr.awrap(this.z5.N5(n.LJ));case 5:return r=o.sent,o.t0=_,o.next=9,Fr.awrap(Fw(r,i));case 9:return o.t1=o.sent,s=new o.t0(o.t1),o.next=13,Fr.awrap(this.H6(s,n.X1,i));case 13:u=o.sent,e=ej(n,u),o.next=19;break;case 17:this.z5.Hs(),this.z5=void 0;case 19:if(e){o.next=24;break}return BO.m$("Buffering","Start download",lL(n.LJ)),o.next=23,Fr.awrap(this.v8(n,i));case 23:e=o.sent;case 24:o.next=30;break;case 26:return BO.m$("Buffering","Start download",lL(t.LJ)),o.next=29,Fr.awrap(this.l8(t,i));case 29:e=o.sent;case 30:return this.X5=t.T1,this.F5=null==n?void 0:n.S2,o.abrupt("return",{fs:"f8",T1:t.T1,f8:e,$J:this.Q6,Y1:t.Y1});case 33:case"end":return o.stop()}},null,this,null,qe)},e.a8=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.H5){a.next=17;break}if(!this.H5.xy(t.LJ)){a.next=14;break}return a.next=4,Fr.awrap(vu(this.H5.N5(t.LJ),i));case 4:return s=a.sent,a.t0=_,a.next=8,Fr.awrap(Fw(s,i));case 8:return a.t1=a.sent,u=new a.t0(a.t1),a.next=12,Fr.awrap(this.H6(u,t.H1?[t.H1]:[],i));case 12:o=a.sent,e=nj(t,n,o);case 14:BO.yT(JM,"MAP is required for segment, downloading MAP data."),null==(r=this.H5)||r.Hs(),this.H5=void 0;case 17:if(e){a.next=22;break}return BO.m$("Buffering","Start download",lL(t.LJ)),a.next=21,Fr.awrap(this.d8(t,n,i));case 21:e=a.sent;case 22:return a.abrupt("return",{fs:"W1",W1:e,Jy:n.Jy,Y1:n.Y1,X1:n.X1});case 23:case"end":return a.stop()}},null,this,null,qe)},e.d8=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.P5.ud(t.LJ,ug._d,i));case 2:return e=u.sent,r=t.H1?[t.H1]:[],u.next=6,Fr.awrap(this.H6(e,r,i));case 6:return s=u.sent,u.abrupt("return",nj(t,n,s));case 8:case"end":return u.stop()}},null,this,null,qe)},e.l8=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.LJ){r.next=2;break}throw new l("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Fr.awrap(this.P5.ud(t.LJ,ug.vd,n));case 4:return i=r.sent,r.next=7,Fr.awrap(this.H6(i,t.X1,n));case 7:return e=r.sent,r.abrupt("return",ij(t,e));case 9:case"end":return r.stop()}},null,this,null,qe)},e.v8=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.P5.ud(t.LJ,ug.vd,n));case 2:return i=r.sent,r.next=5,Fr.awrap(this.H6(i,t.X1,n));case 5:return e=r.sent,r.abrupt("return",ej(t,e));case 7:case"end":return r.stop()}},null,this,null,qe)},e.H6=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Ws(n,function(t){return t.Rd===hL.o1})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.LJ&&e.a1){r.next=6;break}return BO.mu(JM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Fr.awrap(this.O5.H6(t,e.LJ,e.a1,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,qe)},T(n,[{key:"E6",get:function(){return void 0!==this.M5}},{key:"$J",get:function(){var t;return null!=(t=this.L5)?t:this.Q6}},{key:"w8",get:function(){if(!this.Q6.DJ.Q1)return!1;if(void 0===this.X5)return!1;var t=this.Q6.DJ.S0[this.Q6.DJ.S0.length-1];return t.T1===this.X5&&!(this.F5&&this.F5!==t.z1.length-1)}}]),n}(Tu);function nj(t,n,i){return{Hi:{Hi:i,fs:OD.QX},fs:jM.I1,B6:t,Y1:n.Y1}}function ij(t,n){return{Hi:{Hi:n,fs:OD.QX},fs:jM.dd,B6:t,Y1:t.Y1}}function ej(t,n){return{Hi:{Hi:n,fs:OD.QX},fs:jM.R1,B6:t,Y1:t.T2.Y1}}var rj,sj=function(){function t(){this._8=[],this.g8=Xr(),this.m8=void 0,this.y8=void 0}var n=t.prototype;return n.c8=function(t){"W1"===t.fs&&(this.y8=t.W1),this._8.push(t),this.m8&&(this.m8.Wu(),this.m8=void 0)},n.G5=function(){return this._8[0]},n.q5=function(t){$s(this._8,t)},n.i8=function(){return null!=this.m8||(this.m8=new na),this.m8.Fu},n.k8=function(t){this.b8(t.r4).k8(t)},n.p8=function(t){return this.b8(t).p8()},n.P6=function(t){this.b8(t.r4).P6(t)},n.A8=function(t){var n;null==(n=this.g8.get(t))||n.xs()},n.T8=function(t){return this.b8(t).T8()},n.b8=function(t){if(this.g8.has(t))return this.g8.get(t);var n=new uj;return this.g8.set(t,n),n},n.Nu=function(){this.S8(),this.E8()},n.S8=function(){this.y8=void 0,Zs(this._8)},n.E8=function(){this.g8.forEach(function(t){return t.Nu()})},n.xs=function(){this.g8.forEach(function(t){return t.xs()}),this.g8.clear(),this.Nu(),this.m8&&(this.m8.Gu(new au),this.m8=void 0)},T(t,[{key:"m6",get:function(){return this.y8}},{key:"I8",get:function(){for(var t=lE.yC(),n=0,i=this._8;n<i.length;n++){var e=i[n];if("f8"===e.fs){var r,s=e.f8.B6;t=t.nC(new lE([s.Jy,s.Jy+(null!=(r=s.Qg)?r:0)]))}}return t}},{key:"R8",get:function(){var t=lE.yC();return this.g8.forEach(function(n){t=t.nC(n.R8)}),t}}]),t}(),uj=function(){function t(){this.D8=[],this.N8=void 0}var n=t.prototype;return n.k8=function(t){this.D8.push(t),this.N8&&(this.N8.Wu(),this.N8=void 0)},n.p8=function(){return this.D8[0]},n.P6=function(t){$s(this.D8,t)},n.T8=function(){return null!=this.N8||(this.N8=new na),this.N8.Fu},n.Nu=function(){Zs(this.D8)},n.xs=function(){this.Nu(),this.N8&&(this.N8.Gu(new au),this.N8=void 0)},T(t,[{key:"R8",get:function(){for(var t=lE.yC(),n=0,i=this.D8;n<i.length;n++){var e=i[n];"f8"===e.fs&&(t=t.nC(new lE([e.Jy,e.Jy+e.Qg])))}return t}}]),t}(),oj=function(){function t(t,n){this.C8=void 0,this.d4=void 0,this.P8=lE.yC(),this.C8=t,this.d4=n}var n=t.prototype;return n.Zz=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Hi.Hi,this.B8(i),this.C8.fs!==k_.TTML){u.next=8;break}if(this.d4.Y3(t.Y1)){u.next=6;break}return u.next=6,Fr.awrap(vu(this.d4.j3(t.Y1),n));case 6:for(e=this.O8(i,t.Y1),r=0;r<e.length;r++)s=e[r],this.C8.IE(s);case 8:case"end":return u.stop()}},null,this,null,qe)},n.Yz=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t.Hi){r.next=2;break}return r.abrupt("return");case 2:if(i=t.Jy,e=i+t.Qg,this.P8=this.P8.nC(new lE([i,e])),this.d4.Y3(t.Y1)){r.next=8;break}return r.next=8,Fr.awrap(vu(this.d4.j3(t.Y1),n));case 8:this.Qz(t.Hi.Hi,t.Y1,t.B6);case 9:case"end":return r.stop()}},null,this,null,qe)},n.Qz=function(t,n,i){this.B8(t);for(var e=0,r=this.C8.fs===k_.WEBVTT?this.x8(t,i):this.O8(t,n);e<r.length;e++){var s=r[e];this.C8.IE(s)}},n.x8=function(t,n){for(var i,e,r=(void 0===e&&(e=wb),Tb(zo(qo(t),new Jo),e)),s=r.hg,u=null!=(i=r.dp)?i:{wp:ub.eb,_p:ub.eb},o=0;o<s.length;o++){var a=s[o],h=ub.Wb(a.Jy).qk(u._p).Oy(u.wp),c=this.d4.n4(h,n).xk(),f=c+(a.$y-a.Jy);a.Jy=c,a.$y=f}return s},n.O8=function(t,n){var i=this.d4.K3(n).xk();return pk(t,this.C8,{hp:0,cp:1/0,fp:i},Uc.APPLICATION_MP4)},n.B8=function(t){this.C8.fs===k_.DEFAULT&&(this.C8.fs=this.L8(t)?k_.WEBVTT:k_.TTML)},n.L8=function(t){return Ob(zo(Wo(qo(t),0,g.min(t.byteLength,7)),new Jo))},n.AV=function(t,n){},n.TV=function(t,n){},T(t,[{key:"wy",get:function(){return this.P8}},{key:"NV",get:function(){return lE.yC()}}]),t}(),aj=function(t){function n(n,i){var e;return(e=t.call(this,rj.M8)||this).$J=n,e.qH=i,e}return E(n,t),n}(Eu),hj=function(t){function n(n){var i;return(i=t.call(this,rj.U8)||this).$J=n,i}return E(n,t),n}(Eu);!function(t){t.M8="X8",t.U8="F8"}(rj||(rj={}));var cj=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Q6=void 0,s.b6=void 0,s.d4=void 0,s.H8=void 0,s.z8=void 0,s.$v=new ou,s.V8=function(t){s.z8&&(t&&!hu(t)?s.z8.Gu(t):(s.z8.Wu(),s.z8=void 0))},s.Q6=n,s.b6=i,s.d4=e,s.H8=r,s}E(n,t);var i=n.prototype;return i.W5=function(t){this.Q6!==t&&(this.Hs(),this.Q6=t)},i.W8=function(t){for(var n=0,i=this.H8;n<i.length;n++){var e=i[n];Qs(t,e)||this.b6.A8(e)}this.H8=t},i.R6=function(){var t,n;return null!=(t=null==(n=this.z8)?void 0:n.Fu)?t:qe.resolve()},i.S6=function(){if(this.E6)throw new l("Cannot perform new operation while transmuxer is still busy")},i.G8=function(t){var n=this;this.S6(),this.z8=new na;var i=function(i){n.b6.q5(t),n.V8(i)};this.q8(t,this.$v.Ws).then(i,i)},i.Y8=function(t){var n=this;this.S6(),this.z8=new na;var i=function(i){n.b6.q5(t),n.V8(i)};this.j8(t,this.$v.Ws).then(i,i)},i.Q8=function(t){this.Qs(new aj(this.Q6,t))},i.Z8=function(){this.Qs(new hj(this.Q6))},i.k8=function(t){Qs(this.H8,t.r4)&&this.b6.k8(t)},i.K8=function(t){return this.b6.p8(t)},i.P6=function(t){this.b6.P6(t)},i.J8=function(t){return this.b6.T8(t)},i.Hs=function(){this.$v.Hs(),this.$v=new ou},T(n,[{key:"$J",get:function(){return this.Q6}},{key:"t9",get:function(){return this.H8}},{key:"E6",get:function(){return void 0!==this.z8}}]),n}(Tu),fj=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}E(n,t);var i=n.prototype;return i.q8=function(t,n){cu(n);var i={fs:"n9",Hi:t.W1.Hi,r4:this.t9[0],Y1:t.Y1,i9:{qH:"",X1:t.X1},Jy:t.Jy,$J:this.$J,B6:t.W1.B6};return this.k8(i),qe.resolve()},i.j8=function(t,n){var i;cu(n);var e=t.f8.B6,r={fs:"f8",Hi:t.f8.Hi,r4:this.t9[0],T1:t.T1,Jy:e.Jy,Qg:null!=(i=e.Qg)?i:0,fp:0,Y1:t.Y1,$J:t.$J,B6:t.f8.B6};return this.k8(r),qe.resolve()},n}(cj),lj=function(){function t(t,n,i){this.e9=[],this.r9=t,this.b6=n,this.s9=i}var n=t.prototype;return n.W5=function(t){this.r9.W5(t)},n.u9=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.e9[t];if(!e.U6)throw new l("Invalid state");var r=Gs(i,function(t){return t.fs===e.fs});r>=0?(e.I6(i[r]),Ys(i,r)):Ys(n.e9,t)},r=this.e9.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new FM(u);this.e9.push(new UM(u.fs,u,this.b6,o))}i.length>0&&this.b6.Nu();var a=t.map(function(t){return t.fs});this.s9.W8(a)},n.o9=function(t){for(var n=0,i=this.e9;n<i.length;n++){var e=i[n];if(e.fs!==u_.$n||e.E6)throw new l("Invalid state")}var r=new FM(t),s=new UM(u_.$n,t,this.b6,r);this.e9=[s]},n.a9=function(){for(var t=0,n=this.e9;t<n.length;t++){n[t].M6.l6()}},n.h9=function(t){var n=this.c9.dC(t,.001);return n?n.UN(n.C_-1):t},n.Y5=function(t){return!!this.c9.dC(t,.001)||this.r9.Y5(t)},n.f9=function(t){return this.v9.$D(t,.001)},n.l9=function(t,n,i){for(var e=0,r=this.e9;e<r.length;e++){var s=r[e].M6,u=s.y6;if(void 0!==u&&n>=u)return!s.wy.WN().$D(u)}return n-t<i},n.Hs=function(){this.d9(),this.w9()},n.d9=function(){this._9.Hs()},n.w9=function(){this.g9.Hs(),this.m9.forEach(function(t){return t.Hs()})},n.xs=function(){this.Hs(),this._9.xs()},T(t,[{key:"m9",get:function(){return this.e9}},{key:"_9",get:function(){return this.r9}},{key:"g9",get:function(){return this.s9}},{key:"y9",get:function(){return this.b6}},{key:"$J",get:function(){return this.r9.$J}},{key:"m6",get:function(){var t=this.b6.m6;if(t)return t;if(this.e9.length>0){var n=this.e9[0].M6.m6;if(n&&this.e9.every(function(t){return t.M6.m6===n}))return n}}},{key:"c9",get:function(){if(0===this.e9.length)return lE.yC();for(var t=this.b6.I8.nC(this.b6.R8).WN(),n=new lE([0,1/0]),i=0,e=this.e9;i<e.length;i++){for(var r=e[i],s=r.M6.wy,u=r.M6.S0,o=r.N6,a=0;a<u.length;a++)for(var h=u[a],c=h.w6.eC(h._6),f=0;f<c.C_;f++)t.oC(c.LN(f),c.UN(f),!0,!0)&&(s=s.nC(c.lC(f)));n=n.QN(s).eC(o)}return n=n.nC(t)}},{key:"v9",get:function(){if(0===this.e9.length)return lE.yC();for(var t=this.b6.R8.WN(),n=new lE([0,1/0]),i=0,e=this.e9;i<e.length;i++){for(var r=e[i],s=r.M6.wy,u=r.M6.S0,o=0;o<u.length;o++)for(var a=u[o],h=a.w6.eC(a._6),c=0;c<h.C_;c++)t.oC(h.LN(c),h.UN(c),!0,!0)&&(s=s.nC(h.lC(c)));n=n.QN(s)}return n=n.nC(t)}}]),t}();var vj=function(t){function n(){return t.call(this,cO.SJ)||this}return E(n,t),n}(Eu),dj=function(t){function n(){return t.call(this,cO.AJ)||this}return E(n,t),n}(Eu),wj=function(t){function i(n,i){var e;return(e=t.call(this)||this).Dc=void 0,e.h6=void 0,e.k9=new na,e.wL=hC,e.b9=!1,e._L=eC,e.kV=new FD,e.Vi=n,e.p9=i,e}E(i,t);var e=i.prototype;return e.WX=function(){return this.h6?this.h6.WX():this.b9},e.AV=function(t,n){BO.m$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.kV.nF(t,n),this.h6&&this.h6.AV(t,n)},e.TV=function(t,n){BO.m$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.kV.iF(t,n),this.h6&&this.h6.TV(t,n)},e.A9=function(t){this.h6=t,this.h6.fL=this._L,this.h6.oL=this.wL;for(var n,i=this.kV.eF,e=0;e<i.C_;e++)this.h6.AV(i.LN(e),i.UN(e));this.b9&&(BO.m$("LazyMediaBuffer","End of stream"),null==(n=this.h6)||n.gV());this.h6.Zs(DD.YX,this.js),this.k9.Wu(t)},e.T9=function(t){return vu(this.k9.Fu,t)},e.Yz=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.T9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Yz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.SV=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.T9());case 2:return t=n.sent,n.next=5,Fr.awrap(t.SV());case 5:case"end":return n.stop()}},null,this,null,qe)},e.Zz=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.T9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Zz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.Qh=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.T9(i));case 2:return e=r.sent,r.next=5,Fr.awrap(e.Qh(t,n,i));case 5:case"end":return r.stop()}},null,this,null,qe)},e.sV=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.T9());case 2:return i=e.sent,e.next=5,Fr.awrap(i.sV(t,n));case 5:case"end":return e.stop()}},null,this,null,qe)},e.gV=function(){this.b9=!0,this.h6&&this.h6.gV()},e.xX=function(t){return!!this.h6&&this.h6.xX(t)},e.LX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.T9());case 2:return n=i.sent,i.next=5,Fr.awrap(n.LX(t));case 5:case"end":return i.stop()}},null,this,null,qe)},e.xd=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.$s(),null==(t=this.h6)||t.tu(DD.YX,this.js);case 2:case"end":return n.stop()}},null,this,null,qe)},T(i,[{key:"Fl",get:function(){return this.Dc}},{key:"DV",get:function(){return this.Vi}},{key:"rc",get:function(){if(!this.h6)throw new lf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.h6.rc}},{key:"oL",get:function(){return this.wL},set:function(t){this.wL=t,this.h6&&(this.h6.oL=t)}},{key:"wy",get:function(){return this.h6?this.h6.wy:lE.yC()}},{key:"NV",get:function(){return this.h6?this.h6.NV:this.kV.eF}},{key:"fL",get:function(){return this._L},set:function(t){this._L=t,this.h6&&(this.h6.fL=t)}}]),i}(Tu),gj="LazyMediaSource",mj=function(){function t(t,n,i){this.S9=void 0,this.E9=void 0,this.I9=new na,this.uD=void 0,this.R9=!1,this.ua=NaN,this.yK=!1,this.D9=0,this.N9=1/0,this.C9=!1,this.P9=!1,this.sD=t,n&&(BO.m$(gj,"Created lazy media buffer for audio."),this.S9=new wj(u_.Sd,this)),i&&(BO.m$(gj,"Created lazy media buffer for video."),this.E9=new wj(u_.Ed,this))}var n=t.prototype;return n.wW=function(t){this.ua=t,this.uD&&this.uD.wW(t)},n.gV=function(){this.yK=!0,this.uD&&this.uD.gV()},n.lV=function(){this.yK=!1,this.uD&&this.uD.lV()},n.mW=function(t,n,i,e){this.D9=t,this.N9=n,this.C9=Boolean(i),this.P9=Boolean(e),this.uD&&this.uD.mW(t,n,i,e)},n.xX=function(t){return!this.uD||this.uD.xX(t)},n.LX=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.xX(t)){r.next=2;break}throw new l("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.uD){r.next=19;break}return this.sD.Sj(),r.next=6,Fr.awrap(this.sD.jh(t));case 6:e=r.sent,p(this.ua)||e.wW(this.ua),this.yK&&e.gV(),e.mW(this.D9,this.N9,this.C9,this.P9),BO.m$(gj,"The MediaSource has been loaded."),this.R9=!0,this.uD=e,null==(n=this.S9)||n.A9(this.uD.iW),null==(i=this.E9)||i.A9(this.uD.eW),this.I9.Wu(e),this.sD.Ej(),r.next=21;break;case 19:return r.next=21,Fr.awrap(this.uD.LX(t));case 21:case"end":return r.stop()}},null,this,null,qe)},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.uD){t.next=3;break}return t.next=3,Fr.awrap(this.uD.xs());case 3:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"rc",get:function(){return{fs:oA.CE,yW:[],UD:[]}}},{key:"Mm",get:function(){throw new l("Not implemented")}},{key:"iW",get:function(){return this.S9}},{key:"eW",get:function(){return this.E9}},{key:"wy",get:function(){return this.uD?this.uD.wy:lE.yC()}},{key:"Qg",get:function(){return this.uD?this.uD.Qg:this.ua}},{key:"WX",get:function(){return!!this.uD&&this.uD.WX}},{key:"Ny",get:function(){return this.uD?this.uD.Ny:new lE([0,1/0])}}]),t}();function yj(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=_j(i,"tag"),a=_j(null==e?"*":e,"range"),h=[],c=-1;for(;++c<a.length;)if(r=a[c].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];h.push(o[s])}else u.push(o[s]);o=u}return n?h:void 0}}yj(function(t,n){return"*"===n||t===n||ks(t,n+"-")},!0),yj(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var pj=yj(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function _j(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new l("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var bj,kj=function(t){function n(){return t.call(this,Pf.Sf)||this}return E(n,t),n}(Eu),Aj=function(t){function n(){return t.call(this,Pf.Tf)||this}return E(n,t),n}(Eu),Tj=16384,Sj=71,Ej=188;function Ij(t){return null!==$P(qo(t),new Jo)?bj.B9:function(t){return function(t){if(t.length<2*Ej)return-1;for(var n=g.min(1e3,t.length-2*Ej),i=0;i<=n;i++)if(t[i]===Sj&&t[i+Ej]===Sj)return i;return-1}(t)>=0}(t)?bj.O9:Rj(t)?bj.Rg:bj.vd}function Rj(t){var n=Vo(t,0,g.min(t.length,Tj));return ok.XA(qo(n))}!function(t){t[t.vd=0]="vd",t[t.Rg=1]="Rg",t[t.O9=2]="O9",t[t.B9=3]="B9"}(bj||(bj={}));var Cj=function(){function t(t,n,i,e){this.Vi=void 0,this.h6=void 0,this.x9=void 0,this.L9=void 0,this.M9=void 0,this.Vi=t,this.h6=n,this.L9=i,this.M9=e}var n=t.prototype;return n.U9=function(t){return this.h6===t},n.Zz=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Fr.awrap(this.h6.Zz(t.Hi,{X9:t.$J.z_},n));case 3:this.Vi===u_.Ed&&Rj(t.Hi.Hi)&&this.M9.F9(t.Hi.Hi);case 4:case"end":return i.stop()}},null,this,null,qe)},n.Yz=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(cu(n),BO.yT("HlsMediaBuffer","Got media data, appending to "+this.Vi+" MediaBuffer: "+lL(t.B6.LJ)),i=t.Jy,e=t.Jy+t.Qg,r={I2:t.Jy,Qg:t.Qg,fp:t.fp,X9:t.$J.z_},void 0===t.Hi){s.next=10;break}return s.next=9,Fr.awrap(this.h6.Yz(t.Hi,r,n));case 9:this.H9(t.Hi,t);case 10:this.z9(i,e);case 11:case"end":return s.stop()}},null,this,null,qe)},n.H9=function(t,n){if(Rj(t.Hi)){var i=n.Jy,e=i+n.Qg,r=n.fp;this.L9.d6(t.Hi,i,r),this.Vi===u_.Ed&&this.M9.d6(t.Hi,i,e,r)}},n.z9=function(t,n){for(var i=this.h6.wy,e=new lE([t,n]).eC(i),r=0;r<e.C_;r++)this.h6.AV(e.LN(r),e.UN(r));for(var s=0;s<i.C_;s++)this.h6.TV(i.LN(s),i.UN(s))},n.AV=function(t,n){this.h6.AV(t,n)},n.TV=function(t,n){this.h6.TV(t,n)},T(t,[{key:"fs",get:function(){return this.Vi}},{key:"wy",get:function(){return this.h6.wy}},{key:"NV",get:function(){return this.h6.NV}}]),t}(),Dj=2500;var Nj=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).V9=void 0,o.ke=void 0,o.W9=void 0,o.V9=e,o.ke=r,o.W9=s,o}return E(n,t),n.prototype.Tk=function(n){return this===n||yy(this,n)&&t.prototype.Tk.call(this,n)&&my(this.nk,n.nk)},T(n,[{key:"OS",get:function(){return this.V9}},{key:"Ai",get:function(){return this.ke}},{key:"G9",get:function(){return this.W9}},{key:"t_",get:function(){var t;return this.$w||(this.$w=wy(x_(t=this),{get schemeIDURI(){return t.OS},get value(){return t.Ai},get emsgID(){return t.G9}})),this.$w}}]),n}(U_);function Pj(t,n){return t+" "+n}var xj,Bj,Oj=function(t){function n(n){var i;return(i=t.call(this)||this).bE=void 0,i.bE=n,i}E(n,t);var i=n.prototype;return i.d6=function(t,i,e){var r=ok.MA(qo(t));if(r){var s=tk(r,fb.Jp);if(s.length){var u=n.q9(r,i,e);this.Y9(s,u,e)}}},i.Y9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.xA?r.xS.toNumber()/r.Bb+i:n+r.US/r.Bb)+r.LS/r.Bb;"https://aomedia.org/emsg/ID3"===r.OS?this.j9(r,s):this.Q9(r,s,u)}},i.Q9=function(t,n,i){var e=Pj(t.OS,t.Ai),r=this.Z9(e);r||(r=this.K9(e),this.J9(r)),r.IE(new Nj(n,i,t.OS,t.Ai,t.H_,t.MS))},i.j9=function(t,n){var i=ZP(qo(t.MS));if(i){var e=Pj(t.OS,t.Ai),r=this.Z9(e);r||(r=this.t7(e),this.J9(r));for(var s=0,u=i.wG;s<u.length;s++){var o=u[s],a=new ax(n,o);kP(a,r.hg.N_),r.IE(a)}}},n.q9=function(t,n,i){var e=Jb(t,fb.$p);return e?Qt(e.ZS,e.Bb)+i:n},i.K9=function(t){var n=this.bE.SE(Pk.uA,"","","",void 0,k_.EMSG);return n.J_=t,n.eg=Py.Q_,n},i.t7=function(t){var n=this.bE.SE(Pk.uA,"","","",void 0,k_.ID3);return n.J_=t,n.eg=Py.Q_,n},i.D_=function(){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.JA.N_;n<i.length;n++)e=i[n],this.bE.RE(e);return r.next=3,Fr.awrap(t.prototype.D_.call(this));case 3:case"end":return r.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.J9=function(t){return t.ag=b_.LOADED,this.E_(t),t},i.Z9=function(t){for(var n=0,i=this.JA.N_;n<i.length;n++){var e=i[n];if(e.J_===t)return e}},n}(Jk));function Lj(t){return"function"==typeof t.Iu}function Mj(t,n,i){if(!(i&&n.byte>=i)){var e=Lj(t)?t.Iu(n.byte):t[n.byte];return n.byte+=1,e}}function jj(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+Mj(t,n);return e}(t,n,2)}!function(t){t[t.n7=0]="n7",t[t.i7=1]="i7",t[t.e7=2]="e7",t[t.r7=3]="r7",t[t.s7=4]="s7",t[t.u7=5]="u7"}(xj||(xj={})),function(t){t[t.o7=0]="o7",t[t.a7=1]="a7",t[t.h7=2]="h7",t[t.c7=3]="c7"}(Bj||(Bj={}));var Fj,Uj=function(){function t(){this.f7=0,this.v7=[],this.rE={}}var n=t.prototype;return n.l7=function(t){this.v7=this.v7.concat(t.v7),this.f7+=t.C_},n.d7=function(t,n,i){var e=this.f7,r=i-n;r>0&&(this.v7.push({w7:n,_7:i,g7:r,m7:e,y7:t}),this.f7+=r)},n.Iu=function(t){for(var n=0,i=this.v7;n<i.length;n++){var e=i[n];if(e.m7<=t&&t<e.m7+e.g7)return e.y7[t+e.w7-e.m7]}},n.k7=function(t,n){for(var i=n,e=0,r=this.v7;e<r.length;e++)for(var s=r[e],u=s._7,o=s.w7;o<u;o+=1,i+=1)t[i]=s.y7[o];return i},n.b7=function(){for(var t=new _(this.f7),n=0,i=0,e=this.v7;i<e.length;i++)for(var r=e[i],s=r._7,u=r.w7;u<s;u+=1,n+=1)t[n]=r.y7[u];return t},n.Lu=function(n){for(var i=new t,e=0,r=this.v7;e<r.length;e++){var s=r[e];i.d7(s.y7,s.w7,s._7)}return i.rE=n||Ur({},this.rE),i},T(t,[{key:"C_",get:function(){return this.f7},set:function(t){var n=this.v7,i=this.f7-t;if(!(t>=this.f7))if(this.f7=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.g7)return r._7-=i,r.g7-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.g7}else n.length=0}},{key:"Hi",get:function(){for(var t=new Array(this.f7),n=0,i=0,e=this.v7;i<e.length;i++)for(var r=e[i],s=r._7,u=r.w7;u<s;u+=1,n+=1)t[n]=r.y7[u];return t}}]),t}();function Hj(t,n,i){return i===xj.n7?i:n!==Bj.o7&&n!==Bj.a7||i!==xj.i7&&i!==xj.e7?t?n===Bj.h7?xj.s7:n===Bj.c7?xj.r7:xj.n7:xj.u7:xj.e7}function Xj(t,n,i,e){var r={byte:i},s=xj.i7,u=[],o=31&Mj(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var h=Mj(n,r,e),c=4&h,f=3&h;s=Hj(Boolean(c),f,s);var l=Mj(n,r,e),v=Mj(n,r,e);u.push({rZ:t,kS:-1,p7:!a,A7:Boolean(c),fs:f,vQ:s,T7:l,S7:v})}return u}function zj(t,n,i){var e=Mj(t,n,i);if(!p(e))return String.fromCharCode(e)}function Vj(t){var n=t.E7,i={byte:t.I7},e=t.R7,r=Mj(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=jj(n,i);if(s===Fj.D7||s===Fj.N7){if(s===Fj.N7)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=zj(t,n);return e}(n,i,4))return;if(3===Mj(n,i,e)){s===Fj.D7&&(i.byte+=1);var u=t;return u.C7=i.byte,u}}}}function Wj(t){return 4===t.P7}function qj(t){for(var n=t.filter(Wj).map(Vj).filter(H),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,Xj(r.B7,r.E7,r.C7,r.R7))}return i}!function(t){t[t.D7=47]="D7",t[t.N7=49]="N7"}(Fj||(Fj={}));var Gj="und";function $j(t){if(t!==Gj)for(var n=t.toLowerCase(),i=0;i<Qj.length;i++){var e=Qj[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}var Yj,Qj=[{wi:"Abkhaz",_p:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{wi:"Afar",_p:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{wi:"Afrikaans",_p:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{wi:"Akan",_p:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{wi:"Albanian",_p:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{wi:"Amharic",_p:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{wi:"Arabic",_p:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{wi:"Aragonese",_p:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{wi:"Armenian",_p:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{wi:"Assamese",_p:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{wi:"Avaric",_p:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{wi:"Avestan",_p:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{wi:"Aymara",_p:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{wi:"Azerbaijani",_p:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{wi:"Bambara",_p:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{wi:"Bashkir",_p:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{wi:"Basque",_p:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{wi:"Belarusian",_p:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{wi:"Bengali",_p:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{wi:"Bihari",_p:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{wi:"Bislama",_p:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{wi:"Bosnian",_p:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{wi:"Breton",_p:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{wi:"Bulgarian",_p:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{wi:"Burmese",_p:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{wi:"Catalan",_p:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{wi:"Chamorro",_p:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{wi:"Chechen",_p:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{wi:"Chichewa",_p:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{wi:"Chinese",_p:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{wi:"Chuvash",_p:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{wi:"Cornish",_p:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{wi:"Corsican",_p:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{wi:"Cree",_p:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{wi:"Croatian",_p:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{wi:"Czech",_p:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{wi:"Danish",_p:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{wi:"Divehi",_p:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{wi:"Dutch",_p:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{wi:"Dzongkha",_p:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{wi:"English",_p:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{wi:"Esperanto",_p:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{wi:"Estonian",_p:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{wi:"Ewe",_p:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{wi:"Faroese",_p:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{wi:"Fijian",_p:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{wi:"Finnish",_p:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{wi:"French",_p:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{wi:"Fula",_p:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{wi:"Galician",_p:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{wi:"Georgian",_p:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{wi:"German",_p:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{wi:"Greek",_p:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{wi:"Guaran\xed",_p:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{wi:"Gujarati",_p:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{wi:"Haitian",_p:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{wi:"Hausa",_p:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{wi:"Hebrew",_p:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{wi:"Herero",_p:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{wi:"Hindi",_p:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{wi:"Hiri Motu",_p:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{wi:"Hungarian",_p:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{wi:"Interlingua",_p:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{wi:"Indonesian",_p:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{wi:"Interlingue",_p:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{wi:"Irish",_p:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{wi:"Igbo",_p:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{wi:"Inupiaq",_p:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{wi:"Ido",_p:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{wi:"Icelandic",_p:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{wi:"Italian",_p:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{wi:"Inuktitut",_p:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{wi:"Japanese",_p:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{wi:"Javanese",_p:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{wi:"Kalaallisut",_p:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{wi:"Kannada",_p:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{wi:"Kanuri",_p:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{wi:"Kashmiri",_p:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{wi:"Kazakh",_p:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{wi:"Khmer",_p:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{wi:"Kikuyu",_p:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{wi:"Kinyarwanda",_p:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{wi:"Kyrgyz",_p:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{wi:"Komi",_p:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{wi:"Kongo",_p:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{wi:"Korean",_p:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{wi:"Kurdish",_p:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{wi:"Kwanyama",_p:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{wi:"Latin",_p:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{wi:"Luxembourgish",_p:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{wi:"Ganda",_p:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{wi:"Limburgish",_p:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{wi:"Lingala",_p:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{wi:"Lao",_p:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{wi:"Lithuanian",_p:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{wi:"Luba-Katanga",_p:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{wi:"Latvian",_p:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{wi:"Manx",_p:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{wi:"Macedonian",_p:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{wi:"Malagasy",_p:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{wi:"Malay",_p:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{wi:"Malayalam",_p:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{wi:"Maltese",_p:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{wi:"M\u0101ori",_p:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{wi:"Marathi",_p:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{wi:"Marshallese",_p:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{wi:"Mongolian",_p:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{wi:"Nauru",_p:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{wi:"Navajo",_p:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{wi:"Northern Ndebele",_p:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{wi:"Nepali",_p:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{wi:"Ndonga",_p:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{wi:"Norwegian Bokm\xe5l",_p:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{wi:"Norwegian Nynorsk",_p:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{wi:"Norwegian",_p:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{wi:"Nuosu",_p:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{wi:"Southern Ndebele",_p:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{wi:"Occitan",_p:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{wi:"Ojibwe",_p:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{wi:"Old Church Slavonic",_p:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{wi:"Oromo",_p:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{wi:"Oriya",_p:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{wi:"Ossetian",_p:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{wi:"Panjabi",_p:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{wi:"P\u0101li",_p:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{wi:"Persian",_p:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{wi:"Polish",_p:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{wi:"Pashto",_p:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{wi:"Portuguese",_p:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{wi:"Quechua",_p:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{wi:"Romansh",_p:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{wi:"Kirundi",_p:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{wi:"Romanian",_p:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{wi:"Russian",_p:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{wi:"Sanskrit",_p:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{wi:"Sardinian",_p:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{wi:"Sindhi",_p:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{wi:"Northern Sami",_p:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{wi:"Samoan",_p:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{wi:"Sango",_p:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{wi:"Serbian",_p:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{wi:"Gaelic",_p:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{wi:"Shona",_p:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{wi:"Sinhala",_p:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{wi:"Slovak",_p:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{wi:"Slovene",_p:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{wi:"Somali",_p:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{wi:"Southern Sotho",_p:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{wi:"Spanish",_p:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{wi:"Sundanese",_p:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{wi:"Swahili",_p:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{wi:"Swati",_p:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{wi:"Swedish",_p:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{wi:"Tamil",_p:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{wi:"Telugu",_p:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{wi:"Tajik",_p:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{wi:"Thai",_p:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{wi:"Tigrinya",_p:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{wi:"Tibetan Standard",_p:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{wi:"Turkmen",_p:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{wi:"Tagalog",_p:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{wi:"Tswana",_p:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{wi:"Tonga",_p:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{wi:"Turkish",_p:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{wi:"Tsonga",_p:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{wi:"Tatar",_p:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{wi:"Twi",_p:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{wi:"Tahitian",_p:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{wi:"Uyghur",_p:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{wi:"Ukrainian",_p:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{wi:"Urdu",_p:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{wi:"Uzbek",_p:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{wi:"Venda",_p:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{wi:"Vietnamese",_p:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{wi:"Volap\xfck",_p:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{wi:"Walloon",_p:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{wi:"Welsh",_p:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{wi:"Wolof",_p:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{wi:"Western Frisian",_p:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{wi:"Xhosa",_p:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{wi:"Yiddish",_p:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{wi:"Yoruba",_p:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{wi:"Zhuang",_p:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{wi:"Zulu",_p:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],Zj=[128,64,32,16,8,4,2,1];function Kj(t,n){var i=g.floor(n.bit/8),e=0==((Lj(t)?t.Iu(i):t[i])&Zj[n.bit%8])?0:1;return n.bit+=1,e}function Jj(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+Kj(t,n);return e}function tF(t,n){for(var i=0;0===Kj(t,n)&&i<32;)i+=1;return Jj(t,n,i)+g.pow(2,i)-1}function nF(t,n){var i=tF(t,n);return 1&i?g.floor((i+1)/2):-g.floor(i/2)}function iF(t,n){var i,e=[],r={byte:1};do{e.push(rF(t,n,r)),i=n.Iu(r.byte)}while(void 0!==i&&128!==i);return e}function eF(t,n){var i,e=0;do{e+=i=Mj(t,n)}while(255===i);return e}function rF(t,n,i){var e=eF(n,i),r=eF(n,i),s=i.byte,u=s+r;return i.byte=u,{B7:t,P7:e,O7:r,I7:s,R7:u,E7:n}}!function(t){t[t.x7=1]="x7",t[t.L7=2]="L7",t[t.M7=3]="M7",t[t.U7=4]="U7",t[t.X7=5]="X7",t[t.F7=6]="F7",t[t.H7=7]="H7",t[t.z7=8]="z7",t[t.V7=9]="V7"}(Yj||(Yj={}));var sF=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function uF(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+nF(t,n)+256)%256;e=0===r?e:r}}var oF=function(){function t(t){this.W7=void 0,this.G7=[],this.q7=0,this.W7=t}var n=t.prototype;return n.Y7=function(){for(var t=this.G7,n=g.max(0,this.q7+t.length-2),i=this.W7,e=i.C_,r=0;n<e;n+=1){var s=i.Iu(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.q7=n-t.length},n.j7=function(t){for(var n=this.G7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Iu=function(t){if(!(t>this.W7.C_))return t>this.q7&&this.Y7(),this.W7.Iu(this.j7(t))},t}();var aF=24;function hF(t){var n=t.zH,i=new Uj;return i.d7(Go(n),0,n.length),function(t){var n,i,e,r,s,u,o=new oF(t),a=0,h=0,c=0,f=0,l=o.Iu(1),v={bit:32};if(tF(o,v),100===l||110===l||122===l||144===l){var d=tF(o,v);if(3===d&&(n=Kj(o,v)),tF(o,v),tF(o,v),Kj(o,v),1===Kj(o,v))for(var w=0;w<(3!==d?8:12);w+=1)1===Kj(o,v)&&uF(o,v,w<6?16:64)}var m=tF(o,v),y=tF(o,v);if(0===y)tF(o,v);else if(1===y){Kj(o,v),nF(o,v),nF(o,v);for(var p=tF(o,v),_=0;_<p;_+=1)nF(o,v)}tF(o,v),Kj(o,v);var b=tF(o,v),k=tF(o,v),A=Kj(o,v);if(0===A&&Kj(o,v),Kj(o,v),1===Kj(o,v)&&(a=tF(o,v),h=tF(o,v),c=tF(o,v),f=tF(o,v)),1===Kj(o,v)){if(1===Kj(o,v)){var T=Jj(o,v,8);if(255===T)i=Jj(o,v,16),e=Jj(o,v,16);else{var S=sF[T];S&&(i=S[0],e=S[1])}}1===Kj(o,v)&&Kj(o,v),1===Kj(o,v)&&(Jj(o,v,3),Kj(o,v),1===Kj(o,v)&&(Jj(o,v,8),Jj(o,v,8),Jj(o,v,8))),1===Kj(o,v)&&(tF(o,v),tF(o,v)),1===(r=Kj(o,v))&&(s=Jj(o,v,32),u=Jj(o,v,32),Kj(o,v))}return{width:g.floor(16*(b+1)-2*a-2*h),height:g.floor((2-A)*(k+1)*16-2*c-2*f),cS:i,fS:e,Q7:!!r&&u/(2*s),Z7:n,K7:m}}(i).Q7}function cF(t){var n=hF(t)||aF;return t.J7/n}function fF(t){return t.fs===fb.Vp}var lF,vF=65536;function dF(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.J7,s=vt.fromNumber(t.PS||0),u=e.Oy(ub.Jk(s,r));return{ttt:e.xk(),ntt:e,itt:u,ett:e}}(t,0,i,e),o=ub.$k(t.Qg||0,i.J7),a=t.LA||0,h=!(a&vF)&&(a>>24&3)!==lF.SAMPLE_DEPENDS_ON_OTHERS,c=qo(r),f=new Jo;f.Pu<c.byteLength;){var l=bo(c,f);if((31&yo(c,f,1))===Yj.F7){var v,d=new Uj;d.d7(r,f.Pu-1,f.Pu+l-1);var w=iF(u.itt,d);(v=s=s||[]).push.apply(v,qj(w))}f.Bu(l-1)}return Ur({},u,{Qg:o.xk(),rtt:o,stt:u.itt.xk(),utt:u.ttt,ott:h,att:s,htt:!1,ctt:!1})}function wF(t){return t.fs===fb.gp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(lF||(lF={}));var gF=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return E(n,t),n}(U_),mF=function(){function t(t,n){this._Z=t,this.eZ=n}return t.prototype.Tk=function(t){return this._Z===t._Z&&this.eZ===t.eZ},t}(),yF=function(){function t(t,n){this.ftt="",this.hU=t,this.ltt=n}var n=t.prototype;return n.dtt=function(t){this.ftt+=t},n.wtt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dtt(i)}},T(t,[{key:"SZ",get:function(){return this.ftt}},{key:"kZ",get:function(){return[this]}},{key:"AZ",get:function(){return this.hU}},{key:"IZ",get:function(){return this.ltt}},{key:"EZ",get:function(){return new mF(this.IZ._Z,this.IZ.eZ+this.SZ.length-1)}}]),t}(),pF=function(){function t(){}var n=t.prototype;return n._tt=function(t){return t.ip(this)},n.gtt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.ip(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.mtt=function(t,n){return new _F(t,n).ytt()},t}(),_F=function(){function t(t,n){this.ktt=[],this.btt=null,this._Z=t,this.ptt=n}var n=t.prototype;return n.ytt=function(){if(this.Att)return[];for(var t=0;t<this._Z.length;t++)this.Ttt(t);return this.Stt(),this.ktt},n.Ett=function(t){this.btt=new yF(LB,new mF(this.ptt,t))},n.Stt=function(){this.btt&&(this.ktt.push(this.btt),this.btt=null)},n.Ttt=function(t){var n=this._Z[t];bF(n)?this.btt&&this.Stt():(this.btt||this.Ett(t),this.btt.dtt(n))},T(t,[{key:"Att",get:function(){return this._Z.every(bF)}}]),t}();function bF(t){return null==t}var kF=function(){function t(){}return t.Itt=function(t,n,i){if(!(n>=i)){var e=Js(t,function(t,n){return new _F(t.map(function(t){return t?t.Rtt():null}),n).ytt()});if(0!==e.length)return new gF(n,i,e)}},t}(),AF="black",TF="white",SF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),EF=function(){function t(){this.Dtt=[],this.Ntt=0,this.Ctt=void 0;for(var t=0;t<UB;t++)this.Dtt.push(null);this.Ctt=!1}var n=t.prototype;return n.Ptt=function(t){for(var n=0;n<UB;n++)t&&(this.Dtt[n]=t.Dtt[n])},n.Tk=function(t){for(var n=0;n<UB;n++)if(this.Dtt[n]!==t.Dtt[n])return!1;return!0},n.Btt=function(){for(var t=0;t<UB;t++)if(null!==this.Dtt[t])return!1;return!0},n.Ott=function(t){this.Ntt!==t&&(this.Ntt=t),this.Ntt<0?this.Ntt=0:this.Ntt>UB&&(this.Ntt=UB-1)},n.xtt=function(t){var n=this.Ntt+t;this.Ott(n)},n.Ltt=function(){this.xtt(-1),this.Dtt[this.Ntt]=null},n.dtt=function(t){t>=144&&this.Ltt();var n,i=SF[n=t]?String.fromCharCode(SF[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Ntt>=UB||(32===Number(t)?(this.Dtt[this.Ntt]=this.Ctt?"</i>":"<i>",this.Ctt=!this.Ctt):this.Dtt[this.Ntt]=t,this.xtt(1))},n.Mtt=function(t){for(var n=t;n<UB;n++)this.Dtt[n]=null},n.Nu=function(){this.Mtt(0),this.Ntt=0},n.Utt=function(){this.Mtt(this.Ntt)},n.Xtt=function(t,n){for(var i=this.Dtt,e=null,r=0;r<UB;r++){var s=i[r];null===s?e=null:(e||(e={x_:r,y_:t,Bk:0,dT:1,Dtt:[[]]},n.push(e)),e.Dtt[0].push(s),e.Bk++)}},n.ip=function(t,n){return t.mtt(this.Dtt,n)},t}();var IF,RF=function(){function t(t,n){this.ztt=void 0,this.Vtt=void 0,this.Wtt=void 0,this.Gtt=void 0,this.qtt=void 0,this.Ytt=void 0,this.jtt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.ztt=new Array(CF+1);for(var i=0;i<=CF;i++)this.ztt[i]=new EF;this.Vtt=1,this.Wtt=0,this.Gtt=t,this.qtt=n,this.Ytt=!1,this.jtt=!1,this.Qtt=TF,this.Ztt=AF,this.D_()}var n=t.prototype;return n.Ktt=function(t,n){var i="CC"+(this.Gtt<<1|this.qtt+1);if(t>=n)return null;var e=(new pF).gtt(this.ztt.slice(1));return 0===e.length?null:{Ky:new gF(t,n,e),Xl:i,Jtt:this.Gtt<<1|this.qtt+1}},n.D_=function(){this.$tt(),this.Vtt=1},n.tnt=function(){return this.Vtt},n.nnt=function(t){this.Vtt=t},n.Ott=function(t){this.ztt[this.Vtt].Ott(t)},n.xtt=function(t){this.ztt[this.Vtt].xtt(t)},n.int=function(){return this.Wtt},n.ent=function(t){this.Wtt=t},n.dtt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case IF.rnt:i=void 0!==NF[n]?NF[n]:String.fromCharCode(n);break;case IF.snt:i=PF[n];break;case IF.unt:this.ont(),i=xF[n];break;case IF.ant:this.ont(),i=BF[n]}i&&this.ztt[this.Vtt].addParsedChar(i)}},n.ont=function(){this.ztt[this.Vtt].Ltt()},n.hnt=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.ztt[t+e]=this.ztt[n+e];else for(var r=0;r<i;r++)this.ztt[t+r]=this.ztt[n+r]},n.cnt=function(t,n){for(var i=0;i<=n;i++)this.ztt[t+i]=new EF},n.$tt=function(){this.cnt(0,CF)},n.fnt=function(){this.Vtt=this.Wtt>0?this.Wtt:0,this.$tt()},n.vnt=function(t){this.Ytt=t},n.lnt=function(t){this.jtt=t},n.dnt=function(t){this.Qtt=t},n.wnt=function(t){this.Ztt=t},t}(),CF=15;!function(t){t[t.rnt=0]="rnt",t[t.snt=1]="snt",t[t.unt=2]="unt",t[t.ant=3]="ant"}(IF||(IF={}));var DF,NF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},PF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},xF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},BF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},OF=function(){function t(t,n){this.Vi=void 0,this._nt=void 0,this.gnt=void 0,this.mnt=void 0,this.ynt=void 0,this.knt=void 0,this.bnt=void 0,this.pnt=void 0,this.Vi=DF.AN,this._nt=new RF(t,n),this.gnt=new RF(t,n),this.mnt=new RF(t,n),this.ynt=this.gnt,this.knt=0,this.bnt=void 0,this.pnt=!1}var n=t.prototype;return n.D_=function(){this.pnt=!0,this.knt=0,this.Vi=DF.AN,this.ynt=this.gnt,this.bnt=void 0,this.gnt.D_(),this.mnt.D_(),this._nt.D_()},n.Ant=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Tnt=function(t,n){var i=this.Ant(t,n),e=(30&n)>>1,r=TF,s=!1;e<7?r=FF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vi!==DF.$n){var o=this.ynt;if(this.Vi===DF.Snt&&i!==o.tnt()){var a=1+o.tnt()-o.int(),h=1+i-o.int();o.hnt(h,a,o.int()),o.cnt(0,h-1),o.cnt(i+1,CF-i)}o.nnt(i);var c=jB[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{iZ:MB[i].iZ,nZ:MB[i].nZ,eZ:MB[i].eZ,_Z:t}}(c,n);o.Ott(f.eZ),this.ynt.vnt(u),this.ynt.lnt(s),this.ynt.dnt(r),this.ynt.wnt(AF)}}},n.Ent=function(t,n){this.ynt.vnt(!1),this.ynt.lnt(!1),this.ynt.dnt(TF);var i=this.Int(t,IF.rnt," ".charCodeAt(0)),e=TF,r=!1,s=1==(1&n);return"white_italics"===(e=FF[(14&n)>>1])&&(e="white",r=!0),this.ynt.vnt(s),this.ynt.lnt(r),this.ynt.dnt(e),i},n.Int=function(t,n,i){if(this.ynt.dtt(n,i),this.Vi===DF.Rnt||this.Vi===DF.Snt){var e=this.Dnt(this.ynt,this.knt,t);return this.knt=t,e}return null},n.Dnt=function(t,n,i){return this.pnt?null:t.Ktt(n,i)},n.Nnt=function(t,n){var i=AF;0==(7&t)&&(i=jF[(14&n)>>1]),this.ynt.wnt(i)},n.Cnt=function(t){var n=LF,i=t.Pnt,e=t.Bnt,r=null;switch(i){case n.RCL:this.Ont();break;case n.BS:this.xnt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Lnt(2,e);break;case n.RU3:r=this.Lnt(3,e);break;case n.RU4:r=this.Lnt(4,e);break;case n.FON:r=this.Mnt(e);break;case n.RDC:this.Unt(e);break;case n.TR:this.Xnt();break;case n.RTD:this.Fnt();break;case n.EDM:r=this.Hnt(e);break;case n.CR:r=this.znt(e);break;case n.ENM:this.Vnt();break;case n.EOC:r=this.Wnt(e)}return r},n.znt=function(t){var n=this.ynt;if(this.Vi!==DF.Snt)return null;var i=this.Dnt(n,this.knt,t),e=n.tnt()-n.int()+1;return n.hnt(e-1,e,n.int()),n.cnt(0,e-1),n.cnt(n.tnt(),CF-n.tnt()),this.knt=t,i},n.Lnt=function(t,n){this.ynt=this.gnt;var i=this.ynt,e=null;return this.Vi!==DF.Snt&&this.Vi!==DF.$n&&(e=this.Dnt(i,this.knt,n),this.gnt.fnt(),this.mnt.fnt(),this.pnt=!1,i.nnt(CF)),this.Vi=DF.Snt,i.ent(t),e},n.Mnt=function(t){return this.Int(t,IF.rnt," ".charCodeAt(0))},n.Hnt=function(t){var n=this.gnt,i=null;return this.Vi!==DF.$n&&(i=this.Dnt(n,this.knt,t)),n.$tt(),this.pnt=!1,i},n.Unt=function(t){this.Vi=DF.Rnt,this.ynt=this.gnt,this.ynt.ent(0),this.knt=t},n.Vnt=function(){this.mnt.$tt()},n.Wnt=function(t){var n=null;this.Vi!==DF.$n&&(n=this.Dnt(this.gnt,this.knt,t));var i=this.mnt;return this.mnt=this.gnt,this.gnt=i,this.Ont(),this.knt=t,n},n.Ont=function(){this.Vi=DF.Gnt,this.ynt=this.mnt,this.ynt.ent(0)},n.xnt=function(){this.ynt.ont()},n.Xnt=function(){this._nt.D_(),this.pnt=!1,this.Fnt()},n.Fnt=function(){this.ynt=this._nt,this.Vi=DF.$n},n.qnt=function(t,n,i){return this.ynt.dtt(IF.rnt,n),this.Int(t,IF.rnt,i)},n.Ynt=function(t,n,i){var e=1&n?IF.ant:IF.unt;return this.Int(t,e,i)},n.jnt=function(t){var n=t.Qnt,i=t.Pnt,e=t.Bnt;if(this.bnt===(n<<8|i))return this.bnt=void 0,null;if(this.bnt=n<<8|i,this.Znt(n,i))this.Tnt(n,i);else{if(this.Knt(n,i))return this.Ent(e,i);if(this.Jnt(n,i))this.Nnt(n,i);else{if(this.$nt(n,i))return this.Int(e,IF.snt,i);if(this.tit(n,i))return this.Ynt(e,n,i);if(this.nit(n,i))return this.Cnt(t);this.isTabOffset(n)&&this.ynt.xtt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.nit=function(t,n){return 20==(246&t)&&32==(240&n)},n.Znt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Knt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Jnt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.$nt=function(t,n){return 17==(247&t)&&48==(240&n)},n.tit=function(t,n){return 18==(246&t)&&32==(224&n)},t.iit=function(t){return 16==(112&t)},t}(),LF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.AN=0]="AN",t[t.Gnt=1]="Gnt",t[t.Rnt=2]="Rnt",t[t.Snt=3]="Snt",t[t.$n=4]="$n"}(DF||(DF={}));var MF,jF=["black","green","blue","cyan","red","yellow","magenta","black"],FF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],UF=function(){function t(t,n,i,e,r){this.eit=void 0,this.Ytt=void 0,this.jtt=void 0,this.Ztt=void 0,this.Qtt=void 0,this.eit=t,this.Ytt=n,this.jtt=i,this.Ztt=e,this.Qtt=r}var n=t.prototype;return n.Rtt=function(){return this.eit},n.rit=function(){return this.Ytt},n.sit=function(){return this.jtt},n.uit=function(){return this.Ztt},n.oit=function(){return this.Qtt},t}(),HF=function(){function t(t){this.ait=void 0,this.DN=void 0,this.hit=void 0,this.cit=void 0,this.fit=void 0,this.vit=void 0,this.dit=void 0,this.wit=void 0,this._it=void 0,this.git=void 0,this.wk=void 0,this.Vtt=void 0,this.mit=void 0,this.jtt=void 0,this.Ytt=void 0,this.Qtt=void 0,this.Ztt=void 0,this.ait=t,this.DN=!1,this.hit=!1,this.cit=0,this.fit=0,this.vit=0,this.dit=0,this.wit=0,this._it=MF.yit,this.git=[],this.wk=0,this.Vtt=0,this.mit=0,this.jtt=!1,this.Ytt=!1,this.Qtt=TF,this.Ztt=AF,this.kit()}var n=t.prototype;return n.pit=function(t,n,i,e,r,s,u){this.DN=t,this.fit=n,this.cit=i,this.vit=e,this.hit=r,this.dit=s,this.wit=u},n.kit=function(){this.git=[];for(var t=0;t<zF;t++)this.git.push(this.Ait())},n.Ait=function(){for(var t=[],n=0;n<XF;n++)t.push(null);return t},n.Tit=function(t){this.Sit()&&(this.git[this.Vtt][this.mit]=new UF(t,this.Ytt,this.jtt,this.Ztt,this.Qtt),this.mit++)},n.Eit=function(){this.Sit()&&(this.mit<=0&&this.Vtt<=0||(this.mit<=0?(this.mit=this.wit-1,this.Vtt--):this.mit--,this.git[this.Vtt][this.mit]=null))},n.Sit=function(){var t=this.Vtt<this.dit&&this.Vtt>=0,n=this.mit<this.wit&&this.mit>=0;return t&&n},n.Iit=function(){return this.DN},n.Rit=function(t){for(var n=0,i=t;i<zF;i++,n++)this.git[n]=this.git[i];for(var e=0;e<t;e++,n++)this.git[n]=this.Ait()},n.Dit=function(){if(this.Vtt+1>=this.dit)return this.Rit(1),void(this.mit=0);this.Vtt++,this.mit=0},n.Nit=function(){this.git[this.Vtt]=this.Ait(),this.mit=0},n.Ktt=function(t,n){if(this.wk>=t)return null;var i=kF.Itt(this.git,this.wk,t);return i?(this.Cit(t),{Ky:i,Xl:"svc"+n,Jtt:n}):null},n.Pit=function(t,n){this.Vtt=t,this.mit=n},n.Bit=function(t){this.Ztt=t},n.Oit=function(t){this.Qtt=t},n.xit=function(t){this.Ytt=t},n.Lit=function(t){this.jtt=t},n.Mit=function(){this.Vtt=0,this.mit=0,this.Ytt=!1,this.jtt=!1,this.Qtt=TF,this.Ztt=AF},n.Uit=function(t){this._it=t},n.Xit=function(){this.DN=!0},n.Jm=function(){this.DN=!1},n.Fit=function(){this.DN=!this.DN},n.Cit=function(t){this.wk=t},t}();!function(t){t[t.Hit=0]="Hit",t[t.zit=1]="zit",t[t.yit=2]="yit",t[t.Vit=3]="Vit"}(MF||(MF={}));var XF=42,zF=15,VF=function(){function t(t){this.Wit=void 0,this.Git=void 0,this.qit=void 0,this.Wit=t,this.Git=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.qit=void 0}var n=t.prototype;return n.Yit=function(t){var n=t.jit(),i=n.Ai,e=n.Bnt;i===YF&&(i=i<<16|t.jit().Ai);return i>=0&&i<=31?this.Qit(i,e):i>=128&&i<=159?this.Zit(t,i,e):(i>=4096&&i<=4127?this.Kit(t,255&i):i>=4224&&i<=4255?this.Jit(t,255&i):i>=32&&i<=127?this.$it(i):i>=160&&i<=255?this.tet(i):i>=4128&&i<=4223?this.net(255&i):i>=4256&&i<=4351&&this.iet(255&i),null)},n.$it=function(t){this.qit&&(127!==t?this.qit.Tit(String.fromCharCode(t)):this.qit.Tit("\u266a"))},n.tet=function(t){this.qit&&this.qit.Tit(String.fromCharCode(t))},n.net=function(t){if(this.qit)if(void 0!==QF[t]){var n=QF[t];this.qit.Tit(n)}else this.qit.Tit("_")},n.iet=function(t){this.qit&&(160===t?this.qit.Tit("[CC]"):this.qit.Tit("_"))},n.Qit=function(t,n){if(!this.qit)return null;var i=this.qit,e=null;switch(t){case WF:i.Eit();break;case GF:i.Iit()&&(e=i.Ktt(n,this.Wit)),i.Dit();break;case $F:i.Iit()&&(e=i.Ktt(n,this.Wit)),i.Nit();break;case qF:i.Iit()&&(e=i.Ktt(n,this.Wit)),i.kit(),i.Pit(0,0)}return e},n.Zit=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.eet(e)}else{if(136===n){var r=t.jit().Ai;return this.ret(r,i)}if(137===n){var s=t.jit().Ai;this.uet(s,i)}else{if(138===n){var u=t.jit().Ai;return this.oet(u,i)}if(139===n){var o=t.jit().Ai;return this.aet(o,i)}if(140===n){var a=t.jit().Ai;return this.het(a,i)}if(143===n)return this.D_(i);if(144===n)this.cet(t);else if(145===n)this.fet(t);else if(146===n)this.Pit(t);else if(151===n)this.vet(t);else if(n>=152&&n<=159){var h=(15&n)-8;this.pit(t,h,i)}}}return null},n.Kit=function(t,n){n>=8&&n<=15?t.yA(1):n>=16&&n<=23?t.yA(2):n>=24&&n<=31&&t.yA(3)},n.Jit=function(t,n){n>=128&&n<=135?t.yA(4):n>=136&&n<=143&&t.yA(5)},n.eet=function(t){this.Git[t]&&(this.qit=this.Git[t])},n.let=Fr.mark(function t(n){var i;return Fr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Git[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.ret=function(t,n){for(var i=null,e=0,r=this.let(t);e<r.length;e++){var s=r[e],u=this.Git[s];u.Iit()&&(i=u.Ktt(n,this.Wit)),u.kit()}return i},n.uet=function(t,n){for(var i=0,e=this.let(t);i<e.length;i++){var r=e[i],s=this.Git[r];s.Iit()||s.Cit(n),s.Xit()}},n.oet=function(t,n){for(var i=null,e=0,r=this.let(t);e<r.length;e++){var s=r[e],u=this.Git[s];u.Iit()&&(i=u.Ktt(n,this.Wit)),u.Jm()}return i},n.aet=function(t,n){for(var i=null,e=0,r=this.let(t);e<r.length;e++){var s=r[e],u=this.Git[s];u.Iit()?i=u.Ktt(n,this.Wit):u.Cit(n),u.Fit()}return i},n.het=function(t,n){for(var i=null,e=0,r=this.let(t);e<r.length;e++){var s=r[e],u=this.Git[s];u.Iit()&&(i=u.Ktt(n,this.Wit)),this.Git[s]=void 0}return i},n.D_=function(t){var n=this.het(255,t);return this.Nu(),n},n.Nu=function(){this.qit=void 0,this.Git=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.cet=function(t){t.yA(1);var n=t.jit().Ai;if(this.qit){var i=(128&n)>0,e=(64&n)>0;this.qit.Lit(i),this.qit.xit(e)}},n.fet=function(t){var n=t.jit().Ai,i=t.jit().Ai;if(t.yA(1),this.qit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,h=this.det(s,r,e),c=this.det(a,o,u);this.qit.Oit(h),this.qit.Bit(c)}},n.Pit=function(t){var n=t.jit().Ai,i=t.jit().Ai;if(this.qit){var e=15&n,r=63&i;this.qit.Pit(e,r)}},n.vet=function(t){t.yA(1),t.yA(1);var n=t.jit().Ai;if(t.yA(1),this.qit){var i=3&n;this.qit.Uit(i)}},n.pit=function(t,n,i){var e=void 0!==this.Git[n];if(!e){var r=new HF(n);r.Cit(i),this.Git[n]=r}var s=t.jit().Ai,u=t.jit().Ai,o=t.jit().Ai,a=t.jit().Ai,h=t.jit().Ai,c=t.jit().Ai,f=(32&s)>0,l=127&u,v=(128&u)>0,d=o,w=1+(15&a),g=(240&a)>>4,m=1+(63&h);e&&0===(7&c)||this.Git[n].Mit(),this.Git[n].pit(f,l,d,g,v,w,m),this.qit=this.Git[n]},n.det=function(t,n,i){var e={0:0,1:0,2:1,3:1};return ZF[e[t]<<2|e[n]<<1|e[i]]},t}(),WF=8,qF=12,GF=13,$F=14,YF=16,QF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},ZF=["black","blue","green","cyan","red","magenta","yellow","white"],KF=function(){function t(){this.wet=void 0,this._et=void 0,this.met=void 0,this.wet=[],this._et=null,this.met=0}var n=t.prototype;return n.yet=function(t){if(t.fs===Bj.c7){var n=63&t.Ai;return this.met=2*n-1,void(this._et=[])}if(this._et&&(this.met>0&&(this._et.push(t),this.met--),0===this.met)){var i=new JF(this._et);this.wet.push(i),this._et=null,this.met=0}},n.ket=function(){return this.wet},n.bet=function(){this.wet=[]},n.Nu=function(){this.wet=[],this._et=[],this.met=0},t}(),JF=function(){function t(t){this.pet=void 0,this.Aet=void 0,this.pet=0,this.Aet=t}var i=t.prototype;return i.Tet=function(){return this.pet<this.Aet.length},i.Eet=function(){return this.pet},i.jit=function(){if(!this.Tet())throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Aet[this.pet++]},i.yA=function(t){if(this.pet+t>this.Aet.length)throw new lf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.pet+=t},t}(),tU=function(){function t(){this.Iet=void 0,this.Ret=void 0,this.Det=void 0,this.Net=void 0,this.Cet=void 0,this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.xet=!1,this.Iet=[],this.Ret=[],this.Det=new KF,this.Net=0,this.Cet=Vr({CC1:new OF(0,0),CC2:new OF(0,1),CC3:new OF(1,0),CC4:new OF(1,1)}),this.Pet=0,this.Bet=0,this.Oet=zr(),this.D_()}var i=t.prototype;return i.Nu=function(){this.Net=0,this.Iet=[],this.Ret=[],this.Det.Nu(),this.D_(),this.Oet.forEach(function(t){t.Nu()})},i.D_=function(){this.Pet=0,this.Bet=0,this.Cet.forEach(function(t){t.D_()})},i.N5=function(t,n){if(t.A7){var i=t.T7,e=t.S7,r=t.fs;r===Bj.o7||r===Bj.a7?this.Iet.push({Bnt:n,fs:r,Qnt:i,Pnt:e,Let:this.Iet.length}):this.xet&&(this.Ret.push({Bnt:n,fs:r,Ai:i,Let:this.Ret.length}),this.Ret.push({Bnt:n,fs:Bj.h7,Ai:e,Let:this.Ret.length}))}},i.uB=function(){var t=[];Ms(this.Iet,function(t,n){return t.Bnt-n.Bnt||t.Let-n.Let}),Ms(this.Ret,function(t,n){return t.Bnt-n.Bnt||t.Let-n.Let});for(var n=0,i=this.Iet;n<i.length;n++){var e=i[n],r=this.Met(e);r&&t.push(r)}for(var s=0,u=this.Ret;s<u.length;s++){var o=u[s];this.Det.yet(o)}for(var a=this.Det.ket(),h=0;h<a.length;h++){var c=a[h],f=this.Uet(c);t.push.apply(t,f)}return this.Det.bet(),this.Iet=[],this.Ret=[],t},i.Met=function(t){var n=t.fs;if(OF.iit(t.Qnt)){var i=t.Qnt>>3&1;0===n?this.Pet=i:this.Bet=i}var e="CC"+(n<<1|(n?this.Bet:this.Pet)+1),r=this.Cet.get(e);return 255===t.Qnt&&255===t.Pnt||!t.Qnt&&!t.Pnt||!this.Xet(t.Qnt)||!this.Xet(t.Pnt)?(++this.Net>=45&&this.D_(),null):(this.Net=0,t.Qnt&=127,t.Pnt&=127,t.Qnt||t.Pnt?OF.iit(t.Qnt)?r.jnt(t):r.qnt(t.Bnt,t.Qnt,t.Pnt):null)},i.Uet=function(t){var i=[];try{for(;t.Tet();){var e=t.jit().Ai,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.jit().Ai;if(0!==r){if(!this.Oet.has(r)){var u=new VF(r);this.Oet.set(r,u)}for(var o=this.Oet.get(r),a=t.Eet();t.Eet()-a<s;){var h=o.Yit(t);h&&i.push(h)}}}}catch(t){if(!(t instanceof lf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Xet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),nU=function(t){function n(n,i){var e;return(e=t.call(this,"Fet")||this).Jtt=n,e.Ky=i,e}return E(n,t),n}(Eu),iU=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Het=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.zet(e,e.rZ.xk()+n)}this.uB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).Vet=void 0,n.Vet=new tU,n}E(n,t);var i=n.prototype;return i.zet=function(t,n){this.Vet.N5(t,n)},i.uB=function(){for(var t=this.Vet.uB(),n=0;n<t.length;n++){var i=t[n];this.Qs(new nU(i.Jtt,i.Ky))}},i.D_=function(){this.Vet.Nu()},i.xd=function(){this.$s(),this.Vet.Nu()},n}(Tu)),eU=function(t){function n(n){var i;return(i=t.call(this)||this).Wet=void 0,i.Get=void 0,i.qet=NaN,i.Yet=NaN,i.jet=void 0,i.bE=void 0,i.Qet=function(t){i.Zet({Ket:t.Jtt,Jet:""}).IE(t.Ky)},i.bE=n,i.jet=zr(),i.Wet=new iU,i.Wet.Zs("Fet",i.Qet),i}E(n,t);var i=n.prototype;return i.$et=function(t){return this.jet.get(t)},i.Zet=function(t){var n=this.jet.get(t.Ket);return n||(n=this.trt(t),this.jet.set(t.Ket,n)),n},i.trt=function(t){var n,i=$j(t.Jet),e=i?i.wi:"";t.nrt&&(e="easy "+e),n=t.W_?"CC "+t.W_:e?"CC "+e:"CC"+t.Ket;var r=this.bE.SE(Pk.aE,n,n,e,!1,k_.CEA608);return this.E_(r),r},i.F9=function(t){var n=ok.MA(qo(t));this.Get=function(t){for(var n=0;n<t.JA.length;n++){var i=t.JA[n],e={fT:(h=t.JA[n]).NA.fT,J7:h.oT.NA.Bb},r=i.oT.yT.pT.TT.ET,s=Ws(r,function(t){return t.fs===fb.Np});if(!s){var u=Ws(r.filter(function(t){return t.fs===fb.zp}),function(t){var n;return(null==(n=t.sS)?void 0:n.fs)===fb.Np});u&&(s=u.sS)}if(s){var o=eN(qo(s.JT.Hi),new Jo),a=s.tS;return Ur({},e,{fT:i.NA.fT,JT:Ko(s.JT.Hi),Bk:s.Bk,dT:s.dT,fS:a&&a.fS,cS:a&&a.cS,irt:o.UH,ert:o.XH,X9:o.FH,zH:o.zH[0],VH:o.VH[0]})}}var h}(n.filter(wF)[0])},i.d6=function(t,n,i,e){if(this.Get&&(p(this.qet)||!Ut(this.qet,n,1e-5))){p(this.Yet)||Ut(n,this.Yet,1e-5)||this.Wet.D_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.rE.att&&n.push.apply(n,e.rE.att),delete e.rE.att}for(var r=0;r<n.length;r+=1)n[r].kS=r;return n.sort(FB)}(function(t,n,i,e,r){for(var s=[],u=n.filter(fF),o=e(i),a=0;a<u.length;a++){var h,c=u[a],f=Ws(c.JA,function(t){return t.NA.fT===i.fT});if(f)for(var l=f.NA.dS||0,v=f.NA.wS||0,d=f.SS?f.SS.SS:vt.ZERO,w=c.yS+(null!=(h=f.NA.ES)?h:vt.ZERO).toNumber(),g=0,m=f.TS;g<m.length;g++)for(var y=m[g],p=w+(y.yS||0),_=0,b=y.CS;_<b.length;_++){var k=b[_],A=k.Cu||v,T=new Uj;T.d7(t,p,p+A);var S=ub.Jk(d,i.J7);T.rE=r(k,c,i,S,Qo(t,p,p+A)),s.push(T),p+=A,d=d.add(k.Qg||l||o)}}return s}(t,ok.MA(qo(t)),this.Get,cF,dF));this.Wet.Het(r,e),this.qet=n,this.Yet=i}},i.D_=function(){var n=this;return this.Wet.D_(),this.jet.forEach(function(t){return n.I_(t)}),this.jet.clear(),this.Get=void 0,this.qet=NaN,this.Yet=NaN,t.prototype.D_.call(this)},i.xd=function(){return this.Wet.tu("Fet",this.Qet),this.Wet.xd(),t.prototype.xd.call(this)},n}(Jk);function rU(t){if(t.fs===$O.E0&&void 0!==t.OJ){var n=t.OJ.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.OJ.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var sU=function(){function t(t){this.M4=void 0,this.rrt=!1,this.M4=t}var n=t.prototype;return n.urt=function(t,n){return this.rrt?this.M4.urt(t,n):qe.resolve(!1)},n.j6=function(t,n){return this.rrt?this.M4.j6(t,n):qe.resolve(void 0)},n.Q4=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.M4.Q4(t));case 2:return n=i.sent,this.rrt=void 0!==n,i.abrupt("return",n);case 5:case"end":return i.stop()}},null,this,null,qe)},n.WM=function(t){return this.M4.WM(t)},t}(),uU="LLHLSPlayer",oU=[wp.zg,wp.Vg,wp.Wg,wp.Gg,wp.w_],aU=[Pf.bf,Pf.Df,Pf.Cf,Pf.lf],hU=50,cU=3e4,fU=function(t){function e(e,r,s,u,o,a){var h;return(h=t.call(this)||this).sD=void 0,h.pE=void 0,h.dD=void 0,h.vD=void 0,h.ort=void 0,h.art=void 0,h.hrt=void 0,h.crt=void 0,h.M4=void 0,h.Nm=void 0,h.Cm=void 0,h.Pm=void 0,h.frt=zr(),h.vrt=void 0,h.lrt=void 0,h.fD=void 0,h.L9=void 0,h.M9=void 0,h.drt=!1,h.AE=new ou,h.wrt=void 0,h.r6=void 0,h.uD=void 0,h.C5=void 0,h._rt=void 0,h.grt=new ou,h.mrt=void 0,h.e6=void 0,h.yrt=void 0,h.krt=void 0,h.brt=void 0,h.prt=void 0,h.Art=void 0,h.Trt=[],h.uW=void 0,h.oW=void 0,h.Srt=void 0,h.Ert=void 0,h.Irt=void 0,h.s9=void 0,h.Rrt=new ou,h.Drt=void 0,h.rY=new ou,h.eY=void 0,h.Nrt=-1,h.Crt=void 0,h.Prt=void 0,h.Brt=void 0,h.Ort=void 0,h.xrt=void 0,h.Lrt=void 0,h.Mrt=!0,h.Urt=0,h.Xrt=!1,h.IC=1,h.hD=rE.AN,h.oD=void 0,h.aD=void 0,h.aW=lE.yC(),h.Frt=[],h.Hrt=void 0,h.zrt=!1,h.Vrt=void 0,h.Wrt=void 0,h.Grt=!1,h.qrt=void 0,h.Yrt=void 0,h.wD=new YS,h.handleContentProtectionErrorEvent=function(t){h.oD=s_(t.errorObject),h.aD=t.errorObject,h.js(t)},h.handleBufferingErrorEvent=function(t){h.gD(new lf(n.ErrorCode.MEDIA_LOAD_ERROR,t.mu.message,t.mu))},h.jrt=function(){h.Qrt();var t=h.Qg;t!==h.Vrt&&(h.Vrt=t,h.Qs(new Ap(h.Vrt)))},h.Zrt=function(){h.Zg&&h.Qs(new Ep(h.jg))},h.Krt=function(){h.Qs(new mp(h.jg))},h.Jrt=function(){h.Qs(new yp(h.jg))},h.kD=function(){void 0!==h.Yrt&&i.jn(h.Yrt),h.Qs(new pA(h.jg))},h.$rt=function(){h.Qs(new xD(h.jg))},h.LE=function(){h.Qs(new xp(h.jg,h.ag))},h.WG=function(){var t=h.r$;Ks(h.Frt,t)||(h.Qs(new MM),h.Frt=t),h.Qs(new Sp(h.jg,h._y))},h.tst=function(){yu(h.A0())},h.vW=function(){h.Qs(new Rp(h.jg))},h.yD=function(){h.Qs(new Cp(h.jg))},h.nst=function(){h.Qs(new Dp(h.jg,h.hm))},h.ist=function(){h.sD.nm?h.Qs(new yA(h.jg)):(h.Yrt=i.Qn(function(){h.qrt=void 0,yu(h.rst())},Dj),h.Qs(new yA(h.jg)))},h.sst=function(t){hu(t)||jk(t)||Fk(t)||(h.ust(),yu(h.ost()),h.Qs(new QO(t)))},h.o6=function(){h.Qrt()},h.ast=function(t){yu(h.hst(t.$J))},h.cst=nt(function(t){var n=[h.C5,h.Drt,h.eY].filter(H);h.rY=new ou,h.eY=h.vj(n,t,h.rY.Ws).catch(h.sst)},hU),h.fst=function(t){if(!hu(t)){var i=t instanceof lf?t:new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);h.gD(i)}},h.onTextTrackChange=function(t){if(h.yrt){var n=t.i_,i=Ws(h.yrt.b2,function(t){return n===h.frt.get(t.z_)});i&&(n.eg===Py.Q_||n.eg===Py.Z_?(yu(h.vst(i)),h.frt.forEach(function(t){t!==n&&(t.eg=Py.j_)})):h.prt&&h.prt===i&&yu(h.lst(h.krt,h.brt,void 0)))}},h.retryOfflineRenditionsCallback=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(h.dst===t||h.o$===t||h.h$===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Fr.awrap(h.e6.G4(t,n));case 4:t.DJ.V3=-1/0;case 5:case"end":return i.stop()}},null,null,null,qe)},h.wst=function(){h._st()},h.gst=function(){h.mst()},h.yst=function(t){if(t.$J.xJ){var n=h.e6.T$.E4(t.$J);if(n&&!n.qH){h.e6.t6(n,t.qH),h.vrt.R$();var i=h.yrt;if(i){var e=void 0!==h.krt&&!Qs(i.E$,h.krt),r=void 0!==h.brt&&!Qs(i.I$,h.brt);(e||r)&&h.lst(e?void 0:h.krt,r?void 0:h.brt,h.prt).catch(K)}}}},h.kst=function(t){h.e6.K4(t.$J)},h.OC=s,h.F6=u,h.bst=o,h.M4=new sU(a),h.sD=e,h.pE=new MO(r,h.OC),h.dD=new YO(h.OC.iL),h.hrt=new ZO(h.sD),h.crt=new rL(h.OC),h.Nm=new o_,h.Cm=new o_,h.vrt=new LO(Jt(h),h.Nm,h.Cm),h.lrt=new xk,h.fD=new nA(h.sD,h.pE),h.L9=new Oj(h.sD),h.M9=new eU(h.sD),h.Pm=new qS([h.lrt,h.fD.JA,h.L9.JA,h.M9.JA]),h.vD=new VS(h.pE),h.sD.xD=h.vD,h.ort=new vU(Jt(h),h.sD),h.art=new bA(h.ort,!0),h.pst(),h}E(e,t);var r=e.prototype;return r.Ast=function(t){return tu(t,function(t){return t.FR})},r.rst=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.Tst());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Fr.awrap(this.Sst(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Ast(t))){e.next=14;break}return e.next=13,Fr.awrap(this.u$(i,!0));case 13:this.dD.g0(i.FR);case 14:case"end":return e.stop()}},null,this,null,qe)},r.Qrt=function(){var t=function(t){for(var n=new lE([0,1/0]),i=0,e=0;e<t.length;e++){var r=t[e],s=r.DJ.Ny;s.C_>0&&(n=n.QN(s),i=g.max(i,s.LN(0)))}if(n.C_>0)return n;return lE.mC(i)}([this.krt,this.brt].filter(H));0!==t.C_&&(this.uD&&this.uD.WX&&this.Est&&(t=new lE([t.LN(0),this.uD.Qg])),this.aW=t,this.L9.kE(t.LN(0)),this.M9.kE(t.LN(0)))},r.Gm=function(){return!1},r.iy=function(){return wE},r.Jm=function(){BO.yT(uU,"Hiding the player."),this.sD.Jm()},r.Hm=function(){BO.yT(uU,"Pausing the player."),this.sD.Hm()},r.Fm=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.sD.Fm(),this.drt){n.next=4;break}return n.next=4,Fr.awrap(this.jh());case 4:return n.next=6,Fr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,qe)},r.Ist=function(){this.oD=void 0,this.aD=void 0},r.gD=function(t){this.oD||(yu(this.D_()),this.oD=s_(t),this.aD=t,this.Qs(new Bp(t)))},r.Km=function(){BO.yT(uU,"Showing the player."),this.sD.Km()},r.qm=function(){throw new l("Not implemented")},r.Ym=function(){throw new l("Not implemented")},r.ly=function(){},r.Wm=function(t,n,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(BO.yT(uU,"Setting the player source to "+t.src+"."),this.Ist(),!this.wrt||hp(this.wrt)){r.next=6;break}return r.next=5,Fr.awrap(this.D_());case 5:cu(e);case 6:if(t.src&&!hp(t)){r.next=8;break}return r.abrupt("return");case 8:this.vD.WR(t.contentProtection),this.r6=t,this.Zs(cO.IJ,this.handleBufferingErrorEvent),this.e6=new NM(this.pE,this.M4,i.Or(t.src)),this.e6.Zs(RM.R4,this.o6),this.e6.Zs(RM.D4,this.ast),this.mrt=new LM(t,this.e6,this.sD),this.Pm.JR(this.mrt.Um),this.s9=this.bst.SK(),n.textTracks&&this.zD(n.textTracks),uA(this.Pm),this.Rst();case 20:case"end":return r.stop()}},null,this,null,qe)},r.jh=function(){return this.C5?this.C5:(this.C5=this.Pw(this.AE.Ws).catch(this.fst),this.C5)},r.Pw=function(t){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(BO.yT(uU,"Loading the player."),this.e6.n6){c.next=13;break}return c.prev=2,c.next=5,Fr.awrap(this.e6.U4(t));case 5:this.Dst(),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(2),fu(c.t0),this.Iy=!1,new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+c.t0.message,c.t0);case 13:if(this.Art=this.e6.T$.S$,this.Art.length){c.next=16;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return c.next=18,Fr.awrap(this.Nst(this.Art));case 18:if(0!==(e=c.sent).length){c.next=21;break}throw new lf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return c.next=23,Fr.awrap(this.Sst(e));case 23:(r=c.sent).length>0&&(e=r),BO.yT(uU,"Selecting initial active variant stream."),s=wU(e,null==(i=this.r6)?void 0:i.abr,this.OC),(u=mU(s.E$))&&BO.yT(uU,"Detected initial audio rendition."),(o=mU(s.I$))&&BO.yT(uU,"Detected initial video rendition."),(a=dU(s.b2))&&BO.yT(uU,"Detected initial subtitle rendition."),a||(h=dU(s.A2))&&BO.yT(uU,"Detected initial closed caption rendition."),this.Cst(s),this.vrt.A$(),this.Pst(s,h),this.lst(u,o,a).catch(K),this.drt=!0;case 39:case"end":return c.stop()}},null,this,[[2,8]],qe)},r.Dst=function(){this.Grt||(this.Grt=!0,this.ort.Bst())},r.zD=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.fD.TE(i)}},r.Pst=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=rU(e);void 0!==r&&n.push({Ket:r,Jet:e.G_||"",W_:e.wi})}return n}(t.A2),e=0;e<i.length;e++){var r=i[e];this.M9.Zet(r)}if(void 0!==n){var s=rU(n);this.M9.$et(s).eg=Py.Z_}},r.Rst=function(){this.grt.Hs(),this.grt=new ou,this._rt=this.Ost(this._rt,this.grt.Ws).catch(this.fst)},r.Ost=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.hD,!t){e.next=5;break}return e.next=4,Fr.awrap(t);case 4:cu(n);case 5:if(i!==rE.AN&&this.e6){e.next=7;break}return e.abrupt("return");case 7:if(cu(n),this.e6.n6){e.next=19;break}return e.prev=9,e.next=12,Fr.awrap(this.e6.U4(n));case 12:this.Dst(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),fu(e.t0),e.abrupt("return");case 19:if(i!==rE.uA){e.next=21;break}return e.abrupt("return");case 21:cu(n),this.jh().catch(this.fst);case 23:case"end":return e.stop()}},null,this,[[9,15]],qe)},r.s$=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.xst(i))throw new l("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Art=t},r.xst=function(t){var n=this.T$;return!!n&&Qs(n.S$,t)},r.Lst=function(t){if(this.yrt)return Ws(this.yrt.N$,function(n){return n===t})},r.Cst=function(t){if(BO.yT(uU,"Setting active variant stream."),this.yrt!==t){var n;if((null==(n=this.yrt)?void 0:n.e1)!==(null==t?void 0:t.e1)){if(this.yrt)for(var i=0,e=this.yrt.b2;i<e.length;i++){var r=e[i];this.RE(r)}if(t)for(var s=0,u=t.b2;s<u.length;s++){var o=u[s];this.Mst(o)}}this.yrt=t,this.Qs(new vj)}},r.Mst=function(t){var n=this.sD.SE(Pk.rA,void 0,t.wi,t.G_,t.NJ);this.lrt.E_(n),this.frt.set(t.z_,n),n.Zs(ny.l_,this.onTextTrackChange)},r.RE=function(t){var n=this.frt.get(t.z_);n&&(n.tu(ny.l_,this.onTextTrackChange),this.lrt.I_(n),this.frt.delete(t.z_),this.sD.RE(n))},r.Tst=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Art)?t:this.T$.S$).length||this.Art){r.next=4;break}return BO.yT(uU,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Art){r.next=7;break}return BO.yT(uU,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Fr.awrap(this.Nst(n));case 9:if((i=r.sent).length){r.next=13;break}return BO.y$(uU,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=yU(i)).length){r.next=22;break}if(!this.Xrt){r.next=17;break}return r.abrupt("return",void 0);case 17:return BO.y$(uU,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.Urt++,r.next=21,Fr.awrap(this.Ust(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,qe)},r.A0=function(){var t,n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.Tst());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.sD,o=void 0,a=void 0,o=u.jg,a=u.wy.dC(o),n=a?a.UN(0)-o:0,s.next=8,Fr.awrap(this.Sst(t));case 8:return i=s.sent,s.next=11,Fr.awrap(this.crt.A0(t,this.yrt,n,i));case 11:if(e=s.sent,r=!!this.yrt&&e.FR<this.yrt.FR,!(!!r||this.Xst(e,t,n))){s.next=17;break}return s.next=17,Fr.awrap(this.u$(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,qe)},r.Xst=function(t,n,e){var r,s;if(t===this.n$)return!1;if(t===this.Ast(n))return!0;(!this.qrt||this.qrt.i$.FR>t.FR)&&(this.qrt={i$:t,ttt:i.ir()});var u=i.ir()-this.qrt.ttt,o=null!=(r=null==(s=this.h$)?void 0:s.DJ.y0)?r:1/0;return e>=g.max(o-1,5)||u>1e3},r.Ust=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Xrt=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.brt?Ws(e.I$,function(t){return dO(t,u.brt)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Fr.awrap(this.G4(r));case 11:r.DJ.V3=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.Urt=0,o.next=24,Fr.awrap(this.Fst());case 24:o.next=29;break;case 26:return s=g.min(1e3*g.pow(2,this.Urt),cU),o.next=29,Fr.awrap(_u(s));case 29:return this.Xrt=!1,o.next=32,Fr.awrap(this.A0());case 32:case"end":return o.stop()}},null,this,[[5,15]],qe)},r.Nst=function(t){var n,i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(eu(t,function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.qH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.qH.GH,n.t1){n.next=7;break}return n.next=6,Fr.awrap(i.hrt.VX('audio/mp4; codecs="'+t.qH.GH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.qH.WH,n.t2){n.next=14;break}return n.next=13,Fr.awrap(i.hrt.VX('video/mp4; codecs="'+t.qH.WH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,qe)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.qH)?void 0:n.WH})&&(n=n.filter(function(t){return!t.qH||t.qH.WH})),n.some(function(t){var n;return null==(n=t.qH)?void 0:n.GH})&&(n=n.filter(function(t){return!t.qH||t.qH.GH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,qe)},r.Sst=function(t){var n=this;return eu(t,function(t){var i,e,r,s,u=[mU(t.E$),mU(t.I$),dU(t.b2),dU(t.A2)].filter(H);return i=u,e=function(t){return n.Hst(t)},Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Fr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,qe)})},r.Hst=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.DJ.S0.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.DJ.S0[0]).LJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.LJ,e=i.I0?sL(i.I0.LN,i.I0.C_):void 0,r.prev=7,r.next=10,Fr.awrap(this.M4.urt(i.Ai,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],qe)},r.u$=function(t,n){var i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.drt){u.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new l("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.xst(t)){u.next=6;break}throw new l("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.yrt){u.next=9;break}return BO.yT(uU,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.krt?Ws(t.E$,function(t){return dO(t,s.krt)}):void 0,e=this.brt?Ws(t.I$,function(t){return dO(t,s.brt)}):void 0,r=this.prt?Ws(t.b2,function(t){return dO(t,s.prt)}):void 0,this.Cst(t),this.qrt=void 0,u.next=16,Fr.awrap(this.lst(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,qe)},r.a$=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.drt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.yrt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.Lst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return BO.yT(uU,"Switching audio rendition"),i.next=12,Fr.awrap(this.lst(n,this.brt,this.prt,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,qe)},r.c$=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.drt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.yrt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Lst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return BO.yT(uU,"Switching video rendition"),i.next=12,Fr.awrap(this.lst(this.krt,n,this.prt,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,qe)},r.vst=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.drt){i.next=2;break}throw new l("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.yrt){i.next=4;break}throw new l("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new l("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.Lst(t)){i.next=9;break}throw new l("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return BO.yT(uU,"Switching subtitle rendition"),i.next=12,Fr.awrap(this.lst(this.krt,this.brt,n));case 12:case"end":return i.stop()}},null,this,null,qe)},r.hst=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Xrt){i.next=2;break}return i.abrupt("return");case 2:if(t.fs===$O.Ed){i.next=7;break}return i.next=5,Fr.awrap(this.zst(t,n));case 5:i.next=17;break;case 7:if(!(this.Art&&this.Art.length<=1)){i.next=15;break}if(this.brt===t){i.next=11;break}return i.next=11,Fr.awrap(this.lst(this.krt,t,this.prt));case 11:return i.next=13,Fr.awrap(this.zst(t,n));case 13:i.next=17;break;case 15:return i.next=17,Fr.awrap(this.A0());case 17:case"end":return i.stop()}},null,this,null,qe)},r.G4=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.e6.G4(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),fu(i.t0),!jk(i.t0)&&!Fk(i.t0)){i.next=11;break}return i.next=11,Fr.awrap(this.hst(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],qe)},r.zst=function(t,n){var i=this;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qs(this.Trt,t)){e.next=2;break}return e.abrupt("return");case 2:return this.Trt.push(t),e.prev=3,e.next=6,Fr.awrap(IM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,cU));case 6:if(e.prev=6,$s(this.Trt,t),t.DJ.V3!==-1/0){e.next=11;break}return e.next=11,Fr.awrap(this.Fst());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],qe)},r.lst=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.krt===t&&this.brt===n&&this.prt===i?qe.resolve():void 0===t&&void 0===n?qe.reject(new l("Trying to buffer no media renditions.")):(this.krt=t,this.brt=n,this.prt=i,this.Qrt(),this.Qs(new dj),this.rY.Hs(),this.rY=new ou,this.Rrt.Hs(),this.Rrt=new ou,this.Drt=this.Vst([this.Drt,this.eY].filter(H),t,n,i,e,r,s,this.Rrt.Ws).catch(this.sst),this.Drt)},r.Vst=function(t,n,i,e,r,s,u,o){var a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return this.ust(),l.next=5,Fr.awrap(this.ost());case 5:return a=[],s&&this.uD&&this.uD.iW&&a.push(this.uD.iW.Qh(0,1/0)),u&&this.uD&&this.uD.eW&&a.push(this.uD.eW.Qh(0,1/0)),l.next=10,Fr.awrap(qe.all(a));case 10:return cu(o),l.next=13,Fr.awrap(this.Wst(n,i,o));case 13:return this.Gst(n,i,r),this.qst(e,r),cu(o),h=n&&i&&wO(n,i),c=[i,h?void 0:n,e].filter(H),l.prev=18,l.next=21,Fr.awrap(qe.all(c.filter(function(t){return!t.DJ.H3}).map(function(t){var n;return null==(n=f.e6)?void 0:n.q4(t,o)})));case 21:l.next=26;break;case 23:l.prev=23,l.t0=l.catch(18),fu(l.t0);case 26:cu(o),this.gW(),this.Qrt(),void 0!==this.Hrt?this.cst(this.Hrt):!this.zrt&&c.every(function(t){return!t.DJ.Q1})?this.cst(1/0):this.Yst.length>0&&this.jst();case 30:case"end":return l.stop()}},null,this,[[18,23]],qe)},r.Wst=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.uD){c.next=7;break}if(s=void 0!==this.uD.iW,u=void 0!==this.uD.eW,e!==s||r!==u){c.next=7;break}return c.abrupt("return");case 7:return c.next=9,Fr.awrap(this.Qst(t,n,this.yrt));case 9:for(o=c.sent,cu(i),a=0,h=this.Yst;a<h.length;a++)h[a].m9.forEach(function(t){return t.Hs()});if(this.sD.Sj(),c.prev=13,!this.uD){c.next=17;break}return c.next=17,Fr.awrap(this.sD.D_());case 17:return c.next=19,Fr.awrap(this.Zst(o,e,r));case 19:this.uD=c.sent;case 20:return c.prev=20,this.sD.Ej(),c.finish(20);case 23:case"end":return c.stop()}},null,this,[[13,,20,23]],qe)},r.Qst=function(t,n,i){var e,r,s,u,o,a,h,c,f,l,v,d;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.qH,a=[],o&&o.GH&&(h='audio/mp4; codecs="'+o.GH+'"',BO.yT(uU,"Configuring MediaSource for initial audio rendition with codec: "+h+"."),a.push(h)),o&&o.WH&&(c='video/mp4; codecs="'+o.WH+'"',BO.yT(uU,"Configuring MediaSource for initial video rendition with codec: "+c+"."),a.push(c)),0!==a.length){w.next=7;break}return BO.y$(uU,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.DJ.S0[0])?void 0:r.X1)?e:[],l=null!=(s=null==t?void 0:null==(u=t.DJ.S0[0])?void 0:u.X1)?s:[],v=this.e6.T$,w.next=12,Fr.awrap(SL(this.r6.contentProtection,a,v.I4.concat(l).concat(f),this.pE));case 12:return d=w.sent,w.abrupt("return",{fs:oA.CE,yW:a.map(function(t){return{Fl:t}}),UD:d});case 14:case"end":return w.stop()}},null,this,null,qe)},r.Zst=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Fr.awrap(this.sD.jh(t));case 3:e=r.sent,r.next=7;break;case 6:e=new mj(this.sD,n,i);case 7:return this.uD=e,this.gW(),this._st(),this.mst(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,qe)},r.gW=function(){var t=this.uD;if(t&&p(t.Qg)){var n,i,e,r=null!=(n=null==(i=this.krt)?void 0:i.DJ.Qg)?n:null==(e=this.brt)?void 0:e.DJ.Qg;void 0!==r&&r>0&&t.wW(r)}this.Qrt()},r._st=function(){var t=this.uD;t&&(t.eW&&(t.eW.oL=this.OC.pL),t.iW&&(t.iW.oL=this.OC.pL))},r.mst=function(){var t=this.uD;t&&(t.eW&&(t.eW.fL=this.OC.fL),t.iW&&(t.iW.fL=this.OC.fL))},r.Gst=function(t,n,i){if(!this.uD)throw new l("Invalid state");this.uD.iW?this.uW&&this.uW.U9(this.uD.iW)||(this.uW=new Cj(u_.Sd,this.uD.iW,this.L9,this.M9)):this.uW=void 0,this.uD.eW?this.oW&&this.oW.U9(this.uD.eW)||(this.oW=new Cj(u_.Ed,this.uD.eW,this.L9,this.M9)):this.oW=void 0;var e,r,s,u,o,a,h,c,f,v,d,w,g,m=t&&n&&wO(t,n);if(this.oW&&n){var y=m&&this.uW?[this.oW,this.uW]:[this.oW];this.Ert?this.Ert.$J!==n&&(i&&(this.Ert.Hs(),this.Ert.y9.Nu()),this.Ert.W5(n)):(this.Ert=(e=n,r=y,this.sD,s=this.e6,u=this.pE,o=this.M4,a=this.F6,h=this.s9,c=new sj,f=new tj(u_.Ed,e,s,c,u,o,a),v=r.map(function(t){return t.fs}),d=h.Kst(e,c,s.T$.$S,v),(w=new lj(f,c,d)).u9(r),w),this.Ert._9.Zs(QM.B5,this.tst),this.Ert.g9.Zs(rj.M8,this.yst),this.Ert.g9.Zs(rj.U8,this.kst)),this.Ert.u9(y)}else{var p;null==(p=this.Ert)||p.xs(),this.Ert=void 0}this.uW&&t&&!m?(this.Srt?this.Srt.$J!==t&&(i&&(this.Srt.Hs(),this.Srt.y9.Nu()),this.Srt.W5(t)):(this.Srt=function(t,n,i,e,r,s,u,o){var a=new sj,h=new tj(u_.Sd,t,e,a,r,s,u),c=o.Kst(t,a,e.T$.$S,[n.fs]),f=new lj(h,a,c);return f.u9([n]),f}(t,this.uW,this.sD,this.e6,this.pE,this.M4,this.F6,this.s9),this.Srt.g9.Zs(rj.M8,this.yst),this.Srt.g9.Zs(rj.U8,this.kst)),this.Srt.u9([this.uW])):(null==(g=this.Srt)||g.xs(),this.Srt=void 0);this.Jst()},r.qst=function(t,n){this.Irt&&(this.Irt._9.$J===t?n&&(this.Irt.Hs(),this.Irt.y9.Nu()):(this.Irt.xs(),this.Irt=void 0));if(!this.Irt&&t){var i=this.frt.get(t.z_);i.eg=Py.Z_,this.Irt=function(t,n,i,e,r,s){var u=i.T$.$S,o=new oj(n,u),a=new sj,h=new tj(u_.$n,t,i,a,e,r,s),c=new fj(t,a,u,u_.$n),f=new lj(h,a,c);return f.o9(o),f}(t,i,this.e6,this.pE,this.M4,this.F6)}},r.Jst=function(){var t=[this.uW,this.oW].filter(H).map(function(t){return t.fs});this.e6.T$.$S.c4(t)},r.vj=function(t,n,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 2:return cu(i),r.next=5,Fr.awrap(this.ost());case 5:cu(i),this.Hrt=void 0,this.Wrt=void 0,this.zrt=!0,e=this.$st.qN(n),this.sD.xu(e),this.drt&&this.Yst.length>0&&(this.tut(this.sD.jg),this.jst());case 12:case"end":return r.stop()}},null,this,null,qe)},r.tut=function(t){for(var n=0,i=this.Yst;n<i.length;n++){var e=i[n];e.Y5(t)||(e.d9(),e.y9.S8()),e.f9(t)||(e.w9(),e.y9.E8())}},r.ust=function(){for(var t=0,n=this.Yst;t<n.length;t++){n[t].Hs()}},r.ost=function(){return qe.all([this.nut(),this.iut(),this.eut()])},r.jst=function(){this.rut(),this.sut(),this.uut()},r.Fst=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.drt&&this.Yst.length>0)){t.next=6;break}return this.Yst.forEach(function(t){return t.d9()}),t.next=4,Fr.awrap(this.nut());case 4:this.rut(),this.Yst.forEach(function(t){return t._9.t8()});case 6:case"end":return t.stop()}},null,this,null,qe)},r.rut=function(){var t=this;if(!this.Ort){var n=function(){t.Ort=void 0};this.Crt=new ou,this.Ort=this.out(this.Crt.Ws).catch(this.sst).then(n,n)}},r.nut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Crt)||t.Hs(),n=this.Ort,this.Ort=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.out=function(t){var n,i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:cu(t),n=this.Yst;case 2:for(i=[],e=this.sD.jg,r=0;r<n.length;r++)s=n[r],u=s._9,o=s.h9(e),u.E6?i.push(u.R6()):s.l9(e,o,this.OC.pL)&&((a=u.j5(o))?(c=a[0],f=a[1],u.u8(c,f,s.m6)):((h=u.$J.DJ.S0).length&&h[0].Jy>o&&(this.jg=1/0),u.e8(),u.K5(o)),i.push(u.R6()));if(0!==i.length){l.next=13;break}if(!n.every(function(t){return t._9.w8})){l.next=9;break}return l.abrupt("break",17);case 9:return l.next=11,Fr.awrap(this.sD.au(Pf.Ff,t));case 11:l.next=15;break;case 13:return l.next=15,Fr.awrap(vu(qe.race(i),t));case 15:l.next=2;break;case 17:case"end":return l.stop()}},null,this,null,qe)},r.sut=function(){var t=this;if(!this.xrt){var n=function(){t.xrt=void 0};this.Prt=new ou,this.xrt=this.aut(this.Prt.Ws).catch(this.sst).then(n,n)}},r.iut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Prt)||t.Hs(),n=this.xrt,this.xrt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.aut=function(t){var n,i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:cu(t),n=this.Yst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r._9,(u=r.g9).E6?i.push(u.R6()):(o=s.G5())?"f8"===o.fs?(u.Y8(o),i.push(u.R6())):"W1"===o.fs&&(u.G8(o),i.push(u.R6())):i.push(s.n8());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t._9.w8})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.sD.au(Pf.Ff,t));case 10:a.next=14;break;case 12:return a.next=14,Fr.awrap(vu(qe.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,qe)},r.uut=function(){var t=this;if(!this.Lrt){this.Brt=new ou;var n=function(){t.Lrt=void 0};this.Lrt=this.hut(this.Brt.Ws).catch(this.sst).then(n,n)}},r.eut=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Brt)||t.Hs(),n=this.Lrt,this.Lrt=void 0,!n){i.next=6;break}return i.next=6,Fr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,qe)},r.hut=function(t){var n,i,e,r,s,u,o,a,h,c,f,l,v,d=this;return Fr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.Yst).forEach(function(t){return t.a9()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.g9,a=0,h=u.m9;a<h.length;a++)c=h[a],f=c.U6?i:e,c.E6?f.push(c.R6()):c.D6(this.sD.jg)||((l=o.K8(c.fs))?"f8"===l.fs&&l.Y1===this.Nrt?(c.O6(l),f.push(c.R6())):"n9"===l.fs&&l.Y1===this.Nrt&&(c.Zz(l),f.push(c.R6())):r.push(o.J8(c.fs)));if(0!==i.length){w.next=15;break}if(!((v=Js(n,function(t){return t.m9.filter(function(t){return t.U6}).map(function(n){return t.g9.K8(n.fs)})})).length>0&&v.every(function(t){return void 0!==t&&"n9"===t.fs&&t.Y1!==d.Nrt}))){w.next=15;break}return w.next=12,Fr.awrap(function(){var i,e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(e=nu(i=v,function(t){return t.Y1}).Y1,!i.every(function(t){return t.Y1===e})){l.next=20;break}return r=tu(i,function(t){return t.Jy}).Jy,l.next=7,Fr.awrap(d.cut(i));case 7:if(s=l.sent,!d.uD.xX(s)){l.next=15;break}return BO.m$("Discontinuity","Seamless switch from",d.uD.rc,"to",s),l.next=12,Fr.awrap(d.uD.LX(s));case 12:BO.m$("Discontinuity","Seamless switch complete."),l.next=17;break;case 15:return l.next=17,Fr.awrap(d.fut(r,s,t));case 17:d.Nrt=i[0].Y1,l.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,h=o.m9;a<h.length;a++)for(c=h[a],f=o.g9.K8(c.fs);f&&f.Y1!==e;)o.g9.P6(f),f=o.g9.K8(c.fs);case 21:return l.abrupt("return","continue");case 22:case"end":return l.stop()}},null,null,null,qe)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.m9.length>0&&t.m9.every(function(t){return t.D6(d.sD.jg)})})&&this.uD.gV(),w.abrupt("break",23);case 19:return w.next=21,Fr.awrap(vu(qe.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,qe)},r.cut=function(t){var n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.i9.qH}),i=n.map(function(t){return{Fl:t}}),(e=Js(t,function(t){return t.i9.X1})).push.apply(e,this.e6.T$.I4),r=this.r6.contentProtection,u.next=7,Fr.awrap(SL(r,n,e,this.pE));case 7:return 0===(s=u.sent).length&&this.uD&&this.uD.rc.UD.length>0&&(s=this.uD.rc.UD),u.abrupt("return",{fs:oA.CE,yW:i,UD:s});case 10:case"end":return u.stop()}},null,this,null,qe)},r.fut=function(t,n,i){var e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=this.uD,s=r.Qg,!(u=this.jg<t)){h.next=19;break}h.prev=4,BO.m$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.gV();case 7:if(this.sD.Zg||!(this.sD.jg<t)){h.next=12;break}return h.next=10,Fr.awrap(this.sD.au([Pf.Ff,Pf.mf],i));case 10:h.next=7;break;case 12:h.next=19;break;case 14:throw h.prev=14,h.t0=h.catch(4),r.lV(),r.wW(s),h.t0;case 19:return BO.m$("Discontinuity","Perform hard switch from",null==(e=this.uD)?void 0:e.rc,"to",n),h.prev=20,this.jg<t&&(this.jg=t),this.sD.Sj(),this.oW=void 0,this.uW=void 0,this.Jst(),h.next=28,Fr.awrap(this.sD.D_());case 28:return h.next=30,Fr.awrap(this.sD.jh(n));case 30:this.uD=h.sent,this.gW(),this._st(),this.mst(),this.uD.eW&&(this.oW=new Cj(u_.Ed,this.uD.eW,this.L9,this.M9)),this.uD.iW&&(this.uW=new Cj(u_.Sd,this.uD.iW,this.L9,this.M9)),this.Jst();case 37:return h.prev=37,u&&yu(this.sD.Fm()),this.sD.Ej(),h.finish(37);case 41:this.Ert&&(o=void 0!==this.uW&&void 0===this.Srt,a=o?[this.oW,this.uW]:[this.oW],this.Ert.u9(a)),this.Srt&&this.Srt.u9([this.uW]),BO.m$("Discontinuity","Hard switch complete.");case 44:case"end":return h.stop()}},null,this,[[4,14],[20,,37,41]],qe)},r.vut=function(t){return vu(pu(Js(this.Yst,function(t){return t.m9.map(function(t){return t.R6()})})),t)},r.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return BO.yT(uU,"Unloading the player."),this.lut(),this.Ist(),t.next=5,Fr.awrap(this.D_());case 5:return this.sD.xD=void 0,this.lrt.xd(),t.next=9,Fr.awrap(this.fD.xd());case 9:return t.next=11,Fr.awrap(this.L9.xd());case 11:return t.next=13,Fr.awrap(this.M9.xd());case 13:this.Nm.xd(),this.Cm.xd(),this.Pm.xd(),this.art.xd(),this.ort.xs();case 18:case"end":return t.stop()}},null,this,null,qe)},r.D_=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return BO.yT(uU,"Resetting the player."),this.tu(cO.IJ,this.handleBufferingErrorEvent),this.Nrt=-1,this.grt.Hs(),this.grt=new ou,this.AE.Hs(),this.AE=new ou,this.rY.Hs(),this.rY=new ou,this.Rrt.Hs(),this.Rrt=new ou,t=[this._rt,this.C5,this.eY,this.Drt].filter(H),n.next=14,Fr.awrap(qe.all(t.map(function(t){return t.catch(K)})));case 14:return this._rt=void 0,this.C5=void 0,this.eY=void 0,this.Drt=void 0,this.krt=void 0,this.brt=void 0,this.prt=void 0,this.Art=void 0,this.Trt=[],this.Cst(void 0),this.ust(),n.next=27,Fr.awrap(this.ost());case 27:return this.Srt&&(this.Srt.xs(),this.Srt=void 0),this.Ert&&(this.Ert.xs(),this.Ert=void 0),this.Irt&&(this.Irt.xs(),this.Irt=void 0),this.uW=void 0,this.oW=void 0,this.uD=void 0,this.s9&&(this.s9.xs(),this.s9=void 0),this.e6&&(this.e6.xs(),this.e6=void 0),this.mrt&&(this.Pm.tD(this.mrt.Um),this.mrt=void 0),n.next=38,Fr.awrap(this.fD.D_());case 38:return n.next=40,Fr.awrap(this.L9.D_());case 40:return n.next=42,Fr.awrap(this.M9.D_());case 42:return this.sD.jD(),n.next=45,Fr.awrap(this.sD.D_());case 45:this.r6=void 0,this.wrt=void 0,this.drt=!1,this.IC=1,this.aW=lE.yC(),this.Hrt=void 0,this.Vrt=void 0,this.Wrt=void 0,this.zrt=!1,this.Grt=!1,this.art.D_(),this.wut(),this.Qs(new gp(this.jg,this.ag));case 58:case"end":return n.stop()}},null,this,null,qe)},r.wut=function(){for(var t=0,n=this.Nm.N_;t<n.length;t++){n[t].xd()}for(var i=0,e=this.Cm.N_;i<e.length;i++){e[i].xd()}for(var r=0,s=this.Pm.N_;r<s.length;r++){s[r].xd()}this.Nm.D_(),this.Cm.D_(),this.Pm.D_(),this.frt.clear()},r.pst=function(){this.art.Zs(oU,this.js),this.art.Zs(wp.Yg,this.kD),this.art.Zs(wp.qg,this.ist),this.OC.Zs("aL",this.wst),this.OC.Zs("vL",this.gst),this.sD.Zs(aU,this.js),this.sD.Zs(Pf.vf,this.handleContentProtectionErrorEvent),this.sD.Zs(Pf._f,this.jrt),this.sD.Zs(Pf.mf,this.Zrt),this.sD.Zs(Pf.Ef,this.Krt),this.sD.Zs(Pf.If,this.Jrt),this.sD.Zs(Pf.Rf,this.$rt),this.sD.Zs(wp.w_,this.LE),this.sD.Zs(Pf.Ff,this.WG),this.sD.Zs(Pf.Bf,this.vW),this.sD.Zs(Pf.Pf,this.yD),this.sD.Zs(Pf.Hf,this.nst)},r.lut=function(){this.art.tu(oU,this.js),this.art.tu(wp.Yg,this.kD),this.art.tu(wp.qg,this.ist),this.OC.tu("aL",this.wst),this.OC.tu("vL",this.gst),this.sD.tu(aU,this.js),this.sD.tu(Pf.vf,this.handleContentProtectionErrorEvent),this.sD.tu(Pf._f,this.jrt),this.sD.tu(Pf.mf,this.Zrt),this.sD.tu(Pf.Ef,this.Krt),this.sD.tu(Pf.If,this.Jrt),this.sD.tu(Pf.Rf,this.$rt),this.sD.tu(wp.w_,this.LE),this.sD.tu(Pf.Ff,this.WG),this.sD.tu(Pf.Bf,this.vW),this.sD.tu(Pf.Pf,this.yD),this.sD.tu(Pf.Hf,this.nst)},T(e,[{key:"Est",get:function(){for(var t=[this.krt,this.brt].filter(H),n=0;n<t.length;n++){var i=t[n];if(!i.DJ.Q1)return!1;var e=i.DJ.S0,r=e[e.length-1];if(r&&r.Y1!==this.Nrt)return!1}return!0}},{key:"n$",get:function(){return this.yrt}},{key:"o$",get:function(){return this.krt}},{key:"h$",get:function(){return this.brt}},{key:"dst",get:function(){return this.prt}},{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.sD.wy.tN()}},{key:"r$",get:function(){var t=[];if(this.yrt)for(var n=this.sD.jg,i=0,e=this.Yst;i<e.length;i++)for(var r=0,s=e[i].m9;r<s.length;r++){var u=s[r].C6(n);u&&!Qs(t,u)&&t.push(u)}return t}},{key:"_y",get:function(){if(this.yrt){var t=this.sD.jg;return this.yrt.l2(t)}},set:function(t){if(t&&this.yrt){var n=this.yrt.d2(t);void 0!==n&&(this.jg=n)}}},{key:"jg",get:function(){var t;return null!=(t=this.Hrt)?t:this.sD.jg},set:function(t){BO.yT(uU,"Seeking to "+t+" s."),this.Hrt=t,this.Wrt=!0,this.zrt=!0,this.Qs(new Rp(t)),this.rY.Hs(),this.cst(t)}},{key:"Qg",get:function(){var t,n,i,e,r,s,u;return this.Est?this.sD.Qg:null!=(t=null!=(n=null!=(i=null==(e=this.krt)?void 0:e.DJ.Qg)?i:null==(r=this.brt)?void 0:r.DJ.Qg)?n:null==(s=this.e6)?void 0:null==(u=s.i6)?void 0:u.DJ.Qg)?t:1/0}},{key:"Zg",get:function(){if(!this.Est)return!1;if(this.nm){var t,n,i=this.jg,e=null==(t=this.krt)?void 0:t.DJ.Qg,r=null==(n=this.brt)?void 0:n.DJ.Qg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.sD.Zg}},{key:"mu",get:function(){return this.oD}},{key:"Kg",get:function(){return this.aD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return!1}},{key:"Tm",get:function(){return Ur({},{by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.sD.iN())}},{key:"T$",get:function(){var t;return null==(t=this.e6)?void 0:t.T$}},{key:"Jg",get:function(){return this.sD.Jg},set:function(t){this.sD.Jg=t}},{key:"Iy",get:function(){return this.Mrt},set:function(t){this.Mrt!==t&&(this.Mrt=t,this.Qs(t?new kj:new Aj))}},{key:"$g",get:function(){return this.sD.$g}},{key:"tm",get:function(){return this.sD.tm},set:function(t){BO.yT(uU,"Setting playback rate to "+t+"."),this.sD.tm=t}},{key:"Ry",get:function(){return this._ut.tN()}},{key:"_ut",get:function(){return this.sD.Ry}},{key:"Dy",get:function(){return this.hD},set:function(t){this.hD!==t&&(this.hD=t,this.Rst())}},{key:"ag",get:function(){var t=this.sD.ag;return this.Grt&&(t=g.max(Ky.Ug,t)),t}},{key:"Ny",get:function(){return this.$st.tN()}},{key:"$st",get:function(){var t=this.aW,n=[this.krt,this.brt].filter(H);if(t.C_>0&&n.some(function(t){return!t.DJ.Q1})){var i=this._ut,e=t.UN(t.C_-1);if(i.C_>0&&i.UN(i.C_-1)>e){var r=i.UN(i.C_-1),s=n.reduce(function(t,n){return t.QN(n.DJ.U3)},new lE([0,1/0]));s.C_>0&&(r=g.min(r,s.UN(s.C_-1))),t=t.nC(new lE([e,r]))}}return t}},{key:"nm",get:function(){var t;return null!=(t=this.Wrt)?t:this.sD.nm}},{key:"eN",get:function(){}},{key:"Um",get:function(){return this.Pm}},{key:"Mm",get:function(){return this.Cm}},{key:"im",get:function(){return this.sD.im}},{key:"um",get:function(){return this.sD.um}},{key:"hm",get:function(){return this.sD.hm},set:function(t){BO.yT(uU,"Setting volume to "+t+"."),this.sD.hm=t}},{key:"Cy",get:function(){return this.wD}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"rN",get:function(){return this.dD}},{key:"Yst",get:function(){return[this.Srt,this.Ert,this.Irt].filter(H)}}]),e}(Tu),lU=function(){function t(){}return t.prototype.uN=function(t,n){return ep(t.type)},t}(),vU=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).EN=n,e}return E(n,t),n.prototype.Bst=function(){this.Qs(new xp(this.jg,this.ag))},T(n,[{key:"ag",get:function(){return this.EN.ag}}]),n}(kA);function dU(t){var n=Ws(t,function(t){return t.NJ}),e=t.filter(function(t){return t.CJ}),r=i.Hr,s=e.map(function(t){return t.G_}).filter(H),u=pj(s,r);return u?Ws(e,function(t){return t.G_===u}):n}function wU(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.qH&&t.qH.WH&&yN(t.qH.WH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=gU(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=gU(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.hL.type){case KR.BANDWIDTH:var r=i.AL,s=e.filter(function(t){return t.FR<=r});if(s.length>0)return nu(s,function(t){return t.FR});case KR.PERFORMANCE:return tu(e,function(t){return t.FR});case KR.QUALITY:return nu(e,function(t){return t.FR})}}function gU(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.qH&&t.qH.GH&&yN(t.qH.GH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function mU(t){var n;return null!=(n=dU(t))?n:t[0]}function yU(t){return t.filter(function(t){return t.I$.some(function(t){return t.DJ.V3<i.ir()-cU})||0===t.I$.length})}var pU=function(){function t(){}return t.prototype.H6=function(t,i,e){var r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Fr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new _(s));case 10:throw u.prev=10,u.t0=u.catch(0),new lf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],qe)},t}();function _U(t,n){if(void 0===n.gut)return{GH:void 0,WH:t};if(void 0===n.mut)return{GH:t,WH:void 0};for(var i=Oc(t),e=kU(i),r=kU(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];u instanceof vc&&(e.boxes[s]=EU(u,n.mut),r.boxes[s]=EU(u,n.gut))}var o=e.serialize().join(),a=r.serialize().join();return{GH:o,WH:a}}function bU(t){var n=Ws(t.boxes,NU);if(n){var i=Ws(n.boxes,PU);if(i)return i.handlerType}}function kU(t){var n,i=new Cc;return(n=i.boxes).push.apply(n,t.boxes),i}function AU(t){var n,i=new zh;return(n=i.boxes).push.apply(n,t.boxes),i}var TU=8;function SU(t,n){for(var i=function(t){var n,i=new nc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=IU(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new wh(new _(n.getSize()-TU));else if(s instanceof zh){var u=s,o=Gs(u.boxes,function(t){return t instanceof Hh&&t.trackId===e});if(o>=0){var a=u.boxes[o],h=AU(u);h.boxes[o]=new wh(new _(a.getSize()-TU)),i.boxes[r]=h}}}return i}function EU(t,n){for(var i=function(t){var n,i=new vc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof fc){var s=Ws(r.boxes,xU);s&&s.trackId===n&&(i.boxes[e]=new wh(new _(r.getSize()-TU)))}}return i}function IU(t){return Ws(t.boxes,DU).trackId}function RU(t){return t instanceof nc}function CU(t){return t instanceof Jh}function DU(t){return t instanceof Qh||t instanceof Zh}function NU(t){return t instanceof bh}function PU(t){return t instanceof Za}function xU(t){return t instanceof oc}function BU(t,n){var i=Jb(ok.MA(qo(t.Hi)),fb.Vp);if(!i)throw new l("Mp4Transmuxer - Unable to parse segment or part.");var e=rN(i,n),r=function(t,n){for(var i,e=0,r=t.JA;e<r.length;e++){var s,u=r[e],o=null==(s=u.SS)?void 0:s.SS;o&&u.TS.length>0&&u.TS[0].CS.length>0&&function(){var t=u.NA.fT,e=Ws(n.JA,function(n){return n.fT===t}),r=ub.Jk(o,e.Bb),s=u.TS[0].CS[0],a=void 0;a=void 0!==s.PS?r.Oy(ub.$k(s.PS,e.Bb)):r,i&&!a.zk(i)||(i=a)}()}return i}(i,n);if(void 0!==e&&void 0!==r)return{yut:e,I2:r}}var OU,LU=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Ow=void 0,u.kut=void 0,u.but=void 0,u.Aut=void 0,u.Tut=0,u.Sut=0,u.Eut=zr(),u.Ow=n,u}E(n,t);var i=n.prototype;return i.q8=function(n,i){return t.prototype.q8.call(this,n,i)},i.Iut=function(t){var n;return this.Eut.has(t.Y1)?n=this.Eut.get(t.Y1):(n=Ij(t.f8.Hi.Hi),this.Eut.set(t.Y1,n)),n},i.j8=function(n,i){var e,r,s,u,o,a,h,c,f,l,v,d,w,g,m,y,p,_,b,k,A;return Fr.async(function(T){for(;;)switch(T.prev=T.next){case 0:if(cu(i),r=this.Iut(n),s=n.f8,r===bj.O9||r===bj.B9){T.next=5;break}return T.abrupt("return",t.prototype.j8.call(this,n,i));case 5:if(u=this.Ow.Rut(),r!==bj.O9){T.next=12;break}return T.next=9,Fr.awrap(u.Dut({data:s.Hi.Hi,metadata:this.kut}));case 9:o=T.sent,T.next=15;break;case 12:return T.next=14,Fr.awrap(u.Nut({data:s.Hi.Hi,metadata:this.kut}));case 14:o=T.sent;case 15:if(cu(i),this.Q8({GH:o.metadata.audio_codec,WH:o.metadata.video_codec,YH:void 0}),a=ub.Jk(vt.fromBits(o.metadata.first_decode_timestamp.low,o.metadata.first_decode_timestamp.high),o.metadata.first_decode_timestamp.base),h=ub.Jk(vt.fromBits(o.metadata.first_presentation_timestamp.low,o.metadata.first_presentation_timestamp.high),o.metadata.first_presentation_timestamp.base),s.B6.I2=h,this.Z8(),this.d4.Y3(n.Y1)){T.next=28;break}for(c=ub.Wb(s.B6.Jy),f=0,l=this.t9;f<l.length;f++)v=l[f],this.d4.i4(n.Y1,v,a,c,!0);if(this.Z8(),this.d4.Y3(n.Y1)){T.next=28;break}return T.next=28,Fr.awrap(vu(this.d4.j3(n.Y1),i));case 28:if(d=this.d4.t4(a,s.B6),this.kut=o.metadata,w={T1:n.T1,Jy:s.B6.Jy,Qg:null!=(e=s.B6.Qg)?e:0,fp:d.xk(),Y1:n.Y1,$J:n.$J,B6:s.B6},void 0!==o.data.audio_media||void 0!==o.data.video_media){T.next=34;break}for(g=0,m=this.t9;g<m.length;g++)y=m[g],p=Ur({fs:"f8",Hi:void 0,r4:y},w),this.k8(p);return T.abrupt("return");case 34:void 0!==o.data.audio_media&&(!o.data.audio_init||this.but&&this.Tut===n.Y1&&Gu(this.but,o.data.audio_init)||(_={fs:"n9",Hi:{fs:OD.QX,Hi:o.data.audio_init},r4:u_.Sd,Y1:n.Y1,i9:{qH:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',X1:s.B6.X1},Jy:s.B6.Jy,$J:n.$J,B6:s.B6},this.but=o.data.audio_init,this.Tut=n.Y1,this.k8(_)),b=Ur({fs:"f8",Hi:{fs:OD.QX,Hi:o.data.audio_media},r4:u_.Sd},w),this.k8(b)),void 0!==o.data.video_media&&(!o.data.video_init||this.Aut&&this.Sut===n.Y1&&Gu(this.Aut,o.data.video_init)||(k={fs:"n9",Hi:{fs:OD.QX,Hi:o.data.video_init},r4:u_.Ed,Y1:n.Y1,i9:{qH:'video/mp4; codecs="'+o.metadata.video_codec+'"',X1:s.B6.X1},Jy:s.B6.Jy,$J:n.$J,B6:s.B6},this.Aut=o.data.video_init,this.Sut=n.Y1,this.k8(k)),A=Ur({fs:"f8",Hi:{fs:OD.QX,Hi:o.data.video_media},r4:u_.Ed},w),this.k8(A));case 36:case"end":return T.stop()}},null,this,null,qe)},i.Hs=function(){this.but=void 0,this.Aut=void 0,t.prototype.Hs.call(this)},n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Gz=void 0,n.Cut=void 0,n}E(n,t);var i=n.prototype;return i.q8=function(t,n){cu(n);var i=this.$J.fs,e=sN(qo(t.W1.Hi.Hi));if(!e)throw new l("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Gz=e;var r=function(t){for(var n,i,e,r=0,s=t.JA;r<s.length;r++){var u=s[r];n||(n=u.qH.GH),i||(i=u.qH.WH),e||(e=u.qH.YH)}if(n||i)return{GH:n,WH:i,YH:e};return}(e);r&&this.Q8(r);var s=function(t){var n=Oc(t),i=Ws(n.boxes,RU),e=i.boxes.filter(CU),r=Ws(e,function(t){return bU(t)===Ah.AUDIO}),s=Ws(e,function(t){return bU(t)===Ah.VIDEO}),u={gut:r?IU(r):void 0,mut:s?IU(s):void 0};if(!r||!s)return{GH:r?t:void 0,WH:s?t:void 0,rE:u};var o=kU(n),a=kU(n),h=n.boxes.indexOf(i);o.boxes[h]=SU(i,s),a.boxes[h]=SU(i,r);var c=o.serialize().join(),f=a.serialize().join();return{GH:c,WH:f,rE:u}}(t.W1.Hi.Hi);if(this.Cut=s.rE,s.WH){var u=Ws(e.JA,function(t){return t.fT===s.rE.mut}),o={fs:"n9",Hi:{fs:OD.QX,Hi:s.WH},r4:u_.Ed,Y1:t.Y1,i9:{qH:'video/mp4; codecs="'+u.qH.WH+'"',X1:t.X1},Jy:t.Jy,$J:this.$J,B6:t.W1.B6};this.k8(o)}if(s.GH){var a=Ws(e.JA,function(t){return t.fT===s.rE.gut}),h={fs:"n9",Hi:{fs:OD.QX,Hi:s.GH},r4:u_.Sd,Y1:t.Y1,i9:{qH:'audio/mp4; codecs="'+a.qH.GH+'"',X1:t.X1},Jy:t.Jy,$J:this.$J,B6:t.W1.B6};this.k8(h)}return qe.resolve()},i.j8=function(t,n){var i,e,r,s,u,o,a,h,c,f,l,v,d,w;return Fr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(cu(n),e=t.f8.B6,r=this.$J.fs,BO.yT("Mp4Transmuxer","Got media data, transmuxing for "+r+" track: "+lL(e.LJ)),s=t.f8.Hi,void 0!==(u=BU(s,this.Gz))&&(e.I2=u.I2,this.Z8()),this.d4.Y3(t.Y1)){g.next=13;break}if(o=ub.Wb(e.Jy),void 0!==u){for(a=0,h=this.t9;a<h.length;a++)c=h[a],this.d4.i4(t.Y1,c,u.yut,o,!1);this.Z8()}if(this.d4.Y3(t.Y1)){g.next=13;break}return g.next=13,Fr.awrap(vu(this.d4.j3(t.Y1),n));case 13:f=this.d4.K3(t.Y1),l={T1:t.T1,Jy:e.Jy,Qg:null!=(i=e.Qg)?i:0,fp:f.xk(),Y1:t.Y1,$J:t.$J,B6:t.f8.B6},(v=_U(s.Hi,this.Cut)).WH&&(d=Ur({fs:"f8",Hi:{fs:OD.QX,Hi:v.WH},r4:u_.Ed},l),this.k8(d)),v.GH&&(w=Ur({fs:"f8",Hi:{fs:OD.QX,Hi:v.GH},r4:u_.Sd},l),this.k8(w));case 18:case"end":return g.stop()}},null,this,null,qe)},n}(cj)),MU=function(){function t(){}return t.prototype.Kst=function(t,n,i,e){return new LU(this,t,n,i,e)},t}();!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(OU||(OU={}));var jU=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return E(n,t),n}(Eu),FU=["message","messageerror","error"],UU=function(t){function n(n){var i;return(i=t.call(this,xy.K_)||this).error=n,i}return E(n,t),n}(Eu),HU=function(t){function n(n){var i;return(i=t.call(this)||this).Put=void 0,i.But=void 0,i.Out=[],i.xut=function(t){if(i.Lut)t.Mut();else{i.Put=t,i.Put.Zs(FU,i.js);for(var n=0,e=i.Out;n<e.length;n++){var r=e[n];t.Uut(r.du,r.Xut)}Zs(i.Out)}},i.Fut=function(t){if(!i.Lut){var n=t instanceof l?t:new l("Could not create Worker.");i.Qs(new UU(n)),i.Mut()}},i.But=new ou,n(i.But.Ws).then(i.xut,i.Fut),i}E(n,t);var i=n.prototype;return i.Uut=function(t,n){this.Lut||(void 0!==this.Put?this.Put.Uut(t,n):this.Out.push({du:t,Xut:n}))},i.Mut=function(){this.Lut||(this.But.Hs(),Zs(this.Out),void 0!==this.Put&&this.Put.Mut())},T(n,[{key:"Lut",get:function(){return this.But.Ws.Ns}}]),n}(Tu);var XU=function(t){function n(n){var i;return(i=t.call(this)||this).Put=void 0,i.Hut=function(t){i.Qs(new jU("message",t.data))},i.zut=function(t){i.Qs(new jU("messageerror",t.data))},i.zY=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof l?t.error:new l(t.message);i.Qs(new UU(n)),i.Mut()},i.Put=new b(n),i.Put.addEventListener("message",i.Hut),i.Put.addEventListener("messageerror",i.zut),i.Put.addEventListener("error",i.zY),i}E(n,t);var i=n.prototype;return i.Uut=function(t,n){n?this.Put.postMessage(t,n):this.Put.postMessage(t)},i.Mut=function(){this.$s(),this.Put.removeEventListener("message",this.Hut),this.Put.removeEventListener("messageerror",this.zut),this.Put.removeEventListener("error",this.zY),this.Put.terminate()},n}(Tu),zU=0,VU="iframe.html",WU=function(n){function e(e,r){var u;(u=n.call(this)||this).Bh=void 0,u.Vut=void 0,u.Wut=void 0,u.Gut=void 0,u.qut=function(){u.Wut.removeEventListener("load",u.qut),u.Wut.contentWindow.postMessage({type:"initialize",id:u.Bh,script:u.Vut},"*")},u.Yut=function(t){t.origin===u.Gut&&t.data.id===u.Bh&&("initialized"===t.data.type||("error"===t.data.type?(u.Qs(new UU(new l(t.data.data.message))),u.Mut()):u.Qs(new jU("message",t.data.data))))},u.Bh=zU++,u.Vut=e;var o,a,h=i.Br(VU,r);return u.Wut=(o=h.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.Gut=h.origin,u.Wut.addEventListener("load",u.qut),t.addEventListener("message",u.Yut),u}E(e,n);var r=e.prototype;return r.Uut=function(t,n){n?this.Wut.contentWindow.postMessage({type:"message",data:t},"*",n):this.Wut.contentWindow.postMessage({type:"message",data:t},"*")},r.Mut=function(){var n;this.Wut.removeEventListener("load",this.qut),t.removeEventListener("message",this.Yut),null==(n=this.Wut.contentWindow)||n.postMessage({type:"terminate"},"*"),nr(this.Wut)},e}(Tu);function qU(t,n){return t=i.Or(t,n),new HU(function(e){return function(t,n,e){var r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,r=new XU(t),l.next=4,Fr.awrap($U(r,e));case 4:return l.abrupt("return",r);case 7:l.prev=7,l.t0=l.catch(0),null==(s=r)||s.Mut(),fu(l.t0);case 11:if(!GU||!Df){l.next=42;break}return l.prev=12,l.next=15,Fr.awrap(i.jw.ud({hd:t,Rd:rg.GET,td:xf.$n,Ws:e}));case 15:return o=l.sent,l.next=18,Fr.awrap(o.Ll(e));case 18:u=l.sent,l.next=24;break;case 21:l.prev=21,l.t1=l.catch(12),fu(l.t1);case 24:if(!u){l.next=42;break}return l.prev=25,h=Df([u],{type:"application/javascript"}),a=URL.createObjectURL(h),r=new XU(a),l.next=31,Fr.awrap($U(r,e));case 31:return l.abrupt("return",r);case 34:l.prev=34,l.t2=l.catch(25),null==(c=r)||c.Mut(),fu(l.t2),GU=!1;case 39:return l.prev=39,a&&URL.revokeObjectURL(a),l.finish(39);case 42:return l.prev=42,r=new WU(t,n),l.next=46,Fr.awrap($U(r,e));case 46:return l.abrupt("return",r);case 49:throw l.prev=49,l.t3=l.catch(42),null==(f=r)||f.Mut(),l.t3;case 53:case"end":return l.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],qe)}(t,n,e)})}var GU=!0;function $U(t,i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.au(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw u=e.error,new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",u);case 5:if(q(s=e.data)&&"4.2.0"===s.jut){r.next=7;break}throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.2.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s,u},null,null,null,qe)}var YU=function(){function t(t){var e=this;this.Qut=void 0,this.Zut=void 0,this.Kut=void 0,this.Put=void 0,this.Jut=0,this.$ut=zr(),this.tot=0,this.iot=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.$ut.get(n.requestId);if(!i)return;e.$ut.delete(n.requestId),n.success?(i.Wu(n.output),e.eot()):i.Gu(new lf(n.errorCode,n.error))}else n.success||e.xs(new lf(n.errorCode,n.error))},this.gw=function(t){var i=new lf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.xs(i)},this.Qut=t,this.Kut=function(){if("undefined"==typeof WebAssembly)return!1;var t=j.yn;return!(t>0&&t<=56)}();var r=this.Kut?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Zut=i.Or(r,t)}catch(t){throw new lf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Put=this.rot()}var e=t.prototype;return e.Dut=function(t){return this.uot(OU.MPEGTS_TO_FMP4,t)},e.Nut=function(t){return this.uot(OU.RAW_AUDIO_TO_FMP4,t)},e.rot=function(){var t=qU(this.Zut,this.Qut);return t.Zs("message",this.iot),t.Zs("error",this.gw),t},e.eot=function(){this.Kut||this.$ut.size>0||this.tot<10||(this.Put&&this.Put.Mut(),this.Put=this.rot(),this.tot=0)},e.uot=function(t,n){var i=++this.Jut;this.tot+=1;var e={type:t,id:i,input:n},r=new na;return this.$ut.set(i,r),this.Put.Uut(e,[n.data.buffer]),r.Fu},e.xs=function(t){void 0===t&&(t=new au),this.$ut.forEach(function(n){return n.Gu(t)}),this.$ut.clear(),this.Put.Mut()},t}(),QU=function(t){function n(n){var i;return(i=t.call(this)||this).Put=void 0,i.oot=n,i}E(n,t);var i=n.prototype;return i.Rut=function(){var t;return null!=(t=this.Put)?t:this.Put=new YU(this.oot)},i.xs=function(){this.Put&&(this.Put.xs(),this.Put=void 0)},n}(MU),ZU=function(){function t(t){this.oot=t}return t.prototype.SK=function(){return new QU(this.oot)},t}(),KU=function(){function t(t){this.zR=void 0,this.zR=t}var n=t.prototype;return n.BD=function(t){return this.zR.BD(t)},n.vJ=function(t){return this.zR.vJ(t)},n.KD=function(t){return this.zR.KD(t)},t}(),JU=function(t){function n(n){var i;return(i=t.call(this)||this).sD=void 0,i.uD=void 0,i.aot=new Hy,i.hot=function(t){return i.sy(t)},i.sD=n,i.aot.M_=n.Um,i.sD.Zs(ID,i.hot),i}E(n,t);var i=n.prototype;return i.CL=function(){return this.sD.wy},i.BL=function(){return this.sD._y},i.xL=function(){return this.sD.jg},i.ML=function(){return this.sD.Qg},i.cot=function(){return this.sD.eN},i.fot=function(){return this.sD.Zg},i.vot=function(){return this.sD.$g},i.QL=function(){return this.sD.Ry},i.JL=function(){return this.sD.ag},i.$L=function(){return this.sD.Ny},i.tM=function(){return this.sD.nm},i.nM=function(){return this.aot},i.rQ=function(){return this.sD.LU},i.lot=function(){return this.sD.xD},i.dot=function(t){this.sD.xD=t},i.wot=function(){return this.sD.Hq},i.iN=function(){return this.sD.iN()},i.Fm=function(){return this.sD.Fm()},i.Hm=function(){this.sD.Hm()},i.xu=function(t,n){this.sD.xu(t,n)},i.nN=function(t){this.sD.nN(t)},i.Km=function(){this.sD.Km()},i.Jm=function(){this.sD.Jm()},i.SE=function(t,n,i,e,r,s,u){return this.sD.SE(t,n,i,e,r,s,u)},i.VD=function(){return this.sD.VD()},i.GD=function(t,n,i,e){return this.sD.GD(t,n,i,e)},i.RE=function(t){this.sD.RE(t)},i.jD=function(){this.sD.jD()},i.VX=function(t){return this.sD.VX(t)},i.jh=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(this.sD.jh(t));case 2:return n=e.sent,i=t.fs===oA.NE?this._ot(n):this.got(n),this.uD=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,qe)},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.uD){t.next=4;break}return t.next=3,Fr.awrap(this.uD.xs());case 3:this.uD=void 0;case 4:return t.next=6,Fr.awrap(this.sD.D_());case 6:case"end":return t.stop()}},null,this,null,qe)},i.Sj=function(){this.sD.Sj()},i.Ej=function(){this.sD.Ej()},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$s(),this.sD.tu(ID,this.hot),this.aot.M_=void 0,this.aot.xd(),!this.uD){t.next=8;break}return t.next=7,Fr.awrap(this.uD.xs());case 7:this.uD=void 0;case 8:case"end":return t.stop()}},null,this,null,qe)},i.Ij=function(){this.sD.Ij()},i.mot=function(t){this.sD.tu(ID,this.hot),this.sD=t,this.aot.M_=t.Um,this.sD.Zs(ID,this.hot)},i.sy=function(t){this.Qs(t)},T(n,[{key:"yot",get:function(){return this.sD}},{key:"wy",get:function(){return this.CL()}},{key:"_y",get:function(){return this.BL()}},{key:"jg",get:function(){return this.xL()}},{key:"OU",get:function(){return this.sD.OU}},{key:"Qg",get:function(){return this.ML()}},{key:"eN",get:function(){return this.cot()}},{key:"Zg",get:function(){return this.fot()}},{key:"mu",get:function(){return this.sD.mu}},{key:"dT",get:function(){return this.sD.dT}},{key:"Bk",get:function(){return this.sD.Bk}},{key:"YD",get:function(){return this.sD.YD}},{key:"Jg",get:function(){return this.sD.Jg},set:function(t){this.sD.Jg=t}},{key:"$g",get:function(){return this.vot()}},{key:"tm",get:function(){return this.sD.tm},set:function(t){this.sD.tm=t}},{key:"Ry",get:function(){return this.QL()}},{key:"ag",get:function(){return this.JL()}},{key:"Ny",get:function(){return this.$L()}},{key:"nm",get:function(){return this.tM()}},{key:"Um",get:function(){return this.nM()}},{key:"LU",get:function(){return this.rQ()}},{key:"Nj",get:function(){return this.sD.Nj}},{key:"hm",get:function(){return this.sD.hm},set:function(t){this.sD.hm=t}},{key:"Rj",get:function(){return this.sD.Rj}},{key:"yy",get:function(){return this.sD.yy}},{key:"Cj",get:function(){return this.sD.Cj}},{key:"xD",get:function(){return this.lot()},set:function(t){this.dot(t)}},{key:"Hq",get:function(){return this.wot()}}]),n}(Tu),tH=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Dj=function(t){this.sD.Dj(t)},i.ij=function(){this.sD.ij()},i.ly=function(){this.sD.ly()},T(n,[{key:"OD",get:function(){return this.sD.OD}},{key:"IW",get:function(){return this.sD.IW}},{key:"Py",get:function(){return this.sD.Py},set:function(t){this.sD.Py=t}}]),n}(JU),nH=function(){function t(t){this.uD=void 0,this.uD=t}var n=t.prototype;return n.dc=function(){return this.uD.rc},n.$L=function(){return this.uD.Ny},n.xX=function(t){return this.uD.xX(t)},n.LX=function(t){return this.uD.LX(t)},n.xs=function(){return qe.resolve()},T(t,[{key:"rc",get:function(){return this.dc()}},{key:"Ny",get:function(){return this.$L()}},{key:"Mm",get:function(){return this.uD.Mm}}]),t}(),iH=function(t){function n(n){var i;return(i=t.call(this,n)||this).uW=void 0,i.oW=void 0,i.kot=function(t){return i.bot(t)},i}E(n,t);var i=n.prototype;return i.CL=function(){return this.uD.wy},i.ML=function(){return this.uD.Qg},i.pot=function(){return this.uD.WX},i.wW=function(t){this.uD.wW(t)},i.mW=function(t,n,i,e){this.uD.mW(t,n,i,e)},i.gV=function(){this.uD.gV()},i.lV=function(){this.uD.lV()},i.xs=function(){return this.uW&&(this.uW.xs(),this.uW=void 0),this.oW&&(this.oW.xs(),this.oW=void 0),t.prototype.xs.call(this)},i.Aot=function(t){this.uD=t,this.uW?t.iW?this.uW.I6(t.iW):(this.uW.xs(),this.uW=void 0):t.iW&&(this.uW=this.Tot(t.iW),this.uW.Zs(MD,this.kot)),this.oW?t.eW?this.oW.I6(t.eW):(this.oW.xs(),this.oW=void 0):t.eW&&(this.oW=this.Tot(t.eW),this.oW.Zs(MD,this.kot))},i.bot=function(t){},T(n,[{key:"iW",get:function(){return this.uW}},{key:"eW",get:function(){return this.oW}},{key:"wy",get:function(){return this.CL()}},{key:"Qg",get:function(){return this.ML()}},{key:"WX",get:function(){return this.pot()}}]),n}(nH),eH=function(t){function n(n){var i;return(i=t.call(this)||this).Pc=void 0,i.wL=0,i._L=0,i.Pc=n,i}E(n,t);var i=n.prototype;return i.Yz=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.SV=function(){return qe.reject(new l("Invalid media buffer"))},i.Zz=function(t,n,i){return qe.reject(new l("Invalid media buffer"))},i.WX=function(){return!1},i.gV=function(){},i.AV=function(t,n){},i.TV=function(t,n){},i.Qh=function(t,n,i){return qe.resolve()},i.sV=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.Hy=function(t,n){return qe.reject(new l("Invalid media buffer"))},i.xX=function(t){return!1},i.LX=function(t){return qe.reject(new l("Invalid media buffer"))},i.xs=function(){this.$s()},T(n,[{key:"fL",get:function(){return this._L},set:function(t){this._L=t}},{key:"wy",get:function(){return lE.yC()}},{key:"rc",get:function(){return this.Pc}},{key:"DV",get:function(){return u_.vd}},{key:"NV",get:function(){return lE.yC()}},{key:"Sot",get:function(){return!1}},{key:"oL",get:function(){return this.wL},set:function(t){this.wL=t}}]),n}(Tu),rH=function(t){function n(n){var i;return(i=t.call(this,n)||this).sD=void 0,i}E(n,t);var i=n.prototype;return i.Yz=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return cu(i),e.next=3,Fr.awrap(this.Eot(this.sD.jg,null==n?void 0:n.I2,null==n?void 0:n.Qg));case 3:if(cu(i),t.fs!==OD.Yf){e.next=10;break}return e.next=7,Fr.awrap(this.Iot(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Fr.awrap(this.Rot(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,qe)},i.Iot=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Hw(e.Hi),s=r[0],u=r[1],e={fs:OD.Yf,Hi:s},o.prev=4,o.next=7,Fr.awrap(this.Dot(e,n,i));case 7:return u.cancel(new au).catch(K),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!oC(o.t0)){o.next=20;break}return o.next=16,Fr.awrap(this.Eot(this.sD.jg,n.I2,n.Qg,i));case 16:if(!o.sent){o.next=20;break}return e={fs:OD.Yf,Hi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(K),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],qe)},i.Rot=function(t,n,i){return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,cu(i),e.next=5,Fr.awrap(this.Dot(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!oC(e.t0)){e.next=16;break}return e.next=13,Fr.awrap(this.Eot(this.sD.jg,n.I2,n.Qg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],qe)},i.Eot=function(t,n,i,e){var r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:r=uC(t,n,i,this.wy,this.oL,this.fL),s=0;case 2:if(!(s<r.length)){h.next=9;break}return u=r[s],o=u[0],a=u[1],h.next=6,Fr.awrap(this.Not(o,a,e));case 6:s++,h.next=2;break;case 9:return h.abrupt("return",r.length>0);case 10:case"end":return h.stop()}},null,this,null,qe)},i.Dot=function(n,i,e){return t.prototype.Yz.call(this,n,i,e)},i.Not=function(n,i,e){return t.prototype.Qh.call(this,n,i,e)},T(n,[{key:"fJ",get:function(){return this.sD},set:function(t){this.sD=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).h6=void 0,i.Cot=function(t){return i.sy(t)},i.h6=n,i.h6.Zs(MD,i.Cot),i}E(n,t);var i=n.prototype;return i.Pot=function(){return this.h6.fL},i.Bot=function(t){this.h6.fL=t},i.CL=function(){return this.h6.wy},i.dc=function(){return this.h6.rc},i.Oot=function(){return this.h6.NV},i.xot=function(){return this.h6.oL},i.Lot=function(t){this.h6.oL=t},i.Yz=function(t,n,i){return this.h6.Yz(t,n,i)},i.SV=function(){return this.h6.SV()},i.Zz=function(t,n,i){return this.h6.Zz(t,n,i)},i.WX=function(){return this.h6.WX()},i.gV=function(){this.h6.gV()},i.AV=function(t,n){this.h6.AV(t,n)},i.TV=function(t,n){this.h6.TV(t,n)},i.Qh=function(t,n,i){return this.h6.Qh(t,n,i)},i.sV=function(t,n){return this.h6.sV(t,n)},i.xX=function(t){return this.h6.xX(t)},i.LX=function(t){return this.h6.LX(t)},i.sy=function(t){this.Qs(t)},i.xs=function(){this.$s(),this.I6(new eH(this.rc))},i.I6=function(t){this.h6.tu(MD,this.Cot),this.h6=t,this.h6.Zs(MD,this.Cot)},T(n,[{key:"fL",get:function(){return this.Pot()},set:function(t){this.Bot(t)}},{key:"wy",get:function(){return this.CL()}},{key:"rc",get:function(){return this.dc()}},{key:"DV",get:function(){return this.h6.DV}},{key:"NV",get:function(){return this.Oot()}},{key:"oL",get:function(){return this.xot()},set:function(t){this.Lot(t)}}]),n}(Tu)),sH=function(t){function n(n){var i;return(i=t.call(this,n)||this).sD=void 0,i.Aot(n),i}return E(n,t),n.prototype.Tot=function(t){var n=new rH(t);return n.fJ=this.sD,n},T(n,[{key:"fJ",get:function(){return this.sD},set:function(t){this.sD=t,this.uW&&(this.uW.fJ=t),this.oW&&(this.oW.fJ=t)}}]),n}(iH),uH=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),T(n,[{key:"Dy",get:function(){return this.uD.Dy},set:function(t){this.uD.Dy=t}}]),n}(nH),oH=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.Dj=function(t){this.sD.Dj(t)},i.ij=function(){this.sD.ij()},i.ly=function(){this.sD.ly()},i.$m=function(){return this.sD.$m()},T(n,[{key:"OD",get:function(){return this.sD.OD}},{key:"IW",get:function(){return this.sD.IW}},{key:"um",get:function(){return this.sD.um}},{key:"im",get:function(){return this.sD.im}},{key:"Py",get:function(){return this.sD.Py},set:function(t){this.sD.Py=t}}]),n}(JU),aH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.got=function(t){var n=new sH(t);return n.fJ=this,n},i._ot=function(t){return new uH(t)},T(n,[{key:"yot",get:function(){return this.sD}}]),n}(tH),hH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.got=function(t){var n=new sH(t);return n.fJ=this,n},i._ot=function(t){return new uH(t)},T(n,[{key:"yot",get:function(){return this.sD}}]),n}(oH),cH=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.BD=function(n){return n===u_.Ed?new hH(t.prototype.BD.call(this,n)):n===u_.Sd?new aH(t.prototype.BD.call(this,n)):void 0},i.KD=function(n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Fr.awrap(i.xs());case 3:return e.next=5,Fr.awrap(t.prototype.KD.call(this,i.yot));case 5:case"end":return e.stop()}},null,this,null,qe)},n}(KU);function fH(t){return vg(t)}function lH(t,n){var i=vg(t);return n?""+i+n:""+i}var vH=function(){function t(t,n,i,e){this.Mot=t,this.Uot=n,this.Xot=i,this.Fot=e}var n=t.prototype;return n.Q4=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Mot.Hot(t.map(fH)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,qe)},n.urt=function(t,n){var i=lH(t,n);return this.Uot.Eu(i)},n.j6=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=lH(t,n),r.next=3,Fr.awrap(this.Xot.Iu(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,qe)},n.WM=function(t){return this.Fot.Iu(t)},t}(),dH=function(){function t(){}var n=t.prototype;return n.zot=function(t){return qe.resolve(!1)},n.Vot=function(t){return qe.reject(wH)},n.Wot=function(t){return qe.reject(wH)},n.Eu=function(t){return qe.resolve(!1)},n.Iu=function(t){return qe.resolve(void 0)},n.Got=function(t,n){return qe.resolve(void 0)},n.Hot=function(t){return qe.resolve([])},n.qot=function(){return qe.resolve([])},n.Yot=function(t){return qe.resolve([])},n.jot=function(t,n){return qe.resolve([])},n.Qh=function(t){return qe.reject(wH)},n.Qot=function(t){return qe.reject(wH)},n.Zot=function(){return qe.reject(wH)},t}(),wH="Storage disabled",gH=function(){function t(){this.Kot=void 0,this.S0=void 0,this.Jot=void 0,this.$ot=void 0,this.nat=void 0,this.Kot=new dH,this.S0=new dH,this.Jot=new dH,this.$ot=new dH,this.nat=new dH}return t.SK=function(){return qe.resolve(new t)},t.prototype.iat=function(t){return qe.reject(mH)},t}(),mH="Storage disabled",yH=function(){function t(t){var n=this;this.Fs=new na,this.eat=void 0,this.Fs.Wu(t),this.Fs.Fu.then(function(t){n.eat=t})}var n=t.prototype;return n.zot=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.zot(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Vot=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.rat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Vot(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Wot=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.rat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Wot(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Eu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Eu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Iu=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Iu(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Got=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.rat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Got(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Hot=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Hot(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.qot=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.eat,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.rat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.qot());case 7:case"end":return n.stop()}},null,this,null,qe)},n.Yot=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Yot(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.jot=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.eat,e.t0){e.next=5;break}return e.next=4,Fr.awrap(this.rat);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.jot(t,n));case 7:case"end":return e.stop()}},null,this,null,qe)},n.Qh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qh(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Qot=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.eat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.rat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Qot(t));case 7:case"end":return i.stop()}},null,this,null,qe)},n.Zot=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.eat,n.t0){n.next=5;break}return n.next=4,Fr.awrap(this.rat);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.Zot());case 7:case"end":return n.stop()}},null,this,null,qe)},T(t,[{key:"rat",get:function(){return this.Fs.Fu}}]),t}(),pH=function(){function t(t){var n=this;this.Fs=new na,this.sat=void 0,this.S0=void 0,this.Kot=void 0,this.Jot=void 0,this.$ot=void 0,this.nat=void 0,this.Fs.Wu(t);var i=this.Fs.Fu;i.then(function(t){n.sat=t}),this.S0=new yH(i.then(function(t){return t.S0})),this.Kot=new yH(i.then(function(t){return t.Kot})),this.Jot=new yH(i.then(function(t){return t.Jot})),this.$ot=new yH(i.then(function(t){return t.$ot})),this.nat=new yH(i.then(function(t){return t.nat}))}return t.prototype.iat=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.sat,i.t0){i.next=5;break}return i.next=4,Fr.awrap(this.uat);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Fr.awrap(n.iat(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,qe)},T(t,[{key:"uat",get:function(){return this.Fs.Fu}}]),t}();function _H(t){return new l("This storage cannot handle persistency type "+t)}var bH=function(){function t(){this.Fo=[]}var n=t.prototype;return n.zot=function(t){return qe.resolve("temporary"===t)},n.Vot=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?qe.reject(_H(n)):(this.oat(t.key),this.Fo.push(t),qe.resolve())},n.Wot=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return qe.reject(_H(n));for(var i=0;i<t.length;i++){var e=t[i];this.oat(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Fo.push(s)}return qe.resolve()},n.Eu=function(t){return qe.resolve(Boolean(this.aat(t)))},n.Iu=function(t){return qe.resolve(this.aat(t))},n.Got=function(t,n){return qe.resolve(this.fat(t,n))},n.Hot=function(t){var n=this,i=t?t.map(function(t){return n.aat(t)}):this.Fo;return qe.resolve(i.filter(H))},n.qot=function(){return qe.resolve([].concat(this.Fo))},n.Yot=function(t){return this.jot(t,"key")},n.jot=function(t,n){var i=this.Fo.filter(function(i){return i[n]===t});return qe.resolve(i)},n.Qh=function(t){return this.oat(t),qe.resolve()},n.Qot=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.oat(i)}return qe.resolve()},n.Zot=function(){return Zs(this.Fo),qe.resolve()},n.aat=function(t){return this.fat(t,"key")},n.fat=function(t,n){for(var i=0,e=this.Fo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.oat=function(t){var n=this.aat(t);n&&$s(this.Fo,n)},t}(),kH=function(){function t(){this.Kot=void 0,this.S0=void 0,this.Jot=void 0,this.$ot=void 0,this.nat=void 0,this.Kot=new bH,this.S0=new bH,this.Jot=new bH,this.$ot=new bH,this.nat=new bH}return t.SK=function(){return qe.resolve(new t)},t.prototype.iat=function(t){return t(this)},t}(),AH=function(){function t(t){this.vat=t}var n=t.prototype;return n.zot=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.zot(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.Vot=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.vat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.zot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Vot(t));case 8:i++,s.next=2;break;case 11:throw _H(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Wot=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.vat;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Fr.awrap(r.zot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.Wot(t));case 8:i++,s.next=2;break;case 11:throw _H(n);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Eu=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vat;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Fr.awrap(e.Eu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,qe)},n.Iu=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.vat;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Fr.awrap(e.Iu(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,qe)},n.Got=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.vat;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Fr.awrap(r.Got(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,qe)},n.Hot=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.vat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.Hot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.qot=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.vat;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Fr.awrap(e.qot());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,qe)},n.Yot=function(t){var n,i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.vat;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Fr.awrap(r.Yot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,qe)},n.jot=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.vat;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Fr.awrap(s.jot(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,qe)},n.Qh=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.Qh(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.Qot=function(t){var n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.vat;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Fr.awrap(e.Qot(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,qe)},n.Zot=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.vat;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Fr.awrap(i.Zot());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,qe)},t}();function TH(t){return function(){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(qe.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",SH.SK(n));case 4:case"end":return i.stop()}},null,null,null,qe)}}var SH=function(){function t(t){this.dat=void 0,this.wat=void 0,this._at=void 0,this.gat=void 0,this.mat=void 0,this.yat=void 0,this.dat=t,this.wat=new AH(t.map(function(t){return t.$ot})),this._at=new AH(t.map(function(t){return t.nat})),this.gat=new AH(t.map(function(t){return t.Jot})),this.mat=new AH(t.map(function(t){return t.Kot})),this.yat=new AH(t.map(function(t){return t.S0}))}return t.SK=function(n){return qe.resolve(new t(n))},t.prototype.iat=function(n){var i=this;if(0===this.dat.length)return n(this);var e=[],r=0;return this.dat[r].iat(function s(u){return e.push(u),++r<i.dat.length?i.dat[r].iat(s):n(new t(e))})},T(t,[{key:"$ot",get:function(){return this.wat}},{key:"nat",get:function(){return this._at}},{key:"Jot",get:function(){return this.gat}},{key:"Kot",get:function(){return this.mat}},{key:"S0",get:function(){return this.yat}}]),t}(),EH=function(){function t(t){this.bat=void 0,this.pat=[],this.Aat=!0,this.bat=t}var n=t.prototype;return n.SK=function(){return new pH(this.Tat())},n.Tat=function(){var t,n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Aat){e.next=4;break}return e.next=3,Fr.awrap(qe.resolve());case 3:this.Aat=!1;case 4:t=0,n=this.pat;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Fr.awrap(TH([kH.SK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Fr.awrap(TH([kH.SK,this.bat])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],qe)},n.bX=function(t){if(!this.Aat)throw new l("Registration overdue");this.pat.push(t)},t}(),IH=function(){function t(){}return t.bX=function(n){t.zR.bX(n)},T(t,null,[{key:"Yn",get:function(){return t.Sat||(t.Sat=t.zR.SK()),t.Sat}}]),t}();IH.zR=new EH(gH.SK),IH.Sat=void 0;var RH=function(t){function n(n,i,e,r,s,u){var o,a=new cH(n),h=a.BD(u_.Ed);return(o=t.call(this,h,i,e,r,s,u)||this).rD=void 0,o.rD=a,o}return E(n,t),n.prototype.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.prototype.xd.call(this));case 2:return n.next=4,Fr.awrap(this.rD.KD(this.sD));case 4:case"end":return n.stop()}},null,this,null,qe)},n}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.$m=function(){if(void 0!==this.sD.im)return this.sD.$m()},T(n,[{key:"Py",get:function(){return!1},set:function(t){}}]),n}(fU));iE(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).sN=jS.Ng,n}E(i,t);var e=i.prototype;return e.RI=function(t,n,i,e,r,s){return new RH(n,i,r,new pU,new ZU(e.libraryLocation),new vH(IH.Yn.Jot,IH.Yn.Kot,IH.Yn.S0,IH.Yn.nat))},e.uN=function(i,e){var r;if(!t.prototype.uN.call(this,i,e))return!1;if(null!=(r=i.hls)&&r.useLegacy){if(!Qs(TD,"hls-legacy"))throw new lf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');return!1}return!0},e.oN=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.uN=function(n,i){var e;return!!r.MediaSource&&(!j.hn&&!j.Vn&&(!i.manifestMetadataTrack&&((!j.Bn||null==(e=n.contentProtection)||!e.fairplay)&&t.prototype.uN.call(this,n,i))))},n}(lU)))),BO.F_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var CH=[];function DH(){CH.shift()()}var NH,PH=function(){function t(t){this.Eat=void 0,this.Iat=void 0,this.Rat=void 0,this.Rat=t}var n=t.prototype;return n.Dat=function(t){return this.Eat=this.Eat||{},void 0===this.Eat[t]&&(this.Eat[t]=[]),this.Eat[t]},n.addEventListener=function(t,n){var i=this.Dat(t);-1===i.indexOf(n)&&i.push(n)},n.Js=function(t){(this.Iat||(this.Iat=[])).push(t)},n.removeEventListener=function(t,n){var i=this.Dat(t);n?$s(i,n):i.length=0},n.ou=function(t){var n=this.Iat;n&&$s(n,t)},n.$s=function(){this.Eat=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),CH.push(i),void a(DH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.Dat(t.type).slice(),r=this.Iat&&this.Iat.slice(),s=0;s<e.length;s++){e[s].call(this.Rat||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.Rat||this,t)}},n.Nat=function(t){return Boolean(this.Eat&&this.Eat[t]&&this.Eat[t].length)},n.Cat=function(){return this.Eat?w.keys(this.Eat):[]},t}(),xH=function(t){function n(n,i){var e,r=LH[n];return(e=t.call(this,r?r.du:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.Pat,e.helpLinkText=r&&r.Bat,e}return E(n,t),T(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(nn);!function(t){t.Oat="LICENSE_INVALID",t.xat="MANIFEST_NOT_FOUND",t.Lat="MANIFEST_CORS_ERROR",t.Mat="INVALID_HLS_MANIFEST",t.Uat="PLAYBACK_ISSUE",t.Xat="AUDIO_ISSUE",t.Fat="BROWSER_SUPPORT_ISSUE",t.Hat="INVALID_KEY",t.zat="DECRYPTION_ERROR",t.Vat="AD_BLOCK_DETECTED",t.Wat="THEOPLAYER_NOT_INITIALIZED",t.K_="ERROR",t.Gat="MANIFEST_SEQUENCE_RESET_ERROR",t.qat="PLAYER_INCORRECTLY_CONFIGURED",t.Yat="UNSUPPORTED"}(NH||(NH={}));for(var BH,OH=[{Yu:NH.Oat,du:"The license for this player is invalid. Please contact your service provider for additional information."},{Yu:NH.xat,du:"Could not load the manifest file."},{Yu:NH.Lat,du:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",Pat:"https://www.theoplayer.com/documentation/cors.html",jat:!1},{Yu:NH.Mat,du:"The source of the player is an invalid HLS manifest.",Pat:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Yu:NH.Uat,du:"There appears to be a playback issue."},{Yu:NH.Xat,du:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Yu:NH.Fat,du:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Yu:NH.Hat,du:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Yu:NH.zat,du:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Yu:NH.Vat,du:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Yu:NH.Wat,du:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Yu:NH.K_,du:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Yu:NH.Gat,du:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Yu:NH.qat,du:"The player is incorrectly configured.",Pat:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Yu:NH.Yat,du:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],LH={},MH=0;MH<OH.length;MH++){var jH=OH[MH];LH[jH.Yu]=jH}function FH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function UH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function HH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function XH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ta(e[6]):void 0!==e[7]?{width:y(e[8]),height:y(e[10])}:void 0!==e[12]?y(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var zH,VH="x-";function WH(t,n,i,e){var r=t.split("@"),s=FH(n,i),u=m(r[0],10),o=r[1]?m(r[1],10):e;return{LJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},Qat:{LN:o,UN:o+u-1}}}function qH(t,n,i){var e,r,s,u,o,a=0,h=0,c=0,f=null,l=0,v=!1,d=[],w=null,p=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new xH(NH.Mat,{code:"HMP2670",uri:n});for(var k={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),UH(T,"#EXT")){if(UH(T,"#EXTINF"))c=(c=y(HH(T)))||.5;else if(UH(T,"#EXT-X-BYTERANGE"))f=HH(T);else if(UH(T,"#EXT-X-KEY"))(s=XH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=FH(s.uri,i);else if(UH(T,"#EXT-X-DISCONTINUITY")&&!UH(T,"#EXT-X-DISCONTINUITY-"))v=!0,l+=1;else if(UH(T,"#EXT-X-STREAM-INF"))(r=XH(T)).S2=h++,(A+=1)<b.length&&(r.uri=FH(b[A].trim(),i),k.streams.push(r));else if(UH(T,"#EXT-X-MEDIA")&&!UH(T,"#EXT-X-MEDIA-"))(u=XH(T)).uri&&(u.uri=FH(u.uri,i)),k.media.push(u);else if(UH(T,"#EXT-X-PROGRAM-DATE-TIME"))w=new Date(HH(T));else if(UH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))k.Zat=!0,k.Kat=m(HH(T),10);else if(UH(T,"#EXT-X-MEDIA-SEQUENCE"))a=m(HH(T),10),k.Jat=!0,k.$at=a;else if(UH(T,"#EXT-X-TARGETDURATION"))k.targetDuration=m(HH(T),10),k.hasTargetDuration=!0;else if(UH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))k.isEvent=!0;else if(UH(T,"#EXT-X-ENDLIST"))k.live=!1,k.hasEnd=!0;else if(UH(T,"#EXT-X-MAP")){var S=XH(T),E=S.uri,I=S.byterange;o=I?WH(I,E,i,0):FH(E,i)}else if(UH(T,"#EXT-X-VERSION"))k.version=m(HH(T),10);else if(UH(T,"#EXT-X-DATERANGE")){var R=GH(T);k.dateRanges.push(R)}}else if(UH(T,"#"));else if(0!==T.length){f?p=(e=WH(f,T,i,p)).Qat.UN+1:e=FH(T,i);var C,D=s&&Ur({},s);s&&void 0===s.iv&&(C=a%4294967295,D.iv=new _([0,0,0,0,0,0,0,0,0,0,0,0,C>>24,C>>16,C>>8,255&C])),k.fragments.push({start:0,duration:c,uri:e,S2:a,tht:v,Y1:l,key:D,G1:w,nht:d,iht:!1,eht:o}),a+=1,c=0,f=null,v=!1,w=null,d=[]}}return k.hasEnd&&k.fragments.length&&(k.fragments[k.fragments.length-1].iht=!0),k.isMasterPlaylist=0!==k.streams.length,k.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=g.min(i,o.duration),e=g.max(e,o.duration)}return{rht:i,sht:e,uht:n?t.fragments[n-1].duration:0,oht:r/n,aht:r}}(k),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(k),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(k),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.S2-n.S2})}(k),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ys(t.media,s)}}(k,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(k),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(k),k}function GH(t){var n=XH(t),i=function(t){for(var n={},i=0,e=w.keys(t);i<e.length;i++){var r=e[i];As(r,VH)&&(n[r.substr(VH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{H_:n.id,D0:n.class,eN:e,N0:r,Qg:n.duration,C0:n["planned-duration"],R0:s,P0:i,O0:u,L0:o,M0:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(zH||(zH={}));(BH={})[zH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",BH[zH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",BH[zH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",BH[zH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",BH[zH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",BH[zH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",BH[zH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var $H=function(){function t(){}return t.prototype.MA=function(t,n,i){return qH(t,n,i)},t}(),YH=3,QH=function(){function t(t,n,i){void 0===i&&(i=YH),this.pE=t,this.W6=n,this.hht=i}var n=t.prototype;return n.cht=function(t,n,i){return this.fht(t,n,!0,i)},n.vht=function(t,n,i){return this.fht(t,n,!1,i)},n.fht=function(t,n,i,e){var r,s,u,o,a,h,c,f;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.hht)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Fr.awrap(_u(s,e));case 6:s<1e4&&(s=g.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,h=new hg({hd:a,td:xf.$n,$l:n,Pd:this.W6,Rd:rg.GET,fs:sg.ld,Nd:ug.vd,Ws:e}),i.next=14,Fr.awrap(this.pE.ud(h));case 14:return c=i.sent,i.next=17,Fr.awrap(c.Ll(e));case 17:return f=i.sent,i.abrupt("return",{dht:f,wht:a,od:c.od});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],qe)},t}(),ZH=function(){function t(t){this._ht=void 0,this._ht=t}return t.prototype.ght=function(t,n,i,e){var r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this._ht;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Fr.awrap(o.ght(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),fu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],qe)},t}(),KH=function(){function t(t){this.M4=t}return t.prototype.ght=function(t,n,i,e){var r;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.M4.Q4(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{dht:r.data,wht:r.locationURL,od:r.responseURL});case 7:throw new l("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,qe)},t}(),JH=function(){function t(t){this.mht=t}return t.prototype.ght=function(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Fr.awrap(this.mht.cht(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Fr.awrap(this.mht.vht(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,qe)},t}();function tX(t,n){return new ZH([new KH(n),new JH(t)])}var nX=function(){function t(t,n,i){this.yht=t,this.kht=n,this.bht=i}var n=t.prototype;return n.ght=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Fr.awrap(this.yht.ght(t,n,i,e));case 3:return r=s.sent,s.next=6,Fr.awrap(this.pht(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,qe)},n.pht=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.kht.Vot({key:fH(t.wht),locationURL:vg(t.wht),responseURL:vg(t.od),data:t.dht,references:[this.bht.H_]}));case 2:case"end":return n.stop()}},null,this,null,qe)},t}();function iX(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var eX,rX=function(){function t(t,n,i){this.Pc=void 0,this.pE=void 0,this.yht=void 0,this.Aht=void 0,this.Aht=new $H,this.Pc=t,this.pE=i;var e=this.Pc&&this.Pc.crossOrigin===$y.Og,r=new QH(i,e,1);this.yht=tX(r,new vH(IH.Yn.Jot,IH.Yn.Kot,IH.Yn.S0,IH.Yn.nat))}var n=t.prototype;return n.jh=function(t,n,i){var e=this.Pw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Pw=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Fr.awrap(this.yht.ght([t],n));case 3:return i=r.sent,t=i.od,e=this.Aht.MA(i.dht,t,iX(t)),r.abrupt("return",{Am:e,Tht:i.dht});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof pg)){r.next=16;break}throw new xH(NH.xat,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof _g)){r.next=24;break}if(0!==r.t0.jd.Jl){r.next=21;break}throw new xH(NH.Lat,{code:"MFL3900",uri:t,status:r.t0.jd.Jl});case 21:throw new xH(NH.xat,{code:"MFL4100",uri:t,status:r.t0.jd.Jl});case 22:r.next=25;break;case 24:throw new xH(NH.K_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],qe)},t}(),sX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Sht=void 0,e.Eht=void 0,e.Iht=void 0,e.Rht=void 0,e.Dht=void 0,e.Nht=void 0,e.Cht=void 0,e.oD=void 0,e.Sht=new rX(i||{},IH.Yn.Jot,n),e}E(n,t);var i=n.prototype;return i.zm=function(){void 0!==this.Rht&&(h(this.Rht),this.Rht=void 0),this.Iht&&this.Iht.ud&&(this.Iht=void 0)},i.Pht=function(t){if(this.Cht)for(var n=0,i=this.Cht.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.Bht=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.aht<3*s)?1e3*u.rht:s?1e3*s:1e4,i===n&&(r/=2),r=g.max(r-e,1e3)},i.Oht=function(t){if(t.fragments.length>0)for(var n=this.Pht(t.fragments[0].uri),i=n&&n.S2||0,e=0,r=t.fragments;e<r.length;e++){r[e].S2+=i}},i.xht=function(t,i,e,r,s,u){var o=this;if(this.Iht&&e===this.Iht.ud){var h=tR()-i;if(r){this.Iht=void 0,this.oD=r;var c={type:"mu",mu:r};return this.dispatchEvent(c),s&&s(r)}this.Iht=void 0;var f=u.Am,l=u.Tht;f.Jat||this.Oht(f),t===this.Eht&&(this.Nht=f),this.Cht=f;var v=n.Bht(f,l,this.Dht,h);f.live?f.isMasterPlaylist||(this.Rht=a(function(){return o.Pw(t)},v)):this.zm(),s&&s(r,u);var d={type:"Lht",manifest:f,manifestText:l};this.dispatchEvent(d),this.Dht=l}},i.Pw=function(t,n){var i=this,e=tR(),r=t;h(this.Rht),this.Rht=void 0;var s=this.Sht.jh(r,{},function(r,u){return i.xht(t,e,s,r,n,u)});this.Iht={ud:s,hd:t}},i.LN=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Cht?this.Cht.uri:this.Eht))&&(this.Iht&&this.Iht.hd===t?n&&(i=function(t){s.removeEventListener("mu",e),s.removeEventListener("Lht",i);var r=t;n(null,{Am:r.manifest,Tht:r.manifestText})},e=function(t){s.removeEventListener("mu",e),s.removeEventListener("Lht",i),n(t.mu)},this.addEventListener("mu",e),this.addEventListener("Lht",i)):(this.zm(),this.Pw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Mht=function(t){t&&(this.Dht=void 0,this.Nht&&this.Nht.isMasterPlaylist?this.LN(t.uri):this.Cht&&!this.Uht()&&this.LN(this.Cht.uri))},i.xd=function(){this.zm(),this.$s()},i.Uht=function(){return!!this.Iht||!!this.Rht||!(!this.Cht||this.Cht.live)},T(n,[{key:"Am",get:function(){return this.Cht}},{key:"Xht",get:function(){return this.Nht}},{key:"Fht",get:function(){return this.Eht},set:function(t){this.zm(),this.Dht=void 0,this.Nht=void 0,this.Cht=void 0,this.Eht=t}}]),n}(PH),uX=function(t){function n(){return t.call(this,"Hht")||this}return E(n,t),n}(Eu),oX=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).zht=void 0,r.Vht=void 0,r.Wht=void 0,r.wrt=void 0,r.Ght=void 0,r.pE=void 0,r.fq=void 0,r.qht=void 0,r.Yht=function(){r.Qs(new uX)},r.wrt=n,r.Ght=Ur({},i,{crossOrigin:r.wrt.crossOrigin,withCredentials:r.wrt.useCredentials,liveOffset:r.wrt.liveOffset,hlsDateRange:r.wrt.hlsDateRange}),r.pE=e,r.Vht=[],r.fq=!1,r}E(n,t);var i=n.prototype;return i.jht=function(){if(this.Wht)return this.Wht.Am},i.LN=function(t){var n=this;yu(IM(function(){return n.Qht()},t))},i.Qht=function(){var t,n,i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(this.Zht());case 2:if((t=u.sent).isMasterPlaylist)for(this.zht=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new sX(this.pE,this.Ght),this.Vht.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new sX(this.pE,this.Ght),this.Vht.push({stream:{uri:t.uri},updater:s});this.qht&&(this.Kht(this.qht.width,this.qht.height),this.qht=void 0),this.fq=!0;case 6:case"end":return u.stop()}},null,this,null,qe)},i.Jht=function(t,n){this.fq?this.Kht(t,n):this.qht={width:t,height:n}},i.Kht=function(t,n){this.$ht();var i=this.tct(t,n);i&&(this.Wht=i.updater,this.Wht.addEventListener("Lht",this.Yht),i.updater.LN(i.stream.uri))},i.$ht=function(){this.Wht&&(this.Wht.zm(),this.Wht.removeEventListener("Lht",this.Yht),this.Wht=void 0)},i.tct=function(t,n){return 1===this.Vht.length?this.Vht[0]:Ws(this.Vht,function(i){return i.stream.width===t&&i.stream.height===n})},i.Zht=function(){var t,n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new rX(this.Ght,IH.Yn.Jot,this.pE),i.next=3,Fr.awrap(t.jh(this.wrt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.Am);case 5:case"end":return i.stop()}},null,this,null,qe)},i.xd=function(){this.$ht();for(var t=0,n=this.Vht;t<n.length;t++){n[t].updater.xd()}Zs(this.Vht)},n}(Tu),aX=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).nct=void 0,r.ict=void 0,r.FM=void 0,r.ect=!1,r.u6=void 0,r.Jq=void 0,r.handleManifestUpdate=function(){var t=r.nct.jht();if(t){var n=r.eN;if(n){var i=n.getTime(),e=r.u6;e||(e=new dM,r.u6=e),e.Zh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.ect&&e.hg.C_>0&&(r.Um.E_(e),r.Jq.E_(e),r.ect=!0)}}},r.rct=function(){r.nct&&r.nct.Jht(r.um,r.im)},r.ict=i,r.FM=e,r.Jq=new ox(Jt(r)),r.Zs(Pf.Cf,r.rct),r}E(n,t);var i=n.prototype;return i.Wm=function(n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(t.prototype.Wm.call(this,n,i,e));case 2:n.hlsDateRange&&this.sct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,qe)},i.sct=function(t,n,i){this.nct&&(this.nct.tu("Hht",this.handleManifestUpdate),this.nct.xd()),this.nct=new oX(t,n,this.ict),this.nct.Zs("Hht",this.handleManifestUpdate),this.nct.LN(i)},i.D_=function(){return this.u6&&(this.Um.I_(this.u6),this.Jq.I_(this.u6),this.u6.xd(),this.u6=void 0,this.ect=!1),this.Jq.D_(),t.prototype.D_.call(this)},i.xd=function(){return this.tu(Pf.Cf,this.rct),this.nct&&(this.nct.tu("Hht",this.handleManifestUpdate),this.nct.xd()),this.Jq.xd(),t.prototype.xd.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).uct=void 0,i.uct=n;for(var e=0;e<oE.length;e++){var r=oE[e];i.uct.Zs(r,i.js)}return i}E(n,t);var i=n.prototype;return i.Gm=function(){return this.uct.Gm()},i.iy=function(){return this.uct.iy()},i.$m=function(){return this.uct.$m()},i.Jm=function(){return this.uct.Jm()},i.ly=function(){return this.uct.ly()},i.Hm=function(){return this.uct.Hm()},i.Fm=function(){return this.uct.Fm()},i.D_=function(){return this.uct.D_()},i.Wm=function(t,n,i){return this.uct.Wm(t,n,i)},i.Km=function(){return this.uct.Km()},i.qm=function(){return this.uct.qm()},i.Ym=function(){return this.uct.Ym()},i.xd=function(){this.$s();for(var t=0;t<oE.length;t++){var n=oE[t];this.uct.tu(n,this.js)}return this.uct.xd()},T(n,[{key:"Lm",get:function(){return this.uct.Lm}},{key:"wy",get:function(){return this.uct.wy}},{key:"_y",get:function(){return this.uct._y},set:function(t){this.uct._y=t}},{key:"jg",get:function(){return this.uct.jg},set:function(t){this.uct.jg=t}},{key:"Qg",get:function(){return this.uct.Qg}},{key:"Zg",get:function(){return this.uct.Zg}},{key:"Kg",get:function(){return this.uct.Kg}},{key:"Xm",get:function(){return this.uct.Xm}},{key:"mu",get:function(){return this.uct.mu}},{key:"yy",get:function(){return this.uct.yy}},{key:"Tm",get:function(){return this.uct.Tm}},{key:"Jg",get:function(){return this.uct.Jg},set:function(t){this.uct.Jg=t}},{key:"Iy",get:function(){return this.uct.Iy}},{key:"$g",get:function(){return this.uct.$g}},{key:"tm",get:function(){return this.uct.tm},set:function(t){this.uct.tm=t}},{key:"Ry",get:function(){return this.uct.Ry}},{key:"Dy",get:function(){return this.uct.Dy},set:function(t){this.uct.Dy=t}},{key:"ag",get:function(){return this.uct.ag}},{key:"Ny",get:function(){return this.uct.Ny}},{key:"nm",get:function(){return this.uct.nm}},{key:"eN",get:function(){return this.uct.eN}},{key:"Um",get:function(){return this.uct.Um}},{key:"im",get:function(){return this.uct.im}},{key:"Mm",get:function(){return this.uct.Mm}},{key:"um",get:function(){return this.uct.um}},{key:"hm",get:function(){return this.uct.hm},set:function(t){this.uct.hm=t}},{key:"Cy",get:function(){return this.uct.Cy}},{key:"Py",get:function(){return this.uct.Py},set:function(t){this.uct.Py=t}},{key:"rN",get:function(){return this.uct.rN}}]),n}(Xy));eX=function(t,n,i){return new aX(t,n,i)},tE.cN().fN(eX);var hX=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},cX=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),fX={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(fX,fX.exports);var lX=fX.exports;function vX(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function dX(t){return JSON.stringify(t,fX.exports.getSerialize(vX))}var wX={},gX={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(gX);var mX={};!function(t){w.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(mX);var yX={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}w.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(yX),w.defineProperty(wX,"__esModule",{value:!0});var pX=gX.isS,_X=gX.isChar,bX=gX.isNameStartChar,kX=gX.isNameChar,AX=gX.S_LIST,TX=gX.NAME_RE,SX=mX.isChar,EX=yX.isNCNameStartChar,IX=yX.isNCNameChar,RX=yX.NC_NAME_RE;const CX="http://www.w3.org/XML/1998/namespace",DX="http://www.w3.org/2000/xmlns/",NX={__proto__:null,xml:CX,xmlns:DX},PX={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},xX=-1,BX=-2,OX=0,LX=1,MX=2,jX=3,FX=4,UX=5,HX=6,XX=7,zX=8,VX=9,WX=10,qX=11,GX=12,$X=13,YX=14,QX=15,ZX=16,KX=17,JX=18,tz=19,nz=20,iz=21,ez=22,rz=23,sz=24,uz=25,oz=26,az=27,hz=28,cz=29,fz=30,lz=31,vz=32,dz=33,wz=34,gz=35,mz=36,yz=37,pz=38,_z=39,bz=40,kz=41,Az=42,Tz=43,Sz=44,Ez=9,Iz=10,Rz=13,Cz=32,Dz=33,Nz=38,Pz=45,xz=47,Bz=59,Oz=60,Lz=61,Mz=62,jz=63,Fz=91,Uz=93,Hz=133,Xz=8232,zz=t=>34===t||39===t,Vz=[34,39],Wz=[...Vz,Fz,Mz],qz=[...Vz,Oz,Uz],Gz=[Lz,jz,...AX],$z=[...AX,Mz,Nz,Oz];function Yz(t,n,i){switch(n){case"xml":i!==CX&&t.fail(`xml prefix must be bound to ${CX}.`);break;case"xmlns":i!==DX&&t.fail(`xmlns prefix must be bound to ${DX}.`)}switch(i){case DX:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${DX}.`);break;case CX:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Qz=t=>RX.test(t),Zz=t=>TX.test(t),Kz=0,Jz=1,tV=2;wX.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const nV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var iV=wX.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=EX,this.nameCheck=IX,this.isName=Qz,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=w.assign({__proto__:null},NX);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of w.keys(n))Yz(t,i,n[i])}(this,t),w.assign(this.ns,t))}else this.nameStartCheck=bX,this.nameCheck=kX,this.isName=Zz,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.do}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Kz,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?$X:OX,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new l("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.do=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=w.create(PX),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[nV[t]]=n}off(t){this[nV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new l(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===Rz||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return xX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=Cz||i===Ez)return i;switch(i){case Iz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Iz;case Rz:return t.charCodeAt(n+1)===Iz&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,BX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return xX;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Xz||i===Ez)return i;switch(i){case Iz:return this.line++,this.column=0,this.positionAtNewLine=this.position,Iz;case Rz:{const i=t.charCodeAt(n+1);i!==Iz&&i!==Hz||(this.i=n+2)}case Hz:case Xz:return this.line++,this.column=0,this.positionAtNewLine=this.position,BX;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===BX?Iz:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===BX,s=r?Iz:e;if(s===xX||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case BX:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=Iz;break;case xX:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===xX)return this.name+=t.slice(n),xX;if(!kX(i))return this.name+=t.slice(n,this.prevI),i===BX?Iz:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===xX||!pX(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=_X,this.getCode=this.getCode10):(this.isChar=SX,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=LX}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case Oz:if(this.state=QX,0!==this.text.length)throw new l("no-empty text at start");break;case xX:break;default:this.unget(),this.state=$X,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Wz);switch(n){case Mz:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=$X,this.doctype=!0;break;case xX:break;default:this.text+=String.fromCodePoint(n),n===Fz?this.state=FX:zz(n)&&(this.state=jX,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=MX)}sDTD(){const t=this.captureTo(qz);t!==xX&&(this.text+=String.fromCodePoint(t),t===Uz?this.state=MX:t===Oz?this.state=HX:zz(t)&&(this.state=UX,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=FX,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Dz:this.state=XX,this.openWakaBang="";break;case jz:this.state=qX;break;default:this.state=FX}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?zX:FX,this.openWakaBang="")}sDTDComment(){this.captureToChar(Pz)&&(this.text+="-",this.state=VX)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Pz?WX:zX}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Mz?this.state=FX:(this.fail("malformed comment."),this.state=zX)}sDTDPI(){this.captureToChar(jz)&&(this.text+="?",this.state=GX)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Mz&&(this.state=FX)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case BX:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case Bz:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===$X&&void 0===this.textHandler||(this.text+=r);break t}case xX:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(bX(t))this.state=wz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case xz:this.state=Tz,this.xmlDeclPossible=!1;break;case Dz:this.state=ZX,this.openWakaBang="",this.xmlDeclPossible=!1;break;case jz:this.state=rz;break;default:this.fail("disallowed character in tag name"),this.state=$X,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=nz,this.openWakaBang="";break;case"--":this.state=KX,this.openWakaBang="";break;case"DOCTYPE":this.state=MX,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Pz)&&(this.state=JX)}sCommentEnding(){var t;const n=this.getCodeNorm();n===Pz?(this.state=tz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=KX)}sCommentEnded(){const t=this.getCodeNorm();t!==Mz?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=KX):this.state=$X}sCData(){this.captureToChar(Uz)&&(this.state=iz)}sCDataEnding(){const t=this.getCodeNorm();t===Uz?this.state=ez:(this.text+=`]${String.fromCodePoint(t)}`,this.state=nz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Mz:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=$X;break;case Uz:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=nz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=sz):t===jz||pX(t)?(this.fail("processing instruction without a target."),this.state=t===jz?oz:uz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=sz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===xX)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===jz;e||pX(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?dz:az):this.state=e?oz:uz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===jz?this.state=oz:pX(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(jz)&&(this.state=oz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Mz){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=$X}else n===jz?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=uz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==jz?t!==xX&&(this.state=hz,this.name=String.fromCodePoint(t)):this.state=dz}sXMLDeclName(){const t=this.captureTo(Gz);if(t===jz)return this.state=dz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(pX(t)||t===Lz){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===Lz?fz:cz}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===jz)return this.state=dz,void this.fail("XML declaration is incomplete.");pX(t)||(t!==Lz&&this.fail("value required."),this.state=fz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===jz)return this.state=dz,void this.fail("XML declaration is incomplete.");pX(t)||(zz(t)?this.q=t:(this.fail("value must be quoted."),this.q=Cz),this.state=lz)}sXMLDeclValue(){const t=this.captureTo([this.q,jz]);if(t===jz)return this.state=dz,this.text="",void this.fail("XML declaration is incomplete.");if(t===xX)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=vz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==jz?(pX(t)||(this.fail("whitespace required."),this.unget()),this.state=az):this.state=dz}sXMLDeclEnding(){var t;this.getCodeNorm()===Mz?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=$X):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===xX)return;const i=this.tag={name:this.name,attributes:w.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=w.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Mz:this.openTag();break;case xz:this.state=gz;break;default:pX(n)||this.fail("disallowed character in tag name."),this.state=mz}}sOpenTagSlash(){this.getCode()===Mz?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=mz)}sAttrib(){const t=this.skipSpaces();t!==xX&&(bX(t)?(this.unget(),this.state=yz):t===Mz?this.openTag():t===xz?this.state=gz:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===Lz?this.state=_z:pX(t)?this.state=pz:t===Mz?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==xX&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case xX:return;case Lz:this.state=_z;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Mz?this.openTag():bX(t)?(this.unget(),this.state=yz):(this.fail("disallowed character in attribute name."),this.state=mz)}}sAttribValue(){const t=this.getCodeNorm();zz(t)?(this.q=t,this.state=bz):pX(t)||(this.fail("unquoted attribute value."),this.state=Az,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=kz);case Nz:return this.text+=n.slice(i,this.prevI),this.state=YX,void(this.entityReturnState=bz);case Iz:case BX:case Ez:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case Oz:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case xX:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();pX(t)?this.state=mz:t===Mz?this.openTag():t===xz?this.state=gz:bX(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=yz):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo($z);switch(t){case Nz:this.state=YX,this.entityReturnState=Az;break;case Oz:this.fail("disallowed character.");break;case xX:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Mz?this.openTag():this.state=mz}}sCloseTag(){const t=this.captureNameChars();t===Mz?this.closeTag():pX(t)?this.state=Sz:t!==xX&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Mz:this.closeTag();break;case xX:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case Oz:if(this.state=QX,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Kz;break t;case Nz:this.state=YX,this.entityReturnState=$X,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Kz;break t;case Uz:switch(n){case Kz:n=Jz;break;case Jz:n=tV;break;case tV:break;default:throw new l("impossible state")}break;case Mz:n===tV&&this.fail('the string "]]>" is disallowed in char data.'),n=Kz;break;case BX:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Kz;break;case xX:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Kz}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case Oz:if(this.state=QX,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case Nz:this.state=YX,this.entityReturnState=$X,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case BX:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case xX:void 0!==i&&(this.text+=n.slice(t));break t;default:pX(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Yz(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Yz(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==OX&&this.state!==$X&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.do=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?DX:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=$X,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=$X,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=$X,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=m(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=m(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},eV=function(){function t(){}return t.prototype.ui=function(t){var n=new iV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new cV,e=[i];function r(t){e[e.length-1].Ni(t)}return n.on("text",function(t){e.length>1&&r(new aV(t))}),n.on("cdata",function(t){r(new hV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new uV({di:n,_i:""===i?void 0:i,act:""===s?void 0:s}),o=t.attributes,a=0,h=w.keys(o);a<h.length;a++){var c=o[h[a]],f=c.prefix,l=c.local,v=c.uri,d=c.value,g=new rV({di:l,Ai:d,_i:""===v?void 0:v,act:""===f?void 0:f});u.hct(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new en(t)}),n.write(t).close(),i},t}(),rV=function(){function t(t){this.cct=void 0,this.fct=void 0,this.vct=void 0,this.ke=void 0,this.cct=t.di,this.ke=t.Ai,this.fct=t._i,this.vct=t.act}var n=t.prototype;return n.ai=function(t){return this===t||!!lV(this,t)&&(this.cct===t.cct&&this.fct===t.fct&&this.vct===t.vct&&this.ke===t.ke)},n.ci=function(){return new t({di:this.di,Ai:this.Ai,_i:this._i,act:this.gi})},T(t,[{key:"Kn",get:function(){return $t.ni}},{key:"di",get:function(){return this.cct}},{key:"wi",get:function(){return void 0===this.vct?this.cct:this.vct+":"+this.cct}},{key:"_i",get:function(){return this.fct}},{key:"gi",get:function(){return this.vct}},{key:"Ai",get:function(){return this.ke}}]),t}(),sV=function(){function t(){this.Si=[]}var n=t.prototype;return n.Ei=function(t){return this.Si.filter(function(n){return fV(n)&&n.Ri===t})},n.Di=function(t,n){return this.Si.filter(function(i){return fV(i)&&i.di===n&&i._i===t})},n.Ni=function(t){this.Si.push(t)},T(t,[{key:"Ii",get:function(){return this.Si}},{key:"Pi",get:function(){return this.Si.filter(fV)}}]),t}(),uV=function(t){function n(n){var i;return(i=t.call(this)||this).cct=void 0,i.fct=void 0,i.vct=void 0,i.lct=[],i.cct=n.di,i.fct=n._i,i.vct=n.act,i}E(n,t);var i=n.prototype;return i.dct=function(t){for(var n=0,i=this.Ii;n<i.length;n++){var e=i[n];fV(e)?e.dct(t):t.push(e.Hi)}},i.Oi=function(t,n){for(var i=0,e=this.lct;i<e.length;i++){var r=e[i];if(r.di===n&&r._i===t)return r.Ai}},i.Bi=function(t){for(var n=0,i=this.lct;n<i.length;n++){var e=i[n];if(e.wi===t)return e.Ai}},i.hct=function(t){this.lct.push(t)},i.xi=function(t){for(var n=0;n<this.lct.length;n++)if(this.lct[n].wi===t)return void this.lct.splice(n,1)},i.Li=function(t,n){for(var i=0;i<this.lct.length;i++)if(this.lct[i].di===n&&this.lct[i]._i===t)return void this.lct.splice(i,1)},i.Mi=function(t,n){this.xi(t),this.hct(new rV({di:t,Ai:n}))},i.Ui=function(t,n,i){this.xi(n);var e=n.split(":");this.hct(new rV({di:e[e.length-1],Ai:i,_i:t,act:e.length>1?e[0]:void 0}))},i.ci=function(t){var i=new n({di:this.di,_i:this._i,act:this.gi});return this.Xi.forEach(function(t){return i.hct(t.ci())}),t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!lV(this,t)&&(this.cct===t.cct&&this.vct===t.vct&&this.fct===t.fct&&(vV(this.Xi,t.Xi)&&vV(this.Ii,t.Ii)))},T(n,[{key:"Kn",get:function(){return $t.Jn}},{key:"Xi",get:function(){return this.lct}},{key:"di",get:function(){return this.cct}},{key:"_i",get:function(){return this.fct}},{key:"gi",get:function(){return this.vct}},{key:"Ri",get:function(){return void 0===this.vct?this.cct:this.vct+":"+this.cct}},{key:"Fi",get:function(){var t=[];return this.dct(t),t.join("")}}]),n}(sV),oV=function(){function t(t){this.Gi=void 0,this.Gi=t}return T(t,[{key:"Hi",get:function(){return this.Gi}}]),t}(),aV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Hi)},i.ai=function(t){return this===t||!!lV(this,t)&&this.Hi===t.Hi},T(n,[{key:"Kn",get:function(){return $t.$n}}]),n}(oV),hV=function(t){function n(n){return t.call(this,n)||this}E(n,t);var i=n.prototype;return i.ci=function(){return new n(this.Hi)},i.ai=function(t){return this===t||!!lV(this,t)&&this.Hi===t.Hi},T(n,[{key:"Kn",get:function(){return $t.ei}}]),n}(oV),cV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.ci=function(t){var i=new n;return t&&this.Ii.forEach(function(n){return i.Ni(n.ci(t))}),i},i.ai=function(t){return this===t||!!lV(this,t)&&vV(this.Ii,t.Ii)},T(n,[{key:"Kn",get:function(){return $t.ri}},{key:"zi",get:function(){return this.Pi[0]}}]),n}(sV);function fV(t){return Zt(t)}function lV(t,n){return t.Kn===n.Kn}function vV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ai(n[i]))return!1;return!0}var dV,wV=["adBreak"],gV=["adBreak"];function mV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Ur({},t,{adBreak:Ur({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,VA(t,wV)})})})}function yV(t){return void 0===t.ads?t:Ur({},t,{ads:t.ads.map(function(t){return t.adBreak,VA(t,gV)})})}function pV(t){return"string"==typeof t.date?new Date(t.date):t.date}function _V(t){var n;return t.cue.track?(n=kV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=kV(t.cue,""),n}function bV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&w.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=w.entries(i);return w.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function kV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new eV).ui(e.firstChild.outerHTML).zi.Xi.forEach(function(t){r[t.di]=t.Ai}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(h=o)&&null!==h){var a=AV(o);s[u]={type:dV.wct,value:a}}else SV(o)?s[u]={type:dV._ct,value:o}:s[u]={type:dV.EQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=AV(t.scte35Cmd),i.scte35Out=AV(t.scte35Out),i.scte35In=AV(t.scte35In),i.customAttributes=s}var h}(),i}function AV(t){if(void 0!==t)return zu(t)}function TV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(kV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(kV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function SV(t){return"number"==typeof t}!function(t){t.EQ="daterange-ca-type_string",t._ct="daterange-ca-type_number",t.wct="daterange-ca-type_arraybuffer"}(dV||(dV={}));var EV={cue:function(t){var n={};switch(n.date=pV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=_V(t)}return n},textTrack:function(t){var n={};switch(n.date=pV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;DV().register(i);var e=CV()[NV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=_V(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(kV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:TV(t.track),date:pV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=DV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=pV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Pf.Hf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Ur({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=TV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=yV(t.ad);break;case"adloaded":case"adimpression":n.ad=mV(t.ad);break;case"aderror":t.gct&&(n.gct=t.gct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=mV(t.ad)}return bV(n)},minimizeCueHelper:function(t){var n={};return n.date=pV(t),n.type=t.type,n.cue=_V(t),n.track={uid:t.cue.track.uid},n},adReplacer:mV,adBreakReplacer:yV,removeCircularReferences:bV},IV=function(){this.stringify=dX,this.minimize=EV};function RV(){return we.self}function CV(){return RV().THEOplayerBridge}function DV(){return RV().THEOCueMirrorMap}function NV(){return RV().THEOplayerGlobalID}function PV(){var t=RV();if(t.THEOplayerBridge){var n=new hX;t.THEOplayerBridge=wy(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new hX;t.THEOplayerUtils||(t.THEOplayerUtils=new IV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new cX)}PV();var xV,BV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return E(n,t),n}(Eu),OV=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new BV(t,n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(zy),LV=function(t){function n(n,i){var e;return(e=t.call(this)||this).mct=void 0,e.yct=void 0,e.kct=function(t){e.mct.cK("THEOplayerABRSetTargetBuffer",t.oL),e.Qs(t)},e.bct=function(t){e.mct.cK("THEOplayerABRSetStrategy",t.hL),e.Qs(t)},e.mct=n,e.yct=i,e.yct.Zs("aL",e.kct),e.yct.Zs("cL",e.bct),e}return E(n,t),n.prototype.bL=function(t){return this.yct.bL(t)},T(n,[{key:"AL",get:function(){var t;switch(this.hL.type){case KR.PERFORMANCE:return 1;case KR.QUALITY:return 0;case KR.BANDWIDTH:return null!=(t=this.hL.metadata)&&t.bitrate&&!p(this.hL.metadata.bitrate)?this.hL.metadata.bitrate:0;default:return 0}}},{key:"t_",get:function(){return this.yct.t_}},{key:"hL",get:function(){return this.yct.hL},set:function(t){this.yct.hL=t}},{key:"oL",get:function(){return this.yct.oL},set:function(t){this.yct.oL=t}},{key:"pL",get:function(){return this.yct.pL}},{key:"fL",get:function(){return this.yct.fL},set:function(t){this.yct.fL=t}},{key:"lL",get:function(){return this.yct.lL}},{key:"iL",get:function(){return this.yct.iL}}]),n}(Tu),MV=function(){function t(t,n,i){this.Pc=void 0,this.ys=void 0,this.Vc=void 0,this.ic=void 0,this.Pc=t,this.ys=i,this.Vc=n}var n=t.prototype;return n.RE=function(t){throw new l("Not implemented yet.")},n.BX=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.ys.Ss(t.vs,n));case 2:return i=r.sent,r.next=5,Fr.awrap(i.lc());case 5:return e=r.sent,r.next=8,Fr.awrap(this.OX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,qe)},n.xX=function(t){return!1},n.LX=function(t){return qe.resolve(void 0)},n.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.OX(void 0));case 2:case"end":return t.stop()}},null,this,null,qe)},n.OX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.UX(t),i.next=3,Fr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,qe)},n.UX=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ic)){i.next=5;break}return i.next=4,Fr.awrap(n.cc(this.Vc));case 4:this.ic=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Fr.awrap(t.hc(this.Vc));case 8:this.ic=t;case 9:case"end":return i.stop()}},null,this,null,qe)},n.SE=function(t,n,i){throw new l("Not implemented yet.")},T(t,[{key:"rc",get:function(){return this.Pc}},{key:"Dy",get:function(){throw new l("Not implemented yet.")},set:function(t){throw new l("Not implemented yet.")}},{key:"Ny",get:function(){return new lE([0,1/0])}},{key:"Um",get:function(){throw new l("Not implemented yet.")}},{key:"pct",get:function(){throw new l("Not implemented yet")}},{key:"Mm",get:function(){throw new l("Not implemented yet.")}},{key:"Act",get:function(){throw new l("Not implemented yet")}},{key:"Tct",get:function(){throw new l("Not implemented yet")}}]),t}();!function(t){t.Sct="webkitneedkey",t.Ect="webkitkeymessage",t.Ict="webkitkeyerror"}(xV||(xV={}));var jV=function(t){function n(n,i){var e;return(e=t.call(this,xV.Sct)||this).initData=n,e.sessionId=i,e}return E(n,t),n}(Eu),FV=function(t){function n(n,i){var e;return(e=t.call(this,xV.Ect)||this).message=n,e.destinationURL=i,e}return E(n,t),n}(Eu),UV=function(t){function n(){return t.call(this,xV.Ict)||this}return E(n,t),n}(Eu),HV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).yc=new na,u.Bc=void 0,u.pc=new Ou,u.xc=new na,u.Rct=function(t){u.Bc?(u.Bc.Gu(void 0),u.Bc=void 0):u.Ic("internal-error"),u.Qs(new Nu)},u.Dct=function(t){u.Bc&&(u.Bc.Wu(void 0),u.Bc=void 0),u.Qs(new Du(Jt(u),"license-request",Zo(t.message).buffer,t.destinationURL||void 0))},u.Dc=n,u.Vh=i,u.Nct=e,u.Hc=r,u.Mc=s,u}E(n,t);var i=n.prototype;return i.Yh=function(t,n,i){var e;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Uc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Fr.awrap(this.Cct(Yo(n),e));case 5:this.Ic("usable"),this.xc.Wu(),this.xc=new na;case 8:case"end":return t.stop()}},null,this,null,qe)},i.jh=function(t){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,qe)},i.Zh=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Yo(t)).byteLength){i.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Bc=new na,this.Nct.Zh(this.Hc,n),i.next=7,Fr.awrap(this.Bc.Fu);case 7:case"end":return i.stop()}},null,this,null,qe)},i.qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.xc);case 2:return this.Nct.tu(xV.Ect,this.Dct),this.Nct.tu(xV.Ict,this.Rct),this.xc.Hs(),this.yc.Wu(void 0),t.abrupt("return",this.yc.Fu);case 7:case"end":return t.stop()}},null,this,null,qe)},i.Qh=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,qe)},i.Cct=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=ff(t,n,this.Mc),this.Nct.Zs(xV.Ect,this.Dct),this.Nct.Zs(xV.Ict,this.Rct),this.Nct.Rq(this.Hc,i);case 4:case"end":return e.stop()}},null,this,null,qe)},i.Ic=function(t){this.pc.Nu(),this.pc.Du(Bu,t),this.Qs(new Cu(this))},T(n,[{key:"nc",get:function(){return this.Hc}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.yc.Fu}},{key:"tc",get:function(){return this.pc}}]),n}(Tu),XV=function(){function t(t,n,i){this.Pct=void 0,this.Hc=void 0,this.Mc=void 0,this.Nct=void 0,this.Vh=void 0,this.Pc=void 0,this.Dc=void 0,this.Nct=t,this.Vh=n,this.Pc=i;var e=Yc(i)||"video/mp4";this.Dc=Wc(e)}var i=t.prototype;return i.uc=function(t){var i;return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mc){t.next=2;break}throw new lf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new HV(this.Dc,this.Vh,this.Nct,this.Hc,this.Mc),this.Pct=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,qe)},i.ac=function(t){return this.Mc=Yo(t),qe.resolve(!0)},i.hc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,qe)},i.cc=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,qe)},i.createSession=function(){throw new l("Whoops.")},T(t,[{key:"ec",get:function(){return this.Vh}},{key:"rc",get:function(){return this.Pc}},{key:"sessionId",set:function(t){this.Hc=t}}]),t}(),zV=function(){function t(t,n,i){this.Bct=t,this.Vh=n,this.Pc=i}var n=t.prototype;return n.dc=function(){return this.Pc},n.lc=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new XV(this.Bct,this.Vh,this.Pc));case 1:case"end":return t.stop()}},null,this,null,qe)},T(t,[{key:"ec",get:function(){return this.Vh}}]),t}(),VV=function(){function t(t){this.Bct=void 0,this.Bct=t}return t.prototype.Ss=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Gc(WV,Ru,t,e))){s.next=6;break}return s.abrupt("return",new zV(this.Bct,t,r));case 6:i++,s.next=1;break;case 9:throw new v("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,qe)},t}();function WV(t,n){return t===ls}var qV,GV=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Uq=function(t,n){return!0},n}(Sx),$V=function(t){function n(n,i,e){var r;return void 0===e&&(e=new VV(i)),(r=t.call(this)||this).uD=void 0,r.ys=void 0,r.DX=void 0,r.Vq=new hD,r.Oct=void 0,r.Bct=void 0,r.xct=!1,r.Hc=void 0,r.Lc=null,r.Lct={by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.Mct=function(t){"boolean"==typeof t.detail.casting&&(r.xct=t.detail.casting,r.Qs(new S_(r.xct)))},r.Uct=function(t){r.Hc=t.sessionId,r.Lc&&(r.Lc.sessionId=r.Hc);var n=t.initData;if(n){var i=Px(n);if(!i)return;r.Qs(new Pu(is,i))}else r.Qs(new Pu(is,new ArrayBuffer(0)))},r.Oct=n,r.Bct=i,r.Bct.Zs(xV.Sct,r.Uct),r.ys=e,r.DX=new GV(Jt(r)),r.Xct(),r}E(n,t);var i=n.prototype;return i.VX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.fs===oA.NE)return i}},i.xs=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.D_());case 2:return this.$s(),this.Fct(),this.Bct.tu(xV.Sct,this.Uct),t.next=7,Fr.awrap(this.DX.xs());case 7:case"end":return t.stop()}},null,this,null,qe)},i.Jm=function(){throw new l("Not implemented yet")},i.SE=function(t,n,i,e,r,s,u,o){throw new l("Not implemented yet")},i.VD=function(){return!1},i.GD=function(t,n,i,e){throw new l("Not implemented yet")},i.RE=function(t){throw new l("Not implemented yet")},i.jD=function(){throw new l("Not implemented yet")},i.jh=function(t){var n=this;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.Vq.tX(function(i){var e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.fs!==oA.NE){r.next=8;break}return cu(i),e=new MV(t,n,n.ys),n.uD=e,n.DX.jh(e,t),r.abrupt("return",e);case 8:throw new l("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,qe)}));case 1:case"end":return i.stop()}},null,this,null,qe)},i.Hm=function(){throw new l("Not implemented yet")},i.Fm=function(){throw new l("Not implemented yet")},i.D_=function(){var t=this;return this.Vq.Hs(),this.Vq.tX(function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.uD){n.next=4;break}return n.next=3,Fr.awrap(t.uD.xs());case 3:t.uD=void 0;case 4:return n.next=6,Fr.awrap(t.DX.D_());case 6:case"end":return n.stop()}},null,null,null,qe)})},i.xu=function(t,n){throw new l("Not implemented yet")},i.nN=function(t){throw new l("Not implemented yet")},i.Km=function(){throw new l("Not implemented yet")},i.iN=function(){return this.Lct},i.Xct=function(){this.Oct.addEventListener("airPlayIsCasting",this.Mct)},i.Fct=function(){this.Oct.removeEventListener("airPlayIsCasting",this.Mct)},i.webkitSetMediaKeys=function(t){this.Lc=t||null,this.Lc&&(this.Lc.sessionId=this.Hc)},i.Ij=function(){},i.Sj=function(){throw new l("Not implemented yet")},i.Ej=function(){throw new l("Not implemented yet")},T(n,[{key:"_y",get:function(){throw new l("Not implemented yet")}},{key:"wy",get:function(){throw new l("Not implemented yet")}},{key:"jg",get:function(){throw new l("Not implemented yet")}},{key:"OU",get:function(){throw new l("Not implemented yet")}},{key:"Qg",get:function(){throw new l("Not implemented yet")}},{key:"Zg",get:function(){throw new l("Not implemented yet")}},{key:"mu",get:function(){throw new l("Not implemented yet")}},{key:"dT",get:function(){throw new l("Not implemented yet")}},{key:"yy",get:function(){return this.xct}},{key:"Jg",get:function(){throw new l("Not implemented yet")}},{key:"$g",get:function(){throw new l("Not implemented yet")}},{key:"tm",get:function(){throw new l("Not implemented yet")}},{key:"Ry",get:function(){throw new l("Not implemented yet")}},{key:"ag",get:function(){throw new l("Not implemented yet")}},{key:"Ny",get:function(){throw new l("Not implemented yet")}},{key:"nm",get:function(){throw new l("Not implemented yet")}},{key:"Nj",get:function(){throw new l("Not implemented yet")}},{key:"hm",get:function(){throw new l("Not implemented yet")},set:function(t){throw new l("Not implemented yet")}},{key:"Bk",get:function(){throw new l("Not implemented yet")}},{key:"YD",get:function(){throw new l("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Lc}},{key:"Cj",get:function(){return RD}},{key:"Um",get:function(){throw new l("Not implemented yet")}},{key:"LU",get:function(){throw new l("Not implemented yet")}},{key:"eN",get:function(){throw new l("Not implemented yet")}},{key:"Rj",get:function(){return!0}},{key:"xD",get:function(){return this.DX.xD},set:function(t){this.DX.xD=t}},{key:"Hq",get:function(){return this.DX.Hq}}]),n}(Xy),YV=function(t){function n(n){var i;return(i=t.call(this,Pf.Wf)||this).Lct=n,i}return E(n,t),n}(Eu);function QV(t){switch(t.type){case qV.EQ:return t.value;case qV._ct:return by(t.value);case qV.wct:return Hu(t.value);default:return}}function ZV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.EQ="daterange-ca-type_string",t._ct="daterange-ca-type_number",t.wct="daterange-ca-type_arraybuffer"}(qV||(qV={}));var KV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).wR=void 0,u.Hct=void 0,u.wR=n,u.Hct=s,u}return E(n,t),T(n,[{key:"name",get:function(){return this.wR}},{key:"timestamp",get:function(){return this.Hct}}]),n}(lf),JV=function(t){function n(n,i,e,r,s,u,o,a){var h;return(h=t.call(this,n,i,e,r,a)||this).url=void 0,h.status=void 0,h.errorComment=void 0,h.url=s,h.status=u,h.errorComment=o,h}return E(n,t),n}(KV),tW=function(){function t(t,n){this.Pm=void 0,this.Jq=void 0,this.Pm=new xk,this.Jq=new rx(t,n)}var n=t.prototype;return n.SE=function(t,n,i,e,r,s,u){var o=new rP(t,n,i,e,r,s,u);return this.Pm.E_(o),this.Jq.E_(o),o},n.RE=function(t){this.Pm.I_(t),this.Jq.I_(t),t.xd()},n.D_=function(){for(var t=0,n=this.Pm.N_.slice();t<n.length;t++){n[t].xd()}this.Pm.D_(),this.Jq.D_()},n.xd=function(){this.D_(),this.Pm.xd(),this.Jq.xd()},T(t,[{key:"Um",get:function(){return this.Pm}}]),t}(),nW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).TC=0,u.pW=!1,u.oD=void 0,u.aD=void 0,u.zct=void 0,u.EC=!0,u.IC=1,u.Nm=void 0,u.Cm=void 0,u.jq=void 0,u.Zq=void 0,u.Pm=void 0,u.bE=void 0,u.ua=void 0,u.P8=lE.yC(),u.aW=lE.yC(),u.SC=!1,u.uY=lE.yC(),u.RC=void 0,u.Vct=void 0,u.Wct=void 0,u.AW=Ky.Mg,u.PE=Ky.Mg,u.Oct=void 0,u.Jq=void 0,u.fD=void 0,u.mct=void 0,u.wrt=void 0,u.OC=void 0,u.sD=void 0,u.vD=void 0,u.Bct=void 0,u.Lct={by:0,py:0,Ay:0,Ty:0,Sy:0,Ey:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.uD=void 0,u.Gct=void 0,u.dD=new zS,u.wD=new YS,u.setCurrentTime=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=4;break}return u.TC=t,n.next=4,Fr.awrap(u.Oct.au("seekablechange"));case 4:u.TC=u.updateCurrentTime(t),u.mct.cK("THEOplayerSetCurrentTime",u.TC),u.RC=!0,u.Qs(new Rp(u.TC));case 8:case"end":return n.stop()}},null,null,null,qe)},u.qct=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.P8=new lE(i),u.Qs(new xD(u.jg))}},u.Yct=function(t){u.AW=t.detail.readyState,u.Qs(new Np(+t.detail.currentTime,u.ag)),u.jct()},u.Qct=function(t){u.AW=t.detail.readyState,u.Qs(new Pp(+t.detail.currentTime,u.ag)),u.jct()},u.Zct=function(t){if(t.detail){var n=+t.detail.duration;u.ua=n,u.Qs(new Ap(u.Qg))}},u.Kct=function(t){t.detail&&(u.pW=!0,u.Qs(new Ep(+t.detail.currentTime)))},u._D=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);ZV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.aD=new JV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.oD=s_(u.aD),u.Qs(new Bp(u.aD))):ZV(i)&&(u.aD=new KV(i.name,i.message,void 0,i.code,i.timestamp),u.oD=s_(u.aD),u.Qs(new Bp(u.aD)))}},u.Jct=function(t){u.Qs(new BD)},u.$ct=function(t){u.AW=t.detail.readyState,u.Qs(new Ip(+t.detail.currentTime,u.ag)),u.jct()},u.tft=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=3;break}return n.next=3,Fr.awrap(u.Oct.au("seekablechange"));case 3:u.AW=t.detail.readyState,u.Qs(new kp(+t.detail.currentTime,u.ag)),u.jct();case 6:case"end":return n.stop()}},null,null,null,qe)},u.nft=function(t){t.detail&&u.EC&&(u.EC=!1,u.Qs(new yp(+t.detail.currentTime)))},u.ift=function(t){t.detail&&(u.EC||(u.EC=!0,u.Qs(new mp(+t.detail.currentTime))))},u.eft=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.uY=new lE(i)}},u.rft=function(t){t.detail&&u.Qs(new pA(+t.detail.currentTime))},u.sft=function(t){t.detail&&(u.IC=t.detail.playbackRate,u.Qs(new Tp(+t.detail.currentTime,u.IC)))},u.uft=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.aW=new lE(i)}},u.oft=function(t){t.detail&&(u.TC=+t.detail.currentTime,u.RC=!1,u.Qs(new Sp(u.TC,u.zct)),u.Qs(new Cp(u.TC)))},u.aft=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ua&&(u.pW=!1),u.RC=!0,u.Qs(new Rp(n))}},u.hft=function(t){t.detail&&(t.detail.currentDate&&(u.zct=new Date(1e3*t.detail.currentDate)),u.TC=+t.detail.currentTime,u.Qs(new Sp(u.TC,u.zct)))},u.cft=function(t){u.Vct=t.detail.height,u.Wct=t.detail.width},u.fft=function(t){t.detail&&u.Qs(new yA(+t.detail.currentTime))},u.vft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Lm.E_(new p_(n))},u.lft=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Nm.C_;s++){var o=u.Lm.S_(s);o.G_==e&&o.W_==r?i=u.Nm.S_(s):1==o.F_&&(n=u.Nm.S_(s))}i&&n&&(i.F_=!0,n.F_=!1)},u.dft=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Mm.E_(new T_(n))},u.UZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Pk.uA&&e===k_.ID3?(n=new cx("",t.detail.label)).eg=Py.Q_:i===Pk.uA&&e===k_.DATE_RANGE?(n=new dM,u.Gct=n):n=new rP(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.jq.E_(n),u.Jq.E_(n)},u.wft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new ax(by(e.startTime),s,e.uid),a=u._ft();a&&a.IE(o)}},u.gft=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new X_(by(r.startTime),by(r.endTime),r.content,!1),o=null!=(e=u.mft(Pk.rA))?e:u.mft(Pk.aE);o&&(o.fs=k_.WEBVTT,o.IE(s))}},u.tj=function(t){t.type===Pf.vf&&(u.oD=s_(t.errorObject)),u.js(t)},u.yft=function(t){t.detail&&(u.Lct.py=t.detail.corruptedVideoFrames,u.Lct.by=t.detail.droppedVideoFrames,u.Qs(new YV(u.Tm)))},u.kft=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={H_:t.id};if(void 0!==t.startDate&&(n.eN=new Date(t.startDate)),void 0!==t.endDate&&(n.N0=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=QV(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.P0=e}void 0!==t.scte35Cmd&&(n.O0=Hu(t.scte35Cmd)),void 0!==t.scte35In&&(n.M0=Hu(t.scte35In)),void 0!==t.scte35Out&&(n.L0=Hu(t.scte35Out)),void 0!==t.startTime&&(n.Jy=t.startTime),n.D0=t.class,n.Qg=by(t.duration),n.C0=by(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Jy?t.Jy:(new Date).getTime(),e=new lM(t,i);u.Gct.IE(e),u.Gct.Zh(n,i)})};var o=r.uid;u.mct=u.getSdkBridge(o),u.Oct=new OV,CV()[o].sdkEventBus=u.Oct,u.Nm=new o_,u.Cm=new o_;var a=u.bft(e);return u.bE=new tW(Jt(u),new sx),u.Jq=new ox(Jt(u)),u.fD=new nA(u.bE,a),u.jq=new xk,u.Zq=new vx(u.bE,u.jq),u.Pm=new qS([u.jq,u.fD.JA,u.Zq.JA]),u.Bct=u.getFairPlayControllerBridge(u.mct),u.sD=new $V(u.Oct,u.Bct),u.vD=new VS(a),u.sD.xD=u.vD,u.observeMediaElement(),u.MD(),u.OC=new LV(u.mct,s),u.OC.Zs("aL",function(){u.mct.cK("THEOplayerSetPreferredForwardBufferDuration",u.OC.oL)}),u}E(n,t);var i=n.prototype;return i.iy=function(){return wE},i.Km=function(){this.mct.cK("THEOplayerShow",{})},i.Jm=function(){this.mct.cK("THEOplayerHide",{})},i.pft=function(){var t=this;this.mct.cK("THEOplayerSetInitialPreferredPeakBitRate",this.OC.AL);this.Zs("playing",function n(){t.mct.cK("THEOplayerSetInitialPreferredPeakBitRate",0),t.tu("playing",n)})},i.Wm=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.wrt=t,i=Ur({},n,{sources:{src:t.src,type:Yy.Ng,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.mct.cK("THEOplayerSourceChange",i),e={fs:oA.NE,fg:t.src,Fl:t.type,UD:this.XD(t),FD:t.crossOrigin,HD:n.metadata&&n.metadata.title},this.vD.WR(t.contentProtection),s.next=7,Fr.awrap(this.sD.jh(e));case 7:this.uD=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==k_.WEBVTT})).length>0&&this.zD(r),uA(this.Um),this.pft();case 11:case"end":return s.stop()}},null,this,null,qe)},i.XD=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ec:gs,JD:[{initDataTypes:[gs.ls],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Fm=function(){this.EC=!1,this.Qs(new yp(this.jg)),this.mct.cK("THEOplayerPlay",{})},i.Hm=function(){this.EC=!0,this.Qs(new mp(this.jg)),this.mct.cK("THEOplayerPause",{})},i.$m=function(){},i.D_=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.TC=0,this.pW=!1,this.oD=void 0,this.aD=void 0,this.EC=!0,this.IC=1,this.ua=void 0,this.aW=lE.yC(),this.P8=lE.yC(),this.Vct=void 0,this.Wct=void 0,this.AW=Ky.Mg,this.PE=Ky.Mg,this.Nm.D_(),this.Cm.D_(),this.jq.D_(),this.Pm.D_(),t.next=19,Fr.awrap(this.Zq.D_());case 19:return t.next=21,Fr.awrap(this.fD.D_());case 21:return this.bE.D_(),this.Jq.D_(),this.wrt=void 0,t.next=26,Fr.awrap(this.sD.D_());case 26:case"end":return t.stop()}},null,this,null,qe)},i.qm=function(){this.mct.cK("THEOplayerShowAirPlayPicker",{})},i.Ym=function(){this.mct.cK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Tm.py=t.py,this.Tm.by=t.by},i.xd=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.D_());case 2:return this.$s(),this.unobserveMediaElement(),this.ZD(),this.sD.xD=void 0,t.next=8,Fr.awrap(this.sD.xs());case 8:return this.Nm.xd(),this.Cm.xd(),this.jq.xd(),this.Pm.xd(),t.next=14,Fr.awrap(this.Zq.xd());case 14:return t.next=16,Fr.awrap(this.fD.xd());case 16:this.bE.xd(),this.Jq.xd();case 18:case"end":return t.stop()}},null,this,null,qe)},i.zD=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.fD.TE(i)}},i.jct=function(){var t=this.PE,n=this.AW;t!==n&&(this.PE=n,this.Qs(new xp(this.jg,n)))},i.observeMediaElement=function(){this.sD.Zs(Pf.sf,this.js),this.sD.Zs([Pf.lf,Pf.vf],this.tj),this.Oct.addEventListener("play",this.nft),this.Oct.addEventListener("pause",this.ift),this.Oct.addEventListener("seeking",this.aft),this.Oct.addEventListener("seeked",this.oft),this.Oct.addEventListener("ratechange",this.sft),this.Oct.addEventListener("durationchange",this.Zct),this.Oct.addEventListener("timeupdate",this.hft),this.Oct.addEventListener("waiting",this.fft),this.Oct.addEventListener("playing",this.rft),this.Oct.addEventListener("ended",this.Kct),this.Oct.addEventListener("loadedmetadata",this.tft),this.Oct.addEventListener("loadeddata",this.$ct),this.Oct.addEventListener("loadstart",this.Jct),this.Oct.addEventListener("canplay",this.Yct),this.Oct.addEventListener("canplaythrough",this.Qct),this.Oct.addEventListener("error",this._D),this.Oct.addEventListener("seekablechange",this.uft),this.Oct.addEventListener("videosizechange",this.cft),this.Oct.addEventListener("bufferedchange",this.qct),this.Oct.addEventListener("playedchange",this.eft),this.Oct.addEventListener("metricschange",this.yft),this.Oct.addEventListener("addDateRangeCues",this.kft)},i.unobserveMediaElement=function(){this.sD.tu(Pf.sf,this.js),this.sD.tu([Pf.lf,Pf.vf],this.tj),this.Oct.removeEventListener("play",this.nft),this.Oct.removeEventListener("pause",this.ift),this.Oct.removeEventListener("seeking",this.aft),this.Oct.removeEventListener("seeked",this.oft),this.Oct.removeEventListener("ratechange",this.sft),this.Oct.removeEventListener("durationchange",this.Zct),this.Oct.removeEventListener("timeupdate",this.hft),this.Oct.removeEventListener("waiting",this.fft),this.Oct.removeEventListener("playing",this.rft),this.Oct.removeEventListener("ended",this.Kct),this.Oct.removeEventListener("loadedmetadata",this.tft),this.Oct.removeEventListener("loadeddata",this.$ct),this.Oct.removeEventListener("loadstart",this.Jct),this.Oct.removeEventListener("canplay",this.Yct),this.Oct.removeEventListener("canplaythrough",this.Qct),this.Oct.removeEventListener("error",this._D),this.Oct.removeEventListener("seekablechange",this.uft),this.Oct.removeEventListener("videosizechange",this.cft),this.Oct.removeEventListener("bufferedchange",this.qct),this.Oct.removeEventListener("playedchange",this.eft),this.Oct.removeEventListener("metricschange",this.yft),this.Oct.removeEventListener("addDateRangeCues",this.kft)},i.updateCurrentTime=function(t){var n=this.Ny.start(0),i=this.Ny.end(0);return g.min(g.max(t,n),i)},i._ft=function(){for(var t=0,n=this.Pm.N_;t<n.length;t++){var i=n[t];if(i.V_===Pk.uA&&i.fs===k_.ID3)return i}},i.mft=function(t){for(var n=0,i=this.Pm.N_;n<i.length;n++){var e=i[n],r=e.eg===Py.Z_,s=e.V_===t;if(r&&s)return e}},i.MD=function(){this.Oct.addEventListener("addaudiotrack",this.vft),this.Oct.addEventListener("enableaudiotrack",this.lft),this.Oct.addEventListener("addvideotrack",this.dft),this.Oct.addEventListener("addtexttrack",this.UZ),this.Oct.addEventListener("addtexttrackid3cues",this.wft),this.Oct.addEventListener("addtexttrackcues",this.gft)},i.ZD=function(){this.Oct.removeEventListener("addaudiotrack",this.vft),this.Oct.removeEventListener("enableaudiotrack",this.lft),this.Oct.removeEventListener("addvideotrack",this.dft),this.Oct.removeEventListener("addtexttrack",this.UZ),this.Oct.removeEventListener("addtexttrackid3cues",this.wft),this.Oct.removeEventListener("addtexttrackcues",this.gft)},i.ly=function(){},T(n,[{key:"Lm",get:function(){return this.Nm}},{key:"wy",get:function(){return this.P8.tN()}},{key:"_y",get:function(){return this.zct?this.zct:null},set:function(t){this.mct.cK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.zct=t}},{key:"jg",get:function(){return this.TC},set:function(t){this.setCurrentTime(t)}},{key:"Qg",get:function(){return this.ua}},{key:"Zg",get:function(){return this.pW}},{key:"mu",get:function(){return this.oD}},{key:"Kg",get:function(){return this.aD}},{key:"Xm",get:function(){}},{key:"yy",get:function(){return this.sD.yy}},{key:"Tm",get:function(){return this.Lct}},{key:"Jg",get:function(){return this.SC},set:function(t){this.SC!==t&&(this.mct.cK("THEOplayerSetMuted",t),this.SC=t,this.Qs(new Dp(this.jg,t?0:1)))}},{key:"$g",get:function(){return this.EC}},{key:"tm",get:function(){return this.IC},set:function(t){this.mct.cK("THEOplayerSetPlaybackRate",t),this.IC=t}},{key:"Ry",get:function(){return this.uY.tN()}},{key:"Dy",get:function(){return rE.AN},set:function(t){}},{key:"ag",get:function(){return this.AW}},{key:"Ny",get:function(){return this.aW.tN()}},{key:"nm",get:function(){return this.RC}},{key:"eN",get:function(){}},{key:"Um",get:function(){return this.Pm}},{key:"im",get:function(){return this.Vct}},{key:"um",get:function(){return this.Wct}},{key:"hm",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this.wD}},{key:"Mm",get:function(){return this.Cm}},{key:"rN",get:function(){return this.dD}},{key:"Py",get:function(){return!1},set:function(t){}},{key:"Iy",get:function(){return!0}}]),n}(Xy),iW=function(){function t(){this.sN=jS.LR}var n=t.prototype;return n.uN=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(ip(n.type))return!1;var e=n.contentProtection;if(e&&!rT(e)){if(!oT(e))return!1;if(!t.Aft(e))return!1}return!0},t.Aft=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.oN=function(){return!1},t}(),eW=function(){function t(){this.Tft=r.webkit}return t.prototype.cK=function(t,n){this.Tft.messageHandlers[t]&&this.Tft.messageHandlers[t].postMessage(n)},t}(),rW=function(t){function n(n){var i;return(i=t.call(this)||this).mct=void 0,i.Oct=void 0,i.Sft=function(t){var n=Hu(t.detail.initData),e=t.detail.sessionId;i.Qs(new jV(n,e))},i.Eft=function(t){var n=new _(Qu(t.detail.message)),e=t.detail.destinationURL;i.Qs(new FV(n,e))},i.Ift=function(t){i.Qs(new UV)},i.mct=n,i.Oct=new OV,CV().fairplayController={sdkEventBus:i.Oct},i.Rft(),i}E(n,t);var i=n.prototype;return i.Rft=function(){this.Oct.addEventListener(xV.Sct,this.Sft),this.Oct.addEventListener(xV.Ect,this.Eft),this.Oct.addEventListener(xV.Ict,this.Ift)},i.Rq=function(t,n){var i={playerId:NV(),data:Zu(n.buffer),sessionId:t};this.mct.cK("THEOplayerCreateKeySession",i)},i.Zh=function(t,n){var i={playerId:NV(),data:Zu(n.buffer),sessionId:t};this.mct.cK("THEOplayerUpdateKey",i)},n}(Xy),sW=function(t){var n=this;this.Oct=void 0,this.Dft=void 0,this.Nft=function(){n.Dft.qZ()},this.Cft=function(){n.Dft.GZ()},this.Oct=new OV,this.Dft=t,this.Oct.addEventListener("showTracks",this.Nft),this.Oct.addEventListener("hideTracks",this.Cft),CV().texttracks={sdkEventBus:this.Oct}},uW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).KZ=void 0,o.JZ=void 0,o.Pft=void 0;var a=i.BD(u_.Ed);return o.KZ=new Hx,o.KZ.Dj(n),o.JZ=new VB(o.KZ.gy,a.OU,o.Um,u,a.YD),o.Pft=new sW(o.JZ),i.KD(a),we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.add("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="transparent",o}E(n,t);var i=n.prototype;return i.Km=function(){t.prototype.Km.call(this),this.KZ.Km()},i.Jm=function(){t.prototype.Jm.call(this),this.KZ.Jm()},i.Gm=function(){return!0},i.getSdkBridge=function(){return new eW},i.getFairPlayControllerBridge=function(){return aW},i.bft=function(t){return t},i.xd=function(){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return we.document.querySelector(".vjs-tech")?we.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):we.document.querySelector(".player-div").style.background="#000000",n.next=3,Fr.awrap(t.prototype.xd.call(this));case 3:this.JZ.xd(),this.KZ.xd();case 5:case"end":return n.stop()}},null,this,null,qe)},n}(nW);iE(new(function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.RI=function(t,n,i,e,r,s){return new uW(t,n,i,e,r,s)},i.uN=function(n,i){if(n.type){var e=wr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.uN.call(this,n,i)},n}(iW)));var oW,aW=new rW(new eW),hW=function(t){function n(){return t.call(this,"Bft")||this}return E(n,t),n.prototype.n_=function(){return new cW},n}(Jm),cW=function(t){function n(){return t.call(this,"statechange")||this}return E(n,t),n}(Eu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(oW||(oW={}));var fW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Oft=new Xy,n.js=function(t){n.Qs(t)},n}E(n,t);var i=n.prototype;return i.n_=function(){return n=function(t){var n=t.xft.map(function(t){return t.t_});return n.item=function(n){n|=0;var i=t.S_(n);return i&&i.t_||void 0},n}(t=this),i=new _C(t,n),n.addEventListener=function(t,n){i.Zs(t,n)},n.removeEventListener=function(t,n){i.tu(t,n)},n;var t,n,i},i.Zs=function(t,n){this.Oft.Zs(t,n)},i.Js=function(t){this.Oft.Js(t)},i.$s=function(){this.Oft.$s()},i.Qs=function(t){this.Oft.Qs(t)},i.tu=function(t,n){this.Oft.tu(t,n)},i.uu=function(t){this.Oft.uu(t)},i.ou=function(t){this.Oft.ou(t)},i.au=function(t,n){return this.Oft.au(t,n)},n}(function(){function t(){this.Su=[],this.$w=void 0}var n=t.prototype;return n.S_=function(t){return this.Su[t]},n.Oy=function(t){this.Su.push(t),this.$w&&this.$w.push(t.t_),this.Lft(t)},n.Mft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Oy(i)}},n.Uft=function(t,n){n>=0&&n<=this.Su.length&&(this.Su.splice(n,0,t),this.$w&&this.$w.splice(n,0,t.t_),this.Lft(t))},n.xy=function(t){return Qs(this.Su,t)},n.Qh=function(t){this.Xft(this.Su.indexOf(t))},n.Xft=function(t){if(t>=0&&t<this.Su.length){var n=this.Su[t];Ys(this.Su,t),this.$w&&Ys(this.$w,t),this.Fft(n)}},n.Nu=function(){var t=this.Su.slice();Zs(this.Su),this.$w&&Zs(this.$w);for(var n=0;n<t.length;n++){var i=t[n];this.Fft(i)}},T(t,[{key:"xft",get:function(){return this.Su}},{key:"C_",get:function(){return this.Su.length}},{key:"t_",get:function(){return this.$w||(this.$w=this.n_()),this.$w}}]),t}());var lW,vW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return E(n,t),n}(Eu),dW=function(t){function n(n){var i;return(i=t.call(this,"zft")||this).Hft=n,i}return E(n,t),n.prototype.n_=function(){return new vW(this.Hft.t_)},n}(Jm),wW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return E(n,t),n}(Eu),gW=function(t){function n(n){var i;return(i=t.call(this,"Vft")||this).task=n,i}return E(n,t),n.prototype.n_=function(){return new wW(this.task.t_)},n}(Jm),mW=function(t){function n(){return t.call(this)||this}E(n,t);var i=n.prototype;return i.Lft=function(t){this.Qs(new dW(t))},i.Fft=function(t){this.Qs(new gW(t))},n}(fW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(lW||(lW={}));var yW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Wft=lW.UNINITIALISED,r.QU=new mW,r.kht=void 0,r.Gft=void 0,r.qft=void 0,r.qft=i,r.Gft=e,r.kht=n,r.jm(),r}E(n,t);var i=n.prototype;return i.jm=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.Yft());case 2:this.jft(lW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,qe)},i.Yft=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fr.awrap(this.Qft());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],qe)},i.Qft=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.kht.qot());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.qft.Zft(i.id,i.sourceDescription,i.parameters,this.Gft),this.Kft(e),this.QU.Oy(e);case 4:case"end":return r.stop()}},null,this,null,qe)},i.jft=function(t){this.Wft=t,this.Qs(new hW)},i.Zft=function(t,n,i){void 0===i&&(i="persistent");var e=this.qft.Jft(t,n,i);return this.$ft(e,i),this.QU.Oy(e),this.Kft(e),e},i.$ft=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(this.tvt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),l("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],qe)},i.tvt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.kht.Vot({key:t.H_,id:t.H_,sourceDescription:t.mN,parameters:t.wc},n));case 2:case"end":return i.stop()}},null,this,null,qe)},i.Kft=function(t){var n=this;t.Zs("Bft",function(){t.Jl===oW.EVICTED&&n.QU.Qh(t)})},T(n,[{key:"Jl",get:function(){return this.Wft}},{key:"nvt",get:function(){return this.QU}}]),n}(Tu);function pW(t,n){return function(t,n){var i=t.Bk&&n.Bk,e=t.dT&&n.dT;return i||e?i&&e?t.Bk*t.dT-n.Bk*n.dT:i?t.Bk-n.Bk:e?t.dT-n.dT:(t.Bk||1)*(t.dT||1)-(n.Bk||1)*(n.dT||1):0}(t,n)||function(t,n){return t.FR-n.FR}(t,n)}var _W=function(t){function n(){return t.call(this,"progress")||this}return E(n,t),n}(Eu),bW=function(t){function n(){return t.call(this,"ivt")||this}return E(n,t),n.prototype.n_=function(){return new _W},n}(Jm),kW=function(){function t(t,n,i){if(this.evt=void 0,this.rvt=t,this.By=n,this.svt=i,0===this.By.size)this.evt=lE.yC();else{var e=new lE([-1/0,1/0]);this.By.forEach(function(t){e=e.QN(t.timeRanges)}),this.evt=e}}return t.prototype.Tk=function(t){return!!my(this.By,t.By)&&(!!Xt(this.rvt,t.rvt)&&(!!Xt(this.wC,t.wC)&&(!!Xt(this.uvt,t.uvt)&&this.ovt.hC(t.ovt))))},t.avt=function(){return TW},T(t,[{key:"wC",get:function(){return this.svt}},{key:"cvt",get:function(){return this.rvt}},{key:"uvt",get:function(){return this.ovt.wC}},{key:"fvt",get:function(){var t=0,n=0;return this.By.forEach(function(i){t+=i.timeRanges.wC,n+=i.totalQualityDurationToCache}),0===n?0:g.min(1,t/n)}},{key:"ovt",get:function(){return this.evt}}]),t}(),AW=Xr(),TW=new kW(0,AW,NaN);function SW(t,n){if(G(t)){if(ks(t,"%"))return y(t)/100*n;throw new l("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var EW,IW=function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),T(n,[{key:"name",get:function(){return"vvt"}}]),n}(nn);function RW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.lvt;r<s.length;r++)u=s[r],e.push(CW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{Qg:t.wvt.dvt(),_vt:[t.gvt],lvt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function CW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.mvt;r<s.length;r++)u=s[r],e.push(DW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{yvt:o});case 6:case"end":return a.stop()}},null,null,null,qe)}function DW(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.kvt;r<s.length;r++)NW(u=s[r])||e.push(OW(u,n,i));return a.next=4,Fr.awrap(qe.all(e));case 4:return o=a.sent,a.abrupt("return",{JA:o,fs:t.fs});case 6:case"end":return a.stop()}},null,null,null,qe)}function NW(t){return t.q0.every(BW)}!function(t){t[t.Dg=0]="Dg",t[t.Ng=1]="Ng"}(EW||(EW={}));var PW,xW=1;function BW(t){return t.bvt!==xW&&Boolean(t.bvt)}function OW(t,n,i){var e,r,s,u,o,a,h,c,f;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=[],r=0,s=t.q0;r<s.length;r++)BW(u=s[r])||e.push(MW(u,i));return l.next=4,Fr.awrap(qe.all(e));case 4:return o=l.sent,a=t.qH[0],h=t.G0,c=h?LW(a,h):void 0,f=bL(t,n),l.abrupt("return",{q_:o,G_:t.Jet,fs:t.fs,UD:c,pvt:f});case 10:case"end":return l.stop()}},null,null,null,qe)}function LW(t,n){for(var i=[],e=function(t){return t?ks(t,"avc")?Uc.VIDEO_H264:ks(t,"hev")||ks(t,"hvc")||ks(t,"hvt")||ks(t,"lhv")||ks(t,"lhe")||ks(t,"lht")?Uc.VIDEO_H265:ks(t,"mp4")?Uc.VIDEO_MP4:ks(t,"mpeg2")?Uc.VIDEO_MPEG2:ks(t,"mpeg")?Uc.VIDEO_MPEG:Uc.VIDEO_UNKNOWN:Uc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.U0.split(":").pop(),o=s.X0;i.push({mimeType:e,uuid:u,data:o})}return{type:EW.Dg,schemeType:ts,schemeDatas:i}}function MW(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Fr.awrap(jW(t,n));case 2:r=u.sent,s={H_:UW(t),$S:r,FR:t.FR,$e:t.$e,dT:t.dT,fs:t.fs,Bk:t.Bk},u.t0=t.fs,u.next=u.t0===u_.$n?7:u.t0===u_.Ed?8:u.t0===u_.Sd?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.nJ=null!=(i=null==(e=t.nJ)?void 0:e.xk())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.rJ,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,qe)}function jW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Avt,t.eht&&i.push({Jy:0,Qg:0,Tvt:t.eht}),r=e.Svt(),s=r;case 5:if(!s){c.next=17;break}if(!t.Evt(s)){c.next=13;break}return c.next=9,Fr.awrap(t.Ivt(s,n,(new ou).Ws));case 9:for(u=c.sent,o=0;o<u.C_;o++)i.push(FW(u.Rvt(o),t));c.next=14;break;case 13:i.push(FW(s,t));case 14:s=e.Dvt(s),c.next=5;break;case 17:return a=e.Nvt(),h=a.$y-r.Jy,c.abrupt("return",{Qg:h,S0:i});case 20:case"end":return c.stop()}},null,null,null,qe)}function FW(t,n){return{Jy:t.Jy,Qg:t.Qg,Tvt:n.Cvt(t)}}function UW(t){return t.Pvt.LN+"-"+(""+t.H_)}function HW(t,n){return function(t,n){for(var i={},e=0;e<fL.length;e++){var r=fL[e],s=t[r],u={};for(var o in s){for(var a=[],h=s[o],c=0;c<h.length;c++){var f=h[c],l=XW(f,r,n);a.push(l)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.BJ]||(n[e.BJ]={fs:e.fs,oT:[]}),n[e.BJ].oT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.oT;s<u.length;s++){var o,a,h=u[s],c=null!=(a=i[o=r.fs])?a:i[o]={};c[h.wi]||(c[h.wi]=[]),c[h.wi].push(h)}return i}(t),n)}function XW(t,n,i){for(var e=t.BJ,r={$J:t,S$:[]},s=0;s<i.length;s++){var u=i[s];SM(n,e,u)&&r.S$.push(u)}return r}function zW(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(n.ght([t],{}));case 2:return i=e.sent,e.abrupt("return",rM(i.od,{},i.dht));case 4:case"end":return e.stop()}},null,null,null,qe)}function VW(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!uL(t)){i.next=4;break}return i.abrupt("return",WW(t,n));case 4:return i.abrupt("return",(r=void 0,{Qg:(r=tq(e=t)).Qg,_vt:[e.LJ],lvt:[{yvt:[{fs:u_.vd,JA:[{fs:u_.vd,G_:Gj,q_:[{H_:e.LJ,$S:r,FR:0,$e:"",dT:0,fs:u_.vd,Bk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,qe)}function WW(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=HW(t.oT,t.F1),s.next=3,Fr.awrap($W(i,n));case 3:return e=s.sent,s.next=6,Fr.awrap(GW(t.F1,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Qg:qW(e),_vt:[t.LJ],lvt:[{yvt:e}]});case 9:case"end":return s.stop()}},null,null,null,qe)}function qW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].JA;e<r.length;e++){var s=r[e];n=g.max.apply(g,[n].concat(s.q_.map(function(t){return t.$S.Qg})))}return n}function GW(t,n){var i,e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return a=t[e],c.next=6,Fr.awrap(JW(a.LJ,n));case 6:(h=c.sent).FR=a.FR,h.$e=a.qH?[(f=a.qH).GH,f.WH,f.YH].filter(H).join(","):"",h.dT=null!=(r=null==(s=a.v$)?void 0:s.dT)?r:0,h.Bk=null!=(u=null==(o=a.v$)?void 0:o.Bk)?u:0,i.push(h);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{fs:u_.vd,JA:[{G_:Gj,fs:u_.vd,q_:i}]});case 16:case"end":return c.stop()}var f},null,null,null,qe)}function $W(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<fL.length)){o.next=13;break}if(r=fL[e],!(s=t[r])){o.next=10;break}return o.next=8,Fr.awrap(YW(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,qe)}function YW(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Fr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Fr.awrap(QW(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{fs:ZW(n),JA:e});case 12:case"end":return o.stop()}},null,null,null,qe)}function QW(t,n){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].$J,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Fr.awrap(KW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{G_:e.G_||Gj,fs:ZW(e.fs),q_:i});case 13:case"end":return o.stop()}},null,null,null,qe)}function ZW(t){switch(t){case $O.Sd:return u_.Sd;case $O.Ed:return u_.Ed;case $O.rA:case $O.E0:return u_.$n;default:return u_.vd}}function KW(t,n){var i,e,r;return JW((e=(i=t).$J.LJ,r=i.S$.map(function(t){return t.LJ}),e||(r.length?r[0]:void 0)),n)}function JW(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Qg:0,S0:[]},!t){r.next=6;break}return r.next=4,Fr.awrap(zW(t,n));case 4:oL(e=r.sent)&&(i=tq(e));case 6:return r.abrupt("return",{H_:t||"default",Bvt:t,$S:i,FR:0,$e:"",dT:0,fs:u_.vd,Bk:0});case 7:case"end":return r.stop()}},null,null,null,qe)}function tq(t){for(var n,i=[],e=0,r=0,s=t.S0;r<s.length;r++){var u=s[r],o=e;!u.W1||void 0!==n&&dL(u.W1.LJ,n)||(i.push(nq(u.W1,o)),n=u.W1.LJ),i.push(iq(u,o)),e+=u.Qg}return{Qg:e,S0:i}}function nq(t,n){return{Jy:n,Qg:0,Tvt:eq(t.LJ)}}function iq(t,n){return{Jy:n,Qg:t.Qg,Tvt:eq(t.LJ)}}function eq(t){return{hd:t.Ai,Qat:t.I0?[t.I0.LN,t.I0.LN+t.I0.C_]:void 0,Pd:!1}}!function(t){t.NE="static",t.CE="dynamic"}(PW||(PW={}));var rq,sq=31536e3,uq=2592e3,oq=86400,aq=3600,hq=60,cq=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,fq=function(){function t(t){this.Ovt=void 0;var n=t.match(cq);if(!n)throw new l("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Ovt=i*sq+e*uq+r*oq+s*aq+u*hq+o}var n=t.prototype;return n.dvt=function(){return this.Ovt},n.xvt=function(){return 1e3*this.Ovt},T(t,[{key:"ttt",get:function(){return ub.Wb(this.Ovt,1e3)}}]),t}();!function(t){t.Lvt="progressive",t.Mvt="interlaced",t.vd="unknown"}(rq||(rq={}));var lq=function(){function t(t,n){this.Uvt=t,this.Xvt=n}return t.prototype.xk=function(){return this.Uvt/this.Xvt},t}(),vq=/^(?:true|false)$/i,dq=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function wq(t){if(void 0!==t)return new fq(t)}function gq(t){if(void 0!==t){var n=t.match(dq);if(!n)throw new l("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],h=n[8],c=n[9],f=n[10],v=n[11],d=("-"===i?-1:1)*Number(e),w=Number(r)-1,m=Number(s),y=Number(u),_=Number(o),b=Number(a),k=Number("0."+(h||"")),A=g.round(1e3*k);if(c)_-=("-"===c?-1:1)*(60*Number(f)+Number(v));var T=new Date(Date.UTC(d,w,m,y,_,b,A));if(p(T.getTime()))throw new l("The given value could not be parsed as a valid Date");return T}}function mq(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[pq(n[1]),pq(n[2])]}}function yq(t){if(void 0!==t){if(!p(Number(t)))try{return vt.fromString(t,!0)}catch(t){}throw new l("The given value could not be parsed as a valid unsigned long")}}function pq(t){if(void 0!==t){var n=Number(t);if(!p(n))return n;throw new l("The given value could not be parsed as a valid Number")}}function _q(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!p(i)&&!p(e))return new lq(i,e);throw new l("The given value could not be parsed as a valid frame rate")}}function bq(t){if(void 0!==t){if(vq.test(t))return"true"===t.toLowerCase();if(!p(m(t)))return Boolean(m(t));throw new l("The given value could not be parsed as a valid Boolean.")}}function kq(t){return{hd:t.Fi,Fvt:bq(t.Bi("availabilityTimeComplete")),Hvt:pq(t.Bi("availabilityTimeOffset"))}}function Aq(t){return t.map(kq)}function Tq(t){var n,i,e,r,s,u,o=Oq(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Oi(e,i))&&(s=n.Bi(r+":"+i)),s),h=lk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==h&&(u=Qu(h.Fi)),!u){var c=lk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Hu(t.Fi),i=new _([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new _(s),o=new DataView(s),a=new Jo;ko(o,a,r),ko(o,a,1886614376),ko(o,a,0),go(o,a,i),ko(o,a,e),go(o,a,n),0;return u.buffer}(c))}return{QE:a,X0:u,U0:o.U0,Ai:o.Ai}}function Sq(t){return{zvt:t.Bi("sourceURL"),Qat:mq(t.Bi("range"))}}function Eq(t,n){var i=t.Bi("d"),e=t.Bi("t"),r=pq(t.Bi("r"));n.push({Qg:i,Jy:e,Vvt:r})}function Iq(t){return{Wvt:t.Bi("index"),Gvt:mq(t.Bi("indexRange")),oT:t.Bi("media"),qvt:mq(t.Bi("mediaRange"))}}function Rq(t){var n,i;return Ur({},Nq(t),{Yvt:(n=t.Ei("SegmentURL"),(i=n.map(Iq)).length>0?i:void 0),jvt:t.Bi("xlink:href"),Qvt:t.Bi("xlink:actuate")})}function Cq(t){var n=t.map(Rq);return n.length>0?n:void 0}function Dq(t){var n=bq(t.Bi("availabilityTimeComplete")),i=pq(t.Bi("availabilityTimeOffset")),e=mq(t.Bi("indexRange")),r=bq(t.Bi("indexRangeExact")),s=t.Ei("Initialization");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one Initialization element.");var u=1===s.length?Sq(s[0]):void 0,o=yq(t.Bi("presentationTimeOffset")),a=t.Ei("RepresentationIndex");if(a.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one RepresentationIndex element.");return{Fvt:n,Hvt:i,Gvt:e,Zvt:r,Kvt:u,Jvt:o,$vt:1===a.length?Sq(a[0]):void 0,tlt:wq(t.Bi("timeShiftBufferDepth")),Bb:pq(t.Bi("timescale"))}}function Nq(t){var n=Dq(t),i=t.Ei("BitstreamSwitching"),e=i.length>0?Sq(i[0]):void 0,r=pq(t.Bi("duration")),s=t.Ei("SegmentTimeline");if(s.length>1)throw new l("The provided MPEG-DASH document's "+t.Ri+" element can not have more than one SegmentTimeline element.");return Ur({},n,{nlt:e,Qg:r,Avt:1===s.length?function(t){for(var n=[],i=t.Ei("S"),e=0;e<i.length;e++)Eq(i[e],n);return n}(s[0]):void 0,ilt:pq(t.Bi("startNumber")),elt:pq(t.Bi("endNumber"))})}function Pq(t){return Ur({},Nq(t),{rlt:t.Bi("bitstreamSwitching"),slt:t.Bi("index"),ult:t.Bi("initialization"),olt:t.Bi("media")})}function xq(t){return{rJ:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(pq)):1===n.length?n.map(pq)[0]:void 0}}(t.Bi("audioSamplingRate")),qH:t.Bi("codecs"),hlt:bq(t.Bi("codingDependency")),G0:function(t){if(0!==t.length)return t.map(Tq)}(t.Ei("ContentProtection")),clt:t.Ei("EssentialProperty").map(Lq),nJ:_q(t.Bi("frameRate")),dT:pq(t.Bi("height")),bvt:pq(t.Bi("maxPlayoutRate")),flt:pq(t.Bi("maximumSAPPeriod")),KB:t.Bi("mimeType"),vlt:t.Bi("profiles"),llt:t.Bi("sar"),dlt:function(t){switch(t){case rq.Lvt:case rq.Mvt:case rq.vd:return t;default:return}}(t.Bi("scanType")),wlt:t.Bi("segmentProfiles"),_lt:pq(t.Bi("startWithSAP")),Bk:pq(t.Bi("width"))}}function Bq(t){var n=xq(t),i=pq(t.Bi("bandwidth")),e=Aq(t.Ei("BaseURL")),r=t.Bi("dependencyId"),s=t.Bi("id"),u=t.Bi("mediaStreamStructureId"),o=pq(t.Bi("qualityRanking")),a=t.Ei("SegmentBase");if(a.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var h=1===a.length?Dq(a[0]):void 0,c=Cq(t.Ei("SegmentList")),f=t.Ei("SegmentTemplate");if(f.length>1)throw new l("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Ur({},n,{FR:i,glt:e,ylt:r,H_:s,klt:u,blt:o,plt:h,Alt:c,Tlt:1===f.length?Pq(f[0]):void 0})}function Oq(t){return{U0:t.Bi("schemeIdUri"),Ai:t.Bi("value")}}function Lq(t){return Oq(t)}function Mq(t){return Oq(t)}function jq(t){return Oq(t)}function Fq(t){var n,i=xq(t),e=function(t){return t.map(jq)}(t.Ei("Accessibility")),r=Aq(t.Ei("BaseURL")),s=bq(t.Bi("bitstreamSwitching")),u=t.Bi("contentType"),o=pq(t.Bi("group")),a=pq(t.Bi("id")),h=(null==(n=t.Ei("Label")[0])?void 0:n.Fi)||"",c=t.Bi("lang"),f=pq(t.Bi("maxBandwidth")),v=_q(t.Bi("maxFrameRate")),d=pq(t.Bi("maxHeight")),w=pq(t.Bi("maxWidth")),g=pq(t.Bi("minBandwidth")),m=_q(t.Bi("minFrameRate")),y=pq(t.Bi("minHeight")),p=pq(t.Bi("minWidth")),_=t.Bi("par"),b=t.Ei("Representation").map(Bq);if(0===b.length)throw new l("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(Mq)}(t.Ei("Role")),A=bq(t.Bi("segmentAlignment"))||!1,T=t.Ei("SegmentBase");if(T.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?Dq(T[0]):void 0,E=Cq(t.Ei("SegmentList")),I=t.Ei("SegmentTemplate");if(I.length>1)throw new l("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,C=1===I.length?Pq(I[0]):void 0,D=pq(t.Bi("selectionPriority")),N=D||1,P=bq(t.Bi("subsegmentAlignment"))||!1;try{R=pq(t.Bi("subsegmentStartsWithSAP"))}catch(t){}return Ur({},i,{Slt:e,glt:r,nlt:s,Fl:u,Elt:o,H_:a,W_:h,G_:c,Ilt:f,Rlt:v,Dlt:d,Nlt:w,Clt:g,Plt:m,Blt:y,Olt:p,xlt:_,q0:b,Llt:k,Mlt:A,plt:S,Alt:E,Tlt:C,sN:N,Ult:P,Xlt:R,Flt:t.Bi("xlink:actuate")||"onRequest",Hlt:t.Bi("xlink:href")})}function Uq(t){var n=yq(t.Bi("presentationTime"))||vt.ZERO,i=yq(t.Bi("duration")),e=pq(t.Bi("id")),r=function(t){for(var n=t.Xi,i={},e=0;e<n.length;e++)i[n[e].wi]=n[e].Ai;return i}(t),s=t.Fi;return{xS:n,Qg:i,H_:e,Xi:r,Hi:""!==s.trim()?s:t.Bi("messageData")||""}}function Hq(t){return{Hlt:t.Bi("xlink:href"),Flt:t.Bi("xlink:actuate"),U0:t.Bi("schemeIdUri"),Ai:t.Bi("value"),Bb:pq(t.Bi("timescale")),Jvt:yq(t.Bi("presentationTimeOffset")),JB:t.Ei("Event").map(Uq)}}function Xq(t,n){var i=t.Ei("AssetIdentifier");if(i.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?Oq(i[0]):void 0,r=t.Ei("AdaptationSet").map(Fq),s=Aq(t.Ei("BaseURL")),u=bq(t.Bi("bitstreamSwitching")),o=wq(t.Bi("duration")),a=t.Ei("EventStream").map(Hq),h=t.Bi("id"),c=n&&wq(n.Bi("start")),f=t.Ei("SegmentBase");if(f.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var v=1===f.length?Dq(f[0]):void 0,d=Cq(t.Ei("SegmentBase")),w=t.Ei("SegmentTemplate");if(w.length>1)throw new l("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===w.length?Pq(w[0]):void 0,m=wq(t.Bi("start"));t.Ei("Subset");var y=t.Bi("xlink:href");return{kvt:r,zlt:e,glt:s,nlt:u,Qg:o,Vlt:a,H_:h,Wlt:c,plt:v,Alt:d,Tlt:g,LN:m,Flt:t.Bi("xlink:actuate"),Hlt:y}}function zq(t){var n=t.Bi("schemeIdUri");if(n)return{U0:n,Ai:t.Bi("value")}}function Vq(t,n){var i=gq(t.Bi("availabilityEndTime")),e=gq(t.Bi("availabilityStartTime")),r=Aq(t.Ei("BaseURL")),s=t.Bi("id"),u=t.Ei("Location").map(function(t){return""+t.Fi}),o=wq(t.Bi("maxSegmentDuration")),a=wq(t.Bi("maxSubsegmentDuration")),h=wq(t.Bi("mediaPresentationDuration"));t.Ei("Metrics");var c=wq(t.Bi("minBufferTime"));if(!c)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=wq(t.Bi("minimumUpdatePeriod")),v=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(Xq(t[i],t[i+1]));return n}(t.Ei("Period"));if(!v.length)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Bi("profiles");if(!d)throw new l("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Glt:i,qlt:e,glt:r,H_:s,Ylt:u,jlt:n,Qlt:o,Zlt:a,wvt:h,Klt:c,Jlt:f,lvt:v,vlt:d,$lt:gq(t.Bi("publishTime")),tdt:wq(t.Bi("suggestedPresentationDelay")),tlt:wq(t.Bi("timeShiftBufferDepth")),fs:function(t){switch(t){case PW.NE:case PW.CE:return t;default:return}}(t.Bi("type")),ndt:function(t){for(var n=[],i=0;i<t.length;i++){var e=zq(t[i]);e&&n.push(e)}return n}(t.Ei("UTCTiming"))}}var Wq,qq=function(){function t(){}return t.prototype.sct=function(t,n){return function(t,n){if(!t)throw new l("The provided MPEG-DASH document does not contain a valid MPD root element.");return Vq(t,n)}(i.ui(t).zi,n)},t}(),Gq=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return E(n,t),n}(Eu),$q=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).z_=void 0,u.My=void 0,u.idt=void 0,u.H_=n,u.FR=i,u.qH=e,u.LJ=s,u.z_=w_(),u.My=r||"",u.idt=!0,u}return E(n,t),n.prototype.mE=function(){this.idt=!1,this.Qs(new Gq(this.t_))},T(n,[{key:"W_",get:function(){return this.My},set:function(t){this.My!==t&&(this.My=t,this.Qs(new Gq(this.t_)))}},{key:"tJ",get:function(){}},{key:"eJ",get:function(){return this.idt}}]),n}(Tu),Yq=function(t){function n(n,i,e,r,s,u,o,a,h){var c;return void 0===h&&(h=0),(c=t.call(this,n,i,e,r,s)||this).$w=void 0,c.nJ=u,c.Bk=o,c.dT=a,c.iJ=h,c}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=fO(this)),this.$w}}]),n}($q),Qq=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).$w=void 0,o.rJ=u,o}return E(n,t),T(n,[{key:"t_",get:function(){return this.$w||(this.$w=lO(this)),this.$w}}]),n}($q);!function(t){t.edt="rdt",t.sdt="udt"}(Wq||(Wq={}));var Zq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).odt=function(t){n.Qs(t)},n}return E(n,t),T(n,[{key:"adt",get:function(){var t=this.hdt();return null==t?void 0:t.LN}},{key:"cdt",get:function(){var t=this.hdt();return null==t?void 0:t.UN}}]),n}(Tu);function Kq(t){return Z(t.fdt)}var Jq=function(t){function n(n,i){var e;if((e=t.call(this)||this).vdt=void 0,e.$w=void 0,e.P4=void 0,e.ldt=void 0,e.ddt=void 0,e.vdt=n,e.P4=i,e.P4.Zs(Wq.edt,e.odt),e.fs===u_.Ed){var r,s,u=null!=(r=null==(s=e.nJ)?void 0:s.xk())?r:NaN;e.ldt=new Yq(e.H_,e.FR,e.$e,"","",u,e.Bk,e.dT)}else e.fs===u_.Sd?e.ldt=new Qq(e.H_,e.FR,e.$e,"","",e.rJ):e.ldt=void 0;return e}E(n,t);var i=n.prototype;return i.Cvt=function(t){var n=Kq(t)?this.P4.wdt(t):this.P4.Cvt(t);return{hd:n.hd,Qat:n.Qat,Pd:this._dt.Pd}},i.gdt=function(){return this.P4.gdt()},i.hdt=function(){return this.P4.hdt()},i.mdt=function(){return this.P4.mdt()},i.Evt=function(t){return this.P4.Evt(t)},i.Ivt=function(t,n,i){return this.P4.Ivt(t,this._dt.Pd,n,i)},i.ydt=function(t){return Kq(t)?this.Avt.kdt(t):this.Avt.ydt(t)},i.bdt=function(t){return Kq(t)?this.Avt.pdt(t):this.Avt.bdt(t)},i.xd=function(){this.P4.tu(Wq.edt,this.odt)},T(n,[{key:"Adt",get:function(){return this.vdt}},{key:"rJ",get:function(){var t;return null!=(t=this.P4.Hi.rJ)?t:this.Adt.rJ}},{key:"FR",get:function(){return this.P4.Hi.FR||0}},{key:"qH",get:function(){var t=this.P4.Hi;return t.qH?[t.qH]:this.Adt.qH}},{key:"Tdt",get:function(){var t=this.P4.Hi;return t.qH?[t.qH]:[]}},{key:"$e",get:function(){return this.P4.Hi.qH||this.Adt.$e}},{key:"hlt",get:function(){return this.P4.Hi.hlt||this.Adt.hlt}},{key:"G0",get:function(){return this.P4.Hi.G0||this.Adt.G0}},{key:"Fl",get:function(){return this.KB+'; codecs="'+this.$e+'"'}},{key:"clt",get:function(){var t=this.P4.Hi;return t.clt.length?t.clt:this.Adt.clt}},{key:"t_",get:function(){return this.$w||(this.$w=(t=this,{get id(){return t.H_},get type(){return t.fs},get bandwidth(){return t.FR},get width(){return t.Bk},get height(){return t.dT},get frameRate(){var n,i;return null!=(n=null==(i=t.nJ)?void 0:i.xk())?n:NaN},get audioSamplingRate(){return t.rJ}}));var t}},{key:"nJ",get:function(){var t;return null!=(t=this.P4.Hi.nJ)?t:this.Adt.nJ}},{key:"dT",get:function(){return this.P4.Hi.dT||this.Adt.dT}},{key:"H_",get:function(){return this.P4.Hi.H_||""}},{key:"Sdt",get:function(){return this.ddt},set:function(t){this.ddt=t}},{key:"eht",get:function(){var t=this.P4.Edt();if(t)return{hd:t.hd,Qat:t.Qat,Pd:this._dt.Pd}}},{key:"bvt",get:function(){return this.P4.Hi.bvt||this.Adt.bvt||1}},{key:"flt",get:function(){return this.P4.Hi.flt||this.Adt.flt}},{key:"_dt",get:function(){return this.Pvt._dt}},{key:"KB",get:function(){return this.P4.Hi.KB||this.Adt.KB}},{key:"Pvt",get:function(){return this.Adt.Pvt}},{key:"vlt",get:function(){return this.P4.Hi.vlt||this.Adt.vlt}},{key:"WJ",get:function(){return this.ldt}},{key:"llt",get:function(){return this.P4.Hi.llt||this.Adt.llt}},{key:"dlt",get:function(){return this.P4.Hi.dlt||this.Adt.dlt}},{key:"Idt",get:function(){return this.P4.Idt}},{key:"wlt",get:function(){return this.P4.Hi.wlt||this.Adt.wlt}},{key:"Avt",get:function(){return this.P4.Avt}},{key:"_lt",get:function(){return this.P4.Hi._lt||this.Adt._lt}},{key:"fs",get:function(){var t=this.KB.split("/")[0];return"application"===t||"text"===t||Vk(this.KB,this.qH)?u_.$n:"video"===t?u_.Ed:"audio"===t?u_.Sd:"image"===t?u_.Id:u_.vd}},{key:"Bk",get:function(){return this.P4.Hi.Bk||this.Adt.Bk}}]),n}(Zq),tG=function(t){function n(n,i){var e;return(e=t.call(this)||this).Rdt=[],e.P4=void 0,e.Ddt=void 0,e.Ndt=[],e.Ddt=n,e.P4=i,e.P4.Zs(Wq.edt,e.odt),e}E(n,t);var i=n.prototype;return i.Zh=function(t,n){var i,e=this;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Ndt.length){r.next=6;break}return this.Ndt=[],i=this.P4.q0.map(function(i){return e.Cdt(i,t,n)}),r.next=5,Fr.awrap(qe.all(i));case 5:this.Ndt=r.sent.filter(H);case 6:this.Pdt();case 7:case"end":return r.stop()}},null,this,null,qe)},i.Cdt=function(t,n,i){var e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new Jq(this,t),s.next=3,Fr.awrap(n(e));case 3:if(r=s.sent,cu(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,qe)},i.Pdt=function(){if(!this.Ndt.length)throw new l("Detected an AdaptationSet without any supported Representations.")},i.hdt=function(){return this.P4.hdt()},i.mdt=function(){return this.P4.mdt()},i.xd=function(){this.P4.tu(Wq.edt,this.odt);for(var t=0,n=this.Ndt;t<n.length;t++){n[t].xd()}Zs(this.Ndt)},T(n,[{key:"Slt",get:function(){return this.P4.Hi.Slt}},{key:"rJ",get:function(){var t;return null!=(t=this.P4.Hi.rJ)?t:-1}},{key:"qH",get:function(){if(this.P4.Hi.qH)return[this.P4.Hi.qH];for(var t=[],n=0,i=this.q0;n<i.length;n++){var e=i[n];e.Tdt.length&&-1===t.indexOf(e.$e)&&t.push(e.$e)}return t}},{key:"$e",get:function(){return this.qH.join()}},{key:"hlt",get:function(){return this.P4.Hi.hlt}},{key:"G0",get:function(){return this.P4.Hi.G0}},{key:"Fl",get:function(){return this.KB+'; codecs="'+this.$e+'"'}},{key:"clt",get:function(){return this.Rdt}},{key:"nJ",get:function(){return this.P4.Hi.nJ}},{key:"Elt",get:function(){return this.P4.Hi.Elt}},{key:"dT",get:function(){return this.P4.Hi.dT||0}},{key:"H_",get:function(){return this.P4.Hi.H_}},{key:"W_",get:function(){return this.P4.Hi.W_||""}},{key:"bvt",get:function(){return this.P4.Hi.bvt}},{key:"flt",get:function(){return this.P4.Hi.flt}},{key:"_dt",get:function(){return this.Pvt._dt}},{key:"KB",get:function(){return this.P4.Hi.KB||this.Ndt[0].KB}},{key:"Pvt",get:function(){return this.Ddt}},{key:"vlt",get:function(){return this.P4.Hi.vlt}},{key:"q0",get:function(){return this.Ndt}},{key:"Llt",get:function(){return this.P4.Hi.Llt||[]}},{key:"llt",get:function(){return this.P4.Hi.llt}},{key:"dlt",get:function(){return this.P4.Hi.dlt}},{key:"wlt",get:function(){return this.P4.Hi.wlt}},{key:"sN",get:function(){return this.P4.Hi.sN}},{key:"_lt",get:function(){return this.P4.Hi._lt}},{key:"fs",get:function(){var t=(this.P4.Hi.Fl||this.KB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Vk(this.KB,this.qH)?u_.$n:"video"===t?u_.Ed:"audio"===t?u_.Sd:"image"===t?u_.Id:u_.vd}},{key:"Bk",get:function(){return this.P4.Hi.Bk||0}},{key:"Jet",get:function(){return this.P4.Hi.G_||""}},{key:"Bdt",get:function(){return this.adt}},{key:"Odt",get:function(){var t=this.Bdt,n=this.cdt;if(void 0!==t&&void 0!==n){var i=g.min(n,this._dt.xdt);return g.max(t,i)}}}]),n}(Zq);function nG(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Br(o,s))}return e}var iG=function(){function t(t,n){this.Ddt=void 0,this.Ldt=void 0,this.ra=void 0,this.Mdt=void 0,this.Udt=void 0,this.Ddt=t,this.Ldt=n,this.ra=n.Bb,this.Mdt=n.Hvt,this.Udt=n.Jvt}var n=t.prototype;return n.Xdt=function(t){var n=t-this.Ddt.LN;if(!(n<0||n>=this.Ddt.Qg)){var i=this.Fdt();return void 0!==i&&Ut(i,n,1e-5)?this.Svt():this.Hdt(n)}},n.zdt=function(t){var n=t-this.Ddt.LN;if(!(n<0))return this.Vdt(g.min(n,this.Ddt.Qg))},n.Svt=function(){return this.Wdt(0)},n.Nvt=function(){var t=this.Ddt.Qg;if(isFinite(t))return this.Vdt(t)},n.gdt=function(t){if(this.Ddt.Gdt.fs===PW.CE){var n=this.qdt(t);if(!n)return;return{Ydt:t,jdt:this.Qdt(t),Zdt:n}}var i=this.Svt();if(i)return{Ydt:t,jdt:i,Zdt:this.Nvt()}},n.mdt=function(t,n){if(n){var i=this.Kdt(n.jdt),e=this.Dvt(n.Zdt);if(e){var r=this.Jdt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Svt();if(s){var u=this.Jdt(s);if(t.getTime()<u.getTime())return u}var o=this.Ddt.Gdt.qlt;return t.getTime()<o.getTime()?o:void 0},n.qdt=function(t){var n=(t.getTime()-this.Ddt.Gdt.qlt.getTime())/1e3-this.Ddt.LN+this.Mdt,i=this.Vdt(Ft(n,0,this.Ddt.Qg));if(i&&(i=this.$dt(i,t))){for(var e=this.Dvt(i);e&&this.twt(e,t);)i=e,e=this.Dvt(i);return i}},n.Qdt=function(t){var n,i=this.Ldt.tlt;if(i){var e=(t.getTime()-this.Ddt.Gdt.qlt.getTime())/1e3-this.Ddt.LN-i.dvt();(n=this.Vdt(Ft(e,0,this.Ddt.Qg)))||(n=this.Svt())}else n=this.Svt();if(n&&(n=this.$dt(n,t))){for(var r=this.nwt(n);r&&this.twt(r,t);)n=r,r=this.nwt(n);return n}},n.$dt=function(t,n){for(var i=t;i&&this.Jdt(i).getTime()>n.getTime();)i=this.nwt(i);if(i){var e=this.Kdt(i);if(e&&e.getTime()<=n.getTime()){var r=this.nwt(i);for(r&&this.twt(r,n)&&(i=r);i;){if(this.Jdt(i).getTime()>n.getTime())return;if(this.twt(i,n))break;i=this.Dvt(i)}if(!i)return}return i}},n.twt=function(t,n){if(this.Jdt(t).getTime()>n.getTime())return!1;var i=this.Kdt(t);return!(i&&n.getTime()>=i.getTime())},n.iwt=function(t,n){if(this.ewt(t).getTime()>n.getTime())return!1;var i=this.Kdt(t);return!(i&&n.getTime()>=i.getTime())},n.rwt=function(t,n,i){var e=Qt(n,this.ra)+this.Ddt.LN;return{Wvt:t,swt:n,Jy:e,Qg:i,$y:e+i}},n.ewt=function(t){return this.Ddt.Gdt.fs===PW.CE?new Date(this.Ddt.Gdt.qlt.getTime()+1e3*(t.Jy+t.Qg)):this.Ddt.Gdt.qlt},n.Jdt=function(t){var n=this.ewt(t);return this.Ddt.Gdt.fs===PW.CE?new Date(n.getTime()-1e3*this.Mdt):n},n.Kdt=function(t){var n=1/0;if(this.Ddt.Gdt.fs===PW.CE){var i=this.Ldt.tlt;i&&(n=this.ewt(t).getTime()+1e3*t.Qg+i.xvt())}var e=this.Ddt.Gdt.Glt;return e&&(n=g.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.uwt=function(t,n){return t.Wvt+n},n.Evt=function(t){return!1},n.Ivt=function(t,n,i,e,r){var s=this.owt(t);if(!s)return qe.reject(new l("Invalid segment"));var u=this.awt(s.Wvt);return u?qe.resolve(u):this.hwt(s.Wvt,n,i,e,r)},n.awt=function(t){},n.hwt=function(t,n,i,e,r){return qe.reject(new l("Not supported"))},n.nwt=function(t){var n=this.owt(t);if(n)return this.Wdt(n.Wvt-1)},n.Dvt=function(t){var n=this.owt(t);if(n)return this.Wdt(n.Wvt+1)},n.owt=function(t){var n=this.Wdt(t.Wvt);if(n&&n.Jy===t.Jy)return n;var i=this.Xdt(t.Jy);return i&&i.Jy===t.Jy?i:void 0},n.cwt=function(t){var n=this.fwt(t);if(n&&this.Evt(n.Wvt)){var i=this.awt(n.Wvt);if(i)return i.cwt(t)}},n.fwt=function(t){return this.Wdt(t.vwt)},n.ydt=function(t){var n=this.owt(t);return!!n&&0===n.Wvt},n.kdt=function(t){var n=this.cwt(t);return!!n&&0===n.fdt},n.bdt=function(t){var n=this.owt(t);if(!n)return!1;var i=this.Nvt();return!!i&&n.Wvt===i.Wvt},n.pdt=function(t){var n=this.cwt(t);if(!n)return!1;var i=this.Nvt();if(!i||n.vwt!==i.Wvt)return!1;var e=this.awt(n.vwt);return n.fdt+1===e.C_},T(t,[{key:"fp",get:function(){return this.Ddt.LN-Qt(this.Udt,this.ra)}},{key:"Jvt",get:function(){return Qt(this.Udt,this.ra)}}]),t}(),eG=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).lwt=void 0,e.dwt=void 0;var r=n.wwt,s=n.Qg;if(void 0===r||void 0===s)throw new l("MultipleSegmentBase does not have a segment duration specified.");return e.dwt=r,e.lwt=s,e}E(n,t);var i=n.prototype;return i.Wdt=function(t){if(!(t<0)){var n=this.dwt.multiply(t),i=Qt(n,this.ra),e=this.Ddt.Qg;if(!(i>=e)){var r=this._wt();if(void 0!==r){if(t>r)return;if(t===r)return this.rwt(t,n,e-i)}return isFinite(e)&&i+this.lwt>e?this.rwt(t,n,e-i):this.rwt(t,n,this.lwt)}}},i.Fdt=function(){return 0},i.Hdt=function(t){var n=g.floor(t/this.lwt),i=this._wt();return void 0!==i&&n>=i?this.Wdt(i):this.Wdt(n)},i.Vdt=function(t){if(t>=this.Ddt.Qg){var n=g.ceil(this.Ddt.Qg/this.lwt)-1,i=this._wt();return void 0!==i&&n>=i?this.Wdt(i):this.Wdt(n)}return this.Hdt(t)},i._wt=function(){var t,n=this.Ldt.elt;if(void 0!==n)return n-(null!=(t=this.Ldt.ilt)?t:1);if(isFinite(this.Ddt.Qg)){var i=this.Ldt.gwt;if(void 0!==i&&i>0)return i-1}},i.mwt=function(){if(isFinite(this.Ddt.Qg))return this.Nvt()},i.ywt=function(t,n){return this.dwt.multiply(t.Wvt+(n-1))},i.Zh=function(){},n}(iG);function rG(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Jy,u=t[r].$y;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+g.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],h=a.Jy,c=o+1<i?t[o+1].Jy:a.$y;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(h))return o;r=o-1,u=h}}return-1}var sG=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).f3=[],e.kwt=void 0,e.qet=vt.ZERO,e.Zh(),e}E(n,t);var i=n.prototype;return i.Wdt=function(t){if(!(t<0))return t<this.f3.length?this.f3[t].f8:this.bwt(t-this.f3.length)},i.Fdt=function(){if(this.f3.length>0)return Qt(this.f3[0].Jy,this.ra)},i.Hdt=function(t){if(this.kwt&&Qt(this.kwt.Jy,this.ra)<=t){var n=Qt(this.kwt.Jy,this.ra),i=Qt(this.kwt.Qg,this.ra),e=g.floor((t-n)/i);return this.bwt(e)}if(this.f3.length>0&&Ut(t,Qt(this.f3[0].Jy,this.ra),1e-5))return this.f3[0].f8;var r=rG(this.f3,vt.fromNumber(t*this.ra));return r<0?void 0:this.f3[r].f8},i.Vdt=function(t){if(!this.kwt&&this.f3.length>0){var n=this.f3[this.f3.length-1];if(i=t,e=Qt(n.$y,this.ra),zs(i,e,1e-5)>=0)return n.f8}var i,e,r=this.Fdt();return r&&t<r?this.f3[0].f8:this.Hdt(t)},i.mwt=function(){return isFinite(this.Ddt.Qg)?this.Nvt():this.Wdt(this.f3.length-1)},i.ywt=function(t){return this.pwt(t)},i.bwt=function(t){if(this.kwt){var n=this.kwt.Jy,i=this.kwt.Qg,e=n.add(i.multiply(t)),r=Qt(e,this.ra),s=this.Ddt.Qg;if(!(r>=s)){var u=this.f3.length+t,o=g.min(Qt(i,this.ra),r+s);return this.rwt(u,e,o)}}},i.pwt=function(t){return t.swt.add(this.Udt)},i.Zh=function(){var t=this.Ldt.Hi.Avt;if(!t)throw new l("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.R3(t)},i.R3=function(t){var n=this.Udt;this.Awt(t,n);var i=this.Twt(t);this.Swt(t,n,i.Ewt,i.vwt)},i.Awt=function(t,n){var i=this.f3;if(0===t.length)Zs(i);else{for(var e=t[0],r=e.Jy?vt.fromString(e.Jy,!1).subtract(n):vt.ZERO,s=0;s<i.length&&i[s].Jy.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Twt=function(t){for(var n=this.f3,i=this.qet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].Vvt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Jy.greaterThanOrEqual(i))break;if(n[r].f8.Wvt===r)r=u+1;else for(;r<=u;)n[r].f8.Wvt=r,r++;0,e++}return{Ewt:e,vwt:r}},i.Swt=function(t,n,i,e){for(var r,s=this.f3,u=i,o=e;u<t.length;){var a=t[u],h=vt.fromString(a.Qg,!1),c=a.Vvt||0,f=void 0;if(a.Jy){if(f=vt.fromString(a.Jy,!1).subtract(n),o>0){var l=s[o-1];l.$y.greaterThan(f)&&(l.Qg=f.subtract(l.Jy),l.$y=l.Jy.add(l.Qg))}}else f=o>0?s[o-1].$y:vt.ZERO;if(c<0){if(u+1===t.length){r={Jy:f,Qg:h};break}for(var v=vt.fromString(t[u+1].Jy,!1).subtract(n);f.lessThan(v);){var d=f.add(h);this.Iwt(s,o,f,h,d),f=d,o++}}else for(var w=o+c;o<=w;){var g=f.add(h);this.Iwt(s,o,f,h,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.qet=s[s.length-1].Jy),this.kwt=r},i.Iwt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Qg.equals(e)?s.f8.Wvt=n:t[n]={Jy:i,Qg:e,$y:r,f8:this.rwt(n,i,Qt(e,this.ra))}}else t.push({Jy:i,Qg:e,$y:r,f8:this.rwt(n,i,Qt(e,this.ra))})},n}(iG),uG=function(){function t(t,n,i){this.Pvt=void 0,this.Rwt=void 0,this.Gi=void 0,this.Dwt=void 0,this.Nwt=void 0,this.Pvt=t,this.Rwt=n,this.Gi=i}var n=t.prototype;return n.Cwt=function(){if(this.Nwt=this.Pwt(),this.Nwt)return this.Nwt;if(this.Rwt)return this.Rwt.Avt;throw new l("Missing media segment information.")},n.Edt=function(t){var n=this.Kvt;if(n)return{hd:(void 0!==n.zvt?i.Br(n.zvt,t.glt[0]):t.glt[0]).href,Qat:n.Qat};var e=this.Gvt;return e?{hd:t.glt[0].href,Qat:[0,e[0]-1]}:void 0},n.Zh=function(t){this.Gi=t,this.Nwt&&this.Nwt.Zh()},T(t,[{key:"Hi",get:function(){return this.Gi}},{key:"Hvt",get:function(){return this.Gi&&void 0!==this.Gi.Hvt?this.Gi.Hvt:this.Rwt?this.Rwt.Hvt:0}},{key:"Jvt",get:function(){return this.Gi&&void 0!==this.Gi.Jvt?this.Gi.Jvt:this.Rwt?this.Rwt.Jvt:vt.ZERO}},{key:"tlt",get:function(){return this.Gi&&void 0!==this.Gi.tlt?this.Gi.tlt:this.Rwt?this.Rwt.tlt:this.Pvt.Gdt.tlt}},{key:"Bb",get:function(){return this.Gi&&void 0!==this.Gi.Bb?this.Gi.Bb:this.Rwt&&this.Rwt.Bb?this.Rwt.Bb:1}},{key:"Gvt",get:function(){return this.Gi&&void 0!==this.Gi.Gvt?this.Gi.Gvt:this.Rwt?this.Rwt.Gvt:void 0}},{key:"Kvt",get:function(){return this.Gi&&void 0!==this.Gi.Kvt?this.Gi.Kvt:this.Rwt?this.Rwt.Kvt:void 0}},{key:"Avt",get:function(){return this.Dwt||(this.Dwt=this.Cwt()),this.Dwt}}]),t}(),oG=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.Pwt=function(){return this.Gi.Avt?new sG(this,this.Pvt):void 0!==this.Gi.Qg?new eG(this,this.Pvt):void 0},T(n,[{key:"Qg",get:function(){return void 0!==this.Gi.Qg?this.Gi.Qg/this.Bb:this.Rwt&&this.Rwt instanceof n?this.Rwt.Qg:void 0}},{key:"wwt",get:function(){return void 0!==this.Gi.Qg?vt.fromNumber(this.Gi.Qg):this.Rwt&&this.Rwt instanceof n?this.Rwt.wwt:void 0}},{key:"ilt",get:function(){return void 0!==this.Gi.ilt?this.Gi.ilt:this.Rwt&&this.Rwt instanceof n?this.Rwt.ilt:void 0}},{key:"elt",get:function(){return void 0!==this.Gi.elt?this.Gi.elt:this.Rwt&&this.Rwt instanceof n?this.Rwt.elt:void 0}}]),n}(uG),aG=function(){function t(t){this.Bwt=void 0,this.Bwt=t}return t.prototype.Wu=function(t){return this.Bwt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Is(u,Number(e),"0")})},t}();var hG=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Owt=void 0,r.xwt=void 0,r.Owt=e.ult?new aG(e.ult):void 0,r.xwt=e.olt?new aG(e.olt):void 0,r}E(n,t);var e=n.prototype;return e.Edt=function(n){var e=this.ult;if(!e)return t.prototype.Edt.call(this,n);var r=e.Wu({Bandwidth:n.Hi.FR,RepresentationID:n.Hi.H_});return{hd:i.Or(r,n.glt[0])}},e.Cvt=function(t,n){var e,r=null!=(e=n.Idt.ilt)?e:1,s=this.olt.Wu({Bandwidth:n.Hi.FR,Number:n.Avt.uwt(t,r),RepresentationID:n.Hi.H_,Time:n.Avt.ywt(t,r)});return{hd:i.Or(s,n.glt[0])}},e.wdt=function(t,n){},T(n,[{key:"ult",get:function(){return this.Owt?this.Owt:this.Rwt&&this.Rwt instanceof n?this.Rwt.ult:void 0}},{key:"olt",get:function(){return this.xwt?this.xwt:this.Rwt&&this.Rwt instanceof n?this.Rwt.olt:void 0}},{key:"gwt",get:function(){}}]),n}(oG),cG=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var e=n.prototype;return e.Cvt=function(t,n){var e=this.Gi.Yvt[t.Wvt],r=n.glt[0];return{hd:(e.oT?i.Br(e.oT,r):r).href,Qat:e.qvt}},e.wdt=function(t,n){},T(n,[{key:"gwt",get:function(){return void 0!==this.Gi.Yvt?this.Gi.Yvt.length:this.Rwt&&this.Rwt instanceof oG?this.Rwt.gwt:void 0}}]),n}(oG),fG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).vwt=void 0,u.T5=void 0,u.Bb=void 0,u.Lwt=void 0,u.Jvt=void 0,u.Mwt=void 0,u.vwt=n,u.T5=i,u.Bb=e.Bb,u.Lwt=r,u.Jvt=s,u.Mwt=u.Uwt(e),u}E(n,t);var i=n.prototype;return i.Rvt=function(t){if(t>=0&&t<this.C_)return this.Xwt(this.Mwt[t])},i.Fwt=function(t){var n=this.Hwt(t);if(this.Mwt.length>0){var i=this.Mwt[0];if(n<=Qt(i.Jy,this.Bb))return this.Xwt(i)}var e=rG(this.Mwt,vt.fromNumber(n*this.Bb));if(!(e<0))return this.Xwt(this.Mwt[e])},i.zwt=function(t){var n=this.Hwt(t);if(this.Mwt.length>0){var i=this.Mwt[this.Mwt.length-1];if(n>=Qt(i.$y,this.Bb))return this.Xwt(i)}return this.Fwt(t)},i.Xwt=function(t){var n=Qt(t.Jy,this.Bb)-this.Jvt,i=n+this.Lwt,e=Qt(t.Qg,this.Bb);return{vwt:this.vwt,fdt:t.Wvt,Jy:i,swt:vt.fromNumber(n*this.Bb),Qg:e,$y:i+e,I0:[this.T5+t.T5,this.T5+t.S5]}},i.Uwt=function(t){for(var n=[],i=t.ZS,e=t.KS.toNumber(),r=0,s=0,u=t.$S;s<u.length;s++){var o=u[s],a=o.GS,h=vt.fromNumber(o.Qg),c=i.add(h);0===o.WS&&n.push({Wvt:r++,Jy:i,Qg:h,$y:c,T5:e,S5:e+a-1}),e+=a,i=c}return n},i.Hwt=function(t){return t-this.Lwt+this.Jvt},T(n,[{key:"C_",get:function(){return this.Mwt.length}}]),n}(function(){function t(){}return t.prototype.cwt=function(t){var n=this.Rvt(t.fdt);if(n&&n.Jy===t.Jy)return n;var i=this.Fwt(t.Jy);return i&&i.Jy===t.Jy?i:void 0},t}()),lG=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).Vwt=void 0,e.Wwt=void 0,e.Gwt=void 0,e.Vwt=n.Gvt,e.Wwt=e.rwt(0,vt.ZERO,e.Ddt.Qg),e}E(n,t);var i=n.prototype;return i.Wdt=function(t){if(0===t)return this.Wwt},i.Fdt=function(){return 0},i.Hdt=function(t){return this.Wwt},i.Vdt=function(t){return this.Hdt(t)},i.mwt=function(){return this.Wwt},i.ywt=function(t,n){return vt.ZERO},i.gdt=function(t){var n=this.qwt(t);return n&&{Ydt:t,jdt:n,Zdt:n}},i.qwt=function(t){var n=this.Wwt;return this.twt(n,t)?n:void 0},i.qdt=function(t){return this.qwt(t)},i.Qdt=function(t){return this.qwt(t)},i.Zh=function(){},i.Evt=function(t){return 0===t&&void 0!==this.Vwt},i.awt=function(t){return this.Gwt},i.hwt=function(t,n,i,e,r){var s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.glt[0].href,u=this.Vwt,a.next=4,Fr.awrap(e.Ywt(s,u,i,r));case 4:return o=a.sent,this.Gwt=this.jwt(t,o),a.abrupt("return",this.Gwt);case 7:case"end":return a.stop()}},null,this,null,qe)},i.jwt=function(t,n){var i=this.Vwt,e=ik.IA(new DataView(n),new Jo);if(e.fs!==fb.$p)throw new l("Invalid segment index");var r=ok.YA(e.Hi),s=i[1]+1;return new fG(t,s,r,this.Ddt.LN,Qt(this.Udt,this.ra))},n}(iG),vG=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.Cvt=function(t,n){return{hd:n.glt[0].href}},i.wdt=function(t,n){return{hd:n.glt[0].href,Qat:t.I0}},i.Pwt=function(){return new lG(this,this.Pvt)},T(n,[{key:"ilt",get:function(){}}]),n}(uG),dG=function(t){function n(){return t.call(this,Wq.edt)||this}return E(n,t),n}(Eu);var wG=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ow=void 0,r.Gi=void 0,r.Qwt=void 0,r.Ldt=void 0,r.Zwt=1/0,r.Kwt=void 0,r.Ow=i,r.Jwt(n,e),r}E(n,t);var i=n.prototype;return i.$wt=function(){return this.Ldt||this.Ow&&this.Ow.$wt()},i.t_t=function(t){var n=this.Pvt,i=this.Ow&&this.Ow.$wt();this.Gi.Tlt?this.Ldt=new hG(n,i,this.Gi.Tlt):this.Gi.Alt?this.Ldt=new cG(n,i,this.Gi.Alt[0]):this.Gi.plt?this.Ldt=new vG(n,i,this.Gi.plt):t&&!i&&(this.Ldt=new vG(n,i,void 0))},i.Jwt=function(t,n){this.Gi=t,this.Qwt=t.glt&&t.glt.length>0?nG(t.glt.map(function(t){return t.hd}),n):n.slice(),this.Ldt&&(t.Tlt?this.Ldt.Zh(t.Tlt):t.Alt?this.Ldt.Zh(t.Alt[0]):t.plt&&this.Ldt.Zh(t.plt))},i.hdt=function(){var t;return null==(t=this.Kwt)?void 0:t.n_t},i.mdt=function(){var t;return null==(t=this.Kwt)?void 0:t.i_t},i.e_t=function(t){var n=this.Zwt,i=this.Pvt.Qg,e=this.Kwt,r=this.r_t(t);e&&Ut(i,n,1e-5)&&pG(e,r)||(this.Zwt=i,this.Kwt=r,this.Qs(new dG))},i.xs=function(){this.$s()},T(n,[{key:"Hi",get:function(){return this.Gi}},{key:"glt",get:function(){return this.Qwt}}]),n}(Tu);function gG(t){for(var n,i=0;i<t.length;i++){var e=t[i].hdt();if(e){n=e.LN;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].hdt();if(u){r=u.UN;break}}if(void 0!==r)return{LN:n,UN:r}}}function mG(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].hdt();if(!r)return;if((n=g.max(n,r.LN))>=(i=g.min(i,r.UN)))return}return{LN:n,UN:i}}}function yG(t){for(var n,i=0;i<t.length;i++){var e=t[i].mdt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function pG(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.i_t,n.i_t)&&function(t,n){return t&&n?Ut(t.LN,n.LN,1e-5)&&Ut(t.UN,n.UN,1e-5):t===n}(t.n_t,n.n_t)}var _G=function(t){function n(n,i,e){var r;(r=t.call(this)||this).Ddt=void 0,r.Bh=void 0,r.s_t=void 0,r.Ddt=n,r.Bh=i,r.s_t=e.slice();for(var s=0;s<e.length;s++){e[s].Zs(Wq.edt,r.odt)}return r}E(n,t);var i=n.prototype;return i.hdt=function(){return mG(this.s_t)},i.mdt=function(){for(var t,n=0,i=this.s_t;n<i.length;n++){var e=i[n].mdt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.xd=function(){this.$s();for(var t=0,n=this.s_t;t<n.length;t++){n[t].tu(Wq.edt,this.odt)}},T(n,[{key:"kvt",get:function(){return this.s_t}},{key:"qH",get:function(){return this.kvt.reduce(function(t,n){for(var i=0,e=n.qH;i<e.length;i++){var r=e[i];Qs(t,r)||t.push(r)}return t},[])}},{key:"$e",get:function(){return this.qH.length>0?this.qH[0]:""}},{key:"fs",get:function(){return this.s_t[0].fs}},{key:"H_",get:function(){return this.Bh}},{key:"_dt",get:function(){return this.Ddt._dt}},{key:"KB",get:function(){return this.s_t[0].KB}},{key:"Pvt",get:function(){return this.Ddt}},{key:"q0",get:function(){return Js(this.kvt,function(t){return t.q0})}}]),n}(Zq),bG=function(t){function n(){return t.call(this,Wq.sdt)||this}return E(n,t),n}(Eu);function kG(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Elt;void 0===s||(r=Ws(n,function(t){return t.H_===s})),r||(r={H_:s,kvt:[]},n.push(r)),r.kvt.push(e)},e=0;e<t.length;e++)i(e);return n}var AG,TG=function(t){function n(n,i){var e;return(e=t.call(this)||this).P4=void 0,e.s_t=[],e.u_t=[],e.o_t=void 0,e.a_t=!1,e.o_t=n,e.P4=i,e.P4.Zs(Wq.edt,e.odt),e}E(n,t);var i=n.prototype;return i.h_t=function(t,n){if(0!==this.u_t.length){for(var i=t,e=0,r=this.u_t;e<r.length;e++){var s=r[e],u=s.fs;if(u===u_.Sd||u===u_.Ed){var o=s.cdt;if(void 0===o)return;i=n(i,o)}}return i}},i.c_t=function(){this.a_t||(this.a_t=!0,this.Qs(new bG),this.xd())},i.Zh=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.s_t.length){i.next=7;break}return i.next=3,Fr.awrap(this.f_t(this.P4.kvt,t,n));case 3:this.v_t(this.s_t),cu(n),i.next=9;break;case 7:return i.next=9,Fr.awrap(this.l_t(t,n));case 9:case"end":return i.stop()}},null,this,null,qe)},i.f_t=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new tG(this,r),u.prev=4,u.next=7,Fr.awrap(s.Zh(n,i));case 7:this.s_t.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),fu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],qe)},i.v_t=function(t){for(var n=kG(t),i=0;i<n.length;i++){var e=n[i],r=new _G(this,e.H_,e.kvt);this.u_t.push(r)}},i.l_t=function(t,n){var i,e,r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.s_t;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Fr.awrap(r.Zh(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,qe)},i.hdt=function(){return this.P4.hdt()},i.mdt=function(){return this.P4.mdt()},i.xd=function(){this.$s(),this.P4.tu(Wq.edt,this.odt);for(var t=0,n=this.u_t;t<n.length;t++){n[t].xd()}for(var i=0,e=this.s_t;i<e.length;i++){e[i].xd()}Zs(this.s_t),Zs(this.u_t)},T(n,[{key:"kvt",get:function(){return this.s_t}},{key:"mvt",get:function(){return this.u_t}},{key:"zlt",get:function(){return this.P4.Hi.zlt}},{key:"Qg",get:function(){return this.P4.Qg}},{key:"UN",get:function(){return this.LN+this.Qg}},{key:"Vlt",get:function(){return this.P4.Hi.Vlt||[]}},{key:"H_",get:function(){return this.P4.H_}},{key:"udt",get:function(){return this.a_t}},{key:"_dt",get:function(){return this.o_t}},{key:"d_t",get:function(){return this.o_t.w_t(this)}},{key:"Pvt",get:function(){return this}},{key:"__t",get:function(){return this.o_t.g_t(this)}},{key:"m_t",get:function(){return this.h_t(1/0,g.min)}},{key:"y_t",get:function(){return this.h_t(0,g.max)}},{key:"LN",get:function(){return this.P4.LN}},{key:"Pd",get:function(){return this._dt.Pd}}]),n}(Zq),SG=function(t){function n(){return t.call(this,Pf.pf)||this}return E(n,t),n}(Eu);!function(t){t.k_t="b_t"}(AG||(AG={}));var EG=function(t){function n(){return t.call(this,AG.k_t)||this}return E(n,t),n}(Eu),IG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.glt)||this).vdt=void 0,e.p_t=void 0,e.vdt=i,e.t_t(!0),e}E(n,t);var i=n.prototype;return i.Evt=function(t){return!!Hc(this.KB)&&this.Avt.Evt(t.Wvt)},i.Ivt=function(t,n,i,e){return this.Avt.Ivt(t,this,n,i,e)},i.Edt=function(){return this.Idt.Edt(this)},i.Cvt=function(t){return this.Idt.Cvt(t,this)},i.wdt=function(t){return this.Idt.wdt(t,this)},i.gdt=function(){return this.p_t},i.r_t=function(t){var n=this.Avt,i=n.gdt(t),e=i&&function(t,n){var i,e=t.jdt,r=t.Zdt,s=t.Ydt,u=e.Jy,o=n.ewt(r);if(o.getTime()<=s.getTime())i=r.$y;else{var a=(o.getTime()-s.getTime())/1e3,h=g.max(r.Qg-a,0);i=r.Jy+h}return{LN:u,UN:i}}(i,n),r=this.Avt.mdt(t,i);return this.p_t=i,{Ydt:t,n_t:e,i_t:r}},i.Zh=function(t){this.Jwt(t,this.vdt.glt)},T(n,[{key:"Adt",get:function(){return this.vdt}},{key:"Pvt",get:function(){return this.vdt.Pvt}},{key:"Gdt",get:function(){return this.vdt.Gdt}},{key:"KB",get:function(){return this.Gi.KB||this.vdt.KB}},{key:"Idt",get:function(){return this.$wt()}},{key:"Avt",get:function(){return this.Idt.Avt}}]),n}(wG),RG=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.glt)||this).Ddt=void 0,e.Ndt=void 0,e.Ddt=i,e.t_t(!1),e.Ndt=n.q0.map(function(t){return new IG(t,Jt(e))}),e}E(n,t);var i=n.prototype;return i.Zh=function(t){this.Jwt(t,this.Ddt.glt);var n=t.q0||[];if(this.Ndt.length!==n.length)throw new l("Expected "+this.Ndt.length+' representations in adaptation set "'+t.H_+'", found '+n.length);for(var i=0;i<n.length;i++)this.Ndt[i].Zh(n[i])},i.e_t=function(n){for(var i=0,e=this.Ndt;i<e.length;i++){e[i].e_t(n)}t.prototype.e_t.call(this,n)},i.r_t=function(t){return{Ydt:t,n_t:mG(this.Ndt),i_t:yG(this.Ndt)}},i.xs=function(){for(var n=0,i=this.Ndt;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},T(n,[{key:"q0",get:function(){return this.Ndt}},{key:"Pvt",get:function(){return this.Ddt}},{key:"Gdt",get:function(){return this.Ddt.Gdt}},{key:"Elt",get:function(){return this.Gi.Elt}},{key:"KB",get:function(){var t;return this.Gi.KB||(null==(t=this.Ndt[0])?void 0:t.Hi.KB)||""}}]),n}(wG),CG=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.glt)||this).A_t=void 0,s.sE=void 0,s.ua=void 0,s.s_t=void 0,s.u_t=[],s.A_t=n,s.sE=e,s.ua=r,s.t_t(!1),s.s_t=(i.kvt||[]).map(function(t){return new RG(t,Jt(s))}),s.u_t=kG(s.s_t),s}E(n,t);var i=n.prototype;return i.Zh=function(t,n){this.Jwt(t,this.A_t.glt),this.ua=n;var i=t.kvt||[];if(this.s_t.length!==i.length)throw new l("Expected "+this.s_t.length+' adaptation sets in period "'+t.H_+'", found '+i.length);for(var e=0;e<i.length;e++)this.s_t[e].Zh(i[e])},i.e_t=function(n){for(var i=0,e=this.s_t;i<e.length;i++){e[i].e_t(n)}t.prototype.e_t.call(this,n)},i.r_t=function(t){return{Ydt:t,n_t:mG(this.s_t),i_t:yG(this.s_t)}},i.xs=function(){for(var n=0,i=this.s_t;n<i.length;n++){i[n].xs()}t.prototype.xs.call(this)},T(n,[{key:"kvt",get:function(){return this.s_t}},{key:"mvt",get:function(){return this.u_t}},{key:"Pvt",get:function(){return this}},{key:"Gdt",get:function(){return this.A_t}},{key:"H_",get:function(){return this.Gi.H_}},{key:"LN",get:function(){return this.sE}},{key:"Qg",get:function(){return this.ua}}]),n}(wG),DG=new Date("2000-01-01"),NG=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Gi=void 0,s.T_t=void 0,s.S_t=void 0,s.xG=void 0,s.E_t=void 0,s.Kwt=void 0,s.Qwt=void 0,s.I_t=void 0,s.R_t=void 0,s.D_t=void 0,s.N_t=[],s.T_t=i,s.Zh(n,e,r),n.fs===PW.CE){var u=s.mwt();u&&u.Glt&&u.Glt.getTime()<DG.getTime()&&(s.D_t=new Date(s.$lt.getTime()-1e3*(u.f8.Jy+u.f8.Qg)),s.e_t(r))}return s}E(n,t);var e=n.prototype;return e.hdt=function(){var t;return null==(t=this.Kwt)?void 0:t.n_t},e.mdt=function(){var t;return null==(t=this.Kwt)?void 0:t.i_t},e.Zh=function(t,n,e,r){var s;this.Gi=t,this.S_t=n,this.E_t=null!=r?r:e,this.xG=e;var u,o=[(u=n,i.Br(".",u))];this.Qwt=t.glt&&t.glt.length>0?nG(t.glt.map(function(t){return t.hd}),o):o,this.I_t=t.Ylt&&t.Ylt.length>0?nG(t.Ylt,this.Qwt):[];var a=this.I_t.map(function(t){return t.href}),h=n.href;Qs(a,h)||(this.I_t.push(n),a.push(h));var c=this.T_t.href;Qs(a,c)||(this.I_t.push(this.T_t),a.push(c)),this.R_t=null==(s=t.wvt)?void 0:s.dvt();var f=t.fs===PW.CE,l=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.LN)u=s.LN.dvt();else if(r>0&&t[r-1].Qg){var o=e[r-1],a=t[r-1].Qg.dvt();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var h=[],c=0;c<e.length-1;c++)h.push({Hi:t[c],LN:e[c],Qg:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,l=t[f],v=e[f],d=1/0;n||(d=l.Qg?l.Qg.dvt():i-v),h.push({Hi:l,LN:v,Qg:d})}return h}(t.lvt,f,this.R_t);this.C_t(l),this.e_t(e)},e.C_t=function(t){var n=this.N_t;if(0!==t.length){for(var i=t[0].Hi.H_,e=0;e<n.length&&n[e].H_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].xs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Zh(o.Hi,o.Qg)}else n.push(new CG(this,o.Hi,o.LN,o.Qg))}}else Zs(n)},e.e_t=function(t){for(var n=0,i=this.N_t;n<i.length;n++){i[n].e_t(t)}var e=this.Kwt,r=this.r_t(t);e&&pG(e,r)||(this.Kwt=r,this.Qs(new dG))},e.r_t=function(t){return{Ydt:t,n_t:gG(this.N_t),i_t:yG(this.N_t)}},e.mwt=function(){if(0!==this.N_t.length){var t=this.N_t[this.N_t.length-1];if(!isFinite(t.Qg)&&0!==t.kvt.length){var n=t.kvt[0];if(0!==n.q0.length){var i=n.q0[0].Avt,e=i.mwt();if(e)return{f8:e,Glt:i.Kdt(e)}}}}},e.xs=function(){this.$s();for(var t=0,n=this.N_t;t<n.length;t++){n[t].xs()}},T(n,[{key:"Hi",get:function(){return this.Gi}},{key:"fs",get:function(){return this.Gi.fs||PW.NE}},{key:"qlt",get:function(){return this.D_t||this.Gi.qlt||this.$lt}},{key:"Glt",get:function(){return this.Gi.Glt}},{key:"wvt",get:function(){return this.R_t}},{key:"glt",get:function(){return this.Qwt}},{key:"Ylt",get:function(){return this.I_t}},{key:"lvt",get:function(){return this.N_t}},{key:"$lt",get:function(){return this.Gi.$lt||this.xG}},{key:"tlt",get:function(){return this.Gi.tlt}},{key:"P_t",get:function(){return this.E_t}},{key:"B_t",get:function(){return this.xG}}]),n}(Tu);var PG=function(){function t(t,n,i){this.O_t=0,this.pE=t,this.x_t=n,this.L_t=i}var n=t.prototype;return n.kL=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.M_t(t,this.pE,this.x_t,this.L_t).catch(lu));case 2:case"end":return n.stop()}},null,this,null,qe)},n.U_t=function(){return new Date(Wt()+this.O_t)},n.M_t=function(t,n,i,e){var r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Fr.awrap(this.X_t(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}cu(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Fr.awrap(this.F_t(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.O_t=void 0===r?0:r-Wt();case 18:case"end":return o.stop()}},null,this,null,qe)},n.F_t=function(t,n,i){var e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.U0,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Ai)){o.next=9;break}return o.next=8,Fr.awrap(this.X_t(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Ai)){o.next=15;break}if(u=new Date(s).getTime(),p(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,qe)},n.X_t=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.ud({hd:n,Rd:rg.GET,td:xf.$n,Ws:i}));case 3:return e=u.sent,u.next=6,Fr.awrap(e.Ll());case 6:if(r=u.sent,s=new Date(r).getTime(),p(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),fu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],qe)},t}(),xG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).H_t=void 0,s.P4=void 0,s.z_t=void 0,s.Mrt=!0,s.N_t=[],s.V_t=void 0,s.W_t=void 0,s.G_t=void 0,s.pE=void 0,s.q_t=void 0,s.V_t=n,s.z_t=n.fg,s.W_t=i,s.pE=e,s.H_t=r,s.q_t=new PG(s.pE,s.H_t,s.V_t.Y_t),s}E(n,t);var e=n.prototype;return e.j_t=function(t){var n=this.Iy;this.Mrt=t,n!==this.Iy&&this.Qs(new EG)},e.Zh=function(t,n,e){var r,s,u,o,a,h,c,f,l,v,d,w,g;return Fr.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(s=[],u=[],o=t.jlt?i.Br(t.jlt,this.z_t):this.z_t,void 0!==this.P4){m.next=10;break}return m.next=6,Fr.awrap(this.q_t.kL(t.ndt));case 6:this.P4=new NG(t,this.z_t,o,this.U_t()),this.P4.Zs(Wq.edt,this.js),m.next=11;break;case 10:this.P4.Zh(t,o,this.U_t(),n);case 11:if(0===(a=this.P4.lvt).length)h=this.N_t.slice(),Zs(this.N_t);else{for(c=a[0].H_,f=0;f<this.N_t.length&&this.N_t[f].H_!==c;)f++;for(h=this.N_t.splice(0,f),l=0;l<a.length;l++)v=a[l],d=void 0,l<this.N_t.length?d=this.N_t[l]:(d=new TG(this,v),s.push(d)),u.push(d.Zh(this.W_t,e))}return m.next=15,Fr.awrap(qe.all(u));case 15:for((r=this.N_t).push.apply(r,s),w=0,g=h;w<g.length;w++)g[w].c_t();this.Qs(new SG);case 18:case"end":return m.stop()}},null,this,null,qe)},e.U_t=function(){return this.q_t.U_t()},e.g_t=function(t){var n=this.N_t.indexOf(t);if(n>0)return this.N_t[n-1]},e.w_t=function(t){var n=this.N_t.indexOf(t);if(n>=0&&n+1<this.N_t.length)return this.N_t[n+1]},e.hdt=function(){return this.P4?this.P4.hdt():void 0},e.mdt=function(){return this.P4&&this.P4.mdt()},e.e_t=function(t){this.P4&&this.P4.e_t(t)},e.xd=function(){this.$s(),this.G_t=void 0,this.j_t(!1);for(var t=0,n=this.N_t;t<n.length;t++){n[t].xd()}Zs(this.N_t),this.P4&&this.P4.xs()},T(n,[{key:"Glt",get:function(){return this.P4&&this.P4.Glt}},{key:"qlt",get:function(){return this.P4&&this.P4.qlt}},{key:"H_",get:function(){return this.P4&&this.P4.Hi.H_}},{key:"P_t",get:function(){var t;return null==(t=this.P4)?void 0:t.P_t}},{key:"Q_t",get:function(){var t;return null==(t=this.P4)?void 0:t.B_t}},{key:"Ylt",get:function(){return this.P4?this.P4.Ylt.map(function(t){return t.href}):[this.gvt]}},{key:"gvt",get:function(){return this.z_t.href}},{key:"Qlt",get:function(){return this.P4&&this.P4.Hi.Qlt}},{key:"Zlt",get:function(){return this.P4&&this.P4.Hi.Zlt}},{key:"wvt",get:function(){return this.P4&&this.P4.Hi.wvt}},{key:"Klt",get:function(){return this.P4&&this.P4.Hi.Klt}},{key:"Jlt",get:function(){var t,n,i=(null==(t=this.P4)?void 0:null==(n=t.Hi.Jlt)?void 0:n.xvt())||0;return g.max(i,OG)}},{key:"Iy",get:function(){return this.Mrt}},{key:"lvt",get:function(){return this.N_t}},{key:"Z_t",get:function(){return this.fs===PW.CE?this.xdt:this.K_t}},{key:"J_t",get:function(){var t=this.Z_t;if(void 0!==t)for(var n=0,i=this.lvt;n<i.length;n++){var e=i[n];if(e.LN<=t&&e.UN>t)return e}}},{key:"vlt",get:function(){return this.P4&&this.P4.Hi.vlt}},{key:"$lt",get:function(){return this.P4&&this.P4.$lt}},{key:"m_t",get:function(){for(var t=this.N_t.length-1;t>=0;t-=1){var n=this.N_t[t].m_t;if(n)return n}}},{key:"xdt",get:function(){var t=this.m_t;if(void 0!==t){var n=t-this.$_t;return g.max(n,this.K_t)}}},{key:"K_t",get:function(){for(var t=0,n=this.N_t;t<n.length;t++){var i=n[t].adt;if(void 0!==i)return i}}},{key:"Pd",get:function(){return Boolean(this.V_t.Pd)}},{key:"$_t",get:function(){var t=this.P4&&this.P4.Hi.tdt;return t?t.dvt():this.fs===PW.CE?this.tgt:0}},{key:"tgt",get:function(){return this.V_t.tgt?this.V_t.tgt:1.5*this.Klt.dvt()}},{key:"tlt",get:function(){return this.P4&&this.P4.tlt}},{key:"fs",get:function(){return this.P4?this.P4.fs:void 0}}]),n}(Tu),BG=function(){function t(t,n,i,e){this.o_t=void 0,this.o_t=new xG(t,n,i,e)}return T(t,[{key:"_dt",get:function(){return this.o_t}}]),t}(),OG=1e3,LG=g.pow(2,31)-1,MG=function(){function t(t,n,i,e){var r=this;this.yht=void 0,this.P4=void 0,this.ngt=void 0,this.igt=void 0,this.egt=void 0,this.rgt=new ou,this.sgt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.P4._dt.U_t(),e.next=4,Fr.awrap(r.ugt(r.P4._dt.Ylt,t));case 4:return i=e.sent,e.next=7,Fr.awrap(r.P4._dt.Zh(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),jk(e.t0)&&r.P4._dt.j_t(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],qe)},this.yht=e,this.P4=new BG(t,n,i,this.rgt.Ws)}var n=t.prototype;return n.Pw=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.P4._dt.Qs(new BD),n.prev=1,n.next=4,Fr.awrap(IM(this.sgt,t));case 4:this.P4._dt.j_t(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),fu(n.t0),this.igt=void 0,this.P4._dt.j_t(!1),new l("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.ngt=this.ogt(this.rgt.Ws);case 14:case"end":return n.stop()}},null,this,[[1,7]],qe)},n.ogt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.P4._dt.fs!==PW.CE){n.next=6;break}return n.next=4,Fr.awrap(vu(this.agt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],qe)},n.hgt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(cu(t),!((n=this.cgt())>0)){e.next=6;break}return i=g.min(n,LG),e.next=6,Fr.awrap(_u(i,t));case 6:return e.prev=6,e.next=9,Fr.awrap(IM(this.sgt,t,1/0,OG,3e4));case 9:this.P4._dt.j_t(!0);case 10:return e.prev=10,this.egt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],qe)},n.cgt=function(){var t=this.P4._dt.U_t().getTime()-this.P4._dt.P_t.getTime();return this.P4._dt.Jlt-t},n.fgt=function(t){var n=this.P4._dt.mdt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.P4._dt.e_t(t);var e=this.P4._dt.mdt();return e?e.getTime()-t.getTime():NaN},n.vgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.egt||(this.egt=this.hgt(t)),(n=new ou).zs(t),i.prev=3,i.next=6,Fr.awrap(qe.race([this.egt,this.lgt(n.Ws)].filter(H)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),lu(i.t0);case 11:return i.prev=11,n.Hs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],qe)},n.lgt=function(t){var n=this.P4._dt.U_t(),i=this.fgt(n);if(!p(i))return this.dgt(i,t)},n.dgt=function(t,n){var i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.awrap(_u(t,n));case 2:i=this.P4._dt.U_t(),this.P4._dt.e_t(i);case 4:case"end":return e.stop()}},null,this,null,qe)},n.ugt=function(t,n){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.yht.ght(t,{},n,!1));case 2:return i=r.sent,e=new qq,r.abrupt("return",e.sct(i.dht,i.od));case 5:case"end":return r.stop()}},null,this,null,qe)},n.xd=function(){return this.rgt.Hs(),this.ngt=void 0,this.igt=void 0,this.egt=void 0,this.P4._dt.xd(),qe.resolve()},T(t,[{key:"T$",get:function(){return this.P4}},{key:"wgt",get:function(){return this.igt||(this.igt=this.Pw(this.rgt.Ws),yu(this.igt)),this.igt}},{key:"agt",get:function(){return this.P4._dt.Q_t&&this.P4._dt.fs===PW.CE?this.vgt(this.rgt.Ws):this.wgt}}]),t}(),jG=function(){function t(t,n,i){this.yht=t,this._gt=n,this.ggt=i}var n=t.prototype;return n.mgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new l("Invalid typed source");case 2:if(!ep(n=t.type)){i.next=9;break}return i.next=6,Fr.awrap(this.ygt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!ip(n)){i.next=15;break}return i.next=12,Fr.awrap(this.kgt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new l("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,qe)},n.ygt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Fr.awrap(zW(t.src,this.yht));case 3:return n=i.sent,i.next=6,Fr.awrap(VW(n,this.yht));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new l("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],qe)},n.kgt=function(t){var n;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new MG({fg:i.Br(t.src),tgt:t.liveOffset,Y_t:t.timeServer,Pd:t.useCredentials},this.ggt,fg.Hd,this.yht),e.next=4,Fr.awrap(n.wgt);case 4:return e.next=6,Fr.awrap(RW(n.T$._dt,t.contentProtection,this._gt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new l("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],qe)},t}();var FG=function(){function t(t){this.bgt=void 0,this.pgt=[],this.Agt=0,this.bgt=t}var n=t.prototype;return n.Tgt=function(){var t=new na;return this.pgt.push(t),this.Sgt(),t.Fu},n.Egt=function(t,n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t);case 2:this.Agt-=1,this.Sgt(),0===this.pgt.length&&0===this.Agt&&n.Wu(!0);case 5:case"end":return i.stop()}},null,this,null,qe)},n.Sgt=function(){this.pgt.length>0&&this.Agt<this.bgt&&(this.pgt.shift().Wu(),this.Agt+=1)},t}();function UG(t,n){for(var i=0,e=0,r=t.$S.S0.map(function(t){return t.Qg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var HG=function(t){function n(n,e,r,s,u,o,a,h){var c,f,l,v,d;void 0===h&&(l=j.En||j.Tn,v=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=l&&!v,h=function(t){var n,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Fl,MediaSource.isTypeSupported(e)||Wk(t.KB,t.qH)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.$e)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.G0){u.next=13;break}return r=t.G0,s=Js(r,function(t){return _s(t.U0)}).filter(H),u.next=10,Fr.awrap(ru(s,function(t){return i.Cr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,qe)}),(c=t.call(this)||this).bht=void 0,c.Igt=void 0,c.Rgt=new na,c.Dgt=void 0,c.Cht=void 0,c.Ngt=kW.avt(),c.svt=void 0,c.Cgt=void 0,c.Dm=void 0,c.Pgt=void 0,c.sat=void 0,c.yht=void 0,c.Bgt=void 0,c._gt=void 0,c.ggt=void 0,c.Gft=void 0,c.bht=n,c.sat=e,c.yht=r,c.Pgt=s,c.Bgt=u,c._gt=o,c.ggt=h,c.Gft=a,c.Cgt=-1;var w=c.bht.mN.sources[0];return c.Dgt=w,c.Dm=c.jm(),c.Igt=new FG(c.bht.wc.parallelTasksThreshold),c}E(n,t);var e=n.prototype;return e.jm=function(){var t,n,i,e,r,s,u,o,a,h,c,f,l,v,d,w,m,y,p,_,b,k,A,T,S,E,I,R=this;return Fr.async(function(C){for(;;)switch(C.prev=C.next){case 0:return t=new jG(this.yht,this._gt,this.ggt),C.next=3,Fr.awrap(t.mgt(this.Dgt));case 3:return this.Cht=C.sent,n=this.bht.wc.amount,i=this.Cht.Qg,e=SW(n,i),this.svt=e,s=fH(this.Cht._vt[0]),C.next=11,Fr.awrap(this.sat.Kot.jot(s,"manifestURL"));case 11:for(u=C.sent.filter(function(t){return Qs(t.references,R.bht.H_)}),o=[],a=this.bht.wc.bandwidth,h=0,c=this.Cht.lvt;h<c.length;h++)for(f=c[h],l=0,v=f.yvt;l<v.length;l++)for(d=v[l],w=0,m=zG(d.JA);w<m.length;w++)for(y=m[w],p=0,_=VG(y.q_,a);p<_.length;p++)b=_[p],o.push(b);if(this.Cgt=g.ceil(o.map(function(t){return t.FR*UG(t,e)/8}).reduce(function(t,n){return t+n},0)),k=Xr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new lE(n.startsAndEnds);if(k.has(i))k.get(i).timeRanges=k.get(i).timeRanges.nC(e).tC(5e-4);else{var r,s=Ws(o,function(t){return t.H_===i}),a=g.min(R.svt,null!=(r=null==s?void 0:s.$S.Qg)?r:1/0);k.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new kW(A,k,this.svt)}else{for(E=0;E<o.length;E++)I=o[E],k.set(I.H_,{timeRanges:lE.yC(),totalQualityDurationToCache:g.min(I.$S.Qg,this.svt)});r=new kW(0,k,this.svt)}this.Ogt=r;case 19:case"end":return C.stop()}},null,this,null,qe)},e.xgt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.Dm);case 2:return n.next=4,Fr.awrap(this.Lgt(this.Cht,t));case 4:return n.next=6,Fr.awrap(this.Rgt.Fu);case 6:case"end":return n.stop()}},null,this,null,qe)},e.Lgt=function(t,n){var i,e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t._vt){u.next=2;break}throw new l("Unexpected - manifest is missing locations");case 2:return u.next=4,Fr.awrap(this.Mgt());case 4:for(i=[],e=0,r=t.lvt;e<r.length;e++)s=r[e],i.push(this.Ugt(s,t._vt[0],n));return u.abrupt("return",qe.all(i));case 7:case"end":return u.stop()}},null,this,null,qe)},e.Mgt=function(){var t,n,i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fr.awrap(this.Pgt.qot());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Fr.awrap(this.sat.Jot.Iu(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Fr.awrap(XG(e,this.bht.H_,this.sat.Jot,this.Gft));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Fr.awrap(this.sat.Jot.Vot(i,this.Gft));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new IW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Fr.awrap(this.Pgt.Zot());case 27:case"end":return r.stop()}},null,this,[[14,19]],qe)},e.Ugt=function(t,n,i){var e,r,s,u,o,a,h;return Fr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.yvt;r<s.length;r++)for(u=s[r],o=zG(u.JA),a=0;a<o.length;a++)h=o[a],e.push(this.Xgt(h,n,i));return c.abrupt("return",qe.all(e));case 3:case"end":return c.stop()}},null,this,null,qe)},e.Xgt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.bht.wc.bandwidth,r=VG(t.q_,e),t.fs!==u_.Ed||!t.pvt||!t.pvt.jE.widevine||"persistent"!==t.pvt.jE.widevine.licenseType){a.next=6;break}return a.next=5,Fr.awrap(this.Fgt(t.pvt));case 5:cu(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.Hgt(o,n,i));return a.abrupt("return",qe.all(s));case 9:case"end":return a.stop()}},null,this,null,qe)},e.Hgt=function(t,n,i){var e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:cu(i),e=t.$S.S0[0].Jy,r=e+this.svt,s=0,u=t.$S.S0;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Jy>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Fr.awrap(this.zgt(i));case 10:return a.next=12,Fr.awrap(this.Igt.Tgt());case 12:yu(this.Igt.Egt(this.Vgt(o,t,n),this.Rgt));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,qe)},e.zgt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Ns){n.next=4;break}return n.next=3,Fr.awrap(this.Rgt.Fu);case 3:throw new au;case 4:case"end":return n.stop()}},null,this,null,qe)},e.Wgt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr.awrap(this.Dm);case 2:return t.abrupt("return",this.Cht);case 3:case"end":return t.stop()}},null,this,null,qe)},e.Fgt=function(t){return qe.resolve()},e.Ggt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ht("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,qe)},e.Vgt=function(t,n,i){var e,r,s,u,o,a,h,c=this;return Fr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.sat.Kot,r=lH(t.Tvt.hd,t.Tvt.Qat),f.next=4,Fr.awrap(e.Iu(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Fr.awrap(XG(s,this.bht.H_,e,this.Gft));case 8:this.qgt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Fr.awrap(this.Ygt(t.Tvt));case 14:return u=f.sent,o=this.jgt(t,n,i,u),a=o.segmentMetadataEntry,h=o.segmentEntry,f.next=18,Fr.awrap(this.sat.iat(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.Kot.Vot(a,c.Gft));case 2:return n.next=4,Fr.awrap(t.S0.Vot(h,c.Gft));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 18:this.qgt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new IW("Unable to store segment with url: "+t.Tvt.hd,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],qe)},e.Ygt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.Bgt.Qgt(t,!1));case 2:return n=i.sent,i.next=5,Fr.awrap(this.Zgt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,qe)},e.Zgt=function(t){var n;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.Ul());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,qe)},e.jgt=function(t,n,i,e){var r=lH(t.Tvt.hd,t.Tvt.Qat),s=t.Jy,u=t.Qg,o=this.Kgt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:fH(i),qualityId:n.H_,byteSize:o,startsAndEnds:new lE([s,s+u]).FN,references:[this.bht.H_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:fH(i),data:e}}},e.Kgt=function(t){return t.buffer.byteLength},e.qgt=function(t,n){var i=t.qualityId,e=this.Ngt,r=e.By;r.get(i).timeRanges=r.get(i).timeRanges.nC(new lE(t.startsAndEnds)).tC(5e-4),this.Ogt=new kW(n?e.cvt+t.byteSize:e.cvt,r,this.svt)},T(n,[{key:"Jgt",get:function(){return this.Cgt}},{key:"Ogt",get:function(){return this.Ngt},set:function(t){this.Ngt.Tk(t)||(this.Ngt=t,t.Tk(kW.avt())||this.Qs(new bW))}}]),n}(Tu);function XG(t,n,i,e){return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Qs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Fr.awrap(i.Vot(t,e));case 4:case"end":return r.stop()}},null,null,null,qe)}function zG(t){return t.length?[t[0]]:[]}function VG(t,n){if(!t.length)return[];var i=[].concat(t).sort(pW),e=i.filter(function(t){return t.FR<=n});return e.length>0?[e.pop()]:[i.shift()]}var WG=function(){function t(t){this.pE=void 0,this.fX=new hD,this.pE=t}var n=t.prototype;return n.ud=function(t){var n=this,i=new na;return this.fX.tX(function(e){return n.$gt(i,t,e)},t.Ws).catch(K),i.Fu},n.Od=function(t){return this.pE.Od(t)},n.$gt=function(t,n,i){var e,r,s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return cu(i),e=new hg({hd:n.hd,Ws:i},n),r=this.pE.ud(e),t.Wu(r),u.next=6,Fr.awrap(r);case 6:return s=u.sent,u.next=9,Fr.awrap(s.Yl());case 9:case"end":return u.stop()}},null,this,null,qe)},n.xd=function(){this.fX.xd()},t}(),qG=function(){function t(t,n){this.pE=void 0,this.tmt=void 0,this.V6=void 0,this.pE=t,this.tmt=new WG(t),this.V6=n}var n=t.prototype;return n.Qgt=function(t,n,i){return this.A3(t,n,!0,!1,void 0,i)},n.u8=function(t,n,i,e){return this.A3(t,n,!1,!1,i,e)},n.nmt=function(t,n,i,e){return this.A3(t,n,!1,!0,i,e)},n.A3=function(n,i,e,r,s,u){var o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return cu(u),a.next=3,Fr.awrap(this.l8(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.imt(o));case 8:return a.abrupt("return",this.emt(o));case 9:case"end":return a.stop()}},null,this,null,qe)},n.emt=function(t){return t},t.imt=function(t){return t},n.l8=function(t,n,i,e,r){var s=new hg({hd:t.hd,td:xf.Gf,$l:t.Qat?{Range:"bytes="+t.Qat[0]+"-"+t.Qat[1]}:void 0,Pd:t.Pd,Rd:rg.GET,fs:sg.dd,Nd:i?ug._d:ug.vd,Cd:this.V6,Dd:e,Ws:r});return n?this.tmt.ud(s):this.pE.ud(s)},t}(),GG=function(){function t(t){this.pE=void 0,this.pE=t}return t.prototype.Ywt=function(t,n,i,e){var r;return Fr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Fr.awrap(this.pE.ud({hd:t,td:xf.Gf,$l:{Range:"bytes="+n[0]+"-"+n[1]},Pd:i,Rd:rg.GET,fs:sg.vd,Ws:e}));case 2:return r=s.sent,s.next=5,Fr.awrap(r.Ul());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,qe)},t}(),$G=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).f8=void 0,r.f8=n,r}return E(n,t),n}(nn),YG=function(){function t(t){this.M4=void 0,this.M4=t}return t.prototype.Ywt=function(t,n,i,e){var r,s;return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(this.M4.j6(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Fr.awrap(this.M4.j6(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Qo(new _(s.buffer),n[0],n[1]));case 10:throw new $G({hd:t,Qat:n,Pd:!1});case 11:case"end":return i.stop()}},null,this,null,qe)},t}(),QG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new lE([0,0]).FN,references:[]},ZG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},KG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).rmt=void 0,u.smt=void 0,u.sat=void 0,u.Gft=void 0,u.rmt=new GG(i),u.sat=e,u.smt=r,u.Gft=s,u}E(n,t);var i=n.prototype;return i.Ywt=function(n,i,e,r){var s;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Fr.awrap(t.prototype.Ywt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),fu(u.t0);case 9:return u.next=11,Fr.awrap(this.rmt.Ywt(n,i,e,r));case 11:return s=u.sent,u.next=14,Fr.awrap(this.umt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],qe)},i.umt=function(t,i,e){var r,s,u,o,a,h,c,f=this;return Fr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==this.smt){l.next=2;break}return l.abrupt("return");case 2:return r=this.sat.Kot,s=lH(t,i),l.next=6,Fr.awrap(r.Iu(s));case 6:if(!(u=l.sent)){l.next=12;break}return l.next=10,Fr.awrap(XG(u,this.smt,r,this.Gft));case 10:l.next=22;break;case 12:return l.prev=12,o={buffer:e},a=n.jgt(s,o,this.smt),h=a.segmentMetadataEntry,c=a.segmentEntry,l.next=17,Fr.awrap(this.sat.iat(function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(t.Kot.Vot(h,f.Gft));case 2:return n.next=4,Fr.awrap(t.S0.Vot(c,f.Gft));case 4:case"end":return n.stop()}},null,null,null,qe)}));case 17:l.next=22;break;case 19:throw l.prev=19,l.t0=l.catch(12),new IW("Unable to store segment with url: "+t,l.t0);case 22:case"end":return l.stop()}},null,this,[[12,19]],qe)},n.jgt=function(t,n,i){return{segmentMetadataEntry:Ur({},QG,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Ur({},ZG,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(YG);var JG=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.omt=function(t,n,i,e,r,s,u){return new HG(t,n,i,e,r,s,u)},n}(function(){function t(t){this.pE=t}return t.prototype.SK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.mN.sources[0].useCredentials),r=new qG(this.pE,og.vd),s=new QH(this.pE,e),u=new vH(n.Jot,n.Kot,n.S0,n.nat),o=function(t,n,i,e,r){return new KG(n,t,i,e,r)}(this.pE,u,n,t.H_,i),a=new bH,h=new nX(tX(s,u),a,t);return this.omt(t,n,h,a,r,o,i)},t}());function t$(t){var n,i={get id(){return t.H_},get status(){return t.Jl},get source(){return t.mN},get parameters(){return t.wc},get duration(){return t.Qg},get cached(){return t.amt.tN()},get secondsCached(){return t.hmt},get percentageCached(){return t.cmt},get bytes(){return t.fmt},get bytesCached(){return t.vmt},get license(){return t.lO.t_},start:function(){t.LN()},pause:function(){t.Hm()},remove:function(){t.Qh()},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}};return n=new pC(t,["ivt","Bft"],i),i}var n$=function(){function t(t,n,i){this.bht=t,this.sat=n,this.Cht=i}var n=t.prototype;return n.lmt=function(){var t=this;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.sat.iat(function(n){return Fr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Fr.awrap(t.dmt(n));case 2:return i.next=4,Fr.awrap(t.wmt(n));case 4:return i.next=6,Fr.awrap(t._mt(n));case 6:return i.next=8,Fr.awrap(t.gmt(n));case 8:case"end":return i.stop()}},null,null,null,qe)}));case 2:case"end":return n.stop()}},null,this,null,qe)},n.dmt=function(t){var n,i;return Fr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$ot,i=this.bht.H_,e.next=4,Fr.awrap(n.Qh(i));case 4:case"end":return e.stop()}},null,this,null,qe)},n.wmt=function(t){var n,i,e,r,s,u,o,a=this;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(n=t.Kot,i=t.S0,op(e=this.bht.mN.sources[0])){h.next=5;break}return h.abrupt("return");case 5:return r=fH(e.src),h.next=8,Fr.awrap(n.jot(r,"manifestURL"));case 8:s=h.sent.filter(function(t){return Qs(t.references,a.bht.H_)}),u=0;case 10:if(!(u<s.length)){h.next=25;break}if($s((o=s[u]).references,this.bht.H_),0!==o.references.length){h.next=20;break}return h.next=16,Fr.awrap(n.Qh(o.key));case 16:return h.next=18,Fr.awrap(i.Qh(o.key));case 18:h.next=22;break;case 20:return h.next=22,Fr.awrap(n.Vot(o));case 22:u++,h.next=10;break;case 25:case"end":return h.stop()}},null,this,null,qe)},n._mt=function(t){var n,i,e,r,s,u=this;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.Jot,i=this.mmt(),o.next=4,Fr.awrap(n.Hot(i));case 4:e=o.sent.filter(function(t){return Qs(t.references,u.bht.H_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if($s((s=e[r]).references,this.bht.H_),0!==s.references.length){o.next=14;break}return o.next=12,Fr.awrap(n.Qh(s.key));case 12:o.next=16;break;case 14:return o.next=16,Fr.awrap(n.Vot(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,qe)},n.mmt=function(){if(!this.Cht)return[];var t=this.bht.mN.sources[0];if(!op(t))return[];var n=fH(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.lvt;i<e.length;i++)for(var r=0,s=e[i].yvt;r<s.length;r++)for(var u=0,o=s[r].JA;u<o.length;u++)for(var a=0,h=o[u].q_;a<h.length;a++){var c=h[a];c.Bvt&&n.push(c.Bvt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Cht).map(function(t){return{src:t}}).map(function(t){return fH(t.src)});return[n].concat(i)},n.gmt=function(t){var n,i,e,r,s=this;return Fr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.nat,u.next=3,Fr.awrap(n.qot());case 3:i=u.sent.filter(function(t){return Qs(t.references,s.bht.H_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if($s((r=i[e]).references,this.bht.H_),0!==r.references.length){u.next=14;break}return u.next=11,Fr.awrap(n.Qh(r.key));case 11:this.ymt(r),u.next=16;break;case 14:return u.next=16,Fr.awrap(n.Vot(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,qe)},n.ymt=function(t){},t}(),i$=new(function(){function t(){}return t.prototype.SK=function(t,n,i){return new n$(t,n,i)},t}());var e$=function(){function t(t,n){this.$w=void 0,this.Ow=t,this.kmt=n}var n=t.prototype;return n.bmt=function(t){this.pmt(t)},n.pmt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.kmt.Ggt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Ow.jft(oW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],qe)},T(t,[{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{renew:function(n){t.bmt(n)}})),this.$w}}]),t}(),r$=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bh=void 0,o.Wft=void 0,o.$w=void 0,o.wrt=void 0,o.Amt=void 0,o.sat=void 0,o.kmt=void 0,o.Tmt=new ou,o.Smt=void 0,o.evictOnLoading=function(){o.tu("Bft",o.evictOnLoading),o.Emt()},o.Bh=n,o.wrt=i,o.Amt=e,o.sat=r,o.kmt=s.SK(Jt(o),o.sat,u),o.Smt=new e$(Jt(o),o.kmt),o.Wft=1===o.kmt.Ogt.fvt?oW.DONE:oW.IDLE,o.kmt.Zs("ivt",function(t){o.js(t),1===o.cmt&&o.jft(oW.DONE)});var h=new Date,c=o.Amt.expirationDate.getTime()-h.getTime();return c<2147483647&&a(function(){return o.Emt()},c),o}E(n,t);var i=n.prototype;return i.jft=function(t){this.Wft!==t&&(this.Wft=t,this.Qs(new hW))},i.LN=function(){this.Wft===oW.EVICTED||this.Wft===oW.DONE||this.Imt()},i.Imt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.jft(oW.LOADING),t=new ou,this.Tmt=t,n.next=6,Fr.awrap(this.kmt.xgt(t.Ws));case 6:this.jft(oW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),hu(n.t0)?this.jft(oW.IDLE):this.jft(oW.ERROR);case 12:return n.prev=12,this.Tmt.xs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],qe)},i.Hm=function(){this.Tmt.Hs()},i.Qh=function(){this.Jl===oW.LOADING?(this.Zs("Bft",this.evictOnLoading),this.Hm()):this.Emt()},i.Emt=function(){var t;return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fr.awrap(this.kmt.Wgt());case 3:return t=n.sent,n.next=6,Fr.awrap(i$.SK(this,this.sat,t).lmt());case 6:this.kmt.Ogt=kW.avt(),this.jft(oW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.jft(oW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],qe)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=t$(this)),this.$w}},{key:"H_",get:function(){return this.Bh}},{key:"lO",get:function(){return this.Smt}},{key:"Jl",get:function(){return this.Wft}},{key:"mN",get:function(){return this.wrt}},{key:"wc",get:function(){return this.Amt}},{key:"Qg",get:function(){return this.kmt.Ogt.wC}},{key:"amt",get:function(){return this.kmt.Ogt.ovt}},{key:"hmt",get:function(){return this.kmt.Ogt.uvt}},{key:"cmt",get:function(){return this.kmt.Ogt.fvt}},{key:"fmt",get:function(){return this.kmt.Jgt}},{key:"vmt",get:function(){return this.kmt.Ogt.cvt}}]),n}(Xy);var s$=function(){function t(t,n){this.sat=t,this.Rmt=n}var n=t.prototype;return n.Jft=function(t,n,i){var e=KI();return this.Zft(e,t,n,i)},n.Zft=function(t,n,i,e){return new r$(t,n,i,this.sat,this.Rmt,e)},t}(),u$=30,o$=5;function a$(t){if(!t)throw new l("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!ks(t,"%"))return m(t);return t}(t.amount);!function(t){if(i=t,G(i)&&ks(i,"%")){var n=y(t);if(p(n)||n<0||n>100)throw new l("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&p(t))throw new l("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+u$),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new l("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(p(t)||t<0)throw new l("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return o$;if(p(t))throw new l("The amount must be a number");return t}(t.numberOfParallelTasks)}}var h$,c$,f$,l$,v$,d$,w$=function(t){function n(n,i){var e;return(e=t.call(this)||this).$w=void 0,e.Dmt=n,e.pU=i,e.Dmt.Zs("Bft",e.js),e}return E(n,t),n.prototype.Nmt=function(t,n,i){var e,r;if(!t)throw new l("Unexpected - The source description is undefined");if(e=kI(t),r=a$(n),cI(e))throw new l("Invalid source description");return this.Dmt.Zft(e,r).t_},T(n,[{key:"t_",get:function(){var t,n,i;return this.$w||(this.$w=(i={get status(){return t.Jl},get tasks(){return t.nvt},get network(){return t.xU.t_},createTask:function(n,i){return t.Nmt(n,i)},addEventListener:function(t,i){n.Zs(t,i)},removeEventListener:function(t,i){n.tu(t,i)}},n=new _C(t=this,i),i)),this.$w}},{key:"Jl",get:function(){return this.Dmt.Jl}},{key:"nvt",get:function(){return this.Dmt.nvt.t_}},{key:"xU",get:function(){return this.pU}}]),n}(Xy);(h$=new JR(i.jw,!1),c$=IH.Yn,f$=new JG(h$),l$=new s$(c$,f$),v$=new nC(h$),d$=new yW(c$.$ot,l$,"persistent"),new w$(d$,v$)).t_;var g$=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bh=void 0,s.Wft=void 0,s.$w=void 0,s.wrt=void 0,s.Amt=void 0,s.ua=0,s.Cmt=lE.yC(),s.Pmt=0,s.Bmt=0,s.Dmt=void 0,s.Bh=n,s.Wft=oW.IDLE,s.wrt=i,s.Amt=e,s.Dmt=r,s}E(n,t);var i=n.prototype;return i.LN=function(){this.Dmt.startCachingTask(this)},i.Qh=function(){this.Dmt.removeCachingTask(this)},T(n,[{key:"t_",get:function(){return this.$w||(this.$w=t$(this)),this.$w}},{key:"H_",get:function(){return this.Bh}},{key:"Jl",get:function(){return this.Wft},set:function(t){this.Wft!==t&&(this.Wft=t,this.Qs(new hW))}},{key:"mN",get:function(){return this.wrt}},{key:"wc",get:function(){return this.Amt}},{key:"Qg",get:function(){return this.ua},set:function(t){this.ua=t}},{key:"amt",get:function(){return this.Cmt},set:function(t){this.Cmt=t}},{key:"hmt",get:function(){return this.Pmt},set:function(t){this.Pmt=t}},{key:"cmt",get:function(){return this.Bmt},set:function(t){this.Bmt=t,this.Qs(new bW)}}]),n}(zy),m$=30;function y$(t){var n,i;if(!t)throw new l("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+m$),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new l("Invalid expiration date for the cache parameters");return{expirationDate:n}}var p$=function(t){function n(){var n;return(n=t.call(this)||this).Wft=lW.UNINITIALISED,n.QU=new mW,n.mct=void 0,n.Oct=void 0,n.Omt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Jl=oW.EVICTED,i.cmt=0,i.hmt=0,i.Qg=0,i.amt=lE.yC(),n.QU.Qh(i))}},n.xmt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Jl=e);var r=t.detail.percentage;r&&(i.cmt=r);var s=t.detail.duration;s&&(i.Qg=s);var u=t.detail.seconds;u&&(i.hmt=u);var o=t.detail.cached;if(o){for(var a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}i.amt=new lE(a)}}}},n.Lmt=function(t){if(t.detail){var i=kI(JSON.parse(t.detail.source));if(!n.Mmt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.Zft(i,y$(e),s)}}},n.Umt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.Zft(kI(r),y$(i),s);u.Jl=t.detail.status,u.cmt=t.detail.percentage,u.Qg=t.detail.duration,u.hmt=t.detail.seconds;for(var o=t.detail.cached,a=[],h=0;h<o.length;h++){var c=o[h];a.push(c.start,c.end)}u.amt=new lE(a)}},n.Xmt=function(t){t.detail&&n.jft(t.detail.status)},n.mct=new eW,n.Oct=new OV,CV().cache={sdkEventBus:n.Oct},n.Rft(),n}E(n,t);var i=n.prototype;return i.jft=function(t){this.Wft!==t&&(this.Wft=t,this.Qs(new hW))},i.Zft=function(t,n,i){void 0===i&&(i=void 0);var e=new g$(i||KI(),t,n,this);return this.QU.Oy(e),i||this.mct.cK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.H_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.QU.xft;n<i.length;n++){var e=i[n];if(e.H_===t)return e}},i.Mmt=function(t){for(var n=b$(t.sources),i=0,e=this.QU.xft;i<e.length;i++){if(b$(e[i].mN.sources).src===n.src)return!0}return!1},i.Rft=function(){this.Oct.addEventListener("deleteTask",this.Omt),this.Oct.addEventListener("updateValues",this.xmt),this.Oct.addEventListener("newTask",this.Lmt),this.Oct.addEventListener("restoreTask",this.Umt),this.Oct.addEventListener("setCacheStatus",this.Xmt)},i.startCachingTask=function(t){this.mct.cK("THEOplayerCacheStartCachingTask",{id:t.H_})},i.removeCachingTask=function(t){this.mct.cK("THEOplayerCacheRemoveCachingTask",{id:t.H_})},T(n,[{key:"Jl",get:function(){return this.Wft}},{key:"nvt",get:function(){return this.QU}}]),n}(Tu),_$=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fmt=n,i.Fmt.Zs("Bft",i.js),i}return E(n,t),n.prototype.Nmt=function(t,n){var i,e;if(!t)throw new l("Unexpected - The source description is undefined");if(i=kI(t),e=y$(n),cI(i))throw new l("Invalid source description");if(!b$(i.sources))throw new l("The provided sources can't be cached");return this.Fmt.Zft(i,e).t_},n}(w$);function b$(t){for(var n=0;n<t.length;n++){var i=t[n];if(ep(i.type))return i}}var k$,A$,T$=function(){var t=new p$;return new _$(t)}().t_;!function(t){t.Hmt="any",t.zmt="natural",t.Vmt="landscape",t.Wmt="portrait",t.Gmt="portrait-primary",t.qmt="portrait-secondary",t.Ymt="landscape-primary",t.jmt="landscape-secondary"}(k$||(k$={})),function(t){t.Gmt="portrait-primary",t.qmt="portrait-secondary",t.Ymt="landscape-primary",t.jmt="landscape-secondary"}(A$||(A$={}));var S$,E$,I$=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mct=new eW,n.Qmt=k$.zmt,n.Zmt=A$.Gmt,n.Kmt=A$.Gmt,n.Jmt=A$.Gmt,n}E(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.Qmt=t,n.mct.cK("THEOplayerOrientationLock",t),n.$mt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.Qmt=k$.zmt,t.mct.cK("THEOplayerOrientationUnlock"),t.type=t.Kmt,t.$mt(),n()})},i.$mt=function(){var t=this.Jmt,n=this.type;t!==n&&(this.Jmt=n,this.Qs(new Eu("change")))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n.tyt=function(t){switch(t){case k$.Gmt:return[A$.Gmt];case k$.qmt:return[A$.qmt];case k$.Wmt:return[A$.Gmt,A$.qmt];case k$.Ymt:return[A$.Ymt];case k$.jmt:return[A$.jmt];case k$.Vmt:return[A$.Ymt,A$.jmt];case k$.zmt:return[A$.Gmt,A$.Ymt,A$.jmt];case k$.Hmt:return[A$.Gmt,A$.qmt,A$.Ymt,A$.jmt]}},n.nyt=function(t,i){return n.tyt(i).indexOf(t)>=0},T(n,[{key:"type",get:function(){return this.Zmt},set:function(t){this.Kmt=t,n.nyt(t,this.Qmt)?(this.Zmt=t,this.$mt()):(t===A$.Ymt&&this.Qmt===k$.jmt&&(this.Zmt=A$.jmt,this.$mt()),t===A$.jmt&&this.Qmt===k$.Ymt&&(this.Zmt=A$.Ymt,this.$mt()))}},{key:"angle",get:function(){switch(this.type){case A$.Ymt:return-90;case A$.jmt:return 90;case A$.Gmt:return 0;case A$.qmt:return 180;default:return 0}}}]),n}(zy);I$.Yn=new I$,r.screen.orientation=I$.Yn,o&&-1===o.userAgent.indexOf("OS 9")&&w.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.iyt="unavailable",t.eyt="available",t.ryt="presenting"}(S$||(S$={})),QC(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return E(n,t),n.prototype.Wm=function(n){t.prototype.Wm.call(this,n);var i=this.t_;this.t_.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===S$.ryt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(k$.jmt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},VC.UU),function(t){t.Qw="addtrack",t.Kw="removetrack",t.l_="change",t.y_="update"}(E$||(E$={}));var R$=function(t,n,i){this.type=E$.l_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},C$=function(t,n){this.type=E$.Qw,this.mediaType=t,this.mediaTrack=n},D$=function(t,n){this.type=E$.Kw,this.mediaType=t,this.mediaTrack=n},N$=function(t,n){this.type=E$.y_,this.mediaType=t,this.mediaTrack=n},P$=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.syt=function(t){var n=new R$(e.type,t.track,e.mediaTracks);e.messageDispatcher.uyt(n)},this.oyt=function(t){var n=new C$(e.type,t.track);e.messageDispatcher.uyt(n),t.track.addEventListener("update",e.ayt)},this.hyt=function(t){var n=new D$(e.type,t.track);e.messageDispatcher.uyt(n)},this.ayt=function(t){var n=new N$(e.type,t.track);e.messageDispatcher.uyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.Rft()}return t.prototype.Rft=function(){this.mediaTracks.addEventListener("change",this.syt),this.mediaTracks.addEventListener("addtrack",this.oyt),this.mediaTracks.addEventListener("removetrack",this.hyt)},t}(),x$=function(){function t(){this.cyt=void 0,this.cyt=new eW}return t.prototype.uyt=function(t){this.cyt.cK(t.type,dX(t))},t}();nD(function(t){if(t.t_.audioTracks){var n=new x$;new P$("audio",t.t_.audioTracks,n)}if(t.t_.videoTracks){var i=new x$;new P$("video",t.t_.videoTracks,i)}});var B$,O$="nativePromiseCallback",L$=function(t){function n(n){var i;return(i=t.call(this,O$)||this).detail=n,i}return E(n,t),n}(Eu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(B$||(B$={}));var M$=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Qs(new L$(n))},i.addEventListener=function(t,n){this.Zs(t,n)},i.removeEventListener=function(t,n){this.tu(t,n)},n}(OV),j$=function(){function t(){var t=this;this.cyt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new l("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case B$.RESOLVE:i.Wu(n.detail.data);break;case B$.REJECT:i.Gu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new M$;CV().nativePromise={sdkEventBus:n},n.addEventListener(O$,this.handleNativePromiseEvent)}return t.prototype.fyt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Ur({},n,{promiseId:e}),s=new na;return this.promisesMap[e]=s,null==(i=this.cyt)||i.cK(n.type,lX(r)),s.Fu},t}();j$.messageIdTracker=-1;var F$,U$=function(t){function n(){var n;return(n=t.call(this)||this).cyt=new eW,n}return E(n,t),n}(j$),H$=function(){function n(t){this.playerID=t}return n.prototype.cK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),X$=function(t){function n(n){var i;return(i=t.call(this)||this).cyt=new H$(n),i}return E(n,t),n}(j$);!function(t){t.Qw="TextTrackListAddTrack",t.Kw="TextTrackListRemoveTrack",t.l_="TextTrackListChange"}(F$||(F$={}));var z$,V$=function(t){this.type=F$.Qw,this.textTrack=t},W$=function(t){this.type=F$.Kw,this.textTrack=t},q$=function(t){this.type=F$.l_,this.textTrack=t};!function(t){t.e_="TextTrackAddCue",t.s_="TextTrackRemoveCue",t.o_="TextTrackEnterCue",t.h_="TextTrackExitCue",t.f_="TextTrackCueChange"}(z$||(z$={}));var G$,$$=function(t,n){this.type=z$.e_,this.textTrackCue=t,this.textTrackUid=n},Y$=function(t,n){this.type=z$.s_,this.textTrackCue=t,this.textTrackUid=n},Q$=function(t,n){this.type=z$.o_,this.textTrackCue=t,this.textTrackUid=n},Z$=function(t,n){this.type=z$.h_,this.textTrackCue=t,this.textTrackUid=n},K$=function(t){this.type=z$.f_,this.textTrackUid=t};!function(t){t.Yy="TextTrackCueEnter",t.Qy="TextTrackCueExit",t.y_="TextTrackCueUpdate"}(G$||(G$={}));var J$=function(t){this.type=G$.Yy,this.textTrackCue=t},tY=function(t){this.type=G$.Qy,this.textTrackCue=t},nY=function(t){this.type=G$.y_,this.textTrackCue=t},iY=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.vyt=function(t){var i=eY(t.cue),e=new J$(i);n.messageDispatcher.fyt(e).then()},this.lyt=function(t){var i=eY(t.cue),e=new tY(i);n.messageDispatcher.fyt(e).then()},this.dyt=function(t){var i=eY(t.cue),e=new nY(i);n.messageDispatcher.fyt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.Rft=function(t){t.addEventListener("enter",this.vyt),t.addEventListener("exit",this.lyt),t.addEventListener("update",this.dyt)},n.uu=function(t){t.removeEventListener("enter",this.vyt),t.removeEventListener("exit",this.lyt),t.removeEventListener("update",this.dyt)},t}();function eY(t){var n=kV(t,t.track.type);return delete n.track,n}var rY=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.wyt=function(t){var n,e=eY(t.cue),r=new $$(e,t.cue.track.uid);i.messageDispatcher.fyt(r).then(),null==(n=i.textTrackCueBridge)||n.Rft(t.cue)},this._yt=function(t){var n,e=eY(t.cue),r=new Y$(e,t.cue.track.uid);i.messageDispatcher.fyt(r).then(),null==(n=i.textTrackCueBridge)||n.uu(t.cue)},this.vyt=function(t){var n=eY(t.cue),e=new Q$(n,t.cue.track.uid);i.messageDispatcher.fyt(e).then()},this.lyt=function(t){var n=eY(t.cue),e=new Z$(n,t.cue.track.uid);i.messageDispatcher.fyt(e).then()},this.gyt=function(t){var n=new K$(t.track.uid);i.messageDispatcher.fyt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new iY(e))}var n=t.prototype;return n.Rft=function(t){t.addEventListener("addcue",this.wyt),t.addEventListener("removecue",this._yt),t.addEventListener("entercue",this.vyt),t.addEventListener("exitcue",this.lyt),t.addEventListener("cuechange",this.gyt)},n.uu=function(t){t.removeEventListener("addcue",this.wyt),t.removeEventListener("removecue",this._yt),t.removeEventListener("entercue",this.vyt),t.removeEventListener("exitcue",this.lyt),t.removeEventListener("cuechange",this.gyt)},n.initMessageDispatcher=function(t){return j.Vn?new U$:j.Wn&&void 0!==t?new X$(t):void 0},t}(),sY=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.oyt=function(t){var n,i=new V$(t.track);e.messageDispatcher.fyt(i).then(),null==(n=e.textTrackBridge)||n.Rft(t.track)},this.hyt=function(t){var n,i=new W$(t.track);e.messageDispatcher.fyt(i).then(),null==(n=e.textTrackBridge)||n.uu(t.track)},this.myt=function(t){var n=new q$(t.track);e.messageDispatcher.fyt(n).then()},this.yyt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.kyt(i);r&&(this.textTrackBridge=new rY(r,i)),this.Rft(),this.sdkEventBus=new OV,CV().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.yyt)}var n=t.prototype;return n.Rft=function(){this.textTracks.addEventListener("addtrack",this.oyt),this.textTracks.addEventListener("removetrack",this.hyt),this.textTracks.addEventListener("change",this.myt)},n.kyt=function(t){return j.Vn?new U$:j.Wn&&void 0!==t?new X$(t):void 0},t}();nD(function(t){if(t.t_.textTracks){var n=new U$;new sY(t.t_.textTracks,n)}});var uY,oY,aY=function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case uY.byt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Qs(new hY(i));break;default:0}},n}(OV),hY=function(t){function n(n){var i;return(i=t.call(this,uY.byt)||this).detail=n,i}return E(n,t),n}(Eu);!function(t){t.byt="registerContentProtectionIntegration"}(uY||(uY={})),function(t){t.pyt="certifiateRequest",t.Ayt="certifiateResponse",t.Tyt="licenseRequest",t.Syt="licenseResponse",t.Eyt="extractFairplayContentId",t.Iyt="buildContentProtection",t.Ryt="registerContentProtectionCallback"}(oY||(oY={}));var cY,fY=function(t,n){this.type=oY.Ryt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(cY||(cY={}));var lY=function(t,n){this.type=oY.Iyt,this.value=t,this.integrationId=n},vY=function(t,n){this.type=oY.pyt,this.value=t,this.integrationId=n},dY=function(t,n){this.type=oY.Ayt,this.value=t,this.integrationId=n},wY=function(t,n){this.type=oY.Eyt,this.value=t,this.integrationId=n},gY=function(t,n){this.type=oY.Tyt,this.value=t,this.integrationId=n},mY=function(t,n){this.type=oY.Syt,this.value=t,this.integrationId=n},yY=function(){function t(t,n){this.Dyt=void 0,this.DI=void 0,this.Dyt=t,this.DI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new vY(i,this.DI),a.prev=2,a.next=5,Fr.awrap(this.Dyt.fyt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.Nyt(s)){a.next=13;break}return u=Ur({},s),a.abrupt("return",u);case 13:if(!this.Cyt(s)){a.next=16;break}return o=new _(s),a.abrupt("return",o);case 16:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],qe)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Fr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new dY(e,this.DI),o.next=5,Fr.awrap(this.Dyt.fyt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new _(u));case 11:throw new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,qe)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Fr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new gY(e,this.DI),h.prev=3,h.next=6,Fr.awrap(this.Dyt.fyt(r));case 6:if(!(s=h.sent)){h.next=17;break}if(u=JSON.parse(s),!this.Nyt(u)){h.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new _(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},h.abrupt("return",o);case 14:if(!this.Cyt(u)){h.next=17;break}return a=new _(u),h.abrupt("return",a);case 17:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw h.prev=20,h.t0=h.catch(3),new i_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 23:case"end":return h.stop()}},null,this,[[3,20]],qe)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Fr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Ur({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new mY(r,this.DI),a.next=6,Fr.awrap(this.Dyt.fyt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new _(o));case 12:throw new i_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,qe)},i.extractFairplayContentId=function(t){var i,e;return Fr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new wY(t,this.DI),r.next=3,Fr.awrap(this.Dyt.fyt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",qe.reject(new i_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,qe)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Nyt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Cyt=function(t){return!!new _(t)},t}(),pY=function(){function t(t){this.Dyt=void 0,this.Dyt=t}return t.prototype.build=function(t){if(!t.integration)throw new l("integrationId is undefined");var n=new yY(this.Dyt,t.integration),i=new lY({drmConfiguration:t},t.integration);return this.Dyt.fyt(i),n},t}(),_Y=function(t){function n(){var n;return(n=t.call(this)||this).Dyt=new U$,n}return E(n,t),T(n,[{key:"messageDispatcher",get:function(){return this.Dyt}}]),n}(function(){var t=this;this.Oct=void 0,this.Pyt=function(n){var i=new pY(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:QA.LI.CI(r,s,i)};t.messageDispatcher.fyt(new fY(u,r))},this.Oct=new aY,CV().contentProtectionIntegration={sdkEventBus:this.Oct},this.Oct.addEventListener(uY.byt,this.Pyt)});nD(function(t){new _Y});var bY=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return E(n,t),n}(Eu);var kY,AY=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Byt=function(){},e.Oyt(),e}E(n,t);var e=n.prototype;return e.xyt=function(){this.EN&&this.EN.tu(Pf.sf,this.handleAirplayChangedEvent),this.EN=this.tL,this.EN.Zs(Pf.sf,this.handleAirplayChangedEvent)},e.Lyt=function(){return Fr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.EN){t.next=2;break}return t.abrupt("return");case 2:this.Myt(GE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,qe)},e.Uyt=function(){this.Myt(GE.AVAILABLE)},e.qm=function(){i.Lr.ze&&(this.Xyt.jm(),this.Fyt.Hs(),this.Fyt=new ou,yu(this.Hyt(this.Fyt.Ws)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).$w=void 0,e.Xyt=void 0,e.EN=void 0,e.tL=void 0,e.me=GE.UNAVAILABLE,e.Fyt=new ou,e.Byt=void 0,e.handleAirplayChangedEvent=function(){e.EN&&e.EN.yy?e.Lyt():e.vQ===GE.CONNECTED&&e.Uyt()},e.Xyt=n,e.tL=i,e}E(n,t);var e=n.prototype;return e.Oyt=function(){this.xyt(),this.Xyt.Zs("sourcechange",this.Byt),i.Lr.ze&&this.Myt(GE.AVAILABLE)},e.preloadPlayer=function(t){if(cu(t),this.EN.ag<Ky.Ug){var n=this.EN.au("loadedmetadata",t);return this.EN.Dy=rE.uA,n}return qe.resolve()},e.Myt=function(t){t!==this.me&&(this.me=t,this.Qs(new bY(this.me)))},e.Hyt=function(t){return Fr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fr.awrap(this.preloadPlayer(t));case 2:this.tL.qm();case 3:case"end":return n.stop()}},null,this,null,qe)},e.Ym=function(){i.Lr.ze&&this.EN.Ym()},e.xd=function(){this.$s(),this.Xyt.tu("sourcechange",this.Byt),this.Fyt.Hs()},T(n,[{key:"CM",get:function(){return this.vQ===GE.CONNECTED}},{key:"vQ",get:function(){return this.me}},{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get casting(){return t.CM},get state(){return t.vQ},start:function(){t.qm()},stop:function(){t.Ym()},addEventListener:function(n,i){var e=Sy(n,Ay);t.Zs(e,i)},removeEventListener:function(n,i){var e=Sy(n,Ay);t.tu(e,i)}})),this.$w}}]),n}(Tu));QC(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return E(n,t),n.prototype.n_=function(){var n=this.BU.t_;return wy(t.prototype.n_.call(this),{get cast(){return n}})},n}(t)},VC.MU),QC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).zyt=void 0,e.zyt=new AY(Jt(e),e.TM),e.BU.PM(e.zyt),e.Zs("currentsourcechange",function(){e.zyt.xyt()}),e}E(n,t);var i=n.prototype;return i.n_=function(){var n=this,i=t.prototype.n_.call(this);return wy(i.cast,{get airplay(){return n.zyt.t_}}),i},i.xd=function(){this.zyt.xd(),t.prototype.xd.call(this)},n}(t)},VC.MU),function(t){t.Vyt="airplaystatechange"}(kY||(kY={}));var TY=function(t){this.type=kY.Vyt,this.state=t},SY=function(t){function n(n){var i;return(i=t.call(this)||this).Wyt=void 0,i.Gyt=function(t){var n=new TY(t.state);i.uyt(n)},i.Wyt=n,i.Rft(n),i}return E(n,t),n.prototype.Rft=function(t){t.addEventListener("statechange",this.Gyt)},n}(x$);function EY(t){throw new l('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}nD(function(t){var n;null!=(n=t.t_.cast)&&n.airplay&&new SY(t.t_.cast.airplay)});var IY,RY={exports:{}},CY=Mr(RY.exports=function t(n,i,e){function r(u,o){if(!i[u]){if(!n[u]){var a=EY;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new l("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[u]={exports:{}};n[u][0].call(c.exports,function(t){var i=n[u][1][t];return r(i||t)},c,c.exports,t,n,i,e)}return i[u].exports}for(var s=EY,u=0;u<e.length;u++)r(e[u]);return r}({1:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.jyt=!1,r.on("mousedown",r.handleMouseDown),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-big-play-button"},n.prototype.handleClick=function(t){var n=this.yN.play();if(!(this.jyt&&t.clientX&&t.clientY)){var i=this.yN.getChild("controlBar"),e=i&&i.getChild("playToggle");if(e){var r=function(){return e.focus()};n&&n.then?n.then(r,function(){}):this.setTimeout(r,1)}else this.yN.focus()}},n.prototype.handleKeyPress=function(n){this.jyt=!1,t.prototype.handleKeyPress.call(this,n)},n.prototype.handleMouseDown=function(t){this.jyt=!0},n}(r.default);a.prototype.qyt="Play Video",u.default.registerComponent("BigPlayButton",a),i.default=a},{2:2,5:5}],2:[function(t,n,i){i.__esModule=!0;var e=t(3),r=c(e),s=t(5),u=c(s),o=t(87),a=c(o),h=t(89);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,h.assign)({className:this.buildCSSClass()},n),"button"!==t&&(a.default.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=(0,h.assign)({tabIndex:0},n),i=(0,h.assign)({role:"button"},i)),i=(0,h.assign)({type:"button","aria-live":"polite"},i);var e=u.default.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(e),e},n.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return a.default.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),u.default.prototype.addChild.call(this,t,n)},n.prototype.enable=function(){t.prototype.enable.call(this),this.$yt.removeAttribute("disabled")},n.prototype.disable=function(){t.prototype.disable.call(this),this.$yt.setAttribute("disabled","disabled")},n.prototype.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(r.default);u.default.registerComponent("Button",f),i.default=f},{3:3,5:5,87:87,89:89}],3:[function(t,n,i){i.__esModule=!0;var e=t(5),r=y(e),s=t(81),u=m(s),o=t(82),a=m(o),h=t(83),c=m(h),f=t(87),l=y(f),d=t(85),g=t(89);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.emitTapEvents(),r.on(i,"languagechange",r.handleLanguagechange),r.enable(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,g.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&l.default.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),e=(0,g.assign)({role:"button","aria-live":"polite"},e),this.Yyt=i.tabIndex;var r=t.prototype.createEl.call(this,n,i,e);return this.createControlTextEl(r),r},n.prototype.createControlTextEl=function(t){return this.Qyt=u.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.Qyt),this.controlText(this.qyt,t),this.Qyt},n.prototype.controlText=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.qyt||"Need Text";var i=this.localize(t);return this.qyt=t,this.Qyt.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},n.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.$yt.setAttribute("aria-disabled","false"),void 0!==this.Yyt&&this.$yt.setAttribute("tabIndex",this.Yyt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},n.prototype.disable=function(){return this.addClass("vjs-disabled"),this.$yt.setAttribute("aria-disabled","true"),void 0!==this.Yyt&&this.$yt.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},n.prototype.handleLanguagechange=function(){this.controlText(this.qyt)},n.prototype.handleClick=function(t){},n.prototype.handleFocus=function(t){a.on(d.document,"keydown",c.bind(this,this.handleKeyPress))},n.prototype.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},n.prototype.handleBlur=function(t){a.off(d.document,"keydown",c.bind(this,this.handleKeyPress))},n}(r.default);r.default.registerComponent("ClickableComponent",p),i.default=p},{5:5,81:81,82:82,83:83,85:85,87:87,89:89}],4:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.controlText(e&&e.controlText||"Close"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(r.default);u.default.registerComponent("CloseButton",a),i.default=a},{2:2,5:5}],5:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(81),s=S(r),u=t(83),o=S(u),a=t(86),h=S(a),c=t(82),f=S(c),d=t(87),p=T(d),_=t(92),b=T(_),k=t(88),A=T(k);function T(t){return t&&t.__esModule?t:{default:t}}function S(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var E=function(){function t(n,i,e){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t),!n&&this.play?this.yN=n=this:this.yN=n,this.Zyt=(0,A.default)({},this.Zyt),i=this.Zyt=(0,A.default)(this.Zyt,i),this.H_=i.id||i.el&&i.el.id,!this.H_){var r=n&&n.id&&n.id()||"no_player";this.H_=r+"Kyt"+h.newGUID()}this.wi=i.name||null,i.el?this.$yt=i.el:!1!==i.createEl&&(this.$yt=this.createEl()),this.Pi=[],this.Jyt={},this.tpt={},!1!==i.initChildren&&this.initChildren(),this.ready(e),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.Pi)for(var t=this.Pi.length-1;t>=0;t--)this.Pi[t].dispose&&this.Pi[t].dispose();this.Pi=null,this.Jyt=null,this.tpt=null,this.off(),this.$yt.parentNode&&this.$yt.parentNode.removeChild(this.$yt),s.removeElData(this.$yt),this.$yt=null},t.prototype.player=function(){return this.yN},t.prototype.options=function(t){return p.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.Zyt=(0,A.default)(this.Zyt,t),this.Zyt):this.Zyt},t.prototype.el=function(){return this.$yt},t.prototype.createEl=function(t,n,i){return s.createEl(t,n,i)},t.prototype.localize=function(t){var n=this.yN.language&&this.yN.language(),i=this.yN.languages&&this.yN.languages();if(!n||!i)return t;var e=i[n];if(e&&e[t])return e[t];var r=n.split("-")[0],s=i[r];return s&&s[t]?s[t]:t},t.prototype.contentEl=function(){return this.npt||this.$yt},t.prototype.id=function(){return this.H_},t.prototype.name=function(){return this.wi},t.prototype.children=function(){return this.Pi},t.prototype.getChildById=function(t){return this.Jyt[t]},t.prototype.getChild=function(t){if(t)return t=(0,b.default)(t),this.tpt[t]},t.prototype.addChild=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Pi.length,r=void 0,s=void 0;if("string"==typeof n){s=(0,b.default)(n),i||(i={}),!0===i&&(p.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var u=i.componentClass||s;i.name=s;var o=t.getComponent(u);if(!o)throw new l("Component "+u+" does not exist");if("function"!=typeof o)return null;r=new o(this.yN||this,i)}else r=n;if(this.Pi.splice(e,0,r),"function"==typeof r.id&&(this.Jyt[r.id()]=r),(s=s||r.name&&(0,b.default)(r.name()))&&(this.tpt[s]=r),"function"==typeof r.el&&r.el()){var a=this.contentEl().children,h=a[e]||null;this.contentEl().insertBefore(r.el(),h)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.Pi){for(var n=!1,i=this.Pi.length-1;i>=0;i--)if(this.Pi[i]===t){n=!0,this.Pi.splice(i,1);break}if(n){this.Jyt[t.id()]=null,this.tpt[t.name()]=null;var e=t.el();e&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var n=this,i=this.Zyt.children;if(i){var e=this.Zyt,r=void 0,s=t.getComponent("Tech");(r=Array.isArray(i)?i:w.keys(i)).concat(w.keys(this.Zyt).filter(function(t){return!r.some(function(n){return"string"==typeof n?t===n:t===n.name})})).map(function(t){var e=void 0,r=void 0;return"string"==typeof t?r=i[e=t]||n.Zyt[e]||{}:(e=t.name,r=t),{name:e,opts:r}}).filter(function(n){var i=t.getComponent(n.opts.componentClass||(0,b.default)(n.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.Zyt.playerOptions;var s=n.addChild(i,r);s&&(n[i]=s)}})}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,n,i){var e=this;if("string"==typeof t||Array.isArray(t))f.on(this.$yt,t,o.bind(this,n));else{var r=t,s=n,u=o.bind(this,i),a=function(){return e.off(r,s,u)};a.guid=u.guid,this.on("dispose",a);var h=function(){return e.off("dispose",a)};h.guid=u.guid,t.nodeName?(f.on(r,s,u),f.on(r,"dispose",h)):"function"==typeof t.on&&(r.on(s,u),r.on("dispose",h))}return this},t.prototype.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))f.off(this.$yt,t,n);else{var e=t,r=n,s=o.bind(this,i);this.off("dispose",s),t.nodeName?(f.off(e,r,s),f.off(e,"dispose",s)):(e.off(r,s),e.off("dispose",s))}return this},t.prototype.one=function(t,n,i){var e=this,r=arguments;if("string"==typeof t||Array.isArray(t))f.one(this.$yt,t,o.bind(this,n));else{var s=t,u=n,a=o.bind(this,i),h=function t(){e.off(s,u,t),a.apply(null,r)};h.guid=a.guid,this.on(s,u,h)}return this},t.prototype.trigger=function(t,n){return f.trigger(this.$yt,t,n),this},t.prototype.ready=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.ipt?n?t.call(this):this.setTimeout(t,1):(this.ept=this.ept||[],this.ept.push(t))),this},t.prototype.triggerReady=function(){this.ipt=!0,this.setTimeout(function(){var t=this.ept;this.ept=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,n){return s.$(t,n||this.contentEl())},t.prototype.$$=function(t,n){return s.$$(t,n||this.contentEl())},t.prototype.hasClass=function(t){return s.hasElClass(this.$yt,t)},t.prototype.addClass=function(t){return s.addElClass(this.$yt,t),this},t.prototype.removeClass=function(t){return s.removeElClass(this.$yt,t),this},t.prototype.toggleClass=function(t,n){return s.toggleElClass(this.$yt,t,n),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return s.getAttribute(this.$yt,t)},t.prototype.setAttribute=function(t,n){return s.setAttribute(this.$yt,t,n),this},t.prototype.removeAttribute=function(t){return s.removeAttribute(this.$yt,t),this},t.prototype.width=function(t,n){return this.dimension("width",t,n)},t.prototype.height=function(t,n){return this.dimension("height",t,n)},t.prototype.dimensions=function(t,n){return this.width(t,!0).height(n)},t.prototype.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.$yt.style[t]=n:this.$yt.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.$yt)return 0;var e=this.$yt.style[t],r=e.indexOf("px");return m(-1!==r?e.slice(0,r):this.$yt["offset"+(0,b.default)(t)],10)},t.prototype.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new l("currentDimension only accepts width or height value");if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(this.$yt);n=i.getPropertyValue(t)||i[t]}if(0===(n=y(n))){var r="offset"+(0,b.default)(t);n=this.$yt[r]}return n},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.$yt.focus()},t.prototype.blur=function(){this.$yt.blur()},t.prototype.emitTapEvents=function(){var t=0,n=null,i=void 0;this.on("touchstart",function(e){1===e.touches.length&&(n={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)i=!1;else if(n){var e=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY,s=g.sqrt(e*e+r*r);s>10&&(i=!1)}});var e=function(){i=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){if(n=null,!0===i){var r=(new Date).getTime()-t;r<200&&(e.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=o.bind(this.player(),this.player().reportUserActivity),n=void 0;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,n){t=o.bind(this,t);var i=e.window.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},t.prototype.clearTimeout=function(t){e.window.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},t.prototype.setInterval=function(t,n){t=o.bind(this,t);var i=e.window.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){e.window.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=(0,b.default)(n),t.rpt||(t.rpt={}),"Player"===n&&t.rpt[n]){var e=t.rpt[n];if(e.players&&w.keys(e.players).length>0&&w.keys(e.players).map(function(t){return e.players[t]}).every(Boolean))throw new l("Can not register Player component after player has been created")}return t.rpt[n]=i,i}},t.getComponent=function(n){if(n)return n=(0,b.default)(n),t.rpt&&t.rpt[n]?t.rpt[n]:e.window&&e.window.videojs&&e.window.videojs[n]?(p.default.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),e.window.videojs[n]):void 0},t.extend=function(n){n=n||{},p.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},e=function(){i.apply(this,arguments)};for(var r in(e.prototype=w.create(this.prototype)).constructor=e,e.extend=t.extend,n)n.hasOwnProperty(r)&&(e.prototype[r]=n[r]);return e},t}();E.registerComponent("Component",E),i.default=E},{81:81,82:82,83:83,85:85,86:86,87:87,88:88,92:92}],6:[function(t,n,i){i.__esModule=!0;var e=t(36),r=h(e),s=t(5),u=h(s),o=t(7),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.audioTracks&&i.audioTracks();var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.$yt.setAttribute("aria-label","Audio Menu"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.spt=1;var n=this.yN.audioTracks&&this.yN.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];t.push(new a.default(this.yN,{track:e,selectable:!0}))}return t},n}(r.default);c.prototype.qyt="Audio Track",u.default.registerComponent("AudioTrackButton",c),i.default=c},{36:36,5:5,7:7}],7:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=i.audioTracks();e.label=r.label||r.language||"Unknown",e.selected=r.enabled;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));if(u.track=r,s){var o=a.bind(u,u.handleTracksChange);s.addEventListener("change",o),u.on("dispose",function(){s.removeEventListener("change",o)})}return u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.yN.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var e=0;e<i.length;e++){var r=i[e];r.enabled=r===this.track}},n.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(r.default);u.default.registerComponent("AudioTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],8:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(12),t(32),t(33),t(35),t(34),t(10),t(18),t(9),t(38),t(40),t(11),t(25),t(27),t(29),t(24),t(6),t(13),t(21);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(s.default);u.prototype.Zyt={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s.default.registerComponent("ControlBar",u),i.default=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"fullscreenchange",r.handleFullscreenChange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleFullscreenChange=function(t){this.yN.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.prototype.handleClick=function(t){this.yN.isFullscreen()?this.yN.exitFullscreen():this.yN.requestFullscreen()},n}(r.default);a.prototype.qyt="Fullscreen",u.default.registerComponent("FullscreenToggle",a),i.default=a},{2:2,5:5}],10:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.npt=o.createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.Qyt=o.createEl("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.upt=a.document.createTextNode(this.localize("LIVE")),this.npt.appendChild(this.Qyt),this.npt.appendChild(this.upt),n.appendChild(this.npt),n},n.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n.prototype.handleLanguagechange=function(){this.Qyt.innerHTML=this.localize("Stream Type"),this.upt.innerHTML=this.localize("LIVE")},n}(s.default);s.default.registerComponent("LiveDisplay",h),i.default=h},{5:5,81:81,85:85}],11:[function(t,n,i){i.__esModule=!0;var e=t(2),r=h(e),s=t(5),u=h(s),o=t(81),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.update),i.apt&&!1===i.apt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),!1===i.apt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.yN.muted(!this.yN.muted())},n.prototype.update=function(t){var n=this.yN.volume(),i=3;this.yN.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var e=this.yN.muted()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e);for(var r=0;r<4;r++)a.removeElClass(this.$yt,"vjs-vol-"+r);a.addElClass(this.$yt,"vjs-vol-"+i)},n}(r.default);c.prototype.qyt="Mute",u.default.registerComponent("MuteToggle",c),i.default=c},{2:2,5:5,81:81}],12:[function(t,n,i){i.__esModule=!0;var e=t(2),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.yN.paused()?this.yN.play():this.yN.pause()},n.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(r.default);a.prototype.qyt="Play",u.default.registerComponent("PlayToggle",a),i.default=a},{2:2,5:5}],13:[function(t,n,i){i.__esModule=!0;var e=t(47),r=d(e),s=t(49),u=d(s),o=t(14),a=d(o),h=t(5),c=d(h),f=t(81),l=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(f);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this);return this.hpt=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.hpt),n},n.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.prototype.createMenu=function(){var t=new u.default(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new a.default(this.player(),{rate:n[i]+"x"}));return t},n.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.prototype.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),e=i[0],r=0;r<i.length;r++)if(i[r]>n){e=i[r];break}this.player().playbackRate(e)},n.prototype.playbackRates=function(){return this.Zyt.playbackRates||this.Zyt.playerOptions&&this.Zyt.playerOptions.playbackRates},n.prototype.playbackRateSupported=function(){return this.player().apt&&this.player().apt.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.hpt.innerHTML=this.player().playbackRate()+"x")},n}(r.default);g.prototype.qyt="Playback Rate",c.default.registerComponent("PlaybackRateMenuButton",g),i.default=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(t,n,i){i.__esModule=!0;var e=t(48),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.rate,s=y(r,10);e.label=r,e.selected=1===s,e.selectable=!0;var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return u.label=r,u.rate=s,u.on(i,"ratechange",u.update),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(r.default);a.prototype.contentElType="button",u.default.registerComponent("PlaybackRateMenuItem",a),i.default=a},{48:48,5:5}],15:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.cpt=[],r.on(i,"progress",r.update),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.fpt=o.createEl("span",{innerHTML:this.localize("Loaded")}),this.lpt=a.document.createTextNode(": 0%"),this.Qyt=o.createEl("span",{className:"vjs-control-text"}),this.Qyt.appendChild(this.fpt),this.Qyt.appendChild(this.lpt),n.appendChild(this.Qyt),n},n.prototype.update=function(t){var n=this.yN.buffered(),i=this.yN.duration(),e=this.yN.bufferedEnd(),r=this.cpt,s=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.$yt.style.width=s(e,i);for(var u=0;u<n.length;u++){var a=n.start(u),h=n.end(u),c=r[u];c||(c=this.$yt.appendChild(o.createEl()),r[u]=c),c.style.left=s(a,e),c.style.width=s(h-a,e)}for(var f=r.length;f>n.length;f--)this.$yt.removeChild(r[f-1]);r.length=n.length},n.prototype.handleLanguagechange=function(){this.fpt.innerHTML=this.localize("Loaded")},n}(s.default);s.default.registerComponent("LoadProgressBar",h),i.default=h},{5:5,81:81,85:85}],16:[function(t,n,i){i.__esModule=!0;var e=t(5),r=m(e),s=t(81),u=d(s),o=t(83),a=d(o),h=t(84),c=m(h),f=t(80),l=m(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function m(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.prototype.handleMouseMove=function(t){var n=this.yN.duration(),i=this.calculateDistance(t)*n,e=t.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,e)},n.prototype.update=function(t,n){var i=(0,c.default)(t,this.yN.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var e=this.vpt(n),r=n-e+1,s=y((0,l.default)(this.tooltip,"width")),u=s/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(u-r)+"px"}},n.prototype.calculateDistance=function(t){return u.getPointerPosition(this.el().parentNode,t).x},n.prototype.vpt=function(t){if(!this.keepTooltipsInside)return t;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltip,"width")),e=i/2,r=t;return t<e?r=g.ceil(e):t>n-e&&(r=g.floor(n-e)),r},n}(r.default);r.default.registerComponent("MouseTimeDisplay",p),i.default=p},{5:5,80:80,81:81,83:83,84:84}],17:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.dpt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.wpt=f.document.createTextNode(": 0%"),this.Qyt=c.createEl("span",{className:"vjs-control-text"}),this.Qyt.appendChild(this.dpt),this.Qyt.appendChild(this.wpt),n.appendChild(this.Qyt),n},n.prototype.updateDataAttr=function(t){var n=this.yN.scrubbing()?this.yN.getCache().currentTime:this.yN.currentTime();this.$yt.setAttribute("data-current-time",(0,a.default)(n,this.yN.duration()))},n.prototype.handleLanguagechange=function(){this.dpt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("PlayProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],18:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(19),t(16);var u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(s.default);u.prototype.Zyt={children:["seekBar"]},s.default.registerComponent("ProgressControl",u),i.default=u},{16:16,19:19,5:5}],19:[function(t,n,i){i.__esModule=!0;var e=t(57),r=d(e),s=t(5),u=d(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o),h=t(84),c=d(h),f=t(80),l=d(f);function d(t){return t&&t.__esModule?t:{default:t}}t(15),t(17),t(20);var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(a.bind(r,r.updateProgress)),e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=e.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},n.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.$yt),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.$yt),this.tooltipProgressBar.$yt.style.width=this.bar.$yt.style.width;var n=y((0,l.default)(this.player().el(),"width")),i=y((0,l.default)(this.tooltipProgressBar.tooltip,"width")),e=this.tooltipProgressBar.el().style;e.maxWidth=g.floor(n-i/2)+"px",e.minWidth=g.ceil(i/2)+"px",e.right="-"+i/2+"px"}},n.prototype.updateAriaAttributes=function(t){var n=this.yN.scrubbing()?this.yN.getCache().currentTime:this.yN.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,c.default)(n,this.yN.duration()))},n.prototype.getPercent=function(){var t=this.yN.currentTime()/this.yN.duration();return t>=1?1:t},n.prototype.handleMouseDown=function(n){this.yN.scrubbing(!0),this.videoWasPlaying=!this.yN.paused(),this.yN.pause(),t.prototype.handleMouseDown.call(this,n)},n.prototype.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.yN.duration();n===this.yN.duration()&&(n-=.1),this.yN.currentTime(n)},n.prototype.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.yN.scrubbing(!1),this.videoWasPlaying&&this.yN.play()},n.prototype.stepForward=function(){this.yN.currentTime(this.yN.currentTime()+5)},n.prototype.stepBack=function(){this.yN.currentTime(this.yN.currentTime()-5)},n}(r.default);m.prototype.Zyt={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},m.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",m),i.default=m},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(t,n,i){i.__esModule=!0;var e=t(5),r=d(e),s=t(83),u=l(s),o=t(84),a=d(o),h=t(81),c=l(h),f=t(85);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),r.on(i,"languagechange",r.handleLanguagechange),i.ready(u.bind(r,r.updateDataAttr)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),this.dpt=c.createEl("span",{innerHTML:this.localize("Progress")}),this.wpt=f.document.createTextNode(": 0%"),this.Qyt=c.createEl("span",{className:"vjs-control-text"}),this.Qyt.appendChild(this.dpt),this.Qyt.appendChild(this.wpt),n.appendChild(this.tooltip),n.appendChild(this.Qyt),n},n.prototype.updateDataAttr=function(t){var n=this.yN.scrubbing()?this.yN.getCache().currentTime:this.yN.currentTime(),i=(0,a.default)(n,this.yN.duration());this.$yt.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},n.prototype.handleLanguagechange=function(){this.dpt.innerHTML=this.localize("Progress")},n}(r.default);r.default.registerComponent("TooltipProgressBar",g),i.default=g},{5:5,81:81,83:83,84:84,85:85}],21:[function(t,n,i){i.__esModule=!0;var e=t(22),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(r.default);u.default.registerComponent("CustomControlSpacer",a),i.default=a},{22:22,5:5}],22:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(s.default);s.default.registerComponent("Spacer",u),i.default=u},{5:5}],23:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+e.kind+" settings dialog"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").$yt.focus()},n}(r.default);u.default.registerComponent("CaptionSettingsMenuItem",a),i.default=a},{31:31,5:5}],24:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(23),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.$yt.setAttribute("aria-label","Captions Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.prototype.createItems=function(){var n=[];return this.player().apt&&this.player().apt.featuresNativeTextTracks||(n.push(new a.default(this.yN,{kind:this.V_})),this.spt+=1),t.prototype.createItems.call(this,n)},n}(r.default);c.prototype.V_="captions",c.prototype.qyt="Captions",u.default.registerComponent("CaptionsButton",c),i.default=c},{23:23,30:30,5:5}],25:[function(t,n,i){i.__esModule=!0;var e=t(30),r=f(e),s=t(5),u=f(s),o=t(26),a=f(o),h=t(92),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.$yt.setAttribute("aria-label","Chapters Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.prototype.update=function(n){this.i_&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.prototype.setTrack=function(t){if(this.i_!==t){if(this.gpt||(this.gpt=this.update.bind(this)),this.i_){var n=this.yN.remoteTextTrackEls().mpt(this.i_);n&&n.removeEventListener("load",this.gpt),this.i_=null}if(this.i_=t,this.i_){this.i_.mode="hidden";var i=this.yN.remoteTextTrackEls().mpt(this.i_);i&&i.addEventListener("load",this.gpt)}}},n.prototype.findChaptersTrack=function(){for(var t=this.yN.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.V_)return i}},n.prototype.getMenuCaption=function(){return this.i_&&this.i_.label?this.i_.label:this.localize((0,c.default)(this.V_))},n.prototype.createMenu=function(){return this.Zyt.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.prototype.createItems=function(){var t=[];if(!this.i_)return t;var n=this.i_.cues;if(!n)return t;for(var i=0,e=n.length;i<e;i++){var r=n[i],s=new a.default(this.yN,{track:this.i_,cue:r});t.push(s)}return t},n}(r.default);l.prototype.V_="chapters",l.prototype.qyt="Chapters",u.default.registerComponent("ChaptersButton",l),i.default=l},{26:26,30:30,5:5,92:92}],26:[function(t,n,i){i.__esModule=!0;var e=t(48),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.track,s=e.cue,u=i.currentTime();e.selectable=!0,e.label=s.text,e.selected=s.startTime<=u&&u<s.endTime;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return o.track=r,o.cue=s,r.addEventListener("cuechange",a.bind(o,o.update)),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){t.prototype.handleClick.call(this),this.yN.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.prototype.update=function(t){var n=this.cue,i=this.yN.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(r.default);u.default.registerComponent("ChaptersTrackMenuItem",c),i.default=c},{48:48,5:5,83:83}],27:[function(t,n,i){i.__esModule=!0;var e=t(30),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));s.$yt.setAttribute("aria-label","Descriptions Menu");var u=i.textTracks();if(u){var o=a.bind(s,s.handleTracksChange);u.addEventListener("change",o),s.on("dispose",function(){u.removeEventListener("change",o)})}return s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind!==this.V_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},n.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);c.prototype.V_="descriptions",c.prototype.qyt="Descriptions",u.default.registerComponent("DescriptionsButton",c),i.default=c},{30:30,5:5,83:83}],28:[function(t,n,i){i.__esModule=!0;var e=t(31),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.track={player:i,kind:e.kind,label:e.kind+" off",default:!1,mode:"disabled"},e.selectable=!0;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selected(!0),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,e=0,r=n.length;e<r;e++){var s=n[e];if(s.kind===this.track.kind&&"showing"===s.mode){i=!1;break}}this.selected(i)},n}(r.default);u.default.registerComponent("OffTextTrackMenuItem",a),i.default=a},{31:31,5:5}],29:[function(t,n,i){i.__esModule=!0;var e=t(30),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return s.$yt.setAttribute("aria-label","Subtitles Menu"),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(r.default);a.prototype.V_="subtitles",a.prototype.qyt="Subtitles",u.default.registerComponent("SubtitlesButton",a),i.default=a},{30:30,5:5}],30:[function(t,n,i){i.__esModule=!0;var e=t(36),r=f(e),s=t(5),u=f(s),o=t(31),a=f(o),h=t(28),c=f(h);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),e.tracks=i.textTracks(),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new c.default(this.yN,{kind:this.V_})),this.spt+=1;var n=this.yN.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var e=n[i];e.kind===this.V_&&t.push(new a.default(this.yN,{track:e,selectable:!0}))}return t},n}(r.default);u.default.registerComponent("TextTrackButton",l),i.default=l},{28:28,31:31,36:36,5:5}],31:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(48),s=f(r),u=t(5),o=f(u),a=t(83),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a),c=t(85);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(i,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=r.track,u=i.textTracks();r.label=s.label||s.language||"Unknown",r.selected=s.default||"showing"===s.mode;var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,r));if(o.track=s,u){var a=h.bind(o,o.handleTracksChange);i.on(["loadstart","texttrackchange"],a),u.addEventListener("change",a),o.on("dispose",function(){u.removeEventListener("change",a)})}if(u&&void 0===u.onchange){var f=void 0;o.on(["tap","click"],function(){if("object"!==e(c.window.Event))try{f=new c.window.Event("change")}catch(t){}f||(f=c.document.createEvent("Event")).initEvent("change",!0,!0),u.dispatchEvent(f)})}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.handleClick=function(n){var i=this.track.kind,e=this.yN.textTracks();if(t.prototype.handleClick.call(this,n),e)for(var r=0;r<e.length;r++){var s=e[r];s.kind===i&&(s===this.track?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},n.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(s.default);o.default.registerComponent("TextTrackMenuItem",l),i.default=l},{48:48,5:5,83:83,85:85}],32:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.npt=u.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.npt),n},n.prototype.updateContent=function(t){var n=this.yN.scrubbing()?this.yN.getCache().currentTime:this.yN.currentTime(),i=this.localize("Current Time"),e=(0,a.default)(n,this.yN.duration());e!==this.ypt&&(this.ypt=e,this.npt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e)},n}(r.default);r.default.registerComponent("CurrentTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],33:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.npt=u.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.npt),n},n.prototype.updateContent=function(t){var n=this.yN.duration();if(n&&this.Qg!==n){this.Qg=n;var i=this.localize("Duration Time"),e=(0,a.default)(n);this.npt.innerHTML='<span class="vjs-control-text">'+i+"</span> "+e}},n}(r.default);r.default.registerComponent("DurationDisplay",c),i.default=c},{5:5,81:81,84:84}],34:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(81),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(s),o=t(84),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r.on(i,"languagechange",r.updateContent),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.npt=u.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.npt),n},n.prototype.updateContent=function(t){if(this.yN.duration()){var n=this.localize("Remaining Time"),i=(0,a.default)(this.yN.remainingTime());i!==this.ypt&&(this.ypt=i,this.npt.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(r.default);r.default.registerComponent("RemainingTimeDisplay",c),i.default=c},{5:5,81:81,84:84}],35:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(s.default);s.default.registerComponent("TimeDivider",u),i.default=u},{5:5}],36:[function(t,n,i){i.__esModule=!0;var e=t(47),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var f=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=e.tracks,s=c(this,t.call(this,i,e));if(s.items.length<=1&&s.hide(),!r)return c(s);var u=a.bind(s,s.update);return r.addEventListener("removetrack",u),r.addEventListener("addtrack",u),s.yN.on("dispose",function(){r.removeEventListener("removetrack",u),r.removeEventListener("addtrack",u)}),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);u.default.registerComponent("TrackButton",f),i.default=f},{47:47,5:5,83:83}],37:[function(t,n,i){i.__esModule=!0;var e=t(57),r=h(e),s=t(5),u=h(s),o=t(83),a=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(o);function h(t){return t&&t.__esModule?t:{default:t}}t(39);var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(a.bind(r,r.updateARIAAttributes)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},n.prototype.handleMouseMove=function(t){this.checkMuted(),this.yN.volume(this.calculateDistance(t))},n.prototype.checkMuted=function(){this.yN.muted()&&this.yN.muted(!1)},n.prototype.getPercent=function(){return this.yN.muted()?0:this.yN.volume()},n.prototype.stepForward=function(){this.checkMuted(),this.yN.volume(this.yN.volume()+.1)},n.prototype.stepBack=function(){this.checkMuted(),this.yN.volume(this.yN.volume()-.1)},n.prototype.updateARIAAttributes=function(t){var n=(100*this.yN.volume()).toFixed(2);this.$yt.setAttribute("aria-valuenow",n),this.$yt.setAttribute("aria-valuetext",n+"%")},n}(r.default);c.prototype.Zyt={children:["volumeLevel"],barName:"volumeLevel"},c.prototype.playerEvent="volumechange",u.default.registerComponent("VolumeBar",c),i.default=c},{39:39,5:5,57:57,83:83}],38:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e};t(37);var u=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.apt&&!1===i.apt.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){!1===i.apt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(s.default);u.prototype.Zyt={children:["volumeBar"]},s.default.registerComponent("VolumeControl",u),i.default=u},{37:37,5:5}],39:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(s.default);s.default.registerComponent("VolumeLevel",u),i.default=u},{5:5}],40:[function(t,n,i){i.__esModule=!0;var e=t(83),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(5),u=m(s),o=t(54),a=m(o),h=t(53),c=m(h),f=t(11),l=m(f),d=t(37),g=m(d);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),void 0===e.inline&&(e.inline=!0),void 0===e.vertical&&(e.inline?e.vertical=!1:e.vertical=!0),e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=!!e.vertical;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));function s(){i.apt&&!1===i.apt.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),s.call(r),r.on(i,"loadstart",s),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){var n="";return n=this.Zyt.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},n.prototype.createPopup=function(){var t=new a.default(this.yN,{contentElType:"div"}),n=new g.default(this.yN,this.Zyt.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},n.prototype.handleClick=function(n){l.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},n.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},n.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.$yt.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},n.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},n}(c.default);y.prototype.volumeUpdate=l.default.prototype.update,y.prototype.qyt="Mute",u.default.registerComponent("VolumeMenuButton",y),i.default=y},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(50),u=h(s),o=t(88),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.on(i,"error",r.open),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(u.default);c.prototype.Zyt=(0,a.default)(u.default.prototype.Zyt,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",c),i.default=c},{5:5,50:50,88:88}],42:[function(t,n,i){i.__esModule=!0;var e=t(82),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=function(){};s.prototype.ppt={},s.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.on(this,t,n),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,n){r.off(this,t,n)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},r.one(this,t,n),this.addEventListener=i},s.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=r.fixEvent(t),this.ppt[n]&&this["on"+n]&&this["on"+n](t),r.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i.default=s},{82:82}],43:[function(t,n,i){i.__esModule=!0;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t(87),u=(e=s)&&e.__esModule?e:{default:e},o=t(89);i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},e={};for(var s in(0,o.isObject)(n)?("function"==typeof n.init&&(u.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==w.prototype.constructor&&(i=n.constructor),e=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+(void 0===n?"undefined":r(n)));t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t._pt=n)}(i,t),e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);return i}},{87:87,89:89}],44:[function(t,n,i){i.__esModule=!0;for(var e=t(85),r={prefixed:!0},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=s[0],o=void 0,a=0;a<s.length;a++)if(s[a][1]in e.document){o=s[a];break}if(o){for(var h=0;h<o.length;h++)r[u[h]]=o[h];r.prefixed=o[0]!==u[0]}i.default=r},{85:85}],45:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(s.default);s.default.registerComponent("LoadingSpinner",u),i.default=u},{5:5}],46:[function(t,n,i){i.__esModule=!0;var e=t(89);function r(t){if(t instanceof r)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,e.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,e.assign)(this,t)),this.message||(this.message=r.defaultMessages[this.code]||"")}r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<r.errorTypes.length;s++)r[r.errorTypes[s]]=s,r.prototype[r.errorTypes[s]]=s;i.default=r},{89:89}],47:[function(t,n,i){i.__esModule=!0;var e=t(3),r=y(e),s=t(5),u=y(s),o=t(49),a=y(o),h=t(81),c=m(h),f=t(83),l=m(f),d=t(92),g=y(d);function m(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function y(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r.F_=!0,r.$yt.setAttribute("aria-haspopup","true"),r.$yt.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.bpt=!1,this.$yt.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.spt?this.hide():this.show()},n.prototype.createMenu=function(){var t=new a.default(this.yN);if(this.spt=0,this.Zyt.title){var n=c.createEl("li",{className:"vjs-menu-title",innerHTML:(0,g.default)(this.Zyt.title),tabIndex:-1});this.spt+=1,t.Pi.unshift(n),c.insertElFirst(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},n.prototype.createItems=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.Zyt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(t){this.unpressButton(),this.$yt.blur()})),this.bpt?this.unpressButton():this.pressButton()},n.prototype.handleKeyPress=function(n){27===n.which||9===n.which?(this.bpt&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.bpt||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},n.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.bpt&&this.unpressButton(),9!==t.which&&t.preventDefault())},n.prototype.pressButton=function(){this.F_&&(this.bpt=!0,this.menu.lockShowing(),this.$yt.setAttribute("aria-expanded","true"),this.menu.focus())},n.prototype.unpressButton=function(){this.F_&&(this.bpt=!1,this.menu.unlockShowing(),this.$yt.setAttribute("aria-expanded","false"),this.$yt.focus())},n.prototype.disable=function(){return this.bpt=!1,this.menu.unlockShowing(),this.$yt.setAttribute("aria-expanded","false"),this.F_=!1,t.prototype.disable.call(this)},n.prototype.enable=function(){return this.F_=!0,t.prototype.enable.call(this)},n}(r.default);u.default.registerComponent("MenuButton",p),i.default=p},{3:3,49:49,5:5,81:81,83:83,92:92}],48:[function(t,n,i){i.__esModule=!0;var e=t(3),r=h(e),s=t(5),u=h(s),o=t(89),a=t(85);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.selectable=e.selectable,r.selected(e.selected),r.selectable?r.$yt.setAttribute("role","menuitemcheckbox"):r.$yt.setAttribute("role","menuitem"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n,i,e){this.nonIconControl=!0;var r=t.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",tabIndex:-1},i),e);return this.hpt=a.document.createTextNode(this.localize(this.Zyt.label)),r.appendChild(this.hpt),r},n.prototype.handleClick=function(t){this.selected(!0)},n.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.$yt.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.$yt.setAttribute("aria-checked","false"),this.controlText("")))},n.prototype.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.hpt.innerHTML=this.localize(this.Zyt.label)},n}(r.default);u.default.registerComponent("MenuItem",c),i.default=c},{3:3,5:5,85:85,89:89}],49:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.kpt=-1,r.on("keydown",r.handleKeyPress),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(t){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.Zyt.contentElType||"ul";this.npt=o.createEl(n,{className:"vjs-menu-content"}),this.npt.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.npt,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.npt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},n.prototype.stepForward=function(){var t=0;void 0!==this.kpt&&(t=this.kpt+1),this.focus(t)},n.prototype.stepBack=function(){var t=0;void 0!==this.kpt&&(t=this.kpt-1),this.focus(t)},n.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.kpt=t,n[t].$yt.focus())},n}(s.default);s.default.registerComponent("Menu",d),i.default=d},{5:5,81:81,82:82,83:83}],50:[function(t,n,i){i.__esModule=!0;var e,r=t(81),s=c(r),u=t(83),o=c(u),a=t(5),h=(e=a)&&e.__esModule?e:{default:e};function c(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var f="vjs-modal-dialog",l=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.Apt=r.Tpt=r.Spt=!1,r.closeable(!r.Zyt.uncloseable),r.content(r.Zyt.content),r.npt=s.createEl("div",{className:f+"-content"},{role:"document"}),r.Ept=s.createEl("p",{className:f+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),s.textContent(r.Ept,r.description()),r.$yt.appendChild(r.Ept),r.$yt.appendChild(r.npt),r.on(i,"languagechange",r.handleLanguagechange),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"Ipt","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.prototype.buildCSSClass=function(){return f+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},n.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},n.prototype.label=function(){return this.Zyt.label||this.localize("Modal Window")},n.prototype.description=function(){var t=this.Zyt.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},n.prototype.open=function(){if(!this.Apt){var t=this.player();this.trigger("beforemodalopen"),this.Apt=!0,(this.Zyt.fillAlways||!this.Tpt&&!this.Spt)&&this.fill(),this.Rpt=!t.paused(),this.Zyt.pauseOnOpen&&this.Rpt&&t.pause(),this.closeable()&&this.on(this.$yt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.Tpt=!0}return this},n.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.Apt},n.prototype.close=function(){if(this.Apt){var t=this.player();this.trigger("beforemodalclose"),this.Apt=!1,this.Rpt&&this.Zyt.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.$yt.ownerDocument,"keydown",o.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.Zyt.temporary&&this.dispose()}return this},n.prototype.closeable=function(t){if("boolean"==typeof t){var n=this.Cpt=!!t,i=this.getChild("closeButton");if(n&&!i){var e=this.npt;this.npt=this.$yt,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.npt=e,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.Cpt},n.prototype.fill=function(){return this.fillWith(this.content())},n.prototype.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,e=n.nextSibling;return this.trigger("beforemodalfill"),this.Spt=!0,i.removeChild(n),this.empty(),s.insertContent(n,t),this.trigger("modalfill"),e?i.insertBefore(n,e):i.appendChild(n),this},n.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},n.prototype.content=function(t){return void 0!==t&&(this.nk=t),this.nk},n.prototype.handleLanguagechange=function(){this.$yt.setAttribute("aria-label",this.label()),s.textContent(this.Ept,this.description()),this.opened()?this.fill():(this.Tpt||this.Spt)&&(this.Tpt=!1,this.Spt=!1,this.empty())},n}(h.default);l.prototype.Zyt={pauseOnOpen:!0,temporary:!0},h.default.registerComponent("ModalDialog",l),i.default=l},{5:5,81:81,83:83}],51:[function(t,n,i){i.__esModule=!0;var e=t(5),r=Q(e),s=t(85),u=t(82),o=Y(u),a=t(81),h=Y(a),c=t(83),f=Y(c),d=t(86),m=Y(d),_=t(78),b=Y(_),k=t(87),A=Q(k),T=t(92),S=Q(T),E=t(91),I=t(79),R=t(90),C=Y(R),D=t(44),N=Q(D),P=t(46),x=Q(P),B=t(116),O=Q(B),L=t(89),M=t(88),j=Q(M),F=t(69),U=Q(F),H=t(50),X=Q(H),z=t(62),V=Q(z),W=t(63),q=Q(W),G=t(76),$=Q(G);function Y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function Q(t){return t&&t.__esModule?t:{default:t}}t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var Z=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],K=function(t){function n(i,e,r){if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.id=i.id||["vjs_video",m.newGUID()].join("_"),(e=(0,L.assign)(n.getTagSettings(i),e)).initChildren=!1,e.createEl=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(e.language=s.getAttribute("lang"))}else for(var u=i;u&&1===u.nodeType;){if(h.getElAttributes(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,e,r));if(!o.Zyt||!o.Zyt.techOrder||!o.Zyt.techOrder.length)throw new l("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&h.getElAttributes(i),o.language(o.Zyt.language),e.languages){var a={};w.getOwnPropertyNames(e.languages).forEach(function(t){a[t.toLowerCase()]=e.languages[t]}),o.Dpt=a}else o.Dpt=n.prototype.Zyt.languages;o.xgt={},o.pX=e.poster||"",o.Npt=!!e.controls,i.controls=!1,o.Ppt=!1,o.$yt=o.createEl();var c=(0,j.default)(o.Zyt);if(e.plugins){var f=e.plugins;w.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):A.default.error("Unable to find plugin:",t)},o)}o.Zyt.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.$yt.setAttribute("role","region"),o.isAudio()?o.$yt.setAttribute("aria-label","audio player"):o.$yt.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.xpt()&&o.addClass("vjs-no-flex"),b.IS_IOS||o.addClass("vjs-workinghover"),n.players[o.H_]=o;var d="5.20.6-opentelly.7".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.Bpt(),o.on("fullscreenchange",o.iP),o.on("stageclick",o.Opt),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.Lpt&&this.Lpt.parentNode&&this.Lpt.parentNode.removeChild(this.Lpt),n.players[this.H_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.$yt&&this.$yt.player&&(this.$yt.player=null),this.apt&&this.apt.dispose(),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var n=this.tag,i=void 0,e=this.Mpt=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player");i=this.$yt=e?n.parentNode:t.prototype.createEl.call(this,"div"),n.setAttribute("tabindex","-1"),n.removeAttribute("width"),n.removeAttribute("height");var r=h.getElAttributes(n);if(w.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),n.playerId=n.id,n.id+="jpt",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){this.Lpt=C.createStyleElement("vjs-styles-dimensions");var u=h.$(".vjs-styles-defaults"),o=h.$("head");o.insertBefore(this.Lpt,u?u.nextSibling:o.firstChild)}this.width(this.Zyt.width),this.height(this.Zyt.height),this.fluid(this.Zyt.fluid),this.aspectRatio(this.Zyt.aspectRatio);for(var a=n.getElementsByTagName("a"),c=0;c<a.length;c++){var f=a.item(c);h.addElClass(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return n.Fpt=n.networkState,n.parentNode&&!e&&n.parentNode.insertBefore(i,n),h.insertElFirst(n,i),this.Pi.unshift(n),this.$yt=i,i},n.prototype.width=function(t){return this.dimension("width",t)},n.prototype.height=function(t){return this.dimension("height",t)},n.prototype.dimension=function(t,n){var i="width"===t?"Bk":"dT";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var e=y(n);if(p(e))return A.default.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=e}return this.Upt(),this},n.prototype.fluid=function(t){if(void 0===t)return!!this.Hpt;this.Hpt=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.Upt()},n.prototype.aspectRatio=function(t){if(void 0===t)return this.Xpt;if(!/^\d+\:\d+$/.test(t))throw new l("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Xpt=t,this.fluid(!0),this.Upt()},n.prototype.Upt=function(){if(!0!==s.window.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,n=void 0,i=void 0,e=(void 0!==this.Xpt&&"auto"!==this.Xpt?this.Xpt:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=e[1]/e[0];t=void 0!==this.Bk?this.Bk:void 0!==this.dT?this.dT/r:this.videoWidth()||300,n=void 0!==this.dT?this.dT:t*r,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),C.setTextContent(this.Lpt,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var u="number"==typeof this.Bk?this.Bk:this.Zyt.width,o="number"==typeof this.dT?this.dT:this.Zyt.height,a=this.apt&&this.apt.el();a&&(u>=0&&(a.width=u),o>=0&&(a.height=o))}},n.prototype.zpt=function(t,n){var i=this;this.apt&&this.Vpt(),"Html5"!==t&&this.tag&&(V.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Wpt=t,this.ipt=!1;var e=(0,L.assign)({source:n,nativeControlsForTouch:this.Zyt.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"qpt",videoTracks:this.Mm,textTracks:this.Um,audioTracks:this.Lm,autoplay:this.Zyt.autoplay,playsinline:this.Zyt.playsinline,preload:this.Zyt.preload,loop:this.Zyt.loop,muted:this.Zyt.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Mpt||!1,"vtt.js":this.Zyt["vtt.js"]},this.Zyt[t.toLowerCase()]);this.tag&&(e.tag=this.tag),n&&(this.Gpt=n.type,n.src===this.xgt.src&&this.xgt.currentTime>0&&(e.startTime=this.xgt.currentTime),this.xgt.sources=null,this.xgt.source=n,this.xgt.src=n.src);var s=V.default.getTech(t);s||(s=r.default.getComponent(t)),this.apt=new s(e),this.apt.ready(f.bind(this,this.$pt),!0),U.default.jsonToTextTracks(this.Ypt||[],this.apt),Z.forEach(function(t){i.on(i.apt,t,i["handleTech"+(0,S.default)(t)+"_"])}),this.on(this.apt,"loadstart",this.Qpt),this.on(this.apt,"waiting",this.Zpt),this.on(this.apt,"canplay",this.Kpt),this.on(this.apt,"canplaythrough",this.Jpt),this.on(this.apt,"playing",this.tbt),this.on(this.apt,"ended",this.nbt),this.on(this.apt,"seeking",this.ibt),this.on(this.apt,"seeked",this.ebt),this.on(this.apt,"play",this.rbt),this.on(this.apt,"firstplay",this.sbt),this.on(this.apt,"pause",this.ubt),this.on(this.apt,"durationchange",this.obt),this.on(this.apt,"fullscreenchange",this.abt),this.on(this.apt,"error",this.hbt),this.on(this.apt,"loadedmetadata",this.Upt),this.on(this.apt,"resize",this.Upt),this.on(this.apt,"posterchange",this.cbt),this.on(this.apt,"textdata",this.fbt),this.usingNativeControls(this.lbt("controls")),this.controls()&&!this.usingNativeControls()&&this.vbt(),this.apt.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||h.insertElFirst(this.apt.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},n.prototype.Vpt=function(){this.Mm=this.videoTracks(),this.Um=this.textTracks(),this.Lm=this.audioTracks(),this.Ypt=U.default.textTracksToJson(this.apt),this.ipt=!1,this.apt.dispose(),this.apt=!1},n.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.apt;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw s.window.alert(n),new l(n)},n.prototype.vbt=function(){this.dbt(),this.on(this.apt,"mousedown",this.wbt),this.on(this.apt,"touchstart",this.gbt),this.on(this.apt,"touchmove",this.mbt),this.on(this.apt,"touchend",this.ybt),this.on(this.apt,"tap",this.pbt)},n.prototype.dbt=function(){this.off(this.apt,"tap",this.pbt),this.off(this.apt,"touchstart",this.gbt),this.off(this.apt,"touchmove",this.mbt),this.off(this.apt,"touchend",this.ybt),this.off(this.apt,"mousedown",this.wbt)},n.prototype.$pt=function(){if(this.triggerReady(),this.xgt.volume&&this._bt("setVolume",this.xgt.volume),this.cbt(),this.obt(),(this.src()||this.currentSrc())&&this.tag&&this.Zyt.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,A.default)("deleting tag.poster throws in some browsers",t)}this.play()}},n.prototype.Qpt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},n.prototype.hasStarted=function(t){return void 0!==t?(this.bbt!==t&&(this.bbt=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.bbt},n.prototype.rbt=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.prototype.Zpt=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},n.prototype.Kpt=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.prototype.Jpt=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.prototype.tbt=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.prototype.ibt=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.prototype.ebt=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},n.prototype.sbt=function(){this.Zyt.starttime&&(A.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.Zyt.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.prototype.ubt=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.prototype.nbt=function(){this.addClass("vjs-ended"),this.Zyt.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.prototype.obt=function(){this.duration(this.lbt("duration"))},n.prototype.wbt=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},n.prototype.pbt=function(){this.userActive(!this.userActive())},n.prototype.gbt=function(){this.userWasActive=this.userActive()},n.prototype.mbt=function(){this.userWasActive&&this.reportUserActivity()},n.prototype.ybt=function(t){t.preventDefault()},n.prototype.iP=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.prototype.Opt=function(){this.reportUserActivity()},n.prototype.abt=function(t,n){n&&this.isFullscreen(n.isFullscreen),this.trigger("fullscreenchange")},n.prototype.hbt=function(){var t=this.apt.error();this.error(t)},n.prototype.fbt=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},n.prototype.getCache=function(){return this.xgt},n.prototype._bt=function(t,n){if(this.apt&&!this.apt.ipt)this.apt.ready(function(){this[t](n)},!0);else try{this.apt&&this.apt[t](n)}catch(t){throw(0,A.default)(t),t}},n.prototype.lbt=function(t){if(this.apt&&this.apt.ipt)try{return this.apt[t]()}catch(n){throw void 0===this.apt[t]?(0,A.default)("Video.js: "+t+" method not defined for "+this.Wpt+" playback technology.",n):"TypeError"===n.name?((0,A.default)("Video.js: "+t+" unavailable on "+this.Wpt+" playback technology element.",n),this.apt.ipt=!1):(0,A.default)(n),n}},n.prototype.play=function(){return this.src()||this.currentSrc()?this._bt("play"):this.apt.one("loadstart",function(){this.play()}),this},n.prototype.pause=function(){return this._bt("pause"),this},n.prototype.paused=function(){return!1!==this.lbt("paused")},n.prototype.scrubbing=function(t){return void 0!==t?(this.Ppt=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.Ppt},n.prototype.currentTime=function(t){return void 0!==t?(this._bt("setCurrentTime",t),this):(this.xgt.currentTime=this.lbt("currentTime")||0,this.xgt.currentTime)},n.prototype.duration=function(t){return void 0===t?void 0!==this.xgt.duration?this.xgt.duration:NaN:((t=y(t))<0&&(t=1/0),t!==this.xgt.duration&&(this.xgt.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},n.prototype.remainingTime=function(){return this.duration()-this.currentTime()},n.prototype.buffered=function(){var t=this.lbt("buffered");return t&&t.length||(t=(0,E.createTimeRange)(0,0)),t},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.duration())},n.prototype.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},n.prototype.volume=function(t){var n=void 0;return void 0!==t?(n=g.max(0,g.min(1,y(t))),this.xgt.volume=n,this._bt("setVolume",n),this):(n=y(this.lbt("volume")),p(n)?1:n)},n.prototype.muted=function(t){return void 0!==t?(this._bt("setMuted",t),this):this.lbt("muted")||!1},n.prototype.supportsFullScreen=function(){return this.lbt("supportsFullScreen")||!1},n.prototype.isFullscreen=function(t){return void 0!==t?(this.bC=!!t,this):!!this.bC},n.prototype.requestFullscreen=function(t){var n=N.default,i=void 0;return this.isFullscreen(!0),n.requestFullscreen?(o.on(s.document,n.fullscreenchange,f.bind(this,function t(i){this.isFullscreen(s.document[n.fullscreenElement]),!1===this.isFullscreen()&&o.off(s.document,n.fullscreenchange,t),this.trigger("fullscreenchange")})),n.prefixed||(i=this.Zyt.fullscreenOptions,void 0!==t&&(i=t)),this.$yt[n.requestFullscreen](i)):this.apt.supportsFullScreen()?this._bt("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.exitFullscreen=function(){var t=N.default;return this.isFullscreen(!1),t.requestFullscreen?s.document[t.exitFullscreen]():this.apt.supportsFullScreen()?this._bt("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},n.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.document.documentElement.style.overflow,o.on(s.document,"keydown",f.bind(this,this.fullWindowOnEscKey)),s.document.documentElement.style.overflow="hidden",h.addElClass(s.document.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.prototype.exitFullWindow=function(){this.isFullWindow=!1,o.off(s.document,"keydown",this.fullWindowOnEscKey),s.document.documentElement.style.overflow=this.docOrigOverflow,h.removeElClass(s.document.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.prototype.canPlayType=function(t){for(var n=void 0,i=0,e=this.Zyt.techOrder;i<e.length;i++){var s=(0,S.default)(e[i]),u=V.default.getTech(s);if(u||(u=r.default.getComponent(s)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else A.default.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.prototype.selectSource=function(t){var n,i=this,e=this.Zyt.techOrder.map(S.default).map(function(t){return[t,V.default.getTech(t)||r.default.getComponent(t)]}).filter(function(t){var n=t[0],i=t[1];return i?i.isSupported():(A.default.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,n,i){var e=void 0;return t.some(function(t){return n.some(function(n){if(e=i(t,n))return!0})}),e},u=function(t,n){var e=t[0],r=t[1];if(r.canPlaySource(n,i.Zyt[e.toLowerCase()]))return{source:n,tech:e}};return(this.Zyt.sourceOrder?s(t,e,(n=u,function(t,i){return n(i,t)})):s(e,t,u))||!1},n.prototype.src=function(t){if(void 0===t)return this.lbt("src");var n=V.default.getTech(this.Wpt);return n||(n=r.default.getComponent(this.Wpt)),Array.isArray(t)?this.kbt(t):"string"==typeof t?this.src({src:t}):t instanceof w&&(t.type&&!n.canPlaySource(t,this.Zyt[this.Wpt.toLowerCase()])?this.kbt([t]):(this.xgt.sources=null,this.xgt.source=t,this.xgt.src=t.src,this.Gpt=t.type||"",this.ready(function(){n.prototype.hasOwnProperty("setSource")?this._bt("setSource",t):this._bt("src",t.src),"auto"===this.Zyt.preload&&this.load(),this.Zyt.autoplay&&this.play()},!0))),this},n.prototype.kbt=function(t){var n=this.selectSource(t);n?(n.tech===this.Wpt?this.src(n.source):this.zpt(n.tech,n.source),this.xgt.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.Zyt.notSupportedMessage)})},0),this.triggerReady())},n.prototype.load=function(){return this._bt("load"),this},n.prototype.reset=function(){return this.zpt((0,S.default)(this.Zyt.techOrder[0]),null),this._bt("reset"),this},n.prototype.currentSources=function(){var t=this.currentSource(),n=[];return 0!==w.keys(t).length&&n.push(t),this.xgt.sources||n},n.prototype.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.xgt.source||t},n.prototype.currentSrc=function(){return this.lbt("currentSrc")||this.xgt.src||""},n.prototype.currentType=function(){return this.Gpt||""},n.prototype.preload=function(t){return void 0!==t?(this._bt("setPreload",t),this.Zyt.preload=t,this):this.lbt("preload")},n.prototype.autoplay=function(t){return void 0!==t?(this._bt("setAutoplay",t),this.Zyt.autoplay=t,this):this.lbt("autoplay",t)},n.prototype.playsinline=function(t){return void 0!==t?(this._bt("setPlaysinline",t),this.Zyt.playsinline=t,this):this.lbt("playsinline")},n.prototype.loop=function(t){return void 0!==t?(this._bt("setLoop",t),this.Zyt.loop=t,this):this.lbt("loop")},n.prototype.poster=function(t){return void 0===t?this.pX:(t||(t=""),this.pX=t,this._bt("setPoster",t),this.trigger("posterchange"),this)},n.prototype.cbt=function(){!this.pX&&this.apt&&this.apt.poster&&(this.pX=this.apt.poster()||"",this.trigger("posterchange"))},n.prototype.controls=function(t){return void 0!==t?(t=!!t,this.Npt!==t&&(this.Npt=t,this.usingNativeControls()&&this._bt("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.vbt()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.dbt())),this):!!this.Npt},n.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.Abt!==t&&(this.Abt=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.Abt},n.prototype.error=function(t){return void 0===t?this.mu||null:null===t?(this.mu=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.mu=new x.default(t),this.addClass("vjs-error"),A.default.error("(CODE:"+this.mu.code+" "+x.default.errorTypes[this.mu.code]+")",this.mu.message,this.mu),this.trigger("error"),this)},n.prototype.reportUserActivity=function(t){this.Tbt=!0},n.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.Sbt&&(this.Sbt=t,t?(this.Tbt=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.Tbt=!1,this.apt&&this.apt.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.Sbt},n.prototype.Bpt=function(){var t=void 0,n=void 0,i=void 0,e=f.bind(this,this.reportUserActivity);this.on("mousedown",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())}),this.on("mouseup",function(n){e(),this.clearInterval(t)}),this.on("keydown",e),this.on("keyup",e);var r=void 0;this.setInterval(function(){if(this.Tbt){this.Tbt=!1,this.userActive(!0),this.clearTimeout(r);var t=this.Zyt.inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.Tbt||this.userActive(!1)},t))}},250)},n.prototype.playbackRate=function(t){return void 0!==t?(this._bt("setPlaybackRate",t),this):this.apt&&this.apt.featuresPlaybackRate?this.lbt("playbackRate"):1},n.prototype.isAudio=function(t){return void 0!==t?(this.Ebt=!!t,this):!!this.Ebt},n.prototype.videoTracks=function(){return this.apt?this.apt.videoTracks():(this.Mm=this.Mm||new $.default,this.Mm)},n.prototype.audioTracks=function(){return this.apt?this.apt.audioTracks():(this.Lm=this.Lm||new q.default,this.Lm)},n.prototype.textTracks=function(){if(this.apt)return this.apt.textTracks()},n.prototype.remoteTextTracks=function(){if(this.apt)return this.apt.remoteTextTracks()},n.prototype.remoteTextTrackEls=function(){if(this.apt)return this.apt.remoteTextTrackEls()},n.prototype.addTextTrack=function(t,n,i){if(this.apt)return this.apt.addTextTrack(t,n,i)},n.prototype.addRemoteTextTrack=function(t,n){if(this.apt)return this.apt.addRemoteTextTrack(t,n)},n.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.apt)return this.apt.removeRemoteTextTrack(i)},n.prototype.getVideoPlaybackQuality=function(){return this.lbt("getVideoPlaybackQuality")},n.prototype.videoWidth=function(){return this.apt&&this.apt.videoWidth&&this.apt.videoWidth()||0},n.prototype.videoHeight=function(){return this.apt&&this.apt.videoHeight&&this.apt.videoHeight()||0},n.prototype.language=function(t){return void 0===t?this.G_:(this.G_!==String(t).toLowerCase()&&(this.G_=String(t).toLowerCase(),void 0!==this.$yt&&this.trigger("languagechange")),this)},n.prototype.languages=function(){return(0,j.default)(n.prototype.Zyt.languages,this.Dpt)},n.prototype.toJSON=function(){var t=(0,j.default)(this.Zyt),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var e=n[i];(e=(0,j.default)(e)).player=void 0,t.tracks[i]=e}return t},n.prototype.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var e=new X.default(this,n);return this.addChild(e),e.on("dispose",function(){i.removeChild(e)}),e.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=h.getElAttributes(t),e=i["data-setup"];if(h.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==e){var r=(0,O.default)(e||"{}"),s=r[0],u=r[1];s&&A.default.error(s),(0,L.assign)(i,u)}if((0,L.assign)(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var f=o[a],l=f.nodeName.toLowerCase();"source"===l?n.sources.push(h.getElAttributes(f)):"track"===l&&n.tracks.push(h.getElAttributes(f))}return n},n.prototype.xpt=function(){var t=s.document.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(r.default);K.players={};var J=s.window.navigator;K.prototype.Zyt={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:J&&(J.languages&&J.languages[0]||J.userLanguage||J.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){K.prototype[t]=function(){return this.lbt(t)}}),Z.forEach(function(t){K.prototype["handleTech"+(0,S.default)(t)+"_"]=function(){return this.trigger(t)}}),r.default.registerComponent("Player",K),i.default=K},{1:1,116:116,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92}],52:[function(t,n,i){i.__esModule=!0;var e,r=t(51),s=(e=r)&&e.__esModule?e:{default:e};i.default=function(t,n){s.default.prototype[t]=n}},{51:51}],53:[function(t,n,i){i.__esModule=!0;var e=t(3),r=o(e),s=t(5),u=o(s);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},n.prototype.createPopup=function(){},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n.prototype.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.Zyt.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(r.default);u.default.registerComponent("PopupButton",a),i.default=a},{3:3,5:5}],54:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=l(u),a=t(83),h=l(a),c=t(82),f=l(c);function l(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var d=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addItem=function(t){this.addChild(t),t.on("click",h.bind(this,function(){this.unlockShowing()}))},n.prototype.createEl=function(){var n=this.Zyt.contentElType||"ul";this.npt=o.createEl(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.npt,className:"vjs-menu"});return i.appendChild(this.npt),f.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},n}(s.default);s.default.registerComponent("Popup",d),i.default=d},{5:5,81:81,82:82,83:83}],55:[function(t,n,i){i.__esModule=!0;var e=t(3),r=g(e),s=t(5),u=g(s),o=t(83),a=d(o),h=t(81),c=d(h),f=t(78),l=d(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.update(),i.on("posterchange",a.bind(r,r.update)),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.prototype.createEl=function(){var t=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.Ibt=c.createEl("img"),t.appendChild(this.Ibt)),t},n.prototype.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},n.prototype.setSrc=function(t){if(this.Ibt)this.Ibt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.$yt.style.backgroundImage=n}},n.prototype.handleClick=function(t){this.yN.controls()&&(this.yN.paused()?this.yN.play():this.yN.pause())},n}(r.default);u.default.registerComponent("PosterImage",m),i.default=m},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,i){i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var e=t(81),r=a(e),s=t(82),u=a(s),o=t(85);function a(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}var h=!1,c=void 0,f=function(){if(r.isReal()){var t=o.document.getElementsByTagName("video"),n=o.document.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var e=0,s=t.length;e<s;e++)i.push(t[e]);if(n&&n.length>0)for(var u=0,a=n.length;u<a;u++)i.push(n[u]);if(i&&i.length>0)for(var f=0,v=i.length;f<v;f++){var d=i[f];if(!d||!d.getAttribute){l(1);break}if(void 0===d.player){var w=d.getAttribute("data-setup");null!==w&&c(d)}}else h||l(1)}};function l(t,n){n&&(c=n),o.window.setTimeout(f,t)}r.isReal()&&"complete"===o.document.readyState?h=!0:u.one(o.window,"load",function(){h=!0}),i.autoSetup=f,i.autoSetupTimeout=l,i.hasLoaded=function(){return h}},{81:81,82:82,85:85}],57:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(81),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(89),h=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.bar=r.getChild(r.Zyt.barName),r.vertical(!!r.Zyt.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,a.assign)({tabIndex:0},i),e=(0,a.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),t.prototype.createEl.call(this,n,i,e)},n.prototype.handleMouseDown=function(t){var n=this.bar.$yt.ownerDocument;t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.prototype.handleMouseMove=function(t){},n.prototype.handleMouseUp=function(){var t=this.bar.$yt.ownerDocument;o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.prototype.update=function(){if(this.$yt){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},n.prototype.calculateDistance=function(t){var n=o.getPointerPosition(this.$yt,t);return this.vertical()?n.y:n.x},n.prototype.handleFocus=function(){this.on(this.bar.$yt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},n.prototype.handleBlur=function(){this.off(this.bar.$yt.ownerDocument,"keydown",this.handleKeyPress)},n.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},n.prototype.vertical=function(t){return void 0===t?this.dk||!1:(this.dk=!!t,this.dk?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(s.default);s.default.registerComponent("Slider",h),i.default=h},{5:5,81:81,89:89}],58:[function(t,n,i){i.__esModule=!0,i.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,n){return t+"&"+n},t.streamToParts=function(t){var n={connection:"",stream:""};if(!t)return n;var i=t.search(/&(?!\w+=)/),e=void 0;return-1!==i?e=i+1:0===(i=e=t.lastIndexOf("/")+1)&&(i=e=t.length),n.connection=t.substring(0,i),n.stream=t.substring(e,t.length),n},t.isStreamingType=function(n){return n in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(n){return t.RTMP_RE.test(n)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(n){return t.isStreamingType(n)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(n,i){var e=t.rtmpSourceHandler.canPlayType(n.type);return e||(t.isStreamingSrc(n.src)?"maybe":"")},t.rtmpSourceHandler.handleSource=function(n,i,e){var r=t.streamToParts(n.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}},{}],59:[function(t,n,i){i.__esModule=!0;var e=t(62),r=p(e),s=t(81),u=y(s),o=t(93),a=y(o),h=t(91),c=t(58),f=p(c),l=t(5),d=p(l),g=t(85),m=t(89);function y(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function p(t){return t&&t.__esModule?t:{default:t}}var _=g.window.navigator,b=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),g.window.videojs=g.window.videojs||{},g.window.videojs.Flash=g.window.videojs.Flash||{},g.window.videojs.Flash.onReady=n.onReady,g.window.videojs.Flash.onEvent=n.onEvent,g.window.videojs.Flash.onError=n.onError,r.on("seeked",function(){this.Rbt=void 0}),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.createEl=function(){var t=this.Zyt;t.swf||(t.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var i=t.techId,e=(0,m.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),r=(0,m.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,m.assign)({id:i,name:i,class:"vjs-tech"},t.attributes);return this.$yt=n.embed(t.swf,e,r,s),this.$yt.tech=this,this.$yt},n.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.$yt.vjs_play()},n.prototype.pause=function(){this.$yt.vjs_pause()},n.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},n.prototype.setSrc=function(t){var n=this;t=a.getAbsoluteURL(t),this.$yt.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return n.play()},0)},n.prototype.seeking=function(){return void 0!==this.Rbt},n.prototype.setCurrentTime=function(n){var i=this.seekable();i.length&&(n=(n=n>i.start(0)?n:i.start(0))<i.end(i.length-1)?n:i.end(i.length-1),this.Rbt=n,this.trigger("seeking"),this.$yt.vjs_setProperty("currentTime",n),t.prototype.setCurrentTime.call(this))},n.prototype.currentTime=function(){return this.seeking()?this.Rbt||0:this.$yt.vjs_getProperty("currentTime")},n.prototype.currentSrc=function(){return this.vy?this.vy.src:this.$yt.vjs_getProperty("currentSrc")},n.prototype.duration=function(){if(0===this.readyState())return NaN;var t=this.$yt.vjs_getProperty("duration");return t>=0?t:1/0},n.prototype.load=function(){this.$yt.vjs_load()},n.prototype.poster=function(){this.$yt.vjs_getProperty("poster")},n.prototype.setPoster=function(){},n.prototype.seekable=function(){var t=this.duration();return 0===t?(0,h.createTimeRange)():(0,h.createTimeRange)(0,t)},n.prototype.buffered=function(){var t=this.$yt.vjs_getProperty("buffered");return 0===t.length?(0,h.createTimeRange)():(0,h.createTimeRange)(t[0][0],t[0][1])},n.prototype.supportsFullScreen=function(){return!1},n.prototype.enterFullScreen=function(){return!1},n.prototype.getVideoPlaybackQuality=function(){var t=this.$yt.vjs_getProperty("getVideoPlaybackQuality");return g.window.performance&&"function"==typeof g.window.performance.now?t.creationTime=g.window.performance.now():g.window.performance&&g.window.performance.timing&&"number"==typeof g.window.performance.timing.navigationStart&&(t.creationTime=g.window.Date.now()-g.window.performance.timing.navigationStart),t},n}(r.default),k=b.prototype,A="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),T="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function S(t){var n=t.charAt(0).toUpperCase()+t.slice(1);k["set"+n]=function(n){return this.$yt.vjs_setProperty(t,n)}}function E(t){k[t]=function(){return this.$yt.vjs_getProperty(t)}}for(var I=0;I<A.length;I++)E(A[I]),S(A[I]);for(var R=0;R<T.length;R++)E(T[R]);b.isSupported=function(){return b.version()[0]>=10},r.default.withSourceHandlers(b),b.nativeSourceHandler={},b.nativeSourceHandler.canPlayType=function(t){return t in b.formats?"maybe":""},b.nativeSourceHandler.canHandleSource=function(t,n){var i,e,r=void 0;return r=t.type?t.type.replace(/;.*/,"").toLowerCase():(i=t.src,(e=a.getFileExtension(i))?"video/"+e:""),b.nativeSourceHandler.canPlayType(r)},b.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},b.nativeSourceHandler.dispose=function(){},b.registerSourceHandler(b.nativeSourceHandler),b.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},b.onReady=function(t){var n=u.getEl(t),i=n&&n.tech;i&&i.el()&&b.checkReady(i)},b.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){b.checkReady(t)},50))},b.onEvent=function(t,n){var i=u.getEl(t).tech,e=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(n,e)},1)},b.onError=function(t,n){var i=u.getEl(t).tech;if("srcnotfound"===n)return i.error(4);i.error("FLASH: "+n)},b.version=function(){var t="0,0,0";try{t=new g.window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(n){try{_.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(_.plugins["Shockwave Flash 2.0"]||_.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},b.embed=function(t,n,i,e){var r=b.getEmbedCode(t,n,i,e),s=u.createEl("div",{innerHTML:r}).childNodes[0];return s},b.getEmbedCode=function(t,n,i,e){var r="",s="",u="";return n&&w.getOwnPropertyNames(n).forEach(function(t){r+=t+"="+n[t]+"&amp;"}),i=(0,m.assign)({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i),w.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),e=(0,m.assign)({data:t,width:"100%",height:"100%"},e),w.getOwnPropertyNames(e).forEach(function(t){u+=t+'="'+e[t]+'" '}),'<object type="application/x-shockwave-flash" '+u+">"+s+"</object>"},(0,f.default)(b),d.default.registerComponent("Flash",b),r.default.registerTech("Flash",b),i.default=b},{5:5,58:58,62:62,81:81,85:85,89:89,91:91,93:93}],60:[function(t,n,i){i.__esModule=!0;var e,r=((e=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]).raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e),s=t(62),u=D(s),o=t(5),a=D(o),h=t(81),c=C(h),f=t(93),l=C(f),d=t(83),g=C(d),m=t(87),y=D(m),p=t(121),_=D(p),b=t(78),k=C(b),A=t(85),T=t(89),S=t(88),E=D(S),I=t(92),R=D(I);function C(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function D(t){return t&&t.__esModule?t:{default:t}}var N=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e)),u=i.source,o=!1;if(u&&(s.$yt.currentSrc!==u.src||i.tag&&3===i.tag.Fpt)?s.setSource(u):s.Cbt(s.$yt),s.$yt.hasChildNodes()){for(var a=s.$yt.childNodes,h=a.length,c=[];h--;){var f=a[h],d=f.nodeName.toLowerCase();"track"===d&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().Dbt(f),s.remoteTextTracks().E_(f.track),o||s.$yt.hasAttribute("crossorigin")||!l.isCrossOrigin(f.src)||(o=!0)):c.push(f))}for(var w=0;w<c.length;w++)s.$yt.removeChild(c[w])}return["audio","video"].forEach(function(t){var n=s.el()[t+"Tracks"],i=s[t+"Tracks"](),e=(0,R.default)(t);s["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(s["handle"+e+"Nbt"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},s["handle"+e+"Pbt"]=function(t){return i.addTrack(t.track)},s["handle"+e+"xbt"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",s["handle"+e+"Nbt"]),n.addEventListener("addtrack",s["handle"+e+"Pbt"]),n.addEventListener("removetrack",s["handle"+e+"xbt"]),s["removeOld"+e+"Bbt"]=function(t){return s.Obt(i,n)},s.on("loadstart",s["removeOld"+e+"Bbt"]))}),s.featuresNativeTextTracks&&(o&&y.default.warn((0,_.default)(r)),s.Lbt=g.bind(s,s.handleTextTrackChange),s.Mbt=g.bind(s,s.handleTextTrackAdd),s.jbt=g.bind(s,s.handleTextTrackRemove),s.Fbt()),s.Ubt(),(k.TOUCH_ENABLED||k.IS_IPHONE||k.IS_NATIVE_ANDROID)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.Hbt(),s.triggerReady(),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var n=(0,R.default)(t),e=i.$yt[t+"Tracks"];e&&e.removeEventListener&&(e.removeEventListener("change",i["handle"+n+"Nbt"]),e.removeEventListener("addtrack",i["handle"+n+"Pbt"]),e.removeEventListener("removetrack",i["handle"+n+"xbt"])),e&&i.off("loadstart",i["removeOld"+n+"Bbt"])}),n.disposeMediaElement(this.$yt),t.prototype.dispose.call(this)},n.prototype.Ubt=function(){var t=this.textTracks(),n=void 0,i=function(){n=[];for(var i=0;i<t.length;i++){var e=t[i];"metadata"===e.kind&&n.push({track:e,storedMode:e.mode})}};i(),t.addEventListener("change",i);var e=function i(){for(var e=0;e<n.length;e++){var r=n[e];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",e),t.addEventListener("change",e)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",e)})},n.prototype.createEl=function(){var t=this.Zyt.tag;if(!t||!this.Zyt.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=A.document.createElement("video");var e=this.Zyt.tag&&c.getElAttributes(this.Zyt.tag),r=(0,E.default)({},e);k.TOUCH_ENABLED&&!0===this.Zyt.nativeControlsForTouch||delete r.controls,c.setElAttributes(t,(0,T.assign)(r,{id:this.Zyt.techId,class:"vjs-tech"}))}t.playerId=this.Zyt.playerId}void 0!==this.Zyt.preload&&c.setAttribute(t,"preload",this.Zyt.preload);for(var s=["loop","muted","playsinline","autoplay"],u=s.length-1;u>=0;u--){var o=s[u],a=this.Zyt[o];void 0!==a&&(a?c.setAttribute(t,o,o):c.removeAttribute(t,o),t[o]=a)}return t},n.prototype.Cbt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var e=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",e),n||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},n.prototype.Fbt=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().E_(t[n]);t.addEventListener&&(t.addEventListener("change",this.Lbt),t.addEventListener("addtrack",this.Mbt),t.addEventListener("removetrack",this.jbt)),this.on("loadstart",this.Xbt)}},n.prototype.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},n.prototype.handleTextTrackAdd=function(t){this.textTracks().E_(t.track)},n.prototype.handleTextTrackRemove=function(t){this.textTracks().I_(t.track)},n.prototype.Obt=function(t,n){var i=[];if(n){for(var e=0;e<t.length;e++){for(var r=t[e],s=!1,u=0;u<n.length;u++)if(n[u]===r){s=!0;break}s||i.push(r)}for(var o=0;o<i.length;o++){var a=i[o];t.I_(a)}}},n.prototype.Xbt=function(t){var n=this.textTracks(),i=this.el().textTracks;this.Obt(n,i)},n.prototype.play=function(){var t=this.$yt.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},n.prototype.setCurrentTime=function(t){try{this.$yt.currentTime=t}catch(t){(0,y.default)(t,"Video is not ready. (Video.js)")}},n.prototype.duration=function(){var t=this;return this.$yt.duration===1/0&&k.IS_ANDROID&&k.IS_CHROME&&0===this.$yt.currentTime?(this.on("timeupdate",function n(){t.$yt.currentTime>0&&(t.$yt.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))}),NaN):this.$yt.duration||NaN},n.prototype.width=function(){return this.$yt.offsetWidth},n.prototype.height=function(){return this.$yt.offsetHeight},n.prototype.Hbt=function(){var t=this;if("webkitDisplayingFullscreen"in this.$yt){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.$yt&&"picture-in-picture"!==this.$yt.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.$yt.webkitEnterFullScreen){var t=A.window.navigator&&A.window.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},n.prototype.enterFullScreen=function(){var t=this.$yt;t.paused&&t.networkState<=t.HAVE_METADATA?(this.$yt.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){this.$yt.webkitExitFullScreen()},n.prototype.src=function(t){if(void 0===t)return this.$yt.src;this.setSrc(t)},n.prototype.reset=function(){n.resetMediaElement(this.$yt)},n.prototype.currentSrc=function(){return this.vy?this.vy.src:this.$yt.currentSrc},n.prototype.setControls=function(t){this.$yt.controls=!!t},n.prototype.addTextTrack=function(n,i,e){return this.featuresNativeTextTracks?this.$yt.addTextTrack(n,i,e):t.prototype.addTextTrack.call(this,n,i,e)},n.prototype.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=A.document.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},n.prototype.addRemoteTextTrack=function(n,i){var e=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},n.prototype.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),e=i.length;e--;)n!==i[e]&&n!==i[e].track||this.el().removeChild(i[e])},n.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),A.window.performance&&"function"==typeof A.window.performance.now?t.creationTime=A.window.performance.now():A.window.performance&&A.window.performance.timing&&"number"==typeof A.window.performance.timing.navigationStart&&(t.creationTime=A.window.Date.now()-A.window.performance.timing.navigationStart),t},n}(u.default);if(c.isReal()){N.TEST_VID=A.document.createElement("video");var P=A.document.createElement("track");P.kind="captions",P.srclang="en",P.label="English",N.TEST_VID.appendChild(P)}N.isSupported=function(){try{N.TEST_VID.volume=.5}catch(t){return!1}return!(!N.TEST_VID||!N.TEST_VID.canPlayType)},N.canControlVolume=function(){try{var t=N.TEST_VID.volume;return N.TEST_VID.volume=t/2+.1,t!==N.TEST_VID.volume}catch(t){return!1}},N.canControlPlaybackRate=function(){if(k.IS_ANDROID&&k.IS_CHROME&&k.CHROME_VERSION<58)return!1;try{var t=N.TEST_VID.playbackRate;return N.TEST_VID.playbackRate=t/2+.1,t!==N.TEST_VID.playbackRate}catch(t){return!1}},N.supportsNativeTextTracks=function(){return k.IS_ANY_SAFARI},N.supportsNativeVideoTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.videoTracks)},N.supportsNativeAudioTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.audioTracks)},N.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],N.prototype.featuresVolumeControl=N.canControlVolume(),N.prototype.featuresPlaybackRate=N.canControlPlaybackRate(),N.prototype.movingMediaElementInDOM=!k.IS_IOS,N.prototype.featuresFullscreenResize=!0,N.prototype.featuresProgressEvents=!0,N.prototype.featuresTimeupdateEvents=!0,N.prototype.featuresNativeTextTracks=N.supportsNativeTextTracks(),N.prototype.featuresNativeVideoTracks=N.supportsNativeVideoTracks(),N.prototype.featuresNativeAudioTracks=N.supportsNativeAudioTracks();var x=N.TEST_VID&&N.TEST_VID.constructor.prototype.canPlayType,B=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,O=/^video\/mp4/i;N.patchCanPlayType=function(){k.ANDROID_VERSION>=4&&!k.IS_FIREFOX?N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&B.test(t)?"maybe":x.call(this,t)}:k.IS_OLD_ANDROID&&(N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&O.test(t)?"maybe":x.call(this,t)})},N.unpatchCanPlayType=function(){var t=N.TEST_VID.constructor.prototype.canPlayType;return N.TEST_VID.constructor.prototype.canPlayType=x,t},N.patchCanPlayType(),N.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},N.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){N.prototype[t]=function(){return this.$yt[t]||this.$yt.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.$yt[t]=n,n?this.$yt.setAttribute(t,t):this.$yt.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){N.prototype[t]=function(){return this.$yt[t]}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){N.prototype["set"+(0,R.default)(t)]=function(n){this.$yt[t]=n}}),["pause","load"].forEach(function(t){N.prototype[t]=function(){return this.$yt[t]()}}),u.default.withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(t){try{return N.TEST_VID.canPlayType(t)}catch(t){return""}},N.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return N.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=l.getFileExtension(t.src);return N.nativeSourceHandler.canPlayType("video/"+i)}return""},N.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),a.default.registerComponent("Html5",N),u.default.registerTech("Html5",N),i.default=N},{121:121,5:5,62:62,78:78,81:81,83:83,85:85,87:87,88:88,89:89,92:92,93:93}],61:[function(t,n,i){i.__esModule=!0;var e=t(5),r=h(e),s=t(62),u=h(s),o=t(92),a=h(o);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(i,e,s){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,s));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)i.src(e.playerOptions.sources);else for(var h=0,c=e.playerOptions.techOrder;h<c.length;h++){var f=(0,a.default)(c[h]),l=u.default.getTech(f);if(f||(l=r.default.getComponent(f)),l&&l.isSupported()){i.zpt(f);break}}return o}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(r.default);r.default.registerComponent("MediaLoader",c),i.default=c},{5:5,62:62,92:92}],62:[function(t,n,i){i.__esModule=!0;var e=t(5),r=P(e),s=t(66),u=P(s),o=t(65),a=P(o),h=t(88),c=P(h),f=t(72),d=P(f),g=t(70),m=P(g),y=t(76),p=P(y),_=t(63),b=P(_),k=t(83),A=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(k),T=t(87),S=P(T),E=t(91),I=t(79),R=t(46),C=P(R),D=t(85),N=t(89);function P(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),i.reportTouchActivity=!1;var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,null,i,e));return r.bbt=!1,r.on("playing",function(){this.bbt=!0}),r.on("loadstart",function(){this.bbt=!1}),r.Um=i.textTracks,r.Mm=i.videoTracks,r.Lm=i.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===i.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.zbt=new m.default,r.initTextTrackListeners(),r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.wi=r.constructor.name||"Unknown Tech"),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(A.bind(this,function(){var t=this.bufferedPercent();this.Vbt!==t&&this.trigger("progress"),this.Vbt=t,1===t&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(t){this.Qg=this.duration()},n.prototype.buffered=function(){return(0,E.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,I.bufferedPercent)(this.buffered(),this.Qg)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach(function(t){for(var i=n[t+"Tracks"]()||[],e=i.length;e--;){var r=i[e];"text"===t&&n.removeRemoteTextTrack(r),i.I_(r)}})},n.prototype.cleanupAutoTextTracks=function(){for(var t=this.zbt||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},n.prototype.reset=function(){},n.prototype.error=function(t){return void 0!==t&&(this.mu=new C.default(t),this.trigger("error")),this.mu},n.prototype.played=function(){return this.bbt?(0,E.createTimeRange)(0,0):(0,E.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var t=A.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",A.bind(this,function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)})))},n.prototype.initTrackListeners=function(){var t=this;["video","audio"].forEach(function(n){var i=function(){t.trigger(n+"trackchange")},e=t[n+"Tracks"]();e.addEventListener("removetrack",i),e.addEventListener("addtrack",i),t.on("dispose",function(){e.removeEventListener("removetrack",i),e.removeEventListener("addtrack",i)})})},n.prototype.Wbt=function(){var t=this;if(!D.window.WebVTT)if(D.document.body.contains(this.el())){var n={};if(!this.Zyt["vtt.js"]&&(0,N.isPlain)(n)&&w.keys(n).length>0)return void this.trigger("vttjsloaded");var i=D.document.createElement("script");i.src=this.Zyt["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",i.onload=function(){t.trigger("vttjsloaded")},i.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),D.window.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.Wbt)},n.prototype.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),e=function(t){return n.E_(t.track)},r=function(t){return n.I_(t.track)};i.on("addtrack",e),i.on("removetrack",r),this.Wbt();var s=function(){return t.trigger("texttrackchange")},u=function(){s();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};u(),n.addEventListener("change",u),n.addEventListener("addtrack",u),n.addEventListener("removetrack",u),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",r),n.removeEventListener("change",u),n.removeEventListener("addtrack",u),n.removeEventListener("removetrack",u);for(var t=0;t<n.length;t++){var o=n[t];o.removeEventListener("cuechange",s)}})}},n.prototype.videoTracks=function(){return this.Mm=this.Mm||new p.default,this.Mm},n.prototype.audioTracks=function(){return this.Lm=this.Lm||new b.default,this.Lm},n.prototype.textTracks=function(){return this.Um=this.Um||new m.default,this.Um},n.prototype.remoteTextTracks=function(){return this.qbt=this.qbt||new m.default,this.qbt},n.prototype.remoteTextTrackEls=function(){return this.Gbt=this.Gbt||new a.default,this.Gbt},n.prototype.addTextTrack=function(t,n,i){if(!t)throw new l("TextTrack kind is required but was not provided");return function(t,n,i,e){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=n,i&&(r.label=i),e&&(r.language=e),r.tech=t;var u=new d.default(r);return s.E_(u),u}(this,t,n,i)},n.prototype.createRemoteTextTrack=function(t){var n=(0,c.default)(t,{tech:this});return new u.default(n)},n.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(S.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().Dbt(i),this.remoteTextTracks().E_(i.track),!0!==n&&this.zbt.E_(i.track),i},n.prototype.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().mpt(t);this.remoteTextTrackEls().$bt(n),this.remoteTextTracks().I_(t),this.zbt.I_(t)},n.prototype.getVideoPlaybackQuality=function(){return{}},n.prototype.setPoster=function(){},n.prototype.playsinline=function(){},n.prototype.setPlaysinline=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.Ybt||(n.Ybt={}),!n.isTech(i))throw new l("Tech "+t+" must be a Tech");return n.Ybt[t]=i,i},n.getTech=function(t){return n.Ybt&&n.Ybt[t]?n.Ybt[t]:D.window&&D.window.videojs&&D.window.videojs[t]?(S.default.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),D.window.videojs[t]):void 0},n}(r.default);x.prototype.Um,x.prototype.Lm,x.prototype.Mm,x.prototype.featuresVolumeControl=!0,x.prototype.featuresFullscreenResize=!1,x.prototype.featuresPlaybackRate=!1,x.prototype.featuresProgressEvents=!1,x.prototype.featuresTimeupdateEvents=!1,x.prototype.featuresNativeTextTracks=!1,x.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===i&&(i=e.length),e.splice(i,0,n)},t.canPlayType=function(n){for(var i=t.sourceHandlers||[],e=void 0,r=0;r<i.length;r++)if(e=i[r].canPlayType(n))return e;return""},t.selectSourceHandler=function(n,i){for(var e=t.sourceHandlers||[],r=0;r<e.length;r++)if(e[r].canHandleSource(n,i))return e[r];return null},t.canPlaySource=function(n,i){var e=t.selectSourceHandler(n,i);return e?e.canHandleSource(n,i):""},["seekable","duration"].forEach(function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.Qbt&&this.Qbt[t]?this.Qbt[t].apply(this.Qbt,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.Zyt);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:S.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.vy=n,this.off(this.$yt,"loadstart",t.prototype.Zbt),this.off(this.$yt,"loadstart",t.prototype.Kbt),this.one(this.$yt,"loadstart",t.prototype.Zbt)),this.Qbt=i.handleSource(n,this,this.Zyt),this.on("dispose",this.disposeSourceHandler),this},t.prototype.Zbt=function(){this.one(this.$yt,"loadstart",t.prototype.Kbt)},t.prototype.Kbt=function(){this.disposeSourceHandler(),this.one(this.$yt,"loadstart",t.prototype.Kbt)},t.prototype.disposeSourceHandler=function(){this.vy&&(this.clearTracks(["audio","video"]),this.vy=null),this.cleanupAutoTextTracks(),this.Qbt&&(this.off(this.$yt,"loadstart",t.prototype.Zbt),this.off(this.$yt,"loadstart",t.prototype.Kbt),this.Qbt.dispose&&this.Qbt.dispose(),this.Qbt=null)}},r.default.registerComponent("Tech",x),r.default.registerComponent("MediaTechController",x),x.registerTech("Tech",x),i.default=x},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,85:85,87:87,88:88,89:89,91:91}],63:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].enabled){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).Jbt=!1,h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(n){var i=this;n.enabled&&c(this,n),t.prototype.E_.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",function(){i.Jbt||(i.Jbt=!0,c(i,n),i.Jbt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.E_(t)},n.prototype.removeTrack=function(n){t.prototype.I_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],64:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.AudioTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"enabled",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(u.enabled=s.enabled),u.wgt=!0,f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],65:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);i.tkt=[],w.defineProperty(i,"length",{get:function(){return this.tkt.length}});for(var u=0,o=n.length;u<o;u++)i.Dbt(n[u]);if(r.IS_IE8)return i}return t.prototype.Dbt=function(t){var n=this.tkt.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.tkt[n]}}),-1===this.tkt.indexOf(t)&&this.tkt.push(t)},t.prototype.mpt=function(t){for(var n=void 0,i=0,e=this.tkt.length;i<e;i++)if(t===this.tkt[i].track){n=this.tkt[i];break}return n},t.prototype.$bt=function(t){for(var n=0,i=this.tkt.length;n<i;n++)if(t===this.tkt[n]){this.tkt.splice(n,1);break}},t}();i.default=u},{78:78,85:85}],66:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=t(42),o=c(u),a=t(72),h=c(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=0,d=2,g=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=f(this,t.call(this)),u=void 0,o=e;if(r.IS_IE8)for(var a in o=s.document.createElement("custom"),n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);var c=new h.default(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o.default=c.default,w.defineProperty(o,"readyState",{get:function(){return u}}),w.defineProperty(o,"track",{get:function(){return c}}),u=l,c.addEventListener("loadeddata",function(){u=d,o.trigger({type:"load",target:o})}),r.IS_IE8?f(e,o):e}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(o.default);g.prototype.ppt={load:"load"},g.NONE=l,g.LOADING=1,g.LOADED=d,g.ERROR=3,i.default=g},{42:42,72:72,78:78,85:85}],67:[function(t,n,i){i.__esModule=!0;var e=t(78),r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(e),s=t(85),u=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,t);var i=this;if(r.IS_IE8)for(var e in i=s.document.createElement("custom"),t.prototype)"constructor"!==e&&(i[e]=t.prototype[e]);if(t.prototype.nkt.call(i,n),w.defineProperty(i,"length",{get:function(){return this.C_}}),r.IS_IE8)return i}return t.prototype.nkt=function(t){var n=this.length||0,i=0,e=t.length;this.hg=t,this.C_=t.length;var r=function(t){""+t in this||w.defineProperty(this,""+t,{get:function(){return this.hg[t]}})};if(n<e)for(i=n;i<e;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},t}();i.default=u},{78:78,85:85}],68:[function(t,n,i){i.__esModule=!0;var e,r=t(5),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85),h={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c(t,n){return"rgba("+m(t[1]+t[1],16)+","+m(t[2]+t[2],16)+","+m(t[3]+t[3],16)+","+n+")"}function f(t,n,i){try{t.style[n]=i}catch(t){return}}var l=function(t){function n(i,e,r){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e,r));return i.on("loadstart",o.bind(s,s.toggleDisplay)),i.on("texttrackchange",o.bind(s,s.updateDisplay)),i.ready(o.bind(s,function(){if(i.apt&&i.apt.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var t=this.Zyt.playerOptions.tracks||[],n=0;n<t.length;n++)this.yN.addRemoteTextTrack(t[n],!0);var e={captions:1,subtitles:1},r=this.yN.textTracks(),s=void 0,u=void 0;if(r){for(var a=0;a<r.length;a++){var h=r[a];h.default&&("descriptions"!==h.kind||s?h.kind in e&&!u&&(u=h):s=h)}u?u.mode="showing":s&&(s.mode="showing")}}})),s}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.toggleDisplay=function(){this.yN.apt&&this.yN.apt.featuresNativeTextTracks?this.hide():this.show()},n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.prototype.clearDisplay=function(){"function"==typeof a.window.WebVTT&&a.window.WebVTT.processCues(a.window,[],this.$yt)},n.prototype.updateDisplay=function(){var t=this.yN.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,e=t.length;e--;){var r=t[e];"showing"===r.mode&&("descriptions"===r.kind?n=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},n.prototype.updateForTrack=function(t){if("function"==typeof a.window.WebVTT&&t.activeCues){for(var n=this.yN.textTrackSettings.getValues(),i=[],e=0;e<t.activeCues.length;e++)i.push(t.activeCues[e]);a.window.WebVTT.processCues(a.window,i,this.$yt);for(var r=i.length;r--;){var s=i[r];if(s){var u=s.displayState;if(n.color&&(u.firstChild.style.color=n.color),n.textOpacity&&f(u.firstChild,"color",c(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(u.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&f(u.firstChild,"backgroundColor",c(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?f(u,"backgroundColor",c(n.windowColor,n.windowOpacity)):u.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var o=a.window.parseFloat(u.style.fontSize);u.style.fontSize=o*n.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=h[n.fontFamily])}}}},n}(s.default);s.default.registerComponent("TextTrackDisplay",l),i.default=l},{5:5,83:83,85:85}],69:[function(t,n,i){i.__esModule=!0;var e=function(t){var n=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,e){return t[i]&&(n[i]=t[i]),n},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return n};i.default={textTracksToJson:function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,function(t){return t.track});return Array.prototype.map.call(n,function(t){var n=e(t.track);return t.src&&(n.src=t.src),n}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(e))},jsonToTextTracks:function(t,n){return t.forEach(function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),n.textTracks()},ikt:e}},{}],70:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(83),o=f(u),a=t(78),h=f(a),c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=void 0;if(h.IS_IE8){for(var u in r=c.document.createElement("custom"),s.default.prototype)"constructor"!==u&&(r[u]=s.default.prototype[u]);for(var o in n.prototype)"constructor"!==o&&(r[o]=n.prototype[o])}return i=l(this,t.call(this,e,r)),l(i,r=i)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(n){t.prototype.E_.call(this,n),n.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},n}(s.default);i.default=d},{74:74,78:78,83:83,85:85}],71:[function(t,n,i){i.__esModule=!0;var e=t(85),r=t(5),s=g(r),u=t(81),o=t(83),a=d(o),h=t(89),c=d(h),f=t(87),l=g(f);function d(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function g(t){return t&&t.__esModule?t:{default:t}}var m=["#000","Black"],y=["#00F","Blue"],p=["#0FF","Cyan"],_=["#0F0","Green"],b=["#F0F","Magenta"],k=["#F00","Red"],A=["#FFF","White"],T=["#FF0","Yellow"],S=["1","Opaque"],E=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[m,A,k,_,y,T,b,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[S,E,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[A,m,k,_,y,T,b,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[S,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,E,S]}};function C(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}R.windowColor.options=R.backgroundColor.options;var D=function(t){function n(i,e){!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,i,e));return r.setDefaults(),r.hide(),r.updateDisplay=a.bind(r,r.updateDisplay),void 0===e.persistTextTrackSettings&&(r.Zyt.persistTextTrackSettings=r.Zyt.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),c.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.Zyt.persistTextTrackSettings&&r.restoreSettings(),r}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.ekt=function(t){var n=this,i=R[t],e=i.id.replace("%s",this.H_);return[(0,u.createEl)("label",{className:"vjs-label",textContent:i.label},{for:e}),(0,u.createEl)("select",{id:e},void 0,i.options.map(function(t){return(0,u.createEl)("option",{textContent:n.localize(t[1]),value:t[0]})}))]},n.prototype.rkt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Text")}),n=this.ekt("color"),i=(0,u.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.ekt("textOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.skt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Background")}),n=this.ekt("backgroundColor"),i=(0,u.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.ekt("backgroundOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.ukt=function(){var t=(0,u.createEl)("legend",{textContent:this.localize("Window")}),n=this.ekt("windowColor"),i=(0,u.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.ekt("windowOpacity"));return(0,u.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},n.prototype.okt=function(){return(0,u.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.rkt(),this.skt(),this.ukt()])},n.prototype.akt=function(){var t=(0,u.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.ekt("fontPercent")),n=(0,u.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.ekt("edgeStyle")),i=(0,u.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.ekt("fontFamily"));return(0,u.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},n.prototype.hkt=function(){var t=(0,u.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=(0,u.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,u.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},n.prototype.createEl=function(){var t=(0,u.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.okt(),this.akt(),this.hkt()]),n=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.H_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,u.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.H_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),e=(0,u.createEl)("div",void 0,{role:"document"},[n,i,t]);return(0,u.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},e)},n.prototype.getValues=function(){var t=this;return c.reduce(R,function(n,i,e){var r,s,u=(r=t.$(i.selector),s=i.parser,C(r.options[r.options.selectedIndex].value,s));return void 0!==u&&(n[e]=u),n},{})},n.prototype.setValues=function(t){var n=this;c.each(R,function(i,e){!function(t,n,i){if(n)for(var e=0;e<t.options.length;e++)if(C(t.options[e].value,i)===n){t.selectedIndex=e;break}}(n.$(i.selector),t[e],i.parser)})},n.prototype.setDefaults=function(){var t=this;c.each(R,function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i})},n.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(e.window.localStorage.getItem("vjs-text-track-settings"))}catch(t){l.default.warn(t)}t&&this.setValues(t)},n.prototype.saveSettings=function(){if(this.Zyt.persistTextTrackSettings){var t=this.getValues();try{w.keys(t).length?e.window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.window.localStorage.removeItem("vjs-text-track-settings")}catch(t){l.default.warn(t)}}},n.prototype.updateDisplay=function(){var t=this.yN.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(s.default);s.default.registerComponent("TextTrackSettings",D),i.default=D},{5:5,81:81,83:83,85:85,87:87,89:89}],72:[function(t,n,i){i.__esModule=!0;var e=t(67),r=T(e),s=t(83),u=A(s),o=t(73),a=t(87),h=T(a),c=t(85),f=t(75),d=T(f),g=t(93),m=t(122),y=T(m),p=t(88),_=T(p),b=t(78),k=A(b);function A(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var E=function(t,n){var i=new c.window.WebVTT.Parser(c.window,c.window.vttjs,c.window.WebVTT.StringDecoder()),e=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){e.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),e.length>0&&(c.window.console&&c.window.console.groupCollapsed&&c.window.console.groupCollapsed("Text Track parsing errors for "+n.src),e.forEach(function(t){return h.default.error(t)}),c.window.console&&c.window.console.groupEnd&&c.window.console.groupEnd()),i.flush()},I=function(t,n){var i={uri:t},e=(0,g.isCrossOrigin)(t);e&&(i.cors=e),(0,y.default)(i,u.bind(this,function(t,i,e){if(t)return h.default.error(t,i);if(n.wgt=!0,"function"!=typeof c.window.WebVTT){if(n.apt){var r=function(){return E(e,n)};n.apt.on("vttjsloaded",r),n.apt.on("vttjserror",function(){h.default.error("vttjs failed to load, stopping trying to process "+n.src),n.apt.off("vttjsloaded",r)})}}else E(e,n)}))},R=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n),!e.tech)throw new l("A tech was not provided.");var s=(0,_.default)(e,{kind:o.TextTrackKind[e.kind]||"subtitles",language:e.language||e.srclang||""}),a=o.TextTrackMode[s.mode]||"disabled",h=s.default;"metadata"!==s.kind&&"chapters"!==s.kind||(a="hidden");var c=i=S(this,t.call(this,s));if(c.apt=s.tech,k.IS_IE8)for(var f in n.prototype)"constructor"!==f&&(c[f]=n.prototype[f]);c.hg=[],c.cg=[];var d=new r.default(c.hg),g=new r.default(c.cg),m=!1,y=u.bind(c,function(){this.activeCues,m&&(this.trigger("cuechange"),m=!1)});return"disabled"!==a&&c.apt.ready(function(){c.apt.on("timeupdate",y)},!0),w.defineProperty(c,"default",{get:function(){return h},set:function(){}}),w.defineProperty(c,"mode",{get:function(){return a},set:function(t){var n=this;o.TextTrackMode[t]&&("showing"===(a=t)&&this.apt.ready(function(){n.apt.on("timeupdate",y)},!0),this.trigger("modechange"))}}),w.defineProperty(c,"cues",{get:function(){return this.wgt?d:null},set:function(){}}),w.defineProperty(c,"activeCues",{get:function(){if(!this.wgt)return null;if(0===this.cues.length)return g;for(var t=this.apt.currentTime(),n=[],i=0,e=this.cues.length;i<e;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?n.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&n.push(r)}if(m=!1,n.length!==this.cg.length)m=!0;else for(var s=0;s<n.length;s++)-1===this.cg.indexOf(n[s])&&(m=!0);return this.cg=n,g.nkt(this.cg),g},set:function(){}}),s.src?(c.src=s.src,I(s.src,c)):c.wgt=!0,S(i,c)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.addCue=function(t){var n=t;if(c.window.vttjs&&!(t instanceof c.window.vttjs.VTTCue)){for(var i in n=new c.window.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.ckt=t}var e=this.apt.textTracks();if(e)for(var r=0;r<e.length;r++)e[r]!==this&&e[r].removeCue(n);this.hg.push(n),this.cues.nkt(this.hg)},n.prototype.removeCue=function(t){for(var n=this.hg.length;n--;){var i=this.hg[n];if(i===t||i.ckt&&i.ckt===t){this.hg.splice(n,1),this.cues.nkt(this.hg);break}}},n}(d.default);R.prototype.ppt={cuechange:"cuechange"},i.default=R},{122:122,67:67,73:73,75:75,78:78,83:83,85:85,87:87,88:88,93:93}],73:[function(t,n,i){i.__esModule=!0,i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(t,n,i){i.__esModule=!0;var e,r=t(42),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var r=h(this,t.call(this));if(!e&&(e=r,o.IS_IE8))for(var s in e=a.document.createElement("custom"),n.prototype)"constructor"!==s&&(e[s]=n.prototype[s]);e.JA=[],w.defineProperty(e,"length",{get:function(){return this.JA.length}});for(var u=0;u<i.length;u++)e.E_(i[u]);return h(r,e)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(t){var n=this.JA.length;""+n in this||w.defineProperty(this,n,{get:function(){return this.JA[n]}}),-1===this.JA.indexOf(t)&&(this.JA.push(t),this.trigger({track:t,type:"addtrack"}))},n.prototype.I_=function(t){for(var n=void 0,i=0,e=this.length;i<e;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.JA.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},n.prototype.getTrackById=function(t){for(var n=null,i=0,e=this.length;i<e;i++){var r=this[i];if(r.id===t){n=r;break}}return n},n}(s.default);for(var f in c.prototype.ppt={change:"change",addtrack:"addtrack",removetrack:"removetrack"},c.prototype.ppt)c.prototype["on"+f]=null;i.default=c},{42:42,78:78,85:85}],75:[function(t,n,i){i.__esModule=!0;var e,r=t(78),s=f(r),u=t(85),o=t(86),a=f(o),h=t(42),c=(e=h)&&e.__esModule?e:{default:e};function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var d=function(t){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var e=l(this,t.call(this)),r=e;if(s.IS_IE8)for(var o in r=u.document.createElement("custom"),n.prototype)"constructor"!==o&&(r[o]=n.prototype[o]);var h={id:i.id||["vjs_track",a.newGUID()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},c=function(t){w.defineProperty(r,t,{get:function(){return h[t]},set:function(){}})};for(var f in h)c(f);return l(e,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(c.default);i.default=d},{42:42,78:78,85:85,86:86}],76:[function(t,n,i){i.__esModule=!0;var e,r=t(74),s=(e=r)&&e.__esModule?e:{default:e},u=t(78),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(85);function h(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var c=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},f=function(t){function n(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);for(var r=void 0,u=e.length-1;u>=0;u--)if(e[u].selected){c(e,e[u]);break}if(o.IS_IE8){for(var f in r=a.document.createElement("custom"),s.default.prototype)"constructor"!==f&&(r[f]=s.default.prototype[f]);for(var l in n.prototype)"constructor"!==l&&(r[l]=n.prototype[l])}return i=h(this,t.call(this,e,r)),(r=i).Jbt=!1,w.defineProperty(r,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(i,r)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n.prototype.E_=function(n){var i=this;n.selected&&c(this,n),t.prototype.E_.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",function(){i.Jbt||(i.Jbt=!0,c(i,n),i.Jbt=!1,i.trigger("change"))})},n.prototype.addTrack=function(t){this.E_(t)},n.prototype.removeTrack=function(n){t.prototype.I_.call(this,n)},n}(s.default);i.default=f},{74:74,78:78,85:85}],77:[function(t,n,i){i.__esModule=!0;var e=t(73),r=t(75),s=c(r),u=t(88),o=c(u),a=t(78),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(a);function c(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}var l=function(t){function n(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}(this,n);var s=(0,o.default)(r,{kind:e.VideoTrackKind[r.kind]||""}),u=i=f(this,t.call(this,s)),a=!1;if(h.IS_IE8)for(var c in n.prototype)"constructor"!==c&&(u[c]=n.prototype[c]);return w.defineProperty(u,"selected",{get:function(){return a},set:function(t){"boolean"==typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(u.selected=s.selected),f(i,u)}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function, not "+typeof n);t.prototype=w.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(w.setPrototypeOf?w.setPrototypeOf(t,n):t.__proto__=n)}(n,t),n}(s.default);i.default=l},{73:73,75:75,78:78,88:88}],78:[function(t,n,i){i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var e,r=t(81),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(r),u=t(85),o=u.window.navigator&&u.window.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),h=a?y(a.pop()):null,c=i.IS_IPAD=/iPad/i.test(o),f=i.IS_IPHONE=/iPhone/i.test(o)&&!c,l=i.IS_IPOD=/iPod/i.test(o),v=i.IS_IOS=f||c||l;i.IOS_VERSION=(e=o.match(/OS (\d+)_/i))&&e[1]?e[1]:null;var d=i.IS_ANDROID=/Android/i.test(o),g=i.ANDROID_VERSION=function(){var t=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&y(t[1]),i=t[2]&&y(t[2]);return n&&i?y(t[1]+"."+t[2]):n||null}();i.IS_OLD_ANDROID=d&&/webkit/i.test(o)&&g<2.3,i.IS_NATIVE_ANDROID=d&&g<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(o);var m,p,_=i.IS_EDGE=/Edge/i.test(o),b=i.IS_CHROME=!_&&/Chrome/i.test(o);i.CHROME_VERSION=function(){var t=o.match(/Chrome\/(\d+)/);return t&&t[1]?y(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(o),i.IE_VERSION=(m=/MSIE\s(\d+)\.\d/.exec(o),!(p=m&&y(m[1]))&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(p=11),p);var k=i.IS_SAFARI=/Safari/i.test(o)&&!b&&!d&&!_;i.IS_ANY_SAFARI=k||v,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u.window||u.window.DocumentTouch&&u.window.document instanceof u.window.DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u.window.document.createElement("video").style},{81:81,85:85}],79:[function(t,n,i){i.__esModule=!0,i.bufferedPercent=function(t,n){var i=0,r=void 0,s=void 0;if(!n)return 0;t&&t.length||(t=(0,e.createTimeRange)(0,0));for(var u=0;u<t.length;u++)r=t.start(u),(s=t.end(u))>n&&(s=n),i+=s-r;return i/n};var e=t(91)},{91:91}],80:[function(t,n,i){i.__esModule=!0,i.default=function(t,n){if(!t||!n)return"";if("function"==typeof e.window.getComputedStyle){var i=e.window.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""};var e=t(85)},{85:85}],81:[function(t,n,i){i.__esModule=!0,i.$$=i.$=void 0;var e,r=((e=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]).raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e);i.isReal=function(){return s.document===s.window.document&&void 0!==s.document.createElement},i.isEl=p,i.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),s.document.getElementById(t)},i.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3],u=s.document.createElement(t);return w.getOwnPropertyNames(n).forEach(function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(h.default.warn((0,f.default)(r,t,i)),u.setAttribute(t,i)):"textContent"===t?b(u,i):u[t]=i}),w.getOwnPropertyNames(i).forEach(function(t){u.setAttribute(t,i[t])}),e&&N(u,e),u},i.textContent=b,i.insertElFirst=function(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},i.getElData=function(t){var n=t[A];return n||(n=t[A]=o.newGUID()),k[n]||(k[n]={}),k[n]},i.hasElData=function(t){var n=t[A];return!!n&&!!w.getOwnPropertyNames(k[n]).length},i.removeElData=function(t){var n=t[A];if(n){delete k[n];try{delete t[A]}catch(n){t.removeAttribute?t.removeAttribute(A):t[A]=null}}},i.hasElClass=T,i.addElClass=S,i.removeElClass=E,i.toggleElClass=function(t,n,i){var e=T(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!e),i!==e)return i?S(t,n):E(t,n),t},i.setElAttributes=function(t,n){w.getOwnPropertyNames(n).forEach(function(i){var e=n[i];null==e||!1===e?t.removeAttribute(i):t.setAttribute(i,!0===e?"":e)})},i.getElAttributes=function(t){var n={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var e=t.attributes,r=e.length-1;r>=0;r--){var s=e[r].name,u=e[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(u=null!==u),n[s]=u}return n},i.getAttribute=function(t,n){return t.getAttribute(n)},i.setAttribute=function(t,n,i){t.setAttribute(n,i)},i.removeAttribute=function(t,n){t.removeAttribute(n)},i.blockTextSelection=function(){s.document.body.focus(),s.document.onselectstart=function(){return!1}},i.unblockTextSelection=function(){s.document.onselectstart=function(){return!0}},i.findElPosition=I,i.getPointerPosition=function(t,n){var i={},e=I(t),r=t.offsetWidth,s=t.offsetHeight,u=e.top,o=e.left,a=n.pageY,h=n.pageX;return n.changedTouches&&(h=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=g.max(0,g.min(1,(u-a+s)/s)),i.x=g.max(0,g.min(1,(h-o)/r)),i},i.isTextNode=R,i.emptyEl=C,i.normalizeContent=D,i.appendContent=N,i.insertContent=function(t,n){return N(C(t),n)};var s=t(85),u=t(86),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}(u),a=t(87),h=d(a),c=t(121),f=d(c),v=t(89);function d(t){return t&&t.__esModule?t:{default:t}}function m(t){return"string"==typeof t&&/\S/.test(t)}function y(t){if(/\s/.test(t))throw new l("class has illegal whitespace characters")}function p(t){return(0,v.isObject)(t)&&1===t.nodeType}function _(t){return function(n,i){if(!m(n))return s.document[t](null);m(i)&&(i=s.document.querySelector(i));var e=p(i)?i:s.document;return e[t]&&e[t](n)}}function b(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}var k={},A="vdata"+(new Date).getTime();function T(t,n){return y(n),t.classList?t.classList.contains(n):(i=n,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function S(t,n){return t.classList?t.classList.add(n):T(t,n)||(t.className=(t.className+" "+n).trim()),t}function E(t,n){return t.classList?t.classList.remove(n):(y(n),t.className=t.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),t}function I(t){var n=void 0;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=s.document.documentElement,e=s.document.body,r=i.clientLeft||e.clientLeft||0,u=s.window.pageXOffset||e.scrollLeft,o=n.left+u-r,a=i.clientTop||e.clientTop||0,h=s.window.pageYOffset||e.scrollTop,c=n.top+h-a;return{left:g.round(o),top:g.round(c)}}function R(t){return(0,v.isObject)(t)&&3===t.nodeType}function C(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function D(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),p(t)||R(t)?t:"string"==typeof t&&/\S/.test(t)?s.document.createTextNode(t):void 0}).filter(function(t){return t})}function N(t,n){return D(n).forEach(function(n){return t.appendChild(n)}),t}i.$=_("querySelector"),i.$$=_("querySelectorAll")},{121:121,85:85,86:86,87:87,89:89}],82:[function(t,n,i){i.__esModule=!0,i.fixEvent=d,i.on=y,i.off=p,i.trigger=function t(n,i,e){var r=s.hasElData(n)?s.getElData(n):{},u=n.parentNode||n.ownerDocument;if("string"==typeof i&&(i={type:i,target:n}),i=d(i),r.dispatcher&&r.dispatcher.call(n,i,e),u&&!i.isPropagationStopped()&&!0===i.bubbles)t.call(null,u,i,e);else if(!u&&!i.defaultPrevented){var o=s.getElData(i.target);i.target[i.type]&&(o.disabled=!0,"function"==typeof i.target[i.type]&&i.target[i.type](),o.disabled=!1)}return!i.defaultPrevented},i.one=function t(n,i,e){if(Array.isArray(i))return v(t,n,i,e);var r=function t(){p(n,i,t),e.apply(this,arguments)};r.guid=e.guid=e.guid||o.newGUID(),y(n,i,r)};var e,r=t(81),s=f(r),u=t(86),o=f(u),a=t(87),h=(e=a)&&e.__esModule?e:{default:e},c=t(85);function f(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function l(t,n){var i=s.getElData(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),w.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===w.getOwnPropertyNames(i).length&&s.removeElData(t)}function v(t,n,i,e){i.forEach(function(i){t(n,i,e)})}function d(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var e=t||c.window.event;for(var r in t={},e)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&e.preventDefault||(t[r]=e[r]));if(t.target||(t.target=t.srcElement||c.document),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,e.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,e.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var s=c.document.documentElement,u=c.document.body;t.pageX=t.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var g=!1;!function(){try{var t=w.defineProperty({},"passive",{get:function(){g=!0}});c.window.addEventListener("test",null,t)}catch(t){}}();var m=["touchstart","touchmove"];function y(t,n,i){if(Array.isArray(n))return v(y,t,n,i);var e=s.getElData(t);if(e.handlers||(e.handlers={}),e.handlers[n]||(e.handlers[n]=[]),i.guid||(i.guid=o.newGUID()),e.handlers[n].push(i),e.dispatcher||(e.disabled=!1,e.dispatcher=function(n,i){if(!e.disabled){n=d(n);var r=e.handlers[n.type];if(r)for(var s=r.slice(0),u=0,o=s.length;u<o&&!n.isImmediatePropagationStopped();u++)try{s[u].call(t,n,i)}catch(t){h.default.error(t)}}}),1===e.handlers[n].length)if(t.addEventListener){var r=!1;g&&m.indexOf(n)>-1&&(r={passive:!0}),t.addEventListener(n,e.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+n,e.dispatcher)}function p(t,n,i){if(s.hasElData(t)){var e=s.getElData(t);if(e.handlers){if(Array.isArray(n))return v(p,t,n,i);var r=function(n){e.handlers[n]=[],l(t,n)};if(n){var u=e.handlers[n];if(u)if(i){if(i.guid)for(var o=0;o<u.length;o++)u[o].guid===i.guid&&u.splice(o--,1);l(t,n)}else r(n)}else for(var a in e.handlers)r(a)}}}},{81:81,85:85,86:86,87:87}],83:[function(t,n,i){i.__esModule=!0,i.throttle=i.bind=void 0;var e=t(86);i.bind=function(t,n,i){n.guid||(n.guid=(0,e.newGUID)());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r},i.throttle=function(t,n){var i=Date.now();return function(){var e=Date.now();e-i>=n&&(t.apply(void 0,arguments),i=e)}}},{86:86}],84:[function(t,n,i){i.__esModule=!0,i.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=g.floor(t%60),e=g.floor(t/60%60),r=g.floor(t/3600),s=g.floor(n/60%60),u=g.floor(n/3600);return(p(t)||t===1/0)&&(r=e=i="-"),(r=r>0||u>0?r+":":"")+(e=((r||s>=10)&&e<10?"0"+e:e)+":")+(i=i<10?"0"+i:i)}},{}],85:[function(n,i,e){(function(n){e.__esModule=!0;var i=void 0!==r?r:void 0!==n?n:void 0!==t?t:{},u=void 0!==s?s:{createElement:function(){}};e.window=i,e.document=u}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],86:[function(t,n,i){i.__esModule=!0,i.newGUID=function(){return e++};var e=1},{}],87:[function(t,n,i){i.__esModule=!0,i.logByType=void 0;var e=t(85),r=t(78),s=t(89),u=void 0,o=i.logByType=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!r.IE_VERSION&&r.IE_VERSION<11;"log"!==t&&n.unshift(t.toUpperCase()+":"),u.history.push(n),n.unshift("VIDEOJS:");var o=e.window.console&&e.window.console[t];o&&(i&&(n=n.map(function(t){if((0,s.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)}).join(" ")),o.apply?o[Array.isArray(n)?"apply":"call"](e.window.console,n):o(n))};(u=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];o("log",n)}).history=[],u.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("error",n)},u.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return o("warn",n)},i.default=u},{78:78,85:85,89:89}],88:[function(t,n,i){i.__esModule=!0,i.default=function t(){for(var n={},i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.forEach(function(i){i&&(0,e.each)(i,function(i,r){(0,e.isPlain)(i)?((0,e.isPlain)(n[r])||(n[r]={}),n[r]=t(n[r],i)):n[r]=i})}),n};var e=t(89)},{89:89}],89:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=u,i.reduce=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s(t).reduce(function(i,e){return n(i,t[e],e)},i)},i.assign=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];return w.assign?w.assign.apply(w,[t].concat(i)):(i.forEach(function(n){n&&u(n,function(n,i){t[i]=n})}),t)},i.isObject=o,i.isPlain=function(t){return o(t)&&"[object Object]"===r.call(t)&&t.constructor===w};var r=w.prototype.toString,s=function(t){return o(t)?w.keys(t):[]};function u(t,n){s(t).forEach(function(i){return n(t[i],i)})}function o(t){return!!t&&"object"===(void 0===t?"undefined":e(t))}},{}],90:[function(t,n,i){i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var e=t(85);i.createStyleElement=function(t){var n=e.document.createElement("style");return n.className=t,n},i.setTextContent=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n}},{85:85}],91:[function(t,n,i){i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var e,r=t(87),s=(e=r)&&e.__esModule?e:{default:e};function u(t,n,i,e){return void 0===e&&(s.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),e=0),function(t,n,i){if(n<0||n>i)throw new l("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,e,i.length-1),i[e][n]}function o(t){return void 0===t||0===t.length?{length:0,start:function(){throw new l("This TimeRanges object is empty")},end:function(){throw new l("This TimeRanges object is empty")}}:{length:t.length,start:u.bind(null,"start",0,t),end:u.bind(null,"end",1,t)}}function a(t,n){return Array.isArray(t)?o(t):void 0===t||void 0===n?o():o([[t,n]])}i.createTimeRange=a},{87:87}],92:[function(t,n,i){i.__esModule=!0,i.default=function(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}},{}],93:[function(t,n,i){i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var e=t(85),r=i.parseUrl=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=e.document.createElement("a");i.href=t;var r=""===i.host&&"file:"!==i.protocol,s=void 0;r&&((s=e.document.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),e.document.body.appendChild(s));for(var u={},o=0;o<n.length;o++)u[n[o]]=i[n[o]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),r&&e.document.body.removeChild(s),u};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var n=e.document.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var n=e.window.location,i=r(t),s=":"===i.protocol?n.protocol:i.protocol,u=s+i.host!==n.protocol+n.host;return u}},{85:85}],94:[function(t,n,i){i.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=t(85),s=t(78),u=K(s),o=t(81),a=K(o),h=t(56),c=K(h),f=t(90),l=K(f),d=t(5),g=Z(d),m=t(42),y=Z(m),p=t(82),_=K(p),b=t(51),k=Z(b),A=t(52),T=Z(A),S=t(88),E=Z(S),I=t(83),R=K(I),C=t(72),D=Z(C),N=t(64),P=Z(N),x=t(77),B=Z(x),O=t(91),L=t(84),M=Z(L),j=t(87),F=Z(j),U=t(93),H=K(U),X=t(89),z=t(80),V=Z(z),W=t(43),q=Z(W),G=t(122),$=Z(G),Y=t(62),Q=Z(Y);function Z(t){return t&&t.__esModule?t:{default:t}}function K(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var i in t)w.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n}function J(t,n,i){var e=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),J.getPlayers()[t])return n&&F.default.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&J.getPlayers()[t].ready(i),J.getPlayers()[t];e=a.getEl(t)}else e=t;if(!e||!e.nodeName)throw new v("The element or ID supplied is not valid. (videojs)");if(e.player||k.default.players[e.playerId])return e.player||k.default.players[e.playerId];n=n||{},J.hooks("beforesetup").forEach(function(t){var i=t(e,(0,E.default)(n));(0,X.isObject)(i)&&!Array.isArray(i)?n=(0,E.default)(n,i):F.default.error("please return an object in beforesetup hooks")});var r=g.default.getComponent("Player"),s=new r(e,n,i);return J.hooks("setup").forEach(function(t){return t(s)}),s}if("undefined"==typeof HTMLVideoElement&&a.isReal()&&(r.document.createElement("video"),r.document.createElement("audio"),r.document.createElement("track")),J.fkt={},J.hooks=function(t,n){return J.fkt[t]=J.fkt[t]||[],n&&(J.fkt[t]=J.fkt[t].concat(n)),J.fkt[t]},J.hook=function(t,n){J.hooks(t,n)},J.removeHook=function(t,n){var i=J.hooks(t).indexOf(n);return!(i<=-1||(J.fkt[t]=J.fkt[t].slice(),J.fkt[t].splice(i,1),0))},!0!==r.window.VIDEOJS_NO_DYNAMIC_STYLE&&a.isReal()){var tt=a.$(".vjs-styles-defaults");if(!tt){tt=l.createStyleElement("vjs-styles-defaults");var nt=a.$("head");nt&&nt.insertBefore(tt,nt.firstChild),l.setTextContent(tt,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}c.autoSetupTimeout(1,J),J.VERSION="5.20.6-opentelly.7",J.options=k.default.prototype.Zyt,J.getPlayers=function(){return k.default.players},J.players=k.default.players,J.getComponent=g.default.getComponent,J.registerComponent=function(t,n){Q.default.isTech(n)&&F.default.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),g.default.registerComponent.call(g.default,t,n)},J.getTech=Q.default.getTech,J.registerTech=Q.default.registerTech,J.browser=u,J.TOUCH_ENABLED=u.TOUCH_ENABLED,J.extend=q.default,J.mergeOptions=E.default,J.bind=R.bind,J.plugin=T.default,J.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),J.options.languages=(0,E.default)(J.options.languages,((i={})[t]=n,i)),J.options.languages[t]},J.log=F.default,J.createTimeRange=J.createTimeRanges=O.createTimeRanges,J.formatTime=M.default,J.parseUrl=H.parseUrl,J.isCrossOrigin=H.isCrossOrigin,J.EventTarget=y.default,J.on=_.on,J.one=_.one,J.off=_.off,J.trigger=_.trigger,J.xhr=$.default,J.TextTrack=D.default,J.AudioTrack=P.default,J.VideoTrack=B.default,J.isEl=a.isEl,J.isTextNode=a.isTextNode,J.createEl=a.createEl,J.hasClass=a.hasElClass,J.addClass=a.addElClass,J.removeClass=a.removeElClass,J.toggleClass=a.toggleElClass,J.setAttributes=a.setElAttributes,J.getAttributes=a.getElAttributes,J.emptyEl=a.emptyEl,J.appendContent=a.appendContent,J.insertContent=a.insertContent,J.computedStyle=V.default,"object"===(void 0===i?"undefined":e(i))&&"object"===(void 0===n?"undefined":e(n))&&(n.exports=J),i.default=J},{122:122,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,85:85,87:87,88:88,89:89,90:90,91:91,93:93}],95:[function(t,n,i){var e=t(113),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=w.prototype.toString,u=Array.prototype.concat,o=w.defineProperty,a=o&&function(){var t={};try{for(var n in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),h=function(t,n,i,e){var r;n in t&&("function"!=typeof(r=e)||"[object Function]"!==s.call(r)||!e())||(a?o(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},c=function(t,n){var i=arguments.length>2?arguments[2]:{},s=e(n);r&&(s=u.call(s,w.getOwnPropertySymbols(n)));for(var o=0;o<s.length;o+=1)h(t,s[o],n[s[o]],i[s[o]])};c.supportsDescriptors=!!a,n.exports=c},{113:113}],96:[function(t,n,i){var e=w.getOwnPropertyDescriptor?function(){return w.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new v},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=w.getPrototypeOf||function(t){return t.__proto__},u=void 0===_?void 0:s(_),o={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":l,"$ %ErrorPrototype%":l.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":p,"$ %IteratorPrototype%":r?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&r?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":g,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":w,"$ %ObjectPrototype%":w.prototype,"$ %ObjProto_toString%":w.prototype.toString,"$ %ObjProto_valueOf%":w.prototype.valueOf,"$ %parseFloat%":y,"$ %parseInt%":m,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&r?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":r?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":r?Symbol:void 0,"$ %SymbolPrototype%":r?Symbol.prototype:void 0,"$ %SyntaxError%":d,"$ %SyntaxErrorPrototype%":d.prototype,"$ %ThrowTypeError%":e,"$ %TypedArray%":u,"$ %TypedArrayPrototype%":u?u.prototype:void 0,"$ %TypeError%":v,"$ %TypeErrorPrototype%":v.prototype,"$ %Uint8Array%":void 0===_?void 0:_,"$ %Uint8ArrayPrototype%":void 0===_?void 0:_.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};n.exports=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new v('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in o))throw new d("intrinsic "+t+" does not exist!");if(void 0===o[i]&&!n)throw new v("intrinsic "+t+" exists, but is not available. Please file an issue!");return o[i]}},{}],97:[function(t,n,i){var e=t(96),r=e("%Object%"),s=e("%TypeError%"),u=e("%String%"),o=t(98),a=t(100),h=t(99),c=t(102),f=t(101),l=t(110),d=t(103),w=t(109),m={ToPrimitive:d,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return a(n)?0:0!==n&&h(n)?c(n)*g.floor(g.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(a(n)||0===n||!h(n))return 0;var i=c(n)*g.floor(g.abs(n));return f(i,65536)},ToString:function(t){return u(t)},ToObject:function(t){return this.CheckObjectCoercible(t),r(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new s(n||"Cannot call method on "+t);return t},IsCallable:l,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:a(t)&&a(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(w(t,i)&&!n[i])return!1;var e=w(t,"[[Value]]"),r=w(t,"[[Get]]")||w(t,"[[Set]]");if(e&&r)throw new s("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Get]]")&&!w(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!(!w(t,"[[Value]]")&&!w(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(o(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(o(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new s("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new s("ToPropertyDescriptor requires an object");var n={};if(w(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),w(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),w(t,"value")&&(n["[[Value]]"]=t.value),w(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),w(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new v("getter must be a function");n["[[Get]]"]=i}if(w(t,"set")){var e=t.set;if(void 0!==e&&!this.IsCallable(e))throw new s("setter must be a function");n["[[Set]]"]=e}if((w(n,"[[Get]]")||w(n,"[[Set]]"))&&(w(n,"[[Value]]")||w(n,"[[Writable]]")))throw new s("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}};n.exports=m},{100:100,101:101,102:102,103:103,109:109,110:110,96:96,98:98,99:99}],98:[function(t,n,i){var e=t(96),r=e("%TypeError%"),s=e("%SyntaxError%"),u=t(109),o={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var e in n)if(u(n,e)&&!i[e])return!1;var s=u(n,"[[Value]]"),o=u(n,"[[Get]]")||u(n,"[[Set]]");if(s&&o)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0}};n.exports=function(t,n,i,e){var u=o[n];if("function"!=typeof u)throw new s("unknown record type: "+n);if(!u(t,e))throw new r(i+" must be a "+n);console.log(u(t,e),e)}},{109:109,96:96}],99:[function(t,n,i){var e=Number.isNaN||function(t){return t!=t};n.exports=Number.isFinite||function(t){return"number"==typeof t&&!e(t)&&t!==1/0&&t!==-1/0}},{}],100:[function(t,n,i){n.exports=Number.isNaN||function(t){return t!=t}},{}],101:[function(t,n,i){n.exports=function(t,n){var i=t%n;return g.floor(i>=0?i:i+n)}},{}],102:[function(t,n,i){n.exports=function(t){return t>=0?1:-1}},{}],103:[function(t,n,i){var e=w.prototype.toString,r=t(104),s=t(110),u={"[[DefaultValue]]":function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===e.call(t)?String:Number)===String||n===Number){var i,u,o=n===String?["toString","valueOf"]:["valueOf","toString"];for(u=0;u<o.length;++u)if(s(t[o[u]])&&(i=t[o[u]](),r(i)))return i;throw new v("No default value")}throw new v("invalid [[DefaultValue]] hint supplied")}};n.exports=function(t){return r(t)?t:arguments.length>1?u["[[DefaultValue]]"](t,arguments[1]):u["[[DefaultValue]]"](t)}},{104:104,110:110}],104:[function(t,n,i){n.exports=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}},{}],105:[function(t,n,i){var e=t(110),r=w.prototype.toString,s=w.prototype.hasOwnProperty;n.exports=function(t,n,i){if(!e(n))throw new v("iterator must be a function");var u;arguments.length>=3&&(u=i),"[object Array]"===r.call(t)?function(t,n,i){for(var e=0,r=t.length;e<r;e++)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u):"string"==typeof t?function(t,n,i){for(var e=0,r=t.length;e<r;e++)null==i?n(t.charAt(e),e,t):n.call(i,t.charAt(e),e,t)}(t,n,u):function(t,n,i){for(var e in t)s.call(t,e)&&(null==i?n(t[e],e,t):n.call(i,t[e],e,t))}(t,n,u)}},{110:110}],106:[function(t,n,i){var e=Array.prototype.slice,r=w.prototype.toString;n.exports=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new v("Function.prototype.bind called on incompatible "+n);for(var i,s=e.call(arguments,1),u=g.max(0,n.length-s.length),o=[],a=0;a<u;a++)o.push("$"+a);if(i=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var r=n.apply(this,s.concat(e.call(arguments)));return w(r)===r?r:this}return n.apply(t,s.concat(e.call(arguments)))}),n.prototype){var h=function(){};h.prototype=n.prototype,i.prototype=new h,h.prototype=null}return i}},{}],107:[function(t,n,i){var e=t(106);n.exports=Function.prototype.bind||e},{106:106}],108:[function(n,i,e){(function(n){i.exports=void 0!==r?r:void 0!==n?n:void 0!==t?t:{}}).call(this,void 0!==Lr?Lr:void 0!==t?t:void 0!==r?r:{})},{}],109:[function(t,n,i){var e=t(107);n.exports=e.call(Function.call,w.prototype.hasOwnProperty)},{107:107}],110:[function(t,n,i){var e=Function.prototype.toString,r=/^\s*class\b/,s=function(t){try{var n=e.call(t);return r.test(n)}catch(t){return!1}},u=w.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;n.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(o)return function(t){try{return!s(t)&&(e.call(t),!0)}catch(t){return!1}}(t);if(s(t))return!1;var n=u.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n}},{}],111:[function(t,n,i){n.exports=function(t){var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==r&&(t===r.setTimeout||t===r.alert||t===r.confirm||t===r.prompt)};var e=w.prototype.toString},{}],112:[function(t,n,i){var e;if(!w.keys){var s=w.prototype.hasOwnProperty,u=w.prototype.toString,o=t(114),a=w.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(t){var n=t.constructor;return n&&n.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(void 0===r)return!1;for(var t in r)try{if(!d["$"+t]&&s.call(r,t)&&null!==r[t]&&"object"==typeof r[t])try{l(r[t])}catch(t){return!0}}catch(t){return!0}return!1}();e=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===u.call(t),e=o(t),a=n&&"[object String]"===u.call(t),d=[];if(!n&&!i&&!e)throw new v("Object.keys called on a non-object");var w=c&&i;if(a&&t.length>0&&!s.call(t,0))for(var m=0;m<t.length;++m)d.push(String(m));if(e&&t.length>0)for(var y=0;y<t.length;++y)d.push(String(y));else for(var p in t)w&&"prototype"===p||!s.call(t,p)||d.push(String(p));if(h)for(var _=function(t){if(void 0===r||!g)return l(t);try{return l(t)}catch(t){return!1}}(t),b=0;b<f.length;++b)_&&"constructor"===f[b]||!s.call(t,f[b])||d.push(f[b]);return d}}n.exports=e},{114:114}],113:[function(t,n,i){var e=Array.prototype.slice,r=t(114),s=w.keys,u=s?function(t){return s(t)}:t(112),o=w.keys;u.shim=function(){if(w.keys){var t=function(){var t=w.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(w.keys=function(t){return r(t)?o(e.call(t)):o(t)})}else w.keys=u;return w.keys||u},n.exports=u},{112:112,114:114}],114:[function(t,n,i){var e=w.prototype.toString;n.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},{}],115:[function(t,n,i){var e=t(118),r=t(105);n.exports=function(t){if(!t)return{};var n={};return r(e(t).split("\n"),function(t){var i,r=t.indexOf(":"),s=e(t.slice(0,r)).toLowerCase(),u=e(t.slice(r+1));void 0===n[s]?n[s]=u:(i=n[s],"[object Array]"===w.prototype.toString.call(i)?n[s].push(u):n[s]=[n[s],u])}),n}},{105:105,118:118}],116:[function(t,n,i){n.exports=function(t,n){var i,e=null;try{i=JSON.parse(t,n)}catch(t){e=t}return[e,i]}},{}],117:[function(t,n,i){var e=t(107),r=t(97),s=e.call(Function.call,String.prototype.replace),u=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,o=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;n.exports=function(){var t=r.ToString(r.CheckObjectCoercible(this));return s(s(t,u,""),o,"")}},{107:107,97:97}],118:[function(t,n,i){var e=t(107),r=t(95),s=t(117),u=t(119),o=t(120),a=e.call(Function.call,u());r(a,{getPolyfill:u,implementation:s,shim:o}),n.exports=a},{107:107,117:117,119:119,120:120,95:95}],119:[function(t,n,i){var e=t(117);n.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:e}},{117:117}],120:[function(t,n,i){var e=t(95),r=t(119);n.exports=function(){var t=r();return e(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},{119:119,95:95}],121:[function(t,n,i){function e(t){return t.replace(/\n\r?\s*/g,"")}n.exports=function(t){for(var n="",i=0;i<arguments.length;i++)n+=e(t[i])+(arguments[i+1]||"");return n}},{}],122:[function(t,n,i){var e=t(108),r=t(111),s=t(115),u=t(123);function o(t,n,i){var e=t;return r(n)?(i=n,"string"==typeof t&&(e={uri:t})):e=u(n,{uri:t}),e.callback=i,e}function c(t,n,i){return f(n=o(t,n,i))}function f(t){if(void 0===t.callback)throw new l("callback argument missing");var n=!1,i=function(i,e,r){n||(n=!0,t.callback(i,e,r))};function e(){var t=void 0;if(t=d.response?d.response:d.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||n?null:t.responseXML}(d),b)try{t=JSON.parse(t)}catch(t){}return t}var r={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:d};function u(t){return h(w),t instanceof l||(t=new l(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,r)}function o(){if(!v){var n;h(w),n=t.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var u=r,o=null;return 0!==n?(u={body:e(),statusCode:n,method:m,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(u.headers=s(d.getAllResponseHeaders()))):o=new l("Internal XMLHttpRequest Error"),i(o,u,u.body)}}var f,v,d=t.xhr||null;d||(d=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var w,g=d.url=t.uri||t.url,m=d.method=t.method||"GET",y=t.body||t.data||null,p=d.headers=t.headers||{},_=!!t.sync,b=!1;if("json"in t&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),y=JSON.stringify(t.json))),d.onreadystatechange=function(){4===d.readyState&&o()},d.onload=o,d.onerror=u,d.onprogress=function(){},d.ontimeout=u,d.open(m,g,!_,t.username,t.password),_||(d.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(w=a(function(){v=!0,d.abort("timeout");var t=new l("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)},t.timeout)),d.setRequestHeader)for(f in p)p.hasOwnProperty(f)&&d.setRequestHeader(f,p[f]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new l("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(y),d}n.exports=c,c.XMLHttpRequest=e.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:e.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(n,i,e){return(i=o(n,i,e)).method=t.toUpperCase(),f(i)}})},{108:108,111:111,115:115,123:123}],123:[function(t,n,i){n.exports=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)e.call(i,r)&&(t[r]=i[r])}return t};var e=w.prototype.hasOwnProperty},{}]},{},[94])(94)),DY=10,NY=60;function PY(t){return t.duration()===1/0}function xY(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function BY(t){var n=MY(t);return PY(t)?n.end(n.length-1):n.start(0)}function OY(t){return MY(t).start(0)}function LY(t){var n=MY(t);return n.end(n.length-1)-n.start(0)}function MY(t){var n=t.seekable();if(n&&n.length)return n;var i=t.duration();return i=isFinite(i)?i:0,new lE([0,i]).tN()}function jY(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=g.abs(t);var e=g.floor(t%60),r=g.floor(t/60%60),s=g.floor(t/3600),u=g.floor(n/60%60),o=g.floor(n/3600);return(p(t)||t===1/0)&&(s=r=e="-"),i+(s=s>0||o>0?s+":":"")+(r=((s||u>=10)&&r<10?"0"+r:r)+":")+(e=e<10?"0"+e:e)}function FY(){var t=xY(this);this.toggleClass("theo-at-live",function(t,n){if(PY(t)){var i=MY(t);return i.end(i.length-1)-n<DY}return!1}(this,t)),this.toggleClass("theo-dvr",function(t){return PY(t)&&LY(t)>=NY}(this))}!function(t){t.lkt="theo",t.vkt="google-ima",t.dkt="google-dai",t.wkt="freewheel"}(IY||(IY={}));var UY="theo-ad-playing",HY="theo-dai-ad-playing";function XY(t,n){var i=function(n){var i,e=(null==(i=n.ad)?void 0:i.integration)===IY.dkt;!function(t,n,i){var e="adbreakbegin"===n;t.toggleClass(UY,e),i?t.toggleClass(HY,e):t.toggleClass(HY,!1)}(t,n.type,e)};n&&(n.ads&&(n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i),n.addEventListener("sourcechange",i)),n.verizonMedia&&n.verizonMedia.ads.adBreaks.addEventListener("addadbreak",function(t){t.adBreak.addEventListener("adbreakbegin",i),t.adBreak.addEventListener("adbreakend",i)}))}function zY(){this.userActive(!1)}var VY,WY=function(t,n){this.type=void 0,this.target=void 0,this.playerEvent=void 0,this.type=t.type,this.target=n,this.playerEvent=t};!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(VY||(VY={}));var qY=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],GY=CY.getTech("Tech"),$Y=CY.getTech("Html5"),YY=function(t){function n(n,i){var e;void 0===n&&(n={}),(e=t.call(this,n,i)||this).gkt=void 0,e.mkt=function(t){return e.js(t)},e.ykt=!1,e.GU=function(){e.js(new gp(e.gkt.currentTime,e.gkt.readyState)),e.js(new BD)},e.pkt=function(t){e.textTracks().E_(t.track)},e._kt=function(t){e.audioTracks().E_(t.track)},e.bkt=function(t){e.textTracks().I_(t.track)},e.kkt=function(t){e.audioTracks().I_(t.track)},e.Akt=function(){var t=e.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.Tkt=function(){var t=e.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.Skt=function(){if(e.supportsFullScreen()){var t=e.ykt,n=e.gkt.presentation.currentMode===PE.FULLSCREEN;t!==n&&(e.ykt=n,e.trigger("fullscreenchange",{isFullscreen:n}))}},e.Sc=function(){var t=e.gkt.error,n=t&&t.code||-1,i=t&&t.message||"An unknown error occurred.";e.error({code:n,message:e.localize(i)})},e.gkt=e.Zyt.player,e.Ekt();var r=!e.paused();return r&&e.pause(),n.preload&&e.setPreload(n.preload),n.autoplay&&e.setAutoplay(n.autoplay),n.muted&&e.setMuted(n.muted),n.source?e.setSrc(n.source):e.Cbt(),r&&e.ready(function(){return e.play()}),e.triggerReady(),e}E(n,t);var i=n.prototype;return i.Ekt=function(){for(var t=0;t<qY.length;t++){var n=qY[t];this.gkt.addEventListener(n,this.mkt)}this.gkt.addEventListener("error",this.Sc),this.gkt.addEventListener("contentprotectionerror",this.Sc),this.gkt.addEventListener("sourcechange",this.GU),this.gkt.presentation.addEventListener("presentationmodechange",this.Skt),this.gkt.textTracks.addEventListener("addtrack",this.pkt),this.gkt.textTracks.addEventListener("removetrack",this.bkt),this.gkt.textTracks.addEventListener("change",this.Akt),this.gkt.audioTracks.addEventListener("addtrack",this._kt),this.gkt.audioTracks.addEventListener("removetrack",this.kkt),this.gkt.audioTracks.addEventListener("change",this.Tkt)},i.Ikt=function(){for(var t=0;t<qY.length;t++){var n=qY[t];this.gkt.removeEventListener(n,this.mkt)}this.gkt.removeEventListener("error",this.Sc),this.gkt.removeEventListener("contentprotectionerror",this.Sc),this.gkt.removeEventListener("sourcechange",this.GU),this.gkt.presentation.removeEventListener("presentationmodechange",this.Skt),this.gkt.textTracks.removeEventListener("addtrack",this.pkt),this.gkt.textTracks.removeEventListener("removetrack",this.bkt),this.gkt.textTracks.removeEventListener("change",this.Akt),this.gkt.audioTracks.removeEventListener("addtrack",this._kt),this.gkt.audioTracks.removeEventListener("removetrack",this.kkt),this.gkt.audioTracks.removeEventListener("change",this.Tkt)},i.js=function(t){this.trigger(new WY(t,this))},i.createEl=function(){var t=this.Zyt,n=t.player;if(!n)throw new l(this.localize('Missing required tech option "player"'));var i=n.element;return CY.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.gkt},i.addTextTrack=function(n,i,e){return t.prototype.addTextTrack.call(this,n,i,e)},i.buffered=function(){return this.gkt.buffered},i.played=function(){return this.gkt.played},i.reset=function(){this.gkt.stop()},i.play=function(){this.gkt.play()},i.pause=function(){this.gkt.pause()},i.paused=function(){return this.gkt.paused},i.currentTime=function(){return this.gkt.currentTime},i.setCurrentTime=function(t){this.gkt.currentTime=t},i.duration=function(){return this.gkt.duration},i.volume=function(){return this.gkt.volume},i.setVolume=function(t){this.gkt.volume=t},i.muted=function(){return this.gkt.muted},i.setMuted=function(t){this.gkt.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.gkt.src)return this.gkt.src;if(this.gkt.source){if(!fI(this.gkt.source.ads))return this.gkt.source.ads[0].sources;if(function(t){if(t.sources)if(z(t.sources))for(var n=0,i=t.sources;n<i.length;n++){var e=i[n];if(!G(e)&&"verizon-media"===e.integration)return!0}else if(!G(t.sources))return"verizon-media"===t.sources.integration;return!1}(this.gkt.source))return"This source is managed by the Verizon Media integration extension.";if(function(t){if(t.sources)if(z(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(rp(i[n]))return!0}else if(W(t.sources))return rp(t.sources);return!1}(this.gkt.source))return"This source is managed by the DAI integration extension."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.mu=null,this.trigger("error")},i.currentSrc=function(){return this.gkt.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.gkt.preload},i.setPreload=function(t){this.gkt.preload=t},i.autoplay=function(){return this.gkt.autoplay},i.setAutoplay=function(t){this.gkt.autoplay=!!t},i.seeking=function(){return this.gkt.seeking},i.seekable=function(){return this.gkt.seekable},i.ended=function(){return this.gkt.ended},i.playbackRate=function(){return this.gkt.playbackRate},i.setPlaybackRate=function(t){this.gkt.playbackRate=t},i.readyState=function(){return this.gkt.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.gkt.videoHeight},i.videoWidth=function(){return this.gkt.videoWidth},i.supportsFullScreen=function(){return this.gkt.presentation.supportsMode(PE.FULLSCREEN)},i.enterFullScreen=function(){this.gkt.presentation.requestMode(PE.FULLSCREEN)},i.exitFullScreen=function(){this.gkt.presentation.requestMode(PE.INLINE)},i.Rkt=function(){var t=this.gkt.ads;if(t&&t.playing)return!0;var n=this.gkt.vr;return!(!n||n.state===S$.iyt)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",function(t){n.Rkt()&&(t.preventDefault=function(){})}),t.prototype.initTextTrackListeners.call(this)},i.Cbt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,e=function(){i=!0};this.on("loadstart",e);var r=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){t.off("loadstart",e),t.off("loadedmetadata",r),i||t.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),n>=2&&s.push("loadeddata"),n>=3&&s.push("canplay"),n>=4&&s.push("canplaythrough"),this.ready(function(){for(var n=0;n<s.length;n++){var i=s[n];t.trigger(i)}})}},i.dispose=function(){this.Ikt(),this.gkt=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},T(n,[{key:"featuresVolumeControl",get:function(){return br}}]),n}(GY);function QY(t){return function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ckt=void 0,n}return E(n,t),n.prototype.dispose=function(){this.Ckt=void 0,t.prototype.dispose.call(this)},T(n,[{key:"gkt",get:function(){return this.Ckt||(this.Ckt=this.player().tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.Ckt}}]),n}(t)}YY.prototype.featuresFullscreenResize=$Y.prototype.featuresFullscreenResize,YY.prototype.featuresPlaybackRate=$Y.prototype.featuresPlaybackRate,YY.prototype.featuresProgressEvents=!0,YY.prototype.featuresTimeupdateEvents=!0,YY.prototype.featuresNativeTextTracks=!0,CY.registerTech("THEOplayer",YY);var ZY=function(t){var n=this;this.bN=void 0,this.Dkt=function(t){sr(n.bN,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.Nkt=function(t){ur(n.bN,"theo-mobile-button-hover")},this.Pkt=function(t){n.bN.blur()},this.bN=t,t.addEventListener("touchstart",this.Dkt),t.addEventListener("touchend",this.Nkt),t.addEventListener("focusin",this.Pkt)},KY=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.xkt=function(){sr(this.Bkt,"theo-menu-opened")},i.qh=function(){ur(this.Bkt,"theo-menu-opened")},T(n,[{key:"Bkt",get:function(){return this.player().el()}}]),n}(QY(CY.getComponent("Menu"))),JY=function(t){function n(n,e,r){var s;return(s=t.call(this,n,Ur({selectable:!0},e))||this).Okt=void 0,s.Lkt=!1,s.Dkt=function(t){sr(s.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},s.Nkt=function(t){ur(s.el(),"theo-mobile-menu-item-hover")},s.Okt=r,i.Lr.dn&&(s.el().addEventListener("touchstart",s.Dkt),s.el().addEventListener("touchend",s.Nkt)),s}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},e.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},e.handleClick=function(t){this.Lkt||(this.parentMenu.Mkt(this),"tap"!==t.type&&"keydown"!==t.type||(this.Lkt=!0,this.trigger("click"),this.Lkt=!1))},e.dispose=function(){i.Lr.dn&&(this.el().removeEventListener("touchstart",this.Dkt),this.el().removeEventListener("touchend",this.Nkt)),t.prototype.dispose.call(this)},T(n,[{key:"parentMenu",get:function(){return this.Okt}}]),n}(QY(CY.getComponent("MenuItem"))),tQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Okt=void 0,r.Lkt=!1,r.jkt=!1,r.Okt=e,r.on(n,"languagechange",r.Fkt),r}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.Lkt&&this.Ukt&&(this.Okt.Hkt(),"tap"===t.type&&(this.Lkt=!0,this.trigger("click"),this.Lkt=!1))},i.Fkt=function(){this.Ukt?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},T(n,[{key:"parentMenu",get:function(){return this.Okt}},{key:"Ukt",get:function(){return this.jkt},set:function(t){this.jkt=t,this.el().setAttribute("tabindex",this.Ukt?"0":"-1"),this.Fkt()}}]),n}(CY.getComponent("ClickableComponent")),nQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.Xkt=function(t){this.Vkt.zkt(t,"replace")},i.Wkt=function(t){t.Vkt.zkt(this,"restore")},i.Km=function(){ur(this.qkt,"vjs-hidden"),this.qkt.style.opacity="1",t.prototype.show.call(this)},i.Jm=function(){sr(this.qkt,"vjs-hidden")},i.xkt=function(){this.Vkt&&this.Vkt.xkt(),t.prototype.xkt.call(this)},i.qh=function(){this.Vkt&&this.Vkt.qh(),t.prototype.qh.call(this),sr(this.qkt,"vjs-hidden")},i.Gkt=function(){if(this.Vkt&&this.Vkt.$kt)return this.Vkt.$kt.qkt},i.Ykt=function(n,i){if(i.length>0){var e=i[0].height,r=i[0].width;this.Qkt.gy.style.height=e+"px",this.Qkt.gy.style.width=r+"px"}t.prototype.Ykt.call(this,n,i)},T(n,[{key:"Vkt",get:function(){return this.Qkt},set:function(t){this.Qkt&&this.Qkt.Zkt(this),this.Qkt=t,t&&t.Kkt(this)}}]),n}(function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Jkt=void 0,e.tAt=function(){return e.nAt()},e.Jkt=e.player().el(),e.hide(),e.on("menuchange",e.nAt),e}E(n,t);var e=n.prototype;return e.addMenuItem=function(t){t=Ur({playerOptions:this.Zyt.playerOptions},t);var n=new JY(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.addSubMenuItem=function(t){t=Ur({playerOptions:this.Zyt.playerOptions},t);var n=this.iAt(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},e.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},e.buildCSSClass=function(){return"theo-menu vjs-menu"},e.xkt=function(){t.prototype.xkt.call(this),r.removeEventListener("resize",this.tAt),r.addEventListener("resize",this.tAt),this.show()},e.nAt=function(){var t=this.Gkt();if(t){var n=t.getClientRects();i.Lr.dn?this.eAt(t,n):this.Ykt(t,n)}},e.Gkt=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},e.Ykt=function(t,n){},e.eAt=function(t,n){},e.qh=function(){r.removeEventListener("resize",this.tAt),t.prototype.qh.call(this),this.hide(),i.Lr.dn&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},e.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();sr(i,"theo-menu-content");var e=new tQ(this.player(),this.Zyt,this);return i.parentNode.insertBefore(e.el(),i),this.rAt=e,n},e.Mkt=function(t){},e.show=function(){return this.nAt(),t.prototype.show.call(this)},e.dispose=function(){this.rAt&&this.rAt.dispose(),t.prototype.dispose.call(this)},T(n,[{key:"menuHeader",get:function(){return this.rAt}},{key:"menuItems",get:function(){return this.children()}}]),n}(KY)),iQ=function(){function t(t){this.sAt=void 0,this.uAt=void 0,this.bN=void 0,this.Jkt=void 0,this.uAt=this.sAt=t,this.bN=s.createElement("div"),this.bN.className="theo-tertiary-background theo-menu-animation-container",this.bN.appendChild(this.uAt.qkt),this.Jkt=this.sAt.player().el()}var n=t.prototype;return n.Kkt=function(t){t.Jm(),this.bN.appendChild(t.qkt)},n.Zkt=function(t){this.bN.removeChild(t.qkt)},n.zkt=function(t,n){if(t!=this.sAt){var e=this.sAt;if(this.sAt=t,this.sAt.Km(),this.$kt.focus(),i.Lr.dn)e.Jm();else{var r=IR("transform");e.qkt.style.opacity="0",e.qkt.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this.sAt.qkt.style.opacity="1",this.sAt.qkt.style[r]="",a(function(){e.Jm(),e.qkt.style[r]=""},300)}}},n.xkt=function(){this.oAt(),this.sAt.Km(),this.aAt()},n.qh=function(){this.oAt(),this.sAt.Jm(),this.uAt.Jm(),this.sAt=this.uAt,this.aAt()},n.aAt=function(){var t=this;bR(function(){ur(t.bN,"theo-no-transition"),ur(t.sAt.qkt,"theo-no-transition")})},n.oAt=function(){sr(this.bN,"theo-no-transition"),sr(this.sAt.qkt,"theo-no-transition")},T(t,[{key:"gy",get:function(){return this.bN}},{key:"$kt",get:function(){return this.sAt}}]),t}(),eQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).hAt=void 0,r.cAt=!1,r.hAt=e,r.menuHeader.Ukt=!0,r}E(n,t);var i=n.prototype;return i.iAt=function(t,n){var i=new rQ(t,n,this);return i.subMenu.Vkt=this.Vkt,i},i.Hkt=function(){this.fAt()},i.Mkt=function(n){t.prototype.Mkt.call(this,n),this.fAt()},i.fAt=function(){this.parentMenu.Wkt(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.cAt?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.cAt=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},T(n,[{key:"qkt",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.hAt}}]),n}(nQ),rQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,Ur({selectable:!1},i),e)||this).lAt=void 0,r.lAt=new eQ(n,i,e),r}return E(n,t),n.prototype.handleClick=function(t){this.parentMenu.Xkt(this.subMenu)},T(n,[{key:"subMenu",get:function(){return this.lAt}}]),n}(JY),sQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).vAt=void 0,r.dAt=!1,r.vAt=e,r}E(n,t);var i=n.prototype;return i.createEl=function(){var n=CY.createEl("div",{className:this.buildCSSClass()});return this.wAt=t.prototype.createEl.call(this),this.wAt.className=t.prototype.buildCSSClass.call(this),sr(this.wAt,"theo-menu-content-animatable"),n.appendChild(this.wAt),this.Vkt=new iQ(this),n.appendChild(this.Vkt.gy),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.iAt=function(t,n){var i=new rQ(t,n,this);return i.subMenu.Vkt=this.Vkt,i},i.Ykt=function(n,i){t.prototype.Ykt.call(this,n,i);var e=this.Jkt.getClientRects(),r=e.length>0?e[0]:void 0,s=y(getComputedStyle(this.el()).fontSize);fB(this.el(),this.vAt.el(),r,s)},i.Hkt=function(){this.vAt.closeMenu()},i.dispose=function(){this.dAt||(this.dAt=!0,t.prototype.dispose.call(this))},T(n,[{key:"menuButton",get:function(){return this.vAt}},{key:"qkt",get:function(){return this.wAt}}]),n}(nQ),uQ=function(){function t(t,n){var i=this;this.gAt=void 0,this.mAt=void 0,this.yAt=function(){ur(i.gAt,"vjs-hidden");var t=i.mAt.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,e=y(getComputedStyle(i.gAt).fontSize);fB(i.gAt,i.mAt.el(),n,e)},this.pAt=function(){sr(i.gAt,"vjs-hidden")},this._At=function(){return i.bAt()},this.mAt=t,fr(t.el()),t.el().addEventListener("mouseover",function(t){fr(t.target)}),this.gAt=s.createElement("span"),this.gAt.innerHTML=this.mAt.localize(n),this.gAt.className="theo-button-tooltip vjs-hidden",this.gAt.setAttribute("aria-hidden","true"),this.mAt.el().appendChild(this.gAt),this.mAt.on("mouseover",this.yAt),this.mAt.on("mouseout",this.pAt),this.mAt.on("dispose",this._At)}return t.prototype.bAt=function(){this.mAt.off("mouseover",this.yAt),this.mAt.off("mouseout",this.pAt),this.mAt.off("dispose",this._At),nr(this.gAt)},T(t,[{key:"kAt",get:function(){return this.gAt.textContent||""},set:function(t){this.gAt.innerHTML=this.mAt.localize(t),this.pAt(),this.yAt(),fr(this.mAt.el())}}]),t}(),oQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).AAt=void 0,r.gAt=void 0,r.TAt=!1,r.SAt=1,r.Xy=!0,r.EAt=function(t){var n,e=r.el().contains(t.target),s=r.AAt.el().contains(t.target),u=!1;i.Lr.dn&&r.IAt&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);e||s||!r.TAt||(u&&t.preventDefault(),r.closeMenu())},r.RAt=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.vW=function(){r.TAt&&r.closeMenu()},r.CAt=function(){r.AAt.menuItems.length>=r.SAt?r.show():(r.closeMenu(),r.hide())},r.AAt=new sQ(n,e,Jt(r)),r.player().getChild("controlBarMenuContainer").addChild(r.AAt),r.gAt=new uQ(Jt(r),r.controlText()),r.el().setAttribute("aria-haspopup","true"),i.Lr.Gt?(r.on(s,"touchend",r.EAt),new ZY(r.el())):(r.on(s,"click",r.EAt),r.on(s,"keydown",r.RAt),r.on(s,xR.ZO,r.closeMenu)),r.gkt.addEventListener("seeking",r.vW),r.on(r.AAt,"menuchange",r.CAt),r.on(n,"languagechange",r.Fkt),r.CAt(),r}E(n,t);var e=n.prototype;return e.isMenuOpen=function(){return this.TAt},e.openMenu=function(){this.Xy&&!this.TAt&&(this.AAt.xkt(),this.el().setAttribute("aria-expanded","true"),this.TAt=!0,this.AAt.focus())},e.closeMenu=function(){this.Xy&&this.TAt&&(this.AAt.qh(),this.el().setAttribute("aria-expanded","false"),this.TAt=!1)},e.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},e.handleClick=function(){this.TAt?this.closeMenu():this.openMenu()},e.enable=function(){return this.Xy=!0,t.prototype.enable.call(this)},e.disable=function(){return this.closeMenu(),this.Xy=!1,t.prototype.disable.call(this)},e.Fkt=function(){this.gAt.kAt=this.controlText()},e.dispose=function(){this.player().removeChild(this.AAt),this.AAt.dispose(),this.gAt.bAt(),this.gkt.removeEventListener("seeking",this.vW),t.prototype.dispose.call(this)},T(n,[{key:"IAt",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.AAt}},{key:"minimumMenuItems",set:function(t){this.SAt=t,this.CAt()}}]),n}(QY(CY.getComponent("Button"))),aQ=CY.getComponent("Component"),hQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),e}E(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=Ur({playerOptions:this.Zyt.playerOptions},t);var n=new oQ(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(CY.getComponent("ControlBar")),cQ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(aQ);CY.registerComponent("THEOControlBarShadow",cQ);var fQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).DAt=void 0,e.DAt=i.NAt,e}E(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.DAt.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.DAt.removeClass("focus-within")},n}(CY.getComponent("VolumeBar")),lQ=CY.getComponent("VolumeControl"),vQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).PAt=void 0,e.PAt=new fQ(n,{NAt:Jt(e)}),e.addChild(e.PAt),e}return E(n,t),n}(lQ);vQ.prototype.Zyt=Ur({},lQ.prototype.Zyt,{children:[]}),CY.registerComponent("VolumeControl",vQ);var dQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).xAt=void 0,e.BAt=function(t){if("opacity"===t.propertyName){var n=e.OAt();e.gkt.textTrackStyle.marginBottom!==n&&(e.gkt.textTrackStyle.marginBottom=n)}},e.LAt=function(t){"opacity"===t.propertyName&&"0"===r.getComputedStyle(e.el()).opacity&&(e.gkt.textTrackStyle.marginBottom=void 0)},e.MAt=function(){void 0!==e.gkt.textTrackStyle.marginBottom&&(e.gkt.textTrackStyle.marginBottom=e.OAt())},e.el().addEventListener("transitionstart",e.BAt),e.el().addEventListener("transitionend",e.LAt),e.xAt=new NR(e.el()),e.xAt.Zs("SO",e.MAt),e.xAt.hc(),e}E(n,t);var i=n.prototype;return i.OAt=function(){return this.el().getBoundingClientRect().height},i.dispose=function(){this.el().removeEventListener("transitionstart",this.BAt),this.el().removeEventListener("transitionend",this.LAt),this.xAt.tu("SO",this.MAt),this.xAt.xd(),t.prototype.dispose.call(this)},n}(QY(hQ));dQ.prototype.Zyt=Ur({},hQ.prototype.Zyt,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),CY.registerComponent("ControlBar",dQ);var wQ=function(t){function n(n,i){var e;return e=t.call(this,n,i)||this,n.topControlBar=Jt(e),e}return E(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(hQ);wQ.prototype.Zyt=Ur({},hQ.prototype.Zyt,{children:[]}),CY.registerComponent("TopControlBar",wQ);var gQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=xY(t),i=OY(t),e=this.localize("Current Time"),r=jY(g.max(0,n-i),LY(t));r!==this.ypt&&(this.ypt=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> "+r)},n}(CY.getComponent("CurrentTimeDisplay"));CY.registerComponent("CurrentTimeDisplay",gQ);var mQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jAt=function(){return e.updateContent()},e.off(n,"durationchange",e.updateContent),e.on(n,"durationchange",e.updateContent),e.off(n,"timeupdate",e.updateContent),e.on(n,"timeupdate",e.updateContent),e.off(n,"emptied",e.updateContent),e.on(n,"emptied",e.updateContent),e.gkt&&e.gkt.clip.addEventListener("change",e.jAt),e}return E(n,t),n.prototype.updateContent=function(){var t=p(this.gkt.duration)?NaN:LY(this.player()),n=this.gkt.clip.endTime-this.gkt.clip.startTime,i=g.min(t,n)||0;if(this.Qg!==i){this.Qg=i;var e=this.localize("Duration Time"),r=jY(i);this.npt.innerHTML='<span class="vjs-control-text">'+e+"</span> "+r}},n}(QY(CY.getComponent("DurationDisplay")));CY.registerComponent("DurationDisplay",mQ);var yQ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).controlText("Live"),r.FAt(),r.on(r.player(),"durationchange",r.FAt),i.Lr.Gt&&new ZY(r.el()),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},e.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.UAt=CY.createEl("span",{className:"theo-live-control-indicator"}),n.insertBefore(this.UAt,n.firstChild),n},e.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return CY.removeClass(i,"vjs-control-text"),CY.addClass(i,"theo-live-control-text"),i},e.handleClick=function(){var t,n=this.gkt;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(BY(i)),i.play()}},e.FAt=function(){PY(this.player())?this.show():this.hide()},n}(QY(CY.getComponent("Button")));CY.registerComponent("LiveDisplay",yQ);var pQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=CY.createEl("div",{className:"theo-loading-spinner-rotator"}),e=CY.createEl("div",{className:"theo-loading-spinner-circle-left"}),r=CY.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(e),i.appendChild(r),n.appendChild(i),n},n}(CY.getComponent("LoadingSpinner"));CY.registerComponent("LoadingSpinner",pQ);var _Q=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).HAt=[],e.on(n,"emptied",e.update),e}return E(n,t),n.prototype.update=function(){var t=this.player(),n=lE._C(MY(t)),i=n.LN(0),e=lE._C(t.buffered()).QN(n),r=n.UN(0)-i,u=e.C_&&e.UN(e.C_-1)||0;u=g.max(0,u-i);var o=this.el(),a=this.HAt;o.style.width=bQ(u,r);for(var h=0;h<e.C_;h++){var c=e.LN(h),f=e.UN(h),l=a[h];l||(l=s.createElement("div"),a.push(l),o.appendChild(l)),l.style.left=bQ(c-i,u),l.style.width=bQ(f-c,u)}for(var v=a.length;v>e.C_;v--)o.removeChild(a[v-1]);a.length=e.C_},n}(CY.getComponent("LoadProgressBar"));function bQ(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}CY.registerComponent("LoadProgressBar",_Q);var kQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).XAt=function(){var t=e.player(),n=t.scrubbing()?t.getCache().currentTime:t.currentTime(),i=(n-OY(t))/LY(t)||0;i=Ft(i,0,1),e.update(n,100*i+"%")},e.keepTooltipsInside&&(CY.addClass(e.tooltip,"theo-secondary-color"),e.tooltip.appendChild(e.zAt)),j.dn&&(e.on(n,"firstplay",e.XAt),e.on(n,"play",e.XAt),e.on(n,"seeking",e.XAt),e.on(n,"seeked",e.XAt),e.on(n,"timeupdate",e.XAt),e.gkt.addEventListener("dimensionchange",e.XAt),e.gkt.presentation.addEventListener("presentationmodechange",e.XAt),n.on("ready",function(){e.on(n.controlBar.progressControl,"touchmove",tt(function(t){return e.handleTouchMove(t)},25)),e.XAt()})),e}E(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=this.player(),i=OY(n)+this.calculateDistance(t)*LY(n),e=t.pageX-cB(this.el().parentNode).left;this.update(i,e+"px")},i.handleTouchMove=function(t){var n=this.player(),i=OY(n)+this.calculateDistance(t)*LY(n),e=t.touches[0].pageX-cB(this.el().parentNode).left;this.update(i,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.zAt=CY.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){var i=this.VAt(t);if(this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(lB(this.zAt,i),this.tooltip.offsetParent)){var e=this.player().contentEl(),r=e.getClientRects(),s=r.length>0?r[0]:void 0,u=y(getComputedStyle(e).fontSize);fB(this.tooltip,this.el(),s,u)}},i.VAt=function(t){var n=this.player(),i=t-BY(n);return jY(PY(n)?g.min(i,0):i,LY(n))},n}(QY(CY.getComponent("MouseTimeDisplay")));CY.registerComponent("MouseTimeDisplay",kQ);var AQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=xY(this.player());this.el().setAttribute("data-current-time",this.VAt(t))},i.VAt=function(t){var n=this.player();return jY(t-BY(n),LY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(CY.getComponent("PlayProgressBar"));CY.registerComponent("PlayProgressBar",AQ);var TQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(n,"timeupdate",e.updateContent),e.on(n,"emptied",e.updateContent),e}return E(n,t),n.prototype.updateContent=function(){var t=this.player(),n=LY(t);if(n){var i=MY(t).end(0),e=this.localize("Remaining Time"),r=jY(g.max(0,i-t.currentTime()),n);r!==this.ypt&&(this.ypt=r,this.contentEl().innerHTML='<span class="vjs-control-text">'+e+"</span> -"+r)}},n}(CY.getComponent("RemainingTimeDisplay"));CY.registerComponent("RemainingTimeDisplay",TQ);var SQ=function(){function t(t,n){var i=this;this.WAt=void 0,this.qAt=void 0,this.GAt=void 0,this.$At=void 0,this.YAt=[],this.Ckt=void 0,this.QAt=function(t){var n=t.track;n.kind===Pk.cE&&(n.addEventListener("addcue",i.ZAt),n.addEventListener("removecue",i.ZAt),n.addEventListener("readystatechange",i.ZAt)),i.ZAt()},this.KAt=function(t){var n=t.track;n.kind===Pk.cE&&(n.removeEventListener("addcue",i.ZAt),n.removeEventListener("removecue",i.ZAt),n.removeEventListener("readystatechange",i.ZAt)),i.ZAt()},this.JAt=function(t){var n=i.tTt,e=function(t,n){var i,e,r=cB(t),s=t.offsetWidth,u=t.offsetHeight,o=r.top,a=r.left;!function(t){return void 0!==t.changedTouches}(n)?(e=n.pageX,i=n.pageY):(e=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var h=Ft((o-i+u)/u,0,1);return{x:Ft((e-a)/s,0,1),y:h}}(i.WAt,t),r=OY(n)+e.x*LY(n);r===n.duration()&&(r-=.1),i.nTt(r)},this.iTt=function(){i.qAt.Jm()},this.eTt=function(){i.qAt.Km()},this.ZAt=function(){var t=i.rTt();t!==i.$At&&(i.D_(),t&&i.sTt(t))},this.tTt=n,this.GAt=t,this.qAt=new IQ,this.tTt.contentEl().appendChild(this.qAt.gy),this.WAt=s.createElement("div"),sr(this.WAt,"theoplayer-chapterbar"),this.GAt.appendChild(this.WAt),this.GAt.addEventListener("mousemove",this.JAt),this.GAt.addEventListener("mouseenter",this.eTt),this.GAt.addEventListener("mouseleave",this.iTt),this.uTt()}var n=t.prototype;return n.sTt=function(t){if(t.kind===Pk.cE&&0!==this.gkt.seekable.length){this.$At=t;var n=t.cues.slice();this.qAt.jh(n);for(var i=0;i<n.length;i++){var e=n[i],r=n[i+1],s=!r||e.endTime!==r.startTime,u=new EQ(e,this.gkt,s);this.YAt.push(u),this.WAt.appendChild(u.gy)}}},n.uTt=function(){this.gkt.addEventListener("loadedmetadata",this.ZAt),this.gkt.addEventListener("loadeddata",this.ZAt),this.gkt.addEventListener("sourcechange",this.ZAt),this.gkt.textTracks.addEventListener("addtrack",this.QAt),this.gkt.textTracks.addEventListener("removetrack",this.KAt),this.gkt.textTracks.addEventListener("change",this.ZAt)},n.oTt=function(){this.gkt.removeEventListener("loadedmetadata",this.ZAt),this.gkt.removeEventListener("loadeddata",this.ZAt),this.gkt.removeEventListener("sourcechange",this.ZAt),this.gkt.textTracks.removeEventListener("addtrack",this.QAt),this.gkt.textTracks.removeEventListener("removetrack",this.KAt),this.gkt.textTracks.removeEventListener("change",this.ZAt)},n.rTt=function(){if(!(this.gkt.readyState<Ky.Ug))for(var t=0,n=this.gkt.textTracks;t<n.length;t++){var i=n[t];if(i.kind===Pk.cE&&i.mode===Py.Z_&&i.cues.length>0&&i.readyState!==b_.ERROR)return i}},n.nTt=function(t){this.qAt.Zh(t)},n.aTt=function(){this.qAt.Km()},n.hTt=function(){this.qAt.Jm()},n.D_=function(){for(var t=0,n=this.YAt;t<n.length;t++){n[t].bAt()}this.qAt.D_(),this.YAt=[],this.$At=void 0},n.bAt=function(){this.oTt(),this.GAt.removeEventListener("mousemove",this.JAt),this.GAt.removeEventListener("mouseenter",this.eTt),this.GAt.removeEventListener("mouseleave",this.iTt),this.D_(),this.qAt.bAt(),this.Ckt=void 0},T(t,[{key:"gkt",get:function(){return this.Ckt||(this.Ckt=this.tTt.tech({IWillNotUseThisInPlugins:!0}).theoplayer()),this.Ckt}}]),t}(),EQ=function(){function t(t,n,i){var e=this;this.bN=void 0,this.cTt=function(){sr(e.gy,"theoplayer-chapter-indicator-active")},this.fTt=function(){ur(e.gy,"theoplayer-chapter-indicator-active")},this.lTt=t,this.yN=n,this.vTt=i,this.bN=this.dTt(),this.wTt()}var n=t.prototype;return n.wTt=function(){RQ(this.lTt,this.yN.currentTime)&&this.cTt(),this.lTt.addEventListener("enter",this.cTt),this.lTt.addEventListener("exit",this.fTt)},n.dTt=function(){var t=this.yN.seekable.start(0),n=this.yN.seekable.end(this.yN.seekable.length-1)-t,i=this.lTt.startTime,e=this.lTt.endTime-i,r=s.createElement("div");sr(r,"theoplayer-chapter-indicator");var u=s.createElement("div");sr(u,"theoplayer-chapter-indicator-highlight"),r.appendChild(u),this.vTt&&sr(r,"theoplayer-chapter-indicator-discontinuous");var o=g.min(i/n*100,100),a=100-o,h=g.min(e/n*100,a);return r.style.width=h+"%",r.style.left=o+"%",r},n.bAt=function(){this.lTt.removeEventListener("enter",this.cTt),this.lTt.removeEventListener("exit",this.fTt),nr(this.bN)},T(t,[{key:"gy",get:function(){return this.bN}}]),t}(),IQ=function(){function t(){this.gTt=[],this.gy=void 0,this.mTt=void 0,this.yTt=0,this.gy=s.createElement("div"),sr(this.gy,"theoplayer-chaptertitle"),this.gy.style.display="none",this.mTt=s.createElement("p"),this.gy.appendChild(this.mTt)}var n=t.prototype;return n.Jm=function(){this.yTt--,0===this.yTt&&ur(this.gy,"theoplayer-chapter-hovering")},n.jh=function(t){this.gTt=t||[],this.gTt.length>0&&(this.gy.style.display="")},n.aZ=function(t){lB(this.mTt,t.content)},n.D_=function(){this.gTt=[],lB(this.mTt,""),this.gy.style.display="none"},n.Km=function(){this.yTt++,this.yTt>0&&sr(this.gy,"theoplayer-chapter-hovering")},n.Zh=function(t){for(var n=0,i=this.gTt;n<i.length;n++){var e=i[n];if(RQ(e,t)){this.aZ(e);break}}},n.bAt=function(){nr(this.gy)},t}();function RQ(t,n){return new lE([t.startTime,t.endTime]).$D(n)}var CQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).WAt=void 0,e.playingStates=[],e.on(n,"emptied",e.update),e.on(n,"seeking",e.update),e.WAt=new SQ(e.el(),n),e}E(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=this.player(),i=xY(n);t.setAttribute("aria-valuenow",(100*this.pTt(i)).toFixed(2)),t.setAttribute("aria-valuetext",jY(i-BY(n),LY(n)))},i.getPercent=function(){return this.pTt(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.gkt&&this.gkt.ads&&this.gkt.ads.playing)){var n=this.player(),i=OY(n)+this.calculateDistance(t)*LY(n);i>=n.duration()&&(i=n.duration()-.1),this.WAt.nTt(i),n.currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.WAt.aTt(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.WAt.hTt(),t.prototype.handleMouseUp.call(this,n)},i.pTt=function(t){var n=this.player();return Ft((t-OY(n))/LY(n),0,1)},i.dispose=function(){this.WAt.bAt(),Zs(this.playingStates)},n}(QY(CY.getComponent("SeekBar")));CY.registerComponent("SeekBar",CQ);var DQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).on(Jt(e),"touchmove",e.handleMouseMove),e.on("touchstart",e.handleMouseDown),e.seekBar.off(["touchmove","touchstart"]),e}E(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(CY.getComponent("ProgressControl"));i.Lr.dn&&CY.registerComponent("ProgressControl",DQ);var NQ=function(t){function n(n,i){return t.call(this,n,i)||this}E(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=xY(this.player()),n=this.VAt(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.VAt=function(t){var n=this.player();return jY(t-BY(n),LY(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(CY.getComponent("TooltipProgressBar"));function PQ(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function xQ(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:BQ(t),description:OQ(t),hd:!!t.height&&t.height>=720}}function BQ(t){return t.height?t.height+"p":t.bandwidth?OQ(t):""}function OQ(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}CY.registerComponent("TooltipProgressBar",NQ);var LQ=function(){function t(t){this._Tt=void 0,this.bTt=[],this._Tt=t}var n=t.prototype;return n.kTt=function(t){var n=this.ATt;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(e.T$===t)return e}},n.TTt=function(t){var n=this,i=this._Tt.addMenuItem();return i.T$=t,i.on("click",function(){return n.STt(i)}),i.el().setAttribute("role","menuitemradio"),i},n.ETt=function(t){t.dispose()},n.ITt=function(t){return!0},n.RTt=function(t){if(this.ITt(t)){Qs(this.bTt,t)||this.bTt.push(t);var n=this.kTt(t)||this.TTt(t);return this.CTt(n),n}this.DTt(t)},n.DTt=function(t){var n=this.kTt(t);n&&(this._Tt.removeMenuItem(n),this.ETt(n)),$s(this.bTt,t)},n.bAt=function(){for(var t=[],n=0,i=this.bTt;n<i.length;n++){var e=i[n];t.push(e)}for(var r=0;r<t.length;r++){var s=t[r];this.DTt(s)}Zs(t)},T(t,[{key:"NTt",get:function(){return this.bTt},set:function(t){for(var n=this.bTt,i=n.length-1;i>=0;i--){var e=n[i];Qs(t,e)||this.DTt(e)}for(var r=0;r<t.length;r++){var s=t[r];this.RTt(s)}this._Tt.nAt()}},{key:"ATt",get:function(){return this._Tt.menuItems}}]),t}(),MQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n.subMenu)||this).PTt=void 0,r.Ckt=void 0,r.xTt=void 0,r.BTt=void 0,r.OTt=void 0,r.LTt=void 0,r.MTt=void 0,r.jTt=void 0,r.FTt=void 0,r.UTt=function(){var t=PQ(r.Ckt.videoTracks);if(t!==r.BTt){var n=[];if(r.BTt&&(r.BTt.removeEventListener("activequalitychanged",r.HTt),r.BTt.removeEventListener("targetqualitychanged",r.XTt),r.BTt.removeEventListener("update",r.sP)),r.BTt=t,t){t.addEventListener("activequalitychanged",r.HTt),t.addEventListener("targetqualitychanged",r.XTt),t.addEventListener("update",r.sP);var i=FQ(XQ(t.qualities.filter(function(t){return t.available})));n=[void 0].concat(i)}r.NTt=n,r.XTt(),r.HTt()}},r.sP=function(t){var n=t.track;if(n===r.BTt){var i=FQ(XQ(n.qualities.filter(function(t){return t.available}))),e=n&&zQ(n.targetQuality);r.OTt=r.zTt(e,i),r.NTt=[void 0].concat(i),r.VTt()}},r.HTt=function(){r.RTt(void 0),r.VTt()},r.XTt=function(){var t=PQ(r.Ckt.videoTracks),n=t&&zQ(t.targetQuality),i=r.zTt(n),e=r.OTt;i!==e&&(r.OTt=i,i&&e||r.RTt(void 0),e&&Qs(r.NTt,e)&&r.RTt(e),n&&r.RTt(i),r.VTt())},r.Fkt=function(){lB(r._Tt.menuHeader.el(),r.xTt.localize("Quality")),lB(r.LTt,r.xTt.localize("Quality")),lB(r.MTt,r.xTt.localize("Automatic")),lB(r.jTt,r.xTt.localize("Automatic")),lB(r.FTt,r.xTt.localize("HD")),r.PTt.el().setAttribute("aria-label",r.xTt.localize("Open the video quality settings menu"));for(var t=0,n=r.ATt;t<n.length;t++){var i=n[t];r.CTt(i)}r.VTt()},r.PTt=n,r.Ckt=i,r.xTt=e,r.LTt=r.WTt(),r.MTt=r.qTt(),r.jTt=r.GTt(),r.FTt=r.$Tt(),r.YTt(),lB(r._Tt.menuHeader.el(),r.xTt.localize("Quality")),r.NTt=[void 0],r.Ckt.videoTracks.addEventListener(["addtrack","removetrack","change"],r.UTt),r.xTt.on("languagechange",r.Fkt),r.UTt(),r}E(n,t);var i=n.prototype;return i.WTt=function(){return this.LTt=s.createElement("span"),this.LTt.className="theo-settings-control-menu-item-title",lB(this.LTt,this.xTt.localize("Quality")),this.LTt},i.qTt=function(){return this.MTt=s.createElement("span"),this.MTt.className="theo-settings-control-menu-quality-automatic",lB(this.MTt,this.xTt.localize("Automatic")),this.MTt},i.GTt=function(){return this.jTt=s.createElement("span"),lB(this.jTt,this.xTt.localize("Automatic")),this.jTt},i.$Tt=function(){return this.FTt=s.createElement("span"),this.FTt.className="theo-primary-color theo-settings-control-menu-item-hd-label",lB(this.FTt,this.xTt.localize("HD")),this.FTt},i.YTt=function(){var t=s.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.MTt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.jTt),t.appendChild(s.createTextNode(" ")),t.appendChild(this.FTt),this.PTt.el().appendChild(this.LTt),this.PTt.el().appendChild(t),this.PTt.el().setAttribute("aria-label",this.xTt.localize("Open the video quality settings menu"))},i.VTt=function(){var t=this.BTt,n=t&&zQ(t.targetQuality),i=t&&t.activeQuality,e=xQ(this.zTt(n||i))||{name:this.xTt.localize("Automatic")};lB(this.jTt,e.name),or(this.MTt,"vjs-hidden",!!n),or(this.FTt,"vjs-hidden",!e.hd)},i.CTt=function(t){var n=xQ(t.T$)||{name:this.xTt.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.xTt.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.xTt.localize("Set video quality to ")+n.name),t.T$?t.selected(t.T$===this.OTt):t.selected(!this.OTt)},i.STt=function(t){this.BTt&&(this.BTt.targetQuality=t.T$&&t.T$.videoQualities)},i.zTt=function(t,n){for(var i=n||this.NTt,e=0;e<i.length;e++){var r=i[e];if(t&&r&&-1!==r.videoQualities.indexOf(t))return r}},i.bAt=function(){this.Ckt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.UTt),this.xTt.off("languagechange",this.Fkt),this.BTt&&(this.BTt.removeEventListener("activequalitychanged",this.HTt),this.BTt.removeEventListener("targetqualitychanged",this.XTt),this.BTt.removeEventListener("update",this.sP)),t.prototype.bAt.call(this)},n}(LQ),jQ=function(){function t(t){this.QTt=t}return t.prototype.add=function(t){this.QTt.push(t)},T(t,[{key:"height",get:function(){return this.QTt[0].height}},{key:"bandwidth",get:function(){return this.QTt[0].bandwidth}},{key:"videoQualities",get:function(){return this.QTt}},{key:"label",get:function(){return this.QTt[0].label}}]),t}();function FQ(t){for(var n,i,e=[],r=0;r<t.length;r++){for(var s=t[r],u=!1,o=0;o<e.length;o++){var a=e[o];if(i=s,(n=a).label&&i.label&&n.label===i.label||my(xQ(n),xQ(i))){a.add(s),u=!0;break}}u||e.push(new jQ([s]))}return e}function UQ(t,n){return t&&n?Xs(t,n):Os.Is}function HQ(t,n){return t===n?Os.Is:UQ(t.height,n.height)||UQ(t.width,n.width)||UQ(t.bandwidth,n.bandwidth)}function XQ(t){return Ms(t,HQ).reverse()}function zQ(t){return z(t)?1===t.length?t[0]:void 0:t}function VQ(t){return 1===t?"Normal":""+g.round(100*t)/100}var WQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n.subMenu)||this).PTt=void 0,s.Ckt=void 0,s.xTt=void 0,s.ZTt=void 0,s.LTt=void 0,s.KTt=void 0,s.JTt=function(){s.ZTt&&s.RTt(s.ZTt);var t=s.Ckt.playbackRate;s.ZTt=t,lB(s.KTt,s.xTt.localize(VQ(t))),t&&s.RTt(t)},s.Fkt=function(){lB(s._Tt.menuHeader.el(),s.xTt.localize("Speed")),lB(s.LTt,s.xTt.localize("Speed")),s.PTt.el().setAttribute("aria-label",s.xTt.localize("Open the video speed settings menu"));for(var t=0,n=s.ATt;t<n.length;t++){var i=n[t];s.CTt(i)}s.JTt()},s.PTt=n,s.Ckt=i,s.xTt=e,s.LTt=s.WTt(),s.KTt=s.YTt(),lB(s._Tt.menuHeader.el(),s.xTt.localize("Speed")),s.NTt=r,s.Ckt.addEventListener("ratechange",s.JTt),s.xTt.on("languagechange",s.Fkt),s.JTt(),s}E(n,t);var i=n.prototype;return i.WTt=function(){return this.LTt=s.createElement("span"),this.LTt.className="theo-settings-control-menu-item-title",lB(this.LTt,this.xTt.localize("Speed")),this.LTt},i.YTt=function(){var t=s.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.PTt.el().appendChild(this.LTt),this.PTt.el().appendChild(t),this.PTt.el().setAttribute("aria-label",this.xTt.localize("Open the video speed settings menu")),t},i.TTt=function(n){var i=t.prototype.TTt.call(this,n);return this.CTt(i),i},i.CTt=function(t){var n=t.T$,i=this.xTt.localize(VQ(n));lB(t.el(),i),t.el().setAttribute("aria-label",this.xTt.localize("Set video speed to "+i)),t.selected(t.T$===this.Ckt.playbackRate)},i.STt=function(t){this.Ckt.playbackRate=t.T$},i.bAt=function(){this.Ckt.removeEventListener("ratechange",this.JTt),this.xTt.off("languagechange",this.Fkt),t.prototype.bAt.call(this)},n}(LQ),qQ=function(t){function n(n,i){var e,r,s;(s=t.call(this,n,i)||this).tSt=void 0,s.nSt=void 0,s.iSt=void 0,s.eSt=void 0,s.BTt=void 0,s.RD=function(){var t=PQ(s.gkt.videoTracks);t!==s.BTt&&(s.BTt&&s.BTt.removeEventListener("activequalitychanged",s.HTt),s.BTt=t,t&&t.addEventListener("activequalitychanged",s.HTt),s.HTt())},s.HTt=function(){var t,n=null==(t=s.BTt)?void 0:t.activeQuality,i=!!(n&&n.height>=720);s.player().toggleClass("theo-hd",i)},sr(s.menu.el(),"theo-settings-control-menu"),lB(s.menu.menuHeader.el(),n.localize("Settings")),s.controlText("Settings"),s.gAt.kAt=s.controlText(),s.tSt=s.menu.addSubMenuItem({name:"QualityMenuItem"}),s.nSt=new MQ(s.tSt,s.gkt,n);var u=null!=(e=null==i?void 0:null==(r=i.playerOptions)?void 0:r.playbackRates)?e:[];return s.iSt=s.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),s.eSt=new WQ(s.iSt,s.gkt,n,u),s.gkt.videoTracks.addEventListener(["addtrack","removetrack","change"],s.RD),s.RD(),s}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.rSt=CY.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),lB(this.rSt,this.localize("HD")),n.appendChild(this.rSt),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.Fkt=function(){t.prototype.Fkt.call(this),lB(this.rSt,this.localize("HD")),lB(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.BTt&&(this.BTt.removeEventListener("activequalitychanged",this.HTt),this.BTt=void 0),this.gkt.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.RD),this.nSt.bAt(),this.eSt.bAt(),t.prototype.dispose.call(this)},n}(oQ);CY.registerComponent("SettingsButton",qQ);var GQ=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).JJ=void 0,e.sSt=function(t){var n=t.track;e.RTt(n),n.addEventListener("update",e.uSt)},e.oSt=function(t){var n=t.track;e.DTt(n),n.removeEventListener("update",e.uSt)},e.aSt=function(t){return e.hSt()},e.uSt=function(){for(var t=0,n=e.NTt;t<n.length;t++){var i=n[t];e.RTt(i)}},e.JJ=i,e.JJ.addEventListener("addtrack",e.sSt),e.JJ.addEventListener("removetrack",e.oSt),e.JJ.addEventListener("change",e.aSt),e.hSt(),e}E(n,t);var i=n.prototype;return i.cSt=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var e=$j(i);if(e)return e._p}return i||""},i.hSt=function(){this.NTt=this.JJ},i.bAt=function(){this.JJ.removeEventListener("addtrack",this.sSt),this.JJ.removeEventListener("removetrack",this.oSt),this.JJ.removeEventListener("change",this.aSt),t.prototype.bAt.call(this)},n}(LQ),$Q=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.audioTracks)||this).gkt=void 0,r.xTt=void 0,r.Fkt=function(){lB(r._Tt.menuHeader.el(),r.xTt.localize("Language"));for(var t=0,n=r.ATt;t<n.length;t++){var i=n[t];r.CTt(i)}},r.gkt=i,r.xTt=e,lB(r._Tt.menuHeader.el(),r.xTt.localize("Language")),r.xTt.on("languagechange",r.Fkt),r}E(n,t);var i=n.prototype;return i.CTt=function(t){var n=t.T$,i=this.cSt(n);lB(t.el(),this.cSt(n)),t.el().setAttribute("aria-label",this.xTt.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.STt=function(t){for(var n=t.T$,i=0,e=this.gkt.audioTracks;i<e.length;i++){var r=e[i];r!==n&&(r.enabled=!1)}n.enabled=!0},i.bAt=function(){this.xTt.off("languagechange",this.Fkt),t.prototype.bAt.call(this)},n}(GQ),YQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fSt=void 0,e.minimumMenuItems=2,e.fSt=new $Q(e.menu,e.gkt,n),e.controlText("Language"),e.gAt.kAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.fSt.bAt(),t.prototype.dispose.call(this)},n}(oQ);CY.registerComponent("audioTrackButton",YQ);var QQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i.textTracks)||this).gkt=void 0,r.xTt=void 0,r.Fkt=function(){lB(r._Tt.menuHeader.el(),r.xTt.localize("Subtitles"));for(var t=0,n=r.ATt;t<n.length;t++){var i=n[t];r.CTt(i)}},r.gkt=i,r.xTt=e,lB(r._Tt.menuHeader.el(),e.localize("Subtitles")),r.xTt.on("languagechange",r.Fkt),r}E(n,t);var i=n.prototype;return i.ITt=function(n){return!!t.prototype.ITt.call(this,n)&&(!n.forced&&Uk(n.kind))},i.TTt=function(n){var i=this,e=t.prototype.TTt.call(this,n);sr(e.el(),"theo-text-track-menu-item");var r=s.createElement("span");e.W_=r;var u=s.createElement("div");u.className="theo-text-track-menu-item-toggle",e.Fit=u;var o=function(t){return i.lSt(t,e)};e.vSt=o,u.addEventListener("click",o);var a=s.createElement("div");return a.className="theo-text-track-menu-item-toggle-slider",u.appendChild(a),e.el().appendChild(r),e.el().appendChild(u),e},i.CTt=function(t){var n=t,i=n.T$,e=this.cSt(i);lB(n.W_,e),n.el().setAttribute("aria-label",this.xTt.localize("Set the subtitle language to")+" "+e),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Py.Z_)},i.ETt=function(n){var i=n;i.Fit.removeEventListener("click",i.vSt),t.prototype.ETt.call(this,n)},i.STt=function(t){for(var n,i,e=t.T$,r=0,s=this.gkt.textTracks;r<s.length;r++){var u=s[r];u!==e&&(n=u.kind,i=e.kind,Ok(n)&&Ok(i)&&(n===i||n===Pk.rA&&i===Pk.aE||n===Pk.aE&&i===Pk.rA))&&(u.mode=Py.j_)}e.mode!==Py.Z_?e.mode=Py.Z_:e.mode=Py.j_},i.lSt=function(t,n){t.stopImmediatePropagation(),this.STt(n)},i.bAt=function(){this.xTt.off("languagechange",this.Fkt),t.prototype.bAt.call(this)},n}(GQ),ZQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fSt=void 0,e.fSt=new QQ(e.menu,e.gkt,n),e.controlText("Subtitles"),e.gAt.kAt=e.controlText(),e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.fSt.bAt(),t.prototype.dispose.call(this)},n}(oQ);CY.registerComponent("subtitlesButton",ZQ);var KQ,JQ=CY.getComponent("playToggle");!function(t){t.Ef="Pause",t.If="Play",t.dSt="Replay"}(KQ||(KQ={}));var tZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).gAt=void 0,r.Zrt=function(){r.controlText(KQ.dSt),r.gAt.kAt=r.controlText()},r.controlText(KQ.If),r.gAt=new uQ(Jt(r),r.controlText()),r.gkt.addEventListener("ended",r.Zrt),r.on(n,"languagechange",r.Fkt),i.Lr.Gt&&new ZY(r.el()),r}E(n,t);var e=n.prototype;return e.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText(KQ.Ef),this.gAt.kAt=this.controlText()},e.handlePause=function(n){this.gkt.ended||(t.prototype.handlePause.call(this,n),this.controlText(KQ.If),this.gAt.kAt=this.controlText())},e.Fkt=function(){this.gAt.kAt=this.controlText()},e.dispose=function(){this.gAt.bAt(),this.gkt.removeEventListener("ended",this.Zrt),t.prototype.dispose.call(this)},n}(QY(JQ));CY.registerComponent("playToggle",tZ);var nZ,iZ=CY.getComponent("fullscreenToggle");!function(t){t.wSt="Exit fullscreen",t.gSt="Fullscreen"}(nZ||(nZ={}));var eZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).gAt=void 0,r.controlText(nZ.gSt),r.gAt=new uQ(Jt(r),r.controlText()),i.Lr.Gt&&new ZY(r.el()),r.on(n,"languagechange",r.updateContent),r}E(n,t);var e=n.prototype;return e.handleClick=function(n){this.gkt.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},e.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},e.updateContent=function(){var t=this.player().isFullscreen()?nZ.wSt:nZ.gSt;this.controlText(t),this.gAt.kAt=this.controlText()},e.dispose=function(){this.gAt.bAt(),t.prototype.dispose.call(this)},n}(QY(iZ));CY.registerComponent("fullscreenToggle",eZ);var rZ,sZ=CY.getComponent("muteToggle");!function(t){t.mSt="Unmute",t.ySt="Mute"}(rZ||(rZ={}));var uZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).gAt=void 0,r.controlText(rZ.ySt),r.gAt=new uQ(Jt(r),r.controlText()),i.Lr.Gt&&new ZY(r.el()),r.on(n,"languagechange",r.Fkt),_r&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",function(){r.removeClass("vjs-hidden")})),r}E(n,t);var e=n.prototype;return e.update=function(n){t.prototype.update.call(this,n),this.Fkt()},e.Fkt=function(){var t=this.player().muted()?rZ.mSt:rZ.ySt;this.controlText(t),this.gAt.kAt=this.controlText()},e.dispose=function(){this.gAt.bAt(),t.prototype.dispose.call(this)},n}(sZ);CY.registerComponent("muteToggle",uZ);var oZ=CY.getComponent("BigPlayButton"),aZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=CY.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="theo-play-svg-circle" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},n}(oZ);CY.registerComponent("BigPlayButton",aZ);var hZ=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var cZ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pSt=void 0,e._St=void 0,e.bSt=void 0,e.kSt=function(t){return e.ASt(t)},e.TSt=void 0,e.showThumbnails=function(){e.pSt&&(e.pSt.hidden=!1)},e.hideThumbnails=function(){e.pSt&&!e.player().scrubbing()&&(e.pSt.hidden=!0)},e.player().textTracks().on("addtrack",e.kSt),e.player().textTracks().on("removetrack",e.kSt),j.dn&&(e.on(n,"seeking",e.showThumbnails),e.on(n,"seeked",e.hideThumbnails)),e}E(n,t);var e=n.prototype;return e.ASt=function(t){var n=t.track;"removetrack"===t.type&&n===this._St?(this._St=void 0,this.bSt=void 0,this.SSt(),this.TSt=void 0):"addtrack"===t.type&&"metadata"===n.kind&&"thumbnails"===n.label&&(this._St=n,this.bSt=n.src?i.Br(n.src).href:void 0)},e.createEl=function(){var n=t.prototype.createEl.call(this);return this.ESt=CY.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.ISt=CY.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},e.update=function(n,i){if(t.prototype.update.call(this,n,i),this.keepTooltipsInside){var e;if(this._St&&this._St.cues){var r=function(t,n){for(var i=t[0],e=0;e<t.length;e++){var r=t[e];if(r.startTime<=n)i=r;else if(n>=r.endTime)return i}return i}(this._St.cues,n);e=r&&r.content}if(e!==this.TSt)if(this.TSt=e,CY.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!e),e){var s=e.match(hZ);if(s){var u=s[1],o=s[2],a=s[3],h=s[4],c=s[5];u=this.RSt(u);var f={x_:+o,y_:+a,Bk:+h,dT:+c};this.CSt(u,f)}else{var l=this.RSt(e);this.CSt(l)}}else this.SSt()}},e.RSt=function(t){return this._St&&this.bSt?i.Br(t,this.bSt).href:t},e.CSt=function(t,n){var i=this;this.ESt&&(this.ESt.src!==t?(this.ESt.onload=function(){i.DSt(n)},this.ESt.src="",this.ESt.src=t):this.DSt(n))},e.DSt=function(t){if(this.ISt&&this.ESt){var n=this.ISt.getContext("2d");n&&(t=t||{x_:0,y_:0,Bk:this.ESt.naturalWidth,dT:this.ESt.naturalHeight},this.ISt.width=t.Bk,this.ISt.height=t.dT,n.drawImage(this.ESt,t.x_,t.y_,t.Bk,t.dT,0,0,t.Bk,t.dT),this.NSt(this.ISt))}},e.NSt=function(t){this.pSt||(this.tooltip.firstChild?this.tooltip.insertBefore(t,this.tooltip.firstChild):this.tooltip.appendChild(t),this.pSt=t)},e.SSt=function(){this.pSt&&this.tooltip.removeChild(this.pSt),j.dn&&(this.off(this.player(),"seeking",this.showThumbnails),this.off(this.player(),"seeked",this.hideThumbnails)),this.pSt=void 0},n}(kQ);CY.registerComponent("MouseTimeDisplay",cZ);var fZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(CY.getComponent("VolumeLevel"));CY.registerComponent("VolumeLevel",fZ);var lZ=function(t){function n(){return t.apply(this,arguments)||this}E(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(CY.getComponent("Component"));lZ.prototype.Zyt=Ur({},lZ.prototype.Zyt,{children:[]}),CY.registerComponent("controlBarMenuContainer",lZ);var vZ=CY.getComponent("Player"),dZ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).handleKeyPress=function(t){9===t.which&&r.addClass("theo-probably-keyboard-focus")},r.handleClick=function(t){0===t.x&&0===t.y||r.removeClass("theo-probably-keyboard-focus")},s.body.addEventListener("keydown",r.handleKeyPress),s.body.addEventListener("click",r.handleClick),r}return E(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),e=n.parentNode,r=n.nextSibling;t.prototype.dispose.call(this),nr(i),this.Mpt&&e&&(r?e.insertBefore(n,r):e.appendChild(n)),s.body.removeEventListener("keydown",this.handleKeyPress),s.body.removeEventListener("click",this.handleClick)},n}(vZ);dZ.prototype.Zyt=Ur({},vZ.prototype.Zyt,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings"]}),CY.registerComponent("Player",dZ);var wZ=CY.getComponent("Player"),gZ=wZ.prototype.wbt;wZ.prototype.wbt=function(t){if(!(this.apt&&this.apt.Rkt&&this.apt.Rkt()))return gZ.call(this,t)};var mZ,yZ=wZ.prototype.createEl;function pZ(t,n,e,s){var u=Ur({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},e);u.controlBar=Ur({progressControl:{keepTooltipsInside:!0}},u.controlBar);var o,a=u.techOrder||(u.techOrder=[]);(-1===a.indexOf("THEOplayer")&&a.unshift("THEOplayer"),(u.theoplayer||(u.theoplayer={})).player=t,e&&W(e.language))&&(u.languages=Ur({},u.languages,((o={})[Gj]=e.language,o)),u.language=Gj);n.setAttribute("data-vjs-player","");var h,c,f,l=n.getAttribute("style"),v=CY(t.element,u,s);return v.ready(function(){!function(t){t.on("timeupdate",FY),t.on("durationchange",FY)}(v),XY(v,t),function(t){t.on("mouseleave",zY)}(v)}),n.removeAttribute("data-vjs-player"),l?n.setAttribute("style",l):n.removeAttribute("style"),i.Lr.dn&&(sr(n,"theo-mobile"),h=n,c=r.outerHeight,f=r.outerWidth,c>f?(ur(h,"theo-mobile-landscape"),sr(h,"theo-mobile-portrait")):(ur(h,"theo-mobile-portrait"),sr(h,"theo-mobile-landscape"))),function(t){t.on("seeking",function(){rr(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()})}(v),v}function _Z(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).PSt=void 0,r.xSt=void 0,r.BSt=void 0,r.PSt=n,r.BSt=t.prototype.n_.call(Jt(r)),w.defineProperty(r.BSt,"constructor",{value:bD}),r.xSt=pZ(r.BSt,r.PSt,e.ui),r}E(n,t);var i=n.prototype;return i.n_=function(){return t=this.BSt,n=this,wy(w.create(t),{get controls(){return n.Npt},set controls(t){n.Npt=_y(t)},get ui(){return n.xSt}});var t,n},i.xd=function(){t.prototype.xd.call(this),this.xSt.dispose()},i.Wm=function(n){this.xSt.src(""),t.prototype.Wm.call(this,n)},T(n,[{key:"Npt",get:function(){return this.xSt.controls()},set:function(t){this.xSt.controls(t)}}]),n}(t)}function bZ(){return mZ||(mZ=function(t,n){var i=t;if(YC[n])for(var e=0,r=YC[n];e<r.length;e++)i=(0,r[e])(i);return i}(mZ=_Z(_D()),WC.XU)),mZ}function kZ(t){return{get ratio(){return t.OSt},get thresholds(){return t.LSt.slice()}}}function AZ(t){var n=[],i=g.floor(1/t);if(p(i))return[];for(var e=0;e<=i;e++){var r=Ft(e*t,0,1);n.push(r)}return n}wZ.prototype.createEl=function(){var t=yZ.call(this),n=CY.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.npt=n,t};var TZ=function(){function t(t,n,i){this.MSt=1,this.jSt=void 0,this.FSt=void 0,this.$w=void 0,this.jSt=AZ(n);var e=this.USt(i);this.FSt=new r.IntersectionObserver(e,{root:null,threshold:this.jSt}),this.FSt.observe(t)}var n=t.prototype;return n.USt=function(t){var n=this;return function(i){var e=i[i.length-1];n.MSt=e.intersectionRatio,t(e.intersectionRatio)}},n.zm=function(){this.FSt.disconnect()},T(t,[{key:"OSt",get:function(){return this.MSt}},{key:"LSt",get:function(){return this.jSt}},{key:"t_",get:function(){return this.$w||(this.$w=kZ(this)),this.$w}}]),t}(),SZ=function(t){function n(n,i,e){var s;return(s=t.call(this,i,e)||this).HSt=void 0,s.XSt=tt(function(){return s.zSt(s.VSt())},50),s.HSt=n,r.addEventListener("scroll",s.XSt,!!SR&&{passive:!0}),mu(function(){return s.zSt(s.VSt())}),s}E(n,t);var i=n.prototype;return i.VSt=function(){var t=this.HSt.getBoundingClientRect();return Ft(g.max(0,g.min(r.innerWidth,t.right)-g.max(0,t.left))*g.max(0,g.min(r.innerHeight,t.bottom)-g.max(0,t.top))/(t.width*t.height),0,1)},i.zm=function(){r.removeEventListener("scroll",this.XSt)},n}(function(){function t(t,n){this.jSt=void 0,this.WSt=void 0,this.MSt=1,this.qSt=-1,this.$w=void 0,this.jSt=AZ(t),this.WSt=n}return t.prototype.zSt=function(t){this.MSt=t;var n=this.jSt,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.qSt!==i&&(this.qSt=i,this.WSt(t))},T(t,[{key:"OSt",get:function(){return this.MSt}},{key:"LSt",get:function(){return this.jSt}},{key:"t_",get:function(){return this.$w||(this.$w=kZ(this)),this.$w}}]),t}()),EZ=CY.getComponent("Button");var IZ=function(t){function n(n,i){var e;if((e=t.call(this,n,i)||this).GSt=void 0,e.controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.GSt)}(i))throw new l("Invalid Picture-in-picture options.");return e.GSt=i.GSt,e}E(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.GSt.$St()},n}(EZ);CY.registerComponent("THEOPiPCloseButton",IZ);var RZ=.1,CZ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).YSt=void 0,r.ck=void 0,r.QSt=void 0,r.yN=void 0,r.HSt=void 0,r.uY=!1,r.yk=!1,r.ZSt=!1,r.KSt=!1,r.Dm=!1,r.$St=void 0,r.JSt=!1,r.tEt=void 0,r.nEt=void 0,r.iEt=void 0,r.eEt=!1,r.rEt=void 0,r.sEt=function(){r.uY=!0,r.rEt&&!r.Sk&&r.tEt&&r.YSt&&r.tEt.OSt<=r.YSt&&r.jy(!1)},r.uEt=function(){r.QSt||(r.uY=!1,r.Zy(!1))},r.Fkt=function(){if(r.iEt){var t=r.yN.xSt;lB(r.iEt,t.localize("Video playing in Picture-in-Picture mode"))}},r.oEt=function(t){!r.KSt&&r.rEt&&(p(t)||(r.YSt&&t<=r.YSt||r.eEt?r.yk||r.ZSt||r.jy(!1):r.yk?r.Zy(!1):r.ZSt=!1))},r.YSt=i.visibility,r.ck=i.position,r.QSt=i.retainPresentationModeOnSourceChange,r.rEt=void 0!==r.YSt,r.yN=n,r.HSt=n.PSt,r.$St=e,r.Rft(),r}E(n,t);var i=n.prototype;return i.Rft=function(){this.yN.Zs("play",this.sEt),this.QSt||this.yN.Zs("sourcechange",this.uEt),this.yN.xSt.on("languagechange",this.Fkt)},i.aEt=function(){var t=this.ck;if(t)return"theo-pip-"+t},i.jy=function(t){var n=this.HSt;if(n&&!this.hEt){this.Dm||this.cEt(),this.fEt(),sr(n,"theo-pip");var i=this.aEt();i&&sr(n,i),this.yk=!0,this.KSt=t,this.ZSt=!1,this.Qs(new xE(PE.PICTURE_IN_PICTURE))}},i.Zy=function(t){var n=this.HSt;if(n){this.lEt(),ur(n,"theo-pip");var i=this.aEt();i&&ur(n,i),this.yk=!1,this.ZSt=t,this.eEt=this.KSt,this.KSt=!1,this.Qs(new xE(PE.INLINE))}},i.cEt=function(){if(!this.Dm){var t=this.yN.xSt;t.addChild("THEOPiPCloseButton",{GSt:this});var n=s.createElement("div");n.className="theo-pip-overlay",this.iEt=s.createElement("div"),this.iEt.className="theo-pip-overlay-text",lB(this.iEt,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.iEt),t.el().appendChild(n),this.nEt=n,this.Dm=!0}},i.vEt=function(){this.rEt&&!this.JSt&&this.yN.dEt&&(this.tEt=this.yN.dEt.wEt(RZ,this.oEt),this.JSt=!0)},i.gEt=function(){this.tEt&&this.yN.dEt&&(this.yN.dEt.mEt(this.tEt),this.JSt=!1)},i.fEt=function(){var t=this.yN.xSt.contentEl(),n=t.getBoundingClientRect(),i=s.documentElement.clientWidth,e=s.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=e-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.lEt=function(){var t=this.yN.xSt.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.yEt=function(){ur(this.HSt,"theo-pip"),this.Sk&&this.ck&&ur(this.HSt,"theo-pip-"+this.ck),this.nEt&&(nr(this.nEt),this.nEt=void 0)},i.xd=function(){this.yEt(),this.gEt(),this.$s(),this.yN.tu("play",this.sEt),this.yN.tu("sourcechange",this.uEt),this.yN.xSt.off("languagechange",this.Fkt)},T(n,[{key:"Sk",get:function(){return this.yk}},{key:"hEt",get:function(){return this.yN.bC()}}]),n}(zy),DZ=function(){function t(t){this.HSt=void 0,this.pEt=1,this._Et=0,this.bEt=[],this.$w=void 0,this.HSt=t,this.wEt(RZ,this.kEt())}var n=t.prototype;return n.kEt=function(t){var n=this;return function(i){n.pEt=i,null==t||t(n.pEt)}},n.wEt=function(t,n){if(p(t))throw new v("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new TZ(this.HSt,t,this.kEt(n)):new SZ(this.HSt,t,this.kEt(n)),this.bEt.push(i),i},n.mEt=function(t){t.zm(),$s(this.bEt,t)},n.AEt=function(t){for(var n=0,i=this.bEt;n<i.length;n++){var e=i[n];if(e.t_===t)return e}},n.xd=function(){for(var t=0,n=this.bEt;t<n.length;t++){n[t].zm()}Zs(this.bEt)},T(t,[{key:"TEt",get:function(){return this.pEt}},{key:"YSt",get:function(){return this._Et},set:function(t){if(p(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this._Et=t}},{key:"t_",get:function(){var t;return this.$w||(this.$w=(t=this,{get ratio(){return t.TEt},get visible(){return t.TEt>t.YSt},get visibleThreshold(){return t.YSt},set visibleThreshold(n){n=by(n),t.YSt=n},addObserver:function(n,i){return n=by(n),t.wEt(n,i).t_},removeObserver:function(n){var i=t.AEt(n);i&&t.mEt(i)}})),this.$w}}]),t}();QC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).dEt=void 0,e.dEt=new DZ(n),e}E(n,t);var i=n.prototype;return i.n_=function(){var n=this;return wy(t.prototype.n_.call(this),{get visibility(){return n.dEt.t_}})},i.xd=function(){this.dEt&&(this.dEt.xd(),this.dEt=void 0),t.prototype.xd.call(this)},n}(t)},VC.UU),ZC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).dEt=void 0,r.dEt=new DZ(n),r}E(n,t);var i=n.prototype;return i.n_=function(){var n=this;return wy(t.prototype.n_.call(this),{get visibility(){return n.dEt.t_}})},i.xd=function(){this.dEt&&(this.dEt.xd(),this.dEt=void 0),t.prototype.xd.call(this)},n}(t)},WC.XU);var NZ=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).EN=void 0,r.SEt=void 0,r.EEt=function(){return r.sP()},r.$St=function(){return r.oP(PE.INLINE)},r.IEt=function(){r.uP()!==PE.FULLSCREEN&&r.SEt.vEt(),r.EN.tu("play",r.IEt)},r.EN=n,r.SEt=new CZ(n,e.pip,r.$St),r.SEt.Zs("presentationmodechange",r.EEt),r.EN.Zs("play",r.IEt),r.sP(),r}E(n,t);var i=n.prototype;return i.uP=function(){var n=t.prototype.uP.call(this);return n===PE.INLINE&&this.SEt&&this.SEt.Sk?PE.PICTURE_IN_PICTURE:n},i.aP=function(n){switch(n){case PE.PICTURE_IN_PICTURE:return!0;default:return t.prototype.aP.call(this,n)}},i.hP=function(n,i){n===PE.FULLSCREEN&&this.SEt.gEt(),t.prototype.hP.call(this,n,i),n!==PE.FULLSCREEN&&this.SEt.vEt()},i.cP=function(n,i){n!==i&&(n===PE.FULLSCREEN&&this.SEt.Zy(!1),n===PE.INLINE&&i===PE.PICTURE_IN_PICTURE&&this.SEt.Zy(!0),t.prototype.cP.call(this,n,i),n===PE.PICTURE_IN_PICTURE&&(i===PE.INLINE?this.SEt.jy(!0):this.SEt.jy(!1)))},i.xd=function(){t.prototype.xd.call(this),this.SEt.xd()},n}(ME),PZ=function(t){function n(n,i){var e;return(e=t.call(this)||this).xSt=void 0,e.REt=void 0,e.ykt=!1,e.CEt=!1,e.vx=!1,e.DEt=function(){if(!e.vx){var t=e.ykt,n=e.bC;t!==n&&(e.ykt=n,e.Qs(new PR))}},e.NEt=function(){e.CEt=e.REt.bC,e.DEt()},e.PEt=function(){e.vx||(e.xSt.isFullWindow&&e.xSt.supportsFullScreen()||e.CEt&&!e.xSt.supportsFullScreen())&&(e.vx=!0,e.xSt.exitFullscreen(),e.xSt.requestFullscreen(),e.vx=!1,e.DEt())},e.xSt=n,e.REt=i,e.xSt.on("fullscreenchange",e.DEt),e.REt.Zs(cE.l_,e.NEt),e.REt.Zs(cE.kC,e.PEt),e.REt.Zs(cE.K_,e.js),e.DEt(),e}E(n,t);var i=n.prototype;return i.jy=function(){this.xSt.requestFullscreen()},i.Zy=function(){this.xSt.exitFullscreen(),this.REt.Zy()},i.xd=function(){this.$s(),this.xSt.off("fullscreenchange",this.DEt),this.REt.tu(cE.l_,this.DEt),this.REt.tu(cE.K_,this.js)},T(n,[{key:"pC",get:function(){return OR.tx(this.xSt.el())||this.xSt.supportsFullScreen()}},{key:"bC",get:function(){return this.xSt.isFullscreen()||this.CEt}}]),n}(Tu);ZC(function(t){return function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).xEt=void 0,r.BEt=void 0,r.BEt=new PZ(r.xSt,r.YD),r.xEt=new NZ(Jt(r),r.BEt,e),r.xEt.Zs("presentationmodechange",r.js),r}E(n,t);var i=n.prototype;return i.bC=function(){return"fullscreen"===this.xEt.uP()},i.n_=function(){var n=this.xEt;return wy(t.prototype.n_.call(this),{get presentation(){return n.t_},get presentationMode(){return n.t_.currentMode},set presentationMode(t){n.t_.requestMode(t)}})},i.xd=function(){this.xEt.xd(),this.BEt.xd(),t.prototype.xd.call(this)},n}(t)},WC.XU);var xZ=function(t){function n(n,e){var r;return(r=t.call(this,n,e)||this).HSt=void 0,r.me=void 0,r.gAt=void 0,r.HSt=n.el(),r.me=GE.UNAVAILABLE,r.controlText("Unavailable"),r.gAt=new uQ(Jt(r),r.controlText()),r.OEt.addEventListener("statechange",function(t){var n=t;r.Myt(n.state)}),i.Lr.Gt&&new ZY(r.el()),r.Myt(r.OEt.state),r.on(n,"languagechange",r.Fkt),r}E(n,t);var e=n.prototype;return e.buildCSSClass=function(){return"theo-cast-button theo-"+this.LEt+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},e.createEl=function(n,i,e){var r=t.prototype.createEl.call(this),u=s.createElement("div");u.className="theo-button-icon-blur";var o=s.createElement("div");return o.className="theo-cast-svg-container",o.innerHTML=this.MEt,r.appendChild(u),r.appendChild(o),r},e.handleClick=function(n){t.prototype.handleClick.call(this,n),this.me===GE.AVAILABLE?this.OEt.start():this.me!==GE.CONNECTED&&this.me!==GE.CONNECTING||this.OEt.stop()},e.Myt=function(t){ur(this.HSt,"theo-"+this.LEt+"-"+this.me),this.me=t,sr(this.HSt,"theo-"+this.LEt+"-"+this.me),this.Fkt()},e.Fkt=function(){this.jEt(this.me),this.gAt.kAt=this.controlText()},e.jEt=function(t){t===GE.CONNECTED?this.controlText("Stop Casting"):t===GE.AVAILABLE?this.controlText("Start Casting"):t===GE.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},T(n,[{key:"OEt",get:function(){throw new l("FEt")}},{key:"MEt",get:function(){return this.Zyt.MEt}},{key:"LEt",get:function(){return this.Zyt.LEt}}]),n}(QY(CY.getComponent("Button"))),BZ='\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>',OZ=function(t){function n(n,i){var e,r,s;return(s=t.call(this,n,Ur({},i,{LEt:"airplay",MEt:BZ}))||this).UEt=function(){s.enable()},s.HEt=function(){s.disable()},null==(e=s.gkt.ads)||e.addEventListener("adbreakbegin",s.HEt),null==(r=s.gkt.ads)||r.addEventListener("adbreakend",s.UEt),s.gkt.addEventListener("currentsourcechange",s.UEt),s}return E(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.gkt.ads)||n.removeEventListener("adbreakbegin",this.HEt),null==(i=this.gkt.ads)||i.removeEventListener("adbreakend",this.UEt),this.gkt.removeEventListener("currentsourcechange",this.UEt),t.prototype.dispose.call(this)},T(n,[{key:"OEt",get:function(){return this.gkt.cast.airplay}}]),n}(xZ);CY.registerComponent("airplayButton",OZ),QC(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).mct=new eW,e.Zs("presentationmodechange",function(t){t.presentationMode===PE.FULLSCREEN?e.enterFullscreen():e.exitFullscreen()}),e}E(n,t);var i=n.prototype;return i.enterFullscreen=function(){this.mct.cK("THEOplayerFullscreen","true")},i.exitFullscreen=function(){this.mct.cK("THEOplayerFullscreen","false")},n}(t)},VC.UU),n.ChromelessPlayer=bD,n.Player=function t(n,i){var e=function(t){var n=t=Lp(t);return n.ui=n.ui||{},void 0!==t.width&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==t.height&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==t.fluid&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=NE(n.pip),n}(i),r=s.createElement("div");r.style.position="absolute",n.appendChild(r);var u=new(bZ())(n,r,e),o=u.t_;return u.NU(),u.bX(aD),w.defineProperty(o,"constructor",{value:t}),o=dy(o),iD(u),function(t){for(var n=0;n<tD.length;n++)(0,tD[n])(t)}(u),o},n.cache=T$,n.createGlobals=PV,n.features=TD,n.getCueMirrorMap=DV,n.getGlobalId=NV,n.getSdkEventBridge=CV,n.playerSuiteVersion="2022.4.0",n.players=SD,n.registerContentProtectionIntegration=ED,n.utils=AD,n.version="4.2.0",n.videojs=CY,w.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
